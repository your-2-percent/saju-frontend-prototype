function $k(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zm(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var sw={exports:{}},wh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN;function FF(){if(RN)return wh;RN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return wh.Fragment=t,wh.jsx=n,wh.jsxs=n,wh}var LN;function HF(){return LN||(LN=1,sw.exports=FF()),sw.exports}var x=HF();const w3="harim.theme",BS="harim.settings.v1";function S3(){try{const e=localStorage.getItem(w3);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(BS);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function E3(e){try{localStorage.setItem(w3,e);const t=localStorage.getItem(BS),n=t?JSON.parse(t):{};localStorage.setItem(BS,JSON.stringify({...n,theme:e}))}catch{}}function k3(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=S3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");k3(e)}catch{}})();var lw={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN;function GF(){if(IN)return rt;IN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function T(B,W,ae){this.props=B,this.context=W,this.refs=S,this.updater=ae||w}T.prototype.isReactComponent={},T.prototype.setState=function(B,W){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,W,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=T.prototype;function O(B,W,ae){this.props=B,this.context=W,this.refs=S,this.updater=ae||w}var P=O.prototype=new N;P.constructor=O,_(P,T.prototype),P.isPureReactComponent=!0;var M=Array.isArray;function D(){}var $={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function q(B,W,ae){var V=ae.ref;return{$$typeof:e,type:B,key:W,ref:V!==void 0?V:null,props:ae}}function K(B,W){return q(B.type,W,B.props)}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function z(B){var W={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ae){return W[ae]})}var Z=/\/+/g;function Q(B,W){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):W.toString(36)}function J(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(D,D):(B.status="pending",B.then(function(W){B.status==="pending"&&(B.status="fulfilled",B.value=W)},function(W){B.status==="pending"&&(B.status="rejected",B.reason=W)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Y(B,W,ae,V,oe){var me=typeof B;(me==="undefined"||me==="boolean")&&(B=null);var pe=!1;if(B===null)pe=!0;else switch(me){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(B.$$typeof){case e:case t:pe=!0;break;case m:return pe=B._init,Y(pe(B._payload),W,ae,V,oe)}}if(pe)return oe=oe(B),pe=V===""?"."+Q(B,0):V,M(oe)?(ae="",pe!=null&&(ae=pe.replace(Z,"$&/")+"/"),Y(oe,W,ae,"",function(Oe){return Oe})):oe!=null&&(F(oe)&&(oe=K(oe,ae+(oe.key==null||B&&B.key===oe.key?"":(""+oe.key).replace(Z,"$&/")+"/")+pe)),W.push(oe)),1;pe=0;var be=V===""?".":V+":";if(M(B))for(var ne=0;ne<B.length;ne++)V=B[ne],me=be+Q(V,ne),pe+=Y(V,W,ae,me,oe);else if(ne=v(B),typeof ne=="function")for(B=ne.call(B),ne=0;!(V=B.next()).done;)V=V.value,me=be+Q(V,ne++),pe+=Y(V,W,ae,me,oe);else if(me==="object"){if(typeof B.then=="function")return Y(J(B),W,ae,V,oe);throw W=String(B),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return pe}function X(B,W,ae){if(B==null)return B;var V=[],oe=0;return Y(B,V,"","",function(me){return W.call(ae,me,oe++)}),V}function re(B){if(B._status===-1){var W=B._result;W=W(),W.then(function(ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=ae)},function(ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=ae)}),B._status===-1&&(B._status=0,B._result=W)}if(B._status===1)return B._result.default;throw B._result}var ue=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},se={map:X,forEach:function(B,W,ae){X(B,function(){W.apply(this,arguments)},ae)},count:function(B){var W=0;return X(B,function(){W++}),W},toArray:function(B){return X(B,function(W){return W})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return rt.Activity=p,rt.Children=se,rt.Component=T,rt.Fragment=n,rt.Profiler=i,rt.PureComponent=O,rt.StrictMode=r,rt.Suspense=u,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,rt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return $.H.useMemoCache(B)}},rt.cache=function(B){return function(){return B.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(B,W,ae){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var V=_({},B.props),oe=B.key;if(W!=null)for(me in W.key!==void 0&&(oe=""+W.key),W)!H.call(W,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&W.ref===void 0||(V[me]=W[me]);var me=arguments.length-2;if(me===1)V.children=ae;else if(1<me){for(var pe=Array(me),be=0;be<me;be++)pe[be]=arguments[be+2];V.children=pe}return q(B.type,oe,V)},rt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},rt.createElement=function(B,W,ae){var V,oe={},me=null;if(W!=null)for(V in W.key!==void 0&&(me=""+W.key),W)H.call(W,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(oe[V]=W[V]);var pe=arguments.length-2;if(pe===1)oe.children=ae;else if(1<pe){for(var be=Array(pe),ne=0;ne<pe;ne++)be[ne]=arguments[ne+2];oe.children=be}if(B&&B.defaultProps)for(V in pe=B.defaultProps,pe)oe[V]===void 0&&(oe[V]=pe[V]);return q(B,me,oe)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(B){return{$$typeof:c,render:B}},rt.isValidElement=F,rt.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:re}},rt.memo=function(B,W){return{$$typeof:f,type:B,compare:W===void 0?null:W}},rt.startTransition=function(B){var W=$.T,ae={};$.T=ae;try{var V=B(),oe=$.S;oe!==null&&oe(ae,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(D,ue)}catch(me){ue(me)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),$.T=W}},rt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},rt.use=function(B){return $.H.use(B)},rt.useActionState=function(B,W,ae){return $.H.useActionState(B,W,ae)},rt.useCallback=function(B,W){return $.H.useCallback(B,W)},rt.useContext=function(B){return $.H.useContext(B)},rt.useDebugValue=function(){},rt.useDeferredValue=function(B,W){return $.H.useDeferredValue(B,W)},rt.useEffect=function(B,W){return $.H.useEffect(B,W)},rt.useEffectEvent=function(B){return $.H.useEffectEvent(B)},rt.useId=function(){return $.H.useId()},rt.useImperativeHandle=function(B,W,ae){return $.H.useImperativeHandle(B,W,ae)},rt.useInsertionEffect=function(B,W){return $.H.useInsertionEffect(B,W)},rt.useLayoutEffect=function(B,W){return $.H.useLayoutEffect(B,W)},rt.useMemo=function(B,W){return $.H.useMemo(B,W)},rt.useOptimistic=function(B,W){return $.H.useOptimistic(B,W)},rt.useReducer=function(B,W,ae){return $.H.useReducer(B,W,ae)},rt.useRef=function(B){return $.H.useRef(B)},rt.useState=function(B){return $.H.useState(B)},rt.useSyncExternalStore=function(B,W,ae){return $.H.useSyncExternalStore(B,W,ae)},rt.useTransition=function(){return $.H.useTransition()},rt.version="19.2.1",rt}var $N;function Xd(){return $N||($N=1,lw.exports=GF()),lw.exports}var E=Xd();const Wt=ui(E),qF=$k({__proto__:null,default:Wt},[E]);var cw={exports:{}},Sh={},uw={exports:{}},dw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BN;function YF(){return BN||(BN=1,(function(e){function t(Y,X){var re=Y.length;Y.push(X);e:for(;0<re;){var ue=re-1>>>1,se=Y[ue];if(0<i(se,X))Y[ue]=X,Y[re]=se,re=ue;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var X=Y[0],re=Y.pop();if(re!==X){Y[0]=re;e:for(var ue=0,se=Y.length,B=se>>>1;ue<B;){var W=2*(ue+1)-1,ae=Y[W],V=W+1,oe=Y[V];if(0>i(ae,re))V<se&&0>i(oe,ae)?(Y[ue]=oe,Y[V]=re,ue=V):(Y[ue]=ae,Y[W]=re,ue=W);else if(V<se&&0>i(oe,re))Y[ue]=oe,Y[V]=re,ue=V;else break e}}return X}function i(Y,X){var re=Y.sortIndex-X.sortIndex;return re!==0?re:Y.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],f=[],m=1,p=null,g=3,v=!1,w=!1,_=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(Y){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=Y)r(f),X.sortIndex=X.expirationTime,t(u,X);else break;X=n(f)}}function M(Y){if(_=!1,P(Y),!w)if(n(u)!==null)w=!0,D||(D=!0,z());else{var X=n(f);X!==null&&J(M,X.startTime-Y)}}var D=!1,$=-1,H=5,q=-1;function K(){return S?!0:!(e.unstable_now()-q<H)}function F(){if(S=!1,D){var Y=e.unstable_now();q=Y;var X=!0;try{e:{w=!1,_&&(_=!1,N($),$=-1),v=!0;var re=g;try{t:{for(P(Y),p=n(u);p!==null&&!(p.expirationTime>Y&&K());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var se=ue(p.expirationTime<=Y);if(Y=e.unstable_now(),typeof se=="function"){p.callback=se,P(Y),X=!0;break t}p===n(u)&&r(u),P(Y)}else r(u);p=n(u)}if(p!==null)X=!0;else{var B=n(f);B!==null&&J(M,B.startTime-Y),X=!1}}break e}finally{p=null,g=re,v=!1}X=void 0}}finally{X?z():D=!1}}}var z;if(typeof O=="function")z=function(){O(F)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Q=Z.port2;Z.port1.onmessage=F,z=function(){Q.postMessage(null)}}else z=function(){T(F,0)};function J(Y,X){$=T(function(){Y(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var re=g;g=X;try{return Y()}finally{g=re}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(Y,X){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=g;g=Y;try{return X()}finally{g=re}},e.unstable_scheduleCallback=function(Y,X,re){var ue=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ue+re:ue):re=ue,Y){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=re+se,Y={id:m++,callback:X,priorityLevel:Y,startTime:re,expirationTime:se,sortIndex:-1},re>ue?(Y.sortIndex=re,t(f,Y),n(u)===null&&Y===n(f)&&(_?(N($),$=-1):_=!0,J(M,re-ue))):(Y.sortIndex=se,t(u,Y),w||v||(w=!0,D||(D=!0,z()))),Y},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(Y){var X=g;return function(){var re=g;g=X;try{return Y.apply(this,arguments)}finally{g=re}}}})(dw)),dw}var zN;function KF(){return zN||(zN=1,uw.exports=YF()),uw.exports}var fw={exports:{}},Sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN;function WF(){if(UN)return Sr;UN=1;var e=Xd();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:m}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sr.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(u,f,null,m)},Sr.flushSync=function(u){var f=o.T,m=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=m,r.d.f()}},Sr.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Sr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Sr.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):m==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Sr.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Sr.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(u,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Sr.preloadModule=function(u,f){if(typeof u=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Sr.requestFormReset=function(u){r.d.r(u)},Sr.unstable_batchedUpdates=function(u,f){return u(f)},Sr.useFormState=function(u,f,m){return o.H.useFormState(u,f,m)},Sr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Sr.version="19.2.1",Sr}var FN;function A3(){if(FN)return fw.exports;FN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fw.exports=WF(),fw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HN;function VF(){if(HN)return Sh;HN=1;var e=KF(),t=Xd(),n=A3();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,b=l;;){var A=h.return;if(A===null)break;var j=A.alternate;if(j===null){if(b=A.return,b!==null){h=b;continue}break}if(A.child===j.child){for(j=A.child;j;){if(j===h)return u(A),s;if(j===b)return u(A),l;j=j.sibling}throw Error(r(188))}if(h.return!==b.return)h=A,b=j;else{for(var I=!1,G=A.child;G;){if(G===h){I=!0,h=A,b=j;break}if(G===b){I=!0,b=A,h=j;break}G=G.sibling}if(!I){for(G=j.child;G;){if(G===h){I=!0,h=j,b=A;break}if(G===b){I=!0,b=j,h=A;break}G=G.sibling}if(!I)throw Error(r(189))}}if(h.alternate!==b)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function m(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=m(s),l!==null)return l;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Symbol.for("react.client.reference");function Q(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case O:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case P:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return l=s.displayName||null,l!==null?l:Q(s.type)||"Memo";case H:l=s._payload,s=s._init;try{return Q(s(l))}catch{}}return null}var J=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ue=[],se=-1;function B(s){return{current:s}}function W(s){0>se||(s.current=ue[se],ue[se]=null,se--)}function ae(s,l){se++,ue[se]=s.current,s.current=l}var V=B(null),oe=B(null),me=B(null),pe=B(null);function be(s,l){switch(ae(me,l),ae(oe,s),ae(V,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?iN(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=iN(l),s=aN(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(V),ae(V,s)}function ne(){W(V),W(oe),W(me)}function Oe(s){s.memoizedState!==null&&ae(pe,s);var l=V.current,h=aN(l,s.type);l!==h&&(ae(oe,s),ae(V,h))}function Ce(s){oe.current===s&&(W(V),W(oe)),pe.current===s&&(W(pe),bh._currentValue=re)}var ve,Ze;function Ne(s){if(ve===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);ve=l&&l[1]||"",Ze=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+s+Ze}var _e=!1;function je(s,l){if(!s||_e)return"";_e=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(l){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(xe){var ye=xe}Reflect.construct(s,[],Te)}else{try{Te.call()}catch(xe){ye=xe}s.call(Te.prototype)}}else{try{throw Error()}catch(xe){ye=xe}(Te=s())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(xe){if(xe&&ye&&typeof xe.stack=="string")return[xe.stack,ye.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=b.DetermineComponentFrameRoot(),I=j[0],G=j[1];if(I&&G){var te=I.split(`
`),he=G.split(`
`);for(A=b=0;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;for(;A<he.length&&!he[A].includes("DetermineComponentFrameRoot");)A++;if(b===te.length||A===he.length)for(b=te.length-1,A=he.length-1;1<=b&&0<=A&&te[b]!==he[A];)A--;for(;1<=b&&0<=A;b--,A--)if(te[b]!==he[A]){if(b!==1||A!==1)do if(b--,A--,0>A||te[b]!==he[A]){var Ee=`
`+te[b].replace(" at new "," at ");return s.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",s.displayName)),Ee}while(1<=b&&0<=A);break}}}finally{_e=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Ne(h):""}function Ie(s,l){switch(s.tag){case 26:case 27:case 5:return Ne(s.type);case 16:return Ne("Lazy");case 13:return s.child!==l&&l!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return je(s.type,!1);case 11:return je(s.type.render,!1);case 1:return je(s.type,!0);case 31:return Ne("Activity");default:return""}}function Ve(s){try{var l="",h=null;do l+=Ie(s,h),h=s,s=s.return;while(s);return l}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var bt=Object.prototype.hasOwnProperty,xt=e.unstable_scheduleCallback,Pt=e.unstable_cancelCallback,fe=e.unstable_shouldYield,Me=e.unstable_requestPaint,Be=e.unstable_now,lt=e.unstable_getCurrentPriorityLevel,jt=e.unstable_ImmediatePriority,yt=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,hi=e.unstable_LowPriority,mi=e.unstable_IdlePriority,Cs=e.log,Ms=e.unstable_setDisableYieldValue,qt=null,hn=null;function pi(s){if(typeof Cs=="function"&&Ms(s),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(qt,s)}catch{}}var Or=Math.clz32?Math.clz32:hx,Ll=Math.log,fx=Math.LN2;function hx(s){return s>>>=0,s===0?32:31-(Ll(s)/fx|0)|0}var Il=256,$l=262144,Bl=4194304;function No(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function cu(s,l,h){var b=s.pendingLanes;if(b===0)return 0;var A=0,j=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var G=b&134217727;return G!==0?(b=G&~j,b!==0?A=No(b):(I&=G,I!==0?A=No(I):h||(h=G&~s,h!==0&&(A=No(h))))):(G=b&~j,G!==0?A=No(G):I!==0?A=No(I):h||(h=b&~s,h!==0&&(A=No(h)))),A===0?0:l!==0&&l!==A&&(l&j)===0&&(j=A&-A,h=l&-l,j>=h||j===32&&(h&4194048)!==0)?l:A}function zl(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function mx(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ep(){var s=Bl;return Bl<<=1,(Bl&62914560)===0&&(Bl=4194304),s}function xf(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function Co(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function px(s,l,h,b,A,j){var I=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,he=s.hiddenUpdates;for(h=I&~h;0<h;){var Ee=31-Or(h),Te=1<<Ee;G[Ee]=0,te[Ee]=-1;var ye=he[Ee];if(ye!==null)for(he[Ee]=null,Ee=0;Ee<ye.length;Ee++){var xe=ye[Ee];xe!==null&&(xe.lane&=-536870913)}h&=~Te}b!==0&&kp(s,b,0),j!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=j&~(I&~l))}function kp(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var b=31-Or(l);s.entangledLanes|=l,s.entanglements[b]=s.entanglements[b]|1073741824|h&261930}function Ap(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var b=31-Or(h),A=1<<b;A&l|s[b]&l&&(s[b]|=l),h&=~A}}function Tp(s,l){var h=l&-l;return h=(h&42)!==0?1:Fr(h),(h&(s.suspendedLanes|l))!==0?0:h}function Fr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function He(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function _f(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:ON(s.type))}function wf(s,l){var h=X.p;try{return X.p=s,l()}finally{X.p=h}}var va=Math.random().toString(36).slice(2),An="__reactFiber$"+va,Xn="__reactProps$"+va,Mo="__reactContainer$"+va,Ka="__reactEvents$"+va,Op="__reactListeners$"+va,gx="__reactHandles$"+va,jp="__reactResources$"+va,Ul="__reactMarker$"+va;function Sf(s){delete s[An],delete s[Xn],delete s[Ka],delete s[Op],delete s[gx]}function Po(s){var l=s[An];if(l)return l;for(var h=s.parentNode;h;){if(l=h[Mo]||h[An]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=fN(s);s!==null;){if(h=s[An])return h;s=fN(s)}return l}s=h,h=s.parentNode}return null}function Ps(s){if(s=s[An]||s[Mo]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Wa(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Ds(s){var l=s[jp];return l||(l=s[jp]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Tn(s){s[Ul]=!0}var Np=new Set,Cp={};function Do(s,l){Va(s,l),Va(s+"Capture",l)}function Va(s,l){for(Cp[s]=l,s=0;s<l.length;s++)Np.add(l[s])}var Fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ef={},kf={};function Hl(s){return bt.call(kf,s)?!0:bt.call(Ef,s)?!1:Fl.test(s)?kf[s]=!0:(Ef[s]=!0,!1)}function ct(s,l,h){if(Hl(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var b=l.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function It(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function Hr(s,l,h,b){if(b===null)s.removeAttribute(h);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+b)}}function In(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ro(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Af(s,l,h){var b=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var A=b.get,j=b.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return A.call(this)},set:function(I){h=""+I,j.call(this,I)}}),Object.defineProperty(s,l,{enumerable:b.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function nt(s){if(!s._valueTracker){var l=Ro(s)?"checked":"value";s._valueTracker=Af(s,l,""+s[l])}}function en(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),b="";return s&&(b=Ro(s)?s.checked?"true":"false":s.value),s=b,s!==h?(l.setValue(s),!0):!1}function Rs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var uu=/[\n"\\]/g;function Zt(s){return s.replace(uu,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Tf(s,l,h,b,A,j,I,G){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),l!=null?I==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+In(l)):s.value!==""+In(l)&&(s.value=""+In(l)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),l!=null?xa(s,I,In(l)):h!=null?xa(s,I,In(h)):b!=null&&s.removeAttribute("value"),A==null&&j!=null&&(s.defaultChecked=!!j),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+In(G):s.removeAttribute("name")}function Gl(s,l,h,b,A,j,I,G){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(s.type=j),l!=null||h!=null){if(!(j!=="submit"&&j!=="reset"||l!=null)){nt(s);return}h=h!=null?""+In(h):"",l=l!=null?""+In(l):h,G||l===s.value||(s.value=l),s.defaultValue=l}b=b??A,b=typeof b!="function"&&typeof b!="symbol"&&!!b,s.checked=G?s.checked:!!b,s.defaultChecked=!!b,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),nt(s)}function xa(s,l,h){l==="number"&&Rs(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function Ut(s,l,h,b){if(s=s.options,l){l={};for(var A=0;A<h.length;A++)l["$"+h[A]]=!0;for(h=0;h<s.length;h++)A=l.hasOwnProperty("$"+s[h].value),s[h].selected!==A&&(s[h].selected=A),A&&b&&(s[h].defaultSelected=!0)}else{for(h=""+In(h),l=null,A=0;A<s.length;A++){if(s[A].value===h){s[A].selected=!0,b&&(s[A].defaultSelected=!0);return}l!==null||s[A].disabled||(l=s[A])}l!==null&&(l.selected=!0)}}function Za(s,l,h){if(l!=null&&(l=""+In(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+In(h):""}function Ls(s,l,h,b){if(l==null){if(b!=null){if(h!=null)throw Error(r(92));if(J(b)){if(1<b.length)throw Error(r(93));b=b[0]}h=b}h==null&&(h=""),l=h}h=In(l),s.defaultValue=h,b=s.textContent,b===h&&b!==""&&b!==null&&(s.value=b),nt(s)}function Gi(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Of=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Is(s,l,h){var b=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?b?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":b?s.setProperty(l,h):typeof h!="number"||h===0||Of.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function du(s,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,h!=null){for(var b in h)!h.hasOwnProperty(b)||l!=null&&l.hasOwnProperty(b)||(b.indexOf("--")===0?s.setProperty(b,""):b==="float"?s.cssFloat="":s[b]="");for(var A in l)b=l[A],l.hasOwnProperty(A)&&h[A]!==b&&Is(s,A,b)}else for(var j in l)l.hasOwnProperty(j)&&Is(s,j,l[j])}function ql(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(s){return jf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Gr(){}var hu=null;function Yl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Bs=null,tt=null;function gi(s){var l=Ps(s);if(l&&(s=l.stateNode)){var h=s[Xn]||null;e:switch(s=l.stateNode,l.type){case"input":if(Tf(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Zt(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var b=h[l];if(b!==s&&b.form===s.form){var A=b[Xn]||null;if(!A)throw Error(r(90));Tf(b,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(l=0;l<h.length;l++)b=h[l],b.form===s.form&&en(b)}break e;case"textarea":Za(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&Ut(s,!!h.multiple,l,!1)}}}var Nt=!1;function Nf(s,l,h){if(Nt)return s(l,h);Nt=!0;try{var b=s(l);return b}finally{if(Nt=!1,(Bs!==null||tt!==null)&&(Tg(),Bs&&(l=Bs,s=tt,tt=Bs=null,gi(l),s)))for(l=0;l<s.length;l++)gi(s[l])}}function Lo(s,l){var h=s.stateNode;if(h===null)return null;var b=h[Xn]||null;if(b===null)return null;h=b[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(s=s.type,b=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!b;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=!1;if(yi)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{Kl=!1}var qi=null,Io=null,mn=null;function Xa(){if(mn)return mn;var s,l=Io,h=l.length,b,A="value"in qi?qi.value:qi.textContent,j=A.length;for(s=0;s<h&&l[s]===A[s];s++);var I=h-s;for(b=1;b<=I&&l[h-b]===A[j-b];b++);return mn=A.slice(s,1<b?1-b:void 0)}function Wl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Vl(){return!0}function Mp(){return!1}function cr(s){function l(h,b,A,j,I){this._reactName=h,this._targetInst=A,this.type=b,this.nativeEvent=j,this.target=I,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(h=s[G],this[G]=h?h(j):j[G]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Vl:Mp,this.isPropagationStopped=Mp,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),l}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=cr(_a),zs=p({},_a,{view:0,detail:0}),ht=cr(zs),Cf,jr,wa,Zl=p({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wa&&(wa&&s.type==="mousemove"?(Cf=s.screenX-wa.screenX,jr=s.screenY-wa.screenY):jr=Cf=0,wa=s),Cf)},movementY:function(s){return"movementY"in s?s.movementY:jr}}),Pp=cr(Zl),Mf=p({},Zl,{dataTransfer:0}),yx=cr(Mf),Dp=p({},zs,{relatedTarget:0}),Pf=cr(Dp),bx=p({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),Df=cr(bx),vx=p({},_a,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Yi=cr(vx),xx=p({},_a,{data:0}),Rf=cr(xx),Ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lf(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Lp[s])?!!l[s]:!1}function If(){return Lf}var Ip=p({},zs,{key:function(s){if(s.key){var l=Ja[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Wl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Rp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(s){return s.type==="keypress"?Wl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),$p=cr(Ip),_x=p({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bp=cr(_x),$f=p({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),wx=cr($f),zp=p({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Up=cr(zp),pu=p({},Zl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$o=cr(pu),Sx=p({},_a,{newState:0,oldState:0}),Xl=cr(Sx),qr=[9,13,27,32],gu=yi&&"CompositionEvent"in window,Us=null;yi&&"documentMode"in document&&(Us=document.documentMode);var Ex=yi&&"TextEvent"in window&&!Us,yu=yi&&(!gu||Us&&8<Us&&11>=Us),bu=" ",Fp=!1;function Hp(s,l){switch(s){case"keyup":return qr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fs=!1;function vi(s,l){switch(s){case"compositionend":return Bf(l);case"keypress":return l.which!==32?null:(Fp=!0,bu);case"textInput":return s=l.data,s===bu&&Fp?null:s;default:return null}}function Hs(s,l){if(Fs)return s==="compositionend"||!gu&&Hp(s,l)?(s=Xa(),mn=Io=qi=null,Fs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return yu&&l.locale!=="ko"?null:l.data;default:return null}}var kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ki(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!kx[s.type]:l==="textarea"}function Gp(s,l,h,b){Bs?tt?tt.push(b):tt=[b]:Bs=b,l=Dg(l,"onChange"),0<l.length&&(h=new mu("onChange","change",null,h,b),s.push({event:h,listeners:l}))}var Wi=null,Jl=null;function Ql(s){Jj(s,0)}function ec(s){var l=Wa(s);if(en(l))return s}function tc(s,l){if(s==="change")return l}var qp=!1;if(yi){var Vi;if(yi){var Gs="oninput"in document;if(!Gs){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),Gs=typeof Yp.oninput=="function"}Vi=Gs}else Vi=!1;qp=Vi&&(!document.documentMode||9<document.documentMode)}function vu(){Wi&&(Wi.detachEvent("onpropertychange",Kp),Jl=Wi=null)}function Kp(s){if(s.propertyName==="value"&&ec(Jl)){var l=[];Gp(l,Jl,s,Yl(s)),Nf(Ql,l)}}function Sa(s,l,h){s==="focusin"?(vu(),Wi=l,Jl=h,Wi.attachEvent("onpropertychange",Kp)):s==="focusout"&&vu()}function Ax(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ec(Jl)}function qs(s,l){if(s==="click")return ec(l)}function Tx(s,l){if(s==="input"||s==="change")return ec(l)}function Ea(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Jn=typeof Object.is=="function"?Object.is:Ea;function Ys(s,l){if(Jn(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),b=Object.keys(l);if(h.length!==b.length)return!1;for(b=0;b<h.length;b++){var A=h[b];if(!bt.call(l,A)||!Jn(s[A],l[A]))return!1}return!0}function xu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nc(s,l){var h=xu(s);s=0;for(var b;h;){if(h.nodeType===3){if(b=s+h.textContent.length,s<=l&&b>=l)return{node:h,offset:l-s};s=b}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=xu(h)}}function _u(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?_u(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function rc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Rs(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=Rs(s.document)}return l}function Qa(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var wu=yi&&"documentMode"in document&&11>=document.documentMode,eo=null,Su=null,ic=null,Ks=!1;function Wp(s,l,h){var b=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ks||eo==null||eo!==Rs(b)||(b=eo,"selectionStart"in b&&Qa(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),ic&&Ys(ic,b)||(ic=b,b=Dg(Su,"onSelect"),0<b.length&&(l=new mu("onSelect","select",null,l,h),s.push({event:l,listeners:b}),l.target=eo)))}function to(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var Ws={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionrun:to("Transition","TransitionRun"),transitionstart:to("Transition","TransitionStart"),transitioncancel:to("Transition","TransitionCancel"),transitionend:to("Transition","TransitionEnd")},Eu={},Vp={};yi&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function Qn(s){if(Eu[s])return Eu[s];if(!Ws[s])return s;var l=Ws[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in Vp)return Eu[s]=l[h];return s}var ac=Qn("animationend"),Zp=Qn("animationiteration"),oc=Qn("animationstart"),Ox=Qn("transitionrun"),Xp=Qn("transitionstart"),jx=Qn("transitioncancel"),Vs=Qn("transitionend"),Jp=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function Yr(s,l){Jp.set(s,l),Do(l,[s])}var sc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Kr=[],_r=0,ku=0;function lc(){for(var s=_r,l=ku=_r=0;l<s;){var h=Kr[l];Kr[l++]=null;var b=Kr[l];Kr[l++]=null;var A=Kr[l];Kr[l++]=null;var j=Kr[l];if(Kr[l++]=null,b!==null&&A!==null){var I=b.pending;I===null?A.next=A:(A.next=I.next,I.next=A),b.pending=A}j!==0&&Zs(h,A,j)}}function ro(s,l,h,b){Kr[_r++]=s,Kr[_r++]=l,Kr[_r++]=h,Kr[_r++]=b,ku|=b,s.lanes|=b,s=s.alternate,s!==null&&(s.lanes|=b)}function zf(s,l,h,b){return ro(s,l,h,b),cc(s)}function Zi(s,l){return ro(s,null,null,l),cc(s)}function Zs(s,l,h){s.lanes|=h;var b=s.alternate;b!==null&&(b.lanes|=h);for(var A=!1,j=s.return;j!==null;)j.childLanes|=h,b=j.alternate,b!==null&&(b.childLanes|=h),j.tag===22&&(s=j.stateNode,s===null||s._visibility&1||(A=!0)),s=j,j=j.return;return s.tag===3?(j=s.stateNode,A&&l!==null&&(A=31-Or(h),s=j.hiddenUpdates,b=s[A],b===null?s[A]=[l]:b.push(l),l.lane=h|536870912),j):null}function cc(s){if(50<dh)throw dh=0,C_=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Bo={};function Nx(s,l,h,b){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(s,l,h,b){return new Nx(s,l,h,b)}function Au(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Xi(s,l){var h=s.alternate;return h===null?(h=wr(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function Uf(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function uc(s,l,h,b,A,j){var I=0;if(b=s,typeof s=="function")Au(s)&&(I=1);else if(typeof s=="string")I=NF(s,h,V.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case q:return s=wr(31,h,l,A),s.elementType=q,s.lanes=j,s;case _:return zo(h.children,A,j,l);case S:I=8,A|=24;break;case T:return s=wr(12,h,l,A|2),s.elementType=T,s.lanes=j,s;case M:return s=wr(13,h,l,A),s.elementType=M,s.lanes=j,s;case D:return s=wr(19,h,l,A),s.elementType=D,s.lanes=j,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:I=10;break e;case N:I=9;break e;case P:I=11;break e;case $:I=14;break e;case H:I=16,b=null;break e}I=29,h=Error(r(130,s===null?"null":typeof s,"")),b=null}return l=wr(I,h,l,A),l.elementType=s,l.type=b,l.lanes=j,l}function zo(s,l,h,b){return s=wr(7,s,b,l),s.lanes=h,s}function Tu(s,l,h){return s=wr(6,s,null,l),s.lanes=h,s}function Ff(s){var l=wr(18,null,null,0);return l.stateNode=s,l}function Hf(s,l,h){return l=wr(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var d=new WeakMap;function y(s,l){if(typeof s=="object"&&s!==null){var h=d.get(s);return h!==void 0?h:(l={value:s,source:l,stack:Ve(l)},d.set(s,l),l)}return{value:s,source:l,stack:Ve(l)}}var k=[],C=0,R=null,U=0,ee=[],ce=0,ge=null,Ae=1,Re="";function qe(s,l){k[C++]=U,k[C++]=R,R=s,U=l}function ot(s,l,h){ee[ce++]=Ae,ee[ce++]=Re,ee[ce++]=ge,ge=s;var b=Ae;s=Re;var A=32-Or(b)-1;b&=~(1<<A),h+=1;var j=32-Or(l)+A;if(30<j){var I=A-A%5;j=(b&(1<<I)-1).toString(32),b>>=I,A-=I,Ae=1<<32-Or(l)+A|h<<A|b,Re=j+s}else Ae=1<<j|h<<A|b,Re=s}function $n(s){s.return!==null&&(qe(s,1),ot(s,1,0))}function pn(s){for(;s===R;)R=k[--C],k[C]=null,U=k[--C],k[C]=null;for(;s===ge;)ge=ee[--ce],ee[ce]=null,Re=ee[--ce],ee[ce]=null,Ae=ee[--ce],ee[ce]=null}function Nr(s,l){ee[ce++]=Ae,ee[ce++]=Re,ee[ce++]=ge,Ae=l.id,Re=l.overflow,ge=s}var _t=null,wt=null,ut=!1,io=null,Wr=!1,Ou=Error(r(519));function ao(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dc(y(l,s)),Ou}function Gf(s){var l=s.stateNode,h=s.type,b=s.memoizedProps;switch(l[An]=s,l[Xn]=b,h){case"dialog":ft("cancel",l),ft("close",l);break;case"iframe":case"object":case"embed":ft("load",l);break;case"video":case"audio":for(h=0;h<hh.length;h++)ft(hh[h],l);break;case"source":ft("error",l);break;case"img":case"image":case"link":ft("error",l),ft("load",l);break;case"details":ft("toggle",l);break;case"input":ft("invalid",l),Gl(l,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":ft("invalid",l);break;case"textarea":ft("invalid",l),Ls(l,b.value,b.defaultValue,b.children)}h=b.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||b.suppressHydrationWarning===!0||nN(l.textContent,h)?(b.popover!=null&&(ft("beforetoggle",l),ft("toggle",l)),b.onScroll!=null&&ft("scroll",l),b.onScrollEnd!=null&&ft("scrollend",l),b.onClick!=null&&(l.onclick=Gr),l=!0):l=!1,l||ao(s,!0)}function cn(s){for(_t=s.return;_t;)switch(_t.tag){case 5:case 31:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:_t=_t.return}}function ka(s){if(s!==_t)return!1;if(!ut)return cn(s),ut=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||Y_(s.type,s.memoizedProps)),h=!h),h&&wt&&ao(s),cn(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=dN(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=dN(s)}else l===27?(l=wt,ul(s.type)?(s=X_,X_=null,wt=s):wt=l):wt=_t?Qi(s.stateNode.nextSibling):null;return!0}function Uo(){wt=_t=null,ut=!1}function qf(){var s=io;return s!==null&&(Jr===null?Jr=s:Jr.push.apply(Jr,s),io=null),s}function dc(s){io===null?io=[s]:io.push(s)}var fc=B(null),oo=null,Aa=null;function Xs(s,l,h){ae(fc,l._currentValue),l._currentValue=h}function Fo(s){s._currentValue=fc.current,W(fc)}function Cx(s,l,h){for(;s!==null;){var b=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,b!==null&&(b.childLanes|=l)):b!==null&&(b.childLanes&l)!==l&&(b.childLanes|=l),s===h)break;s=s.return}}function Mx(s,l,h,b){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var j=A.dependencies;if(j!==null){var I=A.child;j=j.firstContext;e:for(;j!==null;){var G=j;j=A;for(var te=0;te<l.length;te++)if(G.context===l[te]){j.lanes|=h,G=j.alternate,G!==null&&(G.lanes|=h),Cx(j.return,h,s),b||(I=null);break e}j=G.next}}else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=h,j=I.alternate,j!==null&&(j.lanes|=h),Cx(I,h,s),I=null}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===s){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}}function ju(s,l,h,b){s=null;for(var A=l,j=!1;A!==null;){if(!j){if((A.flags&524288)!==0)j=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var I=A.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var G=A.type;Jn(A.pendingProps.value,I.value)||(s!==null?s.push(G):s=[G])}}else if(A===pe.current){if(I=A.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(bh):s=[bh])}A=A.return}s!==null&&Mx(l,s,h,b),l.flags|=262144}function Qp(s){for(s=s.firstContext;s!==null;){if(!Jn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function hc(s){oo=s,Aa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ur(s){return UT(oo,s)}function eg(s,l){return oo===null&&hc(s),UT(s,l)}function UT(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Aa===null){if(s===null)throw Error(r(308));Aa=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Aa=Aa.next=l;return h}var AU=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,b){s.push(b)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},TU=e.unstable_scheduleCallback,OU=e.unstable_NormalPriority,On={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Px(){return{controller:new AU,data:new Map,refCount:0}}function Yf(s){s.refCount--,s.refCount===0&&TU(OU,function(){s.controller.abort()})}var Kf=null,Dx=0,Nu=0,Cu=null;function jU(s,l){if(Kf===null){var h=Kf=[];Dx=0,Nu=I_(),Cu={status:"pending",value:void 0,then:function(b){h.push(b)}}}return Dx++,l.then(FT,FT),l}function FT(){if(--Dx===0&&Kf!==null){Cu!==null&&(Cu.status="fulfilled");var s=Kf;Kf=null,Nu=0,Cu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function NU(s,l){var h=[],b={status:"pending",value:null,reason:null,then:function(A){h.push(A)}};return s.then(function(){b.status="fulfilled",b.value=l;for(var A=0;A<h.length;A++)(0,h[A])(l)},function(A){for(b.status="rejected",b.reason=A,A=0;A<h.length;A++)(0,h[A])(void 0)}),b}var HT=Y.S;Y.S=function(s,l){Aj=Be(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&jU(s,l),HT!==null&&HT(s,l)};var mc=B(null);function Rx(){var s=mc.current;return s!==null?s:Ft.pooledCache}function tg(s,l){l===null?ae(mc,mc.current):ae(mc,l.pool)}function GT(){var s=Rx();return s===null?null:{parent:On._currentValue,pool:s}}var Mu=Error(r(460)),Lx=Error(r(474)),ng=Error(r(542)),rg={then:function(){}};function qT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function YT(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(Gr,Gr),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,WT(s),s;default:if(typeof l.status=="string")l.then(Gr,Gr);else{if(s=Ft,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(b){if(l.status==="pending"){var A=l;A.status="fulfilled",A.value=b}},function(b){if(l.status==="pending"){var A=l;A.status="rejected",A.reason=b}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,WT(s),s}throw gc=l,Mu}}function pc(s){try{var l=s._init;return l(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(gc=h,Mu):h}}var gc=null;function KT(){if(gc===null)throw Error(r(459));var s=gc;return gc=null,s}function WT(s){if(s===Mu||s===ng)throw Error(r(483))}var Pu=null,Wf=0;function ig(s){var l=Wf;return Wf+=1,Pu===null&&(Pu=[]),YT(Pu,s,l)}function Vf(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function ag(s,l){throw l.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function VT(s){function l(le,ie){if(s){var de=le.deletions;de===null?(le.deletions=[ie],le.flags|=16):de.push(ie)}}function h(le,ie){if(!s)return null;for(;ie!==null;)l(le,ie),ie=ie.sibling;return null}function b(le){for(var ie=new Map;le!==null;)le.key!==null?ie.set(le.key,le):ie.set(le.index,le),le=le.sibling;return ie}function A(le,ie){return le=Xi(le,ie),le.index=0,le.sibling=null,le}function j(le,ie,de){return le.index=de,s?(de=le.alternate,de!==null?(de=de.index,de<ie?(le.flags|=67108866,ie):de):(le.flags|=67108866,ie)):(le.flags|=1048576,ie)}function I(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function G(le,ie,de,ke){return ie===null||ie.tag!==6?(ie=Tu(de,le.mode,ke),ie.return=le,ie):(ie=A(ie,de),ie.return=le,ie)}function te(le,ie,de,ke){var Xe=de.type;return Xe===_?Ee(le,ie,de.props.children,ke,de.key):ie!==null&&(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&pc(Xe)===ie.type)?(ie=A(ie,de.props),Vf(ie,de),ie.return=le,ie):(ie=uc(de.type,de.key,de.props,null,le.mode,ke),Vf(ie,de),ie.return=le,ie)}function he(le,ie,de,ke){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=Hf(de,le.mode,ke),ie.return=le,ie):(ie=A(ie,de.children||[]),ie.return=le,ie)}function Ee(le,ie,de,ke,Xe){return ie===null||ie.tag!==7?(ie=zo(de,le.mode,ke,Xe),ie.return=le,ie):(ie=A(ie,de),ie.return=le,ie)}function Te(le,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Tu(""+ie,le.mode,de),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return de=uc(ie.type,ie.key,ie.props,null,le.mode,de),Vf(de,ie),de.return=le,de;case w:return ie=Hf(ie,le.mode,de),ie.return=le,ie;case H:return ie=pc(ie),Te(le,ie,de)}if(J(ie)||z(ie))return ie=zo(ie,le.mode,de,null),ie.return=le,ie;if(typeof ie.then=="function")return Te(le,ig(ie),de);if(ie.$$typeof===O)return Te(le,eg(le,ie),de);ag(le,ie)}return null}function ye(le,ie,de,ke){var Xe=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Xe!==null?null:G(le,ie,""+de,ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case v:return de.key===Xe?te(le,ie,de,ke):null;case w:return de.key===Xe?he(le,ie,de,ke):null;case H:return de=pc(de),ye(le,ie,de,ke)}if(J(de)||z(de))return Xe!==null?null:Ee(le,ie,de,ke,null);if(typeof de.then=="function")return ye(le,ie,ig(de),ke);if(de.$$typeof===O)return ye(le,ie,eg(le,de),ke);ag(le,de)}return null}function xe(le,ie,de,ke,Xe){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return le=le.get(de)||null,G(ie,le,""+ke,Xe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case v:return le=le.get(ke.key===null?de:ke.key)||null,te(ie,le,ke,Xe);case w:return le=le.get(ke.key===null?de:ke.key)||null,he(ie,le,ke,Xe);case H:return ke=pc(ke),xe(le,ie,de,ke,Xe)}if(J(ke)||z(ke))return le=le.get(de)||null,Ee(ie,le,ke,Xe,null);if(typeof ke.then=="function")return xe(le,ie,de,ig(ke),Xe);if(ke.$$typeof===O)return xe(le,ie,de,eg(ie,ke),Xe);ag(ie,ke)}return null}function ze(le,ie,de,ke){for(var Xe=null,St=null,Fe=ie,st=ie=0,pt=null;Fe!==null&&st<de.length;st++){Fe.index>st?(pt=Fe,Fe=null):pt=Fe.sibling;var Et=ye(le,Fe,de[st],ke);if(Et===null){Fe===null&&(Fe=pt);break}s&&Fe&&Et.alternate===null&&l(le,Fe),ie=j(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et,Fe=pt}if(st===de.length)return h(le,Fe),ut&&qe(le,st),Xe;if(Fe===null){for(;st<de.length;st++)Fe=Te(le,de[st],ke),Fe!==null&&(ie=j(Fe,ie,st),St===null?Xe=Fe:St.sibling=Fe,St=Fe);return ut&&qe(le,st),Xe}for(Fe=b(Fe);st<de.length;st++)pt=xe(Fe,le,st,de[st],ke),pt!==null&&(s&&pt.alternate!==null&&Fe.delete(pt.key===null?st:pt.key),ie=j(pt,ie,st),St===null?Xe=pt:St.sibling=pt,St=pt);return s&&Fe.forEach(function(pl){return l(le,pl)}),ut&&qe(le,st),Xe}function Qe(le,ie,de,ke){if(de==null)throw Error(r(151));for(var Xe=null,St=null,Fe=ie,st=ie=0,pt=null,Et=de.next();Fe!==null&&!Et.done;st++,Et=de.next()){Fe.index>st?(pt=Fe,Fe=null):pt=Fe.sibling;var pl=ye(le,Fe,Et.value,ke);if(pl===null){Fe===null&&(Fe=pt);break}s&&Fe&&pl.alternate===null&&l(le,Fe),ie=j(pl,ie,st),St===null?Xe=pl:St.sibling=pl,St=pl,Fe=pt}if(Et.done)return h(le,Fe),ut&&qe(le,st),Xe;if(Fe===null){for(;!Et.done;st++,Et=de.next())Et=Te(le,Et.value,ke),Et!==null&&(ie=j(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et);return ut&&qe(le,st),Xe}for(Fe=b(Fe);!Et.done;st++,Et=de.next())Et=xe(Fe,le,st,Et.value,ke),Et!==null&&(s&&Et.alternate!==null&&Fe.delete(Et.key===null?st:Et.key),ie=j(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et);return s&&Fe.forEach(function(UF){return l(le,UF)}),ut&&qe(le,st),Xe}function zt(le,ie,de,ke){if(typeof de=="object"&&de!==null&&de.type===_&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case v:e:{for(var Xe=de.key;ie!==null;){if(ie.key===Xe){if(Xe=de.type,Xe===_){if(ie.tag===7){h(le,ie.sibling),ke=A(ie,de.props.children),ke.return=le,le=ke;break e}}else if(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&pc(Xe)===ie.type){h(le,ie.sibling),ke=A(ie,de.props),Vf(ke,de),ke.return=le,le=ke;break e}h(le,ie);break}else l(le,ie);ie=ie.sibling}de.type===_?(ke=zo(de.props.children,le.mode,ke,de.key),ke.return=le,le=ke):(ke=uc(de.type,de.key,de.props,null,le.mode,ke),Vf(ke,de),ke.return=le,le=ke)}return I(le);case w:e:{for(Xe=de.key;ie!==null;){if(ie.key===Xe)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){h(le,ie.sibling),ke=A(ie,de.children||[]),ke.return=le,le=ke;break e}else{h(le,ie);break}else l(le,ie);ie=ie.sibling}ke=Hf(de,le.mode,ke),ke.return=le,le=ke}return I(le);case H:return de=pc(de),zt(le,ie,de,ke)}if(J(de))return ze(le,ie,de,ke);if(z(de)){if(Xe=z(de),typeof Xe!="function")throw Error(r(150));return de=Xe.call(de),Qe(le,ie,de,ke)}if(typeof de.then=="function")return zt(le,ie,ig(de),ke);if(de.$$typeof===O)return zt(le,ie,eg(le,de),ke);ag(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ie!==null&&ie.tag===6?(h(le,ie.sibling),ke=A(ie,de),ke.return=le,le=ke):(h(le,ie),ke=Tu(de,le.mode,ke),ke.return=le,le=ke),I(le)):h(le,ie)}return function(le,ie,de,ke){try{Wf=0;var Xe=zt(le,ie,de,ke);return Pu=null,Xe}catch(Fe){if(Fe===Mu||Fe===ng)throw Fe;var St=wr(29,Fe,null,le.mode);return St.lanes=ke,St.return=le,St}finally{}}}var yc=VT(!0),ZT=VT(!1),Js=!1;function Ix(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $x(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Qs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function el(s,l,h){var b=s.updateQueue;if(b===null)return null;if(b=b.shared,(Tt&2)!==0){var A=b.pending;return A===null?l.next=l:(l.next=A.next,A.next=l),b.pending=l,l=cc(s),Zs(s,null,h),l}return ro(s,b,l,h),cc(s)}function Zf(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var b=l.lanes;b&=s.pendingLanes,h|=b,l.lanes=h,Ap(s,h)}}function Bx(s,l){var h=s.updateQueue,b=s.alternate;if(b!==null&&(b=b.updateQueue,h===b)){var A=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var I={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};j===null?A=j=I:j=j.next=I,h=h.next}while(h!==null);j===null?A=j=l:j=j.next=l}else A=j=l;h={baseState:b.baseState,firstBaseUpdate:A,lastBaseUpdate:j,shared:b.shared,callbacks:b.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var zx=!1;function Xf(){if(zx){var s=Cu;if(s!==null)throw s}}function Jf(s,l,h,b){zx=!1;var A=s.updateQueue;Js=!1;var j=A.firstBaseUpdate,I=A.lastBaseUpdate,G=A.shared.pending;if(G!==null){A.shared.pending=null;var te=G,he=te.next;te.next=null,I===null?j=he:I.next=he,I=te;var Ee=s.alternate;Ee!==null&&(Ee=Ee.updateQueue,G=Ee.lastBaseUpdate,G!==I&&(G===null?Ee.firstBaseUpdate=he:G.next=he,Ee.lastBaseUpdate=te))}if(j!==null){var Te=A.baseState;I=0,Ee=he=te=null,G=j;do{var ye=G.lane&-536870913,xe=ye!==G.lane;if(xe?(mt&ye)===ye:(b&ye)===ye){ye!==0&&ye===Nu&&(zx=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ze=s,Qe=G;ye=l;var zt=h;switch(Qe.tag){case 1:if(ze=Qe.payload,typeof ze=="function"){Te=ze.call(zt,Te,ye);break e}Te=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Qe.payload,ye=typeof ze=="function"?ze.call(zt,Te,ye):ze,ye==null)break e;Te=p({},Te,ye);break e;case 2:Js=!0}}ye=G.callback,ye!==null&&(s.flags|=64,xe&&(s.flags|=8192),xe=A.callbacks,xe===null?A.callbacks=[ye]:xe.push(ye))}else xe={lane:ye,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ee===null?(he=Ee=xe,te=Te):Ee=Ee.next=xe,I|=ye;if(G=G.next,G===null){if(G=A.shared.pending,G===null)break;xe=G,G=xe.next,xe.next=null,A.lastBaseUpdate=xe,A.shared.pending=null}}while(!0);Ee===null&&(te=Te),A.baseState=te,A.firstBaseUpdate=he,A.lastBaseUpdate=Ee,j===null&&(A.shared.lanes=0),al|=I,s.lanes=I,s.memoizedState=Te}}function XT(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function JT(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)XT(h[s],l)}var Du=B(null),og=B(0);function QT(s,l){s=Xo,ae(og,s),ae(Du,l),Xo=s|l.baseLanes}function Ux(){ae(og,Xo),ae(Du,Du.current)}function Fx(){Xo=og.current,W(Du),W(og)}var xi=B(null),Ji=null;function tl(s){var l=s.alternate;ae(_n,_n.current&1),ae(xi,s),Ji===null&&(l===null||Du.current!==null||l.memoizedState!==null)&&(Ji=s)}function Hx(s){ae(_n,_n.current),ae(xi,s),Ji===null&&(Ji=s)}function eO(s){s.tag===22?(ae(_n,_n.current),ae(xi,s),Ji===null&&(Ji=s)):nl()}function nl(){ae(_n,_n.current),ae(xi,xi.current)}function _i(s){W(xi),Ji===s&&(Ji=null),W(_n)}var _n=B(0);function sg(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||V_(h)||Z_(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ho=0,it=null,$t=null,jn=null,lg=!1,Ru=!1,bc=!1,cg=0,Qf=0,Lu=null,CU=0;function gn(){throw Error(r(321))}function Gx(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!Jn(s[h],l[h]))return!1;return!0}function qx(s,l,h,b,A,j){return Ho=j,it=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Y.H=s===null||s.memoizedState===null?IO:o_,bc=!1,j=h(b,A),bc=!1,Ru&&(j=nO(l,h,b,A)),tO(s),j}function tO(s){Y.H=nh;var l=$t!==null&&$t.next!==null;if(Ho=0,jn=$t=it=null,lg=!1,Qf=0,Lu=null,l)throw Error(r(300));s===null||Nn||(s=s.dependencies,s!==null&&Qp(s)&&(Nn=!0))}function nO(s,l,h,b){it=s;var A=0;do{if(Ru&&(Lu=null),Qf=0,Ru=!1,25<=A)throw Error(r(301));if(A+=1,jn=$t=null,s.updateQueue!=null){var j=s.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}Y.H=$O,j=l(h,b)}while(Ru);return j}function MU(){var s=Y.H,l=s.useState()[0];return l=typeof l.then=="function"?eh(l):l,s=s.useState()[0],($t!==null?$t.memoizedState:null)!==s&&(it.flags|=1024),l}function Yx(){var s=cg!==0;return cg=0,s}function Kx(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function Wx(s){if(lg){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}lg=!1}Ho=0,jn=$t=it=null,Ru=!1,Qf=cg=0,Lu=null}function Cr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?it.memoizedState=jn=s:jn=jn.next=s,jn}function wn(){if($t===null){var s=it.alternate;s=s!==null?s.memoizedState:null}else s=$t.next;var l=jn===null?it.memoizedState:jn.next;if(l!==null)jn=l,$t=s;else{if(s===null)throw it.alternate===null?Error(r(467)):Error(r(310));$t=s,s={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},jn===null?it.memoizedState=jn=s:jn=jn.next=s}return jn}function ug(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eh(s){var l=Qf;return Qf+=1,Lu===null&&(Lu=[]),s=YT(Lu,s,l),l=it,(jn===null?l.memoizedState:jn.next)===null&&(l=l.alternate,Y.H=l===null||l.memoizedState===null?IO:o_),s}function dg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return eh(s);if(s.$$typeof===O)return ur(s)}throw Error(r(438,String(s)))}function Vx(s){var l=null,h=it.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var b=it.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(l={data:b.data.map(function(A){return A.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=ug(),it.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),b=0;b<s;b++)h[b]=K;return l.index++,h}function Go(s,l){return typeof l=="function"?l(s):l}function fg(s){var l=wn();return Zx(l,$t,s)}function Zx(s,l,h){var b=s.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var A=s.baseQueue,j=b.pending;if(j!==null){if(A!==null){var I=A.next;A.next=j.next,j.next=I}l.baseQueue=A=j,b.pending=null}if(j=s.baseState,A===null)s.memoizedState=j;else{l=A.next;var G=I=null,te=null,he=l,Ee=!1;do{var Te=he.lane&-536870913;if(Te!==he.lane?(mt&Te)===Te:(Ho&Te)===Te){var ye=he.revertLane;if(ye===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Te===Nu&&(Ee=!0);else if((Ho&ye)===ye){he=he.next,ye===Nu&&(Ee=!0);continue}else Te={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},te===null?(G=te=Te,I=j):te=te.next=Te,it.lanes|=ye,al|=ye;Te=he.action,bc&&h(j,Te),j=he.hasEagerState?he.eagerState:h(j,Te)}else ye={lane:Te,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},te===null?(G=te=ye,I=j):te=te.next=ye,it.lanes|=Te,al|=Te;he=he.next}while(he!==null&&he!==l);if(te===null?I=j:te.next=G,!Jn(j,s.memoizedState)&&(Nn=!0,Ee&&(h=Cu,h!==null)))throw h;s.memoizedState=j,s.baseState=I,s.baseQueue=te,b.lastRenderedState=j}return A===null&&(b.lanes=0),[s.memoizedState,b.dispatch]}function Xx(s){var l=wn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var b=h.dispatch,A=h.pending,j=l.memoizedState;if(A!==null){h.pending=null;var I=A=A.next;do j=s(j,I.action),I=I.next;while(I!==A);Jn(j,l.memoizedState)||(Nn=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),h.lastRenderedState=j}return[j,b]}function rO(s,l,h){var b=it,A=wn(),j=ut;if(j){if(h===void 0)throw Error(r(407));h=h()}else h=l();var I=!Jn(($t||A).memoizedState,h);if(I&&(A.memoizedState=h,Nn=!0),A=A.queue,e_(oO.bind(null,b,A,s),[s]),A.getSnapshot!==l||I||jn!==null&&jn.memoizedState.tag&1){if(b.flags|=2048,Iu(9,{destroy:void 0},aO.bind(null,b,A,h,l),null),Ft===null)throw Error(r(349));j||(Ho&127)!==0||iO(b,l,h)}return h}function iO(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=it.updateQueue,l===null?(l=ug(),it.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function aO(s,l,h,b){l.value=h,l.getSnapshot=b,sO(l)&&lO(s)}function oO(s,l,h){return h(function(){sO(l)&&lO(s)})}function sO(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!Jn(s,h)}catch{return!0}}function lO(s){var l=Zi(s,2);l!==null&&Qr(l,s,2)}function Jx(s){var l=Cr();if(typeof s=="function"){var h=s;if(s=h(),bc){pi(!0);try{h()}finally{pi(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:s},l}function cO(s,l,h,b){return s.baseState=h,Zx(s,$t,typeof b=="function"?b:Go)}function PU(s,l,h,b,A){if(pg(s))throw Error(r(485));if(s=l.action,s!==null){var j={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){j.listeners.push(I)}};Y.T!==null?h(!0):j.isTransition=!1,b(j),h=l.pending,h===null?(j.next=l.pending=j,uO(l,j)):(j.next=h.next,l.pending=h.next=j)}}function uO(s,l){var h=l.action,b=l.payload,A=s.state;if(l.isTransition){var j=Y.T,I={};Y.T=I;try{var G=h(A,b),te=Y.S;te!==null&&te(I,G),dO(s,l,G)}catch(he){Qx(s,l,he)}finally{j!==null&&I.types!==null&&(j.types=I.types),Y.T=j}}else try{j=h(A,b),dO(s,l,j)}catch(he){Qx(s,l,he)}}function dO(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(b){fO(s,l,b)},function(b){return Qx(s,l,b)}):fO(s,l,h)}function fO(s,l,h){l.status="fulfilled",l.value=h,hO(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,uO(s,h)))}function Qx(s,l,h){var b=s.pending;if(s.pending=null,b!==null){b=b.next;do l.status="rejected",l.reason=h,hO(l),l=l.next;while(l!==b)}s.action=null}function hO(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function mO(s,l){return l}function pO(s,l){if(ut){var h=Ft.formState;if(h!==null){e:{var b=it;if(ut){if(wt){t:{for(var A=wt,j=Wr;A.nodeType!==8;){if(!j){A=null;break t}if(A=Qi(A.nextSibling),A===null){A=null;break t}}j=A.data,A=j==="F!"||j==="F"?A:null}if(A){wt=Qi(A.nextSibling),b=A.data==="F!";break e}}ao(b)}b=!1}b&&(l=h[0])}}return h=Cr(),h.memoizedState=h.baseState=l,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mO,lastRenderedState:l},h.queue=b,h=DO.bind(null,it,b),b.dispatch=h,b=Jx(!1),j=a_.bind(null,it,!1,b.queue),b=Cr(),A={state:l,dispatch:null,action:s,pending:null},b.queue=A,h=PU.bind(null,it,A,j,h),A.dispatch=h,b.memoizedState=s,[l,h,!1]}function gO(s){var l=wn();return yO(l,$t,s)}function yO(s,l,h){if(l=Zx(s,l,mO)[0],s=fg(Go)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var b=eh(l)}catch(I){throw I===Mu?ng:I}else b=l;l=wn();var A=l.queue,j=A.dispatch;return h!==l.memoizedState&&(it.flags|=2048,Iu(9,{destroy:void 0},DU.bind(null,A,h),null)),[b,j,s]}function DU(s,l){s.action=l}function bO(s){var l=wn(),h=$t;if(h!==null)return yO(l,h,s);wn(),l=l.memoizedState,h=wn();var b=h.queue.dispatch;return h.memoizedState=s,[l,b,!1]}function Iu(s,l,h,b){return s={tag:s,create:h,deps:b,inst:l,next:null},l=it.updateQueue,l===null&&(l=ug(),it.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(b=h.next,h.next=s,s.next=b,l.lastEffect=s),s}function vO(){return wn().memoizedState}function hg(s,l,h,b){var A=Cr();it.flags|=s,A.memoizedState=Iu(1|l,{destroy:void 0},h,b===void 0?null:b)}function mg(s,l,h,b){var A=wn();b=b===void 0?null:b;var j=A.memoizedState.inst;$t!==null&&b!==null&&Gx(b,$t.memoizedState.deps)?A.memoizedState=Iu(l,j,h,b):(it.flags|=s,A.memoizedState=Iu(1|l,j,h,b))}function xO(s,l){hg(8390656,8,s,l)}function e_(s,l){mg(2048,8,s,l)}function RU(s){it.flags|=4;var l=it.updateQueue;if(l===null)l=ug(),it.updateQueue=l,l.events=[s];else{var h=l.events;h===null?l.events=[s]:h.push(s)}}function _O(s){var l=wn().memoizedState;return RU({ref:l,nextImpl:s}),function(){if((Tt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function wO(s,l){return mg(4,2,s,l)}function SO(s,l){return mg(4,4,s,l)}function EO(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function kO(s,l,h){h=h!=null?h.concat([s]):null,mg(4,4,EO.bind(null,l,s),h)}function t_(){}function AO(s,l){var h=wn();l=l===void 0?null:l;var b=h.memoizedState;return l!==null&&Gx(l,b[1])?b[0]:(h.memoizedState=[s,l],s)}function TO(s,l){var h=wn();l=l===void 0?null:l;var b=h.memoizedState;if(l!==null&&Gx(l,b[1]))return b[0];if(b=s(),bc){pi(!0);try{s()}finally{pi(!1)}}return h.memoizedState=[b,l],b}function n_(s,l,h){return h===void 0||(Ho&1073741824)!==0&&(mt&261930)===0?s.memoizedState=l:(s.memoizedState=h,s=Oj(),it.lanes|=s,al|=s,h)}function OO(s,l,h,b){return Jn(h,l)?h:Du.current!==null?(s=n_(s,h,b),Jn(s,l)||(Nn=!0),s):(Ho&42)===0||(Ho&1073741824)!==0&&(mt&261930)===0?(Nn=!0,s.memoizedState=h):(s=Oj(),it.lanes|=s,al|=s,l)}function jO(s,l,h,b,A){var j=X.p;X.p=j!==0&&8>j?j:8;var I=Y.T,G={};Y.T=G,a_(s,!1,l,h);try{var te=A(),he=Y.S;if(he!==null&&he(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Ee=NU(te,b);th(s,l,Ee,Ei(s))}else th(s,l,b,Ei(s))}catch(Te){th(s,l,{then:function(){},status:"rejected",reason:Te},Ei())}finally{X.p=j,I!==null&&G.types!==null&&(I.types=G.types),Y.T=I}}function LU(){}function r_(s,l,h,b){if(s.tag!==5)throw Error(r(476));var A=NO(s).queue;jO(s,A,l,re,h===null?LU:function(){return CO(s),h(b)})}function NO(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:re},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function CO(s){var l=NO(s);l.next===null&&(l=s.alternate.memoizedState),th(s,l.next.queue,{},Ei())}function i_(){return ur(bh)}function MO(){return wn().memoizedState}function PO(){return wn().memoizedState}function IU(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=Ei();s=Qs(h);var b=el(l,s,h);b!==null&&(Qr(b,l,h),Zf(b,l,h)),l={cache:Px()},s.payload=l;return}l=l.return}}function $U(s,l,h){var b=Ei();h={lane:b,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},pg(s)?RO(l,h):(h=zf(s,l,h,b),h!==null&&(Qr(h,s,b),LO(h,l,b)))}function DO(s,l,h){var b=Ei();th(s,l,h,b)}function th(s,l,h,b){var A={lane:b,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(pg(s))RO(l,A);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var I=l.lastRenderedState,G=j(I,h);if(A.hasEagerState=!0,A.eagerState=G,Jn(G,I))return ro(s,l,A,0),Ft===null&&lc(),!1}catch{}finally{}if(h=zf(s,l,A,b),h!==null)return Qr(h,s,b),LO(h,l,b),!0}return!1}function a_(s,l,h,b){if(b={lane:2,revertLane:I_(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},pg(s)){if(l)throw Error(r(479))}else l=zf(s,h,b,2),l!==null&&Qr(l,s,2)}function pg(s){var l=s.alternate;return s===it||l!==null&&l===it}function RO(s,l){Ru=lg=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function LO(s,l,h){if((h&4194048)!==0){var b=l.lanes;b&=s.pendingLanes,h|=b,l.lanes=h,Ap(s,h)}}var nh={readContext:ur,use:dg,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn};nh.useEffectEvent=gn;var IO={readContext:ur,use:dg,useCallback:function(s,l){return Cr().memoizedState=[s,l===void 0?null:l],s},useContext:ur,useEffect:xO,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,hg(4194308,4,EO.bind(null,l,s),h)},useLayoutEffect:function(s,l){return hg(4194308,4,s,l)},useInsertionEffect:function(s,l){hg(4,2,s,l)},useMemo:function(s,l){var h=Cr();l=l===void 0?null:l;var b=s();if(bc){pi(!0);try{s()}finally{pi(!1)}}return h.memoizedState=[b,l],b},useReducer:function(s,l,h){var b=Cr();if(h!==void 0){var A=h(l);if(bc){pi(!0);try{h(l)}finally{pi(!1)}}}else A=l;return b.memoizedState=b.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},b.queue=s,s=s.dispatch=$U.bind(null,it,s),[b.memoizedState,s]},useRef:function(s){var l=Cr();return s={current:s},l.memoizedState=s},useState:function(s){s=Jx(s);var l=s.queue,h=DO.bind(null,it,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:t_,useDeferredValue:function(s,l){var h=Cr();return n_(h,s,l)},useTransition:function(){var s=Jx(!1);return s=jO.bind(null,it,s.queue,!0,!1),Cr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var b=it,A=Cr();if(ut){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),Ft===null)throw Error(r(349));(mt&127)!==0||iO(b,l,h)}A.memoizedState=h;var j={value:h,getSnapshot:l};return A.queue=j,xO(oO.bind(null,b,j,s),[s]),b.flags|=2048,Iu(9,{destroy:void 0},aO.bind(null,b,j,h,l),null),h},useId:function(){var s=Cr(),l=Ft.identifierPrefix;if(ut){var h=Re,b=Ae;h=(b&~(1<<32-Or(b)-1)).toString(32)+h,l="_"+l+"R_"+h,h=cg++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=CU++,l="_"+l+"r_"+h.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:i_,useFormState:pO,useActionState:pO,useOptimistic:function(s){var l=Cr();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=a_.bind(null,it,!0,h),h.dispatch=l,[s,l]},useMemoCache:Vx,useCacheRefresh:function(){return Cr().memoizedState=IU.bind(null,it)},useEffectEvent:function(s){var l=Cr(),h={impl:s};return l.memoizedState=h,function(){if((Tt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},o_={readContext:ur,use:dg,useCallback:AO,useContext:ur,useEffect:e_,useImperativeHandle:kO,useInsertionEffect:wO,useLayoutEffect:SO,useMemo:TO,useReducer:fg,useRef:vO,useState:function(){return fg(Go)},useDebugValue:t_,useDeferredValue:function(s,l){var h=wn();return OO(h,$t.memoizedState,s,l)},useTransition:function(){var s=fg(Go)[0],l=wn().memoizedState;return[typeof s=="boolean"?s:eh(s),l]},useSyncExternalStore:rO,useId:MO,useHostTransitionStatus:i_,useFormState:gO,useActionState:gO,useOptimistic:function(s,l){var h=wn();return cO(h,$t,s,l)},useMemoCache:Vx,useCacheRefresh:PO};o_.useEffectEvent=_O;var $O={readContext:ur,use:dg,useCallback:AO,useContext:ur,useEffect:e_,useImperativeHandle:kO,useInsertionEffect:wO,useLayoutEffect:SO,useMemo:TO,useReducer:Xx,useRef:vO,useState:function(){return Xx(Go)},useDebugValue:t_,useDeferredValue:function(s,l){var h=wn();return $t===null?n_(h,s,l):OO(h,$t.memoizedState,s,l)},useTransition:function(){var s=Xx(Go)[0],l=wn().memoizedState;return[typeof s=="boolean"?s:eh(s),l]},useSyncExternalStore:rO,useId:MO,useHostTransitionStatus:i_,useFormState:bO,useActionState:bO,useOptimistic:function(s,l){var h=wn();return $t!==null?cO(h,$t,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Vx,useCacheRefresh:PO};$O.useEffectEvent=_O;function s_(s,l,h,b){l=s.memoizedState,h=h(b,l),h=h==null?l:p({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var l_={enqueueSetState:function(s,l,h){s=s._reactInternals;var b=Ei(),A=Qs(b);A.payload=l,h!=null&&(A.callback=h),l=el(s,A,b),l!==null&&(Qr(l,s,b),Zf(l,s,b))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var b=Ei(),A=Qs(b);A.tag=1,A.payload=l,h!=null&&(A.callback=h),l=el(s,A,b),l!==null&&(Qr(l,s,b),Zf(l,s,b))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Ei(),b=Qs(h);b.tag=2,l!=null&&(b.callback=l),l=el(s,b,h),l!==null&&(Qr(l,s,h),Zf(l,s,h))}};function BO(s,l,h,b,A,j,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(b,j,I):l.prototype&&l.prototype.isPureReactComponent?!Ys(h,b)||!Ys(A,j):!0}function zO(s,l,h,b){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,b),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,b),l.state!==s&&l_.enqueueReplaceState(l,l.state,null)}function vc(s,l){var h=l;if("ref"in l){h={};for(var b in l)b!=="ref"&&(h[b]=l[b])}if(s=s.defaultProps){h===l&&(h=p({},h));for(var A in s)h[A]===void 0&&(h[A]=s[A])}return h}function UO(s){sc(s)}function FO(s){console.error(s)}function HO(s){sc(s)}function gg(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(b){setTimeout(function(){throw b})}}function GO(s,l,h){try{var b=s.onCaughtError;b(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function c_(s,l,h){return h=Qs(h),h.tag=3,h.payload={element:null},h.callback=function(){gg(s,l)},h}function qO(s){return s=Qs(s),s.tag=3,s}function YO(s,l,h,b){var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var j=b.value;s.payload=function(){return A(j)},s.callback=function(){GO(l,h,b)}}var I=h.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){GO(l,h,b),typeof A!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var G=b.stack;this.componentDidCatch(b.value,{componentStack:G!==null?G:""})})}function BU(s,l,h,b,A){if(h.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(l=h.alternate,l!==null&&ju(l,h,A,!0),h=xi.current,h!==null){switch(h.tag){case 31:case 13:return Ji===null?Og():h.alternate===null&&yn===0&&(yn=3),h.flags&=-257,h.flags|=65536,h.lanes=A,b===rg?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([b]):l.add(b),D_(s,b,A)),!1;case 22:return h.flags|=65536,b===rg?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([b])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([b]):h.add(b)),D_(s,b,A)),!1}throw Error(r(435,h.tag))}return D_(s,b,A),Og(),!1}if(ut)return l=xi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=A,b!==Ou&&(s=Error(r(422),{cause:b}),dc(y(s,h)))):(b!==Ou&&(l=Error(r(423),{cause:b}),dc(y(l,h))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,b=y(b,h),A=c_(s.stateNode,b,A),Bx(s,A),yn!==4&&(yn=2)),!1;var j=Error(r(520),{cause:b});if(j=y(j,h),uh===null?uh=[j]:uh.push(j),yn!==4&&(yn=2),l===null)return!0;b=y(b,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=A&-A,h.lanes|=s,s=c_(h.stateNode,b,s),Bx(h,s),!1;case 1:if(l=h.type,j=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ol===null||!ol.has(j))))return h.flags|=65536,A&=-A,h.lanes|=A,A=qO(A),YO(A,s,h,b),Bx(h,A),!1}h=h.return}while(h!==null);return!1}var u_=Error(r(461)),Nn=!1;function dr(s,l,h,b){l.child=s===null?ZT(l,null,h,b):yc(l,s.child,h,b)}function KO(s,l,h,b,A){h=h.render;var j=l.ref;if("ref"in b){var I={};for(var G in b)G!=="ref"&&(I[G]=b[G])}else I=b;return hc(l),b=qx(s,l,h,I,j,A),G=Yx(),s!==null&&!Nn?(Kx(s,l,A),qo(s,l,A)):(ut&&G&&$n(l),l.flags|=1,dr(s,l,b,A),l.child)}function WO(s,l,h,b,A){if(s===null){var j=h.type;return typeof j=="function"&&!Au(j)&&j.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=j,VO(s,l,j,b,A)):(s=uc(h.type,null,b,l,l.mode,A),s.ref=l.ref,s.return=l,l.child=s)}if(j=s.child,!b_(s,A)){var I=j.memoizedProps;if(h=h.compare,h=h!==null?h:Ys,h(I,b)&&s.ref===l.ref)return qo(s,l,A)}return l.flags|=1,s=Xi(j,b),s.ref=l.ref,s.return=l,l.child=s}function VO(s,l,h,b,A){if(s!==null){var j=s.memoizedProps;if(Ys(j,b)&&s.ref===l.ref)if(Nn=!1,l.pendingProps=b=j,b_(s,A))(s.flags&131072)!==0&&(Nn=!0);else return l.lanes=s.lanes,qo(s,l,A)}return d_(s,l,h,b,A)}function ZO(s,l,h,b){var A=b.children,j=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((l.flags&128)!==0){if(j=j!==null?j.baseLanes|h:h,s!==null){for(b=l.child=s.child,A=0;b!==null;)A=A|b.lanes|b.childLanes,b=b.sibling;b=A&~j}else b=0,l.child=null;return XO(s,l,j,h,b)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&tg(l,j!==null?j.cachePool:null),j!==null?QT(l,j):Ux(),eO(l);else return b=l.lanes=536870912,XO(s,l,j!==null?j.baseLanes|h:h,h,b)}else j!==null?(tg(l,j.cachePool),QT(l,j),nl(),l.memoizedState=null):(s!==null&&tg(l,null),Ux(),nl());return dr(s,l,A,h),l.child}function rh(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function XO(s,l,h,b,A){var j=Rx();return j=j===null?null:{parent:On._currentValue,pool:j},l.memoizedState={baseLanes:h,cachePool:j},s!==null&&tg(l,null),Ux(),eO(l),s!==null&&ju(s,l,b,!0),l.childLanes=A,null}function yg(s,l){return l=vg({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function JO(s,l,h){return yc(l,s.child,null,h),s=yg(l,l.pendingProps),s.flags|=2,_i(l),l.memoizedState=null,s}function zU(s,l,h){var b=l.pendingProps,A=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(ut){if(b.mode==="hidden")return s=yg(l,b),l.lanes=536870912,rh(null,s);if(Hx(l),(s=wt)?(s=uN(s,Wr),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Re}:null,retryLane:536870912,hydrationErrors:null},h=Ff(s),h.return=l,l.child=h,_t=l,wt=null)):s=null,s===null)throw ao(l);return l.lanes=536870912,null}return yg(l,b)}var j=s.memoizedState;if(j!==null){var I=j.dehydrated;if(Hx(l),A)if(l.flags&256)l.flags&=-257,l=JO(s,l,h);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(Nn||ju(s,l,h,!1),A=(h&s.childLanes)!==0,Nn||A){if(b=Ft,b!==null&&(I=Tp(b,h),I!==0&&I!==j.retryLane))throw j.retryLane=I,Zi(s,I),Qr(b,s,I),u_;Og(),l=JO(s,l,h)}else s=j.treeContext,wt=Qi(I.nextSibling),_t=l,ut=!0,io=null,Wr=!1,s!==null&&Nr(l,s),l=yg(l,b),l.flags|=4096;return l}return s=Xi(s.child,{mode:b.mode,children:b.children}),s.ref=l.ref,l.child=s,s.return=l,s}function bg(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function d_(s,l,h,b,A){return hc(l),h=qx(s,l,h,b,void 0,A),b=Yx(),s!==null&&!Nn?(Kx(s,l,A),qo(s,l,A)):(ut&&b&&$n(l),l.flags|=1,dr(s,l,h,A),l.child)}function QO(s,l,h,b,A,j){return hc(l),l.updateQueue=null,h=nO(l,b,h,A),tO(s),b=Yx(),s!==null&&!Nn?(Kx(s,l,j),qo(s,l,j)):(ut&&b&&$n(l),l.flags|=1,dr(s,l,h,j),l.child)}function ej(s,l,h,b,A){if(hc(l),l.stateNode===null){var j=Bo,I=h.contextType;typeof I=="object"&&I!==null&&(j=ur(I)),j=new h(b,j),l.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=l_,l.stateNode=j,j._reactInternals=l,j=l.stateNode,j.props=b,j.state=l.memoizedState,j.refs={},Ix(l),I=h.contextType,j.context=typeof I=="object"&&I!==null?ur(I):Bo,j.state=l.memoizedState,I=h.getDerivedStateFromProps,typeof I=="function"&&(s_(l,h,I,b),j.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(I=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),I!==j.state&&l_.enqueueReplaceState(j,j.state,null),Jf(l,b,j,A),Xf(),j.state=l.memoizedState),typeof j.componentDidMount=="function"&&(l.flags|=4194308),b=!0}else if(s===null){j=l.stateNode;var G=l.memoizedProps,te=vc(h,G);j.props=te;var he=j.context,Ee=h.contextType;I=Bo,typeof Ee=="object"&&Ee!==null&&(I=ur(Ee));var Te=h.getDerivedStateFromProps;Ee=typeof Te=="function"||typeof j.getSnapshotBeforeUpdate=="function",G=l.pendingProps!==G,Ee||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(G||he!==I)&&zO(l,j,b,I),Js=!1;var ye=l.memoizedState;j.state=ye,Jf(l,b,j,A),Xf(),he=l.memoizedState,G||ye!==he||Js?(typeof Te=="function"&&(s_(l,h,Te,b),he=l.memoizedState),(te=Js||BO(l,h,te,b,ye,he,I))?(Ee||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=b,l.memoizedState=he),j.props=b,j.state=he,j.context=I,b=te):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),b=!1)}else{j=l.stateNode,$x(s,l),I=l.memoizedProps,Ee=vc(h,I),j.props=Ee,Te=l.pendingProps,ye=j.context,he=h.contextType,te=Bo,typeof he=="object"&&he!==null&&(te=ur(he)),G=h.getDerivedStateFromProps,(he=typeof G=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(I!==Te||ye!==te)&&zO(l,j,b,te),Js=!1,ye=l.memoizedState,j.state=ye,Jf(l,b,j,A),Xf();var xe=l.memoizedState;I!==Te||ye!==xe||Js||s!==null&&s.dependencies!==null&&Qp(s.dependencies)?(typeof G=="function"&&(s_(l,h,G,b),xe=l.memoizedState),(Ee=Js||BO(l,h,Ee,b,ye,xe,te)||s!==null&&s.dependencies!==null&&Qp(s.dependencies))?(he||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(b,xe,te),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(b,xe,te)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=1024),l.memoizedProps=b,l.memoizedState=xe),j.props=b,j.state=xe,j.context=te,b=Ee):(typeof j.componentDidUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=1024),b=!1)}return j=b,bg(s,l),b=(l.flags&128)!==0,j||b?(j=l.stateNode,h=b&&typeof h.getDerivedStateFromError!="function"?null:j.render(),l.flags|=1,s!==null&&b?(l.child=yc(l,s.child,null,A),l.child=yc(l,null,h,A)):dr(s,l,h,A),l.memoizedState=j.state,s=l.child):s=qo(s,l,A),s}function tj(s,l,h,b){return Uo(),l.flags|=256,dr(s,l,h,b),l.child}var f_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function h_(s){return{baseLanes:s,cachePool:GT()}}function m_(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=Si),s}function nj(s,l,h){var b=l.pendingProps,A=!1,j=(l.flags&128)!==0,I;if((I=j)||(I=s!==null&&s.memoizedState===null?!1:(_n.current&2)!==0),I&&(A=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,s===null){if(ut){if(A?tl(l):nl(),(s=wt)?(s=uN(s,Wr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Re}:null,retryLane:536870912,hydrationErrors:null},h=Ff(s),h.return=l,l.child=h,_t=l,wt=null)):s=null,s===null)throw ao(l);return Z_(s)?l.lanes=32:l.lanes=536870912,null}var G=b.children;return b=b.fallback,A?(nl(),A=l.mode,G=vg({mode:"hidden",children:G},A),b=zo(b,A,h,null),G.return=l,b.return=l,G.sibling=b,l.child=G,b=l.child,b.memoizedState=h_(h),b.childLanes=m_(s,I,h),l.memoizedState=f_,rh(null,b)):(tl(l),p_(l,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(j)l.flags&256?(tl(l),l.flags&=-257,l=g_(s,l,h)):l.memoizedState!==null?(nl(),l.child=s.child,l.flags|=128,l=null):(nl(),G=b.fallback,A=l.mode,b=vg({mode:"visible",children:b.children},A),G=zo(G,A,h,null),G.flags|=2,b.return=l,G.return=l,b.sibling=G,l.child=b,yc(l,s.child,null,h),b=l.child,b.memoizedState=h_(h),b.childLanes=m_(s,I,h),l.memoizedState=f_,l=rh(null,b));else if(tl(l),Z_(G)){if(I=G.nextSibling&&G.nextSibling.dataset,I)var he=I.dgst;I=he,b=Error(r(419)),b.stack="",b.digest=I,dc({value:b,source:null,stack:null}),l=g_(s,l,h)}else if(Nn||ju(s,l,h,!1),I=(h&s.childLanes)!==0,Nn||I){if(I=Ft,I!==null&&(b=Tp(I,h),b!==0&&b!==te.retryLane))throw te.retryLane=b,Zi(s,b),Qr(I,s,b),u_;V_(G)||Og(),l=g_(s,l,h)}else V_(G)?(l.flags|=192,l.child=s.child,l=null):(s=te.treeContext,wt=Qi(G.nextSibling),_t=l,ut=!0,io=null,Wr=!1,s!==null&&Nr(l,s),l=p_(l,b.children),l.flags|=4096);return l}return A?(nl(),G=b.fallback,A=l.mode,te=s.child,he=te.sibling,b=Xi(te,{mode:"hidden",children:b.children}),b.subtreeFlags=te.subtreeFlags&65011712,he!==null?G=Xi(he,G):(G=zo(G,A,h,null),G.flags|=2),G.return=l,b.return=l,b.sibling=G,l.child=b,rh(null,b),b=l.child,G=s.child.memoizedState,G===null?G=h_(h):(A=G.cachePool,A!==null?(te=On._currentValue,A=A.parent!==te?{parent:te,pool:te}:A):A=GT(),G={baseLanes:G.baseLanes|h,cachePool:A}),b.memoizedState=G,b.childLanes=m_(s,I,h),l.memoizedState=f_,rh(s.child,b)):(tl(l),h=s.child,s=h.sibling,h=Xi(h,{mode:"visible",children:b.children}),h.return=l,h.sibling=null,s!==null&&(I=l.deletions,I===null?(l.deletions=[s],l.flags|=16):I.push(s)),l.child=h,l.memoizedState=null,h)}function p_(s,l){return l=vg({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function vg(s,l){return s=wr(22,s,null,l),s.lanes=0,s}function g_(s,l,h){return yc(l,s.child,null,h),s=p_(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function rj(s,l,h){s.lanes|=l;var b=s.alternate;b!==null&&(b.lanes|=l),Cx(s.return,l,h)}function y_(s,l,h,b,A,j){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:b,tail:h,tailMode:A,treeForkCount:j}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=b,I.tail=h,I.tailMode=A,I.treeForkCount=j)}function ij(s,l,h){var b=l.pendingProps,A=b.revealOrder,j=b.tail;b=b.children;var I=_n.current,G=(I&2)!==0;if(G?(I=I&1|2,l.flags|=128):I&=1,ae(_n,I),dr(s,l,b,h),b=ut?U:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&rj(s,h,l);else if(s.tag===19)rj(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(h=l.child,A=null;h!==null;)s=h.alternate,s!==null&&sg(s)===null&&(A=h),h=h.sibling;h=A,h===null?(A=l.child,l.child=null):(A=h.sibling,h.sibling=null),y_(l,!1,A,h,j,b);break;case"backwards":case"unstable_legacy-backwards":for(h=null,A=l.child,l.child=null;A!==null;){if(s=A.alternate,s!==null&&sg(s)===null){l.child=A;break}s=A.sibling,A.sibling=h,h=A,A=s}y_(l,!0,h,null,j,b);break;case"together":y_(l,!1,null,null,void 0,b);break;default:l.memoizedState=null}return l.child}function qo(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),al|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(ju(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=Xi(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=Xi(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function b_(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Qp(s)))}function UU(s,l,h){switch(l.tag){case 3:be(l,l.stateNode.containerInfo),Xs(l,On,s.memoizedState.cache),Uo();break;case 27:case 5:Oe(l);break;case 4:be(l,l.stateNode.containerInfo);break;case 10:Xs(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Hx(l),null;break;case 13:var b=l.memoizedState;if(b!==null)return b.dehydrated!==null?(tl(l),l.flags|=128,null):(h&l.child.childLanes)!==0?nj(s,l,h):(tl(l),s=qo(s,l,h),s!==null?s.sibling:null);tl(l);break;case 19:var A=(s.flags&128)!==0;if(b=(h&l.childLanes)!==0,b||(ju(s,l,h,!1),b=(h&l.childLanes)!==0),A){if(b)return ij(s,l,h);l.flags|=128}if(A=l.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ae(_n,_n.current),b)break;return null;case 22:return l.lanes=0,ZO(s,l,h,l.pendingProps);case 24:Xs(l,On,s.memoizedState.cache)}return qo(s,l,h)}function aj(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)Nn=!0;else{if(!b_(s,h)&&(l.flags&128)===0)return Nn=!1,UU(s,l,h);Nn=(s.flags&131072)!==0}else Nn=!1,ut&&(l.flags&1048576)!==0&&ot(l,U,l.index);switch(l.lanes=0,l.tag){case 16:e:{var b=l.pendingProps;if(s=pc(l.elementType),l.type=s,typeof s=="function")Au(s)?(b=vc(s,b),l.tag=1,l=ej(null,l,s,b,h)):(l.tag=0,l=d_(null,l,s,b,h));else{if(s!=null){var A=s.$$typeof;if(A===P){l.tag=11,l=KO(null,l,s,b,h);break e}else if(A===$){l.tag=14,l=WO(null,l,s,b,h);break e}}throw l=Q(s)||s,Error(r(306,l,""))}}return l;case 0:return d_(s,l,l.type,l.pendingProps,h);case 1:return b=l.type,A=vc(b,l.pendingProps),ej(s,l,b,A,h);case 3:e:{if(be(l,l.stateNode.containerInfo),s===null)throw Error(r(387));b=l.pendingProps;var j=l.memoizedState;A=j.element,$x(s,l),Jf(l,b,null,h);var I=l.memoizedState;if(b=I.cache,Xs(l,On,b),b!==j.cache&&Mx(l,[On],h,!0),Xf(),b=I.element,j.isDehydrated)if(j={element:b,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){l=tj(s,l,b,h);break e}else if(b!==A){A=y(Error(r(424)),l),dc(A),l=tj(s,l,b,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(wt=Qi(s.firstChild),_t=l,ut=!0,io=null,Wr=!0,h=ZT(l,null,b,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Uo(),b===A){l=qo(s,l,h);break e}dr(s,l,b,h)}l=l.child}return l;case 26:return bg(s,l),s===null?(h=gN(l.type,null,l.pendingProps,null))?l.memoizedState=h:ut||(h=l.type,s=l.pendingProps,b=Rg(me.current).createElement(h),b[An]=l,b[Xn]=s,fr(b,h,s),Tn(b),l.stateNode=b):l.memoizedState=gN(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Oe(l),s===null&&ut&&(b=l.stateNode=hN(l.type,l.pendingProps,me.current),_t=l,Wr=!0,A=wt,ul(l.type)?(X_=A,wt=Qi(b.firstChild)):wt=A),dr(s,l,l.pendingProps.children,h),bg(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&ut&&((A=b=wt)&&(b=yF(b,l.type,l.pendingProps,Wr),b!==null?(l.stateNode=b,_t=l,wt=Qi(b.firstChild),Wr=!1,A=!0):A=!1),A||ao(l)),Oe(l),A=l.type,j=l.pendingProps,I=s!==null?s.memoizedProps:null,b=j.children,Y_(A,j)?b=null:I!==null&&Y_(A,I)&&(l.flags|=32),l.memoizedState!==null&&(A=qx(s,l,MU,null,null,h),bh._currentValue=A),bg(s,l),dr(s,l,b,h),l.child;case 6:return s===null&&ut&&((s=h=wt)&&(h=bF(h,l.pendingProps,Wr),h!==null?(l.stateNode=h,_t=l,wt=null,s=!0):s=!1),s||ao(l)),null;case 13:return nj(s,l,h);case 4:return be(l,l.stateNode.containerInfo),b=l.pendingProps,s===null?l.child=yc(l,null,b,h):dr(s,l,b,h),l.child;case 11:return KO(s,l,l.type,l.pendingProps,h);case 7:return dr(s,l,l.pendingProps,h),l.child;case 8:return dr(s,l,l.pendingProps.children,h),l.child;case 12:return dr(s,l,l.pendingProps.children,h),l.child;case 10:return b=l.pendingProps,Xs(l,l.type,b.value),dr(s,l,b.children,h),l.child;case 9:return A=l.type._context,b=l.pendingProps.children,hc(l),A=ur(A),b=b(A),l.flags|=1,dr(s,l,b,h),l.child;case 14:return WO(s,l,l.type,l.pendingProps,h);case 15:return VO(s,l,l.type,l.pendingProps,h);case 19:return ij(s,l,h);case 31:return zU(s,l,h);case 22:return ZO(s,l,h,l.pendingProps);case 24:return hc(l),b=ur(On),s===null?(A=Rx(),A===null&&(A=Ft,j=Px(),A.pooledCache=j,j.refCount++,j!==null&&(A.pooledCacheLanes|=h),A=j),l.memoizedState={parent:b,cache:A},Ix(l),Xs(l,On,A)):((s.lanes&h)!==0&&($x(s,l),Jf(l,null,null,h),Xf()),A=s.memoizedState,j=l.memoizedState,A.parent!==b?(A={parent:b,cache:b},l.memoizedState=A,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=A),Xs(l,On,b)):(b=j.cache,Xs(l,On,b),b!==A.cache&&Mx(l,[On],h,!0))),dr(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Yo(s){s.flags|=4}function v_(s,l,h,b,A){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(Mj())s.flags|=8192;else throw gc=rg,Lx}else s.flags&=-16777217}function oj(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!_N(l))if(Mj())s.flags|=8192;else throw gc=rg,Lx}function xg(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Ep():536870912,s.lanes|=l,Uu|=l)}function ih(s,l){if(!ut)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:b.sibling=null}}function Xt(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,b=0;if(l)for(var A=s.child;A!==null;)h|=A.lanes|A.childLanes,b|=A.subtreeFlags&65011712,b|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)h|=A.lanes|A.childLanes,b|=A.subtreeFlags,b|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=b,s.childLanes=h,l}function FU(s,l,h){var b=l.pendingProps;switch(pn(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(l),null;case 1:return Xt(l),null;case 3:return h=l.stateNode,b=null,s!==null&&(b=s.memoizedState.cache),l.memoizedState.cache!==b&&(l.flags|=2048),Fo(On),ne(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(ka(l)?Yo(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,qf())),Xt(l),null;case 26:var A=l.type,j=l.memoizedState;return s===null?(Yo(l),j!==null?(Xt(l),oj(l,j)):(Xt(l),v_(l,A,null,b,h))):j?j!==s.memoizedState?(Yo(l),Xt(l),oj(l,j)):(Xt(l),l.flags&=-16777217):(s=s.memoizedProps,s!==b&&Yo(l),Xt(l),v_(l,A,s,b,h)),null;case 27:if(Ce(l),h=me.current,A=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==b&&Yo(l);else{if(!b){if(l.stateNode===null)throw Error(r(166));return Xt(l),null}s=V.current,ka(l)?Gf(l):(s=hN(A,b,h),l.stateNode=s,Yo(l))}return Xt(l),null;case 5:if(Ce(l),A=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==b&&Yo(l);else{if(!b){if(l.stateNode===null)throw Error(r(166));return Xt(l),null}if(j=V.current,ka(l))Gf(l);else{var I=Rg(me.current);switch(j){case 1:j=I.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:j=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":j=I.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":j=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":j=I.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof b.is=="string"?I.createElement("select",{is:b.is}):I.createElement("select"),b.multiple?j.multiple=!0:b.size&&(j.size=b.size);break;default:j=typeof b.is=="string"?I.createElement(A,{is:b.is}):I.createElement(A)}}j[An]=l,j[Xn]=b;e:for(I=l.child;I!==null;){if(I.tag===5||I.tag===6)j.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===l)break e;for(;I.sibling===null;){if(I.return===null||I.return===l)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}l.stateNode=j;e:switch(fr(j,A,b),A){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Yo(l)}}return Xt(l),v_(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,h),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==b&&Yo(l);else{if(typeof b!="string"&&l.stateNode===null)throw Error(r(166));if(s=me.current,ka(l)){if(s=l.stateNode,h=l.memoizedProps,b=null,A=_t,A!==null)switch(A.tag){case 27:case 5:b=A.memoizedProps}s[An]=l,s=!!(s.nodeValue===h||b!==null&&b.suppressHydrationWarning===!0||nN(s.nodeValue,h)),s||ao(l,!0)}else s=Rg(s).createTextNode(b),s[An]=l,l.stateNode=s}return Xt(l),null;case 31:if(h=l.memoizedState,s===null||s.memoizedState!==null){if(b=ka(l),h!==null){if(s===null){if(!b)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[An]=l}else Uo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xt(l),s=!1}else h=qf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return l.flags&256?(_i(l),l):(_i(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Xt(l),null;case 13:if(b=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=ka(l),b!==null&&b.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[An]=l}else Uo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xt(l),A=!1}else A=qf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return l.flags&256?(_i(l),l):(_i(l),null)}return _i(l),(l.flags&128)!==0?(l.lanes=h,l):(h=b!==null,s=s!==null&&s.memoizedState!==null,h&&(b=l.child,A=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(A=b.alternate.memoizedState.cachePool.pool),j=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(j=b.memoizedState.cachePool.pool),j!==A&&(b.flags|=2048)),h!==s&&h&&(l.child.flags|=8192),xg(l,l.updateQueue),Xt(l),null);case 4:return ne(),s===null&&U_(l.stateNode.containerInfo),Xt(l),null;case 10:return Fo(l.type),Xt(l),null;case 19:if(W(_n),b=l.memoizedState,b===null)return Xt(l),null;if(A=(l.flags&128)!==0,j=b.rendering,j===null)if(A)ih(b,!1);else{if(yn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(j=sg(s),j!==null){for(l.flags|=128,ih(b,!1),s=j.updateQueue,l.updateQueue=s,xg(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)Uf(h,s),h=h.sibling;return ae(_n,_n.current&1|2),ut&&qe(l,b.treeForkCount),l.child}s=s.sibling}b.tail!==null&&Be()>kg&&(l.flags|=128,A=!0,ih(b,!1),l.lanes=4194304)}else{if(!A)if(s=sg(j),s!==null){if(l.flags|=128,A=!0,s=s.updateQueue,l.updateQueue=s,xg(l,s),ih(b,!0),b.tail===null&&b.tailMode==="hidden"&&!j.alternate&&!ut)return Xt(l),null}else 2*Be()-b.renderingStartTime>kg&&h!==536870912&&(l.flags|=128,A=!0,ih(b,!1),l.lanes=4194304);b.isBackwards?(j.sibling=l.child,l.child=j):(s=b.last,s!==null?s.sibling=j:l.child=j,b.last=j)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=Be(),s.sibling=null,h=_n.current,ae(_n,A?h&1|2:h&1),ut&&qe(l,b.treeForkCount),s):(Xt(l),null);case 22:case 23:return _i(l),Fx(),b=l.memoizedState!==null,s!==null?s.memoizedState!==null!==b&&(l.flags|=8192):b&&(l.flags|=8192),b?(h&536870912)!==0&&(l.flags&128)===0&&(Xt(l),l.subtreeFlags&6&&(l.flags|=8192)):Xt(l),h=l.updateQueue,h!==null&&xg(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),b=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(b=l.memoizedState.cachePool.pool),b!==h&&(l.flags|=2048),s!==null&&W(mc),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Fo(On),Xt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function HU(s,l){switch(pn(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Fo(On),ne(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ce(l),null;case 31:if(l.memoizedState!==null){if(_i(l),l.alternate===null)throw Error(r(340));Uo()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(_i(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Uo()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return W(_n),null;case 4:return ne(),null;case 10:return Fo(l.type),null;case 22:case 23:return _i(l),Fx(),s!==null&&W(mc),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Fo(On),null;case 25:return null;default:return null}}function sj(s,l){switch(pn(l),l.tag){case 3:Fo(On),ne();break;case 26:case 27:case 5:Ce(l);break;case 4:ne();break;case 31:l.memoizedState!==null&&_i(l);break;case 13:_i(l);break;case 19:W(_n);break;case 10:Fo(l.type);break;case 22:case 23:_i(l),Fx(),s!==null&&W(mc);break;case 24:Fo(On)}}function ah(s,l){try{var h=l.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var A=b.next;h=A;do{if((h.tag&s)===s){b=void 0;var j=h.create,I=h.inst;b=j(),I.destroy=b}h=h.next}while(h!==A)}}catch(G){Rt(l,l.return,G)}}function rl(s,l,h){try{var b=l.updateQueue,A=b!==null?b.lastEffect:null;if(A!==null){var j=A.next;b=j;do{if((b.tag&s)===s){var I=b.inst,G=I.destroy;if(G!==void 0){I.destroy=void 0,A=l;var te=h,he=G;try{he()}catch(Ee){Rt(A,te,Ee)}}}b=b.next}while(b!==j)}}catch(Ee){Rt(l,l.return,Ee)}}function lj(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{JT(l,h)}catch(b){Rt(s,s.return,b)}}}function cj(s,l,h){h.props=vc(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(b){Rt(s,l,b)}}function oh(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var b=s.stateNode;break;case 30:b=s.stateNode;break;default:b=s.stateNode}typeof h=="function"?s.refCleanup=h(b):h.current=b}}catch(A){Rt(s,l,A)}}function so(s,l){var h=s.ref,b=s.refCleanup;if(h!==null)if(typeof b=="function")try{b()}catch(A){Rt(s,l,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(A){Rt(s,l,A)}else h.current=null}function uj(s){var l=s.type,h=s.memoizedProps,b=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&b.focus();break e;case"img":h.src?b.src=h.src:h.srcSet&&(b.srcset=h.srcSet)}}catch(A){Rt(s,s.return,A)}}function x_(s,l,h){try{var b=s.stateNode;dF(b,s.type,h,l),b[Xn]=l}catch(A){Rt(s,s.return,A)}}function dj(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ul(s.type)||s.tag===4}function __(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||dj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ul(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function w_(s,l,h){var b=s.tag;if(b===5||b===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Gr));else if(b!==4&&(b===27&&ul(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(w_(s,l,h),s=s.sibling;s!==null;)w_(s,l,h),s=s.sibling}function _g(s,l,h){var b=s.tag;if(b===5||b===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(b!==4&&(b===27&&ul(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(_g(s,l,h),s=s.sibling;s!==null;)_g(s,l,h),s=s.sibling}function fj(s){var l=s.stateNode,h=s.memoizedProps;try{for(var b=s.type,A=l.attributes;A.length;)l.removeAttributeNode(A[0]);fr(l,b,h),l[An]=s,l[Xn]=h}catch(j){Rt(s,s.return,j)}}var Ko=!1,Cn=!1,S_=!1,hj=typeof WeakSet=="function"?WeakSet:Set,er=null;function GU(s,l){if(s=s.containerInfo,G_=Fg,s=rc(s),Qa(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var b=h.getSelection&&h.getSelection();if(b&&b.rangeCount!==0){h=b.anchorNode;var A=b.anchorOffset,j=b.focusNode;b=b.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var I=0,G=-1,te=-1,he=0,Ee=0,Te=s,ye=null;t:for(;;){for(var xe;Te!==h||A!==0&&Te.nodeType!==3||(G=I+A),Te!==j||b!==0&&Te.nodeType!==3||(te=I+b),Te.nodeType===3&&(I+=Te.nodeValue.length),(xe=Te.firstChild)!==null;)ye=Te,Te=xe;for(;;){if(Te===s)break t;if(ye===h&&++he===A&&(G=I),ye===j&&++Ee===b&&(te=I),(xe=Te.nextSibling)!==null)break;Te=ye,ye=Te.parentNode}Te=xe}h=G===-1||te===-1?null:{start:G,end:te}}else h=null}h=h||{start:0,end:0}}else h=null;for(q_={focusedElem:s,selectionRange:h},Fg=!1,er=l;er!==null;)if(l=er,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,er=s;else for(;er!==null;){switch(l=er,j=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)A=s[h],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&j!==null){s=void 0,h=l,A=j.memoizedProps,j=j.memoizedState,b=h.stateNode;try{var ze=vc(h.type,A);s=b.getSnapshotBeforeUpdate(ze,j),b.__reactInternalSnapshotBeforeUpdate=s}catch(Qe){Rt(h,h.return,Qe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)W_(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":W_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,er=s;break}er=l.return}}function mj(s,l,h){var b=h.flags;switch(h.tag){case 0:case 11:case 15:Vo(s,h),b&4&&ah(5,h);break;case 1:if(Vo(s,h),b&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(I){Rt(h,h.return,I)}else{var A=vc(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(A,l,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Rt(h,h.return,I)}}b&64&&lj(h),b&512&&oh(h,h.return);break;case 3:if(Vo(s,h),b&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{JT(s,l)}catch(I){Rt(h,h.return,I)}}break;case 27:l===null&&b&4&&fj(h);case 26:case 5:Vo(s,h),l===null&&b&4&&uj(h),b&512&&oh(h,h.return);break;case 12:Vo(s,h);break;case 31:Vo(s,h),b&4&&yj(s,h);break;case 13:Vo(s,h),b&4&&bj(s,h),b&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=QU.bind(null,h),vF(s,h))));break;case 22:if(b=h.memoizedState!==null||Ko,!b){l=l!==null&&l.memoizedState!==null||Cn,A=Ko;var j=Cn;Ko=b,(Cn=l)&&!j?Zo(s,h,(h.subtreeFlags&8772)!==0):Vo(s,h),Ko=A,Cn=j}break;case 30:break;default:Vo(s,h)}}function pj(s){var l=s.alternate;l!==null&&(s.alternate=null,pj(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Sf(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,Vr=!1;function Wo(s,l,h){for(h=h.child;h!==null;)gj(s,l,h),h=h.sibling}function gj(s,l,h){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(qt,h)}catch{}switch(h.tag){case 26:Cn||so(h,l),Wo(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Cn||so(h,l);var b=tn,A=Vr;ul(h.type)&&(tn=h.stateNode,Vr=!1),Wo(s,l,h),ph(h.stateNode),tn=b,Vr=A;break;case 5:Cn||so(h,l);case 6:if(b=tn,A=Vr,tn=null,Wo(s,l,h),tn=b,Vr=A,tn!==null)if(Vr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(h.stateNode)}catch(j){Rt(h,l,j)}else try{tn.removeChild(h.stateNode)}catch(j){Rt(h,l,j)}break;case 18:tn!==null&&(Vr?(s=tn,lN(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Vu(s)):lN(tn,h.stateNode));break;case 4:b=tn,A=Vr,tn=h.stateNode.containerInfo,Vr=!0,Wo(s,l,h),tn=b,Vr=A;break;case 0:case 11:case 14:case 15:rl(2,h,l),Cn||rl(4,h,l),Wo(s,l,h);break;case 1:Cn||(so(h,l),b=h.stateNode,typeof b.componentWillUnmount=="function"&&cj(h,l,b)),Wo(s,l,h);break;case 21:Wo(s,l,h);break;case 22:Cn=(b=Cn)||h.memoizedState!==null,Wo(s,l,h),Cn=b;break;default:Wo(s,l,h)}}function yj(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Vu(s)}catch(h){Rt(l,l.return,h)}}}function bj(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Vu(s)}catch(h){Rt(l,l.return,h)}}function qU(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new hj),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new hj),l;default:throw Error(r(435,s.tag))}}function wg(s,l){var h=qU(s);l.forEach(function(b){if(!h.has(b)){h.add(b);var A=eF.bind(null,s,b);b.then(A,A)}})}function Zr(s,l){var h=l.deletions;if(h!==null)for(var b=0;b<h.length;b++){var A=h[b],j=s,I=l,G=I;e:for(;G!==null;){switch(G.tag){case 27:if(ul(G.type)){tn=G.stateNode,Vr=!1;break e}break;case 5:tn=G.stateNode,Vr=!1;break e;case 3:case 4:tn=G.stateNode.containerInfo,Vr=!0;break e}G=G.return}if(tn===null)throw Error(r(160));gj(j,I,A),tn=null,Vr=!1,j=A.alternate,j!==null&&(j.return=null),A.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)vj(l,s),l=l.sibling}var Ta=null;function vj(s,l){var h=s.alternate,b=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Zr(l,s),Xr(s),b&4&&(rl(3,s,s.return),ah(3,s),rl(5,s,s.return));break;case 1:Zr(l,s),Xr(s),b&512&&(Cn||h===null||so(h,h.return)),b&64&&Ko&&(s=s.updateQueue,s!==null&&(b=s.callbacks,b!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?b:h.concat(b))));break;case 26:var A=Ta;if(Zr(l,s),Xr(s),b&512&&(Cn||h===null||so(h,h.return)),b&4){var j=h!==null?h.memoizedState:null;if(b=s.memoizedState,h===null)if(b===null)if(s.stateNode===null){e:{b=s.type,h=s.memoizedProps,A=A.ownerDocument||A;t:switch(b){case"title":j=A.getElementsByTagName("title")[0],(!j||j[Ul]||j[An]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=A.createElement(b),A.head.insertBefore(j,A.querySelector("head > title"))),fr(j,b,h),j[An]=s,Tn(j),b=j;break e;case"link":var I=vN("link","href",A).get(b+(h.href||""));if(I){for(var G=0;G<I.length;G++)if(j=I[G],j.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&j.getAttribute("rel")===(h.rel==null?null:h.rel)&&j.getAttribute("title")===(h.title==null?null:h.title)&&j.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){I.splice(G,1);break t}}j=A.createElement(b),fr(j,b,h),A.head.appendChild(j);break;case"meta":if(I=vN("meta","content",A).get(b+(h.content||""))){for(G=0;G<I.length;G++)if(j=I[G],j.getAttribute("content")===(h.content==null?null:""+h.content)&&j.getAttribute("name")===(h.name==null?null:h.name)&&j.getAttribute("property")===(h.property==null?null:h.property)&&j.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&j.getAttribute("charset")===(h.charSet==null?null:h.charSet)){I.splice(G,1);break t}}j=A.createElement(b),fr(j,b,h),A.head.appendChild(j);break;default:throw Error(r(468,b))}j[An]=s,Tn(j),b=j}s.stateNode=b}else xN(A,s.type,s.stateNode);else s.stateNode=bN(A,b,s.memoizedProps);else j!==b?(j===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):j.count--,b===null?xN(A,s.type,s.stateNode):bN(A,b,s.memoizedProps)):b===null&&s.stateNode!==null&&x_(s,s.memoizedProps,h.memoizedProps)}break;case 27:Zr(l,s),Xr(s),b&512&&(Cn||h===null||so(h,h.return)),h!==null&&b&4&&x_(s,s.memoizedProps,h.memoizedProps);break;case 5:if(Zr(l,s),Xr(s),b&512&&(Cn||h===null||so(h,h.return)),s.flags&32){A=s.stateNode;try{Gi(A,"")}catch(ze){Rt(s,s.return,ze)}}b&4&&s.stateNode!=null&&(A=s.memoizedProps,x_(s,A,h!==null?h.memoizedProps:A)),b&1024&&(S_=!0);break;case 6:if(Zr(l,s),Xr(s),b&4){if(s.stateNode===null)throw Error(r(162));b=s.memoizedProps,h=s.stateNode;try{h.nodeValue=b}catch(ze){Rt(s,s.return,ze)}}break;case 3:if($g=null,A=Ta,Ta=Lg(l.containerInfo),Zr(l,s),Ta=A,Xr(s),b&4&&h!==null&&h.memoizedState.isDehydrated)try{Vu(l.containerInfo)}catch(ze){Rt(s,s.return,ze)}S_&&(S_=!1,xj(s));break;case 4:b=Ta,Ta=Lg(s.stateNode.containerInfo),Zr(l,s),Xr(s),Ta=b;break;case 12:Zr(l,s),Xr(s);break;case 31:Zr(l,s),Xr(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,wg(s,b)));break;case 13:Zr(l,s),Xr(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Eg=Be()),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,wg(s,b)));break;case 22:A=s.memoizedState!==null;var te=h!==null&&h.memoizedState!==null,he=Ko,Ee=Cn;if(Ko=he||A,Cn=Ee||te,Zr(l,s),Cn=Ee,Ko=he,Xr(s),b&8192)e:for(l=s.stateNode,l._visibility=A?l._visibility&-2:l._visibility|1,A&&(h===null||te||Ko||Cn||xc(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){te=h=l;try{if(j=te.stateNode,A)I=j.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{G=te.stateNode;var Te=te.memoizedProps.style,ye=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;G.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(ze){Rt(te,te.return,ze)}}}else if(l.tag===6){if(h===null){te=l;try{te.stateNode.nodeValue=A?"":te.memoizedProps}catch(ze){Rt(te,te.return,ze)}}}else if(l.tag===18){if(h===null){te=l;try{var xe=te.stateNode;A?cN(xe,!0):cN(te.stateNode,!1)}catch(ze){Rt(te,te.return,ze)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}b&4&&(b=s.updateQueue,b!==null&&(h=b.retryQueue,h!==null&&(b.retryQueue=null,wg(s,h))));break;case 19:Zr(l,s),Xr(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,wg(s,b)));break;case 30:break;case 21:break;default:Zr(l,s),Xr(s)}}function Xr(s){var l=s.flags;if(l&2){try{for(var h,b=s.return;b!==null;){if(dj(b)){h=b;break}b=b.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var A=h.stateNode,j=__(s);_g(s,j,A);break;case 5:var I=h.stateNode;h.flags&32&&(Gi(I,""),h.flags&=-33);var G=__(s);_g(s,G,I);break;case 3:case 4:var te=h.stateNode.containerInfo,he=__(s);w_(s,he,te);break;default:throw Error(r(161))}}catch(Ee){Rt(s,s.return,Ee)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function xj(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;xj(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Vo(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)mj(s,l.alternate,l),l=l.sibling}function xc(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:rl(4,l,l.return),xc(l);break;case 1:so(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&cj(l,l.return,h),xc(l);break;case 27:ph(l.stateNode);case 26:case 5:so(l,l.return),xc(l);break;case 22:l.memoizedState===null&&xc(l);break;case 30:xc(l);break;default:xc(l)}s=s.sibling}}function Zo(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var b=l.alternate,A=s,j=l,I=j.flags;switch(j.tag){case 0:case 11:case 15:Zo(A,j,h),ah(4,j);break;case 1:if(Zo(A,j,h),b=j,A=b.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(he){Rt(b,b.return,he)}if(b=j,A=b.updateQueue,A!==null){var G=b.stateNode;try{var te=A.shared.hiddenCallbacks;if(te!==null)for(A.shared.hiddenCallbacks=null,A=0;A<te.length;A++)XT(te[A],G)}catch(he){Rt(b,b.return,he)}}h&&I&64&&lj(j),oh(j,j.return);break;case 27:fj(j);case 26:case 5:Zo(A,j,h),h&&b===null&&I&4&&uj(j),oh(j,j.return);break;case 12:Zo(A,j,h);break;case 31:Zo(A,j,h),h&&I&4&&yj(A,j);break;case 13:Zo(A,j,h),h&&I&4&&bj(A,j);break;case 22:j.memoizedState===null&&Zo(A,j,h),oh(j,j.return);break;case 30:break;default:Zo(A,j,h)}l=l.sibling}}function E_(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Yf(h))}function k_(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Yf(s))}function Oa(s,l,h,b){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)_j(s,l,h,b),l=l.sibling}function _j(s,l,h,b){var A=l.flags;switch(l.tag){case 0:case 11:case 15:Oa(s,l,h,b),A&2048&&ah(9,l);break;case 1:Oa(s,l,h,b);break;case 3:Oa(s,l,h,b),A&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Yf(s)));break;case 12:if(A&2048){Oa(s,l,h,b),s=l.stateNode;try{var j=l.memoizedProps,I=j.id,G=j.onPostCommit;typeof G=="function"&&G(I,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Rt(l,l.return,te)}}else Oa(s,l,h,b);break;case 31:Oa(s,l,h,b);break;case 13:Oa(s,l,h,b);break;case 23:break;case 22:j=l.stateNode,I=l.alternate,l.memoizedState!==null?j._visibility&2?Oa(s,l,h,b):sh(s,l):j._visibility&2?Oa(s,l,h,b):(j._visibility|=2,$u(s,l,h,b,(l.subtreeFlags&10256)!==0||!1)),A&2048&&E_(I,l);break;case 24:Oa(s,l,h,b),A&2048&&k_(l.alternate,l);break;default:Oa(s,l,h,b)}}function $u(s,l,h,b,A){for(A=A&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var j=s,I=l,G=h,te=b,he=I.flags;switch(I.tag){case 0:case 11:case 15:$u(j,I,G,te,A),ah(8,I);break;case 23:break;case 22:var Ee=I.stateNode;I.memoizedState!==null?Ee._visibility&2?$u(j,I,G,te,A):sh(j,I):(Ee._visibility|=2,$u(j,I,G,te,A)),A&&he&2048&&E_(I.alternate,I);break;case 24:$u(j,I,G,te,A),A&&he&2048&&k_(I.alternate,I);break;default:$u(j,I,G,te,A)}l=l.sibling}}function sh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,b=l,A=b.flags;switch(b.tag){case 22:sh(h,b),A&2048&&E_(b.alternate,b);break;case 24:sh(h,b),A&2048&&k_(b.alternate,b);break;default:sh(h,b)}l=l.sibling}}var lh=8192;function Bu(s,l,h){if(s.subtreeFlags&lh)for(s=s.child;s!==null;)wj(s,l,h),s=s.sibling}function wj(s,l,h){switch(s.tag){case 26:Bu(s,l,h),s.flags&lh&&s.memoizedState!==null&&CF(h,Ta,s.memoizedState,s.memoizedProps);break;case 5:Bu(s,l,h);break;case 3:case 4:var b=Ta;Ta=Lg(s.stateNode.containerInfo),Bu(s,l,h),Ta=b;break;case 22:s.memoizedState===null&&(b=s.alternate,b!==null&&b.memoizedState!==null?(b=lh,lh=16777216,Bu(s,l,h),lh=b):Bu(s,l,h));break;default:Bu(s,l,h)}}function Sj(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function ch(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var b=l[h];er=b,kj(b,s)}Sj(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ej(s),s=s.sibling}function Ej(s){switch(s.tag){case 0:case 11:case 15:ch(s),s.flags&2048&&rl(9,s,s.return);break;case 3:ch(s);break;case 12:ch(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Sg(s)):ch(s);break;default:ch(s)}}function Sg(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var b=l[h];er=b,kj(b,s)}Sj(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:rl(8,l,l.return),Sg(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,Sg(l));break;default:Sg(l)}s=s.sibling}}function kj(s,l){for(;er!==null;){var h=er;switch(h.tag){case 0:case 11:case 15:rl(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var b=h.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Yf(h.memoizedState.cache)}if(b=h.child,b!==null)b.return=h,er=b;else e:for(h=s;er!==null;){b=er;var A=b.sibling,j=b.return;if(pj(b),b===h){er=null;break e}if(A!==null){A.return=j,er=A;break e}er=j}}}var YU={getCacheForType:function(s){var l=ur(On),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h},cacheSignal:function(){return ur(On).controller.signal}},KU=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ft=null,dt=null,mt=0,Dt=0,wi=null,il=!1,zu=!1,A_=!1,Xo=0,yn=0,al=0,_c=0,T_=0,Si=0,Uu=0,uh=null,Jr=null,O_=!1,Eg=0,Aj=0,kg=1/0,Ag=null,ol=null,Bn=0,sl=null,Fu=null,Jo=0,j_=0,N_=null,Tj=null,dh=0,C_=null;function Ei(){return(Tt&2)!==0&&mt!==0?mt&-mt:Y.T!==null?I_():_f()}function Oj(){if(Si===0)if((mt&536870912)===0||ut){var s=$l;$l<<=1,($l&3932160)===0&&($l=262144),Si=s}else Si=536870912;return s=xi.current,s!==null&&(s.flags|=32),Si}function Qr(s,l,h){(s===Ft&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)&&(Hu(s,0),ll(s,mt,Si,!1)),Co(s,h),((Tt&2)===0||s!==Ft)&&(s===Ft&&((Tt&2)===0&&(_c|=h),yn===4&&ll(s,mt,Si,!1)),lo(s))}function jj(s,l,h){if((Tt&6)!==0)throw Error(r(327));var b=!h&&(l&127)===0&&(l&s.expiredLanes)===0||zl(s,l),A=b?ZU(s,l):P_(s,l,!0),j=b;do{if(A===0){zu&&!b&&ll(s,l,0,!1);break}else{if(h=s.current.alternate,j&&!WU(h)){A=P_(s,l,!1),j=!1;continue}if(A===2){if(j=l,s.errorRecoveryDisabledLanes&j)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var G=s;A=uh;var te=G.current.memoizedState.isDehydrated;if(te&&(Hu(G,I).flags|=256),I=P_(G,I,!1),I!==2){if(A_&&!te){G.errorRecoveryDisabledLanes|=j,_c|=j,A=4;break e}j=Jr,Jr=A,j!==null&&(Jr===null?Jr=j:Jr.push.apply(Jr,j))}A=I}if(j=!1,A!==2)continue}}if(A===1){Hu(s,0),ll(s,l,0,!0);break}e:{switch(b=s,j=A,j){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ll(b,l,Si,!il);break e;case 2:Jr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(A=Eg+300-Be(),10<A)){if(ll(b,l,Si,!il),cu(b,0,!0)!==0)break e;Jo=l,b.timeoutHandle=oN(Nj.bind(null,b,h,Jr,Ag,O_,l,Si,_c,Uu,il,j,"Throttled",-0,0),A);break e}Nj(b,h,Jr,Ag,O_,l,Si,_c,Uu,il,j,null,-0,0)}}break}while(!0);lo(s)}function Nj(s,l,h,b,A,j,I,G,te,he,Ee,Te,ye,xe){if(s.timeoutHandle=-1,Te=l.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gr},wj(l,j,Te);var ze=(j&62914560)===j?Eg-Be():(j&4194048)===j?Aj-Be():0;if(ze=MF(Te,ze),ze!==null){Jo=j,s.cancelPendingCommit=ze($j.bind(null,s,l,j,h,b,A,I,G,te,Ee,Te,null,ye,xe)),ll(s,j,I,!he);return}}$j(s,l,j,h,b,A,I,G,te)}function WU(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var b=0;b<h.length;b++){var A=h[b],j=A.getSnapshot;A=A.value;try{if(!Jn(j(),A))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ll(s,l,h,b){l&=~T_,l&=~_c,s.suspendedLanes|=l,s.pingedLanes&=~l,b&&(s.warmLanes|=l),b=s.expirationTimes;for(var A=l;0<A;){var j=31-Or(A),I=1<<j;b[j]=-1,A&=~I}h!==0&&kp(s,h,l)}function Tg(){return(Tt&6)===0?(fh(0),!1):!0}function M_(){if(dt!==null){if(Dt===0)var s=dt.return;else s=dt,Aa=oo=null,Wx(s),Pu=null,Wf=0,s=dt;for(;s!==null;)sj(s.alternate,s),s=s.return;dt=null}}function Hu(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,mF(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Jo=0,M_(),Ft=s,dt=h=Xi(s.current,null),mt=l,Dt=0,wi=null,il=!1,zu=zl(s,l),A_=!1,Uu=Si=T_=_c=al=yn=0,Jr=uh=null,O_=!1,(l&8)!==0&&(l|=l&32);var b=s.entangledLanes;if(b!==0)for(s=s.entanglements,b&=l;0<b;){var A=31-Or(b),j=1<<A;l|=s[A],b&=~j}return Xo=l,lc(),h}function Cj(s,l){it=null,Y.H=nh,l===Mu||l===ng?(l=KT(),Dt=3):l===Lx?(l=KT(),Dt=4):Dt=l===u_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,wi=l,dt===null&&(yn=1,gg(s,y(l,s.current)))}function Mj(){var s=xi.current;return s===null?!0:(mt&4194048)===mt?Ji===null:(mt&62914560)===mt||(mt&536870912)!==0?s===Ji:!1}function Pj(){var s=Y.H;return Y.H=nh,s===null?nh:s}function Dj(){var s=Y.A;return Y.A=YU,s}function Og(){yn=4,il||(mt&4194048)!==mt&&xi.current!==null||(zu=!0),(al&134217727)===0&&(_c&134217727)===0||Ft===null||ll(Ft,mt,Si,!1)}function P_(s,l,h){var b=Tt;Tt|=2;var A=Pj(),j=Dj();(Ft!==s||mt!==l)&&(Ag=null,Hu(s,l)),l=!1;var I=yn;e:do try{if(Dt!==0&&dt!==null){var G=dt,te=wi;switch(Dt){case 8:M_(),I=6;break e;case 3:case 2:case 9:case 6:xi.current===null&&(l=!0);var he=Dt;if(Dt=0,wi=null,Gu(s,G,te,he),h&&zu){I=0;break e}break;default:he=Dt,Dt=0,wi=null,Gu(s,G,te,he)}}VU(),I=yn;break}catch(Ee){Cj(s,Ee)}while(!0);return l&&s.shellSuspendCounter++,Aa=oo=null,Tt=b,Y.H=A,Y.A=j,dt===null&&(Ft=null,mt=0,lc()),I}function VU(){for(;dt!==null;)Rj(dt)}function ZU(s,l){var h=Tt;Tt|=2;var b=Pj(),A=Dj();Ft!==s||mt!==l?(Ag=null,kg=Be()+500,Hu(s,l)):zu=zl(s,l);e:do try{if(Dt!==0&&dt!==null){l=dt;var j=wi;t:switch(Dt){case 1:Dt=0,wi=null,Gu(s,l,j,1);break;case 2:case 9:if(qT(j)){Dt=0,wi=null,Lj(l);break}l=function(){Dt!==2&&Dt!==9||Ft!==s||(Dt=7),lo(s)},j.then(l,l);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:qT(j)?(Dt=0,wi=null,Lj(l)):(Dt=0,wi=null,Gu(s,l,j,7));break;case 5:var I=null;switch(dt.tag){case 26:I=dt.memoizedState;case 5:case 27:var G=dt;if(I?_N(I):G.stateNode.complete){Dt=0,wi=null;var te=G.sibling;if(te!==null)dt=te;else{var he=G.return;he!==null?(dt=he,jg(he)):dt=null}break t}}Dt=0,wi=null,Gu(s,l,j,5);break;case 6:Dt=0,wi=null,Gu(s,l,j,6);break;case 8:M_(),yn=6;break e;default:throw Error(r(462))}}XU();break}catch(Ee){Cj(s,Ee)}while(!0);return Aa=oo=null,Y.H=b,Y.A=A,Tt=h,dt!==null?0:(Ft=null,mt=0,lc(),yn)}function XU(){for(;dt!==null&&!fe();)Rj(dt)}function Rj(s){var l=aj(s.alternate,s,Xo);s.memoizedProps=s.pendingProps,l===null?jg(s):dt=l}function Lj(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=QO(h,l,l.pendingProps,l.type,void 0,mt);break;case 11:l=QO(h,l,l.pendingProps,l.type.render,l.ref,mt);break;case 5:Wx(l);default:sj(h,l),l=dt=Uf(l,Xo),l=aj(h,l,Xo)}s.memoizedProps=s.pendingProps,l===null?jg(s):dt=l}function Gu(s,l,h,b){Aa=oo=null,Wx(l),Pu=null,Wf=0;var A=l.return;try{if(BU(s,A,l,h,mt)){yn=1,gg(s,y(h,s.current)),dt=null;return}}catch(j){if(A!==null)throw dt=A,j;yn=1,gg(s,y(h,s.current)),dt=null;return}l.flags&32768?(ut||b===1?s=!0:zu||(mt&536870912)!==0?s=!1:(il=s=!0,(b===2||b===9||b===3||b===6)&&(b=xi.current,b!==null&&b.tag===13&&(b.flags|=16384))),Ij(l,s)):jg(l)}function jg(s){var l=s;do{if((l.flags&32768)!==0){Ij(l,il);return}s=l.return;var h=FU(l.alternate,l,Xo);if(h!==null){dt=h;return}if(l=l.sibling,l!==null){dt=l;return}dt=l=s}while(l!==null);yn===0&&(yn=5)}function Ij(s,l){do{var h=HU(s.alternate,s);if(h!==null){h.flags&=32767,dt=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){dt=s;return}dt=s=h}while(s!==null);yn=6,dt=null}function $j(s,l,h,b,A,j,I,G,te){s.cancelPendingCommit=null;do Ng();while(Bn!==0);if((Tt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(j=l.lanes|l.childLanes,j|=ku,px(s,h,j,I,G,te),s===Ft&&(dt=Ft=null,mt=0),Fu=l,sl=s,Jo=h,j_=j,N_=A,Tj=b,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,tF(Zn,function(){return Hj(),null})):(s.callbackNode=null,s.callbackPriority=0),b=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||b){b=Y.T,Y.T=null,A=X.p,X.p=2,I=Tt,Tt|=4;try{GU(s,l,h)}finally{Tt=I,X.p=A,Y.T=b}}Bn=1,Bj(),zj(),Uj()}}function Bj(){if(Bn===1){Bn=0;var s=sl,l=Fu,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null;var b=X.p;X.p=2;var A=Tt;Tt|=4;try{vj(l,s);var j=q_,I=rc(s.containerInfo),G=j.focusedElem,te=j.selectionRange;if(I!==G&&G&&G.ownerDocument&&_u(G.ownerDocument.documentElement,G)){if(te!==null&&Qa(G)){var he=te.start,Ee=te.end;if(Ee===void 0&&(Ee=he),"selectionStart"in G)G.selectionStart=he,G.selectionEnd=Math.min(Ee,G.value.length);else{var Te=G.ownerDocument||document,ye=Te&&Te.defaultView||window;if(ye.getSelection){var xe=ye.getSelection(),ze=G.textContent.length,Qe=Math.min(te.start,ze),zt=te.end===void 0?Qe:Math.min(te.end,ze);!xe.extend&&Qe>zt&&(I=zt,zt=Qe,Qe=I);var le=nc(G,Qe),ie=nc(G,zt);if(le&&ie&&(xe.rangeCount!==1||xe.anchorNode!==le.node||xe.anchorOffset!==le.offset||xe.focusNode!==ie.node||xe.focusOffset!==ie.offset)){var de=Te.createRange();de.setStart(le.node,le.offset),xe.removeAllRanges(),Qe>zt?(xe.addRange(de),xe.extend(ie.node,ie.offset)):(de.setEnd(ie.node,ie.offset),xe.addRange(de))}}}}for(Te=[],xe=G;xe=xe.parentNode;)xe.nodeType===1&&Te.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Te.length;G++){var ke=Te[G];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Fg=!!G_,q_=G_=null}finally{Tt=A,X.p=b,Y.T=h}}s.current=l,Bn=2}}function zj(){if(Bn===2){Bn=0;var s=sl,l=Fu,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=Y.T,Y.T=null;var b=X.p;X.p=2;var A=Tt;Tt|=4;try{mj(s,l.alternate,l)}finally{Tt=A,X.p=b,Y.T=h}}Bn=3}}function Uj(){if(Bn===4||Bn===3){Bn=0,Me();var s=sl,l=Fu,h=Jo,b=Tj;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Bn=5:(Bn=0,Fu=sl=null,Fj(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(ol=null),He(h),l=l.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(qt,l,void 0,(l.current.flags&128)===128)}catch{}if(b!==null){l=Y.T,A=X.p,X.p=2,Y.T=null;try{for(var j=s.onRecoverableError,I=0;I<b.length;I++){var G=b[I];j(G.value,{componentStack:G.stack})}}finally{Y.T=l,X.p=A}}(Jo&3)!==0&&Ng(),lo(s),A=s.pendingLanes,(h&261930)!==0&&(A&42)!==0?s===C_?dh++:(dh=0,C_=s):dh=0,fh(0)}}function Fj(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Yf(l)))}function Ng(){return Bj(),zj(),Uj(),Hj()}function Hj(){if(Bn!==5)return!1;var s=sl,l=j_;j_=0;var h=He(Jo),b=Y.T,A=X.p;try{X.p=32>h?32:h,Y.T=null,h=N_,N_=null;var j=sl,I=Jo;if(Bn=0,Fu=sl=null,Jo=0,(Tt&6)!==0)throw Error(r(331));var G=Tt;if(Tt|=4,Ej(j.current),_j(j,j.current,I,h),Tt=G,fh(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(qt,j)}catch{}return!0}finally{X.p=A,Y.T=b,Fj(s,l)}}function Gj(s,l,h){l=y(h,l),l=c_(s.stateNode,l,2),s=el(s,l,2),s!==null&&(Co(s,2),lo(s))}function Rt(s,l,h){if(s.tag===3)Gj(s,s,h);else for(;l!==null;){if(l.tag===3){Gj(l,s,h);break}else if(l.tag===1){var b=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(ol===null||!ol.has(b))){s=y(h,s),h=qO(2),b=el(l,h,2),b!==null&&(YO(h,b,l,s),Co(b,2),lo(b));break}}l=l.return}}function D_(s,l,h){var b=s.pingCache;if(b===null){b=s.pingCache=new KU;var A=new Set;b.set(l,A)}else A=b.get(l),A===void 0&&(A=new Set,b.set(l,A));A.has(h)||(A_=!0,A.add(h),s=JU.bind(null,s,l,h),l.then(s,s))}function JU(s,l,h){var b=s.pingCache;b!==null&&b.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,Ft===s&&(mt&h)===h&&(yn===4||yn===3&&(mt&62914560)===mt&&300>Be()-Eg?(Tt&2)===0&&Hu(s,0):T_|=h,Uu===mt&&(Uu=0)),lo(s)}function qj(s,l){l===0&&(l=Ep()),s=Zi(s,l),s!==null&&(Co(s,l),lo(s))}function QU(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),qj(s,h)}function eF(s,l){var h=0;switch(s.tag){case 31:case 13:var b=s.stateNode,A=s.memoizedState;A!==null&&(h=A.retryLane);break;case 19:b=s.stateNode;break;case 22:b=s.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(l),qj(s,h)}function tF(s,l){return xt(s,l)}var Cg=null,qu=null,R_=!1,Mg=!1,L_=!1,cl=0;function lo(s){s!==qu&&s.next===null&&(qu===null?Cg=qu=s:qu=qu.next=s),Mg=!0,R_||(R_=!0,rF())}function fh(s,l){if(!L_&&Mg){L_=!0;do for(var h=!1,b=Cg;b!==null;){if(s!==0){var A=b.pendingLanes;if(A===0)var j=0;else{var I=b.suspendedLanes,G=b.pingedLanes;j=(1<<31-Or(42|s)+1)-1,j&=A&~(I&~G),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(h=!0,Vj(b,j))}else j=mt,j=cu(b,b===Ft?j:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(j&3)===0||zl(b,j)||(h=!0,Vj(b,j));b=b.next}while(h);L_=!1}}function nF(){Yj()}function Yj(){Mg=R_=!1;var s=0;cl!==0&&hF()&&(s=cl);for(var l=Be(),h=null,b=Cg;b!==null;){var A=b.next,j=Kj(b,l);j===0?(b.next=null,h===null?Cg=A:h.next=A,A===null&&(qu=h)):(h=b,(s!==0||(j&3)!==0)&&(Mg=!0)),b=A}Bn!==0&&Bn!==5||fh(s),cl!==0&&(cl=0)}function Kj(s,l){for(var h=s.suspendedLanes,b=s.pingedLanes,A=s.expirationTimes,j=s.pendingLanes&-62914561;0<j;){var I=31-Or(j),G=1<<I,te=A[I];te===-1?((G&h)===0||(G&b)!==0)&&(A[I]=mx(G,l)):te<=l&&(s.expiredLanes|=G),j&=~G}if(l=Ft,h=mt,h=cu(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b=s.callbackNode,h===0||s===l&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)return b!==null&&b!==null&&Pt(b),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||zl(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(b!==null&&Pt(b),He(h)){case 2:case 8:h=yt;break;case 32:h=Zn;break;case 268435456:h=mi;break;default:h=Zn}return b=Wj.bind(null,s),h=xt(h,b),s.callbackPriority=l,s.callbackNode=h,l}return b!==null&&b!==null&&Pt(b),s.callbackPriority=2,s.callbackNode=null,2}function Wj(s,l){if(Bn!==0&&Bn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(Ng()&&s.callbackNode!==h)return null;var b=mt;return b=cu(s,s===Ft?b:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b===0?null:(jj(s,b,l),Kj(s,Be()),s.callbackNode!=null&&s.callbackNode===h?Wj.bind(null,s):null)}function Vj(s,l){if(Ng())return null;jj(s,l,!0)}function rF(){pF(function(){(Tt&6)!==0?xt(jt,nF):Yj()})}function I_(){if(cl===0){var s=Nu;s===0&&(s=Il,Il<<=1,(Il&261888)===0&&(Il=256)),cl=s}return cl}function Zj(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:$s(""+s)}function Xj(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function iF(s,l,h,b,A){if(l==="submit"&&h&&h.stateNode===A){var j=Zj((A[Xn]||null).action),I=b.submitter;I&&(l=(l=I[Xn]||null)?Zj(l.formAction):I.getAttribute("formAction"),l!==null&&(j=l,I=null));var G=new mu("action","action",null,b,A);s.push({event:G,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(cl!==0){var te=I?Xj(A,I):new FormData(A);r_(h,{pending:!0,data:te,method:A.method,action:j},null,te)}}else typeof j=="function"&&(G.preventDefault(),te=I?Xj(A,I):new FormData(A),r_(h,{pending:!0,data:te,method:A.method,action:j},j,te))},currentTarget:A}]})}}for(var $_=0;$_<no.length;$_++){var B_=no[$_],aF=B_.toLowerCase(),oF=B_[0].toUpperCase()+B_.slice(1);Yr(aF,"on"+oF)}Yr(ac,"onAnimationEnd"),Yr(Zp,"onAnimationIteration"),Yr(oc,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(Ox,"onTransitionRun"),Yr(Xp,"onTransitionStart"),Yr(jx,"onTransitionCancel"),Yr(Vs,"onTransitionEnd"),Va("onMouseEnter",["mouseout","mouseover"]),Va("onMouseLeave",["mouseout","mouseover"]),Va("onPointerEnter",["pointerout","pointerover"]),Va("onPointerLeave",["pointerout","pointerover"]),Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Do("onBeforeInput",["compositionend","keypress","textInput","paste"]),Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hh));function Jj(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var b=s[h],A=b.event;b=b.listeners;e:{var j=void 0;if(l)for(var I=b.length-1;0<=I;I--){var G=b[I],te=G.instance,he=G.currentTarget;if(G=G.listener,te!==j&&A.isPropagationStopped())break e;j=G,A.currentTarget=he;try{j(A)}catch(Ee){sc(Ee)}A.currentTarget=null,j=te}else for(I=0;I<b.length;I++){if(G=b[I],te=G.instance,he=G.currentTarget,G=G.listener,te!==j&&A.isPropagationStopped())break e;j=G,A.currentTarget=he;try{j(A)}catch(Ee){sc(Ee)}A.currentTarget=null,j=te}}}}function ft(s,l){var h=l[Ka];h===void 0&&(h=l[Ka]=new Set);var b=s+"__bubble";h.has(b)||(Qj(l,s,2,!1),h.add(b))}function z_(s,l,h){var b=0;l&&(b|=4),Qj(h,s,b,l)}var Pg="_reactListening"+Math.random().toString(36).slice(2);function U_(s){if(!s[Pg]){s[Pg]=!0,Np.forEach(function(h){h!=="selectionchange"&&(sF.has(h)||z_(h,!1,s),z_(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Pg]||(l[Pg]=!0,z_("selectionchange",!1,l))}}function Qj(s,l,h,b){switch(ON(l)){case 2:var A=RF;break;case 8:A=LF;break;default:A=nw}h=A.bind(null,l,h,s),A=void 0,!Kl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(A=!0),b?A!==void 0?s.addEventListener(l,h,{capture:!0,passive:A}):s.addEventListener(l,h,!0):A!==void 0?s.addEventListener(l,h,{passive:A}):s.addEventListener(l,h,!1)}function F_(s,l,h,b,A){var j=b;if((l&1)===0&&(l&2)===0&&b!==null)e:for(;;){if(b===null)return;var I=b.tag;if(I===3||I===4){var G=b.stateNode.containerInfo;if(G===A)break;if(I===4)for(I=b.return;I!==null;){var te=I.tag;if((te===3||te===4)&&I.stateNode.containerInfo===A)return;I=I.return}for(;G!==null;){if(I=Po(G),I===null)return;if(te=I.tag,te===5||te===6||te===26||te===27){b=j=I;continue e}G=G.parentNode}}b=b.return}Nf(function(){var he=j,Ee=Yl(h),Te=[];e:{var ye=Jp.get(s);if(ye!==void 0){var xe=mu,ze=s;switch(s){case"keypress":if(Wl(h)===0)break e;case"keydown":case"keyup":xe=$p;break;case"focusin":ze="focus",xe=Pf;break;case"focusout":ze="blur",xe=Pf;break;case"beforeblur":case"afterblur":xe=Pf;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=wx;break;case ac:case Zp:case oc:xe=Df;break;case Vs:xe=Up;break;case"scroll":case"scrollend":xe=ht;break;case"wheel":xe=$o;break;case"copy":case"cut":case"paste":xe=Yi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Bp;break;case"toggle":case"beforetoggle":xe=Xl}var Qe=(l&4)!==0,zt=!Qe&&(s==="scroll"||s==="scrollend"),le=Qe?ye!==null?ye+"Capture":null:ye;Qe=[];for(var ie=he,de;ie!==null;){var ke=ie;if(de=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||de===null||le===null||(ke=Lo(ie,le),ke!=null&&Qe.push(mh(ie,ke,de))),zt)break;ie=ie.return}0<Qe.length&&(ye=new xe(ye,ze,null,h,Ee),Te.push({event:ye,listeners:Qe}))}}if((l&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",ye&&h!==hu&&(ze=h.relatedTarget||h.fromElement)&&(Po(ze)||ze[Mo]))break e;if((xe||ye)&&(ye=Ee.window===Ee?Ee:(ye=Ee.ownerDocument)?ye.defaultView||ye.parentWindow:window,xe?(ze=h.relatedTarget||h.toElement,xe=he,ze=ze?Po(ze):null,ze!==null&&(zt=a(ze),Qe=ze.tag,ze!==zt||Qe!==5&&Qe!==27&&Qe!==6)&&(ze=null)):(xe=null,ze=he),xe!==ze)){if(Qe=Pp,ke="onMouseLeave",le="onMouseEnter",ie="mouse",(s==="pointerout"||s==="pointerover")&&(Qe=Bp,ke="onPointerLeave",le="onPointerEnter",ie="pointer"),zt=xe==null?ye:Wa(xe),de=ze==null?ye:Wa(ze),ye=new Qe(ke,ie+"leave",xe,h,Ee),ye.target=zt,ye.relatedTarget=de,ke=null,Po(Ee)===he&&(Qe=new Qe(le,ie+"enter",ze,h,Ee),Qe.target=de,Qe.relatedTarget=zt,ke=Qe),zt=ke,xe&&ze)t:{for(Qe=lF,le=xe,ie=ze,de=0,ke=le;ke;ke=Qe(ke))de++;ke=0;for(var Xe=ie;Xe;Xe=Qe(Xe))ke++;for(;0<de-ke;)le=Qe(le),de--;for(;0<ke-de;)ie=Qe(ie),ke--;for(;de--;){if(le===ie||ie!==null&&le===ie.alternate){Qe=le;break t}le=Qe(le),ie=Qe(ie)}Qe=null}else Qe=null;xe!==null&&eN(Te,ye,xe,Qe,!1),ze!==null&&zt!==null&&eN(Te,zt,ze,Qe,!0)}}e:{if(ye=he?Wa(he):window,xe=ye.nodeName&&ye.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ye.type==="file")var St=tc;else if(Ki(ye))if(qp)St=Tx;else{St=Ax;var Fe=Sa}else xe=ye.nodeName,!xe||xe.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?he&&ql(he.elementType)&&(St=tc):St=qs;if(St&&(St=St(s,he))){Gp(Te,St,h,Ee);break e}Fe&&Fe(s,ye,he),s==="focusout"&&he&&ye.type==="number"&&he.memoizedProps.value!=null&&xa(ye,"number",ye.value)}switch(Fe=he?Wa(he):window,s){case"focusin":(Ki(Fe)||Fe.contentEditable==="true")&&(eo=Fe,Su=he,ic=null);break;case"focusout":ic=Su=eo=null;break;case"mousedown":Ks=!0;break;case"contextmenu":case"mouseup":case"dragend":Ks=!1,Wp(Te,h,Ee);break;case"selectionchange":if(wu)break;case"keydown":case"keyup":Wp(Te,h,Ee)}var st;if(gu)e:{switch(s){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Fs?Hp(s,h)&&(pt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(pt="onCompositionStart");pt&&(yu&&h.locale!=="ko"&&(Fs||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Fs&&(st=Xa()):(qi=Ee,Io="value"in qi?qi.value:qi.textContent,Fs=!0)),Fe=Dg(he,pt),0<Fe.length&&(pt=new Rf(pt,s,null,h,Ee),Te.push({event:pt,listeners:Fe}),st?pt.data=st:(st=Bf(h),st!==null&&(pt.data=st)))),(st=Ex?vi(s,h):Hs(s,h))&&(pt=Dg(he,"onBeforeInput"),0<pt.length&&(Fe=new Rf("onBeforeInput","beforeinput",null,h,Ee),Te.push({event:Fe,listeners:pt}),Fe.data=st)),iF(Te,s,he,h,Ee)}Jj(Te,l)})}function mh(s,l,h){return{instance:s,listener:l,currentTarget:h}}function Dg(s,l){for(var h=l+"Capture",b=[];s!==null;){var A=s,j=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||j===null||(A=Lo(s,h),A!=null&&b.unshift(mh(s,A,j)),A=Lo(s,l),A!=null&&b.push(mh(s,A,j))),s.tag===3)return b;s=s.return}return[]}function lF(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function eN(s,l,h,b,A){for(var j=l._reactName,I=[];h!==null&&h!==b;){var G=h,te=G.alternate,he=G.stateNode;if(G=G.tag,te!==null&&te===b)break;G!==5&&G!==26&&G!==27||he===null||(te=he,A?(he=Lo(h,j),he!=null&&I.unshift(mh(h,he,te))):A||(he=Lo(h,j),he!=null&&I.push(mh(h,he,te)))),h=h.return}I.length!==0&&s.push({event:l,listeners:I})}var cF=/\r\n?/g,uF=/\u0000|\uFFFD/g;function tN(s){return(typeof s=="string"?s:""+s).replace(cF,`
`).replace(uF,"")}function nN(s,l){return l=tN(l),tN(s)===l}function Bt(s,l,h,b,A,j){switch(h){case"children":typeof b=="string"?l==="body"||l==="textarea"&&b===""||Gi(s,b):(typeof b=="number"||typeof b=="bigint")&&l!=="body"&&Gi(s,""+b);break;case"className":It(s,"class",b);break;case"tabIndex":It(s,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":It(s,h,b);break;case"style":du(s,b,j);break;case"data":if(l!=="object"){It(s,"data",b);break}case"src":case"href":if(b===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(h);break}b=$s(""+b),s.setAttribute(h,b);break;case"action":case"formAction":if(typeof b=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(h==="formAction"?(l!=="input"&&Bt(s,l,"name",A.name,A,null),Bt(s,l,"formEncType",A.formEncType,A,null),Bt(s,l,"formMethod",A.formMethod,A,null),Bt(s,l,"formTarget",A.formTarget,A,null)):(Bt(s,l,"encType",A.encType,A,null),Bt(s,l,"method",A.method,A,null),Bt(s,l,"target",A.target,A,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(h);break}b=$s(""+b),s.setAttribute(h,b);break;case"onClick":b!=null&&(s.onclick=Gr);break;case"onScroll":b!=null&&ft("scroll",s);break;case"onScrollEnd":b!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":s.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){s.removeAttribute("xlink:href");break}h=$s(""+b),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,""+b):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":b===!0?s.setAttribute(h,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,b):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?s.setAttribute(h,b):s.removeAttribute(h);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?s.removeAttribute(h):s.setAttribute(h,b);break;case"popover":ft("beforetoggle",s),ft("toggle",s),ct(s,"popover",b);break;case"xlinkActuate":Hr(s,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Hr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Hr(s,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Hr(s,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Hr(s,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Hr(s,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Hr(s,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Hr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Hr(s,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":ct(s,"is",b);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=fu.get(h)||h,ct(s,h,b))}}function H_(s,l,h,b,A,j){switch(h){case"style":du(s,b,j);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof b=="string"?Gi(s,b):(typeof b=="number"||typeof b=="bigint")&&Gi(s,""+b);break;case"onScroll":b!=null&&ft("scroll",s);break;case"onScrollEnd":b!=null&&ft("scrollend",s);break;case"onClick":b!=null&&(s.onclick=Gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cp.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(A=h.endsWith("Capture"),l=h.slice(2,A?h.length-7:void 0),j=s[Xn]||null,j=j!=null?j[h]:null,typeof j=="function"&&s.removeEventListener(l,j,A),typeof b=="function")){typeof j!="function"&&j!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,b,A);break e}h in s?s[h]=b:b===!0?s.setAttribute(h,""):ct(s,h,b)}}}function fr(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var b=!1,A=!1,j;for(j in h)if(h.hasOwnProperty(j)){var I=h[j];if(I!=null)switch(j){case"src":b=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Bt(s,l,j,I,h,null)}}A&&Bt(s,l,"srcSet",h.srcSet,h,null),b&&Bt(s,l,"src",h.src,h,null);return;case"input":ft("invalid",s);var G=j=I=A=null,te=null,he=null;for(b in h)if(h.hasOwnProperty(b)){var Ee=h[b];if(Ee!=null)switch(b){case"name":A=Ee;break;case"type":I=Ee;break;case"checked":te=Ee;break;case"defaultChecked":he=Ee;break;case"value":j=Ee;break;case"defaultValue":G=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,l));break;default:Bt(s,l,b,Ee,h,null)}}Gl(s,j,G,te,he,I,A,!1);return;case"select":ft("invalid",s),b=I=j=null;for(A in h)if(h.hasOwnProperty(A)&&(G=h[A],G!=null))switch(A){case"value":j=G;break;case"defaultValue":I=G;break;case"multiple":b=G;default:Bt(s,l,A,G,h,null)}l=j,h=I,s.multiple=!!b,l!=null?Ut(s,!!b,l,!1):h!=null&&Ut(s,!!b,h,!0);return;case"textarea":ft("invalid",s),j=A=b=null;for(I in h)if(h.hasOwnProperty(I)&&(G=h[I],G!=null))switch(I){case"value":b=G;break;case"defaultValue":A=G;break;case"children":j=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Bt(s,l,I,G,h,null)}Ls(s,b,A,j);return;case"option":for(te in h)if(h.hasOwnProperty(te)&&(b=h[te],b!=null))switch(te){case"selected":s.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Bt(s,l,te,b,h,null)}return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(b=0;b<hh.length;b++)ft(hh[b],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in h)if(h.hasOwnProperty(he)&&(b=h[he],b!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Bt(s,l,he,b,h,null)}return;default:if(ql(l)){for(Ee in h)h.hasOwnProperty(Ee)&&(b=h[Ee],b!==void 0&&H_(s,l,Ee,b,h,void 0));return}}for(G in h)h.hasOwnProperty(G)&&(b=h[G],b!=null&&Bt(s,l,G,b,h,null))}function dF(s,l,h,b){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,j=null,I=null,G=null,te=null,he=null,Ee=null;for(xe in h){var Te=h[xe];if(h.hasOwnProperty(xe)&&Te!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":te=Te;default:b.hasOwnProperty(xe)||Bt(s,l,xe,null,b,Te)}}for(var ye in b){var xe=b[ye];if(Te=h[ye],b.hasOwnProperty(ye)&&(xe!=null||Te!=null))switch(ye){case"type":j=xe;break;case"name":A=xe;break;case"checked":he=xe;break;case"defaultChecked":Ee=xe;break;case"value":I=xe;break;case"defaultValue":G=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,l));break;default:xe!==Te&&Bt(s,l,ye,xe,b,Te)}}Tf(s,I,G,te,he,Ee,j,A);return;case"select":xe=I=G=ye=null;for(j in h)if(te=h[j],h.hasOwnProperty(j)&&te!=null)switch(j){case"value":break;case"multiple":xe=te;default:b.hasOwnProperty(j)||Bt(s,l,j,null,b,te)}for(A in b)if(j=b[A],te=h[A],b.hasOwnProperty(A)&&(j!=null||te!=null))switch(A){case"value":ye=j;break;case"defaultValue":G=j;break;case"multiple":I=j;default:j!==te&&Bt(s,l,A,j,b,te)}l=G,h=I,b=xe,ye!=null?Ut(s,!!h,ye,!1):!!b!=!!h&&(l!=null?Ut(s,!!h,l,!0):Ut(s,!!h,h?[]:"",!1));return;case"textarea":xe=ye=null;for(G in h)if(A=h[G],h.hasOwnProperty(G)&&A!=null&&!b.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Bt(s,l,G,null,b,A)}for(I in b)if(A=b[I],j=h[I],b.hasOwnProperty(I)&&(A!=null||j!=null))switch(I){case"value":ye=A;break;case"defaultValue":xe=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==j&&Bt(s,l,I,A,b,j)}Za(s,ye,xe);return;case"option":for(var ze in h)if(ye=h[ze],h.hasOwnProperty(ze)&&ye!=null&&!b.hasOwnProperty(ze))switch(ze){case"selected":s.selected=!1;break;default:Bt(s,l,ze,null,b,ye)}for(te in b)if(ye=b[te],xe=h[te],b.hasOwnProperty(te)&&ye!==xe&&(ye!=null||xe!=null))switch(te){case"selected":s.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:Bt(s,l,te,ye,b,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in h)ye=h[Qe],h.hasOwnProperty(Qe)&&ye!=null&&!b.hasOwnProperty(Qe)&&Bt(s,l,Qe,null,b,ye);for(he in b)if(ye=b[he],xe=h[he],b.hasOwnProperty(he)&&ye!==xe&&(ye!=null||xe!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,l));break;default:Bt(s,l,he,ye,b,xe)}return;default:if(ql(l)){for(var zt in h)ye=h[zt],h.hasOwnProperty(zt)&&ye!==void 0&&!b.hasOwnProperty(zt)&&H_(s,l,zt,void 0,b,ye);for(Ee in b)ye=b[Ee],xe=h[Ee],!b.hasOwnProperty(Ee)||ye===xe||ye===void 0&&xe===void 0||H_(s,l,Ee,ye,b,xe);return}}for(var le in h)ye=h[le],h.hasOwnProperty(le)&&ye!=null&&!b.hasOwnProperty(le)&&Bt(s,l,le,null,b,ye);for(Te in b)ye=b[Te],xe=h[Te],!b.hasOwnProperty(Te)||ye===xe||ye==null&&xe==null||Bt(s,l,Te,ye,b,xe)}function rN(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fF(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,h=performance.getEntriesByType("resource"),b=0;b<h.length;b++){var A=h[b],j=A.transferSize,I=A.initiatorType,G=A.duration;if(j&&G&&rN(I)){for(I=0,G=A.responseEnd,b+=1;b<h.length;b++){var te=h[b],he=te.startTime;if(he>G)break;var Ee=te.transferSize,Te=te.initiatorType;Ee&&rN(Te)&&(te=te.responseEnd,I+=Ee*(te<G?1:(G-he)/(te-he)))}if(--b,l+=8*(j+I)/(A.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var G_=null,q_=null;function Rg(s){return s.nodeType===9?s:s.ownerDocument}function iN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aN(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function Y_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var K_=null;function hF(){var s=window.event;return s&&s.type==="popstate"?s===K_?!1:(K_=s,!0):(K_=null,!1)}var oN=typeof setTimeout=="function"?setTimeout:void 0,mF=typeof clearTimeout=="function"?clearTimeout:void 0,sN=typeof Promise=="function"?Promise:void 0,pF=typeof queueMicrotask=="function"?queueMicrotask:typeof sN<"u"?function(s){return sN.resolve(null).then(s).catch(gF)}:oN;function gF(s){setTimeout(function(){throw s})}function ul(s){return s==="head"}function lN(s,l){var h=l,b=0;do{var A=h.nextSibling;if(s.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"||h==="/&"){if(b===0){s.removeChild(A),Vu(l);return}b--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")b++;else if(h==="html")ph(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,ph(h);for(var j=h.firstChild;j;){var I=j.nextSibling,G=j.nodeName;j[Ul]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&j.rel.toLowerCase()==="stylesheet"||h.removeChild(j),j=I}}else h==="body"&&ph(s.ownerDocument.body);h=A}while(h);Vu(l)}function cN(s,l){var h=s;s=0;do{var b=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=b}while(h)}function W_(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":W_(h),Sf(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function yF(s,l,h,b){for(;s.nodeType===1;){var A=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!b&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(b){if(!s[Ul])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(j=s.getAttribute("rel"),j==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(j!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(j=s.getAttribute("src"),(j!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&j&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var j=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===j)return s}else return s;if(s=Qi(s.nextSibling),s===null)break}return null}function bF(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Qi(s.nextSibling),s===null))return null;return s}function uN(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Qi(s.nextSibling),s===null))return null;return s}function V_(s){return s.data==="$?"||s.data==="$~"}function Z_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function vF(s,l){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||h.readyState!=="loading")l();else{var b=function(){l(),h.removeEventListener("DOMContentLoaded",b)};h.addEventListener("DOMContentLoaded",b),s._reactRetry=b}}function Qi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var X_=null;function dN(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(l===0)return Qi(s.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}s=s.nextSibling}return null}function fN(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return s;l--}else h!=="/$"&&h!=="/&"||l++}s=s.previousSibling}return null}function hN(s,l,h){switch(l=Rg(h),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function ph(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Sf(s)}var ea=new Map,mN=new Set;function Lg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Qo=X.d;X.d={f:xF,r:_F,D:wF,C:SF,L:EF,m:kF,X:TF,S:AF,M:OF};function xF(){var s=Qo.f(),l=Tg();return s||l}function _F(s){var l=Ps(s);l!==null&&l.tag===5&&l.type==="form"?CO(l):Qo.r(s)}var Yu=typeof document>"u"?null:document;function pN(s,l,h){var b=Yu;if(b&&typeof l=="string"&&l){var A=Zt(l);A='link[rel="'+s+'"][href="'+A+'"]',typeof h=="string"&&(A+='[crossorigin="'+h+'"]'),mN.has(A)||(mN.add(A),s={rel:s,crossOrigin:h,href:l},b.querySelector(A)===null&&(l=b.createElement("link"),fr(l,"link",s),Tn(l),b.head.appendChild(l)))}}function wF(s){Qo.D(s),pN("dns-prefetch",s,null)}function SF(s,l){Qo.C(s,l),pN("preconnect",s,l)}function EF(s,l,h){Qo.L(s,l,h);var b=Yu;if(b&&s&&l){var A='link[rel="preload"][as="'+Zt(l)+'"]';l==="image"&&h&&h.imageSrcSet?(A+='[imagesrcset="'+Zt(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(A+='[imagesizes="'+Zt(h.imageSizes)+'"]')):A+='[href="'+Zt(s)+'"]';var j=A;switch(l){case"style":j=Ku(s);break;case"script":j=Wu(s)}ea.has(j)||(s=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),ea.set(j,s),b.querySelector(A)!==null||l==="style"&&b.querySelector(gh(j))||l==="script"&&b.querySelector(yh(j))||(l=b.createElement("link"),fr(l,"link",s),Tn(l),b.head.appendChild(l)))}}function kF(s,l){Qo.m(s,l);var h=Yu;if(h&&s){var b=l&&typeof l.as=="string"?l.as:"script",A='link[rel="modulepreload"][as="'+Zt(b)+'"][href="'+Zt(s)+'"]',j=A;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Wu(s)}if(!ea.has(j)&&(s=p({rel:"modulepreload",href:s},l),ea.set(j,s),h.querySelector(A)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(yh(j)))return}b=h.createElement("link"),fr(b,"link",s),Tn(b),h.head.appendChild(b)}}}function AF(s,l,h){Qo.S(s,l,h);var b=Yu;if(b&&s){var A=Ds(b).hoistableStyles,j=Ku(s);l=l||"default";var I=A.get(j);if(!I){var G={loading:0,preload:null};if(I=b.querySelector(gh(j)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":l},h),(h=ea.get(j))&&J_(s,h);var te=I=b.createElement("link");Tn(te),fr(te,"link",s),te._p=new Promise(function(he,Ee){te.onload=he,te.onerror=Ee}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Ig(I,l,b)}I={type:"stylesheet",instance:I,count:1,state:G},A.set(j,I)}}}function TF(s,l){Qo.X(s,l);var h=Yu;if(h&&s){var b=Ds(h).hoistableScripts,A=Wu(s),j=b.get(A);j||(j=h.querySelector(yh(A)),j||(s=p({src:s,async:!0},l),(l=ea.get(A))&&Q_(s,l),j=h.createElement("script"),Tn(j),fr(j,"link",s),h.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},b.set(A,j))}}function OF(s,l){Qo.M(s,l);var h=Yu;if(h&&s){var b=Ds(h).hoistableScripts,A=Wu(s),j=b.get(A);j||(j=h.querySelector(yh(A)),j||(s=p({src:s,async:!0,type:"module"},l),(l=ea.get(A))&&Q_(s,l),j=h.createElement("script"),Tn(j),fr(j,"link",s),h.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},b.set(A,j))}}function gN(s,l,h,b){var A=(A=me.current)?Lg(A):null;if(!A)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Ku(h.href),h=Ds(A).hoistableStyles,b=h.get(l),b||(b={type:"style",instance:null,count:0,state:null},h.set(l,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Ku(h.href);var j=Ds(A).hoistableStyles,I=j.get(s);if(I||(A=A.ownerDocument||A,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(s,I),(j=A.querySelector(gh(s)))&&!j._p&&(I.instance=j,I.state.loading=5),ea.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ea.set(s,h),j||jF(A,s,h,I.state))),l&&b===null)throw Error(r(528,""));return I}if(l&&b!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Wu(h),h=Ds(A).hoistableScripts,b=h.get(l),b||(b={type:"script",instance:null,count:0,state:null},h.set(l,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Ku(s){return'href="'+Zt(s)+'"'}function gh(s){return'link[rel="stylesheet"]['+s+"]"}function yN(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function jF(s,l,h,b){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?b.loading=1:(l=s.createElement("link"),b.preload=l,l.addEventListener("load",function(){return b.loading|=1}),l.addEventListener("error",function(){return b.loading|=2}),fr(l,"link",h),Tn(l),s.head.appendChild(l))}function Wu(s){return'[src="'+Zt(s)+'"]'}function yh(s){return"script[async]"+s}function bN(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var b=s.querySelector('style[data-href~="'+Zt(h.href)+'"]');if(b)return l.instance=b,Tn(b),b;var A=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return b=(s.ownerDocument||s).createElement("style"),Tn(b),fr(b,"style",A),Ig(b,h.precedence,s),l.instance=b;case"stylesheet":A=Ku(h.href);var j=s.querySelector(gh(A));if(j)return l.state.loading|=4,l.instance=j,Tn(j),j;b=yN(h),(A=ea.get(A))&&J_(b,A),j=(s.ownerDocument||s).createElement("link"),Tn(j);var I=j;return I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),fr(j,"link",b),l.state.loading|=4,Ig(j,h.precedence,s),l.instance=j;case"script":return j=Wu(h.src),(A=s.querySelector(yh(j)))?(l.instance=A,Tn(A),A):(b=h,(A=ea.get(j))&&(b=p({},h),Q_(b,A)),s=s.ownerDocument||s,A=s.createElement("script"),Tn(A),fr(A,"link",b),s.head.appendChild(A),l.instance=A);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(b=l.instance,l.state.loading|=4,Ig(b,h.precedence,s));return l.instance}function Ig(s,l,h){for(var b=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=b.length?b[b.length-1]:null,j=A,I=0;I<b.length;I++){var G=b[I];if(G.dataset.precedence===l)j=G;else if(j!==A)break}j?j.parentNode.insertBefore(s,j.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function J_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Q_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var $g=null;function vN(s,l,h){if($g===null){var b=new Map,A=$g=new Map;A.set(h,b)}else A=$g,b=A.get(h),b||(b=new Map,A.set(h,b));if(b.has(s))return b;for(b.set(s,null),h=h.getElementsByTagName(s),A=0;A<h.length;A++){var j=h[A];if(!(j[Ul]||j[An]||s==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var I=j.getAttribute(l)||"";I=s+I;var G=b.get(I);G?G.push(j):b.set(I,[j])}}return b}function xN(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function NF(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function _N(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function CF(s,l,h,b){if(h.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var A=Ku(b.href),j=l.querySelector(gh(A));if(j){l=j._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Bg.bind(s),l.then(s,s)),h.state.loading|=4,h.instance=j,Tn(j);return}j=l.ownerDocument||l,b=yN(b),(A=ea.get(A))&&J_(b,A),j=j.createElement("link"),Tn(j);var I=j;I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),fr(j,"link",b),h.instance=j}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=Bg.bind(s),l.addEventListener("load",h),l.addEventListener("error",h))}}var ew=0;function MF(s,l){return s.stylesheets&&s.count===0&&Ug(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var b=setTimeout(function(){if(s.stylesheets&&Ug(s,s.stylesheets),s.unsuspend){var j=s.unsuspend;s.unsuspend=null,j()}},6e4+l);0<s.imgBytes&&ew===0&&(ew=62500*fF());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Ug(s,s.stylesheets),s.unsuspend)){var j=s.unsuspend;s.unsuspend=null,j()}},(s.imgBytes>ew?50:800)+l);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(b),clearTimeout(A)}}:null}function Bg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ug(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var zg=null;function Ug(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,zg=new Map,l.forEach(PF,s),zg=null,Bg.call(s))}function PF(s,l){if(!(l.state.loading&4)){var h=zg.get(s);if(h)var b=h.get(null);else{h=new Map,zg.set(s,h);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<A.length;j++){var I=A[j];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(h.set(I.dataset.precedence,I),b=I)}b&&h.set(null,b)}A=l.instance,I=A.getAttribute("data-precedence"),j=h.get(I)||b,j===b&&h.set(null,A),h.set(I,A),this.count++,b=Bg.bind(this),A.addEventListener("load",b),A.addEventListener("error",b),j?j.parentNode.insertBefore(A,j.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),l.state.loading|=4}}var bh={$$typeof:O,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function DF(s,l,h,b,A,j,I,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xf(0),this.hiddenUpdates=xf(null),this.identifierPrefix=b,this.onUncaughtError=A,this.onCaughtError=j,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function wN(s,l,h,b,A,j,I,G,te,he,Ee,Te){return s=new DF(s,l,h,I,te,he,Ee,Te,G),l=1,j===!0&&(l|=24),j=wr(3,null,null,l),s.current=j,j.stateNode=s,l=Px(),l.refCount++,s.pooledCache=l,l.refCount++,j.memoizedState={element:b,isDehydrated:h,cache:l},Ix(j),s}function SN(s){return s?(s=Bo,s):Bo}function EN(s,l,h,b,A,j){A=SN(A),b.context===null?b.context=A:b.pendingContext=A,b=Qs(l),b.payload={element:h},j=j===void 0?null:j,j!==null&&(b.callback=j),h=el(s,b,l),h!==null&&(Qr(h,s,l),Zf(h,s,l))}function kN(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function tw(s,l){kN(s,l),(s=s.alternate)&&kN(s,l)}function AN(s){if(s.tag===13||s.tag===31){var l=Zi(s,67108864);l!==null&&Qr(l,s,67108864),tw(s,67108864)}}function TN(s){if(s.tag===13||s.tag===31){var l=Ei();l=Fr(l);var h=Zi(s,l);h!==null&&Qr(h,s,l),tw(s,l)}}var Fg=!0;function RF(s,l,h,b){var A=Y.T;Y.T=null;var j=X.p;try{X.p=2,nw(s,l,h,b)}finally{X.p=j,Y.T=A}}function LF(s,l,h,b){var A=Y.T;Y.T=null;var j=X.p;try{X.p=8,nw(s,l,h,b)}finally{X.p=j,Y.T=A}}function nw(s,l,h,b){if(Fg){var A=rw(b);if(A===null)F_(s,l,b,Hg,h),jN(s,b);else if($F(A,s,l,h,b))b.stopPropagation();else if(jN(s,b),l&4&&-1<IF.indexOf(s)){for(;A!==null;){var j=Ps(A);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var I=No(j.pendingLanes);if(I!==0){var G=j;for(G.pendingLanes|=2,G.entangledLanes|=2;I;){var te=1<<31-Or(I);G.entanglements[1]|=te,I&=~te}lo(j),(Tt&6)===0&&(kg=Be()+500,fh(0))}}break;case 31:case 13:G=Zi(j,2),G!==null&&Qr(G,j,2),Tg(),tw(j,2)}if(j=rw(b),j===null&&F_(s,l,b,Hg,h),j===A)break;A=j}A!==null&&b.stopPropagation()}else F_(s,l,b,null,h)}}function rw(s){return s=Yl(s),iw(s)}var Hg=null;function iw(s){if(Hg=null,s=Po(s),s!==null){var l=a(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=o(l),s!==null)return s;s=null}else if(h===31){if(s=c(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Hg=s,null}function ON(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case jt:return 2;case yt:return 8;case Zn:case hi:return 32;case mi:return 268435456;default:return 32}default:return 32}}var aw=!1,dl=null,fl=null,hl=null,vh=new Map,xh=new Map,ml=[],IF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jN(s,l){switch(s){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":vh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(l.pointerId)}}function _h(s,l,h,b,A,j){return s===null||s.nativeEvent!==j?(s={blockedOn:l,domEventName:h,eventSystemFlags:b,nativeEvent:j,targetContainers:[A]},l!==null&&(l=Ps(l),l!==null&&AN(l)),s):(s.eventSystemFlags|=b,l=s.targetContainers,A!==null&&l.indexOf(A)===-1&&l.push(A),s)}function $F(s,l,h,b,A){switch(l){case"focusin":return dl=_h(dl,s,l,h,b,A),!0;case"dragenter":return fl=_h(fl,s,l,h,b,A),!0;case"mouseover":return hl=_h(hl,s,l,h,b,A),!0;case"pointerover":var j=A.pointerId;return vh.set(j,_h(vh.get(j)||null,s,l,h,b,A)),!0;case"gotpointercapture":return j=A.pointerId,xh.set(j,_h(xh.get(j)||null,s,l,h,b,A)),!0}return!1}function NN(s){var l=Po(s.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){s.blockedOn=l,wf(s.priority,function(){TN(h)});return}}else if(l===31){if(l=c(h),l!==null){s.blockedOn=l,wf(s.priority,function(){TN(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Gg(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=rw(s.nativeEvent);if(h===null){h=s.nativeEvent;var b=new h.constructor(h.type,h);hu=b,h.target.dispatchEvent(b),hu=null}else return l=Ps(h),l!==null&&AN(l),s.blockedOn=h,!1;l.shift()}return!0}function CN(s,l,h){Gg(s)&&h.delete(l)}function BF(){aw=!1,dl!==null&&Gg(dl)&&(dl=null),fl!==null&&Gg(fl)&&(fl=null),hl!==null&&Gg(hl)&&(hl=null),vh.forEach(CN),xh.forEach(CN)}function qg(s,l){s.blockedOn===l&&(s.blockedOn=null,aw||(aw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,BF)))}var Yg=null;function MN(s){Yg!==s&&(Yg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yg===s&&(Yg=null);for(var l=0;l<s.length;l+=3){var h=s[l],b=s[l+1],A=s[l+2];if(typeof b!="function"){if(iw(b||h)===null)continue;break}var j=Ps(h);j!==null&&(s.splice(l,3),l-=3,r_(j,{pending:!0,data:A,method:h.method,action:b},b,A))}}))}function Vu(s){function l(te){return qg(te,s)}dl!==null&&qg(dl,s),fl!==null&&qg(fl,s),hl!==null&&qg(hl,s),vh.forEach(l),xh.forEach(l);for(var h=0;h<ml.length;h++){var b=ml[h];b.blockedOn===s&&(b.blockedOn=null)}for(;0<ml.length&&(h=ml[0],h.blockedOn===null);)NN(h),h.blockedOn===null&&ml.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(b=0;b<h.length;b+=3){var A=h[b],j=h[b+1],I=A[Xn]||null;if(typeof j=="function")I||MN(h);else if(I){var G=null;if(j&&j.hasAttribute("formAction")){if(A=j,I=j[Xn]||null)G=I.formAction;else if(iw(A)!==null)continue}else G=I.action;typeof G=="function"?h[b+1]=G:(h.splice(b,3),b-=3),MN(h)}}}function PN(){function s(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(I){return A=I})},focusReset:"manual",scroll:"manual"})}function l(){A!==null&&(A(),A=null),b||setTimeout(h,20)}function h(){if(!b&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){b=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),A!==null&&(A(),A=null)}}}function ow(s){this._internalRoot=s}Kg.prototype.render=ow.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,b=Ei();EN(h,b,s,l,null,null)},Kg.prototype.unmount=ow.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;EN(s.current,2,null,s,null,null),Tg(),l[Mo]=null}};function Kg(s){this._internalRoot=s}Kg.prototype.unstable_scheduleHydration=function(s){if(s){var l=_f();s={blockedOn:null,target:s,priority:l};for(var h=0;h<ml.length&&l!==0&&l<ml[h].priority;h++);ml.splice(h,0,s),h===0&&NN(s)}};var DN=t.version;if(DN!=="19.2.1")throw Error(r(527,DN,"19.2.1"));X.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var zF={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wg.isDisabled&&Wg.supportsFiber)try{qt=Wg.inject(zF),hn=Wg}catch{}}return Sh.createRoot=function(s,l){if(!i(s))throw Error(r(299));var h=!1,b="",A=UO,j=FO,I=HO;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onUncaughtError!==void 0&&(A=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),l=wN(s,1,!1,null,null,h,b,null,A,j,I,PN),s[Mo]=l.current,U_(s),new ow(l)},Sh.hydrateRoot=function(s,l,h){if(!i(s))throw Error(r(299));var b=!1,A="",j=UO,I=FO,G=HO,te=null;return h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(j=h.onUncaughtError),h.onCaughtError!==void 0&&(I=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError),h.formState!==void 0&&(te=h.formState)),l=wN(s,1,!0,l,h??null,b,A,te,j,I,G,PN),l.context=SN(null),h=l.current,b=Ei(),b=Fr(b),A=Qs(b),A.callback=null,el(h,A,b),h=b,l.current.lanes=h,Co(l,h),lo(l),s[Mo]=l.current,U_(s),new Kg(l)},Sh.version="19.2.1",Sh}var GN;function ZF(){if(GN)return cw.exports;GN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cw.exports=VF(),cw.exports}var XF=ZF();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qN="popstate";function JF(e={}){function t(i,a){let{pathname:o="/",search:c="",hash:u=""}=iu(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),zS("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");c=f===-1?u:u.slice(0,f)}return c+"#"+(typeof a=="string"?a:cm(a))}function r(i,a){$i(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return eH(t,n,r,e)}function sn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $i(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QF(){return Math.random().toString(36).substring(2,10)}function YN(e,t){return{usr:e.state,key:e.key,idx:t}}function zS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?iu(t):t,state:n,key:t&&t.key||r||QF()}}function cm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function iu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function eH(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",u=null,f=m();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function m(){return(o.state||{idx:null}).idx}function p(){c="POP";let S=m(),T=S==null?null:S-f;f=S,u&&u({action:c,location:_.location,delta:T})}function g(S,T){c="PUSH";let N=zS(_.location,S,T);n&&n(N,S),f=m()+1;let O=YN(N,f),P=_.createHref(N);try{o.pushState(O,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}a&&u&&u({action:c,location:_.location,delta:1})}function v(S,T){c="REPLACE";let N=zS(_.location,S,T);n&&n(N,S),f=m();let O=YN(N,f),P=_.createHref(N);o.replaceState(O,"",P),a&&u&&u({action:c,location:_.location,delta:0})}function w(S){return tH(S)}let _={get action(){return c},get location(){return e(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(qN,p),u=S,()=>{i.removeEventListener(qN,p),u=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let T=w(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:v,go(S){return o.go(S)}};return _}function tH(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),sn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:cm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function T3(e,t,n="/"){return nH(e,t,n,!1)}function nH(e,t,n,r){let i=typeof t=="string"?iu(t):t,a=hs(i.pathname||"/",n);if(a==null)return null;let o=O3(e);rH(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=mH(a);c=fH(o[u],f,r)}return c}function O3(e,t=[],n=[],r="",i=!1){let a=(o,c,u=i,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&u)return;sn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=us([r,m.relativePath]),g=n.concat(m);o.children&&o.children.length>0&&(sn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),O3(o.children,t,g,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:uH(p,o.index),routesMeta:g})};return e.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))a(o,c);else for(let u of j3(o.path))a(o,c,!0,u)}),t}function j3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=j3(r.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function rH(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dH(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iH=/^:[\w-]+$/,aH=3,oH=2,sH=1,lH=10,cH=-2,KN=e=>e==="*";function uH(e,t){let n=e.split("/"),r=n.length;return n.some(KN)&&(r+=cH),t&&(r+=oH),n.filter(i=>!KN(i)).reduce((i,a)=>i+(iH.test(a)?aH:a===""?sH:lH),r)}function dH(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function fH(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",p=by({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),g=u.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=by({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:us([a,p.pathname]),pathnameBase:vH(us([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=us([a,p.pathnameBase]))}return o}function by(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=hH(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},g)=>{if(m==="*"){let w=c[g]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const v=c[g];return p&&!v?f[m]=void 0:f[m]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function hH(e,t=!1,n=!0){$i(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function mH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $i(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var pH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gH=e=>pH.test(e);function yH(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?iu(e):e,a;if(n)if(gH(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),$i(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=WN(n.substring(1),"/"):a=WN(n,t)}else a=t;return{pathname:a,search:xH(r),hash:_H(i)}}function WN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hw(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bk(e){let t=bH(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function zk(e,t,n,r=!1){let i;typeof e=="string"?i=iu(e):(i={...e},sn(!i.pathname||!i.pathname.includes("?"),hw("?","pathname","search",i)),sn(!i.pathname||!i.pathname.includes("#"),hw("#","pathname","hash",i)),sn(!i.search||!i.search.includes("#"),hw("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}c=p>=0?t[p]:"/"}let u=yH(i,c),f=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}var us=e=>e.join("/").replace(/\/\/+/g,"/"),vH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_H=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function SH(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var N3=["POST","PUT","PATCH","DELETE"];new Set(N3);var EH=["GET",...N3];new Set(EH);var Jd=E.createContext(null);Jd.displayName="DataRouter";var Vb=E.createContext(null);Vb.displayName="DataRouterState";E.createContext(!1);var C3=E.createContext({isTransitioning:!1});C3.displayName="ViewTransition";var kH=E.createContext(new Map);kH.displayName="Fetchers";var AH=E.createContext(null);AH.displayName="Await";var ga=E.createContext(null);ga.displayName="Navigation";var Um=E.createContext(null);Um.displayName="Location";var To=E.createContext({outlet:null,matches:[],isDataRoute:!1});To.displayName="Route";var Uk=E.createContext(null);Uk.displayName="RouteError";function TH(e,{relative:t}={}){sn(Qd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(ga),{hash:i,pathname:a,search:o}=Fm(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:us([n,a])),r.createHref({pathname:c,search:o,hash:i})}function Qd(){return E.useContext(Um)!=null}function qa(){return sn(Qd(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Um).location}var M3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P3(e){E.useContext(ga).static||E.useLayoutEffect(e)}function Fk(){let{isDataRoute:e}=E.useContext(To);return e?zH():OH()}function OH(){sn(Qd(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(Jd),{basename:t,navigator:n}=E.useContext(ga),{matches:r}=E.useContext(To),{pathname:i}=qa(),a=JSON.stringify(Bk(r)),o=E.useRef(!1);return P3(()=>{o.current=!0}),E.useCallback((u,f={})=>{if($i(o.current,M3),!o.current)return;if(typeof u=="number"){n.go(u);return}let m=zk(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:us([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,a,i,e])}E.createContext(null);function Fm(e,{relative:t}={}){let{matches:n}=E.useContext(To),{pathname:r}=qa(),i=JSON.stringify(Bk(n));return E.useMemo(()=>zk(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function jH(e,t){return D3(e,t)}function D3(e,t,n,r,i){sn(Qd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(ga),{matches:o}=E.useContext(To),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let N=p&&p.path||"";R3(f,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=qa(),v;if(t){let N=typeof t=="string"?iu(t):t;sn(m==="/"||N.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${N.pathname}" was given in the \`location\` prop.`),v=N}else v=g;let w=v.pathname||"/",_=w;if(m!=="/"){let N=m.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=T3(e,{pathname:_});$i(p||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),$i(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=DH(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:us([m,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:us([m,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,n,r,i);return t&&T?E.createElement(Um.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function NH(){let e=BH(),t=wH(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,o)}var CH=E.createElement(NH,null),MH=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?E.createElement(To.Provider,{value:this.props.routeContext},E.createElement(Uk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PH({routeContext:e,match:t,children:n}){let r=E.useContext(Jd);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(To.Provider,{value:e},n)}function DH(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let m=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);sn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,u=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:g,errors:v}=n,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:SH(n.matches),errorInfo:p})}:void 0;return a.reduceRight((m,p,g)=>{let v,w=!1,_=null,S=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,_=p.route.errorElement||CH,c&&(u<0&&g===0?(R3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):u===g&&(w=!0,S=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,g+1)),N=()=>{let O;return v?O=_:w?O=S:p.route.Component?O=E.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=m,E.createElement(PH,{match:p,routeContext:{outlet:m,matches:T,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?E.createElement(MH,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):N()},null)}function Hk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RH(e){let t=E.useContext(Jd);return sn(t,Hk(e)),t}function LH(e){let t=E.useContext(Vb);return sn(t,Hk(e)),t}function IH(e){let t=E.useContext(To);return sn(t,Hk(e)),t}function Gk(e){let t=IH(e),n=t.matches[t.matches.length-1];return sn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function $H(){return Gk("useRouteId")}function BH(){let e=E.useContext(Uk),t=LH("useRouteError"),n=Gk("useRouteError");return e!==void 0?e:t.errors?.[n]}function zH(){let{router:e}=RH("useNavigate"),t=Gk("useNavigate"),n=E.useRef(!1);return P3(()=>{n.current=!0}),E.useCallback(async(i,a={})=>{$i(n.current,M3),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var VN={};function R3(e,t,n){!t&&!VN[e]&&(VN[e]=!0,$i(!1,n))}E.memo(UH);function UH({routes:e,future:t,state:n,unstable_onError:r}){return D3(e,void 0,n,r,t)}function FH({to:e,replace:t,state:n,relative:r}){sn(Qd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(ga);$i(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(To),{pathname:o}=qa(),c=Fk(),u=zk(e,Bk(a),o,r==="path"),f=JSON.stringify(u);return E.useEffect(()=>{c(JSON.parse(f),{replace:t,state:n,relative:r})},[c,f,r,t,n]),null}function ud(e){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HH({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){sn(!Qd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[c,i,a,o]);typeof n=="string"&&(n=iu(n));let{pathname:f="/",search:m="",hash:p="",state:g=null,key:v="default"}=n,w=E.useMemo(()=>{let _=hs(f,c);return _==null?null:{location:{pathname:_,search:m,hash:p,state:g,key:v},navigationType:r}},[c,f,m,p,g,v,r]);return $i(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(ga.Provider,{value:u},E.createElement(Um.Provider,{children:t,value:w}))}function GH({children:e,location:t}){return jH(US(e),t)}function US(e,t=[]){let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let a=[...t,i];if(r.type===E.Fragment){n.push.apply(n,US(r.props.children,a));return}sn(r.type===ud,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=US(r.props.children,a)),n.push(o)}),n}var ty="get",ny="application/x-www-form-urlencoded";function Zb(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function qH(e){return Zb(e)&&e.tagName.toLowerCase()==="button"}function YH(e){return Zb(e)&&e.tagName.toLowerCase()==="form"}function KH(e){return Zb(e)&&e.tagName.toLowerCase()==="input"}function WH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VH(e,t){return e.button===0&&(!t||t==="_self")&&!WH(e)}var Vg=null;function ZH(){if(Vg===null)try{new FormData(document.createElement("form"),0),Vg=!1}catch{Vg=!0}return Vg}var XH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mw(e){return e!=null&&!XH.has(e)?($i(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ny}"`),null):e}function JH(e,t){let n,r,i,a,o;if(YH(e)){let c=e.getAttribute("action");r=c?hs(c,t):null,n=e.getAttribute("method")||ty,i=mw(e.getAttribute("enctype"))||ny,a=new FormData(e)}else if(qH(e)||KH(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(r=u?hs(u,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||ty,i=mw(e.getAttribute("formenctype"))||mw(c.getAttribute("enctype"))||ny,a=new FormData(c,e),!ZH()){let{name:f,type:m,value:p}=e;if(m==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,p)}}else{if(Zb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ty,r=null,i=ny,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qk(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function QH(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&hs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function eG(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tG(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function nG(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await eG(a,n);return o.links?o.links():[]}return[]}));return oG(r.flat(1).filter(tG).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ZN(e,t,n,r,i,a){let o=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,f)=>o(u,f)||c(u,f)):a==="data"?t.filter((u,f)=>{let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(o(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function rG(e,t,{includeHydrateFallback:n}={}){return iG(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function iG(e){return[...new Set(e)]}function aG(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function oG(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(aG(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function L3(){let e=E.useContext(Jd);return qk(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sG(){let e=E.useContext(Vb);return qk(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Yk=E.createContext(void 0);Yk.displayName="FrameworkContext";function I3(){let e=E.useContext(Yk);return qk(e,"You must render this element inside a <HydratedRouter> element"),e}function lG(e,t){let n=E.useContext(Yk),[r,i]=E.useState(!1),[a,o]=E.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,g=E.useRef(null);E.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=T=>{T.forEach(N=>{o(N.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),E.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let v=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:Eh(c,v),onBlur:Eh(u,w),onMouseEnter:Eh(f,v),onMouseLeave:Eh(m,w),onTouchStart:Eh(p,v)}]:[!1,g,{}]}function Eh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function cG({page:e,...t}){let{router:n}=L3(),r=E.useMemo(()=>T3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?E.createElement(dG,{page:e,matches:r,...t}):null}function uG(e){let{manifest:t,routeModules:n}=I3(),[r,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return nG(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function dG({page:e,matches:t,...n}){let r=qa(),{manifest:i,routeModules:a}=I3(),{basename:o}=L3(),{loaderData:c,matches:u}=sG(),f=E.useMemo(()=>ZN(e,t,u,i,r,"data"),[e,t,u,i,r]),m=E.useMemo(()=>ZN(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=E.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(t.forEach(T=>{let N=i.routes[T.route.id];!N||!N.hasLoader||(!f.some(O=>O.route.id===T.route.id)&&T.route.id in c&&a[T.route.id]?.shouldRevalidate||N.hasClientLoader?_=!0:w.add(T.route.id))}),w.size===0)return[];let S=QH(e,o,"data");return _&&w.size>0&&S.searchParams.set("_routes",t.filter(T=>w.has(T.route.id)).map(T=>T.route.id).join(",")),[S.pathname+S.search]},[o,c,r,i,f,t,e,a]),g=E.useMemo(()=>rG(m,i),[m,i]),v=uG(m);return E.createElement(E.Fragment,null,p.map(w=>E.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>E.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:_})=>E.createElement("link",{key:w,nonce:n.nonce,..._})))}function fG(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var $3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$3&&(window.__reactRouterVersion="7.10.1")}catch{}function hG({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=E.useRef();i.current==null&&(i.current=JF({window:r,v5Compat:!0}));let a=i.current,[o,c]=E.useState({action:a.action,location:a.location}),u=E.useCallback(f=>{n===!1?c(f):E.startTransition(()=>c(f))},[n]);return E.useLayoutEffect(()=>a.listen(u),[a,u]),E.createElement(HH,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var B3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z3=E.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:u,to:f,preventScrollReset:m,viewTransition:p,...g},v){let{basename:w,unstable_useTransitions:_}=E.useContext(ga),S=typeof f=="string"&&B3.test(f),T,N=!1;if(typeof f=="string"&&S&&(T=f,$3))try{let K=new URL(window.location.href),F=f.startsWith("//")?new URL(K.protocol+f):new URL(f),z=hs(F.pathname,w);F.origin===K.origin&&z!=null?f=z+F.search+F.hash:N=!0}catch{$i(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=TH(f,{relative:i}),[P,M,D]=lG(r,g),$=yG(f,{replace:o,state:c,target:u,preventScrollReset:m,relative:i,viewTransition:p,unstable_useTransitions:_});function H(K){t&&t(K),K.defaultPrevented||$(K)}let q=E.createElement("a",{...g,...D,href:T||O,onClick:N||a?t:H,ref:fG(v,M),target:u,"data-discover":!S&&n==="render"?"true":void 0});return P&&!S?E.createElement(E.Fragment,null,q,E.createElement(cG,{page:O})):q});z3.displayName="Link";var mG=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:u,...f},m){let p=Fm(o,{relative:f.relative}),g=qa(),v=E.useContext(Vb),{navigator:w,basename:_}=E.useContext(ga),S=v!=null&&wG(p)&&c===!0,T=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,N=g.pathname,O=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(N=N.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&_&&(O=hs(O,_)||O);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let M=N===T||!i&&N.startsWith(T)&&N.charAt(P)==="/",D=O!=null&&(O===T||!i&&O.startsWith(T)&&O.charAt(T.length)==="/"),$={isActive:M,isPending:D,isTransitioning:S},H=M?t:void 0,q;typeof r=="function"?q=r($):q=[r,M?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a($):a;return E.createElement(z3,{...f,"aria-current":H,className:q,ref:m,style:K,to:o,viewTransition:c},typeof u=="function"?u($):u)});mG.displayName="NavLink";var pG=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=ty,action:c,onSubmit:u,relative:f,preventScrollReset:m,viewTransition:p,...g},v)=>{let{unstable_useTransitions:w}=E.useContext(ga),_=xG(),S=_G(c,{relative:f}),T=o.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&B3.test(c),O=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let M=P.nativeEvent.submitter,D=M?.getAttribute("formmethod")||o,$=()=>_(M||P.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:p});w&&n!==!1?E.startTransition(()=>$()):$()};return E.createElement("form",{ref:v,method:T,action:S,onSubmit:r?u:O,...g,"data-discover":!N&&e==="render"?"true":void 0})});pG.displayName="Form";function gG(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U3(e){let t=E.useContext(Jd);return sn(t,gG(e)),t}function yG(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:c}={}){let u=Fk(),f=qa(),m=Fm(e,{relative:a});return E.useCallback(p=>{if(VH(p,t)){p.preventDefault();let g=n!==void 0?n:cm(f)===cm(m),v=()=>u(e,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:o});c?E.startTransition(()=>v()):v()}},[f,u,m,n,r,t,e,i,a,o,c])}var bG=0,vG=()=>`__${String(++bG)}__`;function xG(){let{router:e}=U3("useSubmit"),{basename:t}=E.useContext(ga),n=$H(),r=e.fetch,i=e.navigate;return E.useCallback(async(a,o={})=>{let{action:c,method:u,encType:f,formData:m,body:p}=JH(a,t);if(o.navigate===!1){let g=o.fetcherKey||vG();await r(g,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await i(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function _G(e,{relative:t}={}){let{basename:n}=E.useContext(ga),r=E.useContext(To);sn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Fm(e||".",{relative:t})},o=qa();if(e==null){a.search=o.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(m=>m==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();a.search=m?`?${m}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:us([n,a.pathname])),cm(a)}function wG(e,{relative:t}={}){let n=E.useContext(C3);sn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=U3("useViewTransitionState"),i=Fm(e,{relative:t});if(!n.isTransitioning)return!1;let a=hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return by(i.pathname,o)!=null||by(i.pathname,a)!=null}var ef=A3();const SG=ui(ef);let EG={data:""},kG=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||EG,AG=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,TG=/\/\*[^]*?\*\/|  +/g,XN=/\n+/g,bl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?bl(o,a):a+"{"+bl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=bl(o,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=bl.p?bl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},es={},F3=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+F3(e[n]);return t}return e},OG=(e,t,n,r,i)=>{let a=F3(e),o=es[a]||(es[a]=(u=>{let f=0,m=11;for(;f<u.length;)m=101*m+u.charCodeAt(f++)>>>0;return"go"+m})(a));if(!es[o]){let u=a!==e?e:(f=>{let m,p,g=[{}];for(;m=AG.exec(f.replace(TG,""));)m[4]?g.shift():m[3]?(p=m[3].replace(XN," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][m[1]]=m[2].replace(XN," ").trim();return g[0]})(e);es[o]=bl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let c=n&&es.g?es.g:null;return n&&(es.g=es[o]),((u,f,m,p)=>{p?f.data=f.data.replace(p,u):f.data.indexOf(u)===-1&&(f.data=m?u+f.data:f.data+u)})(es[o],t,r,c),o},jG=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let c=o(n),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=u?"."+u:c&&typeof c=="object"?c.props?"":bl(c,""):c===!1?"":c}return r+i+(o??"")},"");function Xb(e){let t=this||{},n=e.call?e(t.p):e;return OG(n.unshift?n.raw?jG(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,kG(t.target),t.g,t.o,t.k)}let H3,FS,HS;Xb.bind({g:1});let ms=Xb.bind({k:1});function NG(e,t,n,r){bl.p=t,H3=e,FS=n,HS=r}function Ml(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let c=Object.assign({},a),u=c.className||i.className;n.p=Object.assign({theme:FS&&FS()},c),n.o=/ *go\d+/.test(u),c.className=Xb.apply(n,r)+(u?" "+u:"");let f=e;return e[0]&&(f=c.as||e,delete c.as),HS&&f[0]&&HS(c),H3(f,c)}return i}}var CG=e=>typeof e=="function",vy=(e,t)=>CG(e)?e(t):e,MG=(()=>{let e=0;return()=>(++e).toString()})(),G3=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),PG=20,Kk="default",q3=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return q3(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},ry=[],Y3={toasts:[],pausedAt:void 0,settings:{toastLimit:PG}},bo={},K3=(e,t=Kk)=>{bo[t]=q3(bo[t]||Y3,e),ry.forEach(([n,r])=>{n===t&&r(bo[t])})},W3=e=>Object.keys(bo).forEach(t=>K3(e,t)),DG=e=>Object.keys(bo).find(t=>bo[t].toasts.some(n=>n.id===e)),Jb=(e=Kk)=>t=>{K3(t,e)},RG={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},LG=(e={},t=Kk)=>{let[n,r]=E.useState(bo[t]||Y3),i=E.useRef(bo[t]);E.useEffect(()=>(i.current!==bo[t]&&r(bo[t]),ry.push([t,r]),()=>{let o=ry.findIndex(([c])=>c===t);o>-1&&ry.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var c,u,f;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((c=e[o.type])==null?void 0:c.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||RG[o.type],style:{...e.style,...(f=e[o.type])==null?void 0:f.style,...o.style}}});return{...n,toasts:a}},IG=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||MG()}),Hm=e=>(t,n)=>{let r=IG(t,e,n);return Jb(r.toasterId||DG(r.id))({type:2,toast:r}),r.id},kn=(e,t)=>Hm("blank")(e,t);kn.error=Hm("error");kn.success=Hm("success");kn.loading=Hm("loading");kn.custom=Hm("custom");kn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Jb(t)(n):W3(n)};kn.dismissAll=e=>kn.dismiss(void 0,e);kn.remove=(e,t)=>{let n={type:4,toastId:e};t?Jb(t)(n):W3(n)};kn.removeAll=e=>kn.remove(void 0,e);kn.promise=(e,t,n)=>{let r=kn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?vy(t.success,i):void 0;return a?kn.success(a,{id:r,...n,...n?.success}):kn.dismiss(r),i}).catch(i=>{let a=t.error?vy(t.error,i):void 0;a?kn.error(a,{id:r,...n,...n?.error}):kn.dismiss(r)}),e};var $G=1e3,BG=(e,t="default")=>{let{toasts:n,pausedAt:r}=LG(e,t),i=E.useRef(new Map).current,a=E.useCallback((p,g=$G)=>{if(i.has(p))return;let v=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},g);i.set(p,v)},[]);E.useEffect(()=>{if(r)return;let p=Date.now(),g=n.map(v=>{if(v.duration===1/0)return;let w=(v.duration||0)+v.pauseDuration-(p-v.createdAt);if(w<0){v.visible&&kn.dismiss(v.id);return}return setTimeout(()=>kn.dismiss(v.id,t),w)});return()=>{g.forEach(v=>v&&clearTimeout(v))}},[n,r,t]);let o=E.useCallback(Jb(t),[t]),c=E.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=E.useCallback((p,g)=>{o({type:1,toast:{id:p,height:g}})},[o]),f=E.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),m=E.useCallback((p,g)=>{let{reverseOrder:v=!1,gutter:w=8,defaultPosition:_}=g||{},S=n.filter(O=>(O.position||_)===(p.position||_)&&O.height),T=S.findIndex(O=>O.id===p.id),N=S.filter((O,P)=>P<T&&O.visible).length;return S.filter(O=>O.visible).slice(...v?[N+1]:[0,N]).reduce((O,P)=>O+(P.height||0)+w,0)},[n]);return E.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let g=i.get(p.id);g&&(clearTimeout(g),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:c,endPause:f,calculateOffset:m}}},zG=ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,UG=ms`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,FG=ms`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,HG=Ml("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${UG} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${FG} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,GG=ms`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qG=Ml("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${GG} 1s linear infinite;
`,YG=ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,KG=ms`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,WG=Ml("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${KG} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,VG=Ml("div")`
  position: absolute;
`,ZG=Ml("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,XG=ms`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JG=Ml("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${XG} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,QG=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?E.createElement(JG,null,t):t:n==="blank"?null:E.createElement(ZG,null,E.createElement(qG,{...r}),n!=="loading"&&E.createElement(VG,null,n==="error"?E.createElement(HG,{...r}):E.createElement(WG,{...r})))},eq=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tq=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,nq="0%{opacity:0;} 100%{opacity:1;}",rq="0%{opacity:1;} 100%{opacity:0;}",iq=Ml("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,aq=Ml("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,oq=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=G3()?[nq,rq]:[eq(n),tq(n)];return{animation:t?`${ms(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ms(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},sq=E.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?oq(e.position||t||"top-center",e.visible):{opacity:0},a=E.createElement(QG,{toast:e}),o=E.createElement(aq,{...e.ariaProps},vy(e.message,e));return E.createElement(iq,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):E.createElement(E.Fragment,null,a,o))});NG(E.createElement);var lq=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=E.useCallback(o=>{if(o){let c=()=>{let u=o.getBoundingClientRect().height;r(e,u)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return E.createElement("div",{ref:a,className:t,style:n},i)},cq=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:G3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},uq=Xb`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Zg=16,V3=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:c})=>{let{toasts:u,handlers:f}=BG(n,a);return E.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Zg,left:Zg,right:Zg,bottom:Zg,pointerEvents:"none",...o},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},u.map(m=>{let p=m.position||t,g=f.calculateOffset(m,{reverseOrder:e,gutter:r,defaultPosition:t}),v=cq(p,g);return E.createElement(lq,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?uq:"",style:v},m.type==="custom"?vy(m.message,m):i?i(m):E.createElement(sq,{toast:m,position:p}))}))},Ed=kn;function dq(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),c=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+c+o-1524.5}const fq=864e5;function hq(e){const t=(e-24405875e-1)*fq;return new Date(t)}function mq(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function pq(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),c=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*c)+n;let f=c-1;f>12&&(f-=12);let m=a-4715;return f>2&&(m-=1),[m,f,u]}const tm=Math.PI,Ic=tm/180,gq=180/tm,yq=86400;function bq(e){return e%=360,e<0?e+360:e}function vq(e,t){return(e-t+540)%360-180}function JN(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function xq(e){const[t,n]=pq(e);return e+mq(t,Math.round(n))/yq}function QN(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,c,u]of e[i])a+=o*Math.cos(c+u*t);n+=a*r,r*=t}return n*1e-8}function _q(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*Ic,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*Ic,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*Ic,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*Ic,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*Ic,c=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,f=0;for(const[m,p,g,v,w,_,S,T,N]of c){const O=m*n+p*r+g*i+v*a+w*o;u+=(_+S*t)*Math.sin(O),f+=(T+N*t)*Math.cos(O)}return u*=1e-4,f*=1e-4,{dpsi:u,deps:f}}function Xg(e){const t=xq(e),n=(t-2451545)/365250,r=QN(eC.L,n),i=QN(eC.R,n);let a=r+tm;a>2*tm&&(a-=2*tm);const{dpsi:o}=_q(t),c=o/3600*Ic,u=20.4898/(3600*i),f=a+c-u*Ic;return bq(f*gq)}function Un(e,t,n){const r=(t%360+360)%360,i=dq(e,1,1),a=Xg(i);let o=r-a;o<0&&(o+=360);let c=i+o/.98564736;const u=1e-6,f=5e-6;for(let g=0;g<25;g++){const v=Xg(c),w=vq(r,v);if(Math.abs(w)<u)break;const _=Xg(c+f),S=Xg(c-f),T=JN(_,v),N=JN(S,v),O=(T-N)/(2*f);c+=w/O}const m=hq(c),p=new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),0,0);if(Number.isFinite(n)){const g=n/15-9;if(Math.abs(g)>1e-12)return new Date(p.getTime()+g*36e5)}return p}const eC={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},wq=(e,t)=>(e%t+t)%t,Z3=(e,t)=>(e%t+t)%t,X3=e=>e instanceof Date&&!Number.isNaN(e.getTime()),tC=new Map;function J3(e,t=127.5){const n=`${e}@${t}`,r=tC.get(n);if(r)return r;const i=Un(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return tC.set(n,i),i}function Q3(e,t=127.5){if(!X3(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=J3(n,t),i=e<r?n-1:n,a=wq(i-4,60);return{useYear:i,index60Num:a}}const $r=["","","","","","","","","",""],si=["","","","","","","","","","","",""],GS={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Ya={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Sq=["","","","","","","","","",""],Eq=["","","","","","","","","","","",""],kq=["","","","","","","","","","","","","","","","","","","",""],Aq=["","","","","","","","","","","","","","","","","","","","","","","",""],Dd=new Set($r),um=new Set(si),Rn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Gn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Wk=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xy=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],Tq={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},Oq={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function at(e,t=127.5){const{index60Num:n}=Q3(e,t);return Wk[n]}function jq(e,t=127.5){return(at(e,t)||"").charAt(0)}const Nq=[2,4,6,8,0,2,4,6,8,0];function Cq(e,t=127.5){const n=new Array(12);return n[0]=J3(e,t),n[1]=Un(e,345,t),n[2]=Un(e,15,t),n[3]=Un(e,45,t),n[4]=Un(e,75,t),n[5]=Un(e,105,t),n[6]=Un(e,135,t),n[7]=Un(e,165,t),n[8]=Un(e,195,t),n[9]=Un(e,225,t),n[10]=Un(e,255,t),n[11]=Un(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function Mq(e,t=127.5){const{useYear:n}=Q3(e,t),r=Cq(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function Pq(e,t=127.5){const n=jq(e,t),r=GS..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return Nq[r]}function Dq(e,t,n=127.5){return(Pq(e,n)+(t-1))%10}function kt(e,t=127.5){if(!X3(e))return"";const{monthIndex:n}=Mq(e,t),r=(2+(n-1))%12,i=GS.[r],a=Dq(e,n,t);return GS.[a]+i}const _y={JDN:2445731,idx:0};function e$(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),c=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+c-1524.5}function Rq(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=$q(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function Lq(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function gt(e,t){const n=Rq(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=e$(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=Z3(a-_y.JDN+_y.idx,60),c=Wk[o];if(!c)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return c}function Iq(e,t){const n=new Date(e),r=Lq(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=e$(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),c=Z3(o-_y.JDN+_y.idx,60),u=Wk[c];if(!u)throw new Error(`getDayGanZhi: idx=${c} out of range (jdn=${o}, jd=${a})`);return u}function $q(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<xy.length;n+=1){const{branch:r,start:i,end:a}=xy[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function Bq(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<xy.length;n+=1){const{branch:r,start:i,end:a}=xy[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function zq(e,t,n,r){const i=$r.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),$r[a]}function za(e,t,n){e instanceof Date||(e=new Date(e));const r=Bq(e),i=si.indexOf(r),o=(n??gt(e,t)).charAt(0);return zq(e,o,i,t)+r}const nC=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const g=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,g))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=t=e(r,i,c);return c},Uq=(e=>e?nC(e):nC),Fq=e=>e;function Hq(e,t=Fq){const n=Wt.useSyncExternalStore(e.subscribe,Wt.useCallback(()=>t(e.getState()),[e,t]),Wt.useCallback(()=>t(e.getInitialState()),[e,t]));return Wt.useDebugValue(n),n}const rC=e=>{const t=Uq(e),n=r=>Hq(t,r);return Object.assign(n,t),n},au=(e=>e?rC(e):rC);function Gq(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),c=(a=n.getItem(i))!=null?a:null;return c instanceof Promise?c.then(o):o(c)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const qS=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return qS(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return qS(r)(n)}}}},qq=(e,t)=>(n,r,i)=>{let a={storage:Gq(()=>localStorage),partialize:_=>_,version:0,merge:(_,S)=>({...S,..._}),...t},o=!1;const c=new Set,u=new Set;let f=a.storage;if(!f)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(..._)},r,i);const m=()=>{const _=a.partialize({...r()});return f.setItem(a.name,{state:_,version:a.version})},p=i.setState;i.setState=(_,S)=>(p(_,S),m());const g=e((..._)=>(n(..._),m()),r,i);i.getInitialState=()=>g;let v;const w=()=>{var _,S;if(!f)return;o=!1,c.forEach(N=>{var O;return N((O=r())!=null?O:g)});const T=((S=a.onRehydrateStorage)==null?void 0:S.call(a,(_=r())!=null?_:g))||void 0;return qS(f.getItem.bind(f))(a.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==a.version){if(a.migrate){const O=a.migrate(N.state,N.version);return O instanceof Promise?O.then(P=>[!0,P]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var O;const[P,M]=N;if(v=a.merge(M,(O=r())!=null?O:g),n(v,!0),P)return m()}).then(()=>{T?.(v,void 0),v=r(),o=!0,u.forEach(N=>N(v))}).catch(N=>{T?.(void 0,N)})};return i.persist={setOptions:_=>{a={...a,..._},_.storage&&(f=_.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:_=>(c.add(_),()=>{c.delete(_)}),onFinishHydration:_=>(u.add(_),()=>{u.delete(_)})},a.skipHydration||w(),v||g},t$=qq;var ts={},Jg={},YS=function(e,t){return YS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},YS(e,t)};function n$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");YS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var wy=function(){return wy=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},wy.apply(this,arguments)};function tf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function r$(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function i$(e,t){return function(n,r){t(n,r,e)}}function a$(e,t,n,r,i,a){function o(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var c=r.kind,u=c==="getter"?"get":c==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),p,g=!1,v=n.length-1;v>=0;v--){var w={};for(var _ in r)w[_]=_==="access"?{}:r[_];for(var _ in r.access)w.access[_]=r.access[_];w.addInitializer=function(T){if(g)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(T||null))};var S=(0,n[v])(c==="accessor"?{get:m.get,set:m.set}:m[u],w);if(c==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(p=o(S.get))&&(m.get=p),(p=o(S.set))&&(m.set=p),(p=o(S.init))&&i.unshift(p)}else(p=o(S))&&(c==="field"?i.unshift(p):m[u]=p)}f&&Object.defineProperty(f,r.name,m),g=!0}function o$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function s$(e){return typeof e=="symbol"?e:"".concat(e)}function l$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function c$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ue(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(m){try{f(r.next(m))}catch(p){o(p)}}function u(m){try{f(r.throw(m))}catch(p){o(p)}}function f(m){m.done?a(m.value):i(m.value).then(c,u)}f((r=r.apply(e,t||[])).next())})}function u$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(m){return u([f,m])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Qb=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function d$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Qb(t,e,n)}function Sy(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vk(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function f$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vk(arguments[t]));return e}function h$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,c=a.length;o<c;o++,i++)r[i]=a[o];return r}function m$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Rd(e){return this instanceof Rd?(this.v=e,this):new Rd(e)}function p$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(w){return Promise.resolve(w).then(v,p)}}function c(v,w){r[v]&&(i[v]=function(_){return new Promise(function(S,T){a.push([v,_,S,T])>1||u(v,_)})},w&&(i[v]=w(i[v])))}function u(v,w){try{f(r[v](w))}catch(_){g(a[0][3],_)}}function f(v){v.value instanceof Rd?Promise.resolve(v.value.v).then(m,p):g(a[0][2],v)}function m(v){u("next",v)}function p(v){u("throw",v)}function g(v,w){v(w),a.shift(),a.length&&u(a[0][0],a[0][1])}}function g$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:Rd(e[i](o)),done:!1}:a?a(o):o}:a}}function y$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Sy=="function"?Sy(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(c,u){o=e[a](o),i(c,u,o.done,o.value)})}}function i(a,o,c,u){Promise.resolve(u).then(function(f){a({value:f,done:c})},o)}}function b$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Yq=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},KS=function(e){return KS=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},KS(e)};function v$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=KS(e),r=0;r<n.length;r++)n[r]!=="default"&&Qb(t,e,n[r]);return Yq(t,e),t}function x$(e){return e&&e.__esModule?e:{default:e}}function _$(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function w$(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function S$(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function E$(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var Kq=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function k$(e){function t(a){e.error=e.hasError?new Kq(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function A$(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const Wq={__extends:n$,__assign:wy,__rest:tf,__decorate:r$,__param:i$,__esDecorate:a$,__runInitializers:o$,__propKey:s$,__setFunctionName:l$,__metadata:c$,__awaiter:Ue,__generator:u$,__createBinding:Qb,__exportStar:d$,__values:Sy,__read:Vk,__spread:f$,__spreadArrays:h$,__spreadArray:m$,__await:Rd,__asyncGenerator:p$,__asyncDelegator:g$,__asyncValues:y$,__makeTemplateObject:b$,__importStar:v$,__importDefault:x$,__classPrivateFieldGet:_$,__classPrivateFieldSet:w$,__classPrivateFieldIn:S$,__addDisposableResource:E$,__disposeResources:k$,__rewriteRelativeImportExtension:A$},Vq=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:E$,get __assign(){return wy},__asyncDelegator:g$,__asyncGenerator:p$,__asyncValues:y$,__await:Rd,__awaiter:Ue,__classPrivateFieldGet:_$,__classPrivateFieldIn:S$,__classPrivateFieldSet:w$,__createBinding:Qb,__decorate:r$,__disposeResources:k$,__esDecorate:a$,__exportStar:d$,__extends:n$,__generator:u$,__importDefault:x$,__importStar:v$,__makeTemplateObject:b$,__metadata:c$,__param:i$,__propKey:s$,__read:Vk,__rest:tf,__rewriteRelativeImportExtension:A$,__runInitializers:o$,__setFunctionName:l$,__spread:f$,__spreadArray:m$,__spreadArrays:h$,__values:Sy,default:Wq},Symbol.toStringTag,{value:"Module"})),Zq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let ev=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},T$=class extends ev{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},WS=class extends ev{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},VS=class extends ev{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Ey;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ey||(Ey={}));class Xq{constructor(t,{headers:n={},customFetch:r,region:i=Ey.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Zq(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ue(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:c,method:u,body:f,signal:m,timeout:p}=r;let g={},{region:v}=r;v||(v=this.region);const w=new URL(`${this.url}/${n}`);v&&v!=="any"&&(g["x-region"]=v,w.searchParams.set("forceFunctionRegion",v));let _;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",_=f):typeof f=="string"?(g["Content-Type"]="text/plain",_=f):typeof FormData<"u"&&f instanceof FormData?_=f:(g["Content-Type"]="application/json",_=JSON.stringify(f)):_=f;let S=m;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),m?(S=o.signal,m.addEventListener("abort",()=>o.abort())):S=o.signal);const T=yield this.fetch(w.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:_,signal:S}).catch(M=>{throw new T$(M)}),N=T.headers.get("x-relay-error");if(N&&N==="true")throw new WS(T);if(!T.ok)throw new VS(T);let O=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return O==="application/json"?P=yield T.json():O==="application/octet-stream"||O==="application/pdf"?P=yield T.blob():O==="text/event-stream"?P=T:O==="multipart/form-data"?P=yield T.formData():P=yield T.text(),{data:P,error:null,response:T}}catch(c){return{data:null,error:c,response:c instanceof VS||c instanceof WS?c.context:void 0}}finally{a&&clearTimeout(a)}})}}const Jq=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ey},FunctionsClient:Xq,FunctionsError:ev,FunctionsFetchError:T$,FunctionsHttpError:VS,FunctionsRelayError:WS},Symbol.toStringTag,{value:"Module"})),O$=zm(Jq);var Er={};const nf=zm(Vq);var Qg={},e0={},t0={},n0={},r0={},i0={},iC;function j$(){if(iC)return i0;iC=1,Object.defineProperty(i0,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return i0.default=e,i0}var aC;function N$(){if(aC)return r0;aC=1,Object.defineProperty(r0,"__esModule",{value:!0});const t=nf.__importDefault(j$());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,m,p,g;let v=null,w=null,_=null,S=u.status,T=u.statusText;if(u.ok){if(this.method!=="HEAD"){const M=await u.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?w=M:w=JSON.parse(M))}const O=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),P=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");O&&P&&P.length>1&&(_=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(v={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,S=406,T="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const O=await u.text();try{v=JSON.parse(O),Array.isArray(v)&&u.status===404&&(w=[],v=null,S=200,T="OK")}catch{u.status===404&&O===""?(S=204,T="No Content"):v={message:O}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,S=200,T="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:w,count:_,status:S,statusText:T}});return this.shouldThrowOnError||(c=c.catch(u=>{var f,m,p,g,v,w;let _="";const S=u?.cause;if(S){const T=(f=S?.message)!==null&&f!==void 0?f:"",N=(m=S?.code)!==null&&m!==void 0?m:"";_=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,_+=`

Caused by: ${(g=S?.name)!==null&&g!==void 0?g:"Error"}: ${T}`,N&&(_+=` (${N})`),S?.stack&&(_+=`
${S.stack}`)}else _=(v=u?.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(w=u?.name)!==null&&w!==void 0?w:"FetchError"}: ${u?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}};return r0.default=n,r0}var oC;function C$(){if(oC)return n0;oC=1,Object.defineProperty(n0,"__esModule",{value:!0});const t=nf.__importDefault(N$());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const f=u?`${u}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:f="text"}={}){var m;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${g}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return n0.default=n,n0}var sC;function Zk(){if(sC)return t0;sC=1,Object.defineProperty(t0,"__esModule",{value:!0});const t=nf.__importDefault(C$()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const c=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:c,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${f}fts${m}.${o}`),this}match(a){return Object.entries(a).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(a,o,c){return this.url.searchParams.append(a,`not.${o}.${c}`),this}or(a,{foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,c){return this.url.searchParams.append(a,`${o}.${c}`),this}};return t0.default=r,t0}var lC;function M$(){if(lC)return e0;lC=1,Object.defineProperty(e0,"__esModule",{value:!0});const t=nf.__importDefault(Zk());let n=class{constructor(i,{headers:a={},schema:o,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=c}select(i,a){const{head:o=!1,count:c}=a??{},u=o?"HEAD":"GET";let f=!1;const m=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var c;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var o;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return e0.default=n,e0}var cC;function Qq(){if(cC)return Qg;cC=1,Object.defineProperty(Qg,"__esModule",{value:!0});const e=nf,t=e.__importDefault(M$()),n=e.__importDefault(Zk());let r=class P${constructor(a,{headers:o={},schema:c,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=c,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new P$(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:c=!1,get:u=!1,count:f}={}){var m;let p;const g=new URL(`${this.url}/rpc/${a}`);let v;c||u?(p=c?"HEAD":"GET",Object.entries(o).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{g.searchParams.append(_,S)})):(p="POST",v=o);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new n.default({method:p,url:g,headers:w,schema:this.schemaName,body:v,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return Qg.default=r,Qg}var uC;function D$(){if(uC)return Er;uC=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const e=nf,t=e.__importDefault(Qq());Er.PostgrestClient=t.default;const n=e.__importDefault(M$());Er.PostgrestQueryBuilder=n.default;const r=e.__importDefault(Zk());Er.PostgrestFilterBuilder=r.default;const i=e.__importDefault(C$());Er.PostgrestTransformBuilder=i.default;const a=e.__importDefault(N$());Er.PostgrestBuilder=a.default;const o=e.__importDefault(j$());return Er.PostgrestError=o.default,Er.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Er}class R${constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const eY="2.86.2",tY=`realtime-js/${eY}`,L$="1.0.0",nY="2.0.0",dC=L$,ZS=1e4,rY=1e3,iY=100;var $c;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($c||($c={}));var Mn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mn||(Mn={}));var Ma;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ma||(Ma={}));var XS;(function(e){e.websocket="websocket"})(XS||(XS={}));var Bc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Bc||(Bc={}));class aY{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,c=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+c.length+o.length+f.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let w=new DataView(v),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,u.length),w.setUint8(_++,c.length),w.setUint8(_++,o.length),w.setUint8(_++,f.length),w.setUint8(_++,p.length),w.setUint8(_++,n),Array.from(u,T=>w.setUint8(_++,T.charCodeAt(0))),Array.from(c,T=>w.setUint8(_++,T.charCodeAt(0))),Array.from(o,T=>w.setUint8(_++,T.charCodeAt(0))),Array.from(f,T=>w.setUint8(_++,T.charCodeAt(0))),Array.from(p,T=>w.setUint8(_++,T.charCodeAt(0)));var S=new Uint8Array(v.byteLength+r.byteLength);return S.set(new Uint8Array(v),0),S.set(new Uint8Array(r),v.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,c,u]=r;return n({join_ref:i,ref:a,topic:o,event:c,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),c=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(t.slice(u,u+i));u=u+i;const m=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const g=t.slice(u,t.byteLength),v=c===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,w={type:this.BROADCAST_EVENT,event:m,payload:v};return o>0&&(w.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class I${constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const fC=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=oY(o,e,t,i),a),{}):{}},oY=(e,t,n,r)=>{const i=t.find(c=>c.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?$$(a,o):JS(o)},$$=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return uY(t,n)}switch(e){case Yt.bool:return sY(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return lY(t);case Yt.json:case Yt.jsonb:return cY(t);case Yt.timestamp:return dY(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return JS(t);default:return JS(t)}},JS=e=>e,sY=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lY=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},uY=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>$$(t,c))}return e},dY=e=>typeof e=="string"?e.replace(" ","T"):e,B$=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class pw{constructor(t,n,r={},i=ZS){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var QS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(QS||(QS={}));let z$=class iy{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=iy.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=iy.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=iy.syncDiff(this.state,i,a,o),c())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),c={},u={};return this.map(a,(f,m)=>{o[f]||(u[f]=m)}),this.map(o,(f,m)=>{const p=a[f];if(p){const g=m.map(S=>S.presence_ref),v=p.map(S=>S.presence_ref),w=m.filter(S=>v.indexOf(S.presence_ref)<0),_=p.filter(S=>g.indexOf(S.presence_ref)<0);w.length>0&&(c[f]=w),_.length>0&&(u[f]=_)}else c[f]=m}),this.syncDiff(a,{joins:c,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,u)=>{var f;const m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(u),m.length>0){const p=t[c].map(v=>v.presence_ref),g=m.filter(v=>p.indexOf(v.presence_ref)<0);t[c].unshift(...g)}r(c,m,u)}),this.map(o,(c,u)=>{let f=t[c];if(!f)return;const m=u.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=f,i(c,f,u),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var eE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(eE||(eE={}));var kd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(kd||(kd={}));var ho;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ho||(ho={}));const fY=Mn;let U$=class F${constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new pw(this,Ma.join,this.params,this.timeout),this.rejoinTimer=new I$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ma.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new z$(this),this.broadcastEndpointURL=B$(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Mn.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[kd.PRESENCE]&&this.bindings[kd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},g={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(ho.CHANNEL_ERROR,v)),this._onClose(()=>t?.(ho.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){t?.(ho.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(w=_?.length)!==null&&w!==void 0?w:0,T=[];for(let N=0;N<S;N++){const O=_[N],{filter:{event:P,schema:M,table:D,filter:$}}=O,H=v&&v[N];if(H&&H.event===P&&H.schema===M&&H.table===D&&H.filter===$)T.push(Object.assign(Object.assign({},O),{id:H.id}));else{this.unsubscribe(),this.state=Mn.errored,t?.(ho.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(ho.SUBSCRIBED);return}}).receive("error",v=>{this.state=Mn.errored,t?.(ho.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(ho.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Mn.joined&&t===kd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const f=await c.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,u;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ma.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new pw(this,Ma.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new pw(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>iY){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:c,error:u,leave:f,join:m}=Ma;if(r&&[c,u,f,m].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var w,_,S;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(_=v.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(v=>v.callback(g,r)):(a=this.bindings[o])===null||a===void 0||a.filter(v=>{var w,_,S,T,N,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const P=v.id,M=(w=v.filter)===null||w===void 0?void 0:w.event;return P&&((_=n.ids)===null||_===void 0?void 0:_.includes(P))&&(M==="*"||M?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const P=(N=(T=v?.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return P==="*"||P===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:_,table:S,commit_timestamp:T,type:N,errors:O}=w;g=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:T,eventType:N,new:{},old:{},errors:O}),this._getPayloadRecords(w))}v.callback(g,r)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&F$.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ma.close,{},t)}_onError(t){this._on(Ma.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=fC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=fC(t.columns,t.old_record)),n}};const gw=()=>{},a0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hY=[1e3,2e3,5e3,1e4],mY=1e4,pY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let gY=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ZS,this.transport=null,this.heartbeatIntervalMs=a0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gw,this.ref=0,this.reconnectTimer=null,this.vsn=dC,this.logger=gw,this.conn=null,this.sendBuffer=[],this.serializer=new aY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${XS.websocket}`,this.httpEndpoint=B$(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=R$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $c.connecting:return Bc.Connecting;case $c.open:return Bc.Open;case $c.closing:return Bc.Closing;default:return Bc.Closed}}isConnected(){return this.connectionState()===Bc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new U$(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(rY,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},a0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,c=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===$c.open||this.conn.readyState===$c.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ma.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([pY],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:tY};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ma.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new I$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},a0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,c,u,f,m,p,g,v;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:ZS,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:a0.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:gw,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:dC,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(w=>hY[w-1]||mY),this.vsn){case L$:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((w,_)=>_(JSON.stringify(w))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((w,_)=>_(JSON.parse(w)));break;case nY:this.encode=(g=t?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const yY=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:fY,get REALTIME_LISTEN_TYPES(){return kd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return eE},get REALTIME_PRESENCE_LISTEN_EVENTS(){return QS},get REALTIME_SUBSCRIBE_STATES(){return ho},RealtimeChannel:U$,RealtimeClient:gY,RealtimePresence:z$,WebSocketFactory:R$},Symbol.toStringTag,{value:"Module"})),H$=zm(yY);class Gm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class G$ extends Gm{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ky extends Gm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Xk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bY=()=>Response,tE=e=>{if(Array.isArray(e))return e.map(n=>tE(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=tE(r)}),t},vY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xY=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),yw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},_Y=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){const r=yield bY();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new G$(yw(i),a,o))}).catch(i=>{t(new ky(yw(i),i))}):t(new ky(yw(e),e))}),wY=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(vY(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function qm(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,wY(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>_Y(u,c,r))})})}function dm(e,t,n,r){return Ue(this,void 0,void 0,function*(){return qm(e,"GET",t,n,r)})}function Ca(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return qm(e,"POST",t,r,i,n)})}function nE(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return qm(e,"PUT",t,r,i,n)})}function SY(e,t,n,r){return Ue(this,void 0,void 0,function*(){return qm(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Jk(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return qm(e,"DELETE",t,r,i,n)})}class EY{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}var q$;class kY{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[q$]="BlobDownloadBuilder",this.promise=null}asStream(){return new EY(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}q$=Symbol.toStringTag;const AY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TY{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Xk(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ue(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},hC),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const f=this._removeEmptyFolders(n),m=this._getFinalPath(f),p=yield(t=="PUT"?nE:Ca)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let u;const f=Object.assign({upsert:hC.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield nE(this.fetch,c.toString(),u,{headers:m});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(nn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Ca(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),c=o.searchParams.get("token");if(!c)throw new Gm("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Ca(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ca(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=yield Ca(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",c=this._getFinalPath(t),u=()=>dm(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new kY(u,this.shouldThrowOnError)}info(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield dm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:tE(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}exists(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield SY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r)&&r instanceof ky){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const c=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Jk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},AY),n),{prefix:t||""});return{data:yield Ca(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ue(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ca(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Y$="2.86.2",K$={"X-Client-Info":`storage-js/${Y$}`};class OY{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},K$),n),this.fetch=Xk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield dm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield dm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ue(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ca(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield nE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Jk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var fm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function jY(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function NY(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function CY(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const c=jY(e.baseUrl,r,i),u=await NY(e.auth),f=await t(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),m=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),g=p&&m?JSON.parse(m):m;if(!f.ok){const v=p?g:void 0,w=v?.error;throw new fm(w?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:w?.type,icebergCode:w?.code,details:v})}return{status:f.status,headers:f.headers,data:g}}}}function o0(e){return e.join("")}var MY=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:o0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${o0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${o0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${o0(e.namespace)}`}),!0}catch(t){if(t instanceof fm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof fm&&n.status===409)return;throw n}}};function Zu(e){return e.join("")}var PY=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof fm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof fm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},DY=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=CY({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new MY(this.client,t),this.tableOps=new PY(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class W${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},K$),n),this.fetch=Xk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield dm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Jk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}from(t){if(!xY(t))throw new Gm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new DY({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ue(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Qk={"X-Client-Info":`storage-js/${Y$}`,"Content-Type":"application/json"};class e2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ii(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ay extends e2{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class V$ extends e2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var rE;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(rE||(rE={}));const tv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),RY=()=>Response,Z$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},LY=e=>Array.from(new Float32Array(e)),IY=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},mC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$Y=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const c=o?.statusCode||o?.code||i+"";t(new ay(mC(o),i,c))}).catch(()=>{const o=i+"",c=a.statusText||`HTTP ${i} error`;t(new ay(c,i,o))});else{const o=i+"",c=a.statusText||`HTTP ${i} error`;t(new ay(c,i,o))}}else t(new V$(mC(e),e))}),BY=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(Z$(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function zY(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,BY(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>$Y(u,c,r))})})}function Ni(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return zY(e,"POST",t,r,i,n)})}class X${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qk),n),this.fetch=tv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ni(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ni(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}}class J${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qk),n),this.fetch=tv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ni(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}listVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ni(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ni(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}}class Q${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qk),n),this.fetch=tv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ni(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}listBuckets(){return Ue(this,arguments,void 0,function*(t={}){try{return{data:yield Ni(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ni(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}}class eB extends Q${constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new tB(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ue(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ue(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ue(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ue(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class tB extends X${constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ue(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ue(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ue(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ue(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new nB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class nB extends J${constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ue(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ue(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ue(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ue(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ue(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class UY extends OY{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new TY(this.url,this.headers,t,this.fetch)}get vectors(){return new eB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new W$(this.url+"/iceberg",this.headers,this.fetch)}}const FY=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:W$,StorageApiError:G$,StorageClient:UY,StorageError:Gm,StorageUnknownError:ky,StorageVectorsApiError:ay,StorageVectorsClient:eB,StorageVectorsError:e2,get StorageVectorsErrorCode(){return rE},StorageVectorsUnknownError:V$,VectorBucketApi:Q$,VectorBucketScope:tB,VectorDataApi:J$,VectorIndexApi:X$,VectorIndexScope:nB,isPlainObject:Z$,isStorageError:nn,isStorageVectorsError:ii,normalizeToFloat32:LY,resolveFetch:tv,resolveResponse:RY,validateVectorDimension:IY},Symbol.toStringTag,{value:"Module"})),HY=zm(FY);var bw={},kh={},pC;function GY(){return pC||(pC=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.version=void 0,kh.version="2.86.2"),kh}var gC;function qY(){return gC||(gC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=GY();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(bw)),bw}var vw={},yC;function YY(){return yC||(yC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const c=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(f,m)=>{var p;const g=(p=await a())!==null&&p!==void 0?p:i;let v=new u(m?.headers);return v.has("apikey")||v.set("apikey",i),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),c(f,Object.assign(Object.assign({},m),{headers:v}))}};e.fetchWithAuth=r})(vw)),vw}var ns={},bC;function KY(){if(bC)return ns;bC=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.isBrowser=void 0,ns.uuid=e,ns.ensureTrailingSlash=t,ns.applySettingDefaults=r,ns.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,c=a=="x"?o:o&3|8;return c.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";ns.isBrowser=n;function r(a,o){var c,u;const{db:f,auth:m,realtime:p,global:g}=a,{db:v,auth:w,realtime:_,global:S}=o,T={db:Object.assign(Object.assign({},v),f),auth:Object.assign(Object.assign({},w),m),realtime:Object.assign(Object.assign({},_),p),storage:{},global:Object.assign(Object.assign(Object.assign({},S),g),{headers:Object.assign(Object.assign({},(c=S?.headers)!==null&&c!==void 0?c:{}),(u=g?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?T.accessToken=a.accessToken:delete T.accessToken,T}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ns}var Ah={};const rB="2.86.2",dd=30*1e3,iE=3,xw=iE*dd,WY="http://localhost:9999",VY="supabase.auth.token",ZY={"X-Client-Info":`gotrue-js/${rB}`},aE="X-Supabase-Api-Version",iB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JY=600*1e3;let Ld=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let aB=class extends Ld{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function oB(e){return Ge(e)&&e.name==="AuthApiError"}let vl=class extends Ld{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},ws=class extends Ld{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ei=class extends ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function sB(e){return Ge(e)&&e.name==="AuthSessionMissingError"}let Nc=class extends ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Wh=class extends ws{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Vh=class extends ws{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function lB(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}let oE=class extends ws{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ay=class extends ws{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function oy(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}let sE=class extends ws{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function QY(e){return Ge(e)&&e.name==="AuthWeakPasswordError"}let Ty=class extends ws{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Oy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vC=` 	
\r=`.split(""),eK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vC.length;t+=1)e[vC[t].charCodeAt(0)]=-2;for(let t=0;t<Oy.length;t+=1)e[Oy[t].charCodeAt(0)]=t;return e})();function xC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Oy[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Oy[r]),t.queuedBits-=6}}function cB(e,t,n){const r=eK[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _C(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{rK(o,r,n)};for(let o=0;o<e.length;o+=1)cB(e.charCodeAt(o),i,a);return t.join("")}function tK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nK(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}tK(r,t)}}function rK(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ad(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)cB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function iK(e){const t=[];return nK(e,n=>t.push(n)),new Uint8Array(t)}function zc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>xC(i,n,r)),xC(null,n,r),t.join("")}function aK(e){return Math.round(Date.now()/1e3)+e}function oK(){return Symbol("auth-callback")}const pr=()=>typeof window<"u"&&typeof document<"u",wc={tested:!1,writable:!1},uB=()=>{if(!pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wc.tested)return wc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wc.tested=!0,wc.writable=!0}catch{wc.tested=!0,wc.writable=!1}return wc.writable};function sK(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const dB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Sc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hr=async(e,t)=>{await e.removeItem(t)};class nv{constructor(){this.promise=new nv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}nv.promiseConstructor=Promise;function _w(e){const t=e.split(".");if(t.length!==3)throw new Ty("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!XY.test(t[r]))throw new Ty("JWT not in base64url format");return{header:JSON.parse(_C(t[0])),payload:JSON.parse(_C(t[1])),signature:Ad(t[2]),raw:{header:t[0],payload:t[1]}}}async function cK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uK(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function dK(e){return("0"+e.toString(16)).substr(-2)}function fK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,dK).join("")}async function hK(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function mK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await hK(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xu(e,t,n=!1){const r=fK();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await fd(e,`${t}-code-verifier`,i);const a=await mK(r);return[a,r===a?"plain":"s256"]}const pK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gK(e){const t=e.headers.get(aE);if(!t||!t.match(pK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function bK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ju(e){if(!vK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ww(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xK(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function wC(e){return JSON.parse(JSON.stringify(e))}const Cc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_K=[502,503,504];async function SC(e){var t;if(!lK(e))throw new Ay(Cc(e),0);if(_K.includes(e.status))throw new Ay(Cc(e),e.status);let n;try{n=await e.json()}catch(a){throw new vl(Cc(a),a)}let r;const i=gK(e);if(i&&i.getTime()>=iB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sE(Cc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ei}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new sE(Cc(n),e.status,n.weak_password.reasons);throw new aB(Cc(n),e.status||500,r)}const wK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function et(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[aE]||(a[aE]=iB["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await SK(e,t,n+c,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function SK(e,t,n,r,i,a){const o=wK(t,r,i,a);let c;try{c=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Ay(Cc(u),0)}if(c.ok||await SC(c),r?.noResolveJson)return c;try{return await c.json()}catch(u){await SC(u)}}function Na(e){var t;let n=null;AK(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=aK(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function EC(e){const t=Na(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function EK(e){return{data:e,error:null}}function kK(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=tf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function kC(e){return e}function AK(e){return e.access_token&&e.refresh_token&&e.expires_in}const sy=["global","local","others"];let t2=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=dB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=sy[0]){if(sy.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sy.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=tf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:kK,redirectTo:n?.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xl})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,c,u;try{const f={nextPage:null,lastPage:0,total:0},m=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:kC});if(m.error)throw m.error;const p=await m.json(),g=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=_}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ge(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Ju(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xl})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ju(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ju(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ju(t.userId);try{const{data:n,error:r}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ju(t.userId),Ju(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,c,u;try{const f={nextPage:null,lastPage:0,total:0},m=await et(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:kC});if(m.error)throw m.error;const p=await m.json(),g=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=_}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ge(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await et(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await et(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await et(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}};function AC(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Mc={debug:!!(globalThis&&uB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let fB=class extends n2{};class TK extends n2{}async function hB(e,t,n){Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const TC={};async function OK(e,t,n){var r;const i=(r=TC[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,c)=>{setTimeout(()=>{c(new TK(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return TC[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function jK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function mB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function NK(e){return parseInt(e,16)}function CK(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function MK(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:c,requestId:u,resources:f,scheme:m,uri:p,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=mB(e.address),w=m?`${m}://${r}`:r,_=e.statement?`${e.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${v}

${_}`;let T=`URI: ${p}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),c&&(T+=`
Not Before: ${c.toISOString()}`),u&&(T+=`
Request ID: ${u}`),f){let N=`
Resources:`;for(const O of f){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);N+=`
- ${O}`}T+=N}return`${S}
${T}`}class Pn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class jy extends Pn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function PK({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Pn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Pn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Pn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(pB(o)){if(a.rp.id!==o)return new Pn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Pn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function DK({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(pB(r)){if(n.rpId!==r)return new Pn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class RK{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const LK=new RK;function IK(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=tf(e,["challenge","user","excludeCredentials"]),a=Ad(t).buffer,o=Object.assign(Object.assign({},n),{id:Ad(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];c.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:Ad(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function $K(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=tf(e,["challenge","allowCredentials"]),i=Ad(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},c),{id:Ad(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function BK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:zc(new Uint8Array(e.response.attestationObject)),clientDataJSON:zc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:zc(new Uint8Array(i.authenticatorData)),clientDataJSON:zc(new Uint8Array(i.clientDataJSON)),signature:zc(new Uint8Array(i.signature)),userHandle:i.userHandle?zc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function OC(){var e,t;return!!(pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function UK(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jy("Browser returned unexpected credential type",t)}:{data:null,error:new jy("Empty credential response",t)}}catch(t){return{data:null,error:PK({error:t,options:e})}}}async function FK(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jy("Browser returned unexpected credential type",t)}:{data:null,error:new jy("Empty credential response",t)}}catch(t){return{data:null,error:DK({error:t,options:e})}}}const HK={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},GK={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ny(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const c=r[a];t(c)?r[a]=Ny(c,o):r[a]=Ny(o)}else r[a]=o}return r}function qK(e,t){return Ny(HK,e,t||{})}function YK(e,t){return Ny(GK,e,t||{})}class KK{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:c};const u=i??LK.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=qK(o.webauthn.credential_options.publicKey,a?.create),{data:m,error:p}=await UK({publicKey:f,signal:u});return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=YK(o.webauthn.credential_options.publicKey,a?.request),{data:m,error:p}=await FK(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:u}));return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new vl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Ld("rpId is required for WebAuthn authentication")};try{if(!OC())return{data:null,error:new vl("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new vl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Ld("rpId is required for WebAuthn registration")};try{if(!OC())return{data:null,error:new vl("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:u,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new vl("Unexpected error in register",o)}}}}jK();const WK={url:WY,storageKey:VY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZY,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function jC(e,t,n){return await n()}const Qu={};let r2=class lE{get jwks(){var t,n;return(n=(t=Qu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Qu[this.storageKey]=Object.assign(Object.assign({},Qu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Qu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qu[this.storageKey]=Object.assign(Object.assign({},Qu[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},WK),t);if(this.storageKey=a.storageKey,this.instanceID=(n=lE.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,lE.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&pr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new t2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=dB(a.fetch),this.lock=a.lock||jC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:pr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=hB:this.lock=jC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KK(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:uB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=AC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=AC(this.memoryStorage)),pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(pr()&&(n=sK(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),pr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),lB(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ge(n)?this._returnResult({error:n}):this._returnResult({error:new vl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Na}),{data:o,error:c}=a;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:m,password:p,options:g}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Xu(this.storage,this.storageKey)),a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:m,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:w},xform:Na})}else if("phone"in t){const{phone:m,password:p,options:g}=t;a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Na})}else throw new Wh("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return await hr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:c}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:EC})}else if("phone"in t){const{phone:a,password:o,options:c}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:EC})}else throw new Wh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Nc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,c,u,f,m,p,g;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:_,wallet:S,statement:T,options:N}=t;let O;if(pr())if(typeof S=="object")O=S;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")O=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=S}const P=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),M=await O.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=mB(M[0]);let $=(r=N?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const q=await O.request({method:"eth_chainId"});$=NK(q)}const H={domain:P.host,address:D,statement:T,uri:P.href,version:"1",chainId:$,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=MK(H),w=await O.request({method:"personal_sign",params:[CK(v),D]})}try{const{data:_,error:S}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Na});if(S)throw S;if(!_||!_.session||!_.user){const T=new Nc;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(Ge(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var n,r,i,a,o,c,u,f,m,p,g,v;let w,_;if("message"in t)w=t.message,_=t.signature;else{const{chain:S,wallet:T,statement:N,options:O}=t;let P;if(pr())if(typeof T=="object")P=T;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))P=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=T}const M=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const D=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),N?{statement:N}:null));let $;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")$=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)$=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)w=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),_=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${M.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=O?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((o=O?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(m=O?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const D=await P.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=D}}try{const{data:S,error:T}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:zc(_)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Na});if(T)throw T;if(!S||!S.session||!S.user){const N=new Nc;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:T})}catch(S){if(Ge(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Na});if(await hr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const c=new Nc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,c=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Na}),{data:u,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const m=new Nc;return this._returnResult({data:{user:null,session:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:c,options:u}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Xu(this.storage,this.storageKey));const{error:p}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:u}=t,{data:f,error:m}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Wh("You must provide either an email or phone number.")}catch(c){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:c}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Na});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,f=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Xu(this.storage,this.storageKey));const f=await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:EK});return!((a=f.data)===null||a===void 0)&&a.url&&pr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ei;const{error:i}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:c}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new Wh("You must provide either an email or phone number and a type")}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Sc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<xw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Sc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=ww()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=xK(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xl}):await this._useSession(async n=>{var r,i,a;const{data:o,error:c}=n;if(c)throw c;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ei}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:xl})})}catch(n){if(Ge(n))return sB(n)&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ei;const o=i.session;let c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=await Xu(this.storage,this.storageKey));const{data:f,error:m}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:xl});if(m)throw m;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ei;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=_w(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:c}=n;if(c)throw c;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ei;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!pr())throw new Vh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new oE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new oE("No code detected.");const{data:N,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:c,expires_at:u,token_type:f}=t;if(!a||!c||!o||!f)throw new Vh("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let g=m+p;u&&(g=parseInt(u));const v=g-m;v*1e3<=dd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const w=g-p;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,m);const{data:_,error:S}=await this._getUser(a);if(S)throw S;const T={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:g,refresh_token:o,token_type:f,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(oB(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=oK(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Xu(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,c,u,f,m;const{data:p,error:g}=a;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return pr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:c,token:u,access_token:f,nonce:m}=t,p=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:u,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Na}),{data:g,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Nc}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(i){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await uK(async i=>(i>0&&await cK(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Na})),(i,a)=>{const o=200*Math.pow(2,i);return a&&oy(a)&&Date.now()+o-r<dd})}catch(r){if(this._debug(n,"error",r),Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),pr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Sc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Sc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await fd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:ww()}else if(i&&!i.user&&!i.user){const o=await Sc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await hr(this.storage,this.storageKey+"-user"),await fd(this.storage,this.storageKey,i)):i.user=ww()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<xw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${xw}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),oy(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new nv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ei;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Ge(a)){const o={data:null,error:a};return oy(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await hr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await fd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=wC(i);await fd(this.storage,this.storageKey,a)}else{const i=wC(n);await fd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await hr(this.storage,this.storageKey),await hr(this.storage,this.storageKey+"-code-verifier"),await hr(this.storage,this.storageKey+"-user"),this.userStorage&&await hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/dd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${dd}ms, refresh threshold is ${iE} ticks`),i<=iE&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof n2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Xu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:f}=await et(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?BK(t.webauthn.credential_response):zK(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:u}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:IK(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:$K(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=_w(r.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await et(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ei})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ei});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&pr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ei});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&pr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await et(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ei})})}catch(t){if(Ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await et(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ei})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+JY>i)return r;const{data:a,error:o}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return this._returnResult({data:null,error:w});r=v.session.access_token}const{header:i,payload:a,signature:o,raw:{header:c,payload:u}}=_w(r);n?.allowExpired||yK(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:a,header:i,signature:o},error:null}}const m=bK(i.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,o,iK(`${c}.${u}`)))throw new Ty("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}};r2.nextInstanceID={};const VK=t2,ZK=r2,XK=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:VK,AuthApiError:aB,AuthClient:ZK,AuthError:Ld,AuthImplicitGrantRedirectError:Vh,AuthInvalidCredentialsError:Wh,AuthInvalidJwtError:Ty,AuthInvalidTokenResponseError:Nc,AuthPKCEGrantCodeExchangeError:oE,AuthRetryableFetchError:Ay,AuthSessionMissingError:ei,AuthUnknownError:vl,AuthWeakPasswordError:sE,CustomAuthError:ws,GoTrueAdminApi:t2,GoTrueClient:r2,NavigatorLockAcquireTimeoutError:fB,SIGN_OUT_SCOPES:sy,isAuthApiError:oB,isAuthError:Ge,isAuthImplicitGrantRedirectError:lB,isAuthRetryableFetchError:oy,isAuthSessionMissingError:sB,isAuthWeakPasswordError:QY,lockInternals:Mc,navigatorLock:hB,processLock:OK},Symbol.toStringTag,{value:"Module"})),gB=zm(XK);var NC;function JK(){if(NC)return Ah;NC=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.SupabaseAuthClient=void 0;const e=gB;let t=class extends e.AuthClient{constructor(r){super(r)}};return Ah.SupabaseAuthClient=t,Ah}var CC;function MC(){if(CC)return Jg;CC=1,Object.defineProperty(Jg,"__esModule",{value:!0});const e=O$,t=D$(),n=H$,r=HY,i=qY(),a=YY(),o=KY(),c=JK();class u{constructor(m,p,g){var v,w,_;this.supabaseUrl=m,this.supabaseKey=p;const S=(0,o.validateSupabaseUrl)(m);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const T=`sb-${S.hostname.split(".")[0]}-auth-token`,N={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:T}),global:i.DEFAULT_GLOBAL_OPTIONS},O=(0,o.applySettingDefaults)(g??{},N);this.storageKey=(v=O.auth.storageKey)!==null&&v!==void 0?v:"",this.headers=(w=O.global.headers)!==null&&w!==void 0?w:{},O.accessToken?(this.accessToken=O.accessToken,this.auth=new Proxy({},{get:(P,M)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(M)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((_=O.auth)!==null&&_!==void 0?_:{},this.headers,O.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),O.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},O.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new t.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:O.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,g?.storage),O.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,p={},g={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,p,g)}channel(m,p={config:{}}){return this.realtime.channel(m,p)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,p;if(this.accessToken)return await this.accessToken();const{data:g}=await this.auth.getSession();return(p=(m=g.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:p,detectSessionInUrl:g,storage:v,userStorage:w,storageKey:_,flowType:S,lock:T,debug:N,throwOnError:O},P,M){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),P),storageKey:_,autoRefreshToken:m,persistSession:p,detectSessionInUrl:g,storage:v,userStorage:w,flowType:S,lock:T,debug:N,throwOnError:O,fetch:M,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,g)=>{this._handleTokenChanged(p,"CLIENT",g?.access_token)})}_handleTokenChanged(m,p,g){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==g?(this.changedAccessToken=g,this.realtime.setAuth(g)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Jg.default=u,Jg}var PC;function QK(){return PC||(PC=1,(function(e){var t=ts&&ts.__createBinding||(Object.create?(function(m,p,g,v){v===void 0&&(v=g);var w=Object.getOwnPropertyDescriptor(p,g);(!w||("get"in w?!p.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(m,v,w)}):(function(m,p,g,v){v===void 0&&(v=g),m[v]=p[g]})),n=ts&&ts.__exportStar||function(m,p){for(var g in m)g!=="default"&&!Object.prototype.hasOwnProperty.call(p,g)&&t(p,m,g)},r=ts&&ts.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(MC());n(gB,e);var a=D$();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=O$;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(H$,e);var c=MC();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(c).default}});const u=(m,p,g)=>new i.default(m,p,g);e.createClient=u;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const p=m.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ts)),ts}var yB=QK();const bB=ui(yB),eW=$k({__proto__:null,default:bB},[yB]),{PostgrestError:uTe,FunctionsHttpError:dTe,FunctionsFetchError:fTe,FunctionsRelayError:hTe,FunctionsError:mTe,FunctionRegion:pTe,SupabaseClient:gTe,createClient:tW,GoTrueAdminApi:yTe,GoTrueClient:bTe,AuthAdminApi:vTe,AuthClient:xTe,navigatorLock:_Te,NavigatorLockAcquireTimeoutError:wTe,lockInternals:STe,processLock:ETe,SIGN_OUT_SCOPES:kTe,AuthError:ATe,AuthApiError:TTe,AuthUnknownError:OTe,CustomAuthError:jTe,AuthSessionMissingError:NTe,AuthInvalidTokenResponseError:CTe,AuthInvalidCredentialsError:MTe,AuthImplicitGrantRedirectError:PTe,AuthPKCEGrantCodeExchangeError:DTe,AuthRetryableFetchError:RTe,AuthWeakPasswordError:LTe,AuthInvalidJwtError:ITe,isAuthError:$Te,isAuthApiError:BTe,isAuthSessionMissingError:zTe,isAuthImplicitGrantRedirectError:UTe,isAuthRetryableFetchError:FTe,isAuthWeakPasswordError:HTe,RealtimePresence:GTe,RealtimeChannel:qTe,RealtimeClient:YTe,REALTIME_LISTEN_TYPES:KTe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:WTe,REALTIME_PRESENCE_LISTEN_EVENTS:VTe,REALTIME_SUBSCRIBE_STATES:ZTe,REALTIME_CHANNEL_STATES:XTe}=bB||eW,nW="https://jouhybyquybxbnqztxum.supabase.co",rW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",Le=tW(nW,rW,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),vB="settings_v1",cE=()=>{try{typeof window<"u"&&window.localStorage.removeItem(vB)}catch{}},hm={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},DC=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],iW=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&DC.includes(r)):[],n=DC.filter(r=>!t.includes(r));return[...t,...n]},Td=e=>({...hm,...e,sectionOrder:iW(e.sectionOrder)}),aW=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Td(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Td(n.settings)}}return Td(e??{})},oW=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};cE();const qn=au()(t$((e,t)=>({settings:hm,syncing:!1,loaded:!1,setSettings:n=>e({settings:Td(n)}),setKey:(n,r)=>e({settings:Td({...t().settings,[n]:r})}),reset:()=>e({settings:hm}),loadFromServer:async()=>{try{e({syncing:!0}),cE();const{data:{user:n},error:r}=await Le.auth.getUser();if(r||!n){e({syncing:!1,loaded:!1});return}const{data:i,error:a}=await Le.from("user_settings").select("payload").eq("user_id",n.id).maybeSingle();if(i||await Le.from("user_settings").upsert({user_id:n.id,payload:{}}),a&&a.code!=="PGRST116"){console.error("loadFromServer(settings) error:",a),e({syncing:!1,loaded:!0});return}if(i?.payload){const o=aW(i.payload);e({settings:o,syncing:!1,loaded:!0}),oW(i.payload)&&await Le.from("user_settings").upsert({user_id:n.id,payload:o,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(n){console.error("loadFromServer(settings) exception:",n),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),cE();const{data:{user:r},error:i}=await Le.auth.getUser();if(i||!r){e({syncing:!1});return}const a=Td(t().settings),{error:o}=await Le.from("user_settings").upsert({user_id:r.id,payload:a,updated_at:new Date().toISOString()});o&&console.error("saveToServer(settings) error:",o),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1})}}}),{name:vB,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function uE(e){const t=$r.indexOf(e);if(t!==-1)return $r[t];const n=Ya..indexOf(e);return n!==-1?$r[n]:null}function xB(e){const t=si.indexOf(e);if(t!==-1)return si[t];const n=Ya..indexOf(e);return n!==-1?si[n]:null}function RC(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Bi(e,t,n){if(t==="stem"){const r=uE(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=$r.indexOf(r),a=i>=0?Sq[i]:void 0;return RC(a,n)}else{const r=xB(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=si.indexOf(r),a=i>=0?Eq[i]:void 0;return RC(a,n)}}function fa(e,t){const n=uE(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=uE(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return Tq[n][r]}if(t.branch){const r=xB(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return Oq[n][r]}throw new Error("getSipSin: stem or branch required")}const rv={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},iv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function _B({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?iv:rv)[e]??[],c=n==="main"?[o[2]]:o,u=i==="white",f=u?"text-white":"text-neutral-800 dark:text-white",m=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return x.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:c.map((g,v)=>g==="(-)"||a?x.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap`,children:"(-) ()"},v):x.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap 
            ${n==="main"||v===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[g," (",fa(t,{stem:g}),")"]},v))})}const Ym=au(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),wB=Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e])),SB=Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e])),sW=new Set(Object.keys(Rn)),lW=new Set(Object.keys(Gn)),cW=new Set(["","","","","","","","","",""]),uW=new Set(["","","","","","","","","","","",""]);function li(e,t,n){return n===""?t==="stem"?Rn[e]??e:Gn[e]??e:t==="stem"?wB[e]??e:SB[e]??e}function LC(e){const t=wB[e]??e;return sW.has(t)?t:""}function dW(e){const t=SB[e]??e;return lW.has(t)?t:""}function av(e){if(Dd.has(e))return e;const t=Rn[e]??e;return Dd.has(t)?t:""}function i2(e){if(um.has(e))return e;const t=Gn[e]??e;return um.has(t)?t:""}function Ua(e,t){return t==="stem"?cW.has(e):uW.has(e)}function pd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:c=!1,size:u="sm",variant:f="auto",isUnknownTime:m=!1}){const{manualHour:p}=Ym(),g=m&&!p,v=t.charAt(0),w=t.charAt(1),_=li(v,"stem",r.charType),S=li(w,"branch",r.charType),T=LC(v),N=dW(w),O=LC(n),P=i2(w),M=av(n),D=r.showSipSin?fa(O,{stem:T}):null,$=!o&&r.showSipSin?fa(O,{branch:N}):null,H=r.thinEum&&Ua(v,"stem")?"font-thin":"font-bold",q=r.thinEum&&Ua(w,"branch")?"font-thin":"font-bold",K={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},F=!c&&!!r.hiddenStem,z=r.hiddenStem==="regular"?"main":"all",Z=r.hiddenStemMode==="hgc"?"hgc":"classic",Q=f==="white",J=Q?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",Y=Q?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",X=Q?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",re=Q?"text-neutral-500":"text-neutral-400",ue=Q?"text-neutral-500":"text-neutral-400",{settings:se}=qn(),B=g?`bg-white ${X}`:`${Bi(T,"stem",se)} ${X}`,W=g?`bg-white ${X}`:`${Bi(N,"branch",se)} ${X}`,ae=g?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white",V=g?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white";return x.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${J}`,children:[x.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${Y} text-nowrap`,children:e}),x.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[D&&x.jsx("div",{className:`text-[10px] desk:text-xs ${re} text-nowrap`,children:m&&!p?"-":D}),x.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:x.jsx("span",{className:`text-2xl md:text-3xl ${ae} ${H}`,children:g?"-":_})}),x.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${W}`,children:x.jsx("span",{className:`text-2xl md:text-3xl ${V} ${q}`,children:g?"-":S})}),F&&x.jsx(_B,{branch:P,dayStem:M,mode:z,mapping:Z,isUnknownTime:m&&!p&&(e===""||e==="")}),$&&x.jsx("div",{className:`text-[10px] desk:text-xs ${ue}`,children:m&&!p?"-":$}),r.showSibiUnseong&&x.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:m&&!p?"-":i||""}),r.showSibiSinsal&&x.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:m&&!p?"-":a||""})]})]})}const fW=new Set(Ya.);function hW(e){return Dd.has(e)?e:fW.has(e)?Rn[e]:""}function mW({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,c=t.showSipSin&&!n;return x.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[x.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),x.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&x.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:x.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:x.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&x.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,f)=>x.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},f))}),c&&x.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function pW(){const e=qn(w=>w.settings),[t,n]=E.useState(new Date),[r,i]=E.useState(!0),[a,o]=E.useState("/"),[c,u]=E.useState(!1);E.useEffect(()=>{if(!r)return;const w=setInterval(()=>n(new Date),1e3);return()=>clearInterval(w)},[r]);const f=at(t),m=kt(t),p=gt(t,a),g=za(t,"/"),v=hW(p.charAt(0));return x.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:x.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[x.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[x.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",x.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",bW(t)]})]}),x.jsxs("div",{className:"flex gap-2 items-center",children:[x.jsxs("select",{value:a,onChange:w=>o(w.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[x.jsx("option",{value:"",children:" ( 23)"}),x.jsx("option",{value:"/",children:"/ ()"}),x.jsx("option",{value:"",children:" ( 3)"})]}),x.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),x.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[c?x.jsx(mW,{label:"",settings:e,hideBranchSipSin:!0}):x.jsx(pd,{label:"",gz:g,dayStem:v,settings:e,hideBranchSipSin:!0}),x.jsx(pd,{label:"",gz:p,dayStem:v,settings:e,hideBranchSipSin:!0}),x.jsx(pd,{label:"",gz:m,dayStem:v,settings:e,hideBranchSipSin:!0}),x.jsx(pd,{label:"",gz:f,dayStem:v,settings:e,hideBranchSipSin:!0})]}),x.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[x.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),x.jsx("input",{type:"datetime-local",value:gW(t),disabled:r,onChange:w=>{const _=yW(w.target.value);_&&n(_)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),x.jsx("button",{onClick:()=>u(w=>!w),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${c?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:c?" ":" "})]})]})})}function gW(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function yW(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,c]=n.split(":").map(Number),u=new Date(r,i-1,a,o,c);return Number.isNaN(u.getTime())?null:u}function bW(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function vW({placeholderText:e,value:t}){const[n,r]=E.useState(e),[i,a]=E.useState(!1),[o,c]=E.useState(t??""),u=E.useRef(null),f=E.useRef(null),m=E.useRef(null),p=E.useRef(null);return E.useEffect(()=>{t!==void 0&&c(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:c,nameRef:u,latRef:f,lonRef:m,triggerBtnRef:p}}var Zh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var xW=Zh.exports,IC;function _W(){return IC||(IC=1,(function(e,t){(function(n,r){r(t)})(xW,(function(n){var r="1.9.4";function i(d){var y,k,C,R;for(k=1,C=arguments.length;k<C;k++){R=arguments[k];for(y in R)d[y]=R[y]}return d}var a=Object.create||(function(){function d(){}return function(y){return d.prototype=y,new d}})();function o(d,y){var k=Array.prototype.slice;if(d.bind)return d.bind.apply(d,k.call(arguments,1));var C=k.call(arguments,2);return function(){return d.apply(y,C.length?C.concat(k.call(arguments)):arguments)}}var c=0;function u(d){return"_leaflet_id"in d||(d._leaflet_id=++c),d._leaflet_id}function f(d,y,k){var C,R,U,ee;return ee=function(){C=!1,R&&(U.apply(k,R),R=!1)},U=function(){C?R=arguments:(d.apply(k,arguments),setTimeout(ee,y),C=!0)},U}function m(d,y,k){var C=y[1],R=y[0],U=C-R;return d===C&&k?d:((d-R)%U+U)%U+R}function p(){return!1}function g(d,y){if(y===!1)return d;var k=Math.pow(10,y===void 0?6:y);return Math.round(d*k)/k}function v(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function w(d){return v(d).split(/\s+/)}function _(d,y){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var k in y)d.options[k]=y[k];return d.options}function S(d,y,k){var C=[];for(var R in d)C.push(encodeURIComponent(k?R.toUpperCase():R)+"="+encodeURIComponent(d[R]));return(!y||y.indexOf("?")===-1?"?":"&")+C.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function N(d,y){return d.replace(T,function(k,C){var R=y[C];if(R===void 0)throw new Error("No value provided for variable "+k);return typeof R=="function"&&(R=R(y)),R})}var O=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function P(d,y){for(var k=0;k<d.length;k++)if(d[k]===y)return k;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var $=0;function H(d){var y=+new Date,k=Math.max(0,16-(y-$));return $=y+k,window.setTimeout(d,k)}var q=window.requestAnimationFrame||D("RequestAnimationFrame")||H,K=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function F(d,y,k){if(k&&q===H)d.call(y);else return q.call(window,o(d,y))}function z(d){d&&K.call(window,d)}var Z={__proto__:null,extend:i,create:a,bind:o,get lastId(){return c},stamp:u,throttle:f,wrapNum:m,falseFn:p,formatNum:g,trim:v,splitWords:w,setOptions:_,getParamString:S,template:N,isArray:O,indexOf:P,emptyImageUrl:M,requestFn:q,cancelFn:K,requestAnimFrame:F,cancelAnimFrame:z};function Q(){}Q.extend=function(d){var y=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},k=y.__super__=this.prototype,C=a(k);C.constructor=y,y.prototype=C;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(y[R]=this[R]);return d.statics&&i(y,d.statics),d.includes&&(J(d.includes),i.apply(null,[C].concat(d.includes))),i(C,d),delete C.statics,delete C.includes,C.options&&(C.options=k.options?a(k.options):{},i(C.options,d.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){k.callInitHooks&&k.callInitHooks.call(this),this._initHooksCalled=!0;for(var U=0,ee=C._initHooks.length;U<ee;U++)C._initHooks[U].call(this)}},y},Q.include=function(d){var y=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=y,this.mergeOptions(d.options)),this},Q.mergeOptions=function(d){return i(this.prototype.options,d),this},Q.addInitHook=function(d){var y=Array.prototype.slice.call(arguments,1),k=typeof d=="function"?d:function(){this[d].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(k),this};function J(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=O(d)?d:[d];for(var y=0;y<d.length;y++)d[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(d,y,k){if(typeof d=="object")for(var C in d)this._on(C,d[C],y);else{d=w(d);for(var R=0,U=d.length;R<U;R++)this._on(d[R],y,k)}return this},off:function(d,y,k){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var C in d)this._off(C,d[C],y);else{d=w(d);for(var R=arguments.length===1,U=0,ee=d.length;U<ee;U++)R?this._off(d[U]):this._off(d[U],y,k)}return this},_on:function(d,y,k,C){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(d,y,k)===!1){k===this&&(k=void 0);var R={fn:y,ctx:k};C&&(R.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(R)}},_off:function(d,y,k){var C,R,U;if(this._events&&(C=this._events[d],!!C)){if(arguments.length===1){if(this._firingCount)for(R=0,U=C.length;R<U;R++)C[R].fn=p;delete this._events[d];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var ee=this._listens(d,y,k);if(ee!==!1){var ce=C[ee];this._firingCount&&(ce.fn=p,this._events[d]=C=C.slice()),C.splice(ee,1)}}},fire:function(d,y,k){if(!this.listens(d,k))return this;var C=i({},y,{type:d,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var R=this._events[d];if(R){this._firingCount=this._firingCount+1||1;for(var U=0,ee=R.length;U<ee;U++){var ce=R[U],ge=ce.fn;ce.once&&this.off(d,ge,ce.ctx),ge.call(ce.ctx||this,C)}this._firingCount--}}return k&&this._propagateEvent(C),this},listens:function(d,y,k,C){typeof d!="string"&&console.warn('"string" type argument expected');var R=y;typeof y!="function"&&(C=!!y,R=void 0,k=void 0);var U=this._events&&this._events[d];if(U&&U.length&&this._listens(d,R,k)!==!1)return!0;if(C){for(var ee in this._eventParents)if(this._eventParents[ee].listens(d,y,k,C))return!0}return!1},_listens:function(d,y,k){if(!this._events)return!1;var C=this._events[d]||[];if(!y)return!!C.length;k===this&&(k=void 0);for(var R=0,U=C.length;R<U;R++)if(C[R].fn===y&&C[R].ctx===k)return R;return!1},once:function(d,y,k){if(typeof d=="object")for(var C in d)this._on(C,d[C],y,!0);else{d=w(d);for(var R=0,U=d.length;R<U;R++)this._on(d[R],y,k,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[u(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[u(d)],this},_propagateEvent:function(d){for(var y in this._eventParents)this._eventParents[y].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var X=Q.extend(Y);function re(d,y,k){this.x=k?Math.round(d):d,this.y=k?Math.round(y):y}var ue=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(d){return this.clone()._add(se(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(se(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new re(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new re(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(d){d=se(d);var y=d.x-this.x,k=d.y-this.y;return Math.sqrt(y*y+k*k)},equals:function(d){return d=se(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=se(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function se(d,y,k){return d instanceof re?d:O(d)?new re(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new re(d.x,d.y):new re(d,y,k)}function B(d,y){if(d)for(var k=y?[d,y]:d,C=0,R=k.length;C<R;C++)this.extend(k[C])}B.prototype={extend:function(d){var y,k;if(!d)return this;if(d instanceof re||typeof d[0]=="number"||"x"in d)y=k=se(d);else if(d=W(d),y=d.min,k=d.max,!y||!k)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=k.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(k.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(k.y,this.max.y)),this},getCenter:function(d){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var y,k;return typeof d[0]=="number"||d instanceof re?d=se(d):d=W(d),d instanceof B?(y=d.min,k=d.max):y=k=d,y.x>=this.min.x&&k.x<=this.max.x&&y.y>=this.min.y&&k.y<=this.max.y},intersects:function(d){d=W(d);var y=this.min,k=this.max,C=d.min,R=d.max,U=R.x>=y.x&&C.x<=k.x,ee=R.y>=y.y&&C.y<=k.y;return U&&ee},overlaps:function(d){d=W(d);var y=this.min,k=this.max,C=d.min,R=d.max,U=R.x>y.x&&C.x<k.x,ee=R.y>y.y&&C.y<k.y;return U&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var y=this.min,k=this.max,C=Math.abs(y.x-k.x)*d,R=Math.abs(y.y-k.y)*d;return W(se(y.x-C,y.y-R),se(k.x+C,k.y+R))},equals:function(d){return d?(d=W(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function W(d,y){return!d||d instanceof B?d:new B(d,y)}function ae(d,y){if(d)for(var k=y?[d,y]:d,C=0,R=k.length;C<R;C++)this.extend(k[C])}ae.prototype={extend:function(d){var y=this._southWest,k=this._northEast,C,R;if(d instanceof oe)C=d,R=d;else if(d instanceof ae){if(C=d._southWest,R=d._northEast,!C||!R)return this}else return d?this.extend(me(d)||V(d)):this;return!y&&!k?(this._southWest=new oe(C.lat,C.lng),this._northEast=new oe(R.lat,R.lng)):(y.lat=Math.min(C.lat,y.lat),y.lng=Math.min(C.lng,y.lng),k.lat=Math.max(R.lat,k.lat),k.lng=Math.max(R.lng,k.lng)),this},pad:function(d){var y=this._southWest,k=this._northEast,C=Math.abs(y.lat-k.lat)*d,R=Math.abs(y.lng-k.lng)*d;return new ae(new oe(y.lat-C,y.lng-R),new oe(k.lat+C,k.lng+R))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof oe||"lat"in d?d=me(d):d=V(d);var y=this._southWest,k=this._northEast,C,R;return d instanceof ae?(C=d.getSouthWest(),R=d.getNorthEast()):C=R=d,C.lat>=y.lat&&R.lat<=k.lat&&C.lng>=y.lng&&R.lng<=k.lng},intersects:function(d){d=V(d);var y=this._southWest,k=this._northEast,C=d.getSouthWest(),R=d.getNorthEast(),U=R.lat>=y.lat&&C.lat<=k.lat,ee=R.lng>=y.lng&&C.lng<=k.lng;return U&&ee},overlaps:function(d){d=V(d);var y=this._southWest,k=this._northEast,C=d.getSouthWest(),R=d.getNorthEast(),U=R.lat>y.lat&&C.lat<k.lat,ee=R.lng>y.lng&&C.lng<k.lng;return U&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,y){return d?(d=V(d),this._southWest.equals(d.getSouthWest(),y)&&this._northEast.equals(d.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function V(d,y){return d instanceof ae?d:new ae(d,y)}function oe(d,y,k){if(isNaN(d)||isNaN(y))throw new Error("Invalid LatLng object: ("+d+", "+y+")");this.lat=+d,this.lng=+y,k!==void 0&&(this.alt=+k)}oe.prototype={equals:function(d,y){if(!d)return!1;d=me(d);var k=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return k<=(y===void 0?1e-9:y)},toString:function(d){return"LatLng("+g(this.lat,d)+", "+g(this.lng,d)+")"},distanceTo:function(d){return be.distance(this,me(d))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(d){var y=180*d/40075017,k=y/Math.cos(Math.PI/180*this.lat);return V([this.lat-y,this.lng-k],[this.lat+y,this.lng+k])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function me(d,y,k){return d instanceof oe?d:O(d)&&typeof d[0]!="object"?d.length===3?new oe(d[0],d[1],d[2]):d.length===2?new oe(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new oe(d.lat,"lng"in d?d.lng:d.lon,d.alt):y===void 0?null:new oe(d,y,k)}var pe={latLngToPoint:function(d,y){var k=this.projection.project(d),C=this.scale(y);return this.transformation._transform(k,C)},pointToLatLng:function(d,y){var k=this.scale(y),C=this.transformation.untransform(d,k);return this.projection.unproject(C)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var y=this.projection.bounds,k=this.scale(d),C=this.transformation.transform(y.min,k),R=this.transformation.transform(y.max,k);return new B(C,R)},infinite:!1,wrapLatLng:function(d){var y=this.wrapLng?m(d.lng,this.wrapLng,!0):d.lng,k=this.wrapLat?m(d.lat,this.wrapLat,!0):d.lat,C=d.alt;return new oe(k,y,C)},wrapLatLngBounds:function(d){var y=d.getCenter(),k=this.wrapLatLng(y),C=y.lat-k.lat,R=y.lng-k.lng;if(C===0&&R===0)return d;var U=d.getSouthWest(),ee=d.getNorthEast(),ce=new oe(U.lat-C,U.lng-R),ge=new oe(ee.lat-C,ee.lng-R);return new ae(ce,ge)}},be=i({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(d,y){var k=Math.PI/180,C=d.lat*k,R=y.lat*k,U=Math.sin((y.lat-d.lat)*k/2),ee=Math.sin((y.lng-d.lng)*k/2),ce=U*U+Math.cos(C)*Math.cos(R)*ee*ee,ge=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*ge}}),ne=6378137,Oe={R:ne,MAX_LATITUDE:85.0511287798,project:function(d){var y=Math.PI/180,k=this.MAX_LATITUDE,C=Math.max(Math.min(k,d.lat),-k),R=Math.sin(C*y);return new re(this.R*d.lng*y,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(d){var y=180/Math.PI;return new oe((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*y,d.x*y/this.R)},bounds:(function(){var d=ne*Math.PI;return new B([-d,-d],[d,d])})()};function Ce(d,y,k,C){if(O(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=y,this._c=k,this._d=C}Ce.prototype={transform:function(d,y){return this._transform(d.clone(),y)},_transform:function(d,y){return y=y||1,d.x=y*(this._a*d.x+this._b),d.y=y*(this._c*d.y+this._d),d},untransform:function(d,y){return y=y||1,new re((d.x/y-this._b)/this._a,(d.y/y-this._d)/this._c)}};function ve(d,y,k,C){return new Ce(d,y,k,C)}var Ze=i({},be,{code:"EPSG:3857",projection:Oe,transformation:(function(){var d=.5/(Math.PI*Oe.R);return ve(d,.5,-d,.5)})()}),Ne=i({},Ze,{code:"EPSG:900913"});function _e(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function je(d,y){var k="",C,R,U,ee,ce,ge;for(C=0,U=d.length;C<U;C++){for(ce=d[C],R=0,ee=ce.length;R<ee;R++)ge=ce[R],k+=(R?"L":"M")+ge.x+" "+ge.y;k+=y?He.svg?"z":"x":""}return k||"M0 0"}var Ie=document.documentElement.style,Ve="ActiveXObject"in window,bt=Ve&&!document.addEventListener,xt="msLaunchUri"in navigator&&!("documentMode"in document),Pt=Fr("webkit"),fe=Fr("android"),Me=Fr("android 2")||Fr("android 3"),Be=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=fe&&Fr("Google")&&Be<537&&!("AudioNode"in window),jt=!!window.opera,yt=!xt&&Fr("chrome"),Zn=Fr("gecko")&&!Pt&&!jt&&!Ve,hi=!yt&&Fr("safari"),mi=Fr("phantom"),Cs="OTransition"in Ie,Ms=navigator.platform.indexOf("Win")===0,qt=Ve&&"transition"in Ie,hn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Me,pi="MozPerspective"in Ie,Or=!window.L_DISABLE_3D&&(qt||hn||pi)&&!Cs&&!mi,Ll=typeof orientation<"u"||Fr("mobile"),fx=Ll&&Pt,hx=Ll&&hn,Il=!window.PointerEvent&&window.MSPointerEvent,$l=!!(window.PointerEvent||Il),Bl="ontouchstart"in window||!!window.TouchEvent,No=!window.L_NO_TOUCH&&(Bl||$l),cu=Ll&&jt,zl=Ll&&Zn,mx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ep=(function(){var d=!1;try{var y=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,y),window.removeEventListener("testPassiveEventSupport",p,y)}catch{}return d})(),xf=(function(){return!!document.createElement("canvas").getContext})(),Co=!!(document.createElementNS&&_e("svg").createSVGRect),px=!!Co&&(function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),kp=!Co&&(function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var y=d.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),Ap=navigator.platform.indexOf("Mac")===0,Tp=navigator.platform.indexOf("Linux")===0;function Fr(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var He={ie:Ve,ielt9:bt,edge:xt,webkit:Pt,android:fe,android23:Me,androidStock:lt,opera:jt,chrome:yt,gecko:Zn,safari:hi,phantom:mi,opera12:Cs,win:Ms,ie3d:qt,webkit3d:hn,gecko3d:pi,any3d:Or,mobile:Ll,mobileWebkit:fx,mobileWebkit3d:hx,msPointer:Il,pointer:$l,touch:No,touchNative:Bl,mobileOpera:cu,mobileGecko:zl,retina:mx,passiveEvents:Ep,canvas:xf,svg:Co,vml:kp,inlineSvg:px,mac:Ap,linux:Tp},_f=He.msPointer?"MSPointerDown":"pointerdown",wf=He.msPointer?"MSPointerMove":"pointermove",va=He.msPointer?"MSPointerUp":"pointerup",An=He.msPointer?"MSPointerCancel":"pointercancel",Xn={touchstart:_f,touchmove:wf,touchend:va,touchcancel:An},Mo={touchstart:Ds,touchmove:Wa,touchend:Wa,touchcancel:Wa},Ka={},Op=!1;function gx(d,y,k){return y==="touchstart"&&Ps(),Mo[y]?(k=Mo[y].bind(this,k),d.addEventListener(Xn[y],k,!1),k):(console.warn("wrong event specified:",y),p)}function jp(d,y,k){if(!Xn[y]){console.warn("wrong event specified:",y);return}d.removeEventListener(Xn[y],k,!1)}function Ul(d){Ka[d.pointerId]=d}function Sf(d){Ka[d.pointerId]&&(Ka[d.pointerId]=d)}function Po(d){delete Ka[d.pointerId]}function Ps(){Op||(document.addEventListener(_f,Ul,!0),document.addEventListener(wf,Sf,!0),document.addEventListener(va,Po,!0),document.addEventListener(An,Po,!0),Op=!0)}function Wa(d,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var k in Ka)y.touches.push(Ka[k]);y.changedTouches=[y],d(y)}}function Ds(d,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&mn(y),Wa(d,y)}function Tn(d){var y={},k,C;for(C in d)k=d[C],y[C]=k&&k.bind?k.bind(d):k;return d=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var Np=200;function Cp(d,y){d.addEventListener("dblclick",y);var k=0,C;function R(U){if(U.detail!==1){C=U.detail;return}if(!(U.pointerType==="mouse"||U.sourceCapabilities&&!U.sourceCapabilities.firesTouchEvents)){var ee=Wl(U);if(!(ee.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!ee.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var ce=Date.now();ce-k<=Np?(C++,C===2&&y(Tn(U))):C=1,k=ce}}}return d.addEventListener("click",R),{dblclick:y,simDblclick:R}}function Do(d,y){d.removeEventListener("dblclick",y.dblclick),d.removeEventListener("click",y.simDblclick)}var Va=Gl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fl=Gl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ef=Fl==="webkitTransition"||Fl==="OTransition"?Fl+"End":"transitionend";function kf(d){return typeof d=="string"?document.getElementById(d):d}function Hl(d,y){var k=d.style[y]||d.currentStyle&&d.currentStyle[y];if((!k||k==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(d,null);k=C?C[y]:null}return k==="auto"?null:k}function ct(d,y,k){var C=document.createElement(d);return C.className=y||"",k&&k.appendChild(C),C}function It(d){var y=d.parentNode;y&&y.removeChild(d)}function Hr(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function In(d){var y=d.parentNode;y&&y.lastChild!==d&&y.appendChild(d)}function Ro(d){var y=d.parentNode;y&&y.firstChild!==d&&y.insertBefore(d,y.firstChild)}function Af(d,y){if(d.classList!==void 0)return d.classList.contains(y);var k=uu(d);return k.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(k)}function nt(d,y){if(d.classList!==void 0)for(var k=w(y),C=0,R=k.length;C<R;C++)d.classList.add(k[C]);else if(!Af(d,y)){var U=uu(d);Rs(d,(U?U+" ":"")+y)}}function en(d,y){d.classList!==void 0?d.classList.remove(y):Rs(d,v((" "+uu(d)+" ").replace(" "+y+" "," ")))}function Rs(d,y){d.className.baseVal===void 0?d.className=y:d.className.baseVal=y}function uu(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function Zt(d,y){"opacity"in d.style?d.style.opacity=y:"filter"in d.style&&Tf(d,y)}function Tf(d,y){var k=!1,C="DXImageTransform.Microsoft.Alpha";try{k=d.filters.item(C)}catch{if(y===1)return}y=Math.round(y*100),k?(k.Enabled=y!==100,k.Opacity=y):d.style.filter+=" progid:"+C+"(opacity="+y+")"}function Gl(d){for(var y=document.documentElement.style,k=0;k<d.length;k++)if(d[k]in y)return d[k];return!1}function xa(d,y,k){var C=y||new re(0,0);d.style[Va]=(He.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(k?" scale("+k+")":"")}function Ut(d,y){d._leaflet_pos=y,He.any3d?xa(d,y):(d.style.left=y.x+"px",d.style.top=y.y+"px")}function Za(d){return d._leaflet_pos||new re(0,0)}var Ls,Gi,Of;if("onselectstart"in document)Ls=function(){tt(window,"selectstart",mn)},Gi=function(){Nt(window,"selectstart",mn)};else{var Is=Gl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ls=function(){if(Is){var d=document.documentElement.style;Of=d[Is],d[Is]="none"}},Gi=function(){Is&&(document.documentElement.style[Is]=Of,Of=void 0)}}function du(){tt(window,"dragstart",mn)}function ql(){Nt(window,"dragstart",mn)}var fu,jf;function $s(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Gr(),fu=d,jf=d.style.outlineStyle,d.style.outlineStyle="none",tt(window,"keydown",Gr))}function Gr(){fu&&(fu.style.outlineStyle=jf,fu=void 0,jf=void 0,Nt(window,"keydown",Gr))}function hu(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Yl(d){var y=d.getBoundingClientRect();return{x:y.width/d.offsetWidth||1,y:y.height/d.offsetHeight||1,boundingClientRect:y}}var Bs={__proto__:null,TRANSFORM:Va,TRANSITION:Fl,TRANSITION_END:Ef,get:kf,getStyle:Hl,create:ct,remove:It,empty:Hr,toFront:In,toBack:Ro,hasClass:Af,addClass:nt,removeClass:en,setClass:Rs,getClass:uu,setOpacity:Zt,testProp:Gl,setTransform:xa,setPosition:Ut,getPosition:Za,get disableTextSelection(){return Ls},get enableTextSelection(){return Gi},disableImageDrag:du,enableImageDrag:ql,preventOutline:$s,restoreOutline:Gr,getSizedParentNode:hu,getScale:Yl};function tt(d,y,k,C){if(y&&typeof y=="object")for(var R in y)yi(d,R,y[R],k);else{y=w(y);for(var U=0,ee=y.length;U<ee;U++)yi(d,y[U],k,C)}return this}var gi="_leaflet_events";function Nt(d,y,k,C){if(arguments.length===1)Nf(d),delete d[gi];else if(y&&typeof y=="object")for(var R in y)Kl(d,R,y[R],k);else if(y=w(y),arguments.length===2)Nf(d,function(ce){return P(y,ce)!==-1});else for(var U=0,ee=y.length;U<ee;U++)Kl(d,y[U],k,C);return this}function Nf(d,y){for(var k in d[gi]){var C=k.split(/\d/)[0];(!y||y(C))&&Kl(d,C,null,null,k)}}var Lo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yi(d,y,k,C){var R=y+u(k)+(C?"_"+u(C):"");if(d[gi]&&d[gi][R])return this;var U=function(ce){return k.call(C||d,ce||window.event)},ee=U;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?U=gx(d,y,U):He.touch&&y==="dblclick"?U=Cp(d,U):"addEventListener"in d?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?d.addEventListener(Lo[y]||y,U,He.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(U=function(ce){ce=ce||window.event,_a(d,ce)&&ee(ce)},d.addEventListener(Lo[y],U,!1)):d.addEventListener(y,ee,!1):d.attachEvent("on"+y,U),d[gi]=d[gi]||{},d[gi][R]=U}function Kl(d,y,k,C,R){R=R||y+u(k)+(C?"_"+u(C):"");var U=d[gi]&&d[gi][R];if(!U)return this;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?jp(d,y,U):He.touch&&y==="dblclick"?Do(d,U):"removeEventListener"in d?d.removeEventListener(Lo[y]||y,U,!1):d.detachEvent("on"+y,U),d[gi][R]=null}function bi(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function qi(d){return yi(d,"wheel",bi),this}function Io(d){return tt(d,"mousedown touchstart dblclick contextmenu",bi),d._leaflet_disable_click=!0,this}function mn(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Xa(d){return mn(d),bi(d),this}function Wl(d){if(d.composedPath)return d.composedPath();for(var y=[],k=d.target;k;)y.push(k),k=k.parentNode;return y}function Vl(d,y){if(!y)return new re(d.clientX,d.clientY);var k=Yl(y),C=k.boundingClientRect;return new re((d.clientX-C.left)/k.x-y.clientLeft,(d.clientY-C.top)/k.y-y.clientTop)}var Mp=He.linux&&He.chrome?window.devicePixelRatio:He.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cr(d){return He.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Mp:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function _a(d,y){var k=y.relatedTarget;if(!k)return!0;try{for(;k&&k!==d;)k=k.parentNode}catch{return!1}return k!==d}var mu={__proto__:null,on:tt,off:Nt,stopPropagation:bi,disableScrollPropagation:qi,disableClickPropagation:Io,preventDefault:mn,stop:Xa,getPropagationPath:Wl,getMousePosition:Vl,getWheelDelta:cr,isExternalTarget:_a,addListener:tt,removeListener:Nt},zs=X.extend({run:function(d,y,k,C){this.stop(),this._el=d,this._inProgress=!0,this._duration=k||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=Za(d),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(d){var y=+new Date-this._startTime,k=this._duration*1e3;y<k?this._runFrame(this._easeOut(y/k),d):(this._runFrame(1),this._complete())},_runFrame:function(d,y){var k=this._startPos.add(this._offset.multiplyBy(d));y&&k._round(),Ut(this._el,k),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),ht=X.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,y){y=_(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(me(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Fl&&He.any3d&&!He.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),tt(this._proxy,Ef,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,y,k){if(y=y===void 0?this._zoom:this._limitZoom(y),d=this._limitCenter(me(d),y,this.options.maxBounds),k=k||{},this._stop(),this._loaded&&!k.reset&&k!==!0){k.animate!==void 0&&(k.zoom=i({animate:k.animate},k.zoom),k.pan=i({animate:k.animate,duration:k.duration},k.pan));var C=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,y,k.zoom):this._tryAnimatedPan(d,k.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(d,y,k.pan&&k.pan.noMoveStart),this},setZoom:function(d,y){return this._loaded?this.setView(this.getCenter(),d,{zoom:y}):(this._zoom=d,this)},zoomIn:function(d,y){return d=d||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,y)},zoomOut:function(d,y){return d=d||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,y)},setZoomAround:function(d,y,k){var C=this.getZoomScale(y),R=this.getSize().divideBy(2),U=d instanceof re?d:this.latLngToContainerPoint(d),ee=U.subtract(R).multiplyBy(1-1/C),ce=this.containerPointToLatLng(R.add(ee));return this.setView(ce,y,{zoom:k})},_getBoundsCenterZoom:function(d,y){y=y||{},d=d.getBounds?d.getBounds():V(d);var k=se(y.paddingTopLeft||y.padding||[0,0]),C=se(y.paddingBottomRight||y.padding||[0,0]),R=this.getBoundsZoom(d,!1,k.add(C));if(R=typeof y.maxZoom=="number"?Math.min(y.maxZoom,R):R,R===1/0)return{center:d.getCenter(),zoom:R};var U=C.subtract(k).divideBy(2),ee=this.project(d.getSouthWest(),R),ce=this.project(d.getNorthEast(),R),ge=this.unproject(ee.add(ce).divideBy(2).add(U),R);return{center:ge,zoom:R}},fitBounds:function(d,y){if(d=V(d),!d.isValid())throw new Error("Bounds are not valid.");var k=this._getBoundsCenterZoom(d,y);return this.setView(k.center,k.zoom,y)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,y){return this.setView(d,this._zoom,{pan:y})},panBy:function(d,y){if(d=se(d).round(),y=y||{},!d.x&&!d.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new zs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){nt(this._mapPane,"leaflet-pan-anim");var k=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,k,y.duration||.25,y.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,y,k){if(k=k||{},k.animate===!1||!He.any3d)return this.setView(d,y,k);this._stop();var C=this.project(this.getCenter()),R=this.project(d),U=this.getSize(),ee=this._zoom;d=me(d),y=y===void 0?ee:y;var ce=Math.max(U.x,U.y),ge=ce*this.getZoomScale(ee,y),Ae=R.distanceTo(C)||1,Re=1.42,qe=Re*Re;function ot(cn){var ka=cn?-1:1,Uo=cn?ge:ce,qf=ge*ge-ce*ce+ka*qe*qe*Ae*Ae,dc=2*Uo*qe*Ae,fc=qf/dc,oo=Math.sqrt(fc*fc+1)-fc,Aa=oo<1e-9?-18:Math.log(oo);return Aa}function $n(cn){return(Math.exp(cn)-Math.exp(-cn))/2}function pn(cn){return(Math.exp(cn)+Math.exp(-cn))/2}function Nr(cn){return $n(cn)/pn(cn)}var _t=ot(0);function wt(cn){return ce*(pn(_t)/pn(_t+Re*cn))}function ut(cn){return ce*(pn(_t)*Nr(_t+Re*cn)-$n(_t))/qe}function io(cn){return 1-Math.pow(1-cn,1.5)}var Wr=Date.now(),Ou=(ot(1)-_t)/Re,ao=k.duration?1e3*k.duration:1e3*Ou*.8;function Gf(){var cn=(Date.now()-Wr)/ao,ka=io(cn)*Ou;cn<=1?(this._flyToFrame=F(Gf,this),this._move(this.unproject(C.add(R.subtract(C).multiplyBy(ut(ka)/Ae)),ee),this.getScaleZoom(ce/wt(ka),ee),{flyTo:!0})):this._move(d,y)._moveEnd(!0)}return this._moveStart(!0,k.noMoveStart),Gf.call(this),this},flyToBounds:function(d,y){var k=this._getBoundsCenterZoom(d,y);return this.flyTo(k.center,k.zoom,y)},setMaxBounds:function(d){return d=V(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var y=this.options.minZoom;return this.options.minZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var y=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,y){this._enforcingBounds=!0;var k=this.getCenter(),C=this._limitCenter(k,this._zoom,V(d));return k.equals(C)||this.panTo(C,y),this._enforcingBounds=!1,this},panInside:function(d,y){y=y||{};var k=se(y.paddingTopLeft||y.padding||[0,0]),C=se(y.paddingBottomRight||y.padding||[0,0]),R=this.project(this.getCenter()),U=this.project(d),ee=this.getPixelBounds(),ce=W([ee.min.add(k),ee.max.subtract(C)]),ge=ce.getSize();if(!ce.contains(U)){this._enforcingBounds=!0;var Ae=U.subtract(ce.getCenter()),Re=ce.extend(U).getSize().subtract(ge);R.x+=Ae.x<0?-Re.x:Re.x,R.y+=Ae.y<0?-Re.y:Re.y,this.panTo(this.unproject(R),y),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var k=this.getSize(),C=y.divideBy(2).round(),R=k.divideBy(2).round(),U=C.subtract(R);return!U.x&&!U.y?this:(d.animate&&d.pan?this.panBy(U):(d.pan&&this._rawPanBy(U),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:k}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),k=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,k,d):navigator.geolocation.getCurrentPosition(y,k,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var y=d.code,k=d.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+k+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var y=d.coords.latitude,k=d.coords.longitude,C=new oe(y,k),R=C.toBounds(d.coords.accuracy*2),U=this._locateOptions;if(U.setView){var ee=this.getBoundsZoom(R);this.setView(C,U.maxZoom?Math.min(ee,U.maxZoom):ee)}var ce={latlng:C,bounds:R,timestamp:d.timestamp};for(var ge in d.coords)typeof d.coords[ge]=="number"&&(ce[ge]=d.coords[ge]);this.fire("locationfound",ce)}},addHandler:function(d,y){if(!y)return this;var k=this[d]=new y(this);return this._handlers.push(k),this.options[d]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),It(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)It(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,y){var k="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),C=ct("div",k,y||this._mapPane);return d&&(this._panes[d]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),y=this.unproject(d.getBottomLeft()),k=this.unproject(d.getTopRight());return new ae(y,k)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,y,k){d=V(d),k=se(k||[0,0]);var C=this.getZoom()||0,R=this.getMinZoom(),U=this.getMaxZoom(),ee=d.getNorthWest(),ce=d.getSouthEast(),ge=this.getSize().subtract(k),Ae=W(this.project(ce,C),this.project(ee,C)).getSize(),Re=He.any3d?this.options.zoomSnap:1,qe=ge.x/Ae.x,ot=ge.y/Ae.y,$n=y?Math.max(qe,ot):Math.min(qe,ot);return C=this.getScaleZoom($n,C),Re&&(C=Math.round(C/(Re/100))*(Re/100),C=y?Math.ceil(C/Re)*Re:Math.floor(C/Re)*Re),Math.max(R,Math.min(U,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,y){var k=this._getTopLeftPoint(d,y);return new B(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,y){var k=this.options.crs;return y=y===void 0?this._zoom:y,k.scale(d)/k.scale(y)},getScaleZoom:function(d,y){var k=this.options.crs;y=y===void 0?this._zoom:y;var C=k.zoom(d*k.scale(y));return isNaN(C)?1/0:C},project:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(me(d),y)},unproject:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(se(d),y)},layerPointToLatLng:function(d){var y=se(d).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(d){var y=this.project(me(d))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(me(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(V(d))},distance:function(d,y){return this.options.crs.distance(me(d),me(y))},containerPointToLayerPoint:function(d){return se(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return se(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var y=this.containerPointToLayerPoint(se(d));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(d)))},mouseEventToContainerPoint:function(d){return Vl(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var y=this._container=kf(d);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");tt(y,"scroll",this._onScroll,this),this._containerId=u(y)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&He.any3d,nt(d,"leaflet-container"+(He.touch?" leaflet-touch":"")+(He.retina?" leaflet-retina":"")+(He.ielt9?" leaflet-oldie":"")+(He.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=Hl(d,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(d.markerPane,"leaflet-zoom-hide"),nt(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,y,k){Ut(this._mapPane,new re(0,0));var C=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var R=this._zoom!==y;this._moveStart(R,k)._move(d,y)._moveEnd(R),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(d,y){return d&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(d,y,k,C){y===void 0&&(y=this._zoom);var R=this._zoom!==y;return this._zoom=y,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),C?k&&k.pinch&&this.fire("zoom",k):((R||k&&k.pinch)&&this.fire("zoom",k),this.fire("move",k)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Ut(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[u(this._container)]=this;var y=d?Nt:tt;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),He.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,y){for(var k=[],C,R=y==="mouseout"||y==="mouseover",U=d.target||d.srcElement,ee=!1;U;){if(C=this._targets[u(U)],C&&(y==="click"||y==="preclick")&&this._draggableMoved(C)){ee=!0;break}if(C&&C.listens(y,!0)&&(R&&!_a(U,d)||(k.push(C),R))||U===this._container)break;U=U.parentNode}return!k.length&&!ee&&!R&&this.listens(y,!0)&&(k=[this]),k},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var y=d.target||d.srcElement;if(!(!this._loaded||y._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(y))){var k=d.type;k==="mousedown"&&$s(y),this._fireDOMEvent(d,k)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,y,k){if(d.type==="click"){var C=i({},d);C.type="preclick",this._fireDOMEvent(C,C.type,k)}var R=this._findEventTargets(d,y);if(k){for(var U=[],ee=0;ee<k.length;ee++)k[ee].listens(y,!0)&&U.push(k[ee]);R=U.concat(R)}if(R.length){y==="contextmenu"&&mn(d);var ce=R[0],ge={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var Ae=ce.getLatLng&&(!ce._radius||ce._radius<=10);ge.containerPoint=Ae?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(d),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Ae?ce.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(ee=0;ee<R.length;ee++)if(R[ee].fire(y,ge,!0),ge.originalEvent._stopped||R[ee].options.bubblingMouseEvents===!1&&P(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,y=this._handlers.length;d<y;d++)this._handlers[d].disable()},whenReady:function(d,y){return this._loaded?d.call(y||this,{target:this}):this.on("load",d,y),this},_getMapPanePos:function(){return Za(this._mapPane)||new re(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,y){var k=d&&y!==void 0?this._getNewPixelOrigin(d,y):this.getPixelOrigin();return k.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,y){var k=this.getSize()._divideBy(2);return this.project(d,y)._subtract(k)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,y,k){var C=this._getNewPixelOrigin(k,y);return this.project(d,y)._subtract(C)},_latLngBoundsToNewLayerBounds:function(d,y,k){var C=this._getNewPixelOrigin(k,y);return W([this.project(d.getSouthWest(),y)._subtract(C),this.project(d.getNorthWest(),y)._subtract(C),this.project(d.getSouthEast(),y)._subtract(C),this.project(d.getNorthEast(),y)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,y,k){if(!k)return d;var C=this.project(d,y),R=this.getSize().divideBy(2),U=new B(C.subtract(R),C.add(R)),ee=this._getBoundsOffset(U,k,y);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?d:this.unproject(C.add(ee),y)},_limitOffset:function(d,y){if(!y)return d;var k=this.getPixelBounds(),C=new B(k.min.add(d),k.max.add(d));return d.add(this._getBoundsOffset(C,y))},_getBoundsOffset:function(d,y,k){var C=W(this.project(y.getNorthEast(),k),this.project(y.getSouthWest(),k)),R=C.min.subtract(d.min),U=C.max.subtract(d.max),ee=this._rebound(R.x,-U.x),ce=this._rebound(R.y,-U.y);return new re(ee,ce)},_rebound:function(d,y){return d+y>0?Math.round(d-y)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(y))},_limitZoom:function(d){var y=this.getMinZoom(),k=this.getMaxZoom(),C=He.any3d?this.options.zoomSnap:1;return C&&(d=Math.round(d/C)*C),Math.max(y,Math.min(k,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){en(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,y){var k=this._getCenterOffset(d)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(k)?!1:(this.panBy(k,y),!0)},_createAnimProxy:function(){var d=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(y){var k=Va,C=this._proxy.style[k];xa(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),C===this._proxy.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){It(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),y=this.getZoom();xa(this._proxy,this.project(d,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,y,k){if(this._animatingZoom)return!0;if(k=k||{},!this._zoomAnimated||k.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(y),R=this._getCenterOffset(d)._divideBy(1-1/C);return k.animate!==!0&&!this.getSize().contains(R)?!1:(F(function(){this._moveStart(!0,k.noMoveStart||!1)._animateZoom(d,y,!0)},this),!0)},_animateZoom:function(d,y,k,C){this._mapPane&&(k&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=y,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:y,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&en(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Cf(d,y){return new ht(d,y)}var jr=Q.extend({options:{position:"topright"},initialize:function(d){_(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var y=this._map;return y&&y.removeControl(this),this.options.position=d,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var y=this._container=this.onAdd(d),k=this.getPosition(),C=d._controlCorners[k];return nt(y,"leaflet-control"),k.indexOf("bottom")!==-1?C.insertBefore(y,C.firstChild):C.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(It(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),wa=function(d){return new jr(d)};ht.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},y="leaflet-",k=this._controlContainer=ct("div",y+"control-container",this._container);function C(R,U){var ee=y+R+" "+y+U;d[R+U]=ct("div",ee,k)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)It(this._controlCorners[d]);It(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zl=jr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,y,k,C){return k<C?-1:C<k?1:0}},initialize:function(d,y,k){_(this,k),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in d)this._addLayer(d[C],C);for(C in y)this._addLayer(y[C],C,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return jr.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,y){return this._addLayer(d,y),this._map?this._update():this},addOverlay:function(d,y){return this._addLayer(d,y,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var y=this._getLayer(u(d));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):en(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return en(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",y=this._container=ct("div",d),k=this.options.collapsed;y.setAttribute("aria-haspopup",!0),Io(y),qi(y);var C=this._section=ct("section",d+"-list");k&&(this._map.on("click",this.collapse,this),tt(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=ct("a",d+"-toggle",y);R.href="#",R.title="Layers",R.setAttribute("role","button"),tt(R,{keydown:function(U){U.keyCode===13&&this._expandSafely()},click:function(U){mn(U),this._expandSafely()}},this),k||this.expand(),this._baseLayersList=ct("div",d+"-base",C),this._separator=ct("div",d+"-separator",C),this._overlaysList=ct("div",d+"-overlays",C),y.appendChild(C)},_getLayer:function(d){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&u(this._layers[y].layer)===d)return this._layers[y]},_addLayer:function(d,y,k){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:y,overlay:k}),this.options.sortLayers&&this._layers.sort(o(function(C,R){return this.options.sortFunction(C.layer,R.layer,C.name,R.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hr(this._baseLayersList),Hr(this._overlaysList),this._layerControlInputs=[];var d,y,k,C,R=0;for(k=0;k<this._layers.length;k++)C=this._layers[k],this._addItem(C),y=y||C.overlay,d=d||!C.overlay,R+=C.overlay?0:1;return this.options.hideSingleBase&&(d=d&&R>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=y&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var y=this._getLayer(u(d.target)),k=y.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;k&&this._map.fire(k,y)},_createRadioElement:function(d,y){var k='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(y?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=k,C.firstChild},_addItem:function(d){var y=document.createElement("label"),k=this._map.hasLayer(d.layer),C;d.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=k):C=this._createRadioElement("leaflet-base-layers_"+u(this),k),this._layerControlInputs.push(C),C.layerId=u(d.layer),tt(C,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+d.name;var U=document.createElement("span");y.appendChild(U),U.appendChild(C),U.appendChild(R);var ee=d.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,y,k,C=[],R=[];this._handlingClick=!0;for(var U=d.length-1;U>=0;U--)y=d[U],k=this._getLayer(y.layerId).layer,y.checked?C.push(k):y.checked||R.push(k);for(U=0;U<R.length;U++)this._map.hasLayer(R[U])&&this._map.removeLayer(R[U]);for(U=0;U<C.length;U++)this._map.hasLayer(C[U])||this._map.addLayer(C[U]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,y,k,C=this._map.getZoom(),R=d.length-1;R>=0;R--)y=d[R],k=this._getLayer(y.layerId).layer,y.disabled=k.options.minZoom!==void 0&&C<k.options.minZoom||k.options.maxZoom!==void 0&&C>k.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,tt(d,"click",mn),this.expand();var y=this;setTimeout(function(){Nt(d,"click",mn),y._preventClick=!1})}}),Pp=function(d,y,k){return new Zl(d,y,k)},Mf=jr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var y="leaflet-control-zoom",k=ct("div",y+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,y+"-in",k,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,y+"-out",k,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),k},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,y,k,C,R){var U=ct("a",k,C);return U.innerHTML=d,U.href="#",U.title=y,U.setAttribute("role","button"),U.setAttribute("aria-label",y),Io(U),tt(U,"click",Xa),tt(U,"click",R,this),tt(U,"click",this._refocusOnMap,this),U},_updateDisabled:function(){var d=this._map,y="leaflet-disabled";en(this._zoomInButton,y),en(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(nt(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(nt(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Mf,this.addControl(this.zoomControl))});var yx=function(d){return new Mf(d)},Dp=jr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var y="leaflet-control-scale",k=ct("div",y),C=this.options;return this._addScales(C,y+"-line",k),d.on(C.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),k},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,y,k){d.metric&&(this._mScale=ct("div",y,k)),d.imperial&&(this._iScale=ct("div",y,k))},_update:function(){var d=this._map,y=d.getSize().y/2,k=d.distance(d.containerPointToLatLng([0,y]),d.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(k)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var y=this._getRoundNum(d),k=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,k,y/d)},_updateImperial:function(d){var y=d*3.2808399,k,C,R;y>5280?(k=y/5280,C=this._getRoundNum(k),this._updateScale(this._iScale,C+" mi",C/k)):(R=this._getRoundNum(y),this._updateScale(this._iScale,R+" ft",R/y))},_updateScale:function(d,y,k){d.style.width=Math.round(this.options.maxWidth*k)+"px",d.innerHTML=y},_getRoundNum:function(d){var y=Math.pow(10,(Math.floor(d)+"").length-1),k=d/y;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:1,y*k}}),Pf=function(d){return new Dp(d)},bx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Df=jr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(He.inlineSvg?bx+" ":"")+"Leaflet</a>"},initialize:function(d){_(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),Io(this._container);for(var y in d._layers)d._layers[y].getAttribution&&this.addAttribution(d._layers[y].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var y in this._attributions)this._attributions[y]&&d.push(y);var k=[];this.options.prefix&&k.push(this.options.prefix),d.length&&k.push(d.join(", ")),this._container.innerHTML=k.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&new Df().addTo(this)});var vx=function(d){return new Df(d)};jr.Layers=Zl,jr.Zoom=Mf,jr.Scale=Dp,jr.Attribution=Df,wa.layers=Pp,wa.zoom=yx,wa.scale=Pf,wa.attribution=vx;var Yi=Q.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yi.addTo=function(d,y){return d.addHandler(y,this),this};var xx={Events:Y},Rf=He.touch?"touchstart mousedown":"mousedown",Ja=X.extend({options:{clickTolerance:3},initialize:function(d,y,k,C){_(this,C),this._element=d,this._dragStartTarget=y||d,this._preventOutline=k},enable:function(){this._enabled||(tt(this._dragStartTarget,Rf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ja._dragging===this&&this.finishDrag(!0),Nt(this._dragStartTarget,Rf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Af(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Ja._dragging===this&&this.finishDrag();return}if(!(Ja._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Ja._dragging=this,this._preventOutline&&$s(this._element),du(),Ls(),!this._moving)){this.fire("down");var y=d.touches?d.touches[0]:d,k=hu(this._element);this._startPoint=new re(y.clientX,y.clientY),this._startPos=Za(this._element),this._parentScale=Yl(k);var C=d.type==="mousedown";tt(document,C?"mousemove":"touchmove",this._onMove,this),tt(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var y=d.touches&&d.touches.length===1?d.touches[0]:d,k=new re(y.clientX,y.clientY)._subtract(this._startPoint);!k.x&&!k.y||Math.abs(k.x)+Math.abs(k.y)<this.options.clickTolerance||(k.x/=this._parentScale.x,k.y/=this._parentScale.y,mn(d),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Ut(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){en(document.body,"leaflet-dragging"),this._lastTarget&&(en(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nt(document,"mousemove touchmove",this._onMove,this),Nt(document,"mouseup touchend touchcancel",this._onUp,this),ql(),Gi();var y=this._moved&&this._moving;this._moving=!1,Ja._dragging=!1,y&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function Rp(d,y,k){var C,R=[1,4,2,8],U,ee,ce,ge,Ae,Re,qe,ot;for(U=0,Re=d.length;U<Re;U++)d[U]._code=$o(d[U],y);for(ce=0;ce<4;ce++){for(qe=R[ce],C=[],U=0,Re=d.length,ee=Re-1;U<Re;ee=U++)ge=d[U],Ae=d[ee],ge._code&qe?Ae._code&qe||(ot=pu(Ae,ge,qe,y,k),ot._code=$o(ot,y),C.push(ot)):(Ae._code&qe&&(ot=pu(Ae,ge,qe,y,k),ot._code=$o(ot,y),C.push(ot)),C.push(ge));d=C}return d}function Lp(d,y){var k,C,R,U,ee,ce,ge,Ae,Re;if(!d||d.length===0)throw new Error("latlngs not passed");qr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var qe=me([0,0]),ot=V(d),$n=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());$n<1700&&(qe=Lf(d));var pn=d.length,Nr=[];for(k=0;k<pn;k++){var _t=me(d[k]);Nr.push(y.project(me([_t.lat-qe.lat,_t.lng-qe.lng])))}for(ce=ge=Ae=0,k=0,C=pn-1;k<pn;C=k++)R=Nr[k],U=Nr[C],ee=R.y*U.x-U.y*R.x,ge+=(R.x+U.x)*ee,Ae+=(R.y+U.y)*ee,ce+=ee*3;ce===0?Re=Nr[0]:Re=[ge/ce,Ae/ce];var wt=y.unproject(se(Re));return me([wt.lat+qe.lat,wt.lng+qe.lng])}function Lf(d){for(var y=0,k=0,C=0,R=0;R<d.length;R++){var U=me(d[R]);y+=U.lat,k+=U.lng,C++}return me([y/C,k/C])}var If={__proto__:null,clipPolygon:Rp,polygonCenter:Lp,centroid:Lf};function Ip(d,y){if(!y||!d.length)return d.slice();var k=y*y;return d=wx(d,k),d=Bp(d,k),d}function $p(d,y,k){return Math.sqrt(Xl(d,y,k,!0))}function _x(d,y,k){return Xl(d,y,k)}function Bp(d,y){var k=d.length,C=typeof Uint8Array<"u"?Uint8Array:Array,R=new C(k);R[0]=R[k-1]=1,$f(d,R,y,0,k-1);var U,ee=[];for(U=0;U<k;U++)R[U]&&ee.push(d[U]);return ee}function $f(d,y,k,C,R){var U=0,ee,ce,ge;for(ce=C+1;ce<=R-1;ce++)ge=Xl(d[ce],d[C],d[R],!0),ge>U&&(ee=ce,U=ge);U>k&&(y[ee]=1,$f(d,y,k,C,ee),$f(d,y,k,ee,R))}function wx(d,y){for(var k=[d[0]],C=1,R=0,U=d.length;C<U;C++)Sx(d[C],d[R])>y&&(k.push(d[C]),R=C);return R<U-1&&k.push(d[U-1]),k}var zp;function Up(d,y,k,C,R){var U=C?zp:$o(d,k),ee=$o(y,k),ce,ge,Ae;for(zp=ee;;){if(!(U|ee))return[d,y];if(U&ee)return!1;ce=U||ee,ge=pu(d,y,ce,k,R),Ae=$o(ge,k),ce===U?(d=ge,U=Ae):(y=ge,ee=Ae)}}function pu(d,y,k,C,R){var U=y.x-d.x,ee=y.y-d.y,ce=C.min,ge=C.max,Ae,Re;return k&8?(Ae=d.x+U*(ge.y-d.y)/ee,Re=ge.y):k&4?(Ae=d.x+U*(ce.y-d.y)/ee,Re=ce.y):k&2?(Ae=ge.x,Re=d.y+ee*(ge.x-d.x)/U):k&1&&(Ae=ce.x,Re=d.y+ee*(ce.x-d.x)/U),new re(Ae,Re,R)}function $o(d,y){var k=0;return d.x<y.min.x?k|=1:d.x>y.max.x&&(k|=2),d.y<y.min.y?k|=4:d.y>y.max.y&&(k|=8),k}function Sx(d,y){var k=y.x-d.x,C=y.y-d.y;return k*k+C*C}function Xl(d,y,k,C){var R=y.x,U=y.y,ee=k.x-R,ce=k.y-U,ge=ee*ee+ce*ce,Ae;return ge>0&&(Ae=((d.x-R)*ee+(d.y-U)*ce)/ge,Ae>1?(R=k.x,U=k.y):Ae>0&&(R+=ee*Ae,U+=ce*Ae)),ee=d.x-R,ce=d.y-U,C?ee*ee+ce*ce:new re(R,U)}function qr(d){return!O(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function gu(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qr(d)}function Us(d,y){var k,C,R,U,ee,ce,ge,Ae;if(!d||d.length===0)throw new Error("latlngs not passed");qr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Re=me([0,0]),qe=V(d),ot=qe.getNorthWest().distanceTo(qe.getSouthWest())*qe.getNorthEast().distanceTo(qe.getNorthWest());ot<1700&&(Re=Lf(d));var $n=d.length,pn=[];for(k=0;k<$n;k++){var Nr=me(d[k]);pn.push(y.project(me([Nr.lat-Re.lat,Nr.lng-Re.lng])))}for(k=0,C=0;k<$n-1;k++)C+=pn[k].distanceTo(pn[k+1])/2;if(C===0)Ae=pn[0];else for(k=0,U=0;k<$n-1;k++)if(ee=pn[k],ce=pn[k+1],R=ee.distanceTo(ce),U+=R,U>C){ge=(U-C)/R,Ae=[ce.x-ge*(ce.x-ee.x),ce.y-ge*(ce.y-ee.y)];break}var _t=y.unproject(se(Ae));return me([_t.lat+Re.lat,_t.lng+Re.lng])}var Ex={__proto__:null,simplify:Ip,pointToSegmentDistance:$p,closestPointOnSegment:_x,clipSegment:Up,_getEdgeIntersection:pu,_getBitCode:$o,_sqClosestPointOnSegment:Xl,isFlat:qr,_flat:gu,polylineCenter:Us},yu={project:function(d){return new re(d.lng,d.lat)},unproject:function(d){return new oe(d.y,d.x)},bounds:new B([-180,-90],[180,90])},bu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var y=Math.PI/180,k=this.R,C=d.lat*y,R=this.R_MINOR/k,U=Math.sqrt(1-R*R),ee=U*Math.sin(C),ce=Math.tan(Math.PI/4-C/2)/Math.pow((1-ee)/(1+ee),U/2);return C=-k*Math.log(Math.max(ce,1e-10)),new re(d.lng*y*k,C)},unproject:function(d){for(var y=180/Math.PI,k=this.R,C=this.R_MINOR/k,R=Math.sqrt(1-C*C),U=Math.exp(-d.y/k),ee=Math.PI/2-2*Math.atan(U),ce=0,ge=.1,Ae;ce<15&&Math.abs(ge)>1e-7;ce++)Ae=R*Math.sin(ee),Ae=Math.pow((1-Ae)/(1+Ae),R/2),ge=Math.PI/2-2*Math.atan(U*Ae)-ee,ee+=ge;return new oe(ee*y,d.x*y/k)}},Fp={__proto__:null,LonLat:yu,Mercator:bu,SphericalMercator:Oe},Hp=i({},be,{code:"EPSG:3395",projection:bu,transformation:(function(){var d=.5/(Math.PI*bu.R);return ve(d,.5,-d,.5)})()}),Bf=i({},be,{code:"EPSG:4326",projection:yu,transformation:ve(1/180,1,-1/180,.5)}),Fs=i({},pe,{projection:yu,transformation:ve(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,y){var k=y.lng-d.lng,C=y.lat-d.lat;return Math.sqrt(k*k+C*C)},infinite:!0});pe.Earth=be,pe.EPSG3395=Hp,pe.EPSG3857=Ze,pe.EPSG900913=Ne,pe.EPSG4326=Bf,pe.Simple=Fs;var vi=X.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[u(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[u(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var y=d.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var k=this.getEvents();y.on(k,this),this.once("remove",function(){y.off(k,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var y=u(d);return this._layers[y]?this:(this._layers[y]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var y=u(d);return this._layers[y]?(this._loaded&&d.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return u(d)in this._layers},eachLayer:function(d,y){for(var k in this._layers)d.call(y,this._layers[k]);return this},_addLayers:function(d){d=d?O(d)?d:[d]:[];for(var y=0,k=d.length;y<k;y++)this.addLayer(d[y])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[u(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var y=u(d);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,y=-1/0,k=this._getZoomSpan();for(var C in this._zoomBoundLayers){var R=this._zoomBoundLayers[C].options;d=R.minZoom===void 0?d:Math.min(d,R.minZoom),y=R.maxZoom===void 0?y:Math.max(y,R.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=d===1/0?void 0:d,k!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hs=vi.extend({initialize:function(d,y){_(this,y),this._layers={};var k,C;if(d)for(k=0,C=d.length;k<C;k++)this.addLayer(d[k])},addLayer:function(d){var y=this.getLayerId(d);return this._layers[y]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var y=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(d){var y=typeof d=="number"?d:this.getLayerId(d);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var y=Array.prototype.slice.call(arguments,1),k,C;for(k in this._layers)C=this._layers[k],C[d]&&C[d].apply(C,y);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,y){for(var k in this._layers)d.call(y,this._layers[k]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return u(d)}}),kx=function(d,y){return new Hs(d,y)},Ki=Hs.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),Hs.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),Hs.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new ae;for(var y in this._layers){var k=this._layers[y];d.extend(k.getBounds?k.getBounds():k.getLatLng())}return d}}),Gp=function(d,y){return new Ki(d,y)},Wi=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){_(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,y){var k=this._getIconUrl(d);if(!k){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(k,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(C,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(d,y){var k=this.options,C=k[y+"Size"];typeof C=="number"&&(C=[C,C]);var R=se(C),U=se(y==="shadow"&&k.shadowAnchor||k.iconAnchor||R&&R.divideBy(2,!0));d.className="leaflet-marker-"+y+" "+(k.className||""),U&&(d.style.marginLeft=-U.x+"px",d.style.marginTop=-U.y+"px"),R&&(d.style.width=R.x+"px",d.style.height=R.y+"px")},_createImg:function(d,y){return y=y||document.createElement("img"),y.src=d,y},_getIconUrl:function(d){return He.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function Jl(d){return new Wi(d)}var Ql=Wi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof Ql.imagePath!="string"&&(Ql.imagePath=this._detectIconPath()),(this.options.imagePath||Ql.imagePath)+Wi.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var y=function(k,C,R){var U=C.exec(k);return U&&U[R]};return d=y(d,/^url\((['"])?(.+)\1\)$/,2),d&&y(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=ct("div","leaflet-default-icon-path",document.body),y=Hl(d,"background-image")||Hl(d,"backgroundImage");if(document.body.removeChild(d),y=this._stripUrl(y),y)return y;var k=document.querySelector('link[href$="leaflet.css"]');return k?k.href.substring(0,k.href.length-11-1):""}}),ec=Yi.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Ja(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&en(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var y=this._marker,k=y._map,C=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,U=Za(y._icon),ee=k.getPixelBounds(),ce=k.getPixelOrigin(),ge=W(ee.min._subtract(ce).add(R),ee.max._subtract(ce).subtract(R));if(!ge.contains(U)){var Ae=se((Math.max(ge.max.x,U.x)-ge.max.x)/(ee.max.x-ge.max.x)-(Math.min(ge.min.x,U.x)-ge.min.x)/(ee.min.x-ge.min.x),(Math.max(ge.max.y,U.y)-ge.max.y)/(ee.max.y-ge.max.y)-(Math.min(ge.min.y,U.y)-ge.min.y)/(ee.min.y-ge.min.y)).multiplyBy(C);k.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Ut(y._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=F(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,d)))},_onDrag:function(d){var y=this._marker,k=y._shadow,C=Za(y._icon),R=y._map.layerPointToLatLng(C);k&&Ut(k,C),y._latlng=R,d.latlng=R,d.oldLatLng=this._oldLatLng,y.fire("move",d).fire("drag",d)},_onDragEnd:function(d){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),tc=vi.extend({options:{icon:new Ql,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,y){_(this,y),this._latlng=me(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var y=this._latlng;return this._latlng=me(d),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),k=d.icon.createIcon(this._icon),C=!1;k!==this._icon&&(this._icon&&this._removeIcon(),C=!0,d.title&&(k.title=d.title),k.tagName==="IMG"&&(k.alt=d.alt||"")),nt(k,y),d.keyboard&&(k.tabIndex="0",k.setAttribute("role","button")),this._icon=k,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(k,"focus",this._panOnFocus,this);var R=d.icon.createShadow(this._shadow),U=!1;R!==this._shadow&&(this._removeShadow(),U=!0),R&&(nt(R,y),R.alt=""),this._shadow=R,d.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&U&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(this._icon,"focus",this._panOnFocus,this),It(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&It(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Ut(this._icon,d),this._shadow&&Ut(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ec)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ec(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&Zt(this._icon,d),this._shadow&&Zt(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var y=this.options.icon.options,k=y.iconSize?se(y.iconSize):se(0,0),C=y.iconAnchor?se(y.iconAnchor):se(0,0);d.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:k.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qp(d,y){return new tc(d,y)}var Vi=vi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return _(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Gs=Vi.extend({options:{fill:!0,radius:10},initialize:function(d,y){_(this,y),this._latlng=me(d),this._radius=this.options.radius},setLatLng:function(d){var y=this._latlng;return this._latlng=me(d),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var y=d&&d.radius||this._radius;return Vi.prototype.setStyle.call(this,d),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,y=this._radiusY||d,k=this._clickTolerance(),C=[d+k,y+k];this._pxBounds=new B(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Yp(d,y){return new Gs(d,y)}var vu=Gs.extend({initialize:function(d,y,k){if(typeof y=="number"&&(y=i({},k,{radius:y})),_(this,y),this._latlng=me(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new ae(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Vi.prototype.setStyle,_project:function(){var d=this._latlng.lng,y=this._latlng.lat,k=this._map,C=k.options.crs;if(C.distance===be.distance){var R=Math.PI/180,U=this._mRadius/be.R/R,ee=k.project([y+U,d]),ce=k.project([y-U,d]),ge=ee.add(ce).divideBy(2),Ae=k.unproject(ge).lat,Re=Math.acos((Math.cos(U*R)-Math.sin(y*R)*Math.sin(Ae*R))/(Math.cos(y*R)*Math.cos(Ae*R)))/R;(isNaN(Re)||Re===0)&&(Re=U/Math.cos(Math.PI/180*y)),this._point=ge.subtract(k.getPixelOrigin()),this._radius=isNaN(Re)?0:ge.x-k.project([Ae,d-Re]).x,this._radiusY=ge.y-ee.y}else{var qe=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(qe).x}this._updateBounds()}});function Kp(d,y,k){return new vu(d,y,k)}var Sa=Vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,y){_(this,y),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var y=1/0,k=null,C=Xl,R,U,ee=0,ce=this._parts.length;ee<ce;ee++)for(var ge=this._parts[ee],Ae=1,Re=ge.length;Ae<Re;Ae++){R=ge[Ae-1],U=ge[Ae];var qe=C(d,R,U,!0);qe<y&&(y=qe,k=C(d,R,U))}return k&&(k.distance=Math.sqrt(y)),k},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Us(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,y){return y=y||this._defaultShape(),d=me(d),y.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new ae,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return qr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var y=[],k=qr(d),C=0,R=d.length;C<R;C++)k?(y[C]=me(d[C]),this._bounds.extend(y[C])):y[C]=this._convertLatLngs(d[C]);return y},_project:function(){var d=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),y=new re(d,d);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(d,y,k){var C=d[0]instanceof oe,R=d.length,U,ee;if(C){for(ee=[],U=0;U<R;U++)ee[U]=this._map.latLngToLayerPoint(d[U]),k.extend(ee[U]);y.push(ee)}else for(U=0;U<R;U++)this._projectLatlngs(d[U],y,k)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,k,C,R,U,ee,ce,ge;for(k=0,R=0,U=this._rings.length;k<U;k++)for(ge=this._rings[k],C=0,ee=ge.length;C<ee-1;C++)ce=Up(ge[C],ge[C+1],d,C,!0),ce&&(y[R]=y[R]||[],y[R].push(ce[0]),(ce[1]!==ge[C+1]||C===ee-2)&&(y[R].push(ce[1]),R++))}},_simplifyPoints:function(){for(var d=this._parts,y=this.options.smoothFactor,k=0,C=d.length;k<C;k++)d[k]=Ip(d[k],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,y){var k,C,R,U,ee,ce,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(k=0,U=this._parts.length;k<U;k++)for(ce=this._parts[k],C=0,ee=ce.length,R=ee-1;C<ee;R=C++)if(!(!y&&C===0)&&$p(d,ce[R],ce[C])<=ge)return!0;return!1}});function Ax(d,y){return new Sa(d,y)}Sa._flat=gu;var qs=Sa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var y=Sa.prototype._convertLatLngs.call(this,d),k=y.length;return k>=2&&y[0]instanceof oe&&y[0].equals(y[k-1])&&y.pop(),y},_setLatLngs:function(d){Sa.prototype._setLatLngs.call(this,d),qr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,y=this.options.weight,k=new re(y,y);if(d=new B(d.min.subtract(k),d.max.add(k)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,R=this._rings.length,U;C<R;C++)U=Rp(this._rings[C],d,!0),U.length&&this._parts.push(U)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var y=!1,k,C,R,U,ee,ce,ge,Ae;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(U=0,ge=this._parts.length;U<ge;U++)for(k=this._parts[U],ee=0,Ae=k.length,ce=Ae-1;ee<Ae;ce=ee++)C=k[ee],R=k[ce],C.y>d.y!=R.y>d.y&&d.x<(R.x-C.x)*(d.y-C.y)/(R.y-C.y)+C.x&&(y=!y);return y||Sa.prototype._containsPoint.call(this,d,!0)}});function Tx(d,y){return new qs(d,y)}var Ea=Ki.extend({initialize:function(d,y){_(this,y),this._layers={},d&&this.addData(d)},addData:function(d){var y=O(d)?d:d.features,k,C,R;if(y){for(k=0,C=y.length;k<C;k++)R=y[k],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var U=this.options;if(U.filter&&!U.filter(d))return this;var ee=Jn(d,U);return ee?(ee.feature=wu(d),ee.defaultOptions=ee.options,this.resetStyle(ee),U.onEachFeature&&U.onEachFeature(d,ee),this.addLayer(ee)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(y){this._setLayerStyle(y,d)},this)},_setLayerStyle:function(d,y){d.setStyle&&(typeof y=="function"&&(y=y(d.feature)),d.setStyle(y))}});function Jn(d,y){var k=d.type==="Feature"?d.geometry:d,C=k?k.coordinates:null,R=[],U=y&&y.pointToLayer,ee=y&&y.coordsToLatLng||xu,ce,ge,Ae,Re;if(!C&&!k)return null;switch(k.type){case"Point":return ce=ee(C),Ys(U,d,ce,y);case"MultiPoint":for(Ae=0,Re=C.length;Ae<Re;Ae++)ce=ee(C[Ae]),R.push(Ys(U,d,ce,y));return new Ki(R);case"LineString":case"MultiLineString":return ge=nc(C,k.type==="LineString"?0:1,ee),new Sa(ge,y);case"Polygon":case"MultiPolygon":return ge=nc(C,k.type==="Polygon"?1:2,ee),new qs(ge,y);case"GeometryCollection":for(Ae=0,Re=k.geometries.length;Ae<Re;Ae++){var qe=Jn({geometry:k.geometries[Ae],type:"Feature",properties:d.properties},y);qe&&R.push(qe)}return new Ki(R);case"FeatureCollection":for(Ae=0,Re=k.features.length;Ae<Re;Ae++){var ot=Jn(k.features[Ae],y);ot&&R.push(ot)}return new Ki(R);default:throw new Error("Invalid GeoJSON object.")}}function Ys(d,y,k,C){return d?d(y,k):new tc(k,C&&C.markersInheritOptions&&C)}function xu(d){return new oe(d[1],d[0],d[2])}function nc(d,y,k){for(var C=[],R=0,U=d.length,ee;R<U;R++)ee=y?nc(d[R],y-1,k):(k||xu)(d[R]),C.push(ee);return C}function _u(d,y){return d=me(d),d.alt!==void 0?[g(d.lng,y),g(d.lat,y),g(d.alt,y)]:[g(d.lng,y),g(d.lat,y)]}function rc(d,y,k,C){for(var R=[],U=0,ee=d.length;U<ee;U++)R.push(y?rc(d[U],qr(d[U])?0:y-1,k,C):_u(d[U],C));return!y&&k&&R.length>0&&R.push(R[0].slice()),R}function Qa(d,y){return d.feature?i({},d.feature,{geometry:y}):wu(y)}function wu(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var eo={toGeoJSON:function(d){return Qa(this,{type:"Point",coordinates:_u(this.getLatLng(),d)})}};tc.include(eo),vu.include(eo),Gs.include(eo),Sa.include({toGeoJSON:function(d){var y=!qr(this._latlngs),k=rc(this._latlngs,y?1:0,!1,d);return Qa(this,{type:(y?"Multi":"")+"LineString",coordinates:k})}}),qs.include({toGeoJSON:function(d){var y=!qr(this._latlngs),k=y&&!qr(this._latlngs[0]),C=rc(this._latlngs,k?2:y?1:0,!0,d);return y||(C=[C]),Qa(this,{type:(k?"Multi":"")+"Polygon",coordinates:C})}}),Hs.include({toMultiPoint:function(d){var y=[];return this.eachLayer(function(k){y.push(k.toGeoJSON(d).geometry.coordinates)}),Qa(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(d){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(d);var k=y==="GeometryCollection",C=[];return this.eachLayer(function(R){if(R.toGeoJSON){var U=R.toGeoJSON(d);if(k)C.push(U.geometry);else{var ee=wu(U);ee.type==="FeatureCollection"?C.push.apply(C,ee.features):C.push(ee)}}}),k?Qa(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function Su(d,y){return new Ea(d,y)}var ic=Su,Ks=vi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,y,k){this._url=d,this._bounds=V(y),_(this,k)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){It(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&In(this._image),this},bringToBack:function(){return this._map&&Ro(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=V(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",y=this._image=d?this._url:ct("img");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(d){var y=this._map.getZoomScale(d.zoom),k=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;xa(this._image,k,y)},_reset:function(){var d=this._image,y=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),k=y.getSize();Ut(d,y.min),d.style.width=k.x+"px",d.style.height=k.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),Wp=function(d,y,k){return new Ks(d,y,k)},to=Ks.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",y=this._image=d?this._url:ct("video");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onloadeddata=o(this.fire,this,"load"),d){for(var k=y.getElementsByTagName("source"),C=[],R=0;R<k.length;R++)C.push(k[R].src);this._url=k.length>0?C:[y.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var U=0;U<this._url.length;U++){var ee=ct("source");ee.src=this._url[U],y.appendChild(ee)}}});function Ws(d,y,k){return new to(d,y,k)}var Eu=Ks.extend({_initImage:function(){var d=this._image=this._url;nt(d,"leaflet-image-layer"),this._zoomAnimated&&nt(d,"leaflet-zoom-animated"),this.options.className&&nt(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function Vp(d,y,k){return new Eu(d,y,k)}var Qn=vi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,y){d&&(d instanceof oe||O(d))?(this._latlng=me(d),_(this,y)):(_(this,d),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(o(It,void 0,this._container),200)):It(this._container),this.options.interactive&&(en(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=me(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&In(this._container),this},bringToBack:function(){return this._map&&Ro(this._container),this},_prepareOpen:function(d){var y=this._source;if(!y._map)return!1;if(y instanceof Ki){y=null;var k=this._source._layers;for(var C in k)if(k[C]._map){y=k[C];break}if(!y)return!1;this._source=y}if(!d)if(y.getCenter)d=y.getCenter();else if(y.getLatLng)d=y.getLatLng();else if(y.getBounds)d=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")d.innerHTML=y;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),y=se(this.options.offset),k=this._getAnchor();this._zoomAnimated?Ut(this._container,d.add(k)):y=y.add(d).add(k);var C=this._containerBottom=-y.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=C+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(d,y,k,C){var R=y;return R instanceof d||(R=new d(C).setContent(y)),k&&R.setLatLng(k),R}}),vi.include({_initOverlay:function(d,y,k,C){var R=k;return R instanceof d?(_(R,C),R._source=this):(R=y&&!C?y:new d(C,this),R.setContent(k)),R}});var ac=Qn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,Qn.prototype.openOn.call(this,d)},onAdd:function(d){Qn.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vi||this._source.on("preclick",bi))},onRemove:function(d){Qn.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vi||this._source.off("preclick",bi))},getEvents:function(){var d=Qn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",y=this._container=ct("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=ct("div",d+"-content-wrapper",y);if(this._contentNode=ct("div",d+"-content",k),Io(y),qi(this._contentNode),tt(y,"contextmenu",bi),this._tipContainer=ct("div",d+"-tip-container",y),this._tip=ct("div",d+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=ct("a",d+"-close-button",y);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',tt(C,"click",function(R){mn(R),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,y=d.style;y.width="",y.whiteSpace="nowrap";var k=d.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),y.width=k+1+"px",y.whiteSpace="",y.height="";var C=d.offsetHeight,R=this.options.maxHeight,U="leaflet-popup-scrolled";R&&C>R?(y.height=R+"px",nt(d,U)):en(d,U),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),k=this._getAnchor();Ut(this._container,y.add(k))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,y=parseInt(Hl(this._container,"marginBottom"),10)||0,k=this._container.offsetHeight+y,C=this._containerWidth,R=new re(this._containerLeft,-k-this._containerBottom);R._add(Za(this._container));var U=d.layerPointToContainerPoint(R),ee=se(this.options.autoPanPadding),ce=se(this.options.autoPanPaddingTopLeft||ee),ge=se(this.options.autoPanPaddingBottomRight||ee),Ae=d.getSize(),Re=0,qe=0;U.x+C+ge.x>Ae.x&&(Re=U.x+C-Ae.x+ge.x),U.x-Re-ce.x<0&&(Re=U.x-ce.x),U.y+k+ge.y>Ae.y&&(qe=U.y+k-Ae.y+ge.y),U.y-qe-ce.y<0&&(qe=U.y-ce.y),(Re||qe)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Re,qe]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Zp=function(d,y){return new ac(d,y)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(d,y,k){return this._initOverlay(ac,d,y,k).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),vi.include({bindPopup:function(d,y){return this._popup=this._initOverlay(ac,this._popup,d,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Ki||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Xa(d);var y=d.layer||d.target;if(this._popup._source===y&&!(y instanceof Vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=y,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var oc=Qn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){Qn.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){Qn.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=Qn.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",y=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ct("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var y,k,C=this._map,R=this._container,U=C.latLngToContainerPoint(C.getCenter()),ee=C.layerPointToContainerPoint(d),ce=this.options.direction,ge=R.offsetWidth,Ae=R.offsetHeight,Re=se(this.options.offset),qe=this._getAnchor();ce==="top"?(y=ge/2,k=Ae):ce==="bottom"?(y=ge/2,k=0):ce==="center"?(y=ge/2,k=Ae/2):ce==="right"?(y=0,k=Ae/2):ce==="left"?(y=ge,k=Ae/2):ee.x<U.x?(ce="right",y=0,k=Ae/2):(ce="left",y=ge+(Re.x+qe.x)*2,k=Ae/2),d=d.subtract(se(y,k,!0)).add(Re).add(qe),en(R,"leaflet-tooltip-right"),en(R,"leaflet-tooltip-left"),en(R,"leaflet-tooltip-top"),en(R,"leaflet-tooltip-bottom"),nt(R,"leaflet-tooltip-"+ce),Ut(R,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&Zt(this._container,d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(y)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ox=function(d,y){return new oc(d,y)};ht.include({openTooltip:function(d,y,k){return this._initOverlay(oc,d,y,k).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),vi.include({bindTooltip:function(d,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oc,this._tooltip,d,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var y=d?"off":"on",k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,k.click=this._openTooltip,this._map?this._addFocusListeners():k.add=this._addFocusListeners),this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),this[y](k),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Ki||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&(tt(y,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),tt(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var y=d.latlng,k,C;this._tooltip.options.sticky&&d.originalEvent&&(k=this._map.mouseEventToContainerPoint(d.originalEvent),C=this._map.containerPointToLayerPoint(k),y=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(y)}});var Xp=Wi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var y=d&&d.tagName==="DIV"?d:document.createElement("div"),k=this.options;if(k.html instanceof Element?(Hr(y),y.appendChild(k.html)):y.innerHTML=k.html!==!1?k.html:"",k.bgPos){var C=se(k.bgPos);y.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function jx(d){return new Xp(d)}Wi.Default=Ql;var Vs=vi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:He.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){_(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),It(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(In(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ro(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof re?d:new re(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var y=this.getPane().children,k=-d(-1/0,1/0),C=0,R=y.length,U;C<R;C++)U=y[C].style.zIndex,y[C]!==this._container&&U&&(k=d(k,+U));isFinite(k)&&(this.options.zIndex=k+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!He.ielt9){Zt(this._container,this.options.opacity);var d=+new Date,y=!1,k=!1;for(var C in this._tiles){var R=this._tiles[C];if(!(!R.current||!R.loaded)){var U=Math.min(1,(d-R.loaded)/200);Zt(R.el,U),U<1?y=!0:(R.active?k=!0:this._onOpaqueTile(R),R.active=!0)}}k&&!this._noPrune&&this._pruneTiles(),y&&(z(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,y=this.options.maxZoom;if(d!==void 0){for(var k in this._levels)k=Number(k),this._levels[k].el.children.length||k===d?(this._levels[k].el.style.zIndex=y-Math.abs(d-k),this._onUpdateLevel(k)):(It(this._levels[k].el),this._removeTilesAtZoom(k),this._onRemoveLevel(k),delete this._levels[k]);var C=this._levels[d],R=this._map;return C||(C=this._levels[d]={},C.el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=y,C.origin=R.project(R.unproject(R.getPixelOrigin()),d).round(),C.zoom=d,this._setZoomTransform(C,R.getCenter(),R.getZoom()),p(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,y,k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)y=this._tiles[d],y.retain=y.current;for(d in this._tiles)if(y=this._tiles[d],y.current&&!y.active){var C=y.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var y in this._tiles)this._tiles[y].coords.z===d&&this._removeTile(y)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)It(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,y,k,C){var R=Math.floor(d/2),U=Math.floor(y/2),ee=k-1,ce=new re(+R,+U);ce.z=+ee;var ge=this._tileCoordsToKey(ce),Ae=this._tiles[ge];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),ee>C?this._retainParent(R,U,ee,C):!1)},_retainChildren:function(d,y,k,C){for(var R=2*d;R<2*d+2;R++)for(var U=2*y;U<2*y+2;U++){var ee=new re(R,U);ee.z=k+1;var ce=this._tileCoordsToKey(ee),ge=this._tiles[ce];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);k+1<C&&this._retainChildren(R,U,k+1,C)}},_resetView:function(d){var y=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var y=this.options;return y.minNativeZoom!==void 0&&d<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<d?y.maxNativeZoom:d},_setView:function(d,y,k,C){var R=Math.round(y);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var U=this.options.updateWhenZooming&&R!==this._tileZoom;(!C||U)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(d),k||this._pruneTiles(),this._noPrune=!!k),this._setZoomTransforms(d,y)},_setZoomTransforms:function(d,y){for(var k in this._levels)this._setZoomTransform(this._levels[k],d,y)},_setZoomTransform:function(d,y,k){var C=this._map.getZoomScale(k,d.zoom),R=d.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(y,k)).round();He.any3d?xa(d.el,R,C):Ut(d.el,R)},_resetGrid:function(){var d=this._map,y=d.options.crs,k=this._tileSize=this.getTileSize(),C=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,y.wrapLng[0]],C).x/k.x),Math.ceil(d.project([0,y.wrapLng[1]],C).x/k.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([y.wrapLat[0],0],C).y/k.x),Math.ceil(d.project([y.wrapLat[1],0],C).y/k.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var y=this._map,k=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),C=y.getZoomScale(k,this._tileZoom),R=y.project(d,this._tileZoom).floor(),U=y.getSize().divideBy(C*2);return new B(R.subtract(U),R.add(U))},_update:function(d){var y=this._map;if(y){var k=this._clampZoom(y.getZoom());if(d===void 0&&(d=y.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(d),R=this._pxBoundsToTileRange(C),U=R.getCenter(),ee=[],ce=this.options.keepBuffer,ge=new B(R.getBottomLeft().subtract([ce,-ce]),R.getTopRight().add([ce,-ce]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Re=this._tiles[Ae].coords;(Re.z!==this._tileZoom||!ge.contains(new re(Re.x,Re.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(k-this._tileZoom)>1){this._setView(d,k);return}for(var qe=R.min.y;qe<=R.max.y;qe++)for(var ot=R.min.x;ot<=R.max.x;ot++){var $n=new re(ot,qe);if($n.z=this._tileZoom,!!this._isValidTile($n)){var pn=this._tiles[this._tileCoordsToKey($n)];pn?pn.current=!0:ee.push($n)}}if(ee.sort(function(_t,wt){return _t.distanceTo(U)-wt.distanceTo(U)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Nr=document.createDocumentFragment();for(ot=0;ot<ee.length;ot++)this._addTile(ee[ot],Nr);this._level.el.appendChild(Nr)}}}},_isValidTile:function(d){var y=this._map.options.crs;if(!y.infinite){var k=this._globalTileRange;if(!y.wrapLng&&(d.x<k.min.x||d.x>k.max.x)||!y.wrapLat&&(d.y<k.min.y||d.y>k.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(d);return V(this.options.bounds).overlaps(C)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var y=this._map,k=this.getTileSize(),C=d.scaleBy(k),R=C.add(k),U=y.unproject(C,d.z),ee=y.unproject(R,d.z);return[U,ee]},_tileCoordsToBounds:function(d){var y=this._tileCoordsToNwSe(d),k=new ae(y[0],y[1]);return this.options.noWrap||(k=this._map.wrapLatLngBounds(k)),k},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var y=d.split(":"),k=new re(+y[0],+y[1]);return k.z=+y[2],k},_removeTile:function(d){var y=this._tiles[d];y&&(It(y.el),delete this._tiles[d],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){nt(d,"leaflet-tile");var y=this.getTileSize();d.style.width=y.x+"px",d.style.height=y.y+"px",d.onselectstart=p,d.onmousemove=p,He.ielt9&&this.options.opacity<1&&Zt(d,this.options.opacity)},_addTile:function(d,y){var k=this._getTilePos(d),C=this._tileCoordsToKey(d),R=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(R),this.createTile.length<2&&F(o(this._tileReady,this,d,null,R)),Ut(R,k),this._tiles[C]={el:R,coords:d,current:!0},y.appendChild(R),this.fire("tileloadstart",{tile:R,coords:d})},_tileReady:function(d,y,k){y&&this.fire("tileerror",{error:y,tile:k,coords:d});var C=this._tileCoordsToKey(d);k=this._tiles[C],k&&(k.loaded=+new Date,this._map._fadeAnimated?(Zt(k.el,0),z(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(k.active=!0,this._pruneTiles()),y||(nt(k.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:k.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),He.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var y=new re(this._wrapX?m(d.x,this._wrapX):d.x,this._wrapY?m(d.y,this._wrapY):d.y);return y.z=d.z,y},_pxBoundsToTileRange:function(d){var y=this.getTileSize();return new B(d.min.unscaleBy(y).floor(),d.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function Jp(d){return new Vs(d)}var no=Vs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,y){this._url=d,y=_(this,y),y.detectRetina&&He.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,y){return this._url===d&&y===void 0&&(y=!0),this._url=d,y||this.redraw(),this},createTile:function(d,y){var k=document.createElement("img");return tt(k,"load",o(this._tileOnLoad,this,y,k)),tt(k,"error",o(this._tileOnError,this,y,k)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(k.referrerPolicy=this.options.referrerPolicy),k.alt="",k.src=this.getTileUrl(d),k},getTileUrl:function(d){var y={r:He.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var k=this._globalTileRange.max.y-d.y;this.options.tms&&(y.y=k),y["-y"]=k}return N(this._url,i(y,this.options))},_tileOnLoad:function(d,y){He.ielt9?setTimeout(o(d,this,null,y),0):d(null,y)},_tileOnError:function(d,y,k){var C=this.options.errorTileUrl;C&&y.getAttribute("src")!==C&&(y.src=C),d(k,y)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,y=this.options.maxZoom,k=this.options.zoomReverse,C=this.options.zoomOffset;return k&&(d=y-d),d+C},_getSubdomain:function(d){var y=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var d,y;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(y=this._tiles[d].el,y.onload=p,y.onerror=p,!y.complete)){y.src=M;var k=this._tiles[d].coords;It(y),delete this._tiles[d],this.fire("tileabort",{tile:y,coords:k})}},_removeTile:function(d){var y=this._tiles[d];if(y)return y.el.setAttribute("src",M),Vs.prototype._removeTile.call(this,d)},_tileReady:function(d,y,k){if(!(!this._map||k&&k.getAttribute("src")===M))return Vs.prototype._tileReady.call(this,d,y,k)}});function Yr(d,y){return new no(d,y)}var sc=no.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,y){this._url=d;var k=i({},this.defaultWmsParams);for(var C in y)C in this.options||(k[C]=y[C]);y=_(this,y);var R=y.detectRetina&&He.retina?2:1,U=this.getTileSize();k.width=U.x*R,k.height=U.y*R,this.wmsParams=k},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,no.prototype.onAdd.call(this,d)},getTileUrl:function(d){var y=this._tileCoordsToNwSe(d),k=this._crs,C=W(k.project(y[0]),k.project(y[1])),R=C.min,U=C.max,ee=(this._wmsVersion>=1.3&&this._crs===Bf?[R.y,R.x,U.y,U.x]:[R.x,R.y,U.x,U.y]).join(","),ce=no.prototype.getTileUrl.call(this,d);return ce+S(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(d,y){return i(this.wmsParams,d),y||this.redraw(),this}});function Kr(d,y){return new sc(d,y)}no.WMS=sc,Yr.wms=Kr;var _r=vi.extend({options:{padding:.1},initialize:function(d){_(this,d),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,y){var k=this._map.getZoomScale(y,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,y),U=C.multiplyBy(-k).add(R).subtract(this._map._getNewPixelOrigin(d,y));He.any3d?xa(this._container,U,k):Ut(this._container,U)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,y=this._map.getSize(),k=this._map.containerPointToLayerPoint(y.multiplyBy(-d)).round();this._bounds=new B(k,k.add(y.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ku=_r.extend({options:{tolerance:0},getEvents:function(){var d=_r.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_r.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");tt(d,"mousemove",this._onMouseMove,this),tt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),tt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,It(this._container),Nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var y in this._layers)d=this._layers[y],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_r.prototype._update.call(this);var d=this._bounds,y=this._container,k=d.getSize(),C=He.retina?2:1;Ut(y,d.min),y.width=C*k.x,y.height=C*k.y,y.style.width=k.x+"px",y.style.height=k.y+"px",He.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){_r.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[u(d)]=d;var y=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var y=d._order,k=y.next,C=y.prev;k?k.prev=C:this._drawLast=C,C?C.next=k:this._drawFirst=k,delete d._order,delete this._layers[u(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var y=d.options.dashArray.split(/[, ]+/),k=[],C,R;for(R=0;R<y.length;R++){if(C=Number(y[R]),isNaN(C))return;k.push(C)}d.options._dashArray=k}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var y=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(d._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(d._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var y=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,y=this._redrawBounds;if(this._ctx.save(),y){var k=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,k.x,k.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)d=C.layer,(!y||d._pxBounds&&d._pxBounds.intersects(y))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,y){if(this._drawing){var k,C,R,U,ee=d._parts,ce=ee.length,ge=this._ctx;if(ce){for(ge.beginPath(),k=0;k<ce;k++){for(C=0,R=ee[k].length;C<R;C++)U=ee[k][C],ge[C?"lineTo":"moveTo"](U.x,U.y);y&&ge.closePath()}this._fillStroke(ge,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var y=d._point,k=this._ctx,C=Math.max(Math.round(d._radius),1),R=(Math.max(Math.round(d._radiusY),1)||C)/C;R!==1&&(k.save(),k.scale(1,R)),k.beginPath(),k.arc(y.x,y.y/R,C,0,Math.PI*2,!1),R!==1&&k.restore(),this._fillStroke(k,d)}},_fillStroke:function(d,y){var k=y.options;k.fill&&(d.globalAlpha=k.fillOpacity,d.fillStyle=k.fillColor||k.color,d.fill(k.fillRule||"evenodd")),k.stroke&&k.weight!==0&&(d.setLineDash&&d.setLineDash(y.options&&y.options._dashArray||[]),d.globalAlpha=k.opacity,d.lineWidth=k.weight,d.strokeStyle=k.color,d.lineCap=k.lineCap,d.lineJoin=k.lineJoin,d.stroke())},_onClick:function(d){for(var y=this._map.mouseEventToLayerPoint(d),k,C,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(k))&&(C=k);this._fireEvent(C?[C]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,y)}},_handleMouseOut:function(d){var y=this._hoveredLayer;y&&(en(this._container,"leaflet-interactive"),this._fireEvent([y],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,y){if(!this._mouseHoverThrottled){for(var k,C,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(C=k);C!==this._hoveredLayer&&(this._handleMouseOut(d),C&&(nt(this._container,"leaflet-interactive"),this._fireEvent([C],d,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,y,k){this._map._fireDOMEvent(y,k||y.type,d)},_bringToFront:function(d){var y=d._order;if(y){var k=y.next,C=y.prev;if(k)k.prev=C;else return;C?C.next=k:k&&(this._drawFirst=k),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(d)}},_bringToBack:function(d){var y=d._order;if(y){var k=y.next,C=y.prev;if(C)C.next=k;else return;k?k.prev=C:C&&(this._drawLast=C),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(d)}}});function lc(d){return He.canvas?new ku(d):null}var ro=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),zf={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_r.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var y=d._container=ro("shape");nt(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",d._path=ro("path"),y.appendChild(d._path),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){var y=d._container;this._container.appendChild(y),d.options.interactive&&d.addInteractiveTarget(y)},_removePath:function(d){var y=d._container;It(y),d.removeInteractiveTarget(y),delete this._layers[u(d)]},_updateStyle:function(d){var y=d._stroke,k=d._fill,C=d.options,R=d._container;R.stroked=!!C.stroke,R.filled=!!C.fill,C.stroke?(y||(y=d._stroke=ro("stroke")),R.appendChild(y),y.weight=C.weight+"px",y.color=C.color,y.opacity=C.opacity,C.dashArray?y.dashStyle=O(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=C.lineCap.replace("butt","flat"),y.joinstyle=C.lineJoin):y&&(R.removeChild(y),d._stroke=null),C.fill?(k||(k=d._fill=ro("fill")),R.appendChild(k),k.color=C.fillColor||C.color,k.opacity=C.fillOpacity):k&&(R.removeChild(k),d._fill=null)},_updateCircle:function(d){var y=d._point.round(),k=Math.round(d._radius),C=Math.round(d._radiusY||k);this._setPath(d,d._empty()?"M0 0":"AL "+y.x+","+y.y+" "+k+","+C+" 0,"+65535*360)},_setPath:function(d,y){d._path.v=y},_bringToFront:function(d){In(d._container)},_bringToBack:function(d){Ro(d._container)}},Zi=He.vml?ro:_e,Zs=_r.extend({_initContainer:function(){this._container=Zi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){It(this._container),Nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_r.prototype._update.call(this);var d=this._bounds,y=d.getSize(),k=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,k.setAttribute("width",y.x),k.setAttribute("height",y.y)),Ut(k,d.min),k.setAttribute("viewBox",[d.min.x,d.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(d){var y=d._path=Zi("path");d.options.className&&nt(y,d.options.className),d.options.interactive&&nt(y,"leaflet-interactive"),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){It(d._path),d.removeInteractiveTarget(d._path),delete this._layers[u(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var y=d._path,k=d.options;y&&(k.stroke?(y.setAttribute("stroke",k.color),y.setAttribute("stroke-opacity",k.opacity),y.setAttribute("stroke-width",k.weight),y.setAttribute("stroke-linecap",k.lineCap),y.setAttribute("stroke-linejoin",k.lineJoin),k.dashArray?y.setAttribute("stroke-dasharray",k.dashArray):y.removeAttribute("stroke-dasharray"),k.dashOffset?y.setAttribute("stroke-dashoffset",k.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),k.fill?(y.setAttribute("fill",k.fillColor||k.color),y.setAttribute("fill-opacity",k.fillOpacity),y.setAttribute("fill-rule",k.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(d,y){this._setPath(d,je(d._parts,y))},_updateCircle:function(d){var y=d._point,k=Math.max(Math.round(d._radius),1),C=Math.max(Math.round(d._radiusY),1)||k,R="a"+k+","+C+" 0 1,0 ",U=d._empty()?"M0 0":"M"+(y.x-k)+","+y.y+R+k*2+",0 "+R+-k*2+",0 ";this._setPath(d,U)},_setPath:function(d,y){d._path.setAttribute("d",y)},_bringToFront:function(d){In(d._path)},_bringToBack:function(d){Ro(d._path)}});He.vml&&Zs.include(zf);function cc(d){return He.svg||He.vml?new Zs(d):null}ht.include({getRenderer:function(d){var y=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var y=this._paneRenderers[d];return y===void 0&&(y=this._createRenderer({pane:d}),this._paneRenderers[d]=y),y},_createRenderer:function(d){return this.options.preferCanvas&&lc(d)||cc(d)}});var Bo=qs.extend({initialize:function(d,y){qs.prototype.initialize.call(this,this._boundsToLatLngs(d),y)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=V(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Nx(d,y){return new Bo(d,y)}Zs.create=Zi,Zs.pointsToPath=je,Ea.geometryToLayer=Jn,Ea.coordsToLatLng=xu,Ea.coordsToLatLngs=nc,Ea.latLngToCoords=_u,Ea.latLngsToCoords=rc,Ea.getFeature=Qa,Ea.asFeature=wu,ht.mergeOptions({boxZoom:!0});var wr=Yi.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){It(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ls(),du(),this._startPoint=this._map.mouseEventToContainerPoint(d),tt(document,{contextmenu:Xa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var y=new B(this._point,this._startPoint),k=y.getSize();Ut(this._box,y.min),this._box.style.width=k.x+"px",this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(It(this._box),en(this._container,"leaflet-crosshair")),Gi(),ql(),Nt(document,{contextmenu:Xa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",wr),ht.mergeOptions({doubleClickZoom:!0});var Au=Yi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var y=this._map,k=y.getZoom(),C=y.options.zoomDelta,R=d.originalEvent.shiftKey?k-C:k+C;y.options.doubleClickZoom==="center"?y.setZoom(R):y.setZoomAround(d.containerPoint,R)}});ht.addInitHook("addHandler","doubleClickZoom",Au),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xi=Yi.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Ja(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){en(this._map._container,"leaflet-grab"),en(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=V(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var y=this._lastTime=+new Date,k=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(k),this._times.push(y),this._prunePositions(y)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,y){return d-(d-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;d.x<y.min.x&&(d.x=this._viscousLimit(d.x,y.min.x)),d.y<y.min.y&&(d.y=this._viscousLimit(d.y,y.min.y)),d.x>y.max.x&&(d.x=this._viscousLimit(d.x,y.max.x)),d.y>y.max.y&&(d.y=this._viscousLimit(d.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,y=Math.round(d/2),k=this._initialWorldOffset,C=this._draggable._newPos.x,R=(C-y+k)%d+y-k,U=(C+y+k)%d-y-k,ee=Math.abs(R+k)<Math.abs(U+k)?R:U;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(d){var y=this._map,k=y.options,C=!k.inertia||d.noInertia||this._times.length<2;if(y.fire("dragend",d),C)y.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),U=(this._lastTime-this._times[0])/1e3,ee=k.easeLinearity,ce=R.multiplyBy(ee/U),ge=ce.distanceTo([0,0]),Ae=Math.min(k.inertiaMaxSpeed,ge),Re=ce.multiplyBy(Ae/ge),qe=Ae/(k.inertiaDeceleration*ee),ot=Re.multiplyBy(-qe/2).round();!ot.x&&!ot.y?y.fire("moveend"):(ot=y._limitOffset(ot,y.options.maxBounds),F(function(){y.panBy(ot,{duration:qe,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});ht.addInitHook("addHandler","dragging",Xi),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Uf=Yi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),tt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,y=document.documentElement,k=d.scrollTop||y.scrollTop,C=d.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(C,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var y=this._panKeys={},k=this.keyCodes,C,R;for(C=0,R=k.left.length;C<R;C++)y[k.left[C]]=[-1*d,0];for(C=0,R=k.right.length;C<R;C++)y[k.right[C]]=[d,0];for(C=0,R=k.down.length;C<R;C++)y[k.down[C]]=[0,d];for(C=0,R=k.up.length;C<R;C++)y[k.up[C]]=[0,-1*d]},_setZoomDelta:function(d){var y=this._zoomKeys={},k=this.keyCodes,C,R;for(C=0,R=k.zoomIn.length;C<R;C++)y[k.zoomIn[C]]=d;for(C=0,R=k.zoomOut.length;C<R;C++)y[k.zoomOut[C]]=-d},_addHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var y=d.keyCode,k=this._map,C;if(y in this._panKeys){if(!k._panAnim||!k._panAnim._inProgress)if(C=this._panKeys[y],d.shiftKey&&(C=se(C).multiplyBy(3)),k.options.maxBounds&&(C=k._limitOffset(se(C),k.options.maxBounds)),k.options.worldCopyJump){var R=k.wrapLatLng(k.unproject(k.project(k.getCenter()).add(C)));k.panTo(R)}else k.panBy(C)}else if(y in this._zoomKeys)k.setZoom(k.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&k._popup&&k._popup.options.closeOnEscapeKey)k.closePopup();else return;Xa(d)}}});ht.addInitHook("addHandler","keyboard",Uf),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var uc=Yi.extend({addHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var y=cr(d),k=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var C=Math.max(k-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),C),Xa(d)},_performZoom:function(){var d=this._map,y=d.getZoom(),k=this._map.options.zoomSnap||0;d._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,U=k?Math.ceil(R/k)*k:R,ee=d._limitZoom(y+(this._delta>0?U:-U))-y;this._delta=0,this._startTime=null,ee&&(d.options.scrollWheelZoom==="center"?d.setZoom(y+ee):d.setZoomAround(this._lastMousePos,y+ee))}});ht.addInitHook("addHandler","scrollWheelZoom",uc);var zo=600;ht.mergeOptions({tapHold:He.touchNative&&He.safari&&He.mobile,tapTolerance:15});var Tu=Yi.extend({addHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var y=d.touches[0];this._startPos=this._newPos=new re(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(tt(document,"touchend",mn),tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),zo),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){Nt(document,"touchend",mn),Nt(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)},_onMove:function(d){var y=d.touches[0];this._newPos=new re(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,y){var k=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});k._simulated=!0,y.target.dispatchEvent(k)}});ht.addInitHook("addHandler","tapHold",Tu),ht.mergeOptions({touchZoom:He.touch,bounceAtZoomLimits:!0});var Ff=Yi.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){en(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var y=this._map;if(!(!d.touches||d.touches.length!==2||y._animatingZoom||this._zooming)){var k=y.mouseEventToContainerPoint(d.touches[0]),C=y.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(k.add(C)._divideBy(2))),this._startDist=k.distanceTo(C),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),mn(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var y=this._map,k=y.mouseEventToContainerPoint(d.touches[0]),C=y.mouseEventToContainerPoint(d.touches[1]),R=k.distanceTo(C)/this._startDist;if(this._zoom=y.getScaleZoom(R,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&R<1||this._zoom>y.getMaxZoom()&&R>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var U=k._add(C)._divideBy(2)._subtract(this._centerPoint);if(R===1&&U.x===0&&U.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(U),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var ee=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(ee,this,!0),mn(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ht.addInitHook("addHandler","touchZoom",Ff),ht.BoxZoom=wr,ht.DoubleClickZoom=Au,ht.Drag=Xi,ht.Keyboard=Uf,ht.ScrollWheelZoom=uc,ht.TapHold=Tu,ht.TouchZoom=Ff,n.Bounds=B,n.Browser=He,n.CRS=pe,n.Canvas=ku,n.Circle=vu,n.CircleMarker=Gs,n.Class=Q,n.Control=jr,n.DivIcon=Xp,n.DivOverlay=Qn,n.DomEvent=mu,n.DomUtil=Bs,n.Draggable=Ja,n.Evented=X,n.FeatureGroup=Ki,n.GeoJSON=Ea,n.GridLayer=Vs,n.Handler=Yi,n.Icon=Wi,n.ImageOverlay=Ks,n.LatLng=oe,n.LatLngBounds=ae,n.Layer=vi,n.LayerGroup=Hs,n.LineUtil=Ex,n.Map=ht,n.Marker=tc,n.Mixin=xx,n.Path=Vi,n.Point=re,n.PolyUtil=If,n.Polygon=qs,n.Polyline=Sa,n.Popup=ac,n.PosAnimation=zs,n.Projection=Fp,n.Rectangle=Bo,n.Renderer=_r,n.SVG=Zs,n.SVGOverlay=Eu,n.TileLayer=no,n.Tooltip=oc,n.Transformation=Ce,n.Util=Z,n.VideoOverlay=to,n.bind=o,n.bounds=W,n.canvas=lc,n.circle=Kp,n.circleMarker=Yp,n.control=wa,n.divIcon=jx,n.extend=i,n.featureGroup=Gp,n.geoJSON=Su,n.geoJson=ic,n.gridLayer=Jp,n.icon=Jl,n.imageOverlay=Wp,n.latLng=me,n.latLngBounds=V,n.layerGroup=kx,n.map=Cf,n.marker=qp,n.point=se,n.polygon=Tx,n.polyline=Ax,n.popup=Zp,n.rectangle=Nx,n.setOptions=_,n.stamp=u,n.svg=cc,n.svgOverlay=Vp,n.tileLayer=Yr,n.tooltip=Ox,n.transformation=ve,n.version=r,n.videoOverlay=Ws;var Hf=window.L;n.noConflict=function(){return window.L=Hf,this},window.L=n}))})(Zh,Zh.exports)),Zh.exports}var wW=_W();const Sw=ui(wW),s0=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Ec(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function SW(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:c,mapId:u}=e.ids,f=e.initialCenter??{lat:37.5665,lon:126.978},m=Ec(n),p=Ec(t),g=Ec(r),v=Ec(a),w=Ec(o),_=Ec(c),S=i?Ec(i):null;let T=null,N=null,O=null;const P=z=>z.code==="Space"||z.key===" "||z.key==="Spacebar"||z.key==="Space",M=z=>{P(z)&&document.activeElement!==w&&(z.preventDefault(),z.stopPropagation(),w.focus())},D=()=>{g.style.display="flex",T?setTimeout(()=>T?.invalidateSize(),200):setTimeout(()=>{T=Sw.map(u,{keyboard:!1}).setView([f.lat,f.lon],11),Sw.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(T),T.invalidateSize()},0),g.addEventListener("keydown",M,!0),g.addEventListener("keyup",M,!0),w.focus()},$=()=>{g.style.display="none",w.value="",_.innerHTML="",O&&(window.clearTimeout(O),O=null),g.removeEventListener("keydown",M,!0),g.removeEventListener("keyup",M,!0)},H=z=>{const Z=z.dataset.name??"",Q=Number(z.dataset.lat??""),J=Number(z.dataset.lon??"");!Number.isFinite(Q)||!Number.isFinite(J)||!T||(N?N.setLatLng([Q,J]):N=Sw.marker([Q,J]).addTo(T),T.flyTo([Q,J],14,{duration:.5}),m.value=Z,m.dataset.lat=String(Q),m.dataset.lon=String(J),e.onSelected?.({name:Z,lat:Q,lon:J}),_.innerHTML="",$())},q=()=>{O&&window.clearTimeout(O);const z=w.value.trim();if(!z){_.innerHTML="";return}O=window.setTimeout(async()=>{try{const Z="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(z),Q=await fetch(Z,{headers:{Accept:"application/json"}});if(!Q.ok)throw new Error(`HTTP ${Q.status}`);const J=await Q.json();if(!Array.isArray(J)||J.length===0){_.innerHTML='<li style="padding:8px"> </li>';return}const Y=J.slice(0,12).map((X,re)=>{const ue=X.display_name.split(",").slice(0,3).map(W=>W.trim()).join("  "),se="padding:8px;cursor:pointer;outline:none;",B=re===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${s0(ue)}"
                    data-lat="${s0(X.lat)}"
                    data-lon="${s0(X.lon)}"
                    data-active="${re===0?"1":"0"}"
                    style="${se}${B}"
                  >${s0(ue)}</li>`}).join("");_.innerHTML=Y}catch(Z){console.error(Z),_.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},K=z=>{const Z=z.target;Z.tagName==="LI"&&H(Z)},F=z=>{if(z.key==="Enter"){const Z=_.querySelector('li[data-active="1"]')??_.querySelector("li");Z&&H(Z)}};return p.addEventListener("click",D),v.addEventListener("click",$),S&&S.addEventListener("click",$),w.addEventListener("input",q),w.addEventListener("keydown",F),_.addEventListener("click",K),()=>{p.removeEventListener("click",D),v.removeEventListener("click",$),S&&S.removeEventListener("click",$),w.removeEventListener("input",q),w.removeEventListener("keydown",F),_.removeEventListener("click",K),g.removeEventListener("keydown",M,!0),g.removeEventListener("keyup",M,!0),O&&(window.clearTimeout(O),O=null),T&&(T.remove(),T=null)}}function ed(){return document.getElementById("suggestions")}function ly(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function Ew(e,t){const n=ly(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const EW='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function kW({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:c,onSelect:u}){E.useEffect(()=>{if(!e)return;const f=SW({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:O=>{n(""),r(O.name),i.current&&(i.current.value=O.name),a.current&&(a.current.value=String(O.lat)),o.current&&(o.current.value=String(O.lon)),u?.(O),t(!1)}}),m=document.getElementById("inputBirthPlaceBtn");m&&m.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const g=document.getElementById("searchBox"),v=ed();setTimeout(()=>g?.focus(),0);const w=O=>{if(O.key==="Escape"){O.preventDefault(),t(!1);return}if(O.key!=="Tab")return;const P=ed();if(P&&P.contains(document.activeElement))return;const M=Array.from(p.querySelectorAll(EW)).filter(q=>!q.hasAttribute("disabled")&&q.tabIndex!==-1);if(M.length===0)return;const D=M[0],$=M[M.length-1],H=document.activeElement;O.shiftKey?(H===D||!p.contains(H))&&(O.preventDefault(),$.focus()):(H===$||!p.contains(H))&&(O.preventDefault(),D.focus())};p.addEventListener("keydown",w);const _=O=>{if(O.key!=="ArrowDown")return;const P=ed();!P||ly(P).length===0||O.preventDefault()};g?.addEventListener("keydown",_);const S=O=>{if(O.target.value.trim()===""){const M=ed();M&&(M.innerHTML="")}};g?.addEventListener("input",S);const T=O=>{const P=ed();if(!P)return;const M=ly(P);if(M.length===0)return;const D=document.activeElement,$=D?M.indexOf(D):-1;if($===-1)return;const H=q=>{O.preventDefault(),Ew(P,$+q)};switch(O.key){case"Tab":O.preventDefault(),H(O.shiftKey?-1:1);break;case"ArrowDown":O.preventDefault(),H(1);break;case"ArrowUp":O.preventDefault(),H(-1);break;case"Home":O.preventDefault(),Ew(P,0);break;case"End":O.preventDefault(),Ew(P,M.length-1);break;case"Enter":case" ":O.preventDefault(),D.click();break;case"Backspace":O.preventDefault(),P.innerHTML="",g?.focus();break}O.stopPropagation()};let N=null;return v&&(v.addEventListener("keydown",T),N=new MutationObserver(()=>{const O=ed();!O||ly(O).length}),N.observe(v,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",w),g?.removeEventListener("keydown",_),g?.removeEventListener("input",S),v&&v.removeEventListener("keydown",T),N?.disconnect(),f?.()}},[e,u,n,r,t,i,a,o]),E.useEffect(()=>{e||setTimeout(()=>c.current?.focus(),0)},[e,c])}function EB({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=vW({placeholderText:t,value:r});return kW({...i,onSelect:e}),x.jsxs("li",{className:"flex items-center gap-2",children:[x.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),x.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),x.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),x.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),x.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&x.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:x.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[x.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[x.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),x.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),x.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[x.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),x.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),x.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:x.jsx("div",{id:"map",className:"h-full w-full"})}),x.jsxs("div",{className:"gap-2 p-3",children:[x.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[x.jsxs("p",{className:"flex mb-1",children:[x.jsx("span",{className:"mr-1",children:"*"}),x.jsx("span",{children:"   ."})]}),x.jsxs("p",{className:"flex",children:[x.jsx("span",{className:"mr-1",children:"*"}),x.jsx("span",{children:"       ."})]})]}),x.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function rr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var AW=typeof Symbol=="function"&&Symbol.observable||"@@observable",$C=AW,kw=()=>Math.random().toString(36).substring(7).split("").join("."),TW={INIT:`@@redux/INIT${kw()}`,REPLACE:`@@redux/REPLACE${kw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kw()}`},Cy=TW;function a2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function o2(e,t,n){if(typeof e!="function")throw new Error(rr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rr(1));return n(o2)(e,t)}let r=e,i=t,a=new Map,o=a,c=0,u=!1;function f(){o===a&&(o=new Map,a.forEach((S,T)=>{o.set(T,S)}))}function m(){if(u)throw new Error(rr(3));return i}function p(S){if(typeof S!="function")throw new Error(rr(4));if(u)throw new Error(rr(5));let T=!0;f();const N=c++;return o.set(N,S),function(){if(T){if(u)throw new Error(rr(6));T=!1,f(),o.delete(N),a=null}}}function g(S){if(!a2(S))throw new Error(rr(7));if(typeof S.type>"u")throw new Error(rr(8));if(typeof S.type!="string")throw new Error(rr(17));if(u)throw new Error(rr(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=o).forEach(N=>{N()}),S}function v(S){if(typeof S!="function")throw new Error(rr(10));r=S,g({type:Cy.REPLACE})}function w(){const S=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(rr(11));function N(){const P=T;P.next&&P.next(m())}return N(),{unsubscribe:S(N)}},[$C](){return this}}}return g({type:Cy.INIT}),{dispatch:g,subscribe:p,getState:m,replaceReducer:v,[$C]:w}}function OW(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Cy.INIT})>"u")throw new Error(rr(12));if(typeof n(void 0,{type:Cy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rr(13))})}function kB(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{OW(n)}catch(a){i=a}return function(o={},c){if(i)throw i;let u=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],g=n[p],v=o[p],w=g(v,c);if(typeof w>"u")throw c&&c.type,new Error(rr(14));f[p]=w,u=u||w!==v}return u=u||r.length!==Object.keys(o).length,u?f:o}}function BC(e,t){return function(...n){return t(e.apply(this,n))}}function zC(e,t){if(typeof e=="function")return BC(e,t);if(typeof e!="object"||e===null)throw new Error(rr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=BC(i,t))}return n}function mm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function AB(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(rr(15))};const o={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},c=e.map(u=>u(o));return a=mm(...c)(i.dispatch),{...i,dispatch:a}}}function TB(e){return a2(e)&&"type"in e&&typeof e.type=="string"}var Aw={exports:{}},Tw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC;function jW(){if(UC)return Tw;UC=1;var e=Xd();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,c=e.useDebugValue;return Tw.useSyncExternalStoreWithSelector=function(u,f,m,p,g){var v=i(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=o(function(){function S(M){if(!T){if(T=!0,N=M,M=p(M),g!==void 0&&w.hasValue){var D=w.value;if(g(D,M))return O=D}return O=M}if(D=O,n(N,M))return D;var $=p(M);return g!==void 0&&g(D,$)?(N=M,D):(N=M,O=$)}var T=!1,N,O,P=m===void 0?null:m;return[function(){return S(f())},P===null?void 0:function(){return S(P())}]},[f,m,p,g]);var _=r(u,v[0],v[1]);return a(function(){w.hasValue=!0,w.value=_},[_]),c(_),_},Tw}var FC;function NW(){return FC||(FC=1,Aw.exports=jW()),Aw.exports}NW();var CW=E.version.startsWith("19"),MW=Symbol.for(CW?"react.transitional.element":"react.element"),PW=Symbol.for("react.portal"),DW=Symbol.for("react.fragment"),RW=Symbol.for("react.strict_mode"),LW=Symbol.for("react.profiler"),IW=Symbol.for("react.consumer"),$W=Symbol.for("react.context"),OB=Symbol.for("react.forward_ref"),BW=Symbol.for("react.suspense"),zW=Symbol.for("react.suspense_list"),s2=Symbol.for("react.memo"),UW=Symbol.for("react.lazy"),FW=OB,HW=s2;function GW(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case MW:switch(e=e.type,e){case DW:case LW:case RW:case BW:case zW:return e;default:switch(e=e&&e.$$typeof,e){case $W:case OB:case UW:case s2:return e;case IW:return e;default:return t}}case PW:return t}}}function qW(e){return GW(e)===s2}function YW(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let c=!1,u,f,m,p,g;function v(N,O){return u=N,f=O,m=e(u,f),p=t(r,f),g=n(m,p,f),c=!0,g}function w(){return m=e(u,f),t.dependsOnOwnProps&&(p=t(r,f)),g=n(m,p,f),g}function _(){return e.dependsOnOwnProps&&(m=e(u,f)),t.dependsOnOwnProps&&(p=t(r,f)),g=n(m,p,f),g}function S(){const N=e(u,f),O=!o(N,m);return m=N,O&&(g=n(m,p,f)),g}function T(N,O){const P=!a(O,f),M=!i(N,u,O,f);return u=N,f=O,P&&M?w():P?_():M?S():g}return function(O,P){return c?T(O,P):v(O,P)}}function KW(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),c=r(e,i);return YW(a,o,c,e,i)}function WW(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function dE(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function HC(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function jB(e,t){return function(r,{displayName:i}){const a=function(c,u){return a.dependsOnOwnProps?a.mapToProps(c,u):a.mapToProps(c,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,u){a.mapToProps=e,a.dependsOnOwnProps=HC(e);let f=a(c,u);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=HC(f),f=a(c,u)),f},a}}function l2(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function VW(e){return e&&typeof e=="object"?dE(t=>WW(e,t)):e?typeof e=="function"?jB(e):l2(e,"mapDispatchToProps"):dE(t=>({dispatch:t}))}function ZW(e){return e?typeof e=="function"?jB(e):l2(e,"mapStateToProps"):dE(()=>({}))}function XW(e,t,n){return{...n,...e,...t}}function JW(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,f,m){const p=e(u,f,m);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function QW(e){return e?typeof e=="function"?JW(e):l2(e,"mergeProps"):()=>XW}function eV(e){e()}function tV(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eV(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var GC={notify(){},get:()=>[]};function NB(e,t){let n,r=GC,i=0,a=!1;function o(_){m();const S=r.subscribe(_);let T=!1;return()=>{T||(T=!0,S(),p())}}function c(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function f(){return a}function m(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=tV())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=GC)}function g(){a||(a=!0,m())}function v(){a&&(a=!1,p())}const w={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return w}var nV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rV=nV(),iV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aV=iV(),oV=()=>rV||aV?E.useLayoutEffect:E.useEffect,My=oV();function qC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cy(e,t){if(qC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!qC(e[n[i]],t[n[i]]))return!1;return!0}var sV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},lV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},cV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},CB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},uV={[FW]:cV,[HW]:CB};function YC(e){return qW(e)?CB:uV[e.$$typeof]||sV}var dV=Object.defineProperty,fV=Object.getOwnPropertyNames,KC=Object.getOwnPropertySymbols,hV=Object.getOwnPropertyDescriptor,mV=Object.getPrototypeOf,WC=Object.prototype;function fE(e,t){if(typeof t!="string"){if(WC){const a=mV(t);a&&a!==WC&&fE(e,a)}let n=fV(t);KC&&(n=n.concat(KC(t)));const r=YC(e),i=YC(t);for(let a=0;a<n.length;++a){const o=n[a];if(!lV[o]&&!(i&&i[o])&&!(r&&r[o])){const c=hV(t,o);try{dV(e,o,c)}catch{}}}}return e}var pV=Symbol.for("react-redux-context"),gV=typeof globalThis<"u"?globalThis:{};function yV(){if(!E.createContext)return{};const e=gV[pV]??=new Map;let t=e.get(E.createContext);return t||(t=E.createContext(null),e.set(E.createContext,t)),t}var MB=yV(),bV=[null,null];function vV(e,t,n){My(()=>e(...t),n)}function xV(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function _V(e,t,n,r,i,a,o,c,u,f,m){if(!e)return()=>{};let p=!1,g=null;const v=()=>{if(p||!c.current)return;const _=t.getState();let S,T;try{S=r(_,i.current)}catch(N){T=N,g=N}T||(g=null),S===a.current?o.current||f():(a.current=S,u.current=S,o.current=!0,m())};return n.onStateChange=v,n.trySubscribe(),v(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function wV(e,t){return e===t}function SV(e,t,n,{pure:r,areStatesEqual:i=wV,areOwnPropsEqual:a=cy,areStatePropsEqual:o=cy,areMergedPropsEqual:c=cy,forwardRef:u=!1,context:f=MB}={}){const m=f,p=ZW(e),g=VW(t),v=QW(n),w=!!e;return S=>{const T=S.displayName||S.name||"Component",N=`Connect(${T})`,O={shouldHandleStateChanges:w,displayName:N,wrappedComponentName:T,WrappedComponent:S,initMapStateToProps:p,initMapDispatchToProps:g,initMergeProps:v,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:c};function P($){const[H,q,K]=E.useMemo(()=>{const{reactReduxForwardedRef:ve,...Ze}=$;return[$.context,ve,Ze]},[$]),F=E.useMemo(()=>{let ve=m;return H?.Consumer,ve},[H,m]),z=E.useContext(F),Z=!!$.store&&!!$.store.getState&&!!$.store.dispatch,Q=!!z&&!!z.store,J=Z?$.store:z.store,Y=Q?z.getServerState:J.getState,X=E.useMemo(()=>KW(J.dispatch,O),[J]),[re,ue]=E.useMemo(()=>{if(!w)return bV;const ve=NB(J,Z?void 0:z.subscription),Ze=ve.notifyNestedSubs.bind(ve);return[ve,Ze]},[J,Z,z]),se=E.useMemo(()=>Z?z:{...z,subscription:re},[Z,z,re]),B=E.useRef(void 0),W=E.useRef(K),ae=E.useRef(void 0),V=E.useRef(!1),oe=E.useRef(!1),me=E.useRef(void 0);My(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const pe=E.useMemo(()=>()=>ae.current&&K===W.current?ae.current:X(J.getState(),K),[J,K]),be=E.useMemo(()=>Ze=>re?_V(w,J,re,X,W,B,V,oe,ae,ue,Ze):()=>{},[re]);vV(xV,[W,B,V,K,ae,ue]);let ne;try{ne=E.useSyncExternalStore(be,pe,Y?()=>X(Y(),K):pe)}catch(ve){throw me.current&&(ve.message+=`
The error may be correlated with this previous error:
${me.current.stack}

`),ve}My(()=>{me.current=void 0,ae.current=void 0,B.current=ne});const Oe=E.useMemo(()=>E.createElement(S,{...ne,ref:q}),[q,S,ne]);return E.useMemo(()=>w?E.createElement(F.Provider,{value:se},Oe):Oe,[F,Oe,se])}const D=E.memo(P);if(D.WrappedComponent=S,D.displayName=P.displayName=N,u){const H=E.forwardRef(function(K,F){return E.createElement(D,{...K,reactReduxForwardedRef:F})});return H.displayName=N,H.WrappedComponent=S,fE(H,S)}return fE(D,S)}}var PB=SV;function EV(e){const{children:t,context:n,serverState:r,store:i}=e,a=E.useMemo(()=>{const u=NB(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=E.useMemo(()=>i.getState(),[i]);My(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const c=n||MB;return E.createElement(c.Provider,{value:a},t)}var DB=EV,kV="Invariant failed";function AV(e,t){throw new Error(kV)}var $a=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,c=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:c,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},c2=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},VC=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},TV=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Ow={top:0,right:0,bottom:0,left:0},u2=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Ow:r,a=t.border,o=a===void 0?Ow:a,c=t.padding,u=c===void 0?Ow:c,f=$a(c2(n,i)),m=$a(VC(n,o)),p=$a(VC(m,u));return{marginBox:f,borderBox:$a(n),paddingBox:m,contentBox:p,margin:i,border:o,padding:u}},ta=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&AV(),i},OV=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Py=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,c=TV(r,n);return u2({borderBox:c,border:i,margin:a,padding:o})},Dy=function(t,n){return n===void 0&&(n=OV()),Py(t,n)},RB=function(t,n){var r={top:ta(n.marginTop),right:ta(n.marginRight),bottom:ta(n.marginBottom),left:ta(n.marginLeft)},i={top:ta(n.paddingTop),right:ta(n.paddingRight),bottom:ta(n.paddingBottom),left:ta(n.paddingLeft)},a={top:ta(n.borderTopWidth),right:ta(n.borderRightWidth),bottom:ta(n.borderBottomWidth),left:ta(n.borderLeftWidth)};return u2({borderBox:t,margin:r,padding:i,border:a})},LB=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return RB(n,r)},pm=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];n=c,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ry.apply(null,arguments)}function IB(e,t){}IB.bind(null,"warn");IB.bind(null,"error");function Sl(){}function jV(e,t){return{...e,...t}}function aa(e,t,n){const r=t.map(i=>{const a=jV(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const NV="Invariant failed";class Ly extends Error{}Ly.prototype.toString=function(){return this.message};function Pe(e,t){throw new Ly(NV)}class CV extends Wt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Sl,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Ly&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=aa(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Ly){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const MV=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Iy=e=>e+1,PV=e=>`
  You have lifted an item in position ${Iy(e.source.index)}
`,$B=(e,t)=>{const n=e.droppableId===t.droppableId,r=Iy(e.index),i=Iy(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},BB=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,DV=e=>{const t=e.destination;if(t)return $B(e.source,t);const n=e.combine;return n?BB(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},ZC=e=>`
  The item has returned to its starting position
  of ${Iy(e.index)}
`,RV=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${ZC(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${$B(e.source,t)}
    `:n?`
      You have dropped the item.
      ${BB(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${ZC(e.source)}
  `},uy={dragHandleUsageInstructions:MV,onDragStart:PV,onDragUpdate:DV,onDragEnd:RV};function LV(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function zB(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!LV(e[n],t[n]))return!1;return!0}function vt(e,t){const n=E.useState(()=>({inputs:t,result:e()}))[0],r=E.useRef(!0),i=E.useRef(n),o=r.current||!!(t&&i.current.inputs&&zB(t,i.current.inputs))?i.current:{inputs:t,result:e()};return E.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Ke(e,t){return vt(()=>e,t)}const or={x:0,y:0},gr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Mi=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),El=(e,t)=>e.x===t.x&&e.y===t.y,rf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Vc=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},gm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),XC=(e,t)=>Math.min(...t.map(n=>gm(e,n))),UB=e=>t=>({x:e(t.x),y:e(t.y)});var IV=(e,t)=>{const n=$a({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Km=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),JC=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],$V={top:0,right:0,bottom:0,left:0},BV=(e,t)=>t?Km(e,t.scroll.diff.displacement):e,zV=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,UV=(e,t)=>t&&t.shouldClipSubject?IV(t.pageMarginBox,e):$a(e);var Id=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=BV(e.marginBox,r),a=zV(i,n,t),o=UV(a,r);return{page:e,withPlaceholder:t,active:o}},d2=(e,t)=>{e.frame||Pe();const n=e.frame,r=Mi(t,n.scroll.initial),i=rf(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Id({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function ar(e,t=zB){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const FB=ar(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),HB=ar(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),ov=ar(e=>Object.values(e)),FV=ar(e=>Object.values(e));var af=ar((e,t)=>FV(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function f2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function sv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var lv=ar((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),HV=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!f2(i))return null;function o(v){const w={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return{...i,at:w}}const c=i.displaced.all,u=c.length?c[0]:null;if(e)return u?o(u):null;const f=lv(t,r);if(!u){if(!f.length)return null;const v=f[f.length-1];return o(v.descriptor.id)}const m=f.findIndex(v=>v.descriptor.id===u);m===-1&&Pe();const p=m-1;if(p<0)return null;const g=f[p];return o(g.descriptor.id)},of=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const GB={point:or,value:0},ym={invisible:{},visible:{},all:[]},GV={displaced:ym,displacedBy:GB,at:null};var ua=(e,t)=>n=>e<=n&&n<=t,qB=e=>{const t=ua(e.top,e.bottom),n=ua(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right;return u&&f?!0:u&&o||f&&a}},qV=e=>{const t=ua(e.top,e.bottom),n=ua(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const h2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},YB={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var YV=e=>t=>{const n=ua(t.top,t.bottom),r=ua(t.left,t.right);return i=>e===h2?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const KV=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:or;return Km(e,n)},WV=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,VV=(e,t,n)=>n(t)(e),m2=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?KV(e,t):e;return WV(a,t,i)&&VV(a,n,i)},ZV=e=>m2({...e,isVisibleThroughFrameFn:qB}),KB=e=>m2({...e,isVisibleThroughFrameFn:qV}),XV=e=>m2({...e,isVisibleThroughFrameFn:YV(e.destination.axis)}),JV=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function QV(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return $a(c2(n,r))}function bm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(c,u){const f=QV(u,n),m=u.descriptor.id;if(c.all.push(m),!ZV({target:f,destination:t,viewport:r,withDroppableDisplacement:!0}))return c.invisible[u.descriptor.id]=!0,c;const g=JV(m,a,i),v={draggableId:m,shouldAnimate:g};return c.visible[m]=v,c},{all:[],visible:{},invisible:{}})}function eZ(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function QC({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=eZ(e,{inHomeList:t});return{displaced:ym,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function $y({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:c}){const u=of(e,n);if(o==null)return QC({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const f=t.find(w=>w.descriptor.index===o);if(!f)return QC({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const m=lv(e,t),p=t.indexOf(f),g=m.slice(p);return{displaced:bm({afterDragging:g,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:c}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Al(e,t){return!!t.effected[e]}var tZ=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,c=n[a].descriptor.index;return Al(a,i)?e?c:c-1:e?c+1:c},nZ=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=t?c:c+1;return a<o||a>u?null:a},rZ=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:c,afterCritical:u})=>{const f=o.at;if(f||Pe(),f.type==="REORDER"){const p=nZ({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:a});return p==null?null:$y({draggable:n,insideDestination:a,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:p})}const m=tZ({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:f.combine,afterCritical:u});return m==null?null:$y({draggable:n,insideDestination:a,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:m})},iZ=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Al(n,t)?i?or:rf(r.point):i?r.point:or},aZ=({afterCritical:e,impact:t,draggables:n})=>{const r=sv(t);r||Pe();const i=r.draggableId,a=n[i].page.borderBox.center,o=iZ({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return gr(a,o)};const WB=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,oZ=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,p2=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,eM=({axis:e,moveRelativeTo:t,isMoving:n})=>Vc(e.line,t.marginBox[e.end]+WB(e,n),p2(e,t.marginBox,n)),tM=({axis:e,moveRelativeTo:t,isMoving:n})=>Vc(e.line,t.marginBox[e.start]-oZ(e,n),p2(e,t.marginBox,n)),sZ=({axis:e,moveInto:t,isMoving:n})=>Vc(e.line,t.contentBox[e.start]+WB(e,n),p2(e,t.contentBox,n));var lZ=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=af(r.descriptor.id,n),o=t.page,c=r.axis;if(!a.length)return sZ({axis:c,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:f}=e,m=u.all[0];if(m){const g=n[m];if(Al(m,i))return tM({axis:c,moveRelativeTo:g.page,isMoving:o});const v=Py(g.page,f.point);return tM({axis:c,moveRelativeTo:v,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Al(p.descriptor.id,i)){const g=Py(p.page,rf(i.displacedBy.point));return eM({axis:c,moveRelativeTo:g,isMoving:o})}return eM({axis:c,moveRelativeTo:p.page,isMoving:o})},hE=(e,t)=>{const n=e.frame;return n?gr(t,n.scroll.diff.displacement):t};const cZ=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?lZ({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):aZ({impact:e,draggables:r,afterCritical:i})};var cv=e=>{const t=cZ(e),n=e.droppable;return n?hE(n,t):t},VB=(e,t)=>{const n=Mi(t,e.scroll.initial),r=rf(n);return{frame:$a({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function nM(e,t){return e.map(n=>t[n])}function uZ(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var dZ=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=VB(t,gr(t.scroll.current,i)),o=n.frame?d2(n,gr(n.frame.scroll.current,i)):n,c=e.displaced,u=bm({afterDragging:nM(c.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),f=bm({afterDragging:nM(c.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),m={},p={},g=[c,u,f];return c.all.forEach(w=>{const _=uZ(w,g);if(_){p[w]=_;return}m[w]=!0}),{...e,displaced:{all:c.all,invisible:m,visible:p}}},fZ=(e,t)=>gr(e.scroll.diff.displacement,t),g2=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=fZ(n,e),i=Mi(r,t.page.borderBox.center);return gr(t.client.borderBox.center,i)},ZB=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Mi(n,e.page.borderBox.center),u={target:Km(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?XV(u):KB(u)},hZ=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:c,afterCritical:u})=>{if(!n.isEnabled)return null;const f=af(n.descriptor.id,r),m=of(t,n),p=HV({isMovingForward:e,draggable:t,destination:n,insideDestination:f,previousImpact:i})||rZ({isMovingForward:e,isInHomeList:m,draggable:t,draggables:r,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const g=cv({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(ZB({draggable:t,destination:n,newPageBorderBoxCenter:g,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:g2({pageBorderBoxCenter:g,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const w=Mi(g,o),_=dZ({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:w});return{clientSelection:c,impact:_,scrollJumpRequest:w}};const Mr=e=>{const t=e.subject.active;return t||Pe(),t};var mZ=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,c=ua(a[o.start],a[o.end]),u=ov(r).filter(m=>m!==n).filter(m=>m.isEnabled).filter(m=>!!m.subject.active).filter(m=>qB(i.frame)(Mr(m))).filter(m=>{const p=Mr(m);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(m=>{const p=Mr(m),g=ua(p[o.start],p[o.end]);return c(p[o.start])||c(p[o.end])||g(a[o.start])||g(a[o.end])}).sort((m,p)=>{const g=Mr(m)[o.crossAxisStart],v=Mr(p)[o.crossAxisStart];return e?g-v:v-g}).filter((m,p,g)=>Mr(m)[o.crossAxisStart]===Mr(g[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const f=u.filter(m=>ua(Mr(m)[o.start],Mr(m)[o.end])(t[o.line]));return f.length===1?f[0]:f.length>1?f.sort((m,p)=>Mr(m)[o.start]-Mr(p)[o.start])[0]:u.sort((m,p)=>{const g=XC(t,JC(Mr(m))),v=XC(t,JC(Mr(p)));return g!==v?g-v:Mr(m)[o.start]-Mr(p)[o.start]})[0]};const rM=(e,t)=>{const n=e.page.borderBox.center;return Al(e.descriptor.id,t)?Mi(n,t.displacedBy.point):n},pZ=(e,t)=>{const n=e.page.borderBox;return Al(e.descriptor.id,t)?Km(n,rf(t.displacedBy.point)):n};var gZ=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>KB({target:pZ(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,c)=>{const u=gm(e,hE(n,rM(o,i))),f=gm(e,hE(n,rM(c,i)));return u<f?-1:f<u?1:o.descriptor.index-c.descriptor.index})[0]||null,Wm=ar(function(t,n){const r=n[t.line];return{value:r,point:Vc(t.line,r)}});const yZ=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Vc(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=af(e.descriptor.id,n).reduce((f,m)=>f+m.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:Vc(r.line,u)},XB=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),JB=(e,t,n)=>{const r=e.frame;of(t,e)&&Pe(),e.subject.withPlaceholder&&Pe();const i=Wm(e.axis,t.displaceBy).point,a=yZ(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const m=Id({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:m}}const c=a?gr(r.scroll.max,a):r.scroll.max,u=XB(r,c),f=Id({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:f,frame:u}},bZ=e=>{const t=e.subject.withPlaceholder;t||Pe();const n=e.frame;if(!n){const o=Id({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Pe();const i=XB(n,r),a=Id({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var vZ=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:c})=>{if(!t){if(n.length)return null;const p={displaced:ym,displacedBy:GB,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},g=cv({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:c}),v=of(r,a)?a:JB(a,r,i);return ZB({draggable:r,destination:v,newPageBorderBoxCenter:g,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],f=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),m=Wm(a.axis,r.displaceBy);return $y({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:m,last:ym,index:f})},xZ=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:c})=>{const u=mZ({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const f=af(u.descriptor.id,i),m=gZ({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:f,afterCritical:c}),p=vZ({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:m,insideDestination:f,viewport:o,afterCritical:c});if(!p)return null;const g=cv({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:c});return{clientSelection:g2({pageBorderBoxCenter:g,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Di=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const _Z=(e,t)=>{const n=Di(e);return n?t[n]:null};var wZ=({state:e,type:t})=>{const n=_Z(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,c=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],m=e.current.page.borderBoxCenter,{draggables:p,droppables:g}=e.dimensions;return c?hZ({isMovingForward:u,previousPageBorderBoxCenter:m,draggable:f,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):xZ({isMovingForward:u,previousPageBorderBoxCenter:m,draggable:f,isOver:a,draggables:p,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function Pc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function QB(e){const t=ua(e.top,e.bottom),n=ua(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function SZ(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function EZ({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,c=Vc(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:gm(r,c)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function kZ({pageBorderBox:e,draggable:t,droppables:n}){const r=ov(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!SZ(e,a))return!1;if(QB(a)(e.center))return!0;const o=i.axis,c=a.center[o.crossAxisLine],u=e[o.crossAxisStart],f=e[o.crossAxisEnd],m=ua(a[o.crossAxisStart],a[o.crossAxisEnd]),p=m(u),g=m(f);return!p&&!g?!0:p?u<c:f>c});return r.length?r.length===1?r[0].descriptor.id:EZ({pageBorderBox:e,draggable:t,candidates:r}):null}const e5=(e,t)=>$a(Km(e,t));var AZ=(e,t)=>{const n=e.frame;return n?e5(t,n.scroll.diff.value):t};function t5({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function TZ({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var OZ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const c=n.axis,u=Wm(n.axis,t.displaceBy),f=u.value,m=e[c.start],p=e[c.end],v=lv(t,r).find(_=>{const S=_.descriptor.id,T=_.page.borderBox.center[c.line],N=Al(S,o),O=t5({displaced:i,id:S});return N?O?p<=T:m<T-f:O?p<=T+f:m<T})||null,w=TZ({draggable:t,closest:v,inHomeList:of(t,n)});return $y({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:w})};const jZ=4;var NZ=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,c=Wm(r.axis,e.displaceBy),u=c.value,f=t[o.start],m=t[o.end],g=lv(e,i).find(w=>{const _=w.descriptor.id,S=w.page.borderBox,N=S[o.size]/jZ,O=Al(_,a),P=t5({displaced:n.displaced,id:_});return O?P?m>S[o.start]+N&&m<S[o.end]-N:f>S[o.start]-u+N&&f<S[o.end]-u-N:P?m>S[o.start]+u+N&&m<S[o.end]+u-N:f>S[o.start]+N&&f<S[o.end]-N});return g?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:r.descriptor.id}}}:null},n5=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const c=e5(t.page.borderBox,e),u=kZ({pageBorderBox:c,draggable:t,droppables:r});if(!u)return GV;const f=r[u],m=af(f.descriptor.id,n),p=AZ(f,c);return NZ({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:f,insideDestination:m,afterCritical:o})||OZ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:m,last:i.displaced,viewport:a,afterCritical:o})},y2=(e,t)=>({...e,[t.descriptor.id]:t});const CZ=({previousImpact:e,impact:t,droppables:n})=>{const r=Di(e),i=Di(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=bZ(a);return y2(n,o)};var MZ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=CZ({previousImpact:r,impact:i,droppables:n}),o=Di(i);if(!o)return a;const c=n[o];if(of(e,c)||c.subject.withPlaceholder)return a;const u=JB(c,e,t);return y2(a,u)},nm=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,c=n||e.dimensions,u=t||e.current.client.selection,f=Mi(u,e.initial.client.selection),m={offset:f,selection:u,borderBoxCenter:gr(e.initial.client.borderBoxCenter,f)},p={selection:gr(m.selection,o.scroll.current),borderBoxCenter:gr(m.borderBoxCenter,o.scroll.current),offset:gr(m.offset,o.scroll.diff.value)},g={client:m,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:o,current:g};const v=c.draggables[e.critical.draggable.id],w=i||n5({pageOffset:p.offset,draggable:v,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),_=MZ({draggable:v,impact:w,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:g,dimensions:{draggables:c.draggables,droppables:_},impact:w,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function PZ(e,t){return e.map(n=>t[n])}var r5=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=PZ(a.all,n),c=bm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:c}},i5=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=cv({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return g2({pageBorderBoxCenter:o,draggable:t,viewport:i})},a5=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Pe();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:c}=a,u=o[e.critical.draggable.id],f=Di(r);f||Pe();const m=c[f],p=r5({impact:r,viewport:i,destination:m,draggables:o}),g=i5({impact:p,draggable:u,droppable:m,draggables:o,viewport:i,afterCritical:e.afterCritical});return nm({impact:p,clientSelection:g,state:e,dimensions:a,viewport:i})},DZ=e=>({index:e.index,droppableId:e.droppableId}),o5=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=Wm(t.axis,e.displaceBy),a=af(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Pe();const c=a.slice(o+1),u=c.reduce((g,v)=>(g[v.descriptor.id]=!0,g),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:bm({afterDragging:c,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:DZ(e.descriptor)}},afterCritical:f}},RZ=(e,t)=>({draggables:e.draggables,droppables:y2(e.droppables,t)}),LZ=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Py(e.client,t),i=Dy(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},IZ=e=>{const t=e.frame;return t||Pe(),t},$Z=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=IZ(o).scroll.diff.value,f=gr(r,u);return LZ({draggable:i,offset:f,initialWindowScroll:n.scroll.initial})})},BZ=({state:e,published:t})=>{const n=t.modified.map(T=>{const N=e.dimensions.droppables[T.droppableId];return d2(N,T.scroll)}),r={...e.dimensions.droppables,...FB(n)},i=HB($Z({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(T=>{delete a[T]});const o={droppables:r,draggables:a},c=Di(e.impact),u=c?o.droppables[c]:null,f=o.draggables[e.critical.draggable.id],m=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:g}=o5({draggable:f,home:m,draggables:a,viewport:e.viewport}),v=u&&u.isCombineEnabled?e.impact:p,w=n5({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:v,viewport:e.viewport,afterCritical:g}),_={...e,phase:"DRAGGING",impact:w,onLiftImpact:p,dimensions:o,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?_:{..._,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const mE=e=>e.movementMode==="SNAP",jw=(e,t,n)=>{const r=RZ(e.dimensions,t);return!mE(e)||n?nm({state:e,dimensions:r}):a5({state:e,dimensions:r})};function Nw(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const iM={phase:"IDLE",completed:null,shouldFlush:!1};var zZ=(e=iM,t)=>{if(t.type==="FLUSH")return{...iM,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Pe();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,c=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],f={selection:r,borderBoxCenter:c.client.borderBox.center,offset:or},m={client:f,page:{selection:gr(f.selection,i.scroll.initial),borderBoxCenter:gr(f.selection,i.scroll.initial),offset:gr(f.selection,i.scroll.diff.value)}},p=ov(a.droppables).every(_=>!_.isFixedOnPage),{impact:g,afterCritical:v}=o5({draggable:c,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:m,current:m,isWindowScrollAllowed:p,impact:g,afterCritical:v,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Pe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Pe(),BZ({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Pc(e)||Pe();const{client:n}=t.payload;return El(n,e.current.client.selection)?e:nm({state:e,clientSelection:n,impact:mE(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Nw(e);Pc(e)||Pe();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=d2(i,r);return jw(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Pc(e)||Pe();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isEnabled===r&&Pe();const a={...i,isEnabled:r};return jw(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Pc(e)||Pe();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isCombineEnabled===r&&Pe();const a={...i,isCombineEnabled:r};return jw(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Pc(e)||Pe(),e.isWindowScrollAllowed||Pe();const n=t.payload.newScroll;if(El(e.viewport.scroll.current,n))return Nw(e);const r=VB(e.viewport,n);return mE(e)?a5({state:e,viewport:r}):nm({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Pc(e))return e;const n=t.payload.maxScroll;if(El(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Pe();const n=wZ({state:e,type:t.type});return n?nm({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Pe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Pe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Mt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const UZ=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),FZ=e=>({type:"LIFT",payload:e}),HZ=e=>({type:"INITIAL_PUBLISH",payload:e}),GZ=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),qZ=()=>({type:"COLLECTION_STARTING",payload:null}),YZ=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),KZ=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),WZ=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),s5=e=>({type:"MOVE",payload:e}),VZ=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),ZZ=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),XZ=()=>({type:"MOVE_UP",payload:null}),JZ=()=>({type:"MOVE_DOWN",payload:null}),QZ=()=>({type:"MOVE_RIGHT",payload:null}),eX=()=>({type:"MOVE_LEFT",payload:null}),b2=()=>({type:"FLUSH",payload:null}),tX=e=>({type:"DROP_ANIMATE",payload:e}),v2=e=>({type:"DROP_COMPLETE",payload:e}),l5=e=>({type:"DROP",payload:e}),nX=e=>({type:"DROP_PENDING",payload:e}),c5=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var rX=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Mt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:c}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(v2({completed:u.completed})),t().phase!=="IDLE"&&Pe(),n(b2()),n(UZ({draggableId:a,movementMode:c}));const m={draggableId:a,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:p,dimensions:g,viewport:v}=e.startPublishing(m);n(HZ({critical:p,dimensions:g,clientSelection:o,movementMode:c,viewport:v}))},iX=e=>()=>t=>n=>{Mt(n,"INITIAL_PUBLISH")&&e.dragging(),Mt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Mt(n,"FLUSH")||Mt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const x2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},vm={opacity:{drop:0,combining:.7},scale:{drop:.75}},u5={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},kc=`${u5.outOfTheWay}s ${x2.outOfTheWay}`,rm={fluid:`opacity ${kc}`,snap:`transform ${kc}, opacity ${kc}`,drop:e=>{const t=`${e}s ${x2.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${kc}`,placeholder:`height ${kc}, width ${kc}, margin ${kc}`},aM=e=>El(e,or)?void 0:`translate(${e.x}px, ${e.y}px)`,pE={moveTo:aM,drop:(e,t)=>{const n=aM(e);if(n)return t?`${n} scale(${vm.scale.drop})`:n}},{minDropTime:gE,maxDropTime:d5}=u5,aX=d5-gE,oM=1500,oX=.6;var sX=({current:e,destination:t,reason:n})=>{const r=gm(e,t);if(r<=0)return gE;if(r>=oM)return d5;const i=r/oM,a=gE+aX*i,o=n==="CANCEL"?a*oX:a;return Number(o.toFixed(2))},lX=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,c=Di(e),u=c?o[c]:null,f=o[t.descriptor.droppableId],m=i5({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||f,viewport:r});return Mi(m,t.client.borderBox.center)},cX=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:r5({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:ym},didDropInsideDroppable:!0};const uX=({getState:e,dispatch:t})=>n=>r=>{if(!Mt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(nX({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Pe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Pe();const c=i.critical,u=i.dimensions,f=u.draggables[i.critical.draggable.id],{impact:m,didDropInsideDroppable:p}=cX({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),g=p?f2(m):null,v=p?sv(m):null,w={index:c.draggable.index,droppableId:c.droppable.id},_={draggableId:f.descriptor.id,type:f.descriptor.type,source:w,reason:a,mode:i.movementMode,destination:g,combine:v},S=lX({impact:m,draggable:f,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),T={critical:i.critical,afterCritical:i.afterCritical,result:_,impact:m};if(!(!El(i.current.client.offset,S)||!!_.combine)){t(v2({completed:T}));return}const O=sX({current:i.current.client.offset,destination:S,reason:a});t(tX({newHomeClientOffset:S,dropDuration:O,completed:T}))};var f5=()=>({x:window.pageXOffset,y:window.pageYOffset});function dX(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function fX({onWindowScroll:e}){function t(){e(f5())}const n=pm(t),r=dX(n);let i=Sl;function a(){return i!==Sl}function o(){a()&&Pe(),i=aa(window,[r])}function c(){a()||Pe(),n.cancel(),i(),i=Sl}return{start:o,stop:c,isActive:a}}const hX=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH"),mX=e=>{const t=fX({onWindowScroll:n=>{e.dispatch(VZ({newScroll:n}))}});return n=>r=>{!t.isActive()&&Mt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&hX(r)&&t.stop(),n(r)}};var pX=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},gX=()=>{const e=[],t=i=>{const a=e.findIndex(c=>c.timerId===i);a===-1&&Pe();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const yX=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,bX=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,vX=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Th=(e,t)=>{t()},l0=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Cw(e,t,n,r){if(!e){n(r(t));return}const i=pX(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var xX=(e,t)=>{const n=gX();let r=null;const i=(p,g)=>{r&&Pe(),Th("onBeforeCapture",()=>{const v=e().onBeforeCapture;v&&v({draggableId:p,mode:g})})},a=(p,g)=>{r&&Pe(),Th("onBeforeDragStart",()=>{const v=e().onBeforeDragStart;v&&v(l0(p,g))})},o=(p,g)=>{r&&Pe();const v=l0(p,g);r={mode:g,lastCritical:p,lastLocation:v.source,lastCombine:null},n.add(()=>{Th("onDragStart",()=>Cw(e().onDragStart,v,t,uy.onDragStart))})},c=(p,g)=>{const v=f2(g),w=sv(g);r||Pe();const _=!vX(p,r.lastCritical);_&&(r.lastCritical=p);const S=!yX(r.lastLocation,v);S&&(r.lastLocation=v);const T=!bX(r.lastCombine,w);if(T&&(r.lastCombine=w),!_&&!S&&!T)return;const N={...l0(p,r.mode),combine:w,destination:v};n.add(()=>{Th("onDragUpdate",()=>Cw(e().onDragUpdate,N,t,uy.onDragUpdate))})},u=()=>{r||Pe(),n.flush()},f=p=>{r||Pe(),r=null,Th("onDragEnd",()=>Cw(e().onDragEnd,p,t,uy.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:c,flush:u,drop:f,abort:()=>{if(!r)return;const p={...l0(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};f(p)}}},_X=(e,t)=>{const n=xX(e,t);return r=>i=>a=>{if(Mt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Mt(a,"INITIAL_PUBLISH")){const c=a.payload.critical;n.beforeStart(c,a.payload.movementMode),i(a),n.start(c,a.payload.movementMode);return}if(Mt(a,"DROP_COMPLETE")){const c=a.payload.completed.result;n.flush(),i(a),n.drop(c);return}if(i(a),Mt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const wX=e=>t=>n=>{if(!Mt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Pe(),e.dispatch(v2({completed:r.completed}))},SX=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Mt(a,"FLUSH")||Mt(a,"DROP_COMPLETE")||Mt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Mt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(c5())}};n=requestAnimationFrame(()=>{n=null,t=aa(window,[o])})}};var EX=e=>()=>t=>n=>{(Mt(n,"DROP_COMPLETE")||Mt(n,"FLUSH")||Mt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},kX=e=>{let t=!1;return()=>n=>r=>{if(Mt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Mt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Mt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const AX=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH");var TX=e=>t=>n=>r=>{if(AX(r)){e.stop(),n(r);return}if(Mt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Pe(),e.start(i);return}n(r),e.scroll(t.getState())};const OX=e=>t=>n=>{if(t(n),!Mt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(l5({reason:r.reason})))},jX=mm;var NX=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>o2(zZ,jX(AB(iX(n),EX(e),rX(e),uX,wX,SX,OX,TX(a),mX,kX(t),_X(r,i))));const Mw=()=>({additions:{},removals:{},modified:{}});function CX({registry:e,callbacks:t}){let n=Mw(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:f,modified:m}=n,p=Object.keys(u).map(w=>e.draggable.getById(w).getDimension(or)).sort((w,_)=>w.descriptor.index-_.descriptor.index),g=Object.keys(m).map(w=>{const S=e.droppable.getById(w).callbacks.getScrollWhileDragging();return{droppableId:w,scroll:S}}),v={additions:p,removals:Object.keys(f),modified:g};n=Mw(),t.publish(v)}))};return{add:u=>{const f=u.descriptor.id;n.additions[f]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},remove:u=>{const f=u.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Mw())}}}var h5=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Mi({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},m5=()=>{const e=document.documentElement;return e||Pe(),e},p5=()=>{const e=m5();return h5({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},MX=()=>{const e=f5(),t=p5(),n=e.y,r=e.x,i=m5(),a=i.clientWidth,o=i.clientHeight,c=r+a,u=n+o;return{frame:$a({top:n,left:r,right:c,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:or,displacement:or}}}},PX=({critical:e,scrollOptions:t,registry:n})=>{const r=MX(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(m=>m.callbacks.getDimensionAndWatchScroll(i,t)),c=n.draggable.getAllByType(e.draggable.type).map(m=>m.getDimension(i));return{dimensions:{draggables:HB(c),droppables:FB(o)},critical:e,viewport:r}};function sM(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var DX=(e,t)=>{let n=null;const r=CX({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(g,v)=>{e.droppable.exists(g)||Pe(),n&&t.updateDroppableIsEnabled({id:g,isEnabled:v})},a=(g,v)=>{n&&(e.droppable.exists(g)||Pe(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:v}))},o=(g,v)=>{n&&(e.droppable.exists(g)||Pe(),t.updateDroppableScroll({id:g,newScroll:v}))},c=(g,v)=>{n&&e.droppable.getById(g).callbacks.scroll(v)},u=()=>{if(!n)return;r.stop();const g=n.critical.droppable;e.droppable.getAllByType(g.type).forEach(v=>v.callbacks.dragStopped()),n.unsubscribe(),n=null},f=g=>{n||Pe();const v=n.critical.draggable;g.type==="ADDITION"&&sM(e,v,g.value)&&r.add(g.value),g.type==="REMOVAL"&&sM(e,v,g.value)&&r.remove(g.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:c,updateDroppableScroll:o,startPublishing:g=>{n&&Pe();const v=e.draggable.getById(g.draggableId),w=e.droppable.getById(v.descriptor.droppableId),_={draggable:v.descriptor,droppable:w.descriptor},S=e.subscribe(f);return n={critical:_,unsubscribe:S},PX({critical:_,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:u}},g5=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",RX=e=>{window.scrollBy(e.x,e.y)};const LX=ar(e=>ov(e).filter(t=>!(!t.isEnabled||!t.frame))),IX=(e,t)=>LX(t).find(r=>(r.frame||Pe(),QB(r.frame.pageMarginBox)(e)))||null;var $X=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return IX(e,n)};const xm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var BX=(e,t,n=()=>xm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},y5=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},_2=1,zX=(e,t,n=()=>xm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return _2;const a=1-y5({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},UX=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,c=a,f=Date.now()-o;if(f>=a)return e;if(f<i)return _2;const m=y5({startOfRange:i,endOfRange:c,current:f}),p=e*r.ease(m);return Math.ceil(p)},lM=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=zX(e,t,i);return a===0?0:r?Math.max(UX(a,n,i),_2):a},cM=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=BX(e,r,a);return t[r.end]<t[r.start]?lM({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*lM({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},FX=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const HX=UB(e=>e===0?0:e);var b5=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},c=cM({container:t,distanceToEdges:o,dragStartTime:e,axis:h2,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=cM({container:t,distanceToEdges:o,dragStartTime:e,axis:YB,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=HX({x:u,y:c});if(El(f,or))return null;const m=FX({container:t,subject:n,proposedScroll:f});return m?El(m,or)?null:m:null};const GX=UB(e=>e===0?0:e>0?1:-1),w2=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=gr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return El(a,or)?null:a}})(),v5=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=GX(n),a=w2({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},S2=(e,t)=>v5({current:e.scroll.current,max:e.scroll.max,change:t}),qX=(e,t)=>{if(!S2(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return w2({current:r,max:n,change:t})},E2=(e,t)=>{const n=e.frame;return n?v5({current:n.scroll.current,max:n.scroll.max,change:t}):!1},YX=(e,t)=>{const n=e.frame;return!n||!E2(e,t)?null:w2({current:n.scroll.current,max:n.scroll.max,change:t})};var KX=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=b5({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&S2(e,o)?o:null},WX=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const c=b5({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return c&&E2(e,c)?c:null},uM=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,g=KX({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(g){r(g);return}}const f=$X({center:o,destination:Di(e.impact),droppables:e.dimensions.droppables});if(!f)return;const m=WX({dragStartTime:t,droppable:f,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});m&&i(f.descriptor.id,m)},VX=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>xm})=>{const r=pm(e),i=pm(t);let a=null;const o=f=>{a||Pe();const{shouldUseTimeDampening:m,dragStartTime:p}=a;uM({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:m,getAutoScrollerOptions:n})};return{start:f=>{a&&Pe();const m=Date.now();let p=!1;const g=()=>{p=!0};uM({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:n}),a={dragStartTime:m,shouldUseTimeDampening:p},p&&o(f)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},ZX=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(c,u)=>{const f=gr(c.current.client.selection,u);e({client:f})},i=(c,u)=>{if(!E2(c,u))return u;const f=YX(c,u);if(!f)return t(c.descriptor.id,u),null;const m=Mi(u,f);return t(c.descriptor.id,m),Mi(u,m)},a=(c,u,f)=>{if(!c||!S2(u,f))return f;const m=qX(u,f);if(!m)return n(f),null;const p=Mi(f,m);return n(p),Mi(f,p)};return c=>{const u=c.scrollJumpRequest;if(!u)return;const f=Di(c.impact);f||Pe();const m=i(c.dimensions.droppables[f],u);if(!m)return;const p=c.viewport,g=a(c.isWindowScrollAllowed,p,m);g&&r(c,g)}},XX=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=VX({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=ZX({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const $d="data-rfd",Bd=(()=>{const e=`${$d}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),yE=(()=>{const e=`${$d}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),JX=(()=>{const e=`${$d}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),dM={contextId:`${$d}-scroll-container-context-id`},QX=e=>t=>`[${t}="${e}"]`,Oh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),eJ="pointer-events: none;";var tJ=e=>{const t=QX(e),n=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Bd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:eJ,dropAnimating:c}}})(),r=(()=>{const c=`
      transition: ${rm.outOfTheWay};
    `;return{selector:t(yE.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),i={selector:t(JX.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Oh(o,"always"),resting:Oh(o,"resting"),dragging:Oh(o,"dragging"),dropAnimating:Oh(o,"dropAnimating"),userCancel:Oh(o,"userCancel")}};const Ri=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect,Pw=()=>{const e=document.querySelector("head");return e||Pe(),e},fM=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function nJ(e,t){const n=vt(()=>tJ(e),[e]),r=E.useRef(null),i=E.useRef(null),a=Ke(ar(p=>{const g=i.current;g||Pe(),g.textContent=p}),[]),o=Ke(p=>{const g=r.current;g||Pe(),g.textContent=p},[]);Ri(()=>{!r.current&&!i.current||Pe();const p=fM(t),g=fM(t);return r.current=p,i.current=g,p.setAttribute(`${$d}-always`,e),g.setAttribute(`${$d}-dynamic`,e),Pw().appendChild(p),Pw().appendChild(g),o(n.always),a(n.resting),()=>{const v=w=>{const _=w.current;_||Pe(),Pw().removeChild(_),w.current=null};v(r),v(i)}},[t,o,a,n.always,n.resting,e]);const c=Ke(()=>a(n.dragging),[a,n.dragging]),u=Ke(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),f=Ke(()=>{i.current&&a(n.resting)},[a,n.resting]);return vt(()=>({dragging:c,dropping:u,resting:f}),[c,u,f])}function x5(e,t){return Array.from(e.querySelectorAll(t))}var _5=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function uv(e){return e instanceof _5(e).HTMLElement}function rJ(e,t){const n=`[${Bd.contextId}="${e}"]`,r=x5(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Bd.draggableId)===t);return!i||!uv(i)?null:i}function iJ(e){const t=E.useRef({}),n=E.useRef(null),r=E.useRef(null),i=E.useRef(!1),a=Ke(function(g,v){const w={id:g,focus:v};return t.current[g]=w,function(){const S=t.current;S[g]!==w&&delete S[g]}},[]),o=Ke(function(g){const v=rJ(e,g);v&&v!==document.activeElement&&v.focus()},[e]),c=Ke(function(g,v){n.current===g&&(n.current=v)},[]),u=Ke(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const g=n.current;g&&o(g)}))},[o]),f=Ke(function(g){n.current=null;const v=document.activeElement;v&&v.getAttribute(Bd.draggableId)===g&&(n.current=g)},[]);return Ri(()=>(i.current=!0,function(){i.current=!1;const g=r.current;g&&cancelAnimationFrame(g)}),[]),vt(()=>({register:a,tryRecordFocus:f,tryRestoreFocusRecorded:u,tryShiftRecord:c}),[a,f,u,c])}function aJ(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const v=t.indexOf(p);v!==-1&&t.splice(v,1)}}function r(p){t.length&&t.forEach(g=>g(p))}function i(p){return e.draggables[p]||null}function a(p){const g=i(p);return g||Pe(),g}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,g)=>{const v=e.draggables[g.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const g=p.descriptor.id,v=i(g);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[g],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(g=>g.descriptor.type===p)};function c(p){return e.droppables[p]||null}function u(p){const g=c(p);return g||Pe(),g}const f={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const g=c(p.descriptor.id);g&&p.uniqueId===g.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:c,exists:p=>!!c(p),getAllByType:p=>Object.values(e.droppables).filter(g=>g.descriptor.type===p)};function m(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:f,subscribe:n,clean:m}}function oJ(){const e=vt(aJ,[]);return E.useEffect(()=>function(){e.clean()},[e]),e}var k2=Wt.createContext(null),By=()=>{const e=document.body;return e||Pe(),e};const sJ={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},lJ=e=>`rfd-announcement-${e}`;function cJ(e){const t=vt(()=>lJ(e),[e]),n=E.useRef(null);return E.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Ry(a.style,sJ),By().appendChild(a),function(){setTimeout(function(){const u=By();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Ke(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const uJ={separator:"::"};function A2(e,t=uJ){const n=Wt.useId();return vt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function dJ({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function fJ({contextId:e,text:t}){const n=A2("hidden-text",{separator:"-"}),r=vt(()=>dJ({contextId:e,uniqueId:n}),[n,e]);return E.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",By().appendChild(a),function(){const c=By();c.contains(a)&&c.removeChild(a)}},[r,t]),r}var dv=Wt.createContext(null);function w5(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),t}function hJ(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Pe();const c={abandon:o};return e=c,c}function i(){e||Pe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function _m(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const mJ=9,pJ=13,T2=27,S5=32,gJ=33,yJ=34,bJ=35,vJ=36,xJ=37,_J=38,wJ=39,SJ=40,EJ={[pJ]:!0,[mJ]:!0};var E5=e=>{EJ[e.keyCode]&&e.preventDefault()};const fv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),k5=0,hM=5;function kJ(e,t){return Math.abs(t.x-e.x)>=hM||Math.abs(t.y-e.y)>=hM}const mM={type:"IDLE"};function AJ({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:c}=i;if(a!==k5)return;const u={x:o,y:c},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(u);return}f.type!=="PENDING"&&Pe();const m=f.point;if(!kJ(m,u))return;i.preventDefault();const p=f.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===T2){i.preventDefault(),e();return}E5(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Pe(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:fv,fn:e}]}function TJ(e){const t=E.useRef(mM),n=E.useRef(Sl),r=vt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==k5||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const g=e.findClosestDraggableId(p);if(!g)return;const v=e.tryGetLock(g,o,{sourceEvent:p});if(!v)return;p.preventDefault();const w={x:p.clientX,y:p.clientY};n.current(),f(v,w)}}),[e]),i=vt(()=>({eventName:"webkitmouseforcewillbegin",fn:m=>{if(m.defaultPrevented)return;const p=e.findClosestDraggableId(m);if(!p)return;const g=e.findOptionsForDraggable(p);g&&(g.shouldRespectForcePress||e.canGetLock(p)&&m.preventDefault())}}),[e]),a=Ke(function(){const p={passive:!1,capture:!0};n.current=aa(window,[i,r],p)},[i,r]),o=Ke(()=>{t.current.type!=="IDLE"&&(t.current=mM,n.current(),a())},[a]),c=Ke(()=>{const m=t.current;o(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[o]),u=Ke(function(){const p={capture:!0,passive:!1},g=AJ({cancel:c,completed:o,getPhase:()=>t.current,setPhase:v=>{t.current=v}});n.current=aa(window,g,p)},[c,o]),f=Ke(function(p,g){t.current.type!=="IDLE"&&Pe(),t.current={type:"PENDING",point:g,actions:p},u()},[u]);Ri(function(){return a(),function(){n.current()}},[a])}function OJ(){}const jJ={[yJ]:!0,[gJ]:!0,[vJ]:!0,[bJ]:!0};function NJ(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===T2){i.preventDefault(),n();return}if(i.keyCode===S5){i.preventDefault(),r();return}if(i.keyCode===SJ){i.preventDefault(),e.moveDown();return}if(i.keyCode===_J){i.preventDefault(),e.moveUp();return}if(i.keyCode===wJ){i.preventDefault(),e.moveRight();return}if(i.keyCode===xJ){i.preventDefault(),e.moveLeft();return}if(jJ[i.keyCode]){i.preventDefault();return}E5(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:fv,fn:n}]}function CJ(e){const t=E.useRef(OJ),n=vt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==S5)return;const o=e.findClosestDraggableId(a);if(!o)return;const c=e.tryGetLock(o,m,{sourceEvent:a});if(!c)return;a.preventDefault();let u=!0;const f=c.snapLift();t.current();function m(){u||Pe(),u=!1,t.current(),r()}t.current=aa(window,NJ(f,m),{capture:!0,passive:!1})}}),[e]),r=Ke(function(){const a={passive:!1,capture:!0};t.current=aa(window,[n],a)},[n]);Ri(function(){return r(),function(){t.current()}},[r])}const Dw={type:"IDLE"},MJ=120,PJ=.15;function DJ({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===T2&&n.preventDefault(),e()}},{eventName:fv,fn:e}]}function RJ({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],c={x:a,y:o};r.preventDefault(),i.actions.move(c)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Pe();const a=r.touches[0];if(!a||!(a.force>=PJ))return;const c=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){c&&e();return}if(c){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:fv,fn:e}]}function LJ(e){const t=E.useRef(Dw),n=E.useRef(Sl),r=Ke(function(){return t.current},[]),i=Ke(function(v){t.current=v},[]),a=vt(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const w=e.findClosestDraggableId(v);if(!w)return;const _=e.tryGetLock(w,c,{sourceEvent:v});if(!_)return;const S=v.touches[0],{clientX:T,clientY:N}=S,O={x:T,y:N};n.current(),p(_,O)}}),[e]),o=Ke(function(){const v={capture:!0,passive:!1};n.current=aa(window,[a],v)},[a]),c=Ke(()=>{const g=t.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),i(Dw),n.current(),o())},[o,i]),u=Ke(()=>{const g=t.current;c(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[c]),f=Ke(function(){const v={capture:!0,passive:!1},w={cancel:u,completed:c,getPhase:r},_=aa(window,RJ(w),v),S=aa(window,DJ(w),v);n.current=function(){_(),S()}},[u,r,c]),m=Ke(function(){const v=r();v.type!=="PENDING"&&Pe();const w=v.actions.fluidLift(v.point);i({type:"DRAGGING",actions:w,hasMoved:!1})},[r,i]),p=Ke(function(v,w){r().type!=="IDLE"&&Pe();const _=setTimeout(m,MJ);i({type:"PENDING",point:w,actions:v,longPressTimerId:_}),f()},[f,r,i,m]);Ri(function(){return o(),function(){n.current();const w=r();w.type==="PENDING"&&(clearTimeout(w.longPressTimerId),i(Dw))}},[r,o,i]),Ri(function(){return aa(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const IJ=["input","button","textarea","select","option","optgroup","video","audio"];function A5(e,t){if(t==null)return!1;if(IJ.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:A5(e,t.parentElement)}function $J(e,t){const n=t.target;return uv(n)?A5(e,n):!1}var BJ=e=>$a(e.getBoundingClientRect()).center;function zJ(e){return e instanceof _5(e).Element}const UJ=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function T5(e,t){return e==null?null:e[UJ](t)?e:T5(e.parentElement,t)}function FJ(e,t){return e.closest?e.closest(t):T5(e,t)}function HJ(e){return`[${Bd.contextId}="${e}"]`}function GJ(e,t){const n=t.target;if(!zJ(n))return null;const r=HJ(e),i=FJ(n,r);return!i||!uv(i)?null:i}function qJ(e,t){const n=GJ(e,t);return n?n.getAttribute(Bd.draggableId):null}function YJ(e,t){const n=`[${yE.contextId}="${e}"]`,i=x5(document,n).find(a=>a.getAttribute(yE.id)===t);return!i||!uv(i)?null:i}function KJ(e){e.preventDefault()}function c0({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function O5({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!g5(t.getState(),r))}function WJ({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!O5({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),f=YJ(t,u.descriptor.id);if(!f||o&&!u.options.canDragInteractiveElements&&$J(f,o))return null;const m=e.claim(a||Sl);let p="PRE_DRAG";function g(){return u.options.shouldRespectForcePress}function v(){return e.isActive(m)}function w(M,D){c0({expected:M,phase:p,isLockActive:v,shouldWarn:!0})&&n.dispatch(D())}const _=w.bind(null,"DRAGGING");function S(M){function D(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(D(),Pe()),n.dispatch(FZ(M.liftActionArgs)),p="DRAGGING";function $(H,q={shouldBlockNextClick:!1}){if(M.cleanup(),q.shouldBlockNextClick){const K=aa(window,[{eventName:"click",fn:KJ,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(K)}D(),n.dispatch(l5({reason:H}))}return{isActive:()=>c0({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:g,drop:H=>$("DROP",H),cancel:H=>$("CANCEL",H),...M.actions}}function T(M){const D=pm(H=>{_(()=>s5({client:H}))});return{...S({liftActionArgs:{id:i,clientSelection:M,movementMode:"FLUID"},cleanup:()=>D.cancel(),actions:{move:D}}),move:D}}function N(){const M={moveUp:()=>_(XZ),moveRight:()=>_(QZ),moveDown:()=>_(JZ),moveLeft:()=>_(eX)};return S({liftActionArgs:{id:i,clientSelection:BJ(f),movementMode:"SNAP"},cleanup:Sl,actions:M})}function O(){c0({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0})&&e.release()}return{isActive:()=>c0({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:T,snapLift:N,abort:O}}const VJ=[TJ,CJ,LJ];function ZJ({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?VJ:[],...r||[]],o=E.useState(()=>hJ())[0],c=Ke(function(S,T){_m(S)&&!_m(T)&&o.tryAbandon()},[o]);Ri(function(){let S=t.getState();return t.subscribe(()=>{const N=t.getState();c(S,N),S=N})},[o,t,c]),Ri(()=>o.tryAbandon,[o.tryAbandon]);const u=Ke(_=>O5({lockAPI:o,registry:n,store:t,draggableId:_}),[o,n,t]),f=Ke((_,S,T)=>WJ({lockAPI:o,registry:n,contextId:e,store:t,draggableId:_,forceSensorStop:S||null,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null}),[e,o,n,t]),m=Ke(_=>qJ(e,_),[e]),p=Ke(_=>{const S=n.draggable.findById(_);return S?S.options:null},[n.draggable]),g=Ke(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(b2()))},[o,t]),v=Ke(()=>o.isClaimed(),[o]),w=vt(()=>({canGetLock:u,tryGetLock:f,findClosestDraggableId:m,findOptionsForDraggable:p,tryReleaseLock:g,isLockClaimed:v}),[u,f,m,p,g,v]);for(let _=0;_<a.length;_++)a[_](w)}const XJ=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ef.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),JJ=e=>({...xm,...e.autoScrollerOptions,durationDampening:{...xm.durationDampening,...e.autoScrollerOptions}});function jh(e){return e.current||Pe(),e.current}function QJ(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=E.useRef(null),c=w5(e),u=Ke(()=>XJ(c.current),[c]),f=Ke(()=>JJ(c.current),[c]),m=cJ(t),p=fJ({contextId:t,text:a}),g=nJ(t,i),v=Ke(K=>{jh(o).dispatch(K)},[]),w=vt(()=>zC({publishWhileDragging:GZ,updateDroppableScroll:YZ,updateDroppableIsEnabled:KZ,updateDroppableIsCombineEnabled:WZ,collectionStarting:qZ},v),[v]),_=oJ(),S=vt(()=>DX(_,w),[_,w]),T=vt(()=>XX({scrollWindow:RX,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:f,...zC({move:s5},v)}),[S.scrollDroppable,v,f]),N=iJ(t),O=vt(()=>NX({announce:m,autoScroller:T,dimensionMarshal:S,focusMarshal:N,getResponders:u,styleMarshal:g}),[m,T,S,N,u,g]);o.current=O;const P=Ke(()=>{const K=jh(o);K.getState().phase!=="IDLE"&&K.dispatch(b2())},[]),M=Ke(()=>{const K=jh(o).getState();return K.phase==="DROP_ANIMATING"?!0:K.phase==="IDLE"?!1:K.isDragging},[]),D=vt(()=>({isDragging:M,tryAbort:P}),[M,P]);n(D);const $=Ke(K=>g5(jh(o).getState(),K),[]),H=Ke(()=>Pc(jh(o).getState()),[]),q=vt(()=>({marshal:S,focus:N,contextId:t,canLift:$,isMovementAllowed:H,dragHandleUsageInstructionsId:p,registry:_}),[t,S,p,N,$,H,_]);return ZJ({contextId:t,store:O,registry:_,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),E.useEffect(()=>P,[P]),Wt.createElement(dv.Provider,{value:q},Wt.createElement(DB,{context:k2,store:O},e.children))}function eQ(){return Wt.useId()}function Vm(e){const t=eQ(),n=e.dragHandleUsageInstructions||uy.dragHandleUsageInstructions;return Wt.createElement(CV,null,r=>Wt.createElement(QJ,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const pM={dragging:5e3,dropAnimating:4500},tQ=(e,t)=>t?rm.drop(t.duration):e?rm.snap:rm.fluid,nQ=(e,t)=>{if(e)return t?vm.opacity.drop:vm.opacity.combining},rQ=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function iQ(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,c=rQ(e),u=!!a,f=u?pE.drop(r,o):pE.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:tQ(c,a),transform:f,opacity:nQ(o,u),zIndex:u?pM.dropAnimating:pM.dragging,pointerEvents:"none"}}function aQ(e){return{transform:pE.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function oQ(e){return e.type==="DRAGGING"?iQ(e):aQ(e)}function sQ(e,t,n=or){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=RB(i,r),o=Dy(a,n),c={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:u,client:a,page:o}}function lQ(e){const t=A2("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:c}=e,u=vt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:c}),[a,c,o]),f=Ke(v=>{const w=i();return w||Pe(),sQ(n,w,v)},[n,i]),m=vt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:f}),[n,f,u,t]),p=E.useRef(m),g=E.useRef(!0);Ri(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),Ri(()=>{if(g.current){g.current=!1;return}const v=p.current;p.current=m,r.draggable.update(m,v)},[m,r.draggable])}var O2=Wt.createContext(null);function zy(e){const t=E.useContext(e);return t||Pe(),t}function cQ(e){e.preventDefault()}const uQ=e=>{const t=E.useRef(null),n=Ke((D=null)=>{t.current=D},[]),r=Ke(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=zy(dv),{type:c,droppableId:u}=zy(O2),f=vt(()=>({id:e.draggableId,index:e.index,type:c,droppableId:u}),[e.draggableId,e.index,c,u]),{children:m,draggableId:p,isEnabled:g,shouldRespectForcePress:v,canDragInteractiveElements:w,isClone:_,mapped:S,dropAnimationFinished:T}=e;if(!_){const D=vt(()=>({descriptor:f,registry:o,getDraggableRef:r,canDragInteractiveElements:w,shouldRespectForcePress:v,isEnabled:g}),[f,o,r,w,v,g]);lQ(D)}const N=vt(()=>g?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:cQ}:null,[i,a,p,g]),O=Ke(D=>{S.type==="DRAGGING"&&S.dropping&&D.propertyName==="transform"&&ef.flushSync(T)},[T,S]),P=vt(()=>{const D=oQ(S),$=S.type==="DRAGGING"&&S.dropping?O:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:D,onTransitionEnd:$},dragHandleProps:N}},[i,N,p,S,O,n]),M=vt(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return Wt.createElement(Wt.Fragment,null,m(P,S.snapshot,M))};var j5=(e,t)=>e===t,N5=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const dQ=e=>e.combine?e.combine.draggableId:null,fQ=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function hQ(){const e=ar((i,a)=>({x:i,y:a})),t=ar((i,a,o=null,c=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:c,combineTargetFor:null})),n=ar((i,a,o,c,u=null,f=null,m=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:f,mode:a,offset:i,dimension:o,forceShouldAnimate:m,snapshot:t(a,c,u,f,null)}}));return(i,a)=>{if(_m(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],u=Di(i.impact),f=fQ(i.impact),m=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,c,a.isClone,u,f,m)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const c=a.isClone,u=i.dimensions.draggables[a.draggableId],f=o.result,m=f.mode,p=N5(f),g=dQ(f),w={duration:i.dropDuration,curve:x2.drop,moveTo:i.newHomeClientOffset,opacity:g?vm.opacity.drop:null,scale:g?vm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:w,draggingOver:p,combineWith:g,mode:m,forceShouldAnimate:null,snapshot:t(m,c,p,g,w)}}}return null}}function C5(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const mQ={mapped:{type:"SECONDARY",offset:or,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:C5(null)}};function pQ(){const e=ar((o,c)=>({x:o,y:c})),t=ar(C5),n=ar((o,c=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:c,shouldAnimateDisplacement:u,snapshot:t(c)}})),r=o=>o?n(or,o,!0):null,i=(o,c,u,f)=>{const m=u.displaced.visible[o],p=!!(f.inVirtualList&&f.effected[o]),g=sv(u),v=g&&g.draggableId===o?c:null;if(!m){if(!p)return r(v);if(u.displaced.invisible[o])return null;const S=rf(f.displacedBy.point),T=e(S.x,S.y);return n(T,v,!0)}if(p)return r(v);const w=u.displacedBy.point,_=e(w.x,w.y);return n(_,v,m.shouldAnimate)};return(o,c)=>{if(_m(o))return o.critical.draggable.id===c.draggableId?null:i(c.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===c.draggableId?null:i(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const gQ=()=>{const e=hQ(),t=pQ();return(r,i)=>e(r,i)||t(r,i)||mQ},yQ={dropAnimationFinished:c5},bQ=PB(gQ,yQ,null,{context:k2,areStatePropsEqual:j5})(uQ);function M5(e){return zy(O2).isUsingCloneFor===e.draggableId&&!e.isClone?null:Wt.createElement(bQ,e)}function sf(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Wt.createElement(M5,Ry({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const P5=e=>t=>e===t,vQ=P5("scroll"),xQ=P5("auto"),gM=(e,t)=>t(e.overflowX)||t(e.overflowY),_Q=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return gM(n,vQ)||gM(n,xQ)},wQ=()=>!1,D5=e=>e==null?null:e===document.body?wQ()?e:null:e===document.documentElement?null:_Q(e)?e:D5(e.parentElement);var bE=e=>({x:e.scrollLeft,y:e.scrollTop});const R5=e=>e?window.getComputedStyle(e).position==="fixed"?!0:R5(e.parentElement):!1;var SQ=e=>{const t=D5(e),n=R5(e);return{closestScrollable:t,isFixedOnPage:n}},EQ=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:c})=>{const u=(()=>{if(!c)return null;const{scrollSize:g,client:v}=c,w=h5({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:v,scrollSize:g,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:w,diff:{value:or,displacement:or}}}})(),f=i==="vertical"?h2:YB,m=Id({page:o,withPlaceholder:null,axis:f,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:f,isEnabled:t,client:a,page:o,frame:u,subject:m}};const kQ=(e,t)=>{const n=LB(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=c2({top:r,right:o,bottom:a,left:i},n.border);return u2({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var AQ=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:c})=>{const u=n.closestScrollable,f=kQ(e,u),m=Dy(f,r),p=(()=>{if(!u)return null;const v=LB(u),w={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:Dy(v,r),scroll:bE(u),scrollSize:w,shouldClipSubject:c}})();return EQ({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:m,closest:p})};const TQ={passive:!1},OQ={passive:!0};var yM=e=>e.shouldPublishImmediately?TQ:OQ;const u0=e=>e&&e.env.closestScrollable||null;function jQ(e){const t=E.useRef(null),n=zy(dv),r=A2("droppable"),{registry:i,marshal:a}=n,o=w5(e),c=vt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=E.useRef(c),f=vt(()=>ar((P,M)=>{t.current||Pe();const D={x:P,y:M};a.updateDroppableScroll(c.id,D)}),[c.id,a]),m=Ke(()=>{const P=t.current;return!P||!P.env.closestScrollable?or:bE(P.env.closestScrollable)},[]),p=Ke(()=>{const P=m();f(P.x,P.y)},[m,f]),g=vt(()=>pm(p),[p]),v=Ke(()=>{const P=t.current,M=u0(P);if(P&&M||Pe(),P.scrollOptions.shouldPublishImmediately){p();return}g()},[g,p]),w=Ke((P,M)=>{t.current&&Pe();const D=o.current,$=D.getDroppableRef();$||Pe();const H=SQ($),q={ref:$,descriptor:c,env:H,scrollOptions:M};t.current=q;const K=AQ({ref:$,descriptor:c,env:H,windowScroll:P,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),F=H.closestScrollable;return F&&(F.setAttribute(dM.contextId,n.contextId),F.addEventListener("scroll",v,yM(q.scrollOptions))),K},[n.contextId,c,v,o]),_=Ke(()=>{const P=t.current,M=u0(P);return P&&M||Pe(),bE(M)},[]),S=Ke(()=>{const P=t.current;P||Pe();const M=u0(P);t.current=null,M&&(g.cancel(),M.removeAttribute(dM.contextId),M.removeEventListener("scroll",v,yM(P.scrollOptions)))},[v,g]),T=Ke(P=>{const M=t.current;M||Pe();const D=u0(M);D||Pe(),D.scrollTop+=P.y,D.scrollLeft+=P.x},[]),N=vt(()=>({getDimensionAndWatchScroll:w,getScrollWhileDragging:_,dragStopped:S,scroll:T}),[S,w,_,T]),O=vt(()=>({uniqueId:r,descriptor:c,callbacks:N}),[N,c,r]);Ri(()=>(u.current=O.descriptor,i.droppable.register(O),()=>{t.current&&S(),i.droppable.unregister(O)}),[N,c,S,O,a,i.droppable]),Ri(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Ri(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Rw(){}const bM={width:0,height:0,margin:$V},NQ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?bM:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},CQ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=NQ({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?rm.placeholder:null}},MQ=e=>{const t=E.useRef(null),n=Ke(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[c,u]=E.useState(e.animate==="open");E.useEffect(()=>c?r!=="open"?(n(),u(!1),Rw):t.current?Rw:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):Rw,[r,c,n]);const f=Ke(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),m=CQ({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Wt.createElement(e.placeholder.tagName,{style:m,"data-rfd-placeholder-context-id":o,onTransitionEnd:f,ref:e.innerRef})};var PQ=Wt.memo(MQ);class DQ extends Wt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const RQ=e=>{const t=E.useContext(dv);t||Pe();const{contextId:n,isMovementAllowed:r}=t,i=E.useRef(null),a=E.useRef(null),{children:o,droppableId:c,type:u,mode:f,direction:m,ignoreContainerClipping:p,isDropDisabled:g,isCombineEnabled:v,snapshot:w,useClone:_,updateViewportMaxScroll:S,getContainerForClone:T}=e,N=Ke(()=>i.current,[]),O=Ke((F=null)=>{i.current=F},[]);Ke(()=>a.current,[]);const P=Ke((F=null)=>{a.current=F},[]),M=Ke(()=>{r()&&S({maxScroll:p5()})},[r,S]);jQ({droppableId:c,type:u,mode:f,direction:m,isDropDisabled:g,isCombineEnabled:v,ignoreContainerClipping:p,getDroppableRef:N});const D=vt(()=>Wt.createElement(DQ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:F,data:z,animate:Z})=>Wt.createElement(PQ,{placeholder:z,onClose:F,innerRef:P,animate:Z,contextId:n,onTransitionEnd:M})),[n,M,e.placeholder,e.shouldAnimatePlaceholder,P]),$=vt(()=>({innerRef:O,placeholder:D,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,D,O]),H=_?_.dragging.draggableId:null,q=vt(()=>({droppableId:c,type:u,isUsingCloneFor:H}),[c,H,u]);function K(){if(!_)return null;const{dragging:F,render:z}=_,Z=Wt.createElement(M5,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Q,J)=>z(Q,J,F));return SG.createPortal(Z,T())}return Wt.createElement(O2.Provider,{value:q},o($,w),K())};function LQ(){return document.body||Pe(),document.body}const vM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:LQ},L5=e=>{let t={...e},n;for(n in vM)e[n]===void 0&&(t={...t,[n]:vM[n]});return t},Lw=(e,t)=>e===t.droppable.type,xM=(e,t)=>t.draggables[e.draggable.id],IQ=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ar(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=ar((a,o,c,u,f,m)=>{const p=f.descriptor.id;if(f.descriptor.droppableId===a){const w=m?{render:m,dragging:n(f.descriptor)}:null,_={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:_,useClone:w}}if(!o)return t;if(!u)return e;const v={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(a,o)=>{const c=L5(o),u=c.droppableId,f=c.type,m=!c.isDropDisabled,p=c.renderClone;if(_m(a)){const g=a.critical;if(!Lw(f,g))return t;const v=xM(g,a.dimensions),w=Di(a.impact)===u;return r(u,m,w,w,v,p)}if(a.phase==="DROP_ANIMATING"){const g=a.completed;if(!Lw(f,g.critical))return t;const v=xM(g.critical,a.dimensions);return r(u,m,N5(g.result)===u,Di(g.impact)===u,v,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const g=a.completed;if(!Lw(f,g.critical))return t;const v=Di(g.impact)===u,w=!!(g.impact.at&&g.impact.at.type==="COMBINE"),_=g.critical.droppable.id===u;return v?w?e:t:_?e:t}return t}},$Q={updateViewportMaxScroll:ZZ},lf=PB(IQ,$Q,(e,t,n)=>({...L5(n),...e,...t}),{context:k2,areStatePropsEqual:j5})(RQ),BQ={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Uy(e,t,n){const r=BQ[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function zQ(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),c=e.getUTCSeconds(),u=(a-12)/24+o/1440+c/86400,f=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(f)-.032077*Math.sin(f)-.014615*Math.cos(2*f)-.040849*Math.sin(2*f))}function UQ(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function Zm(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=UQ(i),o=4*(i-a),c=zQ(r);return new Date(r.getTime()+(o+c)*60*1e3)}function I5(e){return e.replace(/\D/g,"")}function FQ(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function HQ(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function Xm(e){const t=I5(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return FQ(n,r,i)?{y:n,m:r,d:i}:null}function hv(e){const t=e.trim();if(!t||t==="")return null;const n=I5(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return HQ(r,i)?{hh:r,mm:i}:null}function mv(e){const t=e.trim(),n=Xm(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function pv(e){const t=e.trim();if(t==="")return"";const n=hv(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var dy={exports:{}},GQ=dy.exports,_M;function qQ(){return _M||(_M=1,(function(e,t){(function(n,r){e.exports=r()})(GQ,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,c){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:c})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(c){return c&&c.__esModule?c:{default:c}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(Z){return Z&&Z.__esModule?Z:{default:Z}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),c=a(o),u=i(3),f=a(u),m=i(4),p=a(m),g=i(5),v=a(g),w=i(6),_=a(w),S=i(7),T=a(S),N=i(8),O=a(N),P=i(9),M=a(P),D=i(10),$=a(D),H=i(11),q=a(H),K=i(12),F=a(K),z={lunarInfo:c.default,solarMonth:f.default,gan:p.default,zhi:v.default,animals:_.default,lunarTerm:T.default,lTermInfo:O.default,nStr1:M.default,nStr2:$.default,nStr3:q.default,nStr4:F.default,lYearDays:function(Z){var Q,J=348;for(Q=32768;Q>8;Q>>=1)J+=z.lunarInfo[Z-1900]&Q?1:0;return J+z.leapDays(Z)},leapMonth:function(Z){return 15&z.lunarInfo[Z-1900]},leapDays:function(Z){return z.leapMonth(Z)?65536&z.lunarInfo[Z-1900]?30:29:0},monthDays:function(Z,Q){return Q>12||Q<1?-1:z.lunarInfo[Z-1900]&65536>>Q?30:29},solarDays:function(Z,Q){if(Q>12||Q<1)return-1;var J=Q-1;return J==1?Z%4==0&&Z%100!=0||Z%400==0?29:28:z.solarMonth[J]},toGanZhi:function(Z){return z.gan[Z%10]+z.zhi[Z%12]},getTerm:function(Z,Q){if(Z<1900||Z>2100||Q<1||Q>24)return-1;var J=z.lTermInfo[Z-1900],Y=[parseInt("0x"+J.substr(0,5)).toString(),parseInt("0x"+J.substr(5,5)).toString(),parseInt("0x"+J.substr(10,5)).toString(),parseInt("0x"+J.substr(15,5)).toString(),parseInt("0x"+J.substr(20,5)).toString(),parseInt("0x"+J.substr(25,5)).toString()],X=[Y[0].substr(0,1),Y[0].substr(1,2),Y[0].substr(3,1),Y[0].substr(4,2),Y[1].substr(0,1),Y[1].substr(1,2),Y[1].substr(3,1),Y[1].substr(4,2),Y[2].substr(0,1),Y[2].substr(1,2),Y[2].substr(3,1),Y[2].substr(4,2),Y[3].substr(0,1),Y[3].substr(1,2),Y[3].substr(3,1),Y[3].substr(4,2),Y[4].substr(0,1),Y[4].substr(1,2),Y[4].substr(3,1),Y[4].substr(4,2),Y[5].substr(0,1),Y[5].substr(1,2),Y[5].substr(3,1),Y[5].substr(4,2)];return parseInt(X[Q-1])},toChinaYear:function(Z){var Q=parseInt(Z/1e3),J=parseInt(Z%1e3/100),Y=parseInt(Z%100/10),X=Z%10;return z.nStr4[Q]+z.nStr4[J]+z.nStr4[Y]+z.nStr4[X]+""},toChinaMonth:function(Z){if(Z>12||Z<1)return-1;var Q=z.nStr3[Z-1];return Q+=""},toChinaDay:function(Z){var Q;switch(Z){case 10:Q="";break;case 20:Q="";break;case 30:Q="";break;default:Q=z.nStr2[Math.floor(Z/10)],Q+=z.nStr1[Z%10]}return Q},getAnimal:function(Z){return z.animals[(Z-4)%12]},solar2lunar:function(ue,se,B){if(ue<1900||ue>2100||ue==1900&&se==1&&B<31)return-1;if(ue)var Y=new Date(ue,parseInt(se)-1,B);else var Y=new Date;var X,be=0,re=0,ue=Y.getFullYear(),se=Y.getMonth()+1,B=Y.getDate(),W=(Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate())-Date.UTC(1900,0,31))/864e5;for(X=1900;X<2101&&W>0;X++)re=z.lYearDays(X),W-=re;W<0&&(W+=re,X--);var ae=new Date,V=!1;ae.getFullYear()==ue&&ae.getMonth()+1==se&&ae.getDate()==B&&(V=!0);var oe=Y.getDay(),me=z.nStr1[oe];oe==0&&(oe=7);var pe=X,be=z.leapMonth(X),ne=!1;for(X=1;X<13&&W>0;X++)be>0&&X==be+1&&ne==0?(--X,ne=!0,re=z.leapDays(pe)):re=z.monthDays(pe,X),ne==1&&X==be+1&&(ne=!1),W-=re;W==0&&be>0&&X==be+1&&(ne?ne=!1:(ne=!0,--X)),W<0&&(W+=re,--X);var Oe=X,Ce=W+1,ve=se-1,Ze=z.getTerm(ue,3),Ne=z.toGanZhi(ue-4),_e=new Date(ue,1,Ze).getTime();new Date(ue,ve,B).getTime()<_e&&(Ne=z.toGanZhi(ue-5));var je=z.getTerm(ue,2*se-1),Ie=z.getTerm(ue,2*se),Ve=z.toGanZhi(12*(ue-1900)+se+11);B>=je&&(Ve=z.toGanZhi(12*(ue-1900)+se+12));var bt=!1,xt="";je==B&&(bt=!0,xt=z.lunarTerm[2*se-2]),Ie==B&&(bt=!0,xt=z.lunarTerm[2*se-1]);var Pt=Date.UTC(ue,ve,1,0,0,0,0)/864e5+25567+10,fe=z.toGanZhi(Pt+B-1);return{lYear:pe,lMonth:Oe,lDay:Ce,animal:z.getAnimal(pe),yearCn:z.toChinaYear(pe),monthCn:(ne&&be===Oe?"":"")+z.toChinaMonth(Oe),dayCn:z.toChinaDay(Ce),cYear:ue,cMonth:se,cDay:B,gzYear:Ne,gzMonth:Ve,gzDay:fe,isToday:V,isLeap:ne,nWeek:oe,ncWeek:""+me,isTerm:bt,term:xt}},lunar2solar:function(Z,Q,J,Y){var X=z.leapMonth(Z);if(z.leapDays(Z),Y&&X!=Q||Z==2100&&Q==12&&J>1||Z==1900&&Q==1&&J<31)return-1;var re=z.monthDays(Z,Q);if(Z<1900||Z>2100||J>re)return-1;for(var ue=0,se=1900;se<Z;se++)ue+=z.lYearDays(se);for(var B=0,W=!1,se=1;se<Q;se++)B=z.leapMonth(Z),W||B<=se&&B>0&&(ue+=z.leapDays(Z),W=!0),ue+=z.monthDays(Z,se);Y&&(ue+=re);var ae=Date.UTC(1900,1,30,0,0,0),V=new Date(864e5*(ue+J-31)+ae),oe=V.getUTCFullYear(),me=V.getUTCMonth()+1,pe=V.getUTCDate();return z.solar2lunar(oe,me,pe)}};r.default=z,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(dy)),dy.exports}var $5=qQ();const YQ=ui($5),KQ=$k({__proto__:null,default:YQ},[$5]);function j2(e){return typeof e=="object"&&e!==null}function WQ(e){return j2(e)&&"default"in e}function VQ(e){return j2(e)&&typeof e.lunar2solar=="function"}function ZQ(e){if(!j2(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function XQ(e){const t=WQ(e)?e.default:e;if(!VQ(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const c=t.lunar2solar(r,i,a,o);return ZQ(c)}}}const JQ=XQ(KQ);function Ui(e,t,n,r=4,i=0){const a=JQ.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const wM=e=>e<10?`0${e}`:`${e}`;function Jm(e){if(e.calendarType!=="lunar")return e;const t=Xm(e.birthDay??"");if(!t)return e;try{const n=Ui(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${wM(i)}${wM(a)}`,calendarType:"solar"}}catch{return e}}function N2(e){const t=e.mingSikType??"/",n=Xm(e.birthDay??"");if(!n){const P=e.corrected instanceof Date?e.corrected:new Date(NaN),M=typeof e.ganji=="string"?e.ganji:"",D=typeof e.ganjiText=="string"?e.ganjiText:M,$=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:P,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:M,ganjiText:D,dayStem:$}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const P=Ui(r,i,a,0,0);r=P.getFullYear(),i=P.getMonth()+1,a=P.getDate()}catch{}const o=hv(e.birthTime??""),c=!e.birthTime||e.birthTime===""||!o,u=c?4:o.hh,f=c?30:o.mm,m=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,f,0,0),g=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",v=Zm(p,m,g),w=c?"":v.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),_=at(v,m),S=kt(v,m),T=gt(v,t),N=c?null:za(v,t),O=[` : ${_} ${S} ${T}`,N?`${N}`:null].filter(Boolean).join(" ");return{corrected:v,correctedLocal:w,ganji:O,ganjiText:O,dayStem:T.charAt(0)}}function SM(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function Qm(e){return(typeof e=="string"?e.trim():"")===""?"":""}function EM(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function QQ(e){const t=EM(e.ganjiText)??EM(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=Qm(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function Fy(e){const t={...e,birthDay:mv(e.birthDay??""),birthTime:e.birthTime===""?"":pv(e.birthTime??""),gender:Qm(e.gender),dateObj:SM(e.dateObj,new Date),corrected:SM(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=N2(t),r={...t,...n};return{...r,dir:QQ(r)}}function eee(e){return e===""||e==="/"||e===""?e:"/"}function tee(e){return e==="lunar"?"lunar":"solar"}function nee(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function ree(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function C2(e,t){const r=mv(typeof e=="string"?e:""),i=Xm(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Ui(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function M2(e,t){if(t)return{ok:!0,value:""};const r=pv(typeof e=="string"?e:"");return hv(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function B5(e,t){const n=t?.requireName??!1,r=ree(e.name,n);if(!r.ok)return r;const i=tee(e.calendarType),a=C2(e.birthDay,i);if(!a.ok)return a;const o=M2(e.birthTime,e.unknownTime);if(!o.ok)return o;const c=eee(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:Qm(e.gender),sortOrder:e.sortOrder,birthPlace:nee(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:c,DayChangeRule:c===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:Fy(u)}}function Tl(e){const t=Jm(e),n=Xm(t.birthDay??"");if(!n)throw new Error(`Invalid date: ${e.birthDay}`);const r=hv(t.birthTime??""),i=r?r.hh:0,a=r?r.mm:0,o=new Date(n.y,n.m-1,n.d,i,a,0,0);if(Number.isNaN(o.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const c=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="",u=t.birthPlace?.lon??127.5;return Zm(o,u,c)}function iee(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function hd(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),c=a.localeCompare(o);return c!==0?c:t.id.localeCompare(n.id)})}function vE(e){if(!iee(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function z5(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:mv(e.birth_day??""),birthTime:pv(e.birth_time??""),gender:Qm(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return Fy(i)}function aee(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function kM(e,t){const n=mv(e.birthDay??""),r=pv(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:Qm(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const xE="hm_session_started_at_ms",oee=7200*1e3;function U5(){return typeof window>"u"?null:window.localStorage}function see(){const e=U5();if(!e)return Date.now();const t=e.getItem(xE),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(xE,String(r)),r}function lee(e=Date.now()){const t=U5();if(t)try{t.setItem(xE,String(e))}catch{}}function cee(e=Date.now()){const t=see();return e-t>=oee}const d0="myeongsik-list";function uee(e){try{return JSON.parse(e)}catch{return null}}async function dee(e){if(typeof window>"u")return;const t=window.localStorage.getItem(d0);if(!t)return;const n=uee(t);if(!n){window.localStorage.removeItem(d0);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(d0);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),c=new Set(o.map(f=>f.id)),u=i.filter(f=>!!f&&typeof f.id=="string"&&f.id.trim()!==""&&!c.has(f.id));for(const f of u)await e.upsertOne(a.id,f);window.localStorage.removeItem(d0)}const fee=250;function hee(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function mee(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function pee(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const c=n;if(n=null,c.key&&c.key===i){c.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),c.resolve();continue}await e.upsertOrderPatch(u.id,c.list),i=c.key,c.resolve()}}finally{r=!1}}}mee(()=>{a()});function o(c,u){const f=hee(c);if(f&&f===i&&!n)return Promise.resolve();if(n)n.key=f,n.list=c;else{let m;const p=new Promise(g=>{m=g});n={key:f,list:c,promise:p,resolve:m}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},fee),n.promise)}return{queue:o,flushNow:a}}const ai="__UNASSIGNED__",gee=[" ",""],Od=e=>typeof e=="string"?e.trim():"",yee=e=>gee.includes(e);function gd(e,t){const n=[],r=[];for(const i of e){const a=Od(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function P2(e,t){const n=new Set(t.map(o=>Od(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,c)=>{i[o]||(i[o]=[]),i[o].push(c)};for(const o of e){const c=String(o.id??"");if(!c||r.has(c))continue;r.add(c);const u=Od(o.folder),f=!u||yee(u)?ai:n.has(u)?u:ai;a(f,o)}i[ai]||(i[ai]=[]);for(const o of t){const c=Od(o);c&&(i[c]||(i[c]=[]))}return i}function F5(e,t){const n=[];for(const i of t){const a=Od(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[ai];return Array.isArray(r)&&r.length&&n.push(...r),n}function bee(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=P2(t,n),o=r.droppableId===ai?ai:r.droppableId,c=i.droppableId===ai?ai:i.droppableId,u=[...a[o]??[]],f=o===c?u:[...a[c]??[]],m=u[r.index];if(!m)return{nextList:t,changedIds:[]};u.splice(r.index,1);const p=Math.max(0,Math.min(i.index,f.length));o===c?u.splice(p,0,m):f.splice(p,0,m);const g=String(m.id),v=new Set([g]),w={...m,folder:c===ai?"":c};return a[o]=u,a[c]=o===c?u:f,a[c]=(a[c]??[]).map(_=>String(_.id)===g?w:_),{nextList:F5(a,n),changedIds:Array.from(v)}}function vee(e){const{list:t,targetId:n,orderedFolders:r}=e,i=P2(t,r);let a=null,o=null;const c=[...r.map(v=>Od(v)),ai].filter(Boolean);for(const v of c){const w=i[v]??[],_=w.findIndex(S=>String(S.id)===n);if(_>=0){a=v,o=w[_]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],f=u.findIndex(v=>String(v.id)===n);if(f<0)return{nextList:t,nextItem:null};const m=u[f],p=!m.favorite,g={...m,favorite:p};return u.splice(f,1),p?u.unshift(g):u.push(g),i[a]=u,{nextList:F5(i,r),nextItem:g}}function xee(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[];return{nextList:t.map(o=>(o.folder??"").trim()!==r?o:(i.push(String(o.id)),{...o,folder:""})),changedIds:i}}function H5(e){return e.trim().length>0}const Nh=e=>e.toLowerCase().replace(/\s+/g," ").trim(),_ee=e=>e.replace(/\D/g,""),wee=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=_ee(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},See=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},Eee=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},AM=(e,t,n)=>{const r=Nh(t);if(!r)return!0;const i=Nh(typeof e.name=="string"?e.name:""),a=wee(e).map(Nh),o=See(e).map(Nh),c=Eee(e).map(Nh),u=m=>m.includes(r),f=m=>m.some(u);switch(n){case"name":return u(i);case"birth":return f(a);case"ganji":return f(o);case"memo":return f(c);case"all":default:return u(i)||f(a)||f(o)||f(c)}};function kee(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!H5(t)){const f={};for(const m of r){const p=typeof m=="string"?m.trim():"";p&&(f[p]=i[p]??[])}return{filteredGrouped:f,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((m,p)=>m+(i[p]?.length??0),0)}}const o={};let c=0;for(const f of r){const m=typeof f=="string"?f.trim():"";if(!m)continue;const g=(i[m]??[]).filter(v=>AM(v,t,n));o[m]=g,c+=g.length}const u=(a??[]).filter(f=>AM(f,t,n));return c+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:c}}function Aee(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??ai).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??ai).toString(),index:e.destinationIndex}}}function Tee(e,t){const n=String(t.eventType??""),r=vE(t.new),i=vE(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(f=>f.id!==a.id);const o=z5(a),u=e.some(f=>f.id===o.id)?e.map(f=>f.id===o.id?o:f):[...e,o];return hd(u)}async function Oee(e){if(!e)return;const t=Le;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function jee(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function Nee(){return{async getUser(){const{data:e,error:t}=await Le.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await Le.from("myeongsik").select(jee()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>vE(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=kM(t,e),{error:r}=await Le.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=kM(n,e),{error:i}=await Le.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await Le.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>aee(i,e)),{error:r}=await Le.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=Le.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await Oee(r)}}}}}function Cee(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function yd(e){if(!e)return"FREE";const t=Cee(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function Hy(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const f0={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function Mee(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function TM(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function OM(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function Pee(e){return e?e.can_use_myo_viewer===!0:!1}async function Dee(e){const{data:t,error:n}=await Le.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const Li=au((e,t)=>({loaded:!1,loading:!1,userId:null,...f0,reset:()=>{e({loaded:!1,loading:!1,userId:null,...f0})},loadFromServer:async()=>{e({loading:!0});try{const{data:n,error:r}=await Le.auth.getUser();if(r){e({loaded:!0,loading:!1,userId:null,...f0});return}const i=n.user?.id??null;if(!i){e({loaded:!0,loading:!1,userId:null,...f0});return}const a=await Dee(i);if(!a){const _=Hy("FREE");e({loaded:!0,loading:!1,userId:i,plan:"FREE",maxMyeongsik:_.maxMyeongsik===null?9999:_.maxMyeongsik,canManageMyeongsik:_.canManageMyeongsik,canUseLuckTabs:_.canUseLuckTabs,canUseMultiMode:_.canUseMultiMode,canUseAllPrompts:_.canUseAllPrompts,canUseAdvancedReport:_.canUseAdvancedReport,canRemoveAds:_.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const o=TM(a.starts_at??null),c=TM(a.expires_at??null),u=OM(o,c),f=yd(a.plan??null),m=u?f:"FREE",p=Hy(m),g=p.maxMyeongsik===null?9999:p.maxMyeongsik,v=Mee(a.max_myeongsik,g),w=Math.max(1,Math.max(v,g));e({loaded:!0,loading:!1,userId:i,plan:m,maxMyeongsik:w,canManageMyeongsik:p.canManageMyeongsik,canUseLuckTabs:p.canUseLuckTabs,canUseMultiMode:p.canUseMultiMode,canUseAllPrompts:p.canUseAllPrompts,canUseAdvancedReport:p.canUseAdvancedReport,canRemoveAds:p.canRemoveAds,canUseMyoViewer:Pee(a),startsAt:o,expiresAt:c})}finally{e({loading:!1})}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return OM(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,c=Math.floor(a/60),u=c%24,f=Math.floor(c/24),m=[];return f>0&&m.push(`${f}`),u>0&&m.push(`${u}`),f===0&&o>0&&m.push(`${o}`),m.length===0&&m.push(`${i}`),m.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),Ai=Nee(),Ree=pee(Ai);function td(){const t=Li.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function Lee(e){const n=Li.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}const Br=au((e,t)=>({loading:!1,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(cee()){lee(Date.now()),window.location.reload();return}const n=await Ai.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Ai.subscribe(n.id,i=>{e(a=>({list:Tee(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{e({loading:!0});try{const n=await Ai.getUser();if(!n){e({list:[],currentId:null}),await t().stopRealtime();return}const r=await Ai.fetchRows(n.id),i=hd(r.map(z5)),a=t().currentId,o=a&&i.some(c=>c.id===a)?a:i[0]?.id??null;e({list:i,currentId:o}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}},migrateLocalToServer:async()=>{try{await dee(Ai)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Ai.getUser();if(!r)return;const i=t().list.length;if(!Lee(i))return;const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},c=Fy(o);e(u=>({list:hd([...u.list,c]),currentId:u.currentId??c.id})),await Ai.upsertOne(r.id,c)},update:async(n,r)=>{if(!td())return;const i=t().list.find(c=>c.id===n);if(!i)return;const a=Fy({...i,...r});e(c=>({list:hd(c.list.map(u=>u.id===n?a:u))}));const o=await Ai.getUser();o&&await Ai.updateOne(o.id,n,a)},remove:async n=>{td()&&(e(r=>{const i=r.list.filter(o=>o.id!==n),a=r.currentId===n?i[0]?.id??null:r.currentId;return{list:i,currentId:a}}),await Ai.softDelete(n))},moveItemByDnD:async n=>{if(!td())return;const{list:r}=t(),i=Aee(n),o=bee({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o}),await t().reorder(o)},toggleFavoriteWithReorder:async(n,r)=>{if(!td())return;const{list:i}=t(),o=vee({list:i,targetId:n,orderedFolders:r}).nextList;e({list:o}),await t().reorder(o)},unsetFolderForFolder:async n=>{if(!td())return;const r=(n??"").trim();if(!r)return;const i=t().list,a=xee({list:i,folderName:r}),o=hd(a.nextList),c=new Set(a.changedIds);if(c.size===0)return;e({list:o});const u=await Ai.getUser();if(!u)return;const f=o.filter(m=>c.has(m.id));await Ai.upsertOrderPatch(u.id,f)},reorder:async n=>{if(!td())return;const r=n.map((a,o)=>({...a,sortOrder:o+1})),i=hd(r);e({list:i}),await Ree.queue(i)},clear:()=>{e({currentId:null,list:[]})}})),jM="__custom__",NM=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],G5=({value:e,onChange:t})=>{const[n,r]=E.useState(NM),[i,a]=E.useState(""),[o,c]=E.useState(!1),[u,f]=E.useState(""),[m,p]=E.useState(!1),{list:g}=Br(),w=(e??i??"").trim()==="",S=g.some(M=>(M.relationship??"").trim()==="")&&!w?n.filter(M=>M.value!==""):n;E.useEffect(()=>{e!==void 0&&a(e)},[e]);const T=M=>{const D=M.target.value;D===jM?(c(!0),a(""),t?.("")):(c(!1),f(""),a(D),t?.(D))};E.useEffect(()=>{const M=localStorage.getItem("relationshipOptions");M&&r(JSON.parse(M))},[]),E.useEffect(()=>{(async()=>{const{data:{user:D},error:$}=await Le.auth.getUser();if($||!D)return;const{data:H,error:q}=await Le.from("user_settings").select("payload").eq("user_id",D.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const K=H?.payload?.relationshipOptions;if(!Array.isArray(K))return;const F=K.map(z=>z&&typeof z=="object"&&typeof z.value=="string"&&typeof z.label=="string"?{value:z.value,label:z.label}:typeof z=="string"?{value:z,label:z}:null).filter(z=>!!z);F.length&&r(z=>{const Z=new Set,Q=[...F,...z,...NM].filter(J=>Z.has(J.value)?!1:(Z.add(J.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(Q)),Q})})()},[]),E.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:D},error:$}=await Le.auth.getUser();if($||!D)return;const{data:H,error:q}=await Le.from("user_settings").select("payload").eq("user_id",D.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const K={...H?.payload??{},relationshipOptions:n},{error:F}=await Le.from("user_settings").upsert({user_id:D.id,payload:K,updated_at:new Date().toISOString()});F&&console.error("save relationships settings error",F.message)})()},[n]);const N=()=>{const M=u.trim();if(!M)return;const D={value:M,label:M};r($=>[...$,D]),a(M),t?.(M),f(""),c(!1)},O=M=>{r(n.filter(D=>D.value!==M)),i===M&&a("")},P=M=>{if(!M.destination)return;const D=Array.from(n),[$]=D.splice(M.source.index,1);D.splice(M.destination.index,0,$),r(D)};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"rel_set flex items-center gap-2",children:[x.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:T,children:[x.jsx("option",{value:"",hidden:!0,children:""}),S.map(M=>x.jsx("option",{value:M.value,children:M.label},M.value)),x.jsx("option",{value:jM,children:" "})]}),x.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),o&&!m&&x.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[x.jsx("input",{type:"text",placeholder:" ",value:u,onChange:M=>f(M.target.value)}),x.jsx("button",{type:"button",onClick:N,className:"btn_style",children:""})]}),m&&x.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[x.jsx("h4",{className:"font-bold mb-2",children:" "}),x.jsx(Vm,{onDragEnd:P,children:x.jsx(lf,{droppableId:"relList",children:M=>x.jsxs("ul",{ref:M.innerRef,...M.droppableProps,className:"space-y-1",children:[n.map((D,$)=>x.jsx(sf,{draggableId:D.value,index:$,children:H=>x.jsxs("li",{ref:H.innerRef,...H.draggableProps,...H.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[x.jsx("span",{className:"cursor-grab mr-2",children:""}),x.jsx("span",{className:"flex-1 pr-1",children:D.label}),x.jsx("button",{type:"button",className:"text-red-500",onClick:()=>O(D.value),children:""})]})},D.value)),M.placeholder]})})}),x.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},dn=" ",q5=["","","","","",""],Y5="ms_folders",K5="ms_folder_order",CM="ms_folder_favs",_E="ms_disabled_presets",Ol="myeoun:folder-updated";function Gc(e){if(e!==dn)return e||void 0}function gv(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function D2(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function Iee(){const e=gv(_E);return q5.filter(t=>!e.includes(t))}function R2(){return gv(Y5)}function L2(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];D2(Y5,t),typeof window<"u"&&window.dispatchEvent(new Event(Ol))}function Gy(){const e=Iee(),t=R2(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function $ee(){return[dn,...Gy()]}function W5(e){const t=e.trim();if(!t||t===dn)return;const n=R2();if(n.includes(t))return;const r=[...n,t];L2(r)}function Bee(e){const t=R2(),n=t.filter(r=>r!==e);n.length!==t.length&&L2(n)}function zee(e){const t=gv(_E);if(t.includes(e))return;const n=[...t,e];D2(_E,n),typeof window<"u"&&window.dispatchEvent(new Event(Ol))}function qy(){return gv(K5)}function bd(e){D2(K5,e),typeof window<"u"&&window.dispatchEvent(new Event(Ol))}function im(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function Uee(e){return Array.from(new Set(e))}function h0(e){const t=e.filter(n=>n!==dn);return{rest:t,withUnassigned:[dn,...t]}}function Fee(e,t){return im(t,e)}function Hee({value:e,onChange:t}){const[n,r]=E.useState([dn]),[i,a]=E.useState(!1),[o,c]=E.useState(""),[u,f]=E.useState(!1),m=E.useCallback(async S=>{const{data:{user:T},error:N}=await Le.auth.getUser();if(N||!T)return;const O=S.map((M,D)=>({user_id:T.id,folder_name:M,sort_order:D+1,updated_at:new Date().toISOString()})),{error:P}=await Le.from("user_folder_order").upsert(O,{onConflict:"user_id,folder_name"});P&&console.error("save folder order error",P.message)},[]),p=E.useCallback(()=>{if(typeof window>"u")return;const S=Uee($ee()),T=S.includes(dn)?S:[dn,...S],{rest:N}=h0(T),O=qy(),P=Fee(O,N),M=[dn,...P];r(M),O.length===P.length&&O.every(($,H)=>$===P[H])||(bd(P),m(P))},[m]);E.useEffect(()=>{if(p(),typeof window<"u"){const S=()=>p();return window.addEventListener(Ol,S),()=>window.removeEventListener(Ol,S)}},[p]);const g=E.useMemo(()=>e||dn,[e]),v=S=>{const{rest:T}=h0(S);bd(T),m(T)},w=S=>{const{source:T,destination:N}=S;if(!N||N.index===T.index)return;const{rest:O}=h0(n),P=Array.from(O),[M]=P.splice(T.index,1);P.splice(N.index,0,M);const D=[dn,...P];r(D),v(D)},_=S=>{const T=Gc(S);T&&(W5(T),p())};return x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":g,onChange:S=>{const T=S.target.value;if(T==="__custom__"){a(!0),t(void 0);return}a(!1),t(Gc(T))},children:[n.map(S=>x.jsx("option",{value:S,children:S},S)),x.jsx("option",{value:"__custom__",children:"+   "})]}),x.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>f(S=>!S),children:u?" ":" "})]}),i&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"text",value:o,onChange:S=>c(S.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),x.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const S=o.trim();S&&(_(S),t(Gc(S)),a(!1),c(""))},children:""})]}),u&&x.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[x.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),x.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[x.jsx("span",{className:"opacity-60 select-none",children:""}),x.jsxs("span",{className:"flex-1 px-2",children:[dn," ()"]})]}),x.jsx(Vm,{onDragEnd:w,children:x.jsx(lf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:S=>x.jsxs("ul",{ref:S.innerRef,...S.droppableProps,className:"space-y-1",children:[h0(n).rest.map((T,N)=>x.jsx(sf,{draggableId:T,index:N,children:O=>x.jsxs("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[x.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),x.jsx("span",{className:"flex-1 pr-1",children:T})]})},T)),S.placeholder]})})})]}),x.jsxs("p",{className:"text-xs text-gray-500",children:['   "',dn,'" .      .']})]})}function V5({message:e,onClose:t,ms:n=2e3}){return E.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),x.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const MM=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Gee=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],qee=["","/",""],Yee=["",""],Z5={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function Kee(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function Wee(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function Vee(){const[e,t]=E.useState(0),[n,r]=E.useState({...Z5}),[i,a]=E.useState(null),[o,c]=E.useState(!1),[u,f]=E.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:c,unknownPlace:u,setUnknownPlace:f}}function Zee({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){E.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function Xee(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Ui(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function Jee(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):dn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function Qee({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=MM[r],a=E.useMemo(()=>Xee(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:MM,currentStep:i,lunarPreview:a,displayValue:c=>Jee(c,e,t,n),CALENDAR_OPTIONS:Gee,MING_OPTIONS:qee,GENDER_OPTIONS:Yee,nextIndex:Kee,focusById:Wee,isDST:Uy}}function ete(){return{add:Br(t=>t.add)}}const mr=[];for(let e=0;e<256;++e)mr.push((e+256).toString(16).slice(1));function tte(e,t=0){return(mr[e[t+0]]+mr[e[t+1]]+mr[e[t+2]]+mr[e[t+3]]+"-"+mr[e[t+4]]+mr[e[t+5]]+"-"+mr[e[t+6]]+mr[e[t+7]]+"-"+mr[e[t+8]]+mr[e[t+9]]+"-"+mr[e[t+10]]+mr[e[t+11]]+mr[e[t+12]]+mr[e[t+13]]+mr[e[t+14]]+mr[e[t+15]]).toLowerCase()}let Iw;const nte=new Uint8Array(16);function rte(){if(!Iw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Iw=crypto.getRandomValues.bind(crypto)}return Iw(nte)}const ite=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),PM={randomUUID:ite};function X5(e,t,n){if(PM.randomUUID&&!e)return PM.randomUUID();e=e||{};const r=e.random??e.rng?.()??rte();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,tte(r)}function ate(e,t,n){const r=Gc(e.folder);return B5({id:X5(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function ote(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=C2(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=M2(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function ste({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:c,unknownPlace:u,setUnknownPlace:f,setToast:m,onSave:p}){const{add:g}=ete(),v=E.useCallback(()=>{const _=ote(a,e,o,u);if(!_.ok){m(_.message??" .");return}if(_.nextForm&&(t(_.nextForm),_.message&&m(_.message)),n<i-1){r(n+1);return}const S=ate(e,o,u);if(!S.ok){m(S.message);return}const T=S.value;g(T),p(T),m(" !"),t({...Z5}),c(!1),f(!1),r(0)},[a,e,o,u,m,t,n,i,r,g,p,c,f]),w=E.useCallback(_=>{if(_.key!=="Enter")return;const S=_.target,T=S.getAttribute("role");if(T==="radio"||T==="checkbox")return;const N=document.getElementById("mapModal");if(N&&N.contains(S))return;const O=S.tagName.toLowerCase(),P=S instanceof HTMLInputElement?S.type:"";if(O==="textarea"){if(_.shiftKey)return;_.preventDefault(),v();return}if(P==="radio"||P==="checkbox"){_.preventDefault(),S instanceof HTMLInputElement&&S.click();return}O==="button"&&S.type!=="submit"||(_.preventDefault(),v())},[v]);return{handleNext:v,handleFormKeyDown:w}}function lte({onSave:e}){const t=Vee(),n=Qee({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});Zee({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=ste({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function cte({onSave:e,onClose:t}){const n=lte({onSave:e});return x.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&x.jsx(V5,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>x.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[x.jsx("span",{className:"font-semibold",children:r.label}),x.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),x.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:x.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[x.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&x.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex gap-1 items-center",children:[x.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),x.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),x.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:c=>{if(c.stopPropagation(),c.key===" "||c.key==="Enter"){c.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(c.key))return;c.preventDefault();const f=n.CALENDAR_OPTIONS.findIndex(g=>g.value===n.form.calendarType),m=n.nextIndex(f<0?0:f,n.CALENDAR_OPTIONS.length,c.key),p=n.CALENDAR_OPTIONS[m].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[m].id}_lbl`)},onClick:c=>{c.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&x.jsx("div",{className:"flex items-center justify-end",children:x.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?x.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),x.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&x.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),x.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",f=n.MING_OPTIONS.indexOf(u),m=n.nextIndex(f,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[m];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&x.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),x.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",f=n.GENDER_OPTIONS.indexOf(u),m=n.nextIndex(f,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[m];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx(EB,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),x.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&x.jsx(G5,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&x.jsx(Hee,{value:Gc(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&x.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),x.jsxs("div",{className:"flex justify-between gap-2",children:[x.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),x.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var m0={},DM;function ute(){if(DM)return m0;DM=1,m0.match=a,m0.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(m,p){return o(m).some(function(g){var v=g.inverse,w=g.type==="all"||p.type===g.type;if(w&&v||!(w||v))return!1;var _=g.expressions.every(function(S){var T=S.feature,N=S.modifier,O=S.value,P=p[T];if(!P)return!1;switch(T){case"orientation":case"scan":return P.toLowerCase()===O.toLowerCase();case"width":case"height":case"device-width":case"device-height":O=f(O),P=f(P);break;case"resolution":O=u(O),P=u(P);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":O=c(O),P=c(P);break;case"grid":case"color":case"color-index":case"monochrome":O=parseInt(O,10)||1,P=parseInt(P,10)||0;break}switch(N){case"min":return P>=O;case"max":return P<=O;default:return P===O}});return _&&!v||!_&&v})}function o(m){return m.split(",").map(function(p){p=p.trim();var g=p.match(e),v=g[1],w=g[2],_=g[3]||"",S={};return S.inverse=!!v&&v.toLowerCase()==="not",S.type=w?w.toLowerCase():"all",_=_.match(/\([^\)]+\)/g)||[],S.expressions=_.map(function(T){var N=T.match(t),O=N[1].toLowerCase().match(n);return{modifier:O[1],feature:O[2],value:N[2]}}),S})}function c(m){var p=Number(m),g;return p||(g=m.match(/^(\d+)\s*\/\s*(\d+)$/),p=g[1]/g[2]),p}function u(m){var p=parseFloat(m),g=String(m).match(i)[1];switch(g){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function f(m){var p=parseFloat(m),g=String(m).match(r)[1];switch(g){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return m0}var $w,RM;function dte(){if(RM)return $w;RM=1;var e=ute().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var c=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=f,this.removeListener=m,this.dispose=g;function f(v){u&&u.addListener(v)}function m(v){u&&u.removeListener(v)}function p(v){c.matches=v.matches,c.media=v.media}function g(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return $w=r,$w}var fte=dte();const hte=ui(fte);var mte=/[A-Z]/g,pte=/^ms-/,Bw={};function gte(e){return"-"+e.toLowerCase()}function J5(e){if(Bw.hasOwnProperty(e))return Bw[e];var t=e.replace(mte,gte);return Bw[e]=pte.test(t)?"-"+t:t}function yte(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var zw={exports:{}},Uw,LM;function bte(){if(LM)return Uw;LM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Uw=e,Uw}var Fw,IM;function vte(){if(IM)return Fw;IM=1;var e=bte();function t(){}function n(){}return n.resetWarningCache=t,Fw=function(){function r(o,c,u,f,m,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Fw}var $M;function xte(){return $M||($M=1,zw.exports=vte()()),zw.exports}var _te=xte();const Ot=ui(_te),Dr=Ot.oneOfType([Ot.string,Ot.number]),Q5={all:Ot.bool,grid:Ot.bool,aural:Ot.bool,braille:Ot.bool,handheld:Ot.bool,print:Ot.bool,projection:Ot.bool,screen:Ot.bool,tty:Ot.bool,tv:Ot.bool,embossed:Ot.bool},wte={orientation:Ot.oneOf(["portrait","landscape"]),scan:Ot.oneOf(["progressive","interlace"]),aspectRatio:Ot.string,deviceAspectRatio:Ot.string,height:Dr,deviceHeight:Dr,width:Dr,deviceWidth:Dr,color:Ot.bool,colorIndex:Ot.bool,monochrome:Ot.bool,resolution:Dr,type:Object.keys(Q5)},{type:JTe,...Ste}=wte,Ete={minAspectRatio:Ot.string,maxAspectRatio:Ot.string,minDeviceAspectRatio:Ot.string,maxDeviceAspectRatio:Ot.string,minHeight:Dr,maxHeight:Dr,minDeviceHeight:Dr,maxDeviceHeight:Dr,minWidth:Dr,maxWidth:Dr,minDeviceWidth:Dr,maxDeviceWidth:Dr,minColor:Ot.number,maxColor:Ot.number,minColorIndex:Ot.number,maxColorIndex:Ot.number,minMonochrome:Ot.number,maxMonochrome:Ot.number,minResolution:Dr,maxResolution:Dr,...Ste},kte={...Q5,...Ete};var Ate={all:kte};const Tte=e=>`not ${e}`,Ote=(e,t)=>{const n=J5(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?Tte(n):`(${n}: ${t})`},jte=e=>e.join(" and "),Nte=e=>{const t=[];return Object.keys(Ate.all).forEach(n=>{const r=e[n];r!=null&&t.push(Ote(n,r))}),jte(t)},Cte=E.createContext(void 0),Mte=e=>e.query||Nte(e),BM=e=>e?Object.keys(e).reduce((n,r)=>(n[J5(r)]=e[r],n),{}):void 0,e4=()=>{const e=E.useRef(!1);return E.useEffect(()=>{e.current=!0},[]),e.current},Pte=e=>{const t=E.useContext(Cte),n=()=>BM(e)||BM(t),[r,i]=E.useState(n);return E.useEffect(()=>{const a=n();yte(r,a)||i(a)},[e,t]),r},Dte=e=>{const t=()=>Mte(e),[n,r]=E.useState(t);return E.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},Rte=(e,t)=>{const n=()=>hte(e,t||{},!!t),[r,i]=E.useState(n),a=e4();return E.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},Lte=e=>{const[t,n]=E.useState(e.matches);return E.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},Ite=(e,t,n)=>{const r=Pte(t),i=Dte(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=Rte(i,r),o=Lte(a);return e4(),E.useEffect(()=>{},[o]),E.useEffect(()=>()=>{a&&a.dispose()},[]),o},t4={Classic:"",Modern:""};function Oo(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function $te(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function Bte(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function zte(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function Ute(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function jo(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?$te(t,n):Bte(t,n):i?zte(t,n):Ute(t,n)}const ci=au()(t$((e,t)=>{const n=new Date,r="/",i=127.5,a=i,o=at(n,a),c=kt(n,a),u=gt(n,r);return{date:n,scope:"",rule:r,lon:i,yearGZ:o,monthGZ:c,dayGZ:u,setDate:f=>{const{rule:m,lon:p}=t(),g=typeof p=="number"?p:void 0;e({date:f,yearGZ:at(f,g),monthGZ:kt(f,g),dayGZ:gt(f,m)})},resetDate:()=>{const{rule:f,lon:m}=t(),p=new Date,g=typeof m=="number"?m:void 0;e({date:p,yearGZ:at(p,g),monthGZ:kt(p,g),dayGZ:gt(p,f)})},resetMonth:()=>{const{lon:f}=t(),m=new Date;e({date:m,monthGZ:kt(m,typeof f=="number"?f:void 0)})},setScope:f=>e({scope:f}),setRule:f=>{const{date:m,lon:p}=t(),g=typeof p=="number"?p:void 0;e({rule:f,yearGZ:at(m,g),monthGZ:kt(m,g),dayGZ:gt(m,f)})},setLon:f=>{const{date:m,rule:p}=t(),g=typeof f=="number"?f:void 0;e({lon:f,yearGZ:at(m,g),monthGZ:kt(m,g),dayGZ:gt(m,p)})},setFromEvent:(f,m)=>{const{rule:p,lon:g}=t(),v=typeof g=="number"?g:void 0;e({date:f.at,scope:m,yearGZ:at(f.at,v),monthGZ:kt(f.at,v),dayGZ:gt(f.at,p)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),Fte=60*1e3,Hte=60*Fte,Gte=24*Hte,qte=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},wE=e=>{const t=new Date(e);return t.setSeconds(0,0),t},Yte={DAY:Gte},da=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(c=>({name:c.name,date:Un(t,c.deg)})).concat([{name:r.name,date:Un(t+1,r.deg)},{name:"",date:Un(t+1,285)}]),a=Un(t,315),o=Un(t+1,315);return i.filter(c=>c.date>=a&&c.date<o).sort((c,u)=>c.date.getTime()-u.date.getTime())},n4=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${$r[t%10]}${si[t%12]}`);return e})(),Kte=e=>{const t=n4.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},Yy=(e,t,n=1)=>{const r=Kte(e),i=t==="forward"?n:-n;return n4[(r+i+60*1e3)%60]},Wte=(e,t,n)=>{const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const o=new Date(a);o.setHours(i+2,0,0,0);const c=e.getTime()-a.getTime(),u=o.getTime()-e.getTime();return t==="backward"?c:u},r4=(e,t,n,r=120,i="/")=>{const a=wE(e),o=Wte(a,n,i),c=wE(new Date(a.getTime()+o*120)),u=qte(e,r).getTime(),f=[];let m=Yy(t,n,1);for(let p=c.getTime();p<=u;p+=10*Yte.DAY)f.push({at:new Date(p),gz:m}),m=Yy(m,n,1);return{firstChange:c,events:f}},i4=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},a4=(e,t,n,r)=>{const i=i4(r,n);let a=t;const o=[];for(const c of e.events){const u=c.gz.charAt(1);i(u)&&(a=Yy(a,n,1),o.push({at:c.at,gz:a}))}return{events:o}},Vte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Zte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xte=e=>Vte[e]??("".includes(e)?e:null),Jte=e=>Zte[e]??("".includes(e)?e:null),zM=e=>{const t=Xte(e[0]),n=Jte(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`},Qte=e=>Math.floor((e.getHours()+1)%24/2),Hw=e=>["","","","","","","","","","","",""][Qte(e)],ene=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=$r.indexOf(r),o=si.indexOf(i),c=t==="forward"?n:-n,u=(a+c%10+10)%10,f=(o+c%12+12)%12;return $r[u]+si[f]},ep=(e,t,n,r=120,i)=>{const a=da(e).sort((_,S)=>_.date.getTime()-S.date.getTime());let o;if(n==="forward"){const _=a.findIndex(S=>S.date>=e);_>=0&&(o=a[_].date)}else{const _=a.filter(S=>S.date<=e);_.length&&(o=_[_.length-1].date)}const c=(_,S)=>{const T=Hw(_),N={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},O=N[T],P=(O+2)%24,M=new Date(_);if(M.setSeconds(0,0),n==="backward"&&S){const $=Hw(S),H=N[$],q=new Date(S);return q.setHours(H,0,0,0),q}if(n==="forward"&&S){const $=Hw(S),H=N[$],q=new Date(S);if(q.setHours(H,0,0,0),q>M)return q}const D=new Date(M);return n==="forward"?(D.setHours(P,0,0,0),D<=M&&D.setDate(D.getDate()+1)):(D.setHours(O,0,0,0),D>=M&&D.setDate(D.getDate()-1)),D},u=zM(kt(e,127.5)),f=c(e,o),m=Math.floor(n==="forward"?(f.getTime()-e.getTime())/6e4:(e.getTime()-f.getTime())/6e4),p=Math.round(m/120*(14400*60*1e3));let g=new Date(e.getTime()+p);try{const _=zM(kt(e,i));(n==="forward"&&u!==_||n==="backward"&&u!==_)&&(g=new Date(e.getTime()+6e4))}catch{}const v=r/10,w=[];for(let _=0;_<v;_+=1){const S=new Date(g);S.setFullYear(S.getFullYear()+_*10),S.setSeconds(0,0);const T=ene(t,n,_+1);w.push({at:S,gz:T})}return{natalMonthPillar:t,firstChange:g,mPillars:[],events:w}},tne=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},o4=(e,t,n,r,i)=>{const a=i4(r,n);let o=t;const c=[];for(const u of e.events){const f=u.gz.charAt(1);a(f)&&(o=Yy(o,n,1),c.push({at:u.at,gz:o,age:tne(i,u.at)}))}return{events:c}},nne=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},yv=e=>{const t=nne(e),n=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",r=Zm(t,e.birthPlace?.lon??null,n);return wE(r)},I2=(e,t)=>{const n=e.birthPlace?.lon??127.5,r=yv(e),i=gt(r,t),a=za(r,t,i.charAt(0));return{year:at(r,n),month:kt(r,n),day:i,hour:a}},rne=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${$r[t%10]}${si[t%12]}`);return e})(),ine=e=>rne.indexOf(e),Gw=e=>{if(ine(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function ane(e,t="/"){const n=E.useMemo(()=>Jm(e),[e]),r=E.useMemo(()=>yv(n),[n]),i=E.useMemo(()=>I2(n,t),[n,t]);return E.useMemo(()=>{const a=ep(r,i.month,n.dir,120,n?.birthPlace?.lon??127.5),o=new Date;function c(O,P){let M=null;const D=P.getTime();for(const $ of O)if($.at.getTime()<=D)M=$;else break;return M}const u=c(a.events,o)?.gz??i.month,f=Gw(u),m=o.getFullYear(),p=Un(m,315),v=p&&o>=p?m:m-1,w=at(new Date(v,1,10,0,0,0),127.5),_=Gw(w),S=kt(o,127.5),T=Gw(S),N=[];return T&&N.push({key:"wolun",label:"",data:T}),_&&N.push({key:"seun",label:"",data:_}),f&&N.push({key:"daeun",label:"",data:f}),N},[r,n.dir,i.month,n.birthPlace?.lon])}function ou(e,t="/",n=100){const r=E.useMemo(()=>Jm(e),[e]),i=E.useMemo(()=>yv(r),[r]),a=E.useMemo(()=>I2(r,t),[r,t]),o=(c,u)=>{const f=u.getFullYear()-c.getFullYear(),m=u.getMonth()-c.getMonth(),p=u.getDate()-c.getDate(),g=m<0||m===0&&p<0?f-1:f;return Math.max(0,g)};return E.useMemo(()=>ep(i,a.month,r.dir,n,r.birthPlace?.lon??127.5).events.map(u=>({...u,age:o(i,u.at)})),[i,a.month,r.dir,n,r.birthPlace?.lon])}function qw(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function one(e,t){if(!Array.isArray(e)||e.length===0||!qw(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],c=n[a+1];if(!qw(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!c||qw(c.at)&&t.getTime()<c.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function $2(e,t,n){const{date:r,rule:i,lon:a}=ci(),o=E.useMemo(()=>n??r??new Date,[n,r]),c=ou(e,e?.mingSikType),{gz:u}=one(c,o);return E.useMemo(()=>{try{const f=a??e?.birthPlace?.lon??127.5,m=i??e?.mingSikType??t??"/";return{dae:{gz:u,at:o},se:{gz:at(o,f),at:o},wol:{gz:kt(o,f),at:o},il:{gz:gt(o,m),at:o}}}catch{const f=new Date;return{dae:{gz:"",at:f},se:{gz:"",at:f},wol:{gz:"",at:f},il:{gz:"",at:f}}}},[o,i,a,e,t,u])}const un=["","","",""],ri={year:0,month:1,day:2,hour:3},UM=["","","",""],jd="",tp=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],s4=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],FM=[{name:"",members:["","",""]},{name:"",members:["","",""]}],sne={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},SE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function De(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=sne[r[1]]??r[1],a=SE[r[2]]??r[2];return`${i}${a}`}return""}const Ky=e=>e&&e.length>=1?e[0]:"",Oi=e=>e&&e.length>=2?e[1]:"",B2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],z2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],U2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],F2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],H2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],G2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],q2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],Y2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],K2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],W2=[{pair:["",""],label:""}],V2=new Set(["","","",""]),Wy=new Set(["","","",""]),Z2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],l4=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function ti(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function Kt(e,t){e.includes(t)||e.push(t)}const lne=e=>[...e].sort((t,n)=>t-n).map(t=>un[t]).join("X"),HM=(e,t)=>e===0&&t===3||e===3&&t===0;function cne(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function une(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const c4=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function dne(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const fne=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function hne(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function u4(e){for(const t of fne){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!dne(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=hne(e.jijiHyeong),e}function mne(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function pne(e,t){for(const n of tp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function GM(e,t,n){const r=mne(e,n);if(r<0){Kt(e,t);return}const a=(e[r]??"").includes(jd),o=t.includes(jd);a&&!o&&(e[r]=t)}function X2(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[De(e[0]??""),De(e[1]??""),De(e[2]??""),De(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(g=>Ky(g)),c=i.map(g=>Oi(g));function u(g,v){if(g===v)return;const w=o[g],_=o[v];if(!w||!_)return;const S=ti(B2,w,_);S&&Kt(a.cheonganHap,`#${un[g]}X${un[v]}_${S}`);const T=ti(z2,w,_);T&&Kt(a.cheonganChung,`#${un[g]}X${un[v]}_${T}`)}u(ri.year,ri.month),u(ri.month,ri.day),u(ri.day,ri.hour);function f(g,v,w,_,S=!0){const T=[],N=[];for(let P=0;P<4;P++)c[P]===g&&T.push(P),c[P]===v&&N.push(P);const O=cne(T,N);for(const[P,M]of O){const D=HM(P,M),$=`#${un[P]}X${un[M]}_${w}${D?jd:""}`;if(D){Kt(_,$);continue}S?GM(_,$,w):Kt(_,$)}}const m=(g,v)=>{for(const{pair:[w,_],label:S}of g)f(w,_,S,v)};m(U2,a.jijiYukhap),m(F2,a.jijiChung),m(H2,a.jijiPa),m(G2,a.jijiHae),m(q2,a.jijiWonjin),m(Y2,a.jijiGwimun);for(const g of tp){if(!g.members.every(T=>c.includes(T)))continue;const w=[];for(let T=0;T<4;T++)g.members.includes(c[T])&&w.push(T);const _=w.includes(ri.year)&&w.includes(ri.hour),S=lne(w);Kt(a.jijiSamhap,`#${S}_${g.name}${_?jd:""}`)}for(const{pair:[g,v],label:w}of l4)pne(g,v)&&f(g,v,w,a.jijiBanhap,!1);for(const{pair:[g,v],label:w}of K2)f(g,v,w,a.jijiHyeong);for(const{pair:[g,v],label:w}of W2)f(g,v,w,a.jijiHyeong);for(const g of V2){const v=c.map((w,_)=>w===g?_:-1).filter(w=>w>=0);if(!(v.length<2))for(const[w,_]of une(v)){const S=HM(w,_),T=`#${un[w]}X${un[_]}_${g}${S?jd:""}`;GM(a.jijiHyeong,T,`${g}`)}}for(const{pair:[g,v],label:w}of Z2)f(g,v,w,a.amhap);if(n)for(let g=0;g<4;g++){const v=i[g]??"";if(v.length<2)continue;const w=`${v[0]}${v[1]}`;Wy.has(w)&&Kt(a.ganjiAmhap,`#${c4(un[g])}_${w}`)}const p=u4(a);if(r)for(const g of Object.keys(p)){if(g==="title")continue;const v=p[g];Array.isArray(v)&&v.length===0&&(p[g]=["#"])}return p}function gne(e,t){return e===ri.year&&t===ri.hour||e===ri.hour&&t===ri.year}function yne(e,t){for(const n of tp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function bne(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),c=Math.max(i,a),u=`${o}-${c}`;r.has(u)||(r.add(u),n.push([o,c]))}return n}function _l(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[De(e.natal[0]??""),De(e.natal[1]??""),De(e.natal[2]??""),De(e.natal[3]??"")],a=[De(e.daewoon??""),De(e.sewoon??""),De(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},c=r.map(p=>{const g=Oi(p??"");return SE[g]??g});for(const{pair:[p,g],label:v}of l4){if(!yne(p,g))continue;const w=[],_=[];for(let T=0;T<4;T++)c[T]===p&&w.push(T),c[T]===g&&_.push(T);const S=bne(w,_);for(const[T,N]of S){const O=gne(T,N),P=`#${un[T]}X${un[N]}_${v}${O?jd:""}`;Kt(o.jijiBanhap,P)}}if(n&&a)for(let p=0;p<4;p++){const g=r[p]??"";if(g.length<2)continue;const v=`${g[0]}${g[1]}`;Wy.has(v)&&Kt(o.ganjiAmhap,`#${c4(un[p])}_${v}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let f=!1,m=!1;for(const[p,g]of u){if(!g)continue;const v=De(g);if(!v||v.length<2)continue;const w=Ky(v),_=Oi(v);{const T=`${w}${_}`;Wy.has(T)&&Kt(o.ganjiAmhap,`#${p}_${T}`)}for(let T=0;T<4;T++){const N=r[T]??"";if(N.length<2)continue;const O=un[T],P=Ky(N),M=Oi(N),D=ti(B2,w,P);D&&Kt(o.cheonganHap,`#${p}X${O}_${D}`);const $=ti(z2,w,P);$&&Kt(o.cheonganChung,`#${p}X${O}_${$}`);const H=ti(U2,_,M);H&&Kt(o.jijiYukhap,`#${p}X${O}_${H}`);const q=ti(F2,_,M);q&&Kt(o.jijiChung,`#${p}X${O}_${q}`);const K=ti(H2,_,M);K&&Kt(o.jijiPa,`#${p}X${O}_${K}`);const F=ti(G2,_,M);F&&Kt(o.jijiHae,`#${p}X${O}_${F}`);const z=ti(q2,_,M);z&&Kt(o.jijiWonjin,`#${p}X${O}_${z}`);const Z=ti(Y2,_,M);Z&&Kt(o.jijiGwimun,`#${p}X${O}_${Z}`);const Q=ti(K2,_,M);if(Q)Kt(o.jijiHyeong,`#${p}X${O}_${Q}`);else{const Y=ti(W2,_,M);Y?Kt(o.jijiHyeong,`#${p}X${O}_${Y}`):_===M&&V2.has(_)&&Kt(o.jijiHyeong,`#${p}X${O}_${_}${M}`)}const J=ti(Z2,_,M);J&&Kt(o.amhap,`#${p}X${O}_${J}`)}for(const T of tp){if(!T.members.includes(_))continue;const N=T.members.filter(P=>P!==_),O=c.map((P,M)=>({b:P,pos:un[M]})).filter(P=>P.b&&N.includes(P.b));if(new Set(O.map(P=>P.b)).size===2){const[P,M]=O.map(D=>D.pos).sort((D,$)=>un.indexOf(D)-un.indexOf($));Kt(o.jijiSamhap,`#${p}X${P}X${M}_(${T.name})`)}}for(const T of FM){if(!T.members.includes(_))continue;const N=T.members.filter(P=>P!==_),O=c.map((P,M)=>({b:P,pos:un[M]})).filter(P=>P.b&&N.includes(P.b));if(new Set(O.map(P=>P.b)).size===2){const[P,M]=O.map(D=>D.pos).sort((D,$)=>un.indexOf(D)-un.indexOf($));Kt(o.jijiHyeong,`#${p}X${P}X${M}_${T.name}`),T.name===""&&(f=!0),T.name===""&&(m=!0)}}const S=[...r.map((T,N)=>({b:SE[Oi(T)]??Oi(T),pos:un[N]}))];for(const T of s4){const N=S.filter(O=>T.members.includes(O.b));if(new Set(N.map(O=>O.b)).size===3){const O=N.map(P=>P.pos).join("X");Kt(o.jijiBanghap,`#${O}_(${T.name})`)}}}{const p=[],g=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[v,w]of g){const _=De(w??"");_.length>=2&&p.push({kind:v,b:Oi(_)})}if(p.length>=2){const v=r.map((w,_)=>({pos:un[_],b:Oi(w)}));for(const w of FM)for(let _=0;_<p.length;_++)for(let S=_+1;S<p.length;S++){const T=p[_],N=p[S];for(const O of v){const P=new Set([O.b,T.b,N.b]);if(P.size===3&&w.members.every(M=>P.has(M))){const M=[T.kind,N.kind].sort(($,H)=>UM.indexOf($)-UM.indexOf(H)).join("X"),D=`${O.pos}X${M}`;Kt(o.jijiHyeong,`#${D}_${w.name}`),w.name===""&&(f=!0),w.name===""&&(m=!0)}}}}}return(f||m)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(f&&/(||)/.test(p)||m&&/(||)/.test(p)))),u4(vne(o))}function vne(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const xne={:"",:"",:"",:"",:""},qM={:"",:"",:"",:"",:""},_ne={:"",:"",:"",:"",:""},wne={:"",:"",:"",:"",:""},Sne={:.15,:.1,:-.15,:-.2,:-.25};function Ene(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function kne(e){const t=e.includes(ri.month),n=Ene(ri.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function Ane(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function Tne(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[De(e[0]??""),De(e[1]??""),De(e[2]??""),De(e[3]??"")],o=a.map(m=>Oi(m)).filter(Boolean),c=[],u={...t},f=(m,p)=>{const g=[];for(let T=0;T<a.length;T++){const N=Oi(a[T]??"");p.members.includes(N)&&g.push(T)}if(!p.members.every(T=>o.includes(T)))return;const w=kne(g),_=p.out,S=qM[_];Ane(u,S,_,w),c.push({type:m,name:p.name,out:p.out,strength:w})};if(i)for(const m of tp)f("",m);if(r)for(const m of s4)f("",m);return{applied:c,score:u,strengthAdj:Sne,shengNext:xne,shengPrev:qM,ke:_ne,keInv:wne}}function Vy(e){return un[e]}function YM(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=De(e[r]??""),a=Ky(i),o=Oi(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Ch(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${Vy(i)}X${Vy(a)}_${e}`);return r}function One(e,t){const n=YM(e),r=YM(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(c,u)=>{c.includes(u)||c.push(u)};for(const{pair:[c,u],label:f}of B2){const m=[...n.stemPos.get(c)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(c)??[],...r.stemPos.get(u)??[]];if(m.length&&p.length)for(const g of Ch(f,m,p))a(i.,g)}for(const{pair:[c,u],label:f}of z2){const m=[...n.stemPos.get(c)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(c)??[],...r.stemPos.get(u)??[]];if(m.length&&p.length)for(const g of Ch(f,m,p))a(i.,g)}const o=(c,u)=>{const f=Array.from(n.branchPos.keys()),m=Array.from(r.branchPos.keys());for(const p of f)for(const g of m){const v=ti(u,p,g);if(!v)continue;const w=n.branchPos.get(p)??[],_=r.branchPos.get(g)??[];for(const S of Ch(v,w,_))a(i[c],S)}};o("",U2),o("",F2),o("",H2),o("",G2),o("",q2),o("",Y2),o("",K2),o("",W2);for(const c of V2){const u=n.branchPos.get(c)??[],f=r.branchPos.get(c)??[];if(!(!u.length||!f.length))for(const m of Ch(`${c}`,u,f))a(i.,m)}for(const{label:c,pair:[u,f]}of Z2){const m=[...n.branchPos.get(u)??[],...n.branchPos.get(f)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(f)??[]];if(!(!m.length||!p.length))for(const g of Ch(c,m,p))a(i.,g)}{const c=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const f of c)for(const m of u){const p=n.stemPos.get(f)??[],g=r.stemPos.get(m)??[];for(const v of p){const w=Oi(De(e[v]??"")),_=`${f}${w}`;if(Wy.has(_))for(const S of g){const T=Oi(De(t[S]??""));`${m}${T}`===_&&a(i.,`#${Vy(v)}X${Vy(S)}_${_}`)}}}}return i}const d4=new Set(Object.keys(Rn)),f4=new Set(Object.keys(Gn)),jne=e=>e.slice(0,1),Nne=e=>e.slice(-1);function ss(e){return Dd.has(e)?e:d4.has(e)?Rn[e]??e:e}function vr(e){return um.has(e)?e:f4.has(e)?Gn[e]??e:e}function mo(e){return ss(jne(e))}function Ht(e){return vr(Nne(e))}function Cne(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Dd.has(i)||d4.has(i))&&(n=ss(i)),(um.has(i)||f4.has(i))&&(r=vr(i));return n&&r?{stem:n,branch:r}:null}function Mne(e){return e.map(Ht)}function p0(e,t,n="classic"){const r=mo(t),i=Ht(t),a=(n==="hgc"?iv:rv)[i]??[];return[r,...a].includes(e)}const EE=[["",""],["",""],["",""],["",""],["",""],["",""]],kE=[["",""],["",""],["",""],["",""],["",""],["",""]],Pne=new Set(["","","",""]),h4=[["",""],["",""]],Dne=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function am(e,t,n){const r=vr(t),i=vr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function KM(e,t,n){const r=vr(t),i=vr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function Zy(e){for(const t of Dne)if(t.set.has(e))return t.voids;return null}function AE(e){const t=vr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const zn={2:4,1:3,3:2,0:1},vd={1:4,2:3,0:2,3:1},Se={year:0,month:1,day:2,hour:3};function Rne(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const Zc=e=>e===0?"":e===1?"":e===2?"":"",cf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",Lne=(e,t)=>`#X${Zc(t)}_${e}`,Nd=(e,t,n)=>t===Se.month&&n===Se.day?`#X_${e}`:t===Se.year&&n===Se.month?`#X_${e}`:t===Se.year&&n===Se.day?`#X_${e}`:t===Se.month&&n===Se.hour?`#X_${e}`:t===Se.day&&n===Se.hour?`#X_${e}`:`#${Zc(t)}X${Zc(n)}_${e}`,g0=(e,t)=>`#${Zc(t)}_${e}`,m4=(e,t)=>`#X${Zc(t)}_${e}`,Ine=(e,t)=>`#(${e==="day"?"":""})X${Zc(t)}_`,nd=e=>`#_${e}`,rd=(e,t)=>`#X${cf(t)}_${e}`,Mh=(e,t)=>`#X${cf(t)}_${e}`,Yw=(e,t,n)=>`#${Zc(n)}X${cf(t)}_${e}`,$ne=(e,t)=>`#(${t==="day"?"":""})_${cf(e)}_`,Bne=(e,t)=>`#(${t==="day"?"":""})X${cf(e)}_`,WM=(e,t)=>`#X${cf(e)}_${t}`;function TE(e,t){const n=vr(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(Ht(t[i])===n)return{pos:i,weight:zn[i]??0};return null}function J2(e,t,n){return Ht(t[n])===vr(e)?{pos:n,weight:zn[n]}:null}function zne(e,t){const n=ss(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(mo(t[i])===n)return{pos:i,weight:zn[i]??0};return null}const Une=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>vr(t.trim())).filter(Boolean),ln=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ss(t),Une(n)])),Fne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),p4=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Gne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Yne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),g4=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),y4=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ere=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),VM=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tre=ln({:"",:"",:"",:""}),nre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ZM=ln({:"",:"",:""}),XM=ln({:"",:"",:""}),rre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),b4=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),v4=ln({:"",:"",:"",:"",:"",:"",:""}),ire=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>vr(t.trim())).filter(Boolean),ya=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[vr(t),(Array.isArray(n)?n:[n]).map(r=>vr(r))])),bv=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[vr(t),ire(n)])),x4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},_4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},w4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},S4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},are=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),JM=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ore=bv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sre=bv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lre=bv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),cre=bv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ure=ya({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),dre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),mre=ya({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),E4=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),pre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),gre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[vr(t),(Array.isArray(n)?n:[n]).map(r=>vr(r))])),vre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),k4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_re=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),A4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ere=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Are=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),T4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ore=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Pre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),O4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Dre=T4,Rre=k4,Lre=O4,Ire=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$re=A4,Bre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ure=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function np(e,t){e.push(t)}function Kw(e,t,n,r,i=0){const a=vd[n]>=vd[r]?n:r;e.push({name:Nd(t,n,r),weight:zn[a]+i,pos:a})}function Fre(e,t,n,r,i){const a=Ht(e[Se.year]),o=t[a];if(!o)return;const c=n==="MONTH"?[Se.month]:n==="DAY"?[Se.day]:n==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of c){const m=J2(u,e,f);m&&np(i,{name:Nd(r,Se.year,f),weight:m.weight,pos:f})}}function Hre(e,t,n,r){const i=Ht(e[Se.month]),a=t[i];if(!a)return;const o=ss(a),c=zne(o,e);c&&np(r,{name:m4(n,c.pos),weight:c.weight,pos:c.pos})}function QM(e,t,n,r,i="ALL"){const a=Ht(e[Se.month]),o=t[a];if(!o)return;const c=i==="YEAR"?[Se.year]:i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:i==="DAY_HOUR"?[Se.day,Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of c){const m=J2(u,e,f);if(!m)continue;const p=f===Se.month?`#_${n}`:m4(n,f);np(r,{name:p,weight:m.weight,pos:f})}}function eP(e,t,n,r){const i=Ht(e[Se.month]),a=t[i];if(!a)return;const o=e[Se.day];a.includes(o)&&np(r,{name:Nd(n,Se.month,Se.day),weight:zn[Se.day],pos:Se.day})}function tP(e,t,n,r,i){const a=mo(e[Se.day]),o=t[a];if(!o)return;const c=i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of c){const m=J2(u,e,f);m&&np(r,{name:Lne(n,f),weight:m.weight,pos:f})}}function Gre({natal:e,daewoon:t,basis:n}){const r=mo(e[Se.day]),i=Ht(e[Se.day]),a=Ht(e[Se.month]),o=Ht(e[Se.year]),c=Mne(e),u=[],f=[],m=[[vre,"MONTH",""],[k4,"DAY",""],[_re,"MONTH",""],[wre,"MONTH",""],[Sre,"ALL",""],[Ere,"HOUR",""],[kre,"ALL",""],[Are,"ALL",""],[Tre,"ALL",""],[T4,"ALL",""],[Ore,"ALL",""],[jre,"ALL",""],[Nre,"ALL",""],[Cre,"ALL",""],[Mre,"ALL",""],[Pre,"ALL",""],[O4,"ALL",""],[Dre,"ALL",""],[Rre,"ALL",""],[Lre,"ALL",""],[Ire,"ALL",""],[$re,"ALL",""],[Bre,"ALL",""],[zre,"ALL",""],[Ure,"ALL",""]];for(const[P,M,D]of m)Fre(e,P,M,D,f);const p=[[x4,""],[_4,""],[w4,""],[S4,""]];for(const[P,M]of p)Hre(e,P,M,u);const g=[[are,"","ALL"],[JM,"","YEAR"],[JM,"","DAY"],[ure,"","ALL"],[dre,"","ALL"],[fre,"","ALL"],[hre,"","ALL"],[mre,"","ALL"]];for(const[P,M,D]of g)QM(e,P,M,f,D);const v=[[E4,"","ALL"],[pre,"","DAY_HOUR"],[gre,"","DAY_HOUR"],[yre,"","ALL"],[bre,"","ALL"]];for(const[P,M,D]of v)QM(e,P,M,u,D);const w=[[ore,""],[cre,""]];for(const[P,M]of w)eP(e,P,M,u);const _=[[sre,""],[lre,""]];for(const[P,M]of _)eP(e,P,M,f);const S=[[Fne,"","ALL"],[p4,"","ALL"],[Hne,"","ALL"],[Gne,"","ALL"],[qne,"","ALL"],[Yne,"","ALL"],[Kne,"","ALL"],[g4,"","ALL"],[Wne,"","ALL"],[Vne,"","ALL"],[Zne,"","ALL"],[Xne,"","ALL"],[Jne,"","ALL"],[rre,"","ALL"]];for(const[P,M,D]of S)tP(e,P,M,u,D);const T=[[y4,"","ALL"],[Qne,"","ALL"],[ere,"","ALL"],[VM,"","DAY"],[VM,"","HOUR"],[ZM,"","DAY"],[ZM,"","HOUR"],[XM,"","DAY"],[XM,"","HOUR"],[tre,"","DAY"],[nre,"","ALL"],[b4,"","ALL"]];for(const[P,M,D]of T)tP(e,P,M,f,D);if(new Set(["","","",""]).has(e[Se.day])){f.push({name:nd(""),weight:zn[Se.day],pos:Se.day});for(const M of[Se.year,Se.month,Se.hour])e[M]===e[Se.day]&&f.push({name:g0("",M),weight:zn[M],pos:M})}{const P=v4[r];if(P)for(const M of[Se.year,Se.month,Se.day,Se.hour]){const D=mo(e[M]),$=Ht(e[M]);D===r&&P.includes($)&&f.push({name:g0("",M),weight:zn[M],pos:M})}}for(const[P,M]of h4){const D=TE(P,e),$=TE(M,e);D&&$&&Kw(f,"",D.pos,$.pos)}{const P=new Set(["",""]),M=new Set(["","","",""]);for(let D=0;D<=3;D++){const $=mo(e[D]),H=Ht(e[D]);(P.has($)||M.has(H))&&f.push({name:g0("",D),weight:zn[D],pos:D})}}{const P=e[Se.hour],M=($,H)=>$.includes(r)&&H.includes(P);(M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""]))&&f.push({name:nd(""),weight:zn[Se.hour],pos:Se.hour})}["","","",""].every(P=>c.includes(P))&&u.push({name:nd(""),weight:zn[Se.day],pos:Se.day});{const P=e[Se.day],M=e[Se.hour];(P===""&&M===""||P===""&&M==="")&&f.push({name:Nd("",Se.day,Se.hour),weight:zn[Se.hour],pos:Se.hour})}{const P=Ht(e[Se.year]),M=new Set(c.slice(1)),D=(H,q)=>H.every(K=>M.has(K))&&P===q;(D(["","",""],"")||D(["","",""],"")||D(["","",""],"")||D(["","",""],""))&&u.push({name:nd(""),weight:zn[Se.day],pos:Se.day})}(e[Se.day]===""||e[Se.day]==="")&&u.push({name:nd(""),weight:zn[Se.day],pos:Se.day});{const M={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];M&&e.some($=>Ht($)===M.rok)&&mo(e[Se.hour])===M.maStem&&u.push({name:Nd("",Se.day,Se.hour),weight:zn[Se.hour],pos:Se.hour})}{const P=Ht(e[Se.hour]),D={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(D){const $=i===D.rok,H=P===D.ma,q=p0(D.rokStem,e[Se.day],"classic")||p0(D.rokStem,e[Se.hour],"classic"),K=p0(D.maStem,e[Se.day],"classic")||p0(D.maStem,e[Se.hour],"classic");$&&H&&(q||K)&&u.push({name:Nd("",Se.day,Se.hour),weight:zn[Se.hour],pos:Se.hour})}}{const P=new Set(["","","","","",""]),M=e.map(mo),D=e.map(Ht),$=M.concat(D).filter(F=>P.has(F)).length,H=t?mo(t):"",q=t?Ht(t):"",K=P.has(H)||P.has(q);($>=4||$===3&&K)&&f.push({name:nd(""),weight:zn[Se.day],pos:Se.day})}{const P=new Set(["",""]),M=new Set(["",""]);for(let D=0;D<=3;D++){const $=mo(e[D]),H=Ht(e[D]);(P.has($)||M.has(H))&&f.push({name:g0("",D),weight:zn[D],pos:D})}}{const P=[[Se.year,Se.month],[Se.year,Se.day],[Se.month,Se.day],[Se.month,Se.hour],[Se.day,Se.hour]];for(const[M,D]of P){const $=Ht(e[M]),H=Ht(e[D]);if(am(EE,$,H)){const q=KM(EE,$,H);Kw(f,`${q}`,M,D)}}}{const P=[[Se.year,Se.month,0],[Se.month,Se.day,1],[Se.month,Se.hour,0],[Se.day,Se.hour,0]];for(const[M,D,$]of P){const H=Ht(e[M]),q=Ht(e[D]);if(am(kE,H,q)){const K=KM(kE,H,q),F=($?1:0)+(Pne.has(H+q)?1:0);Kw(f,`${K}`,M,D,F)}}}const N=Zy(e[Se.day]),O=Zy(e[Se.year]);{const P=(n?.voidBasis??"day")==="day"?N:O;if(P){const[M,D]=P.map(vr);for(const $ of[Se.year,Se.month,Se.day,Se.hour]){const H=Ht(e[$]);(H===M||H===D)&&f.push({name:Ine(n?.voidBasis??"day",$),weight:zn[$],pos:$})}}}return{goodPos:u,badPos:f,dayVoid:N,yearVoid:O,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:c}}function y0({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:c,dayVoid:u,yearVoid:f,basis:m}){const p=[],g=[],v=(N,O)=>{N.includes(O)||N.push(O)},w=Cne(t??null);if(!w)return{good:p,bad:g};const _=w.branch,S=w.stem;ss(x4[a]??"")===S&&v(p,Mh("",e)),ss(_4[a]??"")===S&&v(p,Mh("",e)),ss(w4[a]??"")===S&&v(p,Mh("",e)),ss(S4[a]??"")===S&&v(p,Mh("",e)),E4[a]?.includes(_)&&v(p,Mh("",e)),p4[r]?.includes(_)&&v(p,rd("",e)),g4[r]?.includes(_)&&v(p,rd("",e)),y4[r]?.includes(_)&&v(g,rd("",e)),b4[r]?.includes(_)&&v(g,rd("",e)),v4[r]?.includes(_)&&v(g,rd("",e)),e==="se"&&(xre[o]?.includes(_)&&v(g,WM(e,"")),A4[o]?.includes(_)&&v(g,WM(e,"")));for(const N of c)if(am(h4,_,N)){const O=TE(N,n)?.pos;O!==void 0&&v(g,Yw("",e,O));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(_)&&v(g,rd("",e));const T=(m?.voidBasis??"day")==="day"?u:f;T&&(_===T[0]||_===T[1])&&v(g,$ne(e,m?.voidBasis??"day"));for(let N=0;N<=3;N++){const O=Ht(n[N]);am(EE,_,O)&&v(g,Yw("",e,N)),am(kE,_,O)&&v(g,Yw("",e,N))}if(e==="se"){const N=(m?.samjaeBasis??"day")==="day"?i:o,O=N?AE(N):null;O&&O.includes(_)&&v(g,Bne(e,m?.samjaeBasis??"day"))}return{good:p,bad:g}}const qre=/^#(|||)X\1_/,Yre=e=>qre.test(e);function nP(e){const t=new Map;for(const n of e){if(Yre(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function Kre(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const Wre=new Set(["",""]);function Vre(e){return Wre.has(e)?!0:e.endsWith("")||e.endsWith("")}function rP(e){const t=new Map;for(const r of e){const i=Kre(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(Vre(r))n.push(...i);else{const a=i.sort((o,c)=>vd[o.pos]!==vd[c.pos]?vd[c.pos]-vd[o.pos]:c.weight-o.weight)[0];n.push(a)}return n}function iP(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=Rne;for(const i of e)n[r(i.pos)].push(i.name);return n}function zd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:c,dayVoid:u,yearVoid:f,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:w}=Gre({natal:e,daewoon:t,basis:a}),_=rP(nP(o)),S=rP(nP(c)),T=iP(_),N=iP(S),O=y0({src:"dae",luck:t??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:w,dayVoid:u,yearVoid:f,basis:a}),P=y0({src:"se",luck:n??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:w,dayVoid:u,yearVoid:f,basis:a}),M=y0({src:"wol",luck:r??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:w,dayVoid:u,yearVoid:f,basis:a}),D=y0({src:"il",luck:i??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:w,dayVoid:u,yearVoid:f,basis:a});return{good:{...T,dae:O.good,se:P.good,wolun:M.good,ilun:D.good},bad:{...N,dae:O.bad,se:P.bad,wolun:M.bad,ilun:D.bad},meta:{voidPair:{day:Zy(e[Se.day])??void 0,year:Zy(e[Se.year])??void 0},samjaeYears:{day:AE(Ht(e[Se.day]))??void 0,year:AE(Ht(e[Se.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Zre(e){return typeof e=="object"&&e!==null}function uf(e){const t=t4;return Zre(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const aP=["","","","","","","","","",""],Xre=["","","","","","","","","","","",""],Jre=["","","","","","","","","","","",""];function Qre(e){const t=av(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function eie(e,t){const n=Qre(e);return(t?Jre:Xre).map((i,a)=>`${aP[(n+a)%10]??aP[0]}${i}`)}function om(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function oP(e){return e<10?`0${e}`:`${e}`}function j4(e){return`${oP(e.getHours())}:${oP(e.getMinutes())}`}function Q2(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function sP(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||Q2(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function tie(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":j4(i)}const lP=["","/",""],nie="/";function N4(e,t){return e&&lP.includes(e)?e:t&&lP.includes(t)?t:nie}function cP(e){return e===""}function rie(e){return e===""?"":""}function iie(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const aie=e=>e instanceof Date&&!Number.isNaN(e.getTime());function uP(e,t){const n=Q2(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=Ui(r,i,a);r=O.getFullYear(),i=O.getMonth()+1,a=O.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),c=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,c,0,0),f=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,m=f?127.5:e.birthPlace.lon,p=aie(e.corrected);let g;p?g=e.corrected:f?g=u:g=Zm(u,m,n);const v=t?new Date(g.getTime()-3600*1e3):g,w=N4(e.mingSikType),_=at(v,m),S=kt(v,m),T=gt(v,w),N=n?null:za(v,w);return{corrected:v,year:{stem:_.charAt(0),branch:_.charAt(1)},month:{stem:S.charAt(0),branch:S.charAt(1)},day:{stem:T.charAt(0),branch:T.charAt(1)},hour:N?{stem:N.charAt(0),branch:N.charAt(1)}:null}}const oie=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],sie=(()=>{const e={};for(const t of oie){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),lie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function cie(e,t){const n=`${av(e)}${i2(t)}`;return sie[n]??null}function uie(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function die(e){switch(lie[i2(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function fie({stem:e,branch:t}){const n=cie(e,t);if(!n)return null;const r=uie(n.elem);return x.jsx("span",{className:`inline-block px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function dP({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=qn(),o=Bi(e,t,a),c=li(e,t,n),u=Ua(e,t),f=r&&u?"font-thin":"font-bold",m=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return x.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${m}`,children:x.jsx("span",{className:`text-[24px] md:text-2xl ${f} `,children:c})})}function C4({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,size:v="regular",highlightedStem:w=!1,highlightedBranch:_=!1}){const S=v==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",T=v==="compact"?"py-2":"p-2";return x.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:`${S} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),x.jsx("div",{className:`${T} flex flex-col items-center gap-1`,children:t?x.jsxs(x.Fragment,{children:[a&&x.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:fa(n,{stem:t.stem})}),x.jsx(dP,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:w}),x.jsx(dP,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:_}),x.jsx(_B,{branch:t.branch,dayStem:n,mode:f,mapping:m}),(o||c||u)&&x.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&x.jsx("div",{children:p(t.branch)}),c&&x.jsx("div",{children:g(t.branch)}),u&&x.jsx(fie,{stem:t.stem,branch:t.branch})]})]}):x.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const hie=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function mie({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,daeGz:v,seGz:w,wolGz:_,highlightMap:S={}}){const T=t?"regular":"compact",N=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",O="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",P=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",M=t?`grid gap-2 p-3 ${N}`:`grid gap-1 p-0 ${N}`;return x.jsxs("div",{className:O,children:[x.jsx("div",{className:P,children:x.jsx("b",{children:""})}),x.jsx("div",{className:"pb-2",children:x.jsx("div",{className:M,children:e.map(D=>{const $=hie(D,v,w,_),H=S[D.key]??{stem:!1,branch:!1};return x.jsx(C4,{title:D.label,data:$,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,size:T,highlightedStem:H.stem,highlightedBranch:H.branch},D.key)})})})]})}function pie({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,highlightMap:v={}}){const w=t?"regular":"compact",_=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",S=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return x.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[x.jsx("div",{className:_,children:x.jsx("b",{children:""})}),x.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:x.jsx("div",{className:S,children:e.map(T=>{const N=v[T.key]??{stem:!1,branch:!1};return x.jsx(C4,{title:T.label,data:T.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,size:w,highlightedStem:N.stem,highlightedBranch:N.branch},T.key)})})})]})}function gie({hourCandidates:e,useInsi:t,onToggleRule:n,manualHour:r,onSelectHour:i}){return x.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),x.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "})]}),x.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(a=>{const o=a.charAt(0),c=a.charAt(1),u=r?.stem===o&&r?.branch===c;return x.jsx("button",{onClick:()=>i(o,c),className:`p-2 text-xs rounded border cursor-pointer ${u?die(c):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${a} ( )`,children:a},a)})})]})}function yie(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const Ph={:{title:"()",kind:"",oneLine:"   .",bullets:["  ,  / ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:" : //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:" /   ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" /.   ."},:{title:"()",kind:"",oneLine:"  .   ."},:{title:"()",kind:"",oneLine:" /    ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /."},:{title:"",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" : ."}};function bie(e){const t=yie(e),n=Ph[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(Ph[r])return Ph[r]}else{const r=`${t}`;if(Ph[r])return Ph[r]}return{title:t||"",kind:"",oneLine:" "}}function vie(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function co({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const c=OE(n,Xy),u=OE(r,Xy),f=i||c.length>0,m=i||u.length>0;return!i&&c.length===0&&u.length===0?null:x.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[f&&x.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),x.jsx(fP,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),x.jsxs("div",{children:[m&&x.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),x.jsx(fP,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function fP({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=OE(e,Xy);return a.length===0?n?x.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:x.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,c)=>{const u=`${t}-${c}`;return x.jsx(xie,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function xie({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=bie(e),o=a?vie(a):"",c=Xy(e),u=E.useRef(null),f=E.useRef(null),[m,p]=E.useState("center");return E.useLayoutEffect(()=>{if(!i)return;const g=f.current;if(!g)return;const v=g.getBoundingClientRect(),_=Math.min(300,window.innerWidth-16*2),S=v.left,T=window.innerWidth-v.right;T<_/2&&S>T?p("right"):S<_/2&&T>S?p("left"):p("center")},[i]),E.useLayoutEffect(()=>{if(!i)return;const g=v=>{const w=v.target;!u.current||w&&u.current.contains(w)||r(null)};return document.addEventListener("mousedown",g),document.addEventListener("touchstart",g),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("touchstart",g)}},[i,r]),x.jsxs("div",{ref:u,className:"relative",children:[x.jsx("button",{ref:f,type:"button",onClick:()=>r(i?null:t),className:["px-1 desk:px-2 py-1 text-[10px] text-center desk:text-[11px] rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:c,children:c}),a&&i&&x.jsx("div",{className:["absolute top-full mt-2 z-50",m==="left"?"left-0":m==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:x.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function Xy(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function OE(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function _ie({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:c,etcShinsalGood:u,etcShinsalBad:f}){const[m,p]=E.useState(!0),[g,v]=E.useState(!0),[w,_]=E.useState(null);return x.jsxs(x.Fragment,{children:[o&&x.jsx("div",{className:"px-2 desk:px-0 py-2",children:x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[x.jsxs("button",{type:"button",onClick:()=>p(S=>!S),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[x.jsx("span",{children:""}),x.jsx("span",{className:"text-[10px]",children:m?"":""})]}),m&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"     ."}),n.length===0?x.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):x.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[x.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&x.jsx(uo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&x.jsx(uo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&x.jsx(uo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&x.jsx(uo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&x.jsx(uo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&x.jsx(uo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),x.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[x.jsx(uo,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),x.jsx(uo,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),x.jsx(uo,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),x.jsx(uo,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),c&&x.jsx("div",{className:"px-2 desk:px-0 py-2",children:x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[x.jsxs("button",{type:"button",onClick:()=>v(S=>!S),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[x.jsx("span",{children:""}),x.jsx("span",{className:"text-[10px]",children:g?"":""})]}),g&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),hP(u)||hP(f)?x.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[x.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&x.jsx(co,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-wol"),t>=2&&x.jsx(co,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-se"),t>=1&&x.jsx(co,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-dae")]:[t>=1&&x.jsx(co,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-dae"),t>=2&&x.jsx(co,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-se"),t>=3&&x.jsx(co,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-wol")]).filter(Boolean)}),x.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[x.jsx(co,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:f.natal.hour,isDesktop:e,openTagKey:w,setOpenTagKey:_}),x.jsx(co,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:f.natal.day,isDesktop:e,openTagKey:w,setOpenTagKey:_}),x.jsx(co,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:f.natal.month,isDesktop:e,openTagKey:w,setOpenTagKey:_}),x.jsx(co,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:f.natal.year,isDesktop:e,openTagKey:w,setOpenTagKey:_})]})]}):x.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function uo({title:e,tags:t,activeTag:n,onToggle:r}){return x.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?x.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):x.jsx("div",{className:"flex flex-row desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return x.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-1 desk:px-2 py-1 text-[10px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:wie(i)},i)})})]})}function wie(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function hP(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function mP(e){return String(e).padStart(2,"0")}function Sie(e,t,n){if(!e||e.length<8)return sP(e,t);const r=sP(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),c=Ui(i,a,o);return` ${`${c.getFullYear()}.${mP(c.getMonth()+1)}.${mP(c.getDate())}`} ( ${r})`}catch{return` ${r}`}}function Eie({data:e,hourTable:t}){const{date:n}=ci(),r=qn(Ne=>Ne.settings),i=r.showNabeum??!0,a=r.showRelationBox??!0,o=r.showEtcShinsal??!0,c=N4(e.mingSikType,t),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:f,solarM:m,solarD:p}=E.useMemo(()=>{let Ne=Number(e.birthDay?.slice(0,4)??2e3),_e=Number(e.birthDay?.slice(4,6)??1),je=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Ie=Ui(Ne,_e,je);Ne=Ie.getFullYear(),_e=Ie.getMonth()+1,je=Ie.getDate()}return{solarY:Ne,solarM:_e,solarD:je}},[e.birthDay,e.calendarType]),[g,v]=E.useState(!1);E.useEffect(()=>{f&&m&&p&&v(Uy(f,m,p))},[f,m,p]);const w=Q2(e.birthTime),[_,S]=E.useState(()=>uP(e,g));E.useEffect(()=>{S(uP(e,g))},[e,g]);const T=tie(e.correctedLocal,_.corrected,w),N=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,O=_.day.stem,[P,M]=E.useState(null),[D,$]=E.useState(()=>cP(e.mingSikType));E.useEffect(()=>{M(null),$(cP(e.mingSikType))},[N,e.mingSikType]),E.useEffect(()=>{pe(null)},[N]);const H=E.useMemo(()=>eie(O,D),[D,O]),q=P??_.hour,K=Ym(Ne=>Ne.setManualHour),F=(Ne,_e)=>{const je={stem:Ne,branch:_e};M(je),K(je)},z=rie(r.sinsalBase)===""?_.day.branch:_.year.branch,Z=Ne=>r.showSibiUnseong?Oo(O,Ne):null,Q=Ne=>r.showSibiSinsal?jo({baseBranch:z,targetBranch:Ne,era:uf(r.sinsalMode),gaehwa:r.sinsalBloom}):null,J=ane(e,c),Y=Ite({query:"(min-width: 992px)"}),X=r.hiddenStem==="regular"?"main":"all",re=iie(r.exposure),ue=re===0?[]:J.filter(Ne=>(Ne.key==="daeun"?1:Ne.key==="seun"?2:3)<=re),se=Uy(f,m,p),B=()=>v(Ne=>!Ne),W=$2(e,t,n),ae=W.dae.gz,V=W.se.gz,oe=W.wol.gz,[me,pe]=E.useState(null),be=E.useMemo(()=>{const Ne=_e=>_e?.stem&&_e?.branch?`${_e.stem}${_e.branch}`:"";return _l({natal:[Ne(_.year),Ne(_.month),Ne(_.day),Ne(q)],daewoon:ae??void 0,sewoon:V??void 0,wolwoon:oe??void 0})},[_,q,ae,V,oe]),ne=E.useMemo(()=>{const Ne=[...be.cheonganHap,...be.cheonganChung,...be.jijiSamhap,...be.jijiBanhap,...be.jijiBanghap,...be.jijiYukhap,...be.jijiChung,...be.jijiHyeong,...be.jijiPa,...be.jijiHae,...be.amhap,...be.ganjiAmhap].filter(_e=>_e&&_e!=="#");return Array.from(new Set(Ne))},[be]),Oe=E.useMemo(()=>{const Ne=(je,Ie)=>{je.includes(Ie)||je.push(Ie)},_e={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const je of ne){const Ve=(je.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);Ve.includes("")&&Ne(_e.luck.wol,je),Ve.includes("")&&Ne(_e.luck.se,je),Ve.includes("")&&Ne(_e.luck.dae,je),Ve.includes("")&&Ne(_e.natal.hour,je),Ve.includes("")&&Ne(_e.natal.day,je),Ve.includes("")&&Ne(_e.natal.month,je),Ve.includes("")&&Ne(_e.natal.year,je)}return _e},[ne]),Ce=E.useMemo(()=>{const Ne=Ie=>Ie?.stem&&Ie?.branch?`${Ie.stem}${Ie.branch}`:"",_e=zd({natal:[Ne(_.year),Ne(_.month),Ne(_.day),Ne(q)],daewoon:ae??void 0,sewoon:V??void 0,wolwoon:oe??void 0}),je=Ie=>Array.from(new Set(Ie.filter(Ve=>Ve&&Ve!=="#")));return{good:{natal:{hour:je(_e.good.si??[]),day:je(_e.good.il??[]),month:je(_e.good.wol??[]),year:je(_e.good.yeon??[])},luck:{dae:je(_e.good.dae??[]),se:je(_e.good.se??[]),wol:je(_e.good.wolun??[])}},bad:{natal:{hour:je(_e.bad.si??[]),day:je(_e.bad.il??[]),month:je(_e.bad.wol??[]),year:je(_e.bad.yeon??[])},luck:{dae:je(_e.bad.dae??[]),se:je(_e.bad.se??[]),wol:je(_e.bad.wolun??[])}}}},[_,q,ae,V,oe]),ve=E.useMemo(()=>{const Ne={},_e=(je,Ie)=>{for(const Ve of je)Ne[Ve]=Ie};return _e(be.cheonganHap,"stem"),_e(be.cheonganChung,"stem"),_e(be.jijiSamhap,"branch"),_e(be.jijiBanhap,"branch"),_e(be.jijiBanghap,"branch"),_e(be.jijiYukhap,"branch"),_e(be.jijiChung,"branch"),_e(be.jijiHyeong,"branch"),_e(be.jijiPa,"branch"),_e(be.jijiHae,"branch"),_e(be.amhap,"branch"),_e(be.ganjiAmhap,"both"),Ne},[be]),Ze=E.useMemo(()=>{if(!me)return{};const Ne=ve[me]??"branch",je=(me.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),Ie={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},Ve={};for(const bt of je){const xt=Ie[bt];if(!xt)continue;const Pt=Ve[xt]??{stem:!1,branch:!1};Ne==="stem"?Pt.stem=!0:(Ne==="branch"||(Pt.stem=!0),Pt.branch=!0),Ve[xt]=Pt}return Ve},[me,ve]);return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[x.jsxs("div",{className:"mb-1 gap-2 p-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",x.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),se&&x.jsxs("button",{onClick:B,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${g?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",g?"ON":"OFF"]})]}),x.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[Sie(e.birthDay,e.birthTime,e.calendarType)," : ",T]})]}),x.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",u.toFixed(2),"  ",c," "]})]}),x.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${ue.length===0?"grid-cols-1":ue.length===1?"grid-cols-[2fr_8fr]":ue.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[ue.length>0&&x.jsx(mie,{cards:ue,isDesktop:Y,dayStem:O,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:X,hiddenStemMode:r.hiddenStemMode,calcUnseong:Z,calcShinsal:Q,daeGz:ae,seGz:V,wolGz:oe,highlightMap:Ze}),x.jsx(pie,{isDesktop:Y,dayStem:O,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:X,hiddenStemMode:r.hiddenStemMode,calcUnseong:Z,calcShinsal:Q,highlightMap:Ze,pillars:[{key:"hour",label:"",data:q},{key:"day",label:"",data:_.day},{key:"month",label:"",data:_.month},{key:"year",label:"",data:_.year}]})]}),x.jsx(_ie,{isDesktop:Y,exposureLevel:re,relationChips:ne,relationByPillar:Oe,activeRelationTag:me,onToggleRelationTag:pe,showRelationBox:a,showEtcShinsalBox:o,etcShinsalGood:Ce.good,etcShinsalBad:Ce.bad}),w&&x.jsx(gie,{hourCandidates:H,useInsi:D,onToggleRule:()=>$(Ne=>!Ne),manualHour:P,onSelectHour:F})]})}function vv(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const c=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=c&&a<u)return o}return 0}const kie=!1,pP=e=>e<10?`0${e}`:`${e}`;function xv(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){u=m;break}if(typeof m=="number"){u=m===1;break}if(typeof m=="string"){u=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Ui(i,a,o,0,0),m=`${f.getFullYear()}${pP(f.getMonth()+1)}${pP(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function Aie({data:e}){const t=ou(e),n=E.useMemo(()=>{const M=xv(e);return Tl(M)},[e]),r=E.useMemo(()=>{const M=e.mingSikType??"/";return gt(n,M).charAt(0)},[n,e.mingSikType]),{date:i,setFromEvent:a}=ci(),o=E.useMemo(()=>vv(t,i),[t,i]),c=qn(M=>M.settings),{charType:u,thinEum:f,showSipSin:m,showSibiUnseong:p,showSibiSinsal:g,sinsalBase:v,sinsalMode:w,sinsalBloom:_}=c,S=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,T=e.mingSikType??"/",N=v===""?gt(n,T).charAt(1):at(n,S).charAt(1),O=M=>p?Oo(r,M):null,P=M=>g?jo({baseBranch:N,targetBranch:M,era:uf(w),gaehwa:!!_}):null;return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),x.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:t.map((M,D)=>{const $=M.gz.charAt(0),H=M.gz.charAt(1),q=Tie(n,M.at),K=D===o,F=li($,"stem",u),z=li(H,"branch",u),Z=Ua($,"stem"),Q=Ua(H,"branch"),J=f&&Z?"font-thin":"font-bold",Y=f&&Q?"font-thin":"font-bold",X=O(H),re=P(H);return x.jsxs("div",{onClick:()=>a(M,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${K?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${M.gz}  ${M.at.toLocaleDateString()}`,children:[x.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:q}),x.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[m&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(r,{stem:$})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Bi($,"stem",c)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${J}`,children:F})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Bi(H,"branch",c)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${Y}`,children:z})}),m&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(r,{branch:H})}),(p||g)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[p&&x.jsx("div",{children:X}),g&&x.jsx("div",{children:re})]})]})]},`${M.gz}-${D}`)})})]})}function Tie(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function _v(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setDate(u.getDate()+1),u.setHours(4,30,0,0),u}return t}function Ww(e){return new Date(e,6,2,12,0,0,0)}function Oie(e,t){return t-e+1}function jie({data:e,list:t,onSelect:n}){const r=qn($=>$.settings),{date:i,setFromEvent:a}=ci(),[o,c]=E.useState(()=>t);E.useEffect(()=>{t&&t.length>0&&c(t)},[t]);const u=Tl(e),f=E.useMemo(()=>_v(e,u),[e,u]),m=E.useMemo(()=>f.getFullYear(),[f]),p=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,g=E.useMemo(()=>{if(!i)return[];const $=i.getFullYear(),H=Ww($),q=at(H,p);return[{at:H,gz:q}]},[i,p]),v=t.length>0?t:o.length>0?o:g,w=E.useMemo(()=>[...v].sort(($,H)=>$.at.getTime()-H.at.getTime()),[v]),_=E.useMemo(()=>{if(w.length===0)return 0;const $=vv(w,i);return $<0?0:$>=w.length?w.length-1:$},[w,i]),[S,T]=E.useState(null);E.useEffect(()=>{T(null)},[i,w]);const N=S??_,O=E.useMemo(()=>{const $=xv(e);return Tl($)},[e]),P=e.mingSikType??"/",M=E.useMemo(()=>gt(O,P).charAt(0),[O,P]),D=E.useMemo(()=>r.sinsalBase===""?gt(f,P).charAt(1):at(f,p).charAt(1),[f,P,p,r.sinsalBase]);return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),x.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map(($,H)=>{const q=$.at.getFullYear(),K=Ww(q),F=at(K,p),z=F.charAt(0),Z=F.charAt(1),Q=H===N,J=li(z,"stem",r.charType),Y=li(Z,"branch",r.charType),X=Ua(z,"stem"),re=Ua(Z,"branch"),ue=r.thinEum&&X?"font-thin":"font-bold",se=r.thinEum&&re?"font-thin":"font-bold",B=r.showSibiUnseong?Oo(M,Z):null,W=r.showSibiSinsal?jo({baseBranch:D,targetBranch:Z,era:uf(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,ae=Oie(m,q);return x.jsxs("div",{onClick:()=>{if(H===0){T(H);return}T(H);const V=Ww(q),oe=at(V,p);a({at:V,gz:oe},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(q)):Promise.resolve().then(()=>n(q)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${Q?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${F}  ${$.at.toLocaleDateString()}  ${ae}`,children:[x.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[ae,""]}),x.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:q}),x.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(M,{stem:z})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Bi(z,"stem",r)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${ue}`,children:J})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Bi(Z,"branch",r)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${se}`,children:Y})}),r.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(M,{branch:Z})}),(r.showSibiUnseong||r.showSibiSinsal)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&B&&x.jsx("div",{children:B}),r.showSibiSinsal&&W&&x.jsx("div",{children:W})]})]})]},`${q}-${$.gz||H}`)})})]})}const Nie=new Set(["","","","","","","","","","","",""]);function Cie(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...da(new Date(n-1,5,15,12,0))??[],...da(new Date(n,5,15,12,0))??[],...da(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,f)=>u.date.getTime()-f.date.getTime()).filter(u=>Nie.has(u.name));let a=i.findIndex((u,f)=>i[f].date<=t&&t<i[f+1]?.date);a<0&&(a=0);const o=i[a],c=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(c.date.getFullYear(),c.date.getMonth(),c.date.getDate(),0,0,0,0),cur:o,next:c}}const Mie=new Set(["","","","","","","","","","","",""]);function Pie(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function Die(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function Vw(e){return new Date(e,5,15,12,0,0,0)}function Rie(e){const n=[...da(Vw(e-1))??[],...da(Vw(e))??[],...da(Vw(e+1))??[]].map(c=>({name:String(c.name),date:new Date(c.date)})).sort((c,u)=>c.date.getTime()-u.date.getTime()).filter(c=>Mie.has(c.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(c=>c.name===""&&c.date>=r&&c.date<i);if(a===-1)return[];const o=[];for(let c=0;c<12;c++){const u=n[a+c];if(!u)break;const f=new Date(u.date),m=Pie(f);o.push({name:u.name,termAt:f,at00:m})}return o}function Lie({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=qn(S=>S.settings),a=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,o=Tl(e),c=E.useMemo(()=>_v(e,o),[e,o]),u=E.useMemo(()=>{const S=xv(e);return Tl(S)},[e]),f=e.mingSikType??"/",m=E.useMemo(()=>gt(u,f).charAt(0),[u,f]),p=i.sinsalBase===""?gt(c,f).charAt(1):at(c,a).charAt(1),g=E.useMemo(()=>t?Rie(t).map(T=>{const N=T.termAt,O=new Date(T.termAt.getTime()+1860*1e3),P=kt(O,a);return{at:N,gz:P,term:T.name,termAt:T.termAt}}):[],[t,a]),{date:v,setFromEvent:w}=ci(),_=vv(g,v);return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),x.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:g.map((S,T)=>{const N=S.gz.charAt(0),O=S.gz.charAt(1),P=`${Die(S.at)}`,M=T===_,D=li(N,"stem",i.charType),$=li(O,"branch",i.charType),H=Ua(N,"stem"),q=Ua(O,"branch"),K=i.thinEum&&H?"font-thin":"font-bold",F=i.thinEum&&q?"font-thin":"font-bold",z=i.showSibiUnseong?Oo(m,O):null,Z=i.showSibiSinsal?jo({baseBranch:p,targetBranch:O,era:uf(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return x.jsxs("div",{onClick:()=>{r(S.at);const Q=new Date(S.at),{start:J}=Cie(Q);n?.(J.getFullYear(),J.getMonth()),w({at:Q,gz:kt(Q,a)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${M?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${S.term}   ${S.gz}  ${S.termAt.toLocaleString()}`,children:[x.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:P}),x.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(m,{stem:N})}),x.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Bi(N,"stem",i)}`,children:x.jsx("span",{className:`text-base md:text-xl ${K}`,children:D})}),x.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Bi(O,"branch",i)}`,children:x.jsx("span",{className:`text-base md:text-xl ${F}`,children:$})}),i.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(m,{branch:O})}),(i.showSibiUnseong||i.showSibiSinsal)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&z&&x.jsx("div",{children:z}),i.showSibiSinsal&&Z&&x.jsx("div",{children:Z})]}),x.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:S.term})]})]},`${S.term}-${S.at.toISOString()}`)})})]})}function Iie(){const e=qn(r=>r.settings),{date:t,setFromEvent:n}=ci();return{settings:e,pickedDate:t,setFromEvent:n}}const $ie=(e,t)=>new Date(e,t,15,12,0,0,0),jE=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},Bie=new Set(["","","","","","","","","","","",""]),M4=e=>[...da(new Date(e-1,5,15,12,0))??[],...da(new Date(e,5,15,12,0))??[],...da(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),zie=e=>{const t=M4(e.getFullYear()),n=t.filter(o=>Bie.has(o.name));if(n.length<12){const o=t.findIndex(f=>f.date>e),c=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(c.date),end:new Date(u.date),cur:c,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},Uie=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function Fie({data:e,year:t,month:n,selectedMonth:r,settings:i,pickedDate:a}){const o=i.ilunRule||"/",c=E.useMemo(()=>{const H=xv(e);return Tl(H)},[e]),u=E.useMemo(()=>c?gt(c,o).charAt(0):void 0,[c,o]),f=E.useMemo(()=>e?Tl(e):null,[e]),m=E.useMemo(()=>e&&f?_v(e,f):null,[e,f]),p=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,g=e&&m?i.sinsalBase===""?gt(m,o).charAt(1):at(m,p).charAt(1):null,v=E.useMemo(()=>$ie(t,n),[t,n]),w=E.useMemo(()=>a?jE(new Date(a)):null,[a]),_=E.useMemo(()=>r?jE(r):null,[r]),S=E.useMemo(()=>w??_??v,[w,_,v]),{start:T,end:N,cur:O,next:P}=E.useMemo(()=>zie(S),[S]),M=E.useMemo(()=>{const H=[],q=new Date(T);for(;q<N;)H.push(new Date(q)),q.setDate(q.getDate()+1);return H},[T,N]),D=E.useMemo(()=>{const H=M4(S.getFullYear()),q=H.filter(F=>F.date>=T&&F.date<N),K=H.find(F=>F.date>=N);return K?[...q,K]:q},[S,T,N]),$=E.useMemo(()=>{const H=[];let q=[];const K=new Date(T).getDay();for(let F=0;F<K;F+=1)q.push(null);for(const F of M)q.length===7&&(H.push(q),q=[]),q.push(F);for(;q.length<7;)q.push(null);return H.push(q),H},[M,T]);return{rule:o,dayStem:u,baseBranch:g,pickerNoon:w,termMarks:D,weeks:$,cur:O??null,next:P??null}}function Hie({setFromEvent:e}){return{handleDayClick:E.useCallback(n=>{e({at:n},"")},[e])}}function Gie({data:e,year:t,month:n,selectedMonth:r}){const i=Iie(),a=Fie({data:e,year:t,month:n,selectedMonth:r,settings:i.settings,pickedDate:i.pickedDate}),o=Hie({setFromEvent:i.setFromEvent});return x.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:x.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[a.cur?.name?x.jsxs(x.Fragment,{children:[a.cur.name," "," ~ ",a.next?.name??""]}):`${t} ${n}`,a.termMarks.length>0&&x.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",a.termMarks.map((c,u)=>x.jsxs("span",{children:[c.name," ",Uie(c.date),u<a.termMarks.length-1?"  ":""]},`${c.name}_${c.date.getTime()}_${u}`)),"]"]})]})}),x.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(c=>x.jsx("div",{className:"py-1",children:c},c))}),x.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:a.weeks.map((c,u)=>c.map((f,m)=>{if(!f)return x.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${u}-${m}`);const p=jE(f),g=new Date,v=p.getFullYear()===g.getFullYear()&&p.getMonth()===g.getMonth()&&p.getDate()===g.getDate(),_=!!a.pickerNoon&&p.getFullYear()===a.pickerNoon.getFullYear()&&p.getMonth()===a.pickerNoon.getMonth()&&p.getDate()===a.pickerNoon.getDate()||!a.pickerNoon&&v,S=Iq(p,a.rule),T=S.charAt(0),N=S.charAt(1),O=li(T,"stem",i.settings.charType),P=li(N,"branch",i.settings.charType),M=i.settings.thinEum&&Ua(T,"stem")?"font-thin":"font-bold",D=i.settings.thinEum&&Ua(N,"branch")?"font-thin":"font-bold",$=!!a.dayStem&&i.settings.showSipSin,H=!!a.dayStem&&i.settings.showSibiUnseong,q=!!a.dayStem&&a.baseBranch!=null&&i.settings.showSibiSinsal,K=$?fa(a.dayStem,{stem:T}):"",F=$?fa(a.dayStem,{branch:N}):"",z=H?Oo(a.dayStem,N):"",Z=q?jo({baseBranch:a.baseBranch,targetBranch:N,era:uf(i.settings.sinsalMode),gaehwa:!!i.settings.sinsalBloom}):"",Q=a.termMarks.find(J=>J.date.getFullYear()===p.getFullYear()&&J.date.getMonth()===p.getMonth()&&J.date.getDate()===p.getDate());return x.jsxs("div",{onClick:()=>o.handleDayClick(p),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${_?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${S} (${p.toLocaleDateString()})`,children:[x.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[x.jsx("span",{children:p.getDate()}),Q&&x.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:Q.name})]}),$&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:K}),x.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Bi(T,"stem",i.settings)}`,children:x.jsx("span",{className:M,children:O})}),x.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Bi(N,"branch",i.settings)}`,children:x.jsx("span",{className:D,children:P})}),$&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:F}),(H||q)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[H&&z&&x.jsx("div",{children:z}),q&&Z&&x.jsx("div",{children:Z})]})]},f.toISOString())}))})]})}function gP(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=Un(a,315);let c=a;new Date<o&&(c=a-1);const f=at(new Date(c,1,10));i.push({at:o,gz:f})}return i}function qie({data:e}){const t=ou(e),[n,r]=E.useState(null),[i,a]=E.useState(null),[o,c]=E.useState("il"),[u,f]=E.useState(null);E.useEffect(()=>{if(!t.length)return;const w=new Date,_=t.findIndex((S,T)=>{const N=t[T+1]?.at;return w>=S.at&&(!N||w<N)});_!==-1&&r(_)},[t]),E.useEffect(()=>{if(n===null)return;const w=t[n],_=t[n+1];if(!w)return;const S=gP(w,_),T=new Date;S.findIndex((O,P)=>{const M=S[P+1]?.at;return T>=O.at&&(!M||T<M)})!==-1&&a({year:T.getFullYear(),month:T.getMonth()})},[n,t]);const m=$2(e),{date:p}=ci(),g=p.getMonth()+1===1?p.getFullYear()-1:p.getFullYear(),v=E.useMemo(()=>{if(!m?.dae?.gz)return[];const w=t.findIndex((T,N)=>{const O=t[N+1]?.at;return m.dae.at>=T.at&&(!O||m.dae.at<O)});if(w===-1)return[];const _=t[w],S=t[w+1];return gP(_,S)},[t,m?.dae]);return x.jsxs("div",{className:"w-full space-y-4",children:[x.jsx(Aie,{data:e}),o==="se"||o==="wol"||o==="il"?x.jsx(jie,{data:e,list:v,onSelect:()=>{c("wol")}}):null,o==="wol"||o==="il"?x.jsx(Lie,{data:e,activeYear:g,onSelect:(w,_)=>{a({year:w,month:_}),c("il")},onSelectMonth:f}):null,o==="il"&&i&&x.jsx(Gie,{data:e,year:i.year,month:i.month+1,selectedMonth:u})]})}const Yie=new Set(kq),Kie=new Set(Aq);function yP(e){return typeof e=="string"&&e.length>=2&&Yie.has(e[0])&&Kie.has(e[1])}function ki(e,...t){if(yP(e))return e;for(const n of t)if(yP(n))return n;return""}const Wie={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function b0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function Vie({data:e}){const t=qn(K=>K.settings),{manualHour:n}=Ym(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:c}=t,{date:u}=ci(),f=E.useMemo(()=>Jm(e),[e]),m=E.useMemo(()=>yv(f),[f]),p=E.useMemo(()=>I2(f,"/"),[f]),g=E.useMemo(()=>av(p.day?.charAt(0)??""),[p.day]),v=!e.birthTime||e.birthTime==="",w=E.useMemo(()=>r4(m,p.hour,e.dir??"forward",120,"/"),[m,p.hour,e.dir]),_=E.useMemo(()=>a4(w,p.day,e.dir??"forward",""),[w,p.day,e.dir]),S=E.useMemo(()=>ep(m,p.month,e.dir??"forward",120,f.birthPlace?.lon??127.5),[m,p.month,e.dir,f.birthPlace?.lon]),T=E.useMemo(()=>o4(S,p.year,e.dir??"forward","",m),[S,p.year,e.dir,m]),N=E.useMemo(()=>{const K=w?.events?.[0];return K?{at:K.at,from:ki(p.hour),to:ki(K.gz)}:null},[w?.events,p.hour]),O=E.useMemo(()=>{const K=S?.events?.[0];return S?.firstChange?{at:S.firstChange,from:ki(p.month),to:ki(K?.gz??p.month)}:null},[S?.firstChange,S?.events,p.month]),P=E.useMemo(()=>{const K=v?n?n.stem+n.branch:"":ki(b0(w.events,u)?.gz,p.hour);let F;if(v&&n){const z=u.getFullYear(),Z=u.getMonth(),Q=u.getDate(),J=Wie[n.branch]??0,Y=new Date(z,Z,Q,J,0),X=gt(Y,e.mingSikType??"/");F=ki(X,p.day)}else F=ki(b0(_.events,u)?.gz,p.day);return{si:K,il:F,wl:ki(b0(S.events,u)?.gz,p.month),yn:ki(b0(T.events,u)?.gz,p.year)}},[u,w.events,_.events,S.events,T.events,p,v,n,e.mingSikType]),M=E.useMemo(()=>({si:ki(za(u,"/")),il:ki(gt(u,"/")),wl:ki(kt(u)),yn:ki(at(u))}),[u]),D=E.useMemo(()=>a===""?p.day.charAt(1):p.year.charAt(1),[a,p.day,p.year]),$=E.useMemo(()=>uf(o),[o]),H=K=>{if(!K)return{unseong:"",shinsal:""};const F=li(g,"stem",""),z=li(K.charAt(1),"branch",""),Z=li(D,"branch","");return{unseong:r&&Oo(F,z)||"",shinsal:i&&jo({baseBranch:Z,targetBranch:z,era:$,gaehwa:!!c})||""}},q=(K,F,z="myoun")=>{const Z=F,{unseong:Q,shinsal:J}=F?H(F):{unseong:"",shinsal:""},Y=z==="myoun"&&v&&(K===""||K==="");return x.jsx(pd,{label:K,gz:Z,dayStem:g,settings:t,unseongText:F?Q:"",shinsalText:F?J:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:Y},`${z}-${K}`)};return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[x.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:x.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",x.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",om(m),")"]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),x.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[q("",P.si,"myoun"),q("",P.il,"myoun"),q("",P.wl,"myoun"),q("",P.yn,"myoun")]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),x.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[q("",M.si,"live"),q("",M.il,"live"),q("",M.wl,"live"),q("",M.yn,"live")]})]})]}),x.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[x.jsx("div",{className:"font-semibold",children:"  "}),x.jsxs("div",{children:[":"," ",N?`${om(N.at)} (${N.from}  ${N.to})`:" "]}),x.jsxs("div",{children:[":"," ",O?`${om(O.at)} (${O.from}  ${O.to})`:" "]})]})]})}const bP=["","","","","","","","","",""],Zie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Jie={:"",:"",:"",:"",:""},Qie={:"",:"",:"",:"",:""},eae={:"",:"",:"",:"",:""},tae={:"",:"",:"",:"",:""};function nae(e,t){switch(e){case"":return t;case"":return Jie[t];case"":return eae[t];case"":return tae[t];case"":return Qie[t];default:return t}}function rae({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:o}){const c=i,u=a,f=c/2,m=u/2,p=Math.min(c,u)*.37,g=E.useMemo(()=>{const O=(r??"").charAt(0);return Xie[O]??null},[r]),v=O=>Math.PI/2+2*-Math.PI*O/5,w=E.useMemo(()=>e.map((O,P)=>({...O,x:f+p*Math.cos(v(P)),y:m-p*Math.sin(v(P))})),[e,f,m,p]),[_,S]=E.useState(0),T=E.useRef(""),N=E.useMemo(()=>{const O=e.map(D=>`${D.name}:${D.value}`).join(","),P=bP.map(D=>`${D}:${t?.[D]??0}`).join(","),M=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[o??"",O,P,M,r??""].join("||")},[o,e,t,r,n]);return E.useEffect(()=>{N!==T.current&&(T.current=N,S(O=>O+1))},[N]),x.jsx("div",{className:"w-full",children:x.jsxs("svg",{width:c,height:u,className:"mx-auto pt-2",children:[w.map((O,P)=>{const M=w[(P+2)%5];return x.jsx("line",{x1:O.x,y1:O.y,x2:M.x,y2:M.y,stroke:"#94a3b8",strokeWidth:1},`line-${P}`)}),w.map((O,P)=>{const M=w[(P+1)%5],D=(O.x+M.x)/2,$=(O.y+M.y)/2,H=D-f,q=$-m,K=1.5,F=f+H*K,z=m+q*K;return x.jsx("path",{d:`M${O.x},${O.y} Q${F},${z} ${M.x},${M.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${P}`)}),x.jsx("defs",{children:x.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:x.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),w.map(O=>{const P=O.name,M=g?nae(P,g):null,D=M?bP.filter($=>Zie[$]===M).map($=>[$,t?.[$]??0]):[];return x.jsxs("g",{transform:`translate(${O.x},${O.y})`,children:[x.jsx("circle",{r:33,fill:O.color??"#334155",opacity:O.value===0?.7:1}),x.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[O.name," ",O.value]}),D.map(([$,H],q)=>x.jsxs("text",{textAnchor:"middle",dy:8+q*11,fontSize:10,className:"fill-white",children:[$," ",Math.round(H)]},$))]},`${O.name}-${O.value}`)})]},_)})}const iae=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function eA(e){return Math.max(0,Math.min(100,e))}function P4(e){const t=eA(e);return iae.find(r=>t>=r.min&&t<r.max)?.name??""}const aae=[10,20,35,45,55,65,80];function oae({value:e}){const t=E.useMemo(()=>eA(e),[e]),n=E.useMemo(()=>P4(t),[t]);return x.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[x.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[x.jsx("span",{children:""}),x.jsx("span",{children:""}),x.jsx("span",{children:""})]}),x.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[aae.map(r=>x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),x.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),x.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}function Dh(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function na({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,c=t.length>0?t:["#"],u=o?c.filter(p=>p!=="#"):c,m=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return x.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[x.jsx("div",{className:m,children:e}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Dh(p,"natal"),children:p},`natal-${g}`)),n.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Dh(p,"dae"),children:p},`dae-${g}`)),r.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Dh(p,"se"),children:p},`se-${g}`)),i.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Dh(p,"wol"),children:p},`wol-${g}`)),a.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Dh(p,"il"),children:p},`il-${g}`))]})]})}function NE(e){return Array.isArray(e)?e:[]}function v0(e,t){const n=new Set(NE(e));return NE(t).filter(i=>!n.has(i))}function sae({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=X2(e),c=_l({natal:e}),u=t?_l({natal:e,daewoon:t}):c,f=n?_l({natal:e,daewoon:t,sewoon:n}):u,m=r?_l({natal:e,daewoon:t,sewoon:n,wolwoon:r}):f,p=i?_l({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):m,g=_=>({natal:NE(o[_]),dae:v0(c[_],u[_]),se:v0(u[_],f[_]),wol:v0(f[_],m[_]),il:v0(m[_],p[_])}),v={cheonganHap:g("cheonganHap"),cheonganChung:g("cheonganChung"),jijiSamhap:g("jijiSamhap"),jijiBanhap:g("jijiBanhap"),jijiBanghap:g("jijiBanghap"),jijiYukhap:g("jijiYukhap"),amhap:g("amhap"),ganjiAmhap:g("ganjiAmhap"),jijiChung:g("jijiChung"),jijiHyeong:g("jijiHyeong"),jijiPa:g("jijiPa"),jijiHae:g("jijiHae")},w=_=>a===""?{natal:_.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:[],wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:_.wol,il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:_.wol,il:_.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return x.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[x.jsx("div",{className:"text-base font-bold mb-1",children:""}),x.jsx(na,{label:"",...w(v.cheonganHap)}),x.jsx(na,{label:"",...w(v.cheonganChung)}),x.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),x.jsx(na,{label:"",...w(v.jijiSamhap)}),x.jsx(na,{label:"",...w(v.jijiBanhap)}),x.jsx(na,{label:"",...w(v.jijiBanghap)}),x.jsx(na,{label:"",...w(v.jijiYukhap)}),x.jsx(na,{label:"",...w(v.amhap)}),x.jsx(na,{label:"",...w(v.ganjiAmhap)}),x.jsx(na,{label:"",...w(v.jijiChung)}),x.jsx(na,{label:"",...w(v.jijiHyeong)}),x.jsx(na,{label:"",...w(v.jijiPa)}),x.jsx(na,{label:"",...w(v.jijiHae)})]})}function lae(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function cae({items:e,source:t}){const n=e.length>0?e:["#"];return x.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+lae(r,t),children:r},`${t}-${i}-${r}`))})}function vP({title:e,rows:t}){return x.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[x.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return x.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[x.jsx("div",{className:i,children:n.label}),x.jsx(cae,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function uae({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=qn(),[c,u]=E.useState(""),[f,m]=E.useState("");E.useEffect(()=>{o.sinsalBase===""?(u(""),m("")):(u(""),m(""))},[o.sinsalBase]);const p=E.useMemo(()=>({voidBasis:c===""?"day":"year",samjaeBasis:f===""?"day":"year"}),[c,f]),g=E.useMemo(()=>zd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:v,bad:w,meta:_}=g,S=K=>K.map(F=>F==="#"?F:` ${F}`),T=(K,F)=>{const z=["natal"];return F===""&&z.push("natal"),F===""&&z.push("natal","dae"),F===""&&z.push("natal","dae","se"),F===""&&z.push("natal","dae","se","wol"),F===""&&z.push("natal","dae","se","wol","il"),K.filter(Z=>z.includes(Z.source))},N=[{label:"",items:S(v.si),source:"natal"},{label:"",items:S(v.il),source:"natal"},{label:"",items:S(v.wol),source:"natal"},{label:"",items:S(v.yeon),source:"natal"},{label:"",items:v.dae,source:"dae"},{label:"",items:v.se,source:"se"},{label:"",items:v.wolun,source:"wol"},{label:"",items:v.ilun,source:"il"}],O=[{label:"",items:S(w.si),source:"natal"},{label:"",items:S(w.il),source:"natal"},{label:"",items:S(w.wol),source:"natal"},{label:"",items:S(w.yeon),source:"natal"},{label:"",items:w.dae,source:"dae"},{label:"",items:w.se,source:"se"},{label:"",items:w.wolun,source:"wol"},{label:"",items:w.ilun,source:"il"}],P=T(N,a),M=T(O,a),D=_.voidPair.day?`(${_.voidPair.day.join("")})`:"()",$=_.voidPair.year?`(${_.voidPair.year.join("")})`:"()",H=_.samjaeYears.day?`(${_.samjaeYears.day.join("")})`:"()",q=_.samjaeYears.year?`(${_.samjaeYears.year.join("")})`:"()";return x.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[x.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),x.jsxs("select",{value:c,onChange:K=>u(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[x.jsx("option",{value:"",children:D}),x.jsx("option",{value:"",children:$})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),x.jsxs("select",{value:f,onChange:K=>m(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[x.jsx("option",{value:"",children:H}),x.jsx("option",{value:"",children:q})]})]})]}),x.jsxs("div",{className:"desk:flex",children:[x.jsx(vP,{title:"()",rows:P}),x.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),x.jsx(vP,{title:"()",rows:M})]})]})}const oa={year:0,month:1,day:2,hour:3},D4={[oa.year]:.3,[oa.month]:.5,[oa.day]:.3,[oa.hour]:.3},R4={[oa.year]:.15,[oa.month]:.2,[oa.day]:0,[oa.hour]:.15},dae=e=>um.has(e)?e:Gn[e]??e,fae=e=>Dd.has(e)?e:Rn[e]??e,hae=e=>typeof e=="string"&&e.length>=2?dae(e.slice(-1)):"",mae=e=>typeof e=="string"&&e.length>=1?fae(e.slice(0,1)):"",bn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),pae={:bn(2,0,.5,2),:bn(2,0,0,2),:bn(2,0,0,2),:bn(0,2,2,0),:bn(0,2,2,0),:bn(0,2,1,2),:bn(0,2,2,.5),:bn(0,2,2,0),:bn(0,2,2,1),:bn(2,0,0,2),:bn(2,0,0,2),:bn(2,0,1,1)},gae={:bn(0,1,1,0),:bn(0,1,1,0),:bn(0,2,2,0),:bn(0,2,2,0),:bn(0,0,1,0),:bn(0,0,0,1),:bn(1,0,0,1),:bn(1,0,0,1),:bn(2,0,0,2),:bn(2,0,0,2)},xP=e=>Math.max(0,Math.min(100,e));function _P(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function yae(e){let t=0,n=0,r=0,i=0;return[oa.year,oa.month,oa.day,oa.hour].forEach(a=>{const o=pae[hae(e[a])],c=gae[mae(e[a])],u=D4[a],f=R4[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),f>0&&c&&(t+=c.han*f,n+=c.nan*f,r+=c.jo*f,i+=c.seup*f)}),{han:t,nan:n,jo:r,seup:i}}function bae(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function vae(e){const t=bae(e);return E.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=yae(t),o=_P(n,r),c=_P(a,i);return{hanNanPct:xP(o),joSeupPct:xP(c),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:D4,stem:R4}}},[t])}function wP({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=E.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),o=[10,20,35,45,55,65,80];return x.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[x.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[x.jsx("span",{children:n}),x.jsx("span",{children:r}),x.jsx("span",{children:i})]}),x.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[o.map(c=>x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${c}%`},title:`${c}%`},c)),x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),x.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),x.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function xae({natal:e}){const{hanNanPct:t,joSeupPct:n}=vae(e);return x.jsxs("div",{className:"flex gap-2",children:[x.jsx(wP,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),x.jsx(wP,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const Rr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Pa={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},_ae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Jy={:"",:"",:"",:"",:""},L4={:"",:"",:"",:"",:""},wm={:"",:"",:"",:"",:""},I4={:"",:"",:"",:"",:""},wae={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},Sae={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function tA(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function $4(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function nA(e){return e==="hgc"?Sae:wae}const Eae={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},Zw={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},B4={:"",:"",:"",:"",:""},z4={:"",:"",:"",:""},kae=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],Aae=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],Tae={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Ye=(e,t)=>`${e}${t}`,Ti=(e,t,n)=>`${e}${t}${n}`,Oae={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},SP={[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""]},EP={[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:[""],[Ti("","","")]:["",""]},jae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function sa(e){return["","","","",""].includes(e)}function Nae(e){return["","","","","",""].includes(e)}const Xw=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,ia=e=>e&&e.length>=1?e.charAt(0):"",Sn=e=>e&&e.length>=2?e.charAt(1):"",Cae=e=>Array.from(new Set(e));function Mae(e,t){const n=Eae[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function Pae(e){return Rr[e]??""}function Da(e,t){const n=Rr[e],r=Rr[t];if(!n||!r)return"";let i;r===n?i="":r===Jy[n]?i="":r===wm[n]?i="":r===I4[n]?i="":r===L4[n]?i="":i="";const a=sa(e)===sa(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Dae(e,t){const n=Rr[e],r=Pa[t];if(!n||!r)return"";let i;r===n?i="":r===Jy[n]?i="":r===wm[n]?i="":r===I4[n]?i="":r===L4[n]?i="":i="";const a=Nae(t)===sa(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Rae(e){return{:"",:"",:"",:"",:""}[e]??""}function CE(e,t){const n=Pae(e),r=sa(e);let i;t===n?i="":Jy[n]===t?i="":Jy[t]===n?i="":wm[n]===t?i="":wm[t]===n?i="":i="";const a=r===sa(Rae(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const Lae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Iae=e=>/^(|||||||||)$/.test(e);function $ae(e){return e?Iae(e)?e:Lae[e]??"":""}function x0(e){return $ae(ia(e))}function Bae(e){return e?.charAt(0)??""}function zae(e){return e?.charAt(1)??""}function Uae(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),c=fe=>(fe?.length??0)>=1?fe.charAt(0):"",u=fe=>(fe?.length??0)>=2?fe.charAt(1):"",f=[r,i,a,o].map(c).filter(Boolean),m=new Set(Object.keys(Pa)),p=[r,i,a,o].map(u).filter(fe=>!!fe&&m.has(fe)),g=c(a),v=Tae[g]??!1,w=new Set,_=t==="classic"?rv:iv,S=new Set(["","","","","","","","","",""]),T=fe=>(_[fe]??[]).filter(Me=>S.has(Me)),N=(fe,Me)=>{const Be=Pa[Me];return Be?CE(fe,Be):null},O={:0,:0,:0,:0,:0};for(const fe of f){const Me=Rr[fe];Me&&(O[Me]+=10)}const P=[];for(const fe of p){const Me=_ae[fe];Me&&P.push(Me);const Be=Pa[fe];Be&&(O[Be]+=6)}const D=[...f,...P].map(fe=>Da(g,fe)),$={:["",""],:["",""],:["",""],:["",""],:["",""]},H=fe=>D.filter(Me=>Me===fe).length,q=fe=>D.filter(Me=>$[fe].includes(Me)).length,K=p[1],F=!!g&&jae[g]===K,z=n.elementPercent100;z.>=20&&z.>=20&&z.>=15&&w.add("");const Z=[r,i,a,o].filter(Boolean),Q=[];for(const fe of Z){const Me=fe.charAt(0),Be=fe.charAt(1);Q.push(Da(g,Me)),Q.push(N(g,Be))}const J=(fe,Me)=>{const Be=(lt,jt)=>!!lt&&!!jt&&fe.includes(lt)&&Me.includes(jt)||Me.includes(lt)&&fe.includes(jt);for(let lt=0;lt+1<Q.length;lt+=2)if(Be(Q[lt],Q[lt+1]))return!0;return!1},Y=fe=>Q.some(Me=>!!Me&&fe.includes(Me)),X=H("")+H(""),re=H(""),ue=q(""),se=q(""),B=J(["",""],["",""]);if((re>=1||X>=2)&&ue>=1&&X>ue&&se<=1&&B&&w.add(""),Y($.)&&Y($.)&&J($.,$.)){const fe=D.includes("");w.add(fe?"":"")}q("")>=2&&q("")>=2&&Math.abs(q("")-q(""))<=1&&q("")<=1&&q("")<=1&&w.add("");const W=H(""),ae=H(""),V=H("")+H(""),oe=H("")+H(""),me=q("");ae>=2&&V>=1&&O.+O.>=20&&w.add(""),ae>=2&&oe>=1&&O.+O.>=20&&w.add(""),ae>=2&&oe>=1&&O.+O.>=20&&J([""],["",""])&&me<=1&&w.add(""),W>=2&&oe>=1&&O.+O.>=20&&J([""],["",""])&&me<=1&&w.add("");const pe=(fe,Me)=>{const Be=Rr[fe],lt=Pa[Me];return!!Be&&!!lt&&Be===lt},be=[r,i,a,o].filter(Boolean),ne=u(a),Oe=pe(g,ne),Ce=be.map(fe=>fe.charAt(0)).filter(fe=>["",""].includes(Da(g,fe)));let ve=!1;for(const fe of be){const Me=fe.charAt(0),Be=fe.charAt(1);if(Ce.includes(Me)&&pe(Me,Be)){ve=!0;break}}Oe&&ve&&w.add(""),q("")>=3&&q("")>=.5*(q("")+q("")+q("")+q(""))&&w.add(""),q("")>=3&&q("")>=.5*(q("")+q("")+q("")+q(""))&&w.add(""),q("")>=3&&q("")>=1&&w.add(""),q("")>=3&&q("")+q("")<=1&&w.add("");const Ze=H("");q("")+q("")>=2&&Ze===1&&q("")>=1&&w.add(""),Ze>=2&&V+q("")>=3&&w.add("");const Ne=W+ae;(W>=2||Ne>=2)&&oe>=1&&Ne>oe&&w.add(""),ae>=2&&oe>=1&&Ne>oe&&w.add("");const _e=H(""),je=H("");_e>=2&&Ze+je>=1&&w.add(""),_e>=2&&Ze+je===0&&w.add(""),v&&_e>=2&&Ze>=1&&w.add(""),!v&&_e>=2&&Ze>=1&&w.add(""),H("")>=2&&H("")>=1&&w.add(""),H("")>=1&&H("")>=1&&J([""],[""])&&w.add(""),F&&Ze>=1&&q("")+q("")>=2&&w.add("");const Ie=[u(r),u(i),u(a),u(o)].filter(Boolean),Ve=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),bt=new Set(Ve.map(fe=>Da(g,fe))),xt=new Set(Ie.flatMap(fe=>{const Me=Pa[fe];return Me?[CE(g,Me)]:[]})),Pt=new Set(Ie.flatMap(fe=>T(fe).map(Me=>Da(g,Me))));return["","","","",""].forEach(fe=>{const Me=$[fe],Be=Me.some(yt=>bt.has(yt)),lt=Me.some(yt=>xt.has(yt)),jt=Me.some(yt=>Pt.has(yt));!Be&&!lt&&!jt?w.add(`${fe}`):!Be&&!lt&&jt&&w.add(`${fe}`)}),Array.from(w)}const Fae=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=ia(n),i=Sn(n),a=Rr[r],o=Pa[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function Hae(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,c,u]=(t??[]).slice(0,4),f=[ia(a),ia(o),ia(c),ia(u)].filter(Boolean),m=[Sn(a),Sn(o),Sn(c),Sn(u)].filter(Boolean),p=Rr[n],g=f.map(fe=>Da(n,fe)),v=[],w=fe=>f.filter(Me=>Me===fe).length,_=fe=>m.filter(Me=>Me===fe).length,S=fe=>fe.every(Me=>m.includes(Me)),T=fe=>g.some(Me=>fe.includes(Me)),N=ia(o),O=fe=>sa(fe),P=()=>{const fe=f.map(Me=>Rr[Me]);return fe.length===4&&fe.every(Me=>Me===fe[0])},M=()=>{if(f.length!==4)return!1;const fe=f.map(O),Me=fe[0]&&!fe[1]&&fe[2]&&!fe[3],Be=!fe[0]&&fe[1]&&!fe[2]&&fe[3];return Me||Be};sa(n)&&B4[n]===r&&v.push("");const D=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[fe,Me]of D)if(n===fe&&r===Me){v.push("");break}!sa(n)&&z4[n]===r&&v.push("");const $=Zw[n];$&&Sn(c)===$&&p===Pa[Sn(c)]&&v.push(""),$&&Sn(u)===$&&p===Pa[Sn(u)]&&v.push("");const H=[a,o,c,u].map(Bae),q=[a,o,c,u].map(zae);for(const fe of H);for(const fe of q);const K=i==="hgc"?iv:rv;function F(fe){return(K[fe]??[]).filter(Me=>["","","","","","","","","",""].includes(Me))}const z=[a,o,c,u].filter(Boolean),Q=z.flatMap(fe=>[fe.charAt(0),fe.charAt(1)]).flatMap(fe=>{try{if(["","","","","","","","","",""].includes(fe))return[Da(n,fe)];if(["","","","","","","","","","","",""].includes(fe)){const Me=Dae(n,fe),Be=F(fe).map(lt=>Da(n,lt));return[Me,...Be]}return[]}catch{return[]}}),J=fe=>Q.some(Me=>fe.includes(Me)),Y=(fe,Me)=>{const Be=[],lt=[];for(const yt of z){const Zn=yt.charAt(0),hi=yt.charAt(1);Be.push(Da(n,Zn));const mi=Pa[hi];mi?lt.push(CE(n,mi)):lt.push(null)}const jt=(yt,Zn)=>!!yt&&!!Zn&&(fe.includes(yt)&&Me.includes(Zn)||Me.includes(yt)&&fe.includes(Zn));for(let yt=0;yt<Be.length;yt++)if(jt(Be[yt],lt[yt]))return!0;for(let yt=0;yt<Be.length-1;yt++)if(jt(Be[yt],Be[yt+1])||jt(lt[yt],lt[yt+1]))return!0;return!1},X={:["",""],:["",""],:["",""],:["",""]};J([...X.])&&J([...X.])&&Y([...X.],[...X.])&&v.push(""),J([...X.])&&J([...X.])&&Y([...X.],[...X.])&&v.push("");const re=fe=>g.filter(Me=>fe.includes(Me)).length,ue=re(["",""]),se=re([""]),B=re([""]),W=re(["",""]),ae=re(["",""]),V=re(["",""]);se>=1&&ue>=1&&ue>=se&&B<=se&&v.push("");const oe=re([""]);oe>=1&&W>=1&&oe>=W&&v.push(""),g.includes("")&&W>=1&&v.push("");const pe=Fae(t),be=Object.entries(pe).sort((fe,Me)=>Me[1]-fe[1]),ne=be[0];if(ne&&ne[1]>=60&&v.push(`(${ne[0]})`),be.length>=2){const[fe,Me]=be[0],[,Be]=be[1];Me>=75&&Me-Be>=12&&p!==fe&&v.push(`(${fe})`)}for(const fe of kae){const Me=f.includes(fe.a),Be=f.includes(fe.b);if(!Me||!Be)continue;const lt=fe.to,jt=pe[lt]??0,yt=Rr[fe.a],Zn=Rr[fe.b],hi=Math.max(pe[yt]??0,pe[Zn]??0),mi=Pa[r]===lt,Ms=Object.entries(pe).sort((hn,pi)=>pi[1]-hn[1])[0]?.[0]===lt;let qt=!1;jt>=60&&(mi||Ms)&&hi<=20&&jt-hi>=20&&(v.push(`(${lt})`),qt=!0),!qt&&jt>=50&&(mi||Ms)&&hi<=25&&(v.push(`(${lt})`),qt=!0),!qt&&jt>=35&&v.push(`(${lt})`)}const Oe=`${ia(u)}${Sn(u)}`;["",""].includes(n)&&["","",""].includes(Oe)&&v.push(""),["","","",""].includes(Sn(u))&&v.push(""),["",""].includes(n)&&(Sn(c)===""||Sn(o)==="")&&!m.includes("")&&v.push("");const Ce=f.some(fe=>fe===""||fe===""),ve=m.some(fe=>fe===""||fe==="");["",""].includes(Sn(c))&&!Ce&&!ve&&v.push(""),["","",""].every(fe=>f.includes(fe))&&v.push(""),["","",""].every(fe=>f.includes(fe))&&v.push(""),["","",""].every(fe=>f.includes(fe))&&v.push("");const Ze=Object.values(pe).sort((fe,Me)=>Me-fe);Ze.length>=3&&Ze[0]-Ze[2]<=8&&Ze[0]+Ze[1]+Ze[2]>=80&&v.push(""),ae>=1&&V>=1&&Math.abs(ae-V)<=1&&v.push(""),S(["","","",""])&&v.push(""),S(["","","",""])&&v.push(""),S(["","","",""])&&v.push(""),m.length===4&&m.every(fe=>fe===m[0])&&v.push(""),f.length===4&&P()&&M()&&v.push(""),t.every(fe=>fe&&fe===t[0])&&v.push(""),f.length===4&&f.every(fe=>fe===f[0])&&m.length===4&&m.every(fe=>fe===m[0])&&v.push(""),ue>=1&&(Sn(c)===Zw[n]||Sn(u)===Zw[n])&&v.push(""),w("")>=3&&S(["","",""])&&["","",""].includes(Sn(c))&&v.push("");const _e=n===""||n==="",je=[["","",""],["","",""]],Ie=[["","",""],["","",""]];_e&&(je.some(fe=>S(fe))||Ie.some(fe=>S(fe)))&&v.push("");const Ve=new Set(["","","","","",""]),bt=`${ia(c)}${Sn(c)}`;if(Ve.has(bt)&&_("")>=2&&(T(["",""])||m.includes("")||m.includes("")||T(["",""])||v.push("")),new Set(["","","","","",""]).has(bt)&&_("")>=2&&m.includes("")&&v.push(""),n===""&&`${ia(u)}${Sn(u)}`==""){const fe=Da(n,N);!["","","",""].includes(fe)&&T(["",""])&&!m.includes("")&&!m.includes("")&&v.push("")}return new Set(["","",""]).has(bt)&&`${ia(u)}${Sn(u)}`==""&&!m.includes("")&&!T(["",""])&&v.push(""),bt===""&&_("")+_("")>=2&&v.push(""),(bt===""||bt==="")&&_("")>=2&&!T(["",""])&&!m.includes("")&&v.push(""),n===""&&S(["","",""])&&v.push(""),bt===""&&`${ia(u)}${Sn(u)}`==""&&v.push(""),Cae(v)}function Gae(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function qae(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const kP=1e3*60*60*24;function _0(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function Yae(e){let t=da(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=da(r)}return t}function Kae(e){const t=Oae[e];return Array.isArray(t)&&t.length>0?t[0]:null}function Wae(e,t){const n=Kae(e);if(!n)return null;const r=Yae(t),i=r.findIndex(f=>f.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const c=Math.floor((_0(t)-_0(a))/kP)+1,u=o?Math.max(1,Math.floor((_0(o)-_0(a))/kP)):30;return{dayIdx:c<1?1:c,spanDays:u}}function Vae(e){return(e.?.w??0)+(e.?.w??0)+e..w}function Zae(e,t,n){const r=Math.max(1,Vae(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,c=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+c?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function U4(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:c,mapping:u}=e,f=[],m=$4(u),p=nA(m);if(!tA(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const g=p[n];if(!g)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const v={:g.?{stem:Xw(g..stem),w:g..w}:void 0,:g.?{stem:Xw(g..stem),w:g..w}:void 0,:{stem:Xw(g..stem),w:g..w}},w=v..stem;let _=w;const S=Wae(n,r);if(["","","",""].includes(n)&&Mae(n,o)&&v.)_=v..stem,f.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(S){const z=Zae(v,S.dayIdx,S.spanDays);_=z.stem,f.push({kind:"BUNIL_PICK",from:z.from})}else _=w,f.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function T(z,Z){if(!z)return!1;if(Z.includes(z))return!0;const Q=Rr[z];return Q?Z.some(J=>Rr[J]===Q):!1}let N="";_&&T(_,a)&&!c?.(_)?(N=_,f.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):_&&c?.(_)&&f.push({kind:"NEUTRALIZED"});const O=N||w;let P="";const M=Rr[O];if(M){const z=Object.entries(wm).find(([,Z])=>Z===M)?.[0]??null;z&&(P=Object.entries(Rr).find(([Q,J])=>J===z&&sa(Q)===sa(O))?.[0]??"")}let D="-";const $=Da(t,O),H=Aae.some(([z,Z])=>z===t&&Z===n),q=sa(t)&&B4[t]===n,K=!sa(t)&&z4[t]===n;$===""||$===""?H?(D="",f.push({kind:"EX_GEONLOK"})):q?(D="",f.push({kind:"EX_YANGIN"})):K?(D="",f.push({kind:"EX_WOLGEOP"})):f.push({kind:"EX_EXCLUDED_BIGEOP"}):D=qae($);const F=Hae({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:w,:_,:N||"-",:O||"-",:P||"-",:D,:F,reason:Gae(f),reasonTokens:f}}function Xae(e){const[t,n,r,i]=e,a=x0(i),o=x0(r),c=x0(n),u=x0(t),f=[],m=[[a,o],[o,c],[c,u]];for(const[g,v]of m){if(!g||!v)continue;const w=Ye(g,v),_=SP[w];_?.length&&f.push(..._);const S=Ye(v,g);if(S!==w){const T=SP[S];T?.length&&f.push(...T)}}const p=[[a,o,c],[o,c,u]];for(const[g,v,w]of p){if(!g||!v||!w)continue;const _=Ti(g,v,w),S=EP[_];S?.length&&f.push(...S);const T=Ti(w,v,g);if(T!==_){const N=EP[T];N?.length&&f.push(...N)}}return Array.from(new Set(f))}const Jae=["","","","",""];function Qae(e){return Jae.includes(e)}function eoe(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function Rh(e,t){if(!t)return e;const n=(Qae(t),t);return`${e}(${n})`}const toe={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},noe={:e=>({title:Rh("",e),short:"     ."}),:e=>({title:Rh("",e),short:"   ."}),:e=>({title:Rh("",e),short:"   ."}),:e=>({title:Rh("",e),short:"    ."}),:e=>({title:Rh("",e),short:"    ."})};function roe(e){const{base:t,inner:n}=eoe(e);return t===""||t===""||t===""||t===""||t===""?noe[t](n):toe[t]}function ioe(e){const t=roe(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const aoe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),AP={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function ooe(e){if(aoe(AP,e))return AP[e]}const TP={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},soe={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function loe(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function coe(e,t){return e===""?{title:`${t}`,short:`${TP[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${TP[t]}()     .`,hint:" X /  O"}}function uoe(e){const t=loe(e);return t?coe(t.kind,t.group):soe[e]}function doe(e){const t=uoe(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const foe={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function hoe(e){return foe[e]?.text}const moe=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},poe={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},goe={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},yoe=e=>e.replace(/^\s*:\s*/,"").trim();function boe(e){const t=yoe(e);return goe[t]}function voe(e){const t=poe[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${moe(e.from)})`}:t}function xoe(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:o,mapping:c,unified:u}=e,[f,m,p,g]=t,v=V=>V&&V.length>=1?V.charAt(0):"",w=V=>V&&V.length>=2?V.charAt(1):"",_=w(m),S=v(p),T=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,N=[v(f),v(m),v(p),v(g)].filter(V=>!!(V&&V.length===1)),O=[w(f),w(p),w(g)].filter(V=>!!(V&&V.length===1)),P=U4({dayStem:S,monthBranch:_,date:T,pillars:t,emittedStems:i??N,otherBranches:a??O,isNeutralized:o,mapping:c}),M=P.reasonTokens??[],D=P.reason??[],$=[` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`],H=[` : ${P.||"-"}`],q=Array.isArray(P.)&&P..length>0?P..map(V=>` : ${V}`):[" : -"],K=Xae(t),F=[...K.length?K.map(V=>`${V}`):[]],Z=[...Uae(t,c,u)],Q=({text:V,color:oe})=>{const me={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return x.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${me[oe]}`,title:V,children:V})},J=({children:V})=>x.jsx("li",{className:"!flex flex-wrap gap-1 p-1 rounded-sm",children:V}),[Y,X]=E.useState(null),re=({text:V})=>{const oe=V.replace(/^\s*:\s*/,"").trim(),me=E.useMemo(()=>ioe(oe),[oe]),pe=`outer:${oe}`,be=Y===pe;return me?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>X(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:x.jsx(Q,{text:V,color:"blue"})}),be&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):x.jsx(Q,{text:V,color:"blue"})},ue=({text:V})=>{const oe=V.trim(),me=E.useMemo(()=>ooe(oe),[oe]),pe=`mulsang:${oe}`,be=Y===pe;return me?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>X(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:x.jsx(Q,{text:V,color:"green"})}),be&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):x.jsx(Q,{text:V,color:"green"})},se=({text:V})=>{const oe=V.trim(),me=E.useMemo(()=>doe(oe),[oe]),pe=`structure:${oe}`,be=Y===pe;return me?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>X(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:x.jsx(Q,{text:V,color:"red"})}),be&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):x.jsx(Q,{text:V,color:"red"})},B=({text:V,color:oe})=>{const me=V.trim(),pe=me.split(":")[0]?.trim()??me,be=E.useMemo(()=>hoe(pe),[pe]),ne=`term:${pe}`,Oe=Y===ne;return be?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>X(Oe?null:ne),className:"inline-flex cursor-pointer",title:be,children:x.jsx(Q,{text:V,color:oe})}),Oe&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:be})]}):x.jsx(Q,{text:V,color:oe})},W=({text:V})=>{const oe=E.useMemo(()=>boe(V),[V]),me=`naegyeok:${V}`,pe=Y===me;return oe?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>X(pe?null:me),className:"inline-flex cursor-pointer",title:oe.text,children:x.jsx(Q,{text:V,color:"amber"})}),pe&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:oe.text})]}):x.jsx(Q,{text:V,color:"amber"})},ae=({token:V,fallback:oe,idx:me})=>{const pe=voe(V),be=pe?.title??oe,ne=pe?.text??oe,Oe=`reason:${V.kind}:${"from"in V?V.from:""}:${me}`,Ce=Y===Oe;return x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>X(Ce?null:Oe),className:"inline-flex cursor-pointer",title:ne,children:x.jsx(Q,{text:be,color:"amber"})}),Ce&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:ne})]})};return x.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${$.join(",")}|${H.join(",")}|${q.join(",")}`,children:[x.jsx("div",{className:"font-bold text-base",children:"   "}),x.jsx("div",{className:"text-xs text-amber-500 dark:text-amber-400 mb-2",children:"*        ."}),x.jsxs("ul",{className:"space-y-1",children:[x.jsx(J,{children:$.map(V=>x.jsx(B,{text:V,color:"violet"},V))}),x.jsx(J,{children:H.map(V=>x.jsx(W,{text:V},V))}),x.jsx(J,{children:q.map(V=>x.jsx(re,{text:V},V))}),x.jsx(J,{children:F.map(V=>x.jsx(ue,{text:V},V))}),x.jsx(J,{children:Z.map(V=>x.jsx(se,{text:V},V))})]}),M.length>0?x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}),x.jsx("div",{className:"mt-1",children:x.jsx(J,{children:M.map((V,oe)=>x.jsx(ae,{token:V,fallback:D[oe]??V.kind,idx:oe},`${V.kind}-${oe}`))})})]}):P.reason.length>0?x.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[": ",P.reason.join(" / ")]}):null]})}const _oe=Object.fromEntries(Ya..map((e,t)=>[e,$r[t]])),woe=Object.fromEntries($r.map((e,t)=>[e,Ya.[t]])),Soe=Object.fromEntries(Ya..map((e,t)=>[e,si[t]])),Eoe=Object.fromEntries(si.map((e,t)=>[e,Ya.[t]])),koe=e=>_oe[e]??e,Aoe=e=>Soe[e]??e,Toe=e=>woe[e]??e,Ooe=e=>Eoe[e]??e;function joe(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?koe(n):Toe(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function rA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?Aoe(n):Ooe(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const Noe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Coe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},F4={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},Moe={...F4,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},OP=joe(Noe),jP=rA(Coe);rA(F4);rA(Moe);const Poe=["","","","",""];function Doe(){const[e,t]=E.useState("   "),[n,r]=E.useState(""),[i,a]=E.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const Roe={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},Loe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function H4(e){const t=Loe[e]??"";return Roe[t]}const Ioe=Object.fromEntries(Ya..map((e,t)=>[e,$r[t]])),$oe=Object.fromEntries($r.map((e,t)=>[e,Ya.[t]])),Boe=Object.fromEntries(Ya..map((e,t)=>[e,si[t]])),zoe=Object.fromEntries(si.map((e,t)=>[e,Ya.[t]])),Uoe=e=>Ioe[e]??e,Foe=e=>Boe[e]??e,Hoe=e=>$oe[e]??e,Goe=e=>zoe[e]??e;function G4(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${Uoe(r)}${Foe(i)}`:`${Hoe(r)}${Goe(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const q4={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},qoe={...q4,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Yoe=G4(q4),Koe=G4(qoe),Woe={:"",:"",:"",:"",:""},Voe={:"",:"",:"",:"",:""},Zoe={:"",:"",:"",:"",:""},Xoe={:"",:"",:"",:"",:""},Joe=e=>Rn[e]??e,Qoe=e=>Gn[e]??e;function Y4(e){return!e||e.length<2?"":`${Joe(e[0])}${Qoe(e[1])}`}const K4=e=>e&&e.length>=1?e[0]:"",W4=e=>e&&e.length>=2?e[1]:"";function V4(e){return{:e,:Woe[e],:Voe[e],:Zoe[e],:Xoe[e]}}const Z4={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function ese(e,t){const n=(e??[]).slice(0,4).map(Y4);if(n.length!==4||n.some(g=>g.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=K4(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(g=>W4(g)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},c=Z4[r]??[],u=a[1];c.includes(u)&&(o..=!0,o..=!0);const f=a[2];c.includes(f)&&(o..=!0,o..=!0);const m=V4(i).,p=t[m]??0;return o..=p>=30,{flags:o,monthBranch:u,dayEl:i}}function X4(e,t){const n=(e??[]).slice(0,4).map(Y4);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const w={:!1,:!1,:!1};return{flags:{:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w}},monthBranch:"",dayEl:""}}const r=K4(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(w=>W4(w)),o={:!1,:!1,:!1},c={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=Z4[r]??[],f=a[1];u.includes(f)&&(c..=!0,c..=!0,c..=!0,c..=!0);const m=a[2];u.includes(m)&&(c..=!0,c..=!0,c..=!0,c..=!0);const p=V4(i).;return(t[p]??0)>=30&&(c..=!0,c..=!0,c..=!0,c..=!0),{flags:c,monthBranch:f,dayEl:i}}const tse=Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e])),nse=Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e])),rse=e=>Rn[e]??e,ise=e=>Gn[e]??e;function ase(e){return!e||e.length<2?"":`${rse(e[0])}${ise(e[1])}`}function Ac(e){return OP[e]??OP[tse[e]??""]}function Tc(e){return jP[e]??jP[nse[e]??""]}const Jw=["year","month","day","hour"],ose={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},sse={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},lse=new Set(["","","","",""]),cse=new Set(["","","","","",""]),use=new Set(["","","",""]),Qw=e=>lse.has(e)?"":"",e1=e=>{const t=cse.has(e)?"":"";return use.has(e)?t===""?"":"":t};function NP(e){const t=e.reduce((c,u)=>c+u,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.floor(c+.5)),i=100-r.reduce((c,u)=>c+u,0);if(i===0)return r;const a=n.map((c,u)=>({i:u,frac:c-Math.floor(c+.5)})).sort((c,u)=>u.frac-c.frac),o=r.slice();if(i>0)for(let c=0;c<i;c++)o[a[c].i]+=1;else for(let c=0;c<-i;c++)o[a[a.length-1-c].i]-=1;return o}function dse(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const w0={:.15,:.1,:-.15,:-.2,:-.25},ps={:"",:"",:"",:"",:""},Xc={:"",:"",:"",:"",:""},wo={:"",:"",:"",:"",:""},wv={:"",:"",:"",:"",:""};function S0(e,t){return e===t?"":ps[t]===e?"":ps[e]===t?"":wo[e]===t?"":wo[t]===e?"":""}const Oc=e=>e&&e.length>=1?e[0]:"",jc=e=>e&&e.length>=2?e[1]:"";function fse(e,t){const n=e.reduce((u,f)=>u+f,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,f)=>u+f,0);const o=r.map((u,f)=>({i:f,frac:u-Math.floor(u)})).sort((u,f)=>f.frac-u.frac),c=i.slice();for(let u=0;u<o.length&&a>0;u++)c[o[u].i]+=1,a-=1;return c}function CP(e,t){switch(e){case"":return t;case"":return ps[t];case"":return wo[t];case"":return wv[t];case"":return Xc[t];default:return t}}const MP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},hse=["","","","",""],mse={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},PP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},pse={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function gse(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function yse(e){const t=hse.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...PP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...mse},PerTenGodSub:{...PP},elementScoreRaw:e,deukFlags:{...pse},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function bse(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function ME(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:c}=e,u=o==="modern"?ose:sse,f=r==="classic"?Koe:Yoe,m={:0,:0,:0,:0,:0},p={},g=(t??[]).slice(0,4).map(ase);if(!gse(g))return yse(m);const{dayStem:v,dayEl:w}=bse(g,n),_=[{val:0},{val:0},{val:0},{val:0}],S=[[],[],[],[]];for(const B of g){if(!B)continue;const W=B.charAt(0),ae=B.charAt(1);p[W]=(p[W]??0)+50;const V=MP[ae];V&&(p[V]=(p[V]??0)+50)}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=Jw[B],V=Oc(W),oe=jc(W),me=u[ae],pe=Ac(V);pe&&(m[pe]+=me.stem,_[B]={stem:V,el:pe,pol:Qw(V),val:me.stem});const be=Tc(oe);be&&(m[be]+=me.branch,S[B].push({el:be,pol:e1(oe),val:me.branch}))}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=Jw[B],V=f[W]??0;if(V===0)continue;const oe=Oc(W),me=Ac(oe);if(!me)continue;const pe=u[ae].stem*V;m[me]+=pe,_[B].val+=pe}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=jc(W),V=Tc(ae);if(!V)continue;const oe=u[Jw[B]].branch,me=e1(ae);let pe=0;const be=[B];B-1>=0&&be.push(B-1),B+1<=3&&be.push(B+1),B-2>=0&&be.push(B-2),B+2<=3&&be.push(B+2);const ne=Array.from(new Set(be));for(const Oe of ne){if(!g[Oe]||g[Oe].length<2)continue;const Ce=Oc(g[Oe]),ve=Ac(Ce);if(!ve||ve!==V)continue;const Ze=Qw(Ce)===me,Ne=Math.abs(Oe-B),_e=dse(Ne,Ze);pe+=oe*_e}pe!==0&&(m[V]+=pe,S[B].push({el:V,pol:me,val:pe}))}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=Oc(W),V=Ac(ae);if(!V)continue;let oe=0;const me=jc(g[B]),pe=Tc(me);pe&&(oe+=w0[S0(V,pe)]);const be=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Oe of be){const Ce=Oc(g[Oe]),ve=Ac(Ce);ve&&(oe+=w0[S0(V,ve)])}const ne=_[B].val;if(ne!==0&&oe!==0){const Oe=Math.round(ne*(1+oe)*10)/10,Ce=Oe-ne;m[V]+=Ce,_[B].val=Oe}}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=jc(W),V=Tc(ae);if(!V)continue;let oe=0;const me=Oc(g[B]),pe=Ac(me);pe&&(oe+=w0[S0(V,pe)]);const be=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Oe of be){if(!g[Oe]||g[Oe].length<2)continue;const Ce=jc(g[Oe]),ve=Tc(Ce);ve&&(oe+=w0[S0(V,ve)])}const ne=S[B].reduce((Oe,Ce)=>Oe+Ce.val,0);if(ne!==0&&oe!==0){const Ce=Math.round(ne*(1+oe)*10)/10-ne;m[V]+=Ce,S[B].length>0&&(S[B][0].val+=Ce)}}a&&Tne(g,m);const T={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},N=[];if(!(!c||c.tab==="")){let B=function(W,ae){const V=W?De(W):"";if(!V||V.length<2)return;const oe=Oc(V),me=jc(V),pe=Ac(oe),be=Tc(me),ne=Math.max(1,(m.??0)+(m.??0)+(m.??0)+(m.??0)+(m.??0)),Oe=T[ae];if(pe){const Ce=Math.round(ne*Oe.stem);m[pe]+=Ce,N.push({stem:oe,el:pe,pol:Qw(oe),val:Ce})}if(be){const Ce=Math.round(ne*Oe.branch);m[be]+=Ce,N.push({el:be,pol:e1(me),val:Ce})}};B(c.dae,"dae"),(c.tab===""||c.tab===""||c.tab==="")&&B(c.se,"se"),(c.tab===""||c.tab==="")&&B(c.wol,"wol"),c.tab===""&&B(c.il,"il")}const O={:0,:0,:0,:0,:0};Object.entries(m).forEach(([B,W])=>{const ae=q(B,w);O[ae]+=W});const P=["","","","",""],M=NP(P.map(B=>O[B])),D=H4(v),$=P.map((B,W)=>({name:B,value:M[W],color:D[B]})),H={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function q(B,W){return B===W?"":ps[W]===B?"":wo[W]===B?"":wo[B]===W?"":Xc[W]===B?"":""}function K(B,W){switch(q(B,w)){case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break}}Object.entries(m).forEach(([B,W])=>{W>0&&K(B,W)});const F={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const B of P){const W=$.find(be=>be.name===B)?.value??0,ae=F[B].a,V=F[B].b,oe=H[ae]??0,me=H[V]??0,pe=oe+me;if(pe>0){const be=Math.floor(W*oe/pe+.5),ne=W-be;F[B].aVal=be,F[B].bVal=ne}else F[B].aVal=Math.floor(W/2+.5),F[B].bVal=W-F[B].aVal}const{flags:z}=ese(g,m),Z={};_.forEach(B=>{if(B.stem&&B.el&&B.val){const W=`${B.stem}${B.el}`;Z[W]=(Z[W]??0)+B.val}});for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=jc(W),V=MP[ae],oe=Tc(ae);if(!V||!oe)continue;const me=`${V}${oe}`,pe=S[B].reduce((be,ne)=>be+ne.val,0);Z[me]=(Z[me]??0)+pe}const Q=["","","","","","","","","",""],J={};Q.forEach(B=>{J[B]=0}),P.forEach(B=>{const W=$.find(ne=>ne.name===B)?.value??0,ae=CP(B,w),V=Object.entries(Z).filter(([ne])=>ne.endsWith(ae)),oe=V.map(([ne])=>ne),me=V.map(([,ne])=>ne),pe=Math.max(0,Math.round(W*10)),be=fse(me.length?me:[1,1],pe);if(oe.length===2)J[oe[0]]=(be[0]??Math.round(pe/2))/10,J[oe[1]]=(be[1]??pe-(be[0]??0))/10;else if(oe.length===1)J[oe[0]]=pe/10;else{const ne=ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:["",""],Oe=Math.floor(pe/2),Ce=pe-Oe;J[ne[0]]+=Oe/10,J[ne[1]]+=Ce/10}});const Y=["","","","",""],X={:0,:0,:0,:0,:0};for(const B of $){const W=CP(B.name,w);X[W]+=B.value}const re=NP(Y.map(B=>X[B])),ue={:re[0],:re[1],:re[2],:re[3],:re[4]};return i&&console.log({elementScore:m,totals:$,perTenGod:F,perStemRaw:Z,perStemElementScaled:J,elementPercent100:ue}),{overlay:{totalsSub:H,perStemAugBare:Z,perStemAugFull:J},totals:$,perTenGod:F,PerTenGodSub:H,stemScoreRaw:p,elementScoreRaw:m,deukFlags:z,perStemElement:Z,perStemElementScaled:J,elementPercent100:ue}}const E0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vse=["","","","",""];function DP(e){return vse.includes(e)}const xse={:"",:"",:"",:"",:""},_se={:"",:"",:"",:"",:""},wse={:"",:"",:"",:"",:""},Sse={:"",:"",:"",:"",:""},PE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ese=["","","","","","","","","",""],kse={natal:50,dae:30,se:20,wol:7,il:3};function Qy(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Rn[t])return Rn[t];if(["","","","","","","","","","","",""].includes(t))return E0[t]??null;if(Gn[t])return E0[Gn[t]]??null;const n=t.charAt(0);return Rn[n]?Rn[n]:["","","","","","","","","",""].includes(n)?n:Gn[n]?E0[Gn[n]]??null:["","","","","","","","","","","",""].includes(n)?E0[n]??null:null}function Ase(e,t){const n=PE[e],r=PE[t];if(!n||!r)return"";let i;r===n?i="":r===xse[n]?i="":r===_se[n]?i="":r===wse[n]?i="":r===Sse[n]?i="":i="";const a=DP(e)===DP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function eb(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.round(m)]);let a=i.reduce((f,[,m])=>f+m,0);const o=r.map(([f,m])=>[f,m-Math.round(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}function RP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Qy(r);if(!a)continue;const o=Ase(t,a);n[o]+=i}return eb(n)}function Tse(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function LP(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Qy(n);i&&(t[i]=(t[i]??0)+r)}return t}function IP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Ese){const i=PE[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function $P(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function Ose(e,t){const n=t?.dae?k0(t.dae):{},r=t?.se?k0(t.se):{},i=t?.wol?k0(t.wol):{},a=t?.il?k0(t.il):{},o={},c=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:f,bare:m}of c){const p=kse[f];if(!m||Object.keys(m).length===0)continue;const g=eb(m);for(const[v,w]of Object.entries(g))o[v]=(o[v]??0)+w*p}const u=Object.values(o).reduce((f,m)=>f+m,0);if(u>0)for(const f of Object.keys(o))o[f]=o[f]/u*100;return o}function jse(e){if(!e)return[];const t=Qy(e.charAt(0)),n=Qy(e.charAt(1));return[t,n].filter(Boolean)}function k0(e){const t=jse(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Sv(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[De(t[0]??""),De(t[1]??""),De(t[2]??""),De(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:c,hiddenStem:u}=hm,f=c==="classic"?"classic":"hgc",m=r?{tab:n,dae:r.dae?De(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?De(r.se):void 0,wol:(n===""||n==="")&&r.wol?De(r.wol):void 0,il:n===""&&r.il?De(r.il):void 0}:{tab:n},p=ME({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:m}),g=ME({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),v=LP(p.perStemElementScaled),w=n===""?v:Ose(v,r),_=eb(w),S=RP(w,o),T=Tse(S),N=IP(_),O=LP(g.perStemElementScaled),P=RP(O,o),M=eb(O),D=IP(M);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:_,perTenGodSub:S,perTenGod:T,overlay:{totalsSub:S,perStemAugBare:w,perStemAugFull:N},natalFixed:{elementScoreRaw:$P(g.elementScoreRaw),elementPercent100:$P(g.elementPercent100),totalsSub:P,overlay:{totalsSub:P,perStemAugBare:O,perStemAugFull:D}}}}const po=["","","","",""],jl={:0,:0,:0,:0,:0},Nse=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],Cse={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},t1=24,Mse=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],tb=20;Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e]));const J4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Pse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Q4(e){return Math.max(0,Math.min(100,e))}function Ud(e,t,n){return Math.max(t,Math.min(n,e))}function Dse(e){const t=Q4(e);return Nse.find(n=>t>=n.min&&t<n.max)?.name??""}function Rse(e){const t=e?.[2]?.charAt(0)??"";return J4[t]??null}function Lse(e){return(e?.[1]?.charAt(1)??"")||null}function e7(e){return wv[e]}function Ise(e){return e?{peer:e,resource:Xc[e],leak:ps[e],wealth:wo[e],officer:e7(e)}:null}function $se(e){const t={...jl};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=J4[r],o=Pse[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function Bse(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...jl};return po.forEach(r=>{n[r]=e[r]/t*100}),n}function zse(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return Q4((n("")+n(""))/t*100)}function Use(e,t){return!e||!t?null:t===e?"":ps[e]===t?"":wo[e]===t?"":e7(e)===t?"":Xc[e]===t?"":null}function Fse(e){for(const[t,n]of Mse)if(e>=t)return n;return 1}const BP=(e,t)=>Ud((tb-(t[e]??0))/tb,0,1),zP=(e,t)=>Ud(((t[e]??0)-tb)/tb,0,1);function Hse(e,t,n,r){const i=Use(e,n);if(!e||!i)return 0;const a=Ud((50-t)/50,0,1),o=Ud((t-50)/50,0,1),c=BP(n,r),u=zP(n,r),f=BP(e,r),m=zP(e,r),p=6.5;let g=0;if(a>0)switch(i){case"":g=+(.3+.4*f+.15*c)*a;break;case"":g=+(.18+.45*f)*a;break;case"":g=-(.08+.2*(1-c)+.1*m)*a;break;case"":g=-(.22+.25*(1-c)+.1*(1-f))*a;break;case"":g=-(.35+.25*(1-c)+.1*(1-f))*a;break}else if(o>0)switch(i){case"":g=-(.25+.25*(1-c)+.2*m)*o;break;case"":g=-(.28+.2*m)*o;break;case"":g=+(.18+.2*c+.15*m)*o;break;case"":g=+(.22+.25*c+.1*m)*o;break;case"":g=+(.2+.2*c)*o;break}else switch(i){case"":g=.08*(f+c);break;case"":g=.05*f-.03*m;break;case"":g=.02*c-.02*u;break;case"":g=.01*c-.06*u;break;case"":g=-.05*(1-c);break}return Math.round(p*g*10)/10}function Gse(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...jl};if(r){const o=ps[e],c=wo[e],u=wv[e];a[o]+=28,a[c]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(c)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=Xc[e],c=e;a[o]+=28,a[c]+=22,n.get(o)?.push(":     "),n.get(c)?.push(":     ")}return a}function UP(e,t){if(!e)return{...jl};const n=Cse[e]??{temp:"mild",wet:"normal"},r={...jl};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function FP(e,t){const n={...jl};for(const r of po){const i=wo[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=ps[r],c=Math.round(a*.35);c>0&&(n[o]+=c,t.get(o)?.push(`: ${r}${i} `))}return n}function HP(e,t){const n={...jl},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const A0=()=>new Map(po.map(e=>[e,[]]));function Fd(e,t){const n=Rse(e),r=Lse(e),i=$se(e),a=Bse(i);let o=zse(t);if(o==null)if(!n)o=50;else{const F=n,z=Xc[n],Z=Object.values(i).reduce((Q,J)=>Q+J,0)||1;o=Math.min(100,Math.max(0,((i[F]??0)+(i[z]??0))/Z*100))}const c=Dse(o),u={...jl},f=A0();if(n){const F=Gse(n,c,f);po.forEach(z=>{u[z]+=F[z]??0})}const m=UP(r,f);po.forEach(F=>{u[F]+=m[F]??0});const p=FP(i,f);po.forEach(F=>{u[F]+=p[F]??0});const g=HP(i,f);po.forEach(F=>{u[F]+=g[F]??0});const v=Ise(n),w={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const F of t)w[F.name]=F.value;if(o>=45&&o<=55&&v){const F=w.>=30||w.>=Math.max(w.,w.,w.,w.)+5;o<=50?(u[v.resource]+=14,f.get(v.resource)?.push(": -"),u[v.peer]+=10,f.get(v.peer)?.push(": -"),u[v.leak]+=6,f.get(v.leak)?.push(": -"),u[v.wealth]+=3,f.get(v.wealth)?.push(": -"),F&&(u[v.officer]=Math.round(u[v.officer]*.8*10)/10,f.get(v.officer)?.push(":   "))):(u[v.leak]+=14,f.get(v.leak)?.push(": -"),u[v.wealth]+=10,f.get(v.wealth)?.push(": -"),u[v.officer]+=6,f.get(v.officer)?.push(": -"),u[v.resource]+=3,f.get(v.resource)?.push(": -"))}po.forEach(F=>{const z=Hse(n,o,F,a);u[F]=Ud(Math.round((u[F]+z)*10)/10,0,999)});const S=o<50;po.forEach(F=>{const z=a[F]??0,Z=S&&n===F;if(z>=t1&&!Z){const Q=Fse(z);u[F]=Math.round(u[F]*Q*10)/10;const J=Math.min(14,Math.max(0,Math.ceil((z-t1)*.5)));J>0&&(u[F]=Ud(u[F]-J,0,999)),f.get(F)?.push(" ()")}});const T={:[],:[],:[],:[],:[]};if(n){const F=ps[n],z=wo[n],Z=wv[n],Q=n,J=Xc[n];T[F].push(""),T[z].push(""),T[Z].push(""),T[Q].push(""),T[J].push("")}const N={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},O=F=>{const z=a[F]??0;return z>=t1&&!(S&&n===F)?z>=55?4:z>=45?3:2:N[F]?0:1},P=UP(r,A0()),M=FP(i,A0()),D=HP(i,A0()),$=po.map(F=>({element:F,score:Math.round(u[F]*10)/10,via:qse(F,P,M,D),reasons:(f.get(F)??[]).slice(),tenGodHints:T[F]})).sort((F,z)=>{const Z=O(F.element),Q=O(z.element);return Z!==Q?Z-Q:z.score!==F.score?z.score-F.score:F.element.localeCompare(z.element)}),H=Yse(c,P,M,D),q={:0,:0,:0,:0,:0},K=t?t.reduce((F,z)=>(F[z.name]=z.value,F),{...q}):void 0;return{chosenType:H,ordered:$,debug:{band:c,overallPct:o,elementScore:i,tenGodTotals:K,monthBranch:r??void 0}}}function qse(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Yse(e,t,n,r){if(["","","",""].includes(e))return"";const a=f=>Object.values(f).reduce((m,p)=>m+p,0),o=a(t),c=a(n),u=a(r);return o>Math.max(c,u)?"":c>=u?"":""}function Kse(e){const t=e.reduce((c,u)=>c+u,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.round(c));let a=100-r.reduce((c,u)=>c+u,0);const o=n.map((c,u)=>({i:u,f:c-Math.round(c)})).sort((c,u)=>u.f-c.f);for(let c=0;c<o.length&&a>0;c++)r[o[c].i]+=1,a-=1;return r}const GP=["","","","",""];function Wse(e,t){const n=[De(e[0]??""),De(e[1]??""),De(e[2]??""),De(e[3]??"")],{elementScoreRaw:r}=ME({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=GP.map(c=>r[c]??0),a=Kse(i),o={:0,:0,:0,:0,:0};return GP.forEach((c,u)=>{o[c]=a[u]}),o}function t7(e,t){const n=Wse(e,t),r=De(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},c=n[a]??0,u=n[o[a]]??0;return c+u*.7}const Hd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},n7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},T0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Vse=["","","","",""];function qP(e){return Vse.includes(e)}const Zse={:"",:"",:"",:"",:""},Xse={:"",:"",:"",:"",:""},Jse={:"",:"",:"",:"",:""},Qse={:"",:"",:"",:"",:""};function Sm(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Rn[t])return Rn[t];if(["","","","","","","","","","","",""].includes(t))return T0[t]??null;if(Gn[t])return T0[Gn[t]]??null;const n=t.charAt(0);return Rn[n]?Rn[n]:["","","","","","","","","",""].includes(n)?n:Gn[n]?T0[Gn[n]]??null:["","","","","","","","","","","",""].includes(n)?T0[n]??null:null}function ele(e,t){const n=Hd[e],r=Hd[t];if(!n||!r)return"";let i;r===n?i="":r===Zse[n]?i="":r===Xse[n]?i="":r===Jse[n]?i="":r===Qse[n]?i="":i="";const a=qP(e)===qP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function tle(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function Ev(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const o=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}function nle(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=Hd[Sm(n)];i&&r>0&&(t[i]+=r)}return Ev(t)}function rle(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Sm(r);if(!a)continue;const o=ele(t,a);n[o]+=i}return n}function ile(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=tle(n);t[i]+=r}return Ev(t)}function YP(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=De(n??"");return i||(r<=2?"--":"")})}function r7(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=Hd[i.charAt(0)];if(a&&(r[a]=!0),n){const o=n7[i.charAt(1)];o&&(r[o]=!0)}}return r}function i7(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=Hd[n.charAt(0)],i=n7[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function n1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const ale=["","","","","","","","","",""];function ole(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Sm(n);i&&(t[i]=(t[i]??0)+r)}return t}function sle(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of ale){const i=Hd[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const lle={natal:50,dae:30,se:20,wol:7,il:3};function cle(e){const t={};for(const{kind:r,bare:i}of e){const a=lle[r]??0;if(a<=0)continue;const o=Ev(i);for(const[c,u]of Object.entries(o))t[c]=(t[c]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function ule(e){if(!e)return[];const t=Sm(e.charAt(0)),n=Sm(e.charAt(1));return[t,n].filter(Boolean)}function O0(e){const t=ule(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const DE=["","","","",""];function dle(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function fle(e,t){const n=DE.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),c=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:c}}function iA(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function hle(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function KP(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function mle(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,c=e[a]??0;if(o<20||c<20)continue;let u=null,f=null;if(KP(i)===a)u=i,f=a;else if(KP(a)===i)u=a,f=i;else continue;const m=hle(u),p=`${u}()${f}    ${m}( )`;r.push({a:i,b:a,controller:u,controlled:f,mediator:m,reason:p})}return r}function aA(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function Lh(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":    0"]}):e}function Ih(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,c=r(a.elNorm)?1:0;if(o!==c)return c-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function ple(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),c=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:c.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(f=>({element:f.el,elNorm:f.el,score:aA(f.base,t[f.el]??0),reasons:[f.why,` ${f.el}  ${Math.round(t[f.el]??0)}%`]}))}function gle(e){const t=mle(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,c=Math.min(a,o),u=95+Math.round(c/2),f=n.get(i.mediator),m=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];f?n.set(i.mediator,{score:Math.max(f.score,u),reasons:[...f.reasons,...m]}):n.set(i.mediator,{score:u,reasons:m})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:aA(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function yle(e,t){let n="",r=e.??0;for(const f of DE){const m=e[f]??0;m<r&&(r=m,n=f)}const i=DE.some(f=>!t[f]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const c=aA((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:c,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function oA(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,c=Ih(Lh(t,i,a),i,a),u=Ih(Lh(ple(n,r),i,a),i,a),f=dle(n),m=fle(r,i),p=f==="WINTER"||f==="SUMMER"?.85:.55,g=1.25,v=gle(r),w=Ih(Lh(v.items,i,a),i,a),_=yle(r,i),S=Ih(Lh(_.items,i,a),i,a),T=Array.isArray(o)?o:[],N=T.length>0,O=Ih(Lh(T,i,a),i,a),P=z=>Math.max(0,...z.map(Z=>Number.isFinite(Z.score)?Z.score:0)),D=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:g,applicable:c.length>0,note:"1.  /()  ",candidates:c},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:f==="WINTER"?"2. ()   ":f==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:v.applicable,note:v.note,candidates:w},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:_.applicable,note:_.note,candidates:S},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:N,note:N?"/     ( )":"  (//  )",candidates:O}].map(z=>{const Z=P(z.candidates),Q=z.candidates[0];let J=0;if(z.applicable&&Q){if(J=Q.score*z.weight,z.kind==="EOKBU"&&!m.balancedPresent){const Y=Math.min(35,Math.round(m.spread*.9));J+=Y}z.kind==="EOKBU"&&m.balancedPresent&&(J*=.75),Q.elNorm&&!i[Q.elNorm]&&(J*=.25)}return{...z,maxScore:Z,fitScore:Math.round(J),finalScore:Math.round(J)}}).sort((z,Z)=>z.priority-Z.priority),$=[...D].filter(z=>z.applicable&&z.candidates.length>0).sort((z,Z)=>Z.fitScore!==z.fitScore?Z.fitScore-z.fitScore:z.priority-Z.priority)[0],H=Math.max(0,...D.map(z=>z.fitScore)),q=$?.kind??null,K=D.map(z=>{if(!q)return z;if(z.kind===q){const Z=z.fitScore<H?H+1:z.fitScore;return{...z,finalScore:Z}}return{...z,finalScore:z.fitScore}}),F=q?K.find(z=>z.kind===q)??null:null;return{bestKind:q,best:F,groups:K}}const ble={:"",:"",:"",:"",:""},vle={:"",:"",:"",:"",:""},xle={:"",:"",:"",:"",:""},_le={:"",:"",:"",:"",:""};function r1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function wle(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function Sle(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function Ele(e,t){switch(t){case"":return e;case"":return ble[e];case"":return xle[e];case"":return _le[e];case"":return vle[e]}}function kle(e,t){const n=new Map,r=(u,f,m)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:f,reasons:[m]});return}p.score=Math.max(p.score,f),p.reasons=p.reasons.includes(m)?p.reasons:[...p.reasons,m]},i=r1(t),a=wle(e.);if(i&&a){const u=Sle(a),f=Ele(i,u);r(f,92,` ${e.}  ${u} (${f})`)}const o=r1(e.);o&&r(o,86,` ${e.}  (${o})`);const c=r1(e.);return c&&r(c,70,` ${e.}  (${c})`),Array.from(n.values()).sort((u,f)=>f.score-u.score)}const $h=e=>e&&e.length>=1?e.charAt(0):"",j0=e=>e&&e.length>=2?e.charAt(1):"";function Ale(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function Tle({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:c,monthGZ:u,dayGZ:f}=ci(),m=E.useMemo(()=>De(c),[c]),p=E.useMemo(()=>De(u),[u]),g=E.useMemo(()=>De(f),[f]),v=ou(e,e?.mingSikType),w=E.useMemo(()=>{if(!v?.length)return 0;const _e=v.findIndex((je,Ie)=>{const Ve=v[Ie+1]?.at;return o>=je.at&&(!Ve||o<Ve)});return _e!==-1?_e:o<v[0].at?0:v.length-1},[v,o]),_=E.useMemo(()=>{const _e=r??v?.[w]?.gz??"";return De(_e)||null},[r,v,w]),{manualHour:S}=Ym(),T=e.mingSikType??"/",N=E.useMemo(()=>YP(t),[t]),O=E.useMemo(()=>YP(n),[n]),P=E.useMemo(()=>{const _e=[...N];return(!_e[3]||_e[3]===""||_e[3]==="--")&&S&&(_e[3]=S.stem+S.branch),_e},[N,S]),M=E.useMemo(()=>{const _e=[...O];return(!_e[3]||_e[3]===""||_e[3]==="--")&&S&&(_e[3]=S.stem+S.branch),_e},[O,S]),D=E.useMemo(()=>{const _e=Number(e.birthDay?.slice(0,4)),je=Number(e.birthDay?.slice(4,6)),Ie=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(_e)||!Number.isFinite(je)||!Number.isFinite(Ie))return null;const Ve=new Date(_e,je-1,Ie,12,0,0,0),bt=De(at(Ve)||""),xt=De(kt(Ve)||""),Pt=De(gt(Ve,T)||"");return[bt,xt,Pt,""]},[e.birthDay,T]),$=n1(P),H=n1(M),K=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?H?"lunar":$?"solar":"lunar":$?"solar":H?"lunar":"solar",F=E.useMemo(()=>{const je=[...K==="lunar"?H?M:$?P:D??["","","",""]:$?P:H?M:D??["","","",""]];return(!je[3]||je[3]===""||je[3]==="--")&&S&&(je[3]=S.stem+S.branch),je[3]==="--"&&(je[3]=""),je},[K,$,H,P,M,D,S]),z=E.useMemo(()=>$h(F[2]??""),[F]),Z=E.useMemo(()=>j0(F[1]??""),[F]),Q=E.useMemo(()=>Ale(e.birthDay),[e.birthDay]),J=E.useMemo(()=>S?S.stem+S.branch:F[3]||"",[S,F]),Y=E.useMemo(()=>({dae:i!==""?_??null:null,se:i===""||i===""||i===""?m??null:null,wol:i===""||i===""?p??null:null,il:i===""?g??null:null}),[i,_,m,p,g]),X=E.useMemo(()=>Sv({natal:F,tab:i,chain:Y,hourKey:J}),[F,i,Y,J]),re=E.useMemo(()=>{if(!X)return null;const _e=ole(X.perStemElementScaled),je=Y.dae?O0(Y.dae):{},Ie=Y.se?O0(Y.se):{},Ve=Y.wol?O0(Y.wol):{},bt=Y.il?O0(Y.il):{},xt=cle([{kind:"natal",bare:_e},{kind:"dae",bare:je},{kind:"se",bare:Ie},{kind:"wol",bare:Ve},{kind:"il",bare:bt}]),Pt=Ev(xt),fe=sle(Pt),Me=rle(xt,X.dayStem),Be=ile(Me),lt=nle(xt);return{perStemAugBare:xt,perStemAugFull:fe,elemPct100:lt,totalsMain:Be,totalsSub:Me}},[X,Y]),ue=E.useMemo(()=>r7(F,{includeBranches:!0}),[F]),se=E.useMemo(()=>["","","","",""].some(_e=>!ue[_e]),[ue]),B=re?.elemPct100??X?.elementPercent100??i7(F),W=E.useMemo(()=>{if(!X||!re)return[];const _e=H4(X.dayStem);return Object.entries(re.totalsMain).map(([je,Ie])=>({name:je,value:Ie,color:_e[je]}))},[X,re]),ae=re?.elemPct100??{:0,:0,:0,:0,:0},V=re?.totalsSub??null,oe=E.useMemo(()=>[i,_??"",m??"",p??"",g??"",o?.toISOString?.()??"",J].join("|"),[i,_,m,p,g,o,J]),me=E.useMemo(()=>{const _e=V?Object.entries(V).sort(([Ie],[Ve])=>Ie.localeCompare(Ve)).map(([Ie,Ve])=>`${Ie}:${Ve}`).join(","):"none",je=W.map(Ie=>`${Ie.name}:${Ie.value}`).join(",");return`${oe}||${F.join("")}||${je}||${_e}`},[oe,F,W,V]),pe=typeof Fd=="function"?Fd(F,X?.totals):null,be=E.useMemo(()=>(pe?.ordered??[]).map(je=>{const Ie=je.element??"",Ve=/||wood/i.test(Ie)?"":/||fire/i.test(Ie)?"":/||earth/i.test(Ie)?"":/||metal/i.test(Ie)?"":/||water/i.test(Ie)?"":null,bt=typeof je.score=="number"?je.score:Ve?B[Ve]??0:0,xt=Array.isArray(je.reasons)?je.reasons:[];return{element:Ie,elNorm:Ve,score:bt,reasons:xt}}),[pe,B]),ne=E.useMemo(()=>be.map(_e=>({element:_e.element,elNorm:_e.elNorm,score:_e.score,reasons:_e.reasons})),[be]),Oe=E.useMemo(()=>{if(!z||!Z)return[];const[_e,je,Ie,Ve]=F,bt=[$h(_e),$h(je),$h(Ie),$h(Ve)].filter(Boolean),xt=[j0(_e),j0(Ie),j0(Ve)].filter(Boolean),Pt=U4({dayStem:z,monthBranch:Z,date:Q,pillars:F,emittedStems:bt,otherBranches:xt}),fe=kle(Pt,z),Me=Be=>/||wood/i.test(Be)?"":/||fire/i.test(Be)?"":/||earth/i.test(Be)?"":/||metal/i.test(Be)?"":/||water/i.test(Be)?"":null;return(fe??[]).map(Be=>({element:Be.element,elNorm:Me(Be.element),score:Number.isFinite(Be.score)?Be.score:0,reasons:Array.isArray(Be.reasons)?Be.reasons:[]}))},[F,z,Z,Q]),Ce=E.useMemo(()=>{const _e=F[1]||"";return oA({eokbuList:ne,monthGz:_e,elemPct:B,presentMap:ue,demoteAbsent:a,gyeokgukList:Oe})},[F,ne,B,ue,a,Oe]),ve=E.useMemo(()=>{const _e=Ce.best;return _e?.candidates?.length?_e.candidates.map(je=>({element:je.element,elNorm:je.elNorm,score:je.score,reasons:je.reasons})):be},[Ce,be]),Ze=E.useMemo(()=>Math.max(0,...ve.map(_e=>Number.isFinite(_e.score)?_e.score:0)),[ve]),Ne=E.useMemo(()=>t7(F,{criteriaMode:"modern",useHarmonyOverlay:!0}),[F]);return{seGz:m,wolGz:p,ilGz:g,daewoonGz:_,activePillars:F,chain:Y,unified:X,overlay:re,chartData:W,elementPct:ae,tenSubTotals100:V,hourKeyForUi:J,revKey:me,yongshinMulti:Ce,yongshinRecommend:Ce,yongshinList:ve,maxScore:Ze,hasAbsent:se,dayElementPercent:Ne,isValidActive:n1(F)}}function Ole(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function jle(e){const t=new Date(e,1,15,12,0,0,0);return De(at(t)||"")}function Nle(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=iA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const Cle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function nb(e){return Cle[e]??null}function Mle(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=nA(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",c=nb(a);if(c&&(n[c]=!0),tA(o)){const u=r[o],f=[u.,u.,u.].filter(Boolean);for(const m of f){const p=nb(m.stem);p&&m.w>0&&(n[p]=!0)}}}return n}function Ple(e,t){const n=nA(t),r={:0,:0,:0,:0,:0};for(const o of e){const c=o?.charAt(0)??"",u=o?.charAt(1)??"",f=nb(c);if(f&&(r[f]+=50),tA(u)){const m=n[u],p=[m.,m.,m.].filter(Boolean),g=p.reduce((w,_)=>w+(Number.isFinite(_.w)?_.w:0),0),v=g>0?g:1;for(const w of p){const _=nb(w.stem);_&&(r[_]+=50*w.w/v)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function Dle(e,t,n){return e||Ple(t,n)}function Rle(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,c=E.useMemo(()=>$4(o),[o]),u=ou(t,t?.mingSikType),f=E.useMemo(()=>Array.isArray(u)?u.filter(Ole).slice(0,10):[],[u]),[m,p]=E.useState(0),[g,v]=E.useState(0),w=Math.max(0,Math.min(f.length-1,m)),_=f[w]??null,S=E.useMemo(()=>{if(!_)return[];const q=_.at.getFullYear();return Array.from({length:10},(K,F)=>{const z=q+F;return{year:z,gz:jle(z)}})},[_]),T=g==null?null:Math.max(0,Math.min(S.length-1,g)),N=T==null?null:S[T]??null,O=E.useMemo(()=>Mle(n,c),[n,c]),P=E.useMemo(()=>["","","","",""].some(q=>!O[q]),[O]),M=E.useMemo(()=>{const q=_?De(_.gz):null,K=N?De(N.gz):null;return{dae:q||null,se:K||null,wol:null,il:null}},[_,N]),D=E.useMemo(()=>M.se?"":"",[M.se]),$=E.useMemo(()=>{const q=_?`${_.at.getFullYear()}~ ${De(_.gz)}`:" -",K=N?` / ${N.year} ${De(N.gz)}`:"";return`${q}${K}`},[_,N]),H=E.useMemo(()=>{if(!_)return null;const q=Sv({natal:n,tab:D,chain:M,hourKey:r}),K=Dle(q?.elementPercent100,n,c),F=typeof Fd=="function"?Fd(n,q?.totals):null,z=Nle(F,K);return oA({eokbuList:z,monthGz:n[1]||"",elemPct:K,presentMap:O,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[_,n,D,M,r,O,i,a,c]);return{daeIndex:w,setDaeIndex:p,seIndex:T,setSeIndex:v,dae10:f,se10:S,chain:M,tab:D,label:$,recommend:H,presentMap:O,hasAbsent:P}}const Lle={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function RE(e){return e?Lle[e]??e:""}function Ile(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function $le(e){const t=new Date(e,1,15,12,0,0,0);return De(at(t)||"")}function i1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?iA(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,c=r&&i?`${RE(r)}:${i}`:r?`${RE(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:c,result:e}}function Ble(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=iA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function WP(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:c}=e,u=Sv({natal:t,tab:i,chain:r,hourKey:n}),f=u?.elementPercent100??i7(t),m=typeof Fd=="function"?Fd(t,u?.totals):null,p=Ble(m,f);return oA({eokbuList:p,monthGz:t[1]||"",elemPct:f,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(c)?c:null})}function zle(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const go=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=x.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?x.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function VP({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx(go,{text:`: ${RE(t.kind)}`,tone:"pick"}),x.jsx(go,{text:` ${t.fitScore}`}),n[0]?.element?x.jsx(go,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?x.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?x.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>x.jsx("li",{className:"text-xs",children:x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx(go,{text:`${i+1} ${r.element}`}),x.jsx(go,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>x.jsx(go,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):x.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):x.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function Ule(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=E.useMemo(()=>r7(n,{includeBranches:!0}),[n]),c=ou(t,t?.mingSikType),u=E.useMemo(()=>Array.isArray(c)?c.filter(Ile).slice(0,10):[],[c]),f=E.useMemo(()=>i1(a),[a]),[m,p]=E.useState(null),g=_=>p(S=>S===_?null:_),v=E.useMemo(()=>u.map((_,S)=>{const T=De(_.gz)||"",O=WP({pillars:n,hourKey:r,chain:{dae:T||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),P=i1(O),M=_.at.getFullYear(),D=Array.from({length:10},(F,z)=>{const Z=M+z,Q=$le(Z),Y=WP({pillars:n,hourKey:r,chain:{dae:T||null,se:Q||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),X=i1(Y);return{year:Z,snap:X}}),H=zle(D).filter(F=>F.snap.top1ElNorm!==P.top1ElNorm),q=P.top1ElNorm!==f.top1ElNorm,K=q||H.length>0;return{idx:S,dae:_,daeLabel:`${M}~ ${T||""}`,daeSnap:P,daeDiffFromNatal:q,segDiffOnly:H,hasAnyChange:K}}).filter(_=>_.hasAnyChange),[u,n,r,i,o,f.top1ElNorm]),w=E.useMemo(()=>v.some(_=>_.hasAnyChange),[v]);return x.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-bold",children:"  "}),x.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",f.label," /  ",f.fit]})]}),w?x.jsx("div",{className:"space-y-3",children:v.map(_=>{const S=`dae:${_.idx}`,T=m===S;return x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx(go,{text:` ${_.daeLabel}`,tone:"base"}),x.jsx(go,{text:` ${_.daeSnap.label} ( ${_.daeSnap.fit})`,tone:_.daeDiffFromNatal?"diff":"base",onClick:()=>g(S),title:" (top3) "}),_.daeDiffFromNatal?x.jsx(go,{text:" ",tone:"diff"}):null]}),_.segDiffOnly.length?x.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:_.segDiffOnly.map((N,O)=>{const P=`seg:${_.idx}:${O}`,M=m===P,D=N.fromYear===N.toYear?`${N.fromYear}`:`${N.fromYear}~${N.toYear}`;return x.jsxs("div",{className:"inline-flex flex-col",children:[x.jsx("div",{className:"flex items-center gap-2",children:x.jsx(go,{text:` ${D}  ${N.snap.label} ( ${N.snap.fit})`,tone:"diff",onClick:()=>g(P),title:" (top3) "})}),M?x.jsx(VP,{snap:N.snap}):null]},P)})}):null,T?x.jsx(VP,{snap:_.daeSnap}):null]},S)})}):x.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}function Fle(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(2,Math.min(100,n))}%`}function Hle(e){return e.slice(0,3)}const sm=({text:e,tone:t="base"})=>{const n=t==="best"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300";return x.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full border border-transparent ${n}`,children:e})};function Gle({g:e,isBest:t}){const n=Hle(e.candidates);return x.jsxs("details",{open:t,className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[x.jsx("summary",{className:"list-none cursor-pointer px-3 py-2 flex flex-col gap-2",children:x.jsxs("div",{className:"flex flex-wrap items-start gap-2",children:[x.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[e.marker," ",e.title]}),x.jsx("span",{className:"max-w-[62%] text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:e.note}),!e.applicable&&x.jsx(sm,{text:" "}),t&&x.jsx(sm,{text:" ",tone:"best"}),x.jsx(sm,{text:` ${e.fitScore}`})]})}),x.jsx("div",{className:"px-3 pb-3 pt-1",children:n.length===0?x.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}):x.jsx("ul",{className:"space-y-2",children:n.map((r,i)=>x.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[i+1,""]}),x.jsx("span",{className:"text-sm font-semibold",children:r.element})]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:x.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:Fle(r.score??0,e.maxScore)},title:` ${r.score}`})}),x.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(r.reasons??[]).slice(0,6).map((a,o)=>x.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:a},o))})]})]},`${e.kind}-${r.elNorm??r.element}-${i}`))})})]})}function qle({best:e}){const t=e?.candidates?.[0]??null;return x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 p-3 bg-white/60 dark:bg-neutral-950/20",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:" "}),x.jsx("div",{className:"text-sm font-semibold",children:e?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"mr-1",children:e.marker}),e.title]}):""}),t?.element?x.jsx(sm,{text:`1: ${t.element}`}):null,e?.fitScore!=null?x.jsx(sm,{text:` ${e.fitScore}`}):null]}),e?.note?x.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed whitespace-normal break-words",children:e.note}):null]})}function Yle({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a}){const o=e,c=Rle({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a});return x.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-4",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-bold",children:"  ()"}),c.hasAbsent?x.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:["*   ",i?" ( ON)":""]}):null]}),x.jsx(qle,{best:o.best}),x.jsx("div",{className:"space-y-2",children:o.groups.map(u=>x.jsx(Gle,{g:u,isBest:o.bestKind===u.kind},u.kind))})]}),x.jsx(Ule,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})]})}const ZP=e=>e<10?`0${e}`:`${e}`;function Kle(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const c=Ui(i,a,o),u=`${c.getFullYear()}${ZP(c.getMonth()+1)}${ZP(c.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function Wle(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const Vle=["  ","   ","","",""];function Zle(e){return e==="  "||e===""}function Xle({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=qn(p=>p.settings),a=Doe(),o=Kle(e),c=Wle(o.birthDay)||void 0,u=Li(p=>p.canUseAdvancedReportNow()),f=Tle({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),m=E.useMemo(()=>"     . / .",[]);return f.isValidActive?x.jsxs("div",{className:"space-y-4 mb-4",children:[x.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:Poe.map(p=>x.jsx("button",{onClick:()=>a.setBlendTab(p),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(a.blendTab===p?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:p},p))}),x.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:Vle.map(p=>{const g=!u&&Zle(p),v=a.bigTab===p;return x.jsxs("button",{title:g?m:void 0,onClick:()=>a.setBigTab(p),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(g?"opacity-60 ":"")+(v?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:[p,g?" ":""]},p)})}),a.bigTab===""&&x.jsx(sae,{pillars:f.activePillars,daewoon:f.daewoonGz||void 0,sewoon:f.seGz||void 0,wolwoon:f.wolGz||void 0,ilwoon:f.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab==="   "&&x.jsxs("div",{className:"space-y-4",children:[x.jsx(rae,{data:f.chartData,revKey:f.revKey,perStemElementScaled:f.overlay?.perStemAugFull,elementPercent:f.elementPct,dayStem:f.activePillars[2]?.charAt(0)??null},`pentagon-${f.revKey}`),x.jsx(oae,{value:f.dayElementPercent}),x.jsx(xae,{natal:f.activePillars})]}),a.bigTab===""&&!u&&x.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300",children:["   ",x.jsx("b",{children:""}),"   . / ."]}),a.bigTab===""&&u&&x.jsx(Yle,{recommend:f.yongshinMulti,data:o,pillars:f.activePillars,hourKey:f.hourKeyForUi,demoteAbsent:a.demoteAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab===""&&x.jsx(uae,{pillars:f.activePillars,daewoon:f.daewoonGz||void 0,sewoon:f.seGz||void 0,wolwoon:f.wolGz||void 0,ilwoon:f.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab==="  "&&!u&&x.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300",children:["   ",x.jsx("b",{children:"  "}),"   . / ."]}),a.bigTab==="  "&&u&&x.jsx(xoe,{unified:f.unified,pillars:f.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:c},`gyeok-${a.blendTab}-${f.hourKeyForUi}`)]}):x.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const N0=e=>typeof e=="string"&&e.length>=2,Jle=e=>!Array.isArray(e)||e.length!==4?!1:N0(e[0])&&N0(e[1])&&N0(e[2])&&(e[3]===""||N0(e[3]));function Qle({data:e}){const[t,n]=E.useState("un"),r=Li(u=>u.canUseMyoViewerNow());E.useEffect(()=>{t==="myoun"&&!r&&n("un")},[t,r]);const i=E.useMemo(()=>{try{const u=Jm(e);return Tl(u)}catch{return new Date}},[e]),a=E.useMemo(()=>_v(e,i),[e,i]),o=!e.birthTime||e.birthTime==="",c=E.useMemo(()=>{try{const u=at(a,e.birthPlace?.lon),f=kt(a,e.birthPlace?.lon),m=gt(a,e.mingSikType),p=o?"":za(a,e.mingSikType);return[u,f,m,p]}catch{return[]}},[a,e?.mingSikType,e?.birthPlace?.lon,o]);return x.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[x.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[x.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),r?x.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,x.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&x.jsx(qie,{data:e}),t==="myoun"&&r&&x.jsx(Vie,{data:e}),t==="report"&&x.jsx(Xle,{data:e,pillars:Jle(c)?c:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tce=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),XP=e=>{const t=tce(e);return t.charAt(0).toUpperCase()+t.slice(1)},a7=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),nce=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},u)=>E.createElement("svg",{ref:u,...rce,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:a7("lucide",i),...!a&&!nce(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,m])=>E.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=(e,t)=>{const n=E.forwardRef(({className:r,...i},a)=>E.createElement(ice,{ref:a,iconNode:t,className:a7(`lucide-${ece(XP(e))}`,`lucide-${e}`,r),...i}));return n.displayName=XP(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],oce=Fi("chevron-down",ace);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],lce=Fi("chevron-up",sce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uce=Fi("circle-x",cce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],fce=Fi("heart-handshake",dce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],mce=Fi("house",hce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gce=Fi("log-out",pce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],bce=Fi("menu",yce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xce=Fi("plus",vce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ce=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wce=Fi("settings",_ce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],Ece=Fi("square-user",Sce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],o7=Fi("star",kce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Tce=Fi("user-plus",Ace);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],s7=Fi("x",Oce);function jce({onOpenSidebar:e,onAddNew:t,onOpenCustom:n}){const r=Br(w=>w.list.length),a=Li(w=>w.canAddMyeongsik)(r),o=!a.ok,c=o?a.message:"",u=()=>{if(o){Ed(c||"   ");return}t()},f=()=>{if(o){Ed(c||"   ");return}n()},m="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",p="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",g="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",v="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return x.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:x.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[x.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:x.jsx(bce,{size:22})}),x.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{type:"button",onClick:u,"aria-label":" ",disabled:o,title:c,className:`${m} ${o?v:p}`,children:[x.jsx(Tce,{size:18}),o?x.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),x.jsxs("button",{type:"button",onClick:f,"aria-label":" ",disabled:o,title:c,className:`${m} ${o?v:g}`,children:[x.jsx(Ece,{size:18}),o?x.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]})]})]})})}function Nce(e){E.useEffect(()=>{const t=e??S3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");k3(t),e&&E3(e)},[e])}const l7=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Cce(e){return typeof e=="string"&&l7.includes(e)}function LE(e){const t=Array.isArray(e)?e.filter(Cce):[],n=l7.filter(r=>!t.includes(r));return[...t,...n]}function IE(e){return{...hm,...e,sectionOrder:LE(e.sectionOrder)}}function Mce(e,t){return e.theme??t.theme??"dark"}function Pce({open:e,settings:t}){const n=E.useMemo(()=>LE(t.sectionOrder),[t.sectionOrder]),r=E.useMemo(()=>IE(t),[t]),[i,a]=E.useState(n),[o,c]=E.useState(r),[u,f]=E.useState(null),[m,p]=E.useState(!1);return E.useEffect(()=>{if(!e||m)return;const v=LE(t.sectionOrder);c({...IE(t),sectionOrder:v}),a(v),p(!1)},[e,t,m]),{order:i,setOrder:a,localSettings:o,setLocalSettings:c,updateSetting:(v,w)=>{c(_=>{const S={..._,[v]:w};return p(!0),S})},toastMessage:u,setToastMessage:f,dirty:m,setDirty:p}}function Dce(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function c7(e){E3(e)}function Rce({setSettings:e,saveToServer:t}){return{applyChanges:E.useCallback(async(r,i,a)=>{const o={...IE(r),sectionOrder:i};Dce(),e(o),o.theme&&c7(o.theme),await t(!0),a()},[e,t])}}function Lce({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=qn(),a=Pce({open:e,settings:n}),o=Rce({setSettings:r,saveToServer:i}),c=()=>a.setToastMessage(null),u=Mce(a.localSettings,n);Nce(u),E.useEffect(()=>{c7(u)},[u]);const f=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},m=g=>{const{destination:v,source:w}=g;if(!v||v.index===w.index)return;const _=Array.from(a.order),[S]=_.splice(w.index,1);_.splice(v.index,0,S),a.setOrder(_)},p=g=>{switch(g){case"theme":return x.jsx(ja,{title:"",children:x.jsx(Ice,{value:a.localSettings.theme??"dark",onChange:v=>a.updateSetting("theme",v)})});case"hiddenStem":return x.jsx(ja,{title:"  ",children:x.jsx(id,{value:a.localSettings.hiddenStem,onChange:v=>a.updateSetting("hiddenStem",v),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return x.jsx(ja,{title:" ",children:x.jsx(id,{value:a.localSettings.hiddenStemMode,onChange:v=>a.updateSetting("hiddenStemMode",v),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return x.jsx(ja,{title:"",children:x.jsx(id,{value:a.localSettings.sinsalMode,onChange:v=>a.updateSetting("sinsalMode",v),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return x.jsx(ja,{title:"",children:x.jsx(id,{value:a.localSettings.sinsalBase,onChange:v=>a.updateSetting("sinsalBase",v),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return x.jsx(ja,{title:" ",children:x.jsx(fo,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:v=>a.updateSetting("sinsalBloom",v)})});case"exposure":return x.jsx(ja,{title:" ",children:x.jsx(id,{value:a.localSettings.exposure,onChange:v=>a.updateSetting("exposure",v),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return x.jsx(ja,{title:" ",children:x.jsx(id,{value:a.localSettings.charType,onChange:v=>a.updateSetting("charType",v),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return x.jsx(ja,{title:" ",children:x.jsx(fo,{label:" ",checked:!!a.localSettings.thinEum,onChange:v=>a.updateSetting("thinEum",v)})});case"visibility":return x.jsx(ja,{title:" ",children:x.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[x.jsx(fo,{label:" ",checked:!!a.localSettings.showSipSin,onChange:v=>a.updateSetting("showSipSin",v)}),x.jsx(fo,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:v=>a.updateSetting("showSibiUnseong",v)}),x.jsx(fo,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:v=>a.updateSetting("showSibiSinsal",v)}),x.jsx(fo,{label:" ",checked:!!a.localSettings.showNabeum,onChange:v=>a.updateSetting("showNabeum",v)}),x.jsx(fo,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:v=>a.updateSetting("showEtcShinsal",v)}),x.jsx(fo,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:v=>a.updateSetting("showRelationBox",v)}),x.jsx(fo,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:v=>a.updateSetting("showPromptBox",v)})]})});case"difficultyMode":return x.jsx(ja,{title:" UP ver.",children:x.jsx(fo,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:v=>a.updateSetting("difficultyMode",v)})});default:return null}};return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),x.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),x.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[x.jsx("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("h2",{className:"text-lg font-bold",children:""}),x.jsx("button",{onClick:f,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]})}),e&&x.jsx(Vm,{onDragEnd:m,children:x.jsx(lf,{droppableId:"settings-sections",children:g=>x.jsxs("ul",{ref:g.innerRef,...g.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((v,w)=>x.jsx(sf,{draggableId:v,index:w,children:_=>x.jsxs("li",{ref:_.innerRef,..._.draggableProps,..._.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[x.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),x.jsx("div",{className:"flex-1 min-w-0",children:p(v)})]})},v)),g.placeholder]})})})]}),a.toastMessage&&x.jsx(V5,{message:a.toastMessage,onClose:c,ms:1800})]})}function Ice({value:e,onChange:t}){const n=e==="dark";return x.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[x.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),x.jsx("span",{children:n?"":""})]})}function ja({title:e,children:t}){return x.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[x.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),x.jsx("div",{className:"flex justify-center",children:t})]})}function id({value:e,onChange:t,options:n}){return x.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return x.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function fo({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return x.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[x.jsx("span",{children:e}),x.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),x.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function $ce({onShowToday:e,onShowCouple:t}){const[n,r]=E.useState(!1),[i,a]=E.useState(!1),[o,c]=E.useState(!1),u=async()=>{if(!i){a(!0);try{const{error:f}=await Le.auth.signOut();if(f)throw f;window.location.reload()}catch(f){console.error(f),alert(" .  ."),a(!1)}}};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:x.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[x.jsx(C0,{icon:x.jsx(mce,{size:22}),label:" ",onClick:e}),x.jsx(C0,{icon:x.jsx(fce,{size:22}),label:"",onClick:t}),x.jsx(C0,{icon:x.jsx(wce,{size:22}),label:"",onClick:()=>r(!0)}),x.jsx(C0,{icon:x.jsx(gce,{size:22}),label:"",onClick:()=>c(!0),disabled:i})]})}),x.jsx(Lce,{open:n,onClose:()=>r(!1)}),o&&x.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>c(!1),children:x.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:f=>f.stopPropagation(),children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>c(!1),children:""}),x.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{c(!1),u()},children:""})]})]})})]})}function C0({icon:e,label:t,onClick:n,disabled:r}){return x.jsxs("button",{onClick:n,disabled:r,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,x.jsx("span",{className:"mt-1",children:t})]})}const u7=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),rb=e=>u7(e).join(""),Bce=()=>{const[e,t]=E.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(CM);return u?JSON.parse(u):{}}catch{return{}}});E.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(CM,JSON.stringify(e))}catch{}},[e]);const[n,r]=E.useState({}),[i,a]=E.useState(""),[o,c]=E.useState(()=>{const u=Gy(),f=qy(),m=f.length?im(u,f):u;return gd(m,e)});return E.useEffect(()=>{c(u=>{const f=gd(u,e);return rb(f)===rb(u)?u:f})},[e]),E.useEffect(()=>{r(u=>{const f={...u};for(const m of o)f[m]===void 0&&(f[m]=!0);return f})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:c}},zce=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=E.useMemo(()=>{const i=P2(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[ai]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},Bh=async()=>{const{data:e,error:t}=await Le.auth.getUser();return t||!e.user?null:e.user.id},Uce=async e=>{const{data:t,error:n}=await Le.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},Fce=async e=>{const{data:t,error:n}=await Le.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},Hce=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await Le.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await Le.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},Gce=async(e,t)=>{const{error:n}=await Le.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},qce=async(e,t)=>{const{error:n}=await Le.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Yce=async(e,t)=>{const{error:n}=await Le.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Kce=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=E.useState(!1),o=E.useRef(e),c=E.useRef(!1),u=E.useRef(!1);E.useEffect(()=>{o.current=e},[e]),E.useEffect(()=>{(async()=>{if(i)return;const N=await Bh();if(!N)return;try{if(!u.current){const $=await Uce(N);$.disabled&&(u.current=!0),$.error?console.error("load custom folders from server error:",$.error):$.data.length&&L2($.data)}}catch($){console.error("load custom folders exception:",$)}const O=await Fce(N);if(O.error){console.error("load folder order from server error:",O.error),a(!0);return}const P=Gy(),M=O.data,D=M.length?im(P,M):im(P,qy());n(gd(D,o.current)),M.length&&bd(M),a(!0)})()},[i,n]);const f=E.useCallback(async T=>{const N=await Bh();if(!N)return;const O=await Hce(N,T);O.error&&console.error("save folder order to server error:",O.error)},[]),m=E.useRef(null),p=E.useRef(null),g=E.useRef(""),v=E.useCallback((T,N)=>{const O=u7(T),P=rb(O);if(P&&P===g.current)return;m.current=O;const M=async()=>{const D=m.current;if(m.current=null,!D)return;const $=rb(D);$&&$===g.current||(await f(D),g.current=$)};if(N?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),M();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,M()},300)},[f]);E.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const T=m.current;m.current=null,T&&T.length&&f(T)},[f]),E.useEffect(()=>{if(typeof window>"u")return;const T=()=>{if(c.current){c.current=!1;return}const N=Gy(),O=qy(),P=O.length?im(N,O):N;n(gd(P,o.current))};return window.addEventListener(Ol,T),()=>window.removeEventListener(Ol,T)},[n]);const w=E.useCallback(T=>{const{source:N,destination:O,type:P}=T;if(!O||P!=="FOLDER")return;const M=N.index,D=O.index;M!==D&&n($=>{if(!$.length)return $;const H=[...$],[q]=H.splice(M,1);H.splice(D,0,q);const K=gd(H,o.current);return c.current=!0,bd(K),v(K),K})},[v,n]),_=E.useCallback(T=>{const N=T.trim();!N||N===dn||(W5(N),(async()=>{if(u.current)return;const O=await Bh();if(!O)return;const P=await qce(O,N);P.disabled&&(u.current=!0),P.error&&console.error("save custom folder error:",P.error)})(),n(O=>{if(O.includes(N))return O;const P=[...O,N],M=gd(P,o.current);return bd(M),v(M,{immediate:!0}),M}))},[v,n]),S=E.useCallback(T=>{r(T),t(N=>{const O={...N};return delete O[T],O}),n(N=>{const O=N.filter(P=>P!==T);return bd(O),v(O,{immediate:!0}),(async()=>{const P=await Bh();if(!P)return;const M=await Gce(P,T);M.error&&console.error("delete folder order entry error:",M.error)})(),O}),q5.includes(T)?zee(T):(Bee(T),(async()=>{if(u.current)return;const N=await Bh();if(!N)return;const O=await Yce(N,T);O.disabled&&(u.current=!0),O.error&&console.error("delete custom folder error:",O.error)})())},[v,t,n,r]);return{handleDragEnd:w,createFolder:_,deleteFolder:S,UNASSIGNED_LABEL:dn}};function Wce(e,t){const n=Bce(),r=zce({list:e,orderedFolders:n.orderedFolders}),i=Kce({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function Vce({onClose:e,onAddNew:t}){const n=Br(u=>u.list.length),i=Li(u=>u.canAddMyeongsik)(n),a=!i.ok,o=a?i.message:"",c=()=>{if(a){Ed(o||"   ");return}t()};return x.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[x.jsx("h2",{className:"text-lg font-bold",children:" "}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{type:"button",onClick:c,disabled:a,title:o,className:a?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[x.jsx(xce,{size:16}),"  ",a?"":""]}),x.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:x.jsx(s7,{size:22})})]})]})}function Zce({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return x.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[x.jsx("option",{value:"name",children:""}),x.jsx("option",{value:"ganji",children:""}),x.jsx("option",{value:"birth",children:""})]}),x.jsxs("div",{className:"relative flex-1",children:[x.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&x.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:x.jsx(uce,{size:16})})]}),i&&x.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function Xce({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r}){return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[x.jsx("input",{type:"text",value:e,onChange:i=>t(i.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:i=>i.stopPropagation()}),x.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:i=>{i.stopPropagation(),n()},children:""})]}),x.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:r?"   .":"/      ."})]})}function JP({droppableId:e,items:t,isDropDisabled:n,className:r}){return x.jsx(lf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>x.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:x.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function Jce({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:c,onDelete:u,inner:f}){return x.jsx(sf,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:m=>x.jsxs("div",{ref:m.innerRef,...m.draggableProps,...m.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[x.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?x.jsx(lce,{size:16}):x.jsx(oce,{size:16}),x.jsx("span",{className:"text-sm font-semibold",children:e})]}),x.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),c()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:x.jsx(o7,{size:16,fill:r?"currentColor":"none"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),x.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?f:null]})},`folder-${e}`)}const Qce=()=>({canManage:Li(()=>!0)}),kv="";function eue(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===kv?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function tue(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(c=>o.some(u=>c.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function nue(e,t,n){if(n)return kv;const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":j4(i)}function QP(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function rue(e){const t=QP(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Uy(r,i,a)||!e.birthTime||e.birthTime===kv)return t;const o=Number(e.birthTime.slice(0,2)),c=e.birthTime.slice(2,4),u=o-1<0?23:o-1,f=String(u).padStart(2,"0")+c,m=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(m.getTime()))return t;const p=new Date(m.getTime()-3600*1e3),g=N2({...e,birthTime:f,corrected:p});return QP({...e,...g})}function iue(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function aue(e,t){return Number.isNaN(e)?0:t-e+1}function oue(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function sue(e){return e===""?"":e===""?"":e??""}function lue({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=rue(e),o=tue(e.birthPlace?.name),c=e.relationship?.trim()?e.relationship:" ",u=sue(e.gender),f=!e.birthTime||e.birthTime===kv,m=nue(e.correctedLocal,e.corrected,f),p=!!(o||m),g=eue(e.birthDay,e.birthTime),v=e.calendarType==="lunar"?"":"",w=iue(e.birthDay),_=aue(w,new Date().getFullYear()),S=!!(e.memo&&e.memo.trim()!==""),T=t?" ":" ",N=e.mingSikType??"/",O=r?" ":"::",P=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:O,ganji:a,placeDisplay:o,relationshipLabel:c,genderLabel:u,birthDisplay:g,calendarLabel:v,correctedLabel:m,showMetaLine:p,showMemo:S,memoToggleLabel:T,age:_,mingSikTypeValue:N,favoriteLabel:P,editLabel:"",deleteLabel:"",getDragStyle:oue}}const cue=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:c,onToggleFavorite:u})=>{const f=E.useCallback(S=>{S?.stopPropagation(),n(e.id)},[n,e.id]),m=E.useCallback(S=>{S?.stopPropagation(),a(e)},[a,e]),p=E.useCallback(S=>{S?.stopPropagation(),o(e)},[o,e]),g=E.useCallback(S=>{S?.stopPropagation(),c(e)},[c,e]),v=E.useCallback(S=>{S?.stopPropagation(),u(e.id)},[u,e.id]),w=E.useCallback(S=>{const T=S===t?void 0:S;r(e.id,T)},[r,e.id,t]),_=E.useCallback(S=>{i(e,S)},[i,e]);return{handleToggleMemo:f,handleView:m,handleEdit:p,handleDelete:g,handleToggleFavorite:v,handleFolderChange:w,handleMingSikTypeChange:_}};function eD({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,memoOpen:a,onToggleMemo:o,onChangeFolder:c,onChangeMingSikType:u,onView:f,onEdit:m,onDelete:p,onToggleFavorite:g}){Qce();const v=lue({m:e,memoOpen:a,isDragDisabled:i}),w=cue({m:e,unassignedLabel:r,onToggleMemo:o,onChangeFolder:c,onChangeMingSikType:u,onView:f,onEdit:m,onDelete:p,onToggleFavorite:g});return x.jsx(sf,{draggableId:v.keyId,index:t,isDragDisabled:i,children:_=>x.jsx("li",{ref:_.innerRef,..._.draggableProps,..._.dragHandleProps,style:_.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,children:x.jsxs("div",{className:"p-3",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",v.age," ",v.genderLabel,")"]}),x.jsx("span",{className:"opacity-40",children:""}),x.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:v.relationshipLabel}),x.jsx("span",{className:"ml-auto opacity-50 select-none",children:v.dragHandleLabel})]}),x.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[v.birthDisplay,", ",v.calendarLabel]}),v.showMetaLine&&x.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[v.placeDisplay,v.correctedLabel&&x.jsxs("span",{className:"opacity-70",children:["  ",v.correctedLabel]})]}),v.ganji&&x.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:v.ganji}),v.showMemo&&x.jsxs("div",{children:[x.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:w.handleToggleMemo,children:v.memoToggleLabel}),x.jsx("div",{className:a?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[x.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:S=>S.stopPropagation(),onChange:S=>{S.stopPropagation(),w.handleFolderChange(S.target.value)},children:[r,...n].map(S=>x.jsx("option",{value:S,children:S},S))}),x.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:v.mingSikTypeValue,onClick:S=>S.stopPropagation(),onChange:S=>{S.stopPropagation(),w.handleMingSikTypeChange(S.target.value)},children:[x.jsx("option",{value:"",children:""}),x.jsx("option",{value:"/",children:"/"}),x.jsx("option",{value:"",children:""})]})]}),x.jsxs("div",{className:"flex gap-2 mt-3",children:[x.jsx("button",{type:"button",onClick:w.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),x.jsx("button",{type:"button",title:"",onClick:w.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:v.editLabel}),x.jsx("button",{type:"button",title:"",onClick:w.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:v.deleteLabel}),x.jsx("button",{type:"button",title:v.favoriteLabel,onClick:w.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":v.favoriteLabel,children:x.jsx(o7,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},v.keyId)}const uue="list:__unassigned__",due=e=>`list:${e}`,tD=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},fue=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=H5(e),{filteredUnassigned:o,filteredGrouped:c,totalMatches:u}=E.useMemo(()=>kee({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:c,totalMatches:u}},hue=({list:e,orderedFolders:t})=>{const[n,r]=E.useState(""),[i,a]=E.useState("name"),[o,c]=E.useState({}),u=E.useRef(null),f=E.useRef(null);return E.useEffect(()=>{if(f.current==null)return;const g=u.current;g&&(g.scrollTop=f.current,f.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:g=>{c(v=>({...v,[g]:!v[g]}))},scrollRef:u,stashScrollTop:()=>{const g=u.current;g&&(f.current=g.scrollTop)}}},nD=()=>{typeof window>"u"||window.dispatchEvent(new Event(Ol))},mue=({orderedFolders:e,isFiltering:t,handleFolderDragEnd:n,moveItemByDnD:r,update:i,remove:a,onView:o,onClose:c,onDeleteView:u,folderFavMap:f,setFolderFavMap:m,setFolderOpenMap:p,createFolder:g,deleteFolder:v,newFolderName:w,setNewFolderName:_,stashScrollTop:S})=>{const T=E.useCallback((K,F)=>{i(K,{folder:F})},[i]),N=E.useCallback((K,F)=>{const z={...K,mingSikType:F},Z=N2(z);i(K.id,{mingSikType:F,...Z}),o({...z,...Z}),c()},[i,o,c]),O=E.useCallback(K=>{o(K),c()},[o,c]),P=E.useCallback(K=>{confirm(`'${K.name}'  ?`)&&(a(K.id),u&&u())},[a,u]),M=E.useCallback(()=>{const K=w.trim();K&&(g(K),_(""),nD())},[w,g,_]),D=E.useCallback(K=>{if(f[K]){alert(`'${K}'   .
   .`);return}confirm(`'${K}'  ?
(   )`)&&(v(K),nD())},[f,v]),$=E.useCallback(K=>{p(F=>({...F,[K]:!F[K]}))},[p]),H=E.useCallback(K=>{m(F=>({...F,[K]:!F[K]}))},[m]);return{handleDrop:E.useCallback(K=>{const{type:F,source:z,destination:Z,draggableId:Q}=K;if(Z&&!t){if(S(),F==="FOLDER"){n(K);return}if(F==="ITEM"){if(!Q.replace(/^item:/,""))return;const Y=tD(z.droppableId),X=tD(Z.droppableId);r({orderedFolders:e,sourceFolder:Y,sourceIndex:z.index,destinationFolder:X,destinationIndex:Z.index})}}},[t,S,n,r,e]),changeFolder:T,changeMingSikType:N,viewAndClose:O,requestDelete:P,createFolderAndNotify:M,requestDeleteFolder:D,toggleFolderOpen:$,toggleFolderFavorite:H}};function pue({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a}){const{list:o,remove:c,update:u,moveItemByDnD:f,toggleFavoriteWithReorder:m,unsetFolderForFolder:p}=Br(),{folderFavMap:g,setFolderFavMap:v,folderOpenMap:w,setFolderOpenMap:_,newFolderName:S,setNewFolderName:T,orderedFolders:N,grouped:O,unassignedItems:P,handleDragEnd:M,createFolder:D,deleteFolder:$,UNASSIGNED_LABEL:H}=Wce(o,{unsetFolderForFolder:p}),q=hue({list:o,orderedFolders:N}),{isFiltering:K,filteredUnassigned:F,filteredGrouped:z,totalMatches:Z}=fue({search:q.search,searchMode:q.searchMode,orderedFolders:N,unassignedItems:P,grouped:O}),Q=mue({orderedFolders:N,isFiltering:K,handleFolderDragEnd:M,moveItemByDnD:f,update:u,remove:c,onView:n,onClose:t,onDeleteView:a,folderFavMap:g,setFolderFavMap:v,setFolderOpenMap:_,createFolder:D,deleteFolder:$,newFolderName:S,setNewFolderName:T,stashScrollTop:q.stashScrollTop});return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),x.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[x.jsx(Vce,{onClose:t,onAddNew:()=>{r(),t()}}),x.jsx(Vm,{onDragEnd:Q.handleDrop,children:x.jsxs("div",{ref:q.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[x.jsx(Zce,{search:q.search,setSearch:q.setSearch,searchMode:q.searchMode,setSearchMode:q.setSearchMode,isFiltering:K,totalMatches:Z}),x.jsx(Xce,{newFolderName:S,setNewFolderName:T,isFiltering:K,onCreate:Q.createFolderAndNotify}),x.jsx(JP,{droppableId:uue,isDropDisabled:K,className:"mb-6",items:F.map((J,Y)=>x.jsx(eD,{m:J,index:Y,orderedFolders:N,unassignedLabel:H,isDragDisabled:K,memoOpen:!!q.memoOpenMap[J.id],onToggleMemo:q.toggleMemo,onChangeFolder:Q.changeFolder,onChangeMingSikType:Q.changeMingSikType,onView:Q.viewAndClose,onEdit:X=>i(X),onDelete:Q.requestDelete,onToggleFavorite:X=>void m(X,N)},J.id))}),x.jsx(lf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:K,children:J=>x.jsxs("div",{ref:J.innerRef,...J.droppableProps,children:[N.map((Y,X)=>{const re=due(Y),ue=z[Y]||[],se=!!w[Y],B=!!g[Y];return x.jsx(Jce,{folderName:Y,folderIndex:X,isOpen:se,isFavorite:B,itemCount:ue.length,isDragDisabled:K,onToggleOpen:()=>Q.toggleFolderOpen(Y),onToggleFavorite:()=>Q.toggleFolderFavorite(Y),onDelete:()=>Q.requestDeleteFolder(Y),inner:x.jsx(JP,{droppableId:re,isDropDisabled:K,className:"mt-2",items:ue.map((W,ae)=>x.jsx(eD,{m:W,index:ae,orderedFolders:N,unassignedLabel:H,isDragDisabled:K,memoOpen:!!q.memoOpenMap[W.id],onToggleMemo:q.toggleMemo,onChangeFolder:Q.changeFolder,onChangeMingSikType:Q.changeMingSikType,onView:Q.viewAndClose,onEdit:V=>i(V),onDelete:Q.requestDelete,onToggleFavorite:V=>void m(V,N)},W.id))})},`folder-${Y}`)}),J.placeholder]})})]})})]})]})}function rD(e){return{...e,calendarType:e.calendarType??"solar"}}function iD(e){return!e.birthTime||e.birthTime===""}function aD(e){return!e.birthPlace||e.birthPlace.name===""}function gue(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Ui(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${c}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const d7="ms_folders";function yue(){try{const e=JSON.parse(localStorage.getItem(d7)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function bue(e){localStorage.setItem(d7,JSON.stringify(e))}function vue(e){const[t,n]=E.useState(!1),[r,i]=E.useState(()=>rD(e)),[a,o]=E.useState(iD(e)),[c,u]=E.useState(aD(e)),[f,m]=E.useState([]);return E.useEffect(()=>{m(yue())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(v,w)=>{i(_=>({..._,[v]:w}))},unknownTime:a,setUnknownTime:o,unknownPlace:c,setUnknownPlace:u,customFolders:f,setCustomFolders:m,resetForm:()=>{i(rD(e)),o(iD(e)),u(aD(e))}}}const f7=["","","","","",""];function xue(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...f7,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[dn,...i]}function _ue({list:e,customFolders:t,form:n}){const r=E.useMemo(()=>xue(e,t),[e,t]),i=E.useMemo(()=>gue(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function wue(e,t,n){if(!e.name||e.name.trim()==="")return" .";const r=C2(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=M2(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"   '' .":null:i.message}function Sue({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:c,onClose:u,onSaved:f}){return{save:()=>{const g=wue(t,n,r);if(g){alert(g);return}const v=Gc(t.folder===dn?void 0:t.folder),w=B5({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:v,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!w.ok){alert(w.message);return}const _={...e,...w.value};if(_.folder&&!f7.includes(_.folder)&&!i.includes(_.folder)){const S=[...i,_.folder];a(S),bue(S)}o(e.id,_),f?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&c(e.id)}}}const a1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Eue="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",kue="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",rs="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",Aue="text-xs text-neutral-500 dark:text-neutral-400",M0="accent-violet-600 dark:accent-violet-400",oD="accent-violet-600 dark:accent-violet-400",Av="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Tue=`${Av} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,Oue=`${Av} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,sD=`${Av} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,jue=`${Av} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function Nue({item:e,onClose:t}){const{list:n,update:r,remove:i}=Br(),a=vue(e),o=_ue({list:n,customFolders:a.customFolders,form:a.form}),c=Sue({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?x.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[x.jsx("h3",{className:"text-lg font-bold",children:" "}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:""}),x.jsx("input",{className:a1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:rs,children:" (YYYYMMDD)"}),x.jsx("input",{className:a1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),x.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:M0,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),x.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:M0,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),x.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&x.jsx("span",{className:Aue,children:o.lunarPreview})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:"  (HHMM)"}),x.jsx("input",{className:`${a1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),x.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",className:oD,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),x.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:rs,children:" "}),x.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const f=`editor_ming_${u}`;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:M0,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:f}),x.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:""}),x.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const f=`editor_gender_${u}`;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:M0,name:"gender",value:u,checked:a.form.gender===u,onChange:m=>a.updateForm("gender",m.target.value),id:f}),x.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:" "}),x.jsx(EB,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),x.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",className:oD,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),x.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:""}),x.jsx(G5,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:""}),x.jsx("select",{className:Eue,value:a.form.folder??dn,onChange:u=>{const f=u.target.value;f===dn?a.updateForm("folder",void 0):a.updateForm("folder",f)},children:o.folderOptions.map(u=>x.jsx("option",{value:u===dn?dn:u,children:u},u))})]}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:""}),x.jsx("textarea",{className:kue,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),x.jsxs("div",{className:"flex gap-2 justify-end",children:[x.jsx("button",{className:sD,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),x.jsx("button",{className:jue,onClick:c.save,children:""})]})]}):x.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:Tue,onClick:()=>a.setIsEditing(!0),children:""}),x.jsx("button",{className:Oue,onClick:c.removeThis,children:""}),t&&x.jsx("button",{className:sD,onClick:t,children:""})]})]}),x.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[x.jsxs("div",{children:[": ",e.gender]}),x.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),x.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),x.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),x.jsxs("div",{children:[": ",e.relationship||"-"]}),x.jsxs("div",{children:[": ",e.folder??dn]})]}),e.ganji&&x.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&x.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[x.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function Cue({children:e}){const t=qa(),[n,r]=E.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return x.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[x.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[x.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[x.jsx("span",{className:"desk:block hidden",children:""}),x.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),x.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return x.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),x.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[x.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[x.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),x.jsx("div",{className:"font-semibold",children:" "}),x.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),x.jsx("div",{className:"flex-1",children:e})]})]})}function Mue(){const[e,t]=E.useState(null),[n,r]=E.useState(!0);return E.useEffect(()=>{(async()=>{const{data:a}=await Le.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:c}=await Le.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(c?.role??null),r(!1)})()},[]),{role:e,loading:n}}function Pue({allow:e,children:t}){const{role:n,loading:r}=Mue();return r?x.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?x.jsx("div",{className:"text-red-400 p-6",children:" ."}):x.jsx(x.Fragment,{children:t})}function h7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=h7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=h7(e))&&(r&&(r+=" "),r+=t);return r}var Due=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sA(e){if(typeof e!="string")return!1;var t=Due;return t.includes(e)}var Rue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Lue=new Set(Rue);function m7(e){return typeof e!="string"?!1:Lue.has(e)}function p7(e){return typeof e=="string"&&e.startsWith("data-")}function Fa(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(m7(n)||p7(n))&&(t[n]=e[n]);return t}function Tv(e){if(e==null)return null;if(E.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Fa(t)}return typeof e=="object"&&!Array.isArray(e)?Fa(e):null}function ha(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(m7(n)||p7(n)||sA(n))&&(t[n]=e[n]);return t}function Iue(e){return e==null?null:E.isValidElement(e)?ha(e.props):typeof e=="object"&&!Array.isArray(e)?ha(e):null}var $ue=["children","width","height","viewBox","className","style","title","desc"];function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$E.apply(null,arguments)}function Bue(e,t){if(e==null)return{};var n,r,i=zue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var g7=E.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:c,title:u,desc:f}=e,m=Bue(e,$ue),p=a||{width:r,height:i,x:0,y:0},g=Qt("recharts-surface",o);return E.createElement("svg",$E({},ha(m),{className:g,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),E.createElement("title",null,u),E.createElement("desc",null,f),n)}),Uue=["children","className"];function BE(){return BE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BE.apply(null,arguments)}function Fue(e,t){if(e==null)return{};var n,r,i=Hue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var So=E.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Fue(e,Uue),a=Qt("recharts-layer",r);return E.createElement("g",BE({className:a},ha(i),{ref:t}),n)}),Gue=E.createContext(null);function vn(e){return function(){return e}}const zE=Math.PI,UE=2*zE,Dc=1e-6,que=UE-Dc;function y7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Yue(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return y7;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Kue{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?y7:Yue(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,u=r-t,f=i-n,m=o-t,p=c-n,g=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Dc)if(!(Math.abs(p*u-f*m)>Dc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-o,w=i-c,_=u*u+f*f,S=v*v+w*w,T=Math.sqrt(_),N=Math.sqrt(g),O=a*Math.tan((zE-Math.acos((_+g-S)/(2*T*N)))/2),P=O/N,M=O/T;Math.abs(P-1)>Dc&&this._append`L${t+P*m},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*v>m*w)},${this._x1=t+M*u},${this._y1=n+M*f}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),u=r*Math.sin(i),f=t+c,m=n+u,p=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Dc||Math.abs(this._y1-m)>Dc)&&this._append`L${f},${m}`,r&&(g<0&&(g=g%UE+UE),g>que?this._append`A${r},${r},0,1,${p},${t-c},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:g>Dc&&this._append`A${r},${r},0,${+(g>=zE)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function b7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Kue(t)}function lA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function v7(e){this._context=e}v7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ov(e){return new v7(e)}function x7(e){return e[0]}function _7(e){return e[1]}function w7(e,t){var n=vn(!0),r=null,i=Ov,a=null,o=b7(c);e=typeof e=="function"?e:e===void 0?x7:vn(e),t=typeof t=="function"?t:t===void 0?_7:vn(t);function c(u){var f,m=(u=lA(u)).length,p,g=!1,v;for(r==null&&(a=i(v=o())),f=0;f<=m;++f)!(f<m&&n(p=u[f],f,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(p,f,u),+t(p,f,u));if(v)return a=null,v+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:vn(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:vn(+u),c):t},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:vn(!!u),c):n},c.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),c):i},c.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),c):r},c}function P0(e,t,n){var r=null,i=vn(!0),a=null,o=Ov,c=null,u=b7(f);e=typeof e=="function"?e:e===void 0?x7:vn(+e),t=typeof t=="function"?t:vn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?_7:vn(+n);function f(p){var g,v,w,_=(p=lA(p)).length,S,T=!1,N,O=new Array(_),P=new Array(_);for(a==null&&(c=o(N=u())),g=0;g<=_;++g){if(!(g<_&&i(S=p[g],g,p))===T)if(T=!T)v=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=g-1;w>=v;--w)c.point(O[w],P[w]);c.lineEnd(),c.areaEnd()}T&&(O[g]=+e(S,g,p),P[g]=+t(S,g,p),c.point(r?+r(S,g,p):O[g],n?+n(S,g,p):P[g]))}if(N)return c=null,N+""||null}function m(){return w7().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:vn(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:vn(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:vn(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:vn(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:vn(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:vn(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:vn(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(c=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=c=null:c=o(a=p),f):a},f}class S7{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Wue(e){return new S7(e,!0)}function Vue(e){return new S7(e,!1)}function ib(){}function ab(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function E7(e){this._context=e}E7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ab(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ab(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zue(e){return new E7(e)}function k7(e){this._context=e}k7.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ab(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Xue(e){return new k7(e)}function A7(e){this._context=e}A7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ab(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jue(e){return new A7(e)}function T7(e){this._context=e}T7.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Que(e){return new T7(e)}function lD(e){return e<0?-1:1}function cD(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),c=(a*i+o*r)/(r+i);return(lD(a)+lD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function uD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,o-c*n,a,o)}function ob(e){this._context=e}ob.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o1(this,this._t0,uD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o1(this,uD(this,n=cD(this,e,t)),n);break;default:o1(this,this._t0,n=cD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function O7(e){this._context=new j7(e)}(O7.prototype=Object.create(ob.prototype)).point=function(e,t){ob.prototype.point.call(this,t,e)};function j7(e){this._context=e}j7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function ede(e){return new ob(e)}function tde(e){return new O7(e)}function N7(e){this._context=e}N7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=dD(e),i=dD(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dD(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function nde(e){return new N7(e)}function jv(e,t){this._context=e,this._t=t}jv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function rde(e){return new jv(e,.5)}function ide(e){return new jv(e,0)}function ade(e){return new jv(e,1)}function Gd(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,c=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function FE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ode(e,t){return e[t]}function sde(e){const t=[];return t.key=e,t}function lde(){var e=vn([]),t=FE,n=Gd,r=ode;function i(a){var o=Array.from(e.apply(this,arguments),sde),c,u=o.length,f=-1,m;for(const p of a)for(c=0,++f;c<u;++c)(o[c][f]=[0,+r(p,o[c].key,f,a)]).data=p;for(c=0,m=lA(t(o));c<u;++c)o[m[c]].index=c;return n(o,m),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:vn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:vn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?FE:typeof a=="function"?a:vn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Gd,i):n},i}function cde(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Gd(e,t)}}function ude(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,c=0;o<i;++o)c+=e[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}Gd(e,t)}}function dde(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var c=0,u=0,f=0;c<o;++c){for(var m=e[t[c]],p=m[r][1]||0,g=m[r-1][1]||0,v=(p-g)/2,w=0;w<c;++w){var _=e[t[w]],S=_[r][1]||0,T=_[r-1][1]||0;v+=S-T}u+=p,f+=v*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,Gd(e,t)}}var s1={},l1={},fD;function fde(){return fD||(fD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(l1)),l1}var c1={},hD;function C7(){return hD||(hD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(c1)),c1}var u1={},mD;function cA(){return mD||(mD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(u1)),u1}var d1={},f1={},pD;function hde(){return pD||(pD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(f1)),f1}var gD;function uA(){return gD||(gD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hde(),n=cA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let c=0,u="",f="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<o;){const p=i[c];f?p==="\\"&&c+1<o?(c++,u+=i[c]):p===f?f="":u+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,a.push(u),u=""):u+=p:p==="["?(m=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,c++}return u&&a.push(u),a}e.toPath=r})(d1)),d1}var yD;function dA(){return yD||(yD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fde(),n=C7(),r=cA(),i=uA();function a(c,u,f){if(c==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const m=c[u];return m===void 0?n.isDeepKey(u)?a(c,i.toPath(u),f):f:m}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const m=c[u];return m===void 0?f:m}default:{if(Array.isArray(u))return o(c,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const m=c[u];return m===void 0?f:m}}}function o(c,u,f){if(u.length===0)return f;let m=c;for(let p=0;p<u.length;p++){if(m==null||t.isUnsafeProperty(u[p]))return f;m=m[u[p]]}return m===void 0?f:m}e.get=a})(s1)),s1}var h1,bD;function mde(){return bD||(bD=1,h1=dA().get),h1}var pde=mde();const Nv=ui(pde);var la=e=>e===0?0:e>0?1:-1,Ha=e=>typeof e=="number"&&e!=+e,gs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,We=e=>(typeof e=="number"||e instanceof Number)&&!Ha(e),Eo=e=>We(e)||typeof e=="string",gde=0,Em=e=>{var t=++gde;return"".concat(e||"").concat(t)},Nl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(t)&&typeof t!="string")return r;var a;if(gs(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Ha(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},M7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function yo(e,t,n){return We(e)&&We(t)?e+n*(t-e):t}function P7(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Nv(r,t))===n)}var br=e=>e===null||typeof e>"u",fA=e=>br(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function yde(e){return e!=null}function rp(){}var D7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,hA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(E.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{sA(i)&&(r[i]=(a=>n[i](n,a)))}),r},bde=(e,t,n)=>r=>(e(t,n,r),null),vde=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];sA(i)&&typeof a=="function"&&(r||(r={}),r[i]=bde(a,t,n))}),r};function vD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(n),!0).forEach(function(r){_de(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _de(e,t,n){return(t=wde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wde(e){var t=Sde(e,"string");return typeof t=="symbol"?t:t+""}function Sde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hi(e,t){var n=xde({},e),r=t,i=Object.keys(t),a=i.reduce((o,c)=>(o[c]===void 0&&r[c]!==void 0&&(o[c]=r[c]),o),n);return a}var m1={},p1={},xD;function Ede(){return xD||(xD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],c=r(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}e.uniqBy=t})(p1)),p1}var g1={},_D;function R7(){return _D||(_D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(g1)),g1}var y1={},b1={},v1={},wD;function kde(){return wD||(wD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(v1)),v1}var SD;function mA(){return SD||(SD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kde();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(b1)),b1}var x1={},ED;function Ade(){return ED||(ED=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(x1)),x1}var kD;function Tde(){return kD||(kD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mA(),n=Ade();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(y1)),y1}var _1={},w1={},AD;function Ode(){return AD||(AD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(w1)),w1}var S1={},E1={},k1={},A1={},TD;function L7(){return TD||(TD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(A1)),A1}var T1={},OD;function I7(){return OD||(OD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(T1)),T1}var O1={},jD;function $7(){return jD||(jD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(O1)),O1}var ND;function jde(){return ND||(ND=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L7(),n=I7(),r=$7();function i(m,p,g){return typeof g!="function"?i(m,p,()=>{}):a(m,p,function v(w,_,S,T,N,O){const P=g(w,_,S,T,N,O);return P!==void 0?!!P:a(w,_,v,O)},new Map)}function a(m,p,g,v){if(p===m)return!0;switch(typeof p){case"object":return o(m,p,g,v);case"function":return Object.keys(p).length>0?a(m,{...p},g,v):r.eq(m,p);default:return t.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function o(m,p,g,v){if(p==null)return!0;if(Array.isArray(p))return u(m,p,g,v);if(p instanceof Map)return c(m,p,g,v);if(p instanceof Set)return f(m,p,g,v);const w=Object.keys(p);if(m==null)return w.length===0;if(w.length===0)return!0;if(v?.has(p))return v.get(p)===m;v?.set(p,m);try{for(let _=0;_<w.length;_++){const S=w[_];if(!n.isPrimitive(m)&&!(S in m)||p[S]===void 0&&m[S]!==void 0||p[S]===null&&m[S]!==null||!g(m[S],p[S],S,m,p,v))return!1}return!0}finally{v?.delete(p)}}function c(m,p,g,v){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[w,_]of p.entries()){const S=m.get(w);if(g(S,_,w,m,p,v)===!1)return!1}return!0}function u(m,p,g,v){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const w=new Set;for(let _=0;_<p.length;_++){const S=p[_];let T=!1;for(let N=0;N<m.length;N++){if(w.has(N))continue;const O=m[N];let P=!1;if(g(O,S,_,m,p,v)&&(P=!0),P){w.add(N),T=!0;break}}if(!T)return!1}return!0}function f(m,p,g,v){return p.size===0?!0:m instanceof Set?u([...m],[...p],g,v):!1}e.isMatchWith=i,e.isSetMatch=f})(k1)),k1}var CD;function B7(){return CD||(CD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jde();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(E1)),E1}var j1={},N1={},C1={},MD;function Nde(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(C1)),C1}var M1={},PD;function z7(){return PD||(PD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(M1)),M1}var P1={},DD;function U7(){return DD||(DD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",w="[object Error]",_="[object DataView]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",O="[object Uint32Array]",P="[object BigUint64Array]",M="[object Int8Array]",D="[object Int16Array]",$="[object Int32Array]",H="[object BigInt64Array]",q="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=m,e.bigInt64ArrayTag=H,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=_,e.dateTag=c,e.errorTag=w,e.float32ArrayTag=q,e.float64ArrayTag=K,e.functionTag=p,e.int16ArrayTag=D,e.int32ArrayTag=$,e.int8ArrayTag=M,e.mapTag=u,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=N,e.uint32ArrayTag=O,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=T})(P1)),P1}var D1={},RD;function Cde(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(D1)),D1}var LD;function F7(){return LD||(LD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nde(),n=z7(),r=U7(),i=I7(),a=Cde();function o(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,g,v=new Map,w=void 0){const _=w?.(m,p,g,v);if(_!==void 0)return _;if(i.isPrimitive(m))return m;if(v.has(m))return v.get(m);if(Array.isArray(m)){const S=new Array(m.length);v.set(m,S);for(let T=0;T<m.length;T++)S[T]=c(m[T],T,g,v,w);return Object.hasOwn(m,"index")&&(S.index=m.index),Object.hasOwn(m,"input")&&(S.input=m.input),S}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const S=new RegExp(m.source,m.flags);return S.lastIndex=m.lastIndex,S}if(m instanceof Map){const S=new Map;v.set(m,S);for(const[T,N]of m)S.set(T,c(N,T,g,v,w));return S}if(m instanceof Set){const S=new Set;v.set(m,S);for(const T of m)S.add(c(T,void 0,g,v,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const S=new(Object.getPrototypeOf(m)).constructor(m.length);v.set(m,S);for(let T=0;T<m.length;T++)S[T]=c(m[T],T,g,v,w);return S}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const S=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return v.set(m,S),u(S,m,g,v,w),S}if(typeof File<"u"&&m instanceof File){const S=new File([m],m.name,{type:m.type});return v.set(m,S),u(S,m,g,v,w),S}if(typeof Blob<"u"&&m instanceof Blob){const S=new Blob([m],{type:m.type});return v.set(m,S),u(S,m,g,v,w),S}if(m instanceof Error){const S=new m.constructor;return v.set(m,S),S.message=m.message,S.name=m.name,S.stack=m.stack,S.cause=m.cause,u(S,m,g,v,w),S}if(m instanceof Boolean){const S=new Boolean(m.valueOf());return v.set(m,S),u(S,m,g,v,w),S}if(m instanceof Number){const S=new Number(m.valueOf());return v.set(m,S),u(S,m,g,v,w),S}if(m instanceof String){const S=new String(m.valueOf());return v.set(m,S),u(S,m,g,v,w),S}if(typeof m=="object"&&f(m)){const S=Object.create(Object.getPrototypeOf(m));return v.set(m,S),u(S,m,g,v,w),S}return m}function u(m,p,g=m,v,w){const _=[...Object.keys(p),...t.getSymbols(p)];for(let S=0;S<_.length;S++){const T=_[S],N=Object.getOwnPropertyDescriptor(m,T);(N==null||N.writable)&&(m[T]=c(p[T],T,g,v,w))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=u})(N1)),N1}var ID;function Mde(){return ID||(ID=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F7();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(j1)),j1}var $D;function Pde(){return $D||($D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B7(),n=Mde();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(S1)),S1}var R1={},L1={},I1={},BD;function Dde(){return BD||(BD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F7(),n=U7();function r(i,a){return t.cloneDeepWith(i,(o,c,u,f)=>{const m=a?.(o,c,u,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(I1)),I1}var zD;function Rde(){return zD||(zD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dde();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(L1)),L1}var $1={},B1={},UD;function H7(){return UD||(UD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(B1)),B1}var z1={},FD;function Lde(){return FD||(FD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z7();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(z1)),z1}var HD;function Ide(){return HD||(HD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C7(),n=H7(),r=Lde(),i=uA();function a(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?u=i.toPath(c):u=[c],u.length===0)return!1;let f=o;for(let m=0;m<u.length;m++){const p=u[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})($1)),$1}var GD;function $de(){return GD||(GD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B7(),n=cA(),r=Rde(),i=dA(),a=Ide();function o(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return u=r.cloneDeep(u),function(f){const m=i.get(f,c);return m===void 0?a.has(f,c):u===void 0?m===void 0:t.isMatch(m,u)}}e.matchesProperty=o})(R1)),R1}var qD;function Bde(){return qD||(qD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R7(),n=Ode(),r=Pde(),i=$de();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(_1)),_1}var YD;function zde(){return YD||(YD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ede(),n=R7(),r=Tde(),i=Bde();function a(o,c=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(c)):[]}e.uniqBy=a})(m1)),m1}var U1,KD;function Ude(){return KD||(KD=1,U1=zde().uniqBy),U1}var Fde=Ude();const WD=ui(Fde);function Hde(e,t,n){return t===!0?WD(e,n):typeof t=="function"?WD(e,t):e}var F1={exports:{}},H1={},G1={exports:{}},q1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VD;function Gde(){if(VD)return q1;VD=1;var e=Xd();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function c(p,g){var v=g(),w=r({inst:{value:v,getSnapshot:g}}),_=w[0].inst,S=w[1];return a(function(){_.value=v,_.getSnapshot=g,u(_)&&S({inst:_})},[p,v,g]),i(function(){return u(_)&&S({inst:_}),p(function(){u(_)&&S({inst:_})})},[p]),o(v),v}function u(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function f(p,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return q1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,q1}var ZD;function qde(){return ZD||(ZD=1,G1.exports=Gde()),G1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD;function Yde(){if(XD)return H1;XD=1;var e=Xd(),t=qde();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return H1.useSyncExternalStoreWithSelector=function(f,m,p,g,v){var w=a(null);if(w.current===null){var _={hasValue:!1,value:null};w.current=_}else _=w.current;w=c(function(){function T(D){if(!N){if(N=!0,O=D,D=g(D),v!==void 0&&_.hasValue){var $=_.value;if(v($,D))return P=$}return P=D}if($=P,r(O,D))return $;var H=g(D);return v!==void 0&&v($,H)?(O=D,$):(O=D,P=H)}var N=!1,O,P,M=p===void 0?null:p;return[function(){return T(m())},M===null?void 0:function(){return T(M())}]},[m,p,g,v]);var S=i(f,w[0],w[1]);return o(function(){_.hasValue=!0,_.value=S},[S]),u(S),S},H1}var JD;function Kde(){return JD||(JD=1,F1.exports=Yde()),F1.exports}var Wde=Kde(),pA=E.createContext(null),Vde=e=>e,sr=()=>{var e=E.useContext(pA);return e?e.store.dispatch:Vde},fy=()=>{},Zde=()=>fy,Xde=(e,t)=>e===t;function Je(e){var t=E.useContext(pA);return Wde.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Zde,t?t.store.getState:fy,t?t.store.getState:fy,t?e:fy,Xde)}function Jde(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Qde(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function efe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var QD=e=>Array.isArray(e)?e:[e];function tfe(e){const t=Array.isArray(e[0])?e[0]:e;return efe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function nfe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var rfe=class{constructor(e){this.value=e}deref(){return this.value}},ife=typeof WeakRef<"u"?WeakRef:rfe,afe=0,eR=1;function D0(){return{s:afe,v:void 0,o:null,p:null}}function G7(e,t={}){let n=D0();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let c=n;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const _=w.get(v);_===void 0?(c=D0(),w.set(v,c)):c=_}else{let w=c.p;w===null&&(c.p=w=new Map);const _=w.get(v);_===void 0?(c=D0(),w.set(v,c)):c=_}}const f=c;let m;if(c.s===eR)m=c.v;else if(m=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new ife(m):m}return f.s=eR,f.v=m,m}return o.clearCache=()=>{n=D0(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function ofe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,c,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),Jde(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:v=G7,argsMemoizeOptions:w=[]}=m,_=QD(g),S=QD(w),T=tfe(i),N=p(function(){return a++,f.apply(null,arguments)},..._),O=v(function(){o++;const M=nfe(T,arguments);return c=N.apply(null,M),c},...S);return Object.assign(O,{resultFunc:f,memoizedResultFunc:N,dependencies:T,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var we=ofe(G7),sfe=Object.assign((e,t=we)=>{Qde(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,c,u)=>(o[n[u]]=c,o),{}))},{withTypes:()=>sfe}),Y1={},K1={},W1={},tR;function lfe(){return tR||(tR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),c=t(i);if(o===c&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-o:o-c}return 0};e.compareValues=n})(W1)),W1}var V1={},Z1={},nR;function q7(){return nR||(nR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Z1)),Z1}var rR;function cfe(){return rR||(rR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q7(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(V1)),V1}var iR;function ufe(){return iR||(iR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lfe(),n=cfe(),r=uA();function i(a,o,c,u){if(a==null)return[];c=u?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(v=>String(v));const f=(v,w)=>{let _=v;for(let S=0;S<w.length&&_!=null;++S)_=_[w[S]];return _},m=(v,w)=>w==null||v==null?w:typeof v=="object"&&"key"in v?Object.hasOwn(w,v.key)?w[v.key]:f(w,v.path):typeof v=="function"?v(w):Array.isArray(v)?f(w,v):typeof w=="object"?w[v]:w,p=o.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:p.map(w=>m(w,v))})).slice().sort((v,w)=>{for(let _=0;_<p.length;_++){const S=t.compareValues(v.criteria[_],w.criteria[_],c[_]);if(S!==0)return S}return 0}).map(v=>v.original)}e.orderBy=i})(K1)),K1}var X1={},aR;function dfe(){return aR||(aR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(c,u)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&u<a?o(m,u+1):i.push(m)}};return o(n,0),i}e.flatten=t})(X1)),X1}var J1={},oR;function Y7(){return oR||(oR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H7(),n=mA(),r=L7(),i=$7();function a(o,c,u){return r.isObject(u)&&(typeof c=="number"&&n.isArrayLike(u)&&t.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.eq(u[c],o):!1}e.isIterateeCall=a})(J1)),J1}var sR;function ffe(){return sR||(sR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ufe(),n=dfe(),r=Y7();function i(a,...o){const c=o.length;return c>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:c>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(Y1)),Y1}var Q1,lR;function hfe(){return lR||(lR=1,Q1=ffe().sortBy),Q1}var mfe=hfe();const Cv=ui(mfe);var K7=e=>e.legend.settings,pfe=e=>e.legend.size,gfe=e=>e.legend.payload;we([gfe,K7],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Cv(r,n):r});var R0=1;function yfe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=E.useState({height:0,left:0,top:0,width:0}),r=E.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>R0||Math.abs(o.left-t.left)>R0||Math.abs(o.top-t.top)>R0||Math.abs(o.width-t.width)>R0)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var W7=Symbol.for("immer-nothing"),cR=Symbol.for("immer-draftable"),zr=Symbol.for("immer-state");function Ra(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Pi=Object,qd=Pi.getPrototypeOf,sb="constructor",Mv="prototype",HE="configurable",lb="enumerable",hy="writable",km="value",ys=e=>!!e&&!!e[zr];function Ga(e){return e?V7(e)||Pv(e)||!!e[cR]||!!e[sb]?.[cR]||Dv(e)||Rv(e):!1}var bfe=Pi[Mv][sb].toString(),uR=new WeakMap;function V7(e){if(!e||!gA(e))return!1;const t=qd(e);if(t===null||t===Pi[Mv])return!0;const n=Pi.hasOwnProperty.call(t,sb)&&t[sb];if(n===Object)return!0;if(!md(n))return!1;let r=uR.get(n);return r===void 0&&(r=Function.toString.call(n),uR.set(n,r)),r===bfe}function ip(e,t,n=!0){ap(e)===0?(n?Reflect.ownKeys(e):Pi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ap(e){const t=e[zr];return t?t.type_:Pv(e)?1:Dv(e)?2:Rv(e)?3:0}var dR=(e,t,n=ap(e))=>n===2?e.has(t):Pi[Mv].hasOwnProperty.call(e,t),GE=(e,t,n=ap(e))=>n===2?e.get(t):e[t],cb=(e,t,n,r=ap(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function vfe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Pv=Array.isArray,Dv=e=>e instanceof Map,Rv=e=>e instanceof Set,gA=e=>typeof e=="object",md=e=>typeof e=="function",eS=e=>typeof e=="boolean",is=e=>e.copy_||e.base_,yA=e=>e.modified_?e.copy_:e.base_;function qE(e,t){if(Dv(e))return new Map(e);if(Rv(e))return new Set(e);if(Pv(e))return Array[Mv].slice.call(e);const n=V7(e);if(t===!0||t==="class_only"&&!n){const r=Pi.getOwnPropertyDescriptors(e);delete r[zr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c[hy]===!1&&(c[hy]=!0,c[HE]=!0),(c.get||c.set)&&(r[o]={[HE]:!0,[hy]:!0,[lb]:c[lb],[km]:e[o]})}return Pi.create(qd(e),r)}else{const r=qd(e);if(r!==null&&n)return{...e};const i=Pi.create(r);return Pi.assign(i,e)}}function bA(e,t=!1){return Lv(e)||ys(e)||!Ga(e)||(ap(e)>1&&Pi.defineProperties(e,{set:L0,add:L0,clear:L0,delete:L0}),Pi.freeze(e),t&&ip(e,(n,r)=>{bA(r,!0)},!1)),e}function xfe(){Ra(2)}var L0={[km]:xfe};function Lv(e){return e===null||!gA(e)?!0:Pi.isFrozen(e)}var ub="MapSet",YE="Patches",Z7={};function Yd(e){const t=Z7[e];return t||Ra(0,e),t}var _fe=e=>!!Z7[e],Am,X7=()=>Am,wfe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:_fe(ub)?Yd(ub):void 0});function fR(e,t){t&&(e.patchPlugin_=Yd(YE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function KE(e){WE(e),e.drafts_.forEach(Sfe),e.drafts_=null}function WE(e){e===Am&&(Am=e.parent_)}var hR=e=>Am=wfe(Am,e);function Sfe(e){const t=e[zr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[zr].modified_&&(KE(t),Ra(4)),Ga(e)&&(e=pR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[zr].base_,e,t)}else e=pR(t,n);return Efe(t,e,!0),KE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==W7?e:void 0}function pR(e,t){if(Lv(t))return t;const n=t[zr];if(!n)return vA(t,e.handledSet_,e);if(!Iv(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);e6(n,e)}return n.copy_}function Efe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&bA(t,n)}function J7(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Iv=(e,t)=>e.scope_===t,kfe=[];function Q7(e,t,n,r){const i=is(e),a=e.type_;if(r!==void 0&&GE(i,r,a)===t){cb(i,r,n,a);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;ip(i,(u,f)=>{if(ys(f)){const m=c.get(f)||[];m.push(u),c.set(f,m)}})}const o=e.draftLocations_.get(t)??kfe;for(const c of o)cb(i,c,n,a)}function Afe(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!Iv(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=yA(a);Q7(e,a.draft_??a,o,n),e6(a,i)})}function e6(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}J7(e)}}function Tfe(e,t,n){const{scope_:r}=e;if(ys(n)){const i=n[zr];Iv(i,r)&&i.callbacks_.push(function(){my(e);const o=yA(i);Q7(e,n,o,t)})}else Ga(n)&&e.callbacks_.push(function(){const a=is(e);GE(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&vA(GE(e.copy_,t,e.type_),r.handledSet_,r)})}function vA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ys(e)||t.has(e)||!Ga(e)||Lv(e)||(t.add(e),ip(e,(r,i)=>{if(ys(i)){const a=i[zr];if(Iv(a,n)){const o=yA(a);cb(e,r,o,e.type_),J7(a)}}else Ga(i)&&vA(i,t,n)})),e}function Ofe(e,t){const n=Pv(e),r={type_:n?1:0,scope_:t?t.scope_:X7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=xA;n&&(i=[r],a=Tm);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,[c,r]}var xA={get(e,t){if(t===zr)return e;const n=is(e);if(!dR(n,t,e.type_))return jfe(e,n,t);const r=n[t];if(e.finalized_||!Ga(r))return r;if(r===tS(e.base_,t)){my(e);const i=e.type_===1?+t:t,a=ZE(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in is(e)},ownKeys(e){return Reflect.ownKeys(is(e))},set(e,t,n){const r=t6(is(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=tS(is(e),t),a=i?.[zr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(vfe(n,i)&&(n!==void 0||dR(e.base_,t,e.type_)))return!0;my(e),VE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Tfe(e,t,n)),!0},deleteProperty(e,t){return my(e),tS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),VE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=is(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[hy]:!0,[HE]:e.type_!==1||t!=="length",[lb]:r[lb],[km]:n[t]}},defineProperty(){Ra(11)},getPrototypeOf(e){return qd(e.base_)},setPrototypeOf(){Ra(12)}},Tm={};ip(xA,(e,t)=>{Tm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Tm.deleteProperty=function(e,t){return Tm.set.call(this,e,t,void 0)};Tm.set=function(e,t,n){return xA.set.call(this,e[0],t,n,e[0])};function tS(e,t){const n=e[zr];return(n?is(n):e)[t]}function jfe(e,t,n){const r=t6(t,n);return r?km in r?r[km]:r.get?.call(e.draft_):void 0}function t6(e,t){if(!(t in e))return;let n=qd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=qd(n)}}function VE(e){e.modified_||(e.modified_=!0,e.parent_&&VE(e.parent_))}function my(e){e.copy_||(e.assigned_=new Map,e.copy_=qE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Nfe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(md(n)&&!md(r)){const o=r;r=n;const c=this;return function(f=o,...m){return c.produce(f,p=>r.call(this,p,...m))}}md(r)||Ra(6),i!==void 0&&!md(i)&&Ra(7);let a;if(Ga(n)){const o=hR(this),c=ZE(o,n,void 0);let u=!0;try{a=r(c),u=!1}finally{u?KE(o):WE(o)}return fR(o,i),mR(a,o)}else if(!n||!gA(n)){if(a=r(n),a===void 0&&(a=n),a===W7&&(a=void 0),this.autoFreeze_&&bA(a,!0),i){const o=[],c=[];Yd(YE).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:c}),i(o,c)}return a}else Ra(1,n)},this.produceWithPatches=(n,r)=>{if(md(n))return(c,...u)=>this.produceWithPatches(c,f=>n(f,...u));let i,a;return[this.produce(n,r,(c,u)=>{i=c,a=u}),i,a]},eS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),eS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),eS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ga(t)||Ra(8),ys(t)&&(t=Ba(t));const n=hR(this),r=ZE(n,t,void 0);return r[zr].isManual_=!0,WE(n),r}finishDraft(t,n){const r=t&&t[zr];(!r||!r.isManual_)&&Ra(9);const{scope_:i}=r;return fR(i,n),mR(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Yd(YE).applyPatches_;return ys(t)?i(t,n):this.produce(t,a=>i(a,n))}};function ZE(e,t,n,r){const[i,a]=Dv(t)?Yd(ub).proxyMap_(t,n):Rv(t)?Yd(ub).proxySet_(t,n):Ofe(t,n);return(n?.scope_??X7()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Afe(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=u;a.modified_&&f&&f.generatePatches_(a,[],u)}),i}function Ba(e){return ys(e)||Ra(10,e),n6(e)}function n6(e){if(!Ga(e)||Lv(e))return e;const t=e[zr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=qE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=qE(e,!0);return ip(n,(i,a)=>{cb(n,i,n6(a))},r),t&&(t.finalized_=!1),n}var Cfe=new Nfe,r6=Cfe.produce;function i6(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Mfe=i6(),Pfe=i6,Dfe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?mm:mm.apply(null,arguments)};function ma(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Ii(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>TB(r)&&r.type===e,n}var a6=class Xh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Xh.prototype)}static get[Symbol.species](){return Xh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Xh(...t[0].concat(this)):new Xh(...t.concat(this))}};function gR(e){return Ga(e)?r6(e,()=>{}):e}function I0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Rfe(e){return typeof e=="boolean"}var Lfe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new a6;return n&&(Rfe(n)?o.push(Mfe):o.push(Pfe(n.extraArgument))),o},o6="RTK_autoBatch",an=()=>e=>({payload:e,meta:{[o6]:!0}}),yR=e=>t=>{setTimeout(t,e)},s6=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:yR(10):e.type==="callback"?e.queueNotification:yR(e.timeout),f=()=>{o=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),g=r.subscribe(p);return c.add(m),()=>{g(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[o6],a=!i,a&&(o||(o=!0,u(f))),r.dispatch(m)}finally{i=!0}}})},Ife=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new a6(e);return r&&i.push(s6(typeof r=="object"?r:void 0)),i};function $fe(e){const t=Lfe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(a2(n))c=kB(n);else throw new Error(Ii(1));let u;typeof r=="function"?u=r(t):u=t();let f=mm;i&&(f=Dfe({trace:!1,...typeof i=="object"&&i}));const m=AB(...u),p=Ife(m);let g=typeof o=="function"?o(p):p();const v=f(...g);return o2(c,a,v)}function l6(e){const t={},n=[];let r;const i={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Ii(28));if(c in t)throw new Error(Ii(29));return t[c]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Bfe(e){return typeof e=="function"}function zfe(e,t){let[n,r,i]=l6(t),a;if(Bfe(e))a=()=>gR(e());else{const c=gR(e);a=()=>c}function o(c=a(),u){let f=[n[u.type],...r.filter(({matcher:m})=>m(u)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(ys(m)){const v=p(m,u);return v===void 0?m:v}else{if(Ga(m))return r6(m,g=>p(g,u));{const g=p(m,u);if(g===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return m},c)}return o.getInitialState=a,o}var Ufe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ffe=(e=21)=>{let t="",n=e;for(;n--;)t+=Ufe[Math.random()*64|0];return t},Hfe=Symbol.for("rtk-slice-createasyncthunk");function Gfe(e,t){return`${e}/${t}`}function qfe({creators:e}={}){const t=e?.asyncThunk?.[Hfe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Ii(11));const o=(typeof r.reducers=="function"?r.reducers(Kfe()):r.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,P){const M=typeof O=="string"?O:O.type;if(!M)throw new Error(Ii(12));if(M in u.sliceCaseReducersByType)throw new Error(Ii(13));return u.sliceCaseReducersByType[M]=P,f},addMatcher(O,P){return u.sliceMatchers.push({matcher:O,reducer:P}),f},exposeAction(O,P){return u.actionCreators[O]=P,f},exposeCaseReducer(O,P){return u.sliceCaseReducersByName[O]=P,f}};c.forEach(O=>{const P=o[O],M={reducerName:O,type:Gfe(i,O),createNotation:typeof r.reducers=="function"};Vfe(P)?Xfe(M,P,f,t):Wfe(M,P,f)});function m(){const[O={},P=[],M=void 0]=typeof r.extraReducers=="function"?l6(r.extraReducers):[r.extraReducers],D={...O,...u.sliceCaseReducersByType};return zfe(r.initialState,$=>{for(let H in D)$.addCase(H,D[H]);for(let H of u.sliceMatchers)$.addMatcher(H.matcher,H.reducer);for(let H of P)$.addMatcher(H.matcher,H.reducer);M&&$.addDefaultCase(M)})}const p=O=>O,g=new Map,v=new WeakMap;let w;function _(O,P){return w||(w=m()),w(O,P)}function S(){return w||(w=m()),w.getInitialState()}function T(O,P=!1){function M($){let H=$[O];return typeof H>"u"&&P&&(H=I0(v,M,S)),H}function D($=p){const H=I0(g,P,()=>new WeakMap);return I0(H,$,()=>{const q={};for(const[K,F]of Object.entries(r.selectors??{}))q[K]=Yfe(F,$,()=>I0(v,$,S),P);return q})}return{reducerPath:O,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const N={name:i,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...T(a),injectInto(O,{reducerPath:P,...M}={}){const D=P??a;return O.inject({reducerPath:D,reducer:_},M),{...N,...T(D,!0)}}};return N}}function Yfe(e,t,n,r){function i(a,...o){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...o)}return i.unwrapped=e,i}var di=qfe();function Kfe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Wfe({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!Zfe(r))throw new Error(Ii(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ma(e,o):ma(e))}function Vfe(e){return e._reducerDefinitionType==="asyncThunk"}function Zfe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Xfe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Ii(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:u,settled:f,options:m}=n,p=i(e,a,m);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),c&&r.addCase(p.pending,c),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:o||$0,pending:c||$0,rejected:u||$0,settled:f||$0})}function $0(){}var Jfe="task",c6="listener",u6="completed",_A="cancelled",Qfe=`task-${_A}`,ehe=`task-${u6}`,XE=`${c6}-${_A}`,the=`${c6}-${u6}`,$v=class{constructor(e){this.code=e,this.message=`${Jfe} ${_A} (reason: ${e})`}name="TaskAbortError";message},wA=(e,t)=>{if(typeof e!="function")throw new TypeError(Ii(32))},db=()=>{},d6=(e,t=db)=>(e.catch(t),e),f6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),qc=e=>{if(e.aborted)throw new $v(e.reason)};function h6(e,t){let n=db;return new Promise((r,i)=>{const a=()=>i(new $v(e.reason));if(e.aborted){a();return}n=f6(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=db})}var nhe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof $v?"cancelled":"rejected",error:n}}finally{t?.()}},fb=e=>t=>d6(h6(e,t).then(n=>(qc(e),n))),m6=e=>{const t=fb(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Cd}=Object,bR={},Bv="listenerMiddleware",rhe=(e,t)=>{const n=r=>f6(e,()=>r.abort(e.reason));return(r,i)=>{wA(r);const a=new AbortController;n(a);const o=nhe(async()=>{qc(e),qc(a.signal);const c=await r({pause:fb(a.signal),delay:m6(a.signal),signal:a.signal});return qc(a.signal),c},()=>a.abort(ehe));return i?.autoJoin&&t.push(o.catch(db)),{result:fb(e)(o),cancel(){a.abort(Qfe)}}}},ihe=(e,t)=>{const n=async(r,i)=>{qc(t);let a=()=>{};const c=[new Promise((u,f)=>{let m=e({predicate:r,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await h6(t,Promise.race(c));return qc(t),u}finally{a()}};return(r,i)=>d6(n(r,i))},p6=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ma(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ii(21));return wA(a),{predicate:i,type:t,effect:a}},g6=Cd(e=>{const{type:t,predicate:n,effect:r}=p6(e);return{id:Ffe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ii(22))}}},{withTypes:()=>g6}),vR=(e,t)=>{const{type:n,effect:r,predicate:i}=p6(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},JE=e=>{e.pending.forEach(t=>{t.abort(XE)})},ahe=(e,t)=>()=>{for(const n of t.keys())JE(n);e.clear()},xR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},y6=Cd(ma(`${Bv}/add`),{withTypes:()=>y6}),ohe=ma(`${Bv}/removeAll`),b6=Cd(ma(`${Bv}/remove`),{withTypes:()=>b6}),she=(...e)=>{console.error(`${Bv}/error`,...e)},op=(e={})=>{const t=new Map,n=new Map,r=v=>{const w=n.get(v)??0;n.set(v,w+1)},i=v=>{const w=n.get(v)??1;w===1?n.delete(v):n.set(v,w-1)},{extra:a,onError:o=she}=e;wA(o);const c=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),w=>{v.unsubscribe(),w?.cancelActive&&JE(v)}),u=v=>{const w=vR(t,v)??g6(v);return c(w)};Cd(u,{withTypes:()=>u});const f=v=>{const w=vR(t,v);return w&&(w.unsubscribe(),v.cancelActive&&JE(w)),!!w};Cd(f,{withTypes:()=>f});const m=async(v,w,_,S)=>{const T=new AbortController,N=ihe(u,T.signal),O=[];try{v.pending.add(T),r(v),await Promise.resolve(v.effect(w,Cd({},_,{getOriginalState:S,condition:(P,M)=>N(P,M).then(Boolean),take:N,delay:m6(T.signal),pause:fb(T.signal),extra:a,signal:T.signal,fork:rhe(T.signal,O),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((P,M,D)=>{P!==T&&(P.abort(XE),D.delete(P))})},cancel:()=>{T.abort(XE),v.pending.delete(T)},throwIfCancelled:()=>{qc(T.signal)}})))}catch(P){P instanceof $v||xR(o,P,{raisedBy:"effect"})}finally{await Promise.all(O),T.abort(the),i(v),v.pending.delete(T)}},p=ahe(t,n);return{middleware:v=>w=>_=>{if(!TB(_))return w(_);if(y6.match(_))return u(_.payload);if(ohe.match(_)){p();return}if(b6.match(_))return f(_.payload);let S=v.getState();const T=()=>{if(S===bR)throw new Error(Ii(23));return S};let N;try{if(N=w(_),t.size>0){const O=v.getState(),P=Array.from(t.values());for(const M of P){let D=!1;try{D=M.predicate(_,O,S)}catch($){D=!1,xR(o,$,{raisedBy:"predicate"})}D&&m(M,_,v,T)}}}finally{S=bR}return N},startListening:u,stopListening:f,clearListeners:p}};function Ii(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lhe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},v6=di({name:"chartLayout",initialState:lhe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:che,setLayout:uhe,setChartSize:dhe,setScale:fhe}=v6.actions,hhe=v6.reducer;function x6(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function _R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(n),!0).forEach(function(r){mhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mhe(e,t,n){return(t=phe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function phe(e){var t=ghe(e,"string");return typeof t=="symbol"?t:t+""}function ghe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tr(e,t,n){return br(e)||br(t)?n:Eo(t)?Nv(e,t,n):typeof t=="function"?t(e):n}var yhe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&a!=="center"&&We(e[a]))return xd(xd({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&o!=="middle"&&We(e[o]))return xd(xd({},e),{},{[o]:e[o]+(i||0)})}return e},Ss=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",_6=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,a,o=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||o.push(t),a||o.push(n),o},w6=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:g,axisType:v}=e;if(!o)return null;var w=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,_=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(_=v==="angleAxis"&&a&&a.length>=2?la(a[0]-a[1])*2*_:_,p||g){var S=(p||g||[]).map((T,N)=>{var O=r?r.indexOf(T):T;return{coordinate:o(O)+_,value:T,offset:_,index:N}});return S.filter(T=>!Ha(T.coordinate))}return u&&f?f.map((T,N)=>({coordinate:o(T)+_,value:T,index:N,offset:_})):o.ticks&&m!=null?o.ticks(m).map((T,N)=>({coordinate:o(T)+_,value:T,offset:_,index:N})):o.domain().map((T,N)=>({coordinate:o(T)+_,value:r?r[T]:T,index:N,offset:_}))},wR=1e-4,bhe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-wR,a=Math.max(r[0],r[1])+wR,o=e(t[0]),c=e(t[n-1]);(o<i||o>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},vhe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var c=Ha(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=i,e[o][n][1]=i+c,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+c,a=e[o][n][1])}},xhe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=Ha(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},_he={sign:vhe,expand:cde,none:Gd,silhouette:ude,wiggle:dde,positive:xhe},whe=(e,t,n)=>{var r=_he[n],i=lde().keys(t).value((a,o)=>Number(Tr(a,o,0))).order(FE).offset(r);return i(e)};function She(e){return e==null?void 0:String(e)}function SR(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!br(i[t.dataKey])){var c=P7(n,"value",i[t.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Tr(i,br(o)?t.dataKey:o);return br(u)?null:t.scale(u)}var Ehe=e=>{var t=e.flat(2).filter(We);return[Math.min(...t),Math.max(...t)]},khe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Ahe=(e,t,n)=>{if(e!=null)return khe(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,c=o.reduce((u,f)=>{var m=x6(f,t,n),p=Ehe(m);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},ER=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hb=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Cv(t,m=>m.coordinate),a=1/0,o=1,c=i.length;o<c;o++){var u=i[o],f=i[o-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function AR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return xd(xd({},t),{},{dataKey:n,payload:r,value:i,name:a})}function S6(e,t){if(e)return String(e);if(typeof t=="string")return t}var The=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Ohe=(e,t)=>t==="centric"?e.angle:e.radius,Es=e=>e.layout.width,ks=e=>e.layout.height,jhe=e=>e.layout.scale,E6=e=>e.layout.margin,zv=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Uv=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Nhe="data-recharts-item-index",Che="data-recharts-item-data-key",sp=60;function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(r){Mhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mhe(e,t,n){return(t=Phe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Phe(e){var t=Dhe(e,"string");return typeof t=="symbol"?t:t+""}function Dhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rhe=e=>e.brush.height;function Lhe(e){var t=Uv(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sp;return n+i}return n},0)}function Ihe(e){var t=Uv(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sp;return n+i}return n},0)}function $he(e){var t=zv(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Bhe(e){var t=zv(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var xr=we([Es,ks,E6,Rhe,Lhe,Ihe,$he,Bhe,K7,pfe],(e,t,n,r,i,a,o,c,u,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+c},g=B0(B0({},p),m),v=g.bottom;g.bottom+=r,g=yhe(g,u,f);var w=e-g.left-g.right,_=t-g.top-g.bottom;return B0(B0({brushBottom:v},g),{},{width:Math.max(w,0),height:Math.max(_,0)})}),zhe=we(xr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),k6=we(Es,ks,(e,t)=>({x:0,y:0,width:e,height:t})),Uhe=E.createContext(null),fi=()=>E.useContext(Uhe)!=null,Fv=e=>e.brush,Hv=we([Fv,xr,E6],(e,t,n)=>({height:e.height,x:We(e.x)?e.x:t.left,y:We(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:We(e.width)?e.width:t.width})),nS={},rS={},iS={},OR;function Fhe(){return OR||(OR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,c=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},p=()=>{f&&m(),_()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},w=()=>{g!==null&&(clearTimeout(g),g=null)},_=()=>{w(),o=void 0,c=null},S=()=>{m()},T=function(...N){if(i?.aborted)return;o=this,c=N;const O=g==null;v(),u&&O&&m()};return T.schedule=v,T.cancel=_,T.flush=S,i?.addEventListener("abort",_,{once:!0}),T}e.debounce=t})(iS)),iS}var jR;function Hhe(){return jR||(jR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fhe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:c=!0,maxWait:u}=a,f=Array(2);o&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const g=t.debounce(function(..._){m=r.apply(this,_),p=null},i,{edges:f}),v=function(..._){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(m=r.apply(this,_),p=Date.now(),g.cancel(),g.schedule(),m):(g.apply(this,_),m)},w=()=>(g.flush(),m);return v.cancel=g.cancel,v.flush=w,v}e.debounce=n})(rS)),rS}var NR;function Ghe(){return NR||(NR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hhe();function n(r,i=0,a={}){const{leading:o=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:c})}e.throttle=n})(nS)),nS}var aS,CR;function qhe(){return CR||(CR=1,aS=Ghe().throttle),aS}var Yhe=qhe();const Khe=ui(Yhe);var mb=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},A6=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,c=gs(r)?e:Number(r),u=gs(i)?t:Number(i);return a&&a>0&&(c?u=c/a:u&&(c=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:c,calculatedHeight:u}},Whe={width:0,height:0,overflow:"visible"},Vhe={width:0,overflowX:"visible"},Zhe={height:0,overflowY:"visible"},Xhe={},Jhe=e=>{var{width:t,height:n}=e,r=gs(t),i=gs(n);return r&&i?Whe:r?Vhe:i?Zhe:Xhe};function Qhe(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function xn(e){return Number.isFinite(e)}function ko(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QE.apply(null,arguments)}function MR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(n),!0).forEach(function(r){eme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eme(e,t,n){return(t=tme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tme(e){var t=nme(e,"string");return typeof t=="symbol"?t:t+""}function nme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T6=E.createContext({width:-1,height:-1});function rme(e){return ko(e.width)&&ko(e.height)}function O6(e){var{children:t,width:n,height:r}=e,i=E.useMemo(()=>({width:n,height:r}),[n,r]);return rme(i)?E.createElement(T6.Provider,{value:i},t):null}var SA=()=>E.useContext(T6),ime=E.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:c,maxHeight:u,children:f,debounce:m=0,id:p,className:g,onResize:v,style:w={}}=e,_=E.useRef(null),S=E.useRef();S.current=v,E.useImperativeHandle(t,()=>_.current);var[T,N]=E.useState({containerWidth:r.width,containerHeight:r.height}),O=E.useCallback((H,q)=>{N(K=>{var F=Math.round(H),z=Math.round(q);return K.containerWidth===F&&K.containerHeight===z?K:{containerWidth:F,containerHeight:z}})},[]);E.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return rp;var H=z=>{var Z,{width:Q,height:J}=z[0].contentRect;O(Q,J),(Z=S.current)===null||Z===void 0||Z.call(S,Q,J)};m>0&&(H=Khe(H,m,{trailing:!0,leading:!1}));var q=new ResizeObserver(H),{width:K,height:F}=_.current.getBoundingClientRect();return O(K,F),q.observe(_.current),()=>{q.disconnect()}},[O,m]);var{containerWidth:P,containerHeight:M}=T;mb(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:$}=A6(P,M,{width:i,height:a,aspect:n,maxHeight:u});return mb(D!=null&&D>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,$,i,a,o,c,n),E.createElement("div",{id:p?"".concat(p):void 0,className:Qt("recharts-responsive-container",g),style:PR(PR({},w),{},{width:i,height:a,minWidth:o,minHeight:c,maxHeight:u}),ref:_},E.createElement("div",{style:Jhe({width:i,height:a})},E.createElement(O6,{width:D,height:$},f)))}),ame=E.forwardRef((e,t)=>{var n=SA();if(ko(n.width)&&ko(n.height))return e.children;var{width:r,height:i}=Qhe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=A6(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return We(a)&&We(o)?E.createElement(O6,{width:a,height:o},e.children):E.createElement(ime,QE({},e,{width:r,height:i,ref:t}))});function j6(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Gv=()=>{var e,t=fi(),n=Je(zhe),r=Je(Hv),i=(e=Je(Fv))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},ome={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},N6=()=>{var e;return(e=Je(xr))!==null&&e!==void 0?e:ome},C6=()=>Je(Es),M6=()=>Je(ks),Vt=e=>e.layout.layoutType,lp=()=>Je(Vt),sme=()=>{var e=lp();if(e==="horizontal"||e==="vertical")return e},lme=()=>{var e=lp();return e!==void 0},qv=e=>{var t=sr(),n=fi(),{width:r,height:i}=e,a=SA(),o=r,c=i;return a&&(o=a.width>0?a.width:r,c=a.height>0?a.height:i),E.useEffect(()=>{!n&&ko(o)&&ko(c)&&t(dhe({width:o,height:c}))},[t,n,o,c]),null},P6=Symbol.for("immer-nothing"),DR=Symbol.for("immer-draftable"),zi=Symbol.for("immer-state");function La(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Om=Object.getPrototypeOf;function Kd(e){return!!e&&!!e[zi]}function Jc(e){return e?D6(e)||Array.isArray(e)||!!e[DR]||!!e.constructor?.[DR]||cp(e)||Kv(e):!1}var cme=Object.prototype.constructor.toString(),RR=new WeakMap;function D6(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=RR.get(n);return r===void 0&&(r=Function.toString.call(n),RR.set(n,r)),r===cme}function pb(e,t,n=!0){Yv(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Yv(e){const t=e[zi];return t?t.type_:Array.isArray(e)?1:cp(e)?2:Kv(e)?3:0}function ek(e,t){return Yv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function R6(e,t,n){const r=Yv(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function ume(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cp(e){return e instanceof Map}function Kv(e){return e instanceof Set}function Rc(e){return e.copy_||e.base_}function tk(e,t){if(cp(e))return new Map(e);if(Kv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=D6(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[zi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(Om(e),r)}else{const r=Om(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function EA(e,t=!1){return Wv(e)||Kd(e)||!Jc(e)||(Yv(e)>1&&Object.defineProperties(e,{set:z0,add:z0,clear:z0,delete:z0}),Object.freeze(e),t&&Object.values(e).forEach(n=>EA(n,!0))),e}function dme(){La(2)}var z0={value:dme};function Wv(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var fme={};function Qc(e){const t=fme[e];return t||La(0,e),t}var jm;function L6(){return jm}function hme(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function LR(e,t){t&&(Qc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nk(e){rk(e),e.drafts_.forEach(mme),e.drafts_=null}function rk(e){e===jm&&(jm=e.parent_)}function IR(e){return jm=hme(jm,e)}function mme(e){const t=e[zi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $R(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[zi].modified_&&(nk(t),La(4)),Jc(e)&&(e=gb(t,e),t.parent_||yb(t,e)),t.patches_&&Qc("Patches").generateReplacementPatches_(n[zi].base_,e,t.patches_,t.inversePatches_)):e=gb(t,n,[]),nk(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==P6?e:void 0}function gb(e,t,n){if(Wv(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[zi];if(!i)return pb(t,(a,o)=>BR(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return yb(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,c=!1;i.type_===3&&(o=new Set(a),a.clear(),c=!0),pb(o,(u,f)=>BR(e,i,a,u,f,n,c),r),yb(e,a,!1),n&&e.patches_&&Qc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function BR(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const c=Wv(i);if(!(c&&!o)){if(Kd(i)){const u=a&&t&&t.type_!==3&&!ek(t.assigned_,r)?a.concat(r):void 0,f=gb(e,i,u);if(R6(n,r,f),Kd(f))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Jc(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;gb(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(cp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&yb(e,i)}}}function yb(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&EA(t,n)}function pme(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:L6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=kA;n&&(i=[r],a=Nm);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,c}var kA={get(e,t){if(t===zi)return e;const n=Rc(e);if(!ek(n,t))return gme(e,n,t);const r=n[t];return e.finalized_||!Jc(r)?r:r===oS(e.base_,t)?(sS(e),e.copy_[t]=ak(r,e)):r},has(e,t){return t in Rc(e)},ownKeys(e){return Reflect.ownKeys(Rc(e))},set(e,t,n){const r=I6(Rc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=oS(Rc(e),t),a=i?.[zi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(ume(n,i)&&(n!==void 0||ek(e.base_,t)))return!0;sS(e),ik(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return oS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,sS(e),ik(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Rc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){La(11)},getPrototypeOf(e){return Om(e.base_)},setPrototypeOf(){La(12)}},Nm={};pb(kA,(e,t)=>{Nm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Nm.deleteProperty=function(e,t){return Nm.set.call(this,e,t,void 0)};Nm.set=function(e,t,n){return kA.set.call(this,e[0],t,n,e[0])};function oS(e,t){const n=e[zi];return(n?Rc(n):e)[t]}function gme(e,t,n){const r=I6(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function I6(e,t){if(!(t in e))return;let n=Om(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Om(n)}}function ik(e){e.modified_||(e.modified_=!0,e.parent_&&ik(e.parent_))}function sS(e){e.copy_||(e.copy_=tk(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var yme=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...f){return o.produce(u,m=>n.call(this,m,...f))}}typeof n!="function"&&La(6),r!==void 0&&typeof r!="function"&&La(7);let i;if(Jc(t)){const a=IR(this),o=ak(t,void 0);let c=!0;try{i=n(o),c=!1}finally{c?nk(a):rk(a)}return LR(a,r),$R(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===P6&&(i=void 0),this.autoFreeze_&&EA(i,!0),r){const a=[],o=[];Qc("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else La(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,u=>t(u,...c));let r,i;return[this.produce(t,n,(o,c)=>{r=o,i=c}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Jc(e)||La(8),Kd(e)&&(e=bme(e));const t=IR(this),n=ak(e,void 0);return n[zi].isManual_=!0,rk(t),n}finishDraft(e,t){const n=e&&e[zi];(!n||!n.isManual_)&&La(9);const{scope_:r}=n;return LR(r,t),$R(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Qc("Patches").applyPatches_;return Kd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function ak(e,t){const n=cp(e)?Qc("MapSet").proxyMap_(e,t):Kv(e)?Qc("MapSet").proxySet_(e,t):pme(e,t);return(t?t.scope_:L6()).drafts_.push(n),n}function bme(e){return Kd(e)||La(10,e),$6(e)}function $6(e){if(!Jc(e)||Wv(e))return e;const t=e[zi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=tk(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=tk(e,!0);return pb(n,(i,a)=>{R6(n,i,$6(a))},r),t&&(t.finalized_=!1),n}var vme=new yme;vme.produce;var xme={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},B6=di({name:"legend",initialState:xme,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:an()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ba(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:an()},removeLegendPayload:{reducer(e,t){var n=Ba(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:an()}}}),{setLegendSize:eOe,setLegendSettings:tOe,addLegendPayload:_me,replaceLegendPayload:wme,removeLegendPayload:Sme}=B6.actions,Eme=B6.reducer;function ok(){return ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ok.apply(null,arguments)}function zR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(n),!0).forEach(function(r){kme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kme(e,t,n){return(t=Ame(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ame(e){var t=Tme(e,"string");return typeof t=="symbol"?t:t+""}function Tme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ome(e){return Array.isArray(e)&&Eo(e[0])&&Eo(e[1])?e.join(" ~ "):e}var jme=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:g=!1}=e,v=()=>{if(a&&a.length){var M={padding:0,margin:0},D=(c?Cv(a,c):a).map(($,H)=>{if($.type==="none")return null;var q=$.formatter||o||Ome,{value:K,name:F}=$,z=K,Z=F;if(q){var Q=q(K,F,$,H,a);if(Array.isArray(Q))[z,Z]=Q;else if(Q!=null)z=Q;else return null}var J=lS({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:J},Eo(Z)?E.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Eo(Z)?E.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,E.createElement("span",{className:"recharts-tooltip-item-value"},z),E.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},w=lS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=lS({margin:0},i),S=!br(m),T=S?m:"",N=Qt("recharts-default-tooltip",u),O=Qt("recharts-tooltip-label",f);S&&p&&a!==void 0&&a!==null&&(T=p(m,a));var P=g?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",ok({className:N,style:w},P),E.createElement("p",{className:O,style:_},E.isValidElement(T)?T:"".concat(T)),v())},zh="recharts-tooltip-wrapper",Nme={visibility:"hidden"};function Cme(e){var{coordinate:t,translateX:n,translateY:r}=e;return Qt(zh,{["".concat(zh,"-right")]:We(n)&&t&&We(t.x)&&n>=t.x,["".concat(zh,"-left")]:We(n)&&t&&We(t.x)&&n<t.x,["".concat(zh,"-bottom")]:We(r)&&t&&We(t.y)&&r>=t.y,["".concat(zh,"-top")]:We(r)&&t&&We(t.y)&&r<t.y})}function UR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:f}=e;if(a&&We(a[r]))return a[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?m:p;var g=u[r];if(g==null)return 0;if(o[r]){var v=m,w=g;return v<w?Math.max(p,g):Math.max(m,g)}if(f==null)return 0;var _=p+c,S=g+f;return _>S?Math.max(m,g):Math.max(p,g)}function Mme(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Pme(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,f,m,p;return o.height>0&&o.width>0&&n?(m=UR({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=UR({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=Mme({translateX:m,translateY:p,useTranslate3d:c})):f=Nme,{cssProperties:f,cssClasses:Cme({translateX:m,translateY:p,coordinate:n})}}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(r){sk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sk(e,t,n){return(t=Dme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dme(e){var t=Rme(e,"string");return typeof t=="symbol"?t:t+""}function Rme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Lme extends E.PureComponent{constructor(){super(...arguments),sk(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),sk(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:c,isAnimationActive:u,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:w,lastBoundingBox:_,innerRef:S,hasPortalFromProps:T}=this.props,{cssClasses:N,cssProperties:O}=Pme({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:_.height,width:_.width},useTranslate3d:g,viewBox:v}),P=T?{}:U0(U0({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),M=U0(U0({},P),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},w);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:M,ref:S},a)}}var z6=()=>{var e;return(e=Je(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lk.apply(null,arguments)}function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(r){Ime(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ime(e,t,n){return(t=$me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $me(e){var t=Bme(e,"string");return typeof t=="symbol"?t:t+""}function Bme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qR={curveBasisClosed:Xue,curveBasisOpen:Jue,curveBasis:Zue,curveBumpX:Wue,curveBumpY:Vue,curveLinearClosed:Que,curveLinear:Ov,curveMonotoneX:ede,curveMonotoneY:tde,curveNatural:nde,curveStep:rde,curveStepAfter:ade,curveStepBefore:ide},bb=e=>xn(e.x)&&xn(e.y),YR=e=>e.base!=null&&bb(e.base)&&bb(e),Uh=e=>e.x,Fh=e=>e.y,zme=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(fA(e));return(n==="curveMonotone"||n==="curveBump")&&t?qR["".concat(n).concat(t==="vertical"?"Y":"X")]:qR[n]||Ov},Ume=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=zme(t,i),c=a?n.filter(bb):n,u;if(Array.isArray(r)){var f=n.map((v,w)=>GR(GR({},v),{},{base:r[w]}));i==="vertical"?u=P0().y(Fh).x1(Uh).x0(v=>v.base.x):u=P0().x(Uh).y1(Fh).y0(v=>v.base.y);var m=u.defined(YR).curve(o),p=a?f.filter(YR):f;return m(p)}i==="vertical"&&We(r)?u=P0().y(Fh).x1(Uh).x0(r):We(r)?u=P0().x(Uh).y1(Fh).y0(r):u=w7().x(Uh).y(Fh);var g=u.defined(bb).curve(o);return g(c)},py=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Ume(e):r;return E.createElement("path",lk({},Fa(e),hA(e),{className:Qt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Fme=["x","y","top","left","width","height","className"];function ck(){return ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ck.apply(null,arguments)}function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(r){Gme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gme(e,t,n){return(t=qme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qme(e){var t=Yme(e,"string");return typeof t=="symbol"?t:t+""}function Yme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kme(e,t){if(e==null)return{};var n,r,i=Wme(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vme=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Zme=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:c}=e,u=Kme(e,Fme),f=Hme({x:t,y:n,top:r,left:i,width:a,height:o},u);return!We(t)||!We(n)||!We(a)||!We(o)||!We(r)||!We(i)?null:E.createElement("path",ck({},ha(f),{className:Qt("recharts-cross",c),d:Vme(t,n,a,o,r,i)}))};function Xme(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function WR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(n),!0).forEach(function(r){Jme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jme(e,t,n){return(t=Qme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qme(e){var t=epe(e,"string");return typeof t=="symbol"?t:t+""}function epe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tpe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),npe=(e,t,n)=>e.map(r=>"".concat(tpe(r)," ").concat(t,"ms ").concat(n)).join(","),rpe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Cm=(e,t)=>Object.keys(t).reduce((n,r)=>VR(VR({},n),{},{[r]:e(r,t[r])}),{});function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(r){ipe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ipe(e,t,n){return(t=ape(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ape(e){var t=ope(e,"string");return typeof t=="symbol"?t:t+""}function ope(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vb=(e,t,n)=>e+(t-e)*n,uk=e=>{var{from:t,to:n}=e;return t!==n},U6=(e,t,n)=>{var r=Cm((i,a)=>{if(uk(a)){var[o,c]=e(a.from,a.to,a.velocity);return Hn(Hn({},a),{},{from:o,velocity:c})}return a},t);return n<1?Cm((i,a)=>uk(a)?Hn(Hn({},a),{},{velocity:vb(a.velocity,r[i].velocity,n),from:vb(a.from,r[i].from,n)}):a,t):U6(e,r,n-1)};function spe(e,t,n,r,i,a){var o,c=r.reduce((g,v)=>Hn(Hn({},g),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>Cm((g,v)=>v.from,c),f=()=>!Object.values(c).filter(uk).length,m=null,p=g=>{o||(o=g);var v=g-o,w=v/n.dt;c=U6(n,c,w),i(Hn(Hn(Hn({},e),t),u())),o=g,f()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{var g;(g=m)===null||g===void 0||g()})}function lpe(e,t,n,r,i,a,o){var c=null,u=i.reduce((p,g)=>Hn(Hn({},p),{},{[g]:[e[g],t[g]]}),{}),f,m=p=>{f||(f=p);var g=(p-f)/r,v=Cm((_,S)=>vb(...S,n(g)),u);if(a(Hn(Hn(Hn({},e),t),v)),g<1)c=o.setTimeout(m);else{var w=Cm((_,S)=>vb(...S,n(1)),u);a(Hn(Hn(Hn({},e),t),w))}};return()=>(c=o.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const cpe=(e,t,n,r,i,a)=>{var o=rpe(e,t);return n==null?()=>(i(Hn(Hn({},e),t)),()=>{}):n.isStepper===!0?spe(e,t,n,o,i,a):lpe(e,t,n,r,o,i,a)};var xb=1e-4,F6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],H6=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),XR=(e,t)=>n=>{var r=F6(e,t);return H6(r,n)},upe=(e,t)=>n=>{var r=F6(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return H6(i,n)},dpe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(c=>parseFloat(c));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},fpe=(e,t,n,r)=>{var i=XR(e,n),a=XR(t,r),o=upe(e,n),c=f=>f>1?1:f<0?0:f,u=f=>{for(var m=f>1?1:f,p=m,g=0;g<8;++g){var v=i(p)-m,w=o(p);if(Math.abs(v-m)<xb||w<xb)return a(p);p=c(p-v/w)}return a(p)};return u.isStepper=!1,u},JR=function(){return fpe(...dpe(...arguments))},hpe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,c,u)=>{var f=-(o-c)*n,m=u*r,p=u+(f-m)*i/1e3,g=u*i/1e3+o;return Math.abs(g-c)<xb&&Math.abs(p)<xb?[c,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},mpe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JR(e);case"spring":return hpe();default:if(e.split("(")[0]==="cubic-bezier")return JR(e)}return typeof e=="function"?e:null};function ppe(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...f]=c;if(typeof u=="number"){i=e.setTimeout(a.bind(null,f),u);return}a(u),i=e.setTimeout(a.bind(null,f));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class gpe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function ype(){return ppe(new gpe)}var bpe=E.createContext(ype);function vpe(e,t){var n=E.useContext(bpe);return E.useMemo(()=>t??n(e),[e,t,n])}var xpe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),df={devToolsEnabled:!1,isSsr:xpe()},_pe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},QR={t:0},cS={t:1};function G6(e){var t=Hi(e,_pe),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:c,onAnimationStart:u,children:f}=t,m=n==="auto"?!df.isSsr:n,p=vpe(t.animationId,t.animationManager),[g,v]=E.useState(m?QR:cS),w=E.useRef(null);return E.useEffect(()=>{m||v(cS)},[m]),E.useEffect(()=>{if(!m||!r)return rp;var _=cpe(QR,cS,mpe(a),i,v,p.getTimeoutController()),S=()=>{w.current=_()};return p.start([u,o,S,i,c]),()=>{p.stop(),w.current&&w.current(),c()}},[m,r,i,a,o,u,c,p]),f(g.t)}function q6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=E.useRef(Em(t)),r=E.useRef(e);return r.current!==e&&(n.current=Em(t),r.current=e),n.current}var wpe=["radius"],Spe=["radius"];function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(n),!0).forEach(function(r){Epe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Epe(e,t,n){return(t=kpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kpe(e){var t=Ape(e,"string");return typeof t=="symbol"?t:t+""}function Ape(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_b.apply(null,arguments)}function nL(e,t){if(e==null)return{};var n,r,i=Tpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rL=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,c=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,g=4;p<g;p++)m[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+o*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(e+c*m[0],",").concat(t)),f+="L ".concat(e+n-c*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*m[1])),f+="L ".concat(e+n,",").concat(t+r-o*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(e+n-c*m[2],",").concat(t+r)),f+="L ".concat(e+c*m[3],",").concat(t+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);f="M ".concat(e,",").concat(t+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(t,`
            L `).concat(e+n-c*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*v,`
            L `).concat(e+n,",").concat(t+r-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(t+r,`
            L `).concat(e+c*v,",").concat(t+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*v," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},iL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ope=e=>{var t=Hi(e,iL),n=E.useRef(null),[r,i]=E.useState(-1);E.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var X=n.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:o,width:c,height:u,radius:f,className:m}=t,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:w,isUpdateAnimationActive:_}=t,S=E.useRef(c),T=E.useRef(u),N=E.useRef(a),O=E.useRef(o),P=E.useMemo(()=>({x:a,y:o,width:c,height:u,radius:f}),[a,o,c,u,f]),M=q6(P,"rectangle-");if(a!==+a||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var D=Qt("recharts-rectangle",m);if(!_){var $=ha(t),{radius:H}=$,q=nL($,wpe);return E.createElement("path",_b({},q,{radius:typeof f=="number"?f:void 0,className:D,d:rL(a,o,c,u,f)}))}var K=S.current,F=T.current,z=N.current,Z=O.current,Q="0px ".concat(r===-1?1:r,"px"),J="".concat(r,"px 0px"),Y=npe(["strokeDasharray"],g,typeof p=="string"?p:iL.animationEasing);return E.createElement(G6,{animationId:M,key:M,canBegin:r>0,duration:g,easing:p,isActive:_,begin:v},X=>{var re=yo(K,c,X),ue=yo(F,u,X),se=yo(z,a,X),B=yo(Z,o,X);n.current&&(S.current=re,T.current=ue,N.current=se,O.current=B);var W;w?X>0?W={transition:Y,strokeDasharray:J}:W={strokeDasharray:Q}:W={strokeDasharray:J};var ae=ha(t),{radius:V}=ae,oe=nL(ae,Spe);return E.createElement("path",_b({},oe,{radius:typeof f=="number"?f:void 0,className:D,d:rL(se,B,re,ue,f),ref:n,style:tL(tL({},W),t.style)}))})};function aL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(n),!0).forEach(function(r){jpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jpe(e,t,n){return(t=Npe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Npe(e){var t=Cpe(e,"string");return typeof t=="symbol"?t:t+""}function Cpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wb=Math.PI/180,Mpe=e=>e*180/Math.PI,yr=(e,t,n,r)=>({x:e+Math.cos(-wb*r)*n,y:t+Math.sin(-wb*r)*n}),Ppe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Dpe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Rpe=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Dpe({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var c=(n-i)/o,u=Math.acos(c);return r>a&&(u=2*Math.PI-u),{radius:o,angle:Mpe(u),angleInRadian:u}},Lpe=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Ipe=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},$pe=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Rpe({x:n,y:r},t),{innerRadius:o,outerRadius:c}=t;if(i<o||i>c||i===0)return null;var{startAngle:u,endAngle:f}=Lpe(t),m=a,p;if(u<=f){for(;m>f;)m-=360;for(;m<u;)m+=360;p=m>=u&&m<=f}else{for(;m>u;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=u}return p?oL(oL({},t),{},{radius:i,angle:Ipe(m,t)}):null};function Y6(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=yr(t,n,r,i),c=yr(t,n,r,a);return{points:[o,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function dk(){return dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dk.apply(null,arguments)}var Bpe=(e,t)=>{var n=la(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},F0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:c,cornerIsExternal:u}=e,f=c*(o?1:-1)+r,m=Math.asin(c/f)/wb,p=u?i:i+a*m,g=yr(t,n,f,p),v=yr(t,n,r,p),w=u?i-a*m:i,_=yr(t,n,f*Math.cos(m*wb),w);return{center:g,circleTangency:v,lineTangency:_,theta:m}},K6=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,c=Bpe(a,o),u=a+c,f=yr(t,n,i,a),m=yr(t,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var g=yr(t,n,r,a),v=yr(t,n,r,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},zpe=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:f}=e,m=la(f-u),{circleTangency:p,lineTangency:g,theta:v}=F0({cx:t,cy:n,radius:i,angle:u,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:w,lineTangency:_,theta:S}=F0({cx:t,cy:n,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:c}),T=c?Math.abs(u-f):Math.abs(u-f)-v-S;if(T<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):K6({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:P,theta:M}=F0({cx:t,cy:n,radius:r,angle:u,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:D,lineTangency:$,theta:H}=F0({cx:t,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),q=c?Math.abs(u-f):Math.abs(u-f)-M-H;if(q<0&&a===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(q>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},Upe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Fpe=e=>{var t=Hi(e,Upe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m,className:p}=t;if(a<i||f===m)return null;var g=Qt("recharts-sector",p),v=a-i,w=Nl(o,v,0,!0),_;return w>0&&Math.abs(f-m)<360?_=zpe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}):_=K6({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),E.createElement("path",dk({},ha(t),{className:g,d:_}))};function Hpe(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(D7(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:c}=t,u=yr(r,i,a,c),f=yr(r,i,o,c);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return Y6(t)}}var uS={},dS={},fS={},sL;function Gpe(){return sL||(sL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q7();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(fS)),fS}var lL;function qpe(){return lL||(lL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gpe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(dS)),dS}var cL;function Ype(){return cL||(cL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y7(),n=qpe();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(c);for(let f=0;f<c;f++)u[f]=i,i+=o;return u}e.range=r})(uS)),uS}var hS,uL;function Kpe(){return uL||(uL=1,hS=Ype().range),hS}var Wpe=Kpe();const W6=ui(Wpe);function kl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Vpe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function AA(e){let t,n,r;e.length!==2?(t=kl,n=(c,u)=>kl(e(c),u),r=(c,u)=>e(c)-u):(t=e===kl||e===Vpe?e:Zpe,n=e,r=e);function i(c,u,f=0,m=c.length){if(f<m){if(t(u,u)!==0)return m;do{const p=f+m>>>1;n(c[p],u)<0?f=p+1:m=p}while(f<m)}return f}function a(c,u,f=0,m=c.length){if(f<m){if(t(u,u)!==0)return m;do{const p=f+m>>>1;n(c[p],u)<=0?f=p+1:m=p}while(f<m)}return f}function o(c,u,f=0,m=c.length){const p=i(c,u,f,m-1);return p>f&&r(c[p-1],u)>-r(c[p],u)?p-1:p}return{left:i,center:o,right:a}}function Zpe(){return 0}function V6(e){return e===null?NaN:+e}function*Xpe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Jpe=AA(kl),up=Jpe.right;AA(V6).center;class dL extends Map{constructor(t,n=tge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(fL(this,t))}has(t){return super.has(fL(this,t))}set(t,n){return super.set(Qpe(this,t),n)}delete(t){return super.delete(ege(this,t))}}function fL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Qpe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ege({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function tge(e){return e!==null&&typeof e=="object"?e.valueOf():e}function nge(e=kl){if(e===kl)return Z6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Z6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rge=Math.sqrt(50),ige=Math.sqrt(10),age=Math.sqrt(2);function Sb(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=rge?10:a>=ige?5:a>=age?2:1;let c,u,f;return i<0?(f=Math.pow(10,-i)/o,c=Math.round(e*f),u=Math.round(t*f),c/f<e&&++c,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*o,c=Math.round(e/f),u=Math.round(t/f),c*f<e&&++c,u*f>t&&--u),u<c&&.5<=n&&n<2?Sb(e,t,n*2):[c,u,f]}function fk(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Sb(t,e,n):Sb(e,t,n);if(!(a>=i))return[];const c=a-i+1,u=new Array(c);if(r)if(o<0)for(let f=0;f<c;++f)u[f]=(a-f)/-o;else for(let f=0;f<c;++f)u[f]=(a-f)*o;else if(o<0)for(let f=0;f<c;++f)u[f]=(i+f)/-o;else for(let f=0;f<c;++f)u[f]=(i+f)*o;return u}function hk(e,t,n){return t=+t,e=+e,n=+n,Sb(e,t,n)[2]}function mk(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?hk(t,e,n):hk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function hL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function mL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function X6(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Z6:nge(i);r>n;){if(r-n>600){const u=r-n+1,f=t-n+1,m=Math.log(u),p=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*p*(u-p)/u)*(f-u/2<0?-1:1),v=Math.max(n,Math.floor(t-f*p/u+g)),w=Math.min(r,Math.floor(t+(u-f)*p/u+g));X6(e,t,v,w,i)}const a=e[t];let o=n,c=r;for(Hh(e,n,t),i(e[r],a)>0&&Hh(e,n,r);o<c;){for(Hh(e,o,c),++o,--c;i(e[o],a)<0;)++o;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?Hh(e,n,c):(++c,Hh(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function Hh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function oge(e,t,n){if(e=Float64Array.from(Xpe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return mL(e);if(t>=1)return hL(e);var r,i=(r-1)*t,a=Math.floor(i),o=hL(X6(e,a).subarray(0,a+1)),c=mL(e.subarray(a+1));return o+(c-o)*(i-a)}}function sge(e,t,n=V6){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return o+(c-o)*(i-a)}}function lge(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function ba(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function As(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const pk=Symbol("implicit");function TA(){var e=new dL,t=[],n=[],r=pk;function i(a){let o=e.get(a);if(o===void 0){if(r!==pk)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new dL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return TA(t,n).unknown(r)},ba.apply(i,arguments),i}function OA(){var e=TA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,c=!1,u=0,f=0,m=.5;delete e.unknown;function p(){var g=t().length,v=i<r,w=v?i:r,_=v?r:i;a=(_-w)/Math.max(1,g-u+f*2),c&&(a=Math.floor(a)),w+=(_-w-a*(g-u))*m,o=a*(1-u),c&&(w=Math.round(w),o=Math.round(o));var S=lge(g).map(function(T){return w+a*T});return n(v?S.reverse():S)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,c=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(g){return arguments.length?(c=!!g,p()):c},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),p()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),p()):m},e.copy=function(){return OA(t(),[r,i]).round(c).paddingInner(u).paddingOuter(f).align(m)},ba.apply(p(),arguments)}function J6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return J6(t())},e}function cge(){return J6(OA.apply(null,arguments).paddingInner(1))}function jA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Q6(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function dp(){}var Mm=.7,Eb=1/Mm,Md="\\s*([+-]?\\d+)\\s*",Pm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uge=/^#([0-9a-f]{3,8})$/,dge=new RegExp(`^rgb\\(${Md},${Md},${Md}\\)$`),fge=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),hge=new RegExp(`^rgba\\(${Md},${Md},${Md},${Pm}\\)$`),mge=new RegExp(`^rgba\\(${_o},${_o},${_o},${Pm}\\)$`),pge=new RegExp(`^hsl\\(${Pm},${_o},${_o}\\)$`),gge=new RegExp(`^hsla\\(${Pm},${_o},${_o},${Pm}\\)$`),pL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jA(dp,Dm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gL,formatHex:gL,formatHex8:yge,formatHsl:bge,formatRgb:yL,toString:yL});function gL(){return this.rgb().formatHex()}function yge(){return this.rgb().formatHex8()}function bge(){return e9(this).formatHsl()}function yL(){return this.rgb().formatRgb()}function Dm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=uge.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?bL(t):n===3?new oi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?H0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?H0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dge.exec(e))?new oi(t[1],t[2],t[3],1):(t=fge.exec(e))?new oi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hge.exec(e))?H0(t[1],t[2],t[3],t[4]):(t=mge.exec(e))?H0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pge.exec(e))?_L(t[1],t[2]/100,t[3]/100,1):(t=gge.exec(e))?_L(t[1],t[2]/100,t[3]/100,t[4]):pL.hasOwnProperty(e)?bL(pL[e]):e==="transparent"?new oi(NaN,NaN,NaN,0):null}function bL(e){return new oi(e>>16&255,e>>8&255,e&255,1)}function H0(e,t,n,r){return r<=0&&(e=t=n=NaN),new oi(e,t,n,r)}function vge(e){return e instanceof dp||(e=Dm(e)),e?(e=e.rgb(),new oi(e.r,e.g,e.b,e.opacity)):new oi}function gk(e,t,n,r){return arguments.length===1?vge(e):new oi(e,t,n,r??1)}function oi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}jA(oi,gk,Q6(dp,{brighter(e){return e=e==null?Eb:Math.pow(Eb,e),new oi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mm:Math.pow(Mm,e),new oi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new oi(Yc(this.r),Yc(this.g),Yc(this.b),kb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vL,formatHex:vL,formatHex8:xge,formatRgb:xL,toString:xL}));function vL(){return`#${Uc(this.r)}${Uc(this.g)}${Uc(this.b)}`}function xge(){return`#${Uc(this.r)}${Uc(this.g)}${Uc(this.b)}${Uc((isNaN(this.opacity)?1:this.opacity)*255)}`}function xL(){const e=kb(this.opacity);return`${e===1?"rgb(":"rgba("}${Yc(this.r)}, ${Yc(this.g)}, ${Yc(this.b)}${e===1?")":`, ${e})`}`}function kb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Uc(e){return e=Yc(e),(e<16?"0":"")+e.toString(16)}function _L(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ia(e,t,n,r)}function e9(e){if(e instanceof Ia)return new Ia(e.h,e.s,e.l,e.opacity);if(e instanceof dp||(e=Dm(e)),!e)return new Ia;if(e instanceof Ia)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,c=a-i,u=(a+i)/2;return c?(t===a?o=(n-r)/c+(n<r)*6:n===a?o=(r-t)/c+2:o=(t-n)/c+4,c/=u<.5?a+i:2-a-i,o*=60):c=u>0&&u<1?0:o,new Ia(o,c,u,e.opacity)}function _ge(e,t,n,r){return arguments.length===1?e9(e):new Ia(e,t,n,r??1)}function Ia(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}jA(Ia,_ge,Q6(dp,{brighter(e){return e=e==null?Eb:Math.pow(Eb,e),new Ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mm:Math.pow(Mm,e),new Ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new oi(mS(e>=240?e-240:e+120,i,r),mS(e,i,r),mS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ia(wL(this.h),G0(this.s),G0(this.l),kb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=kb(this.opacity);return`${e===1?"hsl(":"hsla("}${wL(this.h)}, ${G0(this.s)*100}%, ${G0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wL(e){return e=(e||0)%360,e<0?e+360:e}function G0(e){return Math.max(0,Math.min(1,e||0))}function mS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const NA=e=>()=>e;function wge(e,t){return function(n){return e+n*t}}function Sge(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ege(e){return(e=+e)==1?t9:function(t,n){return n-t?Sge(t,n,e):NA(isNaN(t)?n:t)}}function t9(e,t){var n=t-e;return n?wge(e,n):NA(isNaN(e)?t:e)}const SL=(function e(t){var n=Ege(t);function r(i,a){var o=n((i=gk(i)).r,(a=gk(a)).r),c=n(i.g,a.g),u=n(i.b,a.b),f=t9(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=c(m),i.b=u(m),i.opacity=f(m),i+""}}return r.gamma=e,r})(1);function kge(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Age(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Tge(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ff(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(c){for(o=0;o<r;++o)a[o]=i[o](c);return a}}function Oge(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ab(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function jge(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ff(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var yk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pS=new RegExp(yk.source,"g");function Nge(e){return function(){return e}}function Cge(e){return function(t){return e(t)+""}}function Mge(e,t){var n=yk.lastIndex=pS.lastIndex=0,r,i,a,o=-1,c=[],u=[];for(e=e+"",t=t+"";(r=yk.exec(e))&&(i=pS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,u.push({i:o,x:Ab(r,i)})),n=pS.lastIndex;return n<t.length&&(a=t.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?u[0]?Cge(u[0].x):Nge(t):(t=u.length,function(f){for(var m=0,p;m<t;++m)c[(p=u[m]).i]=p.x(f);return c.join("")})}function ff(e,t){var n=typeof t,r;return t==null||n==="boolean"?NA(t):(n==="number"?Ab:n==="string"?(r=Dm(t))?(t=r,SL):Mge:t instanceof Dm?SL:t instanceof Date?Oge:Age(t)?kge:Array.isArray(t)?Tge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jge:Ab)(e,t)}function CA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Pge(e,t){t===void 0&&(t=e,e=ff);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[c](o-c)}}function Dge(e){return function(){return e}}function Tb(e){return+e}var EL=[0,1];function Lr(e){return e}function bk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Dge(isNaN(t)?NaN:.5)}function Rge(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Lge(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=bk(i,r),a=n(o,a)):(r=bk(r,i),a=n(a,o)),function(c){return a(r(c))}}function Ige(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=bk(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(c){var u=up(e,c,1,r)-1;return a[u](i[u](c))}}function fp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vv(){var e=EL,t=EL,n=ff,r,i,a,o=Lr,c,u,f;function m(){var g=Math.min(e.length,t.length);return o!==Lr&&(o=Rge(e[0],e[g-1])),c=g>2?Ige:Lge,u=f=null,p}function p(g){return g==null||isNaN(g=+g)?a:(u||(u=c(e.map(r),t,n)))(r(o(g)))}return p.invert=function(g){return o(i((f||(f=c(t,e.map(r),Ab)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Tb),m()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),m()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=CA,m()},p.clamp=function(g){return arguments.length?(o=g?!0:Lr,m()):o!==Lr},p.interpolate=function(g){return arguments.length?(n=g,m()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,v){return r=g,i=v,m()}}function MA(){return Vv()(Lr,Lr)}function $ge(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ob(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Wd(e){return e=Ob(Math.abs(e)),e?e[1]:NaN}function Bge(e,t){return function(n,r){for(var i=n.length,a=[],o=0,c=e[0],u=0;i>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),a.push(n.substring(i-=c,i+c)),!((u+=c+1)>r));)c=e[o=(o+1)%e.length];return a.reverse().join(t)}}function zge(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Uge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rm(e){if(!(t=Uge.exec(e)))throw new Error("invalid format: "+e);var t;return new PA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rm.prototype=PA.prototype;function PA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}PA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fge(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var n9;function Hge(e,t){var n=Ob(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(n9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ob(e,Math.max(0,t+a-1))[0]}function kL(e,t){var n=Ob(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const AL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$ge,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kL(e*100,t),r:kL,s:Hge,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function TL(e){return e}var OL=Array.prototype.map,jL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Gge(e){var t=e.grouping===void 0||e.thousands===void 0?TL:Bge(OL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?TL:zge(OL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Rm(p);var g=p.fill,v=p.align,w=p.sign,_=p.symbol,S=p.zero,T=p.width,N=p.comma,O=p.precision,P=p.trim,M=p.type;M==="n"?(N=!0,M="g"):AL[M]||(O===void 0&&(O=12),P=!0,M="g"),(S||g==="0"&&v==="=")&&(S=!0,g="0",v="=");var D=_==="$"?n:_==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",$=_==="$"?r:/[%p]/.test(M)?o:"",H=AL[M],q=/[defgprs%]/.test(M);O=O===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function K(F){var z=D,Z=$,Q,J,Y;if(M==="c")Z=H(F)+Z,F="";else{F=+F;var X=F<0||1/F<0;if(F=isNaN(F)?u:H(Math.abs(F),O),P&&(F=Fge(F)),X&&+F==0&&w!=="+"&&(X=!1),z=(X?w==="("?w:c:w==="-"||w==="("?"":w)+z,Z=(M==="s"?jL[8+n9/3]:"")+Z+(X&&w==="("?")":""),q){for(Q=-1,J=F.length;++Q<J;)if(Y=F.charCodeAt(Q),48>Y||Y>57){Z=(Y===46?i+F.slice(Q+1):F.slice(Q))+Z,F=F.slice(0,Q);break}}}N&&!S&&(F=t(F,1/0));var re=z.length+F.length+Z.length,ue=re<T?new Array(T-re+1).join(g):"";switch(N&&S&&(F=t(ue+F,ue.length?T-Z.length:1/0),ue=""),v){case"<":F=z+F+Z+ue;break;case"=":F=z+ue+F+Z;break;case"^":F=ue.slice(0,re=ue.length>>1)+z+F+Z+ue.slice(re);break;default:F=ue+z+F+Z;break}return a(F)}return K.toString=function(){return p+""},K}function m(p,g){var v=f((p=Rm(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Wd(g)/3)))*3,_=Math.pow(10,-w),S=jL[8+w/3];return function(T){return v(_*T)+S}}return{format:f,formatPrefix:m}}var q0,DA,r9;qge({thousands:",",grouping:[3],currency:["$",""]});function qge(e){return q0=Gge(e),DA=q0.format,r9=q0.formatPrefix,q0}function Yge(e){return Math.max(0,-Wd(Math.abs(e)))}function Kge(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wd(t)/3)))*3-Wd(Math.abs(e)))}function Wge(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wd(t)-Wd(e))+1}function i9(e,t,n,r){var i=mk(e,t,n),a;switch(r=Rm(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Kge(i,o))&&(r.precision=a),r9(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Wge(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Yge(i))&&(r.precision=a-(r.type==="%")*2);break}}return DA(r)}function Pl(e){var t=e.domain;return e.ticks=function(n){var r=t();return fk(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return i9(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],c=r[a],u,f,m=10;for(c<o&&(f=o,o=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=hk(o,c,n),f===u)return r[i]=o,r[a]=c,t(r);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;u=f}return e},e}function a9(){var e=MA();return e.copy=function(){return fp(e,a9())},ba.apply(e,arguments),Pl(e)}function o9(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Tb),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return o9(e).unknown(t)},e=arguments.length?Array.from(e,Tb):[0,1],Pl(n)}function s9(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function NL(e){return Math.log(e)}function CL(e){return Math.exp(e)}function Vge(e){return-Math.log(-e)}function Zge(e){return-Math.exp(-e)}function Xge(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Jge(e){return e===10?Xge:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Qge(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ML(e){return(t,n)=>-e(-t,n)}function RA(e){const t=e(NL,CL),n=t.domain;let r=10,i,a;function o(){return i=Qge(r),a=Jge(r),n()[0]<0?(i=ML(i),a=ML(a),e(Vge,Zge)):e(NL,CL),t}return t.base=function(c){return arguments.length?(r=+c,o()):r},t.domain=function(c){return arguments.length?(n(c),o()):n()},t.ticks=c=>{const u=n();let f=u[0],m=u[u.length-1];const p=m<f;p&&([f,m]=[m,f]);let g=i(f),v=i(m),w,_;const S=c==null?10:+c;let T=[];if(!(r%1)&&v-g<S){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(w=1;w<r;++w)if(_=g<0?w/a(-g):w*a(g),!(_<f)){if(_>m)break;T.push(_)}}else for(;g<=v;++g)for(w=r-1;w>=1;--w)if(_=g>0?w/a(-g):w*a(g),!(_<f)){if(_>m)break;T.push(_)}T.length*2<S&&(T=fk(f,m,S))}else T=fk(g,v,Math.min(v-g,S)).map(a);return p?T.reverse():T},t.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Rm(u)).precision==null&&(u.trim=!0),u=DA(u)),c===1/0)return u;const f=Math.max(1,r*c/t.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?u(m):""}},t.nice=()=>n(s9(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function l9(){const e=RA(Vv()).domain([1,10]);return e.copy=()=>fp(e,l9()).base(e.base()),ba.apply(e,arguments),e}function PL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function LA(e){var t=1,n=e(PL(t),DL(t));return n.constant=function(r){return arguments.length?e(PL(t=+r),DL(t)):t},Pl(n)}function c9(){var e=LA(Vv());return e.copy=function(){return fp(e,c9()).constant(e.constant())},ba.apply(e,arguments)}function RL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function e0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function t0e(e){return e<0?-e*e:e*e}function IA(e){var t=e(Lr,Lr),n=1;function r(){return n===1?e(Lr,Lr):n===.5?e(e0e,t0e):e(RL(n),RL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Pl(t)}function $A(){var e=IA(Vv());return e.copy=function(){return fp(e,$A()).exponent(e.exponent())},ba.apply(e,arguments),e}function n0e(){return $A.apply(null,arguments).exponent(.5)}function LL(e){return Math.sign(e)*e*e}function r0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function u9(){var e=MA(),t=[0,1],n=!1,r;function i(a){var o=r0e(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(LL(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Tb)).map(LL)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return u9(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ba.apply(i,arguments),Pl(i)}function d9(){var e=[],t=[],n=[],r;function i(){var o=0,c=Math.max(1,t.length);for(n=new Array(c-1);++o<c;)n[o-1]=sge(e,o/c);return a}function a(o){return o==null||isNaN(o=+o)?r:t[up(n,o)]}return a.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(kl),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return d9().domain(e).range(t).unknown(r)},ba.apply(a,arguments)}function f9(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[up(r,u,0,n)]:a}function c(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,c()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,c()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return f9().domain([e,t]).range(i).unknown(a)},ba.apply(Pl(o),arguments)}function h9(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[up(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return h9().domain(e).range(t).unknown(n)},ba.apply(i,arguments)}const gS=new Date,yS=new Date;function Yn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const u=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return u;let f;do u.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<o);return u},i.filter=a=>Yn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!a(o););else for(;--c>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(gS.setTime(+a),yS.setTime(+o),e(gS),e(yS),Math.floor(n(gS,yS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const jb=Yn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);jb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):jb);jb.range;const ls=1e3,ca=ls*60,cs=ca*60,bs=cs*24,BA=bs*7,IL=bs*30,bS=bs*365,Fc=Yn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ls)},(e,t)=>(t-e)/ls,e=>e.getUTCSeconds());Fc.range;const zA=Yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ls)},(e,t)=>{e.setTime(+e+t*ca)},(e,t)=>(t-e)/ca,e=>e.getMinutes());zA.range;const UA=Yn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ca)},(e,t)=>(t-e)/ca,e=>e.getUTCMinutes());UA.range;const FA=Yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ls-e.getMinutes()*ca)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getHours());FA.range;const HA=Yn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getUTCHours());HA.range;const hp=Yn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ca)/bs,e=>e.getDate()-1);hp.range;const Zv=Yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bs,e=>e.getUTCDate()-1);Zv.range;const m9=Yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bs,e=>Math.floor(e/bs));m9.range;function su(e){return Yn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ca)/BA)}const Xv=su(0),Nb=su(1),i0e=su(2),a0e=su(3),Vd=su(4),o0e=su(5),s0e=su(6);Xv.range;Nb.range;i0e.range;a0e.range;Vd.range;o0e.range;s0e.range;function lu(e){return Yn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/BA)}const Jv=lu(0),Cb=lu(1),l0e=lu(2),c0e=lu(3),Zd=lu(4),u0e=lu(5),d0e=lu(6);Jv.range;Cb.range;l0e.range;c0e.range;Zd.range;u0e.range;d0e.range;const GA=Yn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());GA.range;const qA=Yn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());qA.range;const vs=Yn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});vs.range;const xs=Yn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});xs.range;function p9(e,t,n,r,i,a){const o=[[Fc,1,ls],[Fc,5,5*ls],[Fc,15,15*ls],[Fc,30,30*ls],[a,1,ca],[a,5,5*ca],[a,15,15*ca],[a,30,30*ca],[i,1,cs],[i,3,3*cs],[i,6,6*cs],[i,12,12*cs],[r,1,bs],[r,2,2*bs],[n,1,BA],[t,1,IL],[t,3,3*IL],[e,1,bS]];function c(f,m,p){const g=m<f;g&&([f,m]=[m,f]);const v=p&&typeof p.range=="function"?p:u(f,m,p),w=v?v.range(f,+m+1):[];return g?w.reverse():w}function u(f,m,p){const g=Math.abs(m-f)/p,v=AA(([,,S])=>S).right(o,g);if(v===o.length)return e.every(mk(f/bS,m/bS,p));if(v===0)return jb.every(Math.max(mk(f,m,p),1));const[w,_]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return w.every(_)}return[c,u]}const[f0e,h0e]=p9(xs,qA,Jv,m9,HA,UA),[m0e,p0e]=p9(vs,GA,Xv,hp,FA,zA);function vS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function g0e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,f=qh(i),m=Yh(i),p=qh(a),g=Yh(a),v=qh(o),w=Yh(o),_=qh(c),S=Yh(c),T=qh(u),N=Yh(u),O={a:X,A:re,b:ue,B:se,c:null,d:HL,e:HL,f:B0e,g:V0e,G:X0e,H:L0e,I:I0e,j:$0e,L:g9,m:z0e,M:U0e,p:B,q:W,Q:YL,s:KL,S:F0e,u:H0e,U:G0e,V:q0e,w:Y0e,W:K0e,x:null,X:null,y:W0e,Y:Z0e,Z:J0e,"%":qL},P={a:ae,A:V,b:oe,B:me,c:null,d:GL,e:GL,f:nye,g:fye,G:mye,H:Q0e,I:eye,j:tye,L:b9,m:rye,M:iye,p:pe,q:be,Q:YL,s:KL,S:aye,u:oye,U:sye,V:lye,w:cye,W:uye,x:null,X:null,y:dye,Y:hye,Z:pye,"%":qL},M={a:K,A:F,b:z,B:Z,c:Q,d:UL,e:UL,f:M0e,g:zL,G:BL,H:FL,I:FL,j:O0e,L:C0e,m:T0e,M:j0e,p:q,q:A0e,Q:D0e,s:R0e,S:N0e,u:_0e,U:w0e,V:S0e,w:x0e,W:E0e,x:J,X:Y,y:zL,Y:BL,Z:k0e,"%":P0e};O.x=D(n,O),O.X=D(r,O),O.c=D(t,O),P.x=D(n,P),P.X=D(r,P),P.c=D(t,P);function D(ne,Oe){return function(Ce){var ve=[],Ze=-1,Ne=0,_e=ne.length,je,Ie,Ve;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ze<_e;)ne.charCodeAt(Ze)===37&&(ve.push(ne.slice(Ne,Ze)),(Ie=$L[je=ne.charAt(++Ze)])!=null?je=ne.charAt(++Ze):Ie=je==="e"?" ":"0",(Ve=Oe[je])&&(je=Ve(Ce,Ie)),ve.push(je),Ne=Ze+1);return ve.push(ne.slice(Ne,Ze)),ve.join("")}}function $(ne,Oe){return function(Ce){var ve=Gh(1900,void 0,1),Ze=H(ve,ne,Ce+="",0),Ne,_e;if(Ze!=Ce.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Oe&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ne=xS(Gh(ve.y,0,1)),_e=Ne.getUTCDay(),Ne=_e>4||_e===0?Cb.ceil(Ne):Cb(Ne),Ne=Zv.offset(Ne,(ve.V-1)*7),ve.y=Ne.getUTCFullYear(),ve.m=Ne.getUTCMonth(),ve.d=Ne.getUTCDate()+(ve.w+6)%7):(Ne=vS(Gh(ve.y,0,1)),_e=Ne.getDay(),Ne=_e>4||_e===0?Nb.ceil(Ne):Nb(Ne),Ne=hp.offset(Ne,(ve.V-1)*7),ve.y=Ne.getFullYear(),ve.m=Ne.getMonth(),ve.d=Ne.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),_e="Z"in ve?xS(Gh(ve.y,0,1)).getUTCDay():vS(Gh(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(_e+5)%7:ve.w+ve.U*7-(_e+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,xS(ve)):vS(ve)}}function H(ne,Oe,Ce,ve){for(var Ze=0,Ne=Oe.length,_e=Ce.length,je,Ie;Ze<Ne;){if(ve>=_e)return-1;if(je=Oe.charCodeAt(Ze++),je===37){if(je=Oe.charAt(Ze++),Ie=M[je in $L?Oe.charAt(Ze++):je],!Ie||(ve=Ie(ne,Ce,ve))<0)return-1}else if(je!=Ce.charCodeAt(ve++))return-1}return ve}function q(ne,Oe,Ce){var ve=f.exec(Oe.slice(Ce));return ve?(ne.p=m.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function K(ne,Oe,Ce){var ve=v.exec(Oe.slice(Ce));return ve?(ne.w=w.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function F(ne,Oe,Ce){var ve=p.exec(Oe.slice(Ce));return ve?(ne.w=g.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function z(ne,Oe,Ce){var ve=T.exec(Oe.slice(Ce));return ve?(ne.m=N.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function Z(ne,Oe,Ce){var ve=_.exec(Oe.slice(Ce));return ve?(ne.m=S.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function Q(ne,Oe,Ce){return H(ne,t,Oe,Ce)}function J(ne,Oe,Ce){return H(ne,n,Oe,Ce)}function Y(ne,Oe,Ce){return H(ne,r,Oe,Ce)}function X(ne){return o[ne.getDay()]}function re(ne){return a[ne.getDay()]}function ue(ne){return u[ne.getMonth()]}function se(ne){return c[ne.getMonth()]}function B(ne){return i[+(ne.getHours()>=12)]}function W(ne){return 1+~~(ne.getMonth()/3)}function ae(ne){return o[ne.getUTCDay()]}function V(ne){return a[ne.getUTCDay()]}function oe(ne){return u[ne.getUTCMonth()]}function me(ne){return c[ne.getUTCMonth()]}function pe(ne){return i[+(ne.getUTCHours()>=12)]}function be(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var Oe=D(ne+="",O);return Oe.toString=function(){return ne},Oe},parse:function(ne){var Oe=$(ne+="",!1);return Oe.toString=function(){return ne},Oe},utcFormat:function(ne){var Oe=D(ne+="",P);return Oe.toString=function(){return ne},Oe},utcParse:function(ne){var Oe=$(ne+="",!0);return Oe.toString=function(){return ne},Oe}}}var $L={"-":"",_:" ",0:"0"},lr=/^\s*\d+/,y0e=/^%/,b0e=/[\\^$*+?|[\]().{}]/g;function At(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function v0e(e){return e.replace(b0e,"\\$&")}function qh(e){return new RegExp("^(?:"+e.map(v0e).join("|")+")","i")}function Yh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function x0e(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function _0e(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function w0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function S0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function E0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function BL(e,t,n){var r=lr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function zL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function k0e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function A0e(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function T0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function UL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function O0e(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function FL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function j0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function N0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function C0e(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function M0e(e,t,n){var r=lr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function P0e(e,t,n){var r=y0e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function D0e(e,t,n){var r=lr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function R0e(e,t,n){var r=lr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function HL(e,t){return At(e.getDate(),t,2)}function L0e(e,t){return At(e.getHours(),t,2)}function I0e(e,t){return At(e.getHours()%12||12,t,2)}function $0e(e,t){return At(1+hp.count(vs(e),e),t,3)}function g9(e,t){return At(e.getMilliseconds(),t,3)}function B0e(e,t){return g9(e,t)+"000"}function z0e(e,t){return At(e.getMonth()+1,t,2)}function U0e(e,t){return At(e.getMinutes(),t,2)}function F0e(e,t){return At(e.getSeconds(),t,2)}function H0e(e){var t=e.getDay();return t===0?7:t}function G0e(e,t){return At(Xv.count(vs(e)-1,e),t,2)}function y9(e){var t=e.getDay();return t>=4||t===0?Vd(e):Vd.ceil(e)}function q0e(e,t){return e=y9(e),At(Vd.count(vs(e),e)+(vs(e).getDay()===4),t,2)}function Y0e(e){return e.getDay()}function K0e(e,t){return At(Nb.count(vs(e)-1,e),t,2)}function W0e(e,t){return At(e.getFullYear()%100,t,2)}function V0e(e,t){return e=y9(e),At(e.getFullYear()%100,t,2)}function Z0e(e,t){return At(e.getFullYear()%1e4,t,4)}function X0e(e,t){var n=e.getDay();return e=n>=4||n===0?Vd(e):Vd.ceil(e),At(e.getFullYear()%1e4,t,4)}function J0e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function GL(e,t){return At(e.getUTCDate(),t,2)}function Q0e(e,t){return At(e.getUTCHours(),t,2)}function eye(e,t){return At(e.getUTCHours()%12||12,t,2)}function tye(e,t){return At(1+Zv.count(xs(e),e),t,3)}function b9(e,t){return At(e.getUTCMilliseconds(),t,3)}function nye(e,t){return b9(e,t)+"000"}function rye(e,t){return At(e.getUTCMonth()+1,t,2)}function iye(e,t){return At(e.getUTCMinutes(),t,2)}function aye(e,t){return At(e.getUTCSeconds(),t,2)}function oye(e){var t=e.getUTCDay();return t===0?7:t}function sye(e,t){return At(Jv.count(xs(e)-1,e),t,2)}function v9(e){var t=e.getUTCDay();return t>=4||t===0?Zd(e):Zd.ceil(e)}function lye(e,t){return e=v9(e),At(Zd.count(xs(e),e)+(xs(e).getUTCDay()===4),t,2)}function cye(e){return e.getUTCDay()}function uye(e,t){return At(Cb.count(xs(e)-1,e),t,2)}function dye(e,t){return At(e.getUTCFullYear()%100,t,2)}function fye(e,t){return e=v9(e),At(e.getUTCFullYear()%100,t,2)}function hye(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function mye(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Zd(e):Zd.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function pye(){return"+0000"}function qL(){return"%"}function YL(e){return+e}function KL(e){return Math.floor(+e/1e3)}var ad,x9,_9;gye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gye(e){return ad=g0e(e),x9=ad.format,ad.parse,_9=ad.utcFormat,ad.utcParse,ad}function yye(e){return new Date(e)}function bye(e){return e instanceof Date?+e:+new Date(+e)}function YA(e,t,n,r,i,a,o,c,u,f){var m=MA(),p=m.invert,g=m.domain,v=f(".%L"),w=f(":%S"),_=f("%I:%M"),S=f("%I %p"),T=f("%a %d"),N=f("%b %d"),O=f("%B"),P=f("%Y");function M(D){return(u(D)<D?v:c(D)<D?w:o(D)<D?_:a(D)<D?S:r(D)<D?i(D)<D?T:N:n(D)<D?O:P)(D)}return m.invert=function(D){return new Date(p(D))},m.domain=function(D){return arguments.length?g(Array.from(D,bye)):g().map(yye)},m.ticks=function(D){var $=g();return e($[0],$[$.length-1],D??10)},m.tickFormat=function(D,$){return $==null?M:f($)},m.nice=function(D){var $=g();return(!D||typeof D.range!="function")&&(D=t($[0],$[$.length-1],D??10)),D?g(s9($,D)):m},m.copy=function(){return fp(m,YA(e,t,n,r,i,a,o,c,u,f))},m}function vye(){return ba.apply(YA(m0e,p0e,vs,GA,Xv,hp,FA,zA,Fc,x9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xye(){return ba.apply(YA(f0e,h0e,xs,qA,Jv,Zv,HA,UA,Fc,_9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qv(){var e=0,t=1,n,r,i,a,o=Lr,c=!1,u;function f(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(o=p,f):o};function m(p){return function(g){var v,w;return arguments.length?([v,w]=g,o=p(v,w),f):[o(0),o(1)]}}return f.range=m(ff),f.rangeRound=m(CA),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Dl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function w9(){var e=Pl(Qv()(Lr));return e.copy=function(){return Dl(e,w9())},As.apply(e,arguments)}function S9(){var e=RA(Qv()).domain([1,10]);return e.copy=function(){return Dl(e,S9()).base(e.base())},As.apply(e,arguments)}function E9(){var e=LA(Qv());return e.copy=function(){return Dl(e,E9()).constant(e.constant())},As.apply(e,arguments)}function KA(){var e=IA(Qv());return e.copy=function(){return Dl(e,KA()).exponent(e.exponent())},As.apply(e,arguments)}function _ye(){return KA.apply(null,arguments).exponent(.5)}function k9(){var e=[],t=Lr;function n(r){if(r!=null&&!isNaN(r=+r))return t((up(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(kl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>oge(e,a/r))},n.copy=function(){return k9(t).domain(e)},As.apply(n,arguments)}function ex(){var e=0,t=.5,n=1,r=1,i,a,o,c,u,f=Lr,m,p=!1,g;function v(_){return isNaN(_=+_)?g:(_=.5+((_=+m(_))-a)*(r*_<r*a?c:u),f(p?Math.max(0,Math.min(1,_)):_))}v.domain=function(_){return arguments.length?([e,t,n]=_,i=m(e=+e),a=m(t=+t),o=m(n=+n),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,v):[e,t,n]},v.clamp=function(_){return arguments.length?(p=!!_,v):p},v.interpolator=function(_){return arguments.length?(f=_,v):f};function w(_){return function(S){var T,N,O;return arguments.length?([T,N,O]=S,f=Pge(_,[T,N,O]),v):[f(0),f(.5),f(1)]}}return v.range=w(ff),v.rangeRound=w(CA),v.unknown=function(_){return arguments.length?(g=_,v):g},function(_){return m=_,i=_(e),a=_(t),o=_(n),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,v}}function A9(){var e=Pl(ex()(Lr));return e.copy=function(){return Dl(e,A9())},As.apply(e,arguments)}function T9(){var e=RA(ex()).domain([.1,1,10]);return e.copy=function(){return Dl(e,T9()).base(e.base())},As.apply(e,arguments)}function O9(){var e=LA(ex());return e.copy=function(){return Dl(e,O9()).constant(e.constant())},As.apply(e,arguments)}function WA(){var e=IA(ex());return e.copy=function(){return Dl(e,WA()).exponent(e.exponent())},As.apply(e,arguments)}function wye(){return WA.apply(null,arguments).exponent(.5)}const Jh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:OA,scaleDiverging:A9,scaleDivergingLog:T9,scaleDivergingPow:WA,scaleDivergingSqrt:wye,scaleDivergingSymlog:O9,scaleIdentity:o9,scaleImplicit:pk,scaleLinear:a9,scaleLog:l9,scaleOrdinal:TA,scalePoint:cge,scalePow:$A,scaleQuantile:d9,scaleQuantize:f9,scaleRadial:u9,scaleSequential:w9,scaleSequentialLog:S9,scaleSequentialPow:KA,scaleSequentialQuantile:k9,scaleSequentialSqrt:_ye,scaleSequentialSymlog:E9,scaleSqrt:n0e,scaleSymlog:c9,scaleThreshold:h9,scaleTime:vye,scaleUtc:xye,tickFormat:i9},Symbol.toStringTag,{value:"Module"}));var Rl=e=>e.chartData,Sye=we([Rl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),VA=(e,t,n,r)=>r?Sye(e):Rl(e);function Cl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(xn(t)&&xn(n))return!0}return!1}function WL(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function j9(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(xn(n))i=n;else if(typeof n=="function")return;if(xn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Cl(o))return o}}function Eye(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Cl(r))return WL(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,c;if(i==="auto")t!=null&&(o=Math.min(...t));else if(We(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&ER.test(i)){var u=ER.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[0]-f}}else o=t?.[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(We(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[1]))}catch{}else if(typeof a=="string"&&kR.test(a)){var m=kR.exec(a);if(m==null||t==null)c=void 0;else{var p=+m[1];c=t[1]+p}}else c=t?.[1];var g=[o,c];if(Cl(g))return t==null?g:WL(g,t,n)}}}var hf=1e9,kye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XA,on=!0,pa="[DecimalError] ",Kc=pa+"Invalid argument: ",ZA=pa+"Exponent out of range: ",mf=Math.floor,Lc=Math.pow,Aye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ci,ir=1e7,Jt=7,N9=9007199254740991,Mb=mf(N9/Jt),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Jt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(e){return ds(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,n=t.constructor;return Gt(ds(t,new n(e),0,1),n.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return Ln(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ci))throw Error(pa+"NaN");if(n.s<1)throw Error(pa+(n.s?"NaN":"-Infinity"));return n.eq(Ci)?new r(0):(on=!1,t=ds(Lm(n,a),Lm(e,a),a),on=!0,Gt(t,i))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P9(t,e):C9(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(pa+"NaN");return n.s?(on=!1,t=ds(n,e,0,1).times(e),on=!0,n.minus(t)):Gt(new r(n),i)};$e.naturalExponential=$e.exp=function(){return M9(this)};$e.naturalLogarithm=$e.ln=function(){return Lm(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C9(t,e):P9(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kc+e);if(t=Ln(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};$e.squareRoot=$e.sqrt=function(){var e,t,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(pa+"NaN")}for(e=Ln(c),on=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=vo(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=mf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(ds(c,a,o+2)).times(.5),vo(a.d).slice(0,o)===(t=vo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Gt(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;o+=4}return on=!0,Gt(r,n)};$e.times=$e.mul=function(e){var t,n,r,i,a,o,c,u,f,m=this,p=m.constructor,g=m.d,v=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,n=m.e+e.e,u=g.length,f=v.length,u<f&&(a=g,g=v,v=a,o=u,u=f,f=o),a=[],o=u+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=u+r;i>r;)c=a[i]+v[r]*g[i-r-1]+t,a[i--]=c%ir|0,t=c/ir|0;a[i]=(a[i]+t)%ir|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,on?Gt(e,p.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ao(e,0,hf),t===void 0?t=r.rounding:Ao(t,0,8),Gt(n,e+Ln(n)+1,t))};$e.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=eu(r,!0):(Ao(e,0,hf),t===void 0?t=i.rounding:Ao(t,0,8),r=Gt(new i(r),e+1,t),n=eu(r,!0,e+1)),n};$e.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?eu(i):(Ao(e,0,hf),t===void 0?t=a.rounding:Ao(t,0,8),r=Gt(new a(i),e+Ln(i)+1,t),n=eu(r.abs(),!1,e+Ln(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),Ln(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,n,r,i,a,o,c=this,u=c.constructor,f=12,m=+(e=new u(e));if(!e.s)return new u(Ci);if(c=new u(c),!c.s){if(e.s<1)throw Error(pa+"Infinity");return c}if(c.eq(Ci))return c;if(r=u.precision,e.eq(Ci))return Gt(c,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=c.s,o){if((n=m<0?-m:m)<=N9){for(i=new u(Ci),t=Math.ceil(r/Jt+4),on=!1;n%2&&(i=i.times(c),ZL(i.d,t)),n=mf(n/2),n!==0;)c=c.times(c),ZL(c.d,t);return on=!0,e.s<0?new u(Ci).div(i):Gt(i,r)}}else if(a<0)throw Error(pa+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,on=!1,i=e.times(Lm(c,r+f)),on=!0,i=M9(i),i.s=a,i};$e.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Ln(i),r=eu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ao(e,1,hf),t===void 0?t=a.rounding:Ao(t,0,8),i=Gt(new a(i),e,t),n=Ln(i),r=eu(i,e<=n||n<=a.toExpNeg,e)),r};$e.toSignificantDigits=$e.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ao(e,1,hf),t===void 0?t=r.rounding:Ao(t,0,8)),Gt(new r(n),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ln(e),n=e.constructor;return eu(e,t<=n.toExpNeg||t>=n.toExpPos)};function C9(e,t){var n,r,i,a,o,c,u,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),on?Gt(t,p):t;if(u=e.d,f=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,c=f.length):(r=f,i=o,c=u.length),o=Math.ceil(p/Jt),c=o>c?o+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=u.length,a=f.length,c-a<0&&(a=c,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/ir|0,u[a]%=ir;for(n&&(u.unshift(n),++i),c=u.length;u[--c]==0;)u.pop();return t.d=u,t.e=i,on?Gt(t,p):t}function Ao(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Kc+e)}function vo(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Jt-r.length,n&&(a+=gl(n)),a+=r;o=e[t],r=o+"",n=Jt-r.length,n&&(a+=gl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ds=(function(){function e(r,i){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%ir|0,o=a/ir|0;return o&&r.unshift(o),r}function t(r,i,a,o){var c,u;if(a!=o)u=a>o?1:-1;else for(c=u=0;c<a;c++)if(r[c]!=i[c]){u=r[c]>i[c]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ir+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var c,u,f,m,p,g,v,w,_,S,T,N,O,P,M,D,$,H,q=r.constructor,K=r.s==i.s?1:-1,F=r.d,z=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(pa+"Division by zero");for(u=r.e-i.e,$=z.length,M=F.length,v=new q(K),w=v.d=[],f=0;z[f]==(F[f]||0);)++f;if(z[f]>(F[f]||0)&&--u,a==null?N=a=q.precision:o?N=a+(Ln(r)-Ln(i))+1:N=a,N<0)return new q(0);if(N=N/Jt+2|0,f=0,$==1)for(m=0,z=z[0],N++;(f<M||m)&&N--;f++)O=m*ir+(F[f]||0),w[f]=O/z|0,m=O%z|0;else{for(m=ir/(z[0]+1)|0,m>1&&(z=e(z,m),F=e(F,m),$=z.length,M=F.length),P=$,_=F.slice(0,$),S=_.length;S<$;)_[S++]=0;H=z.slice(),H.unshift(0),D=z[0],z[1]>=ir/2&&++D;do m=0,c=t(z,_,$,S),c<0?(T=_[0],$!=S&&(T=T*ir+(_[1]||0)),m=T/D|0,m>1?(m>=ir&&(m=ir-1),p=e(z,m),g=p.length,S=_.length,c=t(p,_,g,S),c==1&&(m--,n(p,$<g?H:z,g))):(m==0&&(c=m=1),p=z.slice()),g=p.length,g<S&&p.unshift(0),n(_,p,S),c==-1&&(S=_.length,c=t(z,_,$,S),c<1&&(m++,n(_,$<S?H:z,S))),S=_.length):c===0&&(m++,_=[0]),w[f++]=m,c&&_[0]?_[S++]=F[P]||0:(_=[F[P]],S=1);while((P++<M||_[0]!==void 0)&&N--)}return w[0]||w.shift(),v.e=u,Gt(v,o?a+Ln(v)+1:a)}})();function M9(e,t){var n,r,i,a,o,c,u=0,f=0,m=e.constructor,p=m.precision;if(Ln(e)>16)throw Error(ZA+Ln(e));if(!e.s)return new m(Ci);for(on=!1,c=p,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(Lc(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new m(Ci),m.precision=c;;){if(i=Gt(i.times(e),c),n=n.times(++u),o=a.plus(ds(i,n,c)),vo(o.d).slice(0,c)===vo(a.d).slice(0,c)){for(;f--;)a=Gt(a.times(a),c);return m.precision=p,t==null?(on=!0,Gt(a,p)):a}a=o}}function Ln(e){for(var t=e.e*Jt,n=e.d[0];n>=10;n/=10)t++;return t}function _S(e,t,n){if(t>e.LN10.sd())throw on=!0,n&&(e.precision=n),Error(pa+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function gl(e){for(var t="";e--;)t+="0";return t}function Lm(e,t){var n,r,i,a,o,c,u,f,m,p=1,g=10,v=e,w=v.d,_=v.constructor,S=_.precision;if(v.s<1)throw Error(pa+(v.s?"NaN":"-Infinity"));if(v.eq(Ci))return new _(0);if(t==null?(on=!1,f=S):f=t,v.eq(10))return t==null&&(on=!0),_S(_,f);if(f+=g,_.precision=f,n=vo(w),r=n.charAt(0),a=Ln(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=vo(v.d),r=n.charAt(0),p++;a=Ln(v),r>1?(v=new _("0."+n),a++):v=new _(r+"."+n.slice(1))}else return u=_S(_,f+2,S).times(a+""),v=Lm(new _(r+"."+n.slice(1)),f-g).plus(u),_.precision=S,t==null?(on=!0,Gt(v,S)):v;for(c=o=v=ds(v.minus(Ci),v.plus(Ci),f),m=Gt(v.times(v),f),i=3;;){if(o=Gt(o.times(m),f),u=c.plus(ds(o,new _(i),f)),vo(u.d).slice(0,f)===vo(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(_S(_,f+2,S).times(a+""))),c=ds(c,new _(p),f),_.precision=S,t==null?(on=!0,Gt(c,S)):c;c=u,i+=2}}function VL(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=mf(n/Jt),e.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Jt;r<i;)e.d.push(+t.slice(r,r+=Jt));t=t.slice(r),r=Jt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),on&&(e.e>Mb||e.e<-Mb))throw Error(ZA+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,n){var r,i,a,o,c,u,f,m,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Jt,i=t,f=p[m=0];else{if(m=Math.ceil((r+1)/Jt),a=p.length,m>=a)return e;for(f=a=p[m],o=1;a>=10;a/=10)o++;r%=Jt,i=r-Jt+o}if(n!==void 0&&(a=Lc(10,o-i-1),c=f/a%10|0,u=t<0||p[m+1]!==void 0||f%a,u=n<4?(c||u)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(r>0?i>0?f/Lc(10,o-i):0:p[m-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=Ln(e),p.length=1,t=t-a-1,p[0]=Lc(10,(Jt-t%Jt)%Jt),e.e=mf(-t/Jt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=Lc(10,Jt-r),p[m]=i>0?(f/Lc(10,o-i)%Lc(10,i)|0)*a:0),u)for(;;)if(m==0){(p[0]+=a)==ir&&(p[0]=1,++e.e);break}else{if(p[m]+=a,p[m]!=ir)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(on&&(e.e>Mb||e.e<-Mb))throw Error(ZA+Ln(e));return e}function P9(e,t){var n,r,i,a,o,c,u,f,m,p,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),on?Gt(t,v):t;if(u=e.d,p=t.d,r=t.e,f=e.e,u=u.slice(),o=f-r,o){for(m=o<0,m?(n=u,o=-o,c=p.length):(n=p,r=f,c=u.length),i=Math.max(Math.ceil(v/Jt),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(u[i]!=p[i]){m=u[i]<p[i];break}o=0}for(m&&(n=u,u=p,p=n,t.s=-t.s),c=u.length,i=p.length-c;i>0;--i)u[c++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=ir-1;--u[a],u[i]+=ir}u[i]-=p[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,on?Gt(t,v):t):new g(0)}function eu(e,t,n){var r,i=Ln(e),a=vo(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+gl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+gl(-i-1)+a,n&&(r=n-o)>0&&(a+=gl(r))):i>=o?(a+=gl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+gl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=gl(r))),e.s<0?"-"+a:a}function ZL(e,t){if(e.length>t)return e.length=t,!0}function D9(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Kc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return VL(o,a.toString())}else if(typeof a!="string")throw Error(Kc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Aye.test(a))VL(o,a);else throw Error(Kc+a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=D9,i.config=i.set=Tye,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Tye(e){if(!e||typeof e!="object")throw Error(pa+"Object expected");var t,n,r,i=["precision",1,hf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(mf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Kc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Kc+n+": "+r);return this}var XA=D9(kye);Ci=new XA(1);const Lt=XA;var Oye=e=>e,R9={},L9=e=>e===R9,XL=e=>function t(){return arguments.length===0||arguments.length===1&&L9(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},I9=(e,t)=>e===1?t:XL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==R9).length;return a>=e?t(...r):I9(e-a,XL(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var f=r.map(m=>L9(m)?c.shift():m);return t(...f,...c)}))}),jye=e=>I9(e.length,e),vk=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Nye=jye((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Cye=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Oye;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((c,u)=>u(c),a(...arguments))}},xk=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function $9(e){var t;return e===0?t=1:t=Math.floor(new Lt(e).abs().log(10).toNumber())+1,t}function B9(e,t,n){for(var r=new Lt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var z9=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},U9=(e,t,n)=>{if(e.lte(0))return new Lt(0);var r=$9(e.toNumber()),i=new Lt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,c=new Lt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=c.mul(i);return t?new Lt(u.toNumber()):new Lt(Math.ceil(u.toNumber()))},Mye=(e,t,n)=>{var r=new Lt(1),i=new Lt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Lt(10).pow($9(e)-1),i=new Lt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Lt(Math.floor(e)))}else e===0?i=new Lt(Math.floor((t-1)/2)):n||(i=new Lt(Math.floor(e)));var o=Math.floor((t-1)/2),c=Cye(Nye(u=>i.add(new Lt(u-o).mul(r)).toNumber()),vk);return c(0,t)},F9=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var o=U9(new Lt(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new Lt(0):(c=new Lt(t).add(n).div(2),c=c.sub(new Lt(c).mod(o)));var u=Math.ceil(c.sub(t).div(o).toNumber()),f=Math.ceil(new Lt(n).sub(c).div(o).toNumber()),m=u+f+1;return m>r?F9(t,n,r,i,a+1):(m<r&&(f=n>0?f+(r-m):f,u=n>0?u:u+(r-m)),{step:o,tickMin:c.sub(new Lt(u).mul(o)),tickMax:c.add(new Lt(f).mul(o))})},Pye=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[c,u]=z9([n,r]);if(c===-1/0||u===1/0){var f=u===1/0?[c,...vk(0,i-1).map(()=>1/0)]:[...vk(0,i-1).map(()=>-1/0),u];return n>r?xk(f):f}if(c===u)return Mye(c,i,a);var{step:m,tickMin:p,tickMax:g}=F9(c,u,o,a,0),v=B9(p,g.add(new Lt(.1).mul(m)),m);return n>r?xk(v):v},Dye=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=z9([r,i]);if(o===-1/0||c===1/0)return[r,i];if(o===c)return[o];var u=Math.max(n,2),f=U9(new Lt(c).sub(o).div(u-1),a,0),m=[...B9(new Lt(o),new Lt(c),f),c];return a===!1&&(m=m.map(p=>Math.round(p))),r>i?xk(m):m},Rye=e=>e.rootProps.barCategoryGap,tx=e=>e.rootProps.stackOffset,H9=e=>e.rootProps.reverseStackOrder,JA=e=>e.options.chartName,QA=e=>e.rootProps.syncId,G9=e=>e.rootProps.syncMethod,eT=e=>e.options.eventEmitter,Lye=e=>e.rootProps.baseValue,Ir={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},as={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ji={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},nx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Iye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:as.reversed,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:as.type,unit:void 0},$ye={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:ji.type,unit:void 0},Bye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:as.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},zye={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:"category",unit:void 0},tT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Bye:Iye,nT=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?zye:$ye,rx=e=>e.polarOptions,rT=we([Es,ks,xr],Ppe),q9=we([rx,rT],(e,t)=>{if(e!=null)return Nl(e.innerRadius,t,0)}),Y9=we([rx,rT],(e,t)=>{if(e!=null)return Nl(e.outerRadius,t,t*.8)}),Uye=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},K9=we([rx],Uye);we([tT,K9],nx);var W9=we([rT,q9,Y9],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});we([nT,W9],nx);var V9=we([Vt,rx,q9,Y9,Es,ks],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:c,startAngle:u,endAngle:f}=t;return{cx:Nl(o,i,i/2),cy:Nl(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Kn=(e,t)=>t,ix=(e,t,n)=>n;function iT(e){return e?.id}function Z9(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(c=>{var u,f=(u=c.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var m=iT(c);f.forEach((p,g)=>{var v=a==null||i?g:String(Tr(p,a,null)),w=Tr(p,c.dataKey,0),_;o.has(v)?_=o.get(v):_={},Object.assign(_,{[m]:w}),o.set(v,_)})}}),Array.from(o.values())}function aT(e){return e.stackId!=null&&e.dataKey!=null}var ax=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ox(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Fye(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Wn=e=>{var t=Vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},pf=e=>e.tooltip.settings.axisId;function JL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(n),!0).forEach(function(r){Hye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hye(e,t,n){return(t=Gye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gye(e){var t=qye(e,"string");return typeof t=="symbol"?t:t+""}function qye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _k=[0,"auto"],tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},X9=(e,t)=>e.cartesianAxis.xAxis[t],Ts=(e,t)=>{var n=X9(e,t);return n??tr},nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:_k,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sp},J9=(e,t)=>e.cartesianAxis.yAxis[t],Os=(e,t)=>{var n=J9(e,t);return n??nr},Yye={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},oT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Yye},Ur=(e,t,n)=>{switch(t){case"xAxis":return Ts(e,n);case"yAxis":return Os(e,n);case"zAxis":return oT(e,n);case"angleAxis":return tT(e,n);case"radiusAxis":return nT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Kye=(e,t,n)=>{switch(t){case"xAxis":return Ts(e,n);case"yAxis":return Os(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},mp=(e,t,n)=>{switch(t){case"xAxis":return Ts(e,n);case"yAxis":return Os(e,n);case"angleAxis":return tT(e,n);case"radiusAxis":return nT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Q9=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ez(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var tz=e=>e.graphicalItems.cartesianItems,Wye=we([Kn,ix],ez),nz=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),pp=we([tz,Ur,Wye],nz,{memoizeOptions:{resultEqualityCheck:ox}}),rz=we([pp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(aT)),iz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Vye=we([pp],iz),az=e=>e.map(t=>t.data).filter(Boolean).flat(1),Zye=we([pp],az,{memoizeOptions:{resultEqualityCheck:ox}}),oz=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},sT=we([Zye,VA],oz),sz=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Tr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Tr(i,r)}))):e.map(r=>({value:r})),sx=we([sT,Ur,pp],sz);function lz(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function gy(e){if(Eo(e)||e instanceof Date){var t=Number(e);if(xn(t))return t}}function QL(e){if(Array.isArray(e)){var t=[gy(e[0]),gy(e[1])];return Cl(t)?t:void 0}var n=gy(e);if(n!=null)return[n,n]}function _s(e){return e.map(gy).filter(yde)}function Xye(e,t,n){return!n||typeof t!="number"||Ha(t)?[]:n.length?_s(n.flatMap(r=>{var i=Tr(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!xn(a)||!xn(o)))return[t-a,t+o]})):[]}var Vn=e=>{var t=Wn(e),n=pf(e);return mp(e,t,n)},gp=we([Vn],e=>e?.dataKey),Jye=we([rz,VA,Vn],Z9),cz=(e,t,n,r)=>{var i={},a=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[c,u]=o,f=r?[...u].reverse():u,m=f.map(iT);return[c,{stackedData:whe(e,m,n),graphicalItems:f}]}))},wk=we([Jye,rz,tx,H9],cz),uz=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=Ahe(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Qye=we([Ur],e=>e.allowDataOverflow),lT=e=>{var t;if(e==null||!("domain"in e))return _k;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=_s(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:_k},dz=we([Ur],lT),fz=we([dz,Qye],j9),ebe=we([wk,Rl,Kn,fz],uz,{memoizeOptions:{resultEqualityCheck:ax}}),cT=e=>e.errorBars,tbe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>lz(n,r)),Db=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),c=Math.max(...a);return[o,c]}},hz=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(c=>{n.forEach(u=>{var f,m,p=(f=r[u.id])===null||f===void 0?void 0:f.filter(T=>lz(i,T)),g=Tr(c,(m=t.dataKey)!==null&&m!==void 0?m:u.dataKey),v=Xye(c,g,p);if(v.length>=2){var w=Math.min(...v),_=Math.max(...v);(a==null||w<a)&&(a=w),(o==null||_>o)&&(o=_)}var S=QL(g);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),o=o==null?S[1]:Math.max(o,S[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var u=QL(Tr(c,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),xn(a)&&xn(o))return[a,o]},nbe=we([sT,Ur,Vye,cT,Kn],hz,{memoizeOptions:{resultEqualityCheck:ax}});function rbe(e){var{value:t}=e;if(Eo(t)||t instanceof Date)return t}var ibe=(e,t,n)=>{var r=e.map(rbe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&M7(r))?W6(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},mz=e=>e.referenceElements.dots,gf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),abe=we([mz,Kn,ix],gf),pz=e=>e.referenceElements.areas,obe=we([pz,Kn,ix],gf),gz=e=>e.referenceElements.lines,sbe=we([gz,Kn,ix],gf),yz=(e,t)=>{var n=_s(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},lbe=we(abe,Kn,yz),bz=(e,t)=>{var n=_s(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},cbe=we([obe,Kn],bz);function ube(e){var t;if(e.x!=null)return _s([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:_s(n)}function dbe(e){var t;if(e.y!=null)return _s([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:_s(n)}var vz=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?ube(r):dbe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},fbe=we([sbe,Kn],vz),hbe=we(lbe,fbe,cbe,(e,t,n)=>Db(e,n,t)),xz=(e,t,n,r,i,a,o,c)=>{if(n!=null)return n;var u=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",f=u?Db(r,a,i):Db(a,i);return Eye(t,f,e.allowDataOverflow)},mbe=we([Ur,dz,fz,ebe,nbe,hbe,Vt,Kn],xz,{memoizeOptions:{resultEqualityCheck:ax}}),pbe=[0,1],_z=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:u}=e,f=Ss(t,a);if(f&&c==null){var m;return W6(0,(m=n?.length)!==null&&m!==void 0?m:0)}return u==="category"?ibe(r,e,f):i==="expand"?pbe:o}},uT=we([Ur,Vt,sT,sx,tx,Kn,mbe],_z),wz=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(fA(a));return c in Jh?c:"point"}}},yp=we([Ur,Vt,Q9,JA,Kn],wz);function gbe(e){if(e!=null){if(e in Jh)return Jh[e]();var t="scale".concat(fA(e));if(t in Jh)return Jh[t]()}}function dT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=gbe(t);if(i!=null){var a=i.domain(n).range(r);return bhe(a),a}}}var Sz=(e,t,n)=>{var r=lT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Cl(e))return Pye(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Cl(e))return Dye(e,t.tickCount,t.allowDecimals)}},fT=we([uT,mp,yp],Sz),Ez=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Cl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(o,c)]}return t},ybe=we([Ur,uT,fT,Kn],Ez),bbe=we(sx,Ur,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(_s(e.map(c=>c.value))).sort((c,u)=>c-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),kz=we(bbe,Vt,Rye,xr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!xn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Nl(n,e*a),c=e*a/2;return c-o-(c-o)/a*o}return 0}),vbe=(e,t)=>{var n=Ts(e,t);return n==null||typeof n.padding!="string"?0:kz(e,"xAxis",t,n.padding)},xbe=(e,t)=>{var n=Os(e,t);return n==null||typeof n.padding!="string"?0:kz(e,"yAxis",t,n.padding)},_be=we(Ts,vbe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),wbe=we(Os,xbe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Sbe=we([xr,_be,Hv,Fv,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Ebe=we([xr,Vt,wbe,Hv,Fv,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),bp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Sbe(e,n,r);case"yAxis":return Ebe(e,n,r);case"zAxis":return(i=oT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return K9(e);case"radiusAxis":return W9(e,n);default:return}},Az=we([Ur,bp],nx),yf=we([Ur,yp,ybe,Az],dT);we([pp,cT,Kn],tbe);function Tz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var lx=(e,t)=>t,cx=(e,t,n)=>n,kbe=we(zv,lx,cx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Tz)),Abe=we(Uv,lx,cx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Tz)),Oz=(e,t)=>({width:e.width,height:t.height}),Tbe=(e,t)=>{var n=typeof t.width=="number"?t.width:sp;return{width:n,height:e.height}},Obe=we(xr,Ts,Oz),jbe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Nbe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Cbe=we(ks,xr,kbe,lx,cx,(e,t,n,r,i)=>{var a={},o;return n.forEach(c=>{var u=Oz(t,c);o==null&&(o=jbe(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),a}),Mbe=we(Es,xr,Abe,lx,cx,(e,t,n,r,i)=>{var a={},o;return n.forEach(c=>{var u=Tbe(t,c);o==null&&(o=Nbe(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),a}),Pbe=(e,t)=>{var n=Ts(e,t);if(n!=null)return Cbe(e,n.orientation,n.mirror)},Dbe=we([xr,Ts,Pbe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Rbe=(e,t)=>{var n=Os(e,t);if(n!=null)return Mbe(e,n.orientation,n.mirror)},Lbe=we([xr,Os,Rbe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Ibe=we(xr,Os,(e,t)=>{var n=typeof t.width=="number"?t.width:sp;return{width:n,height:e.height}}),jz=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,c=Ss(e,r),u=t.map(f=>f.value);if(o&&c&&a==="category"&&i&&M7(u))return u}},hT=we([Vt,sx,Ur,Kn],jz),Nz=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Ss(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},mT=we([Vt,sx,mp,Kn],Nz),eI=we([Vt,Kye,yp,yf,hT,mT,bp,fT,Kn],(e,t,n,r,i,a,o,c,u)=>{if(t!=null){var f=Ss(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:o,realScaleType:n,scale:r}}}),$be=(e,t,n,r,i,a,o,c,u)=>{if(!(t==null||r==null)){var f=Ss(e,u),{type:m,ticks:p,tickCount:g}=t,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/v:0;w=u==="angleAxis"&&a!=null&&a.length>=2?la(a[0]-a[1])*2*w:w;var _=p||i;if(_){var S=_.map((T,N)=>{var O=o?o.indexOf(T):T;return{index:N,coordinate:r(O)+w,value:T,offset:w}});return S.filter(T=>xn(T.coordinate))}return f&&c?c.map((T,N)=>({coordinate:r(T)+w,value:T,index:N,offset:w})).filter(T=>xn(T.coordinate)):r.ticks?r.ticks(g).map(T=>({coordinate:r(T)+w,value:T,offset:w})):r.domain().map((T,N)=>({coordinate:r(T)+w,value:o?o[T]:T,index:N,offset:w}))}},Cz=we([Vt,mp,yp,yf,fT,bp,hT,mT,Kn],$be),Bbe=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=Ss(e,o),{tickCount:u}=t,f=0;return f=o==="angleAxis"&&r?.length>=2?la(r[0]-r[1])*2*f:f,c&&a?a.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(u).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},Mz=we([Vt,mp,yf,bp,hT,mT,Kn],Bbe),Pz=we(Ur,yf,(e,t)=>{if(!(e==null||t==null))return Pb(Pb({},e),{},{scale:t})}),zbe=we([Ur,yp,uT,Az],dT);we((e,t,n)=>oT(e,n),zbe,(e,t)=>{if(!(e==null||t==null))return Pb(Pb({},e),{},{scale:t})});var Ube=we([Vt,zv,Uv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Dz=e=>e.options.defaultTooltipEventType,Rz=e=>e.options.validateTooltipEventTypes;function Lz(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function pT(e,t){var n=Dz(e),r=Rz(e);return Lz(t,n,r)}function Fbe(e){return Je(t=>pT(t,e))}var Iz=(e,t)=>{var n,r=Number(t);if(!(Ha(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Hbe=e=>e.tooltip.settings,wl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Gbe={itemInteraction:{click:wl,hover:wl},axisInteraction:{click:wl,hover:wl},keyboardInteraction:wl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$z=di({name:"tooltip",initialState:Gbe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:an()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ba(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:an()},removeTooltipEntrySettings:{reducer(e,t){var n=Ba(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:an()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:qbe,replaceTooltipEntrySettings:Ybe,removeTooltipEntrySettings:Kbe,setTooltipSettingsState:Wbe,setActiveMouseOverItemIndex:Vbe,mouseLeaveItem:nOe,mouseLeaveChart:Bz,setActiveClickItemIndex:rOe,setMouseOverAxisIndex:zz,setMouseClickAxisIndex:Zbe,setSyncInteraction:Sk,setKeyboardInteraction:Ek}=$z.actions,Xbe=$z.reducer;function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(r){Jbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jbe(e,t,n){return(t=Qbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qbe(e){var t=eve(e,"string");return typeof t=="symbol"?t:t+""}function eve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tve(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function nve(e){return e.index!=null}var Uz=(e,t,n,r)=>{if(t==null)return wl;var i=tve(e,t,n);if(i==null)return wl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(nve(i)){if(a)return Y0(Y0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Y0(Y0({},wl),{},{coordinate:i.coordinate})};function rve(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function ive(e,t){var n=rve(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function ave(e,t,n){if(n==null||t==null)return!0;var r=Tr(e,t);return r==null||!Cl(n)?!0:ive(r,n)}var gT=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!xn(a))return i;var o=0,c=1/0;t.length>0&&(c=t.length-1);var u=Math.max(o,Math.min(a,c)),f=t[u];return f==null||ave(f,n,r)?String(u):null},Fz=(e,t,n,r,i,a,o,c)=>{if(!(a==null||c==null)){var u=o[0],f=u==null?void 0:c(u.positions,a);if(f!=null)return f;var m=i?.[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:m.coordinate}}}},Hz=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},vp=e=>e.options.tooltipPayloadSearcher,bf=e=>e.tooltip;function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(r){ove(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ove(e,t,n){return(t=sve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sve(e){var t=lve(e,"string");return typeof t=="symbol"?t:t+""}function lve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cve(e,t){return e??t}var Gz=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:c,computedData:u,dataStartIndex:f,dataEndIndex:m}=n,p=[];return e.reduce((g,v)=>{var w,{dataDefinedOnItem:_,settings:S}=v,T=cve(_,c),N=Array.isArray(T)?x6(T,f,m):T,O=(w=S?.dataKey)!==null&&w!==void 0?w:r,P=S?.nameKey,M;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&o==="axis"?M=P7(N,r,i):M=a(N,t,u,P),Array.isArray(M))M.forEach($=>{var H=rI(rI({},S),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});g.push(AR({tooltipEntrySettings:H,dataKey:$.dataKey,payload:$.payload,value:Tr($.payload,$.dataKey),name:$.name}))});else{var D;g.push(AR({tooltipEntrySettings:S,dataKey:O,payload:M,value:Tr(M,O),name:(D=Tr(M,P))!==null&&D!==void 0?D:S?.name}))}return g},p)}},yT=we([Vn,Vt,Q9,JA,Wn],wz),uve=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),dve=we([Wn,pf],ez),xp=we([uve,Vn,dve],nz,{memoizeOptions:{resultEqualityCheck:ox}}),fve=we([xp],e=>e.filter(aT)),hve=we([xp],az,{memoizeOptions:{resultEqualityCheck:ox}}),vf=we([hve,Rl],oz),mve=we([fve,Rl,Vn],Z9),bT=we([vf,Vn,xp],sz),qz=we([Vn],lT),pve=we([Vn],e=>e.allowDataOverflow),Yz=we([qz,pve],j9),gve=we([xp],e=>e.filter(aT)),yve=we([mve,gve,tx,H9],cz),bve=we([yve,Rl,Wn,Yz],uz),vve=we([xp],iz),xve=we([vf,Vn,vve,cT,Wn],hz,{memoizeOptions:{resultEqualityCheck:ax}}),_ve=we([mz,Wn,pf],gf),wve=we([_ve,Wn],yz),Sve=we([pz,Wn,pf],gf),Eve=we([Sve,Wn],bz),kve=we([gz,Wn,pf],gf),Ave=we([kve,Wn],vz),Tve=we([wve,Ave,Eve],Db),Ove=we([Vn,qz,Yz,bve,xve,Tve,Vt,Wn],xz),_p=we([Vn,Vt,vf,bT,tx,Wn,Ove],_z),jve=we([_p,Vn,yT],Sz),Nve=we([Vn,_p,jve,Wn],Ez),Kz=e=>{var t=Wn(e),n=pf(e),r=!1;return bp(e,t,n,r)},Wz=we([Vn,Kz],nx),Vz=we([Vn,yT,Nve,Wz],dT),Cve=we([Vt,bT,Vn,Wn],jz),Mve=we([Vt,bT,Vn,Wn],Nz),Pve=(e,t,n,r,i,a,o,c)=>{if(t){var{type:u}=t,f=Ss(e,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?la(i[0]-i[1])*2*p:p,f&&o?o.map((g,v)=>({coordinate:r(g)+p,value:g,index:v,offset:p})):r.domain().map((g,v)=>({coordinate:r(g)+p,value:a?a[g]:g,index:v,offset:p}))}}},js=we([Vt,Vn,yT,Vz,Kz,Cve,Mve,Wn],Pve),vT=we([Dz,Rz,Hbe],(e,t,n)=>Lz(n.shared,e,t)),Zz=e=>e.tooltip.settings.trigger,xT=e=>e.tooltip.settings.defaultIndex,wp=we([bf,vT,Zz,xT],Uz),Im=we([wp,vf,gp,_p],gT),Xz=we([js,Im],Iz),Dve=we([wp],e=>{if(e)return e.dataKey});we([wp],e=>{if(e)return e.graphicalItemId});var Jz=we([bf,vT,Zz,xT],Hz),Rve=we([Es,ks,Vt,xr,js,xT,Jz,vp],Fz),Lve=we([wp,Rve],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Ive=we([wp],e=>e.active),$ve=we([Jz,Im,Rl,gp,Xz,vp,vT],Gz),Bve=we([$ve],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(r){zve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zve(e,t,n){return(t=Uve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uve(e){var t=Fve(e,"string");return typeof t=="symbol"?t:t+""}function Fve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hve=()=>Je(Vn),Gve=()=>{var e=Hve(),t=Je(js),n=Je(Vz);return hb(!e||!n?void 0:aI(aI({},e),{},{scale:n}),t)};function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(n),!0).forEach(function(r){qve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qve(e,t,n){return(t=Yve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yve(e){var t=Kve(e,"string");return typeof t=="symbol"?t:t+""}function Kve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wve=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Vve=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return od(od(od({},r),yr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var c=i.coordinate,{angle:u}=r;return od(od(od({},r),yr(r.cx,r.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Zve(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var Qz=(e,t,n,r,i)=>{var a,o=-1,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f=u>0?n[u-1].coordinate:n[c-1].coordinate,m=n[u].coordinate,p=u>=c-1?n[0].coordinate:n[u+1].coordinate,g=void 0;if(la(m-f)!==la(p-m)){var v=[];if(la(p-m)===la(i[1]-i[0])){g=p;var w=m+i[1]-i[0];v[0]=Math.min(w,(w+f)/2),v[1]=Math.max(w,(w+f)/2)}else{g=f;var _=p+i[1]-i[0];v[0]=Math.min(m,(_+m)/2),v[1]=Math.max(m,(_+m)/2)}var S=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(e>S[0]&&e<=S[1]||e>=v[0]&&e<=v[1]){({index:o}=n[u]);break}}else{var T=Math.min(f,p),N=Math.max(f,p);if(e>(T+m)/2&&e<=(N+m)/2){({index:o}=n[u]);break}}}else if(t){for(var O=0;O<c;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:o}=t[O]);break}}return o},e8=()=>Je(JA),_T=(e,t)=>t,t8=(e,t,n)=>n,wT=(e,t,n,r)=>r,Xve=we(js,e=>Cv(e,t=>t.coordinate)),ST=we([bf,_T,t8,wT],Uz),ET=we([ST,vf,gp,_p],gT),Jve=(e,t,n)=>{if(t!=null){var r=bf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},n8=we([bf,_T,t8,wT],Hz),Rb=we([Es,ks,Vt,xr,js,wT,n8,vp],Fz),Qve=we([ST,Rb],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),r8=we([js,ET],Iz),exe=we([n8,ET,Rl,gp,r8,vp,_T],Gz),txe=we([ST,ET],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),nxe=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&Zve(e,o)){var c=The(e,t),u=Qz(c,a,i,n,r),f=Wve(t,i,u,e);return{activeIndex:String(u),activeCoordinate:f}}},rxe=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var c=$pe(e,n);if(c){var u=Ohe(c,t),f=Qz(u,o,a,r,i),m=Vve(t,a,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},ixe=(e,t,n,r,i,a,o,c)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?nxe(e,t,r,i,a,o,c):rxe(e,t,n,r,i,a,o)},axe=we(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),oxe=we(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Ir)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Fye}});function sI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(n),!0).forEach(function(r){sxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sxe(e,t,n){return(t=lxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lxe(e){var t=cxe(e,"string");return typeof t=="symbol"?t:t+""}function cxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uxe={},dxe={zIndexMap:Object.values(Ir).reduce((e,t)=>lI(lI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),uxe)},fxe=new Set(Object.values(Ir));function hxe(e){return fxe.has(e)}var i8=di({name:"zIndex",initialState:dxe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:an()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!hxe(n)&&delete e.zIndexMap[n])},prepare:an()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:an()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:an()}}}),{registerZIndexPortal:mxe,unregisterZIndexPortal:pxe,registerZIndexPortalId:gxe,unregisterZIndexPortalId:yxe}=i8.actions,bxe=i8.reducer;function Ns(e){var{zIndex:t,children:n}=e,r=lme(),i=r&&t!==void 0&&t!==0,a=fi(),o=sr();E.useLayoutEffect(()=>i?(o(mxe({zIndex:t})),()=>{o(pxe({zIndex:t}))}):rp,[o,t,i]);var c=Je(f=>axe(f,t,a));if(!i)return n;if(!c)return null;var u=document.getElementById(c);return u?ef.createPortal(n,u):null}function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kk.apply(null,arguments)}function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(n),!0).forEach(function(r){vxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vxe(e,t,n){return(t=xxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xxe(e){var t=_xe(e,"string");return typeof t=="symbol"?t:t+""}function _xe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wxe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return E.isValidElement(t)?E.cloneElement(t,r):E.createElement(n,r)}function Sxe(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:f,chartName:m}=e,p=n,g=r,v=i;if(!u||!p||m!=="ScatterChart"&&f!=="axis")return null;var w,_,S;if(m==="ScatterChart")w=p,_=Zme,S=Ir.cursorLine;else if(m==="BarChart")w=Xme(c,p,a,o),_=Ope,S=Ir.cursorRectangle;else if(c==="radial"&&D7(p)){var{cx:T,cy:N,radius:O,startAngle:P,endAngle:M}=Y6(p);w={cx:T,cy:N,startAngle:P,endAngle:M,innerRadius:O,outerRadius:O},_=Fpe,S=Ir.cursorLine}else w={points:Hpe(c,p,a)},_=py,S=Ir.cursorLine;var D=typeof u=="object"&&"className"in u?u.className:void 0,$=K0(K0(K0(K0({stroke:"#ccc",pointerEvents:"none"},a),w),Tv(u)),{},{payload:g,payloadIndex:v,className:Qt("recharts-tooltip-cursor",D)});return E.createElement(Ns,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},E.createElement(wxe,{cursor:u,cursorComp:_,cursorProps:$}))}function Exe(e){var t=Gve(),n=N6(),r=lp(),i=e8();return t==null||n==null||r==null||i==null?null:E.createElement(Sxe,kk({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var a8=E.createContext(null),kxe=()=>E.useContext(a8),wS={exports:{}},uI;function Axe(){return uI||(uI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,m){this.fn=u,this.context=f,this.once=m||!1}function a(u,f,m,p,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new i(m,p||u,g),w=n?n+f:f;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],v]:u._events[w].push(v):(u._events[w]=v,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,w=new Array(v);g<v;g++)w[g]=p[g].fn;return w},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,g,v,w){var _=n?n+f:f;if(!this._events[_])return!1;var S=this._events[_],T=arguments.length,N,O;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),T){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,p),!0;case 4:return S.fn.call(S.context,m,p,g),!0;case 5:return S.fn.call(S.context,m,p,g,v),!0;case 6:return S.fn.call(S.context,m,p,g,v,w),!0}for(O=1,N=new Array(T-1);O<T;O++)N[O-1]=arguments[O];S.fn.apply(S.context,N)}else{var P=S.length,M;for(O=0;O<P;O++)switch(S[O].once&&this.removeListener(f,S[O].fn,void 0,!0),T){case 1:S[O].fn.call(S[O].context);break;case 2:S[O].fn.call(S[O].context,m);break;case 3:S[O].fn.call(S[O].context,m,p);break;case 4:S[O].fn.call(S[O].context,m,p,g);break;default:if(!N)for(M=1,N=new Array(T-1);M<T;M++)N[M-1]=arguments[M];S[O].fn.apply(S[O].context,N)}}return!0},c.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,g){var v=n?n+f:f;if(!this._events[v])return this;if(!m)return o(this,v),this;var w=this._events[v];if(w.fn)w.fn===m&&(!g||w.once)&&(!p||w.context===p)&&o(this,v);else{for(var _=0,S=[],T=w.length;_<T;_++)(w[_].fn!==m||g&&!w[_].once||p&&w[_].context!==p)&&S.push(w[_]);S.length?this._events[v]=S.length===1?S[0]:S:o(this,v)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(wS)),wS.exports}var Txe=Axe();const Oxe=ui(Txe);var $m=new Oxe,Ak="recharts.syncEvent.tooltip",dI="recharts.syncEvent.brush";function jxe(e,t){if(t){var n=Number.parseInt(t,10);if(!Ha(n))return e?.[n]}}var Nxe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},o8=di({name:"options",initialState:Nxe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Cxe=o8.reducer,{createEventEmitter:Mxe}=o8.actions;function Pxe(e){return e.tooltip.syncInteraction}var Dxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},s8=di({name:"chartData",initialState:Dxe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:fI,setDataStartEndIndexes:Rxe,setComputedData:iOe}=s8.actions,Lxe=s8.reducer,Ixe=["x","y"];function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(r){$xe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $xe(e,t,n){return(t=Bxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bxe(e){var t=zxe(e,"string");return typeof t=="symbol"?t:t+""}function zxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uxe(e,t){if(e==null)return{};var n,r,i=Fxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hxe(){var e=Je(QA),t=Je(eT),n=sr(),r=Je(G9),i=Je(js),a=lp(),o=Gv(),c=Je(u=>u.rootProps.className);E.useEffect(()=>{if(e==null)return rp;var u=(f,m,p)=>{if(t!==p&&e===f){if(r==="index"){var g;if(o&&m!==null&&m!==void 0&&(g=m.payload)!==null&&g!==void 0&&g.coordinate&&m.payload.sourceViewBox){var v=m.payload.coordinate,{x:w,y:_}=v,S=Uxe(v,Ixe),{x:T,y:N,width:O,height:P}=m.payload.sourceViewBox,M=sd(sd({},S),{},{x:o.x+(O?(w-T)/O:0)*o.width,y:o.y+(P?(_-N)/P:0)*o.height});n(sd(sd({},m),{},{payload:sd(sd({},m.payload),{},{coordinate:M})}))}else n(m);return}if(i!=null){var D;if(typeof r=="function"){var $={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},H=r(i,$);D=i[H]}else r==="value"&&(D=i.find(Y=>String(Y.value)===m.payload.label));var{coordinate:q}=m.payload;if(D==null||m.payload.active===!1||q==null||o==null){n(Sk({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:F}=q,z=Math.min(K,o.x+o.width),Z=Math.min(F,o.y+o.height),Q={x:a==="horizontal"?D.coordinate:z,y:a==="horizontal"?Z:D.coordinate},J=Sk({active:m.payload.active,coordinate:Q,dataKey:m.payload.dataKey,index:String(D.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(J)}}};return $m.on(Ak,u),()=>{$m.off(Ak,u)}},[c,n,t,e,r,i,a,o])}function Gxe(){var e=Je(QA),t=Je(eT),n=sr();E.useEffect(()=>{if(e==null)return rp;var r=(i,a,o)=>{t!==o&&e===i&&n(Rxe(a))};return $m.on(dI,r),()=>{$m.off(dI,r)}},[n,t,e])}function qxe(){var e=sr();E.useEffect(()=>{e(Mxe())},[e]),Hxe(),Gxe()}function Yxe(e,t,n,r,i,a){var o=Je(v=>Jve(v,e,t)),c=Je(eT),u=Je(QA),f=Je(G9),m=Je(Pxe),p=m?.active,g=Gv();E.useEffect(()=>{if(!p&&u!=null&&c!=null){var v=Sk({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});$m.emit(Ak,u,v,c)}},[p,n,o,i,r,c,u,f,a,g])}function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(r){Kxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kxe(e,t,n){return(t=Wxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wxe(e){var t=Vxe(e,"string");return typeof t=="symbol"?t:t+""}function Vxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zxe(e){return e.dataKey}function Xxe(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(jme,t)}var gI=[],Jxe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Qxe(e){var t,n,r=Hi(e,Jxe),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:c,content:u,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:g,position:v,reverseDirection:w,useTranslate3d:_,wrapperStyle:S,cursor:T,shared:N,trigger:O,defaultIndex:P,portal:M,axisId:D}=r,$=sr(),H=typeof P=="number"?String(P):P;E.useEffect(()=>{$(Wbe({shared:N,trigger:O,axisId:D,active:i,defaultIndex:H}))},[$,N,O,D,i,H]);var q=Gv(),K=z6(),F=Fbe(N),{activeIndex:z,isActive:Z}=(t=Je(pe=>txe(pe,F,O,H)))!==null&&t!==void 0?t:{},Q=Je(pe=>exe(pe,F,O,H)),J=Je(pe=>r8(pe,F,O,H)),Y=Je(pe=>Qve(pe,F,O,H)),X=Q,re=kxe(),ue=(n=i??Z)!==null&&n!==void 0?n:!1,[se,B]=yfe([X,ue]),W=F==="axis"?J:void 0;Yxe(F,O,Y,W,z,ue);var ae=M??re;if(ae==null||q==null||F==null)return null;var V=X??gI;ue||(V=gI),f&&V.length&&(V=Hde(V.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),g,Zxe));var oe=V.length>0,me=E.createElement(Lme,{allowEscapeViewBox:a,animationDuration:o,animationEasing:c,isAnimationActive:m,active:ue,coordinate:Y,hasPayload:oe,offset:p,position:v,reverseDirection:w,useTranslate3d:_,viewBox:q,wrapperStyle:S,lastBoundingBox:se,innerRef:B,hasPortalFromProps:!!M},Xxe(u,pI(pI({},r),{},{payload:V,label:W,active:ue,activeIndex:z,coordinate:Y,accessibilityLayer:K})));return E.createElement(E.Fragment,null,ef.createPortal(me,ae),ue&&E.createElement(Exe,{cursor:T,tooltipEventType:F,coordinate:Y,payload:V,index:z}))}function e_e(e,t,n){return(t=t_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t_e(e){var t=n_e(e,"string");return typeof t=="symbol"?t:t+""}function n_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class r_e{constructor(t){e_e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function yI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(n),!0).forEach(function(r){a_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a_e(e,t,n){return(t=o_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o_e(e){var t=s_e(e,"string");return typeof t=="symbol"?t:t+""}function s_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l_e={cacheSize:2e3,enableCache:!0},l8=i_e({},l_e),bI=new r_e(l8.cacheSize),c_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vI="recharts_measurement_span";function u_e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(c)}var xI=(e,t)=>{try{var n=document.getElementById(vI);n||(n=document.createElement("span"),n.setAttribute("id",vI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,c_e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},lm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||df.isSsr)return{width:0,height:0};if(!l8.enableCache)return xI(t,n);var r=u_e(t,n),i=bI.get(r);if(i)return i;var a=xI(t,n);return bI.set(r,a),a},_I=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,d_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,f_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,c8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},h_e=Object.keys(c8),_d="NaN";function m_e(e,t){return e*c8[t]}class ni{static parse(t){var n,[,r,i]=(n=f_e.exec(t))!==null&&n!==void 0?n:[];return new ni(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ha(t)&&(this.unit=""),n!==""&&!d_e.test(n)&&(this.num=NaN,this.unit=""),h_e.includes(n)&&(this.num=m_e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ni(NaN,""):new ni(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ni(NaN,""):new ni(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ni(NaN,""):new ni(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ni(NaN,""):new ni(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ha(this.num)}}function u8(e){if(e.includes(_d))return _d;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=_I.exec(t))!==null&&n!==void 0?n:[],o=ni.parse(r??""),c=ni.parse(a??""),u=i==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return _d;t=t.replace(_I,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,p,g]=(f=wI.exec(t))!==null&&f!==void 0?f:[],v=ni.parse(m??""),w=ni.parse(g??""),_=p==="+"?v.add(w):v.subtract(w);if(_.isNaN())return _d;t=t.replace(wI,_.toString())}return t}var SI=/\(([^()]*)\)/;function p_e(e){for(var t=e,n;(n=SI.exec(t))!=null;){var[,r]=n;t=t.replace(SI,u8(r))}return t}function g_e(e){var t=e.replace(/\s+/g,"");return t=p_e(t),t=u8(t),t}function y_e(e){try{return g_e(e)}catch{return _d}}function SS(e){var t=y_e(e.slice(5,-1));return t===_d?"":t}var b_e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],v_e=["dx","dy","angle","className","breakAll"];function Tk(){return Tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tk.apply(null,arguments)}function EI(e,t){if(e==null)return{};var n,r,i=x_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var d8=/[ \f\n\r\t\v\u2028\u2029]+/,f8=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];br(t)||(n?i=t.toString().split(""):i=t.toString().split(d8));var a=i.map(c=>({word:c,width:lm(c,r).width})),o=n?0:lm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function __e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var h8=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:c}=a,u=i[i.length-1];if(u&&c!=null&&(t==null||r||u.width+c+n<Number(t)))u.words.push(o),u.width+=c+n;else{var f={words:[o],width:c};i.push(f)}return i},[]),m8=e=>e.reduce((t,n)=>t.width>n.width?t:n),w_e="",kI=(e,t,n,r,i,a,o,c)=>{var u=e.slice(0,t),f=f8({breakAll:n,style:r,children:u+w_e});if(!f)return[!1,[]];var m=h8(f.wordsWithComputedWidth,a,o,c),p=m.length>i||m8(m).width>Number(a);return[p,m]},S_e=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:c,breakAll:u}=e,f=We(a),m=String(o),p=h8(t,r,n,i);if(!f||i)return p;var g=p.length>a||m8(p).width>Number(r);if(!g)return p;for(var v=0,w=m.length-1,_=0,S;v<=w&&_<=m.length-1;){var T=Math.floor((v+w)/2),N=T-1,[O,P]=kI(m,N,u,c,a,r,n,i),[M]=kI(m,T,u,c,a,r,n,i);if(!O&&!M&&(v=T+1),O&&M&&(w=T-1),!O&&M){S=P;break}_++}return S||p},AI=e=>{var t=br(e)?[]:e.toString().split(d8);return[{words:t,width:void 0}]},E_e=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!df.isSsr){var c,u,f=f8({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,u=p}else return AI(r);return S_e({breakAll:a,children:r,maxLines:o,style:i},c,u,t,!!n)}return AI(r)},p8="#808080",k_e={angle:0,breakAll:!1,capHeight:"0.71em",fill:p8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},kT=E.forwardRef((e,t)=>{var n=Hi(e,k_e),{x:r,y:i,lineHeight:a,capHeight:o,fill:c,scaleToFit:u,textAnchor:f,verticalAnchor:m}=n,p=EI(n,b_e),g=E.useMemo(()=>E_e({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:w,angle:_,className:S,breakAll:T}=p,N=EI(p,v_e);if(!Eo(r)||!Eo(i)||g.length===0)return null;var O=Number(r)+(We(v)?v:0),P=Number(i)+(We(w)?w:0);if(!xn(O)||!xn(P))return null;var M;switch(m){case"start":M=SS("calc(".concat(o,")"));break;case"middle":M=SS("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:M=SS("calc(".concat(g.length-1," * -").concat(a,")"));break}var D=[];if(u){var $=g[0].width,{width:H}=p;D.push("scale(".concat(We(H)&&We($)?H/$:1,")"))}return _&&D.push("rotate(".concat(_,", ").concat(O,", ").concat(P,")")),D.length&&(N.transform=D.join(" ")),E.createElement("text",Tk({},ha(N),{ref:t,x:O,y:P,className:Qt("recharts-text",S),textAnchor:f,fill:c.includes("url")?p8:c}),g.map((q,K)=>{var F=q.words.join(T?"":" ");return E.createElement("tspan",{x:O,dy:K===0?M:a,key:"".concat(F,"-").concat(K)},F)}))});kT.displayName="Text";var A_e=["labelRef"];function T_e(e,t){if(e==null)return{};var n,r,i=O_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(n),!0).forEach(function(r){j_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j_e(e,t,n){return(t=N_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N_e(e){var t=C_e(e,"string");return typeof t=="symbol"?t:t+""}function C_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},os.apply(null,arguments)}var g8=E.createContext(null),M_e=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:c}=e,u=E.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return E.createElement(g8.Provider,{value:u},c)},y8=()=>{var e=E.useContext(g8),t=Gv();return e||j6(t)},P_e=E.createContext(null),D_e=()=>{var e=E.useContext(P_e),t=Je(V9);return e||t},R_e=e=>{var{value:t,formatter:n}=e,r=br(e.children)?t:e.children;return typeof n=="function"?n(r):r},AT=e=>e!=null&&typeof e=="function",L_e=(e,t)=>{var n=la(t-e),r=Math.min(Math.abs(t-e),360);return n*r},I_e=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:c,cy:u,innerRadius:f,outerRadius:m,startAngle:p,endAngle:g,clockWise:v}=i,w=(f+m)/2,_=L_e(p,g),S=_>=0?1:-1,T,N;switch(t){case"insideStart":T=p+S*a,N=v;break;case"insideEnd":T=g-S*a,N=!v;break;case"end":T=g+S*a,N=v;break;default:throw new Error("Unsupported position ".concat(t))}N=_<=0?N:!N;var O=yr(c,u,w,T),P=yr(c,u,w,T+(N?1:-1)*359),M="M".concat(O.x,",").concat(O.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),D=br(e.id)?Em("recharts-radial-line-"):e.id;return E.createElement("text",os({},r,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",o)}),E.createElement("defs",null,E.createElement("path",{id:D,d:M})),E.createElement("textPath",{xlinkHref:"#".concat(D)},n))},$_e=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:u}=e,f=(c+u)/2;if(n==="outside"){var{x:m,y:p}=yr(r,i,o+t,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+o)/2,{x:v,y:w}=yr(r,i,g,f);return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Ok=e=>"cx"in e&&We(e.cx),B_e=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Ok(n)&&(a=n);var{x:o,y:c,upperWidth:u,lowerWidth:f,height:m}=t,p=o,g=o+(u-f)/2,v=(p+g)/2,w=(u+f)/2,_=p+u/2,S=m>=0?1:-1,T=S*r,N=S>0?"end":"start",O=S>0?"start":"end",P=u>=0?1:-1,M=P*r,D=P>0?"end":"start",$=P>0?"start":"end";if(i==="top"){var H={x:p+u/2,y:c-T,textAnchor:"middle",verticalAnchor:N};return En(En({},H),a?{height:Math.max(c-a.y,0),width:u}:{})}if(i==="bottom"){var q={x:g+f/2,y:c+m+T,textAnchor:"middle",verticalAnchor:O};return En(En({},q),a?{height:Math.max(a.y+a.height-(c+m),0),width:f}:{})}if(i==="left"){var K={x:v-M,y:c+m/2,textAnchor:D,verticalAnchor:"middle"};return En(En({},K),a?{width:Math.max(K.x-a.x,0),height:m}:{})}if(i==="right"){var F={x:v+w+M,y:c+m/2,textAnchor:$,verticalAnchor:"middle"};return En(En({},F),a?{width:Math.max(a.x+a.width-F.x,0),height:m}:{})}var z=a?{width:w,height:m}:{};return i==="insideLeft"?En({x:v+M,y:c+m/2,textAnchor:$,verticalAnchor:"middle"},z):i==="insideRight"?En({x:v+w-M,y:c+m/2,textAnchor:D,verticalAnchor:"middle"},z):i==="insideTop"?En({x:p+u/2,y:c+T,textAnchor:"middle",verticalAnchor:O},z):i==="insideBottom"?En({x:g+f/2,y:c+m-T,textAnchor:"middle",verticalAnchor:N},z):i==="insideTopLeft"?En({x:p+M,y:c+T,textAnchor:$,verticalAnchor:O},z):i==="insideTopRight"?En({x:p+u-M,y:c+T,textAnchor:D,verticalAnchor:O},z):i==="insideBottomLeft"?En({x:g+M,y:c+m-T,textAnchor:$,verticalAnchor:N},z):i==="insideBottomRight"?En({x:g+f-M,y:c+m-T,textAnchor:D,verticalAnchor:N},z):i&&typeof i=="object"&&(We(i.x)||gs(i.x))&&(We(i.y)||gs(i.y))?En({x:o+Nl(i.x,w),y:c+Nl(i.y,m),textAnchor:"end",verticalAnchor:"end"},z):En({x:_,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},z)},z_e={angle:0,offset:5,zIndex:Ir.label,position:"middle",textBreakAll:!1};function yl(e){var t=Hi(e,z_e),{viewBox:n,position:r,value:i,children:a,content:o,className:c="",textBreakAll:u,labelRef:f}=t,m=D_e(),p=y8(),g=r==="center"?p:m??p,v,w,_;if(n==null?v=g:Ok(n)?v=n:v=j6(n),!v||br(i)&&br(a)&&!E.isValidElement(o)&&typeof o!="function")return null;var S=En(En({},t),{},{viewBox:v});if(E.isValidElement(o)){var{labelRef:T}=S,N=T_e(S,A_e);return E.cloneElement(o,N)}if(typeof o=="function"){if(w=E.createElement(o,S),E.isValidElement(w))return w}else w=R_e(t);var O=ha(t);if(Ok(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return I_e(t,r,w,O,v);_=$_e(v,t.offset,t.position)}else _=B_e(t,v);return E.createElement(Ns,{zIndex:t.zIndex},E.createElement(kT,os({ref:f,className:Qt("recharts-label",c)},O,_,{textAnchor:__e(O.textAnchor)?O.textAnchor:_.textAnchor,breakAll:u}),w))}yl.displayName="Label";var U_e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?E.createElement(yl,os({key:"label-implicit"},r)):Eo(e)?E.createElement(yl,os({key:"label-implicit",value:e},r)):E.isValidElement(e)?e.type===yl?E.cloneElement(e,En({key:"label-implicit"},r)):E.createElement(yl,os({key:"label-implicit",content:e},r)):AT(e)?E.createElement(yl,os({key:"label-implicit",content:e},r)):e&&typeof e=="object"?E.createElement(yl,os({},e,{key:"label-implicit"},r)):null};function F_e(e){var{label:t,labelRef:n}=e,r=y8();return U_e(t,r,n)||null}var ES={},kS={},OI;function H_e(){return OI||(OI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(kS)),kS}var AS={},jI;function G_e(){return jI||(jI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(AS)),AS}var NI;function q_e(){return NI||(NI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H_e(),n=G_e(),r=mA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(ES)),ES}var TS,CI;function Y_e(){return CI||(CI=1,TS=q_e().last),TS}var K_e=Y_e();const W_e=ui(K_e);var V_e=["valueAccessor"],Z_e=["dataKey","clockWise","id","textBreakAll","zIndex"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lb.apply(null,arguments)}function MI(e,t){if(e==null)return{};var n,r,i=X_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var J_e=e=>Array.isArray(e.value)?W_e(e.value):e.value,b8=E.createContext(void 0),Q_e=b8.Provider,v8=E.createContext(void 0);v8.Provider;function ewe(){return E.useContext(b8)}function twe(){return E.useContext(v8)}function yy(e){var{valueAccessor:t=J_e}=e,n=MI(e,V_e),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:c}=n,u=MI(n,Z_e),f=ewe(),m=twe(),p=f||m;return!p||!p.length?null:E.createElement(Ns,{zIndex:c??Ir.label},E.createElement(So,{className:"recharts-label-list"},p.map((g,v)=>{var w,_=br(r)?t(g,v):Tr(g&&g.payload,r),S=br(a)?{}:{id:"".concat(a,"-").concat(v)};return E.createElement(yl,Lb({key:"label-".concat(v)},ha(g),u,S,{fill:(w=n.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:_,textBreakAll:o,viewBox:g.viewBox,index:v,zIndex:0}))})))}yy.displayName="LabelList";function nwe(e){var{label:t}=e;return t?t===!0?E.createElement(yy,{key:"labelList-implicit"}):E.isValidElement(t)||AT(t)?E.createElement(yy,{key:"labelList-implicit",content:t}):typeof t=="object"?E.createElement(yy,Lb({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jk.apply(null,arguments)}var x8=e=>{var{cx:t,cy:n,r,className:i}=e,a=Qt("recharts-dot",i);return We(t)&&We(n)&&We(r)?E.createElement("circle",jk({},Fa(e),hA(e),{className:a,cx:t,cy:n,r})):null},rwe={radiusAxis:{},angleAxis:{}},_8=di({name:"polarAxis",initialState:rwe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:aOe,removeRadiusAxis:oOe,addAngleAxis:sOe,removeAngleAxis:lOe}=_8.actions,iwe=_8.reducer,OS={exports:{}},Ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PI;function awe(){if(PI)return Ct;PI=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,N=e?Symbol.for("react.scope"):60119;function O(M){if(typeof M=="object"&&M!==null){var D=M.$$typeof;switch(D){case t:switch(M=M.type,M){case u:case f:case r:case a:case i:case p:return M;default:switch(M=M&&M.$$typeof,M){case c:case m:case w:case v:case o:return M;default:return D}}case n:return D}}}function P(M){return O(M)===f}return Ct.AsyncMode=u,Ct.ConcurrentMode=f,Ct.ContextConsumer=c,Ct.ContextProvider=o,Ct.Element=t,Ct.ForwardRef=m,Ct.Fragment=r,Ct.Lazy=w,Ct.Memo=v,Ct.Portal=n,Ct.Profiler=a,Ct.StrictMode=i,Ct.Suspense=p,Ct.isAsyncMode=function(M){return P(M)||O(M)===u},Ct.isConcurrentMode=P,Ct.isContextConsumer=function(M){return O(M)===c},Ct.isContextProvider=function(M){return O(M)===o},Ct.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},Ct.isForwardRef=function(M){return O(M)===m},Ct.isFragment=function(M){return O(M)===r},Ct.isLazy=function(M){return O(M)===w},Ct.isMemo=function(M){return O(M)===v},Ct.isPortal=function(M){return O(M)===n},Ct.isProfiler=function(M){return O(M)===a},Ct.isStrictMode=function(M){return O(M)===i},Ct.isSuspense=function(M){return O(M)===p},Ct.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===f||M===a||M===i||M===p||M===g||typeof M=="object"&&M!==null&&(M.$$typeof===w||M.$$typeof===v||M.$$typeof===o||M.$$typeof===c||M.$$typeof===m||M.$$typeof===S||M.$$typeof===T||M.$$typeof===N||M.$$typeof===_)},Ct.typeOf=O,Ct}var DI;function owe(){return DI||(DI=1,OS.exports=awe()),OS.exports}owe();var w8=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function swe(e){var{tooltipEntrySettings:t}=e,n=sr(),r=fi(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(qbe(t)):i.current!==t&&n(Ybe({prev:i.current,next:t})),i.current=t)},[t,n,r]),E.useLayoutEffect(()=>()=>{i.current&&(n(Kbe(i.current)),i.current=null)},[n]),null}function lwe(e){var{legendPayload:t}=e,n=sr(),r=fi(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(_me(t)):i.current!==t&&n(wme({prev:i.current,next:t})),i.current=t)},[n,r,t]),E.useLayoutEffect(()=>()=>{i.current&&(n(Sme(i.current)),i.current=null)},[n]),null}var jS,cwe=()=>{var[e]=E.useState(()=>Em("uid-"));return e},uwe=(jS=qF.useId)!==null&&jS!==void 0?jS:cwe;function S8(e,t){var n=uwe();return t||(e?"".concat(e,"-").concat(n):n)}var dwe=E.createContext(void 0),fwe=e=>{var{id:t,type:n,children:r}=e,i=S8("recharts-".concat(n),t);return E.createElement(dwe.Provider,{value:i},r(i))},hwe={cartesianItems:[],polarItems:[]},E8=di({name:"graphicalItems",initialState:hwe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:an()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ba(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:an()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ba(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:an()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:an()},removePolarGraphicalItem:{reducer(e,t){var n=Ba(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:an()}}}),{addCartesianGraphicalItem:mwe,replaceCartesianGraphicalItem:pwe,removeCartesianGraphicalItem:gwe,addPolarGraphicalItem:cOe,removePolarGraphicalItem:uOe}=E8.actions,ywe=E8.reducer,bwe=e=>{var t=sr(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?t(mwe(e)):n.current!==e&&t(pwe({prev:n.current,next:e})),n.current=e},[t,e]),E.useLayoutEffect(()=>()=>{n.current&&(t(gwe(n.current)),n.current=null)},[t]),null},vwe=E.memo(bwe),xwe=["points"];function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){_we(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _we(e,t,n){return(t=wwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wwe(e){var t=Swe(e,"string");return typeof t=="symbol"?t:t+""}function Swe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ib.apply(null,arguments)}function Ewe(e,t){if(e==null)return{};var n,r,i=kwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Awe(e){var{option:t,dotProps:n,className:r}=e;if(E.isValidElement(t))return E.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Qt(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,c=Ewe(a,xwe);return E.createElement(x8,Ib({},c,{className:i}))}function Twe(e,t){return e==null?!1:t?!0:e.length===1}function Owe(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:c,clipPathId:u,zIndex:f=Ir.scatter}=e;if(!Twe(t,n))return null;var m=w8(n),p=Iue(n),g=t.map((w,_)=>{var S,T,N=NS(NS(NS({r:3},o),p),{},{index:_,cx:(S=w.x)!==null&&S!==void 0?S:void 0,cy:(T=w.y)!==null&&T!==void 0?T:void 0,dataKey:a,value:w.value,payload:w.payload,points:t});return E.createElement(Awe,{key:"dot-".concat(_),option:n,dotProps:N,className:i})}),v={};return c&&u!=null&&(v.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(u,")")),E.createElement(Ns,{zIndex:f},E.createElement(So,Ib({className:r},v),g))}function LI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function II(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(n),!0).forEach(function(r){jwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jwe(e,t,n){return(t=Nwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nwe(e){var t=Cwe(e,"string");return typeof t=="symbol"?t:t+""}function Cwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mwe={xAxis:{},yAxis:{},zAxis:{}},k8=di({name:"cartesianAxis",initialState:Mwe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:an()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:an()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:an()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:an()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:an()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:an()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:an()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:an()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:an()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=II(II({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:Pwe,replaceXAxis:Dwe,removeXAxis:Rwe,addYAxis:Lwe,replaceYAxis:Iwe,removeYAxis:$we,addZAxis:dOe,replaceZAxis:fOe,removeZAxis:hOe,updateYAxisWidth:Bwe}=k8.actions,zwe=k8.reducer,Uwe=we([xr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Fwe=we([Uwe,Es,ks],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),TT=()=>Je(Fwe),Hwe=()=>Je(Bve);function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(n),!0).forEach(function(r){Gwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gwe(e,t,n){return(t=qwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qwe(e){var t=Ywe(e,"string");return typeof t=="symbol"?t:t+""}function Ywe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kwe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var c={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=CS(CS(CS({},c),Tv(i)),hA(i)),f;return E.isValidElement(i)?f=E.cloneElement(i,u):typeof i=="function"?f=i(u):f=E.createElement(x8,u),E.createElement(So,{className:"recharts-active-dot",clipPath:o},f)};function BI(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Ir.activeDot}=e,c=Je(Im),u=Hwe();if(t==null||u==null)return null;var f=t.find(m=>u.includes(m.payload));return br(f)?null:E.createElement(Ns,{zIndex:o},E.createElement(Kwe,{point:f,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Wwe={},A8=di({name:"errorBars",initialState:Wwe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:mOe,replaceErrorBar:pOe,removeErrorBar:gOe}=A8.actions,Vwe=A8.reducer;function T8(e,t){var n,r,i=Je(f=>Ts(f,e)),a=Je(f=>Os(f,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:tr.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:nr.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function Zwe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=TT(),{needClipX:a,needClipY:o,needClip:c}=T8(t,n);if(!c||!i)return null;var{x:u,y:f,width:m,height:p}=i;return E.createElement("clipPath",{id:"clipPath-".concat(r)},E.createElement("rect",{x:a?u:u-m/2,y:o?f:f-p/2,width:a?m:m*2,height:o?p:p*2}))}var Xwe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Jwe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function OT(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Xwe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!cy(e[r],t[r]))return!1}else if(!Jwe(e[r],t[r]))return!1;return!0}var Qwe=e=>{var{chartData:t}=e,n=sr(),r=fi();return E.useEffect(()=>r?()=>{}:(n(fI(t)),()=>{n(fI(void 0))}),[t,n,r]),null},zI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},O8=di({name:"brush",initialState:zI,reducers:{setBrushSettings(e,t){return t.payload==null?zI:t.payload}}}),{setBrushSettings:yOe}=O8.actions,e1e=O8.reducer;function t1e(e,t,n){return(t=n1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n1e(e){var t=r1e(e,"string");return typeof t=="symbol"?t:t+""}function r1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jT{static create(t){return new jT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}t1e(jT,"EPS",1e-4);function i1e(e){return(e%180+180)%180}var a1e=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=i1e(i),o=a*Math.PI/180,c=Math.atan(r/n),u=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},o1e={dots:[],areas:[],lines:[]},j8=di({name:"referenceElements",initialState:o1e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ba(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ba(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ba(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:bOe,removeDot:vOe,addArea:xOe,removeArea:_Oe,addLine:wOe,removeLine:SOe}=j8.actions,s1e=j8.reducer,l1e=E.createContext(void 0),c1e=e=>{var{children:t}=e,[n]=E.useState("".concat(Em("recharts"),"-clip")),r=TT();if(r==null)return null;var{x:i,y:a,width:o,height:c}=r;return E.createElement(l1e.Provider,{value:n},E.createElement("defs",null,E.createElement("clipPath",{id:n},E.createElement("rect",{x:i,y:a,height:c,width:o}))),t)};function N8(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function u1e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return a1e(r,n)}function d1e(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:c}=e;return t===1?{start:r?i:a,end:r?i+o:a+c}:{start:r?i+o:a+c,end:r?i:a}}function $b(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function f1e(e,t){return N8(e,t+1)}function h1e(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:c}=t,u=0,f=1,m=o,p=function(){var w=r?.[u];if(w===void 0)return{v:N8(r,f)};var _=u,S,T=()=>(S===void 0&&(S=n(w,_)),S),N=w.coordinate,O=u===0||$b(e,N,T,m,c);O||(u=0,m=o,f+=1),O&&(m=N+e*(T()/2+i),u+=f)},g;f<=a.length;)if(g=p(),g)return g.v;return[]}function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(n),!0).forEach(function(r){m1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m1e(e,t,n){return(t=p1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p1e(e){var t=g1e(e,"string");return typeof t=="symbol"?t:t+""}function g1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y1e(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:c}=t,{end:u}=t,f=function(g){var v=a[g],w,_=()=>(w===void 0&&(w=n(v,g)),w);if(g===o-1){var S=e*(v.coordinate+e*_()/2-u);a[g]=v=kr(kr({},v),{},{tickCoord:S>0?v.coordinate-S*e:v.coordinate})}else a[g]=v=kr(kr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var T=$b(e,v.tickCoord,_,c,u);T&&(u=v.tickCoord-e*(_()/2+i),a[g]=kr(kr({},v),{},{isShow:!0}))}},m=o-1;m>=0;m--)f(m);return a}function b1e(e,t,n,r,i,a){var o=(r||[]).slice(),c=o.length,{start:u,end:f}=t;if(a){var m=r[c-1],p=n(m,c-1),g=e*(m.coordinate+e*p/2-f);if(o[c-1]=m=kr(kr({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate}),m.tickCoord!=null){var v=$b(e,m.tickCoord,()=>p,u,f);v&&(f=m.tickCoord-e*(p/2+i),o[c-1]=kr(kr({},m),{},{isShow:!0}))}}for(var w=a?c-1:c,_=function(N){var O=o[N],P,M=()=>(P===void 0&&(P=n(O,N)),P);if(N===0){var D=e*(O.coordinate-e*M()/2-u);o[N]=O=kr(kr({},O),{},{tickCoord:D<0?O.coordinate-D*e:O.coordinate})}else o[N]=O=kr(kr({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var $=$b(e,O.tickCoord,M,u,f);$&&(u=O.tickCoord+e*(M()/2+i),o[N]=kr(kr({},O),{},{isShow:!0}))}},S=0;S<w;S++)_(S);return o}function NT(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:c,interval:u,tickFormatter:f,unit:m,angle:p}=e;if(!i||!i.length||!r)return[];if(We(u)||df.isSsr){var g;return(g=f1e(i,We(u)?u:0))!==null&&g!==void 0?g:[]}var v=[],w=c==="top"||c==="bottom"?"width":"height",_=m&&w==="width"?lm(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(O,P)=>{var M=typeof f=="function"?f(O.value,P):O.value;return w==="width"?u1e(lm(M,{fontSize:t,letterSpacing:n}),_,p):lm(M,{fontSize:t,letterSpacing:n})[w]},T=i.length>=2?la(i[1].coordinate-i[0].coordinate):1,N=d1e(a,T,w);return u==="equidistantPreserveStart"?h1e(T,N,S,i,o):(u==="preserveStart"||u==="preserveStartEnd"?v=b1e(T,N,S,i,o,u==="preserveStartEnd"):v=y1e(T,N,S,i,o),v.filter(O=>O.isShow))}var v1e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>o&&(o=p.width)}});var c=n?n.getBoundingClientRect().width:0,u=i+a,f=o+u+c+(n?r:0);return Math.round(f)}return 0},x1e=["axisLine","width","height","className","hide","ticks","axisType"];function _1e(e,t){if(e==null)return{};var n,r,i=w1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(null,arguments)}function FI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(n),!0).forEach(function(r){S1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S1e(e,t,n){return(t=E1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E1e(e){var t=k1e(e,"string");return typeof t=="symbol"?t:t+""}function k1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ir.axis};function A1e(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:c,otherSvgProps:u}=e;if(!c)return null;var f=Dn(Dn(Dn({},u),Fa(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!o||a==="bottom"&&o);f=Dn(Dn({},f),{},{x1:t,y1:n+m*i,x2:t+r,y2:n+m*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=Dn(Dn({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return E.createElement("line",tu({},f,{className:Qt("recharts-cartesian-axis-line",Nv(c,"className"))}))}function T1e(e,t,n,r,i,a,o,c,u){var f,m,p,g,v,w,_=c?-1:1,S=e.tickSize||o,T=We(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=m=e.coordinate,g=n+ +!c*i,p=g-_*S,w=p-_*u,v=T;break;case"left":p=g=e.coordinate,m=t+ +!c*r,f=m-_*S,v=f-_*u,w=T;break;case"right":p=g=e.coordinate,m=t+ +c*r,f=m+_*S,v=f+_*u,w=T;break;default:f=m=e.coordinate,g=n+ +c*i,p=g+_*S,w=p+_*u,v=T;break}return{line:{x1:f,y1:p,x2:m,y2:g},tick:{x:v,y:w}}}function O1e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function j1e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function N1e(e){var{option:t,tickProps:n,value:r}=e,i,a=Qt(n.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(t))i=E.cloneElement(t,Dn(Dn({},n),{},{className:a}));else if(typeof t=="function")i=t(Dn(Dn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Qt(o,t?.className)),i=E.createElement(kT,tu({},n,{className:o}),r)}return i}var C1e=E.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:c,padding:u,tickTextProps:f,orientation:m,mirror:p,x:g,y:v,width:w,height:_,tickSize:S,tickMargin:T,fontSize:N,letterSpacing:O,getTicksConfig:P,events:M,axisType:D}=e,$=NT(Dn(Dn({},P),{},{ticks:n}),N,O),H=O1e(m,p),q=j1e(m,p),K=Fa(P),F=Tv(r),z={};typeof i=="object"&&(z=i);var Z=Dn(Dn({},K),{},{fill:"none"},z),Q=$.map(X=>Dn({entry:X},T1e(X,g,v,w,_,m,S,p,T))),J=Q.map(X=>{var{entry:re,line:ue}=X;return E.createElement(So,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},i&&E.createElement("line",tu({},Z,ue,{className:Qt("recharts-cartesian-axis-tick-line",Nv(i,"className"))})))}),Y=Q.map((X,re)=>{var{entry:ue,tick:se}=X,B=Dn(Dn(Dn(Dn({textAnchor:H,verticalAnchor:q},K),{},{stroke:"none",fill:a},F),se),{},{index:re,payload:ue,visibleTicksCount:$.length,tickFormatter:o,padding:u},f);return E.createElement(So,tu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},vde(M,ue,re)),r&&E.createElement(N1e,{option:r,tickProps:B,value:"".concat(typeof o=="function"?o(ue.value,re):ue.value).concat(c||"")}))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},Y.length>0&&E.createElement(Ns,{zIndex:Ir.label},E.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},Y)),J.length>0&&E.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},J))}),M1e=E.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:c,axisType:u}=e,f=_1e(e,x1e),[m,p]=E.useState(""),[g,v]=E.useState(""),w=E.useRef(null);E.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return v1e({ticks:w.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=E.useCallback(S=>{if(S){var T=S.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=T;var N=T[0];if(N){var O=window.getComputedStyle(N),P=O.fontSize,M=O.letterSpacing;(P!==m||M!==g)&&(p(P),v(M))}}},[m,g]);return o||r!=null&&r<=0||i!=null&&i<=0?null:E.createElement(Ns,{zIndex:e.zIndex},E.createElement(So,{className:Qt("recharts-cartesian-axis",a)},E.createElement(A1e,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Fa(e)}),E.createElement(C1e,{ref:_,axisType:u,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),E.createElement(M_e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},E.createElement(F_e,{label:e.label,labelRef:e.labelRef}),e.children)))}),CT=E.forwardRef((e,t)=>{var n=Hi(e,fs);return E.createElement(M1e,tu({},n,{ref:t}))});CT.displayName="CartesianAxis";var P1e=["x1","y1","x2","y2","key"],D1e=["offset"],R1e=["xAxisId","yAxisId"],L1e=["xAxisId","yAxisId"];function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(r){I1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I1e(e,t,n){return(t=$1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $1e(e){var t=B1e(e,"string");return typeof t=="symbol"?t:t+""}function B1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hc.apply(null,arguments)}function Bb(e,t){if(e==null)return{};var n,r,i=z1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function z1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var U1e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:c}=e;return E.createElement("rect",{x:r,y:i,ry:c,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function C8(e){var{option:t,lineItemProps:n}=e,r;if(E.isValidElement(t))r=E.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:c,y2:u,key:f}=n,m=Bb(n,P1e),p=(i=Fa(m))!==null&&i!==void 0?i:{},{offset:g}=p,v=Bb(p,D1e);r=E.createElement("line",Hc({},v,{x1:a,y1:o,x2:c,y2:u,fill:"none",key:f}))}return r}function F1e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,c=Bb(e,R1e),u=i.map((f,m)=>{var p=Ar(Ar({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(m),index:m});return E.createElement(C8,{key:"line-".concat(m),option:r,lineItemProps:p})});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function H1e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,c=Bb(e,L1e),u=i.map((f,m)=>{var p=Ar(Ar({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(m),index:m});return E.createElement(C8,{option:r,lineItemProps:p,key:"line-".concat(m)})});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function G1e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:c,horizontal:u=!0}=e;if(!u||!t||!t.length||c==null)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var m=f.map((p,g)=>{var v=!f[g+1],w=v?i+o-p:f[g+1]-p;if(w<=0)return null;var _=g%t.length;return E.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:w,width:a,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function q1e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:c,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var m=f.map((p,g)=>{var v=!f[g+1],w=v?i+o-p:f[g+1]-p;if(w<=0)return null;var _=g%n.length;return E.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:w,height:c,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Y1e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return _6(NT(Ar(Ar(Ar({},fs),n),{},{ticks:w6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},K1e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return _6(NT(Ar(Ar(Ar({},fs),n),{},{ticks:w6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},W1e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ir.grid};function M8(e){var t=C6(),n=M6(),r=N6(),i=Ar(Ar({},Hi(e,W1e)),{},{x:We(e.x)?e.x:r.left,y:We(e.y)?e.y:r.top,width:We(e.width)?e.width:r.width,height:We(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:c,y:u,width:f,height:m,syncWithTicks:p,horizontalValues:g,verticalValues:v}=i,w=fi(),_=Je(q=>eI(q,"xAxis",a,w)),S=Je(q=>eI(q,"yAxis",o,w));if(!ko(f)||!ko(m)||!We(c)||!We(u))return null;var T=i.verticalCoordinatesGenerator||Y1e,N=i.horizontalCoordinatesGenerator||K1e,{horizontalPoints:O,verticalPoints:P}=i;if((!O||!O.length)&&typeof N=="function"){var M=g&&g.length,D=N({yAxis:S?Ar(Ar({},S),{},{ticks:M?g:S.ticks}):void 0,width:t??f,height:n??m,offset:r},M?!0:p);mb(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(O=D)}if((!P||!P.length)&&typeof T=="function"){var $=v&&v.length,H=T({xAxis:_?Ar(Ar({},_),{},{ticks:$?v:_.ticks}):void 0,width:t??f,height:n??m,offset:r},$?!0:p);mb(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(P=H)}return E.createElement(Ns,{zIndex:i.zIndex},E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(U1e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),E.createElement(G1e,Hc({},i,{horizontalPoints:O})),E.createElement(q1e,Hc({},i,{verticalPoints:P})),E.createElement(F1e,Hc({},i,{offset:r,horizontalPoints:O,xAxis:_,yAxis:S})),E.createElement(H1e,Hc({},i,{offset:r,verticalPoints:P,xAxis:_,yAxis:S}))))}M8.displayName="CartesianGrid";function V1e(e){var t=Tv(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),c=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(c)||c<0)&&(c=r),{r:o,strokeWidth:c}}return{r:n,strokeWidth:r}}var P8=(e,t,n,r)=>Pz(e,"xAxis",t,r),D8=(e,t,n,r)=>Mz(e,"xAxis",t,r),R8=(e,t,n,r)=>Pz(e,"yAxis",n,r),L8=(e,t,n,r)=>Mz(e,"yAxis",n,r),Z1e=we([Vt,P8,R8,D8,L8],(e,t,n,r,i)=>Ss(e,"xAxis")?hb(t,r,!1):hb(n,i,!1)),X1e=(e,t,n,r,i)=>i,I8=we([tz,X1e],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),J1e=(e,t,n,r,i)=>{var a,o=I8(e,t,n,r,i);if(o!=null){var c=Vt(e),u=Ss(c,"xAxis"),f;if(u?f=wk(e,"yAxis",n,r):f=wk(e,"xAxis",t,r),f!=null){var{stackId:m}=o,p=iT(o);if(!(m==null||p==null)){var g=(a=f[m])===null||a===void 0?void 0:a.stackedData;return g?.find(v=>v.key===p)}}}},Q1e=we([Vt,P8,R8,D8,L8,J1e,VA,Z1e,I8,Lye],(e,t,n,r,i,a,o,c,u,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:g}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{data:v}=u,w;if(v&&v.length>0?w=v:w=m?.slice(p,g+1),w!=null)return bSe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:w,chartBaseValue:f,bandSize:c})}}),eSe=["id"],tSe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wc.apply(null,arguments)}function $8(e,t){if(e==null)return{};var n,r,i=nSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(n),!0).forEach(function(r){rSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rSe(e,t,n){return(t=iSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iSe(e){var t=aSe(e,"string");return typeof t=="symbol"?t:t+""}function aSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zb(e,t){return e&&e!=="none"?e:t}var oSe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:zb(r,i),value:S6(n,t),payload:e}]},sSe=E.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:c,unit:u,tooltipType:f}=e,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:S6(o,t),hide:c,type:f,color:zb(r,a),unit:u}};return E.createElement(swe,{tooltipEntrySettings:m})});function lSe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,c=Fa(r);return E.createElement(Owe,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:i,clipPathId:t})}function cSe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,c,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return wd(wd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return E.createElement(Q_e,{value:t?i:void 0},n)}function qI(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:c,stroke:u,connectNulls:f,isRange:m}=a,{id:p}=a,g=$8(a,eSe),v=Fa(g),w=ha(g);return E.createElement(E.Fragment,null,t?.length>1&&E.createElement(So,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},E.createElement(py,Wc({},w,{id:p,points:t,connectNulls:f,type:c,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&E.createElement(py,Wc({},v,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:t})),u!=="none"&&m&&E.createElement(py,Wc({},v,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:n}))),E.createElement(lSe,{points:t,props:g,clipPathId:i}))}function uSe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!xn(a)||!xn(o))return null;var c=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.x||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.x||0),u)),We(u)?E.createElement("rect",{x:0,y:a<o?a:a-c,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function dSe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!xn(a)||!xn(o))return null;var c=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.y||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.y||0),u)),We(u)?E.createElement("rect",{x:a<o?a:a-c,y:0,width:c,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function fSe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?E.createElement(uSe,{alpha:t,points:r,baseLine:i,strokeWidth:a}):E.createElement(dSe,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function hSe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:c,isAnimationActive:u,animationBegin:f,animationDuration:m,animationEasing:p,onAnimationStart:g,onAnimationEnd:v}=r,w=E.useMemo(()=>({points:o,baseLine:c}),[o,c]),_=q6(w,"recharts-area-"),S=sme(),[T,N]=E.useState(!1),O=!T,P=E.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),M=E.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]);if(S==null)return null;var D=i.current,$=a.current;return E.createElement(cSe,{showLabels:O,points:o},r.children,E.createElement(G6,{animationId:_,begin:f,duration:m,isActive:u,easing:p,onAnimationEnd:P,onAnimationStart:M,key:_},H=>{if(D){var q=D.length/o.length,K=H===1?o:o.map((z,Z)=>{var Q=Math.floor(Z*q);if(D[Q]){var J=D[Q];return wd(wd({},z),{},{x:yo(J.x,z.x,H),y:yo(J.y,z.y,H)})}return z}),F;return We(c)?F=yo($,c,H):br(c)||Ha(c)?F=yo($,0,H):F=c.map((z,Z)=>{var Q=Math.floor(Z*q);if(Array.isArray($)&&$[Q]){var J=$[Q];return wd(wd({},z),{},{x:yo(J.x,z.x,H),y:yo(J.y,z.y,H)})}return z}),H>0&&(i.current=K,a.current=F),E.createElement(qI,{points:K,baseLine:F,needClip:t,clipPathId:n,props:r})}return H>0&&(i.current=o,a.current=c),E.createElement(So,null,u&&E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(n)},E.createElement(fSe,{alpha:H,points:o,baseLine:c,layout:S,strokeWidth:r.strokeWidth}))),E.createElement(So,{clipPath:"url(#animationClipPath-".concat(n,")")},E.createElement(qI,{points:o,baseLine:c,needClip:t,clipPathId:n,props:r})))}),E.createElement(nwe,{label:r.label}))}function mSe(e){var{needClip:t,clipPathId:n,props:r}=e,i=E.useRef(null),a=E.useRef();return E.createElement(hSe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class pSe extends E.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:c,xAxisId:u,yAxisId:f,width:m,height:p,id:g,baseLine:v,zIndex:w}=this.props;if(t)return null;var _=Qt("recharts-area",i),S=g,{r:T,strokeWidth:N}=V1e(n),O=w8(n),P=T*2+N,M=c?"url(#clipPath-".concat(O?"":"dots-").concat(S,")"):void 0;return E.createElement(Ns,{zIndex:w},E.createElement(So,{className:_},c&&E.createElement("defs",null,E.createElement(Zwe,{clipPathId:S,xAxisId:u,yAxisId:f}),!O&&E.createElement("clipPath",{id:"clipPath-dots-".concat(S)},E.createElement("rect",{x:o-P/2,y:a-P/2,width:m+P,height:p+P}))),E.createElement(mSe,{needClip:c,clipPathId:S,props:this.props})),E.createElement(BI,{points:r,mainColor:zb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}),this.props.isRange&&Array.isArray(v)&&E.createElement(BI,{points:v,mainColor:zb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}))}}var B8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ir.area};function gSe(e){var t,n=Hi(e,B8),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:c,dot:u,fill:f,fillOpacity:m,hide:p,isAnimationActive:g,legendType:v,stroke:w,xAxisId:_,yAxisId:S}=n,T=$8(n,tSe),N=lp(),O=e8(),{needClip:P}=T8(_,S),M=fi(),{points:D,isRange:$,baseLine:H}=(t=Je(Q=>Q1e(Q,_,S,M,e.id)))!==null&&t!==void 0?t:{},q=TT();if(N!=="horizontal"&&N!=="vertical"||q==null||O!=="AreaChart"&&O!=="ComposedChart")return null;var{height:K,width:F,x:z,y:Z}=q;return!D||!D.length?null:E.createElement(pSe,Wc({},T,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:H,connectNulls:c,dot:u,fill:f,fillOpacity:m,height:K,hide:p,layout:N,isAnimationActive:g==="auto"?!df.isSsr:g,isRange:$,legendType:v,needClip:P,points:D,stroke:w,width:F,left:z,top:Z,xAxisId:_,yAxisId:S}))}var ySe=(e,t,n,r,i)=>{var a=n??t;if(We(a))return a;var o=e==="horizontal"?i:r,c=o.scale.domain();if(o.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return a==="dataMin"?f:a==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function bSe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:c,yAxis:u,displayedData:f,dataStartIndex:m,xAxisTicks:p,yAxisTicks:g,bandSize:v}=e,w=i&&i.length,_=ySe(a,o,n,c,u),S=a==="horizontal",T=!1,N=f.map((P,M)=>{var D;w?D=i[m+M]:(D=Tr(P,r),Array.isArray(D)?T=!0:D=[_,D]);var $=D[1]==null||w&&!t&&Tr(P,r)==null;return S?{x:SR({axis:c,ticks:p,bandSize:v,entry:P,index:M}),y:$?null:u.scale(D[1]),value:D,payload:P}:{x:$?null:c.scale(D[1]),y:SR({axis:u,ticks:g,bandSize:v,entry:P,index:M}),value:D,payload:P}}),O;return w||T?O=N.map(P=>{var M=Array.isArray(P.value)?P.value[0]:null;return S?{x:P.x,y:M!=null&&P.y!=null?u.scale(M):null,payload:P.payload}:{x:M!=null?c.scale(M):null,y:P.y,payload:P.payload}}):O=S?u.scale(_):c.scale(_),{points:N,baseLine:O,isRange:T}}function vSe(e){var t=Hi(e,B8),n=fi();return E.createElement(fwe,{id:t.id,type:"area"},r=>E.createElement(E.Fragment,null,E.createElement(lwe,{legendPayload:oSe(t)}),E.createElement(sSe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),E.createElement(vwe,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:She(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),E.createElement(gSe,Wc({},t,{id:r}))))}var z8=E.memo(vSe,OT);z8.displayName="Area";var xSe=["domain","range"],_Se=["domain","range"];function YI(e,t){if(e==null)return{};var n,r,i=wSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function KI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function U8(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=YI(e,xSe),{domain:a,range:o}=t,c=YI(t,_Se);return!KI(n,a)||!KI(r,o)?!1:OT(i,c)}var SSe=["dangerouslySetInnerHTML","ticks"],ESe=["id"];function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nk.apply(null,arguments)}function WI(e,t){if(e==null)return{};var n,r,i=kSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ASe(e){var t=sr(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?t(Pwe(e)):n.current!==e&&t(Dwe({prev:n.current,next:e})),n.current=e},[e,t]),E.useLayoutEffect(()=>()=>{n.current&&(t(Rwe(n.current)),n.current=null)},[t]),null}var TSe=e=>{var{xAxisId:t,className:n}=e,r=Je(k6),i=fi(),a="xAxis",o=Je(S=>yf(S,a,t,i)),c=Je(S=>Cz(S,a,t,i)),u=Je(S=>Obe(S,t)),f=Je(S=>Dbe(S,t)),m=Je(S=>X9(S,t));if(u==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=e,v=WI(e,SSe),{id:w}=m,_=WI(m,ESe);return E.createElement(CT,Nk({},v,_,{scale:o,x:f.x,y:f.y,width:u.width,height:u.height,className:Qt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c,axisType:a}))},OSe={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,angle:tr.angle,axisLine:fs.axisLine,height:tr.height,hide:!1,includeHidden:tr.includeHidden,interval:tr.interval,minTickGap:tr.minTickGap,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,tickLine:fs.tickLine,tickSize:fs.tickSize,type:tr.type,xAxisId:0},jSe=e=>{var t=Hi(e,OSe);return E.createElement(E.Fragment,null,E.createElement(ASe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),E.createElement(TSe,t))},F8=E.memo(jSe,U8);F8.displayName="XAxis";var NSe=["dangerouslySetInnerHTML","ticks"],CSe=["id"];function Ck(){return Ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ck.apply(null,arguments)}function VI(e,t){if(e==null)return{};var n,r,i=MSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function PSe(e){var t=sr(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?t(Lwe(e)):n.current!==e&&t(Iwe({prev:n.current,next:e})),n.current=e},[e,t]),E.useLayoutEffect(()=>()=>{n.current&&(t($we(n.current)),n.current=null)},[t]),null}var DSe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=E.useRef(null),o=E.useRef(null),c=Je(k6),u=fi(),f=sr(),m="yAxis",p=Je(M=>yf(M,m,t,u)),g=Je(M=>Ibe(M,t)),v=Je(M=>Lbe(M,t)),w=Je(M=>Cz(M,m,t,u)),_=Je(M=>J9(M,t));if(E.useLayoutEffect(()=>{if(!(r!=="auto"||!g||AT(i)||E.isValidElement(i)||_==null)){var M=a.current;if(M){var D=M.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&f(Bwe({id:t,width:D}))}}},[w,g,f,i,t,r,_]),g==null||v==null||_==null)return null;var{dangerouslySetInnerHTML:S,ticks:T}=e,N=VI(e,NSe),{id:O}=_,P=VI(_,CSe);return E.createElement(CT,Ck({},N,P,{ref:a,labelRef:o,scale:p,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Qt("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:w,axisType:m}))},RSe={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,angle:nr.angle,axisLine:fs.axisLine,hide:!1,includeHidden:nr.includeHidden,interval:nr.interval,minTickGap:nr.minTickGap,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,tickLine:fs.tickLine,tickSize:fs.tickSize,type:nr.type,width:nr.width,yAxisId:0},LSe=e=>{var t=Hi(e,RSe);return E.createElement(E.Fragment,null,E.createElement(PSe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),E.createElement(DSe,t))},H8=E.memo(LSe,U8);H8.displayName="YAxis";var ISe=(e,t)=>t,MT=we([ISe,Vt,V9,Wn,Wz,js,Xve,xr],ixe),PT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},G8=ma("mouseClick"),q8=op();q8.startListening({actionCreator:G8,effect:(e,t)=>{var n=e.payload,r=MT(t.getState(),PT(n));r?.activeIndex!=null&&t.dispatch(Zbe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Mk=ma("mouseMove"),Y8=op(),W0=null;Y8.startListening({actionCreator:Mk,effect:(e,t)=>{var n=e.payload;W0!==null&&cancelAnimationFrame(W0);var r=PT(n);W0=requestAnimationFrame(()=>{var i=t.getState(),a=pT(i,i.tooltip.settings.shared);if(a==="axis"){var o=MT(i,r);o?.activeIndex!=null?t.dispatch(zz({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(Bz())}W0=null})}});var ZI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},K8=di({name:"rootProps",initialState:ZI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:ZI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),$Se=K8.reducer,{updateOptions:BSe}=K8.actions,W8=di({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:EOe}=W8.actions,zSe=W8.reducer,V8=ma("keyDown"),Z8=ma("focus"),DT=op();DT.startListening({actionCreator:V8,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=gT(i,vf(n),gp(n),_p(n)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var u=js(n);if(a==="Enter"){var f=Rb(n,"axis","hover",String(i.index));t.dispatch(Ek({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var m=Ube(n),p=m==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,v=c+g*p;if(!(u==null||v>=u.length||v<0)){var w=Rb(n,"axis","hover",String(v));t.dispatch(Ek({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});DT.startListening({actionCreator:Z8,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Rb(n,"axis","hover",String(a));t.dispatch(Ek({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ra=ma("externalEvent"),X8=op(),MS=new Map;X8.startListening({actionCreator:ra,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=MS.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var c=t.getState(),u={activeCoordinate:Lve(c),activeDataKey:Dve(c),activeIndex:Im(c),activeLabel:Xz(c),activeTooltipIndex:Im(c),isTooltipActive:Ive(c)};n(u,r)}finally{MS.delete(i)}});MS.set(i,o)}}});var USe=we([bf],e=>e.tooltipItemPayloads),FSe=we([USe,vp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),J8=ma("touchMove"),Q8=op();Q8.startListening({actionCreator:J8,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=pT(r,r.tooltip.settings.shared);if(i==="axis"){var a=MT(r,PT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(zz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,c=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(Nhe),m=(o=u.getAttribute(Che))!==null&&o!==void 0?o:void 0,p=FSe(t.getState(),f,m);t.dispatch(Vbe({activeDataKey:m,activeIndex:f,activeCoordinate:p}))}}}});var HSe=kB({brush:e1e,cartesianAxis:zwe,chartData:Lxe,errorBars:Vwe,graphicalItems:ywe,layout:hhe,legend:Eme,options:Cxe,polarAxis:iwe,polarOptions:zSe,referenceElements:s1e,rootProps:$Se,tooltip:Xbe,zIndex:bxe}),GSe=function(t){return $fe({reducer:HSe,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([q8.middleware,Y8.middleware,DT.middleware,X8.middleware,Q8.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(s6({type:"raf"}))},devTools:df.devToolsEnabled})};function qSe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=fi(),a=E.useRef(null);if(i)return n;a.current==null&&(a.current=GSe(t));var o=pA;return E.createElement(DB,{context:o,store:a.current},n)}function YSe(e){var{layout:t,margin:n}=e,r=sr(),i=fi();return E.useEffect(()=>{i||(r(uhe(t)),r(che(n)))},[r,i,t,n]),null}var KSe=E.memo(YSe,OT);function WSe(e){var t=sr();return E.useEffect(()=>{t(BSe(e))},[t,e]),null}function XI(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=S8("".concat(r).concat(t)),a=sr();return E.useLayoutEffect(()=>(a(gxe({zIndex:t,elementId:i,isPanorama:n})),()=>{a(yxe({zIndex:t,isPanorama:n}))}),[a,t,i,n]),E.createElement("g",{tabIndex:-1,id:i})}function JI(e){var{children:t,isPanorama:n}=e,r=Je(oxe);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return E.createElement(E.Fragment,null,i.map(o=>E.createElement(XI,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>E.createElement(XI,{key:o,zIndex:o,isPanorama:n})))}var VSe=["children"];function ZSe(e,t){if(e==null)return{};var n,r,i=XSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ub.apply(null,arguments)}var JSe={width:"100%",height:"100%",display:"block"},QSe=E.forwardRef((e,t)=>{var n=C6(),r=M6(),i=z6();if(!ko(n)||!ko(r))return null;var{children:a,otherAttributes:o,title:c,desc:u}=e,f,m;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?m=o.role:m=i?"application":void 0),E.createElement(g7,Ub({},o,{title:c,desc:u,role:m,tabIndex:f,width:n,height:r,style:JSe,ref:t}),a)}),eEe=e=>{var{children:t}=e,n=Je(Hv);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return E.createElement(g7,{width:r,height:i,x:o,y:a},t)},QI=E.forwardRef((e,t)=>{var{children:n}=e,r=ZSe(e,VSe),i=fi();return i?E.createElement(eEe,null,E.createElement(JI,{isPanorama:!0},n)):E.createElement(QSe,Ub({ref:t},r),E.createElement(JI,{isPanorama:!1},n))});function tEe(){var e=sr(),[t,n]=E.useState(null),r=Je(jhe);return E.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;xn(a)&&a!==r&&e(fhe(a))}},[t,e,r]),n}function e3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(r){rEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rEe(e,t,n){return(t=iEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iEe(e){var t=aEe(e,"string");return typeof t=="symbol"?t:t+""}function aEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nu.apply(null,arguments)}var oEe=()=>(qxe(),null);function Fb(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var sEe=E.forwardRef((e,t)=>{var n,r,i=E.useRef(null),[a,o]=E.useState({containerWidth:Fb((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Fb((r=e.style)===null||r===void 0?void 0:r.height)}),c=E.useCallback((f,m)=>{o(p=>{var g=Math.round(f),v=Math.round(m);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),u=E.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var g=w=>{var{width:_,height:S}=w[0].contentRect;c(_,S)},v=new ResizeObserver(g);v.observe(f),i.current=v}},[t,c]);return E.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),E.createElement(E.Fragment,null,E.createElement(qv,{width:a.containerWidth,height:a.containerHeight}),E.createElement("div",nu({ref:u},e)))}),lEe=E.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=E.useState({containerWidth:Fb(n),containerHeight:Fb(r)}),o=E.useCallback((u,f)=>{a(m=>{var p=Math.round(u),g=Math.round(f);return m.containerWidth===p&&m.containerHeight===g?m:{containerWidth:p,containerHeight:g}})},[]),c=E.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:m}=u.getBoundingClientRect();o(f,m)}},[t,o]);return E.createElement(E.Fragment,null,E.createElement(qv,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",nu({ref:c},e)))}),cEe=E.forwardRef((e,t)=>{var{width:n,height:r}=e;return E.createElement(E.Fragment,null,E.createElement(qv,{width:n,height:r}),E.createElement("div",nu({ref:t},e)))}),uEe=E.forwardRef((e,t)=>{var{width:n,height:r}=e;return gs(n)||gs(r)?E.createElement(lEe,nu({},e,{ref:t})):E.createElement(cEe,nu({},e,{ref:t}))});function dEe(e){return e===!0?sEe:uEe}var fEe=E.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:w,onTouchStart:_,style:S,width:T,responsive:N,dispatchTouchEvents:O=!0}=e,P=E.useRef(null),M=sr(),[D,$]=E.useState(null),[H,q]=E.useState(null),K=tEe(),F=SA(),z=F?.width>0?F.width:T,Z=F?.height>0?F.height:i,Q=E.useCallback(ne=>{K(ne),typeof t=="function"&&t(ne),$(ne),q(ne),ne!=null&&(P.current=ne)},[K,t,$,q]),J=E.useCallback(ne=>{M(G8(ne)),M(ra({handler:a,reactEvent:ne}))},[M,a]),Y=E.useCallback(ne=>{M(Mk(ne)),M(ra({handler:f,reactEvent:ne}))},[M,f]),X=E.useCallback(ne=>{M(Bz()),M(ra({handler:m,reactEvent:ne}))},[M,m]),re=E.useCallback(ne=>{M(Mk(ne)),M(ra({handler:p,reactEvent:ne}))},[M,p]),ue=E.useCallback(()=>{M(Z8())},[M]),se=E.useCallback(ne=>{M(V8(ne.key))},[M]),B=E.useCallback(ne=>{M(ra({handler:o,reactEvent:ne}))},[M,o]),W=E.useCallback(ne=>{M(ra({handler:c,reactEvent:ne}))},[M,c]),ae=E.useCallback(ne=>{M(ra({handler:u,reactEvent:ne}))},[M,u]),V=E.useCallback(ne=>{M(ra({handler:g,reactEvent:ne}))},[M,g]),oe=E.useCallback(ne=>{M(ra({handler:_,reactEvent:ne}))},[M,_]),me=E.useCallback(ne=>{O&&M(J8(ne)),M(ra({handler:w,reactEvent:ne}))},[M,O,w]),pe=E.useCallback(ne=>{M(ra({handler:v,reactEvent:ne}))},[M,v]),be=dEe(N);return E.createElement(a8.Provider,{value:D},E.createElement(Gue.Provider,{value:H},E.createElement(be,{width:z??S?.width,height:Z??S?.height,className:Qt("recharts-wrapper",r),style:nEe({position:"relative",cursor:"default",width:z,height:Z},S),onClick:J,onContextMenu:B,onDoubleClick:W,onFocus:ue,onKeyDown:se,onMouseDown:ae,onMouseEnter:Y,onMouseLeave:X,onMouseMove:re,onMouseUp:V,onTouchEnd:pe,onTouchMove:me,onTouchStart:oe,ref:Q},E.createElement(oEe,null),n)))}),hEe=["width","height","responsive","children","className","style","compact","title","desc"];function mEe(e,t){if(e==null)return{};var n,r,i=pEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gEe=E.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:c,compact:u,title:f,desc:m}=e,p=mEe(e,hEe),g=Fa(p);return u?E.createElement(E.Fragment,null,E.createElement(qv,{width:n,height:r}),E.createElement(QI,{otherAttributes:g,title:f,desc:m},a)):E.createElement(fEe,{className:o,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},E.createElement(QI,{otherAttributes:g,title:f,desc:m,ref:t},E.createElement(c1e,null,a)))});function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pk.apply(null,arguments)}var yEe={top:5,right:5,bottom:5,left:5},bEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:yEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},vEe=E.forwardRef(function(t,n){var r,i=Hi(t.categoricalChartProps,bEe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,m={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return E.createElement(qSe,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},E.createElement(Qwe,{chartData:f.data}),E.createElement(KSe,{layout:i.layout,margin:i.margin}),E.createElement(WSe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(gEe,Pk({},i,{ref:n})))}),xEe=["axis"],_Ee=E.forwardRef((e,t)=>E.createElement(vEe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xEe,tooltipPayloadSearcher:jxe,categoricalChartProps:e,ref:t}));function t3(){const[e,t]=E.useState(0),[n,r]=E.useState(0),[i,a]=E.useState(0),[o,c]=E.useState(0),[u,f]=E.useState([]),[m,p]=E.useState([]),g=E.useMemo(()=>{const S=new Date;return S.setHours(0,0,0,0),S},[]),v=E.useCallback(async()=>{const{count:S}=await Le.from("profiles").select("*",{count:"exact",head:!0});t(S||0);const{count:T}=await Le.from("myeongsik").select("*",{count:"exact",head:!0});r(T||0);const{count:N}=await Le.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",g.toISOString());a(N||0);const{count:O}=await Le.from("myeongsik").select("*",{count:"exact",head:!0}).gte("created_at",g.toISOString());c(O||0)},[g]),w=E.useCallback(async()=>{const S=new Date;S.setDate(S.getDate()-30);const{data:T}=await Le.from("profiles").select("created_at").gte("created_at",S.toISOString()).order("created_at",{ascending:!0}),N={};(T||[]).forEach(P=>{const M=new Date(P.created_at).toISOString().slice(0,10);N[M]=(N[M]||0)+1});const O=Object.entries(N).map(([P,M])=>({day:P,count:M}));f(O)},[]),_=E.useCallback(async()=>{const S=new Date;S.setDate(S.getDate()-30);const{data:T}=await Le.from("myeongsik").select("created_at").gte("created_at",S.toISOString()).order("created_at",{ascending:!0}),N={};(T||[]).forEach(P=>{const M=new Date(P.created_at).toISOString().slice(0,10);N[M]=(N[M]||0)+1});const O=Object.entries(N).map(([P,M])=>({day:P,count:M}));p(O)},[]);return E.useEffect(()=>{v(),w(),_()},[v,w,_]),x.jsx(Pue,{allow:["admin","operator","viewer"],children:x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-10",children:[x.jsx(V0,{label:" ",value:e}),x.jsx(V0,{label:"  ",value:n}),x.jsx(V0,{label:" ",value:i}),x.jsx(V0,{label:"  ",value:o})]}),x.jsxs("section",{className:"mb-10",children:[x.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),x.jsx(n3,{data:u})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),x.jsx(n3,{data:m})]})]})})}function V0({label:e,value:t}){return x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[x.jsx("div",{className:"text-neutral-400 text-sm",children:e}),x.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function n3({data:e}){return x.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:x.jsx(ame,{width:"100%",height:"100%",children:x.jsxs(_Ee,{data:e,children:[x.jsx(M8,{strokeDasharray:"3 3",stroke:"#333"}),x.jsx(F8,{dataKey:"day",stroke:"#bbb"}),x.jsx(H8,{stroke:"#bbb"}),x.jsx(Qxe,{}),x.jsx(z8,{type:"monotone",dataKey:"count",stroke:"#8884d8",fill:"#8884d855"})]})})})}function wEe(){const[e,t]=E.useState(""),[n,r]=E.useState(1),[i,a]=E.useState({});return{search:e,setSearch:t,page:n,setPage:r,draftByUser:i,setDraftByUser:a,setDraft:(c,u)=>{a(f=>{const m=f[c]??{plan:"FREE",startDate:"",endDate:"",saving:!1};return{...f,[c]:{...m,...u}}})}}}const eU=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function SEe(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function EEe(e){return typeof e!="string"?null:yd(e)}function r3(e){return String(e).padStart(2,"0")}function Hb(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const n=t.getFullYear(),r=r3(t.getMonth()+1),i=r3(t.getDate());return`${n}-${r}-${i}`}const Kh=e=>e<10?`0${e}`:`${e}`,kEe=e=>String(e).padStart(3,"0");function i3(e,t){const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error("Invalid date input");const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=t?23:0,c=t?59:0,u=t?59:0,f=t?999:0;return`${r}-${Kh(i)}-${Kh(a)}T${Kh(o)}:${Kh(c)}:${Kh(u)}.${kEe(f)}+09:00`}function AEe(e){const t=Hy(e),n=t.maxMyeongsik===null?9999:t.maxMyeongsik;return{plan:e,max_myeongsik:n,can_manage_myeongsik:t.canManageMyeongsik,can_use_luck_tabs:t.canUseLuckTabs,can_use_multi_mode:t.canUseMultiMode,can_use_all_prompts:t.canUseAllPrompts}}function TEe(e){const t=e??"FREE";return eU.find(n=>n.value===t)?.label??String(t)}function OEe(e){const t=e?.starts_at?Hb(e.starts_at):"",n=e?.expires_at?Hb(e.expires_at):"";return!t&&!n?" ":t&&!n?`${t} ~ ()`:!t&&n?`( ) ~ ${n}`:`${t} ~ ${n}`}const Dk=20;function jEe(e,t){const n=(t-1)*Dk;return e.slice(n,n+Dk)}function NEe(e){return Math.max(1,Math.ceil(e.length/Dk))}function CEe(e){return typeof e=="boolean"?e:null}function MEe(e){const{userIds:t,profiles:n,myeongsikRows:r,entRows:i}=e,a={};for(const u of n){const f=u.user_id||u.id;f&&(a[f]=u)}const o={};for(const u of i){const f=EEe(u.plan);o[u.user_id]={user_id:u.user_id,plan:f,starts_at:u.starts_at??null,expires_at:u.expires_at??null,can_use_myo_viewer:CEe(u.can_use_myo_viewer)}}const c={};for(const u of t)c[u]={user_id:u,profile:a[u]||null,myeongsikCount:0,lastCreatedAt:null,ent:o[u]||null};for(const u of r){const f=c[u.user_id];if(!f)continue;f.myeongsikCount+=1;const m=f.lastCreatedAt,p=u.created_at??null;if(!p)continue;if(!m){f.lastCreatedAt=p;continue}const g=Date.parse(m),v=Date.parse(p);Number.isFinite(v)&&(!Number.isFinite(g)||v>g)&&(f.lastCreatedAt=p)}return Object.values(c)}function PEe(e,t){const n={...e};for(const r of t){const i=r.ent,a=i?.plan??"FREE",o=Hb(i?.starts_at??null),c=Hb(i?.expires_at??null),u=i?.can_use_myo_viewer===!0?"ON":"OFF",f=n[r.user_id];if(!f){n[r.user_id]={plan:a,startDate:o,endDate:c,saving:!1,myoViewer:u};continue}f.saving||(f.plan!==a||f.startDate!==o||f.endDate!==c||f.myoViewer!==u)&&(n[r.user_id]={...f,plan:a,startDate:o,endDate:c,myoViewer:u})}return n}async function DEe(e){const t=e.trim(),n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t),r=`%${t}%`,i=new Set;if(!t){const[a,o]=await Promise.all([Le.from("profiles").select("user_id").limit(1e3),Le.from("user_entitlements").select("user_id").limit(1e3)]);if(a.error)throw new Error(a.error.message);if(o.error)throw new Error(o.error.message);return(a.data??[]).forEach(c=>c.user_id&&i.add(c.user_id)),(o.data??[]).forEach(c=>c.user_id&&i.add(c.user_id)),Array.from(i)}{let a=Le.from("profiles").select("user_id").limit(1e3);n?a=a.eq("user_id",t):a=a.or(`name.ilike.${r},nickname.ilike.${r},email.ilike.${r}`);const{data:o,error:c}=await a;if(c)throw new Error(c.message);(o??[]).forEach(u=>u.user_id&&i.add(u.user_id))}{let a=Le.from("user_entitlements").select("user_id").limit(1e3);n&&(a=a.eq("user_id",t));const{data:o,error:c}=await a;if(c)throw new Error(c.message);(o??[]).forEach(u=>u.user_id&&i.add(u.user_id))}{let a=Le.from("myeongsik").select("user_id").limit(1e3);n?a=a.eq("user_id",t):a=a.or(`name.ilike.${r},birth_json->>birthDay.ilike.${r}`);const{data:o,error:c}=await a;if(c)throw new Error(c.message);(o??[]).forEach(u=>u.user_id&&i.add(u.user_id))}return Array.from(i)}async function REe(e){const{data:t,error:n}=await Le.from("profiles").select("id,user_id,name,nickname,email").in("user_id",e);if(n)throw new Error(n.message);return t||[]}async function LEe(e){const{data:t,error:n}=await Le.from("myeongsik").select("user_id, created_at").in("user_id",e).order("created_at",{ascending:!1});if(n)throw new Error(n.message);return t||[]}async function IEe(e){const{data:t,error:n}=await Le.from("user_entitlements").select("user_id,plan,starts_at,expires_at,can_use_myo_viewer").in("user_id",e);if(n)throw new Error(n.message);return t||[]}async function a3(e){const{error:t}=await Le.from("user_entitlements").upsert(e,{onConflict:"user_id"});if(t)throw t}function $Ee(){const[e,t]=E.useState([]),[n,r]=E.useState([]),[i,a]=E.useState(!1),[o,c]=E.useState(null),u=E.useCallback(async(p,g)=>{a(!0),c(null);try{const v=await DEe(p);t(v),g()}catch(v){c(v instanceof Error?v.message:"Unknown error")}a(!1)},[]),f=E.useCallback(async p=>{if(!p.length){r([]);return}a(!0),c(null);try{const g=p.length?p:["__NO_MATCH__"],[v,w,_]=await Promise.all([REe(g),LEe(g),IEe(g)]),S=MEe({userIds:g,profiles:v,myeongsikRows:w,entRows:_});r(S)}catch(g){c(g instanceof Error?g.message:"Error")}a(!1)},[]),m=E.useCallback(async(p,g,v,w)=>{if(g){v(p,{saving:!0});try{const _=AEe(g.plan),S=g.startDate?i3(g.startDate,!1):null,T=g.endDate?i3(g.endDate,!0):null,N=g.myoViewer==="ON",O={user_id:p,..._,starts_at:S,expires_at:T,can_use_myo_viewer:N};await a3(O),v(p,{saving:!1,lastSavedAt:Date.now()}),await w(),await a3(O)}catch(_){v(p,{saving:!1}),c(_ instanceof Error?_.message:" ")}}},[]);return{userIds:e,summaries:n,loading:i,error:o,setError:c,fetchUserIdList:u,fetchSummaries:f,saveEntitlements:m}}function BEe(){const e=wEe(),{search:t,setSearch:n,page:r,setPage:i,draftByUser:a,setDraftByUser:o,setDraft:c}=e,{userIds:u,summaries:f,loading:m,error:p,fetchUserIdList:g,fetchSummaries:v,saveEntitlements:w}=$Ee(),_=E.useMemo(()=>jEe(u,r),[u,r]),S=E.useMemo(()=>NEe(u),[u]);return E.useEffect(()=>{g(t,()=>i(1))},[g,t,i]),E.useEffect(()=>{v(_)},[v,_]),E.useEffect(()=>{o(T=>PEe(T,f))},[f,o]),x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),x.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm mb-4",placeholder:"Search user (name, email, birth, userId...)",value:t,onChange:T=>n(T.target.value)}),p&&x.jsx("div",{className:"text-red-400 mb-2",children:p}),m&&x.jsx("div",{children:"Loading..."}),x.jsx("div",{className:"space-y-3",children:f.map(T=>{const N=T.profile?.name||T.profile?.nickname||"(no profile)",O=T.profile?.email||"",P=a[T.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:null},M=Date.now(),D=(T.ent?.starts_at?Date.parse(T.ent.starts_at)<=M:!0)&&(T.ent?.expires_at?Date.parse(T.ent.expires_at)>M:!0),$=D?T.ent?.plan:"FREE",H=T.ent?.can_use_myo_viewer===!0?"ON":"OFF";return x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[x.jsxs("div",{className:"font-semibold text-lg flex items-center justify-between gap-3",children:[x.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[x.jsx("span",{className:"text-nowrap mr-1",children:N}),O?x.jsxs("span",{className:"text-sm text-neutral-400 truncate",children:["(",O,")"]}):null]}),x.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:T.user_id})]}),x.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",T.myeongsikCount,"",T.lastCreatedAt&&x.jsxs(x.Fragment,{children:["    ",new Date(T.lastCreatedAt).toLocaleString()]})]}),x.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",TEe($),"  ",OEe(T.ent),"    ",H,!D&&T.ent?.plan&&T.ent.plan!=="FREE"?" ()":""]}),x.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("label",{className:"text-xs text-neutral-400",children:""}),x.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:q=>c(T.user_id,{startDate:q.target.value})}),x.jsx("span",{className:"text-neutral-500",children:"~"}),x.jsx("label",{className:"text-xs text-neutral-400",children:""}),x.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:q=>c(T.user_id,{endDate:q.target.value})}),x.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:q=>{const K=q.target.value;SEe(K)&&c(T.user_id,{plan:K})},children:eU.map(q=>x.jsx("option",{value:q.value,children:q.label},q.value))}),x.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:q=>{const K=q.target.value==="OFF"?"OFF":"ON";c(T.user_id,{myoViewer:K})},children:[x.jsx("option",{value:"ON",children:"  ON"}),x.jsx("option",{value:"OFF",children:"  OFF"})]}),x.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void w(T.user_id,P,e.setDraft,()=>v(_)),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),x.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${T.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt?x.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},T.user_id)})}),x.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[x.jsx("button",{disabled:r<=1,onClick:()=>i(T=>T-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),x.jsxs("span",{children:[r," / ",S]}),x.jsx("button",{disabled:r>=S,onClick:()=>i(T=>T+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function zEe(){const[e,t]=E.useState(null),[n,r]=E.useState([]),[i,a]=E.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function UEe(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function RT({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Le.auth.getSession()).data.session?.user?.id;a&&await Le.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const FEe=async e=>{const{data:t}=await Le.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},HEe=async e=>{const{data:t}=await Le.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},GEe=async e=>{await Le.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},qEe=async(e,t)=>{await Le.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},YEe=async(e,t)=>{await Le.from("profiles").update({disabled_at:t}).eq("user_id",e)},KEe=async e=>{await Le.from("profiles").update({disabled_at:null}).eq("user_id",e),await Le.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await RT({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},WEe=async e=>{await Le.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await RT({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},VEe=async(e,t,n)=>{await Le.from("myeongsik").update({deleted_at:n}).eq("id",t),await RT({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function ZEe({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=E.useCallback(async()=>{const _=await FEe(e);n(_)},[e,n]),o=E.useCallback(async()=>{const _=await HEe(e);r(_)},[e,r]);E.useEffect(()=>{a(),o()},[a,o]);const c=E.useCallback(async()=>{i(!0),await GEe(e),i(!1),await a()},[e,i,a]),u=E.useCallback(async()=>{t&&(i(!0),await qEe(e,t),i(!1),await a())},[t,e,i,a]),f=E.useCallback(async()=>{if(!t)return;const _=t.disabled_at?null:new Date().toISOString();await YEe(e,_),await a()},[t,e,a]),m=E.useCallback(async()=>{i(!0),await KEe(e),i(!1),await a(),await o()},[e,i,a,o]),p=E.useCallback(async()=>{i(!0),await WEe(e),i(!1),await o()},[e,i,o]),g=E.useCallback(_=>{const S=typeof window<"u"?window.location.origin:"",T=_?`${S}/impersonate?userId=${e}&myeongsikId=${_}`:`${S}/impersonate?userId=${e}`;window.open(T,"_blank")},[e]),v=E.useCallback(async(_,S)=>{const T=S?null:new Date().toISOString();await VEe(e,_,T),await o()},[e,o]),w=E.useCallback(_=>{window.location.href=_},[]);return{handleCreateProfile:c,handleSaveProfile:u,toggleDisable:f,handleRestoreAccount:m,handleRestoreAllMyeongsik:p,handleViewAsUser:g,toggleDeleteMyeongsik:v,goTo:w}}function XEe({params:e}){const t=e.userId,n=zEe(),r=UEe(n.profile),i=ZEe({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),x.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[x.jsx("div",{className:"flex items-center justify-between mb-3",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h2",{className:"text-xl font-semibold",children:""}),x.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&x.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{children:""}),x.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{children:""}),x.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{children:"Email"}),x.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{children:" "}),x.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&x.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" "}),x.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:" "}),x.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>x.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),x.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-","  ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"text-nowrap px-2 py-1 border border-blue-500 text-blue-100 rounded cursor-pointer text-xs",onClick:()=>i.handleViewAsUser(a.id),children:"  ( )"}),x.jsx("button",{className:"text-nowrap px-2 py-1 border border-neutral-500 rounded cursor-pointer text-xs",onClick:()=>i.goTo(`/admin/myeongsik/${a.id}`),children:""}),x.jsx("button",{className:`px-2 py-1 rounded cursor-pointer text-xs text-nowrap ${a.deleted_at?"bg-green-600":"bg-red-600"}`,onClick:()=>i.toggleDeleteMyeongsik(a.id,a.deleted_at),children:a.deleted_at?"":""})]})]})},a.id)),n.myeongsikList.length===0&&x.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function JEe({open:e,onClose:t,children:n}){return e?x.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:x.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[x.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),x.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const o3=50;function QEe(){const[e,t]=E.useState(null),[n,r]=E.useState(!1),[i,a]=E.useState([]),[o,c]=E.useState(1),[u,f]=E.useState("all"),[m,p]=E.useState("all"),[g,v]=E.useState("30"),[w,_]=E.useState(""),[S,T]=E.useState(!1),N=E.useCallback(async P=>{await Le.from("audit_logs").delete().eq("id",P),a(M=>M.filter(D=>D.id!==P))},[]),O=E.useCallback(async()=>{T(!0);const P=new Date;g!=="all"&&P.setDate(P.getDate()-Number(g));let M=Le.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*o3,o*o3-1);g!=="all"&&(M=M.gte("created_at",P.toISOString())),u!=="all"&&(M=M.eq("action",u)),m!=="all"&&(M=M.eq("actor_admin_id",m));const{data:D}=await M;let $=D||[];if(w.trim()!==""){const H=w.toLowerCase();$=$.filter(q=>(JSON.stringify(q).toLowerCase()+(q.payload?JSON.stringify(q.payload).toLowerCase():"")).includes(H))}a($),T(!1)},[o,u,m,g,w]);return E.useEffect(()=>{O()},[O]),x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),x.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[x.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:P=>f(P.target.value),children:[x.jsx("option",{value:"all",children:" Action"}),x.jsx("option",{value:"delete_myeongsik",children:" "}),x.jsx("option",{value:"restore_myeongsik",children:" "}),x.jsx("option",{value:"update_profile",children:" "}),x.jsx("option",{value:"impersonate_user",children:""})]}),x.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:m,onChange:P=>p(P.target.value),children:[x.jsx("option",{value:"all",children:" "}),x.jsx("option",{value:"",children:""}),x.jsx("option",{value:"system",children:"System"})]}),x.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:g,onChange:P=>v(P.target.value),children:[x.jsx("option",{value:"1",children:"24"}),x.jsx("option",{value:"7",children:"7"}),x.jsx("option",{value:"30",children:"30"}),x.jsx("option",{value:"all",children:""})]}),x.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:w,onChange:P=>_(P.target.value)})]}),S?x.jsx("div",{children:"Loading..."}):i.map(P=>x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(P),r(!0)},children:[x.jsxs("div",{className:"flex items-center justify-between gap-3",children:[x.jsx("div",{className:"font-semibold text-lg",children:P.action}),x.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:M=>{M.stopPropagation(),N(P.id)},children:""})]}),x.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[x.jsxs("div",{children:["Actor: ",P.actor_admin_id]}),x.jsxs("div",{children:["Target User: ",P.target_user_id||"-"]}),x.jsxs("div",{children:["Target Record: ",P.target_record_id||"-"]}),x.jsxs("div",{children:["Time: ",new Date(P.created_at).toLocaleString()]})]}),P.payload&&x.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(P.payload,null,2)})]},P.id)),x.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[x.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>c(P=>P-1),children:" "}),x.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),x.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>c(P=>P+1),children:" "})]}),x.jsx(JEe,{open:n,onClose:()=>r(!1),children:e&&x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),x.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[x.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),x.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),x.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),x.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),x.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),x.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const eke="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function tU(){const[e,t]=E.useState(!1),[n,r]=E.useState(!1);if(E.useEffect(()=>{(async()=>{const{data:c}=await Le.auth.getUser(),u=c.user?.id;r(!!u&&eke.includes(u)),t(!0)})()},[]),!e)return x.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return x.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=x.jsx(t3,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=x.jsx(XEe,{params:{userId:o}})}else i.startsWith("/admin/user")?a=x.jsx(BEe,{}):i.startsWith("/admin/logs")?a=x.jsx(QEe,{}):i.startsWith("/admin/dashboard")&&(a=x.jsx(t3,{}));return x.jsx(Cue,{children:a})}function tke({pillarsA:e,pillarsB:t}){const n=One(e,t);return x.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[x.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?x.jsxs("div",{className:"flex gap-2 text-xs",children:[x.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),x.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const nke=["","","","","","","","","",""],rke=["","","","","","","","","",""],ike=["","","","","","","","","","","",""],ake=["","","","","","","","","","","",""],oke=new Set([...nke,...rke]),ske=new Set([...ike,...ake]);function lke(e){return typeof e=="object"&&e!==null}function s3(e){return typeof e=="string"&&e.length>=2&&oke.has(e[0])&&ske.has(e[1])}function rn(e,...t){if(s3(e))return e;for(const n of t)if(s3(n))return n;return""}function Z0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function cke(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function l3(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,c=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(c.getTime())?null:c}function Gb(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function uke(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function ux(e){const{y:t,m:n,d:r,hh:i,mm:a}=uke(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),c=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Ui(t,n,r,c,u):new Date(t,n-1,r,c,u)}function dke(e){const t=ux(e);return`${Gb(e)}-${t.toISOString()}`}function ld(e){const t=e;return typeof t.id=="string"&&t.id?t.id:dke(e)}function fke(e){return lke(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function hke(e){const t=t4;return fke(t)?e==="classic"?t.Classic:t.Modern:e}function mke(e){if(!e)return"";const t=e,n=c=>typeof t[c]=="string"?String(t[c]).trim().toLowerCase():null,r=c=>typeof t[c]=="boolean"?t[c]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(c=>!!c);for(const c of i){if(["","","male","m","boy","man"].includes(c))return"";if(["","","female","f","girl","woman"].includes(c))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const PS="people_picker_order_v1";function pke(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function c3({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=E.useState("");E.useEffect(()=>{e||a("")},[e]);const o=E.useMemo(()=>t.map(ld),[t]),c=E.useMemo(()=>new Set(o),[o]),[u,f]=E.useState([]);E.useEffect(()=>{const _=localStorage.getItem(PS),S=_?JSON.parse(_):[],T=S.filter(O=>c.has(O)),N=[...T,...o.filter(O=>!T.includes(O))];f(N),JSON.stringify(N)!==JSON.stringify(S)&&localStorage.setItem(PS,JSON.stringify(N))},[o,c]);const m=_=>{f(_),localStorage.setItem(PS,JSON.stringify(_))},p=E.useMemo(()=>{const _=new Map(t.map(O=>[ld(O),O])),S=[];for(const O of u){const P=_.get(O);P&&S.push(P)}_.forEach((O,P)=>{u.includes(P)||S.push(O)});const T=[],N=[];for(const O of S)(typeof O.relationship=="string"?O.relationship.trim():"")===""?T.push(O):N.push(O);return[...T,...N]},[t,u]),g=E.useMemo(()=>{const _=i.trim().toLowerCase();return _?p.filter(S=>{const T=typeof S.relationship=="string"?S.relationship.trim():"";return`${Gb(S)} ${T}`.toLowerCase().includes(_)}):p},[p,i]),v=i.trim()==="",w=_=>{const{destination:S,source:T}=_;if(!S||!v||S.index===T.index)return;const N=g.map(ld),O=pke(N,T.index,S.index),M=p.map(ld).filter($=>!N.includes($)),D=[...O,...M].filter(($,H,q)=>q.indexOf($)===H);m(D)};return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),x.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),x.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),x.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("input",{value:i,onChange:_=>a(_.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),x.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),x.jsx(Vm,{onDragEnd:w,children:x.jsx(lf,{droppableId:"people-picker",children:_=>x.jsxs("ul",{className:"space-y-2",ref:_.innerRef,..._.droppableProps,children:[g.map((S,T)=>{const N=ux(S),O=typeof S.relationship=="string"?S.relationship.trim():"",P=O||" ",M=Gb(S),D=O&&M===" "?O:M;return x.jsx(sf,{draggableId:ld(S),index:T,isDragDisabled:!v,children:$=>x.jsx("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:x.jsxs("button",{onClick:()=>n(S),className:"flex-1 text-left cursor-pointer",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[x.jsx("span",{children:D}),x.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${O?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:P})]}),x.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:om(N)})]})})},ld(S))}),_.placeholder]})})})]})]})}function DS({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:c,sinsalMode:u,sinsalBloom:f}){const m=_=>{const S=o.showSibiUnseong?Oo(a,_):"",T=o.showSibiSinsal?jo({baseBranch:c,targetBranch:_,era:hke(u),gaehwa:!!f}):"";return{unseongText:S||void 0,shinsalText:T||void 0}},p=rn(t).charAt(1),g=rn(n).charAt(1),v=rn(r).charAt(1),w=rn(i).charAt(1);return x.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[x.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),x.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",rn(t),p],["",rn(n),g],["",rn(r),v],["",rn(i),w]].map(([_,S,T])=>{const{unseongText:N,shinsalText:O}=m(T);return x.jsx(pd,{label:_,gz:S,dayStem:a,settings:qn.getState().settings,unseongText:N,shinsalText:O,hideBranchSipSin:!0,size:"sm"},`${e}-${_}`)})})]})}function cd({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=qn(D=>D.settings),o=E.useMemo(()=>t?ux(t):null,[t]),c="/",u=rn(o?za(o,c):void 0),f=rn(o?gt(o,c):void 0),m=rn(o?kt(o):void 0),p=rn(o?at(o):void 0),g=E.useMemo(()=>f.charAt(0)||"",[f]),v=o,w=E.useMemo(()=>{const D=t?.birthPlace;return!D||D.name===""||!D.lon?127.5:D.lon},[t]),_=t?.mingSikType??c,S=E.useMemo(()=>{const D=v?gt(v,_).charAt(1):f.charAt(1)||"",$=v?at(v,w).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?D:$},[a.sinsalBase,v,_,w,f,p]),T=E.useMemo(()=>{if(n!==""||!o||!t)return null;try{const D=r4(o,u,t.dir,120,t.mingSikType),$=a4(D,f,t.dir,t.DayChangeRule),H=ep(o,m,t.dir,120,t?.birthPlace?.lon??127.5),q=o4(H,p,t.dir,t.DayChangeRule,o),K=r;return{si:rn(Z0(D.events,K)?.gz,u),il:rn(Z0($.events,K)?.gz,f),wl:rn(Z0(H.events,K)?.gz,m),yn:rn(Z0(q.events,K)?.gz,p)}}catch{return null}},[n,o,u,f,m,p,r,t]),N=E.useMemo(()=>{if(n!=="")return null;const D=r;return{si:rn(za(D,c)),il:rn(gt(D,c)),wl:rn(kt(D)),yn:rn(at(D))}},[n,r]),O=t?Gb(t):"",P=o?om(o):"",M=t?mke(t):"";return t?x.jsxs("div",{className:"space-y-2",children:[x.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),x.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[x.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),x.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:O}),M&&x.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",M]}),P&&x.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:P})]}),n===""&&x.jsx(DS,{label:"",gzHour:u,gzDay:f,gzMonth:m,gzYear:p,dayStem:g,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&T&&x.jsx(DS,{label:"",gzHour:T.si,gzDay:T.il,gzMonth:T.wl,gzYear:T.yn,dayStem:g,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&N&&x.jsx(DS,{label:"",gzHour:N.si,gzDay:N.il,gzMonth:N.wl,gzYear:N.yn,dayStem:g,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):x.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:x.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function gke({people:e=[]}){const[t,n]=E.useState(),[r,i]=E.useState(),[a,o]=E.useState(!1),[c,u]=E.useState(!1),f=E.useRef(new Date),[m,p]=E.useState(()=>cke(f.current)),g=E.useRef(l3(m)??f.current),v=E.useMemo(()=>{const O=l3(m);return O&&(g.current=O),g.current},[m]),[w,_]=E.useState(!1),[S,T]=E.useState(!1);function N(O){if(!O)return["","","",""];try{const P=ux(O),M="/",D={hour:rn(za(P,M)),day:rn(gt(P,M)),month:rn(kt(P)),year:rn(at(P))};return[D.year,D.month,D.day,D.hour]}catch{return["","","",""]}}return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[x.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[x.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[x.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:a,onChange:O=>o(O.target.checked),className:"accent-indigo-500"})," "]}),x.jsx("button",{onClick:()=>u(O=>!O),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:c?" ":" "})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[x.jsx(cd,{label:" A",data:t,mode:"",effectiveDate:v,onPick:()=>_(!0)}),x.jsx(cd,{label:" B",data:r,mode:"",effectiveDate:v,onPick:()=>T(!0)}),a&&t&&x.jsx(cd,{label:" A",data:t,mode:"",effectiveDate:v,onPick:()=>_(!0)}),a&&r&&x.jsx(cd,{label:" B",data:r,mode:"",effectiveDate:v,onPick:()=>T(!0)}),c&&t&&x.jsx(cd,{label:" A",data:t,mode:"",effectiveDate:v,onPick:()=>_(!0)}),c&&r&&x.jsx(cd,{label:" B",data:r,mode:"",effectiveDate:v,onPick:()=>T(!0)})]}),t&&r&&x.jsx("div",{className:"mt-4",children:x.jsx(tke,{pillarsA:N(t),pillarsB:N(r)})}),x.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[x.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),x.jsx("input",{type:"datetime-local",value:m,onChange:O=>p(O.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),x.jsx(c3,{open:w,list:e||[],onSelect:O=>{n(O),_(!1)},onClose:()=>_(!1)}),x.jsx(c3,{open:S,list:e||[],onSelect:O=>{i(O),T(!1)},onClose:()=>T(!1)})]})}function yke(){const[e,t]=E.useState(!1),[n,r]=E.useState(!1),i=async()=>{try{const{data:{user:a}}=await Le.auth.getUser();if(!a){alert("  .");return}const o=a.id,c=new Date().toISOString();await Le.from("profiles").update({disabled_at:c}).eq("id",o),await Le.from("myeongsik").update({deleted_at:c}).eq("user_id",o),await Le.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return x.jsxs(x.Fragment,{children:[x.jsxs("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700",children:[x.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),x.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[x.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),x.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:x.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[x.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),x.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[x.jsx("p",{className:"mb-2",children:"     ,    ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),x.jsxs("p",{className:"mb-2",children:["   (, )",x.jsx("br",{}),"       ( ,  )"]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),x.jsxs("p",{className:"mb-2",children:["     ",x.jsx("br",{}),"    /  ",x.jsx("br",{}),"      "]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),x.jsxs("p",{className:"mb-2",children:["     ",x.jsx("br",{}),"         "]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),x.jsx("p",{className:"mb-2",children:"   3  ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),x.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),x.jsx("p",{children:"   : unique950318@gmail.com"})]}),x.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:x.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[x.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),x.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",x.jsx("br",{}),"    ."]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),x.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function bke(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function u3(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);return!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12||o<1||o>31?null:{y:i,m:a,d:o}}function nU({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31"}){const i=E.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),a=E.useMemo(()=>bke(i),[i]),[o,c]=E.useState(a);E.useEffect(()=>{c(a)},[a]);const u=E.useRef(null),f=g=>{c(g);const v=u3(g);if(!v)return;const{y:w,m:_,d:S}=v,T=new Date(w,_,0).getDate(),N=Math.min(S,T),O=i.getHours(),P=i.getMinutes(),M=i.getSeconds(),D=i.getMilliseconds(),$=new Date(w,_-1,N,O,P,M,D);Number.isNaN($.getTime())||t($)},m=g=>{if(!g)return;c(g);const v=u3(g);if(!v)return;const{y:w,m:_,d:S}=v,T=i.getHours(),N=i.getMinutes(),O=i.getSeconds(),P=i.getMilliseconds(),M=new Date(w,_-1,S,T,N,O,P);Number.isNaN(M.getTime())||t(M)},p=()=>{const g=u.current;if(g){if(typeof g.showPicker=="function"){g.showPicker();return}g.focus(),g.click()}};return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"text",inputMode:"numeric",placeholder:"YYYY-MM-DD",value:o,onChange:g=>f(g.target.value),className:"w-[140px] h-30 rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-base desk:text-sm","aria-label":"()"}),x.jsx("button",{type:"button",onClick:p,className:"rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:""}),x.jsx("input",{ref:u,type:"date",value:o,onChange:g=>m(g.target.value),min:n,max:r,className:"sr-only","aria-hidden":"true",tabIndex:-1})]})}function vke({ms:e}){const{date:t,setDate:n}=ci(),r=E.useMemo(()=>{const u=typeof e.id=="string"?e.id:"";if(u)return u;const f=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",m=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",f,m].filter(Boolean).join("|")},[e]);E.useEffect(()=>{n(new Date)},[r]);const i=$2(e),a=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,o=E.useMemo(()=>{const u=typeof e.ganji=="string"?e.ganji:"",f=i?.dae?.gz?`${i.dae.gz}`:null,m=i?.se?.gz?`${i.se.gz}`:null,p=i?.wol?.gz?`${i.wol.gz}`:null,g=[f,m,p].filter(Boolean).join(" ");return[u,g].filter(Boolean).join(" + ")},[e.ganji,i]),c=u=>{n(u)};return x.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[o&&x.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:o}),x.jsx("div",{className:"grid grid-cols-1 gap-3",children:x.jsxs("label",{className:"w-full flex justify-center items-center",children:[x.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),x.jsx(nU,{date:a,onChange:c,min:"1900-01-01",max:"2100-12-31"})]})})]})}function xke(){const[e,t]=E.useState(!1),[n,r]=E.useState(!1),[i,a]=E.useState(!1),[o,c]=E.useState(!1),[u,f]=E.useState(!1);E.useEffect(()=>{setTimeout(()=>t(!0),50),setTimeout(()=>r(!0),250),setTimeout(()=>a(!0),450)},[]);const m=()=>u?!0:(Ed.error(`   
  .`),!1),p=async()=>{if(!m())return;const{error:v}=await Le.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});v&&(console.error("Google Login Error:",v),Ed.error("   ."))},g=async()=>{if(!m())return;const{error:v}=await Le.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:`${window.location.origin}/`}});v&&(console.error("Kakao Login Error:",v),Ed.error("   ."))};return x.jsxs("main",{className:`flex min-h-screen items-center justify-center bg-neutral-950 text-white px-4 transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[x.jsxs("div",{className:`transform transition-all duration-500 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} absolute top-16 text-center`,children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-1",children:""}),x.jsx("p",{className:"text-sm text-neutral-400",children:"    "})]}),x.jsxs("div",{className:`w-full max-w-sm rounded-2xl bg-neutral-900 p-8 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,children:[x.jsx("h1",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),x.jsxs("p",{className:"mb-6 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",x.jsx("br",{}),"     "]}),x.jsx("div",{className:"mb-5 space-y-2",children:x.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:u,onChange:()=>f(!u),className:"mt-[2px]"}),x.jsxs("span",{children:["  .",x.jsx("button",{type:"button",onClick:()=>c(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("button",{type:"button",onClick:p,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[x.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),x.jsx("span",{children:"  "})]}),x.jsxs("button",{type:"button",onClick:g,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[x.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),x.jsx("span",{children:" "})]})]})]}),x.jsx(V3,{position:"top-center",toastOptions:{duration:2e3}}),o&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>c(!1),children:x.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:v=>v.stopPropagation(),children:[x.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),x.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[x.jsx("p",{className:"mb-2",children:"( )     ,      ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),x.jsxs("p",{className:"mb-2",children:["   ,  (,  )",x.jsx("br",{}),"       ( ,  )"]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),x.jsxs("p",{className:"mb-2",children:["     ",x.jsx("br",{}),"      ",x.jsx("br",{}),"      "]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),x.jsxs("p",{className:"mb-2",children:["     ",x.jsx("br",{}),"           "]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),x.jsx("p",{className:"mb-2",children:"          ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),x.jsx("p",{className:"mb-2",children:" Supabase        ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),x.jsx("p",{children:"   : unique950318@gmail.com"})]}),x.jsx("button",{onClick:()=>c(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function _ke({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:c}){return x.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:"/"}),x.jsxs("span",{className:"mr-3 chkContainer",children:[x.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),x.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),x.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:" "}),x.jsxs("span",{className:"mr-3 chkContainer",children:[x.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),x.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),x.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:""}),x.jsxs("span",{className:"mr-3 chkContainer",children:[x.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>c("male")}),x.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>c("female")}),x.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function wke({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return x.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),c=t===i;return x.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",c?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,x.jsx("br",{}),x.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function Ske({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?x.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):x.jsxs("table",{className:"w-full text-xs",children:[x.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""})]})}),x.jsx("tbody",{children:e.map((i,a)=>x.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[x.jsx("td",{className:"p-1 text-center",children:x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),x.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),x.jsx("td",{className:"p-1 text-center",children:i.date}),x.jsx("td",{className:"p-1 text-center",children:i.year}),x.jsx("td",{className:"p-1 text-center",children:i.month}),x.jsx("td",{className:"p-1 text-center",children:i.day}),x.jsx("td",{className:"p-1 text-center",children:x.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,c)=>x.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:x.jsx("b",{children:o.branch})},c))})}),x.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):x.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function Eke({toast:e,showToast4:t,searchToast:n,error:r}){return x.jsxs(x.Fragment,{children:[e&&x.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:x.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&x.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:x.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&x.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:x.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",x.jsx("br",{}),"   ."]})}),r&&x.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function kke({choices:e,onChoose:t}){return!e||e.length===0?null:x.jsxs("div",{className:"mb-3",children:[x.jsx("p",{className:"text-sm mb-1",children:"  ."}),x.jsx("div",{className:"flex gap-2",children:e.map(n=>x.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const LT=["","","","","","","","","",""],Sp=["","","","","","","","","","","",""],Ake={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},rU=["","","","","","","","","","","",""],Tke=Sp,Oke=rU,jke=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],Nke={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Cke={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Bm(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=Ake[n],i=rU.indexOf(t),a=(r+(i>=0?i:0))%10;return LT[a]}function dx(e,t){const n=t===""?Tke:Oke,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=Sp.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=LT[(r+a)%10],c=n[a];i[c]=`${o}${c}`}return i}const Mke={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function Pke(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function Dke({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?x.jsxs("div",{className:"w-full",children:[n&&x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:""}),x.jsx("div",{className:"grid grid-cols-5 gap-2",children:LT.map(o=>x.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Bi(o,"stem",a)}`,children:o},o))})]}),r&&x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:""}),x.jsx("div",{className:"grid grid-cols-6 gap-2",children:Sp.filter(o=>{const c=Pke(e),u=t[c];return u?Cke[o]===Nke[u]:!0}).map(o=>x.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Bi(o,"branch",a)}`,children:o},o))})]})]}):x.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function Rke(){const[e,t]=E.useState({}),[n,r]=E.useState(null),[i,a]=E.useState(null),[o,c]=E.useState(!0),[u,f]=E.useState(!0),[m,p]=E.useState(""),[g,v]=E.useState("male"),[w,_]=E.useState(null),[S,T]=E.useState(!1),[N,O]=E.useState(null),[P,M]=E.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[D,$]=E.useState(!1),[H,q]=E.useState(null),[K,F]=E.useState(null),[z,Z]=E.useState(!1),[Q,J]=E.useState(!1),Y=X=>{F(X),setTimeout(()=>F(null),1800)};return E.useEffect(()=>{if(!z)return;const X=setTimeout(()=>Z(!1),2e3);return()=>clearTimeout(X)},[z]),E.useEffect(()=>{if(!Q)return;const X=setTimeout(()=>J(!1),2e3);return()=>clearTimeout(X)},[Q]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:c,useSiju:u,setUseSiju:f,hourRule:m,setHourRule:p,gender:g,setGender:v,results:w,setResults:_,searching:S,setSearching:T,selectedRow:N,setSelectedRow:O,form:P,setForm:M,unknownPlace:D,setUnknownPlace:$,error:H,setError:q,toast:K,showToast4:z,setShowToast:Z,searchToast:Q,setSearchToast:J,showToast:Y}}function iU(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function d3(e,t){return Sp.filter(n=>Bm(e,n)===t)}function f3(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=d3(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=Bm(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=d3(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=Bm(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function Lke(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=dx(i.dayStem,r),o=u=>Object.entries(a).find(([,f])=>f.startsWith(u)),c=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=c(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=c(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function Ike(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?Bm(e.yearStem,e.monthBranch)!==e.monthStem:!1}function $ke(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=dx(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function RS(e,t,n){const i=dx(e,t)[n];return i?i.slice(0,1):null}function Bke({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:c,useSiju:u,setUseSiju:f,hourRule:m,setHourRule:p,setResults:g,setError:v,showToast:w}){const _=o||u,S=!!(e.yearStem&&e.yearBranch),T=!!(e.dayStem&&e.dayBranch),N=!_||S||T,O=!!n&&n.endsWith("Stem"),P=!!n&&n.endsWith("Branch"),M=E.useMemo(()=>iU(e),[e]);return E.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const z=RS(e.dayStem,m,e.hourBranch);z&&t(Z=>({...Z,hourStem:z}))}},[m,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:_,canEnterOthers:N,activeIsStem:O,activeIsBranch:P,filledAll:M,monthBranchChoices:i,handleSelect:z=>{if(!n)return;if(!N&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){v("/      ."),setTimeout(()=>v(null),1500);return}let Q={...e,[n]:z};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const X=f3(Q,n,o);Q=X.next,a(X.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(Q=Lke(Q,n,u,m));let J=!1;Ike(Q,o)&&(c(!1),J=!0),$ke(Q,u,m)&&(f(!1),J=!0),J&&w("/  .  ."),t(Q),g(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const X={...Q};if(X.yearStem&&X.yearBranch&&!X.monthStem){r("monthStem");return}if(X.monthStem&&X.monthBranch&&!X.dayStem){r("dayStem");return}if(X.dayStem&&X.dayBranch&&!X.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:z=>{let Z={...e,monthBranch:z};a(null),Z=f3(Z,"monthBranch",o).next,t(Z),r("dayStem")},clearAll:()=>{t({}),g(null),v(null),r(null),a(null)},onToggleWoldu:z=>{g(null),z&&t(Z=>{const Q={...Z};return Q.yearStem&&Q.monthBranch&&(Q.monthStem=Bm(Q.yearStem,Q.monthBranch)),Q}),c(z)},onToggleSiju:z=>{g(null),z&&t(Z=>{const Q={...Z};if(Q.dayStem&&Q.hourBranch){const J=RS(Q.dayStem,m,Q.hourBranch);J&&(Q.hourStem=J)}return Q}),f(z)},onChangeHourRule:z=>{if(g(null),p(z),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const Z=RS(e.dayStem,z,e.hourBranch);Z&&t(Q=>({...Q,hourStem:Z}))}}}}function zke(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,c=t!==null?n?.filter((K,F)=>F===t)??[]:[];if(c.length===0)return{error:"  ."};const u=c[0],f=i===""?"/":"",[m,p,g]=u.date.split("-").map(Number);let v=0,w=0;if(u.hourSlots.length>0){const K=u.hourSlots[0].branch,F=Mke[K];F&&(v=F.hh,w=F.mi)}const _=new Date(m,p-1,g,v,w),S=_,T="",N=r==="male"?"":"",O=Uke(u.year.charAt(0),N),P=at(S,127.5),M=kt(S,127.5),D=gt(S,f),$=za(S,f),H=[`: ${P} ${M} ${D}`,$?`${$}`:null].filter(Boolean).join(" ");return{payload:{id:X5(),name:"",birthDay:`${m}${String(p).padStart(2,"0")}${String(g).padStart(2,"0")}`,birthTime:`${String(v).padStart(2,"0")}${String(w).padStart(2,"0")}`,gender:N,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:Gc(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:H,dayStem:u.day.charAt(0),dateObj:_,corrected:S,correctedLocal:T,dir:O,favorite:!1}}}function Uke(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function Fke(e){Br.getState().add(e)}function Hke(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,c=`${e.hourStem}${e.hourBranch}`,u=[],f=new Date(1900,0,1,12,0,0),m=new Date(2100,11,31,12,0,0);for(let p=f.getTime();p<=m.getTime();p+=24*3600*1e3){const g=new Date(p),v=at(g);if(v!==i)continue;const w=kt(g);if(w!==a)continue;const _=gt(g,n);if(_!==o)continue;const S=dx(e.dayStem,t),T=[];for(let N=0;N<12;N++){const O=Sp[N];S[O]===c&&T.push({branch:O,time:jke[N]})}if(T.length!==0&&(u.push({date:`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`,year:v,month:w,day:_,hour:c,hourSlots:T}),u.length>=r))break}return u}function Gke({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:c,setSearching:u,setError:f,setSearchToast:m,setForm:p,setUnknownPlace:g,showToast:v,onSave:w,onClose:_}){return{doSearch:()=>{if(c(null),f(null),!iU(e)){f(" 4  .");return}u(!0);try{const O=Hke(e,t,t===""?"/":"");O.length===0&&f("  . (: 1900~2100)"),c(O)}catch(N){N instanceof Error?f(N.message):f(String(N))}finally{u(!1)}},handleSave:()=>{const N=zke({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in N){m(!0);return}ef.flushSync(()=>{Fke(N.payload)}),w(N.payload),v(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),g(!1),_()}}}function qke({open:e,onClose:t,onSave:n}){const{settings:r}=qn(),i=Rke(),a=Bke({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=Gke({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?x.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:x.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[x.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:x.jsx(s7,{size:20})}),x.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),x.jsx(_ke,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&x.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",x.jsx("br",{}),x.jsx("b",{children:""}),"  ",x.jsx("b",{children:""})," ."]}),x.jsx(wke,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),x.jsx(kke,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),x.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:x.jsx(Dke,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),x.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[x.jsx("span",{children:x.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),x.jsxs("span",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),x.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),x.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:x.jsx(Ske,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),x.jsx(Eke,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function Yke({copiedInfo:e,copiedAll:t,canCopyInfo:n,canCopyAll:r,lockTitle:i,onCopyInfoOnly:a,onCopyAll:o}){const c=i?" ":"";return x.jsxs("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "}),x.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[x.jsx("button",{type:"button",onClick:a,disabled:!n,title:n?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",n?"cursor-pointer":"cursor-not-allowed opacity-50",e?"bg-green-600 text-white border-green-600":n?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:e?"":`  ${n?"":c}`}),x.jsx("button",{type:"button",onClick:o,disabled:!r,title:r?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",r?"cursor-pointer":"cursor-not-allowed opacity-50",t?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:t?"":`  ${r?"":c}`})]})]})}function Kke({sections:e,toggleSection:t}){return x.jsxs("div",{className:"mt-3 border-t pt-2",children:[x.jsx("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"   "}),x.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function Wke({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return x.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[x.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),x.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(c=>x.jsx("button",{type:"button",onClick:()=>n(c),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===c?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[c].label},c))}),x.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),x.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),x.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function Vke({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return x.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[x.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>x.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&x.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>x.jsx("option",{value:o.key,children:o.label},o.key))})]})}function Zke({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?x.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"font-semibold",children:" "}),x.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[x.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),x.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("span",{className:"font-semibold",children:"  "}),x.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[x.jsx("option",{value:"",children:" "}),a.map(o=>x.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function Xke({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),x.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function Jke({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[x.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const c=!a&&o!=="",u=!c&&t===o;return x.jsxs("button",{type:"button",onClick:()=>{c||n(o)},disabled:c,title:c?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",c?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":c?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",c?"":""]},o)})}),x.jsx(nU,{date:r,onChange:i})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[x.jsx("p",{children:"      ."}),x.jsx("p",{children:"     ."}),x.jsx("p",{children:"      ."})]})]})}function Qke({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:c,onSeEndChange:u,onSeStartBlur:f,onSeEndBlur:m,seYearsCount:p,wolStartDate:g,wolEndDate:v,onWolStartChange:w,onWolEndChange:_,onWolStartBlur:S,onWolEndBlur:T,wolMonthsCount:N,ilStartDate:O,ilEndDate:P,onIlStartChange:M,onIlEndChange:D,onIlStartBlur:$,onIlEndBlur:H,ilDaysCount:q}){return x.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[x.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(K=>x.jsx("button",{type:"button",onClick:()=>t(K),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===K?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:K},K))}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),x.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((K,F)=>x.jsxs("button",{type:"button",onClick:()=>i(F),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(F)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[x.jsx("div",{className:"font-mono",children:K.gz}),x.jsxs("div",{className:"text-[10px] opacity-80",children:[K.age," (",K.startYear,"~",K.endYear,")"]})]},F))})]}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("input",{type:"number",value:a,onChange:K=>c(Number(K.target.value)),onBlur:f,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),x.jsx("span",{className:"text-xs",children:"~"}),x.jsx("input",{type:"number",value:o,onChange:K=>u(Number(K.target.value)),onBlur:m,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("input",{type:"month",value:g,onChange:K=>w(K.target.value),onBlur:S,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),x.jsx("span",{className:"text-xs",children:"~"}),x.jsx("input",{type:"month",value:v,onChange:K=>_(K.target.value),onBlur:T,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",N,""]})]}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 30)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("input",{type:"date",value:O,onChange:K=>M(K.target.value),onBlur:$,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),x.jsx("span",{className:"text-xs",children:"~"}),x.jsx("input",{type:"date",value:P,onChange:K=>D(K.target.value),onBlur:H,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",q,""]})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[x.jsxs("p",{children:[" ",e,"   ."]}),x.jsx("p",{children:"    ."})]})]})}function e2e({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:c}){const u=c?" ":"";return x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&x.jsx("button",{type:"button",onClick:i,disabled:o,title:o?c:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),x.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?c:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),x.jsxs("div",{className:"mb-4 text-center",children:[x.jsx("button",{type:"button",onClick:n,disabled:o,title:o?c:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&x.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&x.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((f,m)=>x.jsxs("li",{className:"flex gap-1 items-start",children:[x.jsxs("span",{className:"shrink-0",children:[m+1,"."]}),x.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:f}),x.jsx("button",{type:"button",onClick:()=>a(m),disabled:o,title:o?c:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},m))})]})}function t2e({value:e,lockSelection:t=!1}){return t?x.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:" ,  ."}):x.jsx("textarea",{readOnly:!0,value:e,placeholder:"   .",className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 overflow-y-auto resize-none"})}const n2e={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},r2e=["","","","",""],i2e={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},h3={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function a2e(){const[e,t]=E.useState(null);return E.useEffect(()=>{let n=!0;return Le.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const o2e={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},qb=au(e=>({sections:o2e,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),LS=1e3*60*60*24;function IS(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function X0(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function J0(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function m3(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function p3(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function s2e(){const e=new Date().getFullYear(),[t,n]=E.useState(e),[r,i]=E.useState(e),[a,o]=E.useState(()=>p3()),[c,u]=E.useState(()=>p3()),[f,m]=E.useState(()=>m3()),[p,g]=E.useState(()=>m3()),v=J=>{n(J)},w=J=>{i(J)},_=()=>{const J=t;let Y=r;Y<J&&(Y=J),Y-J>9&&(Y=J+9),i(Y)},S=()=>{let J=t;const Y=r;Y<J&&(J=Y),Y-J>9&&(J=Y-9),n(J)},T=E.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const J=r-t+1;return J>0?J:0},[t,r]),N=E.useMemo(()=>{const J=[];if(!Number.isFinite(t)||!Number.isFinite(r))return J;for(let Y=t;Y<=r&&J.length<10;Y++)J.push(Y);return J},[t,r]),O=J=>{o(J)},P=J=>{u(J)},M=()=>{const[J,Y]=a.split("-").map(Number),[X,re]=c.split("-").map(Number),ue=new Date(J,Y-1),se=new Date(X,re-1);if(se<ue){u(X0(ue));return}if(IS(ue,se)>11){const W=new Date(ue);W.setMonth(ue.getMonth()+11),u(X0(W))}},D=()=>{const[J,Y]=a.split("-").map(Number),[X,re]=c.split("-").map(Number),ue=new Date(J,Y-1),se=new Date(X,re-1);if(se<ue){o(X0(se));return}if(IS(ue,se)>11){const W=new Date(se);W.setMonth(se.getMonth()-11),o(X0(W))}},$=E.useMemo(()=>{const[J,Y]=(a||"").split("-").map(Number),[X,re]=(c||"").split("-").map(Number);if(!Number.isFinite(J)||!Number.isFinite(Y)||!Number.isFinite(X)||!Number.isFinite(re))return 0;const ue=new Date(J,Y-1,1),se=new Date(X,re-1,1),B=IS(ue,se)+1;return B>0?B:0},[a,c]),H=E.useMemo(()=>{const J=[],[Y,X]=a.split("-").map(Number),[re,ue]=c.split("-").map(Number),se=new Date(Y,X-1),B=new Date(re,ue-1);if(Number.isNaN(se.getTime())||Number.isNaN(B.getTime()))return J;for(;se<=B&&J.length<12;)J.push(`${se.getFullYear()}-${String(se.getMonth()+1).padStart(2,"0")}`),se.setMonth(se.getMonth()+1);return J},[a,c]),q=J=>{m(J)},K=J=>{g(J)},F=()=>{if(!f||!p)return;const[J,Y,X]=f.split("-").map(Number),[re,ue,se]=p.split("-").map(Number),B=new Date(J,Y-1,X,4,0,0),W=new Date(re,ue-1,se,4,0,0);if(W<B){g(J0(B));return}if(Math.floor((W.getTime()-B.getTime())/LS)>7){const V=new Date(B);V.setDate(B.getDate()+6),g(J0(V))}},z=()=>{if(!f||!p)return;const[J,Y,X]=f.split("-").map(Number),[re,ue,se]=p.split("-").map(Number),B=new Date(J,Y-1,X,4,0,0),W=new Date(re,ue-1,se,4,0,0);if(B>W){m(J0(W));return}if(Math.floor((W.getTime()-B.getTime())/LS)>7){const V=new Date(W);V.setDate(W.getDate()-6),m(J0(V))}},Z=E.useMemo(()=>{const[J,Y,X]=(f||"").split("-").map(Number),[re,ue,se]=(p||"").split("-").map(Number);if(!Number.isFinite(J)||!Number.isFinite(Y)||!Number.isFinite(X)||!Number.isFinite(re)||!Number.isFinite(ue)||!Number.isFinite(se))return 0;const B=new Date(J,Y-1,X,4,0,0),W=new Date(re,ue-1,se,4,0,0),ae=Math.floor((W.getTime()-B.getTime())/LS)+1;return ae>0?ae:0},[f,p]),Q=E.useMemo(()=>{const J=[],[Y,X,re]=f.split("-").map(Number),[ue,se,B]=p.split("-").map(Number),W=new Date(Y,X-1,re,4,0,0),ae=new Date(ue,se-1,B,4,0,0);if(Number.isNaN(W.getTime())||Number.isNaN(ae.getTime()))return J;const V=new Date(W);for(;V<=ae&&J.length<31;){const oe=V.getFullYear(),me=String(V.getMonth()+1).padStart(2,"0"),pe=String(V.getDate()).padStart(2,"0");J.push(`${oe}-${me}-${pe}`),V.setDate(V.getDate()+1)}return J},[f,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:c,ilStartDate:f,ilEndDate:p,onSeStartChange:v,onSeEndChange:w,onSeStartBlur:_,onSeEndBlur:S,onWolStartChange:O,onWolEndChange:P,onWolStartBlur:M,onWolEndBlur:D,onIlStartChange:q,onIlEndChange:K,onIlStartBlur:F,onIlEndBlur:z,seYearsCount:T,wolMonthsCount:$,ilDaysCount:Z,seYearsList:N,wolMonthsList:H,ilDaysList:Q}}function l2e({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=qb(se=>se.sections),i=qb(se=>se.toggleSection),[a,o]=E.useState("analysis"),[c,u]=E.useState(!1),[f,m]=E.useState(!1),[p,g]=E.useState(""),[v,w]=E.useState("personality"),[_,S]=E.useState("overview"),[T,N]=E.useState("solo"),[O,P]=E.useState(""),[M,D]=E.useState(!1),[$,H]=E.useState(""),[q,K]=E.useState([]),[F,z]=E.useState(""),[Z,Q]=E.useState([]),J=s2e();E.useEffect(()=>{v!=="love"&&v!=="compat"&&(N("solo"),g(""))},[v]),E.useEffect(()=>{!t&&M&&D(!1)},[t,M]),E.useEffect(()=>{!n&&O!==""&&P("")},[n,O]),E.useEffect(()=>{$!==""&&K([])},[$]),E.useEffect(()=>{z(""),Q([])},[e]);function Y(){const se=F.trim();se&&(Q(B=>[...B,se]),z(""))}function X(se){Q(B=>B.filter((W,ae)=>ae!==se))}function re(){Q([])}function ue(se){K(B=>B.includes(se)?B.filter(W=>W!==se):[...B,se])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:c,setFriendMode:u,teacherMode:f,setTeacherMode:m,partnerId:p,setPartnerId:g,mainCategory:v,setMainCategory:w,subCategory:_,setSubCategory:S,relationMode:T,setRelationMode:N,activeTab:O,setActiveTab:P,isMultiMode:M,setIsMultiMode:D,multiTab:$,setMultiTab:H,selectedDaeIdx:q,setSelectedDaeIdx:K,handleToggleDae:ue,rangeControls:J,questionDraft:F,setQuestionDraft:z,extraQuestions:Z,setExtraQuestions:Q,handleAddQuestion:Y,handleRemoveQuestion:X,handleClearQuestions:re}}const aU=au(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function IT(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=Ui(t,n,r);t=O.getFullYear(),n=O.getMonth()+1,r=O.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),c=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,f=Zm(c,u,i),m=e.mingSikType??"/",p=at(f,u),g=kt(f,u),v=gt(f,m),w=i?null:za(f,m),_=De(p),S=De(g),T=De(v),N=w?De(w):"";return[_,S,T,N]}function oU(e){const t=new Date(e.corrected),n=IT(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",c=o&&a||!o&&!a?"forward":"backward",u=ep(t,n[1],c,120,e.birthPlace?.lon??127.5),f=u.firstChange;if(!f)return[];const m=[];let p=De(u.events[0]?.gz??n[1]);for(let g=0;g<10;g++){const v=new Date(f);if(v.setFullYear(v.getFullYear()+g*10),g>0){const w=u.events[g];w&&(p=De(w.gz))}m.push(`${v.getFullYear()} ${String(v.getMonth()+1).padStart(2,"0")} ${p}  `)}return m}const c2e=["- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    ."],u2e=["- :     . ////  .","- :  ,  .    . //   .","- : ~  //     .    .","- , /      , ////   .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""," ","-  .  /  /  ","-   =  . 1~2 "];function d2e(e,t){e.push("### ()");const n=t?u2e:c2e;e.push(...n)}function f2e(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function h2e(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...c)=>e.push(...c);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."):o("","## ()","-  /  .","-         .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function m2e(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function p2e(e,t){h2e(e,t)||m2e(e,t)}function g2e(e){return e==="multi"?"multi":"single"}function sU(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const c=g2e(r),u=[],f=o===!0;return d2e(u,f),t==="etc"||(f2e(u,{mode:c,tab:i,isStudyTone:f}),p2e(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:f})),u.join(`
`)}const y2e=!1,g3=e=>e<10?`0${e}`:`${e}`;function b2e(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const c=Ui(i,a,o,0,0),u=`${c.getFullYear()}${g3(c.getMonth()+1)}${g3(c.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const Qh={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},em={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ru={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Q0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},v2e=["","","","",""];function y3(e){return v2e.includes(e)}const lU={:"",:"",:"",:"",:""},cU={:"",:"",:"",:"",:""},uU={:"",:"",:"",:"",:""},dU={:"",:"",:"",:"",:""};function Rk(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Qh[t])return Qh[t];if(["","","","","","","","","","","",""].includes(t))return Q0[t]??null;if(em[t])return Q0[em[t]]??null;const n=t.charAt(0);return Qh[n]?Qh[n]:["","","","","","","","","",""].includes(n)?n:em[n]?Q0[em[n]]??null:["","","","","","","","","","","",""].includes(n)?Q0[n]??null:null}function x2e(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Rk(n);i&&(t[i]=(t[i]??0)+r)}return t}function _2e(e){if(!e)return[];const t=Rk(e.charAt(0)),n=Rk(e.charAt(1));return[t,n].filter(Boolean)}function ey(e){const t=_2e(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function w2e(e,t){const n=ru[e],r=ru[t];if(!n||!r)return"";let i;r===n?i="":r===lU[n]?i="":r===cU[n]?i="":r===uU[n]?i="":r===dU[n]?i="":i="";const a=y3(e)===y3(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function fU(e,t){return t===e?"":t===lU[e]?"":t===cU[e]?"":t===uU[e]?"":t===dU[e]?"":""}function hU(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const o=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}const S2e={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},E2e=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=Qh[t]??t,i=em[n]??n;return`${r}${i}`},$T=e=>{const t=E2e(e),n=S2e[t];return n?{...n,code:t}:null};function mU(e,t){const n=b2e(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let c="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),f=String(n.corrected.getMinutes()).padStart(2,"0");c=t?"":`${u}:${f}`}return`${i} ${a} ${o}  ${c}`}function k2e(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=ru[n];i&&(t[i]+=r)}return t}function A2e(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=w2e(t,r);n[a]+=i}return n}function T2e(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const O2e={natal:50,dae:30,se:20,wol:7,il:3};function j2e(e){const t={};for(const{kind:r,bare:i}of e){const a=O2e[r]??0;if(a<=0)continue;const o=hU(i);for(const[c,u]of Object.entries(o))t[c]=(t[c]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function pU(e,t,n){const r=x2e(e.perStemElementScaled),i=t!==""&&n?.dae?ey(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?ey(n.se):{},o=(t===""||t==="")&&n?.wol?ey(n.wol):{},c=t===""&&n?.il?ey(n.il):{},u=j2e([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:c}]),f=hU(u),m=k2e(f),p=A2e(f,e.dayStem),g=T2e(p);return{perStemAugBare:f,elementPercent:m,totalsSub:p,totalsMain:g}}function gU(e){return!e.birthTime||e.birthTime===""}function yU(e,t){return t[3]?["","","",""]:["","",""]}function N2e(e,t){return e.map((n,r)=>t[r]??"")}const C2e=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Yb(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>Yb(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(C2e(e)){const t={};for(const[n,r]of Object.entries(e)){const i=Yb(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function M2e(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function P2e(e,t){const n=Yb(e);if(n===void 0)return"";const r=M2e(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function bU(e,t,n){const r=P2e(t,n);return r.trim()?`## ${e}
${r}`:""}const Fn=(e,t)=>bU(e,t,"plain"),Pr=(e,t)=>bU(e,t,"fenced"),D2e=(e,t)=>{if(!e)return{};const n=t,r=c=>{if(!c)return;const u={};for(const[f,m]of Object.entries(c)){if(!Array.isArray(m))continue;const p=m.filter(g=>typeof g=="string"&&g.includes(n));p.length>0&&(u[f]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},R2e=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function Lk(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${fU(t,n)})`,r]))}function L2e(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let c=0;c<r.length;c++){const u=n[c]??"";u&&a.push({kind:"natal",pos:r[c],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function I2e(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${De(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${De(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${De(t.wol)}`),e===""&&t.il&&n.push(`:${De(t.il)}`),n.length>0?n.join(" / "):"()"}function vU(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:c,category:u,topic:f,subTopic:m,relationMode:p,teacherMode:g,sections:v}=e,w=v?.tenGod??!0,_=v?.twelveUnseong??!0,S=v?.twelveShinsal??!0,T=v?.shinsal??!0,N=v?.nabeum??!0,O=gU(t),P=De(n[3]??""),M=!!P,D=[De(n[0]??""),De(n[1]??""),De(n[2]??""),P],$=oU(t).slice(0,10),H=_l({natal:D,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),q=zd({natal:D,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:K,shinsalGaehwa:F,shinsalBase:z}=aU.getState(),Z=z===""?D[0]?.charAt(1)??"":D[2]?.charAt(1)??"",Q=pU(o,a,r),J=Q.elementPercent,Y=Q.totalsSub,{flags:X}=X4(D,o.elementScoreRaw),re=`${u} (${c.toFixed(1)}%)  ${[` ${X..||X..||X..||X..?"":""}`,` ${X..||X..||X..||X..?"":""}`,` ${X..||X..?"":""}`].join(", ")}`,ue=yU(t,D),se=o.dayStem,B=ru[se]??ru[o.dayStem]??"",W=[` : ${t.name??""} (${mU(t,O)}) : ${t.gender}`,` ${D[0]} ${D[1]} ${D[2]}`+(M?` ${D[3]}`:""),`: ${I2e(a,r)}`].join(`
`),ae=[];ae.push(Pr("  (10)",$)),ae.push(Pr("",re)),ae.push(Pr("(  )",Lk(o.natalFixed.elementPercent100,B))),a!==""&&ae.push(Pr(`(=${a})`,Lk(J,B))),w&&(ae.push(Pr(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ae.push(Pr(` ( 10=${a} 100)`,Y)));const V=L2e({tab:a,natal:D,posLabels:ue,chain:r});if(_){const ne=V.map(({pos:Oe,gz:Ce})=>({pos:Oe,gz:Ce,unseong:Oo(D[2]?.charAt(0)??"",Ce.charAt(1))}));ae.push(Pr("(+ )",ne))}if(S){const ne=V.map(({pos:Oe,gz:Ce})=>({pos:Oe,gz:Ce,shinsal:jo({baseBranch:Z,targetBranch:Ce.charAt(1),era:K,gaehwa:F})}));ae.push(Pr("(+  )",ne))}if(N){const ne=[];for(const Oe of V){const Ce=$T(Oe.gz);if(!Ce){Oe.kind==="natal"&&ne.push({pos:Oe.pos,gz:Oe.gz,nabeum:null});continue}ne.push({pos:Oe.pos,gz:Oe.gz,nabeum:Ce.name,element:Ce.element,code:Ce.code})}ae.push(Pr("(+ )",ne))}if(ae.push(Pr("()",X2(ue.map((ne,Oe)=>D[Oe]??"")))),ae.push(Pr("( :  )",H)),T)if(a===""){const ne=zd({natal:D,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ae.push(Pr("( )",{good:ne.good,bad:ne.bad,meta:ne.meta}))}else ae.push(Pr(`( =${a})`,q));const oe=ae.filter(ne=>ne&&ne.trim().length>0).join(`

`),me=sU({topic:f,subTopic:m,timeMode:"single",tab:a,relationMode:p,teacherMode:g}),pe=["-----","  ","","1.       (////)  .","2.  ,        ."];me&&pe.push("","  ( )",me);const be=pe.join(`
`);return{header:W,body:oe,guide:be}}function $2e(e){const{header:t,body:n,guide:r}=vU(e);return[t,n,r].join(`

`)}function xo(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:c,unified:u,dayEl:f,baseDayStem:m,show:p,shinsalSettings:g,harmonyMode:v="scope",includeBasicInfo:w=!0}=e,_=pU(u,t,i),S=_l({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),T=p.shinsal?zd({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:c}):null,N=p.nabeum?$T(r):null,O=p.twelveUnseong?Oo(m,r.charAt(1)):null,P=p.twelveShinsal?jo({baseBranch:g.baseBranch,targetBranch:r.charAt(1),era:g.era,gaehwa:g.gaehwa}):null,M=v==="full"?S:R2e(S,t);return{...w?{:n,:r}:{},:Lk(_.elementPercent,f),...p.tenGod?{:_.totalsSub}:{},:M,...p.shinsal?{:D2e(T,t)}:{},...p.nabeum?{:N?{gz:r,nabeum:N.name,element:N.element,code:N.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:O}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:P}}:{}}}function B2e(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(n.length===0||t.length===0)return[];const m=[];for(const p of t){const g={dae:p.gz,se:null,wol:null,il:null},v=xo({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:g,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"full",includeBasicInfo:!1});m.push(Fn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,v))}return m.filter(p=>p.trim().length>0)}function BT(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function xU(e,t){const n=e[t],r=e[t+1];return r?BT(r):new Date(n.endYear+1,0,1)}function _U(e,t,n,r){return e<r&&t>n}function wU(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const c=e[o],u=BT(c),f=xU(e,o);_U(u,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function SU(e,t){return wU(e,t,t)}function Kb(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const c=e[o],u=BT(c),f=xU(e,o);_U(u,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function EU(e){const t=315569259747e-1,i=Date.UTC(1900,1,4,7,15,0)+(e-1900)*t+3*t/24,a=new Date(i);return new Date(a.getTime()+540*60*1e3)}function Wb(e,t){const n=[],r=new Date(e,t-1,15,0,0,0),i=new Date(e,t,1,15,0,0),a=EU(e),o=at(new Date(e-1,5,15)),c=at(new Date(e,5,15)),u=at(new Date(e+1,5,15));if(i<=a)o&&n.push(De(o));else if(r>=a)c&&n.push(De(c));else if(o&&n.push(De(o)),c){const f=De(c);n.includes(f)||n.push(f)}if(t===12&&u){const f=De(u);n.includes(f)||n.push(f)}return n}function z2e(e,t){const n=EU(e),r=new Date(e,t-1,1),i=[];return r<n&&i.push(e-1),r>=n&&i.push(e),t===12&&i.push(e+1),i}function U2e(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const m=[],p=t[0],g=t[t.length-1],v=wU(n,p,g);if(v.length>0){const w=p,_=at(new Date(w,5,15)),S=De(_||""),T={:v.map(N=>{const O={dae:N.gz,se:S||null,wol:null,il:null};return xo({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:O,natal:r,relationArgs:{daewoon:N.gz,sewoon:S||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};m.push(Fn("",T))}for(const w of t){const _=at(new Date(w,5,15)),S=SU(n,w),T=S.length>0?S[0]:null,N=De(_||""),O={dae:T?T.gz:null,se:N||null,wol:null,il:null},P=xo({scope:"",infoText:`${w} ${N}`,gz:N,chain:O,natal:r,relationArgs:{daewoon:T?.gz,sewoon:N||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});m.push(Fn(` ${w}`,{:P}))}return m.filter(w=>w.trim().length>0)}function F2e(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const m=[],p=[],g=new Map;for(const T of t){const[N,O]=T.split("-").map(Number),P=Kb(n,N,O);for(const $ of P)p.some(H=>H.gz===$.gz&&H.startYear===$.startYear)||p.push($);const M=z2e(N,O);Wb(N,O).forEach(($,H)=>{const q=M[H]??M[M.length-1];g.has($)||g.set($,{year:q,month:O})})}const[v]=t[0].split("-").map(Number),w=at(new Date(v,5,15)),_=De(w||"");if(p.length>0){const T={:p.map(N=>{const O={dae:N.gz,se:_||null,wol:null,il:null};return xo({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:O,natal:r,relationArgs:{daewoon:N.gz,sewoon:_||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};m.push(Fn("",T))}const S=Array.from(g.keys());if(S.length>0){const T={:S.map(N=>{const P=g.get(N).year,D=SU(n,P)[0]??p[0]??null,$={dae:D?D.gz:null,se:N,wol:null,il:null};return xo({scope:"",infoText:`${P} ${N}`,gz:N,chain:$,natal:r,relationArgs:{daewoon:D?.gz,sewoon:N,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};m.push(Fn("",T))}for(const T of t){const[N,O]=T.split("-").map(Number),P=new Date(N,O-1,15),M=kt(P),D=Kb(n,N,O),$=D.length>0?D[0]:null,H=Wb(N,O),q=H.length>0?H[H.length-1]:"",K=De(M||""),F={dae:$?$.gz:null,se:q||null,wol:K,il:null},z=xo({scope:"",infoText:`${T} ${K}`,gz:K,chain:F,natal:r,relationArgs:{daewoon:$?.gz,sewoon:q||void 0,wolwoon:K,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});m.push(Fn(` ${T}`,{:z}))}return m.filter(T=>T.trim().length>0)}function H2e(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,dayBoundaryRule:m}=e;if(t.length===0)return[];const p=[],[g,v,w]=t[0].split("-").map(Number),_=new Date(g,v-1,w,4,0);if(!Number.isNaN(_.getTime())){const S=Kb(n,g,v),T=S.length>0?S[0]:null,N=Wb(g,v),O=N.length>0?N[N.length-1]:"",P=kt(new Date(g,v-1,15)),M=gt(_,m),D=De(P||""),$=De(O||""),H=De(M||"");if(T){const q={dae:T.gz,se:$,wol:D,il:H},K=xo({scope:"",infoText:`${T.age} ${T.gz} (${T.startYear}~${T.endYear})`,gz:T.gz,chain:q,natal:r,relationArgs:{daewoon:T.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Fn("",K))}if($){const q={dae:T?T.gz:null,se:$,wol:D,il:H},K=xo({scope:"",infoText:`${g} ${$}`,gz:$,chain:q,natal:r,relationArgs:{daewoon:T?.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Fn("",K))}if(D){const q={dae:T?T.gz:null,se:$,wol:D,il:H},K=xo({scope:"",infoText:`${g}-${String(v).padStart(2,"0")} ${D}`,gz:D,chain:q,natal:r,relationArgs:{daewoon:T?.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Fn("",K))}}for(const S of t){const[T,N,O]=S.split("-").map(Number),P=new Date(T,N-1,O,4,0);if(Number.isNaN(P.getTime()))continue;const M=Kb(n,T,N),D=M.length>0?M[0]:null,$=Wb(T,N),H=$.length>0?$[$.length-1]:"",q=kt(new Date(T,N-1,15)),K=gt(P,m),F=De(q||""),z=De(H||""),Z=De(K||""),Q={dae:D?D.gz:null,se:z||null,wol:F,il:Z},J=xo({scope:"",infoText:`${S} ${Z}`,gz:Z,chain:Q,natal:r,relationArgs:{daewoon:D?.gz,sewoon:z||void 0,wolwoon:F||void 0,ilwoon:Z||void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Fn(` ${S}`,{:J}))}return p.filter(S=>S.trim().length>0)}function kU(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:c,selectedDaeList:u,daeList:f,seYears:m,wolMonths:p,ilDays:g,topic:v,subTopic:w,timeMode:_,teacherMode:S,sections:T}=e,N=gU(t),O=De(n[3]??""),P=!!O,M=t.mingSikType??"/",D=[De(n[0]??""),De(n[1]??""),De(n[2]??""),O],$=yU(t,D),H=D[2]?.charAt(0)??"",q=ru[H]??ru[a.dayStem]??"",K=!!i&&(T?.tenGod??!0),F=T?.twelveUnseong??!0,z=T?.twelveShinsal??!0,Z=T?.shinsal??!0,Q=T?.nabeum??!0,{shinsalBase:J,shinsalEra:Y,shinsalGaehwa:X}=aU.getState(),re=J===""?D[0]?.charAt(1)??"":D[2]?.charAt(1)??"",ue=mU(t,N),se=[` : ${t.name??""} (${ue}) : ${t.gender}`,` ${D[0]} ${D[1]} ${D[2]}`+(P?` ${D[3]}`:"")].join(`
`),B=[],{flags:W}=X4(D,a.elementScoreRaw),ae=`${c} (${o.toFixed(1)}%)  ${[` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`].join("  ")}`;if(B.push(Fn("",ae)),B.push(Fn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([pe,be])=>[`${pe}(${fU(q,pe)})`,be])))),K&&B.push(Fn(" ( 10 100)",a.natalFixed.totalsSub)),F){const pe=Object.fromEntries($.map((be,ne)=>[be,Oo(H,(D[ne]??"").charAt(1))]));B.push(Fn("()",pe))}if(z){const pe=Object.fromEntries($.map((be,ne)=>[be,jo({baseBranch:re,targetBranch:(D[ne]??"").charAt(1),era:Y,gaehwa:X})]));B.push(Fn("()",pe))}B.push(Fn("//",W));const V=X2(N2e($,D));if(B.push(Fn("()",V)),Z){const pe=zd({natal:D,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});B.push(Fn("()",pe))}if(Q){const pe=Object.fromEntries($.map((be,ne)=>{const Oe=D[ne]??"",Ce=$T(Oe);return[be,Ce?{gz:Oe,nabeum:Ce.name,element:Ce.element,code:Ce.code}:null]}));B.push(Fn("()",pe))}f.length>0&&u.length>0&&B.push(...B2e({selectedDaeList:u,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:F,twelveShinsal:z,shinsal:Z,nabeum:Q},shinsalSettings:{baseBranch:re,era:Y,gaehwa:X}})),m.length>0&&B.push(...U2e({seYears:m,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:F,twelveShinsal:z,shinsal:Z,nabeum:Q},shinsalSettings:{baseBranch:re,era:Y,gaehwa:X}})),p.length>0&&B.push(...F2e({wolMonths:p,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:F,twelveShinsal:z,shinsal:Z,nabeum:Q},shinsalSettings:{baseBranch:re,era:Y,gaehwa:X}})),g.length>0&&B.push(...H2e({ilDays:g,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:F,twelveShinsal:z,shinsal:Z,nabeum:Q},shinsalSettings:{baseBranch:re,era:Y,gaehwa:X},dayBoundaryRule:M}));const oe=sU({topic:v,subTopic:w,timeMode:_,teacherMode:S}),me=(Yb(B.join(`

`))??"").toString();return{header:se,body:me,guide:oe}}function G2e(e){const{header:t,body:n,guide:r}=kU(e);return[t,"",n,"",r].join(`
`)}function zT(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),c=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${c}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const c=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=c.slice(0,2),f=c.slice(2,4);r=`${u}:${f}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function q2e(e){const{header:t,body:n}=vU(e),r=e.relationMode==="couple"?zT(e.partnerMs??null):null,i=r?Pr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function Y2e(e){const{header:t,body:n}=kU(e),r=e.relationMode==="couple"?zT(e.partnerMs??null):null,i=r?Pr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function K2e(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function W2e(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function V2e(e){return e?`    .
`:""}function Z2e(e,t){if(e!=="couple")return"";const n=zT(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function Pd(e){return De(e)}function X2e(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function b3(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=De(n??"");return i||(r<=2?"--":"")})}function J2e(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=Pd(at(t)||""),i=Pd(kt(t)||""),a=Pd(gt(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function Q2e(e,t){const n=b3(e),r=b3(t);return{solarKo:n,lunarKo:r}}function Ik(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function eAe(e,t,n){return e?"solar":t?"lunar":"solar"}function tAe(e,t,n,r,i,a,o,c){return Ik(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,c)}function nAe(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=Pd(at(a)||""),c=Pd(kt(a)||""),u=Pd(gt(a,t)||"");return[o,c,u,""]}function rAe(e,t){return t&&e?e.stem+e.branch:""}function iAe(e,t,n){const i=[...IT(e)];return n&&t&&t.length===2&&(i[3]=t),i}function aAe(e){const t=t7(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=eA(t);return{percent:n,category:P4(n)}}function oAe(e){const t=oU(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,c=a?Number(a[2]):1,u=1,f=a?a[3]:"",m=n>0?cAe(n,o):i*10;return{gz:f,age:m,startYear:o,startMonth:c,startDay:u,endYear:o+10}})}function sAe(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function lAe(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function v3(e){return X2e(e)}function cAe(e,t){return t-e+1}function uAe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:c,input:u}){const{tone:f,friendMode:m,teacherMode:p,partnerId:g,mainCategory:v,subCategory:w,relationMode:_,activeTab:S,isMultiMode:T,multiTab:N,selectedDaeIdx:O,rangeControls:P,extraQuestions:M,sections:D}=u,$=Br(qt=>qt.list),{date:H,setDate:q}=ci();E.useEffect(()=>{q(new Date)},[e.id,q]);const K=E.useMemo(()=>g?$.find(qt=>qt.id===g)??null:null,[g,$]),F=e.mingSikType??"/",z=E.useMemo(()=>H??new Date,[H]),Z=E.useMemo(()=>J2e(r,z,F),[r,z,F]),Q=E.useMemo(()=>c?Z:{dae:null,se:null,wol:null,il:null},[c,Z]),J=Ym(qt=>qt.manualHour),Y=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:X,lunarKo:re}=E.useMemo(()=>Q2e(t,n),[t,n]),ue=E.useMemo(()=>Ik(X,J,Y),[X,J,Y]),se=E.useMemo(()=>Ik(re,J,Y),[re,J,Y]),B=E.useMemo(()=>nAe(e,F),[e,F]),W=v3(ue),ae=v3(se),V=eAe(W,ae),oe=E.useMemo(()=>tAe(V,W,ae,ue,se,B,J,Y),[V,W,ae,ue,se,B,J,Y]),me=E.useMemo(()=>Y&&J?J.stem+J.branch:oe[3]||"",[J,oe,Y]),pe=rAe(J,Y),be=E.useMemo(()=>iAe(e,pe,Y),[e,pe,Y]),ne=c?S:"",Oe=v==="love"||v==="compat",ve=Oe&&_==="couple"?K??null:null,Ze=Oe?_:void 0,Ne=E.useMemo(()=>Sv({natal:be,tab:ne,chain:Q,hourKey:me}),[be,ne,Q,me]),{percent:_e,category:je}=E.useMemo(()=>aAe(be),[be]),Ie=E.useMemo(()=>oAe(e),[e]),Ve=E.useMemo(()=>sAe($??[],e.id),[$,e.id]),bt=E.useMemo(()=>O.map(qt=>Ie[qt]).filter(qt=>!!qt),[O,Ie]),xt=E.useMemo(()=>N===""?P.seYearsList:[],[N,P.seYearsList]),Pt=E.useMemo(()=>N===""?P.wolMonthsList:[],[N,P.wolMonthsList]),fe=E.useMemo(()=>N===""?P.ilDaysList:[],[N,P.ilDaysList]),Me=E.useMemo(()=>e?$2e({ms:e,natal:be,chain:Q,basis:i,tab:ne,unified:Ne,percent:_e,category:je,topic:v,subTopic:w,relationMode:_,teacherMode:p,sections:D}):"",[e,i,a,ne,Q,Ne,_e,je,be,v,w,_,ve,p,D]),Be=E.useMemo(()=>!e||!T||!o?"":G2e({ms:e,natal:be,basis:i,includeTenGod:a,unified:Ne,percent:_e,category:je,selectedDaeList:bt,daeList:Ie,seYears:xt,wolMonths:Pt,ilDays:fe,topic:v,subTopic:w,timeMode:"multi",teacherMode:p,sections:D}),[e,T,o,xt,bt,Ie,Pt,fe,be,i,a,Ne,_e,je,v,w,Ze,ve,p,m,D]),lt=E.useMemo(()=>Z2e(_,K),[_,K]),jt=T?Be:Me,yt=E.useMemo(()=>W2e(f),[f]),Zn=E.useMemo(()=>V2e(m),[m]),hi=E.useMemo(()=>jt||lt?`${jt}${lt}
${yt}${Zn}`:"",[yt,Zn,jt,lt]),mi=E.useMemo(()=>lAe(hi,M),[hi,M]),Cs=E.useMemo(()=>e?T?Y2e({ms:e,natal:be,basis:i,includeTenGod:a,unified:Ne,percent:_e,category:je,selectedDaeList:bt,daeList:Ie,seYears:xt,wolMonths:Pt,ilDays:fe,topic:v,subTopic:w,timeMode:"multi",relationMode:Ze,partnerMs:ve,teacherMode:p,sections:D}):q2e({ms:e,natal:be,chain:Q,basis:i,tab:ne,unified:Ne,percent:_e,category:je,topic:v,subTopic:w,relationMode:_,partnerMs:ve,teacherMode:p,sections:D}):"",[e,T,be,i,a,Ne,_e,je,bt,Ie,xt,Pt,fe,v,w,_,Ze,ve,p,m,D,Q,ne]),Ms=E.useMemo(()=>{const qt=Cs.trim();if(qt)return qt;const hn=K2e(jt).trim();return hn||jt.trim()},[Cs,jt]);return{date:H,setDate:q,partnerMs:K,partnerOptions:Ve,daeList:Ie,tabForLogic:ne,baseText:jt,basePrompt:hi,finalText:mi,infoOnlyText:Ms,allowManualHour:Y,activePillars:oe}}function x3(e,t=1200){const[n,r]=E.useState(!1),i=!!(e&&e.trim().length>0),a=E.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function dAe(e,t){const{copied:n,canCopy:r,onCopy:i}=x3(e),{copied:a,canCopy:o,onCopy:c}=x3(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:c}}function fAe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=Br(K=>K._rtUserId),u=a2e()??o??null,f=Li(K=>K.loaded),m=Li(K=>K.userId),p=Li(K=>K.plan),g=E.useMemo(()=>yd(!u||!f||m!==u?"FREE":p??null),[u,f,m,p]),v=E.useMemo(()=>Hy(g),[g]),w=v.canUseMultiMode,_=v.canUseLuckTabs,S=v.canUseAllPrompts?"full":"locked",T=l2e({msId:e.id,canUseMultiMode:w,canUseLuckTabs:_}),N=uAe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:w,canUseLuckTabs:_,input:T}),{copiedAll:O,copiedInfo:P,canCopyAll:M,canCopyInfo:D,onCopyAll:$,onCopyInfoOnly:H}=dAe(N.finalText,N.infoOnlyText);function q(K,F){T.setMainCategory(K),T.setSubCategory(F?.[0]?.key??"overview")}return{sections:T.sections,toggleSection:T.toggleSection,tone:T.tone,setTone:T.setTone,friendMode:T.friendMode,setFriendMode:T.setFriendMode,teacherMode:T.teacherMode,setTeacherMode:T.setTeacherMode,date:N.date,setDate:N.setDate,planTier:g,promptAccess:S,canUseMultiMode:w,canUseLuckTabs:_,partnerId:T.partnerId,setPartnerId:T.setPartnerId,partnerMs:N.partnerMs,mainCategory:T.mainCategory,subCategory:T.subCategory,setSubCategory:T.setSubCategory,relationMode:T.relationMode,setRelationMode:T.setRelationMode,activeTab:T.activeTab,setActiveTab:T.setActiveTab,isMultiMode:T.isMultiMode,setIsMultiMode:T.setIsMultiMode,multiTab:T.multiTab,setMultiTab:T.setMultiTab,selectedDaeIdx:T.selectedDaeIdx,handleToggleDae:T.handleToggleDae,rangeControls:T.rangeControls,partnerOptions:N.partnerOptions,daeList:N.daeList,tabForLogic:N.tabForLogic,baseText:N.baseText,basePrompt:N.basePrompt,finalText:N.finalText,infoOnlyText:N.infoOnlyText,copiedAll:O,copiedInfo:P,canCopyAll:S==="full"&&M,canCopyInfo:S==="full"&&D,onCopyAll:$,onCopyInfoOnly:H,handleMainCategoryChange:q,setQuestionDraft:T.setQuestionDraft,questionDraft:T.questionDraft,extraQuestions:T.extraQuestions,setExtraQuestions:T.setExtraQuestions,handleAddQuestion:T.handleAddQuestion,handleRemoveQuestion:T.handleRemoveQuestion,handleClearQuestions:T.handleClearQuestions,allowManualHour:N.allowManualHour,activePillars:N.activePillars}}function hAe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=fAe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),c=h3[o.mainCategory];if(!e)return x.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",f=u?"    . ":void 0,m=!u&&o.canCopyInfo,p=!u&&o.canCopyAll;return x.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[u?x.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:x.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"  "}),x.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",x.jsx("br",{}),"/  ."]})]})}):null,x.jsx(Yke,{copiedInfo:o.copiedInfo,copiedAll:o.copiedAll,canCopyInfo:m,canCopyAll:p,lockTitle:f,onCopyInfoOnly:o.onCopyInfoOnly,onCopyAll:o.onCopyAll}),x.jsx(Kke,{sections:o.sections,toggleSection:o.toggleSection}),x.jsx(Wke,{tone:o.tone,toneMeta:n2e,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:g=>o.setFriendMode(g.target.checked),teacherMode:o.teacherMode,setTeacherMode:g=>o.setTeacherMode(g.target.checked)}),x.jsx(Vke,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:i2e,currentSubList:c,onMainCategoryChange:g=>o.handleMainCategoryChange(g,h3[g]),onSubCategoryChange:o.setSubCategory}),x.jsx(Zke,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),x.jsx(Xke,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:g=>{!o.canUseMultiMode&&g||o.setIsMultiMode(g)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?x.jsx(Qke,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(g=>({gz:g.gz,age:g.age,startYear:g.startYear,endYear:g.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):x.jsx(Jke,{tabs:r2e,activeTab:o.tabForLogic,setActiveTab:g=>{!o.canUseLuckTabs&&g!==""||o.setActiveTab(g)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),x.jsx(e2e,{questionDraft:o.questionDraft,onChangeDraft:g=>o.setQuestionDraft(g.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:f}),x.jsx(t2e,{value:o.finalText,lockSelection:u})]})}function mAe(){const[e,t]=E.useState(null),[n,r]=E.useState(!1),[i,a]=E.useState(!1),[o]=E.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function pAe(){const e=Br(r=>r.loading),t=qn(r=>r.loaded),n=Li(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const _3="app_session_started_at_ms",gAe=7200*1e3;function yAe(){const e=sessionStorage.getItem(_3),t=e?Number(e):NaN;if(!Number.isFinite(t)||t<=0){const n=Date.now();return sessionStorage.setItem(_3,String(n)),n}return t}function bAe(e=Date.now()){const t=yAe();return Math.max(0,e-t)}function vAe(e,t=Date.now()){return bAe(t)>=e}async function xAe(e,t){const{data:n,error:r}=await Le.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function _Ae(e,t,n){const{error:r}=await Le.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const wAe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Sd(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(Sd).join(",")}]`:wAe(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${Sd(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function SAe(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function EAe(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=Sd(t.select(t.store.getState()));const o=SAe(async p=>{try{await _Ae(e,t.dbKey,p),a=Sd(p)}catch(g){console.error(`[settings] save failed key=${t.dbKey}`,g)}},n),c=p=>{r=!0;try{t.apply(p),a=Sd(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||c(p)},f=async()=>{const p=await xAe(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const g=t.select(p);Sd(g)!==a&&o(g)});const m=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:f,applyRemote:u,stop:m}}function kAe(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function $S(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function AAe(e){E.useEffect(()=>{if(!e)return;const t=[];t.push(EAe(e,{dbKey:"promptCopy.sections",store:qb,select:o=>o.sections,apply:o=>qb.setState({sections:o}),validate:kAe,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,c,u)=>{const f=r.get(o);f&&window.clearTimeout(f);const m=window.setTimeout(()=>{r.delete(o),u()},c);r.set(o,m)},a=Le.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},c=>{if(vAe(gAe)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!$S(c))return;const u=c.new,f=c.old,m=_=>$S(_)&&typeof _.setting_key=="string"?_.setting_key:null,p=_=>$S(_)?_.value:null,g=m(u)??m(f);if(!g)return;const v=t.find(_=>_.dbKey===g);if(!v)return;const w=typeof c.eventType=="string"?c.eventType:"";if(w==="INSERT"||w==="UPDATE"){v.applyRemote(p(u));return}v.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(c)):o.onChange(c)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),Le.removeChannel(a)}},[e])}function TAe({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){E.useEffect(()=>{const r=Le;(async()=>{const{data:o,error:c}=await r.auth.getSession();if(c){t(!1),e(null),n(!0);return}const u=o.session?.user?.id??null;t(!!o.session),e(u),n(!0)})();const{data:{subscription:a}}=r.auth.onAuthStateChange((o,c)=>{const u=c?.user?.id??null;t(!!c),e(u),n(!0),c||Br.getState().stopRealtime()});return()=>{a.unsubscribe()}},[n,t,e])}function OAe(e){TAe({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),AAe(e.userId);const t=Br(a=>a.migrateLocalToServer),n=Br(a=>a.loadFromServer),r=qn(a=>a.loadFromServer),i=Li(a=>a.loadFromServer);E.useEffect(()=>{e.isLoggedIn&&i()},[e.isLoggedIn,i]),E.useEffect(()=>{e.isLoggedIn&&(async()=>(await t(),await n(),await r()))()},[e.isLoggedIn,t,n,r])}function jAe(e){const[t,n]=E.useState(()=>e.length>0?e[0].id:""),[r,i]=E.useState(!1),[a,o]=E.useState(!1),[c,u]=E.useState(null),[f,m]=E.useState(!0),[p,g]=E.useState(!1),[v,w]=E.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:c,setEditing:u,showToday:f,setShowToday:m,showCouple:p,setShowCouple:g,openCustom:v,setOpenCustom:w}}function NAe(e){const t=ci(i=>i.date),n=ci(i=>i.rule),r=ou(e);return E.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=vv(r,t),a=i>=0?r[i]?.gz??null:null,o=at(t),c=kt(t),u=gt(t,n);return{dae:a,se:o,wol:c,il:u}},[e,r,t,n])}const CAe=e=>typeof e=="string"&&e.length>=2,MAe=e=>Array.isArray(e)&&e.length===4&&e.every(CAe);function PAe({list:e,currentId:t,settings:n,emptyMs:r}){const i=E.useMemo(()=>e.find(g=>g.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,c=E.useMemo(()=>IT(o),[o]),u=NAe(o),f=Li(g=>g.canAddMyeongsik(e.length).ok),m=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:c,chain:u,isValidPillars:MAe,canAdd:f,voidBasis:m,samjaeBasis:p}}function DAe({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:c,setShowCouple:u,setCurrentId:f,setEditing:m}){const{settings:p,saveToServer:g,loaded:v}=qn();E.useEffect(()=>{!r||!v||g()},[r,v,p,g]);const w=E.useCallback(()=>{if(!e){kn.error("   1   .");return}i(!0)},[e,i]),_=E.useCallback(()=>{if(!e){kn.error("   1   .");return}a(!0)},[e,a]),S=E.useCallback(M=>{f(M.id),o(!1),c(!1),u(!1);const D=new Date;D.setHours(12,0,0,0),ci.getState().setDate(D),t&&n?.id===M.id&&(c(!1),u(!1),o(!1))},[n,t,f,o,c,u]),T=E.useCallback(M=>{m(M),f(M.id),o(!1),c(!1),u(!1)},[m,f,o,c,u]),N=E.useCallback(()=>{const M=Br.getState().list[0]?.id??"";f(M),c(!0),u(!1)},[f,c,u]),O=E.useCallback(M=>{f(M.id),c(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[f,c,u,o,i]),P=E.useCallback(M=>{f(M.id),c(!1),u(!1),o(!1)},[f,c,u,o]);return{openAdd:w,openCustomModal:_,handleSidebarView:S,handleSidebarEdit:T,handleSidebarDeleteView:N,handleWizardSave:O,handleCustomSave:P}}const RAe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function LAe(){const e=mAe();OAe(e);const t=pAe();return e.authChecked?e.isLoggedIn?e.adminMode?x.jsx(tU,{}):t.entLoaded?t.settingsLoaded?t.loading?x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):x.jsx(IAe,{isLoggedIn:e.isLoggedIn}):x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):x.jsx(xke,{}):x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"   ..."})})}function IAe({isLoggedIn:e}){const{list:t}=Br(),n=qn(o=>o.settings),r=jAe(t),i=PAe({list:t,currentId:r.currentId,settings:n,emptyMs:RAe}),a=DAe({canAdd:i.canAdd,hasCurrent:i.hasCurrent,current:i.current,isLoggedIn:e,setWizardOpen:r.setWizardOpen,setOpenCustom:r.setOpenCustom,setShowSidebar:r.setShowSidebar,setShowToday:r.setShowToday,setShowCouple:r.setShowCouple,setCurrentId:r.setCurrentId,setEditing:r.setEditing});return x.jsxs("div",{className:"min-h-screen pb-16",children:[x.jsx(jce,{onOpenSidebar:()=>r.setShowSidebar(!0),onAddNew:a.openAdd,onOpenCustom:a.openCustomModal}),x.jsx(qke,{open:r.openCustom,onClose:()=>r.setOpenCustom(!1),onSave:a.handleCustomSave}),x.jsx(V3,{position:"top-center"}),x.jsx(pue,{open:r.showSidebar,onClose:()=>r.setShowSidebar(!1),onView:a.handleSidebarView,onAddNew:a.openAdd,onEdit:a.handleSidebarEdit,onDeleteView:a.handleSidebarDeleteView}),r.showToday&&x.jsx(pW,{}),r.wizardOpen&&x.jsxs(x.Fragment,{children:[x.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),x.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:x.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:x.jsx(cte,{onSave:a.handleWizardSave,onClose:()=>r.setWizardOpen(!1)})})})]}),i.hasCurrent&&!r.showToday&&!r.showCouple&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"pt-18 pb-4",children:x.jsx(Eie,{data:i.current,hourTable:i.current?.mingSikType??"/"})}),x.jsx("div",{children:x.jsx(Qle,{data:i.current})}),x.jsx(vke,{ms:i.current}),n.showPromptBox&&x.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:x.jsx(hAe,{ms:i.current,natal:i.isValidPillars(i.natal)?i.natal:[],chain:i.chain,basis:{voidBasis:i.voidBasis,samjaeBasis:i.samjaeBasis},includeTenGod:!0,lunarPillars:[]})})]}),r.showCouple&&x.jsx("div",{className:"pt-18 pb-4",children:x.jsx(gke,{people:t})}),r.editing&&x.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:x.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:x.jsx(Nue,{item:r.editing,onClose:()=>r.setEditing(null)})})}),x.jsx($ce,{onShowToday:()=>{r.setShowToday(!0),r.setShowCouple(!1)},onShowCouple:()=>{r.setShowCouple(!0),r.setShowToday(!1)}}),x.jsx(yke,{})]})}function $Ae(){const e=qa(),[t,n]=E.useState(null),[r,i]=E.useState(null);return E.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),x.jsxs("div",{className:"p-4 text-white",children:[x.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),x.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),x.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function BAe(){const e=qa(),t=Fk(),[n,r]=E.useState("  ...");return E.useEffect(()=>{(async()=>{try{const a=new URLSearchParams(e.search),o=a.get("error"),c=a.get("error_description");if(o){r(` : ${decodeURIComponent(c??o)}`);return}const u=a.get("code");if(!u){r(" code . (redirectTo/PKCE  )");return}const{error:f}=await Le.auth.exchangeCodeForSession(u);if(f){r(`  : ${f.message}`);return}t("/",{replace:!0})}catch(a){r(a instanceof Error?a.message:"   ")}})()},[e.search,t]),x.jsx("main",{className:"min-h-screen flex items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:n})})}XF.createRoot(document.getElementById("root")).render(x.jsx(E.StrictMode,{children:x.jsx(hG,{children:x.jsxs(GH,{children:[x.jsx(ud,{path:"/auth/callback",element:x.jsx(BAe,{})}),x.jsx(ud,{path:"/",element:x.jsx(LAe,{})}),x.jsx(ud,{path:"/admin",element:x.jsx(tU,{})}),x.jsx(ud,{path:"/impersonate",element:x.jsx($Ae,{})}),x.jsx(ud,{path:"*",element:x.jsx(FH,{to:"/",replace:!0})})]})})}));
