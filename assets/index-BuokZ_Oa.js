function rT(t,r){for(var a=0;a<r.length;a++){const s=r[a];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in t)){const d=Object.getOwnPropertyDescriptor(s,u);d&&Object.defineProperty(t,u,d.get?d:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function a(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=a(u);fetch(u.href,d)}})();function ll(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s0={exports:{}},bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function iT(){if(sv)return bc;sv=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(s,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:t,type:s,key:f,ref:u!==void 0?u:null,props:d}}return bc.Fragment=r,bc.jsx=a,bc.jsxs=a,bc}var lv;function aT(){return lv||(lv=1,s0.exports=iT()),s0.exports}var y=aT();const Q_="harim.theme",dp="harim.settings.v1";function J_(){try{const t=localStorage.getItem(Q_);if(t==="dark"||t==="light")return t;const r=localStorage.getItem(dp);if(r){const s=JSON.parse(r)?.theme;if(s==="dark"||s==="light")return s}return null}catch{return null}}function fp(t){try{localStorage.setItem(Q_,t);const r=localStorage.getItem(dp),a=r?JSON.parse(r):{};localStorage.setItem(dp,JSON.stringify({...a,theme:t}))}catch{}}function t1(t){const r=document.documentElement;r.classList.toggle("dark",t==="dark"),r.style.setProperty("color-scheme",t)}(function(){try{const t=J_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");t1(t)}catch{}})();var l0={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function oT(){if(cv)return te;cv=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),x=Symbol.iterator;function S(k){return k===null||typeof k!="object"?null:(k=x&&k[x]||k["@@iterator"],typeof k=="function"?k:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function A(k,H,F){this.props=k,this.context=H,this.refs=D,this.updater=F||T}A.prototype.isReactComponent={},A.prototype.setState=function(k,H){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,H,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function $(){}$.prototype=A.prototype;function P(k,H,F){this.props=k,this.context=H,this.refs=D,this.updater=F||T}var j=P.prototype=new $;j.constructor=P,M(j,A.prototype),j.isPureReactComponent=!0;var B=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function et(k,H,F,tt,K,G){return F=G.ref,{$$typeof:t,type:k,key:H,ref:F!==void 0?F:null,props:G}}function it(k,H){return et(k.type,H,void 0,void 0,void 0,k.props)}function V(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function X(k){var H={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(F){return H[F]})}var q=/\/+/g;function U(k,H){return typeof k=="object"&&k!==null&&k.key!=null?X(""+k.key):H.toString(36)}function J(){}function rt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(J,J):(k.status="pending",k.then(function(H){k.status==="pending"&&(k.status="fulfilled",k.value=H)},function(H){k.status==="pending"&&(k.status="rejected",k.reason=H)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ct(k,H,F,tt,K){var G=typeof k;(G==="undefined"||G==="boolean")&&(k=null);var Z=!1;if(k===null)Z=!0;else switch(G){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(k.$$typeof){case t:case r:Z=!0;break;case _:return Z=k._init,ct(Z(k._payload),H,F,tt,K)}}if(Z)return K=K(k),Z=tt===""?"."+U(k,0):tt,B(K)?(F="",Z!=null&&(F=Z.replace(q,"$&/")+"/"),ct(K,H,F,"",function(ot){return ot})):K!=null&&(V(K)&&(K=it(K,F+(K.key==null||k&&k.key===K.key?"":(""+K.key).replace(q,"$&/")+"/")+Z)),H.push(K)),1;Z=0;var mt=tt===""?".":tt+":";if(B(k))for(var vt=0;vt<k.length;vt++)tt=k[vt],G=mt+U(tt,vt),Z+=ct(tt,H,F,G,K);else if(vt=S(k),typeof vt=="function")for(k=vt.call(k),vt=0;!(tt=k.next()).done;)tt=tt.value,G=mt+U(tt,vt++),Z+=ct(tt,H,F,G,K);else if(G==="object"){if(typeof k.then=="function")return ct(rt(k),H,F,tt,K);throw H=String(k),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Z}function I(k,H,F){if(k==null)return k;var tt=[],K=0;return ct(k,tt,"","",function(G){return H.call(F,G,K++)}),tt}function at(k){if(k._status===-1){var H=k._result;H=H(),H.then(function(F){(k._status===0||k._status===-1)&&(k._status=1,k._result=F)},function(F){(k._status===0||k._status===-1)&&(k._status=2,k._result=F)}),k._status===-1&&(k._status=0,k._result=H)}if(k._status===1)return k._result.default;throw k._result}var st=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function xt(){}return te.Children={map:I,forEach:function(k,H,F){I(k,function(){H.apply(this,arguments)},F)},count:function(k){var H=0;return I(k,function(){H++}),H},toArray:function(k){return I(k,function(H){return H})||[]},only:function(k){if(!V(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},te.Component=A,te.Fragment=a,te.Profiler=u,te.PureComponent=P,te.StrictMode=s,te.Suspense=b,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,te.__COMPILER_RUNTIME={__proto__:null,c:function(k){return O.H.useMemoCache(k)}},te.cache=function(k){return function(){return k.apply(null,arguments)}},te.cloneElement=function(k,H,F){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var tt=M({},k.props),K=k.key,G=void 0;if(H!=null)for(Z in H.ref!==void 0&&(G=void 0),H.key!==void 0&&(K=""+H.key),H)!Y.call(H,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&H.ref===void 0||(tt[Z]=H[Z]);var Z=arguments.length-2;if(Z===1)tt.children=F;else if(1<Z){for(var mt=Array(Z),vt=0;vt<Z;vt++)mt[vt]=arguments[vt+2];tt.children=mt}return et(k.type,K,void 0,void 0,G,tt)},te.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:d,_context:k},k},te.createElement=function(k,H,F){var tt,K={},G=null;if(H!=null)for(tt in H.key!==void 0&&(G=""+H.key),H)Y.call(H,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(K[tt]=H[tt]);var Z=arguments.length-2;if(Z===1)K.children=F;else if(1<Z){for(var mt=Array(Z),vt=0;vt<Z;vt++)mt[vt]=arguments[vt+2];K.children=mt}if(k&&k.defaultProps)for(tt in Z=k.defaultProps,Z)K[tt]===void 0&&(K[tt]=Z[tt]);return et(k,G,void 0,void 0,null,K)},te.createRef=function(){return{current:null}},te.forwardRef=function(k){return{$$typeof:p,render:k}},te.isValidElement=V,te.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:at}},te.memo=function(k,H){return{$$typeof:g,type:k,compare:H===void 0?null:H}},te.startTransition=function(k){var H=O.T,F={};O.T=F;try{var tt=k(),K=O.S;K!==null&&K(F,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(xt,st)}catch(G){st(G)}finally{O.T=H}},te.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},te.use=function(k){return O.H.use(k)},te.useActionState=function(k,H,F){return O.H.useActionState(k,H,F)},te.useCallback=function(k,H){return O.H.useCallback(k,H)},te.useContext=function(k){return O.H.useContext(k)},te.useDebugValue=function(){},te.useDeferredValue=function(k,H){return O.H.useDeferredValue(k,H)},te.useEffect=function(k,H,F){var tt=O.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(k,H)},te.useId=function(){return O.H.useId()},te.useImperativeHandle=function(k,H,F){return O.H.useImperativeHandle(k,H,F)},te.useInsertionEffect=function(k,H){return O.H.useInsertionEffect(k,H)},te.useLayoutEffect=function(k,H){return O.H.useLayoutEffect(k,H)},te.useMemo=function(k,H){return O.H.useMemo(k,H)},te.useOptimistic=function(k,H){return O.H.useOptimistic(k,H)},te.useReducer=function(k,H,F){return O.H.useReducer(k,H,F)},te.useRef=function(k){return O.H.useRef(k)},te.useState=function(k){return O.H.useState(k)},te.useSyncExternalStore=function(k,H,F){return O.H.useSyncExternalStore(k,H,F)},te.useTransition=function(){return O.H.useTransition()},te.version="19.1.1",te}var uv;function Ff(){return uv||(uv=1,l0.exports=oT()),l0.exports}var C=Ff();const Re=ll(C);var c0={exports:{}},yc={},u0={exports:{}},d0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function sT(){return dv||(dv=1,(function(t){function r(I,at){var st=I.length;I.push(at);t:for(;0<st;){var xt=st-1>>>1,k=I[xt];if(0<u(k,at))I[xt]=at,I[st]=k,st=xt;else break t}}function a(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var at=I[0],st=I.pop();if(st!==at){I[0]=st;t:for(var xt=0,k=I.length,H=k>>>1;xt<H;){var F=2*(xt+1)-1,tt=I[F],K=F+1,G=I[K];if(0>u(tt,st))K<k&&0>u(G,tt)?(I[xt]=G,I[K]=st,xt=K):(I[xt]=tt,I[F]=st,xt=F);else if(K<k&&0>u(G,st))I[xt]=G,I[K]=st,xt=K;else break t}}return at}function u(I,at){var st=I.sortIndex-at.sortIndex;return st!==0?st:I.id-at.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();t.unstable_now=function(){return f.now()-p}}var b=[],g=[],_=1,x=null,S=3,T=!1,M=!1,D=!1,A=!1,$=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function B(I){for(var at=a(g);at!==null;){if(at.callback===null)s(g);else if(at.startTime<=I)s(g),at.sortIndex=at.expirationTime,r(b,at);else break;at=a(g)}}function O(I){if(D=!1,B(I),!M)if(a(b)!==null)M=!0,Y||(Y=!0,U());else{var at=a(g);at!==null&&ct(O,at.startTime-I)}}var Y=!1,et=-1,it=5,V=-1;function X(){return A?!0:!(t.unstable_now()-V<it)}function q(){if(A=!1,Y){var I=t.unstable_now();V=I;var at=!0;try{t:{M=!1,D&&(D=!1,P(et),et=-1),T=!0;var st=S;try{e:{for(B(I),x=a(b);x!==null&&!(x.expirationTime>I&&X());){var xt=x.callback;if(typeof xt=="function"){x.callback=null,S=x.priorityLevel;var k=xt(x.expirationTime<=I);if(I=t.unstable_now(),typeof k=="function"){x.callback=k,B(I),at=!0;break e}x===a(b)&&s(b),B(I)}else s(b);x=a(b)}if(x!==null)at=!0;else{var H=a(g);H!==null&&ct(O,H.startTime-I),at=!1}}break t}finally{x=null,S=st,T=!1}at=void 0}}finally{at?U():Y=!1}}}var U;if(typeof j=="function")U=function(){j(q)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,rt=J.port2;J.port1.onmessage=q,U=function(){rt.postMessage(null)}}else U=function(){$(q,0)};function ct(I,at){et=$(function(){I(t.unstable_now())},at)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(I){switch(S){case 1:case 2:case 3:var at=3;break;default:at=S}var st=S;S=at;try{return I()}finally{S=st}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(I,at){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var st=S;S=I;try{return at()}finally{S=st}},t.unstable_scheduleCallback=function(I,at,st){var xt=t.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?xt+st:xt):st=xt,I){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=st+k,I={id:_++,callback:at,priorityLevel:I,startTime:st,expirationTime:k,sortIndex:-1},st>xt?(I.sortIndex=st,r(g,I),a(b)===null&&I===a(g)&&(D?(P(et),et=-1):D=!0,ct(O,st-xt))):(I.sortIndex=k,r(b,I),M||T||(M=!0,Y||(Y=!0,U()))),I},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(I){var at=S;return function(){var st=S;S=at;try{return I.apply(this,arguments)}finally{S=st}}}})(d0)),d0}var fv;function lT(){return fv||(fv=1,u0.exports=sT()),u0.exports}var f0={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function cT(){if(hv)return Dn;hv=1;var t=Ff();function r(b){var g="https://react.dev/errors/"+b;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+b+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(b,g,_){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:b,containerInfo:g,implementation:_}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(b,g){if(b==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Dn.createPortal=function(b,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(r(299));return d(b,g,null,_)},Dn.flushSync=function(b){var g=f.T,_=s.p;try{if(f.T=null,s.p=2,b)return b()}finally{f.T=g,s.p=_,s.d.f()}},Dn.preconnect=function(b,g){typeof b=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(b,g))},Dn.prefetchDNS=function(b){typeof b=="string"&&s.d.D(b)},Dn.preinit=function(b,g){if(typeof b=="string"&&g&&typeof g.as=="string"){var _=g.as,x=p(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(b,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:T}):_==="script"&&s.d.X(b,{crossOrigin:x,integrity:S,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Dn.preinitModule=function(b,g){if(typeof b=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=p(g.as,g.crossOrigin);s.d.M(b,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(b)},Dn.preload=function(b,g){if(typeof b=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,x=p(_,g.crossOrigin);s.d.L(b,_,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Dn.preloadModule=function(b,g){if(typeof b=="string")if(g){var _=p(g.as,g.crossOrigin);s.d.m(b,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(b)},Dn.requestFormReset=function(b){s.d.r(b)},Dn.unstable_batchedUpdates=function(b,g){return b(g)},Dn.useFormState=function(b,g,_){return f.H.useFormState(b,g,_)},Dn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Dn.version="19.1.1",Dn}var mv;function e1(){if(mv)return f0.exports;mv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),f0.exports=cT(),f0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function uT(){if(pv)return yc;pv=1;var t=lT(),r=Ff(),a=e1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(s(188))}function b(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,c=n;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return p(m),e;if(v===c)return p(m),n;v=v.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=v;else{for(var N=!1,z=m.child;z;){if(z===o){N=!0,o=m,c=v;break}if(z===c){N=!0,c=m,o=v;break}z=z.sibling}if(!N){for(z=v.child;z;){if(z===o){N=!0,o=v,c=m;break}if(z===c){N=!0,c=v,o=m;break}z=z.sibling}if(!N)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function g(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=g(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),j=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var J=Symbol.for("react.client.reference");function rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===J?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case A:return"Profiler";case D:return"StrictMode";case O:return"Suspense";case Y:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case j:return(e.displayName||"Context")+".Provider";case P:return(e._context.displayName||"Context")+".Consumer";case B:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case et:return n=e.displayName||null,n!==null?n:rt(e.type)||"Memo";case it:n=e._payload,e=e._init;try{return rt(e(n))}catch{}}return null}var ct=Array.isArray,I=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},xt=[],k=-1;function H(e){return{current:e}}function F(e){0>k||(e.current=xt[k],xt[k]=null,k--)}function tt(e,n){k++,xt[k]=e.current,e.current=n}var K=H(null),G=H(null),Z=H(null),mt=H(null);function vt(e,n){switch(tt(Z,n),tt(G,e),tt(K,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?By(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=By(n),e=Ry(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(K),tt(K,e)}function ot(){F(K),F(G),F(Z)}function St(e){e.memoizedState!==null&&tt(mt,e);var n=K.current,o=Ry(n,e.type);n!==o&&(tt(G,e),tt(K,o))}function Ct(e){G.current===e&&(F(K),F(G)),mt.current===e&&(F(mt),fc._currentValue=st)}var At=Object.prototype.hasOwnProperty,jt=t.unstable_scheduleCallback,Tt=t.unstable_cancelCallback,Bt=t.unstable_shouldYield,It=t.unstable_requestPaint,Yt=t.unstable_now,Dt=t.unstable_getCurrentPriorityLevel,dt=t.unstable_ImmediatePriority,Ot=t.unstable_UserBlockingPriority,bt=t.unstable_NormalPriority,qt=t.unstable_LowPriority,be=t.unstable_IdlePriority,ce=t.log,Zt=t.unstable_setDisableYieldValue,_e=null,Pe=null;function nn(e){if(typeof ce=="function"&&Zt(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(_e,e)}catch{}}var ze=Math.clz32?Math.clz32:sa,Ni=Math.log,di=Math.LN2;function sa(e){return e>>>=0,e===0?32:31-(Ni(e)/di|0)|0}var Fr=256,Vn=4194304;function gn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Vr(e,n,o){var c=e.pendingLanes;if(c===0)return 0;var m=0,v=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var z=c&134217727;return z!==0?(c=z&~v,c!==0?m=gn(c):(N&=z,N!==0?m=gn(N):o||(o=z&~e,o!==0&&(m=gn(o))))):(z=c&~v,z!==0?m=gn(z):N!==0?m=gn(N):o||(o=c&~e,o!==0&&(m=gn(o)))),m===0?0:n!==0&&n!==m&&(n&v)===0&&(v=m&-m,o=n&-n,v>=o||v===32&&(o&4194048)!==0)?n:m}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function pl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var e=Fr;return Fr<<=1,(Fr&4194048)===0&&(Fr=256),e}function Kr(){var e=Vn;return Vn<<=1,(Vn&62914560)===0&&(Vn=4194304),e}function Xn(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Ai(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gl(e,n,o,c,m,v){var N=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var z=e.entanglements,Q=e.expirationTimes,ht=e.hiddenUpdates;for(o=N&~o;0<o;){var wt=31-ze(o),Mt=1<<wt;z[wt]=0,Q[wt]=-1;var pt=ht[wt];if(pt!==null)for(ht[wt]=null,wt=0;wt<pt.length;wt++){var gt=pt[wt];gt!==null&&(gt.lane&=-536870913)}o&=~Mt}c!==0&&so(e,c,0),v!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=v&~(N&~n))}function so(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-ze(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|o&4194090}function su(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var c=31-ze(o),m=1<<c;m&n|e[c]&n&&(e[c]|=n),o&=~m}}function bl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:ev(e.type))}function vl(e,n){var o=at.p;try{return at.p=e,n()}finally{at.p=o}}var fi=Math.random().toString(36).slice(2),ln="__reactFiber$"+fi,En="__reactProps$"+fi,la="__reactContainer$"+fi,Wn="__reactEvents$"+fi,Ht="__reactListeners$"+fi,cu="__reactHandles$"+fi,xl="__reactResources$"+fi,ca="__reactMarker$"+fi;function ts(e){delete e[ln],delete e[En],delete e[Wn],delete e[Ht],delete e[cu]}function hi(e){var n=e[ln];if(n)return n;for(var o=e.parentNode;o;){if(n=o[la]||o[ln]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Hy(e);e!==null;){if(o=e[ln])return o;e=Hy(e)}return n}e=o,o=e.parentNode}return null}function Di(e){if(e=e[ln]||e[la]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Nr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ji(e){var n=e[xl];return n||(n=e[xl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Je(e){e[ca]=!0}var uu=new Set,du={};function ki(e,n){Oi(e,n),Oi(e+"Capture",n)}function Oi(e,n){for(du[e]=n,e=0;e<n.length;e++)uu.add(n[e])}var bh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lo={},fu={};function yh(e){return At.call(fu,e)?!0:At.call(lo,e)?!1:bh.test(e)?fu[e]=!0:(lo[e]=!0,!1)}function es(e,n,o){if(yh(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function ns(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function Xr(e,n,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+c)}}var co,ua;function Ci(e){if(co===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);co=n&&n[1]||"",ua=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+co+e+ua}var rs=!1;function Li(e,n){if(!e||rs)return"";rs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var Mt=function(){throw Error()};if(Object.defineProperty(Mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Mt,[])}catch(gt){var pt=gt}Reflect.construct(e,[],Mt)}else{try{Mt.call()}catch(gt){pt=gt}e.call(Mt.prototype)}}else{try{throw Error()}catch(gt){pt=gt}(Mt=e())&&typeof Mt.catch=="function"&&Mt.catch(function(){})}}catch(gt){if(gt&&pt&&typeof gt.stack=="string")return[gt.stack,pt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),N=v[0],z=v[1];if(N&&z){var Q=N.split(`
`),ht=z.split(`
`);for(m=c=0;c<Q.length&&!Q[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ht.length&&!ht[m].includes("DetermineComponentFrameRoot");)m++;if(c===Q.length||m===ht.length)for(c=Q.length-1,m=ht.length-1;1<=c&&0<=m&&Q[c]!==ht[m];)m--;for(;1<=c&&0<=m;c--,m--)if(Q[c]!==ht[m]){if(c!==1||m!==1)do if(c--,m--,0>m||Q[c]!==ht[m]){var wt=`
`+Q[c].replace(" at new "," at ");return e.displayName&&wt.includes("<anonymous>")&&(wt=wt.replace("<anonymous>",e.displayName)),wt}while(1<=c&&0<=m);break}}}finally{rs=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Ci(o):""}function ue(e){switch(e.tag){case 26:case 27:case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Li(e.type,!1);case 11:return Li(e.type.render,!1);case 1:return Li(e.type,!0);case 31:return Ci("Activity");default:return""}}function De(e){try{var n="";do n+=ue(e),e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function da(e){var n=Bi(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,v=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(N){c=""+N,v.call(this,N)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function fa(e){e._valueTracker||(e._valueTracker=da(e))}function Jt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),c="";return e&&(c=Bi(e)?e.checked?"true":"false":e.value),e=c,e!==o?(n.setValue(e),!0):!1}function je(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _l=/[\n"\\]/g;function yn(e){return e.replace(_l,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Mn(e,n,o,c,m,v,N,z){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+bn(n)):e.value!==""+bn(n)&&(e.value=""+bn(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?ha(e,N,bn(n)):o!=null?ha(e,N,bn(o)):c!=null&&e.removeAttribute("value"),m==null&&v!=null&&(e.defaultChecked=!!v),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?e.name=""+bn(z):e.removeAttribute("name")}function hu(e,n,o,c,m,v,N,z){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),n!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||n!=null))return;o=o!=null?""+bn(o):"",n=n!=null?""+bn(n):o,z||n===e.value||(e.value=n),e.defaultValue=n}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=z?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N)}function ha(e,n,o){n==="number"&&je(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Qn(e,n,o,c){if(e=e.options,n){n={};for(var m=0;m<o.length;m++)n["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=n.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+bn(o),n=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function Ue(e,n,o){if(n!=null&&(n=""+bn(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+bn(o):""}function mi(e,n,o,c){if(n==null){if(c!=null){if(o!=null)throw Error(s(92));if(ct(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),n=o}o=bn(n),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c)}function Ar(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function is(e,n,o){var c=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,o):typeof o!="number"||o===0||uo.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function ma(e,n,o){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in n)c=n[m],n.hasOwnProperty(m)&&o[m]!==c&&is(e,m,c)}else for(var v in n)n.hasOwnProperty(v)&&is(e,v,n[v])}function fo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return as.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ho=null;function ga(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ri=null,pi=null;function mu(e){var n=Di(e);if(n&&(e=n.stateNode)){var o=e[En]||null;t:switch(e=n.stateNode,n.type){case"input":if(Mn(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var c=o[n];if(c!==e&&c.form===e.form){var m=c[En]||null;if(!m)throw Error(s(90));Mn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<o.length;n++)c=o[n],c.form===e.form&&Jt(c)}break t;case"textarea":Ue(e,o.value,o.defaultValue);break t;case"select":n=o.value,n!=null&&Qn(e,!!o.multiple,n,!1)}}}var Qt=!1;function ar(e,n,o){if(Qt)return e(n,o);Qt=!0;try{var c=e(n);return c}finally{if(Qt=!1,(Ri!==null||pi!==null)&&(ld(),Ri&&(n=Ri,e=pi,pi=Ri=null,mu(n),e)))for(n=0;n<e.length;n++)mu(e[n])}}function me(e,n){var o=e.stateNode;if(o===null)return null;var c=o[En]||null;if(c===null)return null;o=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=!1;if(Dr)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){mo=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{mo=!1}var jr=null,Wr=null,ba=null;function ya(){if(ba)return ba;var e,n=Wr,o=n.length,c,m="value"in jr?jr.value:jr.textContent,v=m.length;for(e=0;e<o&&n[e]===m[e];e++);var N=o-e;for(c=1;c<=N&&n[o-c]===m[v-c];c++);return ba=m.slice(e,1<c?1-c:void 0)}function Ve(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function kr(){return!0}function wl(){return!1}function vn(e){function n(o,c,m,v,N){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var z in e)e.hasOwnProperty(z)&&(o=e[z],this[z]=o?o(v):v[z]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?kr:wl,this.isPropagationStopped=wl,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=vn(zi),$i=_({},zi,{view:0,detail:0}),vh=vn($i),os,ne,go,Nn=_({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==go&&(go&&e.type==="mousemove"?(os=e.screenX-go.screenX,ne=e.screenY-go.screenY):ne=os=0,go=e),os)},movementY:function(e){return"movementY"in e?e.movementY:ne}}),va=vn(Nn),pu=_({},Nn,{dataTransfer:0}),xh=vn(pu),Tl=_({},$i,{relatedTarget:0}),El=vn(Tl),gu=_({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),_h=vn(gu),Sh=_({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ml=vn(Sh),wh=_({},zi,{data:0}),or=vn(wh),Th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gi[e])?!!n[e]:!1}function ss(){return yu}var Nl=_({},$i,{key:function(e){if(e.key){var n=Th[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ve(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(e){return e.type==="keypress"?Ve(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ve(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eh=vn(Nl),vu=_({},Nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=vn(vu),Mh=_({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),Nh=vn(Mh),Dl=_({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ah=vn(Dl),xu=_({},Nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_u=vn(xu),ls=_({},zi,{newState:0,oldState:0}),Hi=vn(ls),Dh=[9,13,27,32],Ii=Dr&&"CompositionEvent"in window,cn=null;Dr&&"documentMode"in document&&(cn=document.documentMode);var Su=Dr&&"TextEvent"in window&&!cn,jl=Dr&&(!Ii||cn&&8<cn&&11>=cn),wu=" ",cs=!1;function us(e,n){switch(e){case"keyup":return Dh.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function Eu(e,n){switch(e){case"compositionend":return Tu(n);case"keypress":return n.which!==32?null:(cs=!0,wu);case"textInput":return e=n.data,e===wu&&cs?null:e;default:return null}}function jh(e,n){if(xa)return e==="compositionend"||!Ii&&us(e,n)?(e=ya(),ba=Wr=jr=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return jl&&n.locale!=="ko"?null:n.data;default:return null}}var sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!sr[e.type]:n==="textarea"}function Mu(e,n,o,c){Ri?pi?pi.push(c):pi=[c]:Ri=c,n=md(n,"onChange"),0<n.length&&(o=new po("onChange","change",null,o,c),e.push({event:o,listeners:n}))}var Ln=null,bo=null;function _a(e){jy(e,0)}function ds(e){var n=Nr(e);if(Jt(n))return e}function Sa(e,n){if(e==="change")return n}var kl=!1;if(Dr){var wa;if(Dr){var Ol="oninput"in document;if(!Ol){var Qr=document.createElement("div");Qr.setAttribute("oninput","return;"),Ol=typeof Qr.oninput=="function"}wa=Ol}else wa=!1;kl=wa&&(!document.documentMode||9<document.documentMode)}function yo(){Ln&&(Ln.detachEvent("onpropertychange",Nu),bo=Ln=null)}function Nu(e){if(e.propertyName==="value"&&ds(bo)){var n=[];Mu(n,bo,e,ga(e)),ar(_a,n)}}function Cl(e,n,o){e==="focusin"?(yo(),Ln=n,bo=o,Ln.attachEvent("onpropertychange",Nu)):e==="focusout"&&yo()}function kh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ds(bo)}function Jr(e,n){if(e==="click")return ds(n)}function Oh(e,n){if(e==="input"||e==="change")return ds(n)}function Ta(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Bn=typeof Object.is=="function"?Object.is:Ta;function Rn(e,n){if(Bn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),c=Object.keys(n);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!At.call(n,m)||!Bn(e[m],n[m]))return!1}return!0}function vo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ll(e,n){var o=vo(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=n&&c>=n)return{node:o,offset:n-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=vo(o)}}function fs(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fs(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function xo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=je(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=je(e.document)}return n}function _o(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var hs=Dr&&"documentMode"in document&&11>=document.documentMode,lr=null,Ea=null,Ui=null,ms=!1;function Au(e,n,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ms||lr==null||lr!==je(c)||(c=lr,"selectionStart"in c&&_o(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ui&&Rn(Ui,c)||(Ui=c,c=md(Ea,"onSelect"),0<c.length&&(n=new po("onSelect","select",null,n,o),e.push({event:n,listeners:c}),n.target=lr)))}function Or(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Ma={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},ps={},Du={};Dr&&(Du=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function bi(e){if(ps[e])return ps[e];if(!Ma[e])return e;var n=Ma[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Du)return ps[e]=n[o];return e}var ju=bi("animationend"),cr=bi("animationiteration"),So=bi("animationstart"),Ch=bi("transitionrun"),gs=bi("transitionstart"),Lh=bi("transitioncancel"),Bl=bi("transitionend"),ku=new Map,Zi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zi.push("scrollEnd");function ur(e,n){ku.set(e,n),ki(n,[e])}var Yi=new WeakMap;function Pn(e,n){if(typeof e=="object"&&e!==null){var o=Yi.get(e);return o!==void 0?o:(n={value:e,source:n,stack:De(n)},Yi.set(e,n),n)}return{value:e,source:n,stack:De(n)}}var zn=[],Na=0,dr=0;function wo(){for(var e=Na,n=dr=Na=0;n<e;){var o=zn[n];zn[n++]=null;var c=zn[n];zn[n++]=null;var m=zn[n];zn[n++]=null;var v=zn[n];if(zn[n++]=null,c!==null&&m!==null){var N=c.pending;N===null?m.next=m:(m.next=N.next,N.next=m),c.pending=m}v!==0&&Eo(o,m,v)}}function To(e,n,o,c){zn[Na++]=e,zn[Na++]=n,zn[Na++]=o,zn[Na++]=c,dr|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function qi(e,n,o,c){return To(e,n,o,c),yi(e)}function Aa(e,n){return To(e,null,null,n),yi(e)}function Eo(e,n,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,v=e.return;v!==null;)v.childLanes|=o,c=v.alternate,c!==null&&(c.childLanes|=o),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(m=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,m&&n!==null&&(m=31-ze(o),e=v.hiddenUpdates,c=e[m],c===null?e[m]=[n]:c.push(n),n.lane=o|536870912),v):null}function yi(e){if(50<ic)throw ic=0,km=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Fi={};function Ou(e,n,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(e,n,o,c){return new Ou(e,n,o,c)}function bs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cr(e,n){var o=e.alternate;return o===null?(o=$n(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Rl(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Mo(e,n,o,c,m,v){var N=0;if(c=e,typeof e=="function")bs(e)&&(N=1);else if(typeof e=="string")N=Zw(e,o,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case V:return e=$n(31,o,n,m),e.elementType=V,e.lanes=v,e;case M:return vi(o.children,m,v,n);case D:N=8,m|=24;break;case A:return e=$n(12,o,n,m|2),e.elementType=A,e.lanes=v,e;case O:return e=$n(13,o,n,m),e.elementType=O,e.lanes=v,e;case Y:return e=$n(19,o,n,m),e.elementType=Y,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case j:N=10;break t;case P:N=9;break t;case B:N=11;break t;case et:N=14;break t;case it:N=16,c=null;break t}N=29,o=Error(s(130,e===null?"null":typeof e,"")),c=null}return n=$n(N,o,n,m),n.elementType=e,n.type=c,n.lanes=v,n}function vi(e,n,o,c){return e=$n(7,e,c,n),e.lanes=o,e}function Pl(e,n,o){return e=$n(6,e,null,n),e.lanes=o,e}function ys(e,n,o){return n=$n(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Vi=[],Da=0,i=null,l=0,h=[],w=0,E=null,R=1,W="";function ut(e,n){Vi[Da++]=l,Vi[Da++]=i,i=e,l=n}function yt(e,n,o){h[w++]=R,h[w++]=W,h[w++]=E,E=e;var c=R;e=W;var m=32-ze(c)-1;c&=~(1<<m),o+=1;var v=32-ze(n)+m;if(30<v){var N=m-m%5;v=(c&(1<<N)-1).toString(32),c>>=N,m-=N,R=1<<32-ze(n)+m|o<<m|c,W=v+e}else R=1<<v|o<<m|c,W=e}function Nt(e){e.return!==null&&(ut(e,1),yt(e,1,0))}function Rt(e){for(;e===i;)i=Vi[--Da],Vi[Da]=null,l=Vi[--Da],Vi[Da]=null;for(;e===E;)E=h[--w],h[w]=null,W=h[--w],h[w]=null,R=h[--w],h[w]=null}var Pt=null,$t=null,Wt=!1,ke=null,Ze=!1,un=Error(s(519));function Jn(e){var n=Error(s(418,""));throw ka(Pn(n,e)),un}function Cu(e){var n=e.stateNode,o=e.type,c=e.memoizedProps;switch(n[ln]=e,n[En]=c,o){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(o=0;o<oc.length;o++)ae(oc[o],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":ae("invalid",n),hu(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),fa(n);break;case"select":ae("invalid",n);break;case"textarea":ae("invalid",n),mi(n,c.value,c.defaultValue,c.children),fa(n)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||c.suppressHydrationWarning===!0||Ly(n.textContent,o)?(c.popover!=null&&(ae("beforetoggle",n),ae("toggle",n)),c.onScroll!=null&&ae("scroll",n),c.onScrollEnd!=null&&ae("scrollend",n),c.onClick!=null&&(n.onclick=pd),n=!0):n=!1,n||Jn(e)}function Lu(e){for(Pt=e.return;Pt;)switch(Pt.tag){case 5:case 13:Ze=!1;return;case 27:case 3:Ze=!0;return;default:Pt=Pt.return}}function No(e){if(e!==Pt)return!1;if(!Wt)return Lu(e),Wt=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Fm(e.type,e.memoizedProps)),o=!o),o&&$t&&Jn(e),Lu(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(n===0){$t=ri(e.nextSibling);break t}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;e=e.nextSibling}$t=null}}else n===27?(n=$t,qa(e.type)?(e=Wm,Wm=null,$t=e):$t=n):$t=Pt?ri(e.stateNode.nextSibling):null;return!0}function ja(){$t=Pt=null,Wt=!1}function Bu(){var e=ke;return e!==null&&(nr===null?nr=e:nr.push.apply(nr,e),ke=null),e}function ka(e){ke===null?ke=[e]:ke.push(e)}var $e=H(null),Lr=null,ti=null;function xi(e,n,o){tt($e,n._currentValue),n._currentValue=o}function ei(e){e._currentValue=$e.current,F($e)}function Ao(e,n,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===o)break;e=e.return}}function vs(e,n,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var v=m.dependencies;if(v!==null){var N=m.child;v=v.firstContext;t:for(;v!==null;){var z=v;v=m;for(var Q=0;Q<n.length;Q++)if(z.context===n[Q]){v.lanes|=o,z=v.alternate,z!==null&&(z.lanes|=o),Ao(v.return,o,e),c||(N=null);break t}v=z.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(s(341));N.lanes|=o,v=N.alternate,v!==null&&(v.lanes|=o),Ao(N,o,e),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===e){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function Do(e,n,o,c){e=null;for(var m=n,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var z=m.type;Bn(m.pendingProps.value,N.value)||(e!==null?e.push(z):e=[z])}}else if(m===mt.current){if(N=m.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(fc):e=[fc])}m=m.return}e!==null&&vs(n,e,o,c),n.flags|=262144}function Ru(e){for(e=e.firstContext;e!==null;){if(!Bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jo(e){Lr=e,ti=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function An(e){return xg(Lr,e)}function Pu(e,n){return Lr===null&&jo(e),xg(e,n)}function xg(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},ti===null){if(e===null)throw Error(s(308));ti=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ti=ti.next=n;return o}var US=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},ZS=t.unstable_scheduleCallback,YS=t.unstable_NormalPriority,rn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new US,data:new Map,refCount:0}}function zl(e){e.refCount--,e.refCount===0&&ZS(YS,function(){e.controller.abort()})}var $l=null,Rh=0,xs=0,_s=null;function qS(e,n){if($l===null){var o=$l=[];Rh=0,xs=zm(),_s={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Rh++,n.then(_g,_g),n}function _g(){if(--Rh===0&&$l!==null){_s!==null&&(_s.status="fulfilled");var e=$l;$l=null,xs=0,_s=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function FS(e,n){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var m=0;m<o.length;m++)(0,o[m])(n)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Sg=I.S;I.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&qS(e,n),Sg!==null&&Sg(e,n)};var ko=H(null);function Ph(){var e=ko.current;return e!==null?e:Oe.pooledCache}function zu(e,n){n===null?tt(ko,ko.current):tt(ko,n.pool)}function wg(){var e=Ph();return e===null?null:{parent:rn._currentValue,pool:e}}var Hl=Error(s(460)),Tg=Error(s(474)),$u=Error(s(542)),zh={then:function(){}};function Eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hu(){}function Mg(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(Hu,Hu),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ag(e),e;default:if(typeof n.status=="string")n.then(Hu,Hu);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=c}},function(c){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ag(e),e}throw Il=n,Hl}}var Il=null;function Ng(){if(Il===null)throw Error(s(459));var e=Il;return Il=null,e}function Ag(e){if(e===Hl||e===$u)throw Error(s(483))}var Oa=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function La(e,n,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ve&2)!==0){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,n=yi(e),Eo(e,null,o),n}return To(e,c,n,o),yi(e)}function Gl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,su(e,o)}}function Ih(e,n){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var N={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?m=v=N:v=v.next=N,o=o.next}while(o!==null);v===null?m=v=n:v=v.next=n}else m=v=n;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Gh=!1;function Ul(){if(Gh){var e=_s;if(e!==null)throw e}}function Zl(e,n,o,c){Gh=!1;var m=e.updateQueue;Oa=!1;var v=m.firstBaseUpdate,N=m.lastBaseUpdate,z=m.shared.pending;if(z!==null){m.shared.pending=null;var Q=z,ht=Q.next;Q.next=null,N===null?v=ht:N.next=ht,N=Q;var wt=e.alternate;wt!==null&&(wt=wt.updateQueue,z=wt.lastBaseUpdate,z!==N&&(z===null?wt.firstBaseUpdate=ht:z.next=ht,wt.lastBaseUpdate=Q))}if(v!==null){var Mt=m.baseState;N=0,wt=ht=Q=null,z=v;do{var pt=z.lane&-536870913,gt=pt!==z.lane;if(gt?(de&pt)===pt:(c&pt)===pt){pt!==0&&pt===xs&&(Gh=!0),wt!==null&&(wt=wt.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});t:{var Xt=e,Vt=z;pt=n;var Te=o;switch(Vt.tag){case 1:if(Xt=Vt.payload,typeof Xt=="function"){Mt=Xt.call(Te,Mt,pt);break t}Mt=Xt;break t;case 3:Xt.flags=Xt.flags&-65537|128;case 0:if(Xt=Vt.payload,pt=typeof Xt=="function"?Xt.call(Te,Mt,pt):Xt,pt==null)break t;Mt=_({},Mt,pt);break t;case 2:Oa=!0}}pt=z.callback,pt!==null&&(e.flags|=64,gt&&(e.flags|=8192),gt=m.callbacks,gt===null?m.callbacks=[pt]:gt.push(pt))}else gt={lane:pt,tag:z.tag,payload:z.payload,callback:z.callback,next:null},wt===null?(ht=wt=gt,Q=Mt):wt=wt.next=gt,N|=pt;if(z=z.next,z===null){if(z=m.shared.pending,z===null)break;gt=z,z=gt.next,gt.next=null,m.lastBaseUpdate=gt,m.shared.pending=null}}while(!0);wt===null&&(Q=Mt),m.baseState=Q,m.firstBaseUpdate=ht,m.lastBaseUpdate=wt,v===null&&(m.shared.lanes=0),Ga|=N,e.lanes=N,e.memoizedState=Mt}}function Dg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function jg(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Dg(o[e],n)}var Ss=H(null),Iu=H(0);function kg(e,n){e=ea,tt(Iu,e),tt(Ss,n),ea=e|n.baseLanes}function Uh(){tt(Iu,ea),tt(Ss,Ss.current)}function Zh(){ea=Iu.current,F(Ss),F(Iu)}var Ba=0,ee=null,Se=null,tn=null,Gu=!1,ws=!1,Oo=!1,Uu=0,Yl=0,Ts=null,VS=0;function We(){throw Error(s(321))}function Yh(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Bn(e[o],n[o]))return!1;return!0}function qh(e,n,o,c,m,v){return Ba=v,ee=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,I.H=e===null||e.memoizedState===null?mb:pb,Oo=!1,v=o(c,m),Oo=!1,ws&&(v=Cg(n,o,c,m)),Og(e),v}function Og(e){I.H=Ku;var n=Se!==null&&Se.next!==null;if(Ba=0,tn=Se=ee=null,Gu=!1,Yl=0,Ts=null,n)throw Error(s(300));e===null||dn||(e=e.dependencies,e!==null&&Ru(e)&&(dn=!0))}function Cg(e,n,o,c){ee=e;var m=0;do{if(ws&&(Ts=null),Yl=0,ws=!1,25<=m)throw Error(s(301));if(m+=1,tn=Se=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}I.H=ew,v=n(o,c)}while(ws);return v}function KS(){var e=I.H,n=e.useState()[0];return n=typeof n.then=="function"?ql(n):n,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(ee.flags|=1024),n}function Fh(){var e=Uu!==0;return Uu=0,e}function Vh(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Kh(e){if(Gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Gu=!1}Ba=0,tn=Se=ee=null,ws=!1,Yl=Uu=0,Ts=null}function tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?ee.memoizedState=tn=e:tn=tn.next=e,tn}function en(){if(Se===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var n=tn===null?ee.memoizedState:tn.next;if(n!==null)tn=n,Se=e;else{if(e===null)throw ee.alternate===null?Error(s(467)):Error(s(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},tn===null?ee.memoizedState=tn=e:tn=tn.next=e}return tn}function Xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(e){var n=Yl;return Yl+=1,Ts===null&&(Ts=[]),e=Mg(Ts,e,n),n=ee,(tn===null?n.memoizedState:tn.next)===null&&(n=n.alternate,I.H=n===null||n.memoizedState===null?mb:pb),e}function Zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ql(e);if(e.$$typeof===j)return An(e)}throw Error(s(438,String(e)))}function Wh(e){var n=null,o=ee.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var c=ee.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Xh(),ee.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),c=0;c<e;c++)o[c]=X;return n.index++,o}function Ki(e,n){return typeof n=="function"?n(e):n}function Yu(e){var n=en();return Qh(n,Se,e)}function Qh(e,n,o){var c=e.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=e.baseQueue,v=c.pending;if(v!==null){if(m!==null){var N=m.next;m.next=v.next,v.next=N}n.baseQueue=m=v,c.pending=null}if(v=e.baseState,m===null)e.memoizedState=v;else{n=m.next;var z=N=null,Q=null,ht=n,wt=!1;do{var Mt=ht.lane&-536870913;if(Mt!==ht.lane?(de&Mt)===Mt:(Ba&Mt)===Mt){var pt=ht.revertLane;if(pt===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null}),Mt===xs&&(wt=!0);else if((Ba&pt)===pt){ht=ht.next,pt===xs&&(wt=!0);continue}else Mt={lane:0,revertLane:ht.revertLane,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null},Q===null?(z=Q=Mt,N=v):Q=Q.next=Mt,ee.lanes|=pt,Ga|=pt;Mt=ht.action,Oo&&o(v,Mt),v=ht.hasEagerState?ht.eagerState:o(v,Mt)}else pt={lane:Mt,revertLane:ht.revertLane,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null},Q===null?(z=Q=pt,N=v):Q=Q.next=pt,ee.lanes|=Mt,Ga|=Mt;ht=ht.next}while(ht!==null&&ht!==n);if(Q===null?N=v:Q.next=z,!Bn(v,e.memoizedState)&&(dn=!0,wt&&(o=_s,o!==null)))throw o;e.memoizedState=v,e.baseState=N,e.baseQueue=Q,c.lastRenderedState=v}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Jh(e){var n=en(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,v=n.memoizedState;if(m!==null){o.pending=null;var N=m=m.next;do v=e(v,N.action),N=N.next;while(N!==m);Bn(v,n.memoizedState)||(dn=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),o.lastRenderedState=v}return[v,c]}function Lg(e,n,o){var c=ee,m=en(),v=Wt;if(v){if(o===void 0)throw Error(s(407));o=o()}else o=n();var N=!Bn((Se||m).memoizedState,o);N&&(m.memoizedState=o,dn=!0),m=m.queue;var z=Pg.bind(null,c,m,e);if(Fl(2048,8,z,[e]),m.getSnapshot!==n||N||tn!==null&&tn.memoizedState.tag&1){if(c.flags|=2048,Es(9,qu(),Rg.bind(null,c,m,o,n),null),Oe===null)throw Error(s(349));v||(Ba&124)!==0||Bg(c,n,o)}return o}function Bg(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ee.updateQueue,n===null?(n=Xh(),ee.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Rg(e,n,o,c){n.value=o,n.getSnapshot=c,zg(n)&&$g(e)}function Pg(e,n,o){return o(function(){zg(n)&&$g(e)})}function zg(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Bn(e,o)}catch{return!0}}function $g(e){var n=Aa(e,2);n!==null&&gr(n,e,2)}function tm(e){var n=tr();if(typeof e=="function"){var o=e;if(e=o(),Oo){nn(!0);try{o()}finally{nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function Hg(e,n,o,c){return e.baseState=o,Qh(e,Se,typeof c=="function"?c:Ki)}function XS(e,n,o,c,m){if(Vu(e))throw Error(s(485));if(e=n.action,e!==null){var v={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){v.listeners.push(N)}};I.T!==null?o(!0):v.isTransition=!1,c(v),o=n.pending,o===null?(v.next=n.pending=v,Ig(n,v)):(v.next=o.next,n.pending=o.next=v)}}function Ig(e,n){var o=n.action,c=n.payload,m=e.state;if(n.isTransition){var v=I.T,N={};I.T=N;try{var z=o(m,c),Q=I.S;Q!==null&&Q(N,z),Gg(e,n,z)}catch(ht){em(e,n,ht)}finally{I.T=v}}else try{v=o(m,c),Gg(e,n,v)}catch(ht){em(e,n,ht)}}function Gg(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Ug(e,n,c)},function(c){return em(e,n,c)}):Ug(e,n,o)}function Ug(e,n,o){n.status="fulfilled",n.value=o,Zg(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Ig(e,o)))}function em(e,n,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=o,Zg(n),n=n.next;while(n!==c)}e.action=null}function Zg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Yg(e,n){return n}function qg(e,n){if(Wt){var o=Oe.formState;if(o!==null){t:{var c=ee;if(Wt){if($t){e:{for(var m=$t,v=Ze;m.nodeType!==8;){if(!v){m=null;break e}if(m=ri(m.nextSibling),m===null){m=null;break e}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){$t=ri(m.nextSibling),c=m.data==="F!";break t}}Jn(c)}c=!1}c&&(n=o[0])}}return o=tr(),o.memoizedState=o.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:n},o.queue=c,o=db.bind(null,ee,c),c.dispatch=o,c=tm(!1),v=om.bind(null,ee,!1,c.queue),c=tr(),m={state:n,dispatch:null,action:e,pending:null},c.queue=m,o=XS.bind(null,ee,m,v,o),m.dispatch=o,c.memoizedState=e,[n,o,!1]}function Fg(e){var n=en();return Vg(n,Se,e)}function Vg(e,n,o){if(n=Qh(e,n,Yg)[0],e=Yu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=ql(n)}catch(N){throw N===Hl?$u:N}else c=n;n=en();var m=n.queue,v=m.dispatch;return o!==n.memoizedState&&(ee.flags|=2048,Es(9,qu(),WS.bind(null,m,o),null)),[c,v,e]}function WS(e,n){e.action=n}function Kg(e){var n=en(),o=Se;if(o!==null)return Vg(n,o,e);en(),n=n.memoizedState,o=en();var c=o.queue.dispatch;return o.memoizedState=e,[n,c,!1]}function Es(e,n,o,c){return e={tag:e,create:o,deps:c,inst:n,next:null},n=ee.updateQueue,n===null&&(n=Xh(),ee.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,n.lastEffect=e),e}function qu(){return{destroy:void 0,resource:void 0}}function Xg(){return en().memoizedState}function Fu(e,n,o,c){var m=tr();c=c===void 0?null:c,ee.flags|=e,m.memoizedState=Es(1|n,qu(),o,c)}function Fl(e,n,o,c){var m=en();c=c===void 0?null:c;var v=m.memoizedState.inst;Se!==null&&c!==null&&Yh(c,Se.memoizedState.deps)?m.memoizedState=Es(n,v,o,c):(ee.flags|=e,m.memoizedState=Es(1|n,v,o,c))}function Wg(e,n){Fu(8390656,8,e,n)}function Qg(e,n){Fl(2048,8,e,n)}function Jg(e,n){return Fl(4,2,e,n)}function tb(e,n){return Fl(4,4,e,n)}function eb(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function nb(e,n,o){o=o!=null?o.concat([e]):null,Fl(4,4,eb.bind(null,n,e),o)}function nm(){}function rb(e,n){var o=en();n=n===void 0?null:n;var c=o.memoizedState;return n!==null&&Yh(n,c[1])?c[0]:(o.memoizedState=[e,n],e)}function ib(e,n){var o=en();n=n===void 0?null:n;var c=o.memoizedState;if(n!==null&&Yh(n,c[1]))return c[0];if(c=e(),Oo){nn(!0);try{e()}finally{nn(!1)}}return o.memoizedState=[c,n],c}function rm(e,n,o){return o===void 0||(Ba&1073741824)!==0?e.memoizedState=n:(e.memoizedState=o,e=sy(),ee.lanes|=e,Ga|=e,o)}function ab(e,n,o,c){return Bn(o,n)?o:Ss.current!==null?(e=rm(e,o,c),Bn(e,n)||(dn=!0),e):(Ba&42)===0?(dn=!0,e.memoizedState=o):(e=sy(),ee.lanes|=e,Ga|=e,n)}function ob(e,n,o,c,m){var v=at.p;at.p=v!==0&&8>v?v:8;var N=I.T,z={};I.T=z,om(e,!1,n,o);try{var Q=m(),ht=I.S;if(ht!==null&&ht(z,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var wt=FS(Q,c);Vl(e,n,wt,pr(e))}else Vl(e,n,c,pr(e))}catch(Mt){Vl(e,n,{then:function(){},status:"rejected",reason:Mt},pr())}finally{at.p=v,I.T=N}}function QS(){}function im(e,n,o,c){if(e.tag!==5)throw Error(s(476));var m=sb(e).queue;ob(e,m,n,st,o===null?QS:function(){return lb(e),o(c)})}function sb(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:st},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function lb(e){var n=sb(e).next.queue;Vl(e,n,{},pr())}function am(){return An(fc)}function cb(){return en().memoizedState}function ub(){return en().memoizedState}function JS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=pr();e=Ca(o);var c=La(n,e,o);c!==null&&(gr(c,n,o),Gl(c,n,o)),n={cache:Bh()},e.payload=n;return}n=n.return}}function tw(e,n,o){var c=pr();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Vu(e)?fb(n,o):(o=qi(e,n,o,c),o!==null&&(gr(o,e,c),hb(o,n,c)))}function db(e,n,o){var c=pr();Vl(e,n,o,c)}function Vl(e,n,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Vu(e))fb(n,m);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var N=n.lastRenderedState,z=v(N,o);if(m.hasEagerState=!0,m.eagerState=z,Bn(z,N))return To(e,n,m,0),Oe===null&&wo(),!1}catch{}finally{}if(o=qi(e,n,m,c),o!==null)return gr(o,e,c),hb(o,n,c),!0}return!1}function om(e,n,o,c){if(c={lane:2,revertLane:zm(),action:c,hasEagerState:!1,eagerState:null,next:null},Vu(e)){if(n)throw Error(s(479))}else n=qi(e,o,c,2),n!==null&&gr(n,e,2)}function Vu(e){var n=e.alternate;return e===ee||n!==null&&n===ee}function fb(e,n){ws=Gu=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function hb(e,n,o){if((o&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,su(e,o)}}var Ku={readContext:An,use:Zu,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We},mb={readContext:An,use:Zu,useCallback:function(e,n){return tr().memoizedState=[e,n===void 0?null:n],e},useContext:An,useEffect:Wg,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Fu(4194308,4,eb.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var o=tr();n=n===void 0?null:n;var c=e();if(Oo){nn(!0);try{e()}finally{nn(!1)}}return o.memoizedState=[c,n],c},useReducer:function(e,n,o){var c=tr();if(o!==void 0){var m=o(n);if(Oo){nn(!0);try{o(n)}finally{nn(!1)}}}else m=n;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=tw.bind(null,ee,e),[c.memoizedState,e]},useRef:function(e){var n=tr();return e={current:e},n.memoizedState=e},useState:function(e){e=tm(e);var n=e.queue,o=db.bind(null,ee,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:nm,useDeferredValue:function(e,n){var o=tr();return rm(o,e,n)},useTransition:function(){var e=tm(!1);return e=ob.bind(null,ee,e.queue,!0,!1),tr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var c=ee,m=tr();if(Wt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),Oe===null)throw Error(s(349));(de&124)!==0||Bg(c,n,o)}m.memoizedState=o;var v={value:o,getSnapshot:n};return m.queue=v,Wg(Pg.bind(null,c,v,e),[e]),c.flags|=2048,Es(9,qu(),Rg.bind(null,c,v,o,n),null),o},useId:function(){var e=tr(),n=Oe.identifierPrefix;if(Wt){var o=W,c=R;o=(c&~(1<<32-ze(c)-1)).toString(32)+o,n="«"+n+"R"+o,o=Uu++,0<o&&(n+="H"+o.toString(32)),n+="»"}else o=VS++,n="«"+n+"r"+o.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:am,useFormState:qg,useActionState:qg,useOptimistic:function(e){var n=tr();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=om.bind(null,ee,!0,o),o.dispatch=n,[e,n]},useMemoCache:Wh,useCacheRefresh:function(){return tr().memoizedState=JS.bind(null,ee)}},pb={readContext:An,use:Zu,useCallback:rb,useContext:An,useEffect:Qg,useImperativeHandle:nb,useInsertionEffect:Jg,useLayoutEffect:tb,useMemo:ib,useReducer:Yu,useRef:Xg,useState:function(){return Yu(Ki)},useDebugValue:nm,useDeferredValue:function(e,n){var o=en();return ab(o,Se.memoizedState,e,n)},useTransition:function(){var e=Yu(Ki)[0],n=en().memoizedState;return[typeof e=="boolean"?e:ql(e),n]},useSyncExternalStore:Lg,useId:cb,useHostTransitionStatus:am,useFormState:Fg,useActionState:Fg,useOptimistic:function(e,n){var o=en();return Hg(o,Se,e,n)},useMemoCache:Wh,useCacheRefresh:ub},ew={readContext:An,use:Zu,useCallback:rb,useContext:An,useEffect:Qg,useImperativeHandle:nb,useInsertionEffect:Jg,useLayoutEffect:tb,useMemo:ib,useReducer:Jh,useRef:Xg,useState:function(){return Jh(Ki)},useDebugValue:nm,useDeferredValue:function(e,n){var o=en();return Se===null?rm(o,e,n):ab(o,Se.memoizedState,e,n)},useTransition:function(){var e=Jh(Ki)[0],n=en().memoizedState;return[typeof e=="boolean"?e:ql(e),n]},useSyncExternalStore:Lg,useId:cb,useHostTransitionStatus:am,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,n){var o=en();return Se!==null?Hg(o,Se,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Wh,useCacheRefresh:ub},Ms=null,Kl=0;function Xu(e){var n=Kl;return Kl+=1,Ms===null&&(Ms=[]),Mg(Ms,e,n)}function Xl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Wu(e,n){throw n.$$typeof===x?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function gb(e){var n=e._init;return n(e._payload)}function bb(e){function n(lt,nt){if(e){var ft=lt.deletions;ft===null?(lt.deletions=[nt],lt.flags|=16):ft.push(nt)}}function o(lt,nt){if(!e)return null;for(;nt!==null;)n(lt,nt),nt=nt.sibling;return null}function c(lt){for(var nt=new Map;lt!==null;)lt.key!==null?nt.set(lt.key,lt):nt.set(lt.index,lt),lt=lt.sibling;return nt}function m(lt,nt){return lt=Cr(lt,nt),lt.index=0,lt.sibling=null,lt}function v(lt,nt,ft){return lt.index=ft,e?(ft=lt.alternate,ft!==null?(ft=ft.index,ft<nt?(lt.flags|=67108866,nt):ft):(lt.flags|=67108866,nt)):(lt.flags|=1048576,nt)}function N(lt){return e&&lt.alternate===null&&(lt.flags|=67108866),lt}function z(lt,nt,ft,Et){return nt===null||nt.tag!==6?(nt=Pl(ft,lt.mode,Et),nt.return=lt,nt):(nt=m(nt,ft),nt.return=lt,nt)}function Q(lt,nt,ft,Et){var zt=ft.type;return zt===M?wt(lt,nt,ft.props.children,Et,ft.key):nt!==null&&(nt.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===it&&gb(zt)===nt.type)?(nt=m(nt,ft.props),Xl(nt,ft),nt.return=lt,nt):(nt=Mo(ft.type,ft.key,ft.props,null,lt.mode,Et),Xl(nt,ft),nt.return=lt,nt)}function ht(lt,nt,ft,Et){return nt===null||nt.tag!==4||nt.stateNode.containerInfo!==ft.containerInfo||nt.stateNode.implementation!==ft.implementation?(nt=ys(ft,lt.mode,Et),nt.return=lt,nt):(nt=m(nt,ft.children||[]),nt.return=lt,nt)}function wt(lt,nt,ft,Et,zt){return nt===null||nt.tag!==7?(nt=vi(ft,lt.mode,Et,zt),nt.return=lt,nt):(nt=m(nt,ft),nt.return=lt,nt)}function Mt(lt,nt,ft){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return nt=Pl(""+nt,lt.mode,ft),nt.return=lt,nt;if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case S:return ft=Mo(nt.type,nt.key,nt.props,null,lt.mode,ft),Xl(ft,nt),ft.return=lt,ft;case T:return nt=ys(nt,lt.mode,ft),nt.return=lt,nt;case it:var Et=nt._init;return nt=Et(nt._payload),Mt(lt,nt,ft)}if(ct(nt)||U(nt))return nt=vi(nt,lt.mode,ft,null),nt.return=lt,nt;if(typeof nt.then=="function")return Mt(lt,Xu(nt),ft);if(nt.$$typeof===j)return Mt(lt,Pu(lt,nt),ft);Wu(lt,nt)}return null}function pt(lt,nt,ft,Et){var zt=nt!==null?nt.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return zt!==null?null:z(lt,nt,""+ft,Et);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case S:return ft.key===zt?Q(lt,nt,ft,Et):null;case T:return ft.key===zt?ht(lt,nt,ft,Et):null;case it:return zt=ft._init,ft=zt(ft._payload),pt(lt,nt,ft,Et)}if(ct(ft)||U(ft))return zt!==null?null:wt(lt,nt,ft,Et,null);if(typeof ft.then=="function")return pt(lt,nt,Xu(ft),Et);if(ft.$$typeof===j)return pt(lt,nt,Pu(lt,ft),Et);Wu(lt,ft)}return null}function gt(lt,nt,ft,Et,zt){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return lt=lt.get(ft)||null,z(nt,lt,""+Et,zt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case S:return lt=lt.get(Et.key===null?ft:Et.key)||null,Q(nt,lt,Et,zt);case T:return lt=lt.get(Et.key===null?ft:Et.key)||null,ht(nt,lt,Et,zt);case it:var re=Et._init;return Et=re(Et._payload),gt(lt,nt,ft,Et,zt)}if(ct(Et)||U(Et))return lt=lt.get(ft)||null,wt(nt,lt,Et,zt,null);if(typeof Et.then=="function")return gt(lt,nt,ft,Xu(Et),zt);if(Et.$$typeof===j)return gt(lt,nt,ft,Pu(nt,Et),zt);Wu(nt,Et)}return null}function Xt(lt,nt,ft,Et){for(var zt=null,re=null,Gt=nt,Kt=nt=0,hn=null;Gt!==null&&Kt<ft.length;Kt++){Gt.index>Kt?(hn=Gt,Gt=null):hn=Gt.sibling;var pe=pt(lt,Gt,ft[Kt],Et);if(pe===null){Gt===null&&(Gt=hn);break}e&&Gt&&pe.alternate===null&&n(lt,Gt),nt=v(pe,nt,Kt),re===null?zt=pe:re.sibling=pe,re=pe,Gt=hn}if(Kt===ft.length)return o(lt,Gt),Wt&&ut(lt,Kt),zt;if(Gt===null){for(;Kt<ft.length;Kt++)Gt=Mt(lt,ft[Kt],Et),Gt!==null&&(nt=v(Gt,nt,Kt),re===null?zt=Gt:re.sibling=Gt,re=Gt);return Wt&&ut(lt,Kt),zt}for(Gt=c(Gt);Kt<ft.length;Kt++)hn=gt(Gt,lt,Kt,ft[Kt],Et),hn!==null&&(e&&hn.alternate!==null&&Gt.delete(hn.key===null?Kt:hn.key),nt=v(hn,nt,Kt),re===null?zt=hn:re.sibling=hn,re=hn);return e&&Gt.forEach(function(Wa){return n(lt,Wa)}),Wt&&ut(lt,Kt),zt}function Vt(lt,nt,ft,Et){if(ft==null)throw Error(s(151));for(var zt=null,re=null,Gt=nt,Kt=nt=0,hn=null,pe=ft.next();Gt!==null&&!pe.done;Kt++,pe=ft.next()){Gt.index>Kt?(hn=Gt,Gt=null):hn=Gt.sibling;var Wa=pt(lt,Gt,pe.value,Et);if(Wa===null){Gt===null&&(Gt=hn);break}e&&Gt&&Wa.alternate===null&&n(lt,Gt),nt=v(Wa,nt,Kt),re===null?zt=Wa:re.sibling=Wa,re=Wa,Gt=hn}if(pe.done)return o(lt,Gt),Wt&&ut(lt,Kt),zt;if(Gt===null){for(;!pe.done;Kt++,pe=ft.next())pe=Mt(lt,pe.value,Et),pe!==null&&(nt=v(pe,nt,Kt),re===null?zt=pe:re.sibling=pe,re=pe);return Wt&&ut(lt,Kt),zt}for(Gt=c(Gt);!pe.done;Kt++,pe=ft.next())pe=gt(Gt,lt,Kt,pe.value,Et),pe!==null&&(e&&pe.alternate!==null&&Gt.delete(pe.key===null?Kt:pe.key),nt=v(pe,nt,Kt),re===null?zt=pe:re.sibling=pe,re=pe);return e&&Gt.forEach(function(nT){return n(lt,nT)}),Wt&&ut(lt,Kt),zt}function Te(lt,nt,ft,Et){if(typeof ft=="object"&&ft!==null&&ft.type===M&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case S:t:{for(var zt=ft.key;nt!==null;){if(nt.key===zt){if(zt=ft.type,zt===M){if(nt.tag===7){o(lt,nt.sibling),Et=m(nt,ft.props.children),Et.return=lt,lt=Et;break t}}else if(nt.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===it&&gb(zt)===nt.type){o(lt,nt.sibling),Et=m(nt,ft.props),Xl(Et,ft),Et.return=lt,lt=Et;break t}o(lt,nt);break}else n(lt,nt);nt=nt.sibling}ft.type===M?(Et=vi(ft.props.children,lt.mode,Et,ft.key),Et.return=lt,lt=Et):(Et=Mo(ft.type,ft.key,ft.props,null,lt.mode,Et),Xl(Et,ft),Et.return=lt,lt=Et)}return N(lt);case T:t:{for(zt=ft.key;nt!==null;){if(nt.key===zt)if(nt.tag===4&&nt.stateNode.containerInfo===ft.containerInfo&&nt.stateNode.implementation===ft.implementation){o(lt,nt.sibling),Et=m(nt,ft.children||[]),Et.return=lt,lt=Et;break t}else{o(lt,nt);break}else n(lt,nt);nt=nt.sibling}Et=ys(ft,lt.mode,Et),Et.return=lt,lt=Et}return N(lt);case it:return zt=ft._init,ft=zt(ft._payload),Te(lt,nt,ft,Et)}if(ct(ft))return Xt(lt,nt,ft,Et);if(U(ft)){if(zt=U(ft),typeof zt!="function")throw Error(s(150));return ft=zt.call(ft),Vt(lt,nt,ft,Et)}if(typeof ft.then=="function")return Te(lt,nt,Xu(ft),Et);if(ft.$$typeof===j)return Te(lt,nt,Pu(lt,ft),Et);Wu(lt,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint"?(ft=""+ft,nt!==null&&nt.tag===6?(o(lt,nt.sibling),Et=m(nt,ft),Et.return=lt,lt=Et):(o(lt,nt),Et=Pl(ft,lt.mode,Et),Et.return=lt,lt=Et),N(lt)):o(lt,nt)}return function(lt,nt,ft,Et){try{Kl=0;var zt=Te(lt,nt,ft,Et);return Ms=null,zt}catch(Gt){if(Gt===Hl||Gt===$u)throw Gt;var re=$n(29,Gt,null,lt.mode);return re.lanes=Et,re.return=lt,re}finally{}}}var Ns=bb(!0),yb=bb(!1),Br=H(null),_i=null;function Ra(e){var n=e.alternate;tt(an,an.current&1),tt(Br,e),_i===null&&(n===null||Ss.current!==null||n.memoizedState!==null)&&(_i=e)}function vb(e){if(e.tag===22){if(tt(an,an.current),tt(Br,e),_i===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(_i=e)}}else Pa()}function Pa(){tt(an,an.current),tt(Br,Br.current)}function Xi(e){F(Br),_i===e&&(_i=null),F(an)}var an=H(0);function Qu(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Xm(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function sm(e,n,o,c){n=e.memoizedState,o=o(c,n),o=o==null?n:_({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var lm={enqueueSetState:function(e,n,o){e=e._reactInternals;var c=pr(),m=Ca(c);m.payload=n,o!=null&&(m.callback=o),n=La(e,m,c),n!==null&&(gr(n,e,c),Gl(n,e,c))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var c=pr(),m=Ca(c);m.tag=1,m.payload=n,o!=null&&(m.callback=o),n=La(e,m,c),n!==null&&(gr(n,e,c),Gl(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=pr(),c=Ca(o);c.tag=2,n!=null&&(c.callback=n),n=La(e,c,o),n!==null&&(gr(n,e,o),Gl(n,e,o))}};function xb(e,n,o,c,m,v,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,v,N):n.prototype&&n.prototype.isPureReactComponent?!Rn(o,c)||!Rn(m,v):!0}function _b(e,n,o,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,c),n.state!==e&&lm.enqueueReplaceState(n,n.state,null)}function Co(e,n){var o=n;if("ref"in n){o={};for(var c in n)c!=="ref"&&(o[c]=n[c])}if(e=e.defaultProps){o===n&&(o=_({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}var Ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Sb(e){Ju(e)}function wb(e){console.error(e)}function Tb(e){Ju(e)}function td(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function Eb(e,n,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function cm(e,n,o){return o=Ca(o),o.tag=3,o.payload={element:null},o.callback=function(){td(e,n)},o}function Mb(e){return e=Ca(e),e.tag=3,e}function Nb(e,n,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=c.value;e.payload=function(){return m(v)},e.callback=function(){Eb(n,o,c)}}var N=o.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){Eb(n,o,c),typeof m!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var z=c.stack;this.componentDidCatch(c.value,{componentStack:z!==null?z:""})})}function nw(e,n,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=o.alternate,n!==null&&Do(n,o,m,!0),o=Br.current,o!==null){switch(o.tag){case 13:return _i===null?Cm():o.alternate===null&&Ke===0&&(Ke=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===zh?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([c]):n.add(c),Bm(e,c,m)),!1;case 22:return o.flags|=65536,c===zh?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([c]):o.add(c)),Bm(e,c,m)),!1}throw Error(s(435,o.tag))}return Bm(e,c,m),Cm(),!1}if(Wt)return n=Br.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,c!==un&&(e=Error(s(422),{cause:c}),ka(Pn(e,o)))):(c!==un&&(n=Error(s(423),{cause:c}),ka(Pn(n,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=Pn(c,o),m=cm(e.stateNode,c,m),Ih(e,m),Ke!==4&&(Ke=2)),!1;var v=Error(s(520),{cause:c});if(v=Pn(v,o),rc===null?rc=[v]:rc.push(v),Ke!==4&&(Ke=2),n===null)return!0;c=Pn(c,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=cm(o.stateNode,c,e),Ih(o,e),!1;case 1:if(n=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ua===null||!Ua.has(v))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Mb(m),Nb(m,e,o,c),Ih(o,m),!1}o=o.return}while(o!==null);return!1}var Ab=Error(s(461)),dn=!1;function xn(e,n,o,c){n.child=e===null?yb(n,null,o,c):Ns(n,e.child,o,c)}function Db(e,n,o,c,m){o=o.render;var v=n.ref;if("ref"in c){var N={};for(var z in c)z!=="ref"&&(N[z]=c[z])}else N=c;return jo(n),c=qh(e,n,o,N,v,m),z=Fh(),e!==null&&!dn?(Vh(e,n,m),Wi(e,n,m)):(Wt&&z&&Nt(n),n.flags|=1,xn(e,n,c,m),n.child)}function jb(e,n,o,c,m){if(e===null){var v=o.type;return typeof v=="function"&&!bs(v)&&v.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=v,kb(e,n,v,c,m)):(e=Mo(o.type,null,c,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,!bm(e,m)){var N=v.memoizedProps;if(o=o.compare,o=o!==null?o:Rn,o(N,c)&&e.ref===n.ref)return Wi(e,n,m)}return n.flags|=1,e=Cr(v,c),e.ref=n.ref,e.return=n,n.child=e}function kb(e,n,o,c,m){if(e!==null){var v=e.memoizedProps;if(Rn(v,c)&&e.ref===n.ref)if(dn=!1,n.pendingProps=c=v,bm(e,m))(e.flags&131072)!==0&&(dn=!0);else return n.lanes=e.lanes,Wi(e,n,m)}return um(e,n,o,c,m)}function Ob(e,n,o){var c=n.pendingProps,m=c.children,v=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((n.flags&128)!==0){if(c=v!==null?v.baseLanes|o:o,e!==null){for(m=n.child=e.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;n.childLanes=v&~c}else n.childLanes=0,n.child=null;return Cb(e,n,c,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(n,v!==null?v.cachePool:null),v!==null?kg(n,v):Uh(),vb(n);else return n.lanes=n.childLanes=536870912,Cb(e,n,v!==null?v.baseLanes|o:o,o)}else v!==null?(zu(n,v.cachePool),kg(n,v),Pa(),n.memoizedState=null):(e!==null&&zu(n,null),Uh(),Pa());return xn(e,n,m,o),n.child}function Cb(e,n,o,c){var m=Ph();return m=m===null?null:{parent:rn._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},e!==null&&zu(n,null),Uh(),vb(n),e!==null&&Do(e,n,c,!0),null}function ed(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function um(e,n,o,c,m){return jo(n),o=qh(e,n,o,c,void 0,m),c=Fh(),e!==null&&!dn?(Vh(e,n,m),Wi(e,n,m)):(Wt&&c&&Nt(n),n.flags|=1,xn(e,n,o,m),n.child)}function Lb(e,n,o,c,m,v){return jo(n),n.updateQueue=null,o=Cg(n,c,o,m),Og(e),c=Fh(),e!==null&&!dn?(Vh(e,n,v),Wi(e,n,v)):(Wt&&c&&Nt(n),n.flags|=1,xn(e,n,o,v),n.child)}function Bb(e,n,o,c,m){if(jo(n),n.stateNode===null){var v=Fi,N=o.contextType;typeof N=="object"&&N!==null&&(v=An(N)),v=new o(c,v),n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=lm,n.stateNode=v,v._reactInternals=n,v=n.stateNode,v.props=c,v.state=n.memoizedState,v.refs={},$h(n),N=o.contextType,v.context=typeof N=="object"&&N!==null?An(N):Fi,v.state=n.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(sm(n,o,N,c),v.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(N=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),N!==v.state&&lm.enqueueReplaceState(v,v.state,null),Zl(n,c,v,m),Ul(),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){v=n.stateNode;var z=n.memoizedProps,Q=Co(o,z);v.props=Q;var ht=v.context,wt=o.contextType;N=Fi,typeof wt=="object"&&wt!==null&&(N=An(wt));var Mt=o.getDerivedStateFromProps;wt=typeof Mt=="function"||typeof v.getSnapshotBeforeUpdate=="function",z=n.pendingProps!==z,wt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(z||ht!==N)&&_b(n,v,c,N),Oa=!1;var pt=n.memoizedState;v.state=pt,Zl(n,c,v,m),Ul(),ht=n.memoizedState,z||pt!==ht||Oa?(typeof Mt=="function"&&(sm(n,o,Mt,c),ht=n.memoizedState),(Q=Oa||xb(n,o,Q,c,pt,ht,N))?(wt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=ht),v.props=c,v.state=ht,v.context=N,c=Q):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{v=n.stateNode,Hh(e,n),N=n.memoizedProps,wt=Co(o,N),v.props=wt,Mt=n.pendingProps,pt=v.context,ht=o.contextType,Q=Fi,typeof ht=="object"&&ht!==null&&(Q=An(ht)),z=o.getDerivedStateFromProps,(ht=typeof z=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N!==Mt||pt!==Q)&&_b(n,v,c,Q),Oa=!1,pt=n.memoizedState,v.state=pt,Zl(n,c,v,m),Ul();var gt=n.memoizedState;N!==Mt||pt!==gt||Oa||e!==null&&e.dependencies!==null&&Ru(e.dependencies)?(typeof z=="function"&&(sm(n,o,z,c),gt=n.memoizedState),(wt=Oa||xb(n,o,wt,c,pt,gt,Q)||e!==null&&e.dependencies!==null&&Ru(e.dependencies))?(ht||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,gt,Q),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,gt,Q)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||N===e.memoizedProps&&pt===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&pt===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=gt),v.props=c,v.state=gt,v.context=Q,c=wt):(typeof v.componentDidUpdate!="function"||N===e.memoizedProps&&pt===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&pt===e.memoizedState||(n.flags|=1024),c=!1)}return v=c,ed(e,n),c=(n.flags&128)!==0,v||c?(v=n.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:v.render(),n.flags|=1,e!==null&&c?(n.child=Ns(n,e.child,null,m),n.child=Ns(n,null,o,m)):xn(e,n,o,m),n.memoizedState=v.state,e=n.child):e=Wi(e,n,m),e}function Rb(e,n,o,c){return ja(),n.flags|=256,xn(e,n,o,c),n.child}var dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fm(e){return{baseLanes:e,cachePool:wg()}}function hm(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Rr),e}function Pb(e,n,o){var c=n.pendingProps,m=!1,v=(n.flags&128)!==0,N;if((N=v)||(N=e!==null&&e.memoizedState===null?!1:(an.current&2)!==0),N&&(m=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(Wt){if(m?Ra(n):Pa(),Wt){var z=$t,Q;if(Q=z){t:{for(Q=z,z=Ze;Q.nodeType!==8;){if(!z){z=null;break t}if(Q=ri(Q.nextSibling),Q===null){z=null;break t}}z=Q}z!==null?(n.memoizedState={dehydrated:z,treeContext:E!==null?{id:R,overflow:W}:null,retryLane:536870912,hydrationErrors:null},Q=$n(18,null,null,0),Q.stateNode=z,Q.return=n,n.child=Q,Pt=n,$t=null,Q=!0):Q=!1}Q||Jn(n)}if(z=n.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return Xm(z)?n.lanes=32:n.lanes=536870912,null;Xi(n)}return z=c.children,c=c.fallback,m?(Pa(),m=n.mode,z=nd({mode:"hidden",children:z},m),c=vi(c,m,o,null),z.return=n,c.return=n,z.sibling=c,n.child=z,m=n.child,m.memoizedState=fm(o),m.childLanes=hm(e,N,o),n.memoizedState=dm,c):(Ra(n),mm(n,z))}if(Q=e.memoizedState,Q!==null&&(z=Q.dehydrated,z!==null)){if(v)n.flags&256?(Ra(n),n.flags&=-257,n=pm(e,n,o)):n.memoizedState!==null?(Pa(),n.child=e.child,n.flags|=128,n=null):(Pa(),m=c.fallback,z=n.mode,c=nd({mode:"visible",children:c.children},z),m=vi(m,z,o,null),m.flags|=2,c.return=n,m.return=n,c.sibling=m,n.child=c,Ns(n,e.child,null,o),c=n.child,c.memoizedState=fm(o),c.childLanes=hm(e,N,o),n.memoizedState=dm,n=m);else if(Ra(n),Xm(z)){if(N=z.nextSibling&&z.nextSibling.dataset,N)var ht=N.dgst;N=ht,c=Error(s(419)),c.stack="",c.digest=N,ka({value:c,source:null,stack:null}),n=pm(e,n,o)}else if(dn||Do(e,n,o,!1),N=(o&e.childLanes)!==0,dn||N){if(N=Oe,N!==null&&(c=o&-o,c=(c&42)!==0?1:bl(c),c=(c&(N.suspendedLanes|o))!==0?0:c,c!==0&&c!==Q.retryLane))throw Q.retryLane=c,Aa(e,c),gr(N,e,c),Ab;z.data==="$?"||Cm(),n=pm(e,n,o)}else z.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=Q.treeContext,$t=ri(z.nextSibling),Pt=n,Wt=!0,ke=null,Ze=!1,e!==null&&(h[w++]=R,h[w++]=W,h[w++]=E,R=e.id,W=e.overflow,E=n),n=mm(n,c.children),n.flags|=4096);return n}return m?(Pa(),m=c.fallback,z=n.mode,Q=e.child,ht=Q.sibling,c=Cr(Q,{mode:"hidden",children:c.children}),c.subtreeFlags=Q.subtreeFlags&65011712,ht!==null?m=Cr(ht,m):(m=vi(m,z,o,null),m.flags|=2),m.return=n,c.return=n,c.sibling=m,n.child=c,c=m,m=n.child,z=e.child.memoizedState,z===null?z=fm(o):(Q=z.cachePool,Q!==null?(ht=rn._currentValue,Q=Q.parent!==ht?{parent:ht,pool:ht}:Q):Q=wg(),z={baseLanes:z.baseLanes|o,cachePool:Q}),m.memoizedState=z,m.childLanes=hm(e,N,o),n.memoizedState=dm,c):(Ra(n),o=e.child,e=o.sibling,o=Cr(o,{mode:"visible",children:c.children}),o.return=n,o.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=o,n.memoizedState=null,o)}function mm(e,n){return n=nd({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function nd(e,n){return e=$n(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function pm(e,n,o){return Ns(n,e.child,null,o),e=mm(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zb(e,n,o){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Ao(e.return,n,o)}function gm(e,n,o,c,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=o,v.tailMode=m)}function $b(e,n,o){var c=n.pendingProps,m=c.revealOrder,v=c.tail;if(xn(e,n,c.children,o),c=an.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zb(e,o,n);else if(e.tag===19)zb(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(tt(an,c),m){case"forwards":for(o=n.child,m=null;o!==null;)e=o.alternate,e!==null&&Qu(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=n.child,n.child=null):(m=o.sibling,o.sibling=null),gm(n,!1,m,o,v);break;case"backwards":for(o=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Qu(e)===null){n.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}gm(n,!0,o,null,v);break;case"together":gm(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Wi(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Ga|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Do(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=Cr(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Cr(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function bm(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ru(e)))}function rw(e,n,o){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),xi(n,rn,e.memoizedState.cache),ja();break;case 27:case 5:St(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:xi(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Ra(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Pb(e,n,o):(Ra(n),e=Wi(e,n,o),e!==null?e.sibling:null);Ra(n);break;case 19:var m=(e.flags&128)!==0;if(c=(o&n.childLanes)!==0,c||(Do(e,n,o,!1),c=(o&n.childLanes)!==0),m){if(c)return $b(e,n,o);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),tt(an,an.current),c)break;return null;case 22:case 23:return n.lanes=0,Ob(e,n,o);case 24:xi(n,rn,e.memoizedState.cache)}return Wi(e,n,o)}function Hb(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)dn=!0;else{if(!bm(e,o)&&(n.flags&128)===0)return dn=!1,rw(e,n,o);dn=(e.flags&131072)!==0}else dn=!1,Wt&&(n.flags&1048576)!==0&&yt(n,l,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var c=n.elementType,m=c._init;if(c=m(c._payload),n.type=c,typeof c=="function")bs(c)?(e=Co(c,e),n.tag=1,n=Bb(null,n,c,e,o)):(n.tag=0,n=um(null,n,c,e,o));else{if(c!=null){if(m=c.$$typeof,m===B){n.tag=11,n=Db(null,n,c,e,o);break t}else if(m===et){n.tag=14,n=jb(null,n,c,e,o);break t}}throw n=rt(c)||c,Error(s(306,n,""))}}return n;case 0:return um(e,n,n.type,n.pendingProps,o);case 1:return c=n.type,m=Co(c,n.pendingProps),Bb(e,n,c,m,o);case 3:t:{if(vt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));c=n.pendingProps;var v=n.memoizedState;m=v.element,Hh(e,n),Zl(n,c,null,o);var N=n.memoizedState;if(c=N.cache,xi(n,rn,c),c!==v.cache&&vs(n,[rn],o,!0),Ul(),c=N.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){n=Rb(e,n,c,o);break t}else if(c!==m){m=Pn(Error(s(424)),n),ka(m),n=Rb(e,n,c,o);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($t=ri(e.firstChild),Pt=n,Wt=!0,ke=null,Ze=!0,o=yb(n,null,c,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ja(),c===m){n=Wi(e,n,o);break t}xn(e,n,c,o)}n=n.child}return n;case 26:return ed(e,n),e===null?(o=Zy(n.type,null,n.pendingProps,null))?n.memoizedState=o:Wt||(o=n.type,e=n.pendingProps,c=gd(Z.current).createElement(o),c[ln]=n,c[En]=e,Sn(c,o,e),Je(c),n.stateNode=c):n.memoizedState=Zy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return St(n),e===null&&Wt&&(c=n.stateNode=Iy(n.type,n.pendingProps,Z.current),Pt=n,Ze=!0,m=$t,qa(n.type)?(Wm=m,$t=ri(c.firstChild)):$t=m),xn(e,n,n.pendingProps.children,o),ed(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Wt&&((m=c=$t)&&(c=kw(c,n.type,n.pendingProps,Ze),c!==null?(n.stateNode=c,Pt=n,$t=ri(c.firstChild),Ze=!1,m=!0):m=!1),m||Jn(n)),St(n),m=n.type,v=n.pendingProps,N=e!==null?e.memoizedProps:null,c=v.children,Fm(m,v)?c=null:N!==null&&Fm(m,N)&&(n.flags|=32),n.memoizedState!==null&&(m=qh(e,n,KS,null,null,o),fc._currentValue=m),ed(e,n),xn(e,n,c,o),n.child;case 6:return e===null&&Wt&&((e=o=$t)&&(o=Ow(o,n.pendingProps,Ze),o!==null?(n.stateNode=o,Pt=n,$t=null,e=!0):e=!1),e||Jn(n)),null;case 13:return Pb(e,n,o);case 4:return vt(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=Ns(n,null,c,o):xn(e,n,c,o),n.child;case 11:return Db(e,n,n.type,n.pendingProps,o);case 7:return xn(e,n,n.pendingProps,o),n.child;case 8:return xn(e,n,n.pendingProps.children,o),n.child;case 12:return xn(e,n,n.pendingProps.children,o),n.child;case 10:return c=n.pendingProps,xi(n,n.type,c.value),xn(e,n,c.children,o),n.child;case 9:return m=n.type._context,c=n.pendingProps.children,jo(n),m=An(m),c=c(m),n.flags|=1,xn(e,n,c,o),n.child;case 14:return jb(e,n,n.type,n.pendingProps,o);case 15:return kb(e,n,n.type,n.pendingProps,o);case 19:return $b(e,n,o);case 31:return c=n.pendingProps,o=n.mode,c={mode:c.mode,children:c.children},e===null?(o=nd(c,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=Cr(e.child,c),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return Ob(e,n,o);case 24:return jo(n),c=An(rn),e===null?(m=Ph(),m===null&&(m=Oe,v=Bh(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=o),m=v),n.memoizedState={parent:c,cache:m},$h(n),xi(n,rn,m)):((e.lanes&o)!==0&&(Hh(e,n),Zl(n,null,null,o),Ul()),m=e.memoizedState,v=n.memoizedState,m.parent!==c?(m={parent:c,cache:c},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),xi(n,rn,c)):(c=v.cache,xi(n,rn,c),c!==m.cache&&vs(n,[rn],o,!0))),xn(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Qi(e){e.flags|=4}function Ib(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ky(n)){if(n=Br.current,n!==null&&((de&4194048)===de?_i!==null:(de&62914560)!==de&&(de&536870912)===0||n!==_i))throw Il=zh,Tg;e.flags|=8192}}function rd(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Kr():536870912,e.lanes|=n,ks|=n)}function Wl(e,n){if(!Wt)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Ye(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(n)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,n}function iw(e,n,o){var c=n.pendingProps;switch(Rt(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(n),null;case 1:return Ye(n),null;case 3:return o=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),ei(rn),ot(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(No(n)?Qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bu())),Ye(n),null;case 26:return o=n.memoizedState,e===null?(Qi(n),o!==null?(Ye(n),Ib(n,o)):(Ye(n),n.flags&=-16777217)):o?o!==e.memoizedState?(Qi(n),Ye(n),Ib(n,o)):(Ye(n),n.flags&=-16777217):(e.memoizedProps!==c&&Qi(n),Ye(n),n.flags&=-16777217),null;case 27:Ct(n),o=Z.current;var m=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Qi(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Ye(n),null}e=K.current,No(n)?Cu(n):(e=Iy(m,c,o),n.stateNode=e,Qi(n))}return Ye(n),null;case 5:if(Ct(n),o=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Qi(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Ye(n),null}if(e=K.current,No(n))Cu(n);else{switch(m=gd(Z.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}e[ln]=n,e[En]=c;t:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break t;for(;m.sibling===null;){if(m.return===null||m.return===n)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=e;t:switch(Sn(e,o,c),o){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Qi(n)}}return Ye(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Qi(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(s(166));if(e=Z.current,No(n)){if(e=n.stateNode,o=n.memoizedProps,c=null,m=Pt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[ln]=n,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Ly(e.nodeValue,o)),e||Jn(n)}else e=gd(e).createTextNode(c),e[ln]=n,n.stateNode=e}return Ye(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=No(n),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[ln]=n}else ja(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),m=!1}else m=Bu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(Xi(n),n):(Xi(n),null)}if(Xi(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=c!==null,e=e!==null&&e.memoizedState!==null,o){c=n.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048)}return o!==e&&o&&(n.child.flags|=8192),rd(n,n.updateQueue),Ye(n),null;case 4:return ot(),e===null&&Gm(n.stateNode.containerInfo),Ye(n),null;case 10:return ei(n.type),Ye(n),null;case 19:if(F(an),m=n.memoizedState,m===null)return Ye(n),null;if(c=(n.flags&128)!==0,v=m.rendering,v===null)if(c)Wl(m,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=Qu(e),v!==null){for(n.flags|=128,Wl(m,!1),e=v.updateQueue,n.updateQueue=e,rd(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Rl(o,e),o=o.sibling;return tt(an,an.current&1|2),n.child}e=e.sibling}m.tail!==null&&Yt()>od&&(n.flags|=128,c=!0,Wl(m,!1),n.lanes=4194304)}else{if(!c)if(e=Qu(v),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,rd(n,e),Wl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Wt)return Ye(n),null}else 2*Yt()-m.renderingStartTime>od&&o!==536870912&&(n.flags|=128,c=!0,Wl(m,!1),n.lanes=4194304);m.isBackwards?(v.sibling=n.child,n.child=v):(e=m.last,e!==null?e.sibling=v:n.child=v,m.last=v)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=Yt(),n.sibling=null,e=an.current,tt(an,c?e&1|2:e&1),n):(Ye(n),null);case 22:case 23:return Xi(n),Zh(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(o&536870912)!==0&&(n.flags&128)===0&&(Ye(n),n.subtreeFlags&6&&(n.flags|=8192)):Ye(n),o=n.updateQueue,o!==null&&rd(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==o&&(n.flags|=2048),e!==null&&F(ko),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ei(rn),Ye(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function aw(e,n){switch(Rt(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ei(rn),ot(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ct(n),null;case 13:if(Xi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ja()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(an),null;case 4:return ot(),null;case 10:return ei(n.type),null;case 22:case 23:return Xi(n),Zh(),e!==null&&F(ko),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ei(rn),null;case 25:return null;default:return null}}function Gb(e,n){switch(Rt(n),n.tag){case 3:ei(rn),ot();break;case 26:case 27:case 5:Ct(n);break;case 4:ot();break;case 13:Xi(n);break;case 19:F(an);break;case 10:ei(n.type);break;case 22:case 23:Xi(n),Zh(),e!==null&&F(ko);break;case 24:ei(rn)}}function Ql(e,n){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var v=o.create,N=o.inst;c=v(),N.destroy=c}o=o.next}while(o!==m)}}catch(z){Ne(n,n.return,z)}}function za(e,n,o){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&e)===e){var N=c.inst,z=N.destroy;if(z!==void 0){N.destroy=void 0,m=n;var Q=o,ht=z;try{ht()}catch(wt){Ne(m,Q,wt)}}}c=c.next}while(c!==v)}}catch(wt){Ne(n,n.return,wt)}}function Ub(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{jg(n,o)}catch(c){Ne(e,e.return,c)}}}function Zb(e,n,o){o.props=Co(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Ne(e,n,c)}}function Jl(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(m){Ne(e,n,m)}}function Si(e,n){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Ne(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ne(e,n,m)}else o.current=null}function Yb(e){var n=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Ne(e,e.return,m)}}function ym(e,n,o){try{var c=e.stateNode;Mw(c,e.type,o,n),c[En]=n}catch(m){Ne(e,e.return,m)}}function qb(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qa(e.type)||e.tag===4}function vm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||qb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xm(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=pd));else if(c!==4&&(c===27&&qa(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(xm(e,n,o),e=e.sibling;e!==null;)xm(e,n,o),e=e.sibling}function id(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(c!==4&&(c===27&&qa(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(id(e,n,o),e=e.sibling;e!==null;)id(e,n,o),e=e.sibling}function Fb(e){var n=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);Sn(n,c,o),n[ln]=e,n[En]=o}catch(v){Ne(e,e.return,v)}}var Ji=!1,Qe=!1,_m=!1,Vb=typeof WeakSet=="function"?WeakSet:Set,fn=null;function ow(e,n){if(e=e.containerInfo,Ym=Sd,e=xo(e),_o(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break t}var N=0,z=-1,Q=-1,ht=0,wt=0,Mt=e,pt=null;e:for(;;){for(var gt;Mt!==o||m!==0&&Mt.nodeType!==3||(z=N+m),Mt!==v||c!==0&&Mt.nodeType!==3||(Q=N+c),Mt.nodeType===3&&(N+=Mt.nodeValue.length),(gt=Mt.firstChild)!==null;)pt=Mt,Mt=gt;for(;;){if(Mt===e)break e;if(pt===o&&++ht===m&&(z=N),pt===v&&++wt===c&&(Q=N),(gt=Mt.nextSibling)!==null)break;Mt=pt,pt=Mt.parentNode}Mt=gt}o=z===-1||Q===-1?null:{start:z,end:Q}}else o=null}o=o||{start:0,end:0}}else o=null;for(qm={focusedElem:e,selectionRange:o},Sd=!1,fn=n;fn!==null;)if(n=fn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,fn=e;else for(;fn!==null;){switch(n=fn,v=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,o=n,m=v.memoizedProps,v=v.memoizedState,c=o.stateNode;try{var Xt=Co(o.type,m,o.elementType===o.type);e=c.getSnapshotBeforeUpdate(Xt,v),c.__reactInternalSnapshotBeforeUpdate=e}catch(Vt){Ne(o,o.return,Vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Km(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Km(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,fn=e;break}fn=n.return}}function Kb(e,n,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:$a(e,o),c&4&&Ql(5,o);break;case 1:if($a(e,o),c&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(N){Ne(o,o.return,N)}else{var m=Co(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){Ne(o,o.return,N)}}c&64&&Ub(o),c&512&&Jl(o,o.return);break;case 3:if($a(e,o),c&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{jg(e,n)}catch(N){Ne(o,o.return,N)}}break;case 27:n===null&&c&4&&Fb(o);case 26:case 5:$a(e,o),n===null&&c&4&&Yb(o),c&512&&Jl(o,o.return);break;case 12:$a(e,o);break;case 13:$a(e,o),c&4&&Qb(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=pw.bind(null,o),Cw(e,o))));break;case 22:if(c=o.memoizedState!==null||Ji,!c){n=n!==null&&n.memoizedState!==null||Qe,m=Ji;var v=Qe;Ji=c,(Qe=n)&&!v?Ha(e,o,(o.subtreeFlags&8772)!==0):$a(e,o),Ji=m,Qe=v}break;case 30:break;default:$a(e,o)}}function Xb(e){var n=e.alternate;n!==null&&(e.alternate=null,Xb(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ts(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,er=!1;function ta(e,n,o){for(o=o.child;o!==null;)Wb(e,n,o),o=o.sibling}function Wb(e,n,o){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(_e,o)}catch{}switch(o.tag){case 26:Qe||Si(o,n),ta(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Qe||Si(o,n);var c=He,m=er;qa(o.type)&&(He=o.stateNode,er=!1),ta(e,n,o),lc(o.stateNode),He=c,er=m;break;case 5:Qe||Si(o,n);case 6:if(c=He,m=er,He=null,ta(e,n,o),He=c,er=m,He!==null)if(er)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(o.stateNode)}catch(v){Ne(o,n,v)}else try{He.removeChild(o.stateNode)}catch(v){Ne(o,n,v)}break;case 18:He!==null&&(er?(e=He,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),gc(e)):$y(He,o.stateNode));break;case 4:c=He,m=er,He=o.stateNode.containerInfo,er=!0,ta(e,n,o),He=c,er=m;break;case 0:case 11:case 14:case 15:Qe||za(2,o,n),Qe||za(4,o,n),ta(e,n,o);break;case 1:Qe||(Si(o,n),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Zb(o,n,c)),ta(e,n,o);break;case 21:ta(e,n,o);break;case 22:Qe=(c=Qe)||o.memoizedState!==null,ta(e,n,o),Qe=c;break;default:ta(e,n,o)}}function Qb(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gc(e)}catch(o){Ne(n,n.return,o)}}function sw(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Vb),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Vb),n;default:throw Error(s(435,e.tag))}}function Sm(e,n){var o=sw(e);n.forEach(function(c){var m=gw.bind(null,e,c);o.has(c)||(o.add(c),c.then(m,m))})}function fr(e,n){var o=n.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],v=e,N=n,z=N;t:for(;z!==null;){switch(z.tag){case 27:if(qa(z.type)){He=z.stateNode,er=!1;break t}break;case 5:He=z.stateNode,er=!1;break t;case 3:case 4:He=z.stateNode.containerInfo,er=!0;break t}z=z.return}if(He===null)throw Error(s(160));Wb(v,N,m),He=null,er=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Jb(n,e),n=n.sibling}var ni=null;function Jb(e,n){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fr(n,e),hr(e),c&4&&(za(3,e,e.return),Ql(3,e),za(5,e,e.return));break;case 1:fr(n,e),hr(e),c&512&&(Qe||o===null||Si(o,o.return)),c&64&&Ji&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=ni;if(fr(n,e),hr(e),c&512&&(Qe||o===null||Si(o,o.return)),c&4){var v=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":v=m.getElementsByTagName("title")[0],(!v||v[ca]||v[ln]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(c),m.head.insertBefore(v,m.querySelector("head > title"))),Sn(v,c,o),v[ln]=e,Je(v),c=v;break t;case"link":var N=Fy("link","href",m).get(c+(o.href||""));if(N){for(var z=0;z<N.length;z++)if(v=N[z],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){N.splice(z,1);break e}}v=m.createElement(c),Sn(v,c,o),m.head.appendChild(v);break;case"meta":if(N=Fy("meta","content",m).get(c+(o.content||""))){for(z=0;z<N.length;z++)if(v=N[z],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){N.splice(z,1);break e}}v=m.createElement(c),Sn(v,c,o),m.head.appendChild(v);break;default:throw Error(s(468,c))}v[ln]=e,Je(v),c=v}e.stateNode=c}else Vy(m,e.type,e.stateNode);else e.stateNode=qy(m,c,e.memoizedProps);else v!==c?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,c===null?Vy(m,e.type,e.stateNode):qy(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&ym(e,e.memoizedProps,o.memoizedProps)}break;case 27:fr(n,e),hr(e),c&512&&(Qe||o===null||Si(o,o.return)),o!==null&&c&4&&ym(e,e.memoizedProps,o.memoizedProps);break;case 5:if(fr(n,e),hr(e),c&512&&(Qe||o===null||Si(o,o.return)),e.flags&32){m=e.stateNode;try{Ar(m,"")}catch(gt){Ne(e,e.return,gt)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,ym(e,m,o!==null?o.memoizedProps:m)),c&1024&&(_m=!0);break;case 6:if(fr(n,e),hr(e),c&4){if(e.stateNode===null)throw Error(s(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(gt){Ne(e,e.return,gt)}}break;case 3:if(vd=null,m=ni,ni=bd(n.containerInfo),fr(n,e),ni=m,hr(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{gc(n.containerInfo)}catch(gt){Ne(e,e.return,gt)}_m&&(_m=!1,ty(e));break;case 4:c=ni,ni=bd(e.stateNode.containerInfo),fr(n,e),hr(e),ni=c;break;case 12:fr(n,e),hr(e);break;case 13:fr(n,e),hr(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Am=Yt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Sm(e,c)));break;case 22:m=e.memoizedState!==null;var Q=o!==null&&o.memoizedState!==null,ht=Ji,wt=Qe;if(Ji=ht||m,Qe=wt||Q,fr(n,e),Qe=wt,Ji=ht,hr(e),c&8192)t:for(n=e.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(o===null||Q||Ji||Qe||Lo(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){Q=o=n;try{if(v=Q.stateNode,m)N=v.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{z=Q.stateNode;var Mt=Q.memoizedProps.style,pt=Mt!=null&&Mt.hasOwnProperty("display")?Mt.display:null;z.style.display=pt==null||typeof pt=="boolean"?"":(""+pt).trim()}}catch(gt){Ne(Q,Q.return,gt)}}}else if(n.tag===6){if(o===null){Q=n;try{Q.stateNode.nodeValue=m?"":Q.memoizedProps}catch(gt){Ne(Q,Q.return,gt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Sm(e,o))));break;case 19:fr(n,e),hr(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Sm(e,c)));break;case 30:break;case 21:break;default:fr(n,e),hr(e)}}function hr(e){var n=e.flags;if(n&2){try{for(var o,c=e.return;c!==null;){if(qb(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,v=vm(e);id(e,v,m);break;case 5:var N=o.stateNode;o.flags&32&&(Ar(N,""),o.flags&=-33);var z=vm(e);id(e,z,N);break;case 3:case 4:var Q=o.stateNode.containerInfo,ht=vm(e);xm(e,ht,Q);break;default:throw Error(s(161))}}catch(wt){Ne(e,e.return,wt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function $a(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Kb(e,n.alternate,n),n=n.sibling}function Lo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:za(4,n,n.return),Lo(n);break;case 1:Si(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Zb(n,n.return,o),Lo(n);break;case 27:lc(n.stateNode);case 26:case 5:Si(n,n.return),Lo(n);break;case 22:n.memoizedState===null&&Lo(n);break;case 30:Lo(n);break;default:Lo(n)}e=e.sibling}}function Ha(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,m=e,v=n,N=v.flags;switch(v.tag){case 0:case 11:case 15:Ha(m,v,o),Ql(4,v);break;case 1:if(Ha(m,v,o),c=v,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ht){Ne(c,c.return,ht)}if(c=v,m=c.updateQueue,m!==null){var z=c.stateNode;try{var Q=m.shared.hiddenCallbacks;if(Q!==null)for(m.shared.hiddenCallbacks=null,m=0;m<Q.length;m++)Dg(Q[m],z)}catch(ht){Ne(c,c.return,ht)}}o&&N&64&&Ub(v),Jl(v,v.return);break;case 27:Fb(v);case 26:case 5:Ha(m,v,o),o&&c===null&&N&4&&Yb(v),Jl(v,v.return);break;case 12:Ha(m,v,o);break;case 13:Ha(m,v,o),o&&N&4&&Qb(m,v);break;case 22:v.memoizedState===null&&Ha(m,v,o),Jl(v,v.return);break;case 30:break;default:Ha(m,v,o)}n=n.sibling}}function wm(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&zl(o))}function Tm(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zl(e))}function wi(e,n,o,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ey(e,n,o,c),n=n.sibling}function ey(e,n,o,c){var m=n.flags;switch(n.tag){case 0:case 11:case 15:wi(e,n,o,c),m&2048&&Ql(9,n);break;case 1:wi(e,n,o,c);break;case 3:wi(e,n,o,c),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zl(e)));break;case 12:if(m&2048){wi(e,n,o,c),e=n.stateNode;try{var v=n.memoizedProps,N=v.id,z=v.onPostCommit;typeof z=="function"&&z(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Q){Ne(n,n.return,Q)}}else wi(e,n,o,c);break;case 13:wi(e,n,o,c);break;case 23:break;case 22:v=n.stateNode,N=n.alternate,n.memoizedState!==null?v._visibility&2?wi(e,n,o,c):tc(e,n):v._visibility&2?wi(e,n,o,c):(v._visibility|=2,As(e,n,o,c,(n.subtreeFlags&10256)!==0)),m&2048&&wm(N,n);break;case 24:wi(e,n,o,c),m&2048&&Tm(n.alternate,n);break;default:wi(e,n,o,c)}}function As(e,n,o,c,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var v=e,N=n,z=o,Q=c,ht=N.flags;switch(N.tag){case 0:case 11:case 15:As(v,N,z,Q,m),Ql(8,N);break;case 23:break;case 22:var wt=N.stateNode;N.memoizedState!==null?wt._visibility&2?As(v,N,z,Q,m):tc(v,N):(wt._visibility|=2,As(v,N,z,Q,m)),m&&ht&2048&&wm(N.alternate,N);break;case 24:As(v,N,z,Q,m),m&&ht&2048&&Tm(N.alternate,N);break;default:As(v,N,z,Q,m)}n=n.sibling}}function tc(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,c=n,m=c.flags;switch(c.tag){case 22:tc(o,c),m&2048&&wm(c.alternate,c);break;case 24:tc(o,c),m&2048&&Tm(c.alternate,c);break;default:tc(o,c)}n=n.sibling}}var ec=8192;function Ds(e){if(e.subtreeFlags&ec)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 26:Ds(e),e.flags&ec&&e.memoizedState!==null&&qw(ni,e.memoizedState,e.memoizedProps);break;case 5:Ds(e);break;case 3:case 4:var n=ni;ni=bd(e.stateNode.containerInfo),Ds(e),ni=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ec,ec=16777216,Ds(e),ec=n):Ds(e));break;default:Ds(e)}}function ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var c=n[o];fn=c,ay(c,e)}ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:nc(e),e.flags&2048&&za(9,e,e.return);break;case 3:nc(e);break;case 12:nc(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ad(e)):nc(e);break;default:nc(e)}}function ad(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var c=n[o];fn=c,ay(c,e)}ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:za(8,n,n.return),ad(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,ad(n));break;default:ad(n)}e=e.sibling}}function ay(e,n){for(;fn!==null;){var o=fn;switch(o.tag){case 0:case 11:case 15:za(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:zl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,fn=c;else t:for(o=e;fn!==null;){c=fn;var m=c.sibling,v=c.return;if(Xb(c),c===o){fn=null;break t}if(m!==null){m.return=v,fn=m;break t}fn=v}}}var lw={getCacheForType:function(e){var n=An(rn),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o}},cw=typeof WeakMap=="function"?WeakMap:Map,ve=0,Oe=null,ie=null,de=0,xe=0,mr=null,Ia=!1,js=!1,Em=!1,ea=0,Ke=0,Ga=0,Bo=0,Mm=0,Rr=0,ks=0,rc=null,nr=null,Nm=!1,Am=0,od=1/0,sd=null,Ua=null,_n=0,Za=null,Os=null,Cs=0,Dm=0,jm=null,oy=null,ic=0,km=null;function pr(){if((ve&2)!==0&&de!==0)return de&-de;if(I.T!==null){var e=xs;return e!==0?e:zm()}return lu()}function sy(){Rr===0&&(Rr=(de&536870912)===0||Wt?oo():536870912);var e=Br.current;return e!==null&&(e.flags|=32),Rr}function gr(e,n,o){(e===Oe&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(Ls(e,0),Ya(e,de,Rr,!1)),Ai(e,o),((ve&2)===0||e!==Oe)&&(e===Oe&&((ve&2)===0&&(Bo|=o),Ke===4&&Ya(e,de,Rr,!1)),Ti(e))}function ly(e,n,o){if((ve&6)!==0)throw Error(s(327));var c=!o&&(n&124)===0&&(n&e.expiredLanes)===0||Kn(e,n),m=c?fw(e,n):Lm(e,n,!0),v=c;do{if(m===0){js&&!c&&Ya(e,n,0,!1);break}else{if(o=e.current.alternate,v&&!uw(o)){m=Lm(e,n,!1),v=!1;continue}if(m===2){if(v=n,e.errorRecoveryDisabledLanes&v)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;t:{var z=e;m=rc;var Q=z.current.memoizedState.isDehydrated;if(Q&&(Ls(z,N).flags|=256),N=Lm(z,N,!1),N!==2){if(Em&&!Q){z.errorRecoveryDisabledLanes|=v,Bo|=v,m=4;break t}v=nr,nr=m,v!==null&&(nr===null?nr=v:nr.push.apply(nr,v))}m=N}if(v=!1,m!==2)continue}}if(m===1){Ls(e,0),Ya(e,n,0,!0);break}t:{switch(c=e,v=m,v){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ya(c,n,Rr,!Ia);break t;case 2:nr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=Am+300-Yt(),10<m)){if(Ya(c,n,Rr,!Ia),Vr(c,0,!0)!==0)break t;c.timeoutHandle=Py(cy.bind(null,c,o,nr,sd,Nm,n,Rr,Bo,ks,Ia,v,2,-0,0),m);break t}cy(c,o,nr,sd,Nm,n,Rr,Bo,ks,Ia,v,0,-0,0)}}break}while(!0);Ti(e)}function cy(e,n,o,c,m,v,N,z,Q,ht,wt,Mt,pt,gt){if(e.timeoutHandle=-1,Mt=n.subtreeFlags,(Mt&8192||(Mt&16785408)===16785408)&&(dc={stylesheets:null,count:0,unsuspend:Yw},ny(n),Mt=Fw(),Mt!==null)){e.cancelPendingCommit=Mt(gy.bind(null,e,n,v,o,c,m,N,z,Q,wt,1,pt,gt)),Ya(e,v,N,!ht);return}gy(e,n,v,o,c,m,N,z,Q)}function uw(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],v=m.getSnapshot;m=m.value;try{if(!Bn(v(),m))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ya(e,n,o,c){n&=~Mm,n&=~Bo,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var m=n;0<m;){var v=31-ze(m),N=1<<v;c[v]=-1,m&=~N}o!==0&&so(e,o,n)}function ld(){return(ve&6)===0?(ac(0),!1):!0}function Om(){if(ie!==null){if(xe===0)var e=ie.return;else e=ie,ti=Lr=null,Kh(e),Ms=null,Kl=0,e=ie;for(;e!==null;)Gb(e.alternate,e),e=e.return;ie=null}}function Ls(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Aw(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Om(),Oe=e,ie=o=Cr(e.current,null),de=n,xe=0,mr=null,Ia=!1,js=Kn(e,n),Em=!1,ks=Rr=Mm=Bo=Ga=Ke=0,nr=rc=null,Nm=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var m=31-ze(c),v=1<<m;n|=e[m],c&=~v}return ea=n,wo(),o}function uy(e,n){ee=null,I.H=Ku,n===Hl||n===$u?(n=Ng(),xe=3):n===Tg?(n=Ng(),xe=4):xe=n===Ab?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mr=n,ie===null&&(Ke=1,td(e,Pn(n,e.current)))}function dy(){var e=I.H;return I.H=Ku,e===null?Ku:e}function fy(){var e=I.A;return I.A=lw,e}function Cm(){Ke=4,Ia||(de&4194048)!==de&&Br.current!==null||(js=!0),(Ga&134217727)===0&&(Bo&134217727)===0||Oe===null||Ya(Oe,de,Rr,!1)}function Lm(e,n,o){var c=ve;ve|=2;var m=dy(),v=fy();(Oe!==e||de!==n)&&(sd=null,Ls(e,n)),n=!1;var N=Ke;t:do try{if(xe!==0&&ie!==null){var z=ie,Q=mr;switch(xe){case 8:Om(),N=6;break t;case 3:case 2:case 9:case 6:Br.current===null&&(n=!0);var ht=xe;if(xe=0,mr=null,Bs(e,z,Q,ht),o&&js){N=0;break t}break;default:ht=xe,xe=0,mr=null,Bs(e,z,Q,ht)}}dw(),N=Ke;break}catch(wt){uy(e,wt)}while(!0);return n&&e.shellSuspendCounter++,ti=Lr=null,ve=c,I.H=m,I.A=v,ie===null&&(Oe=null,de=0,wo()),N}function dw(){for(;ie!==null;)hy(ie)}function fw(e,n){var o=ve;ve|=2;var c=dy(),m=fy();Oe!==e||de!==n?(sd=null,od=Yt()+500,Ls(e,n)):js=Kn(e,n);t:do try{if(xe!==0&&ie!==null){n=ie;var v=mr;e:switch(xe){case 1:xe=0,mr=null,Bs(e,n,v,1);break;case 2:case 9:if(Eg(v)){xe=0,mr=null,my(n);break}n=function(){xe!==2&&xe!==9||Oe!==e||(xe=7),Ti(e)},v.then(n,n);break t;case 3:xe=7;break t;case 4:xe=5;break t;case 7:Eg(v)?(xe=0,mr=null,my(n)):(xe=0,mr=null,Bs(e,n,v,7));break;case 5:var N=null;switch(ie.tag){case 26:N=ie.memoizedState;case 5:case 27:var z=ie;if(!N||Ky(N)){xe=0,mr=null;var Q=z.sibling;if(Q!==null)ie=Q;else{var ht=z.return;ht!==null?(ie=ht,cd(ht)):ie=null}break e}}xe=0,mr=null,Bs(e,n,v,5);break;case 6:xe=0,mr=null,Bs(e,n,v,6);break;case 8:Om(),Ke=6;break t;default:throw Error(s(462))}}hw();break}catch(wt){uy(e,wt)}while(!0);return ti=Lr=null,I.H=c,I.A=m,ve=o,ie!==null?0:(Oe=null,de=0,wo(),Ke)}function hw(){for(;ie!==null&&!Bt();)hy(ie)}function hy(e){var n=Hb(e.alternate,e,ea);e.memoizedProps=e.pendingProps,n===null?cd(e):ie=n}function my(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Lb(o,n,n.pendingProps,n.type,void 0,de);break;case 11:n=Lb(o,n,n.pendingProps,n.type.render,n.ref,de);break;case 5:Kh(n);default:Gb(o,n),n=ie=Rl(n,ea),n=Hb(o,n,ea)}e.memoizedProps=e.pendingProps,n===null?cd(e):ie=n}function Bs(e,n,o,c){ti=Lr=null,Kh(n),Ms=null,Kl=0;var m=n.return;try{if(nw(e,m,n,o,de)){Ke=1,td(e,Pn(o,e.current)),ie=null;return}}catch(v){if(m!==null)throw ie=m,v;Ke=1,td(e,Pn(o,e.current)),ie=null;return}n.flags&32768?(Wt||c===1?e=!0:js||(de&536870912)!==0?e=!1:(Ia=e=!0,(c===2||c===9||c===3||c===6)&&(c=Br.current,c!==null&&c.tag===13&&(c.flags|=16384))),py(n,e)):cd(n)}function cd(e){var n=e;do{if((n.flags&32768)!==0){py(n,Ia);return}e=n.return;var o=iw(n.alternate,n,ea);if(o!==null){ie=o;return}if(n=n.sibling,n!==null){ie=n;return}ie=n=e}while(n!==null);Ke===0&&(Ke=5)}function py(e,n){do{var o=aw(e.alternate,e);if(o!==null){o.flags&=32767,ie=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){ie=e;return}ie=e=o}while(e!==null);Ke=6,ie=null}function gy(e,n,o,c,m,v,N,z,Q){e.cancelPendingCommit=null;do ud();while(_n!==0);if((ve&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(v=n.lanes|n.childLanes,v|=dr,gl(e,o,v,N,z,Q),e===Oe&&(ie=Oe=null,de=0),Os=n,Za=e,Cs=o,Dm=v,jm=m,oy=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bw(bt,function(){return _y(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=I.T,I.T=null,m=at.p,at.p=2,N=ve,ve|=4;try{ow(e,n,o)}finally{ve=N,at.p=m,I.T=c}}_n=1,by(),yy(),vy()}}function by(){if(_n===1){_n=0;var e=Za,n=Os,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=I.T,I.T=null;var c=at.p;at.p=2;var m=ve;ve|=4;try{Jb(n,e);var v=qm,N=xo(e.containerInfo),z=v.focusedElem,Q=v.selectionRange;if(N!==z&&z&&z.ownerDocument&&fs(z.ownerDocument.documentElement,z)){if(Q!==null&&_o(z)){var ht=Q.start,wt=Q.end;if(wt===void 0&&(wt=ht),"selectionStart"in z)z.selectionStart=ht,z.selectionEnd=Math.min(wt,z.value.length);else{var Mt=z.ownerDocument||document,pt=Mt&&Mt.defaultView||window;if(pt.getSelection){var gt=pt.getSelection(),Xt=z.textContent.length,Vt=Math.min(Q.start,Xt),Te=Q.end===void 0?Vt:Math.min(Q.end,Xt);!gt.extend&&Vt>Te&&(N=Te,Te=Vt,Vt=N);var lt=Ll(z,Vt),nt=Ll(z,Te);if(lt&&nt&&(gt.rangeCount!==1||gt.anchorNode!==lt.node||gt.anchorOffset!==lt.offset||gt.focusNode!==nt.node||gt.focusOffset!==nt.offset)){var ft=Mt.createRange();ft.setStart(lt.node,lt.offset),gt.removeAllRanges(),Vt>Te?(gt.addRange(ft),gt.extend(nt.node,nt.offset)):(ft.setEnd(nt.node,nt.offset),gt.addRange(ft))}}}}for(Mt=[],gt=z;gt=gt.parentNode;)gt.nodeType===1&&Mt.push({element:gt,left:gt.scrollLeft,top:gt.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Mt.length;z++){var Et=Mt[z];Et.element.scrollLeft=Et.left,Et.element.scrollTop=Et.top}}Sd=!!Ym,qm=Ym=null}finally{ve=m,at.p=c,I.T=o}}e.current=n,_n=2}}function yy(){if(_n===2){_n=0;var e=Za,n=Os,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=I.T,I.T=null;var c=at.p;at.p=2;var m=ve;ve|=4;try{Kb(e,n.alternate,n)}finally{ve=m,at.p=c,I.T=o}}_n=3}}function vy(){if(_n===4||_n===3){_n=0,It();var e=Za,n=Os,o=Cs,c=oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?_n=5:(_n=0,Os=Za=null,xy(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Ua=null),yl(o),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(_e,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=I.T,m=at.p,at.p=2,I.T=null;try{for(var v=e.onRecoverableError,N=0;N<c.length;N++){var z=c[N];v(z.value,{componentStack:z.stack})}}finally{I.T=n,at.p=m}}(Cs&3)!==0&&ud(),Ti(e),m=e.pendingLanes,(o&4194090)!==0&&(m&42)!==0?e===km?ic++:(ic=0,km=e):ic=0,ac(0)}}function xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zl(n)))}function ud(e){return by(),yy(),vy(),_y()}function _y(){if(_n!==5)return!1;var e=Za,n=Dm;Dm=0;var o=yl(Cs),c=I.T,m=at.p;try{at.p=32>o?32:o,I.T=null,o=jm,jm=null;var v=Za,N=Cs;if(_n=0,Os=Za=null,Cs=0,(ve&6)!==0)throw Error(s(331));var z=ve;if(ve|=4,iy(v.current),ey(v,v.current,N,o),ve=z,ac(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(_e,v)}catch{}return!0}finally{at.p=m,I.T=c,xy(e,n)}}function Sy(e,n,o){n=Pn(o,n),n=cm(e.stateNode,n,2),e=La(e,n,2),e!==null&&(Ai(e,2),Ti(e))}function Ne(e,n,o){if(e.tag===3)Sy(e,e,o);else for(;n!==null;){if(n.tag===3){Sy(n,e,o);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ua===null||!Ua.has(c))){e=Pn(o,e),o=Mb(2),c=La(n,o,2),c!==null&&(Nb(o,c,n,e),Ai(c,2),Ti(c));break}}n=n.return}}function Bm(e,n,o){var c=e.pingCache;if(c===null){c=e.pingCache=new cw;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(o)||(Em=!0,m.add(o),e=mw.bind(null,e,n,o),n.then(e,e))}function mw(e,n,o){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Oe===e&&(de&o)===o&&(Ke===4||Ke===3&&(de&62914560)===de&&300>Yt()-Am?(ve&2)===0&&Ls(e,0):Mm|=o,ks===de&&(ks=0)),Ti(e)}function wy(e,n){n===0&&(n=Kr()),e=Aa(e,n),e!==null&&(Ai(e,n),Ti(e))}function pw(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),wy(e,o)}function gw(e,n){var o=0;switch(e.tag){case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(n),wy(e,o)}function bw(e,n){return jt(e,n)}var dd=null,Rs=null,Rm=!1,fd=!1,Pm=!1,Ro=0;function Ti(e){e!==Rs&&e.next===null&&(Rs===null?dd=Rs=e:Rs=Rs.next=e),fd=!0,Rm||(Rm=!0,vw())}function ac(e,n){if(!Pm&&fd){Pm=!0;do for(var o=!1,c=dd;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var v=0;else{var N=c.suspendedLanes,z=c.pingedLanes;v=(1<<31-ze(42|e)+1)-1,v&=m&~(N&~z),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Ny(c,v))}else v=de,v=Vr(c,c===Oe?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Kn(c,v)||(o=!0,Ny(c,v));c=c.next}while(o);Pm=!1}}function yw(){Ty()}function Ty(){fd=Rm=!1;var e=0;Ro!==0&&(Nw()&&(e=Ro),Ro=0);for(var n=Yt(),o=null,c=dd;c!==null;){var m=c.next,v=Ey(c,n);v===0?(c.next=null,o===null?dd=m:o.next=m,m===null&&(Rs=o)):(o=c,(e!==0||(v&3)!==0)&&(fd=!0)),c=m}ac(e)}function Ey(e,n){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var N=31-ze(v),z=1<<N,Q=m[N];Q===-1?((z&o)===0||(z&c)!==0)&&(m[N]=pl(z,n)):Q<=n&&(e.expiredLanes|=z),v&=~z}if(n=Oe,o=de,o=Vr(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===n&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Tt(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Kn(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(c!==null&&Tt(c),yl(o)){case 2:case 8:o=Ot;break;case 32:o=bt;break;case 268435456:o=be;break;default:o=bt}return c=My.bind(null,e),o=jt(o,c),e.callbackPriority=n,e.callbackNode=o,n}return c!==null&&c!==null&&Tt(c),e.callbackPriority=2,e.callbackNode=null,2}function My(e,n){if(_n!==0&&_n!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(ud()&&e.callbackNode!==o)return null;var c=de;return c=Vr(e,e===Oe?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(ly(e,c,n),Ey(e,Yt()),e.callbackNode!=null&&e.callbackNode===o?My.bind(null,e):null)}function Ny(e,n){if(ud())return null;ly(e,n,!0)}function vw(){Dw(function(){(ve&6)!==0?jt(dt,yw):Ty()})}function zm(){return Ro===0&&(Ro=oo()),Ro}function Ay(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function Dy(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function xw(e,n,o,c,m){if(n==="submit"&&o&&o.stateNode===m){var v=Ay((m[En]||null).action),N=c.submitter;N&&(n=(n=N[En]||null)?Ay(n.formAction):N.getAttribute("formAction"),n!==null&&(v=n,N=null));var z=new po("action","action",null,c,m);e.push({event:z,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ro!==0){var Q=N?Dy(m,N):new FormData(m);im(o,{pending:!0,data:Q,method:m.method,action:v},null,Q)}}else typeof v=="function"&&(z.preventDefault(),Q=N?Dy(m,N):new FormData(m),im(o,{pending:!0,data:Q,method:m.method,action:v},v,Q))},currentTarget:m}]})}}for(var $m=0;$m<Zi.length;$m++){var Hm=Zi[$m],_w=Hm.toLowerCase(),Sw=Hm[0].toUpperCase()+Hm.slice(1);ur(_w,"on"+Sw)}ur(ju,"onAnimationEnd"),ur(cr,"onAnimationIteration"),ur(So,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(Ch,"onTransitionRun"),ur(gs,"onTransitionStart"),ur(Lh,"onTransitionCancel"),ur(Bl,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ww=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oc));function jy(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var v=void 0;if(n)for(var N=c.length-1;0<=N;N--){var z=c[N],Q=z.instance,ht=z.currentTarget;if(z=z.listener,Q!==v&&m.isPropagationStopped())break t;v=z,m.currentTarget=ht;try{v(m)}catch(wt){Ju(wt)}m.currentTarget=null,v=Q}else for(N=0;N<c.length;N++){if(z=c[N],Q=z.instance,ht=z.currentTarget,z=z.listener,Q!==v&&m.isPropagationStopped())break t;v=z,m.currentTarget=ht;try{v(m)}catch(wt){Ju(wt)}m.currentTarget=null,v=Q}}}}function ae(e,n){var o=n[Wn];o===void 0&&(o=n[Wn]=new Set);var c=e+"__bubble";o.has(c)||(ky(n,e,2,!1),o.add(c))}function Im(e,n,o){var c=0;n&&(c|=4),ky(o,e,c,n)}var hd="_reactListening"+Math.random().toString(36).slice(2);function Gm(e){if(!e[hd]){e[hd]=!0,uu.forEach(function(o){o!=="selectionchange"&&(ww.has(o)||Im(o,!1,e),Im(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hd]||(n[hd]=!0,Im("selectionchange",!1,n))}}function ky(e,n,o,c){switch(ev(n)){case 2:var m=Xw;break;case 8:m=Ww;break;default:m=n0}o=m.bind(null,n,o,e),m=void 0,!mo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(n,o,{capture:!0,passive:m}):e.addEventListener(n,o,!0):m!==void 0?e.addEventListener(n,o,{passive:m}):e.addEventListener(n,o,!1)}function Um(e,n,o,c,m){var v=c;if((n&1)===0&&(n&2)===0&&c!==null)t:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var z=c.stateNode.containerInfo;if(z===m)break;if(N===4)for(N=c.return;N!==null;){var Q=N.tag;if((Q===3||Q===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;z!==null;){if(N=hi(z),N===null)return;if(Q=N.tag,Q===5||Q===6||Q===26||Q===27){c=v=N;continue t}z=z.parentNode}}c=c.return}ar(function(){var ht=v,wt=ga(o),Mt=[];t:{var pt=ku.get(e);if(pt!==void 0){var gt=po,Xt=e;switch(e){case"keypress":if(Ve(o)===0)break t;case"keydown":case"keyup":gt=Eh;break;case"focusin":Xt="focus",gt=El;break;case"focusout":Xt="blur",gt=El;break;case"beforeblur":case"afterblur":gt=El;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=Nh;break;case ju:case cr:case So:gt=_h;break;case Bl:gt=Ah;break;case"scroll":case"scrollend":gt=vh;break;case"wheel":gt=_u;break;case"copy":case"cut":case"paste":gt=Ml;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=Al;break;case"toggle":case"beforetoggle":gt=Hi}var Vt=(n&4)!==0,Te=!Vt&&(e==="scroll"||e==="scrollend"),lt=Vt?pt!==null?pt+"Capture":null:pt;Vt=[];for(var nt=ht,ft;nt!==null;){var Et=nt;if(ft=Et.stateNode,Et=Et.tag,Et!==5&&Et!==26&&Et!==27||ft===null||lt===null||(Et=me(nt,lt),Et!=null&&Vt.push(sc(nt,Et,ft))),Te)break;nt=nt.return}0<Vt.length&&(pt=new gt(pt,Xt,null,o,wt),Mt.push({event:pt,listeners:Vt}))}}if((n&7)===0){t:{if(pt=e==="mouseover"||e==="pointerover",gt=e==="mouseout"||e==="pointerout",pt&&o!==ho&&(Xt=o.relatedTarget||o.fromElement)&&(hi(Xt)||Xt[la]))break t;if((gt||pt)&&(pt=wt.window===wt?wt:(pt=wt.ownerDocument)?pt.defaultView||pt.parentWindow:window,gt?(Xt=o.relatedTarget||o.toElement,gt=ht,Xt=Xt?hi(Xt):null,Xt!==null&&(Te=d(Xt),Vt=Xt.tag,Xt!==Te||Vt!==5&&Vt!==27&&Vt!==6)&&(Xt=null)):(gt=null,Xt=ht),gt!==Xt)){if(Vt=va,Et="onMouseLeave",lt="onMouseEnter",nt="mouse",(e==="pointerout"||e==="pointerover")&&(Vt=Al,Et="onPointerLeave",lt="onPointerEnter",nt="pointer"),Te=gt==null?pt:Nr(gt),ft=Xt==null?pt:Nr(Xt),pt=new Vt(Et,nt+"leave",gt,o,wt),pt.target=Te,pt.relatedTarget=ft,Et=null,hi(wt)===ht&&(Vt=new Vt(lt,nt+"enter",Xt,o,wt),Vt.target=ft,Vt.relatedTarget=Te,Et=Vt),Te=Et,gt&&Xt)e:{for(Vt=gt,lt=Xt,nt=0,ft=Vt;ft;ft=Ps(ft))nt++;for(ft=0,Et=lt;Et;Et=Ps(Et))ft++;for(;0<nt-ft;)Vt=Ps(Vt),nt--;for(;0<ft-nt;)lt=Ps(lt),ft--;for(;nt--;){if(Vt===lt||lt!==null&&Vt===lt.alternate)break e;Vt=Ps(Vt),lt=Ps(lt)}Vt=null}else Vt=null;gt!==null&&Oy(Mt,pt,gt,Vt,!1),Xt!==null&&Te!==null&&Oy(Mt,Te,Xt,Vt,!0)}}t:{if(pt=ht?Nr(ht):window,gt=pt.nodeName&&pt.nodeName.toLowerCase(),gt==="select"||gt==="input"&&pt.type==="file")var zt=Sa;else if(Gi(pt))if(kl)zt=Oh;else{zt=kh;var re=Cl}else gt=pt.nodeName,!gt||gt.toLowerCase()!=="input"||pt.type!=="checkbox"&&pt.type!=="radio"?ht&&fo(ht.elementType)&&(zt=Sa):zt=Jr;if(zt&&(zt=zt(e,ht))){Mu(Mt,zt,o,wt);break t}re&&re(e,pt,ht),e==="focusout"&&ht&&pt.type==="number"&&ht.memoizedProps.value!=null&&ha(pt,"number",pt.value)}switch(re=ht?Nr(ht):window,e){case"focusin":(Gi(re)||re.contentEditable==="true")&&(lr=re,Ea=ht,Ui=null);break;case"focusout":Ui=Ea=lr=null;break;case"mousedown":ms=!0;break;case"contextmenu":case"mouseup":case"dragend":ms=!1,Au(Mt,o,wt);break;case"selectionchange":if(hs)break;case"keydown":case"keyup":Au(Mt,o,wt)}var Gt;if(Ii)t:{switch(e){case"compositionstart":var Kt="onCompositionStart";break t;case"compositionend":Kt="onCompositionEnd";break t;case"compositionupdate":Kt="onCompositionUpdate";break t}Kt=void 0}else xa?us(e,o)&&(Kt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Kt="onCompositionStart");Kt&&(jl&&o.locale!=="ko"&&(xa||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&xa&&(Gt=ya()):(jr=wt,Wr="value"in jr?jr.value:jr.textContent,xa=!0)),re=md(ht,Kt),0<re.length&&(Kt=new or(Kt,e,null,o,wt),Mt.push({event:Kt,listeners:re}),Gt?Kt.data=Gt:(Gt=Tu(o),Gt!==null&&(Kt.data=Gt)))),(Gt=Su?Eu(e,o):jh(e,o))&&(Kt=md(ht,"onBeforeInput"),0<Kt.length&&(re=new or("onBeforeInput","beforeinput",null,o,wt),Mt.push({event:re,listeners:Kt}),re.data=Gt)),xw(Mt,e,ht,o,wt)}jy(Mt,n)})}function sc(e,n,o){return{instance:e,listener:n,currentTarget:o}}function md(e,n){for(var o=n+"Capture",c=[];e!==null;){var m=e,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=me(e,o),m!=null&&c.unshift(sc(e,m,v)),m=me(e,n),m!=null&&c.push(sc(e,m,v))),e.tag===3)return c;e=e.return}return[]}function Ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Oy(e,n,o,c,m){for(var v=n._reactName,N=[];o!==null&&o!==c;){var z=o,Q=z.alternate,ht=z.stateNode;if(z=z.tag,Q!==null&&Q===c)break;z!==5&&z!==26&&z!==27||ht===null||(Q=ht,m?(ht=me(o,v),ht!=null&&N.unshift(sc(o,ht,Q))):m||(ht=me(o,v),ht!=null&&N.push(sc(o,ht,Q)))),o=o.return}N.length!==0&&e.push({event:n,listeners:N})}var Tw=/\r\n?/g,Ew=/\u0000|\uFFFD/g;function Cy(e){return(typeof e=="string"?e:""+e).replace(Tw,`
`).replace(Ew,"")}function Ly(e,n){return n=Cy(n),Cy(e)===n}function pd(){}function we(e,n,o,c,m,v){switch(o){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Ar(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Ar(e,""+c);break;case"className":ns(e,"class",c);break;case"tabIndex":ns(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(e,o,c);break;case"style":ma(e,c,v);break;case"data":if(n!=="object"){ns(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=pa(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(n!=="input"&&we(e,n,"name",m.name,m,null),we(e,n,"formEncType",m.formEncType,m,null),we(e,n,"formMethod",m.formMethod,m,null),we(e,n,"formTarget",m.formTarget,m,null)):(we(e,n,"encType",m.encType,m,null),we(e,n,"method",m.method,m,null),we(e,n,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=pa(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=pd);break;case"onScroll":c!=null&&ae("scroll",e);break;case"onScrollEnd":c!=null&&ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=pa(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":ae("beforetoggle",e),ae("toggle",e),es(e,"popover",c);break;case"xlinkActuate":Xr(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xr(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xr(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xr(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xr(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xr(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xr(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":es(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Sl.get(o)||o,es(e,o,c))}}function Zm(e,n,o,c,m,v){switch(o){case"style":ma(e,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"children":typeof c=="string"?Ar(e,c):(typeof c=="number"||typeof c=="bigint")&&Ar(e,""+c);break;case"onScroll":c!=null&&ae("scroll",e);break;case"onScrollEnd":c!=null&&ae("scrollend",e);break;case"onClick":c!=null&&(e.onclick=pd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!du.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),n=o.slice(2,m?o.length-7:void 0),v=e[En]||null,v=v!=null?v[o]:null,typeof v=="function"&&e.removeEventListener(n,v,m),typeof c=="function")){typeof v!="function"&&v!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):es(e,o,c)}}}function Sn(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",e),ae("load",e);var c=!1,m=!1,v;for(v in o)if(o.hasOwnProperty(v)){var N=o[v];if(N!=null)switch(v){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:we(e,n,v,N,o,null)}}m&&we(e,n,"srcSet",o.srcSet,o,null),c&&we(e,n,"src",o.src,o,null);return;case"input":ae("invalid",e);var z=v=N=m=null,Q=null,ht=null;for(c in o)if(o.hasOwnProperty(c)){var wt=o[c];if(wt!=null)switch(c){case"name":m=wt;break;case"type":N=wt;break;case"checked":Q=wt;break;case"defaultChecked":ht=wt;break;case"value":v=wt;break;case"defaultValue":z=wt;break;case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(s(137,n));break;default:we(e,n,c,wt,o,null)}}hu(e,v,z,Q,ht,N,m,!1),fa(e);return;case"select":ae("invalid",e),c=N=v=null;for(m in o)if(o.hasOwnProperty(m)&&(z=o[m],z!=null))switch(m){case"value":v=z;break;case"defaultValue":N=z;break;case"multiple":c=z;default:we(e,n,m,z,o,null)}n=v,o=N,e.multiple=!!c,n!=null?Qn(e,!!c,n,!1):o!=null&&Qn(e,!!c,o,!0);return;case"textarea":ae("invalid",e),v=m=c=null;for(N in o)if(o.hasOwnProperty(N)&&(z=o[N],z!=null))switch(N){case"value":c=z;break;case"defaultValue":m=z;break;case"children":v=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(91));break;default:we(e,n,N,z,o,null)}mi(e,c,m,v),fa(e);return;case"option":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:we(e,n,Q,c,o,null)}return;case"dialog":ae("beforetoggle",e),ae("toggle",e),ae("cancel",e),ae("close",e);break;case"iframe":case"object":ae("load",e);break;case"video":case"audio":for(c=0;c<oc.length;c++)ae(oc[c],e);break;case"image":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"embed":case"source":case"link":ae("error",e),ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ht in o)if(o.hasOwnProperty(ht)&&(c=o[ht],c!=null))switch(ht){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:we(e,n,ht,c,o,null)}return;default:if(fo(n)){for(wt in o)o.hasOwnProperty(wt)&&(c=o[wt],c!==void 0&&Zm(e,n,wt,c,o,void 0));return}}for(z in o)o.hasOwnProperty(z)&&(c=o[z],c!=null&&we(e,n,z,c,o,null))}function Mw(e,n,o,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,N=null,z=null,Q=null,ht=null,wt=null;for(gt in o){var Mt=o[gt];if(o.hasOwnProperty(gt)&&Mt!=null)switch(gt){case"checked":break;case"value":break;case"defaultValue":Q=Mt;default:c.hasOwnProperty(gt)||we(e,n,gt,null,c,Mt)}}for(var pt in c){var gt=c[pt];if(Mt=o[pt],c.hasOwnProperty(pt)&&(gt!=null||Mt!=null))switch(pt){case"type":v=gt;break;case"name":m=gt;break;case"checked":ht=gt;break;case"defaultChecked":wt=gt;break;case"value":N=gt;break;case"defaultValue":z=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(s(137,n));break;default:gt!==Mt&&we(e,n,pt,gt,c,Mt)}}Mn(e,N,z,Q,ht,wt,v,m);return;case"select":gt=N=z=pt=null;for(v in o)if(Q=o[v],o.hasOwnProperty(v)&&Q!=null)switch(v){case"value":break;case"multiple":gt=Q;default:c.hasOwnProperty(v)||we(e,n,v,null,c,Q)}for(m in c)if(v=c[m],Q=o[m],c.hasOwnProperty(m)&&(v!=null||Q!=null))switch(m){case"value":pt=v;break;case"defaultValue":z=v;break;case"multiple":N=v;default:v!==Q&&we(e,n,m,v,c,Q)}n=z,o=N,c=gt,pt!=null?Qn(e,!!o,pt,!1):!!c!=!!o&&(n!=null?Qn(e,!!o,n,!0):Qn(e,!!o,o?[]:"",!1));return;case"textarea":gt=pt=null;for(z in o)if(m=o[z],o.hasOwnProperty(z)&&m!=null&&!c.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:we(e,n,z,null,c,m)}for(N in c)if(m=c[N],v=o[N],c.hasOwnProperty(N)&&(m!=null||v!=null))switch(N){case"value":pt=m;break;case"defaultValue":gt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==v&&we(e,n,N,m,c,v)}Ue(e,pt,gt);return;case"option":for(var Xt in o)if(pt=o[Xt],o.hasOwnProperty(Xt)&&pt!=null&&!c.hasOwnProperty(Xt))switch(Xt){case"selected":e.selected=!1;break;default:we(e,n,Xt,null,c,pt)}for(Q in c)if(pt=c[Q],gt=o[Q],c.hasOwnProperty(Q)&&pt!==gt&&(pt!=null||gt!=null))switch(Q){case"selected":e.selected=pt&&typeof pt!="function"&&typeof pt!="symbol";break;default:we(e,n,Q,pt,c,gt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in o)pt=o[Vt],o.hasOwnProperty(Vt)&&pt!=null&&!c.hasOwnProperty(Vt)&&we(e,n,Vt,null,c,pt);for(ht in c)if(pt=c[ht],gt=o[ht],c.hasOwnProperty(ht)&&pt!==gt&&(pt!=null||gt!=null))switch(ht){case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(s(137,n));break;default:we(e,n,ht,pt,c,gt)}return;default:if(fo(n)){for(var Te in o)pt=o[Te],o.hasOwnProperty(Te)&&pt!==void 0&&!c.hasOwnProperty(Te)&&Zm(e,n,Te,void 0,c,pt);for(wt in c)pt=c[wt],gt=o[wt],!c.hasOwnProperty(wt)||pt===gt||pt===void 0&&gt===void 0||Zm(e,n,wt,pt,c,gt);return}}for(var lt in o)pt=o[lt],o.hasOwnProperty(lt)&&pt!=null&&!c.hasOwnProperty(lt)&&we(e,n,lt,null,c,pt);for(Mt in c)pt=c[Mt],gt=o[Mt],!c.hasOwnProperty(Mt)||pt===gt||pt==null&&gt==null||we(e,n,Mt,pt,c,gt)}var Ym=null,qm=null;function gd(e){return e.nodeType===9?e:e.ownerDocument}function By(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Fm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vm=null;function Nw(){var e=window.event;return e&&e.type==="popstate"?e===Vm?!1:(Vm=e,!0):(Vm=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,Aw=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,Dw=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(e){return zy.resolve(null).then(e).catch(jw)}:Py;function jw(e){setTimeout(function(){throw e})}function qa(e){return e==="head"}function $y(e,n){var o=n,c=0,m=0;do{var v=o.nextSibling;if(e.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"){if(0<c&&8>c){o=c;var N=e.ownerDocument;if(o&1&&lc(N.documentElement),o&2&&lc(N.body),o&4)for(o=N.head,lc(o),N=o.firstChild;N;){var z=N.nextSibling,Q=N.nodeName;N[ca]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&N.rel.toLowerCase()==="stylesheet"||o.removeChild(N),N=z}}if(m===0){e.removeChild(v),gc(n);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=v}while(o);gc(n)}function Km(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Km(o),ts(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function kw(e,n,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[ca])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=ri(e.nextSibling),e===null)break}return null}function Ow(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=ri(e.nextSibling),e===null))return null;return e}function Xm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Cw(e,n){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")n();else{var c=function(){n(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function ri(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Wm=null;function Hy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}function Iy(e,n,o){switch(n=gd(o),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function lc(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ts(e)}var Pr=new Map,Gy=new Set;function bd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var na=at.d;at.d={f:Lw,r:Bw,D:Rw,C:Pw,L:zw,m:$w,X:Iw,S:Hw,M:Gw};function Lw(){var e=na.f(),n=ld();return e||n}function Bw(e){var n=Di(e);n!==null&&n.tag===5&&n.type==="form"?lb(n):na.r(e)}var zs=typeof document>"u"?null:document;function Uy(e,n,o){var c=zs;if(c&&typeof n=="string"&&n){var m=yn(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Gy.has(m)||(Gy.add(m),e={rel:e,crossOrigin:o,href:n},c.querySelector(m)===null&&(n=c.createElement("link"),Sn(n,"link",e),Je(n),c.head.appendChild(n)))}}function Rw(e){na.D(e),Uy("dns-prefetch",e,null)}function Pw(e,n){na.C(e,n),Uy("preconnect",e,n)}function zw(e,n,o){na.L(e,n,o);var c=zs;if(c&&e&&n){var m='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+yn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+yn(o.imageSizes)+'"]')):m+='[href="'+yn(e)+'"]';var v=m;switch(n){case"style":v=$s(e);break;case"script":v=Hs(e)}Pr.has(v)||(e=_({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Pr.set(v,e),c.querySelector(m)!==null||n==="style"&&c.querySelector(cc(v))||n==="script"&&c.querySelector(uc(v))||(n=c.createElement("link"),Sn(n,"link",e),Je(n),c.head.appendChild(n)))}}function $w(e,n){na.m(e,n);var o=zs;if(o&&e){var c=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+yn(c)+'"][href="'+yn(e)+'"]',v=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Hs(e)}if(!Pr.has(v)&&(e=_({rel:"modulepreload",href:e},n),Pr.set(v,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(uc(v)))return}c=o.createElement("link"),Sn(c,"link",e),Je(c),o.head.appendChild(c)}}}function Hw(e,n,o){na.S(e,n,o);var c=zs;if(c&&e){var m=ji(c).hoistableStyles,v=$s(e);n=n||"default";var N=m.get(v);if(!N){var z={loading:0,preload:null};if(N=c.querySelector(cc(v)))z.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Pr.get(v))&&Qm(e,o);var Q=N=c.createElement("link");Je(Q),Sn(Q,"link",e),Q._p=new Promise(function(ht,wt){Q.onload=ht,Q.onerror=wt}),Q.addEventListener("load",function(){z.loading|=1}),Q.addEventListener("error",function(){z.loading|=2}),z.loading|=4,yd(N,n,c)}N={type:"stylesheet",instance:N,count:1,state:z},m.set(v,N)}}}function Iw(e,n){na.X(e,n);var o=zs;if(o&&e){var c=ji(o).hoistableScripts,m=Hs(e),v=c.get(m);v||(v=o.querySelector(uc(m)),v||(e=_({src:e,async:!0},n),(n=Pr.get(m))&&Jm(e,n),v=o.createElement("script"),Je(v),Sn(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function Gw(e,n){na.M(e,n);var o=zs;if(o&&e){var c=ji(o).hoistableScripts,m=Hs(e),v=c.get(m);v||(v=o.querySelector(uc(m)),v||(e=_({src:e,async:!0,type:"module"},n),(n=Pr.get(m))&&Jm(e,n),v=o.createElement("script"),Je(v),Sn(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function Zy(e,n,o,c){var m=(m=Z.current)?bd(m):null;if(!m)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=$s(o.href),o=ji(m).hoistableStyles,c=o.get(n),c||(c={type:"style",instance:null,count:0,state:null},o.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=$s(o.href);var v=ji(m).hoistableStyles,N=v.get(e);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,N),(v=m.querySelector(cc(e)))&&!v._p&&(N.instance=v,N.state.loading=5),Pr.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Pr.set(e,o),v||Uw(m,e,o,N.state))),n&&c===null)throw Error(s(528,""));return N}if(n&&c!==null)throw Error(s(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Hs(o),o=ji(m).hoistableScripts,c=o.get(n),c||(c={type:"script",instance:null,count:0,state:null},o.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function $s(e){return'href="'+yn(e)+'"'}function cc(e){return'link[rel="stylesheet"]['+e+"]"}function Yy(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Uw(e,n,o,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Sn(n,"link",o),Je(n),e.head.appendChild(n))}function Hs(e){return'[src="'+yn(e)+'"]'}function uc(e){return"script[async]"+e}function qy(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+yn(o.href)+'"]');if(c)return n.instance=c,Je(c),c;var m=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Je(c),Sn(c,"style",m),yd(c,o.precedence,e),n.instance=c;case"stylesheet":m=$s(o.href);var v=e.querySelector(cc(m));if(v)return n.state.loading|=4,n.instance=v,Je(v),v;c=Yy(o),(m=Pr.get(m))&&Qm(c,m),v=(e.ownerDocument||e).createElement("link"),Je(v);var N=v;return N._p=new Promise(function(z,Q){N.onload=z,N.onerror=Q}),Sn(v,"link",c),n.state.loading|=4,yd(v,o.precedence,e),n.instance=v;case"script":return v=Hs(o.src),(m=e.querySelector(uc(v)))?(n.instance=m,Je(m),m):(c=o,(m=Pr.get(v))&&(c=_({},o),Jm(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Je(m),Sn(m,"link",c),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,yd(c,o.precedence,e));return n.instance}function yd(e,n,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,v=m,N=0;N<c.length;N++){var z=c[N];if(z.dataset.precedence===n)v=z;else if(v!==m)break}v?v.parentNode.insertBefore(e,v.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Qm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Jm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vd=null;function Fy(e,n,o){if(vd===null){var c=new Map,m=vd=new Map;m.set(o,c)}else m=vd,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var v=o[m];if(!(v[ca]||v[ln]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var N=v.getAttribute(n)||"";N=e+N;var z=c.get(N);z?z.push(v):c.set(N,[v])}}return c}function Vy(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function Zw(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ky(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var dc=null;function Yw(){}function qw(e,n,o){if(dc===null)throw Error(s(475));var c=dc;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=$s(o.href),v=e.querySelector(cc(m));if(v){e=v._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=xd.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=v,Je(v);return}v=e.ownerDocument||e,o=Yy(o),(m=Pr.get(m))&&Qm(o,m),v=v.createElement("link"),Je(v);var N=v;N._p=new Promise(function(z,Q){N.onload=z,N.onerror=Q}),Sn(v,"link",o),n.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(c.count++,n=xd.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function Fw(){if(dc===null)throw Error(s(475));var e=dc;return e.stylesheets&&e.count===0&&t0(e,e.stylesheets),0<e.count?function(n){var o=setTimeout(function(){if(e.stylesheets&&t0(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o)}}:null}function xd(){if(this.count--,this.count===0){if(this.stylesheets)t0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _d=null;function t0(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_d=new Map,n.forEach(Vw,e),_d=null,xd.call(e))}function Vw(e,n){if(!(n.state.loading&4)){var o=_d.get(e);if(o)var c=o.get(null);else{o=new Map,_d.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var N=m[v];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(o.set(N.dataset.precedence,N),c=N)}c&&o.set(null,c)}m=n.instance,N=m.getAttribute("data-precedence"),v=o.get(N)||c,v===c&&o.set(null,m),o.set(N,m),this.count++,c=xd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),v?v.parentNode.insertBefore(m,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var fc={$$typeof:j,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function Kw(e,n,o,c,m,v,N,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Xy(e,n,o,c,m,v,N,z,Q,ht,wt,Mt){return e=new Kw(e,n,o,N,z,Q,ht,Mt),n=1,v===!0&&(n|=24),v=$n(3,null,null,n),e.current=v,v.stateNode=e,n=Bh(),n.refCount++,e.pooledCache=n,n.refCount++,v.memoizedState={element:c,isDehydrated:o,cache:n},$h(v),e}function Wy(e){return e?(e=Fi,e):Fi}function Qy(e,n,o,c,m,v){m=Wy(m),c.context===null?c.context=m:c.pendingContext=m,c=Ca(n),c.payload={element:o},v=v===void 0?null:v,v!==null&&(c.callback=v),o=La(e,c,n),o!==null&&(gr(o,e,n),Gl(o,e,n))}function Jy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function e0(e,n){Jy(e,n),(e=e.alternate)&&Jy(e,n)}function tv(e){if(e.tag===13){var n=Aa(e,67108864);n!==null&&gr(n,e,67108864),e0(e,67108864)}}var Sd=!0;function Xw(e,n,o,c){var m=I.T;I.T=null;var v=at.p;try{at.p=2,n0(e,n,o,c)}finally{at.p=v,I.T=m}}function Ww(e,n,o,c){var m=I.T;I.T=null;var v=at.p;try{at.p=8,n0(e,n,o,c)}finally{at.p=v,I.T=m}}function n0(e,n,o,c){if(Sd){var m=r0(c);if(m===null)Um(e,n,c,wd,o),nv(e,c);else if(Jw(m,e,n,o,c))c.stopPropagation();else if(nv(e,c),n&4&&-1<Qw.indexOf(e)){for(;m!==null;){var v=Di(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var N=gn(v.pendingLanes);if(N!==0){var z=v;for(z.pendingLanes|=2,z.entangledLanes|=2;N;){var Q=1<<31-ze(N);z.entanglements[1]|=Q,N&=~Q}Ti(v),(ve&6)===0&&(od=Yt()+500,ac(0))}}break;case 13:z=Aa(v,2),z!==null&&gr(z,v,2),ld(),e0(v,2)}if(v=r0(c),v===null&&Um(e,n,c,wd,o),v===m)break;m=v}m!==null&&c.stopPropagation()}else Um(e,n,c,null,o)}}function r0(e){return e=ga(e),i0(e)}var wd=null;function i0(e){if(wd=null,e=hi(e),e!==null){var n=d(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=f(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return wd=e,null}function ev(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dt()){case dt:return 2;case Ot:return 8;case bt:case qt:return 32;case be:return 268435456;default:return 32}default:return 32}}var a0=!1,Fa=null,Va=null,Ka=null,hc=new Map,mc=new Map,Xa=[],Qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(e,n){switch(e){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":hc.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(n.pointerId)}}function pc(e,n,o,c,m,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:o,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},n!==null&&(n=Di(n),n!==null&&tv(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function Jw(e,n,o,c,m){switch(n){case"focusin":return Fa=pc(Fa,e,n,o,c,m),!0;case"dragenter":return Va=pc(Va,e,n,o,c,m),!0;case"mouseover":return Ka=pc(Ka,e,n,o,c,m),!0;case"pointerover":var v=m.pointerId;return hc.set(v,pc(hc.get(v)||null,e,n,o,c,m)),!0;case"gotpointercapture":return v=m.pointerId,mc.set(v,pc(mc.get(v)||null,e,n,o,c,m)),!0}return!1}function rv(e){var n=hi(e.target);if(n!==null){var o=d(n);if(o!==null){if(n=o.tag,n===13){if(n=f(o),n!==null){e.blockedOn=n,vl(e.priority,function(){if(o.tag===13){var c=pr();c=bl(c);var m=Aa(o,c);m!==null&&gr(m,o,c),e0(o,c)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Td(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=r0(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);ho=c,o.target.dispatchEvent(c),ho=null}else return n=Di(o),n!==null&&tv(n),e.blockedOn=o,!1;n.shift()}return!0}function iv(e,n,o){Td(e)&&o.delete(n)}function tT(){a0=!1,Fa!==null&&Td(Fa)&&(Fa=null),Va!==null&&Td(Va)&&(Va=null),Ka!==null&&Td(Ka)&&(Ka=null),hc.forEach(iv),mc.forEach(iv)}function Ed(e,n){e.blockedOn===n&&(e.blockedOn=null,a0||(a0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,tT)))}var Md=null;function av(e){Md!==e&&(Md=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Md===e&&(Md=null);for(var n=0;n<e.length;n+=3){var o=e[n],c=e[n+1],m=e[n+2];if(typeof c!="function"){if(i0(c||o)===null)continue;break}var v=Di(o);v!==null&&(e.splice(n,3),n-=3,im(v,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function gc(e){function n(Q){return Ed(Q,e)}Fa!==null&&Ed(Fa,e),Va!==null&&Ed(Va,e),Ka!==null&&Ed(Ka,e),hc.forEach(n),mc.forEach(n);for(var o=0;o<Xa.length;o++){var c=Xa[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Xa.length&&(o=Xa[0],o.blockedOn===null);)rv(o),o.blockedOn===null&&Xa.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],v=o[c+1],N=m[En]||null;if(typeof v=="function")N||av(o);else if(N){var z=null;if(v&&v.hasAttribute("formAction")){if(m=v,N=v[En]||null)z=N.formAction;else if(i0(m)!==null)continue}else z=N.action;typeof z=="function"?o[c+1]=z:(o.splice(c,3),c-=3),av(o)}}}function o0(e){this._internalRoot=e}Nd.prototype.render=o0.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var o=n.current,c=pr();Qy(o,c,e,n,null,null)},Nd.prototype.unmount=o0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Qy(e.current,2,null,e,null,null),ld(),n[la]=null}};function Nd(e){this._internalRoot=e}Nd.prototype.unstable_scheduleHydration=function(e){if(e){var n=lu();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Xa.length&&n!==0&&n<Xa[o].priority;o++);Xa.splice(o,0,e),o===0&&rv(e)}};var ov=r.version;if(ov!=="19.1.1")throw Error(s(527,ov,"19.1.1"));at.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=b(n),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var eT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{_e=Ad.inject(eT),Pe=Ad}catch{}}return yc.createRoot=function(e,n){if(!u(e))throw Error(s(299));var o=!1,c="",m=Sb,v=wb,N=Tb,z=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(z=n.unstable_transitionCallbacks)),n=Xy(e,1,!1,null,null,o,c,m,v,N,z,null),e[la]=n.current,Gm(e),new o0(n)},yc.hydrateRoot=function(e,n,o){if(!u(e))throw Error(s(299));var c=!1,m="",v=Sb,N=wb,z=Tb,Q=null,ht=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(z=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(Q=o.unstable_transitionCallbacks),o.formState!==void 0&&(ht=o.formState)),n=Xy(e,1,!0,n,o??null,c,m,v,N,z,Q,ht),n.context=Wy(null),o=n.current,c=pr(),c=bl(c),m=Ca(c),m.callback=null,La(o,m,c),o=c,n.current.lanes=o,Ai(n,o),Ti(n),e[la]=n.current,Gm(e),new Nd(n)},yc.version="19.1.1",yc}var gv;function dT(){if(gv)return c0.exports;gv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),c0.exports=uT(),c0.exports}var fT=dT();let hT={data:""},mT=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||hT,pT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,gT=/\/\*[^]*?\*\/|  +/g,bv=/\n+/g,to=(t,r)=>{let a="",s="",u="";for(let d in t){let f=t[d];d[0]=="@"?d[1]=="i"?a=d+" "+f+";":s+=d[1]=="f"?to(f,d):d+"{"+to(f,d[1]=="k"?"":r)+"}":typeof f=="object"?s+=to(f,r?r.replace(/([^,])+/g,p=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,p):p?p+" "+b:b)):d):f!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=to.p?to.p(d,f):d+":"+f+";")}return a+(r&&u?r+"{"+u+"}":u)+s},ra={},n1=t=>{if(typeof t=="object"){let r="";for(let a in t)r+=a+n1(t[a]);return r}return t},bT=(t,r,a,s,u)=>{let d=n1(t),f=ra[d]||(ra[d]=(b=>{let g=0,_=11;for(;g<b.length;)_=101*_+b.charCodeAt(g++)>>>0;return"go"+_})(d));if(!ra[f]){let b=d!==t?t:(g=>{let _,x,S=[{}];for(;_=pT.exec(g.replace(gT,""));)_[4]?S.shift():_[3]?(x=_[3].replace(bv," ").trim(),S.unshift(S[0][x]=S[0][x]||{})):S[0][_[1]]=_[2].replace(bv," ").trim();return S[0]})(t);ra[f]=to(u?{["@keyframes "+f]:b}:b,a?"":"."+f)}let p=a&&ra.g?ra.g:null;return a&&(ra.g=ra[f]),((b,g,_,x)=>{x?g.data=g.data.replace(x,b):g.data.indexOf(b)===-1&&(g.data=_?b+g.data:g.data+b)})(ra[f],r,s,p),f},yT=(t,r,a)=>t.reduce((s,u,d)=>{let f=r[d];if(f&&f.call){let p=f(a),b=p&&p.props&&p.props.className||/^go/.test(p)&&p;f=b?"."+b:p&&typeof p=="object"?p.props?"":to(p,""):p===!1?"":p}return s+u+(f??"")},"");function Vf(t){let r=this||{},a=t.call?t(r.p):t;return bT(a.unshift?a.raw?yT(a,[].slice.call(arguments,1),r.p):a.reduce((s,u)=>Object.assign(s,u&&u.call?u(r.p):u),{}):a,mT(r.target),r.g,r.o,r.k)}let r1,hp,mp;Vf.bind({g:1});let oa=Vf.bind({k:1});function vT(t,r,a,s){to.p=r,r1=t,hp=a,mp=s}function ao(t,r){let a=this||{};return function(){let s=arguments;function u(d,f){let p=Object.assign({},d),b=p.className||u.className;a.p=Object.assign({theme:hp&&hp()},p),a.o=/ *go\d+/.test(b),p.className=Vf.apply(a,s)+(b?" "+b:"");let g=t;return t[0]&&(g=p.as||t,delete p.as),mp&&g[0]&&mp(p),r1(g,p)}return u}}var xT=t=>typeof t=="function",gf=(t,r)=>xT(t)?t(r):t,_T=(()=>{let t=0;return()=>(++t).toString()})(),i1=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");t=!r||r.matches}return t}})(),ST=20,Lp="default",a1=(t,r)=>{let{toastLimit:a}=t.settings;switch(r.type){case 0:return{...t,toasts:[r.toast,...t.toasts].slice(0,a)};case 1:return{...t,toasts:t.toasts.map(f=>f.id===r.toast.id?{...f,...r.toast}:f)};case 2:let{toast:s}=r;return a1(t,{type:t.toasts.find(f=>f.id===s.id)?1:0,toast:s});case 3:let{toastId:u}=r;return{...t,toasts:t.toasts.map(f=>f.id===u||u===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(f=>f.id!==r.toastId)};case 5:return{...t,pausedAt:r.time};case 6:let d=r.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+d}))}}},df=[],o1={toasts:[],pausedAt:void 0,settings:{toastLimit:ST}},Mi={},s1=(t,r=Lp)=>{Mi[r]=a1(Mi[r]||o1,t),df.forEach(([a,s])=>{a===r&&s(Mi[r])})},l1=t=>Object.keys(Mi).forEach(r=>s1(t,r)),wT=t=>Object.keys(Mi).find(r=>Mi[r].toasts.some(a=>a.id===t)),Kf=(t=Lp)=>r=>{s1(r,t)},TT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ET=(t={},r=Lp)=>{let[a,s]=C.useState(Mi[r]||o1),u=C.useRef(Mi[r]);C.useEffect(()=>(u.current!==Mi[r]&&s(Mi[r]),df.push([r,s]),()=>{let f=df.findIndex(([p])=>p===r);f>-1&&df.splice(f,1)}),[r]);let d=a.toasts.map(f=>{var p,b,g;return{...t,...t[f.type],...f,removeDelay:f.removeDelay||((p=t[f.type])==null?void 0:p.removeDelay)||t?.removeDelay,duration:f.duration||((b=t[f.type])==null?void 0:b.duration)||t?.duration||TT[f.type],style:{...t.style,...(g=t[f.type])==null?void 0:g.style,...f.style}}});return{...a,toasts:d}},MT=(t,r="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:a?.id||_T()}),Kc=t=>(r,a)=>{let s=MT(r,t,a);return Kf(s.toasterId||wT(s.id))({type:2,toast:s}),s.id},sn=(t,r)=>Kc("blank")(t,r);sn.error=Kc("error");sn.success=Kc("success");sn.loading=Kc("loading");sn.custom=Kc("custom");sn.dismiss=(t,r)=>{let a={type:3,toastId:t};r?Kf(r)(a):l1(a)};sn.dismissAll=t=>sn.dismiss(void 0,t);sn.remove=(t,r)=>{let a={type:4,toastId:t};r?Kf(r)(a):l1(a)};sn.removeAll=t=>sn.remove(void 0,t);sn.promise=(t,r,a)=>{let s=sn.loading(r.loading,{...a,...a?.loading});return typeof t=="function"&&(t=t()),t.then(u=>{let d=r.success?gf(r.success,u):void 0;return d?sn.success(d,{id:s,...a,...a?.success}):sn.dismiss(s),u}).catch(u=>{let d=r.error?gf(r.error,u):void 0;d?sn.error(d,{id:s,...a,...a?.error}):sn.dismiss(s)}),t};var NT=1e3,AT=(t,r="default")=>{let{toasts:a,pausedAt:s}=ET(t,r),u=C.useRef(new Map).current,d=C.useCallback((x,S=NT)=>{if(u.has(x))return;let T=setTimeout(()=>{u.delete(x),f({type:4,toastId:x})},S);u.set(x,T)},[]);C.useEffect(()=>{if(s)return;let x=Date.now(),S=a.map(T=>{if(T.duration===1/0)return;let M=(T.duration||0)+T.pauseDuration-(x-T.createdAt);if(M<0){T.visible&&sn.dismiss(T.id);return}return setTimeout(()=>sn.dismiss(T.id,r),M)});return()=>{S.forEach(T=>T&&clearTimeout(T))}},[a,s,r]);let f=C.useCallback(Kf(r),[r]),p=C.useCallback(()=>{f({type:5,time:Date.now()})},[f]),b=C.useCallback((x,S)=>{f({type:1,toast:{id:x,height:S}})},[f]),g=C.useCallback(()=>{s&&f({type:6,time:Date.now()})},[s,f]),_=C.useCallback((x,S)=>{let{reverseOrder:T=!1,gutter:M=8,defaultPosition:D}=S||{},A=a.filter(j=>(j.position||D)===(x.position||D)&&j.height),$=A.findIndex(j=>j.id===x.id),P=A.filter((j,B)=>B<$&&j.visible).length;return A.filter(j=>j.visible).slice(...T?[P+1]:[0,P]).reduce((j,B)=>j+(B.height||0)+M,0)},[a]);return C.useEffect(()=>{a.forEach(x=>{if(x.dismissed)d(x.id,x.removeDelay);else{let S=u.get(x.id);S&&(clearTimeout(S),u.delete(x.id))}})},[a,d]),{toasts:a,handlers:{updateHeight:b,startPause:p,endPause:g,calculateOffset:_}}},DT=oa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,jT=oa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kT=oa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,OT=ao("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${jT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${kT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,CT=oa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,LT=ao("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${CT} 1s linear infinite;
`,BT=oa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,RT=oa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,PT=ao("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${RT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zT=ao("div")`
  position: absolute;
`,$T=ao("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,HT=oa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IT=ao("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${HT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,GT=({toast:t})=>{let{icon:r,type:a,iconTheme:s}=t;return r!==void 0?typeof r=="string"?C.createElement(IT,null,r):r:a==="blank"?null:C.createElement($T,null,C.createElement(LT,{...s}),a!=="loading"&&C.createElement(zT,null,a==="error"?C.createElement(OT,{...s}):C.createElement(PT,{...s})))},UT=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ZT=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,YT="0%{opacity:0;} 100%{opacity:1;}",qT="0%{opacity:1;} 100%{opacity:0;}",FT=ao("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,VT=ao("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,KT=(t,r)=>{let a=t.includes("top")?1:-1,[s,u]=i1()?[YT,qT]:[UT(a),ZT(a)];return{animation:r?`${oa(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${oa(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},XT=C.memo(({toast:t,position:r,style:a,children:s})=>{let u=t.height?KT(t.position||r||"top-center",t.visible):{opacity:0},d=C.createElement(GT,{toast:t}),f=C.createElement(VT,{...t.ariaProps},gf(t.message,t));return C.createElement(FT,{className:t.className,style:{...u,...a,...t.style}},typeof s=="function"?s({icon:d,message:f}):C.createElement(C.Fragment,null,d,f))});vT(C.createElement);var WT=({id:t,className:r,style:a,onHeightUpdate:s,children:u})=>{let d=C.useCallback(f=>{if(f){let p=()=>{let b=f.getBoundingClientRect().height;s(t,b)};p(),new MutationObserver(p).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return C.createElement("div",{ref:d,className:r,style:a},u)},QT=(t,r)=>{let a=t.includes("top"),s=a?{top:0}:{bottom:0},u=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:i1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(a?1:-1)}px)`,...s,...u}},JT=Vf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Dd=16,tE=({reverseOrder:t,position:r="top-center",toastOptions:a,gutter:s,children:u,toasterId:d,containerStyle:f,containerClassName:p})=>{let{toasts:b,handlers:g}=AT(a,d);return C.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:Dd,left:Dd,right:Dd,bottom:Dd,pointerEvents:"none",...f},className:p,onMouseEnter:g.startPause,onMouseLeave:g.endPause},b.map(_=>{let x=_.position||r,S=g.calculateOffset(_,{reverseOrder:t,gutter:s,defaultPosition:r}),T=QT(x,S);return C.createElement(WT,{id:_.id,key:_.id,onHeightUpdate:g.updateHeight,className:_.visible?JT:"",style:T},_.type==="custom"?gf(_.message,_):u?u(_):C.createElement(XT,{toast:_,position:x}))}))},h0=sn;function eE(t,r,a,s=0,u=0){r<=2&&(t-=1,r+=12);const d=Math.floor(t/100),f=2-d+Math.floor(d/4),p=a+(s+u/60)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+p+f-1524.5}const nE=864e5;function rE(t){const r=(t-24405875e-1)*nE;return new Date(r)}function iE(t,r=7){const a=t+(r-.5)/12;if(a>=1986&&a<2005){const u=a-2e3;return 63.86+.3345*u-.060374*u*u+.0017275*u**3+651814e-9*u**4+2373599e-11*u**5}if(a>=2005&&a<2050){const u=a-2e3;return 62.92+.32217*u+.005589*u*u}if(a>=2050&&a<=2150){const u=(a-1820)/100;return-20+32*u*u-.5628*(2150-a)}if(a>=1900&&a<1986)return-2.79+1.494119*(a-1900)-.0598939*(a-1900)**2+.0061966*(a-1900)**3-197e-6*(a-1900)**4;if(a>=1800&&a<1900){const u=(a-1800)/100;return 13.72-33.244*u+68.612*u**2-65.3*u**3-1.653*u**4+.3343*u**5-.012125*u**6+1348e-7*u**7-175e-8*u**8}const s=(a-1820)/100;return-20+32*s*s}function aE(t){const r=Math.floor(t+.5),a=t+.5-r;let s=r;if(r>=2299161){const x=Math.floor((r-186721625e-2)/36524.25);s=r+1+x-Math.floor(x/4)}const u=s+1524,d=Math.floor((u-122.1)/365.25),f=Math.floor(365.25*d),p=Math.floor((u-f)/30.6001),b=u-f-Math.floor(30.6001*p)+a;let g=p-1;g>12&&(g-=12);let _=d-4715;return g>2&&(_-=1),[_,g,b]}const Lc=Math.PI,qo=Lc/180,oE=180/Lc,sE=86400;function lE(t){return t%=360,t<0?t+360:t}function cE(t,r){return(t-r+540)%360-180}function yv(t,r){for(;t-r>180;)t-=360;for(;t-r<-180;)t+=360;return t}function uE(t){const[r,a]=aE(t);return t+iE(r,Math.round(a))/sE}function vv(t,r){let a=0,s=1;for(let u=0;u<t.length;u++){let d=0;for(const[f,p,b]of t[u])d+=f*Math.cos(p+b*r);a+=d*s,s*=r}return a*1e-8}function dE(t){const r=(t-2451545)/36525,a=(297.85036+445267.11148*r-.0019142*r*r+r*r*r/189474)*qo,s=(357.52772+35999.05034*r-1603e-7*r*r-r*r*r/3e5)*qo,u=(134.96298+477198.867398*r+.0086972*r*r+r*r*r/56250)*qo,d=(93.27191+483202.017538*r-.0036825*r*r+r*r*r/327270)*qo,f=(125.04452-1934.136261*r+.0020708*r*r+r*r*r/45e4)*qo,p=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let b=0,g=0;for(const[_,x,S,T,M,D,A,$,P]of p){const j=_*a+x*s+S*u+T*d+M*f;b+=(D+A*r)*Math.sin(j),g+=($+P*r)*Math.cos(j)}return b*=1e-4,g*=1e-4,{dpsi:b,deps:g}}function jd(t){const r=uE(t),a=(r-2451545)/365250,s=vv(xv.L,a),u=vv(xv.R,a);let d=s+Lc;d>2*Lc&&(d-=2*Lc);const{dpsi:f}=dE(r),p=f/3600*qo,b=20.4898/(3600*u),g=d+p-b*qo;return lE(g*oE)}function on(t,r,a){const s=(r%360+360)%360,u=eE(t,1,1),d=jd(u);let f=s-d;f<0&&(f+=360);let p=u+f/.98564736;const b=1e-6,g=5e-6;for(let S=0;S<25;S++){const T=jd(p),M=cE(s,T);if(Math.abs(M)<b)break;const D=jd(p+g),A=jd(p-g),$=yv(D,T),P=yv(A,T),j=($-P)/(2*g);p+=M/j}const _=rE(p),x=new Date(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours(),_.getMinutes(),0,0);if(Number.isFinite(a)){const S=a/15-9;if(Math.abs(S)>1e-12)return new Date(x.getTime()+S*36e5)}return x}const xv={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},qn=["갑","을","병","정","무","기","경","신","임","계"],rr=["자","축","인","묘","진","사","오","미","신","유","술","해"],Ur={천간:["갑","을","병","정","무","기","경","신","임","계"],지지:["자","축","인","묘","진","사","오","미","신","유","술","해"]},Mr={천간:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],지지:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"]},fE=["목","목","화","화","토","토","금","금","수","수"],hE=["수","토","목","목","토","화","화","토","금","금","토","수"],mE=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],pE=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Xf=new Set(qn),Bp=new Set(rr),Wf={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Rp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},c1=["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],Pp={갑:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],을:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],병:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],정:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],무:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"],기:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],경:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],신:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],임:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],계:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"]},u1={갑:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],을:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],병:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],정:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],무:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],기:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],경:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],신:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],임:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],계:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"]},_v=[{branch:"자",hanja:"子",start:1380,end:60},{branch:"축",hanja:"丑",start:60,end:180},{branch:"인",hanja:"寅",start:180,end:300},{branch:"묘",hanja:"卯",start:300,end:420},{branch:"진",hanja:"辰",start:420,end:540},{branch:"사",hanja:"巳",start:540,end:660},{branch:"오",hanja:"午",start:660,end:780},{branch:"미",hanja:"未",start:780,end:900},{branch:"신",hanja:"申",start:900,end:1020},{branch:"유",hanja:"酉",start:1020,end:1140},{branch:"술",hanja:"戌",start:1140,end:1260},{branch:"해",hanja:"亥",start:1260,end:1380}],gE={갑:{갑:"비견",을:"겁재",병:"식신",정:"상관",무:"편재",기:"정재",경:"편관",신:"정관",임:"편인",계:"정인"},을:{갑:"겁재",을:"비견",병:"상관",정:"식신",무:"정재",기:"편재",경:"정관",신:"편관",임:"정인",계:"편인"},병:{갑:"편인",을:"정인",병:"비견",정:"겁재",무:"식신",기:"상관",경:"편재",신:"정재",임:"편관",계:"정관"},정:{갑:"정인",을:"편인",병:"겁재",정:"비견",무:"상관",기:"식신",경:"정재",신:"편재",임:"정관",계:"편관"},무:{갑:"편관",을:"정관",병:"편인",정:"정인",무:"비견",기:"겁재",경:"식신",신:"상관",임:"편재",계:"정재"},기:{갑:"정관",을:"편관",병:"정인",정:"편인",무:"겁재",기:"비견",경:"상관",신:"식신",임:"정재",계:"편재"},경:{갑:"편재",을:"정재",병:"편관",정:"정관",무:"편인",기:"정인",경:"비견",신:"겁재",임:"식신",계:"상관"},신:{갑:"정재",을:"편재",병:"정관",정:"편관",무:"정인",기:"편인",경:"겁재",신:"비견",임:"상관",계:"식신"},임:{갑:"식신",을:"상관",병:"편재",정:"정재",무:"편관",기:"정관",경:"편인",신:"정인",임:"비견",계:"겁재"},계:{갑:"상관",을:"식신",병:"정재",정:"편재",무:"정관",기:"편관",경:"정인",신:"편인",임:"겁재",계:"비견"}},bE={갑:{자:"정인",축:"정재",인:"비견",묘:"겁재",진:"편재",사:"식신",오:"상관",미:"정재",신:"편관",유:"정관",술:"편재",해:"편인"},을:{자:"편인",축:"편재",인:"겁재",묘:"비견",진:"정재",사:"상관",오:"식신",미:"편재",신:"정관",유:"편관",술:"정재",해:"정인"},병:{자:"정관",축:"상관",인:"편인",묘:"정인",진:"식신",사:"비견",오:"겁재",미:"상관",신:"편재",유:"정재",술:"식신",해:"편관"},정:{자:"편관",축:"식신",인:"정인",묘:"편인",진:"상관",사:"겁재",오:"비견",미:"식신",신:"정재",유:"편재",술:"상관",해:"정관"},무:{자:"정재",축:"겁재",인:"편관",묘:"정관",진:"비견",사:"편인",오:"정인",미:"겁재",신:"식신",유:"상관",술:"비견",해:"편재"},기:{자:"편재",축:"비견",인:"정관",묘:"편관",진:"겁재",사:"정인",오:"편인",미:"비견",신:"상관",유:"식신",술:"겁재",해:"정재"},경:{자:"상관",축:"정인",인:"편재",묘:"정재",진:"편인",사:"편관",오:"정관",미:"정인",신:"비견",유:"겁재",술:"편인",해:"식신"},신:{자:"식신",축:"편인",인:"정재",묘:"편재",진:"정인",사:"정관",오:"편관",미:"편인",신:"겁재",유:"비견",술:"정인",해:"상관"},임:{자:"겁재",축:"정관",인:"식신",묘:"상관",진:"편관",사:"편재",오:"정재",미:"정관",신:"편인",유:"정인",술:"편관",해:"비견"},계:{자:"비견",축:"편관",인:"상관",묘:"식신",진:"정관",사:"정재",오:"편재",미:"편관",신:"정인",유:"편인",술:"정관",해:"겁재"}};function yE(t,r=127.5){return(le(t,r)||"").charAt(0)}const Sv=new Map;function d1(t,r=127.5){const a=`${t}@${r}`,s=Sv.get(a);if(s)return s;const u=on(t,315,r);if(!u)throw new Error(`입춘 날짜를 찾을 수 없습니다: year=${t}, lon=${r}`);return Sv.set(a,u),u}const vE=(t,r)=>(t%r+r)%r,f1=t=>t instanceof Date&&!Number.isNaN(t.getTime());function h1(t,r=127.5){if(!f1(t))throw new Error("resolveYearIndex: invalid date");const a=t.getFullYear(),s=d1(a,r),u=t<s?a-1:a,d=vE(u-4,60);return{useYear:u,index60Num:d}}function le(t,r=127.5){const{index60Num:a}=h1(t,r);return c1[a]}const xE=[2,4,6,8,0,2,4,6,8,0];function _E(t,r=127.5){const a=new Array(12);return a[0]=d1(t,r),a[1]=on(t,345,r),a[2]=on(t,15,r),a[3]=on(t,45,r),a[4]=on(t,75,r),a[5]=on(t,105,r),a[6]=on(t,135,r),a[7]=on(t,165,r),a[8]=on(t,195,r),a[9]=on(t,225,r),a[10]=on(t,255,r),a[11]=on(t+1,285,r),a.map(s=>new Date(s.getTime()+1800*1e3))}function SE(t,r=127.5){const{useYear:a}=h1(t,r),s=_E(a,r);let u=0;for(let f=0;f<12;f++)t>=s[f]&&(u=f);return{monthIndex:u+1,useYear:a,boundaries:s}}function wE(t,r=127.5){const a=yE(t,r),s=Ur.천간.indexOf(a);if(s<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${a}"`);return xE[s]}function TE(t,r,a=127.5){return(wE(t,a)+(r-1))%10}function Me(t,r=127.5){if(!f1(t))return"";const{monthIndex:a}=SE(t,r),s=(2+(a-1))%12,u=Ur.지지[s],d=TE(t,a,r);return Ur.천간[d]+u}const EE=(t,r)=>(t%r+r)%r;function ME(t,r,a,s=0,u=0,d=0){r<=2&&(t-=1,r+=12);const f=Math.floor(t/100),p=2-f+Math.floor(f/4),b=(s+u/60+d/3600)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+a+b+p-1524.5}function NE(t,r){const a=t.getHours(),s=t.getMinutes(),u=a*60+s,d=m1(t);return r==="자시"&&d==="자"?u>=1380?1:0:r==="인시"&&(d==="자"||d==="축")?u<180?-1:0:(u<0,0)}const wv={JDN:2445731,idx:0};function se(t,r){const a=NE(t,r),s=new Date(t.getTime());s.setDate(s.getDate()+a);const u=ME(s.getFullYear(),s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes()),d=Math.floor(u+.5),f=EE(d-wv.JDN+wv.idx,60),p=c1[f];if(!p)throw new Error(`getDayGanZhi: idx=${f} out of range (jdn=${d}, jd=${u})`);return p}function m1(t){t instanceof Date||(t=new Date(t));const r=t.getHours()*60+t.getMinutes();for(let a=0;a<_v.length;a++){const{branch:s,start:u,end:d}=_v[a];if(u<d){if(r>=u&&r<d)return s}else if(r>=u||r<d)return s}return"자"}function AE(t,r,a,s){const u=qn.indexOf(r);if(u<0)return"";let d=(u%5*2+a)%10;const f=t.getHours();return(s==="인시"||s==="조자시/야자시"&&f>=3)&&(a===0||a===1)&&(d=(d+2)%10),qn[d]}function Yr(t,r,a){t instanceof Date||(t=new Date(t));const s=m1(t),u=rr.indexOf(s),f=(a??se(t,r)).charAt(0);return AE(t,f,u,r)+s}const Tv=t=>{let r;const a=new Set,s=(g,_)=>{const x=typeof g=="function"?g(r):g;if(!Object.is(x,r)){const S=r;r=_??(typeof x!="object"||x===null)?x:Object.assign({},r,x),a.forEach(T=>T(r,S))}},u=()=>r,p={setState:s,getState:u,getInitialState:()=>b,subscribe:g=>(a.add(g),()=>a.delete(g))},b=r=t(s,u,p);return p},DE=(t=>t?Tv(t):Tv),jE=t=>t;function kE(t,r=jE){const a=Re.useSyncExternalStore(t.subscribe,Re.useCallback(()=>r(t.getState()),[t,r]),Re.useCallback(()=>r(t.getInitialState()),[t,r]));return Re.useDebugValue(a),a}const Ev=t=>{const r=DE(t),a=s=>kE(r,s);return Object.assign(a,r),a},Xc=(t=>t?Ev(t):Ev);function OE(t,r){let a;try{a=t()}catch{return}return{getItem:u=>{var d;const f=b=>b===null?null:JSON.parse(b,void 0),p=(d=a.getItem(u))!=null?d:null;return p instanceof Promise?p.then(f):f(p)},setItem:(u,d)=>a.setItem(u,JSON.stringify(d,void 0)),removeItem:u=>a.removeItem(u)}}const pp=t=>r=>{try{const a=t(r);return a instanceof Promise?a:{then(s){return pp(s)(a)},catch(s){return this}}}catch(a){return{then(s){return this},catch(s){return pp(s)(a)}}}},CE=(t,r)=>(a,s,u)=>{let d={storage:OE(()=>localStorage),partialize:D=>D,version:0,merge:(D,A)=>({...A,...D}),...r},f=!1;const p=new Set,b=new Set;let g=d.storage;if(!g)return t((...D)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),a(...D)},s,u);const _=()=>{const D=d.partialize({...s()});return g.setItem(d.name,{state:D,version:d.version})},x=u.setState;u.setState=(D,A)=>(x(D,A),_());const S=t((...D)=>(a(...D),_()),s,u);u.getInitialState=()=>S;let T;const M=()=>{var D,A;if(!g)return;f=!1,p.forEach(P=>{var j;return P((j=s())!=null?j:S)});const $=((A=d.onRehydrateStorage)==null?void 0:A.call(d,(D=s())!=null?D:S))||void 0;return pp(g.getItem.bind(g))(d.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==d.version){if(d.migrate){const j=d.migrate(P.state,P.version);return j instanceof Promise?j.then(B=>[!0,B]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var j;const[B,O]=P;if(T=d.merge(O,(j=s())!=null?j:S),a(T,!0),B)return _()}).then(()=>{$?.(T,void 0),T=s(),f=!0,b.forEach(P=>P(T))}).catch(P=>{$?.(void 0,P)})};return u.persist={setOptions:D=>{d={...d,...D},D.storage&&(g=D.storage)},clearStorage:()=>{g?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>M(),hasHydrated:()=>f,onHydrate:D=>(p.add(D),()=>{p.delete(D)}),onFinishHydration:D=>(b.add(D),()=>{b.delete(D)})},d.skipHydration||M(),T||S},zp=CE,gp={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"조자시/야자시",sinsalMode:"classic",sinsalBase:"일지",sinsalBloom:!1,exposure:"원국",charType:"한자",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,theme:"dark",sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility"]},ir=Xc()(zp((t,r)=>({settings:gp,setSettings:a=>t({settings:a}),setKey:(a,s)=>t({settings:{...r().settings,[a]:s}}),reset:()=>t({settings:gp})}),{name:"settings_v1"}));function bp(t){const r=qn.indexOf(t);if(r!==-1)return qn[r];const a=Mr.천간.indexOf(t);return a!==-1?qn[a]:null}function p1(t){const r=rr.indexOf(t);if(r!==-1)return rr[r];const a=Mr.지지.indexOf(t);return a!==-1?rr[a]:null}function Mv(t,r){if(r?.difficultyMode)return r?.theme==="light"?"bg-white border border-gray-300 text-gray-800 text-black":"bg-white text-black";switch(t){case"목":return"bg-green-600";case"화":return"bg-red-600";case"토":return"bg-yellow-500";case"금":return"bg-gray-400";case"수":return"bg-black";default:return"bg-neutral-700"}}function Er(t,r,a){if(r==="stem"){const s=bp(t);if(!s)return console.warn("Invalid stem:",t),"bg-neutral-700";const u=qn.indexOf(s),d=u>=0?fE[u]:void 0;return Mv(d,a)}else{const s=p1(t);if(!s)return console.warn("Invalid branch:",t),"bg-neutral-700";const u=rr.indexOf(s),d=u>=0?hE[u]:void 0;return Mv(d,a)}}function Yn(t,r){const a=bp(t);if(!a)throw new Error(`getSipSin: invalid dayStem ${t}`);if(r.stem){const s=bp(r.stem);if(!s)throw new Error(`getSipSin: invalid stem ${r.stem}`);return gE[a][s]}if(r.branch){const s=p1(r.branch);if(!s)throw new Error(`getSipSin: invalid branch ${r.branch}`);return bE[a][s]}throw new Error("getSipSin: stem or branch required")}const Qf={자:["임","(-)","계"],축:["계","신","기"],인:["무","병","갑"],묘:["갑","(-)","을"],진:["을","계","무"],사:["무","경","병"],오:["병","기","정"],미:["정","을","기"],신:["무","임","경"],유:["경","(-)","신"],술:["신","정","무"],해:["무","갑","임"]},Jf={자:["(-)","(-)","계"],축:["계","신","기"],인:["(-)","병","갑"],묘:["(-)","(-)","을"],진:["을","계","무"],사:["(-)","경","병"],오:["(-)","(-)","정"],미:["정","을","기"],신:["(-)","임","경"],유:["(-)","(-)","신"],술:["신","정","무"],해:["(-)","갑","임"]};function kc({branch:t,dayStem:r,mode:a="all",mapping:s="classic",variant:u="auto",isUnknownTime:d=!1}){const f=(s==="hgc"?Jf:Qf)[t]??[],p=a==="main"?[f[2]]:f,b=u==="white",g=b?"text-white":"text-neutral-800 dark:text-white",_=b?"border-white":"border-neutral-800 dark: border-neutral-200",x=b?"text-yellow-900":"text-red-600 dark:text-yellow-300";return y.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:p.map((S,T)=>S==="(-)"||d?y.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${_} ${g} rounded text-center text-nowrap`,children:"(-) (없음)"},T):y.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${_} ${g} rounded text-center text-nowrap 
            ${a==="main"||T===2?`jeonggi bg-neutral-500/50 ${x} font-bold`:""}`,children:[S," (",Yn(r,{stem:S}),")"]},T))})}const tl=Xc(t=>({manualHour:null,setManualHour:r=>t({manualHour:r}),clearManualHour:()=>t({manualHour:null})})),$p={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},g1=Object.fromEntries(Object.entries($p).map(([t,r])=>[r,t])),Hp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},b1=Object.fromEntries(Object.entries(Hp).map(([t,r])=>[r,t]));function Nv(t){return Ur.천간.includes(t)}function Av(t){return Ur.지지.includes(t)}function LE(t){return Mr.천간.includes(t)}function BE(t){return Mr.지지.includes(t)}function Dv(t,r,a){return a==="한글"?r==="stem"?$p[t]??t:Hp[t]??t:r==="stem"?g1[t]??t:b1[t]??t}function jv(t){const r=g1[t]??t;return LE(r)?r:"갑"}function RE(t){const r=b1[t]??t;return BE(r)?r:"자"}function PE(t){if(Nv(t))return t;const r=$p[t]??t;return Nv(r)?r:"갑"}function zE(t){if(Av(t))return t;const r=Hp[t]??t;return Av(r)?r:"자"}const $E=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),HE=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]),IE=t=>$E.has(t),GE=t=>HE.has(t);function Fs({label:t,gz:r,dayStem:a,settings:s,unseongText:u,shinsalText:d,hideBranchSipSin:f=!0,hideHiddenStems:p=!1,size:b="sm",variant:g="auto",isUnknownTime:_=!1}){const{manualHour:x}=tl(),S=_&&!x,T=r.charAt(0),M=r.charAt(1),D=Dv(T,"stem",s.charType),A=Dv(M,"branch",s.charType),$=jv(T),P=RE(M),j=jv(a),B=zE(M),O=PE(a),Y=s.showSipSin?Yn(j,{stem:$}):null,et=!f&&s.showSipSin?Yn(j,{branch:P}):null,it=s.thinEum&&IE(T)?"font-thin":"font-bold",V=s.thinEum&&GE(M)?"font-thin":"font-bold",X={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},q=!p&&!!s.hiddenStem,U=s.hiddenStem==="regular"?"main":"all",J=s.hiddenStemMode==="hgc"?"hgc":"classic",rt=g==="white",ct=rt?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",I=rt?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",at=rt?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",st=rt?"text-neutral-500":"text-neutral-400",xt=rt?"text-neutral-500":"text-neutral-400",{settings:k}=ir(),H=S?`bg-white ${at}`:`${Er($,"stem",k)} ${at}`,F=S?`bg-white ${at}`:`${Er(P,"branch",k)} ${at}`,tt=S?"text-black":k.difficultyMode?k.theme==="light"?"text-neutral-900":"text-black":"text-white",K=S?"text-black":k.difficultyMode?k.theme==="light"?"text-neutral-900":"text-black":"text-white";return y.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${ct}`,children:[y.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${I} text-nowrap`,children:t}),y.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[Y&&y.jsx("div",{className:`text-[10px] desk:text-xs ${st} text-nowrap`,children:_&&!x?"-":Y}),y.jsx("div",{className:`${X[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${H}`,children:y.jsx("span",{className:`text-2xl md:text-3xl ${tt} ${it}`,children:S?"-":D})}),y.jsx("div",{className:`${X[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${F}`,children:y.jsx("span",{className:`text-2xl md:text-3xl ${K} ${V}`,children:S?"-":A})}),q&&y.jsx(kc,{branch:B,dayStem:O,mode:U,mapping:J,isUnknownTime:_&&!x&&(t==="시주"||t==="일주")}),et&&y.jsx("div",{className:`text-[10px] desk:text-xs ${xt}`,children:_&&!x?"-":et}),s.showSibiUnseong&&y.jsx("div",{className:`text-[10px] desk:text-xs ${xt} text-nowrap`,children:_&&!x?"-":u||""}),s.showSibiSinsal&&y.jsx("div",{className:`text-[10px] desk:text-xs ${xt} text-nowrap`,children:_&&!x?"-":d||""})]})]})}const UE=new Set(Mr.천간);function ZE(t){return Xf.has(t)?t:UE.has(t)?Wf[t]:"갑"}function YE({label:t,settings:r,hideBranchSipSin:a=!0}){const s=r.showSipSin,u=!!r.hiddenStem,f=(r.hiddenStem==="regular"?"main":"all")==="main"?1:3,p=r.showSipSin&&!a;return y.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[y.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:t}),y.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[s&&y.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),y.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:y.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),y.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:y.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),u&&y.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:f}).map((b,g)=>y.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},g))}),p&&y.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function qE(){const t=ir(M=>M.settings),[r,a]=C.useState(new Date),[s,u]=C.useState(!0),[d,f]=C.useState("자시"),[p,b]=C.useState(!1);C.useEffect(()=>{if(!s)return;const M=setInterval(()=>a(new Date),1e3);return()=>clearInterval(M)},[s]);const g=le(r),_=Me(r),x=se(r,d),S=Yr(r,"자시"),T=ZE(x.charAt(0));return y.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:y.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[y.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[y.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:["오늘의 사주"," ",y.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",s?"실시간":"수동선택",") ",KE(r)]})]}),y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsxs("select",{value:d,onChange:M=>f(M.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[y.jsx("option",{value:"자시",children:"야자시 (전날 23시)"}),y.jsx("option",{value:"조자시/야자시",children:"조자시/야자시 (자정)"}),y.jsx("option",{value:"인시",children:"인시 (새벽 3시)"})]}),y.jsx("button",{onClick:()=>u(!s),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:s?"피커 사용":"타이머 사용"})]})]}),y.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[p?y.jsx(YE,{label:"시주",settings:t,hideBranchSipSin:!0}):y.jsx(Fs,{label:"시주",gz:S,dayStem:T,settings:t,hideBranchSipSin:!0}),y.jsx(Fs,{label:"일주",gz:x,dayStem:T,settings:t,hideBranchSipSin:!0}),y.jsx(Fs,{label:"월주",gz:_,dayStem:T,settings:t,hideBranchSipSin:!0}),y.jsx(Fs,{label:"연주",gz:g,dayStem:T,settings:t,hideBranchSipSin:!0})]}),y.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[y.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"날짜/시간 선택"}),y.jsx("input",{type:"datetime-local",value:FE(r),disabled:s,onChange:M=>{const D=VE(M.target.value);D&&a(D)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),y.jsx("button",{onClick:()=>b(M=>!M),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${p?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"시주 글자를 비우고 박스를 흰색으로 표시합니다",children:p?"시주 표시":"시주 비우기"})]})]})})}function FE(t){const r=a=>a.toString().padStart(2,"0");return`${t.getFullYear()}-${r(t.getMonth()+1)}-${r(t.getDate())}T${r(t.getHours())}:${r(t.getMinutes())}`}function VE(t){if(!t)return null;const[r,a]=t.split("T");if(!r||!a)return null;const[s,u,d]=r.split("-").map(Number),[f,p]=a.split(":").map(Number),b=new Date(s,u-1,d,f,p);return Number.isNaN(b.getTime())?null:b}function KE(t){const r=a=>a.toString().padStart(2,"0");return`${r(t.getHours())}:${r(t.getMinutes())}:${r(t.getSeconds())}`}const wn=[];for(let t=0;t<256;++t)wn.push((t+256).toString(16).slice(1));function XE(t,r=0){return(wn[t[r+0]]+wn[t[r+1]]+wn[t[r+2]]+wn[t[r+3]]+"-"+wn[t[r+4]]+wn[t[r+5]]+"-"+wn[t[r+6]]+wn[t[r+7]]+"-"+wn[t[r+8]]+wn[t[r+9]]+"-"+wn[t[r+10]]+wn[t[r+11]]+wn[t[r+12]]+wn[t[r+13]]+wn[t[r+14]]+wn[t[r+15]]).toLowerCase()}let m0;const WE=new Uint8Array(16);function QE(){if(!m0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");m0=crypto.getRandomValues.bind(crypto)}return m0(WE)}const JE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kv={randomUUID:JE};function y1(t,r,a){if(kv.randomUUID&&!t)return kv.randomUUID();t=t||{};const s=t.random??t.rng?.()??QE();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,XE(s)}var Oc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var tM=Oc.exports,Ov;function eM(){return Ov||(Ov=1,(function(t,r){(function(a,s){s(r)})(tM,(function(a){var s="1.9.4";function u(i){var l,h,w,E;for(h=1,w=arguments.length;h<w;h++){E=arguments[h];for(l in E)i[l]=E[l]}return i}var d=Object.create||(function(){function i(){}return function(l){return i.prototype=l,new i}})();function f(i,l){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var w=h.call(arguments,2);return function(){return i.apply(l,w.length?w.concat(h.call(arguments)):arguments)}}var p=0;function b(i){return"_leaflet_id"in i||(i._leaflet_id=++p),i._leaflet_id}function g(i,l,h){var w,E,R,W;return W=function(){w=!1,E&&(R.apply(h,E),E=!1)},R=function(){w?E=arguments:(i.apply(h,arguments),setTimeout(W,l),w=!0)},R}function _(i,l,h){var w=l[1],E=l[0],R=w-E;return i===w&&h?i:((i-E)%R+R)%R+E}function x(){return!1}function S(i,l){if(l===!1)return i;var h=Math.pow(10,l===void 0?6:l);return Math.round(i*h)/h}function T(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function M(i){return T(i).split(/\s+/)}function D(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?d(i.options):{});for(var h in l)i.options[h]=l[h];return i.options}function A(i,l,h){var w=[];for(var E in i)w.push(encodeURIComponent(h?E.toUpperCase():E)+"="+encodeURIComponent(i[E]));return(!l||l.indexOf("?")===-1?"?":"&")+w.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function P(i,l){return i.replace($,function(h,w){var E=l[w];if(E===void 0)throw new Error("No value provided for variable "+h);return typeof E=="function"&&(E=E(l)),E})}var j=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function B(i,l){for(var h=0;h<i.length;h++)if(i[h]===l)return h;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var et=0;function it(i){var l=+new Date,h=Math.max(0,16-(l-et));return et=l+h,window.setTimeout(i,h)}var V=window.requestAnimationFrame||Y("RequestAnimationFrame")||it,X=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function q(i,l,h){if(h&&V===it)i.call(l);else return V.call(window,f(i,l))}function U(i){i&&X.call(window,i)}var J={__proto__:null,extend:u,create:d,bind:f,get lastId(){return p},stamp:b,throttle:g,wrapNum:_,falseFn:x,formatNum:S,trim:T,splitWords:M,setOptions:D,getParamString:A,template:P,isArray:j,indexOf:B,emptyImageUrl:O,requestFn:V,cancelFn:X,requestAnimFrame:q,cancelAnimFrame:U};function rt(){}rt.extend=function(i){var l=function(){D(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,w=d(h);w.constructor=l,l.prototype=w;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(l[E]=this[E]);return i.statics&&u(l,i.statics),i.includes&&(ct(i.includes),u.apply(null,[w].concat(i.includes))),u(w,i),delete w.statics,delete w.includes,w.options&&(w.options=h.options?d(h.options):{},u(w.options,i.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,W=w._initHooks.length;R<W;R++)w._initHooks[R].call(this)}},l},rt.include=function(i){var l=this.prototype.options;return u(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},rt.mergeOptions=function(i){return u(this.prototype.options,i),this},rt.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function ct(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=j(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var I={on:function(i,l,h){if(typeof i=="object")for(var w in i)this._on(w,i[w],l);else{i=M(i);for(var E=0,R=i.length;E<R;E++)this._on(i[E],l,h)}return this},off:function(i,l,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var w in i)this._off(w,i[w],l);else{i=M(i);for(var E=arguments.length===1,R=0,W=i.length;R<W;R++)E?this._off(i[R]):this._off(i[R],l,h)}return this},_on:function(i,l,h,w){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,h)===!1){h===this&&(h=void 0);var E={fn:l,ctx:h};w&&(E.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(E)}},_off:function(i,l,h){var w,E,R;if(this._events&&(w=this._events[i],!!w)){if(arguments.length===1){if(this._firingCount)for(E=0,R=w.length;E<R;E++)w[E].fn=x;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var W=this._listens(i,l,h);if(W!==!1){var ut=w[W];this._firingCount&&(ut.fn=x,this._events[i]=w=w.slice()),w.splice(W,1)}}},fire:function(i,l,h){if(!this.listens(i,h))return this;var w=u({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var E=this._events[i];if(E){this._firingCount=this._firingCount+1||1;for(var R=0,W=E.length;R<W;R++){var ut=E[R],yt=ut.fn;ut.once&&this.off(i,yt,ut.ctx),yt.call(ut.ctx||this,w)}this._firingCount--}}return h&&this._propagateEvent(w),this},listens:function(i,l,h,w){typeof i!="string"&&console.warn('"string" type argument expected');var E=l;typeof l!="function"&&(w=!!l,E=void 0,h=void 0);var R=this._events&&this._events[i];if(R&&R.length&&this._listens(i,E,h)!==!1)return!0;if(w){for(var W in this._eventParents)if(this._eventParents[W].listens(i,l,h,w))return!0}return!1},_listens:function(i,l,h){if(!this._events)return!1;var w=this._events[i]||[];if(!l)return!!w.length;h===this&&(h=void 0);for(var E=0,R=w.length;E<R;E++)if(w[E].fn===l&&w[E].ctx===h)return E;return!1},once:function(i,l,h){if(typeof i=="object")for(var w in i)this._on(w,i[w],l,!0);else{i=M(i);for(var E=0,R=i.length;E<R;E++)this._on(i[E],l,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[b(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[b(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,u({layer:i.target,propagatedFrom:i.target},i),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var at=rt.extend(I);function st(i,l,h){this.x=h?Math.round(i):i,this.y=h?Math.round(l):l}var xt=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};st.prototype={clone:function(){return new st(this.x,this.y)},add:function(i){return this.clone()._add(k(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(k(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new st(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new st(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=xt(this.x),this.y=xt(this.y),this},distanceTo:function(i){i=k(i);var l=i.x-this.x,h=i.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(i){return i=k(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=k(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function k(i,l,h){return i instanceof st?i:j(i)?new st(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new st(i.x,i.y):new st(i,l,h)}function H(i,l){if(i)for(var h=l?[i,l]:i,w=0,E=h.length;w<E;w++)this.extend(h[w])}H.prototype={extend:function(i){var l,h;if(!i)return this;if(i instanceof st||typeof i[0]=="number"||"x"in i)l=h=k(i);else if(i=F(i),l=i.min,h=i.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,h;return typeof i[0]=="number"||i instanceof st?i=k(i):i=F(i),i instanceof H?(l=i.min,h=i.max):l=h=i,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=F(i);var l=this.min,h=this.max,w=i.min,E=i.max,R=E.x>=l.x&&w.x<=h.x,W=E.y>=l.y&&w.y<=h.y;return R&&W},overlaps:function(i){i=F(i);var l=this.min,h=this.max,w=i.min,E=i.max,R=E.x>l.x&&w.x<h.x,W=E.y>l.y&&w.y<h.y;return R&&W},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,h=this.max,w=Math.abs(l.x-h.x)*i,E=Math.abs(l.y-h.y)*i;return F(k(l.x-w,l.y-E),k(h.x+w,h.y+E))},equals:function(i){return i?(i=F(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function F(i,l){return!i||i instanceof H?i:new H(i,l)}function tt(i,l){if(i)for(var h=l?[i,l]:i,w=0,E=h.length;w<E;w++)this.extend(h[w])}tt.prototype={extend:function(i){var l=this._southWest,h=this._northEast,w,E;if(i instanceof G)w=i,E=i;else if(i instanceof tt){if(w=i._southWest,E=i._northEast,!w||!E)return this}else return i?this.extend(Z(i)||K(i)):this;return!l&&!h?(this._southWest=new G(w.lat,w.lng),this._northEast=new G(E.lat,E.lng)):(l.lat=Math.min(w.lat,l.lat),l.lng=Math.min(w.lng,l.lng),h.lat=Math.max(E.lat,h.lat),h.lng=Math.max(E.lng,h.lng)),this},pad:function(i){var l=this._southWest,h=this._northEast,w=Math.abs(l.lat-h.lat)*i,E=Math.abs(l.lng-h.lng)*i;return new tt(new G(l.lat-w,l.lng-E),new G(h.lat+w,h.lng+E))},getCenter:function(){return new G((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new G(this.getNorth(),this.getWest())},getSouthEast:function(){return new G(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof G||"lat"in i?i=Z(i):i=K(i);var l=this._southWest,h=this._northEast,w,E;return i instanceof tt?(w=i.getSouthWest(),E=i.getNorthEast()):w=E=i,w.lat>=l.lat&&E.lat<=h.lat&&w.lng>=l.lng&&E.lng<=h.lng},intersects:function(i){i=K(i);var l=this._southWest,h=this._northEast,w=i.getSouthWest(),E=i.getNorthEast(),R=E.lat>=l.lat&&w.lat<=h.lat,W=E.lng>=l.lng&&w.lng<=h.lng;return R&&W},overlaps:function(i){i=K(i);var l=this._southWest,h=this._northEast,w=i.getSouthWest(),E=i.getNorthEast(),R=E.lat>l.lat&&w.lat<h.lat,W=E.lng>l.lng&&w.lng<h.lng;return R&&W},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=K(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function K(i,l){return i instanceof tt?i:new tt(i,l)}function G(i,l,h){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,h!==void 0&&(this.alt=+h)}G.prototype={equals:function(i,l){if(!i)return!1;i=Z(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+S(this.lat,i)+", "+S(this.lng,i)+")"},distanceTo:function(i){return vt.distance(this,Z(i))},wrap:function(){return vt.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,h=l/Math.cos(Math.PI/180*this.lat);return K([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new G(this.lat,this.lng,this.alt)}};function Z(i,l,h){return i instanceof G?i:j(i)&&typeof i[0]!="object"?i.length===3?new G(i[0],i[1],i[2]):i.length===2?new G(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new G(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new G(i,l,h)}var mt={latLngToPoint:function(i,l){var h=this.projection.project(i),w=this.scale(l);return this.transformation._transform(h,w)},pointToLatLng:function(i,l){var h=this.scale(l),w=this.transformation.untransform(i,h);return this.projection.unproject(w)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(i),w=this.transformation.transform(l.min,h),E=this.transformation.transform(l.max,h);return new H(w,E)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?_(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?_(i.lat,this.wrapLat,!0):i.lat,w=i.alt;return new G(h,l,w)},wrapLatLngBounds:function(i){var l=i.getCenter(),h=this.wrapLatLng(l),w=l.lat-h.lat,E=l.lng-h.lng;if(w===0&&E===0)return i;var R=i.getSouthWest(),W=i.getNorthEast(),ut=new G(R.lat-w,R.lng-E),yt=new G(W.lat-w,W.lng-E);return new tt(ut,yt)}},vt=u({},mt,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var h=Math.PI/180,w=i.lat*h,E=l.lat*h,R=Math.sin((l.lat-i.lat)*h/2),W=Math.sin((l.lng-i.lng)*h/2),ut=R*R+Math.cos(w)*Math.cos(E)*W*W,yt=2*Math.atan2(Math.sqrt(ut),Math.sqrt(1-ut));return this.R*yt}}),ot=6378137,St={R:ot,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,h=this.MAX_LATITUDE,w=Math.max(Math.min(h,i.lat),-h),E=Math.sin(w*l);return new st(this.R*i.lng*l,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(i){var l=180/Math.PI;return new G((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:(function(){var i=ot*Math.PI;return new H([-i,-i],[i,i])})()};function Ct(i,l,h,w){if(j(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=h,this._d=w}Ct.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new st((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function At(i,l,h,w){return new Ct(i,l,h,w)}var jt=u({},vt,{code:"EPSG:3857",projection:St,transformation:(function(){var i=.5/(Math.PI*St.R);return At(i,.5,-i,.5)})()}),Tt=u({},jt,{code:"EPSG:900913"});function Bt(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function It(i,l){var h="",w,E,R,W,ut,yt;for(w=0,R=i.length;w<R;w++){for(ut=i[w],E=0,W=ut.length;E<W;E++)yt=ut[E],h+=(E?"L":"M")+yt.x+" "+yt.y;h+=l?Ht.svg?"z":"x":""}return h||"M0 0"}var Yt=document.documentElement.style,Dt="ActiveXObject"in window,dt=Dt&&!document.addEventListener,Ot="msLaunchUri"in navigator&&!("documentMode"in document),bt=Wn("webkit"),qt=Wn("android"),be=Wn("android 2")||Wn("android 3"),ce=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Zt=qt&&Wn("Google")&&ce<537&&!("AudioNode"in window),_e=!!window.opera,Pe=!Ot&&Wn("chrome"),nn=Wn("gecko")&&!bt&&!_e&&!Dt,ze=!Pe&&Wn("safari"),Ni=Wn("phantom"),di="OTransition"in Yt,sa=navigator.platform.indexOf("Win")===0,Fr=Dt&&"transition"in Yt,Vn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!be,gn="MozPerspective"in Yt,Vr=!window.L_DISABLE_3D&&(Fr||Vn||gn)&&!di&&!Ni,Kn=typeof orientation<"u"||Wn("mobile"),pl=Kn&&bt,oo=Kn&&Vn,Kr=!window.PointerEvent&&window.MSPointerEvent,Xn=!!(window.PointerEvent||Kr),Ai="ontouchstart"in window||!!window.TouchEvent,gl=!window.L_NO_TOUCH&&(Ai||Xn),so=Kn&&_e,su=Kn&&nn,bl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yl=(function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",x,l),window.removeEventListener("testPassiveEventSupport",x,l)}catch{}return i})(),lu=(function(){return!!document.createElement("canvas").getContext})(),vl=!!(document.createElementNS&&Bt("svg").createSVGRect),fi=!!vl&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ln=!vl&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),En=navigator.platform.indexOf("Mac")===0,la=navigator.platform.indexOf("Linux")===0;function Wn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Ht={ie:Dt,ielt9:dt,edge:Ot,webkit:bt,android:qt,android23:be,androidStock:Zt,opera:_e,chrome:Pe,gecko:nn,safari:ze,phantom:Ni,opera12:di,win:sa,ie3d:Fr,webkit3d:Vn,gecko3d:gn,any3d:Vr,mobile:Kn,mobileWebkit:pl,mobileWebkit3d:oo,msPointer:Kr,pointer:Xn,touch:gl,touchNative:Ai,mobileOpera:so,mobileGecko:su,retina:bl,passiveEvents:yl,canvas:lu,svg:vl,vml:ln,inlineSvg:fi,mac:En,linux:la},cu=Ht.msPointer?"MSPointerDown":"pointerdown",xl=Ht.msPointer?"MSPointerMove":"pointermove",ca=Ht.msPointer?"MSPointerUp":"pointerup",ts=Ht.msPointer?"MSPointerCancel":"pointercancel",hi={touchstart:cu,touchmove:xl,touchend:ca,touchcancel:ts},Di={touchstart:fu,touchmove:lo,touchend:lo,touchcancel:lo},Nr={},ji=!1;function Je(i,l,h){return l==="touchstart"&&bh(),Di[l]?(h=Di[l].bind(this,h),i.addEventListener(hi[l],h,!1),h):(console.warn("wrong event specified:",l),x)}function uu(i,l,h){if(!hi[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(hi[l],h,!1)}function du(i){Nr[i.pointerId]=i}function ki(i){Nr[i.pointerId]&&(Nr[i.pointerId]=i)}function Oi(i){delete Nr[i.pointerId]}function bh(){ji||(document.addEventListener(cu,du,!0),document.addEventListener(xl,ki,!0),document.addEventListener(ca,Oi,!0),document.addEventListener(ts,Oi,!0),ji=!0)}function lo(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Nr)l.touches.push(Nr[h]);l.changedTouches=[l],i(l)}}function fu(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Ve(l),lo(i,l)}function yh(i){var l={},h,w;for(w in i)h=i[w],l[w]=h&&h.bind?h.bind(i):h;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var es=200;function ns(i,l){i.addEventListener("dblclick",l);var h=0,w;function E(R){if(R.detail!==1){w=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var W=wl(R);if(!(W.some(function(yt){return yt instanceof HTMLLabelElement&&yt.attributes.for})&&!W.some(function(yt){return yt instanceof HTMLInputElement||yt instanceof HTMLSelectElement}))){var ut=Date.now();ut-h<=es?(w++,w===2&&l(yh(R))):w=1,h=ut}}}return i.addEventListener("click",E),{dblclick:l,simDblclick:E}}function Xr(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var co=ha(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ua=ha(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ci=ua==="webkitTransition"||ua==="OTransition"?ua+"End":"transitionend";function rs(i){return typeof i=="string"?document.getElementById(i):i}function Li(i,l){var h=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(i,null);h=w?w[l]:null}return h==="auto"?null:h}function ue(i,l,h){var w=document.createElement(i);return w.className=l||"",h&&h.appendChild(w),w}function De(i){var l=i.parentNode;l&&l.removeChild(i)}function bn(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Bi(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function da(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function fa(i,l){if(i.classList!==void 0)return i.classList.contains(l);var h=yn(i);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Jt(i,l){if(i.classList!==void 0)for(var h=M(l),w=0,E=h.length;w<E;w++)i.classList.add(h[w]);else if(!fa(i,l)){var R=yn(i);_l(i,(R?R+" ":"")+l)}}function je(i,l){i.classList!==void 0?i.classList.remove(l):_l(i,T((" "+yn(i)+" ").replace(" "+l+" "," ")))}function _l(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function yn(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Mn(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&hu(i,l)}function hu(i,l){var h=!1,w="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(w)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):i.style.filter+=" progid:"+w+"(opacity="+l+")"}function ha(i){for(var l=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in l)return i[h];return!1}function Qn(i,l,h){var w=l||new st(0,0);i.style[co]=(Ht.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(h?" scale("+h+")":"")}function Ue(i,l){i._leaflet_pos=l,Ht.any3d?Qn(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function mi(i){return i._leaflet_pos||new st(0,0)}var Ar,uo,is;if("onselectstart"in document)Ar=function(){Qt(window,"selectstart",Ve)},uo=function(){me(window,"selectstart",Ve)};else{var ma=ha(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ar=function(){if(ma){var i=document.documentElement.style;is=i[ma],i[ma]="none"}},uo=function(){ma&&(document.documentElement.style[ma]=is,is=void 0)}}function fo(){Qt(window,"dragstart",Ve)}function Sl(){me(window,"dragstart",Ve)}var as,pa;function ho(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(ga(),as=i,pa=i.style.outlineStyle,i.style.outlineStyle="none",Qt(window,"keydown",ga))}function ga(){as&&(as.style.outlineStyle=pa,as=void 0,pa=void 0,me(window,"keydown",ga))}function Ri(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function pi(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var mu={__proto__:null,TRANSFORM:co,TRANSITION:ua,TRANSITION_END:Ci,get:rs,getStyle:Li,create:ue,remove:De,empty:bn,toFront:Bi,toBack:da,hasClass:fa,addClass:Jt,removeClass:je,setClass:_l,getClass:yn,setOpacity:Mn,testProp:ha,setTransform:Qn,setPosition:Ue,getPosition:mi,get disableTextSelection(){return Ar},get enableTextSelection(){return uo},disableImageDrag:fo,enableImageDrag:Sl,preventOutline:ho,restoreOutline:ga,getSizedParentNode:Ri,getScale:pi};function Qt(i,l,h,w){if(l&&typeof l=="object")for(var E in l)Pi(i,E,l[E],h);else{l=M(l);for(var R=0,W=l.length;R<W;R++)Pi(i,l[R],h,w)}return this}var ar="_leaflet_events";function me(i,l,h,w){if(arguments.length===1)Dr(i),delete i[ar];else if(l&&typeof l=="object")for(var E in l)jr(i,E,l[E],h);else if(l=M(l),arguments.length===2)Dr(i,function(ut){return B(l,ut)!==-1});else for(var R=0,W=l.length;R<W;R++)jr(i,l[R],h,w);return this}function Dr(i,l){for(var h in i[ar]){var w=h.split(/\d/)[0];(!l||l(w))&&jr(i,w,null,null,h)}}var mo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pi(i,l,h,w){var E=l+b(h)+(w?"_"+b(w):"");if(i[ar]&&i[ar][E])return this;var R=function(ut){return h.call(w||i,ut||window.event)},W=R;!Ht.touchNative&&Ht.pointer&&l.indexOf("touch")===0?R=Je(i,l,R):Ht.touch&&l==="dblclick"?R=ns(i,R):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(mo[l]||l,R,Ht.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(R=function(ut){ut=ut||window.event,$i(i,ut)&&W(ut)},i.addEventListener(mo[l],R,!1)):i.addEventListener(l,W,!1):i.attachEvent("on"+l,R),i[ar]=i[ar]||{},i[ar][E]=R}function jr(i,l,h,w,E){E=E||l+b(h)+(w?"_"+b(w):"");var R=i[ar]&&i[ar][E];if(!R)return this;!Ht.touchNative&&Ht.pointer&&l.indexOf("touch")===0?uu(i,l,R):Ht.touch&&l==="dblclick"?Xr(i,R):"removeEventListener"in i?i.removeEventListener(mo[l]||l,R,!1):i.detachEvent("on"+l,R),i[ar][E]=null}function Wr(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function ba(i){return Pi(i,"wheel",Wr),this}function ya(i){return Qt(i,"mousedown touchstart dblclick contextmenu",Wr),i._leaflet_disable_click=!0,this}function Ve(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function kr(i){return Ve(i),Wr(i),this}function wl(i){if(i.composedPath)return i.composedPath();for(var l=[],h=i.target;h;)l.push(h),h=h.parentNode;return l}function vn(i,l){if(!l)return new st(i.clientX,i.clientY);var h=pi(l),w=h.boundingClientRect;return new st((i.clientX-w.left)/h.x-l.clientLeft,(i.clientY-w.top)/h.y-l.clientTop)}var zi=Ht.linux&&Ht.chrome?window.devicePixelRatio:Ht.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function po(i){return Ht.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/zi:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function $i(i,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var vh={__proto__:null,on:Qt,off:me,stopPropagation:Wr,disableScrollPropagation:ba,disableClickPropagation:ya,preventDefault:Ve,stop:kr,getPropagationPath:wl,getMousePosition:vn,getWheelDelta:po,isExternalTarget:$i,addListener:Qt,removeListener:me},os=at.extend({run:function(i,l,h,w){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=mi(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var h=this._startPos.add(this._offset.multiplyBy(i));l&&h._round(),Ue(this._el,h),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),ne=at.extend({options:{crs:jt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=D(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(Z(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ua&&Ht.any3d&&!Ht.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qt(this._proxy,Ci,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(Z(i),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=u({animate:h.animate},h.zoom),h.pan=u({animate:h.animate,duration:h.duration},h.pan));var w=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,h.zoom):this._tryAnimatedPan(i,h.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(Ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(Ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,h){var w=this.getZoomScale(l),E=this.getSize().divideBy(2),R=i instanceof st?i:this.latLngToContainerPoint(i),W=R.subtract(E).multiplyBy(1-1/w),ut=this.containerPointToLatLng(E.add(W));return this.setView(ut,l,{zoom:h})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():K(i);var h=k(l.paddingTopLeft||l.padding||[0,0]),w=k(l.paddingBottomRight||l.padding||[0,0]),E=this.getBoundsZoom(i,!1,h.add(w));if(E=typeof l.maxZoom=="number"?Math.min(l.maxZoom,E):E,E===1/0)return{center:i.getCenter(),zoom:E};var R=w.subtract(h).divideBy(2),W=this.project(i.getSouthWest(),E),ut=this.project(i.getNorthEast(),E),yt=this.unproject(W.add(ut).divideBy(2).add(R),E);return{center:yt,zoom:E}},fitBounds:function(i,l){if(i=K(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=k(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new os,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Jt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,h){if(h=h||{},h.animate===!1||!Ht.any3d)return this.setView(i,l,h);this._stop();var w=this.project(this.getCenter()),E=this.project(i),R=this.getSize(),W=this._zoom;i=Z(i),l=l===void 0?W:l;var ut=Math.max(R.x,R.y),yt=ut*this.getZoomScale(W,l),Nt=E.distanceTo(w)||1,Rt=1.42,Pt=Rt*Rt;function $t($e){var Lr=$e?-1:1,ti=$e?yt:ut,xi=yt*yt-ut*ut+Lr*Pt*Pt*Nt*Nt,ei=2*ti*Pt*Nt,Ao=xi/ei,vs=Math.sqrt(Ao*Ao+1)-Ao,Do=vs<1e-9?-18:Math.log(vs);return Do}function Wt($e){return(Math.exp($e)-Math.exp(-$e))/2}function ke($e){return(Math.exp($e)+Math.exp(-$e))/2}function Ze($e){return Wt($e)/ke($e)}var un=$t(0);function Jn($e){return ut*(ke(un)/ke(un+Rt*$e))}function Cu($e){return ut*(ke(un)*Ze(un+Rt*$e)-Wt(un))/Pt}function Lu($e){return 1-Math.pow(1-$e,1.5)}var No=Date.now(),ja=($t(1)-un)/Rt,Bu=h.duration?1e3*h.duration:1e3*ja*.8;function ka(){var $e=(Date.now()-No)/Bu,Lr=Lu($e)*ja;$e<=1?(this._flyToFrame=q(ka,this),this._move(this.unproject(w.add(E.subtract(w).multiplyBy(Cu(Lr)/Nt)),W),this.getScaleZoom(ut/Jn(Lr),W),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),ka.call(this),this},flyToBounds:function(i,l){var h=this._getBoundsCenterZoom(i,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(i){return i=K(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var h=this.getCenter(),w=this._limitCenter(h,this._zoom,K(i));return h.equals(w)||this.panTo(w,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var h=k(l.paddingTopLeft||l.padding||[0,0]),w=k(l.paddingBottomRight||l.padding||[0,0]),E=this.project(this.getCenter()),R=this.project(i),W=this.getPixelBounds(),ut=F([W.min.add(h),W.max.subtract(w)]),yt=ut.getSize();if(!ut.contains(R)){this._enforcingBounds=!0;var Nt=R.subtract(ut.getCenter()),Rt=ut.extend(R).getSize().subtract(yt);E.x+=Nt.x<0?-Rt.x:Rt.x,E.y+=Nt.y<0?-Rt.y:Rt.y,this.panTo(this.unproject(E),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=u({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),w=l.divideBy(2).round(),E=h.divideBy(2).round(),R=w.subtract(E);return!R.x&&!R.y?this:(i.animate&&i.pan?this.panBy(R):(i.pan&&this._rawPanBy(R),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=u({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,i):navigator.geolocation.getCurrentPosition(l,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,h=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,h=i.coords.longitude,w=new G(l,h),E=w.toBounds(i.coords.accuracy*2),R=this._locateOptions;if(R.setView){var W=this.getBoundsZoom(E);this.setView(w,R.maxZoom?Math.min(W,R.maxZoom):W)}var ut={latlng:w,bounds:E,timestamp:i.timestamp};for(var yt in i.coords)typeof i.coords[yt]=="number"&&(ut[yt]=i.coords[yt]);this.fire("locationfound",ut)}},addHandler:function(i,l){if(!l)return this;var h=this[i]=new l(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),De(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)De(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),w=ue("div",h,l||this._mapPane);return i&&(this._panes[i]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new tt(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,h){i=K(i),h=k(h||[0,0]);var w=this.getZoom()||0,E=this.getMinZoom(),R=this.getMaxZoom(),W=i.getNorthWest(),ut=i.getSouthEast(),yt=this.getSize().subtract(h),Nt=F(this.project(ut,w),this.project(W,w)).getSize(),Rt=Ht.any3d?this.options.zoomSnap:1,Pt=yt.x/Nt.x,$t=yt.y/Nt.y,Wt=l?Math.max(Pt,$t):Math.min(Pt,$t);return w=this.getScaleZoom(Wt,w),Rt&&(w=Math.round(w/(Rt/100))*(Rt/100),w=l?Math.ceil(w/Rt)*Rt:Math.floor(w/Rt)*Rt),Math.max(E,Math.min(R,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new st(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var h=this._getTopLeftPoint(i,l);return new H(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(i)/h.scale(l)},getScaleZoom:function(i,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var w=h.zoom(i*h.scale(l));return isNaN(w)?1/0:w},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(Z(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(k(i),l)},layerPointToLatLng:function(i){var l=k(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(Z(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(Z(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(K(i))},distance:function(i,l){return this.options.crs.distance(Z(i),Z(l))},containerPointToLayerPoint:function(i){return k(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return k(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(k(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Z(i)))},mouseEventToContainerPoint:function(i){return vn(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=rs(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Qt(l,"scroll",this._onScroll,this),this._containerId=b(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ht.any3d,Jt(i,"leaflet-container"+(Ht.touch?" leaflet-touch":"")+(Ht.retina?" leaflet-retina":"")+(Ht.ielt9?" leaflet-oldie":"")+(Ht.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Li(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ue(this._mapPane,new st(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Jt(i.markerPane,"leaflet-zoom-hide"),Jt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,h){Ue(this._mapPane,new st(0,0));var w=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var E=this._zoom!==l;this._moveStart(E,h)._move(i,l)._moveEnd(E),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,h,w){l===void 0&&(l=this._zoom);var E=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),w?h&&h.pinch&&this.fire("zoom",h):((E||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Ue(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[b(this._container)]=this;var l=i?me:Qt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Ht.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var h=[],w,E=l==="mouseout"||l==="mouseover",R=i.target||i.srcElement,W=!1;R;){if(w=this._targets[b(R)],w&&(l==="click"||l==="preclick")&&this._draggableMoved(w)){W=!0;break}if(w&&w.listens(l,!0)&&(E&&!$i(R,i)||(h.push(w),E))||R===this._container)break;R=R.parentNode}return!h.length&&!W&&!E&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var h=i.type;h==="mousedown"&&ho(l),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,h){if(i.type==="click"){var w=u({},i);w.type="preclick",this._fireDOMEvent(w,w.type,h)}var E=this._findEventTargets(i,l);if(h){for(var R=[],W=0;W<h.length;W++)h[W].listens(l,!0)&&R.push(h[W]);E=R.concat(E)}if(E.length){l==="contextmenu"&&Ve(i);var ut=E[0],yt={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var Nt=ut.getLatLng&&(!ut._radius||ut._radius<=10);yt.containerPoint=Nt?this.latLngToContainerPoint(ut.getLatLng()):this.mouseEventToContainerPoint(i),yt.layerPoint=this.containerPointToLayerPoint(yt.containerPoint),yt.latlng=Nt?ut.getLatLng():this.layerPointToLatLng(yt.layerPoint)}for(W=0;W<E.length;W++)if(E[W].fire(l,yt,!0),yt.originalEvent._stopped||E[W].options.bubblingMouseEvents===!1&&B(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return mi(this._mapPane)||new st(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var h=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var h=this.getSize()._divideBy(2);return this.project(i,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,h){var w=this._getNewPixelOrigin(h,l);return this.project(i,l)._subtract(w)},_latLngBoundsToNewLayerBounds:function(i,l,h){var w=this._getNewPixelOrigin(h,l);return F([this.project(i.getSouthWest(),l)._subtract(w),this.project(i.getNorthWest(),l)._subtract(w),this.project(i.getSouthEast(),l)._subtract(w),this.project(i.getNorthEast(),l)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,h){if(!h)return i;var w=this.project(i,l),E=this.getSize().divideBy(2),R=new H(w.subtract(E),w.add(E)),W=this._getBoundsOffset(R,h,l);return Math.abs(W.x)<=1&&Math.abs(W.y)<=1?i:this.unproject(w.add(W),l)},_limitOffset:function(i,l){if(!l)return i;var h=this.getPixelBounds(),w=new H(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(w,l))},_getBoundsOffset:function(i,l,h){var w=F(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),E=w.min.subtract(i.min),R=w.max.subtract(i.max),W=this._rebound(E.x,-R.x),ut=this._rebound(E.y,-R.y);return new st(W,ut)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),h=this.getMaxZoom(),w=Ht.any3d?this.options.zoomSnap:1;return w&&(i=Math.round(i/w)*w),Math.max(l,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var h=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var i=this._proxy=ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var h=co,w=this._proxy.style[h];Qn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),w===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){De(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();Qn(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(l),E=this._getCenterOffset(i)._divideBy(1-1/w);return h.animate!==!0&&!this.getSize().contains(E)?!1:(q(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,h,w){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,Jt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function go(i,l){return new ne(i,l)}var Nn=rt.extend({options:{position:"topright"},initialize:function(i){D(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),h=this.getPosition(),w=i._controlCorners[h];return Jt(l,"leaflet-control"),h.indexOf("bottom")!==-1?w.insertBefore(l,w.firstChild):w.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(De(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),va=function(i){return new Nn(i)};ne.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",h=this._controlContainer=ue("div",l+"control-container",this._container);function w(E,R){var W=l+E+" "+l+R;i[E+R]=ue("div",W,h)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)De(this._controlCorners[i]);De(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pu=Nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,h,w){return h<w?-1:w<h?1:0}},initialize:function(i,l,h){D(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in i)this._addLayer(i[w],w);for(w in l)this._addLayer(l[w],w,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Nn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(b(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Jt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Jt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=ue("div",i),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ya(l),ba(l);var w=this._section=ue("section",i+"-list");h&&(this._map.on("click",this.collapse,this),Qt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=ue("a",i+"-toggle",l);E.href="#",E.title="Layers",E.setAttribute("role","button"),Qt(E,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Ve(R),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=ue("div",i+"-base",w),this._separator=ue("div",i+"-separator",w),this._overlaysList=ue("div",i+"-overlays",w),l.appendChild(w)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&b(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(w,E){return this.options.sortFunction(w.layer,E.layer,w.name,E.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;bn(this._baseLayersList),bn(this._overlaysList),this._layerControlInputs=[];var i,l,h,w,E=0;for(h=0;h<this._layers.length;h++)w=this._layers[h],this._addItem(w),l=l||w.overlay,i=i||!w.overlay,E+=w.overlay?0:1;return this.options.hideSingleBase&&(i=i&&E>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(b(i.target)),h=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(i,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=h,w.firstChild},_addItem:function(i){var l=document.createElement("label"),h=this._map.hasLayer(i.layer),w;i.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=h):w=this._createRadioElement("leaflet-base-layers_"+b(this),h),this._layerControlInputs.push(w),w.layerId=b(i.layer),Qt(w,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+i.name;var R=document.createElement("span");l.appendChild(R),R.appendChild(w),R.appendChild(E);var W=i.overlay?this._overlaysList:this._baseLayersList;return W.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,h,w=[],E=[];this._handlingClick=!0;for(var R=i.length-1;R>=0;R--)l=i[R],h=this._getLayer(l.layerId).layer,l.checked?w.push(h):l.checked||E.push(h);for(R=0;R<E.length;R++)this._map.hasLayer(E[R])&&this._map.removeLayer(E[R]);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])||this._map.addLayer(w[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,h,w=this._map.getZoom(),E=i.length-1;E>=0;E--)l=i[E],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&w<h.options.minZoom||h.options.maxZoom!==void 0&&w>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Qt(i,"click",Ve),this.expand();var l=this;setTimeout(function(){me(i,"click",Ve),l._preventClick=!1})}}),xh=function(i,l,h){return new pu(i,l,h)},Tl=Nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",h=ue("div",l+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,h,w,E){var R=ue("a",h,w);return R.innerHTML=i,R.href="#",R.title=l,R.setAttribute("role","button"),R.setAttribute("aria-label",l),ya(R),Qt(R,"click",kr),Qt(R,"click",E,this),Qt(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";je(this._zoomInButton,l),je(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Jt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Jt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});ne.mergeOptions({zoomControl:!0}),ne.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Tl,this.addControl(this.zoomControl))});var El=function(i){return new Tl(i)},gu=Nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",h=ue("div",l),w=this.options;return this._addScales(w,l+"-line",h),i.on(w.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,h){i.metric&&(this._mScale=ue("div",l,h)),i.imperial&&(this._iScale=ue("div",l,h))},_update:function(){var i=this._map,l=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/i)},_updateImperial:function(i){var l=i*3.2808399,h,w,E;l>5280?(h=l/5280,w=this._getRoundNum(h),this._updateScale(this._iScale,w+" mi",w/h)):(E=this._getRoundNum(l),this._updateScale(this._iScale,E+" ft",E/l))},_updateScale:function(i,l,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),h=i/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),_h=function(i){return new gu(i)},Sh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ml=Nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ht.inlineSvg?Sh+" ":"")+"Leaflet</a>"},initialize:function(i){D(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ue("div","leaflet-control-attribution"),ya(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});ne.mergeOptions({attributionControl:!0}),ne.addInitHook(function(){this.options.attributionControl&&new Ml().addTo(this)});var wh=function(i){return new Ml(i)};Nn.Layers=pu,Nn.Zoom=Tl,Nn.Scale=gu,Nn.Attribution=Ml,va.layers=xh,va.zoom=El,va.scale=_h,va.attribution=wh;var or=rt.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});or.addTo=function(i,l){return i.addHandler(l,this),this};var Th={Events:I},bu=Ht.touch?"touchstart mousedown":"mousedown",gi=at.extend({options:{clickTolerance:3},initialize:function(i,l,h,w){D(this,w),this._element=i,this._dragStartTarget=l||i,this._preventOutline=h},enable:function(){this._enabled||(Qt(this._dragStartTarget,bu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(gi._dragging===this&&this.finishDrag(!0),me(this._dragStartTarget,bu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!fa(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){gi._dragging===this&&this.finishDrag();return}if(!(gi._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(gi._dragging=this,this._preventOutline&&ho(this._element),fo(),Ar(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,h=Ri(this._element);this._startPoint=new st(l.clientX,l.clientY),this._startPos=mi(this._element),this._parentScale=pi(h);var w=i.type==="mousedown";Qt(document,w?"mousemove":"touchmove",this._onMove,this),Qt(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,h=new st(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Ve(i),this._moved||(this.fire("dragstart"),this._moved=!0,Jt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Jt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Ue(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){je(document.body,"leaflet-dragging"),this._lastTarget&&(je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),me(document,"mousemove touchmove",this._onMove,this),me(document,"mouseup touchend touchcancel",this._onUp,this),Sl(),uo();var l=this._moved&&this._moving;this._moving=!1,gi._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function yu(i,l,h){var w,E=[1,4,2,8],R,W,ut,yt,Nt,Rt,Pt,$t;for(R=0,Rt=i.length;R<Rt;R++)i[R]._code=Hi(i[R],l);for(ut=0;ut<4;ut++){for(Pt=E[ut],w=[],R=0,Rt=i.length,W=Rt-1;R<Rt;W=R++)yt=i[R],Nt=i[W],yt._code&Pt?Nt._code&Pt||($t=ls(Nt,yt,Pt,l,h),$t._code=Hi($t,l),w.push($t)):(Nt._code&Pt&&($t=ls(Nt,yt,Pt,l,h),$t._code=Hi($t,l),w.push($t)),w.push(yt));i=w}return i}function ss(i,l){var h,w,E,R,W,ut,yt,Nt,Rt;if(!i||i.length===0)throw new Error("latlngs not passed");cn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Pt=Z([0,0]),$t=K(i),Wt=$t.getNorthWest().distanceTo($t.getSouthWest())*$t.getNorthEast().distanceTo($t.getNorthWest());Wt<1700&&(Pt=Nl(i));var ke=i.length,Ze=[];for(h=0;h<ke;h++){var un=Z(i[h]);Ze.push(l.project(Z([un.lat-Pt.lat,un.lng-Pt.lng])))}for(ut=yt=Nt=0,h=0,w=ke-1;h<ke;w=h++)E=Ze[h],R=Ze[w],W=E.y*R.x-R.y*E.x,yt+=(E.x+R.x)*W,Nt+=(E.y+R.y)*W,ut+=W*3;ut===0?Rt=Ze[0]:Rt=[yt/ut,Nt/ut];var Jn=l.unproject(k(Rt));return Z([Jn.lat+Pt.lat,Jn.lng+Pt.lng])}function Nl(i){for(var l=0,h=0,w=0,E=0;E<i.length;E++){var R=Z(i[E]);l+=R.lat,h+=R.lng,w++}return Z([l/w,h/w])}var Eh={__proto__:null,clipPolygon:yu,polygonCenter:ss,centroid:Nl};function vu(i,l){if(!l||!i.length)return i.slice();var h=l*l;return i=Ah(i,h),i=Nh(i,h),i}function Al(i,l,h){return Math.sqrt(Ii(i,l,h,!0))}function Mh(i,l,h){return Ii(i,l,h)}function Nh(i,l){var h=i.length,w=typeof Uint8Array<"u"?Uint8Array:Array,E=new w(h);E[0]=E[h-1]=1,Dl(i,E,l,0,h-1);var R,W=[];for(R=0;R<h;R++)E[R]&&W.push(i[R]);return W}function Dl(i,l,h,w,E){var R=0,W,ut,yt;for(ut=w+1;ut<=E-1;ut++)yt=Ii(i[ut],i[w],i[E],!0),yt>R&&(W=ut,R=yt);R>h&&(l[W]=1,Dl(i,l,h,w,W),Dl(i,l,h,W,E))}function Ah(i,l){for(var h=[i[0]],w=1,E=0,R=i.length;w<R;w++)Dh(i[w],i[E])>l&&(h.push(i[w]),E=w);return E<R-1&&h.push(i[R-1]),h}var xu;function _u(i,l,h,w,E){var R=w?xu:Hi(i,h),W=Hi(l,h),ut,yt,Nt;for(xu=W;;){if(!(R|W))return[i,l];if(R&W)return!1;ut=R||W,yt=ls(i,l,ut,h,E),Nt=Hi(yt,h),ut===R?(i=yt,R=Nt):(l=yt,W=Nt)}}function ls(i,l,h,w,E){var R=l.x-i.x,W=l.y-i.y,ut=w.min,yt=w.max,Nt,Rt;return h&8?(Nt=i.x+R*(yt.y-i.y)/W,Rt=yt.y):h&4?(Nt=i.x+R*(ut.y-i.y)/W,Rt=ut.y):h&2?(Nt=yt.x,Rt=i.y+W*(yt.x-i.x)/R):h&1&&(Nt=ut.x,Rt=i.y+W*(ut.x-i.x)/R),new st(Nt,Rt,E)}function Hi(i,l){var h=0;return i.x<l.min.x?h|=1:i.x>l.max.x&&(h|=2),i.y<l.min.y?h|=4:i.y>l.max.y&&(h|=8),h}function Dh(i,l){var h=l.x-i.x,w=l.y-i.y;return h*h+w*w}function Ii(i,l,h,w){var E=l.x,R=l.y,W=h.x-E,ut=h.y-R,yt=W*W+ut*ut,Nt;return yt>0&&(Nt=((i.x-E)*W+(i.y-R)*ut)/yt,Nt>1?(E=h.x,R=h.y):Nt>0&&(E+=W*Nt,R+=ut*Nt)),W=i.x-E,ut=i.y-R,w?W*W+ut*ut:new st(E,R)}function cn(i){return!j(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Su(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),cn(i)}function jl(i,l){var h,w,E,R,W,ut,yt,Nt;if(!i||i.length===0)throw new Error("latlngs not passed");cn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Rt=Z([0,0]),Pt=K(i),$t=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());$t<1700&&(Rt=Nl(i));var Wt=i.length,ke=[];for(h=0;h<Wt;h++){var Ze=Z(i[h]);ke.push(l.project(Z([Ze.lat-Rt.lat,Ze.lng-Rt.lng])))}for(h=0,w=0;h<Wt-1;h++)w+=ke[h].distanceTo(ke[h+1])/2;if(w===0)Nt=ke[0];else for(h=0,R=0;h<Wt-1;h++)if(W=ke[h],ut=ke[h+1],E=W.distanceTo(ut),R+=E,R>w){yt=(R-w)/E,Nt=[ut.x-yt*(ut.x-W.x),ut.y-yt*(ut.y-W.y)];break}var un=l.unproject(k(Nt));return Z([un.lat+Rt.lat,un.lng+Rt.lng])}var wu={__proto__:null,simplify:vu,pointToSegmentDistance:Al,closestPointOnSegment:Mh,clipSegment:_u,_getEdgeIntersection:ls,_getBitCode:Hi,_sqClosestPointOnSegment:Ii,isFlat:cn,_flat:Su,polylineCenter:jl},cs={project:function(i){return new st(i.lng,i.lat)},unproject:function(i){return new G(i.y,i.x)},bounds:new H([-180,-90],[180,90])},us={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,h=this.R,w=i.lat*l,E=this.R_MINOR/h,R=Math.sqrt(1-E*E),W=R*Math.sin(w),ut=Math.tan(Math.PI/4-w/2)/Math.pow((1-W)/(1+W),R/2);return w=-h*Math.log(Math.max(ut,1e-10)),new st(i.lng*l*h,w)},unproject:function(i){for(var l=180/Math.PI,h=this.R,w=this.R_MINOR/h,E=Math.sqrt(1-w*w),R=Math.exp(-i.y/h),W=Math.PI/2-2*Math.atan(R),ut=0,yt=.1,Nt;ut<15&&Math.abs(yt)>1e-7;ut++)Nt=E*Math.sin(W),Nt=Math.pow((1-Nt)/(1+Nt),E/2),yt=Math.PI/2-2*Math.atan(R*Nt)-W,W+=yt;return new G(W*l,i.x*l/h)}},Tu={__proto__:null,LonLat:cs,Mercator:us,SphericalMercator:St},xa=u({},vt,{code:"EPSG:3395",projection:us,transformation:(function(){var i=.5/(Math.PI*us.R);return At(i,.5,-i,.5)})()}),Eu=u({},vt,{code:"EPSG:4326",projection:cs,transformation:At(1/180,1,-1/180,.5)}),jh=u({},mt,{projection:cs,transformation:At(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var h=l.lng-i.lng,w=l.lat-i.lat;return Math.sqrt(h*h+w*w)},infinite:!0});mt.Earth=vt,mt.EPSG3395=xa,mt.EPSG3857=jt,mt.EPSG900913=Tt,mt.EPSG4326=Eu,mt.Simple=jh;var sr=at.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[b(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[b(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});ne.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=b(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=b(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return b(i)in this._layers},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},_addLayers:function(i){i=i?j(i)?i:[i]:[];for(var l=0,h=i.length;l<h;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[b(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=b(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,h=this._getZoomSpan();for(var w in this._zoomBoundLayers){var E=this._zoomBoundLayers[w].options;i=E.minZoom===void 0?i:Math.min(i,E.minZoom),l=E.maxZoom===void 0?l:Math.max(l,E.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gi=sr.extend({initialize:function(i,l){D(this,l),this._layers={};var h,w;if(i)for(h=0,w=i.length;h<w;h++)this.addLayer(i[h])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),h,w;for(h in this._layers)w=this._layers[h],w[i]&&w[i].apply(w,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return b(i)}}),Mu=function(i,l){return new Gi(i,l)},Ln=Gi.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Gi.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Gi.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new tt;for(var l in this._layers){var h=this._layers[l];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),bo=function(i,l){return new Ln(i,l)},_a=rt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){D(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(w,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(i,l){var h=this.options,w=h[l+"Size"];typeof w=="number"&&(w=[w,w]);var E=k(w),R=k(l==="shadow"&&h.shadowAnchor||h.iconAnchor||E&&E.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(h.className||""),R&&(i.style.marginLeft=-R.x+"px",i.style.marginTop=-R.y+"px"),E&&(i.style.width=E.x+"px",i.style.height=E.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return Ht.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function ds(i){return new _a(i)}var Sa=_a.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Sa.imagePath!="string"&&(Sa.imagePath=this._detectIconPath()),(this.options.imagePath||Sa.imagePath)+_a.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(h,w,E){var R=w.exec(h);return R&&R[E]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ue("div","leaflet-default-icon-path",document.body),l=Li(i,"background-image")||Li(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),kl=or.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new gi(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Jt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,h=l._map,w=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,R=mi(l._icon),W=h.getPixelBounds(),ut=h.getPixelOrigin(),yt=F(W.min._subtract(ut).add(E),W.max._subtract(ut).subtract(E));if(!yt.contains(R)){var Nt=k((Math.max(yt.max.x,R.x)-yt.max.x)/(W.max.x-yt.max.x)-(Math.min(yt.min.x,R.x)-yt.min.x)/(W.min.x-yt.min.x),(Math.max(yt.max.y,R.y)-yt.max.y)/(W.max.y-yt.max.y)-(Math.min(yt.min.y,R.y)-yt.min.y)/(W.min.y-yt.min.y)).multiplyBy(w);h.panBy(Nt,{animate:!1}),this._draggable._newPos._add(Nt),this._draggable._startPos._add(Nt),Ue(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=q(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,h=l._shadow,w=mi(l._icon),E=l._map.layerPointToLatLng(w);h&&Ue(h,w),l._latlng=E,i.latlng=E,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),wa=sr.extend({options:{icon:new Sa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){D(this,l),this._latlng=Z(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=Z(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),w=!1;h!==this._icon&&(this._icon&&this._removeIcon(),w=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),Jt(h,l),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(h,"focus",this._panOnFocus,this);var E=i.icon.createShadow(this._shadow),R=!1;E!==this._shadow&&(this._removeShadow(),R=!0),E&&(Jt(E,l),E.alt=""),this._shadow=E,i.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&R&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&me(this._icon,"focus",this._panOnFocus,this),De(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&De(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Ue(this._icon,i),this._shadow&&Ue(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Jt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),kl)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new kl(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Mn(this._icon,i),this._shadow&&Mn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,h=l.iconSize?k(l.iconSize):k(0,0),w=l.iconAnchor?k(l.iconAnchor):k(0,0);i.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:h.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ol(i,l){return new wa(i,l)}var Qr=sr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return D(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yo=Qr.extend({options:{fill:!0,radius:10},initialize:function(i,l){D(this,l),this._latlng=Z(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=Z(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return Qr.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,h=this._clickTolerance(),w=[i+h,l+h];this._pxBounds=new H(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Nu(i,l){return new yo(i,l)}var Cl=yo.extend({initialize:function(i,l,h){if(typeof l=="number"&&(l=u({},h,{radius:l})),D(this,l),this._latlng=Z(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new tt(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Qr.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,h=this._map,w=h.options.crs;if(w.distance===vt.distance){var E=Math.PI/180,R=this._mRadius/vt.R/E,W=h.project([l+R,i]),ut=h.project([l-R,i]),yt=W.add(ut).divideBy(2),Nt=h.unproject(yt).lat,Rt=Math.acos((Math.cos(R*E)-Math.sin(l*E)*Math.sin(Nt*E))/(Math.cos(l*E)*Math.cos(Nt*E)))/E;(isNaN(Rt)||Rt===0)&&(Rt=R/Math.cos(Math.PI/180*l)),this._point=yt.subtract(h.getPixelOrigin()),this._radius=isNaN(Rt)?0:yt.x-h.project([Nt,i-Rt]).x,this._radiusY=yt.y-W.y}else{var Pt=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Pt).x}this._updateBounds()}});function kh(i,l,h){return new Cl(i,l,h)}var Jr=Qr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){D(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,h=null,w=Ii,E,R,W=0,ut=this._parts.length;W<ut;W++)for(var yt=this._parts[W],Nt=1,Rt=yt.length;Nt<Rt;Nt++){E=yt[Nt-1],R=yt[Nt];var Pt=w(i,E,R,!0);Pt<l&&(l=Pt,h=w(i,E,R))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=Z(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new tt,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return cn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],h=cn(i),w=0,E=i.length;w<E;w++)h?(l[w]=Z(i[w]),this._bounds.extend(l[w])):l[w]=this._convertLatLngs(i[w]);return l},_project:function(){var i=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new st(i,i);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,h){var w=i[0]instanceof G,E=i.length,R,W;if(w){for(W=[],R=0;R<E;R++)W[R]=this._map.latLngToLayerPoint(i[R]),h.extend(W[R]);l.push(W)}else for(R=0;R<E;R++)this._projectLatlngs(i[R],l,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,w,E,R,W,ut,yt;for(h=0,E=0,R=this._rings.length;h<R;h++)for(yt=this._rings[h],w=0,W=yt.length;w<W-1;w++)ut=_u(yt[w],yt[w+1],i,w,!0),ut&&(l[E]=l[E]||[],l[E].push(ut[0]),(ut[1]!==yt[w+1]||w===W-2)&&(l[E].push(ut[1]),E++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,h=0,w=i.length;h<w;h++)i[h]=vu(i[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var h,w,E,R,W,ut,yt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,R=this._parts.length;h<R;h++)for(ut=this._parts[h],w=0,W=ut.length,E=W-1;w<W;E=w++)if(!(!l&&w===0)&&Al(i,ut[E],ut[w])<=yt)return!0;return!1}});function Oh(i,l){return new Jr(i,l)}Jr._flat=Su;var Ta=Jr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ss(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=Jr.prototype._convertLatLngs.call(this,i),h=l.length;return h>=2&&l[0]instanceof G&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(i){Jr.prototype._setLatLngs.call(this,i),cn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return cn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,h=new st(l,l);if(i=new H(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,E=this._rings.length,R;w<E;w++)R=yu(this._rings[w],i,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,h,w,E,R,W,ut,yt,Nt;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(R=0,yt=this._parts.length;R<yt;R++)for(h=this._parts[R],W=0,Nt=h.length,ut=Nt-1;W<Nt;ut=W++)w=h[W],E=h[ut],w.y>i.y!=E.y>i.y&&i.x<(E.x-w.x)*(i.y-w.y)/(E.y-w.y)+w.x&&(l=!l);return l||Jr.prototype._containsPoint.call(this,i,!0)}});function Bn(i,l){return new Ta(i,l)}var Rn=Ln.extend({initialize:function(i,l){D(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=j(i)?i:i.features,h,w,E;if(l){for(h=0,w=l.length;h<w;h++)E=l[h],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var R=this.options;if(R.filter&&!R.filter(i))return this;var W=vo(i,R);return W?(W.feature=Ea(i),W.defaultOptions=W.options,this.resetStyle(W),R.onEachFeature&&R.onEachFeature(i,W),this.addLayer(W)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=u({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function vo(i,l){var h=i.type==="Feature"?i.geometry:i,w=h?h.coordinates:null,E=[],R=l&&l.pointToLayer,W=l&&l.coordsToLatLng||fs,ut,yt,Nt,Rt;if(!w&&!h)return null;switch(h.type){case"Point":return ut=W(w),Ll(R,i,ut,l);case"MultiPoint":for(Nt=0,Rt=w.length;Nt<Rt;Nt++)ut=W(w[Nt]),E.push(Ll(R,i,ut,l));return new Ln(E);case"LineString":case"MultiLineString":return yt=xo(w,h.type==="LineString"?0:1,W),new Jr(yt,l);case"Polygon":case"MultiPolygon":return yt=xo(w,h.type==="Polygon"?1:2,W),new Ta(yt,l);case"GeometryCollection":for(Nt=0,Rt=h.geometries.length;Nt<Rt;Nt++){var Pt=vo({geometry:h.geometries[Nt],type:"Feature",properties:i.properties},l);Pt&&E.push(Pt)}return new Ln(E);case"FeatureCollection":for(Nt=0,Rt=h.features.length;Nt<Rt;Nt++){var $t=vo(h.features[Nt],l);$t&&E.push($t)}return new Ln(E);default:throw new Error("Invalid GeoJSON object.")}}function Ll(i,l,h,w){return i?i(l,h):new wa(h,w&&w.markersInheritOptions&&w)}function fs(i){return new G(i[1],i[0],i[2])}function xo(i,l,h){for(var w=[],E=0,R=i.length,W;E<R;E++)W=l?xo(i[E],l-1,h):(h||fs)(i[E]),w.push(W);return w}function _o(i,l){return i=Z(i),i.alt!==void 0?[S(i.lng,l),S(i.lat,l),S(i.alt,l)]:[S(i.lng,l),S(i.lat,l)]}function hs(i,l,h,w){for(var E=[],R=0,W=i.length;R<W;R++)E.push(l?hs(i[R],cn(i[R])?0:l-1,h,w):_o(i[R],w));return!l&&h&&E.length>0&&E.push(E[0].slice()),E}function lr(i,l){return i.feature?u({},i.feature,{geometry:l}):Ea(l)}function Ea(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Ui={toGeoJSON:function(i){return lr(this,{type:"Point",coordinates:_o(this.getLatLng(),i)})}};wa.include(Ui),Cl.include(Ui),yo.include(Ui),Jr.include({toGeoJSON:function(i){var l=!cn(this._latlngs),h=hs(this._latlngs,l?1:0,!1,i);return lr(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Ta.include({toGeoJSON:function(i){var l=!cn(this._latlngs),h=l&&!cn(this._latlngs[0]),w=hs(this._latlngs,h?2:l?1:0,!0,i);return l||(w=[w]),lr(this,{type:(h?"Multi":"")+"Polygon",coordinates:w})}}),Gi.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(i).geometry.coordinates)}),lr(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var h=l==="GeometryCollection",w=[];return this.eachLayer(function(E){if(E.toGeoJSON){var R=E.toGeoJSON(i);if(h)w.push(R.geometry);else{var W=Ea(R);W.type==="FeatureCollection"?w.push.apply(w,W.features):w.push(W)}}}),h?lr(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function ms(i,l){return new Rn(i,l)}var Au=ms,Or=sr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,h){this._url=i,this._bounds=K(l),D(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Jt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){De(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Bi(this._image),this},bringToBack:function(){return this._map&&da(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=K(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:ue("img");if(Jt(l,"leaflet-image-layer"),this._zoomAnimated&&Jt(l,"leaflet-zoom-animated"),this.options.className&&Jt(l,this.options.className),l.onselectstart=x,l.onmousemove=x,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Qn(this._image,h,l)},_reset:function(){var i=this._image,l=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Ue(i,l.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){Mn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Ma=function(i,l,h){return new Or(i,l,h)},ps=Or.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:ue("video");if(Jt(l,"leaflet-image-layer"),this._zoomAnimated&&Jt(l,"leaflet-zoom-animated"),this.options.className&&Jt(l,this.options.className),l.onselectstart=x,l.onmousemove=x,l.onloadeddata=f(this.fire,this,"load"),i){for(var h=l.getElementsByTagName("source"),w=[],E=0;E<h.length;E++)w.push(h[E].src);this._url=h.length>0?w:[l.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var W=ue("source");W.src=this._url[R],l.appendChild(W)}}});function Du(i,l,h){return new ps(i,l,h)}var bi=Or.extend({_initImage:function(){var i=this._image=this._url;Jt(i,"leaflet-image-layer"),this._zoomAnimated&&Jt(i,"leaflet-zoom-animated"),this.options.className&&Jt(i,this.options.className),i.onselectstart=x,i.onmousemove=x}});function ju(i,l,h){return new bi(i,l,h)}var cr=sr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof G||j(i))?(this._latlng=Z(i),D(this,l)):(D(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Mn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Mn(this._container,1),this.bringToFront(),this.options.interactive&&(Jt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Mn(this._container,0),this._removeTimeout=setTimeout(f(De,void 0,this._container),200)):De(this._container),this.options.interactive&&(je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=Z(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bi(this._container),this},bringToBack:function(){return this._map&&da(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof Ln){l=null;var h=this._source._layers;for(var w in h)if(h[w]._map){l=h[w];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=k(this.options.offset),h=this._getAnchor();this._zoomAnimated?Ue(this._container,i.add(h)):l=l.add(i).add(h);var w=this._containerBottom=-l.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=w+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});ne.include({_initOverlay:function(i,l,h,w){var E=l;return E instanceof i||(E=new i(w).setContent(l)),h&&E.setLatLng(h),E}}),sr.include({_initOverlay:function(i,l,h,w){var E=h;return E instanceof i?(D(E,w),E._source=this):(E=l&&!w?l:new i(w,this),E.setContent(h)),E}});var So=cr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,cr.prototype.openOn.call(this,i)},onAdd:function(i){cr.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Qr||this._source.on("preclick",Wr))},onRemove:function(i){cr.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Qr||this._source.off("preclick",Wr))},getEvents:function(){var i=cr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=ue("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=ue("div",i+"-content-wrapper",l);if(this._contentNode=ue("div",i+"-content",h),ya(l),ba(this._contentNode),Qt(l,"contextmenu",Wr),this._tipContainer=ue("div",i+"-tip-container",l),this._tip=ue("div",i+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=ue("a",i+"-close-button",l);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',Qt(w,"click",function(E){Ve(E),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var w=i.offsetHeight,E=this.options.maxHeight,R="leaflet-popup-scrolled";E&&w>E?(l.height=E+"px",Jt(i,R)):je(i,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();Ue(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(Li(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,w=this._containerWidth,E=new st(this._containerLeft,-h-this._containerBottom);E._add(mi(this._container));var R=i.layerPointToContainerPoint(E),W=k(this.options.autoPanPadding),ut=k(this.options.autoPanPaddingTopLeft||W),yt=k(this.options.autoPanPaddingBottomRight||W),Nt=i.getSize(),Rt=0,Pt=0;R.x+w+yt.x>Nt.x&&(Rt=R.x+w-Nt.x+yt.x),R.x-Rt-ut.x<0&&(Rt=R.x-ut.x),R.y+h+yt.y>Nt.y&&(Pt=R.y+h-Nt.y+yt.y),R.y-Pt-ut.y<0&&(Pt=R.y-ut.y),(Rt||Pt)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Rt,Pt]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ch=function(i,l){return new So(i,l)};ne.mergeOptions({closePopupOnClick:!0}),ne.include({openPopup:function(i,l,h){return this._initOverlay(So,i,l,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),sr.include({bindPopup:function(i,l){return this._popup=this._initOverlay(So,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Ln||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){kr(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof Qr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var gs=cr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){cr.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){cr.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=cr.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ue("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,h,w=this._map,E=this._container,R=w.latLngToContainerPoint(w.getCenter()),W=w.layerPointToContainerPoint(i),ut=this.options.direction,yt=E.offsetWidth,Nt=E.offsetHeight,Rt=k(this.options.offset),Pt=this._getAnchor();ut==="top"?(l=yt/2,h=Nt):ut==="bottom"?(l=yt/2,h=0):ut==="center"?(l=yt/2,h=Nt/2):ut==="right"?(l=0,h=Nt/2):ut==="left"?(l=yt,h=Nt/2):W.x<R.x?(ut="right",l=0,h=Nt/2):(ut="left",l=yt+(Rt.x+Pt.x)*2,h=Nt/2),i=i.subtract(k(l,h,!0)).add(Rt).add(Pt),je(E,"leaflet-tooltip-right"),je(E,"leaflet-tooltip-left"),je(E,"leaflet-tooltip-top"),je(E,"leaflet-tooltip-bottom"),Jt(E,"leaflet-tooltip-"+ut),Ue(E,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Mn(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Lh=function(i,l){return new gs(i,l)};ne.include({openTooltip:function(i,l,h){return this._initOverlay(gs,i,l,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),sr.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(gs,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Ln||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(Qt(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Qt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,h,w;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),w=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(l)}});var Bl=_a.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(bn(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var w=k(h.bgPos);l.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function ku(i){return new Bl(i)}_a.Default=Sa;var Zi=sr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ht.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){D(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),De(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(da(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof st?i:new st(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,h=-i(-1/0,1/0),w=0,E=l.length,R;w<E;w++)R=l[w].style.zIndex,l[w]!==this._container&&R&&(h=i(h,+R));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ht.ielt9){Mn(this._container,this.options.opacity);var i=+new Date,l=!1,h=!1;for(var w in this._tiles){var E=this._tiles[w];if(!(!E.current||!E.loaded)){var R=Math.min(1,(i-E.loaded)/200);Mn(E.el,R),R<1?l=!0:(E.active?h=!0:this._onOpaqueTile(E),E.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(U(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=l-Math.abs(i-h),this._onUpdateLevel(h)):(De(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var w=this._levels[i],E=this._map;return w||(w=this._levels[i]={},w.el=ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=l,w.origin=E.project(E.unproject(E.getPixelOrigin()),i).round(),w.zoom=i,this._setZoomTransform(w,E.getCenter(),E.getZoom()),x(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var i,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var w=l.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)De(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,h,w){var E=Math.floor(i/2),R=Math.floor(l/2),W=h-1,ut=new st(+E,+R);ut.z=+W;var yt=this._tileCoordsToKey(ut),Nt=this._tiles[yt];return Nt&&Nt.active?(Nt.retain=!0,!0):(Nt&&Nt.loaded&&(Nt.retain=!0),W>w?this._retainParent(E,R,W,w):!1)},_retainChildren:function(i,l,h,w){for(var E=2*i;E<2*i+2;E++)for(var R=2*l;R<2*l+2;R++){var W=new st(E,R);W.z=h+1;var ut=this._tileCoordsToKey(W),yt=this._tiles[ut];if(yt&&yt.active){yt.retain=!0;continue}else yt&&yt.loaded&&(yt.retain=!0);h+1<w&&this._retainChildren(E,R,h+1,w)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,h,w){var E=Math.round(l);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var R=this.options.updateWhenZooming&&E!==this._tileZoom;(!w||R)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,l)},_setZoomTransform:function(i,l,h){var w=this._map.getZoomScale(h,i.zoom),E=i.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(l,h)).round();Ht.any3d?Qn(i.el,E,w):Ue(i.el,E)},_resetGrid:function(){var i=this._map,l=i.options.crs,h=this._tileSize=this.getTileSize(),w=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],w).x/h.x),Math.ceil(i.project([0,l.wrapLng[1]],w).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],w).y/h.x),Math.ceil(i.project([l.wrapLat[1],0],w).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),w=l.getZoomScale(h,this._tileZoom),E=l.project(i,this._tileZoom).floor(),R=l.getSize().divideBy(w*2);return new H(E.subtract(R),E.add(R))},_update:function(i){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(i),E=this._pxBoundsToTileRange(w),R=E.getCenter(),W=[],ut=this.options.keepBuffer,yt=new H(E.getBottomLeft().subtract([ut,-ut]),E.getTopRight().add([ut,-ut]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Nt in this._tiles){var Rt=this._tiles[Nt].coords;(Rt.z!==this._tileZoom||!yt.contains(new st(Rt.x,Rt.y)))&&(this._tiles[Nt].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var Pt=E.min.y;Pt<=E.max.y;Pt++)for(var $t=E.min.x;$t<=E.max.x;$t++){var Wt=new st($t,Pt);if(Wt.z=this._tileZoom,!!this._isValidTile(Wt)){var ke=this._tiles[this._tileCoordsToKey(Wt)];ke?ke.current=!0:W.push(Wt)}}if(W.sort(function(un,Jn){return un.distanceTo(R)-Jn.distanceTo(R)}),W.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ze=document.createDocumentFragment();for($t=0;$t<W.length;$t++)this._addTile(W[$t],Ze);this._level.el.appendChild(Ze)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!l.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(i);return K(this.options.bounds).overlaps(w)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,h=this.getTileSize(),w=i.scaleBy(h),E=w.add(h),R=l.unproject(w,i.z),W=l.unproject(E,i.z);return[R,W]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),h=new tt(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),h=new st(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(i){var l=this._tiles[i];l&&(De(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Jt(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=x,i.onmousemove=x,Ht.ielt9&&this.options.opacity<1&&Mn(i,this.options.opacity)},_addTile:function(i,l){var h=this._getTilePos(i),w=this._tileCoordsToKey(i),E=this.createTile(this._wrapCoords(i),f(this._tileReady,this,i));this._initTile(E),this.createTile.length<2&&q(f(this._tileReady,this,i,null,E)),Ue(E,h),this._tiles[w]={el:E,coords:i,current:!0},l.appendChild(E),this.fire("tileloadstart",{tile:E,coords:i})},_tileReady:function(i,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:i});var w=this._tileCoordsToKey(i);h=this._tiles[w],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Mn(h.el,0),U(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Jt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ht.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new st(this._wrapX?_(i.x,this._wrapX):i.x,this._wrapY?_(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new H(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function ur(i){return new Zi(i)}var Yi=Zi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=D(this,l),l.detectRetina&&Ht.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var h=document.createElement("img");return Qt(h,"load",f(this._tileOnLoad,this,l,h)),Qt(h,"error",f(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var l={r:Ht.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=h),l["-y"]=h}return P(this._url,u(l,this.options))},_tileOnLoad:function(i,l){Ht.ielt9?setTimeout(f(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,h){var w=this.options.errorTileUrl;w&&l.getAttribute("src")!==w&&(l.src=w),i(h,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,w=this.options.zoomOffset;return h&&(i=l-i),i+w},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=x,l.onerror=x,!l.complete)){l.src=O;var h=this._tiles[i].coords;De(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",O),Zi.prototype._removeTile.call(this,i)},_tileReady:function(i,l,h){if(!(!this._map||h&&h.getAttribute("src")===O))return Zi.prototype._tileReady.call(this,i,l,h)}});function Pn(i,l){return new Yi(i,l)}var zn=Yi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var h=u({},this.defaultWmsParams);for(var w in l)w in this.options||(h[w]=l[w]);l=D(this,l);var E=l.detectRetina&&Ht.retina?2:1,R=this.getTileSize();h.width=R.x*E,h.height=R.y*E,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Yi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),h=this._crs,w=F(h.project(l[0]),h.project(l[1])),E=w.min,R=w.max,W=(this._wmsVersion>=1.3&&this._crs===Eu?[E.y,E.x,R.y,R.x]:[E.x,E.y,R.x,R.y]).join(","),ut=Yi.prototype.getTileUrl.call(this,i);return ut+A(this.wmsParams,ut,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+W},setParams:function(i,l){return u(this.wmsParams,i),l||this.redraw(),this}});function Na(i,l){return new zn(i,l)}Yi.WMS=zn,Pn.wms=Na;var dr=sr.extend({options:{padding:.1},initialize:function(i){D(this,i),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Jt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var h=this._map.getZoomScale(l,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,l),R=w.multiplyBy(-h).add(E).subtract(this._map._getNewPixelOrigin(i,l));Ht.any3d?Qn(this._container,R,h):Ue(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new H(h,h.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),wo=dr.extend({options:{tolerance:0},getEvents:function(){var i=dr.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){dr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Qt(i,"mousemove",this._onMouseMove,this),Qt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,De(this._container),me(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){dr.prototype._update.call(this);var i=this._bounds,l=this._container,h=i.getSize(),w=Ht.retina?2:1;Ue(l,i.min),l.width=w*h.x,l.height=w*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Ht.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){dr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[b(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,h=l.next,w=l.prev;h?h.prev=w:this._drawLast=w,w?w.next=h:this._drawFirst=h,delete i._order,delete this._layers[b(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),h=[],w,E;for(E=0;E<l.length;E++){if(w=Number(l[E]),isNaN(w))return;h.push(w)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)i=w.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var h,w,E,R,W=i._parts,ut=W.length,yt=this._ctx;if(ut){for(yt.beginPath(),h=0;h<ut;h++){for(w=0,E=W[h].length;w<E;w++)R=W[h][w],yt[w?"lineTo":"moveTo"](R.x,R.y);l&&yt.closePath()}this._fillStroke(yt,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,h=this._ctx,w=Math.max(Math.round(i._radius),1),E=(Math.max(Math.round(i._radiusY),1)||w)/w;E!==1&&(h.save(),h.scale(1,E)),h.beginPath(),h.arc(l.x,l.y/E,w,0,Math.PI*2,!1),E!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,l){var h=l.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),h,w,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(w=h);this._fireEvent(w?[w]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(je(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var h,w,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(w=h);w!==this._hoveredLayer&&(this._handleMouseOut(i),w&&(Jt(this._container,"leaflet-interactive"),this._fireEvent([w],i,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,h){this._map._fireDOMEvent(l,h||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var h=l.next,w=l.prev;if(h)h.prev=w;else return;w?w.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var h=l.next,w=l.prev;if(w)w.next=h;else return;h?h.prev=w:w&&(this._drawLast=w),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function To(i){return Ht.canvas?new wo(i):null}var qi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Aa={_initContainer:function(){this._container=ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(dr.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=qi("shape");Jt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=qi("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[b(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;De(l),i.removeInteractiveTarget(l),delete this._layers[b(i)]},_updateStyle:function(i){var l=i._stroke,h=i._fill,w=i.options,E=i._container;E.stroked=!!w.stroke,E.filled=!!w.fill,w.stroke?(l||(l=i._stroke=qi("stroke")),E.appendChild(l),l.weight=w.weight+"px",l.color=w.color,l.opacity=w.opacity,w.dashArray?l.dashStyle=j(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=w.lineCap.replace("butt","flat"),l.joinstyle=w.lineJoin):l&&(E.removeChild(l),i._stroke=null),w.fill?(h||(h=i._fill=qi("fill")),E.appendChild(h),h.color=w.fillColor||w.color,h.opacity=w.fillOpacity):h&&(E.removeChild(h),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),h=Math.round(i._radius),w=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+w+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){Bi(i._container)},_bringToBack:function(i){da(i._container)}},Eo=Ht.vml?qi:Bt,yi=dr.extend({_initContainer:function(){this._container=Eo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Eo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){De(this._container),me(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){dr.prototype._update.call(this);var i=this._bounds,l=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Ue(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=Eo("path");i.options.className&&Jt(l,i.options.className),i.options.interactive&&Jt(l,"leaflet-interactive"),this._updateStyle(i),this._layers[b(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){De(i._path),i.removeInteractiveTarget(i._path),delete this._layers[b(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,h=i.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,It(i._parts,l))},_updateCircle:function(i){var l=i._point,h=Math.max(Math.round(i._radius),1),w=Math.max(Math.round(i._radiusY),1)||h,E="a"+h+","+w+" 0 1,0 ",R=i._empty()?"M0 0":"M"+(l.x-h)+","+l.y+E+h*2+",0 "+E+-h*2+",0 ";this._setPath(i,R)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){Bi(i._path)},_bringToBack:function(i){da(i._path)}});Ht.vml&&yi.include(Aa);function Fi(i){return Ht.svg||Ht.vml?new yi(i):null}ne.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&To(i)||Fi(i)}});var Ou=Ta.extend({initialize:function(i,l){Ta.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=K(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function $n(i,l){return new Ou(i,l)}yi.create=Eo,yi.pointsToPath=It,Rn.geometryToLayer=vo,Rn.coordsToLatLng=fs,Rn.coordsToLatLngs=xo,Rn.latLngToCoords=_o,Rn.latLngsToCoords=hs,Rn.getFeature=lr,Rn.asFeature=Ea,ne.mergeOptions({boxZoom:!0});var bs=or.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Qt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){me(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){De(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ar(),fo(),this._startPoint=this._map.mouseEventToContainerPoint(i),Qt(document,{contextmenu:kr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ue("div","leaflet-zoom-box",this._container),Jt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new H(this._point,this._startPoint),h=l.getSize();Ue(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(De(this._box),je(this._container,"leaflet-crosshair")),uo(),Sl(),me(document,{contextmenu:kr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new tt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ne.addInitHook("addHandler","boxZoom",bs),ne.mergeOptions({doubleClickZoom:!0});var Cr=or.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,h=l.getZoom(),w=l.options.zoomDelta,E=i.originalEvent.shiftKey?h-w:h+w;l.options.doubleClickZoom==="center"?l.setZoom(E):l.setZoomAround(i.containerPoint,E)}});ne.addInitHook("addHandler","doubleClickZoom",Cr),ne.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Rl=or.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new gi(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Jt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){je(this._map._container,"leaflet-grab"),je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=K(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),h=this._initialWorldOffset,w=this._draggable._newPos.x,E=(w-l+h)%i+l-h,R=(w+l+h)%i-l-h,W=Math.abs(E+h)<Math.abs(R+h)?E:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=W},_onDragEnd:function(i){var l=this._map,h=l.options,w=!h.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),w)l.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,W=h.easeLinearity,ut=E.multiplyBy(W/R),yt=ut.distanceTo([0,0]),Nt=Math.min(h.inertiaMaxSpeed,yt),Rt=ut.multiplyBy(Nt/yt),Pt=Nt/(h.inertiaDeceleration*W),$t=Rt.multiplyBy(-Pt/2).round();!$t.x&&!$t.y?l.fire("moveend"):($t=l._limitOffset($t,l.options.maxBounds),q(function(){l.panBy($t,{duration:Pt,easeLinearity:W,noMoveStart:!0,animate:!0})}))}}});ne.addInitHook("addHandler","dragging",Rl),ne.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Mo=or.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Qt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),me(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,h=i.scrollTop||l.scrollTop,w=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(w,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},h=this.keyCodes,w,E;for(w=0,E=h.left.length;w<E;w++)l[h.left[w]]=[-1*i,0];for(w=0,E=h.right.length;w<E;w++)l[h.right[w]]=[i,0];for(w=0,E=h.down.length;w<E;w++)l[h.down[w]]=[0,i];for(w=0,E=h.up.length;w<E;w++)l[h.up[w]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},h=this.keyCodes,w,E;for(w=0,E=h.zoomIn.length;w<E;w++)l[h.zoomIn[w]]=i;for(w=0,E=h.zoomOut.length;w<E;w++)l[h.zoomOut[w]]=-i},_addHooks:function(){Qt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){me(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,h=this._map,w;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(w=this._panKeys[l],i.shiftKey&&(w=k(w).multiplyBy(3)),h.options.maxBounds&&(w=h._limitOffset(k(w),h.options.maxBounds)),h.options.worldCopyJump){var E=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(w)));h.panTo(E)}else h.panBy(w)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;kr(i)}}});ne.addInitHook("addHandler","keyboard",Mo),ne.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vi=or.extend({addHooks:function(){Qt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){me(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=po(i),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var w=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),w),kr(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,R=h?Math.ceil(E/h)*h:E,W=i._limitZoom(l+(this._delta>0?R:-R))-l;this._delta=0,this._startTime=null,W&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+W):i.setZoomAround(this._lastMousePos,l+W))}});ne.addInitHook("addHandler","scrollWheelZoom",vi);var Pl=600;ne.mergeOptions({tapHold:Ht.touchNative&&Ht.safari&&Ht.mobile,tapTolerance:15});var ys=or.extend({addHooks:function(){Qt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){me(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new st(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Qt(document,"touchend",Ve),Qt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Pl),Qt(document,"touchend touchcancel contextmenu",this._cancel,this),Qt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){me(document,"touchend",Ve),me(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),me(document,"touchend touchcancel contextmenu",this._cancel,this),me(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new st(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});ne.addInitHook("addHandler","tapHold",ys),ne.mergeOptions({touchZoom:Ht.touch,bounceAtZoomLimits:!0});var Vi=or.extend({addHooks:function(){Jt(this._map._container,"leaflet-touch-zoom"),Qt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){je(this._map._container,"leaflet-touch-zoom"),me(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(i.touches[0]),w=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(w)._divideBy(2))),this._startDist=h.distanceTo(w),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Qt(document,"touchmove",this._onTouchMove,this),Qt(document,"touchend touchcancel",this._onTouchEnd,this),Ve(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(i.touches[0]),w=l.mouseEventToContainerPoint(i.touches[1]),E=h.distanceTo(w)/this._startDist;if(this._zoom=l.getScaleZoom(E,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&E<1||this._zoom>l.getMaxZoom()&&E>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var R=h._add(w)._divideBy(2)._subtract(this._centerPoint);if(E===1&&R.x===0&&R.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var W=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(W,this,!0),Ve(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),me(document,"touchmove",this._onTouchMove,this),me(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ne.addInitHook("addHandler","touchZoom",Vi),ne.BoxZoom=bs,ne.DoubleClickZoom=Cr,ne.Drag=Rl,ne.Keyboard=Mo,ne.ScrollWheelZoom=vi,ne.TapHold=ys,ne.TouchZoom=Vi,a.Bounds=H,a.Browser=Ht,a.CRS=mt,a.Canvas=wo,a.Circle=Cl,a.CircleMarker=yo,a.Class=rt,a.Control=Nn,a.DivIcon=Bl,a.DivOverlay=cr,a.DomEvent=vh,a.DomUtil=mu,a.Draggable=gi,a.Evented=at,a.FeatureGroup=Ln,a.GeoJSON=Rn,a.GridLayer=Zi,a.Handler=or,a.Icon=_a,a.ImageOverlay=Or,a.LatLng=G,a.LatLngBounds=tt,a.Layer=sr,a.LayerGroup=Gi,a.LineUtil=wu,a.Map=ne,a.Marker=wa,a.Mixin=Th,a.Path=Qr,a.Point=st,a.PolyUtil=Eh,a.Polygon=Ta,a.Polyline=Jr,a.Popup=So,a.PosAnimation=os,a.Projection=Tu,a.Rectangle=Ou,a.Renderer=dr,a.SVG=yi,a.SVGOverlay=bi,a.TileLayer=Yi,a.Tooltip=gs,a.Transformation=Ct,a.Util=J,a.VideoOverlay=ps,a.bind=f,a.bounds=F,a.canvas=To,a.circle=kh,a.circleMarker=Nu,a.control=va,a.divIcon=ku,a.extend=u,a.featureGroup=bo,a.geoJSON=ms,a.geoJson=Au,a.gridLayer=ur,a.icon=ds,a.imageOverlay=Ma,a.latLng=Z,a.latLngBounds=K,a.layerGroup=Mu,a.map=go,a.marker=Ol,a.point=k,a.polygon=Bn,a.polyline=Oh,a.popup=Ch,a.rectangle=$n,a.setOptions=D,a.stamp=b,a.svg=Fi,a.svgOverlay=ju,a.tileLayer=Pn,a.tooltip=Lh,a.transformation=At,a.version=s,a.videoOverlay=Du;var Da=window.L;a.noConflict=function(){return window.L=Da,this},window.L=a}))})(Oc,Oc.exports)),Oc.exports}var nM=eM();const p0=ll(nM),kd=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Po(t){const r=document.getElementById(t);if(!r)throw new Error(`#${t} not found`);return r}function rM(t){const{buttonId:r,buttonInputId:a,modalId:s,closeMapId:u,mapCloseBtnId:d,searchBoxId:f,suggestionsId:p,mapId:b}=t.ids,g=t.initialCenter??{lat:37.5665,lon:126.978},_=Po(a),x=Po(r),S=Po(s),T=Po(d),M=Po(f),D=Po(p),A=u?Po(u):null;let $=null,P=null,j=null;const B=U=>U.code==="Space"||U.key===" "||U.key==="Spacebar"||U.key==="Space",O=U=>{B(U)&&document.activeElement!==M&&(U.preventDefault(),U.stopPropagation(),M.focus())},Y=()=>{S.style.display="flex",$?setTimeout(()=>$?.invalidateSize(),200):setTimeout(()=>{$=p0.map(b,{keyboard:!1}).setView([g.lat,g.lon],11),p0.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap"}).addTo($),$.invalidateSize()},0),S.addEventListener("keydown",O,!0),S.addEventListener("keyup",O,!0),M.focus()},et=()=>{S.style.display="none",M.value="",D.innerHTML="",j&&(window.clearTimeout(j),j=null),S.removeEventListener("keydown",O,!0),S.removeEventListener("keyup",O,!0)},it=U=>{const J=U.dataset.name??"",rt=Number(U.dataset.lat??""),ct=Number(U.dataset.lon??"");!Number.isFinite(rt)||!Number.isFinite(ct)||!$||(P?P.setLatLng([rt,ct]):P=p0.marker([rt,ct]).addTo($),$.flyTo([rt,ct],14,{duration:.5}),_.value=J,_.dataset.lat=String(rt),_.dataset.lon=String(ct),t.onSelected?.({name:J,lat:rt,lon:ct}),D.innerHTML="",et())},V=()=>{j&&window.clearTimeout(j);const U=M.value.trim();if(!U){D.innerHTML="";return}j=window.setTimeout(async()=>{try{const J="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(U),rt=await fetch(J,{headers:{Accept:"application/json"}});if(!rt.ok)throw new Error(`HTTP ${rt.status}`);const ct=await rt.json();if(!Array.isArray(ct)||ct.length===0){D.innerHTML='<li style="padding:8px">결과 없음</li>';return}const I=ct.slice(0,12).map((at,st)=>{const xt=at.display_name.split(",").slice(0,3).map(F=>F.trim()).join(" · "),k="padding:8px;cursor:pointer;outline:none;",H=st===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${kd(xt)}"
                    data-lat="${kd(at.lat)}"
                    data-lon="${kd(at.lon)}"
                    data-active="${st===0?"1":"0"}"
                    style="${k}${H}"
                  >${kd(xt)}</li>`}).join("");D.innerHTML=I}catch(J){console.error(J),D.innerHTML='<li style="padding:8px;color:#b91c1c">검색 오류</li>'}},250)},X=U=>{const J=U.target;J.tagName==="LI"&&it(J)},q=U=>{if(U.key==="Enter"){const J=D.querySelector('li[data-active="1"]')??D.querySelector("li");J&&it(J)}};return x.addEventListener("click",Y),T.addEventListener("click",et),A&&A.addEventListener("click",et),M.addEventListener("input",V),M.addEventListener("keydown",q),D.addEventListener("click",X),()=>{x.removeEventListener("click",Y),T.removeEventListener("click",et),A&&A.removeEventListener("click",et),M.removeEventListener("input",V),M.removeEventListener("keydown",q),D.removeEventListener("click",X),S.removeEventListener("keydown",O,!0),S.removeEventListener("keyup",O,!0),j&&(window.clearTimeout(j),j=null),$&&($.remove(),$=null)}}function Is(){return document.getElementById("suggestions")}function ff(t){const r=Array.from(t.querySelectorAll('li, [role="option"]'));return r.forEach((a,s)=>{a.getAttribute("role")||a.setAttribute("role","option"),a.setAttribute("aria-selected",a===document.activeElement?"true":"false"),a.tabIndex=-1,a.id||(a.id=`suggestion-item-${s}`)}),r}function vc(t,r){const a=ff(t);if(a.length===0)return;const s=a.length;let u=r;u<0&&(u=s-1),u>=s&&(u=0),a.forEach(f=>{f.tabIndex=-1,f.setAttribute("aria-selected","false")});const d=a[u];d.tabIndex=0,d.setAttribute("aria-selected","true"),d.focus()}function v1({onSelect:t,placeholderText:r="출생지선택",buttonStyle:a,value:s}){const[u,d]=C.useState(r),[f,p]=C.useState(!1),[b,g]=C.useState(s??""),_=C.useRef(null),x=C.useRef(null),S=C.useRef(null),T=C.useRef(null);return C.useEffect(()=>{s!==void 0&&g(s)},[s]),C.useEffect(()=>{if(!f)return;const M=rM({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:V=>{d("선택완료"),g(V.name),_.current&&(_.current.value=V.name),x.current&&(x.current.value=String(V.lat)),S.current&&(S.current.value=String(V.lon)),t?.(V),p(!1)}}),D=document.getElementById("inputBirthPlaceBtn");D&&D.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const A=document.getElementById("mapModal"),$=document.getElementById("searchBox"),P=Is();setTimeout(()=>$?.focus(),0);const j='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',B=V=>{if(V.key==="Escape"){V.preventDefault(),p(!1);return}if(V.key!=="Tab")return;const X=Is();if(X&&X.contains(document.activeElement))return;const q=Array.from(A.querySelectorAll(j)).filter(ct=>!ct.hasAttribute("disabled")&&ct.tabIndex!==-1);if(q.length===0)return;const U=q[0],J=q[q.length-1],rt=document.activeElement;V.shiftKey?(rt===U||!A.contains(rt))&&(V.preventDefault(),J.focus()):(rt===J||!A.contains(rt))&&(V.preventDefault(),U.focus())};A.addEventListener("keydown",B);const O=V=>{if(V.key!=="ArrowDown")return;const X=Is();!X||ff(X).length===0||(V.preventDefault(),vc(X,0))};$?.addEventListener("keydown",O);const Y=V=>{if(V.target.value.trim()===""){const q=Is();q&&(q.innerHTML="")}};$?.addEventListener("input",Y);const et=V=>{const X=Is();if(!X)return;const q=ff(X);if(q.length===0)return;const U=document.activeElement,J=U?q.indexOf(U):-1;if(J===-1)return;const rt=ct=>{V.preventDefault(),vc(X,J+ct)};switch(V.key){case"Tab":V.preventDefault(),rt(V.shiftKey?-1:1);break;case"ArrowDown":V.preventDefault(),rt(1);break;case"ArrowUp":V.preventDefault(),rt(-1);break;case"Home":V.preventDefault(),vc(X,0);break;case"End":V.preventDefault(),vc(X,q.length-1);break;case"Enter":case" ":V.preventDefault(),U.click();break;case"Backspace":V.preventDefault(),X.innerHTML="",$?.focus();break}V.stopPropagation()};let it=null;return P&&(P.addEventListener("keydown",et),it=new MutationObserver(()=>{const V=Is();!V||ff(V).length===0||vc(V,0)}),it.observe(P,{childList:!0,subtree:!1})),()=>{A.removeEventListener("keydown",B),$?.removeEventListener("keydown",O),$?.removeEventListener("input",Y),P&&P.removeEventListener("keydown",et),it?.disconnect(),M?.()}},[f,t]),C.useEffect(()=>{f||setTimeout(()=>T.current?.focus(),0)},[f]),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:b&&b.trim()!==""?b:r}),y.jsx("button",{ref:T,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:a,onClick:()=>p(!0),"aria-haspopup":"dialog","aria-expanded":f,"aria-controls":"mapModal",children:u}),y.jsx("input",{ref:_,type:"hidden",name:"birthPlace_name",defaultValue:""}),y.jsx("input",{ref:x,type:"hidden",name:"birthPlace_lat",defaultValue:""}),y.jsx("input",{ref:S,type:"hidden",name:"birthPlace_lon",defaultValue:""}),f&&y.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:y.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[y.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[y.jsx("div",{id:"mapModalTitle",className:"font-bold",children:"출생지선택"}),y.jsx("button",{id:"mapCloseBtn","aria-label":"닫기",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>p(!1),children:"✕"})]}),y.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[y.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"도시/지역 검색"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"searchBox",placeholder:"예: 서울 강남구 / seoul / 도쿄도 / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),y.jsx("ul",{id:"suggestions",role:"listbox","aria-label":"자동완성 목록",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),y.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:y.jsx("div",{id:"map",className:"h-full w-full"})}),y.jsxs("div",{className:"gap-2 p-3",children:[y.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[y.jsxs("p",{className:"flex mb-1",children:[y.jsx("span",{className:"mr-1",children:"*"}),y.jsx("span",{children:"지도에서 검색하여, 목록에서 선택하세요."})]}),y.jsxs("p",{className:"flex",children:[y.jsx("span",{className:"mr-1",children:"*"}),y.jsx("span",{children:"해외를 검색할 경우 지도가 안 뜰 수 있으나, 선택만 눌러주시면 됩니다."})]})]}),y.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}var Wc=e1();const iM=ll(Wc);function In(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var aM=typeof Symbol=="function"&&Symbol.observable||"@@observable",Cv=aM,Lv=()=>Math.random().toString(36).substring(7).split("").join("."),oM={INIT:`@@redux/INIT${Lv()}`,REPLACE:`@@redux/REPLACE${Lv()}`},Bv=oM;function sM(t){if(typeof t!="object"||t===null)return!1;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r||Object.getPrototypeOf(t)===null}function x1(t,r,a){if(typeof t!="function")throw new Error(In(2));if(typeof r=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(In(0));if(typeof r=="function"&&typeof a>"u"&&(a=r,r=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(In(1));return a(x1)(t,r)}let s=t,u=r,d=new Map,f=d,p=0,b=!1;function g(){f===d&&(f=new Map,d.forEach((A,$)=>{f.set($,A)}))}function _(){if(b)throw new Error(In(3));return u}function x(A){if(typeof A!="function")throw new Error(In(4));if(b)throw new Error(In(5));let $=!0;g();const P=p++;return f.set(P,A),function(){if($){if(b)throw new Error(In(6));$=!1,g(),f.delete(P),d=null}}}function S(A){if(!sM(A))throw new Error(In(7));if(typeof A.type>"u")throw new Error(In(8));if(typeof A.type!="string")throw new Error(In(17));if(b)throw new Error(In(9));try{b=!0,u=s(u,A)}finally{b=!1}return(d=f).forEach(P=>{P()}),A}function T(A){if(typeof A!="function")throw new Error(In(10));s=A,S({type:Bv.REPLACE})}function M(){const A=x;return{subscribe($){if(typeof $!="object"||$===null)throw new Error(In(11));function P(){const B=$;B.next&&B.next(_())}return P(),{unsubscribe:A(P)}},[Cv](){return this}}}return S({type:Bv.INIT}),{dispatch:S,subscribe:x,getState:_,replaceReducer:T,[Cv]:M}}function Rv(t,r){return function(...a){return r(t.apply(this,a))}}function Pv(t,r){if(typeof t=="function")return Rv(t,r);if(typeof t!="object"||t===null)throw new Error(In(16));const a={};for(const s in t){const u=t[s];typeof u=="function"&&(a[s]=Rv(u,r))}return a}function _1(...t){return t.length===0?r=>r:t.length===1?t[0]:t.reduce((r,a)=>(...s)=>r(a(...s)))}function lM(...t){return r=>(a,s)=>{const u=r(a,s);let d=()=>{throw new Error(In(15))};const f={getState:u.getState,dispatch:(b,...g)=>d(b,...g)},p=t.map(b=>b(f));return d=_1(...p)(u.dispatch),{...u,dispatch:d}}}var g0={exports:{}},b0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function cM(){if(zv)return b0;zv=1;var t=Ff();function r(b,g){return b===g&&(b!==0||1/b===1/g)||b!==b&&g!==g}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,u=t.useRef,d=t.useEffect,f=t.useMemo,p=t.useDebugValue;return b0.useSyncExternalStoreWithSelector=function(b,g,_,x,S){var T=u(null);if(T.current===null){var M={hasValue:!1,value:null};T.current=M}else M=T.current;T=f(function(){function A(O){if(!$){if($=!0,P=O,O=x(O),S!==void 0&&M.hasValue){var Y=M.value;if(S(Y,O))return j=Y}return j=O}if(Y=j,a(P,O))return Y;var et=x(O);return S!==void 0&&S(Y,et)?(P=O,Y):(P=O,j=et)}var $=!1,P,j,B=_===void 0?null:_;return[function(){return A(g())},B===null?void 0:function(){return A(B())}]},[g,_,x,S]);var D=s(b,T[0],T[1]);return d(function(){M.hasValue=!0,M.value=D},[D]),p(D),D},b0}var $v;function uM(){return $v||($v=1,g0.exports=cM()),g0.exports}uM();var dM=C.version.startsWith("19"),fM=Symbol.for(dM?"react.transitional.element":"react.element"),hM=Symbol.for("react.portal"),mM=Symbol.for("react.fragment"),pM=Symbol.for("react.strict_mode"),gM=Symbol.for("react.profiler"),bM=Symbol.for("react.consumer"),yM=Symbol.for("react.context"),S1=Symbol.for("react.forward_ref"),vM=Symbol.for("react.suspense"),xM=Symbol.for("react.suspense_list"),Ip=Symbol.for("react.memo"),_M=Symbol.for("react.lazy"),SM=S1,wM=Ip;function TM(t){if(typeof t=="object"&&t!==null){const{$$typeof:r}=t;switch(r){case fM:switch(t=t.type,t){case mM:case gM:case pM:case vM:case xM:return t;default:switch(t=t&&t.$$typeof,t){case yM:case S1:case _M:case Ip:return t;case bM:return t;default:return r}}case hM:return r}}}function EM(t){return TM(t)===Ip}function MM(t,r,a,s,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:f}){let p=!1,b,g,_,x,S;function T(P,j){return b=P,g=j,_=t(b,g),x=r(s,g),S=a(_,x,g),p=!0,S}function M(){return _=t(b,g),r.dependsOnOwnProps&&(x=r(s,g)),S=a(_,x,g),S}function D(){return t.dependsOnOwnProps&&(_=t(b,g)),r.dependsOnOwnProps&&(x=r(s,g)),S=a(_,x,g),S}function A(){const P=t(b,g),j=!f(P,_);return _=P,j&&(S=a(_,x,g)),S}function $(P,j){const B=!d(j,g),O=!u(P,b,j,g);return b=P,g=j,B&&O?M():B?D():O?A():S}return function(j,B){return p?$(j,B):T(j,B)}}function NM(t,{initMapStateToProps:r,initMapDispatchToProps:a,initMergeProps:s,...u}){const d=r(t,u),f=a(t,u),p=s(t,u);return MM(d,f,p,t,u)}function AM(t,r){const a={};for(const s in t){const u=t[s];typeof u=="function"&&(a[s]=(...d)=>r(u(...d)))}return a}function yp(t){return function(a){const s=t(a);function u(){return s}return u.dependsOnOwnProps=!1,u}}function Hv(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function w1(t,r){return function(s,{displayName:u}){const d=function(p,b){return d.dependsOnOwnProps?d.mapToProps(p,b):d.mapToProps(p,void 0)};return d.dependsOnOwnProps=!0,d.mapToProps=function(p,b){d.mapToProps=t,d.dependsOnOwnProps=Hv(t);let g=d(p,b);return typeof g=="function"&&(d.mapToProps=g,d.dependsOnOwnProps=Hv(g),g=d(p,b)),g},d}}function Gp(t,r){return(a,s)=>{throw new Error(`Invalid value of type ${typeof t} for ${r} argument when connecting component ${s.wrappedComponentName}.`)}}function DM(t){return t&&typeof t=="object"?yp(r=>AM(t,r)):t?typeof t=="function"?w1(t):Gp(t,"mapDispatchToProps"):yp(r=>({dispatch:r}))}function jM(t){return t?typeof t=="function"?w1(t):Gp(t,"mapStateToProps"):yp(()=>({}))}function kM(t,r,a){return{...a,...t,...r}}function OM(t){return function(a,{displayName:s,areMergedPropsEqual:u}){let d=!1,f;return function(b,g,_){const x=t(b,g,_);return d?u(x,f)||(f=x):(d=!0,f=x),f}}}function CM(t){return t?typeof t=="function"?OM(t):Gp(t,"mergeProps"):()=>kM}function LM(t){t()}function BM(){let t=null,r=null;return{clear(){t=null,r=null},notify(){LM(()=>{let a=t;for(;a;)a.callback(),a=a.next})},get(){const a=[];let s=t;for(;s;)a.push(s),s=s.next;return a},subscribe(a){let s=!0;const u=r={callback:a,next:null,prev:r};return u.prev?u.prev.next=u:t=u,function(){!s||t===null||(s=!1,u.next?u.next.prev=u.prev:r=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}var Iv={notify(){},get:()=>[]};function T1(t,r){let a,s=Iv,u=0,d=!1;function f(D){_();const A=s.subscribe(D);let $=!1;return()=>{$||($=!0,A(),x())}}function p(){s.notify()}function b(){M.onStateChange&&M.onStateChange()}function g(){return d}function _(){u++,a||(a=r?r.addNestedSub(b):t.subscribe(b),s=BM())}function x(){u--,a&&u===0&&(a(),a=void 0,s.clear(),s=Iv)}function S(){d||(d=!0,_())}function T(){d&&(d=!1,x())}const M={addNestedSub:f,notifyNestedSubs:p,handleChangeWrapper:b,isSubscribed:g,trySubscribe:S,tryUnsubscribe:T,getListeners:()=>s};return M}var RM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PM=RM(),zM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$M=zM(),HM=()=>PM||$M?C.useLayoutEffect:C.useEffect,bf=HM();function Gv(t,r){return t===r?t!==0||r!==0||1/t===1/r:t!==t&&r!==r}function y0(t,r){if(Gv(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;const a=Object.keys(t),s=Object.keys(r);if(a.length!==s.length)return!1;for(let u=0;u<a.length;u++)if(!Object.prototype.hasOwnProperty.call(r,a[u])||!Gv(t[a[u]],r[a[u]]))return!1;return!0}var IM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},GM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},UM={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},E1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZM={[SM]:UM,[wM]:E1};function Uv(t){return EM(t)?E1:ZM[t.$$typeof]||IM}var YM=Object.defineProperty,qM=Object.getOwnPropertyNames,Zv=Object.getOwnPropertySymbols,FM=Object.getOwnPropertyDescriptor,VM=Object.getPrototypeOf,Yv=Object.prototype;function vp(t,r){if(typeof r!="string"){if(Yv){const d=VM(r);d&&d!==Yv&&vp(t,d)}let a=qM(r);Zv&&(a=a.concat(Zv(r)));const s=Uv(t),u=Uv(r);for(let d=0;d<a.length;++d){const f=a[d];if(!GM[f]&&!(u&&u[f])&&!(s&&s[f])){const p=FM(r,f);try{YM(t,f,p)}catch{}}}}return t}var KM=Symbol.for("react-redux-context"),XM=typeof globalThis<"u"?globalThis:{};function WM(){if(!C.createContext)return{};const t=XM[KM]??=new Map;let r=t.get(C.createContext);return r||(r=C.createContext(null),t.set(C.createContext,r)),r}var M1=WM(),QM=[null,null];function JM(t,r,a){bf(()=>t(...r),a)}function t3(t,r,a,s,u,d){t.current=s,a.current=!1,u.current&&(u.current=null,d())}function e3(t,r,a,s,u,d,f,p,b,g,_){if(!t)return()=>{};let x=!1,S=null;const T=()=>{if(x||!p.current)return;const D=r.getState();let A,$;try{A=s(D,u.current)}catch(P){$=P,S=P}$||(S=null),A===d.current?f.current||g():(d.current=A,b.current=A,f.current=!0,_())};return a.onStateChange=T,a.trySubscribe(),T(),()=>{if(x=!0,a.tryUnsubscribe(),a.onStateChange=null,S)throw S}}function n3(t,r){return t===r}function r3(t,r,a,{pure:s,areStatesEqual:u=n3,areOwnPropsEqual:d=y0,areStatePropsEqual:f=y0,areMergedPropsEqual:p=y0,forwardRef:b=!1,context:g=M1}={}){const _=g,x=jM(t),S=DM(r),T=CM(a),M=!!t;return A=>{const $=A.displayName||A.name||"Component",P=`Connect(${$})`,j={shouldHandleStateChanges:M,displayName:P,wrappedComponentName:$,WrappedComponent:A,initMapStateToProps:x,initMapDispatchToProps:S,initMergeProps:T,areStatesEqual:u,areStatePropsEqual:f,areOwnPropsEqual:d,areMergedPropsEqual:p};function B(et){const[it,V,X]=C.useMemo(()=>{const{reactReduxForwardedRef:At,...jt}=et;return[et.context,At,jt]},[et]),q=C.useMemo(()=>{let At=_;return it?.Consumer,At},[it,_]),U=C.useContext(q),J=!!et.store&&!!et.store.getState&&!!et.store.dispatch,rt=!!U&&!!U.store,ct=J?et.store:U.store,I=rt?U.getServerState:ct.getState,at=C.useMemo(()=>NM(ct.dispatch,j),[ct]),[st,xt]=C.useMemo(()=>{if(!M)return QM;const At=T1(ct,J?void 0:U.subscription),jt=At.notifyNestedSubs.bind(At);return[At,jt]},[ct,J,U]),k=C.useMemo(()=>J?U:{...U,subscription:st},[J,U,st]),H=C.useRef(void 0),F=C.useRef(X),tt=C.useRef(void 0),K=C.useRef(!1),G=C.useRef(!1),Z=C.useRef(void 0);bf(()=>(G.current=!0,()=>{G.current=!1}),[]);const mt=C.useMemo(()=>()=>tt.current&&X===F.current?tt.current:at(ct.getState(),X),[ct,X]),vt=C.useMemo(()=>jt=>st?e3(M,ct,st,at,F,H,K,G,tt,xt,jt):()=>{},[st]);JM(t3,[F,H,K,X,tt,xt]);let ot;try{ot=C.useSyncExternalStore(vt,mt,I?()=>at(I(),X):mt)}catch(At){throw Z.current&&(At.message+=`
The error may be correlated with this previous error:
${Z.current.stack}

`),At}bf(()=>{Z.current=void 0,tt.current=void 0,H.current=ot});const St=C.useMemo(()=>C.createElement(A,{...ot,ref:V}),[V,A,ot]);return C.useMemo(()=>M?C.createElement(q.Provider,{value:k},St):St,[q,St,k])}const Y=C.memo(B);if(Y.WrappedComponent=A,Y.displayName=B.displayName=P,b){const it=C.forwardRef(function(X,q){return C.createElement(Y,{...X,reactReduxForwardedRef:q})});return it.displayName=P,it.WrappedComponent=A,vp(it,A)}return vp(Y,A)}}var N1=r3;function i3(t){const{children:r,context:a,serverState:s,store:u}=t,d=C.useMemo(()=>{const b=T1(u);return{store:u,subscription:b,getServerState:s?()=>s:void 0}},[u,s]),f=C.useMemo(()=>u.getState(),[u]);bf(()=>{const{subscription:b}=d;return b.onStateChange=b.notifyNestedSubs,b.trySubscribe(),f!==u.getState()&&b.notifyNestedSubs(),()=>{b.tryUnsubscribe(),b.onStateChange=void 0}},[d,f]);const p=a||M1;return C.createElement(p.Provider,{value:d},r)}var a3=i3,o3="Invariant failed";function s3(t,r){throw new Error(o3)}var oi=function(r){var a=r.top,s=r.right,u=r.bottom,d=r.left,f=s-d,p=u-a,b={top:a,right:s,bottom:u,left:d,width:f,height:p,x:d,y:a,center:{x:(s+d)/2,y:(u+a)/2}};return b},Up=function(r,a){return{top:r.top-a.top,left:r.left-a.left,bottom:r.bottom+a.bottom,right:r.right+a.right}},qv=function(r,a){return{top:r.top+a.top,left:r.left+a.left,bottom:r.bottom-a.bottom,right:r.right-a.right}},l3=function(r,a){return{top:r.top+a.y,left:r.left+a.x,bottom:r.bottom+a.y,right:r.right+a.x}},v0={top:0,right:0,bottom:0,left:0},Zp=function(r){var a=r.borderBox,s=r.margin,u=s===void 0?v0:s,d=r.border,f=d===void 0?v0:d,p=r.padding,b=p===void 0?v0:p,g=oi(Up(a,u)),_=oi(qv(a,f)),x=oi(qv(_,b));return{marginBox:g,borderBox:oi(a),paddingBox:_,contentBox:x,margin:u,border:f,padding:b}},zr=function(r){var a=r.slice(0,-2),s=r.slice(-2);if(s!=="px")return 0;var u=Number(a);return isNaN(u)&&s3(),u},c3=function(){return{x:window.pageXOffset,y:window.pageYOffset}},yf=function(r,a){var s=r.borderBox,u=r.border,d=r.margin,f=r.padding,p=l3(s,a);return Zp({borderBox:p,border:u,margin:d,padding:f})},vf=function(r,a){return a===void 0&&(a=c3()),yf(r,a)},A1=function(r,a){var s={top:zr(a.marginTop),right:zr(a.marginRight),bottom:zr(a.marginBottom),left:zr(a.marginLeft)},u={top:zr(a.paddingTop),right:zr(a.paddingRight),bottom:zr(a.paddingBottom),left:zr(a.paddingLeft)},d={top:zr(a.borderTopWidth),right:zr(a.borderRightWidth),bottom:zr(a.borderBottomWidth),left:zr(a.borderLeftWidth)};return Zp({borderBox:r,margin:s,padding:u,border:d})},D1=function(r){var a=r.getBoundingClientRect(),s=window.getComputedStyle(r);return A1(a,s)},zc=function(r){var a=[],s=null,u=function(){for(var f=arguments.length,p=new Array(f),b=0;b<f;b++)p[b]=arguments[b];a=p,!s&&(s=requestAnimationFrame(function(){s=null,r.apply(void 0,a)}))};return u.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},u};function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},xf.apply(null,arguments)}function j1(t,r){}j1.bind(null,"warn");j1.bind(null,"error");function no(){}function u3(t,r){return{...t,...r}}function Ir(t,r,a){const s=r.map(u=>{const d=u3(a,u.options);return t.addEventListener(u.eventName,u.fn,d),function(){t.removeEventListener(u.eventName,u.fn,d)}});return function(){s.forEach(d=>{d()})}}const d3="Invariant failed";class _f extends Error{}_f.prototype.toString=function(){return this.message};function Lt(t,r){throw new _f(d3)}class f3 extends Re.Component{constructor(...r){super(...r),this.callbacks=null,this.unbind=no,this.onWindowError=a=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),a.error instanceof _f&&a.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=a=>{this.callbacks=a}}componentDidMount(){this.unbind=Ir(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(r){if(r instanceof _f){this.setState({});return}throw r}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const h3=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Sf=t=>t+1,m3=t=>`
  You have lifted an item in position ${Sf(t.source.index)}
`,k1=(t,r)=>{const a=t.droppableId===r.droppableId,s=Sf(t.index),u=Sf(r.index);return a?`
      You have moved the item from position ${s}
      to position ${u}
    `:`
    You have moved the item from position ${s}
    in list ${t.droppableId}
    to list ${r.droppableId}
    in position ${u}
  `},O1=(t,r,a)=>r.droppableId===a.droppableId?`
      The item ${t}
      has been combined with ${a.draggableId}`:`
      The item ${t}
      in list ${r.droppableId}
      has been combined with ${a.draggableId}
      in list ${a.droppableId}
    `,p3=t=>{const r=t.destination;if(r)return k1(t.source,r);const a=t.combine;return a?O1(t.draggableId,t.source,a):"You are over an area that cannot be dropped on"},Fv=t=>`
  The item has returned to its starting position
  of ${Sf(t.index)}
`,g3=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${Fv(t.source)}
    `;const r=t.destination,a=t.combine;return r?`
      You have dropped the item.
      ${k1(t.source,r)}
    `:a?`
      You have dropped the item.
      ${O1(t.draggableId,t.source,a)}
    `:`
    The item has been dropped while not over a drop area.
    ${Fv(t.source)}
  `},hf={dragHandleUsageInstructions:h3,onDragStart:m3,onDragUpdate:p3,onDragEnd:g3};function b3(t,r){return!!(t===r||Number.isNaN(t)&&Number.isNaN(r))}function C1(t,r){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(!b3(t[a],r[a]))return!1;return!0}function fe(t,r){const a=C.useState(()=>({inputs:r,result:t()}))[0],s=C.useRef(!0),u=C.useRef(a),f=s.current||!!(r&&u.current.inputs&&C1(r,u.current.inputs))?u.current:{inputs:r,result:t()};return C.useEffect(()=>{s.current=!1,u.current=f},[f]),f.result}function Ut(t,r){return fe(()=>t,r)}const pn={x:0,y:0},Tn=(t,r)=>({x:t.x+r.x,y:t.y+r.y}),_r=(t,r)=>({x:t.x-r.x,y:t.y-r.y}),ro=(t,r)=>t.x===r.x&&t.y===r.y,cl=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Xo=(t,r,a=0)=>t==="x"?{x:r,y:a}:{x:a,y:r},$c=(t,r)=>Math.sqrt((r.x-t.x)**2+(r.y-t.y)**2),Vv=(t,r)=>Math.min(...r.map(a=>$c(t,a))),L1=t=>r=>({x:t(r.x),y:t(r.y)});var y3=(t,r)=>{const a=oi({top:Math.max(r.top,t.top),right:Math.min(r.right,t.right),bottom:Math.min(r.bottom,t.bottom),left:Math.max(r.left,t.left)});return a.width<=0||a.height<=0?null:a};const Qc=(t,r)=>({top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}),Kv=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],v3={top:0,right:0,bottom:0,left:0},x3=(t,r)=>r?Qc(t,r.scroll.diff.displacement):t,_3=(t,r,a)=>a&&a.increasedBy?{...t,[r.end]:t[r.end]+a.increasedBy[r.line]}:t,S3=(t,r)=>r&&r.shouldClipSubject?y3(r.pageMarginBox,t):oi(t);var el=({page:t,withPlaceholder:r,axis:a,frame:s})=>{const u=x3(t.marginBox,s),d=_3(u,a,r),f=S3(d,s);return{page:t,withPlaceholder:r,active:f}},Yp=(t,r)=>{t.frame||Lt();const a=t.frame,s=_r(r,a.scroll.initial),u=cl(s),d={...a,scroll:{initial:a.scroll.initial,current:r,diff:{value:s,displacement:u},max:a.scroll.max}},f=el({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:d});return{...t,frame:d,subject:f}};function mn(t,r=C1){let a=null;function s(...u){if(a&&a.lastThis===this&&r(u,a.lastArgs))return a.lastResult;const d=t.apply(this,u);return a={lastResult:d,lastArgs:u,lastThis:this},d}return s.clear=function(){a=null},s}const B1=mn(t=>t.reduce((r,a)=>(r[a.descriptor.id]=a,r),{})),R1=mn(t=>t.reduce((r,a)=>(r[a.descriptor.id]=a,r),{})),th=mn(t=>Object.values(t)),w3=mn(t=>Object.values(t));var ul=mn((t,r)=>w3(r).filter(s=>t===s.descriptor.droppableId).sort((s,u)=>s.descriptor.index-u.descriptor.index));function qp(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function eh(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var nh=mn((t,r)=>r.filter(a=>a.descriptor.id!==t.descriptor.id)),T3=({isMovingForward:t,draggable:r,destination:a,insideDestination:s,previousImpact:u})=>{if(!a.isCombineEnabled||!qp(u))return null;function f(T){const M={type:"COMBINE",combine:{draggableId:T,droppableId:a.descriptor.id}};return{...u,at:M}}const p=u.displaced.all,b=p.length?p[0]:null;if(t)return b?f(b):null;const g=nh(r,s);if(!b){if(!g.length)return null;const T=g[g.length-1];return f(T.descriptor.id)}const _=g.findIndex(T=>T.descriptor.id===b);_===-1&&Lt();const x=_-1;if(x<0)return null;const S=g[x];return f(S.descriptor.id)},dl=(t,r)=>t.descriptor.droppableId===r.descriptor.id;const P1={point:pn,value:0},Hc={invisible:{},visible:{},all:[]},E3={displaced:Hc,displacedBy:P1,at:null};var Zr=(t,r)=>a=>t<=a&&a<=r,z1=t=>{const r=Zr(t.top,t.bottom),a=Zr(t.left,t.right);return s=>{if(r(s.top)&&r(s.bottom)&&a(s.left)&&a(s.right))return!0;const d=r(s.top)||r(s.bottom),f=a(s.left)||a(s.right);if(d&&f)return!0;const b=s.top<t.top&&s.bottom>t.bottom,g=s.left<t.left&&s.right>t.right;return b&&g?!0:b&&f||g&&d}},M3=t=>{const r=Zr(t.top,t.bottom),a=Zr(t.left,t.right);return s=>r(s.top)&&r(s.bottom)&&a(s.left)&&a(s.right)};const Fp={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},$1={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var N3=t=>r=>{const a=Zr(r.top,r.bottom),s=Zr(r.left,r.right);return u=>t===Fp?a(u.top)&&a(u.bottom):s(u.left)&&s(u.right)};const A3=(t,r)=>{const a=r.frame?r.frame.scroll.diff.displacement:pn;return Qc(t,a)},D3=(t,r,a)=>r.subject.active?a(r.subject.active)(t):!1,j3=(t,r,a)=>a(r)(t),Vp=({target:t,destination:r,viewport:a,withDroppableDisplacement:s,isVisibleThroughFrameFn:u})=>{const d=s?A3(t,r):t;return D3(d,r,u)&&j3(d,a,u)},k3=t=>Vp({...t,isVisibleThroughFrameFn:z1}),H1=t=>Vp({...t,isVisibleThroughFrameFn:M3}),O3=t=>Vp({...t,isVisibleThroughFrameFn:N3(t.destination.axis)}),C3=(t,r,a)=>{if(typeof a=="boolean")return a;if(!r)return!0;const{invisible:s,visible:u}=r;if(s[t])return!1;const d=u[t];return d?d.shouldAnimate:!0};function L3(t,r){const a=t.page.marginBox,s={top:r.point.y,right:0,bottom:0,left:r.point.x};return oi(Up(a,s))}function Ic({afterDragging:t,destination:r,displacedBy:a,viewport:s,forceShouldAnimate:u,last:d}){return t.reduce(function(p,b){const g=L3(b,a),_=b.descriptor.id;if(p.all.push(_),!k3({target:g,destination:r,viewport:s,withDroppableDisplacement:!0}))return p.invisible[b.descriptor.id]=!0,p;const S=C3(_,d,u),T={draggableId:_,shouldAnimate:S};return p.visible[_]=T,p},{all:[],visible:{},invisible:{}})}function B3(t,r){if(!t.length)return 0;const a=t[t.length-1].descriptor.index;return r.inHomeList?a:a+1}function Xv({insideDestination:t,inHomeList:r,displacedBy:a,destination:s}){const u=B3(t,{inHomeList:r});return{displaced:Hc,displacedBy:a,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:u}}}}function wf({draggable:t,insideDestination:r,destination:a,viewport:s,displacedBy:u,last:d,index:f,forceShouldAnimate:p}){const b=dl(t,a);if(f==null)return Xv({insideDestination:r,inHomeList:b,displacedBy:u,destination:a});const g=r.find(M=>M.descriptor.index===f);if(!g)return Xv({insideDestination:r,inHomeList:b,displacedBy:u,destination:a});const _=nh(t,r),x=r.indexOf(g),S=_.slice(x);return{displaced:Ic({afterDragging:S,destination:a,displacedBy:u,last:d,viewport:s.frame,forceShouldAnimate:p}),displacedBy:u,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:f}}}}function io(t,r){return!!r.effected[t]}var R3=({isMovingForward:t,destination:r,draggables:a,combine:s,afterCritical:u})=>{if(!r.isCombineEnabled)return null;const d=s.draggableId,p=a[d].descriptor.index;return io(d,u)?t?p:p-1:t?p+1:p},P3=({isMovingForward:t,isInHomeList:r,insideDestination:a,location:s})=>{if(!a.length)return null;const u=s.index,d=t?u+1:u-1,f=a[0].descriptor.index,p=a[a.length-1].descriptor.index,b=r?p:p+1;return d<f||d>b?null:d},z3=({isMovingForward:t,isInHomeList:r,draggable:a,draggables:s,destination:u,insideDestination:d,previousImpact:f,viewport:p,afterCritical:b})=>{const g=f.at;if(g||Lt(),g.type==="REORDER"){const x=P3({isMovingForward:t,isInHomeList:r,location:g.destination,insideDestination:d});return x==null?null:wf({draggable:a,insideDestination:d,destination:u,viewport:p,last:f.displaced,displacedBy:f.displacedBy,index:x})}const _=R3({isMovingForward:t,destination:u,displaced:f.displaced,draggables:s,combine:g.combine,afterCritical:b});return _==null?null:wf({draggable:a,insideDestination:d,destination:u,viewport:p,last:f.displaced,displacedBy:f.displacedBy,index:_})},$3=({displaced:t,afterCritical:r,combineWith:a,displacedBy:s})=>{const u=!!(t.visible[a]||t.invisible[a]);return io(a,r)?u?pn:cl(s.point):u?s.point:pn},H3=({afterCritical:t,impact:r,draggables:a})=>{const s=eh(r);s||Lt();const u=s.draggableId,d=a[u].page.borderBox.center,f=$3({displaced:r.displaced,afterCritical:t,combineWith:u,displacedBy:r.displacedBy});return Tn(d,f)};const I1=(t,r)=>r.margin[t.start]+r.borderBox[t.size]/2,I3=(t,r)=>r.margin[t.end]+r.borderBox[t.size]/2,Kp=(t,r,a)=>r[t.crossAxisStart]+a.margin[t.crossAxisStart]+a.borderBox[t.crossAxisSize]/2,Wv=({axis:t,moveRelativeTo:r,isMoving:a})=>Xo(t.line,r.marginBox[t.end]+I1(t,a),Kp(t,r.marginBox,a)),Qv=({axis:t,moveRelativeTo:r,isMoving:a})=>Xo(t.line,r.marginBox[t.start]-I3(t,a),Kp(t,r.marginBox,a)),G3=({axis:t,moveInto:r,isMoving:a})=>Xo(t.line,r.contentBox[t.start]+I1(t,a),Kp(t,r.contentBox,a));var U3=({impact:t,draggable:r,draggables:a,droppable:s,afterCritical:u})=>{const d=ul(s.descriptor.id,a),f=r.page,p=s.axis;if(!d.length)return G3({axis:p,moveInto:s.page,isMoving:f});const{displaced:b,displacedBy:g}=t,_=b.all[0];if(_){const S=a[_];if(io(_,u))return Qv({axis:p,moveRelativeTo:S.page,isMoving:f});const T=yf(S.page,g.point);return Qv({axis:p,moveRelativeTo:T,isMoving:f})}const x=d[d.length-1];if(x.descriptor.id===r.descriptor.id)return f.borderBox.center;if(io(x.descriptor.id,u)){const S=yf(x.page,cl(u.displacedBy.point));return Wv({axis:p,moveRelativeTo:S,isMoving:f})}return Wv({axis:p,moveRelativeTo:x.page,isMoving:f})},xp=(t,r)=>{const a=t.frame;return a?Tn(r,a.scroll.diff.displacement):r};const Z3=({impact:t,draggable:r,droppable:a,draggables:s,afterCritical:u})=>{const d=r.page.borderBox.center,f=t.at;return!a||!f?d:f.type==="REORDER"?U3({impact:t,draggable:r,draggables:s,droppable:a,afterCritical:u}):H3({impact:t,draggables:s,afterCritical:u})};var rh=t=>{const r=Z3(t),a=t.droppable;return a?xp(a,r):r},G1=(t,r)=>{const a=_r(r,t.scroll.initial),s=cl(a);return{frame:oi({top:r.y,bottom:r.y+t.frame.height,left:r.x,right:r.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:r,diff:{value:a,displacement:s}}}};function Jv(t,r){return t.map(a=>r[a])}function Y3(t,r){for(let a=0;a<r.length;a++){const s=r[a].visible[t];if(s)return s}return null}var q3=({impact:t,viewport:r,destination:a,draggables:s,maxScrollChange:u})=>{const d=G1(r,Tn(r.scroll.current,u)),f=a.frame?Yp(a,Tn(a.frame.scroll.current,u)):a,p=t.displaced,b=Ic({afterDragging:Jv(p.all,s),destination:a,displacedBy:t.displacedBy,viewport:d.frame,last:p,forceShouldAnimate:!1}),g=Ic({afterDragging:Jv(p.all,s),destination:f,displacedBy:t.displacedBy,viewport:r.frame,last:p,forceShouldAnimate:!1}),_={},x={},S=[p,b,g];return p.all.forEach(M=>{const D=Y3(M,S);if(D){x[M]=D;return}_[M]=!0}),{...t,displaced:{all:p.all,invisible:_,visible:x}}},F3=(t,r)=>Tn(t.scroll.diff.displacement,r),Xp=({pageBorderBoxCenter:t,draggable:r,viewport:a})=>{const s=F3(a,t),u=_r(s,r.page.borderBox.center);return Tn(r.client.borderBox.center,u)},U1=({draggable:t,destination:r,newPageBorderBoxCenter:a,viewport:s,withDroppableDisplacement:u,onlyOnMainAxis:d=!1})=>{const f=_r(a,t.page.borderBox.center),b={target:Qc(t.page.borderBox,f),destination:r,withDroppableDisplacement:u,viewport:s};return d?O3(b):H1(b)},V3=({isMovingForward:t,draggable:r,destination:a,draggables:s,previousImpact:u,viewport:d,previousPageBorderBoxCenter:f,previousClientSelection:p,afterCritical:b})=>{if(!a.isEnabled)return null;const g=ul(a.descriptor.id,s),_=dl(r,a),x=T3({isMovingForward:t,draggable:r,destination:a,insideDestination:g,previousImpact:u})||z3({isMovingForward:t,isInHomeList:_,draggable:r,draggables:s,destination:a,insideDestination:g,previousImpact:u,viewport:d,afterCritical:b});if(!x)return null;const S=rh({impact:x,draggable:r,droppable:a,draggables:s,afterCritical:b});if(U1({draggable:r,destination:a,newPageBorderBoxCenter:S,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Xp({pageBorderBoxCenter:S,draggable:r,viewport:d}),impact:x,scrollJumpRequest:null};const M=_r(S,f),D=q3({impact:x,viewport:d,destination:a,draggables:s,maxScrollChange:M});return{clientSelection:p,impact:D,scrollJumpRequest:M}};const Hn=t=>{const r=t.subject.active;return r||Lt(),r};var K3=({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:s,viewport:u})=>{const d=a.subject.active;if(!d)return null;const f=a.axis,p=Zr(d[f.start],d[f.end]),b=th(s).filter(_=>_!==a).filter(_=>_.isEnabled).filter(_=>!!_.subject.active).filter(_=>z1(u.frame)(Hn(_))).filter(_=>{const x=Hn(_);return t?d[f.crossAxisEnd]<x[f.crossAxisEnd]:x[f.crossAxisStart]<d[f.crossAxisStart]}).filter(_=>{const x=Hn(_),S=Zr(x[f.start],x[f.end]);return p(x[f.start])||p(x[f.end])||S(d[f.start])||S(d[f.end])}).sort((_,x)=>{const S=Hn(_)[f.crossAxisStart],T=Hn(x)[f.crossAxisStart];return t?S-T:T-S}).filter((_,x,S)=>Hn(_)[f.crossAxisStart]===Hn(S[0])[f.crossAxisStart]);if(!b.length)return null;if(b.length===1)return b[0];const g=b.filter(_=>Zr(Hn(_)[f.start],Hn(_)[f.end])(r[f.line]));return g.length===1?g[0]:g.length>1?g.sort((_,x)=>Hn(_)[f.start]-Hn(x)[f.start])[0]:b.sort((_,x)=>{const S=Vv(r,Kv(Hn(_))),T=Vv(r,Kv(Hn(x)));return S!==T?S-T:Hn(_)[f.start]-Hn(x)[f.start]})[0]};const tx=(t,r)=>{const a=t.page.borderBox.center;return io(t.descriptor.id,r)?_r(a,r.displacedBy.point):a},X3=(t,r)=>{const a=t.page.borderBox;return io(t.descriptor.id,r)?Qc(a,cl(r.displacedBy.point)):a};var W3=({pageBorderBoxCenter:t,viewport:r,destination:a,insideDestination:s,afterCritical:u})=>s.filter(f=>H1({target:X3(f,u),destination:a,viewport:r.frame,withDroppableDisplacement:!0})).sort((f,p)=>{const b=$c(t,xp(a,tx(f,u))),g=$c(t,xp(a,tx(p,u)));return b<g?-1:g<b?1:f.descriptor.index-p.descriptor.index})[0]||null,Jc=mn(function(r,a){const s=a[r.line];return{value:s,point:Xo(r.line,s)}});const Q3=(t,r,a)=>{const s=t.axis;if(t.descriptor.mode==="virtual")return Xo(s.line,r[s.line]);const u=t.subject.page.contentBox[s.size],b=ul(t.descriptor.id,a).reduce((g,_)=>g+_.client.marginBox[s.size],0)+r[s.line]-u;return b<=0?null:Xo(s.line,b)},Z1=(t,r)=>({...t,scroll:{...t.scroll,max:r}}),Y1=(t,r,a)=>{const s=t.frame;dl(r,t)&&Lt(),t.subject.withPlaceholder&&Lt();const u=Jc(t.axis,r.displaceBy).point,d=Q3(t,u,a),f={placeholderSize:u,increasedBy:d,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){const _=el({page:t.subject.page,withPlaceholder:f,axis:t.axis,frame:t.frame});return{...t,subject:_}}const p=d?Tn(s.scroll.max,d):s.scroll.max,b=Z1(s,p),g=el({page:t.subject.page,withPlaceholder:f,axis:t.axis,frame:b});return{...t,subject:g,frame:b}},J3=t=>{const r=t.subject.withPlaceholder;r||Lt();const a=t.frame;if(!a){const f=el({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:f}}const s=r.oldFrameMaxScroll;s||Lt();const u=Z1(a,s),d=el({page:t.subject.page,axis:t.axis,frame:u,withPlaceholder:null});return{...t,subject:d,frame:u}};var tN=({previousPageBorderBoxCenter:t,moveRelativeTo:r,insideDestination:a,draggable:s,draggables:u,destination:d,viewport:f,afterCritical:p})=>{if(!r){if(a.length)return null;const x={displaced:Hc,displacedBy:P1,at:{type:"REORDER",destination:{droppableId:d.descriptor.id,index:0}}},S=rh({impact:x,draggable:s,droppable:d,draggables:u,afterCritical:p}),T=dl(s,d)?d:Y1(d,s,u);return U1({draggable:s,destination:T,newPageBorderBoxCenter:S,viewport:f.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?x:null}const b=t[d.axis.line]<=r.page.borderBox.center[d.axis.line],g=(()=>{const x=r.descriptor.index;return r.descriptor.id===s.descriptor.id||b?x:x+1})(),_=Jc(d.axis,s.displaceBy);return wf({draggable:s,insideDestination:a,destination:d,viewport:f,displacedBy:_,last:Hc,index:g})},eN=({isMovingForward:t,previousPageBorderBoxCenter:r,draggable:a,isOver:s,draggables:u,droppables:d,viewport:f,afterCritical:p})=>{const b=K3({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:d,viewport:f});if(!b)return null;const g=ul(b.descriptor.id,u),_=W3({pageBorderBoxCenter:r,viewport:f,destination:b,insideDestination:g,afterCritical:p}),x=tN({previousPageBorderBoxCenter:r,destination:b,draggable:a,draggables:u,moveRelativeTo:_,insideDestination:g,viewport:f,afterCritical:p});if(!x)return null;const S=rh({impact:x,draggable:a,droppable:b,draggables:u,afterCritical:p});return{clientSelection:Xp({pageBorderBoxCenter:S,draggable:a,viewport:f}),impact:x,scrollJumpRequest:null}},wr=t=>{const r=t.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null};const nN=(t,r)=>{const a=wr(t);return a?r[a]:null};var rN=({state:t,type:r})=>{const a=nN(t.impact,t.dimensions.droppables),s=!!a,u=t.dimensions.droppables[t.critical.droppable.id],d=a||u,f=d.axis.direction,p=f==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||f==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(p&&!s)return null;const b=r==="MOVE_DOWN"||r==="MOVE_RIGHT",g=t.dimensions.draggables[t.critical.draggable.id],_=t.current.page.borderBoxCenter,{draggables:x,droppables:S}=t.dimensions;return p?V3({isMovingForward:b,previousPageBorderBoxCenter:_,draggable:g,destination:d,draggables:x,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):eN({isMovingForward:b,previousPageBorderBoxCenter:_,draggable:g,isOver:d,draggables:x,droppables:S,viewport:t.viewport,afterCritical:t.afterCritical})};function Yo(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function q1(t){const r=Zr(t.top,t.bottom),a=Zr(t.left,t.right);return function(u){return r(u.y)&&a(u.x)}}function iN(t,r){return t.left<r.right&&t.right>r.left&&t.top<r.bottom&&t.bottom>r.top}function aN({pageBorderBox:t,draggable:r,candidates:a}){const s=r.page.borderBox.center,u=a.map(d=>{const f=d.axis,p=Xo(d.axis.line,t.center[f.line],d.page.borderBox.center[f.crossAxisLine]);return{id:d.descriptor.id,distance:$c(s,p)}}).sort((d,f)=>f.distance-d.distance);return u[0]?u[0].id:null}function oN({pageBorderBox:t,draggable:r,droppables:a}){const s=th(a).filter(u=>{if(!u.isEnabled)return!1;const d=u.subject.active;if(!d||!iN(t,d))return!1;if(q1(d)(t.center))return!0;const f=u.axis,p=d.center[f.crossAxisLine],b=t[f.crossAxisStart],g=t[f.crossAxisEnd],_=Zr(d[f.crossAxisStart],d[f.crossAxisEnd]),x=_(b),S=_(g);return!x&&!S?!0:x?b<p:g>p});return s.length?s.length===1?s[0].descriptor.id:aN({pageBorderBox:t,draggable:r,candidates:s}):null}const F1=(t,r)=>oi(Qc(t,r));var sN=(t,r)=>{const a=t.frame;return a?F1(r,a.scroll.diff.value):r};function V1({displaced:t,id:r}){return!!(t.visible[r]||t.invisible[r])}function lN({draggable:t,closest:r,inHomeList:a}){return r?a&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var cN=({pageBorderBoxWithDroppableScroll:t,draggable:r,destination:a,insideDestination:s,last:u,viewport:d,afterCritical:f})=>{const p=a.axis,b=Jc(a.axis,r.displaceBy),g=b.value,_=t[p.start],x=t[p.end],T=nh(r,s).find(D=>{const A=D.descriptor.id,$=D.page.borderBox.center[p.line],P=io(A,f),j=V1({displaced:u,id:A});return P?j?x<=$:_<$-g:j?x<=$+g:_<$})||null,M=lN({draggable:r,closest:T,inHomeList:dl(r,a)});return wf({draggable:r,insideDestination:s,destination:a,viewport:d,last:u,displacedBy:b,index:M})};const uN=4;var dN=({draggable:t,pageBorderBoxWithDroppableScroll:r,previousImpact:a,destination:s,insideDestination:u,afterCritical:d})=>{if(!s.isCombineEnabled)return null;const f=s.axis,p=Jc(s.axis,t.displaceBy),b=p.value,g=r[f.start],_=r[f.end],S=nh(t,u).find(M=>{const D=M.descriptor.id,A=M.page.borderBox,P=A[f.size]/uN,j=io(D,d),B=V1({displaced:a.displaced,id:D});return j?B?_>A[f.start]+P&&_<A[f.end]-P:g>A[f.start]-b+P&&g<A[f.end]-b-P:B?_>A[f.start]+b+P&&_<A[f.end]+b-P:g>A[f.start]+P&&g<A[f.end]-P});return S?{displacedBy:p,displaced:a.displaced,at:{type:"COMBINE",combine:{draggableId:S.descriptor.id,droppableId:s.descriptor.id}}}:null},K1=({pageOffset:t,draggable:r,draggables:a,droppables:s,previousImpact:u,viewport:d,afterCritical:f})=>{const p=F1(r.page.borderBox,t),b=oN({pageBorderBox:p,draggable:r,droppables:s});if(!b)return E3;const g=s[b],_=ul(g.descriptor.id,a),x=sN(g,p);return dN({pageBorderBoxWithDroppableScroll:x,draggable:r,previousImpact:u,destination:g,insideDestination:_,afterCritical:f})||cN({pageBorderBoxWithDroppableScroll:x,draggable:r,destination:g,insideDestination:_,last:u.displaced,viewport:d,afterCritical:f})},Wp=(t,r)=>({...t,[r.descriptor.id]:r});const fN=({previousImpact:t,impact:r,droppables:a})=>{const s=wr(t),u=wr(r);if(!s||s===u)return a;const d=a[s];if(!d.subject.withPlaceholder)return a;const f=J3(d);return Wp(a,f)};var hN=({draggable:t,draggables:r,droppables:a,previousImpact:s,impact:u})=>{const d=fN({previousImpact:s,impact:u,droppables:a}),f=wr(u);if(!f)return d;const p=a[f];if(dl(t,p)||p.subject.withPlaceholder)return d;const b=Y1(p,t,r);return Wp(d,b)},Bc=({state:t,clientSelection:r,dimensions:a,viewport:s,impact:u,scrollJumpRequest:d})=>{const f=s||t.viewport,p=a||t.dimensions,b=r||t.current.client.selection,g=_r(b,t.initial.client.selection),_={offset:g,selection:b,borderBoxCenter:Tn(t.initial.client.borderBoxCenter,g)},x={selection:Tn(_.selection,f.scroll.current),borderBoxCenter:Tn(_.borderBoxCenter,f.scroll.current),offset:Tn(_.offset,f.scroll.diff.value)},S={client:_,page:x};if(t.phase==="COLLECTING")return{...t,dimensions:p,viewport:f,current:S};const T=p.draggables[t.critical.draggable.id],M=u||K1({pageOffset:x.offset,draggable:T,draggables:p.draggables,droppables:p.droppables,previousImpact:t.impact,viewport:f,afterCritical:t.afterCritical}),D=hN({draggable:T,impact:M,previousImpact:t.impact,draggables:p.draggables,droppables:p.droppables});return{...t,current:S,dimensions:{draggables:p.draggables,droppables:D},impact:M,viewport:f,scrollJumpRequest:d||null,forceShouldAnimate:d?!1:null}};function mN(t,r){return t.map(a=>r[a])}var X1=({impact:t,viewport:r,draggables:a,destination:s,forceShouldAnimate:u})=>{const d=t.displaced,f=mN(d.all,a),p=Ic({afterDragging:f,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:u,last:d});return{...t,displaced:p}},W1=({impact:t,draggable:r,droppable:a,draggables:s,viewport:u,afterCritical:d})=>{const f=rh({impact:t,draggable:r,draggables:s,droppable:a,afterCritical:d});return Xp({pageBorderBoxCenter:f,draggable:r,viewport:u})},Q1=({state:t,dimensions:r,viewport:a})=>{t.movementMode!=="SNAP"&&Lt();const s=t.impact,u=a||t.viewport,d=r||t.dimensions,{draggables:f,droppables:p}=d,b=f[t.critical.draggable.id],g=wr(s);g||Lt();const _=p[g],x=X1({impact:s,viewport:u,destination:_,draggables:f}),S=W1({impact:x,draggable:b,droppable:_,draggables:f,viewport:u,afterCritical:t.afterCritical});return Bc({impact:x,clientSelection:S,state:t,dimensions:d,viewport:u})},pN=t=>({index:t.index,droppableId:t.droppableId}),J1=({draggable:t,home:r,draggables:a,viewport:s})=>{const u=Jc(r.axis,t.displaceBy),d=ul(r.descriptor.id,a),f=d.indexOf(t);f===-1&&Lt();const p=d.slice(f+1),b=p.reduce((S,T)=>(S[T.descriptor.id]=!0,S),{}),g={inVirtualList:r.descriptor.mode==="virtual",displacedBy:u,effected:b};return{impact:{displaced:Ic({afterDragging:p,destination:r,displacedBy:u,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:u,at:{type:"REORDER",destination:pN(t.descriptor)}},afterCritical:g}},gN=(t,r)=>({draggables:t.draggables,droppables:Wp(t.droppables,r)}),bN=({draggable:t,offset:r,initialWindowScroll:a})=>{const s=yf(t.client,r),u=vf(s,a);return{...t,placeholder:{...t.placeholder,client:s},client:s,page:u}},yN=t=>{const r=t.frame;return r||Lt(),r},vN=({additions:t,updatedDroppables:r,viewport:a})=>{const s=a.scroll.diff.value;return t.map(u=>{const d=u.descriptor.droppableId,f=r[d],b=yN(f).scroll.diff.value,g=Tn(s,b);return bN({draggable:u,offset:g,initialWindowScroll:a.scroll.initial})})},xN=({state:t,published:r})=>{const a=r.modified.map($=>{const P=t.dimensions.droppables[$.droppableId];return Yp(P,$.scroll)}),s={...t.dimensions.droppables,...B1(a)},u=R1(vN({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),d={...t.dimensions.draggables,...u};r.removals.forEach($=>{delete d[$]});const f={droppables:s,draggables:d},p=wr(t.impact),b=p?f.droppables[p]:null,g=f.draggables[t.critical.draggable.id],_=f.droppables[t.critical.droppable.id],{impact:x,afterCritical:S}=J1({draggable:g,home:_,draggables:d,viewport:t.viewport}),T=b&&b.isCombineEnabled?t.impact:x,M=K1({pageOffset:t.current.page.offset,draggable:f.draggables[t.critical.draggable.id],draggables:f.draggables,droppables:f.droppables,previousImpact:T,viewport:t.viewport,afterCritical:S}),D={...t,phase:"DRAGGING",impact:M,onLiftImpact:x,dimensions:f,afterCritical:S,forceShouldAnimate:!1};return t.phase==="COLLECTING"?D:{...D,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const _p=t=>t.movementMode==="SNAP",x0=(t,r,a)=>{const s=gN(t.dimensions,r);return!_p(t)||a?Bc({state:t,dimensions:s}):Q1({state:t,dimensions:s})};function _0(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const ex={phase:"IDLE",completed:null,shouldFlush:!1};var _N=(t=ex,r)=>{if(r.type==="FLUSH")return{...ex,shouldFlush:!0};if(r.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Lt();const{critical:a,clientSelection:s,viewport:u,dimensions:d,movementMode:f}=r.payload,p=d.draggables[a.draggable.id],b=d.droppables[a.droppable.id],g={selection:s,borderBoxCenter:p.client.borderBox.center,offset:pn},_={client:g,page:{selection:Tn(g.selection,u.scroll.initial),borderBoxCenter:Tn(g.selection,u.scroll.initial),offset:Tn(g.selection,u.scroll.diff.value)}},x=th(d.droppables).every(D=>!D.isFixedOnPage),{impact:S,afterCritical:T}=J1({draggable:p,home:b,draggables:d.draggables,viewport:u});return{phase:"DRAGGING",isDragging:!0,critical:a,movementMode:f,dimensions:d,initial:_,current:_,isWindowScrollAllowed:x,impact:S,afterCritical:T,onLiftImpact:S,viewport:u,scrollJumpRequest:null,forceShouldAnimate:null}}if(r.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Lt(),{...t,phase:"COLLECTING"});if(r.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Lt(),xN({state:t,published:r.payload});if(r.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Yo(t)||Lt();const{client:a}=r.payload;return ro(a,t.current.client.selection)?t:Bc({state:t,clientSelection:a,impact:_p(t)?t.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return _0(t);Yo(t)||Lt();const{id:a,newScroll:s}=r.payload,u=t.dimensions.droppables[a];if(!u)return t;const d=Yp(u,s);return x0(t,d,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Yo(t)||Lt();const{id:a,isEnabled:s}=r.payload,u=t.dimensions.droppables[a];u||Lt(),u.isEnabled===s&&Lt();const d={...u,isEnabled:s};return x0(t,d,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Yo(t)||Lt();const{id:a,isCombineEnabled:s}=r.payload,u=t.dimensions.droppables[a];u||Lt(),u.isCombineEnabled===s&&Lt();const d={...u,isCombineEnabled:s};return x0(t,d,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Yo(t)||Lt(),t.isWindowScrollAllowed||Lt();const a=r.payload.newScroll;if(ro(t.viewport.scroll.current,a))return _0(t);const s=G1(t.viewport,a);return _p(t)?Q1({state:t,viewport:s}):Bc({state:t,viewport:s})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Yo(t))return t;const a=r.payload.maxScroll;if(ro(a,t.viewport.scroll.max))return t;const s={...t.viewport,scroll:{...t.viewport.scroll,max:a}};return{...t,viewport:s}}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Lt();const a=rN({state:t,type:r.type});return a?Bc({state:t,impact:a.impact,clientSelection:a.clientSelection,scrollJumpRequest:a.scrollJumpRequest}):t}if(r.type==="DROP_PENDING"){const a=r.payload.reason;return t.phase!=="COLLECTING"&&Lt(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:a}}if(r.type==="DROP_ANIMATE"){const{completed:a,dropDuration:s,newHomeClientOffset:u}=r.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Lt(),{phase:"DROP_ANIMATING",completed:a,dropDuration:s,newHomeClientOffset:u,dimensions:t.dimensions}}if(r.type==="DROP_COMPLETE"){const{completed:a}=r.payload;return{phase:"IDLE",completed:a,shouldFlush:!1}}return t};function ye(t,r){return t instanceof Object&&"type"in t&&t.type===r}const SN=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),wN=t=>({type:"LIFT",payload:t}),TN=t=>({type:"INITIAL_PUBLISH",payload:t}),EN=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),MN=()=>({type:"COLLECTION_STARTING",payload:null}),NN=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),AN=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),DN=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),t2=t=>({type:"MOVE",payload:t}),jN=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),kN=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),ON=()=>({type:"MOVE_UP",payload:null}),CN=()=>({type:"MOVE_DOWN",payload:null}),LN=()=>({type:"MOVE_RIGHT",payload:null}),BN=()=>({type:"MOVE_LEFT",payload:null}),Qp=()=>({type:"FLUSH",payload:null}),RN=t=>({type:"DROP_ANIMATE",payload:t}),Jp=t=>({type:"DROP_COMPLETE",payload:t}),e2=t=>({type:"DROP",payload:t}),PN=t=>({type:"DROP_PENDING",payload:t}),n2=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var zN=t=>({getState:r,dispatch:a})=>s=>u=>{if(!ye(u,"LIFT")){s(u);return}const{id:d,clientSelection:f,movementMode:p}=u.payload,b=r();b.phase==="DROP_ANIMATING"&&a(Jp({completed:b.completed})),r().phase!=="IDLE"&&Lt(),a(Qp()),a(SN({draggableId:d,movementMode:p}));const _={draggableId:d,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:x,dimensions:S,viewport:T}=t.startPublishing(_);a(TN({critical:x,dimensions:S,clientSelection:f,movementMode:p,viewport:T}))},$N=t=>()=>r=>a=>{ye(a,"INITIAL_PUBLISH")&&t.dragging(),ye(a,"DROP_ANIMATE")&&t.dropping(a.payload.completed.result.reason),(ye(a,"FLUSH")||ye(a,"DROP_COMPLETE"))&&t.resting(),r(a)};const tg={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Gc={opacity:{drop:0,combining:.7},scale:{drop:.75}},r2={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},zo=`${r2.outOfTheWay}s ${tg.outOfTheWay}`,Rc={fluid:`opacity ${zo}`,snap:`transform ${zo}, opacity ${zo}`,drop:t=>{const r=`${t}s ${tg.drop}`;return`transform ${r}, opacity ${r}`},outOfTheWay:`transform ${zo}`,placeholder:`height ${zo}, width ${zo}, margin ${zo}`},nx=t=>ro(t,pn)?void 0:`translate(${t.x}px, ${t.y}px)`,Sp={moveTo:nx,drop:(t,r)=>{const a=nx(t);if(a)return r?`${a} scale(${Gc.scale.drop})`:a}},{minDropTime:wp,maxDropTime:i2}=r2,HN=i2-wp,rx=1500,IN=.6;var GN=({current:t,destination:r,reason:a})=>{const s=$c(t,r);if(s<=0)return wp;if(s>=rx)return i2;const u=s/rx,d=wp+HN*u,f=a==="CANCEL"?d*IN:d;return Number(f.toFixed(2))},UN=({impact:t,draggable:r,dimensions:a,viewport:s,afterCritical:u})=>{const{draggables:d,droppables:f}=a,p=wr(t),b=p?f[p]:null,g=f[r.descriptor.droppableId],_=W1({impact:t,draggable:r,draggables:d,afterCritical:u,droppable:b||g,viewport:s});return _r(_,r.client.borderBox.center)},ZN=({draggables:t,reason:r,lastImpact:a,home:s,viewport:u,onLiftImpact:d})=>!a.at||r!=="DROP"?{impact:X1({draggables:t,impact:d,destination:s,viewport:u,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:a.at.type==="REORDER"?{impact:a,didDropInsideDroppable:!0}:{impact:{...a,displaced:Hc},didDropInsideDroppable:!0};const YN=({getState:t,dispatch:r})=>a=>s=>{if(!ye(s,"DROP")){a(s);return}const u=t(),d=s.payload.reason;if(u.phase==="COLLECTING"){r(PN({reason:d}));return}if(u.phase==="IDLE")return;u.phase==="DROP_PENDING"&&u.isWaiting&&Lt(),u.phase==="DRAGGING"||u.phase==="DROP_PENDING"||Lt();const p=u.critical,b=u.dimensions,g=b.draggables[u.critical.draggable.id],{impact:_,didDropInsideDroppable:x}=ZN({reason:d,lastImpact:u.impact,afterCritical:u.afterCritical,onLiftImpact:u.onLiftImpact,home:u.dimensions.droppables[u.critical.droppable.id],viewport:u.viewport,draggables:u.dimensions.draggables}),S=x?qp(_):null,T=x?eh(_):null,M={index:p.draggable.index,droppableId:p.droppable.id},D={draggableId:g.descriptor.id,type:g.descriptor.type,source:M,reason:d,mode:u.movementMode,destination:S,combine:T},A=UN({impact:_,draggable:g,dimensions:b,viewport:u.viewport,afterCritical:u.afterCritical}),$={critical:u.critical,afterCritical:u.afterCritical,result:D,impact:_};if(!(!ro(u.current.client.offset,A)||!!D.combine)){r(Jp({completed:$}));return}const j=GN({current:u.current.client.offset,destination:A,reason:d});r(RN({newHomeClientOffset:A,dropDuration:j,completed:$}))};var a2=()=>({x:window.pageXOffset,y:window.pageYOffset});function qN(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:r=>{r.target!==window&&r.target!==window.document||t()}}}function FN({onWindowScroll:t}){function r(){t(a2())}const a=zc(r),s=qN(a);let u=no;function d(){return u!==no}function f(){d()&&Lt(),u=Ir(window,[s])}function p(){d()||Lt(),a.cancel(),u(),u=no}return{start:f,stop:p,isActive:d}}const VN=t=>ye(t,"DROP_COMPLETE")||ye(t,"DROP_ANIMATE")||ye(t,"FLUSH"),KN=t=>{const r=FN({onWindowScroll:a=>{t.dispatch(jN({newScroll:a}))}});return a=>s=>{!r.isActive()&&ye(s,"INITIAL_PUBLISH")&&r.start(),r.isActive()&&VN(s)&&r.stop(),a(s)}};var XN=t=>{let r=!1,a=!1;const s=setTimeout(()=>{a=!0}),u=d=>{r||a||(r=!0,t(d),clearTimeout(s))};return u.wasCalled=()=>r,u},WN=()=>{const t=[],r=u=>{const d=t.findIndex(p=>p.timerId===u);d===-1&&Lt();const[f]=t.splice(d,1);f.callback()};return{add:u=>{const d=setTimeout(()=>r(d)),f={timerId:d,callback:u};t.push(f)},flush:()=>{if(!t.length)return;const u=[...t];t.length=0,u.forEach(d=>{clearTimeout(d.timerId),d.callback()})}}};const QN=(t,r)=>t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index,JN=(t,r)=>t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId,tA=(t,r)=>{if(t===r)return!0;const a=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return a&&s},xc=(t,r)=>{r()},Od=(t,r)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r});function S0(t,r,a,s){if(!t){a(s(r));return}const u=XN(a);t(r,{announce:u}),u.wasCalled()||a(s(r))}var eA=(t,r)=>{const a=WN();let s=null;const u=(x,S)=>{s&&Lt(),xc("onBeforeCapture",()=>{const T=t().onBeforeCapture;T&&T({draggableId:x,mode:S})})},d=(x,S)=>{s&&Lt(),xc("onBeforeDragStart",()=>{const T=t().onBeforeDragStart;T&&T(Od(x,S))})},f=(x,S)=>{s&&Lt();const T=Od(x,S);s={mode:S,lastCritical:x,lastLocation:T.source,lastCombine:null},a.add(()=>{xc("onDragStart",()=>S0(t().onDragStart,T,r,hf.onDragStart))})},p=(x,S)=>{const T=qp(S),M=eh(S);s||Lt();const D=!tA(x,s.lastCritical);D&&(s.lastCritical=x);const A=!QN(s.lastLocation,T);A&&(s.lastLocation=T);const $=!JN(s.lastCombine,M);if($&&(s.lastCombine=M),!D&&!A&&!$)return;const P={...Od(x,s.mode),combine:M,destination:T};a.add(()=>{xc("onDragUpdate",()=>S0(t().onDragUpdate,P,r,hf.onDragUpdate))})},b=()=>{s||Lt(),a.flush()},g=x=>{s||Lt(),s=null,xc("onDragEnd",()=>S0(t().onDragEnd,x,r,hf.onDragEnd))};return{beforeCapture:u,beforeStart:d,start:f,update:p,flush:b,drop:g,abort:()=>{if(!s)return;const x={...Od(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};g(x)}}},nA=(t,r)=>{const a=eA(t,r);return s=>u=>d=>{if(ye(d,"BEFORE_INITIAL_CAPTURE")){a.beforeCapture(d.payload.draggableId,d.payload.movementMode);return}if(ye(d,"INITIAL_PUBLISH")){const p=d.payload.critical;a.beforeStart(p,d.payload.movementMode),u(d),a.start(p,d.payload.movementMode);return}if(ye(d,"DROP_COMPLETE")){const p=d.payload.completed.result;a.flush(),u(d),a.drop(p);return}if(u(d),ye(d,"FLUSH")){a.abort();return}const f=s.getState();f.phase==="DRAGGING"&&a.update(f.critical,f.impact)}};const rA=t=>r=>a=>{if(!ye(a,"DROP_ANIMATION_FINISHED")){r(a);return}const s=t.getState();s.phase!=="DROP_ANIMATING"&&Lt(),t.dispatch(Jp({completed:s.completed}))},iA=t=>{let r=null,a=null;function s(){a&&(cancelAnimationFrame(a),a=null),r&&(r(),r=null)}return u=>d=>{if((ye(d,"FLUSH")||ye(d,"DROP_COMPLETE")||ye(d,"DROP_ANIMATION_FINISHED"))&&s(),u(d),!ye(d,"DROP_ANIMATE"))return;const f={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(n2())}};a=requestAnimationFrame(()=>{a=null,r=Ir(window,[f])})}};var aA=t=>()=>r=>a=>{(ye(a,"DROP_COMPLETE")||ye(a,"FLUSH")||ye(a,"DROP_ANIMATE"))&&t.stopPublishing(),r(a)},oA=t=>{let r=!1;return()=>a=>s=>{if(ye(s,"INITIAL_PUBLISH")){r=!0,t.tryRecordFocus(s.payload.critical.draggable.id),a(s),t.tryRestoreFocusRecorded();return}if(a(s),!!r){if(ye(s,"FLUSH")){r=!1,t.tryRestoreFocusRecorded();return}if(ye(s,"DROP_COMPLETE")){r=!1;const u=s.payload.completed.result;u.combine&&t.tryShiftRecord(u.draggableId,u.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const sA=t=>ye(t,"DROP_COMPLETE")||ye(t,"DROP_ANIMATE")||ye(t,"FLUSH");var lA=t=>r=>a=>s=>{if(sA(s)){t.stop(),a(s);return}if(ye(s,"INITIAL_PUBLISH")){a(s);const u=r.getState();u.phase!=="DRAGGING"&&Lt(),t.start(u);return}a(s),t.scroll(r.getState())};const cA=t=>r=>a=>{if(r(a),!ye(a,"PUBLISH_WHILE_DRAGGING"))return;const s=t.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||t.dispatch(e2({reason:s.reason})))},uA=_1;var dA=({dimensionMarshal:t,focusMarshal:r,styleMarshal:a,getResponders:s,announce:u,autoScroller:d})=>x1(_N,uA(lM($N(a),aA(t),zN(t),YN,rA,iA,cA,lA(d),KN,oA(r),nA(s,u))));const w0=()=>({additions:{},removals:{},modified:{}});function fA({registry:t,callbacks:r}){let a=w0(),s=null;const u=()=>{s||(r.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:b,removals:g,modified:_}=a,x=Object.keys(b).map(M=>t.draggable.getById(M).getDimension(pn)).sort((M,D)=>M.descriptor.index-D.descriptor.index),S=Object.keys(_).map(M=>{const A=t.droppable.getById(M).callbacks.getScrollWhileDragging();return{droppableId:M,scroll:A}}),T={additions:x,removals:Object.keys(g),modified:S};a=w0(),r.publish(T)}))};return{add:b=>{const g=b.descriptor.id;a.additions[g]=b,a.modified[b.descriptor.droppableId]=!0,a.removals[g]&&delete a.removals[g],u()},remove:b=>{const g=b.descriptor;a.removals[g.id]=!0,a.modified[g.droppableId]=!0,a.additions[g.id]&&delete a.additions[g.id],u()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,a=w0())}}}var o2=({scrollHeight:t,scrollWidth:r,height:a,width:s})=>{const u=_r({x:r,y:t},{x:s,y:a});return{x:Math.max(0,u.x),y:Math.max(0,u.y)}},s2=()=>{const t=document.documentElement;return t||Lt(),t},l2=()=>{const t=s2();return o2({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},hA=()=>{const t=a2(),r=l2(),a=t.y,s=t.x,u=s2(),d=u.clientWidth,f=u.clientHeight,p=s+d,b=a+f;return{frame:oi({top:a,left:s,right:p,bottom:b}),scroll:{initial:t,current:t,max:r,diff:{value:pn,displacement:pn}}}},mA=({critical:t,scrollOptions:r,registry:a})=>{const s=hA(),u=s.scroll.current,d=t.droppable,f=a.droppable.getAllByType(d.type).map(_=>_.callbacks.getDimensionAndWatchScroll(u,r)),p=a.draggable.getAllByType(t.draggable.type).map(_=>_.getDimension(u));return{dimensions:{draggables:R1(p),droppables:B1(f)},critical:t,viewport:s}};function ix(t,r,a){return!(a.descriptor.id===r.id||a.descriptor.type!==r.type||t.droppable.getById(a.descriptor.droppableId).descriptor.mode!=="virtual")}var pA=(t,r)=>{let a=null;const s=fA({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:t}),u=(S,T)=>{t.droppable.exists(S)||Lt(),a&&r.updateDroppableIsEnabled({id:S,isEnabled:T})},d=(S,T)=>{a&&(t.droppable.exists(S)||Lt(),r.updateDroppableIsCombineEnabled({id:S,isCombineEnabled:T}))},f=(S,T)=>{a&&(t.droppable.exists(S)||Lt(),r.updateDroppableScroll({id:S,newScroll:T}))},p=(S,T)=>{a&&t.droppable.getById(S).callbacks.scroll(T)},b=()=>{if(!a)return;s.stop();const S=a.critical.droppable;t.droppable.getAllByType(S.type).forEach(T=>T.callbacks.dragStopped()),a.unsubscribe(),a=null},g=S=>{a||Lt();const T=a.critical.draggable;S.type==="ADDITION"&&ix(t,T,S.value)&&s.add(S.value),S.type==="REMOVAL"&&ix(t,T,S.value)&&s.remove(S.value)};return{updateDroppableIsEnabled:u,updateDroppableIsCombineEnabled:d,scrollDroppable:p,updateDroppableScroll:f,startPublishing:S=>{a&&Lt();const T=t.draggable.getById(S.draggableId),M=t.droppable.getById(T.descriptor.droppableId),D={draggable:T.descriptor,droppable:M.descriptor},A=t.subscribe(g);return a={critical:D,unsubscribe:A},mA({critical:D,registry:t,scrollOptions:S.scrollOptions})},stopPublishing:b}},c2=(t,r)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===r?!1:t.completed.result.reason==="DROP",gA=t=>{window.scrollBy(t.x,t.y)};const bA=mn(t=>th(t).filter(r=>!(!r.isEnabled||!r.frame))),yA=(t,r)=>bA(r).find(s=>(s.frame||Lt(),q1(s.frame.pageMarginBox)(t)))||null;var vA=({center:t,destination:r,droppables:a})=>{if(r){const u=a[r];return u.frame?u:null}return yA(t,a)};const Uc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var xA=(t,r,a=()=>Uc)=>{const s=a(),u=t[r.size]*s.startFromPercentage,d=t[r.size]*s.maxScrollAtPercentage;return{startScrollingFrom:u,maxScrollValueAt:d}},u2=({startOfRange:t,endOfRange:r,current:a})=>{const s=r-t;return s===0?0:(a-t)/s},eg=1,_A=(t,r,a=()=>Uc)=>{const s=a();if(t>r.startScrollingFrom)return 0;if(t<=r.maxScrollValueAt)return s.maxPixelScroll;if(t===r.startScrollingFrom)return eg;const d=1-u2({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:t}),f=s.maxPixelScroll*s.ease(d);return Math.ceil(f)},SA=(t,r,a)=>{const s=a(),u=s.durationDampening.accelerateAt,d=s.durationDampening.stopDampeningAt,f=r,p=d,g=Date.now()-f;if(g>=d)return t;if(g<u)return eg;const _=u2({startOfRange:u,endOfRange:p,current:g}),x=t*s.ease(_);return Math.ceil(x)},ax=({distanceToEdge:t,thresholds:r,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:u})=>{const d=_A(t,r,u);return d===0?0:s?Math.max(SA(d,a,u),eg):d},ox=({container:t,distanceToEdges:r,dragStartTime:a,axis:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f=xA(t,s,d);return r[s.end]<r[s.start]?ax({distanceToEdge:r[s.end],thresholds:f,dragStartTime:a,shouldUseTimeDampening:u,getAutoScrollerOptions:d}):-1*ax({distanceToEdge:r[s.start],thresholds:f,dragStartTime:a,shouldUseTimeDampening:u,getAutoScrollerOptions:d})},wA=({container:t,subject:r,proposedScroll:a})=>{const s=r.height>t.height,u=r.width>t.width;return!u&&!s?a:u&&s?null:{x:u?0:a.x,y:s?0:a.y}};const TA=L1(t=>t===0?0:t);var d2=({dragStartTime:t,container:r,subject:a,center:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},p=ox({container:r,distanceToEdges:f,dragStartTime:t,axis:Fp,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),b=ox({container:r,distanceToEdges:f,dragStartTime:t,axis:$1,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),g=TA({x:b,y:p});if(ro(g,pn))return null;const _=wA({container:r,subject:a,proposedScroll:g});return _?ro(_,pn)?null:_:null};const EA=L1(t=>t===0?0:t>0?1:-1),ng=(()=>{const t=(r,a)=>r<0?r:r>a?r-a:0;return({current:r,max:a,change:s})=>{const u=Tn(r,s),d={x:t(u.x,a.x),y:t(u.y,a.y)};return ro(d,pn)?null:d}})(),f2=({max:t,current:r,change:a})=>{const s={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},u=EA(a),d=ng({max:s,current:r,change:u});return!d||u.x!==0&&d.x===0||u.y!==0&&d.y===0},rg=(t,r)=>f2({current:t.scroll.current,max:t.scroll.max,change:r}),MA=(t,r)=>{if(!rg(t,r))return null;const a=t.scroll.max,s=t.scroll.current;return ng({current:s,max:a,change:r})},ig=(t,r)=>{const a=t.frame;return a?f2({current:a.scroll.current,max:a.scroll.max,change:r}):!1},NA=(t,r)=>{const a=t.frame;return!a||!ig(t,r)?null:ng({current:a.scroll.current,max:a.scroll.max,change:r})};var AA=({viewport:t,subject:r,center:a,dragStartTime:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f=d2({dragStartTime:s,container:t.frame,subject:r,center:a,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return f&&rg(t,f)?f:null},DA=({droppable:t,subject:r,center:a,dragStartTime:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f=t.frame;if(!f)return null;const p=d2({dragStartTime:s,container:f.pageMarginBox,subject:r,center:a,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return p&&ig(t,p)?p:null},sx=({state:t,dragStartTime:r,shouldUseTimeDampening:a,scrollWindow:s,scrollDroppable:u,getAutoScrollerOptions:d})=>{const f=t.current.page.borderBoxCenter,b=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const x=t.viewport,S=AA({dragStartTime:r,viewport:x,subject:b,center:f,shouldUseTimeDampening:a,getAutoScrollerOptions:d});if(S){s(S);return}}const g=vA({center:f,destination:wr(t.impact),droppables:t.dimensions.droppables});if(!g)return;const _=DA({dragStartTime:r,droppable:g,subject:b,center:f,shouldUseTimeDampening:a,getAutoScrollerOptions:d});_&&u(g.descriptor.id,_)},jA=({scrollWindow:t,scrollDroppable:r,getAutoScrollerOptions:a=()=>Uc})=>{const s=zc(t),u=zc(r);let d=null;const f=g=>{d||Lt();const{shouldUseTimeDampening:_,dragStartTime:x}=d;sx({state:g,scrollWindow:s,scrollDroppable:u,dragStartTime:x,shouldUseTimeDampening:_,getAutoScrollerOptions:a})};return{start:g=>{d&&Lt();const _=Date.now();let x=!1;const S=()=>{x=!0};sx({state:g,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:S,scrollDroppable:S,getAutoScrollerOptions:a}),d={dragStartTime:_,shouldUseTimeDampening:x},x&&f(g)},stop:()=>{d&&(s.cancel(),u.cancel(),d=null)},scroll:f}},kA=({move:t,scrollDroppable:r,scrollWindow:a})=>{const s=(p,b)=>{const g=Tn(p.current.client.selection,b);t({client:g})},u=(p,b)=>{if(!ig(p,b))return b;const g=NA(p,b);if(!g)return r(p.descriptor.id,b),null;const _=_r(b,g);return r(p.descriptor.id,_),_r(b,_)},d=(p,b,g)=>{if(!p||!rg(b,g))return g;const _=MA(b,g);if(!_)return a(g),null;const x=_r(g,_);return a(x),_r(g,x)};return p=>{const b=p.scrollJumpRequest;if(!b)return;const g=wr(p.impact);g||Lt();const _=u(p.dimensions.droppables[g],b);if(!_)return;const x=p.viewport,S=d(p.isWindowScrollAllowed,x,_);S&&s(p,S)}},OA=({scrollDroppable:t,scrollWindow:r,move:a,getAutoScrollerOptions:s})=>{const u=jA({scrollWindow:r,scrollDroppable:t,getAutoScrollerOptions:s}),d=kA({move:a,scrollWindow:r,scrollDroppable:t});return{scroll:b=>{if(!(s().disabled||b.phase!=="DRAGGING")){if(b.movementMode==="FLUID"){u.scroll(b);return}b.scrollJumpRequest&&d(b)}},start:u.start,stop:u.stop}};const nl="data-rfd",rl=(()=>{const t=`${nl}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),Tp=(()=>{const t=`${nl}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),CA=(()=>{const t=`${nl}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),lx={contextId:`${nl}-scroll-container-context-id`},LA=t=>r=>`[${r}="${t}"]`,_c=(t,r)=>t.map(a=>{const s=a.styles[r];return s?`${a.selector} { ${s} }`:""}).join(" "),BA="pointer-events: none;";var RA=t=>{const r=LA(t),a=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(rl.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:BA,dropAnimating:p}}})(),s=(()=>{const p=`
      transition: ${Rc.outOfTheWay};
    `;return{selector:r(Tp.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),u={selector:r(CA.contextId),styles:{always:"overflow-anchor: none;"}},f=[s,a,u,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:_c(f,"always"),resting:_c(f,"resting"),dragging:_c(f,"dragging"),dropAnimating:_c(f,"dropAnimating"),userCancel:_c(f,"userCancel")}};const Tr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?C.useLayoutEffect:C.useEffect,T0=()=>{const t=document.querySelector("head");return t||Lt(),t},cx=t=>{const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function PA(t,r){const a=fe(()=>RA(t),[t]),s=C.useRef(null),u=C.useRef(null),d=Ut(mn(x=>{const S=u.current;S||Lt(),S.textContent=x}),[]),f=Ut(x=>{const S=s.current;S||Lt(),S.textContent=x},[]);Tr(()=>{!s.current&&!u.current||Lt();const x=cx(r),S=cx(r);return s.current=x,u.current=S,x.setAttribute(`${nl}-always`,t),S.setAttribute(`${nl}-dynamic`,t),T0().appendChild(x),T0().appendChild(S),f(a.always),d(a.resting),()=>{const T=M=>{const D=M.current;D||Lt(),T0().removeChild(D),M.current=null};T(s),T(u)}},[r,f,d,a.always,a.resting,t]);const p=Ut(()=>d(a.dragging),[d,a.dragging]),b=Ut(x=>{if(x==="DROP"){d(a.dropAnimating);return}d(a.userCancel)},[d,a.dropAnimating,a.userCancel]),g=Ut(()=>{u.current&&d(a.resting)},[d,a.resting]);return fe(()=>({dragging:p,dropping:b,resting:g}),[p,b,g])}function h2(t,r){return Array.from(t.querySelectorAll(r))}var m2=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function ih(t){return t instanceof m2(t).HTMLElement}function zA(t,r){const a=`[${rl.contextId}="${t}"]`,s=h2(document,a);if(!s.length)return null;const u=s.find(d=>d.getAttribute(rl.draggableId)===r);return!u||!ih(u)?null:u}function $A(t){const r=C.useRef({}),a=C.useRef(null),s=C.useRef(null),u=C.useRef(!1),d=Ut(function(S,T){const M={id:S,focus:T};return r.current[S]=M,function(){const A=r.current;A[S]!==M&&delete A[S]}},[]),f=Ut(function(S){const T=zA(t,S);T&&T!==document.activeElement&&T.focus()},[t]),p=Ut(function(S,T){a.current===S&&(a.current=T)},[]),b=Ut(function(){s.current||u.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const S=a.current;S&&f(S)}))},[f]),g=Ut(function(S){a.current=null;const T=document.activeElement;T&&T.getAttribute(rl.draggableId)===S&&(a.current=S)},[]);return Tr(()=>(u.current=!0,function(){u.current=!1;const S=s.current;S&&cancelAnimationFrame(S)}),[]),fe(()=>({register:d,tryRecordFocus:g,tryRestoreFocusRecorded:b,tryShiftRecord:p}),[d,g,b,p])}function HA(){const t={draggables:{},droppables:{}},r=[];function a(x){return r.push(x),function(){const T=r.indexOf(x);T!==-1&&r.splice(T,1)}}function s(x){r.length&&r.forEach(S=>S(x))}function u(x){return t.draggables[x]||null}function d(x){const S=u(x);return S||Lt(),S}const f={register:x=>{t.draggables[x.descriptor.id]=x,s({type:"ADDITION",value:x})},update:(x,S)=>{const T=t.draggables[S.descriptor.id];T&&T.uniqueId===x.uniqueId&&(delete t.draggables[S.descriptor.id],t.draggables[x.descriptor.id]=x)},unregister:x=>{const S=x.descriptor.id,T=u(S);T&&x.uniqueId===T.uniqueId&&(delete t.draggables[S],t.droppables[x.descriptor.droppableId]&&s({type:"REMOVAL",value:x}))},getById:d,findById:u,exists:x=>!!u(x),getAllByType:x=>Object.values(t.draggables).filter(S=>S.descriptor.type===x)};function p(x){return t.droppables[x]||null}function b(x){const S=p(x);return S||Lt(),S}const g={register:x=>{t.droppables[x.descriptor.id]=x},unregister:x=>{const S=p(x.descriptor.id);S&&x.uniqueId===S.uniqueId&&delete t.droppables[x.descriptor.id]},getById:b,findById:p,exists:x=>!!p(x),getAllByType:x=>Object.values(t.droppables).filter(S=>S.descriptor.type===x)};function _(){t.draggables={},t.droppables={},r.length=0}return{draggable:f,droppable:g,subscribe:a,clean:_}}function IA(){const t=fe(HA,[]);return C.useEffect(()=>function(){t.clean()},[t]),t}var ag=Re.createContext(null),Tf=()=>{const t=document.body;return t||Lt(),t};const GA={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},UA=t=>`rfd-announcement-${t}`;function ZA(t){const r=fe(()=>UA(t),[t]),a=C.useRef(null);return C.useEffect(function(){const d=document.createElement("div");return a.current=d,d.id=r,d.setAttribute("aria-live","assertive"),d.setAttribute("aria-atomic","true"),xf(d.style,GA),Tf().appendChild(d),function(){setTimeout(function(){const b=Tf();b.contains(d)&&b.removeChild(d),d===a.current&&(a.current=null)})}},[r]),Ut(u=>{const d=a.current;if(d){d.textContent=u;return}},[])}const YA={separator:"::"};function og(t,r=YA){const a=Re.useId();return fe(()=>`${t}${r.separator}${a}`,[r.separator,t,a])}function qA({contextId:t,uniqueId:r}){return`rfd-hidden-text-${t}-${r}`}function FA({contextId:t,text:r}){const a=og("hidden-text",{separator:"-"}),s=fe(()=>qA({contextId:t,uniqueId:a}),[a,t]);return C.useEffect(function(){const d=document.createElement("div");return d.id=s,d.textContent=r,d.style.display="none",Tf().appendChild(d),function(){const p=Tf();p.contains(d)&&p.removeChild(d)}},[s,r]),s}var ah=Re.createContext(null);function p2(t){const r=C.useRef(t);return C.useEffect(()=>{r.current=t}),r}function VA(){let t=null;function r(){return!!t}function a(f){return f===t}function s(f){t&&Lt();const p={abandon:f};return t=p,p}function u(){t||Lt(),t=null}function d(){t&&(t.abandon(),u())}return{isClaimed:r,isActive:a,claim:s,release:u,tryAbandon:d}}function Zc(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const KA=9,XA=13,sg=27,g2=32,WA=33,QA=34,JA=35,tD=36,eD=37,nD=38,rD=39,iD=40,aD={[XA]:!0,[KA]:!0};var b2=t=>{aD[t.keyCode]&&t.preventDefault()};const oh=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(s=>`on${s}`in document)||t})(),y2=0,ux=5;function oD(t,r){return Math.abs(r.x-t.x)>=ux||Math.abs(r.y-t.y)>=ux}const dx={type:"IDLE"};function sD({cancel:t,completed:r,getPhase:a,setPhase:s}){return[{eventName:"mousemove",fn:u=>{const{button:d,clientX:f,clientY:p}=u;if(d!==y2)return;const b={x:f,y:p},g=a();if(g.type==="DRAGGING"){u.preventDefault(),g.actions.move(b);return}g.type!=="PENDING"&&Lt();const _=g.point;if(!oD(_,b))return;u.preventDefault();const x=g.actions.fluidLift(b);s({type:"DRAGGING",actions:x})}},{eventName:"mouseup",fn:u=>{const d=a();if(d.type!=="DRAGGING"){t();return}u.preventDefault(),d.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:u=>{a().type==="DRAGGING"&&u.preventDefault(),t()}},{eventName:"keydown",fn:u=>{if(a().type==="PENDING"){t();return}if(u.keyCode===sg){u.preventDefault(),t();return}b2(u)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{a().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:u=>{const d=a();if(d.type==="IDLE"&&Lt(),d.actions.shouldRespectForcePress()){t();return}u.preventDefault()}},{eventName:oh,fn:t}]}function lD(t){const r=C.useRef(dx),a=C.useRef(no),s=fe(()=>({eventName:"mousedown",fn:function(x){if(x.defaultPrevented||x.button!==y2||x.ctrlKey||x.metaKey||x.shiftKey||x.altKey)return;const S=t.findClosestDraggableId(x);if(!S)return;const T=t.tryGetLock(S,f,{sourceEvent:x});if(!T)return;x.preventDefault();const M={x:x.clientX,y:x.clientY};a.current(),g(T,M)}}),[t]),u=fe(()=>({eventName:"webkitmouseforcewillbegin",fn:_=>{if(_.defaultPrevented)return;const x=t.findClosestDraggableId(_);if(!x)return;const S=t.findOptionsForDraggable(x);S&&(S.shouldRespectForcePress||t.canGetLock(x)&&_.preventDefault())}}),[t]),d=Ut(function(){const x={passive:!1,capture:!0};a.current=Ir(window,[u,s],x)},[u,s]),f=Ut(()=>{r.current.type!=="IDLE"&&(r.current=dx,a.current(),d())},[d]),p=Ut(()=>{const _=r.current;f(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[f]),b=Ut(function(){const x={capture:!0,passive:!1},S=sD({cancel:p,completed:f,getPhase:()=>r.current,setPhase:T=>{r.current=T}});a.current=Ir(window,S,x)},[p,f]),g=Ut(function(x,S){r.current.type!=="IDLE"&&Lt(),r.current={type:"PENDING",point:S,actions:x},b()},[b]);Tr(function(){return d(),function(){a.current()}},[d])}function cD(){}const uD={[QA]:!0,[WA]:!0,[tD]:!0,[JA]:!0};function dD(t,r){function a(){r(),t.cancel()}function s(){r(),t.drop()}return[{eventName:"keydown",fn:u=>{if(u.keyCode===sg){u.preventDefault(),a();return}if(u.keyCode===g2){u.preventDefault(),s();return}if(u.keyCode===iD){u.preventDefault(),t.moveDown();return}if(u.keyCode===nD){u.preventDefault(),t.moveUp();return}if(u.keyCode===rD){u.preventDefault(),t.moveRight();return}if(u.keyCode===eD){u.preventDefault(),t.moveLeft();return}if(uD[u.keyCode]){u.preventDefault();return}b2(u)}},{eventName:"mousedown",fn:a},{eventName:"mouseup",fn:a},{eventName:"click",fn:a},{eventName:"touchstart",fn:a},{eventName:"resize",fn:a},{eventName:"wheel",fn:a,options:{passive:!0}},{eventName:oh,fn:a}]}function fD(t){const r=C.useRef(cD),a=fe(()=>({eventName:"keydown",fn:function(d){if(d.defaultPrevented||d.keyCode!==g2)return;const f=t.findClosestDraggableId(d);if(!f)return;const p=t.tryGetLock(f,_,{sourceEvent:d});if(!p)return;d.preventDefault();let b=!0;const g=p.snapLift();r.current();function _(){b||Lt(),b=!1,r.current(),s()}r.current=Ir(window,dD(g,_),{capture:!0,passive:!1})}}),[t]),s=Ut(function(){const d={passive:!1,capture:!0};r.current=Ir(window,[a],d)},[a]);Tr(function(){return s(),function(){r.current()}},[s])}const E0={type:"IDLE"},hD=120,mD=.15;function pD({cancel:t,getPhase:r}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:a=>{a.preventDefault()}},{eventName:"keydown",fn:a=>{if(r().type!=="DRAGGING"){t();return}a.keyCode===sg&&a.preventDefault(),t()}},{eventName:oh,fn:t}]}function gD({cancel:t,completed:r,getPhase:a}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const u=a();if(u.type!=="DRAGGING"){t();return}u.hasMoved=!0;const{clientX:d,clientY:f}=s.touches[0],p={x:d,y:f};s.preventDefault(),u.actions.move(p)}},{eventName:"touchend",fn:s=>{const u=a();if(u.type!=="DRAGGING"){t();return}s.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:s=>{if(a().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:s=>{const u=a();u.type==="IDLE"&&Lt();const d=s.touches[0];if(!d||!(d.force>=mD))return;const p=u.actions.shouldRespectForcePress();if(u.type==="PENDING"){p&&t();return}if(p){if(u.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}},{eventName:oh,fn:t}]}function bD(t){const r=C.useRef(E0),a=C.useRef(no),s=Ut(function(){return r.current},[]),u=Ut(function(T){r.current=T},[]),d=fe(()=>({eventName:"touchstart",fn:function(T){if(T.defaultPrevented)return;const M=t.findClosestDraggableId(T);if(!M)return;const D=t.tryGetLock(M,p,{sourceEvent:T});if(!D)return;const A=T.touches[0],{clientX:$,clientY:P}=A,j={x:$,y:P};a.current(),x(D,j)}}),[t]),f=Ut(function(){const T={capture:!0,passive:!1};a.current=Ir(window,[d],T)},[d]),p=Ut(()=>{const S=r.current;S.type!=="IDLE"&&(S.type==="PENDING"&&clearTimeout(S.longPressTimerId),u(E0),a.current(),f())},[f,u]),b=Ut(()=>{const S=r.current;p(),S.type==="DRAGGING"&&S.actions.cancel({shouldBlockNextClick:!0}),S.type==="PENDING"&&S.actions.abort()},[p]),g=Ut(function(){const T={capture:!0,passive:!1},M={cancel:b,completed:p,getPhase:s},D=Ir(window,gD(M),T),A=Ir(window,pD(M),T);a.current=function(){D(),A()}},[b,s,p]),_=Ut(function(){const T=s();T.type!=="PENDING"&&Lt();const M=T.actions.fluidLift(T.point);u({type:"DRAGGING",actions:M,hasMoved:!1})},[s,u]),x=Ut(function(T,M){s().type!=="IDLE"&&Lt();const D=setTimeout(_,hD);u({type:"PENDING",point:M,actions:T,longPressTimerId:D}),g()},[g,s,u,_]);Tr(function(){return f(),function(){a.current();const M=s();M.type==="PENDING"&&(clearTimeout(M.longPressTimerId),u(E0))}},[s,f,u]),Tr(function(){return Ir(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const yD=["input","button","textarea","select","option","optgroup","video","audio"];function v2(t,r){if(r==null)return!1;if(yD.includes(r.tagName.toLowerCase()))return!0;const s=r.getAttribute("contenteditable");return s==="true"||s===""?!0:r===t?!1:v2(t,r.parentElement)}function vD(t,r){const a=r.target;return ih(a)?v2(t,a):!1}var xD=t=>oi(t.getBoundingClientRect()).center;function _D(t){return t instanceof m2(t).Element}const SD=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||t})();function x2(t,r){return t==null?null:t[SD](r)?t:x2(t.parentElement,r)}function wD(t,r){return t.closest?t.closest(r):x2(t,r)}function TD(t){return`[${rl.contextId}="${t}"]`}function ED(t,r){const a=r.target;if(!_D(a))return null;const s=TD(t),u=wD(a,s);return!u||!ih(u)?null:u}function MD(t,r){const a=ED(t,r);return a?a.getAttribute(rl.draggableId):null}function ND(t,r){const a=`[${Tp.contextId}="${t}"]`,u=h2(document,a).find(d=>d.getAttribute(Tp.id)===r);return!u||!ih(u)?null:u}function AD(t){t.preventDefault()}function Cd({expected:t,phase:r,isLockActive:a,shouldWarn:s}){return!(!a()||t!==r)}function _2({lockAPI:t,store:r,registry:a,draggableId:s}){if(t.isClaimed())return!1;const u=a.draggable.findById(s);return!(!u||!u.options.isEnabled||!c2(r.getState(),s))}function DD({lockAPI:t,contextId:r,store:a,registry:s,draggableId:u,forceSensorStop:d,sourceEvent:f}){if(!_2({lockAPI:t,store:a,registry:s,draggableId:u}))return null;const b=s.draggable.getById(u),g=ND(r,b.descriptor.id);if(!g||f&&!b.options.canDragInteractiveElements&&vD(g,f))return null;const _=t.claim(d||no);let x="PRE_DRAG";function S(){return b.options.shouldRespectForcePress}function T(){return t.isActive(_)}function M(O,Y){Cd({expected:O,phase:x,isLockActive:T,shouldWarn:!0})&&a.dispatch(Y())}const D=M.bind(null,"DRAGGING");function A(O){function Y(){t.release(),x="COMPLETED"}x!=="PRE_DRAG"&&(Y(),Lt()),a.dispatch(wN(O.liftActionArgs)),x="DRAGGING";function et(it,V={shouldBlockNextClick:!1}){if(O.cleanup(),V.shouldBlockNextClick){const X=Ir(window,[{eventName:"click",fn:AD,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(X)}Y(),a.dispatch(e2({reason:it}))}return{isActive:()=>Cd({expected:"DRAGGING",phase:x,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:S,drop:it=>et("DROP",it),cancel:it=>et("CANCEL",it),...O.actions}}function $(O){const Y=zc(it=>{D(()=>t2({client:it}))});return{...A({liftActionArgs:{id:u,clientSelection:O,movementMode:"FLUID"},cleanup:()=>Y.cancel(),actions:{move:Y}}),move:Y}}function P(){const O={moveUp:()=>D(ON),moveRight:()=>D(LN),moveDown:()=>D(CN),moveLeft:()=>D(BN)};return A({liftActionArgs:{id:u,clientSelection:xD(g),movementMode:"SNAP"},cleanup:no,actions:O})}function j(){Cd({expected:"PRE_DRAG",phase:x,isLockActive:T,shouldWarn:!0})&&t.release()}return{isActive:()=>Cd({expected:"PRE_DRAG",phase:x,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:S,fluidLift:$,snapLift:P,abort:j}}const jD=[lD,fD,bD];function kD({contextId:t,store:r,registry:a,customSensors:s,enableDefaultSensors:u}){const d=[...u?jD:[],...s||[]],f=C.useState(()=>VA())[0],p=Ut(function(A,$){Zc(A)&&!Zc($)&&f.tryAbandon()},[f]);Tr(function(){let A=r.getState();return r.subscribe(()=>{const P=r.getState();p(A,P),A=P})},[f,r,p]),Tr(()=>f.tryAbandon,[f.tryAbandon]);const b=Ut(D=>_2({lockAPI:f,registry:a,store:r,draggableId:D}),[f,a,r]),g=Ut((D,A,$)=>DD({lockAPI:f,registry:a,contextId:t,store:r,draggableId:D,forceSensorStop:A||null,sourceEvent:$&&$.sourceEvent?$.sourceEvent:null}),[t,f,a,r]),_=Ut(D=>MD(t,D),[t]),x=Ut(D=>{const A=a.draggable.findById(D);return A?A.options:null},[a.draggable]),S=Ut(function(){f.isClaimed()&&(f.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Qp()))},[f,r]),T=Ut(()=>f.isClaimed(),[f]),M=fe(()=>({canGetLock:b,tryGetLock:g,findClosestDraggableId:_,findOptionsForDraggable:x,tryReleaseLock:S,isLockClaimed:T}),[b,g,_,x,S,T]);for(let D=0;D<d.length;D++)d[D](M)}const OD=t=>({onBeforeCapture:r=>{const a=()=>{t.onBeforeCapture&&t.onBeforeCapture(r)};Wc.flushSync(a)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),CD=t=>({...Uc,...t.autoScrollerOptions,durationDampening:{...Uc.durationDampening,...t.autoScrollerOptions}});function Sc(t){return t.current||Lt(),t.current}function LD(t){const{contextId:r,setCallbacks:a,sensors:s,nonce:u,dragHandleUsageInstructions:d}=t,f=C.useRef(null),p=p2(t),b=Ut(()=>OD(p.current),[p]),g=Ut(()=>CD(p.current),[p]),_=ZA(r),x=FA({contextId:r,text:d}),S=PA(r,u),T=Ut(X=>{Sc(f).dispatch(X)},[]),M=fe(()=>Pv({publishWhileDragging:EN,updateDroppableScroll:NN,updateDroppableIsEnabled:AN,updateDroppableIsCombineEnabled:DN,collectionStarting:MN},T),[T]),D=IA(),A=fe(()=>pA(D,M),[D,M]),$=fe(()=>OA({scrollWindow:gA,scrollDroppable:A.scrollDroppable,getAutoScrollerOptions:g,...Pv({move:t2},T)}),[A.scrollDroppable,T,g]),P=$A(r),j=fe(()=>dA({announce:_,autoScroller:$,dimensionMarshal:A,focusMarshal:P,getResponders:b,styleMarshal:S}),[_,$,A,P,b,S]);f.current=j;const B=Ut(()=>{const X=Sc(f);X.getState().phase!=="IDLE"&&X.dispatch(Qp())},[]),O=Ut(()=>{const X=Sc(f).getState();return X.phase==="DROP_ANIMATING"?!0:X.phase==="IDLE"?!1:X.isDragging},[]),Y=fe(()=>({isDragging:O,tryAbort:B}),[O,B]);a(Y);const et=Ut(X=>c2(Sc(f).getState(),X),[]),it=Ut(()=>Yo(Sc(f).getState()),[]),V=fe(()=>({marshal:A,focus:P,contextId:r,canLift:et,isMovementAllowed:it,dragHandleUsageInstructionsId:x,registry:D}),[r,A,x,P,et,it,D]);return kD({contextId:r,store:j,registry:D,customSensors:s||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),C.useEffect(()=>B,[B]),Re.createElement(ah.Provider,{value:V},Re.createElement(a3,{context:ag,store:j},t.children))}function BD(){return Re.useId()}function tu(t){const r=BD(),a=t.dragHandleUsageInstructions||hf.dragHandleUsageInstructions;return Re.createElement(f3,null,s=>Re.createElement(LD,{nonce:t.nonce,contextId:r,setCallbacks:s,dragHandleUsageInstructions:a,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const fx={dragging:5e3,dropAnimating:4500},RD=(t,r)=>r?Rc.drop(r.duration):t?Rc.snap:Rc.fluid,PD=(t,r)=>{if(t)return r?Gc.opacity.drop:Gc.opacity.combining},zD=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function $D(t){const a=t.dimension.client,{offset:s,combineWith:u,dropping:d}=t,f=!!u,p=zD(t),b=!!d,g=b?Sp.drop(s,f):Sp.moveTo(s);return{position:"fixed",top:a.marginBox.top,left:a.marginBox.left,boxSizing:"border-box",width:a.borderBox.width,height:a.borderBox.height,transition:RD(p,d),transform:g,opacity:PD(f,b),zIndex:b?fx.dropAnimating:fx.dragging,pointerEvents:"none"}}function HD(t){return{transform:Sp.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function ID(t){return t.type==="DRAGGING"?$D(t):HD(t)}function GD(t,r,a=pn){const s=window.getComputedStyle(r),u=r.getBoundingClientRect(),d=A1(u,s),f=vf(d,a),p={client:d,tagName:r.tagName.toLowerCase(),display:s.display},b={x:d.marginBox.width,y:d.marginBox.height};return{descriptor:t,placeholder:p,displaceBy:b,client:d,page:f}}function UD(t){const r=og("draggable"),{descriptor:a,registry:s,getDraggableRef:u,canDragInteractiveElements:d,shouldRespectForcePress:f,isEnabled:p}=t,b=fe(()=>({canDragInteractiveElements:d,shouldRespectForcePress:f,isEnabled:p}),[d,p,f]),g=Ut(T=>{const M=u();return M||Lt(),GD(a,M,T)},[a,u]),_=fe(()=>({uniqueId:r,descriptor:a,options:b,getDimension:g}),[a,g,b,r]),x=C.useRef(_),S=C.useRef(!0);Tr(()=>(s.draggable.register(x.current),()=>s.draggable.unregister(x.current)),[s.draggable]),Tr(()=>{if(S.current){S.current=!1;return}const T=x.current;x.current=_,s.draggable.update(_,T)},[_,s.draggable])}var lg=Re.createContext(null);function Ef(t){const r=C.useContext(t);return r||Lt(),r}function ZD(t){t.preventDefault()}const YD=t=>{const r=C.useRef(null),a=Ut((Y=null)=>{r.current=Y},[]),s=Ut(()=>r.current,[]),{contextId:u,dragHandleUsageInstructionsId:d,registry:f}=Ef(ah),{type:p,droppableId:b}=Ef(lg),g=fe(()=>({id:t.draggableId,index:t.index,type:p,droppableId:b}),[t.draggableId,t.index,p,b]),{children:_,draggableId:x,isEnabled:S,shouldRespectForcePress:T,canDragInteractiveElements:M,isClone:D,mapped:A,dropAnimationFinished:$}=t;if(!D){const Y=fe(()=>({descriptor:g,registry:f,getDraggableRef:s,canDragInteractiveElements:M,shouldRespectForcePress:T,isEnabled:S}),[g,f,s,M,T,S]);UD(Y)}const P=fe(()=>S?{tabIndex:0,role:"button","aria-describedby":d,"data-rfd-drag-handle-draggable-id":x,"data-rfd-drag-handle-context-id":u,draggable:!1,onDragStart:ZD}:null,[u,d,x,S]),j=Ut(Y=>{A.type==="DRAGGING"&&A.dropping&&Y.propertyName==="transform"&&Wc.flushSync($)},[$,A]),B=fe(()=>{const Y=ID(A),et=A.type==="DRAGGING"&&A.dropping?j:void 0;return{innerRef:a,draggableProps:{"data-rfd-draggable-context-id":u,"data-rfd-draggable-id":x,style:Y,onTransitionEnd:et},dragHandleProps:P}},[u,P,x,A,j,a]),O=fe(()=>({draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}}),[g.droppableId,g.id,g.index,g.type]);return Re.createElement(Re.Fragment,null,_(B,A.snapshot,O))};var S2=(t,r)=>t===r,w2=t=>{const{combine:r,destination:a}=t;return a?a.droppableId:r?r.droppableId:null};const qD=t=>t.combine?t.combine.draggableId:null,FD=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function VD(){const t=mn((u,d)=>({x:u,y:d})),r=mn((u,d,f=null,p=null,b=null)=>({isDragging:!0,isClone:d,isDropAnimating:!!b,dropAnimation:b,mode:u,draggingOver:f,combineWith:p,combineTargetFor:null})),a=mn((u,d,f,p,b=null,g=null,_=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:b,combineWith:g,mode:d,offset:u,dimension:f,forceShouldAnimate:_,snapshot:r(d,p,b,g,null)}}));return(u,d)=>{if(Zc(u)){if(u.critical.draggable.id!==d.draggableId)return null;const f=u.current.client.offset,p=u.dimensions.draggables[d.draggableId],b=wr(u.impact),g=FD(u.impact),_=u.forceShouldAnimate;return a(t(f.x,f.y),u.movementMode,p,d.isClone,b,g,_)}if(u.phase==="DROP_ANIMATING"){const f=u.completed;if(f.result.draggableId!==d.draggableId)return null;const p=d.isClone,b=u.dimensions.draggables[d.draggableId],g=f.result,_=g.mode,x=w2(g),S=qD(g),M={duration:u.dropDuration,curve:tg.drop,moveTo:u.newHomeClientOffset,opacity:S?Gc.opacity.drop:null,scale:S?Gc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:u.newHomeClientOffset,dimension:b,dropping:M,draggingOver:x,combineWith:S,mode:_,forceShouldAnimate:null,snapshot:r(_,p,x,S,M)}}}return null}}function T2(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const KD={mapped:{type:"SECONDARY",offset:pn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:T2(null)}};function XD(){const t=mn((f,p)=>({x:f,y:p})),r=mn(T2),a=mn((f,p=null,b)=>({mapped:{type:"SECONDARY",offset:f,combineTargetFor:p,shouldAnimateDisplacement:b,snapshot:r(p)}})),s=f=>f?a(pn,f,!0):null,u=(f,p,b,g)=>{const _=b.displaced.visible[f],x=!!(g.inVirtualList&&g.effected[f]),S=eh(b),T=S&&S.draggableId===f?p:null;if(!_){if(!x)return s(T);if(b.displaced.invisible[f])return null;const A=cl(g.displacedBy.point),$=t(A.x,A.y);return a($,T,!0)}if(x)return s(T);const M=b.displacedBy.point,D=t(M.x,M.y);return a(D,T,_.shouldAnimate)};return(f,p)=>{if(Zc(f))return f.critical.draggable.id===p.draggableId?null:u(p.draggableId,f.critical.draggable.id,f.impact,f.afterCritical);if(f.phase==="DROP_ANIMATING"){const b=f.completed;return b.result.draggableId===p.draggableId?null:u(p.draggableId,b.result.draggableId,b.impact,b.afterCritical)}return null}}const WD=()=>{const t=VD(),r=XD();return(s,u)=>t(s,u)||r(s,u)||KD},QD={dropAnimationFinished:n2},JD=N1(WD,QD,null,{context:ag,areStatePropsEqual:S2})(YD);function E2(t){return Ef(lg).isUsingCloneFor===t.draggableId&&!t.isClone?null:Re.createElement(JD,t)}function il(t){const r=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,a=!!t.disableInteractiveElementBlocking,s=!!t.shouldRespectForcePress;return Re.createElement(E2,xf({},t,{isClone:!1,isEnabled:r,canDragInteractiveElements:a,shouldRespectForcePress:s}))}const M2=t=>r=>t===r,tj=M2("scroll"),ej=M2("auto"),hx=(t,r)=>r(t.overflowX)||r(t.overflowY),nj=t=>{const r=window.getComputedStyle(t),a={overflowX:r.overflowX,overflowY:r.overflowY};return hx(a,tj)||hx(a,ej)},rj=()=>!1,N2=t=>t==null?null:t===document.body?rj()?t:null:t===document.documentElement?null:nj(t)?t:N2(t.parentElement);var Ep=t=>({x:t.scrollLeft,y:t.scrollTop});const A2=t=>t?window.getComputedStyle(t).position==="fixed"?!0:A2(t.parentElement):!1;var ij=t=>{const r=N2(t),a=A2(t);return{closestScrollable:r,isFixedOnPage:a}},aj=({descriptor:t,isEnabled:r,isCombineEnabled:a,isFixedOnPage:s,direction:u,client:d,page:f,closest:p})=>{const b=(()=>{if(!p)return null;const{scrollSize:S,client:T}=p,M=o2({scrollHeight:S.scrollHeight,scrollWidth:S.scrollWidth,height:T.paddingBox.height,width:T.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:T,scrollSize:S,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:M,diff:{value:pn,displacement:pn}}}})(),g=u==="vertical"?Fp:$1,_=el({page:f,withPlaceholder:null,axis:g,frame:b});return{descriptor:t,isCombineEnabled:a,isFixedOnPage:s,axis:g,isEnabled:r,client:d,page:f,frame:b,subject:_}};const oj=(t,r)=>{const a=D1(t);if(!r||t!==r)return a;const s=a.paddingBox.top-r.scrollTop,u=a.paddingBox.left-r.scrollLeft,d=s+r.scrollHeight,f=u+r.scrollWidth,b=Up({top:s,right:f,bottom:d,left:u},a.border);return Zp({borderBox:b,margin:a.margin,border:a.border,padding:a.padding})};var sj=({ref:t,descriptor:r,env:a,windowScroll:s,direction:u,isDropDisabled:d,isCombineEnabled:f,shouldClipSubject:p})=>{const b=a.closestScrollable,g=oj(t,b),_=vf(g,s),x=(()=>{if(!b)return null;const T=D1(b),M={scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth};return{client:T,page:vf(T,s),scroll:Ep(b),scrollSize:M,shouldClipSubject:p}})();return aj({descriptor:r,isEnabled:!d,isCombineEnabled:f,isFixedOnPage:a.isFixedOnPage,direction:u,client:g,page:_,closest:x})};const lj={passive:!1},cj={passive:!0};var mx=t=>t.shouldPublishImmediately?lj:cj;const Ld=t=>t&&t.env.closestScrollable||null;function uj(t){const r=C.useRef(null),a=Ef(ah),s=og("droppable"),{registry:u,marshal:d}=a,f=p2(t),p=fe(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),b=C.useRef(p),g=fe(()=>mn((B,O)=>{r.current||Lt();const Y={x:B,y:O};d.updateDroppableScroll(p.id,Y)}),[p.id,d]),_=Ut(()=>{const B=r.current;return!B||!B.env.closestScrollable?pn:Ep(B.env.closestScrollable)},[]),x=Ut(()=>{const B=_();g(B.x,B.y)},[_,g]),S=fe(()=>zc(x),[x]),T=Ut(()=>{const B=r.current,O=Ld(B);if(B&&O||Lt(),B.scrollOptions.shouldPublishImmediately){x();return}S()},[S,x]),M=Ut((B,O)=>{r.current&&Lt();const Y=f.current,et=Y.getDroppableRef();et||Lt();const it=ij(et),V={ref:et,descriptor:p,env:it,scrollOptions:O};r.current=V;const X=sj({ref:et,descriptor:p,env:it,windowScroll:B,direction:Y.direction,isDropDisabled:Y.isDropDisabled,isCombineEnabled:Y.isCombineEnabled,shouldClipSubject:!Y.ignoreContainerClipping}),q=it.closestScrollable;return q&&(q.setAttribute(lx.contextId,a.contextId),q.addEventListener("scroll",T,mx(V.scrollOptions))),X},[a.contextId,p,T,f]),D=Ut(()=>{const B=r.current,O=Ld(B);return B&&O||Lt(),Ep(O)},[]),A=Ut(()=>{const B=r.current;B||Lt();const O=Ld(B);r.current=null,O&&(S.cancel(),O.removeAttribute(lx.contextId),O.removeEventListener("scroll",T,mx(B.scrollOptions)))},[T,S]),$=Ut(B=>{const O=r.current;O||Lt();const Y=Ld(O);Y||Lt(),Y.scrollTop+=B.y,Y.scrollLeft+=B.x},[]),P=fe(()=>({getDimensionAndWatchScroll:M,getScrollWhileDragging:D,dragStopped:A,scroll:$}),[A,M,D,$]),j=fe(()=>({uniqueId:s,descriptor:p,callbacks:P}),[P,p,s]);Tr(()=>(b.current=j.descriptor,u.droppable.register(j),()=>{r.current&&A(),u.droppable.unregister(j)}),[P,p,A,j,d,u.droppable]),Tr(()=>{r.current&&d.updateDroppableIsEnabled(b.current.id,!t.isDropDisabled)},[t.isDropDisabled,d]),Tr(()=>{r.current&&d.updateDroppableIsCombineEnabled(b.current.id,t.isCombineEnabled)},[t.isCombineEnabled,d])}function M0(){}const px={width:0,height:0,margin:v3},dj=({isAnimatingOpenOnMount:t,placeholder:r,animate:a})=>t||a==="close"?px:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin},fj=({isAnimatingOpenOnMount:t,placeholder:r,animate:a})=>{const s=dj({isAnimatingOpenOnMount:t,placeholder:r,animate:a});return{display:r.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Rc.placeholder:null}},hj=t=>{const r=C.useRef(null),a=Ut(()=>{r.current&&(clearTimeout(r.current),r.current=null)},[]),{animate:s,onTransitionEnd:u,onClose:d,contextId:f}=t,[p,b]=C.useState(t.animate==="open");C.useEffect(()=>p?s!=="open"?(a(),b(!1),M0):r.current?M0:(r.current=setTimeout(()=>{r.current=null,b(!1)}),a):M0,[s,p,a]);const g=Ut(x=>{x.propertyName==="height"&&(u(),s==="close"&&d())},[s,d,u]),_=fj({isAnimatingOpenOnMount:p,animate:t.animate,placeholder:t.placeholder});return Re.createElement(t.placeholder.tagName,{style:_,"data-rfd-placeholder-context-id":f,onTransitionEnd:g,ref:t.innerRef})};var mj=Re.memo(hj);class pj extends Re.PureComponent{constructor(...r){super(...r),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(r,a){return r.shouldAnimate?r.on?{isVisible:!0,data:r.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!r.on,data:r.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const r={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(r)}}const gj=t=>{const r=C.useContext(ah);r||Lt();const{contextId:a,isMovementAllowed:s}=r,u=C.useRef(null),d=C.useRef(null),{children:f,droppableId:p,type:b,mode:g,direction:_,ignoreContainerClipping:x,isDropDisabled:S,isCombineEnabled:T,snapshot:M,useClone:D,updateViewportMaxScroll:A,getContainerForClone:$}=t,P=Ut(()=>u.current,[]),j=Ut((q=null)=>{u.current=q},[]);Ut(()=>d.current,[]);const B=Ut((q=null)=>{d.current=q},[]),O=Ut(()=>{s()&&A({maxScroll:l2()})},[s,A]);uj({droppableId:p,type:b,mode:g,direction:_,isDropDisabled:S,isCombineEnabled:T,ignoreContainerClipping:x,getDroppableRef:P});const Y=fe(()=>Re.createElement(pj,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:q,data:U,animate:J})=>Re.createElement(mj,{placeholder:U,onClose:q,innerRef:B,animate:J,contextId:a,onTransitionEnd:O})),[a,O,t.placeholder,t.shouldAnimatePlaceholder,B]),et=fe(()=>({innerRef:j,placeholder:Y,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":a}}),[a,p,Y,j]),it=D?D.dragging.draggableId:null,V=fe(()=>({droppableId:p,type:b,isUsingCloneFor:it}),[p,it,b]);function X(){if(!D)return null;const{dragging:q,render:U}=D,J=Re.createElement(E2,{draggableId:q.draggableId,index:q.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(rt,ct)=>U(rt,ct,q));return iM.createPortal(J,$())}return Re.createElement(lg.Provider,{value:V},f(et,M),X())};function bj(){return document.body||Lt(),document.body}const gx={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:bj},D2=t=>{let r={...t},a;for(a in gx)t[a]===void 0&&(r={...r,[a]:gx[a]});return r},N0=(t,r)=>t===r.droppable.type,bx=(t,r)=>r.draggables[t.draggable.id],yj=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r={...t,shouldAnimatePlaceholder:!1},a=mn(d=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),s=mn((d,f,p,b,g,_)=>{const x=g.descriptor.id;if(g.descriptor.droppableId===d){const M=_?{render:_,dragging:a(g.descriptor)}:null,D={isDraggingOver:p,draggingOverWith:p?x:null,draggingFromThisWith:x,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!1,snapshot:D,useClone:M}}if(!f)return r;if(!b)return t;const T={isDraggingOver:p,draggingOverWith:x,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!0,snapshot:T,useClone:null}});return(d,f)=>{const p=D2(f),b=p.droppableId,g=p.type,_=!p.isDropDisabled,x=p.renderClone;if(Zc(d)){const S=d.critical;if(!N0(g,S))return r;const T=bx(S,d.dimensions),M=wr(d.impact)===b;return s(b,_,M,M,T,x)}if(d.phase==="DROP_ANIMATING"){const S=d.completed;if(!N0(g,S.critical))return r;const T=bx(S.critical,d.dimensions);return s(b,_,w2(S.result)===b,wr(S.impact)===b,T,x)}if(d.phase==="IDLE"&&d.completed&&!d.shouldFlush){const S=d.completed;if(!N0(g,S.critical))return r;const T=wr(S.impact)===b,M=!!(S.impact.at&&S.impact.at.type==="COMBINE"),D=S.critical.droppable.id===b;return T?M?t:r:D?t:r}return r}},vj={updateViewportMaxScroll:kN},Vo=N1(yj,vj,(t,r,a)=>({...D2(a),...t,...r}),{context:ag,areStatePropsEqual:S2})(gj),fl=Xc()(zp((t,r)=>({currentId:null,setCurrent:a=>t({currentId:a}),list:[],add:a=>t({list:[a,...r().list]}),remove:a=>t({list:r().list.filter(s=>s.id!==a)}),update:(a,s)=>t({list:r().list.map(u=>u.id===a?{...u,...s}:u)}),reorder:a=>t({list:a})}),{name:"myeongsik-list",partialize:t=>({list:t.list.map(r=>({...r,dir:r.dir??"forward"}))}),merge:(t,r)=>{const a=t,s=u=>({...u,dir:u.dir??"forward",dateObj:u?.dateObj?new Date(u.dateObj):new Date,corrected:u?.corrected?new Date(u.corrected):new Date});return{...r,...a,list:Array.isArray(a.list)?a.list.map(s):[]}}})),xj=[{value:"본인",label:"본인 (1인지정만 가능)"},{value:"연인/배우자",label:"연인 / 배우자"},{value:"가족",label:"가족"},{value:"고객",label:"고객"},{value:"친구",label:"친구"},{value:"동료",label:"동료"},{value:"지인",label:"지인"}],j2=({value:t,onChange:r})=>{const[a,s]=C.useState(xj),[u,d]=C.useState(""),[f,p]=C.useState(!1),[b,g]=C.useState(""),[_,x]=C.useState(!1),{list:S}=fl(),M=S.some(j=>j.relationship==="본인")?a.filter(j=>j.value!=="본인"):a;C.useEffect(()=>{t!==void 0&&d(t)},[t]);const D=j=>{const B=j.target.value;d(B),r?.(B),B==="기타입력"?p(!0):(p(!1),g(""))};C.useEffect(()=>{const j=localStorage.getItem("relationshipOptions");j&&s(JSON.parse(j))},[]),C.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(a))},[a]);const A=()=>{if(!b.trim())return;const j={value:b,label:b};s([...a,j]),d(b),g(""),p(!1)},$=j=>{s(a.filter(B=>B.value!==j)),u===j&&d("")},P=j=>{if(!j.destination)return;const B=Array.from(a),[O]=B.splice(j.source.index,1);B.splice(j.destination.index,0,O),s(B)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"rel_set flex items-center gap-2",children:[y.jsxs("select",{name:"relationship",id:"relationship",value:u,onChange:D,children:[y.jsx("option",{value:"",hidden:!0,children:"관계선택"}),M.map(j=>y.jsx("option",{value:j.value,children:j.label},j.value)),y.jsx("option",{value:"기타입력",children:"기타입력"})]}),y.jsx("button",{type:"button",onClick:()=>x(!0),className:"btn_style",children:"관계수정"})]}),f&&!_&&y.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[y.jsx("input",{type:"text",placeholder:"관계 기타입력",value:b,onChange:j=>g(j.target.value)}),y.jsx("button",{type:"button",onClick:A,className:"btn_style",children:"관계추가"})]}),_&&y.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[y.jsx("h4",{className:"font-bold mb-2",children:"관계 수정"}),y.jsx(tu,{onDragEnd:P,children:y.jsx(Vo,{droppableId:"relList",children:j=>y.jsxs("ul",{ref:j.innerRef,...j.droppableProps,className:"space-y-1",children:[a.map((B,O)=>y.jsx(il,{draggableId:B.value,index:O,children:Y=>y.jsxs("li",{ref:Y.innerRef,...Y.draggableProps,...Y.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[y.jsx("span",{className:"cursor-grab mr-2",children:"☰"}),y.jsx("span",{className:"flex-1 pr-1",children:B.label}),y.jsx("button",{type:"button",className:"text-red-500",onClick:()=>$(B.value),children:"삭제"})]})},B.value)),j.placeholder]})})}),y.jsx("button",{type:"button",onClick:()=>x(!1),className:"w-full btn_style mt-2",children:"닫기"})]})]})},_j={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Mf(t,r,a){const s=_j[t];if(!s)return!1;const u=new Date(t,r-1,a,0,0,0,0);return u>=s.start&&u<s.end}function Sj(t){if(!isFinite(t.getTime()))return 0;const r=t.getUTCFullYear(),a=Date.UTC(r,0,1),u=Math.floor((t.getTime()-a)/864e5)+1,d=t.getUTCHours(),f=t.getUTCMinutes(),p=t.getUTCSeconds(),b=(d-12)/24+f/1440+p/86400,g=2*Math.PI/365*(u-1+b);return 229.18*(75e-6+.001868*Math.cos(g)-.032077*Math.sin(g)-.014615*Math.cos(2*g)-.040849*Math.sin(2*g))}function wj(t){return t=(t+540)%360-180,t>=124&&t<=132||t>=129&&t<=146?135:t>=73&&t<=135?120:t>=-161&&t<=-154?-150:t>=-170&&t<-161?-165:t>=-150&&t<-141?-135:t>=-141&&t<-126?-120:t>=-126&&t<-111?-105:t>=-111&&t<-96?-90:t>=-96&&t<-81?-75:Math.round(t/15)*15}function Qo(t,r,a=!1){const s=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),0,0);if(a)return new Date(s.getTime()-1800*1e3);if(r==null||!isFinite(r))return s;let u=r;Math.abs(u)<=Math.PI+1e-6&&(u=u*180/Math.PI),u=(u+540)%360-180;const d=wj(u),f=4*(u-d),p=Sj(s);return new Date(s.getTime()+(f+p)*60*1e3)}const Ae="폴더 미지정",Nf=["가족","친구","직장","지인","고객","기타"],Af="ms_folders",Tj="ms_folder_order",Ej="ms_folder_favs",k2="ms_disabled_presets";function Mj(t){return!t||t==="미분류"?Ae:t}function al(t){if(!(!t||t===Ae||t==="미분류"))return t}function yx(){try{const t=localStorage.getItem(Af),r=localStorage.getItem(k2),a=t?JSON.parse(t):[],s=r?JSON.parse(r):[],u=Nf.filter(d=>!s.includes(d));return[Ae,...u,...a]}catch{return[Ae,...Nf]}}function Nj(t){const r=t.trim();if(!(!r||r===Ae))try{const a=localStorage.getItem(Af),s=a?JSON.parse(a):[];if(!s.includes(r)){const u=[...s,r];localStorage.setItem(Af,JSON.stringify(u))}}catch{}}const Bd="folder.order.v1";function A0(t){return Array.from(new Set(t))}function wc(t){const r=t.filter(a=>a!==Ae);return{rest:r,withUnassigned:[Ae,...r]}}function vx(t,r){const a=new Set(r),s=t.filter(d=>a.has(d));return[...s,...r.filter(d=>!s.includes(d))]}function Aj({value:t,onChange:r}){const[a,s]=C.useState([Ae]),[u,d]=C.useState(!1),[f,p]=C.useState(""),[b,g]=C.useState(!1);C.useEffect(()=>{const M=A0(yx()),D=M.includes(Ae)?A0(M):[Ae,...M],A=localStorage.getItem(Bd),$=A?JSON.parse(A):[],{rest:P}=wc(D),j=vx($,P),B=[Ae,...j];s(B),JSON.stringify($)!==JSON.stringify(j)&&localStorage.setItem(Bd,JSON.stringify(j))},[]);const _=C.useMemo(()=>t||Ae,[t]),x=M=>{const{rest:D}=wc(M);localStorage.setItem(Bd,JSON.stringify(D))},S=M=>{const{source:D,destination:A}=M;if(!A||A.index===D.index)return;const{rest:$}=wc(a),P=Array.from($),[j]=P.splice(D.index,1);P.splice(A.index,0,j);const B=[Ae,...P];s(B),x(B)},T=M=>{Nj(M);const D=A0(yx()),A=D.includes(Ae)?D:[Ae,...D],$=localStorage.getItem(Bd),P=$?JSON.parse($):[],{rest:j}=wc(A),B=vx(P,j),O=[Ae,...B];s(O),x(O)};return y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:u?"__custom__":_,onChange:M=>{const D=M.target.value;if(D==="__custom__"){d(!0),r(void 0);return}d(!1),r(al(D))},children:[a.map(M=>y.jsx("option",{value:M,children:M},M)),y.jsx("option",{value:"__custom__",children:"+ 새 폴더 직접입력…"})]}),y.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>g(M=>!M),children:b?"순서수정 닫기":"폴더 순서수정"})]}),u&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",value:f,onChange:M=>p(M.target.value),placeholder:"새 폴더 이름",className:"flex-1 border rounded-lg p-2"}),y.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white",onClick:()=>{const M=f.trim();M&&(T(M),r(M),d(!1),p(""))},children:"추가"})]}),b&&y.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[y.jsx("h4",{className:"font-bold mb-2 text-s",children:"폴더 순서 수정"}),y.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[y.jsx("span",{className:"opacity-60 select-none",children:"🔒"}),y.jsxs("span",{className:"flex-1 px-2",children:[Ae," (고정)"]})]}),y.jsx(tu,{onDragEnd:S,children:y.jsx(Vo,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:M=>y.jsxs("ul",{ref:M.innerRef,...M.droppableProps,className:"space-y-1",children:[wc(a).rest.map((D,A)=>y.jsx(il,{draggableId:D,index:A,children:$=>y.jsxs("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[y.jsx("span",{className:"cursor-grab select-none mr-2",children:"☰"}),y.jsx("span",{className:"flex-1 pr-1",children:D})]})},D)),M.placeholder]})})})]}),y.jsxs("p",{className:"text-xs text-gray-500",children:['폴더를 지정하지 않으려면 "',Ae,'"을 선택하세요. 직접입력으로 새 폴더를 만들 수 있어요.']})]})}function O2({message:t,onClose:r,ms:a=2e3}){return C.useEffect(()=>{const s=setTimeout(r,a);return()=>clearTimeout(s)},[r,a]),y.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:t})}var mf={exports:{}},Dj=mf.exports,xx;function jj(){return xx||(xx=1,(function(t,r){(function(a,s){t.exports=s()})(Dj,function(){return(function(a){function s(d){if(u[d])return u[d].exports;var f=u[d]={i:d,l:!1,exports:{}};return a[d].call(f.exports,f,f.exports,s),f.l=!0,f.exports}var u={};return s.m=a,s.c=u,s.d=function(d,f,p){s.o(d,f)||Object.defineProperty(d,f,{configurable:!1,enumerable:!0,get:p})},s.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return s.d(f,"a",f),f},s.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},s.p="",s(s.s=0)})([function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0});var d=u(1),f=(function(p){return p&&p.__esModule?p:{default:p}})(d);s.default=f.default,a.exports=s.default},function(a,s,u){function d(J){return J&&J.__esModule?J:{default:J}}Object.defineProperty(s,"__esModule",{value:!0});var f=u(2),p=d(f),b=u(3),g=d(b),_=u(4),x=d(_),S=u(5),T=d(S),M=u(6),D=d(M),A=u(7),$=d(A),P=u(8),j=d(P),B=u(9),O=d(B),Y=u(10),et=d(Y),it=u(11),V=d(it),X=u(12),q=d(X),U={lunarInfo:p.default,solarMonth:g.default,gan:x.default,zhi:T.default,animals:D.default,lunarTerm:$.default,lTermInfo:j.default,nStr1:O.default,nStr2:et.default,nStr3:V.default,nStr4:q.default,lYearDays:function(J){var rt,ct=348;for(rt=32768;rt>8;rt>>=1)ct+=U.lunarInfo[J-1900]&rt?1:0;return ct+U.leapDays(J)},leapMonth:function(J){return 15&U.lunarInfo[J-1900]},leapDays:function(J){return U.leapMonth(J)?65536&U.lunarInfo[J-1900]?30:29:0},monthDays:function(J,rt){return rt>12||rt<1?-1:U.lunarInfo[J-1900]&65536>>rt?30:29},solarDays:function(J,rt){if(rt>12||rt<1)return-1;var ct=rt-1;return ct==1?J%4==0&&J%100!=0||J%400==0?29:28:U.solarMonth[ct]},toGanZhi:function(J){return U.gan[J%10]+U.zhi[J%12]},getTerm:function(J,rt){if(J<1900||J>2100||rt<1||rt>24)return-1;var ct=U.lTermInfo[J-1900],I=[parseInt("0x"+ct.substr(0,5)).toString(),parseInt("0x"+ct.substr(5,5)).toString(),parseInt("0x"+ct.substr(10,5)).toString(),parseInt("0x"+ct.substr(15,5)).toString(),parseInt("0x"+ct.substr(20,5)).toString(),parseInt("0x"+ct.substr(25,5)).toString()],at=[I[0].substr(0,1),I[0].substr(1,2),I[0].substr(3,1),I[0].substr(4,2),I[1].substr(0,1),I[1].substr(1,2),I[1].substr(3,1),I[1].substr(4,2),I[2].substr(0,1),I[2].substr(1,2),I[2].substr(3,1),I[2].substr(4,2),I[3].substr(0,1),I[3].substr(1,2),I[3].substr(3,1),I[3].substr(4,2),I[4].substr(0,1),I[4].substr(1,2),I[4].substr(3,1),I[4].substr(4,2),I[5].substr(0,1),I[5].substr(1,2),I[5].substr(3,1),I[5].substr(4,2)];return parseInt(at[rt-1])},toChinaYear:function(J){var rt=parseInt(J/1e3),ct=parseInt(J%1e3/100),I=parseInt(J%100/10),at=J%10;return U.nStr4[rt]+U.nStr4[ct]+U.nStr4[I]+U.nStr4[at]+"年"},toChinaMonth:function(J){if(J>12||J<1)return-1;var rt=U.nStr3[J-1];return rt+="月"},toChinaDay:function(J){var rt;switch(J){case 10:rt="初十";break;case 20:rt="二十";break;case 30:rt="三十";break;default:rt=U.nStr2[Math.floor(J/10)],rt+=U.nStr1[J%10]}return rt},getAnimal:function(J){return U.animals[(J-4)%12]},solar2lunar:function(xt,k,H){if(xt<1900||xt>2100||xt==1900&&k==1&&H<31)return-1;if(xt)var I=new Date(xt,parseInt(k)-1,H);else var I=new Date;var at,vt=0,st=0,xt=I.getFullYear(),k=I.getMonth()+1,H=I.getDate(),F=(Date.UTC(I.getFullYear(),I.getMonth(),I.getDate())-Date.UTC(1900,0,31))/864e5;for(at=1900;at<2101&&F>0;at++)st=U.lYearDays(at),F-=st;F<0&&(F+=st,at--);var tt=new Date,K=!1;tt.getFullYear()==xt&&tt.getMonth()+1==k&&tt.getDate()==H&&(K=!0);var G=I.getDay(),Z=U.nStr1[G];G==0&&(G=7);var mt=at,vt=U.leapMonth(at),ot=!1;for(at=1;at<13&&F>0;at++)vt>0&&at==vt+1&&ot==0?(--at,ot=!0,st=U.leapDays(mt)):st=U.monthDays(mt,at),ot==1&&at==vt+1&&(ot=!1),F-=st;F==0&&vt>0&&at==vt+1&&(ot?ot=!1:(ot=!0,--at)),F<0&&(F+=st,--at);var St=at,Ct=F+1,At=k-1,jt=U.getTerm(xt,3),Tt=U.toGanZhi(xt-4),Bt=new Date(xt,1,jt).getTime();new Date(xt,At,H).getTime()<Bt&&(Tt=U.toGanZhi(xt-5));var It=U.getTerm(xt,2*k-1),Yt=U.getTerm(xt,2*k),Dt=U.toGanZhi(12*(xt-1900)+k+11);H>=It&&(Dt=U.toGanZhi(12*(xt-1900)+k+12));var dt=!1,Ot="";It==H&&(dt=!0,Ot=U.lunarTerm[2*k-2]),Yt==H&&(dt=!0,Ot=U.lunarTerm[2*k-1]);var bt=Date.UTC(xt,At,1,0,0,0,0)/864e5+25567+10,qt=U.toGanZhi(bt+H-1);return{lYear:mt,lMonth:St,lDay:Ct,animal:U.getAnimal(mt),yearCn:U.toChinaYear(mt),monthCn:(ot&&vt===St?"闰":"")+U.toChinaMonth(St),dayCn:U.toChinaDay(Ct),cYear:xt,cMonth:k,cDay:H,gzYear:Tt,gzMonth:Dt,gzDay:qt,isToday:K,isLeap:ot,nWeek:G,ncWeek:"星期"+Z,isTerm:dt,term:Ot}},lunar2solar:function(J,rt,ct,I){var at=U.leapMonth(J);if(U.leapDays(J),I&&at!=rt||J==2100&&rt==12&&ct>1||J==1900&&rt==1&&ct<31)return-1;var st=U.monthDays(J,rt);if(J<1900||J>2100||ct>st)return-1;for(var xt=0,k=1900;k<J;k++)xt+=U.lYearDays(k);for(var H=0,F=!1,k=1;k<rt;k++)H=U.leapMonth(J),F||H<=k&&H>0&&(xt+=U.leapDays(J),F=!0),xt+=U.monthDays(J,k);I&&(xt+=st);var tt=Date.UTC(1900,1,30,0,0,0),K=new Date(864e5*(xt+ct-31)+tt),G=K.getUTCFullYear(),Z=K.getUTCMonth()+1,mt=K.getUTCDate();return U.solar2lunar(G,Z,mt)}};s.default=U,a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[31,28,31,30,31,30,31,31,30,31,30,31],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["日","一","二","三","四","五","六","七","八","九","十"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["初","十","廿","卅"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["正","二","三","四","五","六","七","八","九","十","冬","腊"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["零","一","二","三","四","五","六","七","八","九","十"],a.exports=s.default}])})})(mf)),mf.exports}var C2=jj();const kj=ll(C2),cg=rT({__proto__:null,default:kj},[C2]);function sh(t){return typeof t=="object"&&t!==null}function Oj(t){return sh(t)&&"default"in t}function Cj(t){return sh(t)&&typeof t.lunar2solar=="function"}function Lj(t){if(!sh(t))throw new Error("Invalid lunar2solar result");const r=t.cYear,a=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof r!="number"||typeof a!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:r,cMonth:a,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function Bj(t){const r=Oj(t)?t.default:t;if(!Cj(r))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,f)=>{const p=r.lunar2solar(s,u,d,f);return Lj(p)}}}const Rj=Bj(cg);function si(t,r,a,s=4,u=0){const d=Rj.lunar2solar(t,r,a,!1);return new Date(d.cYear,d.cMonth-1,d.cDay,s,u)}const Tc=[{key:"name",label:"이름",placeholder:"이름을 입력하세요",type:"text"},{key:"birthDay",label:"생년월일",placeholder:"예: 19900101",type:"tel"},{key:"birthTime",label:"태어난 시간",placeholder:"예: 1524",type:"tel"},{key:"mingSikType",label:"명식 기준",type:"mingrule"},{key:"gender",label:"성별",type:"radio"},{key:"birthPlace",label:"태어난 지역",type:"place"},{key:"relationship",label:"관계",type:"relationship"},{key:"folder",label:"폴더 선택",type:"folder"},{key:"memo",label:"메모",placeholder:"메모를 입력하세요",type:"textarea"}],Ec=[{value:"solar",label:"양력",id:"calendarType_solar"},{value:"lunar",label:"음력",id:"calendarType_lunar"}],Rd=["자시","조자시/야자시","인시"],Pd=["남자","여자"];function D0(t,r,a){return a==="ArrowRight"||a==="ArrowDown"?(t+1)%r:a==="ArrowLeft"||a==="ArrowUp"?(t-1+r)%r:a==="Home"?0:a==="End"?r-1:t}function j0(t){const r=document.getElementById(t);r instanceof HTMLElement&&r.focus()}function Pj({onSave:t,onClose:r}){const{add:a}=fl(),[s,u]=C.useState(0),[d,f]=C.useState({gender:"남자",mingSikType:"조자시/야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[p,b]=C.useState(null),[g,_]=C.useState(!1),[x,S]=C.useState(!1),T=Tc[s],M=B=>b(B);C.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(T.key)){const O=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(O){O.focus();return}}if(T.key==="mingSikType"){const O=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(O){O.focus();return}}if(T.key==="gender"){const O=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(O){O.focus();return}}if(d.birthPlace||x){const O=()=>{const Y=document.querySelector(".current-step form button[type='submit']");Y&&Y.focus()};O(),setTimeout(O,0)}else{const O=document.getElementById("inputBirthPlaceBtn");O&&O.focus()}if(T.key==="relationship"){setTimeout(()=>{const O=document.querySelector(".current-step select");O&&O.focus()},0);return}if(T.key==="folder"){setTimeout(()=>{const O=document.querySelector(".current-step select");O&&O.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[x,s,T.key,d.birthPlace]);const D=C.useMemo(()=>{if(d.calendarType!=="lunar"||!d.birthDay||d.birthDay.length!==8)return null;try{const B=Number(d.birthDay.slice(0,4)),O=Number(d.birthDay.slice(4,6)),Y=Number(d.birthDay.slice(6,8)),et=si(B,O,Y);return`→ 양력 ${et.getFullYear()}-${String(et.getMonth()+1).padStart(2,"0")}-${String(et.getDate()).padStart(2,"0")}`}catch(B){const O=B instanceof Error?B.message:void 0;return`→ 변환 실패${O?`: ${O}`:""}`}},[d.calendarType,d.birthDay]),A=()=>{const B=Tc[s];if(B.key==="name"&&(d.name||(f({...d,name:"이름없음"}),M("이름을 적지 않으시면 '이름없음'으로 대체됩니다."))),B.key==="birthDay"){const O=/^\d{8}$/;if(!d.birthDay||!O.test(d.birthDay))return M("생년월일은 YYYYMMDD 형식으로 입력해주세요."),!1;const Y=Number(d.birthDay.substring(0,4)),et=Number(d.birthDay.substring(4,6)),it=Number(d.birthDay.substring(6,8));if(Y<1900||Y>2100)return M("출생 연도는 1900~2100년 사이여야 합니다."),!1;if(et<1||et>12)return M("출생 월은 01~12 사이여야 합니다."),!1;if(it<1||it>31)return M("출생 일은 01~31 사이여야 합니다."),!1;if(d.calendarType==="solar"){const V=new Date(Y,et-1,it);if(V.getFullYear()!==Y||V.getMonth()+1!==et||V.getDate()!==it)return M("존재하지 않는 날짜입니다."),!1}else try{si(Y,et,it)}catch(V){return M(V instanceof Error?V.message:"음력 날짜가 유효하지 않습니다."),!1}}if(B.key==="birthTime"){if(!d.birthTime&&!g)return M("태어난 시간을 입력하거나 '모름'을 체크해야 합니다."),!1;if(d.birthTime){const O=Number(d.birthTime);if(Number.isNaN(O)||O<0||O>2359)return M("태어난 시간은 0000–2359 범위여야 합니다."),!1;const Y=Number(d.birthTime.slice(0,2)),et=Number(d.birthTime.slice(2,4));if(Y>23||et>59)return M("태어난 시간은 0000–2359 범위여야 합니다."),!1}}return B.key==="birthPlace"&&!d.birthPlace&&!x?(M("태어난 지역을 선택하거나 '모름'을 체크해야 합니다."),!1):!0},$=()=>{if(!A())return;if(s<Tc.length-1){u(s+1);return}const B=al(d.folder),O=!d.birthTime||d.birthTime==="모름",Y=!d.birthPlace||typeof d.birthPlace=="object"&&d.birthPlace.name==="모름";let et=Number(d.birthDay.slice(0,4)),it=Number(d.birthDay.slice(4,6)),V=Number(d.birthDay.slice(6,8));if(d.calendarType==="lunar"){const Z=si(et,it,V);et=Z.getFullYear(),it=Z.getMonth()+1,V=Z.getDate()}const X=O?4:Number(d.birthTime.slice(0,2)),q=O?30:Number(d.birthTime.slice(2,4)),U=new Date(et,it-1,V,X,q,0,0),J=x||!d.birthPlace||d.birthPlace.lon===0?127.5:d.birthPlace.lon,rt=Qo(U,J,Y),ct=d.mingSikType??"조자시/야자시",I=O?"":rt.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),at=le(rt,J),st=Me(rt,J),xt=se(rt,ct),k=O?null:Yr(rt,ct),H=[`원국 : ${at}년 ${st}월 ${xt}일`,k?`${k}시`:null].filter(Boolean).join(" ");function F(Z,mt){const ot=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(Z),St=mt==="남자";return ot?St?"forward":"backward":St?"backward":"forward"}const tt=at.charAt(0),K=F(tt,d.gender??"남자"),G={id:y1(),name:d.name?.trim()||"이름없음",birthDay:d.birthDay||"",birthTime:O?"모름":d.birthTime||"",gender:d.gender??"남자",birthPlace:x?{name:"모름",lat:0,lon:127.5}:d.birthPlace??{name:"",lat:0,lon:127.5},relationship:d.relationship??"",memo:d.memo??"",mingSikType:d.mingSikType??"조자시/야자시",DayChangeRule:d.mingSikType==="인시"?"인시일수론":"자시일수론",folder:B,correctedLocal:I,ganji:H,calendarType:d.calendarType??"solar",dir:K,corrected:rt,dateObj:d.dateObj||new Date,dayStem:d.dayStem||"갑",ganjiText:d.ganjiText||"갑자년 갑자월 갑자일 갑자시"};a(G),t(G),b("저장 완료!"),f({gender:"남자",mingSikType:"조자시/야자시",calendarType:"solar"}),_(!1),S(!1),u(0)},P=B=>{if(B.key!=="Enter")return;const O=B.target,Y=O.getAttribute("role");if(Y==="radio"||Y==="checkbox")return;const et=document.getElementById("mapModal");if(et&&et.contains(O))return;const it=O.tagName.toLowerCase(),V=O instanceof HTMLInputElement?O.type:"";if(it==="textarea"){if(B.shiftKey)return;B.preventDefault(),$();return}if(V==="radio"||V==="checkbox"){B.preventDefault(),O instanceof HTMLInputElement&&O.click();return}it==="button"&&O.type!=="submit"||(B.preventDefault(),$())},j=B=>{switch(B){case"birthPlace":return x?"모름":d.birthPlace?.name||"";case"birthTime":return g?"모름":d.birthTime||"";case"folder":return d.folder?String(d.folder):Ae;default:{const Y=d[B];return typeof Y=="string"?Y:Y!=null?String(Y):""}}};return y.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[p&&y.jsx(O2,{message:p,onClose:()=>b(null)}),Tc.slice(0,s).map((B,O)=>y.jsxs("button",{onClick:()=>u(O),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[y.jsx("span",{className:"font-semibold",children:B.label}),y.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:j(B.key)})]},B.key)),y.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:y.jsxs("form",{onSubmit:B=>{B.preventDefault(),$()},onKeyDown:P,children:[y.jsx("label",{className:"block mb-2 font-bold",children:T.label}),T.key==="name"&&y.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.name||"",onChange:B=>f({...d,name:B.target.value})}),T.key==="birthDay"&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex gap-1 items-center",children:[y.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.birthDay||"",onChange:B=>{const O=B.target.value.replace(/\D/g,"");f({...d,birthDay:O.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),y.jsx("fieldset",{role:"radiogroup","aria-label":"달력 유형",className:"flex gap-1 text-sm",children:Ec.map(({value:B,label:O,id:Y})=>{const et=d.calendarType===B;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:Y,name:"calendarType",type:"radio",style:{display:"none"}}),y.jsx("label",{htmlFor:Y,id:`${Y}_lbl`,role:"radio","aria-checked":et,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":et?"true":"false",onKeyDown:it=>{if(it.stopPropagation(),it.key===" "||it.key==="Enter"){it.preventDefault(),f({...d,calendarType:B});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(it.key))return;it.preventDefault();const X=Ec.findIndex(J=>J.value===d.calendarType),q=D0(X<0?0:X,Ec.length,it.key),U=Ec[q].value;f({...d,calendarType:U}),j0(`${Ec[q].id}_lbl`)},onClick:it=>{it.preventDefault(),f({...d,calendarType:B})},children:O})]},B)})})]}),d.calendarType==="lunar"&&y.jsx("div",{className:"flex items-center justify-end",children:y.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:D})}),d.birthDay&&d.birthDay.length===8&&(()=>{const B=Number(d.birthDay.slice(0,4)),O=Number(d.birthDay.slice(4,6)),Y=Number(d.birthDay.slice(6,8));return Mf(B,O,Y)?y.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"썸머타임 명식입니다."}):null})()]}),T.key==="birthTime"&&y.jsxs("div",{className:"space-y-2",children:[y.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:g?"":d.birthTime||"",onChange:B=>{const O=B.target.value.replace(/\D/g,"");f({...d,birthTime:O.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:g}),y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),y.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":g,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":g?"true":"false",onKeyDown:B=>{B.stopPropagation(),(B.key===" "||B.key==="Enter")&&(B.preventDefault(),_(!g))},onClick:B=>{B.preventDefault(),_(!g)},children:"모름"})]})]}),T.key==="mingSikType"&&y.jsx("fieldset",{role:"radiogroup","aria-label":"명식 기준",className:"flex flex-wrap gap-3",children:Rd.map(B=>{const O=`ming_${B}`,Y=(d.mingSikType??"조자시/야자시")===B;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:O,name:"mingSikType",type:"radio",style:{display:"none"}}),y.jsxs("label",{htmlFor:O,id:`${O}_lbl`,role:"radio","aria-checked":Y,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":Y?"true":"false",onKeyDown:et=>{if(et.stopPropagation(),et.key===" "||et.key==="Enter"){et.preventDefault(),f({...d,mingSikType:B});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(et.key))return;et.preventDefault();const V=d.mingSikType??"조자시/야자시",X=Rd.indexOf(V),q=D0(X,Rd.length,et.key),U=Rd[q];f({...d,mingSikType:U}),j0(`ming_${U}_lbl`)},onClick:et=>{et.preventDefault(),f({...d,mingSikType:B})},children:[B,"명식"]})]},B)})}),T.key==="gender"&&y.jsx("fieldset",{role:"radiogroup","aria-label":"성별",className:"flex gap-2",children:Pd.map(B=>{const O=`gender_${B}`,Y=(d.gender??"남자")===B;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:O,name:"gender",type:"radio",style:{display:"none"}}),y.jsx("label",{htmlFor:O,id:`${O}_lbl`,role:"radio","aria-checked":Y,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":Y?"true":"false",onKeyDown:et=>{if(et.stopPropagation(),et.key===" "||et.key==="Enter"){et.preventDefault(),f({...d,gender:B});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(et.key))return;et.preventDefault();const V=d.gender??"남자",X=Pd.indexOf(V),q=D0(X,Pd.length,et.key),U=Pd[q];f({...d,gender:U}),j0(`gender_${U}_lbl`)},onClick:et=>{et.preventDefault(),f({...d,gender:B})},children:B})]},B)})}),T.key==="birthPlace"&&y.jsxs("div",{className:"space-y-2",children:[y.jsx(v1,{onSelect:B=>f({...d,birthPlace:B})}),y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),y.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":x,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":x?"true":"false",onKeyDown:B=>{B.stopPropagation(),(B.key===" "||B.key==="Enter")&&(B.preventDefault(),S(!x))},onClick:B=>{B.preventDefault(),S(!x)},children:"모름"})]})]}),T.key==="relationship"&&y.jsx(j2,{value:d.relationship||"",onChange:B=>f({...d,relationship:B})}),T.key==="folder"&&y.jsx(Aj,{value:al(d.folder),onChange:B=>f({...d,folder:B})}),T.key==="memo"&&y.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.memo||"",onChange:B=>f({...d,memo:B.target.value})}),y.jsxs("div",{className:"flex justify-between gap-2",children:[y.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:r,children:"닫기"}),y.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:s===Tc.length-1?"저장하기":"확인"})]})]})})]})}var zd={},_x;function zj(){if(_x)return zd;_x=1,zd.match=d,zd.parse=f;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,r=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,a=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,u=/(dpi|dpcm|dppx)?$/;function d(_,x){return f(_).some(function(S){var T=S.inverse,M=S.type==="all"||x.type===S.type;if(M&&T||!(M||T))return!1;var D=S.expressions.every(function(A){var $=A.feature,P=A.modifier,j=A.value,B=x[$];if(!B)return!1;switch($){case"orientation":case"scan":return B.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=g(j),B=g(B);break;case"resolution":j=b(j),B=b(B);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=p(j),B=p(B);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,B=parseInt(B,10)||0;break}switch(P){case"min":return B>=j;case"max":return B<=j;default:return B===j}});return D&&!T||!D&&T})}function f(_){return _.split(",").map(function(x){x=x.trim();var S=x.match(t),T=S[1],M=S[2],D=S[3]||"",A={};return A.inverse=!!T&&T.toLowerCase()==="not",A.type=M?M.toLowerCase():"all",D=D.match(/\([^\)]+\)/g)||[],A.expressions=D.map(function($){var P=$.match(r),j=P[1].toLowerCase().match(a);return{modifier:j[1],feature:j[2],value:P[2]}}),A})}function p(_){var x=Number(_),S;return x||(S=_.match(/^(\d+)\s*\/\s*(\d+)$/),x=S[1]/S[2]),x}function b(_){var x=parseFloat(_),S=String(_).match(u)[1];switch(S){case"dpcm":return x/2.54;case"dppx":return x*96;default:return x}}function g(_){var x=parseFloat(_),S=String(_).match(s)[1];switch(S){case"em":return x*16;case"rem":return x*16;case"cm":return x*96/2.54;case"mm":return x*96/2.54/10;case"in":return x*96;case"pt":return x*72;case"pc":return x*72/12;default:return x}}return zd}var k0,Sx;function $j(){if(Sx)return k0;Sx=1;var t=zj().match,r=typeof window<"u"?window.matchMedia:null;function a(u,d,f){var p=this,b;r&&!f&&(b=r.call(window,u)),b?(this.matches=b.matches,this.media=b.media,b.addListener(x)):(this.matches=t(u,d),this.media=u),this.addListener=g,this.removeListener=_,this.dispose=S;function g(T){b&&b.addListener(T)}function _(T){b&&b.removeListener(T)}function x(T){p.matches=T.matches,p.media=T.media}function S(){b&&b.removeListener(x)}}function s(u,d,f){return new a(u,d,f)}return k0=s,k0}var Hj=$j();const Ij=ll(Hj);var Gj=/[A-Z]/g,Uj=/^ms-/,O0={};function Zj(t){return"-"+t.toLowerCase()}function L2(t){if(O0.hasOwnProperty(t))return O0[t];var r=t.replace(Gj,Zj);return O0[t]=Uj.test(r)?"-"+r:r}function Yj(t,r){if(t===r)return!0;if(!t||!r)return!1;const a=Object.keys(t),s=Object.keys(r),u=a.length;if(s.length!==u)return!1;for(let d=0;d<u;d++){const f=a[d];if(t[f]!==r[f]||!Object.prototype.hasOwnProperty.call(r,f))return!1}return!0}var C0={exports:{}},L0,wx;function qj(){if(wx)return L0;wx=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return L0=t,L0}var B0,Tx;function Fj(){if(Tx)return B0;Tx=1;var t=qj();function r(){}function a(){}return a.resetWarningCache=r,B0=function(){function s(f,p,b,g,_,x){if(x!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function u(){return s}var d={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:u,element:s,elementType:s,instanceOf:u,node:s,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:a,resetWarningCache:r};return d.PropTypes=d,d},B0}var Ex;function Vj(){return Ex||(Ex=1,C0.exports=Fj()()),C0.exports}var Kj=Vj();const ge=ll(Kj),Un=ge.oneOfType([ge.string,ge.number]),B2={all:ge.bool,grid:ge.bool,aural:ge.bool,braille:ge.bool,handheld:ge.bool,print:ge.bool,projection:ge.bool,screen:ge.bool,tty:ge.bool,tv:ge.bool,embossed:ge.bool},Xj={orientation:ge.oneOf(["portrait","landscape"]),scan:ge.oneOf(["progressive","interlace"]),aspectRatio:ge.string,deviceAspectRatio:ge.string,height:Un,deviceHeight:Un,width:Un,deviceWidth:Un,color:ge.bool,colorIndex:ge.bool,monochrome:ge.bool,resolution:Un,type:Object.keys(B2)},{type:X6,...Wj}=Xj,Qj={minAspectRatio:ge.string,maxAspectRatio:ge.string,minDeviceAspectRatio:ge.string,maxDeviceAspectRatio:ge.string,minHeight:Un,maxHeight:Un,minDeviceHeight:Un,maxDeviceHeight:Un,minWidth:Un,maxWidth:Un,minDeviceWidth:Un,maxDeviceWidth:Un,minColor:ge.number,maxColor:ge.number,minColorIndex:ge.number,maxColorIndex:ge.number,minMonochrome:ge.number,maxMonochrome:ge.number,minResolution:Un,maxResolution:Un,...Wj},Jj={...B2,...Qj};var t7={all:Jj};const e7=t=>`not ${t}`,n7=(t,r)=>{const a=L2(t);return typeof r=="number"&&(r=`${r}px`),r===!0?a:r===!1?e7(a):`(${a}: ${r})`},r7=t=>t.join(" and "),i7=t=>{const r=[];return Object.keys(t7.all).forEach(a=>{const s=t[a];s!=null&&r.push(n7(a,s))}),r7(r)},a7=C.createContext(void 0),o7=t=>t.query||i7(t),Mx=t=>t?Object.keys(t).reduce((a,s)=>(a[L2(s)]=t[s],a),{}):void 0,R2=()=>{const t=C.useRef(!1);return C.useEffect(()=>{t.current=!0},[]),t.current},s7=t=>{const r=C.useContext(a7),a=()=>Mx(t)||Mx(r),[s,u]=C.useState(a);return C.useEffect(()=>{const d=a();Yj(s,d)||u(d)},[t,r]),s},l7=t=>{const r=()=>o7(t),[a,s]=C.useState(r);return C.useEffect(()=>{const u=r();a!==u&&s(u)},[t]),a},c7=(t,r)=>{const a=()=>Ij(t,r||{},!!r),[s,u]=C.useState(a),d=R2();return C.useEffect(()=>{if(d){const f=a();return u(f),()=>{f&&f.dispose()}}},[t,r]),s},u7=t=>{const[r,a]=C.useState(t.matches);return C.useEffect(()=>{const s=u=>{a(u.matches)};return t.addListener(s),a(t.matches),()=>{t.removeListener(s)}},[t]),r},d7=(t,r,a)=>{const s=s7(r),u=l7(t);if(!u)throw new Error("Invalid or missing MediaQuery!");const d=c7(u,s),f=u7(d);return R2(),C.useEffect(()=>{},[f]),C.useEffect(()=>()=>{d&&d.dispose()},[]),f},P2=(()=>{const t=[];for(let r=0;r<60;r++)t.push(`${qn[r%10]}${rr[r%12]}`);return t})();function f7(t){const r=P2.indexOf(t);if(r<0)throw new Error(`Unknown 간지: ${t}`);return r}function Df(t,r,a=1){const s=f7(t),u=r==="forward"?a:-a;return P2[(s+u+60*1e3)%60]}const h7=60*1e3,m7=60*h7,p7=24*m7;function g7(t,r){const a=new Date(t.getTime()),s=a.getFullYear()+r,u=a.getMonth(),d=a.getDate();return new Date(Date.UTC(s,u,d,a.getUTCHours(),a.getUTCMinutes()))}function Mp(t){const r=new Date(t);return r.setSeconds(0,0),r}function b7(t,r,a){const s=t.getHours(),u=a==="조자시/야자시"?(Math.floor((s+1)/2)*2-1+24)%24:(Math.floor(s/2)*2+1)%24,d=new Date(t);d.setHours(u,0,0,0);const f=new Date(d);f.setHours(u+2,0,0,0);const p=t.getTime()-d.getTime(),b=f.getTime()-t.getTime();return r==="backward"?p:b}function z2(t,r,a,s=120,u="조자시/야자시"){const d=Mp(t),f=b7(d,a,u),p=Mp(new Date(d.getTime()+f*120)),b=g7(t,s).getTime(),g=[];let _=Df(r,a,1);for(let x=p.getTime();x<=b;x+=10*p7)g.push({at:new Date(x),gz:_}),_=Df(_,a,1);return{firstChange:p,events:g}}function $2(t,r){const a=r==="forward"?t==="자시일수론"?"자":"인":t==="자시일수론"?"해":"축";return s=>s===a}function H2(t,r,a,s){const u=$2(s,a);let d=r;const f=[];for(const p of t.events){const b=p.gz.charAt(1);u(b)&&(d=Df(d,a,1),f.push({at:p.at,gz:d}))}return{events:f}}function li(t){const r=t.getFullYear(),a=[{deg:315,name:"입춘"},{deg:345,name:"경칩"},{deg:15,name:"청명"},{deg:45,name:"입하"},{deg:75,name:"망종"},{deg:105,name:"소서"},{deg:135,name:"입추"},{deg:165,name:"백로"},{deg:195,name:"한로"},{deg:225,name:"입동"},{deg:255,name:"대설"},{deg:285,name:"소한"}],s={deg:315,name:"다음입춘"},u=a.map(p=>({name:p.name,date:on(r,p.deg)})).concat([{name:s.name,date:on(r+1,s.deg)},{name:"소한",date:on(r+1,285)}]),d=on(r,315),f=on(r+1,315);return u.filter(p=>p.date>=d&&p.date<f).sort((p,b)=>p.date.getTime()-b.date.getTime())}const y7={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},v7={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},x7=t=>y7[t]??("甲乙丙丁戊己庚辛壬癸".includes(t)?t:null),_7=t=>v7[t]??("子丑寅卯辰巳午未申酉戌亥".includes(t)?t:null);function Nx(t){const r=x7(t[0]),a=_7(t[1]);if(!r||!a)throw new Error(`Invalid GZ: ${t}`);return`${r}${a}`}function eu(t,r,a,s=120,u){function d(j){return j instanceof Date||(j=new Date(j)),Math.floor((j.getHours()+1)%24/2)}function f(j){return["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"][d(j)]}function p(j,B,O){const Y=j.charAt(0),et=j.charAt(1),it=qn.indexOf(Y),V=rr.indexOf(et),X=B==="forward"?O:-O,q=(it+X%10+10)%10,U=(V+X%12+12)%12;return qn[q]+rr[U]}const b=li(t).sort((j,B)=>j.date.getTime()-B.date.getTime());let g;if(a==="forward"){const j=b.findIndex(B=>B.date>=t);j>=0&&(g=b[j].date)}else{const j=b.filter(B=>B.date<=t);j.length&&(g=j[j.length-1].date)}function _(j,B){const O=f(j),Y={子:23,丑:1,寅:3,卯:5,辰:7,巳:9,午:11,未:13,申:15,酉:17,戌:19,亥:21},et=Y[O],it=(et+2)%24,V=new Date(j);if(V.setSeconds(0,0),a==="backward"&&B){const q=f(B),U=Y[q],J=new Date(B);return J.setHours(U,0,0,0),J}if(a==="forward"&&B){const q=f(B),U=Y[q],J=new Date(B);if(J.setHours(U,0,0,0),J>V)return J}const X=new Date(V);return a==="forward"?(X.setHours(it,0,0,0),X<=V&&X.setDate(X.getDate()+1)):(X.setHours(et,0,0,0),X>=V&&X.setDate(X.getDate()-1)),X}new Date(t).setSeconds(0,0);const S=Nx(Me(t,127.5)),T=_(t,g),M=Math.floor(a==="forward"?(T.getTime()-t.getTime())/6e4:(t.getTime()-T.getTime())/6e4),D=Math.round(M/120*(14400*60*1e3));let A=new Date(t.getTime()+D);try{const j=Nx(Me(t,u));(a==="forward"&&S!==j||a==="backward"&&S!==j)&&(A=new Date(t.getTime()+6e4))}catch{}const $=s/10,P=[];for(let j=0;j<$;j++){const B=new Date(A);B.setFullYear(B.getFullYear()+j*10),B.setSeconds(0,0);const O=p(r,a,j+1);P.push({at:B,gz:O})}return{natalMonthPillar:r,firstChange:A,mPillars:[],events:P}}function S7(t,r){const s=(r.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(s))}function I2(t,r,a,s,u){const d=$2(s,a);let f=r;const p=[];for(const b of t.events){const g=b.gz.charAt(1);d(g)&&(f=Df(f,a,1),p.push({at:b.at,gz:f,age:S7(u,b.at)}))}return{events:p}}function w7(t){const r=Number(t.birthDay.slice(0,4)),a=Number(t.birthDay.slice(4,6)),s=Number(t.birthDay.slice(6,8));let u=12,d=0;return t.birthTime&&t.birthTime!=="모름"&&/^\d{4}$/.test(t.birthTime)&&(u=Number(t.birthTime.slice(0,2)),d=Number(t.birthTime.slice(2,4))),new Date(r,a-1,s,u,d,0,0)}function lh(t){const r=w7(t),a=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",s=Qo(r,t.birthPlace?.lon??null,a);return Mp(s)}function ug(t,r){const a=t.birthPlace?.lon??127.5,s=lh(t),u=se(s,r),d=Yr(s,r,u.charAt(0));return{year:le(s,a),month:Me(s,a),day:u,hour:d}}const T7=(()=>{const t=[];for(let r=0;r<60;r++)t.push(`${qn[r%10]}${rr[r%12]}`);return t})(),E7=t=>T7.indexOf(t),R0=t=>{if(E7(t)<0)throw new Error(`Unknown 간지: ${t}`);return{stem:t[0],branch:t[1]}};function dg(t){return typeof t=="object"&&t!==null}function M7(t){return dg(t)&&"default"in t}function N7(t){return dg(t)&&typeof t.lunar2solar=="function"}function A7(t){if(!dg(t))throw new Error("Invalid lunar2solar result");const r=t.cYear,a=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof r!="number"||typeof a!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:r,cMonth:a,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function D7(t){const r=M7(t)?t.default:t;if(!N7(r))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,f)=>{const p=r.lunar2solar(s,u,d,!!f);return A7(p)}}}const j7=D7(cg),Ax=t=>t<10?`0${t}`:`${t}`;function fg(t){const r=t,a=typeof r.birthDay=="string"?r.birthDay:"",s=typeof r.calendarType=="string"?r.calendarType:"solar";if(a.length<8||s!=="lunar")return t;const u=Number(a.slice(0,4)),d=Number(a.slice(4,6)),f=Number(a.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const g of p){const _=r[g];if(typeof _=="boolean"){b=_;break}if(typeof _=="number"){b=_===1;break}if(typeof _=="string"){b=_==="1"||_.toLowerCase()==="true";break}}try{const g=j7.lunar2solar(u,d,f,b),_=`${g.cYear}${Ax(g.cMonth)}${Ax(g.cDay)}`;return{...t,birthDay:_,calendarType:"solar"}}catch{return t}}function k7(t,r="조자시/야자시"){const a=C.useMemo(()=>fg(t),[t]),s=C.useMemo(()=>lh(a),[a]),u=C.useMemo(()=>ug(a,r),[a,r]);return C.useMemo(()=>{const d=eu(s,u.month,a.dir,120,a?.birthPlace?.lon??127.5),f=new Date;function p(j,B){let O=null;const Y=B.getTime();for(const et of j)if(et.at.getTime()<=Y)O=et;else break;return O}const b=p(d.events,f)?.gz??u.month,g=R0(b),_=f.getFullYear(),x=on(_,315),T=x&&f>=x?_:_-1,M=le(new Date(T,1,10,0,0,0),127.5),D=R0(M),A=Me(f,127.5),$=R0(A),P=[];return $&&P.push({key:"wolun",label:"월운",data:$}),D&&P.push({key:"seun",label:"세운",data:D}),g&&P.push({key:"daeun",label:"대운",data:g}),P},[s,a.dir,u.month,a.birthPlace?.lon])}function Pc(t){const r=a=>a.toString().padStart(2,"0");return`${t.getFullYear()}년 ${r(t.getMonth()+1)}월 ${r(t.getDate())}일 ${r(t.getHours())}시 ${r(t.getMinutes())}분`}function Vs(t){return t<10?`0${t}`:`${t}`}function O7(t){return`${Vs(t.getHours())}:${Vs(t.getMinutes())}`}function C7(t){return`${t.getFullYear()}-${Vs(t.getMonth()+1)}-${Vs(t.getDate())} ${Vs(t.getHours())}:${Vs(t.getMinutes())}`}const Fn=Xc()(zp((t,r)=>{const a=new Date,s="조자시/야자시",u=127.5,d=u,f=le(a,d),p=Me(a,d),b=se(a,s);return{date:a,scope:"원국만",rule:s,lon:u,yearGZ:f,monthGZ:p,dayGZ:b,setDate:g=>{const{rule:_,lon:x}=r(),S=typeof x=="number"?x:void 0;t({date:g,yearGZ:le(g,S),monthGZ:Me(g,S),dayGZ:se(g,_)})},resetDate:()=>{const{rule:g,lon:_}=r(),x=new Date,S=typeof _=="number"?_:void 0;t({date:x,yearGZ:le(x,S),monthGZ:Me(x,S),dayGZ:se(x,g)})},setScope:g=>t({scope:g}),setRule:g=>{const{date:_,lon:x}=r(),S=typeof x=="number"?x:void 0;t({rule:g,yearGZ:le(_,S),monthGZ:Me(_,S),dayGZ:se(_,g)})},setLon:g=>{const{date:_,rule:x}=r(),S=typeof g=="number"?g:void 0;t({lon:g,yearGZ:le(_,S),monthGZ:Me(_,S),dayGZ:se(_,x)})},setFromEvent:(g,_)=>{const{rule:x,lon:S}=r(),T=typeof S=="number"?S:void 0;t({date:g.at,scope:_,yearGZ:le(g.at,T),monthGZ:Me(g.at,T),dayGZ:se(g.at,x)})}}},{name:"luck-picker-v1",merge:(t,r)=>{const a=t;return a.date&&typeof a.date=="string"&&(a.date=new Date(a.date)),{...r,...a}}})),Jo={Classic:"고전",Modern:"현대"};function On(t,r){const s={갑:{자:"목욕",축:"관대",인:"건록",묘:"제왕",진:"쇠",사:"병",오:"사",미:"묘",신:"절",유:"태",술:"양",해:"장생"},을:{자:"병",축:"쇠",인:"제왕",묘:"건록",진:"관대",사:"목욕",오:"장생",미:"양",신:"태",유:"절",술:"묘",해:"사"},병:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},정:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},무:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},기:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},경:{자:"사",축:"묘",인:"절",묘:"태",진:"양",사:"장생",오:"목욕",미:"관대",신:"건록",유:"제왕",술:"쇠",해:"병"},신:{자:"장생",축:"양",인:"태",묘:"절",진:"묘",사:"사",오:"병",미:"쇠",신:"제왕",유:"건록",술:"관대",해:"목욕"},임:{자:"제왕",축:"쇠",인:"병",묘:"사",진:"묘",사:"절",오:"태",미:"양",신:"장생",유:"목욕",술:"관대",해:"건록"},계:{자:"건록",축:"관대",인:"목욕",묘:"장생",진:"양",사:"태",오:"절",미:"묘",신:"사",유:"병",술:"쇠",해:"제왕"}}[t];return s?s[r]??"":""}function L7(t,r){return{자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육해",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"년살",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육해",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"년살"},묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"년살",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육해",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"년살",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육해",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"년살",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육해",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"년살",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육해"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육해",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"년살",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육해",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"년살",유:"월살",술:"망신",해:"장성"}}[t]?.[r]??""}function B7(t,r){const a={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"}},u=a[t];return u&&s[u]?s[u][r]??"":""}function R7(t,r){return{자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육액",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"도화",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육액",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"도화"},묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"도화",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육액",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"도화",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육액",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"도화",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육액",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"도화",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육액"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육액",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"도화",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육액",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"도화",유:"월살",술:"망신",해:"장성"}}[t]?.[r]??""}function P7(t,r){const a={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"}},u=a[t];return u&&s[u]?s[u][r]??"":""}function Zn(t){const{baseBranch:r,targetBranch:a,era:s,gaehwa:u}=t;return!r||!a?"":s==="고전"?u?L7(r,a):B7(r,a):u?R7(r,a):P7(r,a)}function nu(t,r="조자시/야자시",a=100){const s=C.useMemo(()=>fg(t),[t]),u=C.useMemo(()=>lh(s),[s]),d=C.useMemo(()=>ug(s,r),[s,r]),f=(p,b)=>{const g=b.getFullYear()-p.getFullYear(),_=b.getMonth()-p.getMonth(),x=b.getDate()-p.getDate(),S=_<0||_===0&&x<0?g-1:g;return Math.max(0,S)};return C.useMemo(()=>eu(u,d.month,s.dir,a,s.birthPlace?.lon??127.5).events.map(b=>({...b,age:f(u,b.at)})),[u,d.month,s.dir,a,s.birthPlace?.lon])}function P0(t){return t instanceof Date&&!Number.isNaN(t.getTime())}function z7(t,r){if(!Array.isArray(t)||t.length===0||!P0(r))return{gz:"",at:r,index:-1};const a=t;for(let d=0;d<a.length;d++){const f=a[d],p=a[d+1];if(!P0(f.at))continue;if(r.getTime()>=f.at.getTime()&&(!p||P0(p.at)&&r.getTime()<p.at.getTime()))return{gz:f.gz??"",at:f.at,index:d}}if(r.getTime()<a[0].at.getTime()){const d=a[0];return{gz:d.gz??"",at:d.at,index:0}}const s=a.length-1,u=a[s];return{gz:u.gz??"",at:u.at,index:s}}function hg(t,r,a){const{date:s,rule:u,lon:d}=Fn(),f=C.useMemo(()=>a??s??new Date,[a,s]),p=nu(t,t?.mingSikType),{gz:b}=z7(p,f);return C.useMemo(()=>{try{const g=d??t?.birthPlace?.lon??127.5,_=u??t?.mingSikType??r??"조자시/야자시";return{dae:{gz:b,at:f},se:{gz:le(f,g),at:f},wol:{gz:Me(f,g),at:f},il:{gz:se(f,_),at:f}}}catch{const g=new Date;return{dae:{gz:"",at:g},se:{gz:"",at:g},wol:{gz:"",at:g},il:{gz:"",at:g}}}},[f,u,d,t,r,b])}const G2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},U2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},$7=Object.fromEntries(Object.entries(G2).map(([t,r])=>[r,t])),H7=Object.fromEntries(Object.entries(U2).map(([t,r])=>[r,t])),I7=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),G7=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function U7(t,r,a){return a==="한글"?r==="stem"?G2[t]??t:U2[t]??t:r==="stem"?$7[t]??t:H7[t]??t}function Z7(t,r){return r==="stem"?I7.has(t):G7.has(t)}function Y7(t){return sh(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function z0(t){const r=Jo;return Y7(r)?t==="classic"?r.Classic:r.Modern:t}const q7={대운:1,세운:2,월운:3};function F7(t){return t.includes("월운")?3:t.includes("세운")?2:(t.includes("대운"),1)}const V7={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"};function K7(t){switch(V7[t]){case"목":return"bg-green-600 text-white border-green-600";case"화":return"bg-red-600 text-white border-red-600";case"토":return"bg-yellow-500 text-white border-yellow-500";case"금":return"bg-gray-400 text-white border-gray-400";case"수":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function X7({data:t,hourTable:r}){const{date:a}=Fn(),s=ir(K=>K.settings),u=t.mingSikType??r??"조자시/야자시",d=!t.birthPlace||t.birthPlace.name==="모름"||!t.birthPlace.lon?127.5:t.birthPlace.lon,{solarY:f,solarM:p,solarD:b}=C.useMemo(()=>{let K=Number(t.birthDay?.slice(0,4)??2e3),G=Number(t.birthDay?.slice(4,6)??1),Z=Number(t.birthDay?.slice(6,8)??1);if(t.calendarType==="lunar"){const mt=si(K,G,Z);K=mt.getFullYear(),G=mt.getMonth()+1,Z=mt.getDate()}return{solarY:K,solarM:G,solarD:Z}},[t.birthDay,t.calendarType]),[g,_]=C.useState(!1);C.useEffect(()=>{f&&p&&b&&_(Mf(f,p,b))},[f,p,b]);const x=!t.birthTime||t.birthTime==="모름";function S(K,G){const Z=!K.birthTime||K.birthTime==="모름";let mt=Number(K.birthDay.slice(0,4)),vt=Number(K.birthDay.slice(4,6)),ot=Number(K.birthDay.slice(6,8));if(K.calendarType==="lunar"){const bt=si(mt,vt,ot);mt=bt.getFullYear(),vt=bt.getMonth()+1,ot=bt.getDate()}const St=Z?4:Number(K.birthTime.slice(0,2)),Ct=Z?30:Number(K.birthTime.slice(2,4)),At=new Date(mt,vt-1,ot,St,Ct,0,0),jt=!K.birthPlace||K.birthPlace.lon===0?127.5:K.birthPlace.lon,Tt=Qo(At,jt,Z),Bt=G?new Date(Tt.getTime()-3600*1e3):Tt,It=K.mingSikType??"조자시/야자시",Yt=le(Bt,jt),Dt=Me(Bt,jt),dt=se(Bt,It),Ot=Z?null:Yr(Bt,It);return{corrected:Bt,year:{stem:Yt.charAt(0),branch:Yt.charAt(1)},month:{stem:Dt.charAt(0),branch:Dt.charAt(1)},day:{stem:dt.charAt(0),branch:dt.charAt(1)},hour:Ot?{stem:Ot.charAt(0),branch:Ot.charAt(1)}:null}}const[T,M]=C.useState(()=>S(t,g));C.useEffect(()=>{M(S(t,g))},[t,g]);const D=t.id??`${t.birthDay}-${t.birthTime}-${t.name??""}`,A=C.useMemo(()=>{const K=t.mingSikType;return se(t.corrected,K).charAt(0)},[t.corrected,t.mingSikType]),[$,P]=C.useState(null),[j,B]=C.useState(()=>t.mingSikType==="인시");C.useEffect(()=>{P(null),B(t.mingSikType==="인시")},[D,t.mingSikType]);const O=C.useMemo(()=>(j?Pp:u1)[A]??[],[j,A]),Y=$??T.hour,et=s.sinsalBase==="일지"?T.day.branch:T.year.branch,it=tl(K=>K.setManualHour),V=(K,G)=>{const Z={stem:K,branch:G};P(Z),it(Z)},X=K=>s.showSibiUnseong?On(A,K):null,q=K=>s.showSibiSinsal?Zn({baseBranch:et,targetBranch:K,era:z0(s.sinsalMode),gaehwa:s.sinsalBloom}):null,U=k7(t,u),J=d7({query:"(min-width: 992px)"}),rt=s.hiddenStem==="regular"?"main":"all",ct=s.exposure,I=ct==="원국"?0:q7[ct],at=I===0?[]:U.filter(K=>F7(K.label)<=I),st=Mf(f,p,b),xt=()=>_(K=>!K),k=hg(t,r,a),H=k.dae.gz,F=k.se.gz,tt=k.wol.gz;return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[y.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(t.name?.trim()||"이름없음")+" ",y.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",t.gender,")"]}),st&&y.jsxs("button",{onClick:xt,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${g?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:["썸머타임 ",g?"ON":"OFF"]})]}),y.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[W7(t.birthDay,t.birthTime),t.birthPlace?.name?` · ${"출생지: "+t.birthPlace.name}`:""]}),y.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["보정시: ",`${x?"모름":C7(T.corrected)}`]})]}),y.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["기준 경도: ",d.toFixed(2),"° · ",u," 기준"]})]}),y.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${at.length===0?"grid-cols-1":at.length===1?"grid-cols-[2fr_8fr]":at.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[at.length>0&&(J?y.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[y.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:y.jsx("b",{children:"운"})}),y.jsx("div",{className:"pb-2",children:y.jsx("div",{className:`grid gap-2 p-3 ${at.length===1?"grid-cols-1":at.length===2?"grid-cols-2":"grid-cols-3"}`,children:at.map(K=>{let G=K.data.stem,Z=K.data.branch;K.label.includes("대운")&&H&&(G=H.charAt(0),Z=H.charAt(1)),K.label.includes("세운")&&F&&(G=F.charAt(0),Z=F.charAt(1)),K.label.includes("월운")&&tt&&(G=tt.charAt(0),Z=tt.charAt(1));const mt=X(Z),vt=q(Z);return y.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:K.label}),y.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&y.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Yn(A,{stem:G})}),y.jsx(Qa,{value:G,kind:"stem",charType:s.charType,thinEum:s.thinEum}),y.jsx(Qa,{value:Z,kind:"branch",charType:s.charType,thinEum:s.thinEum}),y.jsx(kc,{branch:Z,dayStem:A,mode:rt,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&y.jsx("div",{children:mt}),s.showSibiSinsal&&y.jsx("div",{children:vt})]})]})]},K.key)})})})]}):y.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[y.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"운"}),y.jsx("div",{className:"pb-2",children:y.jsx("div",{className:`grid gap-1 p-0 ${at.length===1?"grid-cols-1":at.length===2?"grid-cols-2":"grid-cols-3"}`,children:at.map(K=>{const G=K.data.stem,Z=K.data.branch,mt=X(Z),vt=q(Z);return y.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:K.label}),y.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[s.showSipSin&&y.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Yn(A,{stem:G})}),y.jsx(Qa,{value:G,kind:"stem",charType:s.charType,thinEum:s.thinEum}),y.jsx(Qa,{value:Z,kind:"branch",charType:s.charType,thinEum:s.thinEum}),y.jsx(kc,{branch:Z,dayStem:A,mode:rt,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&y.jsx("div",{children:mt}),s.showSibiSinsal&&y.jsx("div",{children:vt})]})]})]},K.key)})})})]})),J?y.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[y.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:y.jsx("b",{children:"원국"})}),y.jsx("div",{className:"pb-2",children:y.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"시주",data:Y},{key:"day",label:"일주",data:T.day},{key:"month",label:"월주",data:T.month},{key:"year",label:"연주",data:T.year}].map(K=>y.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:K.label}),y.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:K.data?y.jsxs(y.Fragment,{children:[s.showSipSin&&y.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Yn(A,{stem:K.data.stem})}),y.jsx(Qa,{value:K.data.stem,kind:"stem",charType:s.charType,thinEum:s.thinEum}),y.jsx(Qa,{value:K.data.branch,kind:"branch",charType:s.charType,thinEum:s.thinEum}),y.jsx(kc,{branch:K.data.branch,dayStem:A,mode:rt,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&y.jsx("div",{children:On(A,K.data.branch)}),s.showSibiSinsal&&y.jsx("div",{children:Zn({baseBranch:s.sinsalBase==="일지"?T.day.branch:T.year.branch,targetBranch:K.data.branch,era:z0(s.sinsalMode),gaehwa:s.sinsalBloom})})]})]}):y.jsx("span",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},K.key))})})]}):y.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[y.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"원국"}),y.jsx("div",{className:"px-1 pb-2",children:y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"시주",data:Y},{key:"day",label:"일주",data:T.day},{key:"month",label:"월주",data:T.month},{key:"year",label:"연주",data:T.year}].map(K=>y.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:K.label}),y.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:K.data?y.jsxs(y.Fragment,{children:[s.showSipSin&&y.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Yn(A,{stem:K.data.stem})}),y.jsx(Qa,{value:K.data.stem,kind:"stem",charType:s.charType,thinEum:s.thinEum}),y.jsx(Qa,{value:K.data.branch,kind:"branch",charType:s.charType,thinEum:s.thinEum}),y.jsx(kc,{branch:K.data.branch,dayStem:A,mode:rt,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&y.jsx("div",{children:On(A,K.data.branch)}),s.showSibiSinsal&&y.jsx("div",{children:Zn({baseBranch:s.sinsalBase==="일지"?T.day.branch:T.year.branch,targetBranch:K.data.branch,era:z0(s.sinsalMode),gaehwa:s.sinsalBloom})})]})]}):y.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"시간 미상"})})]},K.key))})})]})]}),x&&y.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:"시주 예측"}),y.jsx("button",{onClick:()=>B(K=>!K),className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:j?"현재 : 인시":"현재 : 자시"})]}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:O.map(K=>{const G=K.charAt(0),Z=K.charAt(1),mt=$?.stem===G&&$?.branch===Z;return y.jsx("button",{onClick:()=>V(G,Z),className:`p-2 text-xs rounded border cursor-pointer ${mt?K7(Z):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${K} (시주 후보)`,children:K},K)})})]})]})}function Qa({value:t,kind:r,charType:a,thinEum:s}){const{settings:u}=ir(),d=Er(t,r,u),f=U7(t,r,a),p=Z7(t,r),b=s&&p?"font-thin":"font-bold";return y.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${d} flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:y.jsx("span",{className:`text-[24px] md:text-2xl ${b} text-white`,children:f})})}function W7(t,r){if(!t||!/^\d{8}$/.test(t))return"";const a=t.slice(0,4),s=t.slice(4,6),u=t.slice(6,8),d=`${a}-${s}-${u}`;return!r||r==="모름"||!/^\d{4}$/.test(r)?d:`${d} ${r.slice(0,2)}:${r.slice(2,4)}`}function ru(t){const r=Number(t.birthDay?.slice(0,4)),a=Number(t.birthDay?.slice(4,6))-1,s=Number(t.birthDay?.slice(6,8)),u=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(0,2)),d=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(2,4)),f=new Date(r,a,s,u,d,0,0);if(isNaN(f.getTime()))throw new Error(`Invalid date: ${t.birthDay} ${t.birthTime}`);const p=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름";return Qo(f,t.birthPlace?.lon??127.5,p)}function iu(t,r){const a=t,s=typeof a.isUnknownTime=="boolean"?a.isUnknownTime:!1,u=typeof a.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(a.birthTime),d=typeof a.birthHour=="number",f=typeof a.birthMinute=="number";if(s||!(u||d||f)){const b=new Date(r);return b.setDate(b.getDate()+1),b.setHours(4,30,0,0),b}return r}function ch(t,r){const a=t.length;if(a===0||!r)return 0;const s=t[0].at.getTime(),u=t[a-1].at.getTime(),d=r.getTime();if(d<=s)return 0;if(d>=u)return a-1;for(let f=0;f<a-1;f+=1){const p=t[f].at.getTime(),b=t[f+1].at.getTime();if(d>=p&&d<b)return f}return 0}const Z2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Y2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Q7=Object.fromEntries(Object.entries(Z2).map(([t,r])=>[r,t])),J7=Object.fromEntries(Object.entries(Y2).map(([t,r])=>[r,t]));function Dx(t,r,a){return a==="한글"?r==="stem"?Z2[t]??t:Y2[t]??t:r==="stem"?Q7[t]??t:J7[t]??t}const tk=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),ek=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function jx(t,r){return r==="stem"?tk.has(t):ek.has(t)}function nk(t){return typeof t=="object"&&t!==null}function rk(t){return nk(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function ik(t){const r=Jo;return rk(r)?t==="classic"?r.Classic:r.Modern:t}function ak({data:t}){const r=nu(t),a=ru(t),s=C.useMemo(()=>iu(t,a),[t,a]),u=C.useMemo(()=>{const Y=t.mingSikType??"조자시/야자시";return se(s,Y).charAt(0)},[s,t.mingSikType]),{date:d,setFromEvent:f}=Fn(),p=C.useMemo(()=>ch(r,d),[r,d]),b=ir(Y=>Y.settings),{charType:g,thinEum:_,showSipSin:x,showSibiUnseong:S,showSibiSinsal:T,sinsalBase:M,sinsalMode:D,sinsalBloom:A}=b,$=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,P=t.mingSikType??"조자시/야자시",j=M==="일지"?se(s,P).charAt(1):le(s,$).charAt(1),B=Y=>S?On(u,Y):null,O=Y=>T?Zn({baseBranch:j,targetBranch:Y,era:ik(D),gaehwa:!!A}):null;return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"대운리스트"}),y.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:r.map((Y,et)=>{const it=Y.gz.charAt(0),V=Y.gz.charAt(1),X=ok(s,Y.at),q=et===p,U=Dx(it,"stem",g),J=Dx(V,"branch",g),rt=jx(it,"stem"),ct=jx(V,"branch"),I=_&&rt?"font-thin":"font-bold",at=_&&ct?"font-thin":"font-bold",st=B(V),xt=O(V);return y.jsxs("div",{onClick:()=>f(Y,"대운"),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${q?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${Y.gz} · ${Y.at.toLocaleDateString()}`,children:[y.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:X}),y.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[x&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Yn(u,{stem:it})}),y.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Er(it,"stem",b)}`,children:y.jsx("span",{className:`text-[20px] md:text-xl text-white ${I}`,children:U})}),y.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Er(V,"branch",b)}`,children:y.jsx("span",{className:`text-[20px] md:text-xl text-white ${at}`,children:J})}),x&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Yn(u,{branch:V})}),(S||T)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[S&&y.jsx("div",{children:st}),T&&y.jsx("div",{children:xt})]})]})]},Y.gz)})})]})}function ok(t,r){const s=(r.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(s))}const q2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},F2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},sk=Object.fromEntries(Object.entries(q2).map(([t,r])=>[r,t])),lk=Object.fromEntries(Object.entries(F2).map(([t,r])=>[r,t]));function kx(t,r,a){return a==="한글"?r==="stem"?q2[t]??t:F2[t]??t:r==="stem"?sk[t]??t:lk[t]??t}const ck=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),uk=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Ox(t,r){return r==="stem"?ck.has(t):uk.has(t)}function dk(t){return typeof t=="object"&&t!==null}function fk(t){return dk(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function hk(t){const r=Jo;return fk(r)?t==="classic"?r.Classic:r.Modern:t}function Cx(t){return new Date(t,6,2,12,0,0,0)}function mk(t,r){const a=r??new Date,s=a.getMonth(),u=a.getHours(),d=a.getMinutes();return s===0?new Date(t+1,0,10,u,d,0,0):new Date(t,s,10,u,d,0,0)}function pk({data:t,list:r,onSelect:a}){const s=ir(O=>O.settings),{date:u,setFromEvent:d}=Fn(),[f,p]=C.useState(()=>r);C.useEffect(()=>{r&&r.length>0&&p(r)},[r]);const b=ru(t),g=C.useMemo(()=>iu(t,b),[t,b]),_=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,x=C.useMemo(()=>{if(!u)return[];const O=u.getFullYear(),Y=Cx(O),et=le(Y,_);return[{at:Y,gz:et}]},[u,_]),S=r.length>0?r:f.length>0?f:x,T=C.useMemo(()=>[...S].sort((O,Y)=>O.at.getTime()-Y.at.getTime()),[S]),M=C.useMemo(()=>{if(T.length===0)return 0;const O=ch(T,u);return O<0?0:O>=T.length?T.length-1:O},[T,u]),[D,A]=C.useState(null);C.useEffect(()=>{A(null)},[u,T]);const $=D??M,P=t.mingSikType??"조자시/야자시",j=C.useMemo(()=>se(g,P).charAt(0),[g,P]),B=C.useMemo(()=>s.sinsalBase==="일지"?se(g,P).charAt(1):le(g,_).charAt(1),[g,P,_,s.sinsalBase]);return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"세운리스트"}),y.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:T.map((O,Y)=>{const et=O.at.getFullYear(),it=Cx(et),V=le(it,_),X=V.charAt(0),q=V.charAt(1),U=Y===$,J=kx(X,"stem",s.charType),rt=kx(q,"branch",s.charType),ct=Ox(X,"stem"),I=Ox(q,"branch"),at=s.thinEum&&ct?"font-thin":"font-bold",st=s.thinEum&&I?"font-thin":"font-bold",xt=s.showSibiUnseong?On(j,q):null,k=s.showSibiSinsal?Zn({baseBranch:B,targetBranch:q,era:hk(s.sinsalMode),gaehwa:!!s.sinsalBloom}):null;return y.jsxs("div",{onClick:()=>{A(Y);const H=mk(et,u);d({at:H,gz:le(H,_)},"세운"),a&&(typeof queueMicrotask<"u"?queueMicrotask(()=>a(et)):Promise.resolve().then(()=>a(et)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${U?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${V} · ${O.at.toLocaleDateString()}`,children:[y.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:et}),y.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Yn(j,{stem:X})}),y.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Er(X,"stem",s)}`,children:y.jsx("span",{className:`text-[20px] md:text-xl text-white ${at}`,children:J})}),y.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Er(q,"branch",s)}`,children:y.jsx("span",{className:`text-[20px] md:text-xl text-white ${st}`,children:rt})}),s.showSipSin&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Yn(j,{branch:q})}),(s.showSibiUnseong||s.showSibiSinsal)&&y.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[s.showSibiUnseong&&xt&&y.jsx("div",{children:xt}),s.showSibiSinsal&&k&&y.jsx("div",{children:k})]})]})]},`${et}-${O.gz||Y}`)})})]})}const gk=new Set(["입춘","경칩","청명","입하","망종","소서","입추","백로","한로","입동","대설","소한"]);function pf(t){const r=t.getFullYear(),s=[...li(new Date(r-1,5,15,12,0))??[],...li(new Date(r,5,15,12,0))??[],...li(new Date(r+1,5,15,12,0))??[]].map(p=>({name:String(p.name),date:new Date(p.date)})).sort((p,b)=>p.date.getTime()-b.date.getTime()).filter(p=>gk.has(p.name));let u=s.findIndex((p,b)=>s[b].date<=t&&t<s[b+1]?.date);u<0&&(u=0);const d=s[u],f=s[u+1];return{start:new Date(d.date.getFullYear(),d.date.getMonth(),d.date.getDate(),0,0,0,0),end:new Date(f.date.getFullYear(),f.date.getMonth(),f.date.getDate(),0,0,0,0),cur:d,next:f}}const V2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},K2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},bk=Object.fromEntries(Object.entries(V2).map(([t,r])=>[r,t])),yk=Object.fromEntries(Object.entries(K2).map(([t,r])=>[r,t]));function Lx(t,r,a){return a==="한글"?r==="stem"?V2[t]??t:K2[t]??t:r==="stem"?bk[t]??t:yk[t]??t}const vk=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),xk=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Bx(t,r){return r==="stem"?vk.has(t):xk.has(t)}function _k(t){return typeof t=="object"&&t!==null}function Sk(t){return _k(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function wk(t){const r=Jo;return Sk(r)?t==="classic"?r.Classic:r.Modern:t}const Tk=new Set(["입춘","경칩","청명","입하","망종","소서","입추","백로","한로","입동","대설","소한"]);function Ek(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function Mk(t){const r=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(t);return Number(r.find(a=>a.type==="month")?.value??t.getMonth()+1)}function $0(t){return new Date(t,5,15,12,0,0,0)}function Nk(t){const a=[...li($0(t-1))??[],...li($0(t))??[],...li($0(t+1))??[]].map(p=>({name:String(p.name),date:new Date(p.date)})).sort((p,b)=>p.date.getTime()-b.date.getTime()).filter(p=>Tk.has(p.name)),s=new Date(t,0,1,0,0,0,0),u=new Date(t+1,0,1,0,0,0,0),d=a.findIndex(p=>p.name==="입춘"&&p.date>=s&&p.date<u);if(d===-1)return[];const f=[];for(let p=0;p<12;p++){const b=a[d+p];if(!b)break;const g=new Date(b.date),_=Ek(g);f.push({name:b.name,termAt:g,at00:_})}return f}function Ak({data:t,activeYear:r,onSelect:a,onSelectMonth:s}){const u=ir(D=>D.settings),d=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,f=ru(t),p=C.useMemo(()=>iu(t,f),[t,f]),b=t.mingSikType??"조자시/야자시",g=C.useMemo(()=>se(p,b).charAt(0),[p,b]),_=u.sinsalBase==="일지"?se(p,b).charAt(1):le(p,d).charAt(1),x=C.useMemo(()=>r?Nk(r).map(A=>{const $=A.at00,P=new Date(A.at00);P.setDate(P.getDate()+1);const j=Me(P,d);return{at:$,gz:j,term:A.name,termAt:A.termAt}}):[],[r,d]),{date:S,setFromEvent:T}=Fn(),M=ch(x,S);return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"월운리스트"}),y.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:x.map((D,A)=>{const $=D.gz.charAt(0),P=D.gz.charAt(1),j=`${Mk(D.at)}월`,B=A===M,O=Lx($,"stem",u.charType),Y=Lx(P,"branch",u.charType),et=Bx($,"stem"),it=Bx(P,"branch"),V=u.thinEum&&et?"font-thin":"font-bold",X=u.thinEum&&it?"font-thin":"font-bold",q=u.showSibiUnseong?On(g,P):null,U=u.showSibiSinsal?Zn({baseBranch:_,targetBranch:P,era:wk(u.sinsalMode),gaehwa:!!u.sinsalBloom}):null;return y.jsxs("div",{onClick:()=>{s(D.at);const J=new Date(D.at),{start:rt}=pf(J);a?.(rt.getFullYear(),rt.getMonth()),T({at:J,gz:Me(J,d)},"월운")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${B?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${D.term} 시작 · ${D.gz} · ${D.termAt.toLocaleString()}`,children:[y.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:j}),y.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[u.showSipSin&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Yn(g,{stem:$})}),y.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Er($,"stem",u)}`,children:y.jsx("span",{className:`text-base md:text-xl text-white ${V}`,children:O})}),y.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Er(P,"branch",u)}`,children:y.jsx("span",{className:`text-base md:text-xl text-white ${X}`,children:Y})}),u.showSipSin&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Yn(g,{branch:P})}),(u.showSibiUnseong||u.showSibiSinsal)&&y.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[u.showSibiUnseong&&q&&y.jsx("div",{children:q}),u.showSibiSinsal&&U&&y.jsx("div",{children:U})]}),y.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:D.term})]})]},`${D.term}-${D.at.toISOString()}`)})})]})}const X2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},W2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Dk=Object.fromEntries(Object.entries(X2).map(([t,r])=>[r,t])),jk=Object.fromEntries(Object.entries(W2).map(([t,r])=>[r,t]));function Rx(t,r,a){return a==="한글"?r==="stem"?X2[t]??t:W2[t]??t:r==="stem"?Dk[t]??t:jk[t]??t}const kk=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Ok=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Px(t,r){return r==="stem"?kk.has(t):Ok.has(t)}function Ck(t){return typeof t=="object"&&t!==null}function Lk(t){return Ck(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Bk(t){const r=Jo;return Lk(r)?t==="classic"?r.Classic:r.Modern:t}function Rk({data:t,year:r,month:a,hourTable:s,selectedMonth:u}){const d=ir(V=>V.settings),f=s??t?.mingSikType??"조자시/야자시",p=t?ru(t):null,b=t&&p?iu(t,p):null,g=C.useMemo(()=>b?se(b,f).charAt(0):void 0,[b,f]),_=t&&t.birthPlace&&t.birthPlace.name!=="모름"&&t.birthPlace.lon!==0?t.birthPlace.lon:127.5,x=t&&b?d.sinsalBase==="일지"?se(b,f).charAt(1):le(b,_).charAt(1):null,S=new Date,T=(()=>{const V=new Date(r,a),X=pf(V);return new Date(X.start)})(),M=C.useMemo(()=>pf(T),[T]),D=u?M:pf(S),A=D.start,$=D.end,P=C.useMemo(()=>{const V=[],X=new Date(A);for(;X<$;)V.push(new Date(X)),X.setDate(X.getDate()+1);return V},[A,$]),j=C.useMemo(()=>[...li(new Date(r-1,5,15,12,0))??[],...li(new Date(r,5,15,12,0))??[],...li(new Date(r+1,5,15,12,0))??[]].map(X=>({name:String(X.name),date:new Date(X.date)})).sort((X,q)=>X.date.getTime()-q.date.getTime()),[r]),B=C.useMemo(()=>{const V=j.filter(q=>q.date>=A&&q.date<$),X=j.find(q=>q.date>=$);return X?[...V,X]:V},[j,A,$]),O=C.useMemo(()=>{const V=[];let X=[];const q=new Date(A).getDay();for(let U=0;U<q;U++)X.push(null);for(const U of P)X.length===7&&(V.push(X),X=[]),X.push(U);for(;X.length<7;)X.push(null);return V.push(X),V},[P,A]),{date:Y,setFromEvent:et}=Fn(),it=C.useMemo(()=>{if(!Y)return null;const V=new Date(Y);return new Date(V.getFullYear(),V.getMonth(),V.getDate(),12,0,0,0)},[Y]);return y.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:y.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[D?.cur?.name?y.jsxs(y.Fragment,{children:[D.cur.name," ~ ",D?.next?.name??""]}):`${r}년 ${a}월`,B.length>0&&y.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",B.map((V,X)=>y.jsxs("span",{children:[V.name," ",Pk(V.date),X<B.length-1?" · ":""]},V.name+X)),"]"]})]})}),y.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["일","월","화","수","목","금","토"].map(V=>y.jsx("div",{className:"py-1",children:V},V))}),y.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:O.map((V,X)=>V.map((q,U)=>{if(!q)return y.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${X}-${U}`);const J=new Date(q);J.setHours(12,0,0,0);const rt=new Date,ct=J.getFullYear()===rt.getFullYear()&&J.getMonth()===rt.getMonth()&&J.getDate()===rt.getDate(),at=!!it&&J.getFullYear()===it.getFullYear()&&J.getMonth()===it.getMonth()&&J.getDate()===it.getDate()||!it&&ct,st=se(J,f),xt=st.charAt(0),k=st.charAt(1),H=Rx(xt,"stem",d.charType),F=Rx(k,"branch",d.charType),tt=d.thinEum&&Px(xt,"stem")?"font-thin":"font-bold",K=d.thinEum&&Px(k,"branch")?"font-thin":"font-bold",G=!!g&&d.showSipSin,Z=!!g&&d.showSibiUnseong,mt=!!g&&x!=null&&d.showSibiSinsal,vt=G?Yn(g,{stem:xt}):"",ot=G?Yn(g,{branch:k}):"",St=Z?On(g,k):"",Ct=mt?Zn({baseBranch:x,targetBranch:k,era:Bk(d.sinsalMode),gaehwa:!!d.sinsalBloom}):"",At=B.find(jt=>jt.date.getFullYear()===J.getFullYear()&&jt.date.getMonth()===J.getMonth()&&jt.date.getDate()===J.getDate());return y.jsxs("div",{onClick:()=>et({at:J},"일운"),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${at?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${st} (${J.toLocaleDateString()})`,children:[y.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[y.jsx("span",{children:J.getDate()}),At&&y.jsx("span",{className:"px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:At.name})]}),G&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:vt}),y.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${Er(xt,"stem",d)}`,children:y.jsx("span",{className:tt,children:H})}),y.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${Er(k,"branch",d)}`,children:y.jsx("span",{className:K,children:F})}),G&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:ot}),(Z||mt)&&y.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[Z&&St&&y.jsx("div",{children:St}),mt&&Ct&&y.jsx("div",{children:Ct})]})]},q.toISOString())}))})]})}function Pk(t){if(!t)return null;const r=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(t);let a="",s="",u="",d="";for(const f of r)f.type==="month"&&(a=f.value),f.type==="day"&&(s=f.value),f.type==="hour"&&(u=f.value),f.type==="minute"&&(d=f.value);return`${a}/${s} ${u}:${d}`}function zx(t,r){const a=t.at.getFullYear(),s=r?r.at.getFullYear():a+10,u=[];for(let d=a;d<s;d++){const f=on(d,315);let p=d;new Date<f&&(p=d-1);const g=le(new Date(p,1,10));u.push({at:f,gz:g})}return u}function zk({data:t}){const r=nu(t),[a,s]=C.useState(null),[u,d]=C.useState(null),[f,p]=C.useState("il"),[b,g]=C.useState(null);C.useEffect(()=>{if(!r.length)return;const M=new Date,D=r.findIndex((A,$)=>{const P=r[$+1]?.at;return M>=A.at&&(!P||M<P)});D!==-1&&s(D)},[r]),C.useEffect(()=>{if(a===null)return;const M=r[a],D=r[a+1];if(!M)return;const A=zx(M,D),$=new Date;A.findIndex((j,B)=>{const O=A[B+1]?.at;return $>=j.at&&(!O||$<O)})!==-1&&d({year:$.getFullYear(),month:$.getMonth()})},[a,r]);const _=hg(t),{date:x}=Fn(),S=x.getMonth()+1===1?x.getFullYear()-1:x.getFullYear(),T=C.useMemo(()=>{if(!_?.dae?.gz)return[];const M=r.findIndex(($,P)=>{const j=r[P+1]?.at;return _.dae.at>=$.at&&(!j||_.dae.at<j)});if(M===-1)return[];const D=r[M],A=r[M+1];return zx(D,A)},[r,_?.dae]);return y.jsxs("div",{className:"w-full space-y-4",children:[y.jsx(ak,{data:t}),f==="se"||f==="wol"||f==="il"?y.jsx(pk,{data:t,list:T,onSelect:()=>{p("wol")}}):null,f==="wol"||f==="il"?y.jsx(Ak,{data:t,activeYear:S,onSelect:(M,D)=>{d({year:M,month:D}),p("il")},onSelectMonth:g}):null,f==="il"&&u&&y.jsx(Rk,{data:t,year:u.year,month:u.month,hourTable:t?.mingSikType,selectedMonth:b})]})}const $k=new Set(mE),Hk=new Set(pE);function $x(t){return typeof t=="string"&&t.length>=2&&$k.has(t[0])&&Hk.has(t[1])}function br(t,...r){if($x(t))return t;for(const a of r)if($x(a))return a;return""}const Ik={자:0,축:2,인:4,묘:6,진:8,사:10,오:12,미:14,신:16,유:18,술:20,해:22},Q2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Gk={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function Hx(t){return!!t&&Ur.천간.includes(t)}function Uk(t){return Q2[t]??t}function Ix(t){return Gk[t]??t}function Zk(t){if(Hx(t))return t;const r=Q2[t];return Hx(r)?r:"갑"}function Yk(t){return typeof t=="object"&&t!==null&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function qk(t){const r=Jo;return Yk(r)?t==="classic"?r.Classic??r.classic:r.Modern??r.modern:t}function $d(t,r){let a=null;const s=r.getTime();for(const u of t)if(u.at.getTime()<=s)a=u;else break;return a}function Fk({data:t}){const r=ir(X=>X.settings),{manualHour:a}=tl(),{showSibiUnseong:s,showSibiSinsal:u,sinsalBase:d,sinsalMode:f,sinsalBloom:p}=r,{date:b}=Fn(),g=C.useMemo(()=>fg(t),[t]),_=C.useMemo(()=>lh(g),[g]),x=C.useMemo(()=>ug(g,"조자시/야자시"),[g]),S=C.useMemo(()=>Zk(x.day?.charAt(0)??"갑"),[x.day]),T=!t.birthTime||t.birthTime==="모름",M=C.useMemo(()=>z2(_,x.hour,t.dir??"forward",120,"조자시/야자시"),[_,x.hour,t.dir]),D=C.useMemo(()=>H2(M,x.day,t.dir??"forward","인시일수론"),[M,x.day,t.dir]),A=C.useMemo(()=>eu(_,x.month,t.dir??"forward",120,g.birthPlace?.lon??127.5),[_,x.month,t.dir,g.birthPlace?.lon]),$=C.useMemo(()=>I2(A,x.year,t.dir??"forward","인시일수론",_),[A,x.year,t.dir,_]),P=C.useMemo(()=>{const X=M?.events?.[0];return X?{at:X.at,from:br(x.hour),to:br(X.gz)}:null},[M?.events,x.hour]),j=C.useMemo(()=>{const X=A?.events?.[0];return A?.firstChange?{at:A.firstChange,from:br(x.month),to:br(X?.gz??x.month)}:null},[A?.firstChange,A?.events,x.month]),B=C.useMemo(()=>{const X=T?a?a.stem+a.branch:"":br($d(M.events,b)?.gz,x.hour);let q;if(T&&a){const U=b.getFullYear(),J=b.getMonth(),rt=b.getDate(),ct=Ik[a.branch]??0,I=new Date(U,J,rt,ct,0),at=se(I,t.mingSikType??"조자시/야자시");q=br(at,x.day)}else q=br($d(D.events,b)?.gz,x.day);return{si:X,il:q,wl:br($d(A.events,b)?.gz,x.month),yn:br($d($.events,b)?.gz,x.year)}},[b,M.events,D.events,A.events,$.events,x,T,a,t.mingSikType]),O=C.useMemo(()=>({si:br(Yr(b,"조자시/야자시")),il:br(se(b,"조자시/야자시")),wl:br(Me(b)),yn:br(le(b))}),[b]),Y=C.useMemo(()=>d==="일지"?x.day.charAt(1):x.year.charAt(1),[d,x.day,x.year]),et=C.useMemo(()=>qk(f),[f]),it=X=>{if(!X)return{unseong:"",shinsal:""};const q=Uk(S),U=Ix(X.charAt(1)),J=Ix(Y);return{unseong:s&&On(q,U)||"",shinsal:u&&Zn({baseBranch:J,targetBranch:U,era:et,gaehwa:!!p})||""}},V=(X,q,U="myoun")=>{const J=q,{unseong:rt,shinsal:ct}=q?it(q):{unseong:"",shinsal:""},I=U==="myoun"&&T&&(X==="시주"||X==="일주");return y.jsx(Fs,{label:X,gz:J,dayStem:S,settings:r,unseongText:q?rt:"",shinsalText:q?ct:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:I},`${U}-${X}`)};return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[y.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:y.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:["묘운 + 실시간 운 뷰어"," ",y.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(출생: ",Pc(_),")"]})]})}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"묘운뷰어"}),y.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[V("시주",B.si,"myoun"),V("일주",B.il,"myoun"),V("월주",B.wl,"myoun"),V("연주",B.yn,"myoun")]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"실시간 간지뷰어"}),y.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[V("시주",O.si,"live"),V("일주",O.il,"live"),V("월주",O.wl,"live"),V("연주",O.yn,"live")]})]})]}),y.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[y.jsx("div",{className:"font-semibold",children:"첫 전환 시각"}),y.jsxs("div",{children:["시주:"," ",P?`${Pc(P.at)} (${P.from} → ${P.to})`:"계산 불가"]}),y.jsxs("div",{children:["월주:"," ",j?`${Pc(j.at)} (${j.from} → ${j.to})`:"계산 불가"]})]})]})}const Gx=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],Vk={갑목:"목",을목:"목",병화:"화",정화:"화",무토:"토",기토:"토",경금:"금",신금:"금",임수:"수",계수:"수"},Kk={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},Xk={목:"화",화:"토",토:"금",금:"수",수:"목"},Wk={화:"목",토:"화",금:"토",수:"금",목:"수"},Qk={목:"토",화:"금",토:"수",금:"목",수:"화"},Jk={토:"목",금:"화",수:"토",목:"금",화:"수"};function t5(t,r){switch(t){case"비겁":return r;case"식상":return Xk[r];case"재성":return Qk[r];case"관성":return Jk[r];case"인성":return Wk[r];default:return r}}function e5({data:t,perStemElementScaled:r,elementPercent:a,dayStem:s,width:u=280,height:d=280,revKey:f}){const p=u,b=d,g=p/2,_=b/2,x=Math.min(p,b)*.37,S=C.useMemo(()=>{const j=(s??"").charAt(0);return Kk[j]??null},[s]),T=j=>Math.PI/2+2*-Math.PI*j/5,M=C.useMemo(()=>t.map((j,B)=>({...j,x:g+x*Math.cos(T(B)),y:_-x*Math.sin(T(B))})),[t,g,_,x]),[D,A]=C.useState(0),$=C.useRef(""),P=C.useMemo(()=>{const j=t.map(Y=>`${Y.name}:${Y.value}`).join(","),B=Gx.map(Y=>`${Y}:${r?.[Y]??0}`).join(","),O=a?`목:${a.목??0},화:${a.화??0},토:${a.토??0},금:${a.금??0},수:${a.수??0}`:"el:none";return[f??"",j,B,O,s??""].join("||")},[f,t,r,s,a]);return C.useEffect(()=>{P!==$.current&&($.current=P,A(j=>j+1))},[P]),y.jsx("div",{className:"w-full",children:y.jsxs("svg",{width:p,height:b,className:"mx-auto pt-2",children:[M.map((j,B)=>{const O=M[(B+2)%5];return y.jsx("line",{x1:j.x,y1:j.y,x2:O.x,y2:O.y,stroke:"#94a3b8",strokeWidth:1},`line-${B}`)}),M.map((j,B)=>{const O=M[(B+1)%5],Y=(j.x+O.x)/2,et=(j.y+O.y)/2,it=Y-g,V=et-_,X=1.5,q=g+it*X,U=_+V*X;return y.jsx("path",{d:`M${j.x},${j.y} Q${q},${U} ${O.x},${O.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${B}`)}),y.jsx("defs",{children:y.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:y.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),M.map(j=>{const B=j.name,O=S?t5(B,S):null,Y=O?Gx.filter(et=>Vk[et]===O).map(et=>[et,r?.[et]??0]):[];return y.jsxs("g",{transform:`translate(${j.x},${j.y})`,children:[y.jsx("circle",{r:33,fill:j.color??"#334155",opacity:j.value===0?.7:1}),y.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[j.name," ",j.value]}),Y.map(([et,it],V)=>y.jsxs("text",{textAnchor:"middle",dy:8+V*11,fontSize:10,className:"fill-white",children:[et," ",Math.round(it)]},et))]},`${j.name}-${j.value}`)})]},D)})}const n5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}];function mg(t){return Math.max(0,Math.min(100,t))}function J2(t){const r=mg(t);return n5.find(s=>r>=s.min&&r<s.max)?.name??"중화"}const r5=[10,20,35,45,55,65,80];function i5({value:t}){const r=C.useMemo(()=>mg(t),[t]),a=C.useMemo(()=>J2(r),[r]);return y.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[y.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[y.jsx("span",{children:"신약"}),y.jsx("span",{children:"중화"}),y.jsx("span",{children:"신강"})]}),y.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[r5.map(s=>y.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${s}%`},title:`${s}%`},s)),y.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),y.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${r}%`,transform:"translateX(-50%)"},"aria-label":`현재 강약 ${r}%`})]}),y.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[y.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:a}),y.jsxs("span",{className:"text-xs text-neutral-400",children:[r.toFixed(1),"%"]})]})]})}const eo=["연","월","일","시"],Hd={year:0,month:1,day:2,hour:3},H0="매우약함",a5={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},tS={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function Ft(t){if(!t)return"";const r=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),a=r.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(a)return`${a[1]}${a[2]}`;const s=r.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(s){const u=a5[s[1]]??s[1],d=tS[s[2]]??s[2];return`${u}${d}`}return""}const Ks=t=>t&&t.length>=1?t[0]:"",vr=t=>t&&t.length>=2?t[1]:"",jf=[{pair:["갑","기"],label:"갑기합"},{pair:["을","경"],label:"을경합"},{pair:["병","신"],label:"병신합"},{pair:["정","임"],label:"정임합"},{pair:["무","계"],label:"무계합"}],kf=[{pair:["갑","경"],label:"갑경충"},{pair:["을","신"],label:"을신충"},{pair:["병","임"],label:"병임충"},{pair:["정","계"],label:"정계충"}],Of=[{pair:["자","축"],label:"자축합"},{pair:["인","해"],label:"인해합"},{pair:["묘","술"],label:"묘술합"},{pair:["진","유"],label:"진유합"},{pair:["사","신"],label:"사신합"},{pair:["오","미"],label:"오미합"}],Cf=[{pair:["자","오"],label:"자오충"},{pair:["사","해"],label:"사해충"},{pair:["인","신"],label:"인신충"},{pair:["묘","유"],label:"묘유충"},{pair:["진","술"],label:"진술충"},{pair:["축","미"],label:"축미충"}],Lf=[{pair:["축","진"],label:"축진파"},{pair:["술","미"],label:"술미파"},{pair:["자","유"],label:"자유파"},{pair:["묘","오"],label:"묘오파"},{pair:["사","신"],label:"사신파"},{pair:["인","해"],label:"인해파"}],Bf=[{pair:["인","사"],label:"인사해"},{pair:["신","해"],label:"신해해"},{pair:["자","미"],label:"자미해"},{pair:["축","오"],label:"축오해"},{pair:["묘","진"],label:"묘진해"},{pair:["유","술"],label:"유술해"}],Rf=[{pair:["자","미"],label:"자미원진"},{pair:["인","유"],label:"인유원진"},{pair:["축","오"],label:"축오원진"},{pair:["묘","신"],label:"묘신원진"},{pair:["진","해"],label:"진해원진"},{pair:["사","술"],label:"사술원진"}],Pf=[{pair:["인","미"],label:"인미귀문"},{pair:["묘","신"],label:"묘신귀문"},{pair:["진","해"],label:"진해귀문"},{pair:["사","술"],label:"사술귀문"},{pair:["자","유"],label:"자유귀문"},{pair:["축","오"],label:"축오귀문"}],o5=[{name:"인사신",members:["인","사","신"]},{name:"축술미",members:["축","술","미"]}],zf=[{pair:["인","신"],label:"인신상형"},{pair:["인","사"],label:"인사상형"},{pair:["사","신"],label:"사신상형"},{pair:["술","미"],label:"술미상형"},{pair:["축","술"],label:"축술상형"},{pair:["축","미"],label:"축미상형"}],$f=[{pair:["자","묘"],label:"자묘형"}],Ux=new Set(["진","오","유","해"]),Yc=new Set(["정해","무자","신사","임오"]),uh=[{name:"해묘미",members:["해","묘","미"],out:"목",wang:"묘"},{name:"인오술",members:["인","오","술"],out:"화",wang:"오"},{name:"사유축",members:["사","유","축"],out:"금",wang:"유"},{name:"신자진",members:["신","자","진"],out:"수",wang:"자"}],dh=[{name:"인묘진",members:["인","묘","진"],out:"목",wang:"묘"},{name:"사오미",members:["사","오","미"],out:"화",wang:"오"},{name:"신유술",members:["신","유","술"],out:"금",wang:"유"},{name:"해자축",members:["해","자","축"],out:"수",wang:"자"}];function he(t,r,a){for(const{pair:[s,u],label:d}of t)if(r===s&&a===u||r===u&&a===s)return d;return null}function oe(t,r){t.includes(r)||t.push(r)}const $o=t=>[...t].sort((r,a)=>r-a).map(r=>eo[r]).join("X"),I0=(t,r)=>t===0&&r===3||t===3&&r===0;function Zx(t,r){const a=[];for(const s of t)for(const u of r){if(s===u)continue;const d=Math.min(s,u),f=Math.max(s,u);d===0&&f===3||a.push([d,f])}return a.sort((s,u)=>{const d=Math.abs(s[0]-s[1]),f=Math.abs(u[0]-u[1]);return d!==f?d-f:0})}function s5(t){const r=[],a=[...t].sort((s,u)=>s-u);for(let s=0;s<a.length;s++)for(let u=s+1;u<a.length;u++){const d=a[s],f=a[u];d===0&&f===3||r.push([d,f])}return r}const eS=t=>{switch(t){case"연":return"연주";case"월":return"월주";case"일":return"일주";case"시":return"시주"}};function l5(t){if(!t)return!1;const r=t.normalize("NFC").trim();return/^#\s*없음$/u.test(r)}const c5=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function nS(t){for(const r of c5){const s=(t[r]??[]).map(u=>u&&u.normalize("NFKC")).filter(u=>!!u&&!l5(u));t[r]=s}return t}function rS(t,r={}){const{emitGanjiAmhap:a=!0}=r,s=t.map(Ft),u=s.map(S=>Ks(S)),d=s.map(S=>vr(S)),p={title:s.map((S,T)=>`${S}${["년","월","일","시"][T]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},b=(S,T,M,D)=>{const A=u.flatMap((P,j)=>P===S?[j]:[]),$=u.flatMap((P,j)=>P===T?[j]:[]);for(const P of A)for(const j of $)P!==j&&Math.abs(P-j)===1&&oe(D,`#${$o([P,j])}_${M}`)};jf.forEach(({pair:[S,T],label:M})=>b(S,T,M,p.cheonganHap)),kf.forEach(({pair:[S,T],label:M})=>b(S,T,M,p.cheonganChung));const g=S=>{const T=new Set,M=[];for(const D of S)for(let A=0;A<d.length;A++)if(d[A]===D&&!T.has(A)){T.add(A),M.push(A);break}return M};uh.forEach(({name:S,members:T,wang:M})=>{const D=T.filter($=>d.includes($)),A=new Set(D).size;if(A===3){const $=g(T);$.length===3&&oe(p.jijiSamhap,`#${$o($)}_${S}삼합`)}else if(A===2){if(!D.includes(M))return;const[$,P]=D,j=d.flatMap((et,it)=>et===$?[it]:[]),B=d.flatMap((et,it)=>et===P?[it]:[]),O=Zx(j,B),Y=O.length>1;for(const[et,it]of O){const V=I0(et,it),X=`#${$o([et,it])}_${$}${P}반합${Y?"":V?`_${H0}`:""}`;oe(p.jijiSamhap,X)}}}),dh.forEach(({name:S,members:T})=>{const M=T.filter(A=>d.includes(A));if(new Set(M).size===3){const A=g(T);A.length===3&&oe(p.jijiBanghap,`#${$o(A)}_${S}방합`)}});const _=(S,T,M,D)=>{const A=d.flatMap((B,O)=>B===S?[O]:[]),$=d.flatMap((B,O)=>B===T?[O]:[]),P=Zx(A,$),j=P.length>1;for(const[B,O]of P){const Y=I0(B,O),et=`#${$o([B,O])}_${M}${j?"":Y?`_${H0}`:""}`;oe(D,et)}};if(Of.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiYukhap)),Cf.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiChung)),Lf.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiPa)),Bf.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiHae)),Rf.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiWonjin)),Pf.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiGwimun)),[["인","사","신"],["축","술","미"]].forEach(S=>{const T=[],M=new Set;if(S.forEach(D=>{d.forEach((A,$)=>{A===D&&(T.push($),M.add(D))})}),M.size===3){const D=Array.from(new Set(T)).sort((A,$)=>A-$);oe(p.jijiHyeong,`#${$o(D)}_${S.join("")}삼형`)}}),zf.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiHyeong)),$f.forEach(({pair:[S,T],label:M})=>_(S,T,M,p.jijiHyeong)),["진","오","유","해"].forEach(S=>{const T=d.flatMap((A,$)=>A===S?[$]:[]),M=s5(T),D=M.length>1;for(const[A,$]of M){const P=I0(A,$),j=`#${$o([A,$])}_${S}${S}자형${D?"":P?`_${H0}`:""}`;oe(p.jijiHyeong,j)}}),[{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}].forEach(({pair:[S,T],label:M})=>_(S,T,M,p.amhap)),a)for(let S=0;S<4;S++){const T=s[S]??"";if(T.length<2)continue;const M=`${T[0]}${T[1]}`;Yc.has(M)&&oe(p.ganjiAmhap,`#${eS(eo[S])}_${M}암합`)}return nS(p)}function qs(t,r={}){const{emitNatalGanjiAmhap:a=!1}=r,s=[Ft(t.natal[0]??""),Ft(t.natal[1]??""),Ft(t.natal[2]??""),Ft(t.natal[3]??"")],d=[Ft(t.daewoon??""),Ft(t.sewoon??""),Ft(t.wolwoon??"")].some(g=>g.length>=2),f={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(a&&d)for(let g=0;g<4;g++){const _=s[g]??"";if(_.length<2)continue;const x=`${_[0]}${_[1]}`;Yc.has(x)&&oe(f.ganjiAmhap,`#${eS(eo[g])}_${x}암합`)}const p=[["대운",t.daewoon],["세운",t.sewoon],["월운",t.wolwoon],["일운",t.ilwoon]];for(const[g,_]of p){if(!_)continue;const x=Ft(_);if(!x||x.length<2)continue;const S=Ks(x),T=vr(x);{const A=`${S}${T}`;Yc.has(A)&&oe(f.ganjiAmhap,`#${g}_${A}암합`)}for(let A=0;A<4;A++){const $=s[A]??"";if($.length<2)continue;const P=eo[A],j=Ks($),B=vr($),O=he(jf,S,j);O&&oe(f.cheonganHap,`#${g}X${P}_${O}`);const Y=he(kf,S,j);Y&&oe(f.cheonganChung,`#${g}X${P}_${Y}`);const et=he(Of,T,B);et&&oe(f.jijiYukhap,`#${g}X${P}_${et}`);const it=he(Cf,T,B);it&&oe(f.jijiChung,`#${g}X${P}_${it}`);const V=he(Lf,T,B);V&&oe(f.jijiPa,`#${g}X${P}_${V}`);const X=he(Bf,T,B);X&&oe(f.jijiHae,`#${g}X${P}_${X}`);const q=he(Rf,T,B);q&&oe(f.jijiWonjin,`#${g}X${P}_${q}`);const U=he(Pf,T,B);U&&oe(f.jijiGwimun,`#${g}X${P}_${U}`);const J=he(zf,T,B);if(J)oe(f.jijiHyeong,`#${g}X${P}_${J}`);else{const I=he($f,T,B);I?oe(f.jijiHyeong,`#${g}X${P}_${I}`):T===B&&Ux.has(T)&&oe(f.jijiHyeong,`#${g}X${P}_${T}${B}자형`)}const ct=he([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],T,B);ct&&oe(f.amhap,`#${g}X${P}_${ct}`)}const M=s.map(A=>{const $=vr(A??"");return tS[$]??$});for(const A of uh){if(!A.members.includes(T))continue;const $=A.members.filter(j=>j!==T),P=M.map((j,B)=>({b:j,pos:eo[B]})).filter(j=>$.includes(j.b));if(new Set(P.map(j=>j.b)).size===2){const[j,B]=P.map(O=>O.pos).sort((O,Y)=>["시","일","월","연"].indexOf(O)-["시","일","월","연"].indexOf(Y));oe(f.jijiSamhap,`#${g}X${j}X${B}_삼합(${A.name})`)}}const D=[...s.map((A,$)=>({b:vr(A),pos:eo[$]})),...t.daewoon?[{b:vr(Ft(t.daewoon)),pos:"대운"}]:[],...t.sewoon?[{b:vr(Ft(t.sewoon)),pos:"세운"}]:[],...t.wolwoon?[{b:vr(Ft(t.wolwoon)),pos:"월운"}]:[],...t.ilwoon?[{b:vr(Ft(t.ilwoon)),pos:"일운"}]:[]];for(const A of dh){const $=D.filter(P=>A.members.includes(P.b));if(new Set($.map(P=>P.b)).size===3){const P=$.map(j=>j.pos).join("X");oe(f.jijiBanghap,`#${P}_방합(${A.name})`)}}for(const A of o5){if(!A.members.includes(T))continue;const $=A.members.filter(j=>j!==T),P=M.map((j,B)=>({b:j,pos:eo[B]})).filter(j=>$.includes(j.b));if(new Set(P.map(j=>j.b)).size===2){const[j,B]=P.map(O=>O.pos).sort((O,Y)=>["시","일","월","연"].indexOf(O)-["시","일","월","연"].indexOf(Y));oe(f.jijiHyeong,`#${g}X${j}X${B}삼형(${A.name})`)}}}const b=[];t.daewoon&&t.sewoon&&b.push(["대운",t.daewoon,"세운",t.sewoon]),t.sewoon&&t.wolwoon&&b.push(["세운",t.sewoon,"월운",t.wolwoon]),t.daewoon&&t.wolwoon&&b.push(["대운",t.daewoon,"월운",t.wolwoon]),t.ilwoon&&t.daewoon&&b.push(["일운",t.ilwoon,"대운",t.daewoon]),t.ilwoon&&t.sewoon&&b.push(["일운",t.ilwoon,"세운",t.sewoon]),t.ilwoon&&t.wolwoon&&b.push(["일운",t.ilwoon,"월운",t.wolwoon]);for(const[g,_,x,S]of b){const T=Ft(_),M=Ft(S);if(T.length<2||M.length<2)continue;const D=Ks(T),A=vr(T),$=Ks(M),P=vr(M),j=he(jf,D,$);j&&oe(f.cheonganHap,`#${g}X${x}_${j}`);const B=he(kf,D,$);B&&oe(f.cheonganChung,`#${g}X${x}_${B}`);const O=he(Of,A,P);O&&oe(f.jijiYukhap,`#${g}X${x}_${O}`);const Y=he(Cf,A,P);Y&&oe(f.jijiChung,`#${g}X${x}_${Y}`);const et=he(Lf,A,P);et&&oe(f.jijiPa,`#${g}X${x}_${et}`);const it=he(Bf,A,P);it&&oe(f.jijiHae,`#${g}X${x}_${it}`);const V=he(Rf,A,P);V&&oe(f.jijiWonjin,`#${g}X${x}_${V}`);const X=he(Pf,A,P);X&&oe(f.jijiGwimun,`#${g}X${x}_${X}`);const q=he(zf,A,P);if(q)oe(f.jijiHyeong,`#${g}X${x}_${q}`);else{const J=he($f,A,P);J?oe(f.jijiHyeong,`#${g}X${x}_${J}`):A===P&&Ux.has(A)&&oe(f.jijiHyeong,`#${g}X${x}_${A}${P}자형`)}const U=he([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],A,P);U&&oe(f.amhap,`#${g}X${x}_${U}`)}return nS(f)}function u5(t,r){const s=t.map(Ft).map(b=>vr(b)),u=Hd.month,d=s[u],f=b=>{const g=[];for(let _=0;_<4;_++){const x=s[_];x&&b.has(x)&&g.push(_)}return g},p=b=>{const g=[...b].sort((_,x)=>_-x);return g.length===3&&g[0]+1===g[1]&&g[1]+1===g[2]};for(const b of uh){const g=new Set(b.members),_=f(g);if(_.length===3){const x=_.includes(u),S=d===b.wang;x?p(_)?r[b.out]+=S?10:8:r[b.out]+=5:r[b.out]+=3}if(_.length===2&&_.includes(u)){const x=_[0]===u?_[1]:_[0],S=d===b.wang;x===Hd.day&&S?r[b.out]+=8:x===Hd.year&&S?r[b.out]+=6:x===Hd.hour&&(r[b.out]+=S?4:2)}}for(const b of dh){const g=new Set(b.members),_=f(g);if(_.length===3){const x=_.includes(u),S=d===b.wang;x?p(_)?r[b.out]+=S?8:6:r[b.out]+=4:r[b.out]+=2}}}function Yx(t){const r=["연","월","일","시"],a=t.map(Ft),s=a.map(p=>Ks(p)),u=a.map(p=>vr(p)),d=new Map,f=new Map;for(let p=0;p<4;p++){const b=s[p],g=u[p];b.includes(b)&&d.set(b,[...d.get(b)??[],p]),g.includes(g)&&f.set(g,[...f.get(g)??[],p])}return{stemsByPos:s,brsByPos:u,stemPos:d,brPos:f,names:r}}function Ee(t){return eo[t]}function jn(t,r){r&&(t.includes(r)||t.push(r))}function d5(t,r){const a=Yx(t),s=Yx(r),u={천간합:[],천간충:[],지지삼합:[],지지방합:[],지지반합:[],지지육합:[],암합:[],간지암합:[],지지충:[],지지형:[],지지파:[],지지해:[],지지원진:[],지지귀문:[]};for(let p=0;p<4;p++){const b=a.stemsByPos[p],g=a.brsByPos[p];for(let _=0;_<4;_++){const x=s.stemsByPos[_],S=s.brsByPos[_],T=he(jf,b,x);T&&jn(u.천간합,`${Ee(p)}X${Ee(_)} ${T}`);const M=he(kf,b,x);M&&jn(u.천간충,`${Ee(p)}X${Ee(_)} ${M}`);const D=he(Of,g,S);D&&jn(u.지지육합,`${Ee(p)}X${Ee(_)} ${D}`);const A=he(Cf,g,S);A&&jn(u.지지충,`${Ee(p)}X${Ee(_)} ${A}`);const $=he(Lf,g,S);$&&jn(u.지지파,`${Ee(p)}X${Ee(_)} ${$}`);const P=he(Bf,g,S);P&&jn(u.지지해,`${Ee(p)}X${Ee(_)} ${P}`);const j=he(Rf,g,S);j&&jn(u.지지원진,`${Ee(p)}X${Ee(_)} ${j}`);const B=he(Pf,g,S);B&&jn(u.지지귀문,`${Ee(p)}X${Ee(_)} ${B}`);const Y=he([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],g,S);Y&&jn(u.암합,`${Ee(p)}X${Ee(_)} ${Y}`);const et=`${b}${S}`,it=`${x}${g}`;Yc.has(et)&&jn(u.간지암합,`${Ee(p)}X${Ee(_)} ${et}암합`),Yc.has(it)&&jn(u.간지암합,`${Ee(_)}X${Ee(p)} ${it}암합`);const V=he(zf,g,S);if(V)jn(u.지지형,`${Ee(p)}X${Ee(_)} ${V}`);else{const X=he($f,g,S);X&&jn(u.지지형,`${Ee(p)}X${Ee(_)} ${X}`)}}}const d=new Set(a.brsByPos.filter(Boolean)),f=new Set(s.brsByPos.filter(Boolean));for(const p of uh){if(p.members.every(_=>d.has(_)||f.has(_))){const _=p.members.filter(S=>d.has(S)).length,x=p.members.filter(S=>f.has(S)).length;_>=1&&x>=1&&jn(u.지지삼합,`${p.name}삼합`)}const g=p.members.filter(_=>d.has(_)||f.has(_));if(g.length===2&&g.includes(p.wang)){const _=g.some(S=>d.has(S)),x=g.some(S=>f.has(S));if(_&&x){const[S,T]=g.sort(),M=a.brPos.get(S)?.[0]??a.brPos.get(T)?.[0],D=s.brPos.get(S)?.[0]??s.brPos.get(T)?.[0];M!=null&&D!=null&&jn(u.지지반합,`${Ee(M)}X${Ee(D)} ${S}${T}반합`)}}}for(const p of dh)if(p.members.every(g=>d.has(g)||f.has(g))){const g=p.members.filter(x=>d.has(x)).length,_=p.members.filter(x=>f.has(x)).length;g>=1&&_>=1&&jn(u.지지방합,`${p.name}방합`)}return Object.keys(u).forEach(p=>u[p].sort()),u}function Mc(t,r){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(r){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ii({label:t,natal:r,dae:a,se:s,wol:u,il:d}){const f=a.length+s.length+u.length+d.length>0,p=r.length>0?r:["#없음"],b=f?p.filter(x=>x!=="#없음"):p,_=b.some(x=>x!=="#없음")||a.length>0||s.length>0||u.length>0||d.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return y.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:[y.jsx("div",{className:_,children:t}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.map((x,S)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mc(x,"natal"),children:x},`natal-${S}`)),a.map((x,S)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mc(x,"dae"),children:x},`dae-${S}`)),s.map((x,S)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mc(x,"se"),children:x},`se-${S}`)),u.map((x,S)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mc(x,"wol"),children:x},`wol-${S}`)),d.map((x,S)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mc(x,"il"),children:x},`il-${S}`))]})]})}function Np(t){return Array.isArray(t)?t:[]}function Id(t,r){const a=new Set(Np(t));return Np(r).filter(u=>!a.has(u))}function f5({pillars:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u,tab:d="원국"}){const f=rS(t),p=qs({natal:t}),b=r?qs({natal:t,daewoon:r}):p,g=a?qs({natal:t,daewoon:r,sewoon:a}):b,_=s?qs({natal:t,daewoon:r,sewoon:a,wolwoon:s}):g,x=u?qs({natal:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u}):_,S=D=>({natal:Np(f[D]),dae:Id(p[D],b[D]),se:Id(b[D],g[D]),wol:Id(g[D],_[D]),il:Id(_[D],x[D])}),T={cheonganHap:S("cheonganHap"),cheonganChung:S("cheonganChung"),jijiSamhap:S("jijiSamhap"),jijiBanghap:S("jijiBanghap"),jijiYukhap:S("jijiYukhap"),amhap:S("amhap"),ganjiAmhap:S("ganjiAmhap"),jijiChung:S("jijiChung"),jijiHyeong:S("jijiHyeong"),jijiPa:S("jijiPa"),jijiHae:S("jijiHae")},M=D=>d==="원국"?{natal:D.natal,dae:[],se:[],wol:[],il:[]}:d==="대운"?{natal:D.natal,dae:D.dae,se:[],wol:[],il:[]}:d==="세운"?{natal:D.natal,dae:D.dae,se:D.se,wol:[],il:[]}:d==="월운"?{natal:D.natal,dae:D.dae,se:D.se,wol:D.wol,il:[]}:d==="일운"?{natal:D.natal,dae:D.dae,se:D.se,wol:D.wol,il:D.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return y.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[y.jsx("div",{className:"text-base font-bold mb-1",children:"형충회합"}),y.jsx(ii,{label:"천간합",...M(T.cheonganHap)}),y.jsx(ii,{label:"천간충",...M(T.cheonganChung)}),y.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),y.jsx(ii,{label:"지지삼합",...M(T.jijiSamhap)}),y.jsx(ii,{label:"지지방합",...M(T.jijiBanghap)}),y.jsx(ii,{label:"지지육합",...M(T.jijiYukhap)}),y.jsx(ii,{label:"암합",...M(T.amhap)}),y.jsx(ii,{label:"간지암합",...M(T.ganjiAmhap)}),y.jsx(ii,{label:"지지충",...M(T.jijiChung)}),y.jsx(ii,{label:"지지형",...M(T.jijiHyeong)}),y.jsx(ii,{label:"지지파",...M(T.jijiPa)}),y.jsx(ii,{label:"지지해",...M(T.jijiHae)})]})}const h5={목:{비겁:"#13B713",식상:"#DC143C",재성:"#F0B100",관성:"#a0a0a0",인성:"#353535"},화:{비겁:"#DC143C",식상:"#F0B100",재성:"#a0a0a0",관성:"#353535",인성:"#13B713"},토:{비겁:"#F0B100",식상:"#a0a0a0",재성:"#353535",관성:"#13B713",인성:"#DC143C"},금:{비겁:"#a0a0a0",식상:"#353535",재성:"#13B713",관성:"#DC143C",인성:"#F0B100"},수:{비겁:"#353535",식상:"#13B713",재성:"#DC143C",관성:"#F0B100",인성:"#a0a0a0"}},m5={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"};function iS(t){const r=m5[t]??"목";return h5[r]}const aS={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},p5={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},au={목:"화",화:"토",토:"금",금:"수",수:"목"},qc={화:"목",토:"화",금:"토",수:"금",목:"수"},hl={목:"토",화:"금",토:"수",금:"목",수:"화"},g5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],b5={해:{temp:"cold",wet:"wet"},자:{temp:"cold",wet:"wet"},축:{temp:"cold",wet:"wet"},인:{temp:"mild",wet:"normal"},묘:{temp:"mild",wet:"normal"},진:{temp:"mild",wet:"wet"},사:{temp:"hot",wet:"normal"},오:{temp:"hot",wet:"dry"},미:{temp:"hot",wet:"wet"},신:{temp:"mild",wet:"dry"},유:{temp:"mild",wet:"dry"},술:{temp:"mild",wet:"dry"}};function pg(t){return Math.max(0,Math.min(100,t))}function ol(t,r,a){return Math.max(r,Math.min(a,t))}function y5(t){const r=pg(t);return g5.find(a=>r>=a.min&&r<a.max)?.name??"중화"}function v5(t){const r=t?.[2]?.charAt(0)??"";return aS[r]??null}function x5(t){return(t?.[1]?.charAt(1)??"")||null}function fh(t){const r=Object.entries(hl);for(const[a,s]of r)if(s===t)return a;return"토"}function _5(t){return t?{peer:t,resource:qc[t],leak:au[t],wealth:hl[t],officer:fh(t)}:null}function S5(t){const r={목:0,화:0,토:0,금:0,수:0};for(const a of t){if(!a)continue;const s=a.charAt(0),u=a.charAt(1),d=aS[s],f=p5[u];d&&(r[d]+=10),f&&(r[f]+=6)}return r}function w5(t){const r=Object.values(t).reduce((s,u)=>s+u,0);if(r<=0)return{목:20,화:20,토:20,금:20,수:20};const a={목:0,화:0,토:0,금:0,수:0};return Object.keys(t).forEach(s=>{a[s]=t[s]/r*100}),a}function T5(t){if(!t||t.length===0)return null;const r=t.reduce((s,u)=>s+(u?.value??0),0)||0;if(r<=0)return null;const a=s=>t.find(u=>u.name===s)?.value??0;return pg((a("비겁")+a("인성"))/r*100)}function E5(t,r){return!t||!r?null:r===t?"비겁":au[t]===r?"식상":hl[t]===r?"재성":fh(t)===r?"관성":qc[t]===r?"인성":null}const G0=24,M5=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function N5(t){for(const[r,a]of M5)if(t>=r)return a;return 1}const Hf=20,qx=(t,r)=>ol((Hf-(r[t]??0))/Hf,0,1),Fx=(t,r)=>ol(((r[t]??0)-Hf)/Hf,0,1);function A5(t,r,a,s){const u=E5(t,a);if(!t||!u)return 0;const d=ol((50-r)/50,0,1),f=ol((r-50)/50,0,1),p=qx(a,s),b=Fx(a,s),g=qx(t,s),_=Fx(t,s),x=6.5;let S=0;if(d>0)switch(u){case"인성":S=+(.3+.4*g+.15*p)*d;break;case"비겁":S=+(.18+.45*g)*d;break;case"관성":S=-(.08+.2*(1-p)+.1*_)*d;break;case"재성":S=-(.22+.25*(1-p)+.1*(1-g))*d;break;case"식상":S=-(.35+.25*(1-p)+.1*(1-g))*d;break}else if(f>0)switch(u){case"인성":S=-(.25+.25*(1-p)+.2*_)*f;break;case"비겁":S=-(.28+.2*_)*f;break;case"관성":S=+(.18+.2*p+.15*_)*f;break;case"재성":S=+(.22+.25*p+.1*_)*f;break;case"식상":S=+(.2+.2*p)*f;break}else switch(u){case"인성":S=.08*(g+p);break;case"비겁":S=.05*g-.03*_;break;case"관성":S=.02*p-.02*b;break;case"재성":S=.01*p-.06*b;break;case"식상":S=-.05*(1-p);break}return Math.round(x*S*10)/10}function D5(t,r,a,s){const u=["중화신강","태강","극태강"].includes(r),d=["극약","태약","신약","중화신약"].includes(r),f={목:0,화:0,토:0,금:0,수:0};if(u){const p=au[t],b=hl[t],g=fh(t);f[p]+=28,f[b]+=22,f[g]+=20,s.get(p)?.push("억부: 일간 강 → 설기(식상)"),s.get(b)?.push("억부: 일간 강 → 재성 누설"),s.get(g)?.push("억부: 일간 강 → 관성 절제")}if(d){const p=qc[t],b=t;f[p]+=28,f[b]+=22,s.get(p)?.push("억부: 일간 약 → 인성 보강"),s.get(b)?.push("억부: 일간 약 → 비겁 보강")}return f}function Vx(t,r){if(!t)return{목:0,화:0,토:0,금:0,수:0};const a=b5[t]??{temp:"mild",wet:"normal"},s={목:0,화:0,토:0,금:0,수:0};return a.temp==="cold"?(s.화+=16,s.토+=6,r.get("화")?.push("조후: 한랭 → 화"),r.get("토")?.push("조후: 한랭습 보조")):a.temp==="hot"&&(s.수+=14,s.금+=6,r.get("수")?.push("조후: 염열 → 수"),r.get("금")?.push("조후: 제열 보조")),a.wet==="wet"?(s.토+=8,s.화+=4,r.get("토")?.push("조후: 습 → 토"),r.get("화")?.push("조후: 습냉 가온")):a.wet==="dry"&&(s.수+=8,s.목+=4,r.get("수")?.push("조후: 건조 → 수"),r.get("목")?.push("조후: 생발 보조")),s}function Kx(t,r){const a={목:0,화:0,토:0,금:0,수:0},s=["목","화","토","금","수"];for(const u of s){const d=hl[u],f=Math.max(0,(t[u]??0)-(t[d]??0));if(f<=0)continue;const p=au[u],b=Math.round(f*.35);b>0&&(a[p]+=b,r.get(p)?.push(`통관: ${u}극${d} 완화`))}return a}function Xx(t,r){const a={목:0,화:0,토:0,금:0,수:0},s=Object.entries(t),u=Math.min(...s.map(([,f])=>f)),d=s.filter(([,f])=>f<=Math.max(6,u));for(const[f]of d)a[f]+=12,r.get(f)?.push("병약: 결핍 보충");return a}function Wx(t,r){const a=v5(t),s=x5(t),u=S5(t),d=w5(u);let f=T5(r);if(f==null)if(!a)f=50;else{const q=a,U=qc[a],J=Object.values(u).reduce((rt,ct)=>rt+ct,0)||1;f=pg(((u[q]??0)+(u[U]??0))/J*100)}const p=y5(f),b={목:0,화:0,토:0,금:0,수:0},g=new Map(["목","화","토","금","수"].map(q=>[q,[]]));if(a){const q=D5(a,p,u,g);Object.keys(b).forEach(U=>{b[U]+=q[U]??0})}const _=Vx(s,g);Object.keys(b).forEach(q=>{b[q]+=_[q]??0});const x=Kx(u,g);Object.keys(b).forEach(q=>{b[q]+=x[q]??0});const S=Xx(u,g);Object.keys(b).forEach(q=>{b[q]+=S[q]??0});const T=_5(a),M={비겁:0,식상:0,재성:0,관성:0,인성:0};if(Array.isArray(r))for(const q of r)M[q.name]=q.value;if(f>=45&&f<=55&&T){const q=M.관성>=30||M.관성>=Math.max(M.비겁,M.식상,M.재성,M.인성)+5;f<=50?(b[T.resource]+=14,g.get(T.resource)?.push("밸런스: 중화-약측"),b[T.peer]+=10,g.get(T.peer)?.push("밸런스: 중화-약측"),b[T.leak]+=6,g.get(T.leak)?.push("밸런스: 중화-약측"),b[T.wealth]+=3,g.get(T.wealth)?.push("밸런스: 중화-약측"),q&&T.officer&&(b[T.officer]=Math.round(b[T.officer]*.8*10)/10,g.get(T.officer)?.push("밸런스: 관성 과다 억제"))):(b[T.leak]+=14,g.get(T.leak)?.push("밸런스: 중화-강측"),b[T.wealth]+=10,g.get(T.wealth)?.push("밸런스: 중화-강측"),T.officer&&(b[T.officer]+=6,g.get(T.officer)?.push("밸런스: 중화-강측")),b[T.resource]+=3,g.get(T.resource)?.push("밸런스: 중화-강측"))}["목","화","토","금","수"].forEach(q=>{const U=A5(a,f,q,d);b[q]=ol(Math.round((b[q]+U)*10)/10,0,999)});const A=f<50;["목","화","토","금","수"].forEach(q=>{const U=d[q]??0,J=A&&a===q;if(U>=G0&&!J){const rt=N5(U);b[q]=Math.round(b[q]*rt*10)/10;const ct=Math.min(14,Math.max(0,Math.ceil((U-G0)*.5)));ct>0&&(b[q]=ol(b[q]-ct,0,999)),g.get(q)?.push("강과 패널티(강화)")}});const $={목:[],화:[],토:[],금:[],수:[]};if(a){const q=au[a],U=hl[a],J=fh(a),rt=a,ct=qc[a];$[q].push("식상"),$[U].push("재성"),$[J].push("관성"),$[rt].push("비겁"),$[ct].push("인성")}const P={목:(u.목??0)>0,화:(u.화??0)>0,토:(u.토??0)>0,금:(u.금??0)>0,수:(u.수??0)>0},j=q=>{const U=d[q]??0;return U>=G0&&!(A&&a===q)?U>=55?4:U>=45?3:2:P[q]?0:1},B=Vx(s,new Map),O=Kx(u,new Map),Y=Xx(u,new Map),et=Object.keys(b).map(q=>({element:q,score:Math.round(b[q]*10)/10,via:j5(q,B,O,Y),reasons:(g.get(q)??[]).slice(),tenGodHints:$[q]})).sort((q,U)=>{const J=j(q.element),rt=j(U.element);return J!==rt?J-rt:U.score!==q.score?U.score-q.score:q.element.localeCompare(U.element)}),it=k5(p,B,O,Y),V={비겁:0,식상:0,재성:0,관성:0,인성:0},X=r?r.reduce((q,U)=>(q[U.name]=U.value,q),{...V}):void 0;return{chosenType:it,ordered:et,debug:{band:p,overallPct:f,elementScore:u,tenGodTotals:X,monthBranch:s??void 0}}}function j5(t,r,a,s){const u=[];return(r[t]??0)>0&&u.push("조후"),(a[t]??0)>0&&u.push("통관"),(s[t]??0)>0&&u.push("병약"),u.length===0&&u.push("억부"),u}function k5(t,r,a,s){if(["극약","태약","태강","극태강"].includes(t))return"억부";const d=g=>Object.values(g).reduce((_,x)=>_+x,0),f=d(r),p=d(a),b=d(s);return f>Math.max(p,b)?"조후":p>=b?"통관":"병약"}const O5=Object.fromEntries(Mr.천간.map((t,r)=>[t,qn[r]])),C5=Object.fromEntries(qn.map((t,r)=>[t,Mr.천간[r]])),L5=Object.fromEntries(Mr.지지.map((t,r)=>[t,rr[r]])),B5=Object.fromEntries(rr.map((t,r)=>[t,Mr.지지[r]])),R5=t=>O5[t]??t,P5=t=>L5[t]??t,z5=t=>C5[t]??t,$5=t=>B5[t]??t;function H5(t){const r={...t};for(const a of Object.keys(t)){const s=/[甲乙丙丁戊己庚辛壬癸]/.test(a)?R5(a):z5(a);s&&r[s]===void 0&&(r[s]=t[a])}return r}function gg(t){const r={...t};for(const a of Object.keys(t)){const s=/[子丑寅卯辰巳午未申酉戌亥]/.test(a)?P5(a):$5(a);s&&r[s]===void 0&&(r[s]=t[a])}return r}const I5={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},G5={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},oS={자:[{stem:"계",ratio:1,main:!0}],子:[{stem:"계",ratio:1,main:!0}],축:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],丑:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],인:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],寅:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],묘:[{stem:"을",ratio:1,main:!0}],卯:[{stem:"을",ratio:1,main:!0}],진:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],辰:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],사:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],巳:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],오:[{stem:"정",ratio:1,main:!0}],午:[{stem:"정",ratio:1,main:!0}],미:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],未:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],신:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],申:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],유:[{stem:"신",ratio:1,main:!0}],酉:[{stem:"신",ratio:1,main:!0}],술:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],戌:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],해:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}],亥:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}]},U5={...oS,인:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],寅:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],오:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],午:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],사:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],巳:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],신:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],申:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}]},Qx=H5(I5),Jx=gg(G5);gg(oS);gg(U5);const Z5=["원국","대운","세운","월운","일운"],qe={2:4,1:3,3:2,0:1};function Gd(t,r,a="classic"){const s=xr(r),u=Le(r),d=(a==="hgc"?Jf:Qf)[u]??[];return[s,...d].includes(t)}const Xs={1:4,2:3,0:2,3:1},sS=new Set(Object.keys(Wf)),lS=new Set(Object.keys(Rp)),Y5=t=>t.slice(0,1),q5=t=>t.slice(-1);function aa(t){return Xf.has(t)?t:sS.has(t)?Wf[t]??t:t}function Cn(t){return Bp.has(t)?t:lS.has(t)?Rp[t]??t:t}function xr(t){return aa(Y5(t))}function Le(t){return Cn(q5(t))}const _t={year:0,month:1,day:2,hour:3};function U0(t,r){const a=Cn(t),s=[_t.day,_t.month,_t.hour,_t.year];for(const u of s)if(Le(r[u])===a)return{pos:u,weight:qe[u]??0};return null}function bg(t,r,a){return Le(r[a])===Cn(t)?{pos:a,weight:qe[a]}:null}function F5(t,r){const a=aa(t),s=[_t.day,_t.month,_t.hour,_t.year];for(const u of s)if(xr(r[u])===a)return{pos:u,weight:qe[u]??0};return null}const V5=/^#(연지|월지|일지|시지)X\1_/,K5=t=>V5.test(t);function t_(t){const r=new Map;for(const a of t){if(K5(a.name))continue;const s=`${a.name}@${a.pos}`,u=r.get(s);(!u||a.weight>u.weight)&&r.set(s,a)}return Array.from(r.values()).sort((a,s)=>s.weight!==a.weight?s.weight-a.weight:a.name.localeCompare(s.name,"ko"))}function Ud(t){return t===3?"si":t===2?"il":t===1?"wol":"yeon"}const Wo=t=>t===0?"연지":t===1?"월지":t===2?"일지":"시지",ml=t=>t==="dae"?"대운":t==="se"?"세운":t==="wol"?"월운":"일운",X5=(t,r)=>`#일간X${Wo(r)}_${t}`,cS=(t,r)=>r===_t.month?`#월지_${t}`:`#월지X${Wo(r)}_${t}`,Js=(t,r,a)=>`#${Wo(r)}X${Wo(a)}_${t}`,W5=(t,r)=>`#${t==="day"?"일간":"연간"}X${Wo(r)}_공망`,Ei=t=>`#일주_${t}`,Zd=(t,r)=>`#${Wo(r)}_${t}`,Gs=(t,r)=>`#일간X${ml(r)}_${t}`,Nc=(t,r)=>`#월지X${ml(r)}_${t}`,Z0=(t,r,a)=>`#${ml(r)}X${Wo(a)}_${t}`,Q5=(t,r)=>`#${r==="day"?"일간":"연간"}X${ml(t)}_공망`,J5=(t,r)=>`#${r==="day"?"일지":"연지"}X${ml(t)}_삼재`,e_=(t,r)=>`#연지X${ml(t)}_${r}`;function t9(t){if(!t)return null;const r=Array.from(String(t));let a=null,s=null;for(const u of r)!a&&(Xf.has(u)||sS.has(u))&&(a=aa(u)),(Bp.has(u)||lS.has(u))&&(s=Cn(u));return a&&s?{stem:a,branch:s}:null}function Y0(t){return t.map(Le)}const Fe=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[Cn(r),(Array.isArray(a)?a:[a]).map(Cn)])),e9=Fe({자:"사",축:"축",인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유"}),uS=Fe({자:"진",축:"사",인:"오",묘:"미",진:"신",사:"유",오:"술",미:"해",신:"자",유:"축",술:"인",해:"묘"}),n9=Fe({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),r9=Fe({자:"인",축:"인",인:"사",묘:"사",진:"사",사:"신",오:"신",미:"신",신:"해",유:"해",술:"해",해:"인"}),i9=Fe({자:"술",축:"술",인:"축",묘:"축",진:"축",사:"진",오:"진",미:"진",신:"미",유:"미",술:"미",해:"술"}),dS=Fe({자:"술",축:"해",인:"자",묘:"축",진:"인",사:"묘",오:"진",미:"사",신:"오",유:"미",술:"신",해:"유"}),a9=Fe({자:"오",축:"묘",인:"자",묘:"유",진:"오",사:"묘",오:"자",미:"유",신:"오",유:"묘",술:"자",해:"유"}),o9=Fe({자:"사",축:"인",인:"진",묘:"미",진:"사",사:"인",오:"진",미:"미",신:"사",유:"인",술:"진",해:"미"}),s9=Fe({자:"신",축:"술",인:"자",묘:"인",진:"진",사:"오",오:"신",미:"술",신:"자",유:"인",술:"진",해:"오"}),l9=Fe({자:"사",축:"미",인:"유",묘:"해",진:"축",사:"묘",오:"사",미:"미",신:"유",유:"해",술:"축",해:"묘"}),c9=Fe({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),fS=Fe({자:"사",축:"오",인:"미",묘:"신",진:"유",사:"술",오:"해",미:"자",신:"축",유:"인",술:"묘",해:"진"}),u9=Fe({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),d9=Fe({자:"신",축:"사",인:"인",묘:"해",진:"신",사:"사",오:"인",미:"해",신:"신",유:"사",술:"인",해:"해"}),f9=Fe({자:"묘",축:"진",인:"사",묘:"오",진:"미",사:"신",오:"유",미:"술",신:"해",유:"자",술:"축",해:"인"}),h9=Fe({자:"유",축:"술",인:"해",묘:"자",진:"축",사:"인",오:"묘",미:"진",신:"사",유:"오",술:"미",해:"신"}),m9=Fe({자:"자",축:"축",인:"인",묘:"묘",진:"진",사:"사",오:"오",미:"미",신:"신",유:"유",술:"술",해:"해"}),p9=Fe({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),hS=Fe({자:"해",축:"자",인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술"}),g9=fS,b9=uS,y9=hS,v9=Fe({자:"유",축:"진",인:"해",묘:"오",진:"축",사:"신",오:"묘",미:"술",신:"사",유:"자",술:"미",해:"인"}),x9=dS,_9=Fe({자:"신",축:"유",인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미"}),S9=Fe({자:"축",축:"묘",인:"신",묘:"축",진:"묘",사:"신",오:"축",미:"묘",신:"신",유:"축",술:"묘",해:"신"}),w9=Fe({자:"오",축:"미",인:"인",묘:"오",진:"미",사:"인",오:"오",미:"미",신:"인",유:"오",술:"미",해:"인"}),mS=t=>(Array.isArray(t)?t:String(t).split("·")).map(r=>Cn(r.trim())).filter(Boolean),qr=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[Cn(r),(Array.isArray(a)?a:[a]).map(s=>Cn(s))])),n_={인:"정",묘:"신",진:"임",사:"신",오:"해",미:"갑",신:"계",유:"인",술:"병",해:"을",자:"사",축:"경"},r_={인:"병",묘:"갑",진:"임",사:"경",오:"병",미:"갑",신:"임",유:"경",술:"병",해:"갑",자:"임",축:"경"},i_={인:"임",묘:"사",진:"정",사:"병",오:"인",미:"기",신:"무",유:"해",술:"신",해:"경",자:"신",축:"을"},a_={인:"신",묘:"기",진:"정",사:"을",오:"신",미:"기",신:"정",유:"을",술:"신",해:"기",자:"정",축:"을"},T9=qr({인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미",자:"신",축:"유"}),o_=qr({인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"신",유:"유",술:"술",해:"해",자:"자",축:"축"}),hh=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[Cn(r),mS(a)])),E9=hh({인:"무인",묘:"무인",진:"무인",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),M9=hh({인:"을묘",묘:"을묘",진:"을묘",사:"병오",오:"병오",미:"병오",신:"신유",유:"신유",술:"신유",해:"임자",자:"임자",축:"임자"}),N9=hh({인:"신묘",묘:"신묘",진:"신묘",사:"무오",오:"무오",미:"무오",신:"계유",유:"계유",술:"계유",해:"병자",자:"병자",축:"병자"}),A9=hh({인:"갑자",묘:"갑자",진:"갑자",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),D9=qr({인:["해","자"],묘:["해","자"],진:["해","자"],사:["묘","미"],오:["묘","미"],미:["묘","미"],신:["인","술"],유:["인","술"],술:["인","술"],해:["축","진"],자:["축","진"],축:["축","진"]}),j9=qr({인:"인",묘:"묘",진:"신",사:"축",오:"술",미:"유",신:"진",유:"사",술:"오",해:"미",자:"해",축:"자"}),k9=qr({인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유",자:"사",축:"축"}),O9=qr({인:"진",묘:"진",진:"진",사:"미",오:"미",미:"미",신:"술",유:"술",술:"술",해:"축",자:"축",축:"축"}),C9=qr({인:["사","해"],묘:["진","술"],진:["묘","유"],사:["인","신"],오:["축","미"],미:["자","오"],신:["사","해"],유:["진","술"],술:["묘","유"],해:["인","신"],자:["축","미"],축:["자","오"]}),s_=qr({인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술",자:"해",축:"자"}),L9=qr({인:"미",묘:"오",진:"사",사:"진",오:"묘",미:"인",신:"축",유:"자",술:"해",해:"술",자:"유",축:"신"}),B9=qr({인:"술",묘:"축",진:"인",사:"사",오:"유",미:"묘",신:"자",유:"오",술:"해",해:"진",자:"신",축:"미"}),R9=qr({인:"축",묘:"자",진:"해",사:"술",오:"유",미:"신",신:"미",유:"오",술:"사",해:"진",자:"묘",축:"인"}),P9=qr({인:"해",묘:"술",진:"유",사:"신",오:"미",미:"오",신:"사",유:"진",술:"묘",해:"인",자:"축",축:"자"}),Ge=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[aa(r),mS(a)])),z9=Ge({갑:"자·오",을:"자",병:"묘",정:"묘",무:"진·술",기:"축·미",경:"인·해",신:"인·해",임:"사·신",계:"사·신"}),l_=Ge({갑:"축·미",을:"자·신",병:"해·유",정:"해·유",무:"축·미",기:"자·신",경:"축·미",신:"인·오",임:"사·묘",계:"사·묘"}),$9=Ge({갑:"사",을:"오",병:"사",정:"오",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),H9=Ge({갑:"유",을:"신",병:"자",정:"해",무:"묘",기:"인",경:"오",신:"사",임:"축·미",계:"진·술"}),I9=Ge({갑:"미",을:"진",병:"사",정:"유",무:"술",기:"묘",경:"해",신:"신",임:"인",계:"오"}),G9=Ge({갑:"사",을:"오",병:"신",정:"유",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),U9=Ge({갑:"해",을:"술",병:"신",정:"미",무:"신",기:"미",경:"사",신:"진",임:"인",계:"축"}),c_=Ge({갑:"진",을:"사",병:"미",정:"신",무:"미",기:"신",경:"술",신:"해",임:"축",계:"인"}),Z9=Ge({갑:"축·묘",을:"인·진",병:"진·오",정:"사·미",무:"진·오",기:"사·미",경:"미·유",신:"신·술",임:"술·자",계:"해·축"}),Y9=Ge({갑:"사",을:"사",병:"사",정:"신",무:"해",기:"해",경:"인",신:"인",임:"신",계:"신"}),q9=Ge({갑:"해",을:"자",병:"인",정:"묘",무:"인",기:"묘",경:"사",신:"오",임:"신",계:"유"}),F9=Ge({갑:"해",을:"오",병:"인",정:"유",무:"인",기:"유",경:"사",신:"자",임:"신",계:"묘"}),V9=Ge({갑:"인",을:"묘",병:"사",정:"오",무:"사",기:"오",경:"신",신:"유",임:"해",계:"자"}),u_=Ge({갑:"신",을:"오",병:"인",정:"미",무:"진",기:"진",경:"술",신:"유",임:"자",계:"신"}),K9=Ge({갑:"유",을:"술",병:"미",정:"신",무:"사",기:"오",경:"진",신:"묘",임:"해",계:"인"}),X9=Ge({갑:"사",을:"자",병:"신",정:"술",무:"묘",기:"사",경:"자",신:"신",임:"술",계:"묘"}),d_=Ge({갑:"자",을:"해",병:"인",정:"묘",무:"오",기:"사",경:"진·술",신:"축·미",임:"신",계:"유"}),W9=Ge({갑:"인",정:"사",무:"신",신:"해"}),Q9=Ge({갑:"유",을:"술",병:"자",정:"축",무:"자",기:"축",경:"묘",신:"진",임:"오",계:"미"}),f_=Ge({정:"축·미",신:"묘·유",계:"사·해"}),h_=Ge({병:"자·오",무:"인·신",임:"진·술"}),J9=Ge({갑:"진",을:"진",병:"축",정:"축",무:"축",기:"축",경:"미",신:"미",임:"술",계:"술"}),m_=Ge({갑:"묘",을:"진",병:"오",정:"미",무:"오",기:"미",경:"유",신:"술",임:"자",계:"축"}),p_=Ge({갑:"진",을:"미",병:"술",정:"축",무:"진",임:"술",계:"축"}),q0=[["자","미"],["인","유"],["축","오"],["묘","신"],["진","해"],["사","술"]],F0=[["인","미"],["묘","신"],["진","해"],["사","술"],["자","유"],["축","오"]],t4=new Set(["인미","미인","묘신","신문"]),g_=[["술","해"],["진","사"]],e4=[{set:new Set(["갑자","을축","병인","정묘","무진","기사","경오","신미","임술","계유"]),voids:["술","해"]},{set:new Set(["갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미"]),voids:["신","유"]},{set:new Set(["갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사"]),voids:["오","미"]},{set:new Set(["갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘"]),voids:["진","사"]},{set:new Set(["갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"]),voids:["인","묘"]},{set:new Set(["갑인","을묘","병진","정사","무오","기미","경신","신유","임진","계해"]),voids:["자","축"]}];function Ac(t,r,a){const s=Cn(r),u=Cn(a);for(const[d,f]of t)if(d===s&&f===u||d===u&&f===s)return!0;return!1}function b_(t,r,a){const s=Cn(r),u=Cn(a);for(const[d,f]of t)if(d===s&&f===u||d===u&&f===s)return`${d}${f}`;return`${s}${u}`}function Yd(t){for(const r of e4)if(r.set.has(t))return r.voids;return null}function V0(t){const r=Cn(t),a=[{group:new Set(["해","묘","미"]),years:new Set(["사","오","미"])},{group:new Set(["인","오","술"]),years:new Set(["신","유","술"])},{group:new Set(["사","유","축"]),years:new Set(["해","자","축"])},{group:new Set(["신","자","진"]),years:new Set(["인","묘","진"])}];for(const s of a)if(s.group.has(r))return Array.from(s.years);return null}function ou(t,r){t.push(r)}function K0(t,r,a,s,u=0){const d=Xs[a]>=Xs[s]?a:s,f=Js(r,a,s);t.push({name:f,weight:qe[d]+u,pos:d})}function Be(t,r,a,s,u){const d=Le(t[_t.year]),f=r[d];if(!f)return;const p=a==="MONTH"?[_t.month]:a==="DAY"?[_t.day]:a==="HOUR"?[_t.hour]:[_t.year,_t.month,_t.day,_t.hour];for(const b of f)for(const g of p){const _=bg(b,t,g);_&&ou(u,{name:Js(s,_t.year,g),weight:_.weight,pos:g})}}function qd(t,r,a,s){const u=Le(t[_t.month]),d=r[u];if(!d)return;const f=aa(d),p=F5(f,t);p&&ou(s,{name:cS(a,p.pos),weight:p.weight,pos:p.pos})}function yr(t,r,a,s,u="ALL"){const d=Le(t[_t.month]),f=r[d];if(!f)return;const p=u==="YEAR"?[_t.year]:u==="DAY"?[_t.day]:u==="HOUR"?[_t.hour]:u==="DAY_HOUR"?[_t.day,_t.hour]:[_t.year,_t.month,_t.day,_t.hour];for(const b of f)for(const g of p){const _=bg(b,t,g);if(!_)continue;const x=g===_t.month?`#월지_${a}`:cS(a,g);ou(s,{name:x,weight:_.weight,pos:g})}}function Fd(t,r,a,s){const u=Le(t[_t.month]),d=r[u];if(!d)return;const f=t[_t.day];d.includes(f)&&ou(s,{name:Js(a,_t.month,_t.day),weight:qe[_t.day],pos:_t.day})}function Ce(t,r,a,s,u){const d=xr(t[_t.day]),f=r[d];if(!f)return;const p=u==="DAY"?[_t.day]:u==="HOUR"?[_t.hour]:[_t.year,_t.month,_t.day,_t.hour];for(const b of f)for(const g of p){const _=bg(b,t,g);_&&ou(s,{name:X5(a,g),weight:_.weight,pos:g})}}function Cc({natal:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u,basis:d}){const f=xr(t[_t.day]),p=Le(t[_t.day]),b=Le(t[_t.month]),g=Le(t[_t.year]),_=Y0(t),x=[],S=[],T=new Set(["경진","임진","경술","무술"]);if(Be(t,e9,"MONTH","태백",S),Be(t,uS,"DAY","오귀",S),Be(t,r9,"MONTH","고신",S),Be(t,i9,"MONTH","과숙",S),Be(t,a9,"ALL","수옥",S),Be(t,o9,"HOUR","단명",S),Be(t,s9,"ALL","천모",S),Be(t,l9,"ALL","지모",S),Be(t,c9,"ALL","대모",S),Be(t,fS,"ALL","소모",S),Be(t,u9,"ALL","격각",S),Be(t,d9,"ALL","파군",S),Be(t,f9,"ALL","구신",S),Be(t,h9,"ALL","교신",S),Be(t,m9,"ALL","반음",S),Be(t,p9,"ALL","복음",S),Be(t,hS,"ALL","병부",S),Be(t,g9,"ALL","사부",S),Be(t,b9,"ALL","관부",S),Be(t,y9,"ALL","태음",S),Be(t,v9,"ALL","세파",S),Be(t,x9,"ALL","천구",S),Be(t,_9,"ALL","비염",S),Be(t,S9,"ALL","매아",S),Be(t,w9,"ALL","탕화",S),qd(t,n_,"천덕귀인",x),qd(t,r_,"월덕귀인",x),qd(t,i_,"천덕합",x),qd(t,a_,"월덕합",x),yr(t,T9,"혈지",S,"ALL"),yr(t,o_,"금쇄",S,"YEAR"),yr(t,o_,"금쇄",S,"DAY"),Fd(t,E9,"천사",x),Fd(t,M9,"천전살",S),Fd(t,N9,"지전살",S),Fd(t,A9,"진신",x),yr(t,D9,"급각살",S,"ALL"),yr(t,j9,"단교관살",S,"ALL"),yr(t,k9,"부벽살",S,"ALL"),yr(t,O9,"욕분관살",S,"ALL"),yr(t,C9,"사주관살",S,"ALL"),yr(t,s_,"천의성",x,"ALL"),yr(t,L9,"천희신",x,"DAY_HOUR"),yr(t,B9,"황은대사",x,"DAY_HOUR"),yr(t,R9,"홍란성",x,"ALL"),yr(t,P9,"장수성",x,"ALL"),Ce(t,z9,"태극귀인",x,"ALL"),Ce(t,l_,"천을귀인",x,"ALL"),Ce(t,$9,"천주귀인",x,"ALL"),Ce(t,H9,"천관귀인",x,"ALL"),Ce(t,I9,"천복귀인",x,"ALL"),Ce(t,G9,"문창귀인",x,"ALL"),Ce(t,U9,"암록",x,"ALL"),Ce(t,c_,"금여록",x,"ALL"),Ce(t,Z9,"협록",x,"ALL"),Ce(t,Y9,"관귀학관",x,"ALL"),Ce(t,q9,"문곡귀인",x,"ALL"),Ce(t,F9,"학당귀인",x,"ALL"),Ce(t,V9,"십간록",x,"ALL"),Ce(t,u_,"홍염",S,"ALL"),Ce(t,K9,"유하",S,"ALL"),Ce(t,X9,"낙정관살",S,"ALL"),Ce(t,d_,"효신살",S,"DAY"),Ce(t,d_,"효신살",S,"HOUR"),Ce(t,f_,"음착살",S,"DAY"),Ce(t,f_,"음착살",S,"HOUR"),Ce(t,h_,"양착살",S,"DAY"),Ce(t,h_,"양착살",S,"HOUR"),Ce(t,W9,"고란살",S,"DAY"),Ce(t,Q9,"비인살",S,"ALL"),Ce(t,J9,"재고귀인",x,"ALL"),Ce(t,m_,"양인살",S,"ALL"),T.has(t[_t.day])){S.push({name:Ei("괴강살"),weight:qe[_t.day],pos:_t.day});for(const k of[_t.year,_t.month,_t.hour])t[k]===t[_t.day]&&S.push({name:Zd("괴강살",k),weight:qe[k],pos:k})}const D=p_[f];if(D)for(const k of[_t.year,_t.month,_t.day,_t.hour]){const H=xr(t[k]),F=Le(t[k]);H===f&&D.includes(F)&&S.push({name:Zd("백호대살",k),weight:qe[k],pos:k})}for(const[k,H]of g_){const F=U0(k,t),tt=U0(H,t);F&&tt&&K0(S,"천라지망",F.pos,tt.pos)}{const k=new Set(["갑","신"]),H=new Set(["묘","오","미","신"]);for(let F=0;F<=3;F++){const tt=xr(t[F]),K=Le(t[F]);(k.has(tt)||H.has(K))&&S.push({name:Zd("현침살",F),weight:qe[F],pos:F})}}{const k=xr(t[_t.day]),H=t[_t.hour],F=(tt,K)=>tt.includes(k)&&K.includes(H);F(["갑","기"],["임신","계유"])&&S.push({name:Ei("절로공망"),weight:qe[_t.hour],pos:_t.hour}),F(["을","경"],["임오","계미"])&&S.push({name:Ei("절로공망"),weight:qe[_t.hour],pos:_t.hour}),F(["병","신"],["임진","계사"])&&S.push({name:Ei("절로공망"),weight:qe[_t.hour],pos:_t.hour}),F(["정","임"],["임인","계묘"])&&S.push({name:Ei("절로공망"),weight:qe[_t.hour],pos:_t.hour}),F(["무","계"],["임자","계축"])&&S.push({name:Ei("절로공망"),weight:qe[_t.hour],pos:_t.hour})}{const k=Y0(t);["자","오","묘","유"].every(F=>k.includes(F))&&x.push({name:Ei("편야도화"),weight:qe[_t.day],pos:_t.day})}{const k=t[_t.day],H=t[_t.hour];(k==="병자"&&H==="신묘"||k==="기묘"&&H==="갑자")&&S.push({name:Js("곤랑도화",_t.day,_t.hour),weight:qe[_t.hour],pos:_t.hour})}{const k=Le(t[_t.year]),H=new Set(Y0(t).slice(1)),F=(tt,K)=>tt.every(G=>H.has(G))&&k===K;(F(["신","자","진"],"유")||F(["인","오","술"],"묘")||F(["사","유","축"],"묘")||F(["해","묘","미"],"자"))&&x.push({name:Ei("도삽도화"),weight:qe[_t.day],pos:_t.day})}["임오","계사"].includes(t[_t.day])&&x.push({name:Ei("녹마동향"),weight:qe[_t.day],pos:_t.day});{const k=xr(t[_t.day]),F={갑:{rok:"인",group:["인","오","술"],ma:"신",maStem:"경"},을:{rok:"묘",group:["해","묘","미"],ma:"사",maStem:"병"},병:{rok:"사",group:["인","오","술"],ma:"해",maStem:"임"},정:{rok:"오",group:["인","오","술"],ma:"해",maStem:"경"},무:{rok:"사",group:["인","오","술"],ma:"해",maStem:"임"},기:{rok:"오",group:["해","묘","미"],ma:"해",maStem:"경"},경:{rok:"신",group:["신","자","진"],ma:"인",maStem:"갑"},신:{rok:"유",group:["사","유","축"],ma:"해",maStem:"임"},임:{rok:"해",group:["신","자","진"],ma:"사",maStem:"사"},계:{rok:"자",group:["해","묘","미"],ma:"인",maStem:"갑"}}[k],tt=t.some(Z=>Le(Z)===F.rok),G=xr(t[_t.hour])===F.maStem;tt&&G&&x.push({name:Js("록마교치",_t.day,_t.hour),weight:qe[_t.hour],pos:_t.hour})}{const k=xr(t[_t.day]),H=Le(t[_t.day]),F=Le(t[_t.hour]),K={갑:{rok:"인",ma:"신",rokStem:"병",maStem:"임"},을:{rok:"묘",ma:"사",rokStem:"병",maStem:"임"},병:{rok:"사",ma:"해",rokStem:"임",maStem:"병"},정:{rok:"오",ma:"해",rokStem:"경",maStem:"병"},무:{rok:"사",ma:"해",rokStem:"임",maStem:"병"},기:{rok:"오",ma:"해",rokStem:"경",maStem:"병"},경:{rok:"신",ma:"인",rokStem:"갑",maStem:"경"},신:{rok:"유",ma:"해",rokStem:"임",maStem:"갑"},임:{rok:"해",ma:"사",rokStem:"사",maStem:"임"},계:{rok:"자",ma:"인",rokStem:"갑",maStem:"경"}}[k];if(K){const G=H===K.rok,Z=F===K.ma,mt=Gd(K.rokStem,t[_t.day],"classic")||Gd(K.rokStem,t[_t.hour],"classic"),vt=Gd(K.maStem,t[_t.day],"classic")||Gd(K.maStem,t[_t.hour],"classic");G&&Z&&(mt||vt)&&x.push({name:Js("천록천마",_t.day,_t.hour),weight:qe[_t.hour],pos:_t.hour})}}{const k=new Set(["갑","병","정","임","자","진"]),H=t.map(xr),F=t.map(Le),tt=H.concat(F).filter(mt=>k.has(mt)).length,K=r?xr(r):"",G=r?Le(r):"",Z=k.has(K)||k.has(G);(tt>=4||tt===3&&Z)&&S.push({name:Ei("평두살"),weight:qe[_t.day],pos:_t.day})}{const k=new Set(["을","기"]),H=new Set(["축","사"]);for(let F=0;F<=3;F++){const tt=xr(t[F]),K=Le(t[F]);(k.has(tt)||H.has(K))&&S.push({name:Zd("곡각살",F),weight:qe[F],pos:F})}}{const k=[[_t.year,_t.month],[_t.year,_t.day],[_t.month,_t.day],[_t.month,_t.hour],[_t.day,_t.hour]];for(const[H,F]of k){const tt=Le(t[H]),K=Le(t[F]);if(Ac(q0,tt,K)){const G=b_(q0,tt,K);K0(S,`${G}원진`,H,F)}}}{const k=[[_t.year,_t.month,0],[_t.month,_t.day,1],[_t.month,_t.hour,0],[_t.day,_t.hour,0]];for(const[H,F,tt]of k){const K=Le(t[H]),G=Le(t[F]);if(Ac(F0,K,G)){const Z=b_(F0,K,G),mt=(tt?1:0)+(t4.has(K+G)?1:0);K0(S,`${Z}귀문`,H,F,mt)}}}function A(k){const H=k.lastIndexOf("_");return H>=0?k.slice(H+1):k}const $=new Set(["현침살","곡각살"]);function P(k){return $.has(k)?!0:k.endsWith("원진")||k.endsWith("귀문")}function j(k){const H=new Map;for(const tt of k){const K=A(tt.name);H.has(K)||H.set(K,[]),H.get(K).push(tt)}const F=[];for(const[tt,K]of H)if(P(tt))F.push(...K);else{const G=K.sort((Z,mt)=>Xs[Z.pos]!==Xs[mt.pos]?Xs[mt.pos]-Xs[Z.pos]:mt.weight-Z.weight)[0];F.push(G)}return F}const B=Yd(t[_t.day]),O=Yd(t[_t.year]);{const k=(d?.voidBasis??"day")==="day"?B:O;if(k){const[H,F]=k.map(Cn),tt=[_t.year,_t.month,_t.day,_t.hour];for(const K of tt){const G=Le(t[K]);(G===H||G===F)&&S.push({name:W5(d?.voidBasis??"day",K),weight:qe[K],pos:K})}}}const Y=j(t_(x)),et=j(t_(S)),it={si:[],il:[],yeon:[],wol:[]},V={si:[],il:[],yeon:[],wol:[]};for(const k of Y)it[Ud(k.pos)].push(k.name);for(const k of et)V[Ud(k.pos)].push(k.name);const X=[],q=[],U=[],J=[],rt=[],ct=[],I=[],at=[];function st(k,H){k.includes(H)||k.push(H)}function xt(k,H){const F=t9(H);if(!F)return;const tt=F.branch,K=F.stem;let G,Z;switch(k){case"dae":G=X,Z=rt;break;case"se":G=q,Z=ct;break;case"wol":G=U,Z=I;break;case"il":G=J,Z=at;break;default:return}aa(n_[b])===K&&st(G,Nc("천덕귀인",k)),aa(r_[b])===K&&st(G,Nc("월덕귀인",k)),aa(i_[b])===K&&st(G,Nc("천덕합",k)),aa(a_[b])===K&&st(G,Nc("월덕합",k)),s_[b]?.includes(tt)&&st(G,Nc("천의성",k)),l_[f]?.includes(tt)&&st(G,Gs("천을귀인",k)),c_[f]?.includes(tt)&&st(G,Gs("금여록",k)),u_[f]?.includes(tt)&&st(Z,Gs("홍염",k)),m_[f]?.includes(tt)&&st(Z,Gs("양인살",k)),p_[f]?.includes(tt)&&st(Z,Gs("백호대살",k)),k==="se"&&(n9[g]?.includes(tt)&&st(Z,e_(k,"상문살")),dS[g]?.includes(tt)&&st(Z,e_(k,"조객살")));for(const vt of _)if(Ac(g_,tt,vt)){const ot=U0(vt,t)?.pos;ot!==void 0&&st(Z,Z0("천라지망",k,ot));break}new Set(["갑","신"]).has(f)&&new Set(["묘","오","미","신"]).has(tt)&&st(Z,Gs("현침살",k));const mt=(d?.voidBasis??"day")==="day"?B:O;mt&&(tt===mt[0]||tt===mt[1])&&st(Z,Q5(k,d?.voidBasis??"day"));for(let vt=0;vt<=3;vt++){const ot=Le(t[vt]);Ac(q0,tt,ot)&&st(Z,Z0("원진",k,vt)),Ac(F0,tt,ot)&&st(Z,Z0("귀문",k,vt))}if(k==="se"){const vt=(d?.samjaeBasis??"day")==="day"?p:g,ot=vt?V0(vt):null;ot&&ot.includes(tt)&&st(Z,J5(k,d?.samjaeBasis??"day"))}}return xt("dae",r??null),xt("se",a??null),xt("wol",s??null),xt("il",u??null),{good:{si:[],il:[],yeon:[],wol:[],...(()=>{const k={si:[],il:[],yeon:[],wol:[]};for(const H of Y)k[Ud(H.pos)].push(H.name);return k})(),dae:X,se:q,wolun:U,ilun:J},bad:{si:[],il:[],yeon:[],wol:[],...(()=>{const k={si:[],il:[],yeon:[],wol:[]};for(const H of et)k[Ud(H.pos)].push(H.name);return k})(),dae:rt,se:ct,wolun:I,ilun:at},meta:{voidPair:{day:Yd(t[_t.day])??void 0,year:Yd(t[_t.year])??void 0},samjaeYears:{day:V0(p)??void 0,year:V0(g)??void 0},currentBasis:{voidBasis:d?.voidBasis??"day",samjaeBasis:d?.samjaeBasis??"day"}}}}function n4(t,r){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(r){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function r4({items:t,source:r}){const a=t.length>0?t:["#없음"];return y.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((s,u)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+n4(s,r),children:s},`${r}-${u}-${s}`))})}function y_({title:t,rows:r}){return y.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[y.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:t}),r.map(a=>{const u=a.items.some(d=>d!=="#없음")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return y.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-400 p-2 rounded-sm",children:[y.jsx("div",{className:u,children:a.label}),y.jsx(r4,{items:a.items.length>0?a.items:["#없음"],source:a.source})]},`${t}-${a.label}`)})]})}function i4({pillars:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u,tab:d="원국"}){const[f,p]=C.useState("일공망"),[b,g]=C.useState("일삼재"),_=C.useMemo(()=>({voidBasis:f==="일공망"?"day":"year",samjaeBasis:b==="일삼재"?"day":"year"}),[f,b]),x=C.useMemo(()=>Cc({natal:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u,basis:_}),[t,r,a,s,u,_]),{good:S,bad:T,meta:M}=x,D=V=>V.map(X=>X==="#없음"?X:`원국 ${X}`),A=(V,X)=>{const q=["natal"];return X==="원국"&&q.push("natal"),X==="대운"&&q.push("natal","dae"),X==="세운"&&q.push("natal","dae","se"),X==="월운"&&q.push("natal","dae","se","wol"),X==="일운"&&q.push("natal","dae","se","wol","il"),V.filter(U=>q.includes(U.source))},$=[{label:"시주",items:D(S.si),source:"natal"},{label:"일주",items:D(S.il),source:"natal"},{label:"월주",items:D(S.wol),source:"natal"},{label:"연주",items:D(S.yeon),source:"natal"},{label:"대운",items:S.dae,source:"dae"},{label:"세운",items:S.se,source:"se"},{label:"월운",items:S.wolun,source:"wol"},{label:"일운",items:S.ilun,source:"il"}],P=[{label:"시주",items:D(T.si),source:"natal"},{label:"일주",items:D(T.il),source:"natal"},{label:"월주",items:D(T.wol),source:"natal"},{label:"연주",items:D(T.yeon),source:"natal"},{label:"대운",items:T.dae,source:"dae"},{label:"세운",items:T.se,source:"se"},{label:"월운",items:T.wolun,source:"wol"},{label:"일운",items:T.ilun,source:"il"}],j=A($,d),B=A(P,d),O=M.voidPair.day?`일공망(${M.voidPair.day.join("")})`:"일공망(—)",Y=M.voidPair.year?`연공망(${M.voidPair.year.join("")})`:"연공망(—)",et=M.samjaeYears.day?`일삼재(${M.samjaeYears.day.join("·")})`:"일삼재(—)",it=M.samjaeYears.year?`연삼재(${M.samjaeYears.year.join("·")})`:"연삼재(—)";return y.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[y.jsx("div",{className:"text-base font-bold mb-1",children:"신살(길신/흉살)"}),y.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"공망 기준"}),y.jsxs("select",{value:f,onChange:V=>p(V.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[y.jsx("option",{value:"일공망",children:O}),y.jsx("option",{value:"연공망",children:Y})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"삼재 기준"}),y.jsxs("select",{value:b,onChange:V=>g(V.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[y.jsx("option",{value:"일삼재",children:et}),y.jsx("option",{value:"연삼재",children:it})]})]})]}),y.jsxs("div",{className:"desk:flex",children:[y.jsx(y_,{title:"신(神)",rows:j}),y.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),y.jsx(y_,{title:"살(殺)",rows:B})]})]})}const Gr={year:0,month:1,day:2,hour:3},pS={[Gr.year]:.3,[Gr.month]:.5,[Gr.day]:.3,[Gr.hour]:.3},gS={[Gr.year]:.15,[Gr.month]:.2,[Gr.day]:0,[Gr.hour]:.15},a4=t=>Bp.has(t)?t:Rp[t]??t,o4=t=>Xf.has(t)?t:Wf[t]??t,s4=t=>typeof t=="string"&&t.length>=2?a4(t.slice(-1)):"",l4=t=>typeof t=="string"&&t.length>=1?o4(t.slice(0,1)):"",Xe=(t,r,a,s)=>({han:t,nan:r,jo:a,seup:s}),c4={해:Xe(2,0,.5,2),자:Xe(2,0,0,2),축:Xe(2,0,0,2),인:Xe(0,2,2,0),묘:Xe(0,2,2,0),진:Xe(0,2,1,2),사:Xe(0,2,2,.5),오:Xe(0,2,2,0),미:Xe(0,2,2,1),신:Xe(2,0,0,2),유:Xe(2,0,0,2),술:Xe(2,0,1,1)},u4={갑:Xe(0,1,1,0),을:Xe(0,1,1,0),병:Xe(0,2,2,0),정:Xe(0,2,2,0),무:Xe(0,0,1,0),기:Xe(0,0,0,1),경:Xe(1,0,0,1),신:Xe(1,0,0,1),임:Xe(2,0,0,2),계:Xe(2,0,0,2)},v_=t=>Math.max(0,Math.min(100,t));function x_(t,r){const a=Math.max(0,t),s=Math.max(0,r),u=a+s;return u<=0?50:s/u*100}function d4(t){let r=0,a=0,s=0,u=0;return[Gr.year,Gr.month,Gr.day,Gr.hour].forEach(d=>{const f=c4[s4(t[d])],p=u4[l4(t[d])],b=pS[d],g=gS[d];b>0&&f&&(r+=f.han*b,a+=f.nan*b,s+=f.jo*b,u+=f.seup*b),g>0&&p&&(r+=p.han*g,a+=p.nan*g,s+=p.jo*g,u+=p.seup*g)}),{han:r,nan:a,jo:s,seup:u}}function f4(t){const r=Array.isArray(t)?t.slice(0,4):[];for(;r.length<4;)r.push("");return r.map(a=>typeof a=="string"?a:"")}function h4(t){const r=f4(t);return C.useMemo(()=>{const{han:a,nan:s,jo:u,seup:d}=d4(r),f=x_(a,s),p=x_(d,u);return{hanNanPct:v_(f),joSeupPct:v_(p),raw:{han:a,nan:s,jo:u,seup:d},weights:{branch:pS,stem:gS}}},[r])}function __({label:t,percent:r,leftHint:a,midHint:s,rightHint:u}){const d=C.useMemo(()=>Math.max(0,Math.min(100,r)),[r]),f=[10,20,35,45,55,65,80];return y.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[y.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[y.jsx("span",{children:a}),y.jsx("span",{children:s}),y.jsx("span",{children:u})]}),y.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[f.map(p=>y.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${p}%`},title:`${p}%`},p)),y.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),y.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${d}%`,transform:"translateX(-50%)"},"aria-label":`${t} ${d.toFixed(1)}%`})]}),y.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[y.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:t}),y.jsxs("span",{className:"text-xs text-neutral-400",children:[d.toFixed(1),"%"]})]})]})}function m4({natal:t}){const{hanNanPct:r,joSeupPct:a}=h4(t);return y.jsxs("div",{className:"flex gap-2",children:[y.jsx(__,{label:"한난",percent:r,leftHint:"한",midHint:"중화",rightHint:"난"}),y.jsx(__,{label:"조습",percent:a,leftHint:"습",midHint:"중화",rightHint:"조"})]})}const p4=Object.fromEntries(Mr.천간.map((t,r)=>[t,qn[r]])),g4=Object.fromEntries(qn.map((t,r)=>[t,Mr.천간[r]])),b4=Object.fromEntries(Mr.지지.map((t,r)=>[t,rr[r]])),y4=Object.fromEntries(rr.map((t,r)=>[t,Mr.지지[r]])),v4=t=>p4[t]??t,x4=t=>b4[t]??t,_4=t=>g4[t]??t,S4=t=>y4[t]??t;function bS(t){const r={...t};for(const a of Object.keys(t)){if(a.length<2)continue;const s=a.charAt(0),u=a.charAt(1),d=/[甲乙丙丁戊己庚辛壬癸]/.test(s)||/[子丑寅卯辰巳午未申酉戌亥]/.test(u)?`${v4(s)}${x4(u)}`:`${_4(s)}${S4(u)}`;r[d]===void 0&&(r[d]=t[a])}return r}const yS={갑자:1,을축:.2,병인:1,정묘:1,무진:.5,기사:.7,경오:0,신미:.5,임신:1,계유:1,갑술:0,을해:1,병자:0,정축:0,무인:.3,기묘:0,경진:.5,신사:.3,임오:0,계미:0,갑신:.3,을유:0,병술:.8,정해:.3,무자:0,기축:.5,경인:0,신묘:0,임진:.3,계사:.3,갑오:0,을미:.3,병신:0,정유:0,무술:.8,기해:0,경자:0,신축:.8,임인:0,계묘:0,갑진:.5,을사:0,병오:1,정미:.5,무신:0,기유:0,경술:.7,신해:0,임자:1,계축:.5,갑인:.7,을묘:0,병진:.2,정사:.7,무오:1,기미:.7,경신:.7,신유:1,임술:.2,계해:.7},w4={...yS,병인:.8,경오:.3,무인:.5,신사:.5,경인:.2,기해:.2,병오:.8,무신:.2},T4=bS(yS),E4=bS(w4),M4={목:"화",화:"토",토:"금",금:"수",수:"목"},N4={화:"목",토:"화",금:"토",수:"금",목:"수"},A4={목:"토",화:"금",토:"수",금:"목",수:"화"},D4={목:"금",화:"수",토:"목",금:"화",수:"토"},j4={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},k4={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},O4=t=>j4[t]??t,C4=t=>k4[t]??t;function vS(t){return!t||t.length<2?"":`${O4(t[0])}${C4(t[1])}`}const xS=t=>t&&t.length>=1?t[0]:"",_S=t=>t&&t.length>=2?t[1]:"";function SS(t){return{비겁:t,식상:M4[t],인성:N4[t],재성:A4[t],관성:D4[t]}}const wS={갑:["인","寅","묘","卯","자","子","해","亥"],을:["인","寅","묘","卯","자","子","해","亥"],병:["인","寅","묘","卯","오","午","사","巳"],정:["인","寅","묘","卯","오","午","사","巳"],무:["진","辰","술","戌","축","丑","미","未","오","午","사","巳"],기:["진","辰","술","戌","축","丑","미","未","오","午","사","巳"],경:["진","辰","술","戌","축","丑","미","未","신","申","유","酉"],신:["진","辰","술","戌","축","丑","미","未","신","申","유","酉"],임:["신","申","유","酉","해","亥","자","子"],계:["신","申","유","酉","해","亥","자","子"]};function L4(t,r){const a=(t??[]).slice(0,4).map(vS);if(a.length!==4||a.some(S=>S.length<2))return{flags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},monthBranch:"",dayEl:"목"};const s=xS(a[2]),u=s==="갑"||s==="을"?"목":s==="병"||s==="정"?"화":s==="무"||s==="기"?"토":s==="경"||s==="신"?"금":"수",d=a.map(S=>_S(S)),f={비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},p=wS[s]??[],b=d[1];p.includes(b)&&(f.비겁.령=!0,f.인성.령=!0);const g=d[2];p.includes(g)&&(f.비겁.지=!0,f.인성.지=!0);const _=SS(u).비겁,x=r[_]??0;return f.비겁.세=x>=30,{flags:f,monthBranch:b,dayEl:u}}function B4(t,r){const a=(t??[]).slice(0,4).map(vS);if(a.length<3||a[0].length<2||a[1].length<2||a[2].length<2){const M={령:!1,지:!1,세:!1};return{flags:{비견:{...M},겁재:{...M},식신:{...M},상관:{...M},정재:{...M},편재:{...M},정관:{...M},편관:{...M},정인:{...M},편인:{...M}},monthBranch:"",dayEl:"목"}}const s=xS(a[2]),u=s==="갑"||s==="을"?"목":s==="병"||s==="정"?"화":s==="무"||s==="기"?"토":s==="경"||s==="신"?"금":"수",d=a.map(M=>_S(M)),f={령:!1,지:!1,세:!1},p={비견:{...f},겁재:{...f},식신:{...f},상관:{...f},정재:{...f},편재:{...f},정관:{...f},편관:{...f},정인:{...f},편인:{...f}},b=wS[s]??[],g=d[1];b.includes(g)&&(p.비견.령=!0,p.겁재.령=!0,p.정인.령=!0,p.편인.령=!0);const _=d[2];b.includes(_)&&(p.비견.지=!0,p.겁재.지=!0,p.정인.지=!0,p.편인.지=!0);const x=SS(u).비겁;return(r[x]??0)>=30&&(p.비견.세=!0,p.겁재.세=!0,p.정인.세=!0,p.편인.세=!0),{flags:p,monthBranch:g,dayEl:u}}const R4={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},P4={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},z4={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},$4={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},H4=t=>R4[t]??t,I4=t=>P4[t]??t;function G4(t){return!t||t.length<2?"":`${H4(t[0])}${I4(t[1])}`}function Ho(t){return Qx[t]??Qx[z4[t]??""]}function Io(t){return Jx[t]??Jx[$4[t]??""]}const X0=["year","month","day","hour"],U4={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Z4={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},Y4=new Set(["을","정","기","신","계"]),q4=new Set(["자","인","진","오","신","술"]),F4=new Set(["사","오","자","해"]),W0=t=>Y4.has(t)?"음":"양",Q0=t=>{const r=q4.has(t)?"양":"음";return F4.has(t)?r==="양"?"음":"양":r};function S_(t){const r=t.reduce((p,b)=>p+b,0);if(r<=0)return t.map(()=>0);const a=t.map(p=>p*100/r),s=a.map(p=>Math.floor(p+.5)),u=100-s.reduce((p,b)=>p+b,0);if(u===0)return s;const d=a.map((p,b)=>({i:b,frac:p-Math.floor(p+.5)})).sort((p,b)=>b.frac-p.frac),f=s.slice();if(u>0)for(let p=0;p<u;p++)f[d[p].i]+=1;else for(let p=0;p<-u;p++)f[d[d.length-1-p].i]-=1;return f}function V4(t,r){return t===0?r?1:.8:t===1?r?.6:.5:r?.3:.2}const Vd={왕:.15,상:.1,휴:-.15,수:-.2,사:-.25},If={목:"화",화:"토",토:"금",금:"수",수:"목"},TS={화:"목",토:"화",금:"토",수:"금",목:"수"},Fc={목:"토",화:"금",토:"수",금:"목",수:"화"},K4={토:"목",금:"화",수:"토",목:"금",화:"수"};function Kd(t,r){return t===r?"왕":If[r]===t?"상":If[t]===r?"휴":Fc[t]===r?"수":Fc[r]===t?"사":"휴"}const Ja=t=>t&&t.length>=1?t[0]:"",Go=t=>t&&t.length>=2?t[1]:"";function X4(t,r){const a=t.reduce((b,g)=>b+g,0);if(a<=0||r<=0)return new Array(t.length).fill(0);const s=t.map(b=>b/a*r),u=s.map(b=>Math.floor(b));let d=r-u.reduce((b,g)=>b+g,0);const f=s.map((b,g)=>({i:g,frac:b-Math.floor(b)})).sort((b,g)=>g.frac-b.frac),p=u.slice();for(let b=0;b<f.length&&d>0;b++)p[f[b].i]+=1,d-=1;return p}function w_(t,r){switch(t){case"비겁":return r;case"식상":return If[r];case"재성":return Fc[r];case"관성":return K4[r];case"인성":return TS[r];default:return r}}function Ap(t){const{pillars:r,dayStem:a,mode:s,debug:u,useHarmonyOverlay:d,criteriaMode:f,luck:p}=t,b=f==="modern"?U4:Z4,g=s==="classic"?E4:T4,_={목:0,화:0,토:0,금:0,수:0},x={},S={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},T=(r??[]).slice(0,4).map(G4),M=T.length===4&&T[0]&&T[0].length>=2&&T[1]&&T[1].length>=2&&T[2]&&T[2].length>=2,D={totalsSub:{비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0},perStemAugBare:{},perStemAugFull:{}};if(!M){const G=["비겁","식상","재성","관성","인성"].map(Z=>({name:Z,value:0,color:"#999999"}));return{overlay:D,totals:G,perTenGod:{비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}},PerTenGodSub:{비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0},elementScoreRaw:_,deukFlags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{목:0,화:0,토:0,금:0,수:0}}}const A=Ja(T[2]),$=a??A,P=$==="갑"||$==="을"?"목":$==="병"||$==="정"?"화":$==="무"||$==="기"?"토":$==="경"||$==="신"?"금":"수",j=[{val:0},{val:0},{val:0},{val:0}],B=[[],[],[],[]];for(const G of T){if(!G)continue;const Z=G.charAt(0),mt=G.charAt(1);x[Z]=(x[Z]??0)+50;const vt=S[mt];vt&&(x[vt]=(x[vt]??0)+50)}for(let G=0;G<4;G++){const Z=T[G];if(!Z||Z.length<2)continue;const mt=X0[G],vt=Ja(Z),ot=Go(Z),St=b[mt],Ct=Ho(vt);Ct&&(_[Ct]+=St.stem,j[G]={stem:vt,el:Ct,pol:W0(vt),val:St.stem});const At=Io(ot);At&&(_[At]+=St.branch,B[G].push({el:At,pol:Q0(ot),val:St.branch}))}for(let G=0;G<4;G++){const Z=T[G];if(!Z||Z.length<2)continue;const mt=X0[G],vt=g[Z]??0;if(vt===0)continue;const ot=Ja(Z),St=Ho(ot);if(!St)continue;const Ct=b[mt].stem*vt;_[St]+=Ct,j[G].val+=Ct}for(let G=0;G<4;G++){const Z=T[G];if(!Z||Z.length<2)continue;const mt=Go(Z),vt=Io(mt);if(!vt)continue;const ot=b[X0[G]].branch,St=Q0(mt);let Ct=0;const At=[G];G-1>=0&&At.push(G-1),G+1<=3&&At.push(G+1),G-2>=0&&At.push(G-2),G+2<=3&&At.push(G+2);const jt=Array.from(new Set(At));for(const Tt of jt){if(!T[Tt]||T[Tt].length<2)continue;const Bt=Ja(T[Tt]),It=Ho(Bt);if(!It||It!==vt)continue;const Yt=W0(Bt)===St,Dt=Math.abs(Tt-G),dt=V4(Dt,Yt);Ct+=ot*dt}Ct!==0&&(_[vt]+=Ct,B[G].push({el:vt,pol:St,val:Ct}))}for(let G=0;G<4;G++){const Z=T[G];if(!Z||Z.length<2)continue;const mt=Ja(Z),vt=Ho(mt);if(!vt)continue;let ot=0;const St=Go(T[G]),Ct=Io(St);Ct&&(ot+=Vd[Kd(vt,Ct)]);const At=G===0?[1]:G===3?[2]:[G-1,G+1];for(const Tt of At){const Bt=Ja(T[Tt]),It=Ho(Bt);It&&(ot+=Vd[Kd(vt,It)])}const jt=j[G].val;if(jt!==0&&ot!==0){const Tt=Math.round(jt*(1+ot)*10)/10,Bt=Tt-jt;_[vt]+=Bt,j[G].val=Tt}}for(let G=0;G<4;G++){const Z=T[G];if(!Z||Z.length<2)continue;const mt=Go(Z),vt=Io(mt);if(!vt)continue;let ot=0;const St=Ja(T[G]),Ct=Ho(St);Ct&&(ot+=Vd[Kd(vt,Ct)]);const At=G===0?[1]:G===3?[2]:[G-1,G+1];for(const Tt of At){if(!T[Tt]||T[Tt].length<2)continue;const Bt=Go(T[Tt]),It=Io(Bt);It&&(ot+=Vd[Kd(vt,It)])}const jt=B[G].reduce((Tt,Bt)=>Tt+Bt.val,0);if(jt!==0&&ot!==0){const Bt=Math.round(jt*(1+ot)*10)/10-jt;_[vt]+=Bt,B[G].length>0&&(B[G][0].val+=Bt)}}d&&u5(T,_);const O={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},Y=[];if(!(!p||p.tab==="원국")){let G=function(Z,mt){const vt=Z?Ft(Z):"";if(!vt||vt.length<2)return;const ot=Ja(vt),St=Go(vt),Ct=Ho(ot),At=Io(St),jt=Math.max(1,(_.목??0)+(_.화??0)+(_.토??0)+(_.금??0)+(_.수??0)),Tt=O[mt];if(Ct){const Bt=Math.round(jt*Tt.stem);_[Ct]+=Bt,Y.push({stem:ot,el:Ct,pol:W0(ot),val:Bt})}if(At){const Bt=Math.round(jt*Tt.branch);_[At]+=Bt,Y.push({el:At,pol:Q0(St),val:Bt})}};G(p.dae,"dae"),(p.tab==="세운"||p.tab==="월운"||p.tab==="일운")&&G(p.se,"se"),(p.tab==="월운"||p.tab==="일운")&&G(p.wol,"wol"),p.tab==="일운"&&G(p.il,"il")}const et={비겁:0,식상:0,재성:0,관성:0,인성:0};Object.entries(_).forEach(([G,Z])=>{const mt=J(G,P);et[mt]+=Z});const it=["비겁","식상","재성","관성","인성"],V=S_(it.map(G=>et[G])),X=iS($),q=it.map((G,Z)=>({name:G,value:V[Z],color:X[G]})),U={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};function J(G,Z){return G===Z?"비겁":If[Z]===G?"식상":Fc[Z]===G?"재성":Fc[G]===Z?"관성":TS[Z]===G?"인성":"비겁"}function rt(G,Z){switch(J(G,P)){case"비겁":U.비견+=Z*.5,U.겁재+=Z*.5;break;case"식상":U.식신+=Z*.5,U.상관+=Z*.5;break;case"재성":U.정재+=Z*.5,U.편재+=Z*.5;break;case"관성":U.정관+=Z*.5,U.편관+=Z*.5;break;case"인성":U.정인+=Z*.5,U.편인+=Z*.5;break}}Object.entries(_).forEach(([G,Z])=>{Z>0&&rt(G,Z)});const ct={비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}};for(const G of it){const Z=q.find(At=>At.name===G)?.value??0,mt=ct[G].a,vt=ct[G].b,ot=U[mt]??0,St=U[vt]??0,Ct=ot+St;if(Ct>0){const At=Math.floor(Z*ot/Ct+.5),jt=Z-At;ct[G].aVal=At,ct[G].bVal=jt}else ct[G].aVal=Math.floor(Z/2+.5),ct[G].bVal=Z-ct[G].aVal}const{flags:I}=L4(T,_),at={};j.forEach(G=>{if(G.stem&&G.el&&G.val){const Z=`${G.stem}${G.el}`;at[Z]=(at[Z]??0)+G.val}});for(let G=0;G<4;G++){const Z=T[G];if(!Z||Z.length<2)continue;const mt=Go(Z),vt=S[mt],ot=Io(mt);if(!vt||!ot)continue;const St=`${vt}${ot}`,Ct=B[G].reduce((At,jt)=>At+jt.val,0);at[St]=(at[St]??0)+Ct}const st=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],xt={};st.forEach(G=>{xt[G]=0}),it.forEach(G=>{const Z=q.find(jt=>jt.name===G)?.value??0,mt=w_(G,P),vt=Object.entries(at).filter(([jt])=>jt.endsWith(mt)),ot=vt.map(([jt])=>jt),St=vt.map(([,jt])=>jt),Ct=Math.max(0,Math.round(Z*10)),At=X4(St.length?St:[1,1],Ct);if(ot.length===2)xt[ot[0]]=(At[0]??Math.round(Ct/2))/10,xt[ot[1]]=(At[1]??Ct-(At[0]??0))/10;else if(ot.length===1)xt[ot[0]]=Ct/10;else{const jt=mt==="목"?["갑목","을목"]:mt==="화"?["병화","정화"]:mt==="토"?["무토","기토"]:mt==="금"?["경금","신금"]:["임수","계수"],Tt=Math.floor(Ct/2),Bt=Ct-Tt;xt[jt[0]]+=Tt/10,xt[jt[1]]+=Bt/10}});const k=["목","화","토","금","수"],H={목:0,화:0,토:0,금:0,수:0};for(const G of q){const Z=w_(G.name,P);H[Z]+=G.value}const F=S_(k.map(G=>H[G])),tt={목:F[0],화:F[1],토:F[2],금:F[3],수:F[4]};return u&&console.log({elementScore:_,totals:q,perTenGod:ct,perStemRaw:at,perStemElementScaled:xt,elementPercent100:tt}),{overlay:{totalsSub:U,perStemAugBare:at,perStemAugFull:xt},totals:q,perTenGod:ct,PerTenGodSub:U,stemScoreRaw:x,elementScoreRaw:_,deukFlags:I,perStemElement:at,perStemElementScaled:xt,elementPercent100:tt}}function W4(t){const r=t.reduce((p,b)=>p+b,0);if(r<=0)return t.map(()=>0);const a=t.map(p=>p*100/r),s=a.map(p=>Math.round(p));let d=100-s.reduce((p,b)=>p+b,0);const f=a.map((p,b)=>({i:b,f:p-Math.round(p)})).sort((p,b)=>b.f-p.f);for(let p=0;p<f.length&&d>0;p++)s[f[p].i]+=1,d-=1;return s}const T_=["목","화","토","금","수"];function Q4(t,r){const a=[Ft(t[0]??""),Ft(t[1]??""),Ft(t[2]??""),Ft(t[3]??"")],{elementScoreRaw:s}=Ap({pillars:a,criteriaMode:r?.criteriaMode??"modern",useHarmonyOverlay:r?.useHarmonyOverlay??!0,luck:void 0}),u=T_.map(p=>s[p]??0),d=W4(u),f={목:0,화:0,토:0,금:0,수:0};return T_.forEach((p,b)=>{f[p]=d[b]}),f}function ES(t,r){const a=Q4(t,r),s=Ft(t[2]??"").charAt(0),d={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수",甲:"목",乙:"목",丙:"화",丁:"화",戊:"토",己:"토",庚:"금",辛:"금",壬:"수",癸:"수"}[s];if(!d)return 0;const f={화:"목",토:"화",금:"토",수:"금",목:"수"},p=a[d]??0,b=a[f[d]]??0;return p+b*.7}const Xd={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Wd={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Qd={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},J4=["갑","병","무","경","임"];function E_(t){return J4.includes(t)}const tO={목:"화",화:"토",토:"금",금:"수",수:"목"},eO={목:"토",화:"금",토:"수",금:"목",수:"화"},nO={토:"목",금:"화",수:"토",목:"금",화:"수"},rO={화:"목",토:"화",금:"토",수:"금",목:"수"},Dp={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},iO=["갑","을","병","정","무","기","경","신","임","계"],aO={natal:50,dae:30,se:20,wol:7,il:3};function Gf(t){if(!t)return null;const r=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(r))return r;if(Xd[r])return Xd[r];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(r))return Qd[r]??null;if(Wd[r])return Qd[Wd[r]]??null;const a=r.charAt(0);return Xd[a]?Xd[a]:["갑","을","병","정","무","기","경","신","임","계"].includes(a)?a:Wd[a]?Qd[Wd[a]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(a)?Qd[a]??null:null}function oO(t,r){const a=Dp[t],s=Dp[r];if(!a||!s)return"비견";let u;s===a?u="비견":s===tO[a]?u="식신":s===eO[a]?u="편재":s===nO[a]?u="편관":s===rO[a]?u="편인":u="비견";const d=E_(t)===E_(r);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function Uf(t){const r=Object.entries(t),a=r.reduce((g,[,_])=>g+(_>0?_:0),0);if(a<=0)return Object.fromEntries(r.map(([g])=>[g,0]));const s=r.map(([g,_])=>[g,(_>0?_:0)*100/a]),u=s.map(([g,_])=>[g,Math.round(_)]);let d=u.reduce((g,[,_])=>g+_,0);const f=s.map(([g,_])=>[g,_-Math.round(_)]).sort((g,_)=>_[1]-g[1]),p=Object.fromEntries(u.map(([g,_])=>[g,_]));let b=0;for(;d<100&&b<f.length;)p[f[b][0]]+=1,d+=1,b+=1;return p}function M_(t,r){const a={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,u]of Object.entries(t??{})){if(u<=0)continue;const d=Gf(s);if(!d)continue;const f=oO(r,d);a[f]+=u}return Uf(a)}function sO(t){return{비겁:{a:"비견",b:"겁재",aVal:t.비견,bVal:t.겁재},식상:{a:"식신",b:"상관",aVal:t.식신,bVal:t.상관},재성:{a:"정재",b:"편재",aVal:t.정재,bVal:t.편재},관성:{a:"정관",b:"편관",aVal:t.정관,bVal:t.편관},인성:{a:"정인",b:"편인",aVal:t.정인,bVal:t.편인}}}function N_(t){const r={};for(const[a,s]of Object.entries(t??{})){if(s<=0)continue;const u=Gf(a);u&&(r[u]=(r[u]??0)+s)}return r}function A_(t){const a={...{갑목:0,을목:0,병화:0,정화:0,무토:0,기토:0,경금:0,신금:0,임수:0,계수:0}};for(const s of iO){const u=Dp[s],d=`${s}${u}`;a[d]=Math.max(0,Math.round(t[s]??0))}return a}function D_(t){const r=["목","화","토","금","수"],a={목:0,화:0,토:0,금:0,수:0};for(const s of r)typeof t[s]=="number"&&(a[s]=t[s]);return a}function lO(t,r){const a=r?.dae?Jd(r.dae):{},s=r?.se?Jd(r.se):{},u=r?.wol?Jd(r.wol):{},d=r?.il?Jd(r.il):{},f={},p=[{kind:"natal",bare:t},{kind:"dae",bare:a},{kind:"se",bare:s},{kind:"wol",bare:u},{kind:"il",bare:d}];for(const{kind:g,bare:_}of p){const x=aO[g];if(!_||Object.keys(_).length===0)continue;const S=Uf(_);for(const[T,M]of Object.entries(S))f[T]=(f[T]??0)+M*x}const b=Object.values(f).reduce((g,_)=>g+_,0);if(b>0)for(const g of Object.keys(f))f[g]=f[g]/b*100;return f}function cO(t){if(!t)return[];const r=Gf(t.charAt(0)),a=Gf(t.charAt(1));return[r,a].filter(Boolean)}function Jd(t){const r=cO(t),a={};for(const s of r)a[s]=(a[s]??0)+1;return a}function MS(t){const{natal:r,tab:a,chain:s,hourKey:u="unified"}=t,d=[Ft(r[0]??""),Ft(r[1]??""),Ft(r[2]??""),Ft(r[3]??"")],f=d[2]?.charAt(0)??"",{hiddenStemMode:p,hiddenStem:b}=gp,g=p==="classic"?"classic":"hgc",_=s?{tab:a,dae:s.dae?Ft(s.dae):void 0,se:(a==="세운"||a==="월운"||a==="일운")&&s.se?Ft(s.se):void 0,wol:(a==="월운"||a==="일운")&&s.wol?Ft(s.wol):void 0,il:a==="일운"&&s.il?Ft(s.il):void 0}:{tab:a},x=Ap({pillars:d,dayStem:f,mode:g,criteriaMode:"modern",useHarmonyOverlay:!0,luck:_}),S=Ap({pillars:d,dayStem:f,mode:g,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"원국",dae:void 0,se:void 0,wol:void 0,il:void 0}}),T=N_(x.perStemElementScaled),M=a==="원국"?T:lO(T,s),D=Uf(M),A=M_(M,f),$=sO(A),P=A_(D),j=N_(S.perStemElementScaled),B=M_(j,f),O=Uf(j),Y=A_(O);return{elementScoreRaw:x.elementScoreRaw,elementPercent100:x.elementPercent100,totals:x.totals,perStemElementScaled:x.perStemElementScaled,dayStem:f,mergedStems:D,perTenGodSub:A,perTenGod:$,overlay:{totalsSub:A,perStemAugBare:M,perStemAugFull:P},natalFixed:{elementScoreRaw:D_(S.elementScoreRaw),elementPercent100:D_(S.elementPercent100),totalsSub:B,overlay:{totalsSub:B,perStemAugBare:j,perStemAugFull:Y}}}}const ci={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},Ko={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},uO={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"};function Sr(t){return["갑","병","무","경","임"].includes(t)}function dO(t){return["자","인","진","오","신","술"].includes(t)}const NS={목:"화",화:"토",토:"금",금:"수",수:"목"},yg={목:"토",화:"금",토:"수",금:"목",수:"화"},AS={토:"목",금:"화",수:"토",목:"금",화:"수"},DS={화:"목",토:"화",금:"토",수:"금",목:"수"},J0=t=>({甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"})[t]??t,Fo=t=>t&&t.length>=1?t.charAt(0):"",kn=t=>t&&t.length>=2?t.charAt(1):"",fO=t=>Array.from(new Set(t)),hO={자:{초기:{stem:"임",w:10},정기:{stem:"계",w:20}},축:{초기:{stem:"계",w:9},중기:{stem:"신",w:3},정기:{stem:"기",w:18}},인:{초기:{stem:"갑",w:10},중기:{stem:"병",w:7},정기:{stem:"갑",w:16}},묘:{초기:{stem:"을",w:9},정기:{stem:"을",w:20}},진:{초기:{stem:"무",w:7},중기:{stem:"계",w:3},정기:{stem:"무",w:18}},사:{초기:{stem:"병",w:10},중기:{stem:"경",w:7},정기:{stem:"병",w:16}},오:{초기:{stem:"정",w:10},중기:{stem:"기",w:9},정기:{stem:"정",w:11}},미:{초기:{stem:"기",w:9},중기:{stem:"을",w:3},정기:{stem:"기",w:18}},신:{초기:{stem:"경",w:10},중기:{stem:"임",w:7},정기:{stem:"경",w:16}},유:{초기:{stem:"신",w:9},정기:{stem:"신",w:20}},술:{초기:{stem:"무",w:7},중기:{stem:"정",w:3},정기:{stem:"무",w:18}},해:{초기:{stem:"임",w:16},중기:{stem:"갑",w:7},정기:{stem:"임",w:16}}},mO={인:"입춘",묘:"경칩",진:"청명",사:"입하",오:"망종",미:"소서",신:"입추",유:"백로",술:"한로",해:"입동",자:"대설",축:"소한"};function pO(t,r){const a=mO[t];if(!a)return!1;const u=li(r).find(p=>p.name===a);if(!u)return!1;const d=new Date(u.date);return Math.floor((r.getTime()-d.getTime())/(1e3*60*60*24))<=12}const gO={진:["신","자","진"],술:["인","오","술"],축:["사","유","축"],미:["해","묘","미"]};function bO(t,r){const a=gO[t];return a?a.filter(s=>s!==t).every(s=>r.includes(s)):!1}function ai(t,r){const a=ci[t],s=ci[r];if(!a||!s)return"비견";let u;s===a?u="비견":s===NS[a]?u="식신":s===yg[a]?u="편재":s===AS[a]?u="편관":s===DS[a]?u="편인":u="비견";const d=Sr(t)===Sr(r);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function jp(t,r){const a=ci[t],s=Ko[r];if(!a||!s)return"비견";let u;s===a?u="비견":s===NS[a]?u="식신":s===yg[a]?u="편재":s===AS[a]?u="편관":s===DS[a]?u="편인":u="비견";const d=Sr(t)===dO(r);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function yO(t){return{자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"}[t]??"토"}function vO(t){return{갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"}[t]??"토"}function xO(t,r){const a=vO(t),s=Sr(t),u={목:"화",화:"토",토:"금",금:"수",수:"목"},d={목:"토",화:"금",토:"수",금:"목",수:"화"};let f;r===a?f="비겁":u[a]===r?f="식상":u[r]===a?f="인성":d[a]===r?f="재성":d[r]===a?f="관성":f="비겁";const p=s===Sr(_O(r));switch(f){case"비겁":return p?"비견":"겁재";case"식상":return p?"식신":"상관";case"재성":return p?"정재":"편재";case"관성":return p?"정관":"편관";case"인성":return p?"정인":"편인"}}function _O(t){return{목:"갑",화:"병",토:"무",금:"경",수:"임"}[t]}const tp={갑:"인",을:"묘",병:"사",정:"오",무:"오",기:"사",경:"신",신:"유",임:"해",계:"자"},jS={갑:"묘",병:"오",무:"오",경:"유",임:"자"},kS={을:"인",정:"사",신:"신",계:"해"},SO=[{a:"갑",b:"기",to:"토"},{a:"을",b:"경",to:"금"},{a:"병",b:"신",to:"수"},{a:"정",b:"임",to:"목"},{a:"무",b:"계",to:"화"}],wO=t=>{const r={목:0,화:0,토:0,금:0,수:0};for(const a of t){const s=Fo(a),u=kn(a),d=ci[s],f=Ko[u];d&&(r[d]+=10),f&&(r[f]+=6)}return r};function TO(t){const{pillars:r,dayStem:a,monthBranch:s,mapping:u}=t,[d,f,p,b]=(r??[]).slice(0,4),g=[Fo(d),Fo(f),Fo(p),Fo(b)].filter(Boolean),_=[kn(d),kn(f),kn(p),kn(b)].filter(Boolean),x=ci[a],S=g.map(ot=>ai(a,ot)),T=[];Sr(a)&&jS[a]===s&&T.push("양인격");const M=[["을","묘"],["병","사"],["정","오"],["경","신"],["임","해"],["계","자"],["무","사"],["기","오"]];for(const[ot,St]of M)if(a===ot&&s===St){T.push("건록격");break}!Sr(a)&&kS[a]===s&&T.push("월지겁재격");const D=tp[a];D&&kn(p)===D&&x===Ko[kn(p)]&&T.push("전록격"),D&&kn(b)===D&&x===Ko[kn(b)]&&T.push("귀록격");const A=[d,f,p,b].map(kp),$=[d,f,p,b].map(OS);for(const ot of A);for(const ot of $);const P=u==="hgc"?Jf:Qf;function j(ot){return P[ot]??[]}const O=[d,f,p,b].filter(Boolean).flatMap(ot=>[ot.charAt(0),ot.charAt(1)]),Y=O.flatMap(ot=>{try{if(["갑","을","병","정","무","기","경","신","임","계"].includes(ot))return[ai(a,ot)];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(ot)){const St=jp(a,ot),Ct=j(ot).map(At=>ai(a,At));return[St,...Ct]}return[]}catch{return[]}}),et=ot=>Y.some(St=>ot.includes(St)),it=(ot,St)=>{const Ct=[];for(let jt=0;jt<Y.length;jt++){const Tt=Y[jt];["비견","겁재","식신","상관","편재","정재","편관","정관","편인","정인"].includes(Tt)&&(jt===0||jt>0&&Y[jt-1]!==Tt)&&Ct.push(jt)}const At=[];for(let jt=0;jt<Ct.length;jt++){const Tt=Ct[jt],Bt=Ct[jt+1]??Y.length;At.push(Y.slice(Tt,Bt))}for(const jt of At)for(let Tt=0;Tt<jt.length-1;Tt++){const Bt=jt[Tt],It=jt[Tt+1];if(ot.includes(Bt)&&St.includes(It)||St.includes(Bt)&&ot.includes(It))return!0}for(let jt=0;jt<At.length-1;jt++){const Tt=At[jt][At[jt].length-1],Bt=At[jt+1][0];if(ot.includes(Tt)&&St.includes(Bt)||St.includes(Tt)&&ot.includes(Bt))return!0}return!1},V={식상:["식신","상관"],재성:["편재","정재"],관성:["편관","정관"],인성:["편인","정인"]};et([...V.관성])&&et([...V.인성])&&it([...V.관성],[...V.인성])&&T.push("관인상생격"),et([...V.식상])&&et([...V.재성])&&it([...V.식상],[...V.재성])&&T.push("식상생재격");const X=[];for(let ot=0;ot<O.length;ot++){const St=O[ot],Ct=ot%2===0;try{if(Ct){const At=ai(a,St);X.push(At)}else{const At=jp(a,St),jt=On(a,St);X.push(At),jt&&X.push(jt)}}catch{continue}}et([...V.식상])&&et([...V.재성])&&it([...V.식상],[...V.재성])&&T.push("식상생재격");const q=ot=>S.filter(St=>ot.includes(St)).length,U=q(["식신","상관"]),J=q(["편관"]),rt=q(["정관"]);J>=1&&U>=1&&U>=J&&rt<=J&&T.push("식상제살격");const ct=q(["상관"]),I=q(["정인","편인"]);ct>=1&&I>=1&&ct>=I&&T.push("상관패인격");const at=S.includes("편관");at&&T.push("칠살격"),at&&I>=1&&T.push("살인상생격");const st=wO(r),xt=Object.entries(st).sort((ot,St)=>St[1]-ot[1]),k=xt[0];if(k&&k[1]>=60&&T.push(`전왕격(${k[0]})`),xt.length>=2){const[ot,St]=xt[0],[,Ct]=xt[1];St>=75&&St-Ct>=12&&x!==ot&&T.push(`종격(${ot})`)}for(const ot of SO){const St=g.includes(ot.a),Ct=g.includes(ot.b);if(!St||!Ct)continue;const At=ot.to,jt=st[At]??0,Tt=ci[ot.a],Bt=ci[ot.b],It=Math.max(st[Tt]??0,st[Bt]??0),Yt=Ko[s]===At,dt=Object.entries(st).sort((bt,qt)=>qt[1]-bt[1])[0]?.[0]===At;let Ot=!1;jt>=60&&(Yt||dt)&&It<=20&&jt-It>=20&&(T.push(`화기격(${At})`),Ot=!0),!Ot&&jt>=50&&(Yt||dt)&&It<=25&&(T.push(`진화격(${At})`),Ot=!0),!Ot&&jt>=35&&T.push(`가화격(${At})`)}const H=`${Fo(b)}${kn(b)}`;["갑","기"].includes(a)&&["기사","계유","을축"].includes(H)&&T.push("금신격"),["진","술","축","미"].includes(kn(b))&&T.push("시묘격"),["병","정"].includes(a)&&(kn(p)==="오"||kn(f)==="오")&&!_.includes("자")&&T.push("도충록마격");const F=g.some(ot=>ot==="병"||ot==="정"),tt=_.some(ot=>ot==="사"||ot==="오");["자","해"].includes(kn(p))&&!F&&!tt&&T.push("비천록마격"),["갑","무","경"].every(ot=>g.includes(ot))&&T.push("천상삼기격"),["임","계","신"].every(ot=>g.includes(ot))&&T.push("인중삼기격"),["을","병","정"].every(ot=>g.includes(ot))&&T.push("지하삼기격");const K=Object.values(st).sort((ot,St)=>St-ot);K.length>=3&&K[0]-K[2]<=8&&K[0]+K[1]+K[2]>=80&&T.push("삼상격");const G=q(["정재","편재"]),Z=q(["정관","편관"]);G>=1&&Z>=1&&Math.abs(G-Z)<=1&&T.push("재관쌍미격");const mt=ot=>ot.every(St=>_.includes(St));return mt(["진","술","축","미"])&&T.push("사고격"),mt(["인","신","사","해"])&&T.push("사생격"),mt(["자","오","묘","유"])&&T.push("사정격"),_.length===4&&_.every(ot=>ot===_[0])&&T.push("지지원일기격"),g.length===4&&g.every(ot=>ot===g[0])&&T.push("천원일기격"),g.length===4&&g.every(ot=>Sr(ot))&&T.push("양간부잡격"),g.length===4&&g.every(ot=>!Sr(ot))&&T.push("음간부잡격"),r.every(ot=>ot&&ot===r[0])&&T.push("봉황지격"),g.length===4&&g.every(ot=>ot===g[0])&&_.length===4&&_.every(ot=>ot===_[0])&&T.push("간지동체격"),q(["식신","상관"])>=1&&(kn(p)===tp[a]||kn(b)===tp[a])&&T.push("전식록격"),fO(T)}function EO(t){const{dayStem:r,monthBranch:a,date:s,pillars:u,emittedStems:d=[],otherBranches:f=[],isNeutralized:p,mapping:b}=t,g=[],_=hO[a];if(!_)return{월령:"-",사령:"-",진신:"-",가신:"-",내격:"-",외격:[],reason:["월지 분포표 없음"]};const x={초기:_.초기?{stem:J0(_.초기.stem),w:_.초기.w}:void 0,중기:_.중기?{stem:J0(_.중기.stem),w:_.중기.w}:void 0,정기:{stem:J0(_.정기.stem),w:_.정기.w}},S=x.정기.stem;let T=S;if(["자","오","묘","유"].includes(a))T=x.정기.stem,g.push("왕지: 정기 그대로 채택");else if(["인","신","사","해"].includes(a)){const it=[];x.초기&&it.push({from:"초기",stem:x.초기.stem,w:x.초기.w,emitted:d.includes(x.초기.stem)}),x.중기&&it.push({from:"중기",stem:x.중기.stem,w:x.중기.w,emitted:d.includes(x.중기.stem)}),it.push({from:"정기",stem:x.정기.stem,w:x.정기.w,emitted:d.includes(x.정기.stem)});const V=it.filter(X=>X.emitted);V.length===1?(T=V[0].stem,g.push(`생지: ${V[0].from} 투출 채택`)):V.length>1?(V.sort((X,q)=>q.w-X.w),T=V[0].stem,g.push(`생지: 동시 투출 → 가중치 큰 ${V[0].from} 채택`)):(T=x.정기.stem,g.push("생지: 미투출 → 정기 채택"))}else["진","술","축","미"].includes(a)&&(bO(a,f)&&x.중기?(T=x.중기.stem,g.push("고지: 삼합 성립 → 중기 채택")):pO(a,s)&&x.초기?(T=x.초기.stem,g.push("고지: 절입 +12일 이내 → 여기 채택")):(T=x.정기.stem,g.push("고지: 절입 +12일 이후 → 정기 채택")));const M=T;let D="";const A=ci[M];if(A){const it=Object.entries(yg).find(([,V])=>V===A)?.[0]??null;it&&(D=Object.entries(ci).find(([X,q])=>q===it&&Sr(X)===Sr(M))?.[0]??"")}p?.(M)&&g.push("예외: 격 후보가 합/충으로 무력화");let $="-";const P=ai(r,M),B=[["을","묘"],["병","사"],["정","오"],["경","신"],["임","해"],["계","자"],["무","사"],["기","오"]].some(([it,V])=>it===r&&V===a),O=Sr(r)&&jS[r]===a,Y=!Sr(r)&&kS[r]===a;P==="비견"||P==="겁재"?B?($="건록격",g.push("예외: 비견/겁재지만 건록팔자 → 건록격")):O?($="양인격",g.push("예외: 비견이지만 양인격 조건 충족")):Y?($="월지겁재격",g.push("예외: 겁재지만 월지겁재격 조건 충족")):g.push("예외: 비견/겁재는 내격에서 제외됨"):$={식신:"식신격",상관:"상관격",정재:"정재격",편재:"편재격",정관:"정관격",편관:"편관격",정인:"정인격",편인:"편인격"}[P]??"-";const et=TO({pillars:u,dayStem:r,monthBranch:a,mapping:b});return{월령:S,사령:T,진신:M,가신:D,내격:$,외격:et,reason:g}}const kt=(t,r)=>`${t}+${r}`,Gn=(t,r,a)=>`${t}+${r}+${a}`,MO={[kt("갑","갑")]:["쌍목위림"],[Gn("갑","갑","갑")]:void 0,[kt("갑","을")]:["등라계갑","등라반목"],[kt("갑","병")]:["목화통명","청룡반수"],[kt("갑","정")]:["유신유화"],[kt("갑","무")]:["독산고목"],[kt("갑","기")]:["양토육목"],[kt("갑","경")]:["동량지목","흔목위재"],[kt("갑","신")]:["목곤쇄편"],[kt("갑","임")]:["횡당유영"],[kt("갑","계")]:["수근로수"],[Gn("경","갑","정")]:["벽갑인정","벽갑인화"],[kt("을","을")]:["복음잡초"],[kt("을","병")]:["염양려화"],[kt("을","정")]:["화소초원"],[kt("을","무")]:["선화명병"],[kt("을","기")]:["양토배화"],[kt("을","경")]:["백호창광"],[kt("을","신")]:["이전최화"],[kt("을","임")]:["출수부용"],[kt("을","계")]:["청초조로"],[kt("병","갑")]:["비조부혈"],[kt("병","을")]:["염양려화"],[kt("병","병")]:["복음훙광"],[kt("병","정")]:["삼기순수"],[kt("병","무")]:["월기득사"],[kt("병","기")]:["대지보조"],[kt("병","경")]:["형옥입백"],[kt("병","신")]:["일월상회"],[kt("병","임")]:["강휘상영"],[kt("병","계")]:["흑운차일"],[kt("정","갑")]:["유신유화"],[kt("정","을")]:["건시열화"],[kt("정","병")]:["항아분월"],[kt("정","정")]:["양화위염"],[kt("정","무")]:["유화유로"],[kt("정","기")]:["성타구진"],[kt("정","경")]:["화련진금"],[kt("정","신")]:["소훼주옥"],[kt("정","임")]:["성기득사"],[kt("정","계")]:["주작투강"],[kt("무","갑")]:["거석압목"],[kt("무","을")]:["청룡합령"],[kt("무","병")]:["일출동산"],[kt("무","정")]:["유화유로"],[kt("무","무")]:["복음준산"],[kt("무","기")]:["물이유취"],[kt("무","경")]:["조주위학"],[kt("무","신")]:["반음설기"],[kt("무","임")]:["산명수수"],[kt("무","계")]:["암석침식"],[kt("기","갑")]:["목강토산"],[kt("기","을")]:["야초난생"],[kt("기","병")]:["대지보조"],[kt("기","정")]:["주작입묘"],[kt("기","무")]:["경련상배"],[kt("기","기")]:["복음연약"],[kt("기","경")]:["전도형격"],[kt("기","신")]:["습니오옥"],[kt("기","임")]:["기토탁임"],[kt("기","계")]:["옥토위생"],[kt("경","갑")]:["흔목위재","복궁최잔"],[kt("경","을")]:["상합유정","백호창광"],[kt("경","병")]:["태백입형"],[kt("경","정")]:["득화이예","정정지격"],[kt("경","무")]:["토중금매","토다금매"],[kt("경","기")]:["관부형격","금실무성"],[kt("경","경")]:["양금상살"],[kt("경","신")]:["철추쇄옥"],[kt("경","임")]:["금수쌍청","득수이청"],[kt("경","계")]:["보도사로"],[kt("신","갑")]:["월하송영"],[kt("신","을")]:["이전최화"],[kt("신","병")]:["간합패사"],[kt("신","정")]:["화소주옥"],[kt("신","무")]:["반음피상"],[kt("신","기")]:["입옥자형"],[kt("신","경")]:["백호출력"],[kt("신","신")]:["복음상극"],[kt("신","임")]:["도세주옥"],[kt("신","계")]:["천뢰화개"],[kt("임","갑")]:["수중유영"],[kt("임","을")]:["출수홍련"],[kt("임","병")]:["강휘상영"],[kt("임","정")]:["간합성기"],[kt("임","무")]:["산명수수"],[kt("임","기")]:["기토탁임"],[kt("임","경")]:["경발수원"],[kt("임","신")]:["도세주옥"],[kt("임","임")]:["왕양대해"],[kt("임","계")]:["천진지양","충천분지"],[kt("계","갑")]:["양류감로"],[kt("계","을")]:["이화춘우"],[kt("계","병")]:["화개패사"],[kt("계","정")]:["등사요교"],[kt("계","무")]:["천을회합"],[kt("계","기")]:["습윤옥토"],[kt("계","경")]:["반음침백"],[kt("계","신")]:["양쇠음성"],[kt("계","임")]:["양쇠음성"],[kt("계","계")]:["복음천라"]},NO={[Gn("갑","갑","갑")]:["삼목위삼"],[Gn("을","을","을")]:["삼을위초"],[Gn("병","병","병")]:["삼병위양"],[Gn("정","정","정")]:["삼정위화"],[Gn("무","무","무")]:["삼무위산"],[Gn("기","기","기")]:["삼기위토"],[Gn("경","경","경")]:["삼경위강"],[Gn("신","신","신")]:["삼신위금"],[Gn("임","임","임")]:["삼임위해"],[Gn("계","계","계")]:["삼계위수"],[Gn("경","갑","정")]:["벽갑인정","벽갑인화"]};function AO(){const t={},r={},a=/[갑을병정무기경신임계甲乙丙丁戊己庚辛壬癸]/g;for(const[s,u]of Object.entries(MO)){if(!u)continue;const d=s.match(a);if(!d||d.length<2)continue;const[f,p]=d;t[s]=u.map(b=>`${f}X${p}_${b}`)}for(const[s,u]of Object.entries(NO)){if(!u)continue;const d=s.match(a);if(!d||d.length<3)continue;const[f,p,b]=d;r[s]=u.map(g=>`${f}X${p}X${b}_${g}`)}return{newPairs:t,newTris:r}}const{newPairs:ep,newTris:np}=AO();function DO(t){const[r,a,s,u]=t,d=T=>Fo(T),f=d(u),p=d(s),b=d(a),g=d(r),_=[],x=[[f,p],[p,b],[b,g]];for(const[T,M]of x){if(!T||!M)continue;const D=kt(T,M),A=ep[D];A&&A.length&&_.push(...A);const $=kt(M,T);$!==D&&ep[$]&&_.push(...ep[$])}const S=[[f,p,b],[p,b,g]];for(const[T,M,D]of S){if(!T||!M||!D)continue;const A=Gn(T,M,D),$=np[A];$&&$.length&&_.push(...$);const P=Gn(D,M,T);P!==A&&np[P]&&_.push(...np[P])}return Array.from(new Set(_))}const jO={갑:!0,을:!1,병:!0,정:!1,무:!0,기:!1,경:!0,신:!1,임:!0,계:!1},kO={갑:"묘",을:"인",병:"오",정:"사",무:"오",기:"사",경:"유",신:"신",임:"자",계:"해"};function kp(t){return t?.charAt(0)??""}function OS(t){return t?.charAt(1)??""}function OO(t,r="classic",a){const[s,u,d,f]=(t??[]).slice(0,4),p=[s,u,d,f].map(kp),b=[s,u,d,f].map(OS),g=kp(d),_=jO[g]??!1,x=new Set,S={목:0,화:0,토:0,금:0,수:0};for(const Dt of p){if(!Dt)continue;const dt=ci[Dt];dt&&(S[dt]+=10)}const T=[];for(const Dt of b){if(!Dt)continue;const dt=uO[Dt];dt&&T.push(dt);const Ot=Ko[Dt];Ot&&(S[Ot]+=6)}const M=r==="classic"?Jf:Qf;function D(Dt){return M[Dt]??[]}const $=[...p,...T].filter(Boolean).map(Dt=>ai(g,Dt)),P=Dt=>$.filter(dt=>dt===Dt).length,j=Dt=>{const dt={비겁:["비견","겁재"],식상:["식신","상관"],재성:["편재","정재"],관성:["편관","정관"],인성:["편인","정인"]};return $.filter(Ot=>dt[Dt].includes(Ot)).length},B=b[1],O=!!g&&kO[g]===B,Y=a.elementPercent100;Y.수>=20&&Y.화>=20&&Y.토>=15&&x.add("감리상지");const V=[s,u,d,f].filter(Boolean).flatMap(Dt=>[Dt.charAt(0),Dt.charAt(1)]).flatMap(Dt=>{try{if(["갑","을","병","정","무","기","경","신","임","계"].includes(Dt))return[ai(g,Dt)];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(Dt)){const dt=jp(g,Dt),Ot=D(Dt).map(bt=>ai(g,bt));return[dt,...Ot]}return[]}catch{return[]}}),X=(Dt,dt)=>{const Ot=[];let bt=[];for(const qt of V)["비견","겁재","식신","상관","편재","정재","편관","정관","편인","정인"].includes(qt)?(bt.length>0&&Ot.push(bt),bt=[qt]):bt.push(qt);bt.length>0&&Ot.push(bt);for(const qt of Ot)for(let be=0;be<qt.length-1;be++){const ce=qt[be],Zt=qt[be+1];if(Dt.includes(ce)&&dt.includes(Zt)||dt.includes(ce)&&Dt.includes(Zt))return!0}for(let qt=0;qt<Ot.length-1;qt++){const be=Ot[qt],ce=Ot[qt+1];for(const Zt of be)for(const _e of ce)if(Dt.includes(Zt)&&dt.includes(_e)||dt.includes(Zt)&&Dt.includes(_e))return!0}return!1},q=P("식신")+P("상관"),U=P("상관"),J=j("재성"),rt=j("관성"),ct=X(["식신","상관"],["편재","정재"]);(U>=1||q>=2)&&J>=1&&q>J&&rt<=1&&ct&&x.add("화상위재");const I=Dt=>V.some(dt=>Dt.includes(dt)),at={비겁:["비견","겁재"],식상:["식신","상관"],재성:["편재","정재"],관성:["편관","정관"],인성:["편인","정인"]};if(I([...at.재성])&&I([...at.관성])&&X([...at.재성],[...at.관성])){const Dt=$.includes("편관");x.add(Dt?"재생관살":"재생관")}j("재성")>=2&&j("인성")>=2&&Math.abs(j("재성")-j("인성"))<=1&&j("식상")<=1&&j("관성")<=1&&x.add("재인불애");const st=P("비견"),xt=P("겁재"),k=P("식신")+P("상관"),H=P("정재")+P("편재");xt>=2&&k>=1&&S.화+S.목>=20&&x.add("화겁위생"),xt>=2&&H>=1&&S.화+S.토>=20&&x.add("화겁위재");const F=j("관성");xt>=2&&H>=1&&S.화+S.토>=20&&X(["겁재"],["정재","편재"])&&F<=1&&x.add("화겁위재"),st>=2&&H>=1&&S.화+S.토>=20&&X(["건록"],["정재","편재"])&&F<=1&&x.add("화록위재");function tt(Dt,dt){const Ot=ci[Dt],bt=Ko[dt];return Ot===bt}const K=[s,u,d,f].filter(Boolean),G=d.charAt(1),Z=tt(g,G),mt=K.map(Dt=>Dt.charAt(0)).filter(Dt=>{const dt=ai(g,Dt);return dt==="편재"||dt==="정재"});let vt=!1;for(const Dt of K){const dt=Dt.charAt(0),Ot=Dt.charAt(1);if(mt.includes(dt)&&tt(dt,Ot)){vt=!0;break}}Z&&vt&&x.add("재명유기"),j("관성")>=3&&j("관성")>=.5*(j("비겁")+j("식상")+j("재성")+j("인성"))&&x.add("관살과다"),j("인성")>=3&&j("인성")>=.5*(j("비겁")+j("식상")+j("재성")+j("관성"))&&x.add("인수과다"),j("인성")>=2&&j("관성")>=1&&x.add("인다관설"),j("재성")>=3&&j("비겁")+j("인성")<=1&&x.add("재다신약");const ot=P("편관");j("비겁")+j("인성")>=2&&ot===1&&j("재성")>=1&&x.add("재자약살"),ot>=2&&k+j("인성")>=3&&x.add("제살태과");const St=st+xt;(st>=2||St>=2)&&H>=1&&St>H&&x.add("군비쟁재"),xt>=2&&H>=1&&St>H&&x.add("군겁쟁재");const Ct=P("상관"),At=P("정관");Ct>=2&&ot+At>=1&&x.add("상관견관"),Ct>=2&&ot+At===0&&x.add("상관상진"),_&&Ct>=2&&ot>=1&&x.add("상관대살"),!_&&Ct>=2&&ot>=1&&x.add("상관합살"),P("식신")>=2&&P("편인")>=1&&x.add("식신봉효"),j("관성")>=2&&j("인성")>=2&&x.add("관인쌍전"),O&&ot>=1&&j("비겁")+j("인성")>=2&&x.add("양인합살");const jt=[s?.charAt(0),u?.charAt(0),d?.charAt(0),f?.charAt(0)].filter(Boolean),Tt=[s?.charAt(1),u?.charAt(1),d?.charAt(1),f?.charAt(1)].filter(Boolean),Bt=Dt=>jt.filter(Ot=>Ot!==g).some(Ot=>{try{const bt=ai(g,Ot);return at[Dt].includes(bt)}catch{return!1}}),It=Dt=>Tt.some(dt=>{try{const Ot=yO(dt),bt=xO(g,Ot);return at[Dt].includes(bt)}catch{return!1}}),Yt=Dt=>Tt.some(dt=>{try{return D(dt).filter(bt=>bt!==g).some(bt=>{const qt=ai(g,bt);return at[Dt].includes(qt)})}catch{return!1}});return["비겁","식상","재성","관성","인성"].forEach(Dt=>{const dt=Bt(Dt),Ot=It(Dt),bt=Yt(Dt);!dt&&!Ot&&!bt?x.add(`천지무${Dt}`):!dt&&!Ot&&bt&&x.add(`무${Dt}`)}),Array.from(x)}function CO(t){const{pillars:r,tab:a,birthDate:s,emittedStems:u,otherBranches:d,isNeutralized:f,mapping:p,unified:b}=t,[g,_,x,S]=r,T=rt=>rt&&rt.length>=1?rt.charAt(0):"",M=rt=>rt&&rt.length>=2?rt.charAt(1):"",D=M(_),A=T(x),$=s instanceof Date&&!Number.isNaN(s.getTime())?s:new Date,P=[T(g),T(_),T(x),T(S)].filter(rt=>!!(rt&&rt.length===1)),j=[M(g),M(x),M(S)].filter(rt=>!!(rt&&rt.length===1)),B=EO({dayStem:A,monthBranch:D,date:$,pillars:r,emittedStems:u??P,otherBranches:d??j,isNeutralized:f,mapping:p}),O=[`월령 : ${B.월령||"-"}`,`사령 : ${B.사령||"-"}`,`진신 : ${B.진신||"-"}`,`가신 : ${B.가신||"-"}`],Y=[`내격 : ${B.내격||"-"}`],et=Array.isArray(B.외격)&&B.외격.length>0?B.외격.map(rt=>`외격 : ${rt}`):["외격 : -"],it=DO(r),V=[...it.length?it.map(rt=>`${rt}`):[]],q=[...OO(r,p,b)],U=({text:rt,color:ct})=>{const I={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return y.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${I[ct]}`,title:rt,children:rt})},J=({children:rt})=>y.jsx("li",{className:"!flex flex-wrap gap-1 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:rt});return y.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${a}|${r.join("")}|${O.join(",")}|${Y.join(",")}|${et.join(",")}`,children:[y.jsx("div",{className:"font-bold text-base",children:"격국 · 물상 판정"}),y.jsxs("ul",{className:"space-y-1",children:[y.jsx(J,{children:O.map(rt=>y.jsx(U,{text:rt,color:"violet"},rt))}),y.jsx(J,{children:Y.map(rt=>y.jsx(U,{text:rt,color:"amber"},rt))}),y.jsx(J,{children:et.map(rt=>y.jsx(U,{text:rt,color:"blue"},rt))}),y.jsx(J,{children:V.map(rt=>y.jsx(U,{text:rt,color:"green"},rt))}),y.jsx(J,{children:q.map(rt=>y.jsx(U,{text:rt,color:"red"},rt))})]}),B.reason.length>0&&y.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:["• ",B.reason.join(" / ")]})]})}const Ws={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Qs={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},sl={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},CS={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},tf={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},LO=["갑","병","무","경","임"];function j_(t){return LO.includes(t)}const BO={목:"화",화:"토",토:"금",금:"수",수:"목"},RO={목:"토",화:"금",토:"수",금:"목",수:"화"},PO={토:"목",금:"화",수:"토",목:"금",화:"수"},zO={화:"목",토:"화",금:"토",수:"금",목:"수"};function Vc(t){if(!t)return null;const r=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(r))return r;if(Ws[r])return Ws[r];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(r))return tf[r]??null;if(Qs[r])return tf[Qs[r]]??null;const a=r.charAt(0);return Ws[a]?Ws[a]:["갑","을","병","정","무","기","경","신","임","계"].includes(a)?a:Qs[a]?tf[Qs[a]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(a)?tf[a]??null:null}function $O(t,r){const a=sl[t],s=sl[r];if(!a||!s)return"비견";let u;s===a?u="비견":s===BO[a]?u="식신":s===RO[a]?u="편재":s===PO[a]?u="편관":s===zO[a]?u="편인":u="비견";const d=j_(t)===j_(r);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function HO(t){switch(t){case"비견":case"겁재":return"비겁";case"식신":case"상관":return"식상";case"정재":case"편재":return"재성";case"정관":case"편관":return"관성";case"정인":case"편인":return"인성"}}function mh(t){const r=Object.entries(t),a=r.reduce((g,[,_])=>g+(_>0?_:0),0);if(a<=0)return Object.fromEntries(r.map(([g])=>[g,0]));const s=r.map(([g,_])=>[g,(_>0?_:0)*100/a]),u=s.map(([g,_])=>[g,Math.floor(_)]);let d=u.reduce((g,[,_])=>g+_,0);const f=s.map(([g,_])=>[g,_-Math.floor(_)]).sort((g,_)=>_[1]-g[1]),p=Object.fromEntries(u.map(([g,_])=>[g,_]));let b=0;for(;d<100&&b<f.length;)p[f[b][0]]+=1,d+=1,b+=1;return p}function IO(t){const r={목:0,화:0,토:0,금:0,수:0};for(const[a,s]of Object.entries(t??{})){const u=sl[Vc(a)];u&&s>0&&(r[u]+=s)}return mh(r)}function GO(t,r){const a={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,u]of Object.entries(t??{})){if(u<=0)continue;const d=Vc(s);if(!d)continue;const f=$O(r,d);a[f]+=u}return a}function UO(t){const r={비겁:0,식상:0,재성:0,관성:0,인성:0};for(const[a,s]of Object.entries(t)){const u=HO(a);r[u]+=s}return mh(r)}function rp(t){if(!t)return"";const r=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),a=r.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(a)return`${a[1]}${a[2]}`;const s=r.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return s?`${Ws[s[1]]}${Qs[s[2]]}`:""}function k_(t){const r=Array.isArray(t)?t.slice(0,4):[];for(;r.length<4;)r.push("");return r.map((a,s)=>{if(!a)return"";const u=a.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),d=u.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(d)return`${d[1]}${d[2]}`;const f=u.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return f?`${Ws[f[1]]}${Qs[f[2]]}`:s<=2?"--":""})}function ZO(t,r){const a={목:!1,화:!1,토:!1,금:!1,수:!1};for(const s of t){if(!s)continue;const u=sl[s.charAt(0)];u&&(a[u]=!0);{const d=CS[s.charAt(1)];d&&(a[d]=!0)}}return a}function YO(t){const r={목:0,화:0,토:0,금:0,수:0};for(const a of t){if(!a)continue;const s=sl[a.charAt(0)],u=CS[a.charAt(1)];s&&(r[s]+=10),u&&(r[u]+=6)}return r}function ip(t){return t[0]?.length===2&&t[1]?.length===2&&t[2]?.length===2}const qO=["갑","을","병","정","무","기","경","신","임","계"];function FO(t){const r={};for(const[a,s]of Object.entries(t??{})){if(s<=0)continue;const u=Vc(a);u&&(r[u]=(r[u]??0)+s)}return r}function VO(t){const a={...{갑목:0,을목:0,병화:0,정화:0,무토:0,기토:0,경금:0,신금:0,임수:0,계수:0}};for(const s of qO){const u=sl[s],d=`${s}${u}`;a[d]=Math.max(0,Math.round(t[s]??0))}return a}const KO={natal:50,dae:30,se:20,wol:7,il:3};function XO(t){const r={};for(const{kind:s,bare:u}of t){const d=KO[s]??0;if(d<=0)continue;const f=mh(u);for(const[p,b]of Object.entries(f))r[p]=(r[p]??0)+b*d}const a=Object.values(r).reduce((s,u)=>s+u,0);if(a>0)for(const s of Object.keys(r))r[s]=r[s]/a*100;return r}function WO(t){if(!t)return[];const r=Vc(t.charAt(0)),a=Vc(t.charAt(1));return[r,a].filter(Boolean)}function ef(t){const r=WO(t),a={};for(const s of r)a[s]=(a[s]??0)+1;return a}function QO({data:t,pillars:r,lunarPillars:a,daewoonGz:s}){const u=ir(Tt=>Tt.settings),[d,f]=C.useState("일간 · 오행 강약"),[p,b]=C.useState("원국"),[g,_]=C.useState(!0),{date:x,yearGZ:S,monthGZ:T,dayGZ:M}=Fn(),D=C.useMemo(()=>Ft(S),[S]),A=C.useMemo(()=>Ft(T),[T]),$=C.useMemo(()=>Ft(M),[M]),P=nu(t,t?.mingSikType),j=C.useMemo(()=>{if(!P?.length)return 0;const Tt=P.findIndex((Bt,It)=>{const Yt=P[It+1]?.at;return x>=Bt.at&&(!Yt||x<Yt)});return Tt!==-1?Tt:x<P[0].at?0:P.length-1},[P,x]),B=C.useMemo(()=>{const Tt=s??P?.[j]?.gz??"";return Ft(Tt)||null},[s,P,j]),{manualHour:O}=tl(),Y=t.mingSikType??"조자시/야자시",et=C.useMemo(()=>k_(r),[r]),it=C.useMemo(()=>k_(a),[a]),V=C.useMemo(()=>{const Tt=[...et];return(!Tt[3]||Tt[3]==="")&&O&&(Tt[3]=O.stem+O.branch),Tt},[et,O]),X=C.useMemo(()=>{const Tt=[...it];return(!Tt[3]||Tt[3]==="")&&O&&(Tt[3]=O.stem+O.branch),Tt},[it,O]),q=C.useMemo(()=>{const Tt=Number(t.birthDay?.slice(0,4)),Bt=Number(t.birthDay?.slice(4,6)),It=Number(t.birthDay?.slice(6,8));if(!Number.isFinite(Tt)||!Number.isFinite(Bt)||!Number.isFinite(It))return null;const Yt=new Date(Tt,Bt-1,It,12,0,0,0),Dt=rp(le(Yt)||""),dt=rp(Me(Yt)||""),Ot=rp(se(Yt,Y)||"");return[Dt,dt,Ot,""]},[t.birthDay,Y]),U=ip(V),J=ip(X),[rt]=C.useState("solar"),ct=rt==="lunar"?J?"lunar":U?"solar":"lunar":U?"solar":J?"lunar":"solar",I=C.useMemo(()=>{const Bt=[...ct==="lunar"?J?X:U?V:q??["","","",""]:U?V:J?X:q??["","","",""]];return(!Bt[3]||Bt[3]==="")&&O&&(Bt[3]=O.stem+O.branch),Bt},[ct,U,J,V,X,q,O]),at=C.useMemo(()=>O?O.stem+O.branch:I[3]||"",[O,I]),st=C.useMemo(()=>({dae:p!=="원국"?B??null:null,se:p==="세운"||p==="월운"||p==="일운"?D??null:null,wol:p==="월운"||p==="일운"?A??null:null,il:p==="일운"?$??null:null}),[p,B,D,A,$]),xt=C.useMemo(()=>MS({natal:I,tab:p,chain:st,hourKey:at}),[I,p,st,at]),k=C.useMemo(()=>{if(!xt)return null;const Tt=FO(xt.perStemElementScaled),Bt=st.dae?ef(st.dae):{},It=st.se?ef(st.se):{},Yt=st.wol?ef(st.wol):{},Dt=st.il?ef(st.il):{},dt=XO([{kind:"natal",bare:Tt},{kind:"dae",bare:Bt},{kind:"se",bare:It},{kind:"wol",bare:Yt},{kind:"il",bare:Dt}]),Ot=mh(dt),bt=VO(Ot),qt=GO(dt,xt.dayStem),be=UO(qt),ce=IO(dt);return{perStemAugBare:dt,perStemAugFull:bt,elemPct100:ce,totalsMain:be,totalsSub:qt}},[xt,st]),H=C.useMemo(()=>ZO(I),[I]),F=C.useMemo(()=>["목","화","토","금","수"].some(Tt=>!H[Tt]),[H]),tt=k?.elemPct100??xt?.elementPercent100??YO(I),K=C.useMemo(()=>{if(!xt||!k)return[];const Tt=iS(xt.dayStem);return Object.entries(k.totalsMain).map(([Bt,It])=>({name:Bt,value:It,color:Tt[Bt]}))},[xt,k]),G=k?.elemPct100??{목:0,화:0,토:0,금:0,수:0},Z=k?.totalsSub??null,mt=C.useMemo(()=>O?O.stem+O.branch:I[3]||"",[O,I]),vt=C.useMemo(()=>[p,B??"",D??"",A??"",$??"",x?.toISOString?.()??"",mt].join("|"),[p,B,D,A,$,x,mt]),ot=C.useMemo(()=>{const Tt=Z?Object.entries(Z).sort(([It],[Yt])=>It.localeCompare(Yt)).map(([It,Yt])=>`${It}:${Yt}`).join(","):"none",Bt=K.map(It=>`${It.name}:${It.value}`).join(",");return`${vt}||${I.join("")}||${Bt}||${Tt}`},[vt,I,K,Z]),St=typeof Wx=="function"?Wx(I,xt?.totals):null,Ct=C.useMemo(()=>{const Bt=(St?.ordered??[]).map(Dt=>{const dt=Dt.element??"",Ot=/목|木|wood/i.test(dt)?"목":/화|火|fire/i.test(dt)?"화":/토|土|earth/i.test(dt)?"토":/금|金|metal/i.test(dt)?"금":/수|水|water/i.test(dt)?"수":null,bt=typeof Dt.score=="number"?Dt.score:Ot?tt[Ot]??0:0,qt=Array.isArray(Dt.reasons)?Dt.reasons:[];return{element:dt,elNorm:Ot,score:bt,reasons:qt}}),It=Dt=>Dt?H[Dt]:!1,Yt=g?Bt.map(Dt=>Dt.elNorm&&!It(Dt.elNorm)?{...Dt,score:0,reasons:[...Dt.reasons,"부재후순위: 원국 부재 → 0점"]}:Dt):Bt;return Yt.sort((Dt,dt)=>{const Ot=It(Dt.elNorm)?1:0,bt=It(dt.elNorm)?1:0;return g&&Ot!==bt?bt-Ot:(dt.score??0)!==(Dt.score??0)?(dt.score??0)-(Dt.score??0):(Dt.elNorm??Dt.element).localeCompare(dt.elNorm??dt.element)}),Yt},[St,g,tt,H]),At=C.useMemo(()=>Math.max(0,...Ct.map(Tt=>Number.isFinite(Tt.score)?Tt.score:0)),[Ct]);function jt(Tt){return ES(Tt,{criteriaMode:"modern",useHarmonyOverlay:!0})}return ip(I)?y.jsxs("div",{className:"space-y-4 mb-4",children:[y.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:Z5.map(Tt=>y.jsx("button",{onClick:()=>b(Tt),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(p===Tt?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:Tt},Tt))}),y.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:["격국 · 물상론","일간 · 오행 강약","형충회합","신살"].map(Tt=>y.jsx("button",{onClick:()=>f(Tt),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(d===Tt?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:Tt},Tt))}),d==="형충회합"&&y.jsx(f5,{pillars:I,daewoon:B||void 0,sewoon:D||void 0,wolwoon:A||void 0,ilwoon:$||void 0,tab:p},`harm-${p}-${mt}`),d==="일간 · 오행 강약"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx(e5,{data:K,revKey:ot,perStemElementScaled:k?.perStemAugFull,elementPercent:G,dayStem:I[2]?.charAt(0)??null},`pentagon-${ot}`),y.jsx(i5,{value:jt(I)}),y.jsx(m4,{natal:I}),y.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"text-sm font-bold",children:"용신 추천"}),F&&y.jsxs("button",{type:"button",onClick:()=>_(Tt=>!Tt),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${g?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":g,children:["부재후순위: ",g?"ON":"OFF"]})]}),y.jsx("ul",{className:"space-y-2",children:Ct.map((Tt,Bt)=>y.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[Bt+1,"위"]}),y.jsx("span",{className:"text-sm font-semibold",children:Tt.element})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:y.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${At>0?Math.max(2,Math.min(100,Math.round((Tt.score??0)/At*100))):12}%`},title:`점수 ${Tt.score}`})}),y.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(Tt.reasons??[]).map((It,Yt)=>y.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:It},Yt))})]})]},Tt.elNorm??Tt.element))})]})]}),d==="신살"&&y.jsx(i4,{pillars:I,daewoon:B||void 0,sewoon:D||void 0,wolwoon:A||void 0,ilwoon:$||void 0,tab:p},`shin-${p}-${mt}`),d==="격국 · 물상론"&&y.jsx(CO,{unified:xt,pillars:I,tab:p,mapping:u.hiddenStemMode},`gyeok-${p}-${mt}`)]}):y.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"간지를 인식할 수 없어요."})}const JO=!1,O_=t=>t<10?`0${t}`:`${t}`,tC=t=>typeof t=="string"&&t.length>=2,eC=t=>Array.isArray(t)&&t.length===4&&t.every(tC);function nC(t){const r=t,a=typeof r.birthDay=="string"?r.birthDay:"",s=typeof r.calendarType=="string"?r.calendarType:"solar";if(a.length<8)return t;const u=Number(a.slice(0,4)),d=Number(a.slice(4,6)),f=Number(a.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const g of p){const _=r[g];if(typeof _=="boolean"){b=_;break}if(typeof _=="number"){b=_===1;break}if(typeof _=="string"){b=_==="1"||_.toLowerCase()==="true";break}}if(s==="lunar")try{const g=si(u,d,f,0,0),_=`${g.getFullYear()}${O_(g.getMonth()+1)}${O_(g.getDate())}`;return{...t,birthDay:_,calendarType:"solar"}}catch{return t}return t}function rC({data:t}){const[r,a]=C.useState("un"),s=C.useMemo(()=>{try{const p=nC(t);return ru(p)}catch{return new Date}},[t]),u=C.useMemo(()=>iu(t,s),[t,s]),d=!t.birthTime||t.birthTime==="모름",f=C.useMemo(()=>{try{const p=le(u,t.birthPlace?.lon),b=Me(u,t.birthPlace?.lon),g=se(u,t.mingSikType),_=d?"":Yr(u,t.mingSikType);return[p,b,g,_]}catch{return[]}},[u,t?.mingSikType,t?.birthPlace?.lon,d]);return y.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[y.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[y.jsx("button",{onClick:()=>a("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${r==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"기본운 뷰어"}),y.jsx("button",{onClick:()=>a("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${r==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"묘운 뷰어"}),y.jsx("button",{onClick:()=>a("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${r==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"분석 레포트"})]}),r==="un"&&y.jsx(zk,{data:t}),r==="myoun"&&y.jsx(Fk,{data:t}),r==="report"&&y.jsx(QO,{data:t,pillars:eC(f)?f:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,s)=>s?s.toUpperCase():a.toLowerCase()),C_=t=>{const r=aC(t);return r.charAt(0).toUpperCase()+r.slice(1)},LS=(...t)=>t.filter((r,a,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===a).join(" ").trim(),oC=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=C.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:u="",children:d,iconNode:f,...p},b)=>C.createElement("svg",{ref:b,...sC,width:r,height:r,stroke:t,strokeWidth:s?Number(a)*24/Number(r):a,className:LS("lucide",u),...!d&&!oC(p)&&{"aria-hidden":"true"},...p},[...f.map(([g,_])=>C.createElement(g,_)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=(t,r)=>{const a=C.forwardRef(({className:s,...u},d)=>C.createElement(lC,{ref:d,iconNode:r,className:LS(`lucide-${iC(C_(t))}`,`lucide-${t}`,s),...u}));return a.displayName=C_(t),a};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uC=ui("chevron-down",cC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fC=ui("chevron-up",dC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],mC=ui("heart-handshake",hC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],gC=ui("house",pC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],yC=ui("menu",bC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xC=ui("plus",vC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],SC=ui("settings",_C);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],TC=ui("square-user",wC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],L_=ui("star",EC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],NC=ui("user-plus",MC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vg=ui("x",AC);function DC({onOpenSidebar:t,onAddNew:r,onOpenCustom:a}){return y.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:y.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[y.jsx("button",{type:"button",onClick:t,"aria-label":"명식리스트 열기",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:y.jsx(yC,{size:22})}),y.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:"화림만세력"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:r,"aria-label":"명식 추가",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:y.jsx(NC,{size:18})}),y.jsx("button",{type:"button",onClick:a,"aria-label":"명식 커스텀",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-orange-600 text-white hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:y.jsx(TC,{size:18})})]})]})})}function jC(t){C.useEffect(()=>{const r=t??J_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");t1(r),t&&fp(t)},[t])}const BS="harim.settings.v1",RS=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function kC(t){return typeof t=="string"&&RS.includes(t)}function B_(t){const r=Array.isArray(t)?t.filter(kC):[],a=RS.filter(s=>!r.includes(s));return[...r,...a]}function PS(){if(typeof window>"u")return null;try{const t=localStorage.getItem(BS);return t?JSON.parse(t):null}catch{return null}}function OC(t){if(!(typeof window>"u"))try{const a={...PS()??{},...t};localStorage.setItem(BS,JSON.stringify(a))}catch{}}function CC({open:t,onClose:r}){const{settings:a,setSettings:s}=ir(),u=C.useMemo(()=>B_(a.sectionOrder),[a.sectionOrder]),[d,f]=C.useState(u),[p,b]=C.useState(a),[g,_]=C.useState(null);jC(p.theme??"dark"),C.useEffect(()=>{if(!t)return;const D=PS();if(D){const A={...a,...D};b(A),f(B_(D.sectionOrder??A.sectionOrder))}else b(a),f([...u])},[t]);const x=(D,A)=>{b($=>{const P={...$,[D]:A};return D==="theme"&&fp(A),P})},S=()=>{s({...p,sectionOrder:d}),p.theme&&fp(p.theme),OC({...p,sectionOrder:d}),_("설정이 적용되었습니다"),r()},T=D=>{const{destination:A,source:$}=D;if(!A||A.index===$.index)return;const P=Array.from(d),[j]=P.splice($.index,1);P.splice(A.index,0,j),f(P)},M=D=>{switch(D){case"theme":return y.jsx($r,{title:"테마",children:y.jsx(LC,{value:p.theme??"dark",onChange:A=>x("theme",A)})});case"hiddenStem":return y.jsx($r,{title:"지장간 표시 타입",children:y.jsx(Uo,{value:p.hiddenStem,onChange:A=>x("hiddenStem",A),options:[{label:"전체보기",value:"all"},{label:"정기만 보기",value:"regular"}]})});case"hiddenStemMode":return y.jsx($r,{title:"지장간 유형",children:y.jsx(Uo,{value:p.hiddenStemMode,onChange:A=>x("hiddenStemMode",A),options:[{label:"고전",value:"classic"},{label:"하건충",value:"hgc"}]})});case"ilunRule":return y.jsx($r,{title:"일운 달력 시간타입",children:y.jsx(Uo,{value:p.ilunRule??"자시",onChange:A=>x("ilunRule",A),options:[{label:"자시",value:"자시"},{label:"조자시/야자시",value:"조자시/야자시"},{label:"인시",value:"인시"}]})});case"sinsalMode":return y.jsx($r,{title:"십이신살타입",children:y.jsx(Uo,{value:p.sinsalMode,onChange:A=>x("sinsalMode",A),options:[{label:"고전",value:"classic"},{label:"현대",value:"modern"}]})});case"sinsalBase":return y.jsx($r,{title:"십이신살기준",children:y.jsx(Uo,{value:p.sinsalBase,onChange:A=>x("sinsalBase",A),options:[{label:"일지",value:"일지"},{label:"연지",value:"연지"}]})});case"sinsalBloom":return y.jsx($r,{title:"개화론 적용여부",children:y.jsx(Us,{label:"개화론 적용",checked:!!p.sinsalBloom,onChange:A=>x("sinsalBloom",A)})});case"exposure":return y.jsx($r,{title:"상단 노출",children:y.jsx(Uo,{value:p.exposure,onChange:A=>x("exposure",A),options:[{label:"원국",value:"원국"},{label:"대운",value:"대운"},{label:"세운",value:"세운"},{label:"월운",value:"월운"}]})});case"charType":return y.jsx($r,{title:"글자 타입",children:y.jsx(Uo,{value:p.charType,onChange:A=>x("charType",A),options:[{label:"한자",value:"한자"},{label:"한글",value:"한글"}]})});case"thinEum":return y.jsx($r,{title:"음간 얇게",children:y.jsx(Us,{label:"음간 얇게",checked:!!p.thinEum,onChange:A=>x("thinEum",A)})});case"visibility":return y.jsx($r,{title:"표시 항목",children:y.jsxs("div",{className:"space-y-2 w-full max-w-[140px] mx-auto",children:[y.jsx(Us,{label:"십신 표시",checked:!!p.showSipSin,onChange:A=>x("showSipSin",A)}),y.jsx(Us,{label:"운성 표시",checked:!!p.showSibiUnseong,onChange:A=>x("showSibiUnseong",A)}),y.jsx(Us,{label:"신살 표시",checked:!!p.showSibiSinsal,onChange:A=>x("showSibiSinsal",A)})]})});case"difficultyMode":return y.jsx($r,{title:"난이도 UP ver.",children:y.jsx(Us,{label:"난이도 UP 적용",checked:!!p.difficultyMode,onChange:A=>x("difficultyMode",A)})});default:return null}};return y.jsxs(y.Fragment,{children:[y.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),y.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),y.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${t?"bottom-0":"bottom-[-88dvh]"}`,children:[y.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h2",{className:"text-lg font-bold",children:"설정"}),y.jsx("button",{onClick:S,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:"적용하기"})]}),y.jsx("button",{onClick:r,className:"p-1 rounded hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:y.jsx(vg,{size:22})})]}),t&&y.jsx(tu,{onDragEnd:T,children:y.jsx(Vo,{droppableId:"settings-sections",children:D=>y.jsxs("ul",{ref:D.innerRef,...D.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[d.map((A,$)=>y.jsx(il,{draggableId:A,index:$,children:P=>y.jsxs("li",{ref:P.innerRef,...P.draggableProps,...P.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[y.jsx("span",{className:"mr-2 select-none",children:"☰"}),y.jsx("div",{className:"flex-1 min-w-0",children:M(A)})]})},A)),D.placeholder]})})})]}),g&&y.jsx(O2,{message:g,onClose:()=>_(null),ms:1800})]})}function LC({value:t,onChange:r}){const a=t==="dark";return y.jsxs("button",{"data-no-drag":!0,onClick:()=>r(a?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"다크/라이트 전환","aria-pressed":a,children:[y.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),y.jsx("span",{children:a?"다크":"라이트"})]})}function $r({title:t,children:r}){return y.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[y.jsx("h3",{className:"text-sm font-semibold text-center",children:t}),y.jsx("div",{className:"flex justify-center",children:r})]})}function Uo({value:t,onChange:r,options:a}){return y.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:s=>s.stopPropagation(),onTouchStart:s=>s.stopPropagation(),children:a.map(s=>{const u=t===s.value;return y.jsx("button",{type:"button",onClick:()=>r(s.value),className:`px-3 py-1 text-sm transition-colors ${u?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:s.label},s.value)})})}function Us({label:t,checked:r,onChange:a}){const s=`switch-${t}`;return y.jsxs("label",{"data-no-drag":!0,htmlFor:s,className:"flex items-center justify-between w-full max-w-[160px] text-sm cursor-pointer",children:[y.jsx("span",{children:t}),y.jsx("input",{id:s,type:"checkbox",checked:r,onChange:u=>a(u.target.checked),className:"peer hidden"}),y.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function BC({onShowToday:t,onShowCouple:r}){const[a,s]=C.useState(!1);return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:y.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[y.jsx(ap,{icon:y.jsx(gC,{size:22}),label:"오늘의 사주",onClick:t}),y.jsx(ap,{icon:y.jsx(mC,{size:22}),label:"궁합",onClick:r}),y.jsx(ap,{icon:y.jsx(SC,{size:22}),label:"기타설정",onClick:()=>s(!0)})]})}),y.jsx(CC,{open:a,onClose:()=>s(!1)})]})}function ap({icon:t,label:r,onClick:a}){return y.jsxs("button",{onClick:a,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer dark:text-neutral-300 dark:hover:text-purple-400",children:[t,y.jsx("span",{className:"mt-1",children:r})]})}function RC(t,r={}){const{onConfirm:a,onCancel:s,duration:u=1/0,id:d="confirm-center",disableBackdropClose:f=!1,confirmText:p="확인",cancelText:b="취소"}=r;return h0.custom(g=>{if(typeof window>"u"||!document?.body)return null;const _=()=>{const x=C.useRef(!1),S=()=>{x.current||(x.current=!0,h0.dismiss(g.id),setTimeout(()=>{s?.()},0))},T=()=>{x.current||(x.current=!0,h0.dismiss(g.id),setTimeout(()=>{a?.()},0))};return C.useEffect(()=>{const M=D=>{x.current||((D.key==="Escape"||D.key==="Esc")&&(D.preventDefault(),D.stopPropagation(),S()),D.key==="Enter"&&(D.preventDefault(),D.stopPropagation(),T()))};return document.addEventListener("keydown",M,{capture:!0}),()=>document.removeEventListener("keydown",M,{capture:!0})},[]),y.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-live":"assertive",className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto",children:[y.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:f?void 0:S}),y.jsxs("div",{className:"relative z-10 bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg border border-neutral-700 w-[min(92vw,520px)] transition-all duration-100 ease-out",children:[y.jsx("p",{className:"text-sm mb-3 whitespace-pre-line",children:t}),y.jsxs("div",{className:"flex gap-2 justify-end",children:[y.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",onClick:S,children:b}),y.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-red-600 hover:bg-red-500 cursor-pointer text-white",onClick:T,children:p})]})]})]})};return Wc.createPortal(y.jsx(_,{}),document.body)},{id:d,duration:u})}function Zo(t,r){const[a,s]=C.useState(r),[u,d]=C.useState(!1);return C.useEffect(()=>{try{if(typeof window>"u")return;const f=localStorage.getItem(t);f!=null&&s(JSON.parse(f))}catch{}finally{d(!0)}},[t]),C.useEffect(()=>{if(u)try{localStorage.setItem(t,JSON.stringify(a))}catch{}},[t,a,u]),[a,s,u]}function R_(t,r,a){const s=t.slice(),[u]=s.splice(r,1);return s.splice(a,0,u),s}const PC="list:__unassigned__",P_="list:";function zC(t,r){const[a,s]=Zo(Af,[]),[u,d]=Zo(Ej,{}),[f,p]=Zo(Tj,[]),[b,g]=Zo(k2,[]),[_,x]=Zo("ms_folder_open",{}),[S,T]=Zo("ms_memo_open",{}),[M,D]=Zo("ms_new_folder_tmp",""),A=C.useRef(0);function $(X,q,U){const J=Date.now();J-A.current<450||(A.current=J,RC(X,{onConfirm:q,onCancel:U,duration:Number.POSITIVE_INFINITY}))}const P=C.useMemo(()=>Nf.filter(X=>!b.includes(X)),[b]),j=C.useMemo(()=>[...P,...a],[P,a]);C.useEffect(()=>{p(X=>{const q=X.filter(U=>j.includes(U));for(const U of j)q.includes(U)||q.push(U);return q})},[j,p]);const B=C.useMemo(()=>{const X=f.filter(U=>!!u[U]),q=f.filter(U=>!u[U]);return[...X,...q]},[f,u]);C.useEffect(()=>{x(X=>{const q={...X};for(const U of B)q[U]===void 0&&(q[U]=!0);return q})},[B,x]),C.useEffect(()=>{t.filter(J=>J.folder==="미분류").forEach(J=>r(J.id,{folder:void 0}));const q=new Set(j);t.filter(J=>J.folder&&!q.has(J.folder)).forEach(J=>r(J.id,{folder:void 0}))},[t,j,r]);const{grouped:O,unassignedItems:Y}=C.useMemo(()=>{const X={};for(const J of B)X[J]=[];const q=[];for(const J of t){const rt=J.folder;rt&&X[rt]?X[rt].push(J):q.push(J)}const U=(J,rt)=>+!!rt.favorite-+!!J.favorite;for(const J of Object.keys(X))X[J]=X[J].slice().sort(U);return q.sort(U),{grouped:X,unassignedItems:q}},[t,B]);function et(X){const{destination:q,draggableId:U,type:J,source:rt}=X;if(q){if(J==="FOLDER"){const ct=U.replace(/^folder-/,""),I=f.filter(xt=>!!u[xt]),at=f.filter(xt=>!u[xt]);if(!!u[ct]){const xt=I.indexOf(ct),k=Math.min(I.length-1,q.index);p([...R_(I,xt,k),...at])}else{const xt=at.indexOf(ct),k=Math.min(at.length-1,q.index-I.length);p([...I,...R_(at,xt,k)])}return}if(J==="ITEM"){const ct=U.replace(/^item:/,""),I=rt?.droppableId??"",at=q?.droppableId??"",st=F=>{if(!F.startsWith(P_))return;const tt=F.slice(P_.length);return tt==="__unassigned__"?void 0:tt},xt=st(I),k=st(at);if(xt===k)return;const H=t.find(F=>F.id===ct);if(!H)return;r(H.id,{folder:k});return}}}function it(X){const q=X.trim();if(!q)return;const U=new Set([...B,...a]);let J=q,rt=2;for(;U.has(J);)J=`${q} ${rt++}`;s(ct=>[...ct,J]),x(ct=>({...ct,[J]:!0})),D("")}function V(X){t.filter(U=>U.folder===X).forEach(U=>r(U.id,{folder:void 0})),Nf.includes(X)?g(U=>Array.from(new Set([...U,X]))):s(U=>U.filter(J=>J!==X)),x(U=>{const J={...U};return delete J[X],J}),d(U=>{const J={...U};return delete J[X],J}),p(U=>U.filter(J=>J!==X))}return{folderFavMap:u,setFolderFavMap:d,folderOpenMap:_,setFolderOpenMap:x,memoOpenMap:S,setMemoOpenMap:T,newFolderName:M,setNewFolderName:D,orderedFolders:B,grouped:O,unassignedItems:Y,confirmThrottled:$,handleDragEnd:et,createFolder:it,deleteFolder:V,displayFolderLabel:Mj,UNASSIGNED_LABEL:Ae,DROPPABLE_UNASSIGNED:PC}}function $C(t,r){if(!/^\d{8}$/.test(t))return t||"";const a=t.slice(0,4),s=t.slice(4,6),u=t.slice(6,8);return r&&/^\d{4}$/.test(r)?`${a}년 ${s}월 ${u}일생 ${r.slice(0,2)}:${r.slice(2,4)}분`:r==="모름"?`${a}년 ${s}월 ${u}일생 (시간 모름)`:`${a}년 ${s}월 ${u}일생`}function HC(t){if(!t)return"";const r=t.split(/[\s,]+/).filter(Boolean);if(r.length===0)return"";const a=f=>r.find(p=>f.some(b=>p.endsWith(b))),s=a(["시","군","구"]),u=a(["동","읍","면","리"]);return r.length===1||!a(["시","군","구","동","읍","면","리"])&&!a(["도","광역시","특별시","자치시","자치도"])?t:s&&u?`${s} ${u}`:s||t}function IC(t){if(!/^\d{8}$/.test(t))return"-";const r=Number(t.slice(0,4)),a=Number(t.slice(4,6)),s=Number(t.slice(6,8)),u=new Date;let d=u.getFullYear()-r;return(u.getMonth()+1<a||u.getMonth()+1===a&&u.getDate()<s)&&d--,d}function GC(t){return(t.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null시\s*/gi,"").trim()}function Op(t){return typeof t=="object"&&t!==null}function UC(t){if(!Op(t))throw new Error("Invalid lunar2solar result");const r=t,a=r.cYear,s=r.cMonth,u=r.cDay;if(typeof a!="number"||typeof s!="number"||typeof u!="number")throw new Error("Invalid lunar2solar fields");const d=r.isLeap;return{cYear:a,cMonth:s,cDay:u,isLeap:typeof d=="boolean"?d:void 0}}function ZC(t){const r=Op(t)&&"default"in t?t.default:t;if(!Op(r))throw new Error("solarlunar module invalid");const a=r.lunar2solar;if(typeof a!="function")throw new Error("solarlunar.lunar2solar not found");return(s,u,d)=>UC(a(s,u,d,!1))}const YC=ZC(cg);function zS(t){const r=t.mingSikType??"조자시/야자시";let a=Number(t.birthDay.slice(0,4)),s=Number(t.birthDay.slice(4,6)),u=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const P=YC(a,s,u);a=P.cYear,s=P.cMonth,u=P.cDay}const d=!t.birthTime||t.birthTime==="모름",f=d?4:Number(t.birthTime.slice(0,2)),p=d?30:Number(t.birthTime.slice(2,4)),b=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,g=new Date(a,s-1,u,f,p,0,0),_=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",x=Qo(g,b,_),S=d?"":x.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),T=le(x,b),M=Me(x,b),D=se(x,r),A=d?null:Yr(x,r),$=[`원국 : ${T}년 ${M}월 ${D}일`,A?`${A}시`:null].filter(Boolean).join(" ");return{correctedLocal:S,ganji:$}}const z_="sidebar.orderMap.v1",$_="sidebar.folderOrder.v1",Dc="list:__unassigned__",nf=t=>`list:${t}`,op=t=>{if(!t.startsWith("list:"))return;const r=t.slice(5);return r==="__unassigned__"?void 0:r};function qC({open:t,onClose:r,onView:a,onAddNew:s,onEdit:u,onDeleteView:d}){const{list:f,remove:p,update:b}=fl(),{folderFavMap:g,setFolderFavMap:_,folderOpenMap:x,setFolderOpenMap:S,memoOpenMap:T,setMemoOpenMap:M,newFolderName:D,setNewFolderName:A,orderedFolders:$,grouped:P,unassignedItems:j,handleDragEnd:B,createFolder:O,deleteFolder:Y,UNASSIGNED_LABEL:et,displayFolderLabel:it}=zC(f,b),[V,X]=C.useState([]);C.useEffect(()=>{try{const H=localStorage.getItem($_);if(H){const F=JSON.parse(H);Array.isArray(F)&&X(F)}}catch{console.log("[Sidebar] Failed to load folderOrder from localStorage")}},[]),C.useEffect(()=>{try{localStorage.setItem($_,JSON.stringify(V))}catch{console.log("[Sidebar] Failed to save folderOrder to localStorage")}},[V]);const[q,U]=C.useState({});C.useEffect(()=>{try{const H=localStorage.getItem(z_);if(H){const F=JSON.parse(H);F&&typeof F=="object"&&U(tt=>({...F,...tt}))}}catch{console.log("[Sidebar] Failed to load orderMap from localStorage")}},[]),C.useEffect(()=>{try{localStorage.setItem(z_,JSON.stringify(q))}catch{console.log("[Sidebar] Failed to save orderMap to localStorage")}},[q]);const[J,rt]=C.useState(!1),ct=(H,F)=>{const tt=new Map(F.map(Z=>[Z.id,Z])),K=q[H]??[],G=[];for(const Z of K){const mt=tt.get(Z);mt&&(G.push(mt),tt.delete(Z))}return tt.forEach(Z=>G.push(Z)),G},I=H=>{const F=op(H),tt=F?P[F]||[]:j;return ct(H,tt).map(K=>K.id)};C.useEffect(()=>{U(H=>{let F=!1;const tt={...H};{const K=Dc,G=j.map(Z=>Z.id);if(!tt[K])tt[K]=G,F=!0;else{const Z=G.filter(vt=>!tt[K].includes(vt));Z.length&&(tt[K]=[...tt[K],...Z],F=!0);const mt=tt[K].filter(vt=>!G.includes(vt));mt.length&&(tt[K]=tt[K].filter(vt=>!mt.includes(vt)),F=!0)}}for(const K of $){const G=nf(K),Z=(P[K]||[]).map(mt=>mt.id);if(!tt[G])tt[G]=Z,F=!0;else{const mt=Z.filter(ot=>!tt[G].includes(ot));mt.length&&(tt[G]=[...tt[G],...mt],F=!0);const vt=tt[G].filter(ot=>!Z.includes(ot));vt.length&&(tt[G]=tt[G].filter(ot=>!vt.includes(ot)),F=!0)}}return F?tt:H})},[j,P,$]);const at=C.useMemo(()=>[...V.filter(H=>$.includes(H)),...$.filter(H=>!V.includes(H))],[V,$]),st=H=>H??{},xt=(H,F)=>{const tt=GC(H),K=HC(H.birthPlace?.name),G=`item:${H.id}`,Z=!!T[H.id];let mt=new Date(H.corrected);Mf(mt.getFullYear(),mt.getMonth()+1,mt.getDate())&&(mt=new Date(mt.getTime()-3600*1e3));const vt=!H.birthTime||H.birthTime==="모름";return y.jsx(il,{draggableId:G,index:F,children:ot=>y.jsx("li",{ref:ot.innerRef,...ot.draggableProps,...ot.dragHandleProps,style:st(ot.draggableProps.style),className:`list-none select-none rounded-xl border
                       bg-white dark:bg-neutral-900
                       border-neutral-200 dark:border-neutral-800
                       text-neutral-900 dark:text-neutral-100
                       cursor-grab active:cursor-grabbing`,children:y.jsxs("div",{className:"p-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[H.name," (",IC(H.birthDay),"세, ",H.gender,")"]}),y.jsx("span",{className:"opacity-40",children:"｜"}),y.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:H.relationship?H.relationship:"관계 미지정"}),y.jsx("span",{className:"ml-auto opacity-50 select-none",children:"☰"})]}),y.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[$C(H.birthDay,H.birthTime),","," ",H.calendarType==="lunar"?"음력":"양력"]}),(K||mt)&&y.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[K,mt&&y.jsxs("span",{className:"opacity-70",children:[" ","· 보정시 ",vt?"모름":O7(mt)]})]}),tt&&y.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:tt}),H.memo&&H.memo.trim()!==""&&y.jsxs("div",{children:[y.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:St=>{St.stopPropagation(),M(Ct=>({...Ct,[H.id]:!Ct[H.id]}))},children:Z?"메모 닫기":"메모 열기"}),y.jsx("div",{className:Z?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:H.memo})]}),y.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[y.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:it(H.folder),onClick:St=>St.stopPropagation(),onChange:St=>{St.stopPropagation();const Ct=St.target.value,At=al(Ct),jt=H.id,Tt=H.folder?nf(H.folder):Dc,Bt=At?nf(At):Dc;At&&!$.includes(At)&&O(At),U(It=>{const Yt={...It},Dt=I(Tt),dt=Tt===Bt?Dt.slice():I(Bt).slice(),Ot=Dt.indexOf(jt);Ot>=0&&Dt.splice(Ot,1);const bt=dt.indexOf(jt);return bt>=0&&dt.splice(bt,1),dt.unshift(jt),Yt[Tt]=Dt,Yt[Bt]=dt,Yt}),b(jt,{folder:At})},children:[et,...$].map(St=>y.jsx("option",{value:St,children:St},St))}),y.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:H.mingSikType??"조자시/야자시",onClick:St=>St.stopPropagation(),onChange:St=>{St.stopPropagation();const Ct=St.target.value,At={...H,mingSikType:Ct},jt=zS(At);b(H.id,{mingSikType:Ct,...jt}),a({...At,...jt}),r()},children:[y.jsx("option",{value:"자시",children:"자시"}),y.jsx("option",{value:"조자시/야자시",children:"조자시/야자시"}),y.jsx("option",{value:"인시",children:"인시"})]})]}),y.jsxs("div",{className:"flex gap-2 mt-3",children:[y.jsx("button",{onClick:St=>{St.stopPropagation(),a(H),r()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-indigo-600 hover:bg-indigo-500`,children:"보기"}),y.jsx("button",{onClick:St=>{St.stopPropagation(),u?.(H)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-amber-600 hover:bg-amber-500`,children:"수정"}),y.jsx("button",{onClick:St=>{St.stopPropagation(),confirm(`'${H.name}' 명식을 삭제할까요?`)&&(p(H.id),d&&d())},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-red-600 hover:bg-red-500`,children:"삭제"}),y.jsx("button",{type:"button",onClick:St=>{St.stopPropagation(),b(H.id,{favorite:!H.favorite})},className:`ml-auto p-1 rounded cursor-pointer ${H.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:y.jsx(L_,{size:16,fill:H.favorite?"currentColor":"none"})})]})]})})},G)},k=H=>{const{source:F,destination:tt,draggableId:K,type:G}=H;if(tt){if(G==="FOLDER"){B(H),X(Z=>{const mt=[...Z],[vt]=mt.splice(F.index,1);return mt.splice(tt.index,0,vt),mt});return}if(G==="ITEM"){const Z=K.replace(/^item:/,""),mt=F.droppableId,vt=tt.droppableId;U(Ct=>{const At={...Ct},jt=I(mt),Tt=mt===vt?jt.slice():I(vt).slice();if(mt===vt){const[Yt]=Tt.splice(F.index,1);return Tt.splice(tt.index,0,Yt),At[mt]=Tt,At}const Bt=jt.indexOf(Z);Bt>=0&&jt.splice(Bt,1);const It=Tt.indexOf(Z);return It>=0&&Tt.splice(It,1),Tt.splice(tt.index,0,Z),At[mt]=jt,At[vt]=Tt,At});const ot=op(mt),St=op(vt);ot!==St&&b(Z,{folder:St})}}};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),y.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    ${J?"overflow-hidden":"overflow-auto"}
                    ${t?"left-0":"left-[-100%]"}`,children:[y.jsxs("div",{className:"flex justify-between items-center h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[y.jsx("h2",{className:"text-lg font-bold",children:"명식 리스트"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{type:"button",onClick:()=>{s(),r()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[y.jsx(xC,{size:16})," 명식추가"]}),y.jsx("button",{onClick:r,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:y.jsx(vg,{size:22})})]})]}),y.jsx(tu,{onDragStart:()=>rt(!0),onDragEnd:H=>{rt(!1),k(H)},children:y.jsxs("div",{className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[y.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[y.jsx("input",{type:"text",value:D,onChange:H=>A(H.target.value),placeholder:"새 폴더 이름",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`,onClick:H=>H.stopPropagation()}),y.jsx("button",{type:"button",onClick:()=>O(D),className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,onClickCapture:H=>H.stopPropagation(),children:"생성"})]}),y.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"명식/폴더를 드래그 하여 순서를 바꿀 수 있습니다."}),y.jsx(Vo,{droppableId:Dc,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:H=>{const F=ct(Dc,j);return y.jsx("div",{ref:H.innerRef,...H.droppableProps,className:"mb-6",children:y.jsxs("ul",{className:"flex flex-col gap-2",children:[F.map((tt,K)=>xt(tt,K)),H.placeholder]})})}}),y.jsx(Vo,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,children:H=>y.jsxs("div",{ref:H.innerRef,...H.droppableProps,children:[at.map((F,tt)=>{const K=nf(F),G=ct(K,P[F]||[]),Z=!!x[F],mt=!!g[F];return y.jsx(il,{draggableId:`folder-${F}`,index:tt,children:vt=>y.jsxs("div",{ref:vt.innerRef,...vt.draggableProps,...vt.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[y.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                         bg-neutral-50 dark:bg-neutral-900/70
                                         border border-neutral-200 dark:border-neutral-800
                                         text-neutral-800 dark:text-neutral-200`,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{type:"button",onClick:ot=>{ot.stopPropagation(),S(St=>({...St,[F]:!Z}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[Z?y.jsx(fC,{size:16}):y.jsx(uC,{size:16}),y.jsx("span",{className:"text-sm font-semibold",children:F})]}),y.jsx("button",{type:"button",onClick:ot=>{ot.stopPropagation(),_(St=>({...St,[F]:!St[F]}))},className:`p-1 rounded cursor-pointer ${mt?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:y.jsx(L_,{size:16,fill:mt?"currentColor":"none"})})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"opacity-60 text-xs",children:[G.length,"개"]}),y.jsx("button",{type:"button",onClick:ot=>{if(ot.stopPropagation(),g[F]){alert(`'${F}' 폴더는 즐겨찾기 되어 있습니다.
즐겨찾기 해제 후 삭제해주세요.`);return}confirm(`'${F}' 폴더를 삭제할까요?
(소속 항목은 바깥으로 이동합니다)`)&&Y(F)},className:`px-2 py-1 rounded text-xs cursor-pointer
                                             border border-red-300 dark:border-red-700
                                             text-red-700 dark:text-red-300
                                             hover:bg-red-50 dark:hover:bg-red-900/30`,children:"삭제"})]})]}),Z&&y.jsx(Vo,{droppableId:K,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:ot=>y.jsx("div",{ref:ot.innerRef,...ot.droppableProps,className:"mt-2",children:y.jsxs("ul",{className:"flex flex-col gap-2",children:[G.map((St,Ct)=>xt(St,Ct)),ot.placeholder]})})})]})},`folder-${F}`)}),H.placeholder]})})]})})]})]})}const H_="ms_folders",sp="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",FC="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",VC="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",ia="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",KC="text-xs text-neutral-500 dark:text-neutral-400",rf="accent-violet-600 dark:accent-violet-400",I_="accent-violet-600 dark:accent-violet-400",ph="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",XC=`${ph} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,WC=`${ph} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,G_=`${ph} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,QC=`${ph} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function JC({item:t,onClose:r}){const{list:a,update:s,remove:u}=fl(),[d,f]=C.useState(!1),[p,b]=C.useState({...t,calendarType:t.calendarType??"solar"}),[g,_]=C.useState(!t.birthTime||t.birthTime==="모름"),[x,S]=C.useState(!t.birthPlace||t.birthPlace.name==="모름"),T=C.useMemo(()=>["가족","친구","직장","지인","고객","기타"],[]),[M,D]=C.useState([]);C.useEffect(()=>{try{const O=JSON.parse(localStorage.getItem(H_)||"[]");Array.isArray(O)&&D(O)}catch{}},[]);const A=C.useMemo(()=>{const O=Array.from(new Set(a.map(it=>it.folder).filter(Boolean))),Y=new Set([...T,...M,...O]),et=Array.from(Y).sort((it,V)=>it.localeCompare(V));return[Ae,...et]},[a,M,T]),$=()=>{b({...t,calendarType:t.calendarType??"solar"}),_(!t.birthTime||t.birthTime==="모름"),S(!t.birthPlace||t.birthPlace.name==="모름")},P=()=>{if(!p.name||p.name.trim()==="")return"이름을 입력해주세요.";if(!p.birthDay||!/^\d{8}$/.test(p.birthDay))return"생년월일은 YYYYMMDD 형식으로 입력해주세요.";const O=Number(p.birthDay.slice(0,4)),Y=Number(p.birthDay.slice(4,6)),et=Number(p.birthDay.slice(6,8));if(p.calendarType==="lunar")try{si(O,Y,et)}catch(it){return it instanceof Error?it.message:"음력 날짜가 유효하지 않습니다."}else{const it=new Date(O,Y-1,et);if(it.getFullYear()!==O||it.getMonth()+1!==Y||it.getDate()!==et)return"존재하지 않는 양력 날짜입니다."}if(!g){if(!p.birthTime||!/^\d{4}$/.test(p.birthTime))return"태어난 시간은 0000–2359 형식(4자리)으로 입력해주세요.";const it=Number(p.birthTime.slice(0,2)),V=Number(p.birthTime.slice(2,4));if(it<0||it>23||V<0||V>59)return"태어난 시간은 0000–2359 범위여야 합니다."}return!x&&!p.birthPlace?"태어난 지역을 선택하거나 '모름'을 체크해주세요.":null},j=()=>{const O=P();if(O){alert(O);return}const Y=Number(p.birthDay.slice(0,4)),et=Number(p.birthDay.slice(4,6)),it=Number(p.birthDay.slice(6,8));let V=Y,X=et,q=it;if(p.calendarType==="lunar"){const mt=si(Y,et,it);V=mt.getFullYear(),X=mt.getMonth()+1,q=mt.getDate()}const U=g?4:Number((p.birthTime??"0430").slice(0,2)),J=g?30:Number((p.birthTime??"0430").slice(2,4)),rt=x||!p.birthPlace||p.birthPlace.lon===0?127.5:p.birthPlace.lon,ct=new Date(V,X-1,q,U,J,0,0),I=!p.birthPlace||typeof p.birthPlace=="object"&&p.birthPlace.name==="모름",at=Qo(ct,rt,I),xt=le(at,rt).charAt(0),H=((mt,vt)=>{const St=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(mt),Ct=(vt??"남자")==="남자";return St?Ct?"forward":"backward":Ct?"backward":"forward"})(xt,p.gender??"남자"),F=al(p.folder===Ae?void 0:p.folder),tt={...t,name:(p.name??"").trim()||"이름없음",birthDay:p.birthDay,birthTime:g?"모름":p.birthTime??"0430",gender:p.gender??"남자",birthPlace:x?{name:"모름",lat:0,lon:127.5}:p.birthPlace??{name:"모름",lat:0,lon:127.5},relationship:p.relationship??"",memo:p.memo??"",folder:F,calendarType:p.calendarType??"solar",mingSikType:p.mingSikType??"조자시/야자시",DayChangeRule:(p.mingSikType??"조자시/야자시")==="인시"?"인시일수론":"자시일수론",dir:H,corrected:at,correctedLocal:"",ganji:""},{correctedLocal:K,ganji:G}=zS(tt),Z={...tt,correctedLocal:K,ganji:G};if(Z.folder&&!T.includes(Z.folder)&&!M.includes(Z.folder)){const mt=[...M,Z.folder];D(mt),localStorage.setItem(H_,JSON.stringify(mt))}s(t.id,Z),f(!1),r&&r()},B=()=>{confirm(`'${t.name}' 명식을 삭제할까요?`)&&u(t.id)};return d?y.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[y.jsx("h3",{className:"text-lg font-bold",children:"명식 수정"}),y.jsxs("div",{children:[y.jsx("label",{className:ia,children:"이름"}),y.jsx("input",{className:sp,value:p.name||"",onChange:O=>b({...p,name:O.target.value}),placeholder:"이름"})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:ia,children:"생년월일 (YYYYMMDD)"}),y.jsx("input",{className:sp,value:p.birthDay||"",onChange:O=>b({...p,birthDay:O.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:"예: 19900101"}),y.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{type:"radio",className:rf,name:"calendarType",checked:p.calendarType==="solar",onChange:()=>b({...p,calendarType:"solar"}),id:"editor_calendar_solar"}),y.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"양력"})]}),y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{type:"radio",className:rf,name:"calendarType",checked:p.calendarType==="lunar",onChange:()=>b({...p,calendarType:"lunar"}),id:"editor_calendar_lunar"}),y.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"음력"})]})]}),p.calendarType==="lunar"&&p.birthDay?.length===8&&y.jsx("span",{className:KC,children:(()=>{try{const O=Number(p.birthDay.slice(0,4)),Y=Number(p.birthDay.slice(4,6)),et=Number(p.birthDay.slice(6,8)),it=si(O,Y,et);return`→ 양력 ${it.getFullYear()}-${String(it.getMonth()+1).padStart(2,"0")}-${String(it.getDate()).padStart(2,"0")}`}catch(O){const Y=O instanceof Error?O.message:void 0;return`→ 변환 실패${Y?`: ${Y}`:""}`}})()})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:ia,children:"태어난 시간 (HHMM)"}),y.jsx("input",{className:`${sp} disabled:opacity-50`,value:g?"":p.birthTime||"",onChange:O=>b({...p,birthTime:O.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:"예: 1524",disabled:g}),y.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",className:I_,checked:g,onChange:O=>_(O.target.checked),id:"editor_birthTimeX"}),y.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:ia,children:"명식 기준"}),y.jsx("div",{className:"flex gap-4 text-sm",children:["자시","조자시/야자시","인시"].map(O=>{const Y=`editor_ming_${O}`;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{type:"radio",className:rf,name:"mingSikType",checked:(p.mingSikType??"자시")===O,onChange:()=>b({...p,mingSikType:O}),id:Y}),y.jsx("label",{htmlFor:Y,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:O})]},O)})})]}),y.jsxs("div",{children:[y.jsx("label",{className:ia,children:"성별"}),y.jsx("div",{className:"flex gap-4 text-sm",children:["남자","여자"].map(O=>{const Y=`editor_gender_${O}`;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{type:"radio",className:rf,name:"gender",value:O,checked:p.gender===O,onChange:et=>b({...p,gender:et.target.value}),id:Y}),y.jsx("label",{htmlFor:Y,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:O})]},O)})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:ia,children:"태어난 지역"}),y.jsx(v1,{onSelect:O=>b({...p,birthPlace:O}),value:x?"출생지선택":p.birthPlace?.name??""}),y.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",className:I_,checked:x,onChange:O=>S(O.target.checked),id:"editor_birthPlaceX"}),y.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:ia,children:"관계"}),y.jsx(j2,{value:p.relationship||"",onChange:O=>b({...p,relationship:O})})]}),y.jsxs("div",{children:[y.jsx("label",{className:ia,children:"폴더"}),y.jsx("select",{className:FC,value:p.folder??Ae,onChange:O=>{const Y=O.target.value;b(Y===Ae?{...p,folder:void 0}:{...p,folder:Y})},children:A.map(O=>y.jsx("option",{value:O===Ae?Ae:O,children:O},O))})]}),y.jsxs("div",{children:[y.jsx("label",{className:ia,children:"메모"}),y.jsx("textarea",{className:VC,value:p.memo||"",onChange:O=>b({...p,memo:O.target.value}),placeholder:"메모를 입력하세요"})]}),y.jsxs("div",{className:"flex gap-2 justify-end",children:[y.jsx("button",{className:G_,onClick:()=>{$(),f(!1)},children:"취소"}),y.jsx("button",{className:QC,onClick:j,children:"저장"})]})]}):y.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h3",{className:"text-lg font-bold",children:[" ",t.name," "]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{className:XC,onClick:()=>f(!0),children:"수정"}),y.jsx("button",{className:WC,onClick:B,children:"삭제"}),r&&y.jsx("button",{className:G_,onClick:r,children:"닫기"})]})]}),y.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[y.jsxs("div",{children:["성별: ",t.gender]}),y.jsxs("div",{children:["생년월일/시간: ",t.birthDay," ",t.birthTime==="모름"?"(시간 모름)":t.birthTime,","," ",t.calendarType==="lunar"?"음력":"양력"]}),y.jsxs("div",{children:["보정시: ",t.correctedLocal||"-"]}),y.jsxs("div",{children:["출생지: ",t.birthPlace?.name||"-"]}),y.jsxs("div",{children:["관계: ",t.relationship||"-"]}),y.jsxs("div",{children:["폴더: ",t.folder??Ae]})]}),t.ganji&&y.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:t.ganji}),t.memo&&y.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[y.jsx("p",{className:"mb-1 font-semibold",children:"메모"}),t.memo]})]})}function t6({pillarsA:t,pillarsB:r}){const a=d5(t,r);return y.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[y.jsx("div",{className:"text-sm font-bold mb-3",children:"두 명식 간 형충회합"}),Object.entries(a).map(([s,u])=>u.length>0?y.jsxs("div",{className:"flex gap-2 text-xs",children:[y.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:s}),y.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((d,f)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:d},f))})]},s):null)]})}function e6(t){return typeof t=="object"&&t!==null}const n6=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],r6=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],i6=new Set(n6),a6=new Set(r6);function U_(t){return typeof t=="string"&&t.length>=2&&i6.has(t[0])&&a6.has(t[1])}function Ie(t,...r){if(U_(t))return t;for(const a of r)if(U_(a))return a;return"甲子"}function af(t,r){let a=null;const s=r.getTime();for(const u of t)if(u.at.getTime()<=s)a=u;else break;return a}function o6(t){const r=a=>String(a).padStart(2,"0");return`${t.getFullYear()}-${r(t.getMonth()+1)}-${r(t.getDate())}T${r(t.getHours())}:${r(t.getMinutes())}`}function Z_(t){if(!t)return null;const r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(t);if(!r)return null;const[,a,s,u,d,f]=r,p=new Date(+a,+s-1,+u,+d,+f);return Number.isNaN(p.getTime())?null:p}function Zf(t){const r=t;return typeof r.name=="string"&&r.name?r.name:typeof r.title=="string"&&r.title?r.title:typeof r.memo=="string"&&r.memo?r.memo:"이름 없음"}function s6(t){const r=Number(t.birthDay.slice(0,4)),a=Number(t.birthDay.slice(4,6)),s=Number(t.birthDay.slice(6,8));let u=0,d=0;const f=t;return typeof f.birthTime=="string"&&f.birthTime.length>=4&&(u=Number(f.birthTime.slice(0,2)),d=Number(f.birthTime.slice(2,4))),{y:r,m:a,d:s,hh:u,mm:d}}function gh(t){const{y:r,m:a,d:s}=s6(t),u=t.corrected.getHours(),d=t.corrected.getMinutes();return t.calendarType==="lunar"?si(r,a,s,u,d):new Date(r,a-1,s,u,d)}function l6(t){const r=gh(t);return`${Zf(t)}-${r.toISOString()}`}function jc(t){const r=t;return typeof r.id=="string"&&r.id?r.id:l6(t)}function c6(t){return e6(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function u6(t){const r=Jo;return c6(r)?t==="classic"?r.Classic:r.Modern:t}const lp="people_picker_order_v1";function d6(t,r,a){const s=t.slice(),[u]=s.splice(r,1);return s.splice(a,0,u),s}function Y_({open:t,list:r,onSelect:a,onClose:s}){const[u,d]=C.useState("");C.useEffect(()=>{t||d("")},[t]);const f=C.useMemo(()=>r.map(jc),[r]),p=C.useMemo(()=>new Set(f),[f]),[b,g]=C.useState([]);C.useEffect(()=>{const D=localStorage.getItem(lp),A=D?JSON.parse(D):[],$=A.filter(j=>p.has(j)),P=[...$,...f.filter(j=>!$.includes(j))];g(P),JSON.stringify(P)!==JSON.stringify(A)&&localStorage.setItem(lp,JSON.stringify(P))},[f,p]);const _=D=>{g(D),localStorage.setItem(lp,JSON.stringify(D))},x=C.useMemo(()=>{const D=new Map(r.map($=>[jc($),$])),A=[];for(const $ of b){const P=D.get($);P&&A.push(P)}return D.forEach(($,P)=>{b.includes(P)||A.push($)}),A},[r,b]),S=C.useMemo(()=>{const D=u.trim().toLowerCase();return D?x.filter(A=>Zf(A).toLowerCase().includes(D)):x},[x,u]),T=u.trim()==="",M=D=>{const{destination:A,source:$}=D;if(!A||!T||A.index===$.index)return;const P=S.map(jc),j=d6(P,$.index,A.index),O=x.map(jc).filter(et=>!P.includes(et)),Y=[...j,...O].filter((et,it,V)=>V.indexOf(et)===it);_(Y)};return y.jsxs(y.Fragment,{children:[y.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),y.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:s}),y.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${t?"translate-y-0":"translate-y-full"}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:"명식 선택"}),y.jsx("button",{onClick:s,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:"닫기"})]}),y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("input",{placeholder:"이름 검색",value:u,onChange:D=>d(D.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!T&&y.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"검색 중엔 순서 변경 불가"})]}),y.jsx(tu,{onDragEnd:M,children:y.jsx(Vo,{droppableId:"peopleList",children:D=>y.jsxs("ul",{ref:D.innerRef,...D.droppableProps,className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:[S.map((A,$)=>{const P=String(jc(A)),j=gh(A);return y.jsx(il,{draggableId:P,index:$,children:B=>y.jsx("li",{ref:B.innerRef,...B.draggableProps,...B.dragHandleProps,onClick:()=>a(A),className:"w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 cursor-grab select-none active:cursor-grabbing",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"mr-2 select-none",children:"☰"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:Zf(A)}),y.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:Pc(j)})]})]})})},P)}),D.placeholder]})})})]})]})}function cp({label:t,gzHour:r,gzDay:a,gzMonth:s,gzYear:u,dayStem:d,cardSettings:f,sinsalBaseBranch:p,sinsalMode:b,sinsalBloom:g}){const _=D=>{const A=f.showSibiUnseong?On(d,D):"",$=f.showSibiSinsal?Zn({baseBranch:p,targetBranch:D,era:u6(b),gaehwa:!!g}):"";return{unseongText:A||void 0,shinsalText:$||void 0}},x=Ie(r).charAt(1),S=Ie(a).charAt(1),T=Ie(s).charAt(1),M=Ie(u).charAt(1);return y.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[y.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:t}),y.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["시주",Ie(r),x],["일주",Ie(a),S],["월주",Ie(s),T],["연주",Ie(u),M]].map(([D,A,$])=>{const{unseongText:P,shinsalText:j}=_($);return y.jsx(Fs,{label:D,gz:A,dayStem:d,settings:ir.getState().settings,unseongText:P,shinsalText:j,hideBranchSipSin:!0,size:"sm"},`${t}-${D}`)})})]})}function f6(t){if(!t)return"";const r=t,a=p=>typeof r[p]=="string"?String(r[p]).trim().toLowerCase():null,s=p=>typeof r[p]=="boolean"?r[p]:null,u=[a("gender"),a("sex"),a("genderType"),a("성별"),a("sexType"),a("g")].filter(p=>!!p);for(const p of u){if(["남","남자","male","m","boy","man"].includes(p))return"남";if(["여","여자","female","f","girl","woman"].includes(p))return"여"}const d=s("isMale"),f=s("isFemale");return d===!0?"남":f===!0?"여":""}function Zs({label:t,data:r,mode:a,effectiveDate:s,onPick:u}){const d=ir(O=>O.settings),f=C.useMemo(()=>r?gh(r):null,[r]),p=Ie(f?Yr(f,"조자시/야자시"):void 0),b=Ie(f?se(f,"조자시/야자시"):void 0),g=Ie(f?Me(f):void 0),_=Ie(f?le(f):void 0),x=C.useMemo(()=>b.charAt(0)||"갑",[b]),S=f,T=C.useMemo(()=>{const O=r?.birthPlace;return!O||O.name==="모름"||!O.lon?127.5:O.lon},[r]),M=r?.mingSikType??"조자시/야자시",D=C.useMemo(()=>{const O=S?se(S,M).charAt(1):b.charAt(1)||"子",Y=S?le(S,T).charAt(1):_.charAt(1)||"子";return(d.sinsalBase??"일지")==="일지"?O:Y},[d.sinsalBase,S,M,T,b,_]),A=C.useMemo(()=>{if(a!=="묘운"||!f||!r)return null;try{const O=z2(f,p,r.dir,120,r.mingSikType),Y=H2(O,b,r.dir,r.DayChangeRule),et=eu(f,g,r.dir,120,r?.birthPlace?.lon??127.5),it=I2(et,_,r.dir,r.DayChangeRule,f),V=s;return{si:Ie(af(O.events,V)?.gz,p),il:Ie(af(Y.events,V)?.gz,b),wl:Ie(af(et.events,V)?.gz,g),yn:Ie(af(it.events,V)?.gz,_)}}catch{return null}},[a,f,p,b,g,_,s,r]),$=C.useMemo(()=>{if(a!=="실시간")return null;const O=s;return{si:Ie(Yr(O,"조자시/야자시")),il:Ie(se(O,"조자시/야자시")),wl:Ie(Me(O)),yn:Ie(le(O))}},[a,s]),P=r?Zf(r):"",j=f?Pc(f):"",B=r?f6(r):"";return r?y.jsxs("div",{className:"space-y-2",children:[y.jsx("button",{onClick:u,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"명식 바꾸기",children:"명식 선택"}),y.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[y.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:t}),y.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:P}),B&&y.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:["· ",B]}),j&&y.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:j})]}),a==="원국"&&y.jsx(cp,{label:"원국",gzHour:p,gzDay:b,gzMonth:g,gzYear:_,dayStem:x,cardSettings:d,sinsalBaseBranch:D,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),a==="묘운"&&A&&y.jsx(cp,{label:"묘운",gzHour:A.si,gzDay:A.il,gzMonth:A.wl,gzYear:A.yn,dayStem:x,cardSettings:d,sinsalBaseBranch:D,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),a==="실시간"&&$&&y.jsx(cp,{label:"실시간",gzHour:$.si,gzDay:$.il,gzMonth:$.wl,gzYear:$.yn,dayStem:x,cardSettings:d,sinsalBaseBranch:D,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom})]}):y.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:y.jsx("button",{onClick:u,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:"명식 선택하기"})})}function h6({people:t=[]}){const[r,a]=C.useState(),[s,u]=C.useState(),[d,f]=C.useState(!1),[p,b]=C.useState(!1),g=C.useRef(new Date),[_,x]=C.useState(()=>o6(g.current)),S=C.useRef(Z_(_)??g.current),T=C.useMemo(()=>{const j=Z_(_);return j&&(S.current=j),S.current},[_]),[M,D]=C.useState(!1),[A,$]=C.useState(!1);function P(j){if(!j)return["甲子","甲子","甲子","甲子"];try{const B=gh(j),O={hour:Ie(Yr(B,"조자시/야자시")),day:Ie(se(B,"조자시/야자시")),month:Ie(Me(B)),year:Ie(le(B))};return[O.year,O.month,O.day,O.hour]}catch{return["甲子","甲子","甲子","甲子"]}}return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[y.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[y.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:"궁합 보기"}),y.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[y.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:d,onChange:j=>f(j.target.checked),className:"accent-indigo-500"}),"묘운 표시"]}),y.jsx("button",{onClick:()=>b(j=>!j),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:p?"실시간 간지 접기":"실시간 간지 펼치기"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[y.jsx(Zs,{label:"원국 A",data:r,mode:"원국",effectiveDate:T,onPick:()=>D(!0)}),y.jsx(Zs,{label:"원국 B",data:s,mode:"원국",effectiveDate:T,onPick:()=>$(!0)}),d&&r&&y.jsx(Zs,{label:"묘운 A",data:r,mode:"묘운",effectiveDate:T,onPick:()=>D(!0)}),d&&s&&y.jsx(Zs,{label:"묘운 B",data:s,mode:"묘운",effectiveDate:T,onPick:()=>$(!0)}),p&&r&&y.jsx(Zs,{label:"실시간 A",data:r,mode:"실시간",effectiveDate:T,onPick:()=>D(!0)}),p&&s&&y.jsx(Zs,{label:"실시간 B",data:s,mode:"실시간",effectiveDate:T,onPick:()=>$(!0)})]}),r&&s&&y.jsx("div",{className:"mt-4",children:y.jsx(t6,{pillarsA:P(r),pillarsB:P(s)})}),y.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[y.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"날짜/시간 선택"}),y.jsx("input",{type:"datetime-local",value:_,onChange:j=>x(j.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),y.jsx(Y_,{open:M,list:t||[],onSelect:j=>{a(j),D(!1)},onClose:()=>D(!1)}),y.jsx(Y_,{open:A,list:t||[],onSelect:j=>{u(j),$(!1)},onClose:()=>$(!1)})]})}function m6(){return y.jsx("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700 ",children:y.jsx("p",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright © 2025 Hwarim96. All rights reserved."})})}function p6({ms:t}){const{date:r,setDate:a}=Fn();C.useEffect(()=>{a(new Date)},[t]);const s=hg(t),u=C.useMemo(()=>{const p=r??new Date,b=p.getFullYear(),g=String(p.getMonth()+1).padStart(2,"0"),_=String(p.getDate()).padStart(2,"0");return`${b}-${g}-${_}`},[r]),d=p=>{if(!p)return;const[b,g,_]=p.split("-"),x=Number(b),S=Number(g),T=Number(_);if(!Number.isFinite(x)||!Number.isFinite(S)||!Number.isFinite(T))return;const M=r??new Date,D=M.getHours(),A=M.getMinutes(),$=new Date(x,S,0).getDate(),P=Math.min(T,$),j=new Date(x,S-1,P,D,A,0,0);Number.isNaN(j.getTime())||a(j)},f=C.useMemo(()=>{const p=t.ganji,b=s?.dae?.gz?`${s.dae.gz}대운`:null,g=s?.se?.gz?`${s.se.gz}세운`:null,_=s?.wol?.gz?`${s.wol.gz}월운`:null,x=[b,g,_].filter(Boolean).join(" ");return[p,x].filter(Boolean).join(" + ")},[t,s]);return y.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[f&&y.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:f}),y.jsx("div",{className:"grid grid-cols-1 gap-3",children:y.jsxs("label",{className:"w-full flex justify-center items-center",children:[y.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:"날짜"}),y.jsx("input",{type:"date",value:u,onChange:p=>d(p.target.value),min:"1900-01-01",max:"2100-12-31",className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const g6=["23:00–00:59","01:00–02:59","03:00–04:59","05:00–06:59","07:00–08:59","09:00–10:59","11:00–12:59","13:00–14:59","15:00–16:59","17:00–18:59","19:00–20:59","21:00–22:59"];function b6(t){const r=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}-${a}-${s}`}function of(t,r){return t&&r?`${t}${r}`:null}function q_(t){return!!(t.yearStem&&t.yearBranch&&t.monthStem&&t.monthBranch&&t.dayStem&&t.dayBranch&&t.hourStem&&t.hourBranch)}const y6={갑:0,을:1,병:2,정:3,무:4,기:5,경:6,신:7,임:8,계:9},v6=Ur.천간,x6=["인","묘","진","사","오","미","신","유","술","해","자","축"];function F_(t,r){let a;t==="갑"||t==="기"?a="병":t==="을"||t==="경"?a="무":t==="병"||t==="신"?a="경":t==="정"||t==="임"?a="임":a="갑";const s=y6[a],u=x6.indexOf(r),d=(s+(u>=0?u:0))%10;return v6[d]}const _6=Ur.지지.slice(),S6=["인","묘","진","사","오","미","신","유","술","해","자","축"];function Ys(t,r){const s=(r==="자시"?u1:Pp)[t],u=r==="자시"?_6:S6,d=Ur.지지.reduce((f,p)=>(f[p]="",f),{});for(let f=0;f<12;f++)d[u[f]]=s[f];return d}const w6={갑:"양",을:"음",병:"양",정:"음",무:"양",기:"음",경:"양",신:"음",임:"양",계:"음"},T6={자:"양",축:"음",인:"양",묘:"음",진:"양",사:"음",오:"양",미:"음",신:"양",유:"음",술:"양",해:"음"};function E6({open:t,onClose:r,onSave:a}){const{settings:s}=ir(),[u,d]=C.useState(null),[f,p]=C.useState({}),[b,g]=C.useState(null),[_,x]=C.useState(!0),[S,T]=C.useState(!0),[M,D]=C.useState("자시"),[A,$]=C.useState("male"),[P,j]=C.useState(null),[B,O]=C.useState(!1),[,Y]=C.useState(null),[et,it]=C.useState(null),[V,X]=C.useState({gender:"남자",mingSikType:"조자시/야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[q,U]=C.useState(!1),[J,rt]=C.useState(null),ct=dt=>{rt(dt),setTimeout(()=>rt(null),1800)},[I,at]=C.useState(!1),[st,xt]=C.useState(!1);C.useEffect(()=>{if(I){const dt=setTimeout(()=>at(!1),2e3);return()=>clearTimeout(dt)}},[I]),C.useEffect(()=>{if(st){const dt=setTimeout(()=>xt(!1),2e3);return()=>clearTimeout(dt)}},[st]);const k=()=>{const dt=et!==null?P?.filter((Kr,Xn)=>Xn===et)??[]:[];if(dt.length===0){alert("선택된 항목이 없습니다.");return}const Ot=M==="자시"?"조자시/야자시":"인시",bt=dt[0],[qt,be,ce]=bt.date.split("-").map(Number),Zt={자:{hh:0,mi:0},축:{hh:2,mi:0},인:{hh:4,mi:0},묘:{hh:6,mi:0},진:{hh:8,mi:0},사:{hh:10,mi:0},오:{hh:12,mi:0},미:{hh:14,mi:0},신:{hh:16,mi:0},유:{hh:18,mi:0},술:{hh:20,mi:0},해:{hh:22,mi:0}};let _e=0,Pe=0;if(bt.hourSlots.length>0){const Kr=bt.hourSlots[0].branch,Xn=Zt[Kr];Xn&&(_e=Xn.hh,Pe=Xn.mi)}const nn=new Date(qt,be-1,ce,_e,Pe),ze=new Date(nn.getTime()-30*6e4),Ni=ze.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),di=A==="male"?"남":"여";function sa(Kr,Xn){const gl=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(Kr),so=Xn==="남";return gl?so?"forward":"backward":so?"backward":"forward"}const Fr=sa(bt.year.charAt(0),di),Vn=le(ze,127.5),gn=Me(ze,127.5),Vr=se(ze,Ot),Kn=Yr(ze,Ot),pl=[`원국 : ${Vn}년 ${gn}월 ${Vr}일`,Kn?`${Kn}시`:null].filter(Boolean).join(" "),oo={id:y1(),name:"커스텀명식",birthDay:`${qt}${String(be).padStart(2,"0")}${String(ce).padStart(2,"0")}`,birthTime:`${String(_e).padStart(2,"0")}${String(Pe).padStart(2,"0")}`,gender:di,birthPlace:q?{name:"커스텀명식",lat:0,lon:127.5}:V.birthPlace??{name:"커스텀명식",lat:0,lon:127.5},relationship:V.relationship??"",memo:V.memo??"",folder:al(V.folder),mingSikType:V.mingSikType??"조자시/야자시",DayChangeRule:V.mingSikType==="인시"?"인시일수론":"자시일수론",calendarType:V.calendarType??"solar",yearGZ:bt.year,monthGZ:bt.month,dayGZ:bt.day,hourGZ:bt.hour,ganjiText:`원국 : ${bt.year}년 ${bt.month}월 ${bt.day}일 ${bt.hour}시`,ganji:pl,dayStem:bt.day.charAt(0),dateObj:nn,corrected:ze,correctedLocal:Ni,dir:Fr};Wc.flushSync(()=>{fl.getState().add(oo)}),a(oo),rt("저장 완료!"),X({gender:"남자",mingSikType:"조자시/야자시",calendarType:"solar"}),U(!1),r()},H=_||S,F=!!(f.yearStem&&f.yearBranch),tt=!!(f.dayStem&&f.dayBranch),K=!H||F||tt,G=!!b&&b.endsWith("Stem"),Z=!!b&&b.endsWith("Branch");function mt(dt){return dt==="yearStem"?"yearBranch":dt==="yearBranch"?"yearStem":dt==="monthStem"?"monthBranch":dt==="monthBranch"?"monthStem":dt==="dayStem"?"dayBranch":dt==="dayBranch"?"dayStem":dt==="hourStem"?"hourBranch":"hourStem"}const vt=C.useCallback((dt,Ot)=>{if(!_||!dt.yearStem)return dt;const bt={...dt},qt=Pp[dt.yearStem];if(!qt)return bt;const be=Zt=>qt.filter(_e=>_e.startsWith(Zt)),ce=Zt=>qt.find(_e=>_e.endsWith(Zt));if(Ot==="monthStem"&&bt.monthStem){const Zt=be(bt.monthStem).map(_e=>_e.slice(1));return Zt.length>=2?(d(Zt.slice(0,2)),g("monthBranch"),bt):(Zt.length===1&&(bt.monthBranch=Zt[0],d(null)),bt)}if(Ot==="monthBranch"&&bt.monthBranch){const Zt=ce(bt.monthBranch);return Zt&&(bt.monthStem=Zt.slice(0,1),d(null)),bt}if(Ot==="yearStem"){if(bt.monthStem&&!bt.monthBranch){const Zt=be(bt.monthStem).map(_e=>_e.slice(1));if(Zt.length>=2)return d(Zt.slice(0,2)),g("monthBranch"),bt;Zt.length===1&&(bt.monthBranch=Zt[0])}else if(bt.monthBranch&&!bt.monthStem){const Zt=ce(bt.monthBranch);Zt&&(bt.monthStem=Zt.slice(0,1))}}return bt},[_,g]),ot=C.useCallback((dt,Ot)=>{if(!S||!dt.dayStem)return dt;const bt={...dt},qt=Ys(dt.dayStem,M),be=Zt=>Object.entries(qt).find(([,_e])=>_e.startsWith(Zt)),ce=Zt=>qt[Zt];if(Ot==="hourStem"&&bt.hourStem){const Zt=be(bt.hourStem);return Zt&&(bt.hourBranch=Zt[0]),bt}if(Ot==="hourBranch"&&bt.hourBranch){const Zt=ce(bt.hourBranch);return Zt&&(bt.hourStem=Zt.slice(0,1)),bt}if(Ot==="dayStem"){if(bt.hourStem&&!bt.hourBranch){const Zt=be(bt.hourStem);Zt&&(bt.hourBranch=Zt[0])}else if(bt.hourBranch&&!bt.hourStem){const Zt=ce(bt.hourBranch);Zt&&(bt.hourStem=Zt.slice(0,1))}}return bt},[S,M]),St=C.useCallback(dt=>!_||!dt.yearStem?!1:dt.monthBranch&&dt.monthStem?F_(dt.yearStem,dt.monthBranch)!==dt.monthStem:!1,[_]),Ct=C.useCallback(dt=>{if(!S||!dt.dayStem)return!1;if(dt.hourBranch&&dt.hourStem){const bt=Ys(dt.dayStem,M)[dt.hourBranch];return bt?bt.slice(0,1)!==dt.hourStem:!1}return!1},[S,M]);C.useEffect(()=>{if(!(!S||!f.dayStem||!f.hourBranch)&&(f.hourBranch==="자"||f.hourBranch==="축")){const Ot=Ys(f.dayStem,M)[f.hourBranch];Ot&&p(bt=>({...bt,hourStem:Ot.slice(0,1)}))}},[M,S,f.dayStem,f.hourBranch]);const At=C.useCallback(dt=>{if(!b)return;if(!K&&!(b==="yearStem"||b==="yearBranch"||b==="dayStem"||b==="dayBranch")){Y("월/시두법 사용 중: 연주 또는 일주부터 입력하세요."),setTimeout(()=>Y(null),1500);return}let bt={...f,[b]:dt};(b==="yearStem"||b==="monthStem"||b==="monthBranch")&&(bt=vt(bt,b)),(b==="dayStem"||b==="hourStem"||b==="hourBranch")&&(bt=ot(bt,b)),p(bt);let qt=!1;St(bt)&&(x(!1),qt=!0),Ct(bt)&&(T(!1),qt=!0),qt&&ct("월/시두법에 맞지 않습니다. 체크가 해제 됩니다."),p(bt),j(null);const be=mt(b);g(be),setTimeout(()=>{const ce={...bt};if(ce.yearStem&&ce.yearBranch&&!ce.monthStem){g("monthStem");return}if(ce.monthStem&&ce.monthBranch&&!ce.dayStem){g("dayStem");return}if(ce.dayStem&&ce.dayBranch&&!ce.hourStem){g("hourStem");return}},0)},[b,f,K,vt,ot,St,Ct]),jt=q_(f),Tt=C.useCallback(async()=>{if(j(null),Y(null),!q_(f)){Y("연·월·일·시 간지를 모두 선택하세요.");return}const dt=of(f.yearStem,f.yearBranch),Ot=of(f.monthStem,f.monthBranch),bt=of(f.dayStem,f.dayBranch),qt=of(f.hourStem,f.hourBranch),be=300,ce=[];O(!0);try{const Zt=new Date(1900,0,1,12,0,0),_e=new Date(2100,11,31,12,0,0);for(let Pe=Zt.getTime();Pe<=_e.getTime();Pe+=24*3600*1e3){const nn=new Date(Pe),ze=M==="자시"?"조자시/야자시":"인시",Ni=le(nn);if(Ni!==dt)continue;const di=Me(nn);if(di!==Ot)continue;const sa=se(nn,ze);if(sa!==bt)continue;const Fr=Ys(f.dayStem,M),Vn=[];for(let gn=0;gn<12;gn++){const Vr=Ur.지지[gn];Fr[Vr]===qt&&Vn.push({branch:Vr,time:g6[gn]})}if(Vn.length!==0&&(ce.push({date:b6(nn),year:Ni,month:di,day:sa,hour:qt,hourSlots:Vn}),ce.length>=be))break}ce.length===0&&Y("일치하는 날짜가 없습니다. (범위: 1900–2100)"),j(ce)}catch(Zt){Zt instanceof Error?Y(Zt.message):Y(String(Zt))}finally{O(!1)}},[f,M]),Bt=()=>{p({}),j(null),Y(null),g(null)},It=dt=>{j(null),dt&&p(Ot=>{const bt={...Ot};return bt.yearStem&&bt.monthBranch&&(bt.monthStem=F_(bt.yearStem,bt.monthBranch)),bt}),x(dt)},Yt=dt=>{j(null),dt&&p(Ot=>{const bt={...Ot};if(bt.dayStem&&bt.hourBranch){const be=Ys(bt.dayStem,M)[bt.hourBranch];be&&(bt.hourStem=be.slice(0,1))}return bt}),T(dt)};if(!t)return null;const Dt=dt=>{if(j(null),D(dt),S&&f.dayStem&&f.hourBranch&&(f.hourBranch==="자"||f.hourBranch==="축")){const bt=Ys(f.dayStem,dt)[f.hourBranch];bt&&p(qt=>({...qt,hourStem:bt.slice(0,1)}))}};return y.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:y.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[y.jsx("button",{onClick:r,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"닫기",children:y.jsx(vg,{size:20})}),y.jsx("h2",{className:"text-lg font-semibold mb-4",children:"커스텀 명식 만들기"}),y.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-medium mb-2",children:"월/시두법"}),y.jsxs("span",{className:"mr-3 chkContainer",children:[y.jsx("input",{type:"checkbox",id:"useWoldu",checked:_,onChange:dt=>It(dt.target.checked)}),y.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:"월두법 사용"})]}),y.jsxs("span",{className:"chkContainer",children:[y.jsx("input",{type:"checkbox",id:"useSidu",checked:S,onChange:dt=>Yt(dt.target.checked)}),y.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:"시두법 사용"})]})]}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium mb-2",children:"시간 기준"}),y.jsxs("span",{className:"mr-3 chkContainer",children:[y.jsx("input",{type:"radio",id:"jasi",checked:M==="자시",onChange:()=>Dt("자시")}),y.jsx("label",{htmlFor:"jasi",className:"ml-1",children:"자시"})]}),y.jsxs("span",{className:"chkContainer",children:[y.jsx("input",{type:"radio",id:"insi",checked:M==="인시",onChange:()=>Dt("인시")}),y.jsx("label",{htmlFor:"insi",className:"ml-1",children:"인시"})]})]}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium mb-2",children:"성별"}),y.jsxs("span",{className:"mr-3 chkContainer",children:[y.jsx("input",{type:"radio",id:"male",checked:A==="male",onChange:()=>$("male")}),y.jsx("label",{htmlFor:"male",className:"ml-1",children:"남"})]}),y.jsxs("span",{className:"chkContainer",children:[y.jsx("input",{type:"radio",id:"female",checked:A==="female",onChange:()=>$("female")}),y.jsx("label",{htmlFor:"female",className:"ml-1",children:"여"})]})]})]}),H&&!K&&y.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["월/시두법 사용 중입니다. ",y.jsx("br",{}),y.jsx("b",{children:"연주"})," 또는 ",y.jsx("b",{children:"일주"}),"부터 먼저 입력하세요."]}),y.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem","시간"],["dayStem","일간"],["monthStem","월간"],["yearStem","연간"],["hourBranch","시지"],["dayBranch","일지"],["monthBranch","월지"],["yearBranch","연지"]].map(([dt,Ot])=>{const bt=!K&&!(dt==="yearStem"||dt==="yearBranch"||dt==="dayStem"||dt==="dayBranch"),qt=b===dt;return y.jsxs("button",{onClick:()=>!bt&&g(dt),disabled:bt,className:["border rounded p-2 text-center cursor-pointer",qt?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",bt?"opacity-50 cursor-not-allowed":""].join(" "),children:[Ot,y.jsx("br",{}),y.jsx("span",{className:"font-bold",children:f[dt]??"-"})]},dt)})}),u&&u.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-sm mb-1",children:"월지 후보를 선택하세요:"}),y.jsx("div",{className:"flex gap-2",children:u.map(dt=>y.jsx("button",{onClick:()=>{let Ot={...f,monthBranch:dt};d(null),Ot=vt(Ot,"monthBranch"),p(Ot),g("dayStem")},className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:dt},dt))})]}),y.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:b?y.jsxs("div",{className:"w-full",children:[G&&y.jsxs("div",{children:[y.jsx("p",{className:"font-medium mb-2",children:"천간"}),y.jsx("div",{className:"grid grid-cols-5 gap-2",children:Ur.천간.map(dt=>y.jsx("button",{onClick:()=>At(dt),className:`border rounded px-2 py-1 cursor-pointer ${Er(dt,"stem",s)}`,children:dt},dt))})]}),Z&&y.jsxs("div",{children:[y.jsx("p",{className:"font-medium mb-2",children:"지지"}),y.jsx("div",{className:"grid grid-cols-6 gap-2",children:Ur.지지.filter(dt=>{const Ot=mt(b),bt=f[Ot];return bt?T6[dt]===w6[bt]:!0}).map(dt=>y.jsx("button",{onClick:()=>At(dt),className:`border rounded px-2 py-1 cursor-pointer ${Er(dt,"branch",s)}`,children:dt},dt))})]})]}):y.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"간지를 넣고 싶은 자리부터 클릭하세요."})}),y.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[y.jsx("span",{children:y.jsx("button",{type:"button",onClick:()=>{if(!jt){at(!0);return}Tt()},disabled:B,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:B?"검색 중...":"검색"})}),y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx("button",{type:"button",onClick:Bt,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"초기화"}),y.jsx("button",{type:"button",onClick:()=>{if((et!==null?P?.filter((Ot,bt)=>bt===et)??[]:[]).length===0){xt(!0);return}k()},className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"저장하기"})]})]}),y.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:P?P.length===0?y.jsx("div",{className:"p-4 text-neutral-500",children:"일치하는 날짜가 없습니다."}):y.jsxs("table",{className:"w-full text-xs",children:[y.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-1 text-center",children:"선택"}),y.jsx("th",{className:"p-1 text-center",children:"날짜"}),y.jsx("th",{className:"p-1 text-center",children:"연"}),y.jsx("th",{className:"p-1 text-center",children:"월"}),y.jsx("th",{className:"p-1 text-center",children:"일"}),y.jsx("th",{className:"p-1 text-center",children:"시"}),y.jsx("th",{className:"p-1 text-center",children:"성별"})]})}),y.jsx("tbody",{children:P.map((dt,Ot)=>y.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[y.jsx("td",{className:"p-1 text-center",children:y.jsxs("span",{className:"chkContainer",children:[y.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${Ot}`,checked:et===Ot,onChange:()=>it(Ot)}),y.jsx("label",{htmlFor:`selectRow-${Ot}`,children:"ON"})]})}),y.jsx("td",{className:"p-1 text-center",children:dt.date}),y.jsx("td",{className:"p-1 text-center",children:dt.year}),y.jsx("td",{className:"p-1 text-center",children:dt.month}),y.jsx("td",{className:"p-1 text-center",children:dt.day}),y.jsx("td",{className:"p-1 text-center",children:y.jsx("div",{className:"flex flex-wrap gap-1",children:dt.hourSlots.map((bt,qt)=>y.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:y.jsx("b",{children:bt.branch})},qt))})}),y.jsx("td",{className:"p-1 text-center",children:A==="male"?"남":"여"})]},`${dt.date}-${Ot}`))})]}):y.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"조건을 입력하고 “검색”을 눌러주세요."})}),J&&y.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:y.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:J})}),I&&y.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:y.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:"연·월·일·시 4간지를 모두 채워주세요."})}),st&&y.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:y.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["선택항목이 없습니다.",y.jsx("br",{}),"검색한 뒤, 체크박스로 선택하세요."]})})]})})}const M6=Xc(t=>({shinsalBase:"일지",shinsalEra:"현대",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:r=>t({shinsalBase:r}),setShinsalEra:r=>t({shinsalEra:r}),setShinsalGaehwa:r=>t({shinsalGaehwa:r}),setHiddenStemMode:r=>t({hiddenStemMode:r})}));function Yf(t){if(!t)return["","","",""];let r=Number(t.birthDay?.slice(0,4)??2e3),a=Number(t.birthDay?.slice(4,6)??1),s=Number(t.birthDay?.slice(6,8)??1);if(t.calendarType==="lunar"){const j=si(r,a,s);r=j.getFullYear(),a=j.getMonth()+1,s=j.getDate()}const u=!t.birthTime||t.birthTime==="모름",d=u?4:Number(t.birthTime.slice(0,2)),f=u?30:Number(t.birthTime.slice(2,4)),p=new Date(r,a-1,s,d,f,0,0),b=!t.birthPlace||t.birthPlace.name==="모름"||!t.birthPlace.lon?127.5:t.birthPlace.lon,g=Qo(p,b,u),_=t.mingSikType??"조자시/야자시",x=le(g,b),S=Me(g,b),T=se(g,_),M=u?null:Yr(g,_),D=Ft(x),A=Ft(S),$=Ft(T),P=M?Ft(M):"";return[D,A,$,P]}function N6(t){const r=new Date(t.corrected),a=Yf(t),s=a[0].charAt(0),d=["갑","병","무","경","임"].includes(s),f=t.gender==="남자",p=f&&d||!f&&!d?"forward":"backward",b=eu(r,a[1],p,120,t.birthPlace?.lon??127.5),g=b.firstChange;if(!g)return[];const _=[];let x=Ft(b.events[0]?.gz??a[1]);for(let S=0;S<10;S++){const T=new Date(g);if(T.setFullYear(T.getFullYear()+S*10),S>0){const M=b.events[S];M&&(x=Ft(M.gz))}_.push(`${T.getFullYear()}년 ${String(T.getMonth()+1).padStart(2,"0")}월 ${x} 대운 시작`)}return _}function A6(t,r){return t[3]&&t[3]!==""?["연","월","일",!r.birthTime||r.birthTime==="모름"?"시(예측)":"시"]:["연","월","일"]}const sf={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},lf={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},qf={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},cf={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},D6=["갑","병","무","경","임"];function V_(t){return D6.includes(t)}const j6={목:"화",화:"토",토:"금",금:"수",수:"목"},k6={목:"토",화:"금",토:"수",금:"목",수:"화"},O6={토:"목",금:"화",수:"토",목:"금",화:"수"},C6={화:"목",토:"화",금:"토",수:"금",목:"수"};function $S(t){const r={};for(const[a,s]of Object.entries(t))if(Array.isArray(s))s.length>0&&(r[a]=s);else if(typeof s=="object"&&s!==null){const u=$S(s);Object.keys(u).length>0&&(r[a]=u)}else s!=null&&s!==""&&(r[a]=s);return r}function L6(t){return JSON.stringify(t,null,2).replace(/\[\s+/g,"[").replace(/\s+\]/g,"]").replace(/\s*,\s*/g,",")}function Hr(t,r){if(r==null||r==="")return"";const a=typeof r=="object"?L6($S(r)):String(r);return`## ${t}
${a}`}function Cp(t){if(!t)return null;const r=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(r))return r;if(sf[r])return sf[r];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(r))return cf[r]??null;if(lf[r])return cf[lf[r]]??null;const a=r.charAt(0);return sf[a]?sf[a]:["갑","을","병","정","무","기","경","신","임","계"].includes(a)?a:lf[a]?cf[lf[a]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(a)?cf[a]??null:null}function B6(t,r){const a=qf[t],s=qf[r];if(!a||!s)return"비견";let u;s===a?u="비견":s===j6[a]?u="식신":s===k6[a]?u="편재":s===O6[a]?u="편관":s===C6[a]?u="편인":u="비견";const d=V_(t)===V_(r);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function HS(t){const r=Object.entries(t),a=r.reduce((g,[,_])=>g+(_>0?_:0),0);if(a<=0)return Object.fromEntries(r.map(([g])=>[g,0]));const s=r.map(([g,_])=>[g,(_>0?_:0)*100/a]),u=s.map(([g,_])=>[g,Math.floor(_)]);let d=u.reduce((g,[,_])=>g+_,0);const f=s.map(([g,_])=>[g,_-Math.floor(_)]).sort((g,_)=>_[1]-g[1]),p=Object.fromEntries(u.map(([g,_])=>[g,_]));let b=0;for(;d<100&&b<f.length;)p[f[b][0]]+=1,d+=1,b+=1;return p}function R6(t){const r={};for(const[a,s]of Object.entries(t??{})){if(s<=0)continue;const u=Cp(a);u&&(r[u]=(r[u]??0)+s)}return r}function P6(t){if(!t)return[];const r=Cp(t.charAt(0)),a=Cp(t.charAt(1));return[r,a].filter(Boolean)}function uf(t){const r=P6(t),a={};for(const s of r)a[s]=(a[s]??0)+1;return a}const z6={natal:50,dae:30,se:20,wol:7,il:3};function $6(t){const r={};for(const{kind:s,bare:u}of t){const d=z6[s]??0;if(d<=0)continue;const f=HS(u);for(const[p,b]of Object.entries(f))r[p]=(r[p]??0)+b*d}const a=Object.values(r).reduce((s,u)=>s+u,0);if(a>0)for(const s of Object.keys(r))r[s]=r[s]/a*100;return r}function H6(t,r){const a={목:0,화:0,토:0,금:0,수:0};for(const[s,u]of Object.entries(t)){const d=r[s];d&&(a[d]+=u)}return a}function I6(t,r){const a={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,u]of Object.entries(t)){if(u<=0)continue;const d=B6(r,s);a[d]+=u}return a}function G6(t){return{비겁:t.비견+t.겁재,식상:t.식신+t.상관,재성:t.정재+t.편재,관성:t.정관+t.편관,인성:t.정인+t.편인}}function U6(t,r,a){const s=R6(t.perStemElementScaled),u=r!=="원국"&&a?.dae?uf(a.dae):{},d=(r==="세운"||r==="월운"||r==="일운")&&a?.se?uf(a.se):{},f=(r==="월운"||r==="일운")&&a?.wol?uf(a.wol):{},p=r==="일운"&&a?.il?uf(a.il):{},b=$6([{kind:"natal",bare:s},{kind:"dae",bare:u},{kind:"se",bare:d},{kind:"wol",bare:f},{kind:"il",bare:p}]),g=HS(b),_=H6(g,qf),x=I6(g,t.dayStem),S=G6(x);return{perStemAugBare:g,elementPercent:_,totalsSub:x,totalsMain:S}}function K_(t,r){const a={목:"화",화:"토",토:"금",금:"수",수:"목"},s={목:"토",화:"금",토:"수",금:"목",수:"화"},u={토:"목",금:"화",수:"토",목:"금",화:"수"},d={화:"목",토:"화",금:"토",수:"금",목:"수"};return r===t?"비겁":r===a[t]?"식상":r===s[t]?"재성":r===u[t]?"관성":r===d[t]?"인성":""}function Z6(t){const{ms:r,natal:a,chain:s,basis:u,tab:d,unified:f,percent:p,category:b}=t,g=[Ft(a[0]??""),Ft(a[1]??""),Ft(a[2]??""),Ft(a[3]??"")],_=N6(r).slice(0,10),x=qs({natal:g,daewoon:d!=="원국"?s?.dae??void 0:void 0,sewoon:d==="세운"||d==="월운"||d==="일운"?s?.se??void 0:void 0,wolwoon:d==="월운"||d==="일운"?s?.wol??void 0:void 0,ilwoon:d==="일운"?s?.il??void 0:void 0}),S=Cc({natal:g,daewoon:d!=="원국"?s?.dae??void 0:void 0,sewoon:d==="세운"||d==="월운"||d==="일운"?s?.se??void 0:void 0,wolwoon:d==="월운"||d==="일운"?s?.wol??void 0:void 0,ilwoon:d==="일운"?s?.il??void 0:void 0}),{shinsalEra:T,shinsalGaehwa:M,shinsalBase:D}=M6.getState(),A=D==="연지"?g[0]?.charAt(1)??"":g[2]?.charAt(1)??"",$=U6(f,d,s),P=$.elementPercent,j=$.totalsSub,{flags:B}=B4(g,f.elementScoreRaw),O=`${b} (${p.toFixed(1)}%) · ${[`득령 ${B.비견.령||B.겁재.령||B.편인.령||B.정인.령?"인정":"불인정"}`,`득지 ${B.비견.지||B.겁재.지||B.편인.지||B.정인.지?"인정":"불인정"}`,`득세 ${B.비견.세||B.겁재.세?"인정":"불인정"}`].join(", ")}`,Y=!r.birthTime||r.birthTime==="모름";function et(ct){const I=ct.birthDay??"",at=I.slice(0,4),st=I.slice(4,6),xt=I.slice(6,8);let k="";if(ct.corrected instanceof Date&&!isNaN(ct.corrected.getTime())){const H=String(ct.corrected.getHours()).padStart(2,"0"),F=String(ct.corrected.getMinutes()).padStart(2,"0");k=Y?"모름":`${H}:${F}`}return`${at}년 ${st}월 ${xt}일 보정시 ${k}`}function it(ct,I){if(!I)return"(없음)";const at=[];return(ct==="대운"||ct==="세운"||ct==="월운"||ct==="일운")&&I.dae&&at.push(`대운:${Ft(I.dae)}`),(ct==="세운"||ct==="월운"||ct==="일운")&&I.se&&at.push(`세운:${Ft(I.se)}`),(ct==="월운"||ct==="일운")&&I.wol&&at.push(`월운:${Ft(I.wol)}`),ct==="일운"&&I.il&&at.push(`일운:${Ft(I.il)}`),at.length>0?at.join(" / "):"(없음)"}const V=A6(g,r),X=f.dayStem,q=qf[X],U=[`📌 명식: ${r.name??"이름없음"} (${et(r)}) 성별: ${r.gender}`,`원국 ${g[0]}년 ${g[1]}월 ${g[2]}일`+(g[3]?` ${g[3]}시${!r.birthTime||r.birthTime==="모름"?"(시주예측)":""}`:""),`운: ${it(d,s)}`].join(`
`),J=[Hr("대운 리스트 (10개)",_),Hr("신강도",O),Hr("오행강약(퍼센트·원국 기준 고정)",Object.fromEntries(Object.entries(f.natalFixed.elementPercent100).map(([ct,I])=>[`${ct}(${K_(q,ct)})`,I]))),d==="원국"?"오행강약(퍼센트 운 없음)":Hr(`오행강약(퍼센트·탭=${d})`,Object.fromEntries(Object.entries(P).map(([ct,I])=>[`${ct}(${K_(q,ct)})`,I]))),Hr("십신 강약(소분류 10개·탭=원국·합계 100)",f.natalFixed.totalsSub),d==="원국"?"십신 강약(소분류 10개 운 없음)":Hr(`십신 강약(소분류 10개·탭=${d}·합계 100)`,j),Hr("십이운성(원국+운 반영)",d==="원국"?g.map((ct,I)=>!ct||I>=V.length?null:{pos:V[I],gz:ct,unseong:On(g[2]?.charAt(0)??"",ct.charAt(1))}).filter(Boolean):[...g.map((ct,I)=>!ct||I>=V.length?null:{pos:V[I],gz:ct,unseong:On(g[2]?.charAt(0)??"",ct.charAt(1))}).filter(Boolean),...s?.dae?[{pos:"대운",gz:s.dae,unseong:On(g[2]?.charAt(0)??"",s.dae.charAt(1))}]:[],...(d==="세운"||d==="월운"||d==="일운")&&s?.se?[{pos:"세운",gz:s.se,unseong:On(g[2]?.charAt(0)??"",s.se.charAt(1))}]:[],...(d==="월운"||d==="일운")&&s?.wol?[{pos:"월운",gz:s.wol,unseong:On(g[2]?.charAt(0)??"",s.wol.charAt(1))}]:[],...d==="일운"&&s?.il?[{pos:"일운",gz:s.il,unseong:On(g[2]?.charAt(0)??"",s.il.charAt(1))}]:[]].filter(Boolean)),Hr("십이신살(원국+운 반영·설정 적용)",d==="원국"?g.map((ct,I)=>!ct||I>=V.length?null:{pos:V[I],gz:ct,shinsal:Zn({baseBranch:A,targetBranch:ct.charAt(1),era:T,gaehwa:M})}).filter(Boolean):[g.map((ct,I)=>!ct||I>=V.length?null:{pos:V[I],gz:ct,shinsal:Zn({baseBranch:A,targetBranch:ct.charAt(1),era:T,gaehwa:M})}).filter(Boolean),...s?.dae?[{pos:"대운",gz:s.dae,shinsal:Zn({baseBranch:A,targetBranch:s.dae.charAt(1),era:T,gaehwa:M})}]:[],...(d==="세운"||d==="월운"||d==="일운")&&s?.se?[{pos:"세운",gz:s.se,shinsal:Zn({baseBranch:A,targetBranch:s.se.charAt(1),era:T,gaehwa:M})}]:[],...(d==="월운"||d==="일운")&&s?.wol?[{pos:"월운",gz:s.wol,shinsal:Zn({baseBranch:A,targetBranch:s.wol.charAt(1),era:T,gaehwa:M})}]:[],...d==="일운"&&s?.il?[{pos:"일운",gz:s.il,shinsal:Zn({baseBranch:A,targetBranch:s.il.charAt(1),era:T,gaehwa:M})}]:[]].filter(Boolean)),Hr("형충회합(원국)",rS(g.filter((ct,I)=>I<V.length))),Hr("형충회합(운 포함: 탭 연동)",x),d==="원국"?Hr("신살(원국 전용)",{good:Cc({natal:g,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:u}).good,bad:Cc({natal:g,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:u}).bad,meta:Cc({natal:g,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:u}).meta}):Hr(`신살(운 포함·탭=${d})`,S)].join(`

`),rt=[`
너는 명리학 전문 해석가다.  
모든 출력은 한국어로 작성한다.  
AI 특유의 친절함, 긍정적인면은 리셋시킨다.
말투는 따뜻하게 하지만, 냉철한 분석가 모드로 얘기하라.
문체는 ‘전문적이지만 이해하기 쉬운 분석체’로, 감정적인 미화나 추상적 표현은 절대 사용하지 않는다.  
“당신은 빛나는 존재입니다” “운명이 이끄는 대로” 같은 감성 문장, 불필요한 위로나 칭찬은 금지한다.  
그 대신 현실적인 비유와 일상적 예시를 사용한다. (예: “체력은 부족한데 해야 할 일은 많은 사람처럼…” “주변 사람 문제까지 자주 대신 떠안는 구조예요.”)  
모든 문장은 '~예요, ~해요' 체로 끝낸다.  
분석은 **논리적 근거(오행 비율, 신강도, 형충회합, 신살)**를 중심으로 한다.  
비유는 반드시 설명을 명확하게 돕는 경우에만 쓴다.  
각 문단은 ‘관찰 → 구체적 예시 → 결론 요약’의 구조를 따른다.  
마크다운, 리스트, 제목 표시는 사용하지 않는다.  
전체 분량은 최소 4000~5000자 이상으로, 충분히 깊고 구체적으로 서술한다.  

출력은 반드시 다음 6단계 순서로 구성한다.

1단계: 전체적인 큰 흐름  
- 첫 문장은 “그러면, ~님의 사주를 차근히 분석해볼게요.”로 시작한다.  
- 사주의 가장 눈에 띄는 특징 1~2가지를 제시하고, 그것이 실제 성향이나 행동으로 어떻게 드러나는지 현실적인 예시로 설명한다.  
- 감정 표현 없이 객관적이고 논리적인 서술로 성격과 기본 경향을 묘사한다.  

2단계: 오행 강약과 각 요소의 역할  
- 오행 비율과 신강도를 명시하고, 각 기운이 성격·사고·생활 패턴에 미치는 영향을 구체적으로 설명한다.  
- 과잉/부족으로 생길 수 있는 실제 문제를 현실적으로 제시한다.  
- 예: “수 기운이 많으면 생각이 많아지고, 실행이 느려집니다.”  

3단계: 형충회합  
- 충, 합, 형, 해 등을 심리적·행동적 작용 중심으로 해석한다.  
- 예: “충이 있으면 감정 기복이 크고, 관계에서 쉽게 오해가 생깁니다.”  
- ‘운명적 대립’ 같은 표현은 금지하고, 현실적인 관계나 상황으로 풀어낸다.  

4단계: 십이운성과 십이신살  
- 십이운성은 에너지의 ‘활성/쇠퇴’ 단계로 설명한다.  
- 예: “사 단계면 이미 기운이 빠져 실제로 무기력하거나 피로를 잘 느낍니다.”  
- 십이신살은 행동패턴과 연결해 현실적으로 해석한다.  
- 예: “장성살이 많으면 책임감이 강하지만 부담을 크게 느낍니다.”  

5단계: 주요 신살 해석  
- 의미 있는 신살 3~5개를 선정해 각각 장단점을 함께 설명한다.  
- 예: “귀문살은 감정선이 예민하지만 통찰력이 높습니다.”  
- 실제 생활 패턴과 연결해서 해석한다.  

6단계: 종합 운세  
- 현재 대운·세운이 실제로 어떤 영향을 주는지 설명한다.  
- 추상적 ‘좋다/나쁘다’ 대신 구체적인 상황과 태도로 조언한다.  
- 예: “표현력이 늘지만 체력이 약하면 금세 지칠 수 있으니, 페이스 조절이 필요합니다.”  

마지막 단계: 전체적인 종합 정리  
- 3문장으로 요약하며 다음 순서로 마무리한다.  
  1) 성격적 핵심 요약  
  2) 현재 과제나 문제의식  
  3) 현실적인 조언  

출력은 사람의 자연스러운 설명체로 쓰되, 항상 전문적 근거를 유지한다.  
불필요한 감탄사, 주관적 감정어, 추상적 운명론은 절대 포함하지 않는다.

문장은 지나치게 학술적으로 쓰지 말고, 실제 사람의 말투처럼 자연스럽게 이어지게 하세요.
  `].join(`
`);return[U,J,rt].join(`

`)}function Y6({date:t,onChange:r,min:a="1900-01-01",max:s="2100-12-31"}){const u=C.useMemo(()=>{const f=t.getFullYear(),p=String(t.getMonth()+1).padStart(2,"0"),b=String(t.getDate()).padStart(2,"0");return`${f}-${p}-${b}`},[t]),d=f=>{if(!f)return;const[p,b,g]=f.split("-"),_=Number(p),x=Number(b),S=Number(g),T=t.getHours(),M=t.getMinutes(),D=new Date(_,x,0).getDate(),A=Math.min(S,D),$=new Date(_,x-1,A,T,M);Number.isNaN($.getTime())||r($)};return y.jsx("input",{type:"date",value:u,onChange:f=>d(f.target.value),min:a,max:s,className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})}const q6=["원국","대운","세운","월운","일운"],IS={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},GS={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function up(t){if(!t)return"";const r=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),a=r.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(a)return`${a[1]}${a[2]}`;const s=r.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(s){const u=IS[s[1]],d=GS[s[2]];return u&&d?`${u}${d}`:""}return""}function X_(t){return t[0]?.length===2&&t[1]?.length===2&&t[2]?.length===2}function W_(t){const r=Array.isArray(t)?t.slice(0,4):[];for(;r.length<4;)r.push("");return r.map((a,s)=>{if(!a)return"";const u=a.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),d=u.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(d)return`${d[1]}${d[2]}`;const f=u.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return f?`${IS[f[1]]}${GS[f[2]]}`:s<=2?"--":""})}function F6({ms:t,natal:r,chain:a,basis:s,lunarPillars:u,includeTenGod:d=!1}){const{date:f,setDate:p}=Fn(),[b,g]=C.useState("원국"),{yearGZ:_,monthGZ:x,dayGZ:S}=Fn(),T=C.useMemo(()=>({dae:a?.dae??null,se:a?.se??(_?Ft(_):null),wol:a?.wol??(x?Ft(x):null),il:a?.il??(S?Ft(S):null)}),[a,_,x,S]),{manualHour:M}=tl(),D=t.mingSikType??"조자시/야자시",A=C.useMemo(()=>W_(r),[r]),$=C.useMemo(()=>W_(u),[u]),P=C.useMemo(()=>{const F=[...A];return(!F[3]||F[3]==="")&&M&&(F[3]=M.stem+M.branch),F},[A,M]),j=C.useMemo(()=>{const F=[...$];return(!F[3]||F[3]==="")&&M&&(F[3]=M.stem+M.branch),F},[$,M]),B=C.useMemo(()=>{const F=Number(t.birthDay?.slice(0,4)),tt=Number(t.birthDay?.slice(4,6)),K=Number(t.birthDay?.slice(6,8));if(!Number.isFinite(F)||!Number.isFinite(tt)||!Number.isFinite(K))return null;const G=new Date(F,tt-1,K,12,0,0,0),Z=up(le(G)||""),mt=up(Me(G)||""),vt=up(se(G,D)||"");return[Z,mt,vt,""]},[t.birthDay,D]),O=X_(P),Y=X_(j),[et]=C.useState("solar"),it=et==="lunar"?Y?"lunar":O?"solar":"lunar":O?"solar":Y?"lunar":"solar",V=C.useMemo(()=>{const tt=[...it==="lunar"?Y?j:O?P:B??["","","",""]:O?P:Y?j:B??["","","",""]];return(!tt[3]||tt[3]==="")&&M&&(tt[3]=M.stem+M.branch),tt},[it,O,Y,P,j,B,M]),X=C.useMemo(()=>M?M.stem+M.branch:V[3]||"",[M,V]);(!r||r.length===0)&&(r=Yf(t));const q=tl(F=>F.manualHour?F.manualHour.stem+F.manualHour.branch:""),U=C.useMemo(()=>{const F=Yf(t);return q&&q.length===2&&(F[3]=q),F},[t,q]),J=C.useMemo(()=>MS({natal:U,tab:b,chain:a,hourKey:X}),[U,b,a,X]);function rt(F){return ES(F,{criteriaMode:"modern",useHarmonyOverlay:!0})}const ct=rt(U),I=C.useMemo(()=>mg(ct),[ct]),at=C.useMemo(()=>J2(I),[I]),st=C.useMemo(()=>t?Z6({ms:t,natal:U,chain:T,basis:s,tab:b,unified:J,percent:I,category:at}):"",[t,s,d,b,T,J,I,at,U]),[xt,k]=C.useState(!1);async function H(){if(st)try{await navigator.clipboard.writeText(st),k(!0),setTimeout(()=>k(!1),1200)}catch{k(!1)}}return t?y.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[y.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"GPT 프롬프트 제공용"}),y.jsx("button",{onClick:H,className:`px-3 py-1 rounded-md text-xs cursor-pointer ${xt?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:xt?"복사됨!":"프롬프트 복사"})]}),y.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[y.jsx("div",{className:"flex gap-1 flex-wrap",children:q6.map(F=>y.jsx("button",{onClick:()=>{g(F)},className:`px-2 py-1 text-xs rounded-md border cursor-pointer ${b===F?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:F},F))}),y.jsx(Y6,{date:f??new Date,onChange:p})]}),y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[y.jsx("p",{children:"위에 피커로 날짜를 조정할 수 있습니다."}),y.jsx("p",{children:"각 탭에 따라서, 기준이 달라집니다."}),y.jsx("p",{children:"프롬포트를 복사하여 마음껏 커스텀하여, 사용할 수 있습니다."})]}),y.jsx("textarea",{readOnly:!0,value:st,placeholder:"명식을 선택하면 프롬프트가 생성됩니다.",className:"w-full min-h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2"})]}):y.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"⚠️ 명식을 먼저 선택해주세요."})}function V6(t){const r=Fn(u=>u.date),a=Fn(u=>u.rule),s=nu(t);return C.useMemo(()=>{if(!t)return{dae:null,se:null,wol:null,il:null};const u=ch(s,r),d=u>=0?s[u]?.gz??null:null,f=le(r),p=Me(r),b=se(r,a);return{dae:d,se:f,wol:p,il:b}},[t,s,r,a])}function K6(){const{list:t}=fl(),[r,a]=C.useState(t.length>0?t[0].id:""),[s,u]=C.useState(!1),[d,f]=C.useState(!1),[p,b]=C.useState(null),[g,_]=C.useState(!1),[x,S]=C.useState(!1),T=C.useMemo(()=>t.find(O=>O.id===r)??t[0],[t,r]);C.useEffect(()=>{_(!0),S(!1)},[]);const M=()=>{u(!0)},D=C.useMemo(()=>Yf(T),[T]),A=V6(T),[$,P]=C.useState(!1),j=O=>typeof O=="string"&&O.length>=2,B=O=>Array.isArray(O)&&O.length===4&&O.every(j);return y.jsxs("div",{className:"min-h-screen pb-16",children:[y.jsx(DC,{onOpenSidebar:()=>f(!0),onAddNew:M,onOpenCustom:()=>P(!0)}),y.jsx(E6,{open:$,onClose:()=>P(!1),onSave:O=>{a(O.id),_(!1),S(!1),f(!1)}}),y.jsx(tE,{position:"top-center"}),y.jsx(qC,{open:d,onClose:()=>f(!1),onView:O=>{a(O.id),f(!1),_(!1),S(!1),Fn.getState().resetDate()},onAddNew:M,onEdit:O=>{b(O),a(O.id),f(!1),_(!1),S(!1)},onDeleteView:()=>{a(t.length>0?t[0].id:""),_(!0),S(!1)}}),g&&y.jsx(qE,{}),s&&y.jsxs(y.Fragment,{children:[y.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 absolute inset-0 w-full h-full z-99"}),y.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:y.jsx("div",{className:"py-6",children:y.jsx(Pj,{onSave:O=>{a(O.id),_(!1),S(!1),f(!1),requestAnimationFrame(()=>u(!1))},onClose:()=>u(!1)})})})]}),T&&!g&&!x&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"pt-18 pb-4",children:y.jsx(X7,{data:T,hourTable:T.mingSikType??"조자시/야자시"})}),y.jsx(p6,{ms:T}),y.jsx("div",{children:y.jsx(rC,{data:T})}),y.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:y.jsx(F6,{ms:T,natal:B(D)?D:[],chain:A,basis:{voidBasis:"day",samjaeBasis:"day"},includeTenGod:!0,lunarPillars:[]})})]}),x&&y.jsx("div",{className:"pt-18 pb-4",children:y.jsx(h6,{people:t})}),p&&y.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:y.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:y.jsx(JC,{item:p,onClose:()=>{b(null)}})})}),y.jsx(BC,{onShowToday:()=>{_(!0),S(!1)},onShowCouple:()=>{S(!0),_(!1)}}),y.jsx(m6,{})]})}fT.createRoot(document.getElementById("root")).render(y.jsx(C.StrictMode,{children:y.jsx(K6,{})}));
