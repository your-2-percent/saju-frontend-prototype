function Mw(t,r){for(var a=0;a<r.length;a++){const s=r[a];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in t)){const d=Object.getOwnPropertyDescriptor(s,u);d&&Object.defineProperty(t,u,d.get?d:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function a(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=a(u);fetch(u.href,d)}})();function Ws(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vm={exports:{}},oc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function Nw(){if(Hy)return oc;Hy=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(s,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:t,type:s,key:f,ref:u!==void 0?u:null,props:d}}return oc.Fragment=r,oc.jsx=a,oc.jsxs=a,oc}var $y;function Aw(){return $y||($y=1,Vm.exports=Nw()),Vm.exports}var g=Aw();const M_="harim.theme",Y0="harim.settings.v1";function N_(){try{const t=localStorage.getItem(M_);if(t==="dark"||t==="light")return t;const r=localStorage.getItem(Y0);if(r){const s=JSON.parse(r)?.theme;if(s==="dark"||s==="light")return s}return null}catch{return null}}function q0(t){try{localStorage.setItem(M_,t);const r=localStorage.getItem(Y0),a=r?JSON.parse(r):{};localStorage.setItem(Y0,JSON.stringify({...a,theme:t}))}catch{}}function A_(t){const r=document.documentElement;r.classList.toggle("dark",t==="dark"),r.style.setProperty("color-scheme",t)}(function(){try{const t=N_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");A_(t)}catch{}})();var Fm={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function Dw(){if(Iy)return Wt;Iy=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function A(P,H,X){this.props=P,this.context=H,this.refs=j,this.updater=X||T}A.prototype.isReactComponent={},A.prototype.setState=function(P,H){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,H,"setState")},A.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function $(){}$.prototype=A.prototype;function I(P,H,X){this.props=P,this.context=H,this.refs=j,this.updater=X||T}var D=I.prototype=new $;D.constructor=I,N(D,A.prototype),D.isPureReactComponent=!0;var C=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function W(P,H,X,Q,z,q){return X=q.ref,{$$typeof:t,type:P,key:H,ref:X!==void 0?X:null,props:q}}function ot(P,H){return W(P.type,H,void 0,void 0,void 0,P.props)}function nt(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function et(P){var H={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(X){return H[X]})}var Y=/\/+/g;function U(P,H){return typeof P=="object"&&P!==null&&P.key!=null?et(""+P.key):H.toString(36)}function tt(){}function at(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(tt,tt):(P.status="pending",P.then(function(H){P.status==="pending"&&(P.status="fulfilled",P.value=H)},function(H){P.status==="pending"&&(P.status="rejected",P.reason=H)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function st(P,H,X,Q,z){var q=typeof P;(q==="undefined"||q==="boolean")&&(P=null);var K=!1;if(P===null)K=!0;else switch(q){case"bigint":case"string":case"number":K=!0;break;case"object":switch(P.$$typeof){case t:case r:K=!0;break;case _:return K=P._init,st(K(P._payload),H,X,Q,z)}}if(K)return z=z(P),K=Q===""?"."+U(P,0):Q,C(z)?(X="",K!=null&&(X=K.replace(Y,"$&/")+"/"),st(z,H,X,"",function(Mt){return Mt})):z!=null&&(nt(z)&&(z=ot(z,X+(z.key==null||P&&P.key===z.key?"":(""+z.key).replace(Y,"$&/")+"/")+K)),H.push(z)),1;K=0;var ct=Q===""?".":Q+":";if(C(P))for(var bt=0;bt<P.length;bt++)Q=P[bt],q=ct+U(Q,bt),K+=st(Q,H,X,q,z);else if(bt=S(P),typeof bt=="function")for(P=bt.call(P),bt=0;!(Q=P.next()).done;)Q=Q.value,q=ct+U(Q,bt++),K+=st(Q,H,X,q,z);else if(q==="object"){if(typeof P.then=="function")return st(at(P),H,X,Q,z);throw H=String(P),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return K}function Z(P,H,X){if(P==null)return P;var Q=[],z=0;return st(P,Q,"","",function(q){return H.call(X,q,z++)}),Q}function rt(P){if(P._status===-1){var H=P._result;H=H(),H.then(function(X){(P._status===0||P._status===-1)&&(P._status=1,P._result=X)},function(X){(P._status===0||P._status===-1)&&(P._status=2,P._result=X)}),P._status===-1&&(P._status=0,P._result=H)}if(P._status===1)return P._result.default;throw P._result}var ft=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function gt(){}return Wt.Children={map:Z,forEach:function(P,H,X){Z(P,function(){H.apply(this,arguments)},X)},count:function(P){var H=0;return Z(P,function(){H++}),H},toArray:function(P){return Z(P,function(H){return H})||[]},only:function(P){if(!nt(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Wt.Component=A,Wt.Fragment=a,Wt.Profiler=u,Wt.PureComponent=I,Wt.StrictMode=s,Wt.Suspense=b,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return k.H.useMemoCache(P)}},Wt.cache=function(P){return function(){return P.apply(null,arguments)}},Wt.cloneElement=function(P,H,X){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var Q=N({},P.props),z=P.key,q=void 0;if(H!=null)for(K in H.ref!==void 0&&(q=void 0),H.key!==void 0&&(z=""+H.key),H)!G.call(H,K)||K==="key"||K==="__self"||K==="__source"||K==="ref"&&H.ref===void 0||(Q[K]=H[K]);var K=arguments.length-2;if(K===1)Q.children=X;else if(1<K){for(var ct=Array(K),bt=0;bt<K;bt++)ct[bt]=arguments[bt+2];Q.children=ct}return W(P.type,z,void 0,void 0,q,Q)},Wt.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:d,_context:P},P},Wt.createElement=function(P,H,X){var Q,z={},q=null;if(H!=null)for(Q in H.key!==void 0&&(q=""+H.key),H)G.call(H,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(z[Q]=H[Q]);var K=arguments.length-2;if(K===1)z.children=X;else if(1<K){for(var ct=Array(K),bt=0;bt<K;bt++)ct[bt]=arguments[bt+2];z.children=ct}if(P&&P.defaultProps)for(Q in K=P.defaultProps,K)z[Q]===void 0&&(z[Q]=K[Q]);return W(P,q,void 0,void 0,null,z)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(P){return{$$typeof:p,render:P}},Wt.isValidElement=nt,Wt.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:rt}},Wt.memo=function(P,H){return{$$typeof:y,type:P,compare:H===void 0?null:H}},Wt.startTransition=function(P){var H=k.T,X={};k.T=X;try{var Q=P(),z=k.S;z!==null&&z(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(gt,ft)}catch(q){ft(q)}finally{k.T=H}},Wt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Wt.use=function(P){return k.H.use(P)},Wt.useActionState=function(P,H,X){return k.H.useActionState(P,H,X)},Wt.useCallback=function(P,H){return k.H.useCallback(P,H)},Wt.useContext=function(P){return k.H.useContext(P)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(P,H){return k.H.useDeferredValue(P,H)},Wt.useEffect=function(P,H,X){var Q=k.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(P,H)},Wt.useId=function(){return k.H.useId()},Wt.useImperativeHandle=function(P,H,X){return k.H.useImperativeHandle(P,H,X)},Wt.useInsertionEffect=function(P,H){return k.H.useInsertionEffect(P,H)},Wt.useLayoutEffect=function(P,H){return k.H.useLayoutEffect(P,H)},Wt.useMemo=function(P,H){return k.H.useMemo(P,H)},Wt.useOptimistic=function(P,H){return k.H.useOptimistic(P,H)},Wt.useReducer=function(P,H,X){return k.H.useReducer(P,H,X)},Wt.useRef=function(P){return k.H.useRef(P)},Wt.useState=function(P){return k.H.useState(P)},Wt.useSyncExternalStore=function(P,H,X){return k.H.useSyncExternalStore(P,H,X)},Wt.useTransition=function(){return k.H.useTransition()},Wt.version="19.1.1",Wt}var Uy;function Rf(){return Uy||(Uy=1,Fm.exports=Dw()),Fm.exports}var O=Rf();const Ce=Ws(O);var Km={exports:{}},sc={},Xm={exports:{}},Wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function jw(){return Gy||(Gy=1,(function(t){function r(Z,rt){var ft=Z.length;Z.push(rt);t:for(;0<ft;){var gt=ft-1>>>1,P=Z[gt];if(0<u(P,rt))Z[gt]=rt,Z[ft]=P,ft=gt;else break t}}function a(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var rt=Z[0],ft=Z.pop();if(ft!==rt){Z[0]=ft;t:for(var gt=0,P=Z.length,H=P>>>1;gt<H;){var X=2*(gt+1)-1,Q=Z[X],z=X+1,q=Z[z];if(0>u(Q,ft))z<P&&0>u(q,Q)?(Z[gt]=q,Z[z]=ft,gt=z):(Z[gt]=Q,Z[X]=ft,gt=X);else if(z<P&&0>u(q,ft))Z[gt]=q,Z[z]=ft,gt=z;else break t}}return rt}function u(Z,rt){var ft=Z.sortIndex-rt.sortIndex;return ft!==0?ft:Z.id-rt.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();t.unstable_now=function(){return f.now()-p}}var b=[],y=[],_=1,w=null,S=3,T=!1,N=!1,j=!1,A=!1,$=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function C(Z){for(var rt=a(y);rt!==null;){if(rt.callback===null)s(y);else if(rt.startTime<=Z)s(y),rt.sortIndex=rt.expirationTime,r(b,rt);else break;rt=a(y)}}function k(Z){if(j=!1,C(Z),!N)if(a(b)!==null)N=!0,G||(G=!0,U());else{var rt=a(y);rt!==null&&st(k,rt.startTime-Z)}}var G=!1,W=-1,ot=5,nt=-1;function et(){return A?!0:!(t.unstable_now()-nt<ot)}function Y(){if(A=!1,G){var Z=t.unstable_now();nt=Z;var rt=!0;try{t:{N=!1,j&&(j=!1,I(W),W=-1),T=!0;var ft=S;try{e:{for(C(Z),w=a(b);w!==null&&!(w.expirationTime>Z&&et());){var gt=w.callback;if(typeof gt=="function"){w.callback=null,S=w.priorityLevel;var P=gt(w.expirationTime<=Z);if(Z=t.unstable_now(),typeof P=="function"){w.callback=P,C(Z),rt=!0;break e}w===a(b)&&s(b),C(Z)}else s(b);w=a(b)}if(w!==null)rt=!0;else{var H=a(y);H!==null&&st(k,H.startTime-Z),rt=!1}}break t}finally{w=null,S=ft,T=!1}rt=void 0}}finally{rt?U():G=!1}}}var U;if(typeof D=="function")U=function(){D(Y)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,at=tt.port2;tt.port1.onmessage=Y,U=function(){at.postMessage(null)}}else U=function(){$(Y,0)};function st(Z,rt){W=$(function(){Z(t.unstable_now())},rt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ot=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var rt=3;break;default:rt=S}var ft=S;S=rt;try{return Z()}finally{S=ft}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Z,rt){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ft=S;S=Z;try{return rt()}finally{S=ft}},t.unstable_scheduleCallback=function(Z,rt,ft){var gt=t.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?gt+ft:gt):ft=gt,Z){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ft+P,Z={id:_++,callback:rt,priorityLevel:Z,startTime:ft,expirationTime:P,sortIndex:-1},ft>gt?(Z.sortIndex=ft,r(y,Z),a(b)===null&&Z===a(y)&&(j?(I(W),W=-1):j=!0,st(k,ft-gt))):(Z.sortIndex=P,r(b,Z),N||T||(N=!0,G||(G=!0,U()))),Z},t.unstable_shouldYield=et,t.unstable_wrapCallback=function(Z){var rt=S;return function(){var ft=S;S=rt;try{return Z.apply(this,arguments)}finally{S=ft}}}})(Wm)),Wm}var Zy;function kw(){return Zy||(Zy=1,Xm.exports=jw()),Xm.exports}var Qm={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function Ow(){if(Yy)return Nn;Yy=1;var t=Rf();function r(b){var y="https://react.dev/errors/"+b;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+b+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(b,y,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:b,containerInfo:y,implementation:_}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(b,y){if(b==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Nn.createPortal=function(b,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(r(299));return d(b,y,null,_)},Nn.flushSync=function(b){var y=f.T,_=s.p;try{if(f.T=null,s.p=2,b)return b()}finally{f.T=y,s.p=_,s.d.f()}},Nn.preconnect=function(b,y){typeof b=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(b,y))},Nn.prefetchDNS=function(b){typeof b=="string"&&s.d.D(b)},Nn.preinit=function(b,y){if(typeof b=="string"&&y&&typeof y.as=="string"){var _=y.as,w=p(_,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,T=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(b,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:T}):_==="script"&&s.d.X(b,{crossOrigin:w,integrity:S,fetchPriority:T,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Nn.preinitModule=function(b,y){if(typeof b=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);s.d.M(b,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(b)},Nn.preload=function(b,y){if(typeof b=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,w=p(_,y.crossOrigin);s.d.L(b,_,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Nn.preloadModule=function(b,y){if(typeof b=="string")if(y){var _=p(y.as,y.crossOrigin);s.d.m(b,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(b)},Nn.requestFormReset=function(b){s.d.r(b)},Nn.unstable_batchedUpdates=function(b,y){return b(y)},Nn.useFormState=function(b,y,_){return f.H.useFormState(b,y,_)},Nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Nn.version="19.1.1",Nn}var qy;function D_(){if(qy)return Qm.exports;qy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Qm.exports=Ow(),Qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function Cw(){if(Vy)return sc;Vy=1;var t=kw(),r=Rf(),a=D_();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(s(188))}function b(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,c=n;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return p(m),e;if(v===c)return p(m),n;v=v.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=v;else{for(var M=!1,R=m.child;R;){if(R===o){M=!0,o=m,c=v;break}if(R===c){M=!0,c=m,o=v;break}R=R.sibling}if(!M){for(R=v.child;R;){if(R===o){M=!0,o=v,c=m;break}if(R===c){M=!0,c=v,o=m;break}R=R.sibling}if(!M)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),nt=Symbol.for("react.activity"),et=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=Y&&e[Y]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case A:return"Profiler";case j:return"StrictMode";case k:return"Suspense";case G:return"SuspenseList";case nt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case D:return(e.displayName||"Context")+".Provider";case I:return(e._context.displayName||"Context")+".Consumer";case C:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return n=e.displayName||null,n!==null?n:at(e.type)||"Memo";case ot:n=e._payload,e=e._init;try{return at(e(n))}catch{}}return null}var st=Array.isArray,Z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},gt=[],P=-1;function H(e){return{current:e}}function X(e){0>P||(e.current=gt[P],gt[P]=null,P--)}function Q(e,n){P++,gt[P]=e.current,e.current=n}var z=H(null),q=H(null),K=H(null),ct=H(null);function bt(e,n){switch(Q(K,n),Q(q,e),Q(z,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?hy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=hy(n),e=my(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(z),Q(z,e)}function Mt(){X(z),X(q),X(K)}function Et(e){e.memoizedState!==null&&Q(ct,e);var n=z.current,o=my(n,e.type);n!==o&&(Q(q,e),Q(z,o))}function Lt(e){q.current===e&&(X(z),X(q)),ct.current===e&&(X(ct),ec._currentValue=ft)}var Dt=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,kt=t.unstable_cancelCallback,It=t.unstable_shouldYield,ee=t.unstable_requestPaint,$t=t.unstable_now,Xt=t.unstable_getCurrentPriorityLevel,xt=t.unstable_ImmediatePriority,Bt=t.unstable_UserBlockingPriority,vt=t.unstable_NormalPriority,de=t.unstable_LowPriority,He=t.unstable_IdlePriority,we=t.log,qt=t.unstable_setDisableYieldValue,je=null,Le=null;function Je(e){if(typeof we=="function"&&qt(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(je,e)}catch{}}var Be=Math.clz32?Math.clz32:Qi,yi=Math.log,ti=Math.LN2;function Qi(e){return e>>>=0,e===0?32:31-(yi(e)/ti|0)|0}var $r=256,Un=4194304;function mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ir(e,n,o){var c=e.pendingLanes;if(c===0)return 0;var m=0,v=e.suspendedLanes,M=e.pingedLanes;e=e.warmLanes;var R=c&134217727;return R!==0?(c=R&~v,c!==0?m=mn(c):(M&=R,M!==0?m=mn(M):o||(o=R&~e,o!==0&&(m=mn(o))))):(R=c&~v,R!==0?m=mn(R):M!==0?m=mn(M):o||(o=c&~e,o!==0&&(m=mn(o)))),m===0?0:n!==0&&n!==m&&(n&v)===0&&(v=m&-m,o=n&-n,v>=o||v===32&&(o&4194048)!==0)?n:m}function Gn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function il(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wa(){var e=$r;return $r<<=1,($r&4194048)===0&&($r=256),e}function Ur(){var e=Un;return Un<<=1,(Un&62914560)===0&&(Un=4194304),e}function Zn(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function vi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function al(e,n,o,c,m,v){var M=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var R=e.entanglements,F=e.expirationTimes,dt=e.hiddenUpdates;for(o=M&~o;0<o;){var yt=31-Be(o),wt=1<<yt;R[yt]=0,F[yt]=-1;var ht=dt[yt];if(ht!==null)for(dt[yt]=null,yt=0;yt<ht.length;yt++){var mt=ht[yt];mt!==null&&(mt.lane&=-536870913)}o&=~wt}c!==0&&Qa(e,c,0),v!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=v&~(M&~n))}function Qa(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Be(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|o&4194090}function Qc(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var c=31-Be(o),m=1<<c;m&n|e[c]&n&&(e[c]|=n),o&=~m}}function ol(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function sl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Jc(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:Cy(e.type))}function ll(e,n){var o=rt.p;try{return rt.p=e,n()}finally{rt.p=o}}var ei=Math.random().toString(36).slice(2),on="__reactFiber$"+ei,wn="__reactProps$"+ei,Ji="__reactContainer$"+ei,Yn="__reactEvents$"+ei,Pt="__reactListeners$"+ei,tu="__reactHandles$"+ei,cl="__reactResources$"+ei,ta="__reactMarker$"+ei;function Go(e){delete e[on],delete e[wn],delete e[Yn],delete e[Pt],delete e[tu]}function ni(e){var n=e[on];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Ji]||o[on]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=yy(e);e!==null;){if(o=e[on])return o;e=yy(e)}return n}e=o,o=e.parentNode}return null}function xi(e){if(e=e[on]||e[Ji]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function vr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function _i(e){var n=e[cl];return n||(n=e[cl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xe(e){e[ta]=!0}var eu=new Set,nu={};function Si(e,n){wi(e,n),wi(e+"Capture",n)}function wi(e,n){for(nu[e]=n,e=0;e<n.length;e++)eu.add(n[e])}var rh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ja={},ru={};function ih(e){return Dt.call(ru,e)?!0:Dt.call(Ja,e)?!1:rh.test(e)?ru[e]=!0:(Ja[e]=!0,!1)}function Zo(e,n,o){if(ih(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Yo(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function Gr(e,n,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+c)}}var to,ea;function Ti(e){if(to===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);to=n&&n[1]||"",ea=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+to+e+ea}var qo=!1;function Ei(e,n){if(!e||qo)return"";qo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var wt=function(){throw Error()};if(Object.defineProperty(wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wt,[])}catch(mt){var ht=mt}Reflect.construct(e,[],wt)}else{try{wt.call()}catch(mt){ht=mt}e.call(wt.prototype)}}else{try{throw Error()}catch(mt){ht=mt}(wt=e())&&typeof wt.catch=="function"&&wt.catch(function(){})}}catch(mt){if(mt&&ht&&typeof mt.stack=="string")return[mt.stack,ht.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),M=v[0],R=v[1];if(M&&R){var F=M.split(`
`),dt=R.split(`
`);for(m=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;m<dt.length&&!dt[m].includes("DetermineComponentFrameRoot");)m++;if(c===F.length||m===dt.length)for(c=F.length-1,m=dt.length-1;1<=c&&0<=m&&F[c]!==dt[m];)m--;for(;1<=c&&0<=m;c--,m--)if(F[c]!==dt[m]){if(c!==1||m!==1)do if(c--,m--,0>m||F[c]!==dt[m]){var yt=`
`+F[c].replace(" at new "," at ");return e.displayName&&yt.includes("<anonymous>")&&(yt=yt.replace("<anonymous>",e.displayName)),yt}while(1<=c&&0<=m);break}}}finally{qo=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Ti(o):""}function se(e){switch(e.tag){case 26:case 27:case 5:return Ti(e.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return Ei(e.type,!1);case 11:return Ei(e.type.render,!1);case 1:return Ei(e.type,!0);case 31:return Ti("Activity");default:return""}}function Me(e){try{var n="";do n+=se(e),e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function na(e){var n=Mi(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,v=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(M){c=""+M,v.call(this,M)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(M){c=""+M},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ra(e){e._valueTracker||(e._valueTracker=na(e))}function Kt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),c="";return e&&(c=Mi(e)?e.checked?"true":"false":e.value),e=c,e!==o?(n.setValue(e),!0):!1}function Ne(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ul=/[\n"\\]/g;function gn(e){return e.replace(ul,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tn(e,n,o,c,m,v,M,R){e.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.type=M:e.removeAttribute("type"),n!=null?M==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+pn(n)):e.value!==""+pn(n)&&(e.value=""+pn(n)):M!=="submit"&&M!=="reset"||e.removeAttribute("value"),n!=null?ia(e,M,pn(n)):o!=null?ia(e,M,pn(o)):c!=null&&e.removeAttribute("value"),m==null&&v!=null&&(e.defaultChecked=!!v),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+pn(R):e.removeAttribute("name")}function iu(e,n,o,c,m,v,M,R){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),n!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||n!=null))return;o=o!=null?""+pn(o):"",n=n!=null?""+pn(n):o,R||n===e.value||(e.value=n),e.defaultValue=n}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=R?e.checked:!!c,e.defaultChecked=!!c,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(e.name=M)}function ia(e,n,o){n==="number"&&Ne(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function qn(e,n,o,c){if(e=e.options,n){n={};for(var m=0;m<o.length;m++)n["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=n.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+pn(o),n=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function $e(e,n,o){if(n!=null&&(n=""+pn(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+pn(o):""}function ri(e,n,o,c){if(n==null){if(c!=null){if(o!=null)throw Error(s(92));if(st(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),n=o}o=pn(n),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c)}function xr(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var eo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,n,o){var c=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,o):typeof o!="number"||o===0||eo.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function aa(e,n,o){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in n)c=n[m],n.hasOwnProperty(m)&&o[m]!==c&&Vo(e,m,c)}else for(var v in n)n.hasOwnProperty(v)&&Vo(e,v,n[v])}function no(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return Fo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ro=null;function sa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,ii=null;function au(e){var n=xi(e);if(n&&(e=n.stateNode)){var o=e[wn]||null;t:switch(e=n.stateNode,n.type){case"input":if(Tn(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var c=o[n];if(c!==e&&c.form===e.form){var m=c[wn]||null;if(!m)throw Error(s(90));Tn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<o.length;n++)c=o[n],c.form===e.form&&Kt(c)}break t;case"textarea":$e(e,o.value,o.defaultValue);break t;case"select":n=o.value,n!=null&&qn(e,!!o.multiple,n,!1)}}}var Ft=!1;function Qn(e,n,o){if(Ft)return e(n,o);Ft=!0;try{var c=e(n);return c}finally{if(Ft=!1,(Ni!==null||ii!==null)&&(Ju(),Ni&&(n=Ni,e=ii,ii=Ni=null,au(n),e)))for(n=0;n<e.length;n++)au(e[n])}}function fe(e,n){var o=e.stateNode;if(o===null)return null;var c=o[wn]||null;if(c===null)return null;o=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=!1;if(_r)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){io=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{io=!1}var Sr=null,Zr=null,la=null;function ca(){if(la)return la;var e,n=Zr,o=n.length,c,m="value"in Sr?Sr.value:Sr.textContent,v=m.length;for(e=0;e<o&&n[e]===m[e];e++);var M=o-e;for(c=1;c<=M&&n[o-c]===m[v-c];c++);return la=m.slice(e,1<c?1-c:void 0)}function Ye(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function wr(){return!0}function fl(){return!1}function bn(e){function n(o,c,m,v,M){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=M,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(o=e[R],this[R]=o?o(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?wr:fl,this.isPropagationStopped=fl,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=bn(Di),ji=_({},Di,{view:0,detail:0}),ah=bn(ji),Ko,Jt,oo,En=_({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oo&&(oo&&e.type==="mousemove"?(Ko=e.screenX-oo.screenX,Jt=e.screenY-oo.screenY):Jt=Ko=0,oo=e),Ko)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),ua=bn(En),ou=_({},En,{dataTransfer:0}),oh=bn(ou),hl=_({},ji,{relatedTarget:0}),ml=bn(hl),su=_({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),sh=bn(su),lh=_({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pl=bn(lh),ch=_({},Di,{data:0}),Jn=bn(ch),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ai={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ai[e])?!!n[e]:!1}function Xo(){return cu}var gl=_({},ji,{key:function(e){if(e.key){var n=uh[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ye(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xo,charCode:function(e){return e.type==="keypress"?Ye(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ye(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dh=bn(gl),uu=_({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=bn(uu),fh=_({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xo}),hh=bn(fh),yl=_({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),mh=bn(yl),du=_({},En,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fu=bn(du),Wo=_({},Di,{newState:0,oldState:0}),ki=bn(Wo),ph=[9,13,27,32],Oi=_r&&"CompositionEvent"in window,sn=null;_r&&"documentMode"in document&&(sn=document.documentMode);var hu=_r&&"TextEvent"in window&&!sn,vl=_r&&(!Oi||sn&&8<sn&&11>=sn),mu=" ",Qo=!1;function Jo(e,n){switch(e){case"keyup":return ph.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function gu(e,n){switch(e){case"compositionend":return pu(n);case"keypress":return n.which!==32?null:(Qo=!0,mu);case"textInput":return e=n.data,e===mu&&Qo?null:e;default:return null}}function gh(e,n){if(da)return e==="compositionend"||!Oi&&Jo(e,n)?(e=ca(),la=Zr=Sr=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vl&&n.locale!=="ko"?null:n.data;default:return null}}var tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ci(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!tr[e.type]:n==="textarea"}function bu(e,n,o,c){Ni?ii?ii.push(c):ii=[c]:Ni=c,n=ad(n,"onChange"),0<n.length&&(o=new ao("onChange","change",null,o,c),e.push({event:o,listeners:n}))}var jn=null,so=null;function fa(e){ly(e,0)}function ts(e){var n=vr(e);if(Kt(n))return e}function ha(e,n){if(e==="change")return n}var xl=!1;if(_r){var ma;if(_r){var _l="oninput"in document;if(!_l){var Yr=document.createElement("div");Yr.setAttribute("oninput","return;"),_l=typeof Yr.oninput=="function"}ma=_l}else ma=!1;xl=ma&&(!document.documentMode||9<document.documentMode)}function lo(){jn&&(jn.detachEvent("onpropertychange",yu),so=jn=null)}function yu(e){if(e.propertyName==="value"&&ts(so)){var n=[];bu(n,so,e,sa(e)),Qn(fa,n)}}function Sl(e,n,o){e==="focusin"?(lo(),jn=n,so=o,jn.attachEvent("onpropertychange",yu)):e==="focusout"&&lo()}function bh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ts(so)}function qr(e,n){if(e==="click")return ts(n)}function yh(e,n){if(e==="input"||e==="change")return ts(n)}function pa(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var kn=typeof Object.is=="function"?Object.is:pa;function On(e,n){if(kn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),c=Object.keys(n);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Dt.call(n,m)||!kn(e[m],n[m]))return!1}return!0}function co(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wl(e,n){var o=co(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=n&&c>=n)return{node:o,offset:n-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=co(o)}}function es(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?es(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function uo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ne(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Ne(e.document)}return n}function fo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ns=_r&&"documentMode"in document&&11>=document.documentMode,er=null,ga=null,Li=null,rs=!1;function vu(e,n,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;rs||er==null||er!==Ne(c)||(c=er,"selectionStart"in c&&fo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Li&&On(Li,c)||(Li=c,c=ad(ga,"onSelect"),0<c.length&&(n=new ao("onSelect","select",null,n,o),e.push({event:n,listeners:c}),n.target=er)))}function Tr(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var ba={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},is={},xu={};_r&&(xu=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function oi(e){if(is[e])return is[e];if(!ba[e])return e;var n=ba[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in xu)return is[e]=n[o];return e}var _u=oi("animationend"),nr=oi("animationiteration"),ho=oi("animationstart"),vh=oi("transitionrun"),as=oi("transitionstart"),xh=oi("transitioncancel"),Tl=oi("transitionend"),Su=new Map,Bi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bi.push("scrollEnd");function rr(e,n){Su.set(e,n),Si(n,[e])}var Ri=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var o=Ri.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Me(n)},Ri.set(e,n),n)}return{value:e,source:n,stack:Me(n)}}var Ln=[],ya=0,ir=0;function mo(){for(var e=ya,n=ir=ya=0;n<e;){var o=Ln[n];Ln[n++]=null;var c=Ln[n];Ln[n++]=null;var m=Ln[n];Ln[n++]=null;var v=Ln[n];if(Ln[n++]=null,c!==null&&m!==null){var M=c.pending;M===null?m.next=m:(m.next=M.next,M.next=m),c.pending=m}v!==0&&go(o,m,v)}}function po(e,n,o,c){Ln[ya++]=e,Ln[ya++]=n,Ln[ya++]=o,Ln[ya++]=c,ir|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Pi(e,n,o,c){return po(e,n,o,c),si(e)}function va(e,n){return po(e,null,null,n),si(e)}function go(e,n,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,v=e.return;v!==null;)v.childLanes|=o,c=v.alternate,c!==null&&(c.childLanes|=o),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(m=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,m&&n!==null&&(m=31-Be(o),e=v.hiddenUpdates,c=e[m],c===null?e[m]=[n]:c.push(n),n.lane=o|536870912),v):null}function si(e){if(50<Vl)throw Vl=0,bm=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var zi={};function wu(e,n,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,n,o,c){return new wu(e,n,o,c)}function os(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Er(e,n){var o=e.alternate;return o===null?(o=Bn(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function El(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bo(e,n,o,c,m,v){var M=0;if(c=e,typeof e=="function")os(e)&&(M=1);else if(typeof e=="string")M=hw(e,o,z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case nt:return e=Bn(31,o,n,m),e.elementType=nt,e.lanes=v,e;case N:return li(o.children,m,v,n);case j:M=8,m|=24;break;case A:return e=Bn(12,o,n,m|2),e.elementType=A,e.lanes=v,e;case k:return e=Bn(13,o,n,m),e.elementType=k,e.lanes=v,e;case G:return e=Bn(19,o,n,m),e.elementType=G,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case D:M=10;break t;case I:M=9;break t;case C:M=11;break t;case W:M=14;break t;case ot:M=16,c=null;break t}M=29,o=Error(s(130,e===null?"null":typeof e,"")),c=null}return n=Bn(M,o,n,m),n.elementType=e,n.type=c,n.lanes=v,n}function li(e,n,o,c){return e=Bn(7,e,c,n),e.lanes=o,e}function Ml(e,n,o){return e=Bn(6,e,null,n),e.lanes=o,e}function ss(e,n,o){return n=Bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Hi=[],xa=0,i=null,l=0,h=[],x=0,E=null,B=1,V="";function lt(e,n){Hi[xa++]=l,Hi[xa++]=i,i=e,l=n}function pt(e,n,o){h[x++]=B,h[x++]=V,h[x++]=E,E=e;var c=B;e=V;var m=32-Be(c)-1;c&=~(1<<m),o+=1;var v=32-Be(n)+m;if(30<v){var M=m-m%5;v=(c&(1<<M)-1).toString(32),c>>=M,m-=M,B=1<<32-Be(n)+m|o<<m|c,V=v+e}else B=1<<v|o<<m|c,V=e}function Tt(e){e.return!==null&&(lt(e,1),pt(e,1,0))}function jt(e){for(;e===i;)i=Hi[--xa],Hi[xa]=null,l=Hi[--xa],Hi[xa]=null;for(;e===E;)E=h[--x],h[x]=null,V=h[--x],h[x]=null,B=h[--x],h[x]=null}var Ot=null,Rt=null,Vt=!1,Ae=null,Ie=!1,ln=Error(s(519));function Vn(e){var n=Error(s(418,""));throw Sa(Cn(n,e)),ln}function Tu(e){var n=e.stateNode,o=e.type,c=e.memoizedProps;switch(n[on]=e,n[wn]=c,o){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(o=0;o<Kl.length;o++)re(Kl[o],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":re("invalid",n),iu(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ra(n);break;case"select":re("invalid",n);break;case"textarea":re("invalid",n),ri(n,c.value,c.defaultValue,c.children),ra(n)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||c.suppressHydrationWarning===!0||fy(n.textContent,o)?(c.popover!=null&&(re("beforetoggle",n),re("toggle",n)),c.onScroll!=null&&re("scroll",n),c.onScrollEnd!=null&&re("scrollend",n),c.onClick!=null&&(n.onclick=od),n=!0):n=!1,n||Vn(e)}function Eu(e){for(Ot=e.return;Ot;)switch(Ot.tag){case 5:case 13:Ie=!1;return;case 27:case 3:Ie=!0;return;default:Ot=Ot.return}}function yo(e){if(e!==Ot)return!1;if(!Vt)return Eu(e),Vt=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Cm(e.type,e.memoizedProps)),o=!o),o&&Rt&&Vn(e),Eu(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(n===0){Rt=Xr(e.nextSibling);break t}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;e=e.nextSibling}Rt=null}}else n===27?(n=Rt,Pa(e.type)?(e=Pm,Pm=null,Rt=e):Rt=n):Rt=Ot?Xr(e.stateNode.nextSibling):null;return!0}function _a(){Rt=Ot=null,Vt=!1}function Mu(){var e=Ae;return e!==null&&(Xn===null?Xn=e:Xn.push.apply(Xn,e),Ae=null),e}function Sa(e){Ae===null?Ae=[e]:Ae.push(e)}var Re=H(null),Mr=null,Vr=null;function ci(e,n,o){Q(Re,n._currentValue),n._currentValue=o}function Fr(e){e._currentValue=Re.current,X(Re)}function vo(e,n,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===o)break;e=e.return}}function ls(e,n,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var v=m.dependencies;if(v!==null){var M=m.child;v=v.firstContext;t:for(;v!==null;){var R=v;v=m;for(var F=0;F<n.length;F++)if(R.context===n[F]){v.lanes|=o,R=v.alternate,R!==null&&(R.lanes|=o),vo(v.return,o,e),c||(M=null);break t}v=R.next}}else if(m.tag===18){if(M=m.return,M===null)throw Error(s(341));M.lanes|=o,v=M.alternate,v!==null&&(v.lanes|=o),vo(M,o,e),M=null}else M=m.child;if(M!==null)M.return=m;else for(M=m;M!==null;){if(M===e){M=null;break}if(m=M.sibling,m!==null){m.return=M.return,M=m;break}M=M.return}m=M}}function xo(e,n,o,c){e=null;for(var m=n,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var M=m.alternate;if(M===null)throw Error(s(387));if(M=M.memoizedProps,M!==null){var R=m.type;kn(m.pendingProps.value,M.value)||(e!==null?e.push(R):e=[R])}}else if(m===ct.current){if(M=m.alternate,M===null)throw Error(s(387));M.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(ec):e=[ec])}m=m.return}e!==null&&ls(n,e,o,c),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _o(e){Mr=e,Vr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Mn(e){return Qp(Mr,e)}function Au(e,n){return Mr===null&&_o(e),Qp(e,n)}function Qp(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Vr===null){if(e===null)throw Error(s(308));Vr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vr=Vr.next=n;return o}var fS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},hS=t.unstable_scheduleCallback,mS=t.unstable_NormalPriority,tn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _h(){return{controller:new fS,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&hS(mS,function(){e.controller.abort()})}var Al=null,Sh=0,cs=0,us=null;function pS(e,n){if(Al===null){var o=Al=[];Sh=0,cs=Tm(),us={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Sh++,n.then(Jp,Jp),n}function Jp(){if(--Sh===0&&Al!==null){us!==null&&(us.status="fulfilled");var e=Al;Al=null,cs=0,us=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function gS(e,n){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var m=0;m<o.length;m++)(0,o[m])(n)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var tg=Z.S;Z.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&pS(e,n),tg!==null&&tg(e,n)};var So=H(null);function wh(){var e=So.current;return e!==null?e:De.pooledCache}function Du(e,n){n===null?Q(So,So.current):Q(So,n.pool)}function eg(){var e=wh();return e===null?null:{parent:tn._currentValue,pool:e}}var Dl=Error(s(460)),ng=Error(s(474)),ju=Error(s(542)),Th={then:function(){}};function rg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ku(){}function ig(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(ku,ku),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,og(e),e;default:if(typeof n.status=="string")n.then(ku,ku);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=c}},function(c){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,og(e),e}throw jl=n,Dl}}var jl=null;function ag(){if(jl===null)throw Error(s(459));var e=jl;return jl=null,e}function og(e){if(e===Dl||e===ju)throw Error(s(483))}var wa=!1;function Eh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ta(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ea(e,n,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,n=si(e),go(e,null,o),n}return po(e,c,n,o),si(e)}function kl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,Qc(e,o)}}function Nh(e,n){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var M={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?m=v=M:v=v.next=M,o=o.next}while(o!==null);v===null?m=v=n:v=v.next=n}else m=v=n;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Ah=!1;function Ol(){if(Ah){var e=us;if(e!==null)throw e}}function Cl(e,n,o,c){Ah=!1;var m=e.updateQueue;wa=!1;var v=m.firstBaseUpdate,M=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var F=R,dt=F.next;F.next=null,M===null?v=dt:M.next=dt,M=F;var yt=e.alternate;yt!==null&&(yt=yt.updateQueue,R=yt.lastBaseUpdate,R!==M&&(R===null?yt.firstBaseUpdate=dt:R.next=dt,yt.lastBaseUpdate=F))}if(v!==null){var wt=m.baseState;M=0,yt=dt=F=null,R=v;do{var ht=R.lane&-536870913,mt=ht!==R.lane;if(mt?(le&ht)===ht:(c&ht)===ht){ht!==0&&ht===cs&&(Ah=!0),yt!==null&&(yt=yt.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Yt=e,Gt=R;ht=n;var xe=o;switch(Gt.tag){case 1:if(Yt=Gt.payload,typeof Yt=="function"){wt=Yt.call(xe,wt,ht);break t}wt=Yt;break t;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=Gt.payload,ht=typeof Yt=="function"?Yt.call(xe,wt,ht):Yt,ht==null)break t;wt=_({},wt,ht);break t;case 2:wa=!0}}ht=R.callback,ht!==null&&(e.flags|=64,mt&&(e.flags|=8192),mt=m.callbacks,mt===null?m.callbacks=[ht]:mt.push(ht))}else mt={lane:ht,tag:R.tag,payload:R.payload,callback:R.callback,next:null},yt===null?(dt=yt=mt,F=wt):yt=yt.next=mt,M|=ht;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;mt=R,R=mt.next,mt.next=null,m.lastBaseUpdate=mt,m.shared.pending=null}}while(!0);yt===null&&(F=wt),m.baseState=F,m.firstBaseUpdate=dt,m.lastBaseUpdate=yt,v===null&&(m.shared.lanes=0),Ca|=M,e.lanes=M,e.memoizedState=wt}}function sg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function lg(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)sg(o[e],n)}var ds=H(null),Ou=H(0);function cg(e,n){e=qi,Q(Ou,e),Q(ds,n),qi=e|n.baseLanes}function Dh(){Q(Ou,qi),Q(ds,ds.current)}function jh(){qi=Ou.current,X(ds),X(Ou)}var Ma=0,Qt=null,ye=null,We=null,Cu=!1,fs=!1,wo=!1,Lu=0,Ll=0,hs=null,bS=0;function Fe(){throw Error(s(321))}function kh(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!kn(e[o],n[o]))return!1;return!0}function Oh(e,n,o,c,m,v){return Ma=v,Qt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Z.H=e===null||e.memoizedState===null?qg:Vg,wo=!1,v=o(c,m),wo=!1,fs&&(v=dg(n,o,c,m)),ug(e),v}function ug(e){Z.H=$u;var n=ye!==null&&ye.next!==null;if(Ma=0,We=ye=Qt=null,Cu=!1,Ll=0,hs=null,n)throw Error(s(300));e===null||cn||(e=e.dependencies,e!==null&&Nu(e)&&(cn=!0))}function dg(e,n,o,c){Qt=e;var m=0;do{if(fs&&(hs=null),Ll=0,fs=!1,25<=m)throw Error(s(301));if(m+=1,We=ye=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Z.H=TS,v=n(o,c)}while(fs);return v}function yS(){var e=Z.H,n=e.useState()[0];return n=typeof n.then=="function"?Bl(n):n,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(Qt.flags|=1024),n}function Ch(){var e=Lu!==0;return Lu=0,e}function Lh(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Bh(e){if(Cu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Cu=!1}Ma=0,We=ye=Qt=null,fs=!1,Ll=Lu=0,hs=null}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Qt.memoizedState=We=e:We=We.next=e,We}function Qe(){if(ye===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var n=We===null?Qt.memoizedState:We.next;if(n!==null)We=n,ye=e;else{if(e===null)throw Qt.alternate===null?Error(s(467)):Error(s(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},We===null?Qt.memoizedState=We=e:We=We.next=e}return We}function Rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(e){var n=Ll;return Ll+=1,hs===null&&(hs=[]),e=ig(hs,e,n),n=Qt,(We===null?n.memoizedState:We.next)===null&&(n=n.alternate,Z.H=n===null||n.memoizedState===null?qg:Vg),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bl(e);if(e.$$typeof===D)return Mn(e)}throw Error(s(438,String(e)))}function Ph(e){var n=null,o=Qt.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var c=Qt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Rh(),Qt.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),c=0;c<e;c++)o[c]=et;return n.index++,o}function $i(e,n){return typeof n=="function"?n(e):n}function Ru(e){var n=Qe();return zh(n,ye,e)}function zh(e,n,o){var c=e.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=e.baseQueue,v=c.pending;if(v!==null){if(m!==null){var M=m.next;m.next=v.next,v.next=M}n.baseQueue=m=v,c.pending=null}if(v=e.baseState,m===null)e.memoizedState=v;else{n=m.next;var R=M=null,F=null,dt=n,yt=!1;do{var wt=dt.lane&-536870913;if(wt!==dt.lane?(le&wt)===wt:(Ma&wt)===wt){var ht=dt.revertLane;if(ht===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),wt===cs&&(yt=!0);else if((Ma&ht)===ht){dt=dt.next,ht===cs&&(yt=!0);continue}else wt={lane:0,revertLane:dt.revertLane,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},F===null?(R=F=wt,M=v):F=F.next=wt,Qt.lanes|=ht,Ca|=ht;wt=dt.action,wo&&o(v,wt),v=dt.hasEagerState?dt.eagerState:o(v,wt)}else ht={lane:wt,revertLane:dt.revertLane,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},F===null?(R=F=ht,M=v):F=F.next=ht,Qt.lanes|=wt,Ca|=wt;dt=dt.next}while(dt!==null&&dt!==n);if(F===null?M=v:F.next=R,!kn(v,e.memoizedState)&&(cn=!0,yt&&(o=us,o!==null)))throw o;e.memoizedState=v,e.baseState=M,e.baseQueue=F,c.lastRenderedState=v}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Hh(e){var n=Qe(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,v=n.memoizedState;if(m!==null){o.pending=null;var M=m=m.next;do v=e(v,M.action),M=M.next;while(M!==m);kn(v,n.memoizedState)||(cn=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),o.lastRenderedState=v}return[v,c]}function fg(e,n,o){var c=Qt,m=Qe(),v=Vt;if(v){if(o===void 0)throw Error(s(407));o=o()}else o=n();var M=!kn((ye||m).memoizedState,o);M&&(m.memoizedState=o,cn=!0),m=m.queue;var R=pg.bind(null,c,m,e);if(Rl(2048,8,R,[e]),m.getSnapshot!==n||M||We!==null&&We.memoizedState.tag&1){if(c.flags|=2048,ms(9,Pu(),mg.bind(null,c,m,o,n),null),De===null)throw Error(s(349));v||(Ma&124)!==0||hg(c,n,o)}return o}function hg(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Qt.updateQueue,n===null?(n=Rh(),Qt.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function mg(e,n,o,c){n.value=o,n.getSnapshot=c,gg(n)&&bg(e)}function pg(e,n,o){return o(function(){gg(n)&&bg(e)})}function gg(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!kn(e,o)}catch{return!0}}function bg(e){var n=va(e,2);n!==null&&cr(n,e,2)}function $h(e){var n=Fn();if(typeof e=="function"){var o=e;if(e=o(),wo){Je(!0);try{o()}finally{Je(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},n}function yg(e,n,o,c){return e.baseState=o,zh(e,ye,typeof c=="function"?c:$i)}function vS(e,n,o,c,m){if(Hu(e))throw Error(s(485));if(e=n.action,e!==null){var v={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){v.listeners.push(M)}};Z.T!==null?o(!0):v.isTransition=!1,c(v),o=n.pending,o===null?(v.next=n.pending=v,vg(n,v)):(v.next=o.next,n.pending=o.next=v)}}function vg(e,n){var o=n.action,c=n.payload,m=e.state;if(n.isTransition){var v=Z.T,M={};Z.T=M;try{var R=o(m,c),F=Z.S;F!==null&&F(M,R),xg(e,n,R)}catch(dt){Ih(e,n,dt)}finally{Z.T=v}}else try{v=o(m,c),xg(e,n,v)}catch(dt){Ih(e,n,dt)}}function xg(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){_g(e,n,c)},function(c){return Ih(e,n,c)}):_g(e,n,o)}function _g(e,n,o){n.status="fulfilled",n.value=o,Sg(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,vg(e,o)))}function Ih(e,n,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=o,Sg(n),n=n.next;while(n!==c)}e.action=null}function Sg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wg(e,n){return n}function Tg(e,n){if(Vt){var o=De.formState;if(o!==null){t:{var c=Qt;if(Vt){if(Rt){e:{for(var m=Rt,v=Ie;m.nodeType!==8;){if(!v){m=null;break e}if(m=Xr(m.nextSibling),m===null){m=null;break e}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Rt=Xr(m.nextSibling),c=m.data==="F!";break t}}Vn(c)}c=!1}c&&(n=o[0])}}return o=Fn(),o.memoizedState=o.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:n},o.queue=c,o=Gg.bind(null,Qt,c),c.dispatch=o,c=$h(!1),v=qh.bind(null,Qt,!1,c.queue),c=Fn(),m={state:n,dispatch:null,action:e,pending:null},c.queue=m,o=vS.bind(null,Qt,m,v,o),m.dispatch=o,c.memoizedState=e,[n,o,!1]}function Eg(e){var n=Qe();return Mg(n,ye,e)}function Mg(e,n,o){if(n=zh(e,n,wg)[0],e=Ru($i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=Bl(n)}catch(M){throw M===Dl?ju:M}else c=n;n=Qe();var m=n.queue,v=m.dispatch;return o!==n.memoizedState&&(Qt.flags|=2048,ms(9,Pu(),xS.bind(null,m,o),null)),[c,v,e]}function xS(e,n){e.action=n}function Ng(e){var n=Qe(),o=ye;if(o!==null)return Mg(n,o,e);Qe(),n=n.memoizedState,o=Qe();var c=o.queue.dispatch;return o.memoizedState=e,[n,c,!1]}function ms(e,n,o,c){return e={tag:e,create:o,deps:c,inst:n,next:null},n=Qt.updateQueue,n===null&&(n=Rh(),Qt.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,n.lastEffect=e),e}function Pu(){return{destroy:void 0,resource:void 0}}function Ag(){return Qe().memoizedState}function zu(e,n,o,c){var m=Fn();c=c===void 0?null:c,Qt.flags|=e,m.memoizedState=ms(1|n,Pu(),o,c)}function Rl(e,n,o,c){var m=Qe();c=c===void 0?null:c;var v=m.memoizedState.inst;ye!==null&&c!==null&&kh(c,ye.memoizedState.deps)?m.memoizedState=ms(n,v,o,c):(Qt.flags|=e,m.memoizedState=ms(1|n,v,o,c))}function Dg(e,n){zu(8390656,8,e,n)}function jg(e,n){Rl(2048,8,e,n)}function kg(e,n){return Rl(4,2,e,n)}function Og(e,n){return Rl(4,4,e,n)}function Cg(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lg(e,n,o){o=o!=null?o.concat([e]):null,Rl(4,4,Cg.bind(null,n,e),o)}function Uh(){}function Bg(e,n){var o=Qe();n=n===void 0?null:n;var c=o.memoizedState;return n!==null&&kh(n,c[1])?c[0]:(o.memoizedState=[e,n],e)}function Rg(e,n){var o=Qe();n=n===void 0?null:n;var c=o.memoizedState;if(n!==null&&kh(n,c[1]))return c[0];if(c=e(),wo){Je(!0);try{e()}finally{Je(!1)}}return o.memoizedState=[c,n],c}function Gh(e,n,o){return o===void 0||(Ma&1073741824)!==0?e.memoizedState=n:(e.memoizedState=o,e=Hb(),Qt.lanes|=e,Ca|=e,o)}function Pg(e,n,o,c){return kn(o,n)?o:ds.current!==null?(e=Gh(e,o,c),kn(e,n)||(cn=!0),e):(Ma&42)===0?(cn=!0,e.memoizedState=o):(e=Hb(),Qt.lanes|=e,Ca|=e,n)}function zg(e,n,o,c,m){var v=rt.p;rt.p=v!==0&&8>v?v:8;var M=Z.T,R={};Z.T=R,qh(e,!1,n,o);try{var F=m(),dt=Z.S;if(dt!==null&&dt(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var yt=gS(F,c);Pl(e,n,yt,lr(e))}else Pl(e,n,c,lr(e))}catch(wt){Pl(e,n,{then:function(){},status:"rejected",reason:wt},lr())}finally{rt.p=v,Z.T=M}}function _S(){}function Zh(e,n,o,c){if(e.tag!==5)throw Error(s(476));var m=Hg(e).queue;zg(e,m,n,ft,o===null?_S:function(){return $g(e),o(c)})}function Hg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ft},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function $g(e){var n=Hg(e).next.queue;Pl(e,n,{},lr())}function Yh(){return Mn(ec)}function Ig(){return Qe().memoizedState}function Ug(){return Qe().memoizedState}function SS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=lr();e=Ta(o);var c=Ea(n,e,o);c!==null&&(cr(c,n,o),kl(c,n,o)),n={cache:_h()},e.payload=n;return}n=n.return}}function wS(e,n,o){var c=lr();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Hu(e)?Zg(n,o):(o=Pi(e,n,o,c),o!==null&&(cr(o,e,c),Yg(o,n,c)))}function Gg(e,n,o){var c=lr();Pl(e,n,o,c)}function Pl(e,n,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))Zg(n,m);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var M=n.lastRenderedState,R=v(M,o);if(m.hasEagerState=!0,m.eagerState=R,kn(R,M))return po(e,n,m,0),De===null&&mo(),!1}catch{}finally{}if(o=Pi(e,n,m,c),o!==null)return cr(o,e,c),Yg(o,n,c),!0}return!1}function qh(e,n,o,c){if(c={lane:2,revertLane:Tm(),action:c,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(n)throw Error(s(479))}else n=Pi(e,o,c,2),n!==null&&cr(n,e,2)}function Hu(e){var n=e.alternate;return e===Qt||n!==null&&n===Qt}function Zg(e,n){fs=Cu=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Yg(e,n,o){if((o&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,Qc(e,o)}}var $u={readContext:Mn,use:Bu,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe},qg={readContext:Mn,use:Bu,useCallback:function(e,n){return Fn().memoizedState=[e,n===void 0?null:n],e},useContext:Mn,useEffect:Dg,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,zu(4194308,4,Cg.bind(null,n,e),o)},useLayoutEffect:function(e,n){return zu(4194308,4,e,n)},useInsertionEffect:function(e,n){zu(4,2,e,n)},useMemo:function(e,n){var o=Fn();n=n===void 0?null:n;var c=e();if(wo){Je(!0);try{e()}finally{Je(!1)}}return o.memoizedState=[c,n],c},useReducer:function(e,n,o){var c=Fn();if(o!==void 0){var m=o(n);if(wo){Je(!0);try{o(n)}finally{Je(!1)}}}else m=n;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=wS.bind(null,Qt,e),[c.memoizedState,e]},useRef:function(e){var n=Fn();return e={current:e},n.memoizedState=e},useState:function(e){e=$h(e);var n=e.queue,o=Gg.bind(null,Qt,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:Uh,useDeferredValue:function(e,n){var o=Fn();return Gh(o,e,n)},useTransition:function(){var e=$h(!1);return e=zg.bind(null,Qt,e.queue,!0,!1),Fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var c=Qt,m=Fn();if(Vt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),De===null)throw Error(s(349));(le&124)!==0||hg(c,n,o)}m.memoizedState=o;var v={value:o,getSnapshot:n};return m.queue=v,Dg(pg.bind(null,c,v,e),[e]),c.flags|=2048,ms(9,Pu(),mg.bind(null,c,v,o,n),null),o},useId:function(){var e=Fn(),n=De.identifierPrefix;if(Vt){var o=V,c=B;o=(c&~(1<<32-Be(c)-1)).toString(32)+o,n="«"+n+"R"+o,o=Lu++,0<o&&(n+="H"+o.toString(32)),n+="»"}else o=bS++,n="«"+n+"r"+o.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Yh,useFormState:Tg,useActionState:Tg,useOptimistic:function(e){var n=Fn();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=qh.bind(null,Qt,!0,o),o.dispatch=n,[e,n]},useMemoCache:Ph,useCacheRefresh:function(){return Fn().memoizedState=SS.bind(null,Qt)}},Vg={readContext:Mn,use:Bu,useCallback:Bg,useContext:Mn,useEffect:jg,useImperativeHandle:Lg,useInsertionEffect:kg,useLayoutEffect:Og,useMemo:Rg,useReducer:Ru,useRef:Ag,useState:function(){return Ru($i)},useDebugValue:Uh,useDeferredValue:function(e,n){var o=Qe();return Pg(o,ye.memoizedState,e,n)},useTransition:function(){var e=Ru($i)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Bl(e),n]},useSyncExternalStore:fg,useId:Ig,useHostTransitionStatus:Yh,useFormState:Eg,useActionState:Eg,useOptimistic:function(e,n){var o=Qe();return yg(o,ye,e,n)},useMemoCache:Ph,useCacheRefresh:Ug},TS={readContext:Mn,use:Bu,useCallback:Bg,useContext:Mn,useEffect:jg,useImperativeHandle:Lg,useInsertionEffect:kg,useLayoutEffect:Og,useMemo:Rg,useReducer:Hh,useRef:Ag,useState:function(){return Hh($i)},useDebugValue:Uh,useDeferredValue:function(e,n){var o=Qe();return ye===null?Gh(o,e,n):Pg(o,ye.memoizedState,e,n)},useTransition:function(){var e=Hh($i)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Bl(e),n]},useSyncExternalStore:fg,useId:Ig,useHostTransitionStatus:Yh,useFormState:Ng,useActionState:Ng,useOptimistic:function(e,n){var o=Qe();return ye!==null?yg(o,ye,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ph,useCacheRefresh:Ug},ps=null,zl=0;function Iu(e){var n=zl;return zl+=1,ps===null&&(ps=[]),ig(ps,e,n)}function Hl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Fg(e){var n=e._init;return n(e._payload)}function Kg(e){function n(it,J){if(e){var ut=it.deletions;ut===null?(it.deletions=[J],it.flags|=16):ut.push(J)}}function o(it,J){if(!e)return null;for(;J!==null;)n(it,J),J=J.sibling;return null}function c(it){for(var J=new Map;it!==null;)it.key!==null?J.set(it.key,it):J.set(it.index,it),it=it.sibling;return J}function m(it,J){return it=Er(it,J),it.index=0,it.sibling=null,it}function v(it,J,ut){return it.index=ut,e?(ut=it.alternate,ut!==null?(ut=ut.index,ut<J?(it.flags|=67108866,J):ut):(it.flags|=67108866,J)):(it.flags|=1048576,J)}function M(it){return e&&it.alternate===null&&(it.flags|=67108866),it}function R(it,J,ut,_t){return J===null||J.tag!==6?(J=Ml(ut,it.mode,_t),J.return=it,J):(J=m(J,ut),J.return=it,J)}function F(it,J,ut,_t){var Ct=ut.type;return Ct===N?yt(it,J,ut.props.children,_t,ut.key):J!==null&&(J.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===ot&&Fg(Ct)===J.type)?(J=m(J,ut.props),Hl(J,ut),J.return=it,J):(J=bo(ut.type,ut.key,ut.props,null,it.mode,_t),Hl(J,ut),J.return=it,J)}function dt(it,J,ut,_t){return J===null||J.tag!==4||J.stateNode.containerInfo!==ut.containerInfo||J.stateNode.implementation!==ut.implementation?(J=ss(ut,it.mode,_t),J.return=it,J):(J=m(J,ut.children||[]),J.return=it,J)}function yt(it,J,ut,_t,Ct){return J===null||J.tag!==7?(J=li(ut,it.mode,_t,Ct),J.return=it,J):(J=m(J,ut),J.return=it,J)}function wt(it,J,ut){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Ml(""+J,it.mode,ut),J.return=it,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return ut=bo(J.type,J.key,J.props,null,it.mode,ut),Hl(ut,J),ut.return=it,ut;case T:return J=ss(J,it.mode,ut),J.return=it,J;case ot:var _t=J._init;return J=_t(J._payload),wt(it,J,ut)}if(st(J)||U(J))return J=li(J,it.mode,ut,null),J.return=it,J;if(typeof J.then=="function")return wt(it,Iu(J),ut);if(J.$$typeof===D)return wt(it,Au(it,J),ut);Uu(it,J)}return null}function ht(it,J,ut,_t){var Ct=J!==null?J.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Ct!==null?null:R(it,J,""+ut,_t);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case S:return ut.key===Ct?F(it,J,ut,_t):null;case T:return ut.key===Ct?dt(it,J,ut,_t):null;case ot:return Ct=ut._init,ut=Ct(ut._payload),ht(it,J,ut,_t)}if(st(ut)||U(ut))return Ct!==null?null:yt(it,J,ut,_t,null);if(typeof ut.then=="function")return ht(it,J,Iu(ut),_t);if(ut.$$typeof===D)return ht(it,J,Au(it,ut),_t);Uu(it,ut)}return null}function mt(it,J,ut,_t,Ct){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return it=it.get(ut)||null,R(J,it,""+_t,Ct);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case S:return it=it.get(_t.key===null?ut:_t.key)||null,F(J,it,_t,Ct);case T:return it=it.get(_t.key===null?ut:_t.key)||null,dt(J,it,_t,Ct);case ot:var te=_t._init;return _t=te(_t._payload),mt(it,J,ut,_t,Ct)}if(st(_t)||U(_t))return it=it.get(ut)||null,yt(J,it,_t,Ct,null);if(typeof _t.then=="function")return mt(it,J,ut,Iu(_t),Ct);if(_t.$$typeof===D)return mt(it,J,ut,Au(J,_t),Ct);Uu(J,_t)}return null}function Yt(it,J,ut,_t){for(var Ct=null,te=null,zt=J,Zt=J=0,dn=null;zt!==null&&Zt<ut.length;Zt++){zt.index>Zt?(dn=zt,zt=null):dn=zt.sibling;var he=ht(it,zt,ut[Zt],_t);if(he===null){zt===null&&(zt=dn);break}e&&zt&&he.alternate===null&&n(it,zt),J=v(he,J,Zt),te===null?Ct=he:te.sibling=he,te=he,zt=dn}if(Zt===ut.length)return o(it,zt),Vt&&lt(it,Zt),Ct;if(zt===null){for(;Zt<ut.length;Zt++)zt=wt(it,ut[Zt],_t),zt!==null&&(J=v(zt,J,Zt),te===null?Ct=zt:te.sibling=zt,te=zt);return Vt&&lt(it,Zt),Ct}for(zt=c(zt);Zt<ut.length;Zt++)dn=mt(zt,it,Zt,ut[Zt],_t),dn!==null&&(e&&dn.alternate!==null&&zt.delete(dn.key===null?Zt:dn.key),J=v(dn,J,Zt),te===null?Ct=dn:te.sibling=dn,te=dn);return e&&zt.forEach(function(Ua){return n(it,Ua)}),Vt&&lt(it,Zt),Ct}function Gt(it,J,ut,_t){if(ut==null)throw Error(s(151));for(var Ct=null,te=null,zt=J,Zt=J=0,dn=null,he=ut.next();zt!==null&&!he.done;Zt++,he=ut.next()){zt.index>Zt?(dn=zt,zt=null):dn=zt.sibling;var Ua=ht(it,zt,he.value,_t);if(Ua===null){zt===null&&(zt=dn);break}e&&zt&&Ua.alternate===null&&n(it,zt),J=v(Ua,J,Zt),te===null?Ct=Ua:te.sibling=Ua,te=Ua,zt=dn}if(he.done)return o(it,zt),Vt&&lt(it,Zt),Ct;if(zt===null){for(;!he.done;Zt++,he=ut.next())he=wt(it,he.value,_t),he!==null&&(J=v(he,J,Zt),te===null?Ct=he:te.sibling=he,te=he);return Vt&&lt(it,Zt),Ct}for(zt=c(zt);!he.done;Zt++,he=ut.next())he=mt(zt,it,Zt,he.value,_t),he!==null&&(e&&he.alternate!==null&&zt.delete(he.key===null?Zt:he.key),J=v(he,J,Zt),te===null?Ct=he:te.sibling=he,te=he);return e&&zt.forEach(function(Ew){return n(it,Ew)}),Vt&&lt(it,Zt),Ct}function xe(it,J,ut,_t){if(typeof ut=="object"&&ut!==null&&ut.type===N&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case S:t:{for(var Ct=ut.key;J!==null;){if(J.key===Ct){if(Ct=ut.type,Ct===N){if(J.tag===7){o(it,J.sibling),_t=m(J,ut.props.children),_t.return=it,it=_t;break t}}else if(J.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===ot&&Fg(Ct)===J.type){o(it,J.sibling),_t=m(J,ut.props),Hl(_t,ut),_t.return=it,it=_t;break t}o(it,J);break}else n(it,J);J=J.sibling}ut.type===N?(_t=li(ut.props.children,it.mode,_t,ut.key),_t.return=it,it=_t):(_t=bo(ut.type,ut.key,ut.props,null,it.mode,_t),Hl(_t,ut),_t.return=it,it=_t)}return M(it);case T:t:{for(Ct=ut.key;J!==null;){if(J.key===Ct)if(J.tag===4&&J.stateNode.containerInfo===ut.containerInfo&&J.stateNode.implementation===ut.implementation){o(it,J.sibling),_t=m(J,ut.children||[]),_t.return=it,it=_t;break t}else{o(it,J);break}else n(it,J);J=J.sibling}_t=ss(ut,it.mode,_t),_t.return=it,it=_t}return M(it);case ot:return Ct=ut._init,ut=Ct(ut._payload),xe(it,J,ut,_t)}if(st(ut))return Yt(it,J,ut,_t);if(U(ut)){if(Ct=U(ut),typeof Ct!="function")throw Error(s(150));return ut=Ct.call(ut),Gt(it,J,ut,_t)}if(typeof ut.then=="function")return xe(it,J,Iu(ut),_t);if(ut.$$typeof===D)return xe(it,J,Au(it,ut),_t);Uu(it,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint"?(ut=""+ut,J!==null&&J.tag===6?(o(it,J.sibling),_t=m(J,ut),_t.return=it,it=_t):(o(it,J),_t=Ml(ut,it.mode,_t),_t.return=it,it=_t),M(it)):o(it,J)}return function(it,J,ut,_t){try{zl=0;var Ct=xe(it,J,ut,_t);return ps=null,Ct}catch(zt){if(zt===Dl||zt===ju)throw zt;var te=Bn(29,zt,null,it.mode);return te.lanes=_t,te.return=it,te}finally{}}}var gs=Kg(!0),Xg=Kg(!1),Nr=H(null),ui=null;function Na(e){var n=e.alternate;Q(en,en.current&1),Q(Nr,e),ui===null&&(n===null||ds.current!==null||n.memoizedState!==null)&&(ui=e)}function Wg(e){if(e.tag===22){if(Q(en,en.current),Q(Nr,e),ui===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ui=e)}}else Aa()}function Aa(){Q(en,en.current),Q(Nr,Nr.current)}function Ii(e){X(Nr),ui===e&&(ui=null),X(en)}var en=H(0);function Gu(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Rm(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Vh(e,n,o,c){n=e.memoizedState,o=o(c,n),o=o==null?n:_({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Fh={enqueueSetState:function(e,n,o){e=e._reactInternals;var c=lr(),m=Ta(c);m.payload=n,o!=null&&(m.callback=o),n=Ea(e,m,c),n!==null&&(cr(n,e,c),kl(n,e,c))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var c=lr(),m=Ta(c);m.tag=1,m.payload=n,o!=null&&(m.callback=o),n=Ea(e,m,c),n!==null&&(cr(n,e,c),kl(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=lr(),c=Ta(o);c.tag=2,n!=null&&(c.callback=n),n=Ea(e,c,o),n!==null&&(cr(n,e,o),kl(n,e,o))}};function Qg(e,n,o,c,m,v,M){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,v,M):n.prototype&&n.prototype.isPureReactComponent?!On(o,c)||!On(m,v):!0}function Jg(e,n,o,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,c),n.state!==e&&Fh.enqueueReplaceState(n,n.state,null)}function To(e,n){var o=n;if("ref"in n){o={};for(var c in n)c!=="ref"&&(o[c]=n[c])}if(e=e.defaultProps){o===n&&(o=_({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}var Zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function tb(e){Zu(e)}function eb(e){console.error(e)}function nb(e){Zu(e)}function Yu(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function rb(e,n,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Kh(e,n,o){return o=Ta(o),o.tag=3,o.payload={element:null},o.callback=function(){Yu(e,n)},o}function ib(e){return e=Ta(e),e.tag=3,e}function ab(e,n,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=c.value;e.payload=function(){return m(v)},e.callback=function(){rb(n,o,c)}}var M=o.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(e.callback=function(){rb(n,o,c),typeof m!="function"&&(La===null?La=new Set([this]):La.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function ES(e,n,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=o.alternate,n!==null&&xo(n,o,m,!0),o=Nr.current,o!==null){switch(o.tag){case 13:return ui===null?vm():o.alternate===null&&qe===0&&(qe=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Th?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([c]):n.add(c),_m(e,c,m)),!1;case 22:return o.flags|=65536,c===Th?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([c]):o.add(c)),_m(e,c,m)),!1}throw Error(s(435,o.tag))}return _m(e,c,m),vm(),!1}if(Vt)return n=Nr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,c!==ln&&(e=Error(s(422),{cause:c}),Sa(Cn(e,o)))):(c!==ln&&(n=Error(s(423),{cause:c}),Sa(Cn(n,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=Cn(c,o),m=Kh(e.stateNode,c,m),Nh(e,m),qe!==4&&(qe=2)),!1;var v=Error(s(520),{cause:c});if(v=Cn(v,o),ql===null?ql=[v]:ql.push(v),qe!==4&&(qe=2),n===null)return!0;c=Cn(c,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=Kh(o.stateNode,c,e),Nh(o,e),!1;case 1:if(n=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(La===null||!La.has(v))))return o.flags|=65536,m&=-m,o.lanes|=m,m=ib(m),ab(m,e,o,c),Nh(o,m),!1}o=o.return}while(o!==null);return!1}var ob=Error(s(461)),cn=!1;function yn(e,n,o,c){n.child=e===null?Xg(n,null,o,c):gs(n,e.child,o,c)}function sb(e,n,o,c,m){o=o.render;var v=n.ref;if("ref"in c){var M={};for(var R in c)R!=="ref"&&(M[R]=c[R])}else M=c;return _o(n),c=Oh(e,n,o,M,v,m),R=Ch(),e!==null&&!cn?(Lh(e,n,m),Ui(e,n,m)):(Vt&&R&&Tt(n),n.flags|=1,yn(e,n,c,m),n.child)}function lb(e,n,o,c,m){if(e===null){var v=o.type;return typeof v=="function"&&!os(v)&&v.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=v,cb(e,n,v,c,m)):(e=bo(o.type,null,c,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,!rm(e,m)){var M=v.memoizedProps;if(o=o.compare,o=o!==null?o:On,o(M,c)&&e.ref===n.ref)return Ui(e,n,m)}return n.flags|=1,e=Er(v,c),e.ref=n.ref,e.return=n,n.child=e}function cb(e,n,o,c,m){if(e!==null){var v=e.memoizedProps;if(On(v,c)&&e.ref===n.ref)if(cn=!1,n.pendingProps=c=v,rm(e,m))(e.flags&131072)!==0&&(cn=!0);else return n.lanes=e.lanes,Ui(e,n,m)}return Xh(e,n,o,c,m)}function ub(e,n,o){var c=n.pendingProps,m=c.children,v=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((n.flags&128)!==0){if(c=v!==null?v.baseLanes|o:o,e!==null){for(m=n.child=e.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;n.childLanes=v&~c}else n.childLanes=0,n.child=null;return db(e,n,c,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,v!==null?v.cachePool:null),v!==null?cg(n,v):Dh(),Wg(n);else return n.lanes=n.childLanes=536870912,db(e,n,v!==null?v.baseLanes|o:o,o)}else v!==null?(Du(n,v.cachePool),cg(n,v),Aa(),n.memoizedState=null):(e!==null&&Du(n,null),Dh(),Aa());return yn(e,n,m,o),n.child}function db(e,n,o,c){var m=wh();return m=m===null?null:{parent:tn._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},e!==null&&Du(n,null),Dh(),Wg(n),e!==null&&xo(e,n,c,!0),null}function qu(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Xh(e,n,o,c,m){return _o(n),o=Oh(e,n,o,c,void 0,m),c=Ch(),e!==null&&!cn?(Lh(e,n,m),Ui(e,n,m)):(Vt&&c&&Tt(n),n.flags|=1,yn(e,n,o,m),n.child)}function fb(e,n,o,c,m,v){return _o(n),n.updateQueue=null,o=dg(n,c,o,m),ug(e),c=Ch(),e!==null&&!cn?(Lh(e,n,v),Ui(e,n,v)):(Vt&&c&&Tt(n),n.flags|=1,yn(e,n,o,v),n.child)}function hb(e,n,o,c,m){if(_o(n),n.stateNode===null){var v=zi,M=o.contextType;typeof M=="object"&&M!==null&&(v=Mn(M)),v=new o(c,v),n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Fh,n.stateNode=v,v._reactInternals=n,v=n.stateNode,v.props=c,v.state=n.memoizedState,v.refs={},Eh(n),M=o.contextType,v.context=typeof M=="object"&&M!==null?Mn(M):zi,v.state=n.memoizedState,M=o.getDerivedStateFromProps,typeof M=="function"&&(Vh(n,o,M,c),v.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(M=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),M!==v.state&&Fh.enqueueReplaceState(v,v.state,null),Cl(n,c,v,m),Ol(),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){v=n.stateNode;var R=n.memoizedProps,F=To(o,R);v.props=F;var dt=v.context,yt=o.contextType;M=zi,typeof yt=="object"&&yt!==null&&(M=Mn(yt));var wt=o.getDerivedStateFromProps;yt=typeof wt=="function"||typeof v.getSnapshotBeforeUpdate=="function",R=n.pendingProps!==R,yt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R||dt!==M)&&Jg(n,v,c,M),wa=!1;var ht=n.memoizedState;v.state=ht,Cl(n,c,v,m),Ol(),dt=n.memoizedState,R||ht!==dt||wa?(typeof wt=="function"&&(Vh(n,o,wt,c),dt=n.memoizedState),(F=wa||Qg(n,o,F,c,ht,dt,M))?(yt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=dt),v.props=c,v.state=dt,v.context=M,c=F):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{v=n.stateNode,Mh(e,n),M=n.memoizedProps,yt=To(o,M),v.props=yt,wt=n.pendingProps,ht=v.context,dt=o.contextType,F=zi,typeof dt=="object"&&dt!==null&&(F=Mn(dt)),R=o.getDerivedStateFromProps,(dt=typeof R=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M!==wt||ht!==F)&&Jg(n,v,c,F),wa=!1,ht=n.memoizedState,v.state=ht,Cl(n,c,v,m),Ol();var mt=n.memoizedState;M!==wt||ht!==mt||wa||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof R=="function"&&(Vh(n,o,R,c),mt=n.memoizedState),(yt=wa||Qg(n,o,yt,c,ht,mt,F)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(dt||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,mt,F),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,mt,F)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||M===e.memoizedProps&&ht===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&ht===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=mt),v.props=c,v.state=mt,v.context=F,c=yt):(typeof v.componentDidUpdate!="function"||M===e.memoizedProps&&ht===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&ht===e.memoizedState||(n.flags|=1024),c=!1)}return v=c,qu(e,n),c=(n.flags&128)!==0,v||c?(v=n.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:v.render(),n.flags|=1,e!==null&&c?(n.child=gs(n,e.child,null,m),n.child=gs(n,null,o,m)):yn(e,n,o,m),n.memoizedState=v.state,e=n.child):e=Ui(e,n,m),e}function mb(e,n,o,c){return _a(),n.flags|=256,yn(e,n,o,c),n.child}var Wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qh(e){return{baseLanes:e,cachePool:eg()}}function Jh(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Ar),e}function pb(e,n,o){var c=n.pendingProps,m=!1,v=(n.flags&128)!==0,M;if((M=v)||(M=e!==null&&e.memoizedState===null?!1:(en.current&2)!==0),M&&(m=!0,n.flags&=-129),M=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(m?Na(n):Aa(),Vt){var R=Rt,F;if(F=R){t:{for(F=R,R=Ie;F.nodeType!==8;){if(!R){R=null;break t}if(F=Xr(F.nextSibling),F===null){R=null;break t}}R=F}R!==null?(n.memoizedState={dehydrated:R,treeContext:E!==null?{id:B,overflow:V}:null,retryLane:536870912,hydrationErrors:null},F=Bn(18,null,null,0),F.stateNode=R,F.return=n,n.child=F,Ot=n,Rt=null,F=!0):F=!1}F||Vn(n)}if(R=n.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Rm(R)?n.lanes=32:n.lanes=536870912,null;Ii(n)}return R=c.children,c=c.fallback,m?(Aa(),m=n.mode,R=Vu({mode:"hidden",children:R},m),c=li(c,m,o,null),R.return=n,c.return=n,R.sibling=c,n.child=R,m=n.child,m.memoizedState=Qh(o),m.childLanes=Jh(e,M,o),n.memoizedState=Wh,c):(Na(n),tm(n,R))}if(F=e.memoizedState,F!==null&&(R=F.dehydrated,R!==null)){if(v)n.flags&256?(Na(n),n.flags&=-257,n=em(e,n,o)):n.memoizedState!==null?(Aa(),n.child=e.child,n.flags|=128,n=null):(Aa(),m=c.fallback,R=n.mode,c=Vu({mode:"visible",children:c.children},R),m=li(m,R,o,null),m.flags|=2,c.return=n,m.return=n,c.sibling=m,n.child=c,gs(n,e.child,null,o),c=n.child,c.memoizedState=Qh(o),c.childLanes=Jh(e,M,o),n.memoizedState=Wh,n=m);else if(Na(n),Rm(R)){if(M=R.nextSibling&&R.nextSibling.dataset,M)var dt=M.dgst;M=dt,c=Error(s(419)),c.stack="",c.digest=M,Sa({value:c,source:null,stack:null}),n=em(e,n,o)}else if(cn||xo(e,n,o,!1),M=(o&e.childLanes)!==0,cn||M){if(M=De,M!==null&&(c=o&-o,c=(c&42)!==0?1:ol(c),c=(c&(M.suspendedLanes|o))!==0?0:c,c!==0&&c!==F.retryLane))throw F.retryLane=c,va(e,c),cr(M,e,c),ob;R.data==="$?"||vm(),n=em(e,n,o)}else R.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=F.treeContext,Rt=Xr(R.nextSibling),Ot=n,Vt=!0,Ae=null,Ie=!1,e!==null&&(h[x++]=B,h[x++]=V,h[x++]=E,B=e.id,V=e.overflow,E=n),n=tm(n,c.children),n.flags|=4096);return n}return m?(Aa(),m=c.fallback,R=n.mode,F=e.child,dt=F.sibling,c=Er(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,dt!==null?m=Er(dt,m):(m=li(m,R,o,null),m.flags|=2),m.return=n,c.return=n,c.sibling=m,n.child=c,c=m,m=n.child,R=e.child.memoizedState,R===null?R=Qh(o):(F=R.cachePool,F!==null?(dt=tn._currentValue,F=F.parent!==dt?{parent:dt,pool:dt}:F):F=eg(),R={baseLanes:R.baseLanes|o,cachePool:F}),m.memoizedState=R,m.childLanes=Jh(e,M,o),n.memoizedState=Wh,c):(Na(n),o=e.child,e=o.sibling,o=Er(o,{mode:"visible",children:c.children}),o.return=n,o.sibling=null,e!==null&&(M=n.deletions,M===null?(n.deletions=[e],n.flags|=16):M.push(e)),n.child=o,n.memoizedState=null,o)}function tm(e,n){return n=Vu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Vu(e,n){return e=Bn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function em(e,n,o){return gs(n,e.child,null,o),e=tm(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gb(e,n,o){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),vo(e.return,n,o)}function nm(e,n,o,c,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=o,v.tailMode=m)}function bb(e,n,o){var c=n.pendingProps,m=c.revealOrder,v=c.tail;if(yn(e,n,c.children,o),c=en.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gb(e,o,n);else if(e.tag===19)gb(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(Q(en,c),m){case"forwards":for(o=n.child,m=null;o!==null;)e=o.alternate,e!==null&&Gu(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=n.child,n.child=null):(m=o.sibling,o.sibling=null),nm(n,!1,m,o,v);break;case"backwards":for(o=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Gu(e)===null){n.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}nm(n,!0,o,null,v);break;case"together":nm(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ui(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Ca|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(xo(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=Er(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Er(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function rm(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function MS(e,n,o){switch(n.tag){case 3:bt(n,n.stateNode.containerInfo),ci(n,tn,e.memoizedState.cache),_a();break;case 27:case 5:Et(n);break;case 4:bt(n,n.stateNode.containerInfo);break;case 10:ci(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Na(n),n.flags|=128,null):(o&n.child.childLanes)!==0?pb(e,n,o):(Na(n),e=Ui(e,n,o),e!==null?e.sibling:null);Na(n);break;case 19:var m=(e.flags&128)!==0;if(c=(o&n.childLanes)!==0,c||(xo(e,n,o,!1),c=(o&n.childLanes)!==0),m){if(c)return bb(e,n,o);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Q(en,en.current),c)break;return null;case 22:case 23:return n.lanes=0,ub(e,n,o);case 24:ci(n,tn,e.memoizedState.cache)}return Ui(e,n,o)}function yb(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)cn=!0;else{if(!rm(e,o)&&(n.flags&128)===0)return cn=!1,MS(e,n,o);cn=(e.flags&131072)!==0}else cn=!1,Vt&&(n.flags&1048576)!==0&&pt(n,l,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var c=n.elementType,m=c._init;if(c=m(c._payload),n.type=c,typeof c=="function")os(c)?(e=To(c,e),n.tag=1,n=hb(null,n,c,e,o)):(n.tag=0,n=Xh(null,n,c,e,o));else{if(c!=null){if(m=c.$$typeof,m===C){n.tag=11,n=sb(null,n,c,e,o);break t}else if(m===W){n.tag=14,n=lb(null,n,c,e,o);break t}}throw n=at(c)||c,Error(s(306,n,""))}}return n;case 0:return Xh(e,n,n.type,n.pendingProps,o);case 1:return c=n.type,m=To(c,n.pendingProps),hb(e,n,c,m,o);case 3:t:{if(bt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));c=n.pendingProps;var v=n.memoizedState;m=v.element,Mh(e,n),Cl(n,c,null,o);var M=n.memoizedState;if(c=M.cache,ci(n,tn,c),c!==v.cache&&ls(n,[tn],o,!0),Ol(),c=M.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:M.cache},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){n=mb(e,n,c,o);break t}else if(c!==m){m=Cn(Error(s(424)),n),Sa(m),n=mb(e,n,c,o);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Rt=Xr(e.firstChild),Ot=n,Vt=!0,Ae=null,Ie=!0,o=Xg(n,null,c,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(_a(),c===m){n=Ui(e,n,o);break t}yn(e,n,c,o)}n=n.child}return n;case 26:return qu(e,n),e===null?(o=Sy(n.type,null,n.pendingProps,null))?n.memoizedState=o:Vt||(o=n.type,e=n.pendingProps,c=sd(K.current).createElement(o),c[on]=n,c[wn]=e,xn(c,o,e),Xe(c),n.stateNode=c):n.memoizedState=Sy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Et(n),e===null&&Vt&&(c=n.stateNode=vy(n.type,n.pendingProps,K.current),Ot=n,Ie=!0,m=Rt,Pa(n.type)?(Pm=m,Rt=Xr(c.firstChild)):Rt=m),yn(e,n,n.pendingProps.children,o),qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((m=c=Rt)&&(c=tw(c,n.type,n.pendingProps,Ie),c!==null?(n.stateNode=c,Ot=n,Rt=Xr(c.firstChild),Ie=!1,m=!0):m=!1),m||Vn(n)),Et(n),m=n.type,v=n.pendingProps,M=e!==null?e.memoizedProps:null,c=v.children,Cm(m,v)?c=null:M!==null&&Cm(m,M)&&(n.flags|=32),n.memoizedState!==null&&(m=Oh(e,n,yS,null,null,o),ec._currentValue=m),qu(e,n),yn(e,n,c,o),n.child;case 6:return e===null&&Vt&&((e=o=Rt)&&(o=ew(o,n.pendingProps,Ie),o!==null?(n.stateNode=o,Ot=n,Rt=null,e=!0):e=!1),e||Vn(n)),null;case 13:return pb(e,n,o);case 4:return bt(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=gs(n,null,c,o):yn(e,n,c,o),n.child;case 11:return sb(e,n,n.type,n.pendingProps,o);case 7:return yn(e,n,n.pendingProps,o),n.child;case 8:return yn(e,n,n.pendingProps.children,o),n.child;case 12:return yn(e,n,n.pendingProps.children,o),n.child;case 10:return c=n.pendingProps,ci(n,n.type,c.value),yn(e,n,c.children,o),n.child;case 9:return m=n.type._context,c=n.pendingProps.children,_o(n),m=Mn(m),c=c(m),n.flags|=1,yn(e,n,c,o),n.child;case 14:return lb(e,n,n.type,n.pendingProps,o);case 15:return cb(e,n,n.type,n.pendingProps,o);case 19:return bb(e,n,o);case 31:return c=n.pendingProps,o=n.mode,c={mode:c.mode,children:c.children},e===null?(o=Vu(c,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=Er(e.child,c),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return ub(e,n,o);case 24:return _o(n),c=Mn(tn),e===null?(m=wh(),m===null&&(m=De,v=_h(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=o),m=v),n.memoizedState={parent:c,cache:m},Eh(n),ci(n,tn,m)):((e.lanes&o)!==0&&(Mh(e,n),Cl(n,null,null,o),Ol()),m=e.memoizedState,v=n.memoizedState,m.parent!==c?(m={parent:c,cache:c},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),ci(n,tn,c)):(c=v.cache,ci(n,tn,c),c!==m.cache&&ls(n,[tn],o,!0))),yn(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Gi(e){e.flags|=4}function vb(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ny(n)){if(n=Nr.current,n!==null&&((le&4194048)===le?ui!==null:(le&62914560)!==le&&(le&536870912)===0||n!==ui))throw jl=Th,ng;e.flags|=8192}}function Fu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ur():536870912,e.lanes|=n,xs|=n)}function $l(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(n)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,n}function NS(e,n,o){var c=n.pendingProps;switch(jt(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(n),null;case 1:return Ue(n),null;case 3:return o=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Fr(tn),Mt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(yo(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mu())),Ue(n),null;case 26:return o=n.memoizedState,e===null?(Gi(n),o!==null?(Ue(n),vb(n,o)):(Ue(n),n.flags&=-16777217)):o?o!==e.memoizedState?(Gi(n),Ue(n),vb(n,o)):(Ue(n),n.flags&=-16777217):(e.memoizedProps!==c&&Gi(n),Ue(n),n.flags&=-16777217),null;case 27:Lt(n),o=K.current;var m=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Gi(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Ue(n),null}e=z.current,yo(n)?Tu(n):(e=vy(m,c,o),n.stateNode=e,Gi(n))}return Ue(n),null;case 5:if(Lt(n),o=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Gi(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Ue(n),null}if(e=z.current,yo(n))Tu(n);else{switch(m=sd(K.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}e[on]=n,e[wn]=c;t:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break t;for(;m.sibling===null;){if(m.return===null||m.return===n)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=e;t:switch(xn(e,o,c),o){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Gi(n)}}return Ue(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Gi(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(s(166));if(e=K.current,yo(n)){if(e=n.stateNode,o=n.memoizedProps,c=null,m=Ot,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[on]=n,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||fy(e.nodeValue,o)),e||Vn(n)}else e=sd(e).createTextNode(c),e[on]=n,n.stateNode=e}return Ue(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=yo(n),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[on]=n}else _a(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ue(n),m=!1}else m=Mu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(Ii(n),n):(Ii(n),null)}if(Ii(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=c!==null,e=e!==null&&e.memoizedState!==null,o){c=n.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048)}return o!==e&&o&&(n.child.flags|=8192),Fu(n,n.updateQueue),Ue(n),null;case 4:return Mt(),e===null&&Am(n.stateNode.containerInfo),Ue(n),null;case 10:return Fr(n.type),Ue(n),null;case 19:if(X(en),m=n.memoizedState,m===null)return Ue(n),null;if(c=(n.flags&128)!==0,v=m.rendering,v===null)if(c)$l(m,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=Gu(e),v!==null){for(n.flags|=128,$l(m,!1),e=v.updateQueue,n.updateQueue=e,Fu(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)El(o,e),o=o.sibling;return Q(en,en.current&1|2),n.child}e=e.sibling}m.tail!==null&&$t()>Wu&&(n.flags|=128,c=!0,$l(m,!1),n.lanes=4194304)}else{if(!c)if(e=Gu(v),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Fu(n,e),$l(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Vt)return Ue(n),null}else 2*$t()-m.renderingStartTime>Wu&&o!==536870912&&(n.flags|=128,c=!0,$l(m,!1),n.lanes=4194304);m.isBackwards?(v.sibling=n.child,n.child=v):(e=m.last,e!==null?e.sibling=v:n.child=v,m.last=v)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=$t(),n.sibling=null,e=en.current,Q(en,c?e&1|2:e&1),n):(Ue(n),null);case 22:case 23:return Ii(n),jh(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(o&536870912)!==0&&(n.flags&128)===0&&(Ue(n),n.subtreeFlags&6&&(n.flags|=8192)):Ue(n),o=n.updateQueue,o!==null&&Fu(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==o&&(n.flags|=2048),e!==null&&X(So),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fr(tn),Ue(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function AS(e,n){switch(jt(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fr(tn),Mt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Lt(n),null;case 13:if(Ii(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));_a()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(en),null;case 4:return Mt(),null;case 10:return Fr(n.type),null;case 22:case 23:return Ii(n),jh(),e!==null&&X(So),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fr(tn),null;case 25:return null;default:return null}}function xb(e,n){switch(jt(n),n.tag){case 3:Fr(tn),Mt();break;case 26:case 27:case 5:Lt(n);break;case 4:Mt();break;case 13:Ii(n);break;case 19:X(en);break;case 10:Fr(n.type);break;case 22:case 23:Ii(n),jh(),e!==null&&X(So);break;case 24:Fr(tn)}}function Il(e,n){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var v=o.create,M=o.inst;c=v(),M.destroy=c}o=o.next}while(o!==m)}}catch(R){Te(n,n.return,R)}}function Da(e,n,o){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&e)===e){var M=c.inst,R=M.destroy;if(R!==void 0){M.destroy=void 0,m=n;var F=o,dt=R;try{dt()}catch(yt){Te(m,F,yt)}}}c=c.next}while(c!==v)}}catch(yt){Te(n,n.return,yt)}}function _b(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{lg(n,o)}catch(c){Te(e,e.return,c)}}}function Sb(e,n,o){o.props=To(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Te(e,n,c)}}function Ul(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(m){Te(e,n,m)}}function di(e,n){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Te(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Te(e,n,m)}else o.current=null}function wb(e){var n=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Te(e,e.return,m)}}function im(e,n,o){try{var c=e.stateNode;KS(c,e.type,o,n),c[wn]=n}catch(m){Te(e,e.return,m)}}function Tb(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pa(e.type)||e.tag===4}function am(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Tb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function om(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=od));else if(c!==4&&(c===27&&Pa(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(om(e,n,o),e=e.sibling;e!==null;)om(e,n,o),e=e.sibling}function Ku(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(c!==4&&(c===27&&Pa(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Ku(e,n,o),e=e.sibling;e!==null;)Ku(e,n,o),e=e.sibling}function Eb(e){var n=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);xn(n,c,o),n[on]=e,n[wn]=o}catch(v){Te(e,e.return,v)}}var Zi=!1,Ke=!1,sm=!1,Mb=typeof WeakSet=="function"?WeakSet:Set,un=null;function DS(e,n){if(e=e.containerInfo,km=hd,e=uo(e),fo(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break t}var M=0,R=-1,F=-1,dt=0,yt=0,wt=e,ht=null;e:for(;;){for(var mt;wt!==o||m!==0&&wt.nodeType!==3||(R=M+m),wt!==v||c!==0&&wt.nodeType!==3||(F=M+c),wt.nodeType===3&&(M+=wt.nodeValue.length),(mt=wt.firstChild)!==null;)ht=wt,wt=mt;for(;;){if(wt===e)break e;if(ht===o&&++dt===m&&(R=M),ht===v&&++yt===c&&(F=M),(mt=wt.nextSibling)!==null)break;wt=ht,ht=wt.parentNode}wt=mt}o=R===-1||F===-1?null:{start:R,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Om={focusedElem:e,selectionRange:o},hd=!1,un=n;un!==null;)if(n=un,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,un=e;else for(;un!==null;){switch(n=un,v=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,o=n,m=v.memoizedProps,v=v.memoizedState,c=o.stateNode;try{var Yt=To(o.type,m,o.elementType===o.type);e=c.getSnapshotBeforeUpdate(Yt,v),c.__reactInternalSnapshotBeforeUpdate=e}catch(Gt){Te(o,o.return,Gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Bm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,un=e;break}un=n.return}}function Nb(e,n,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ja(e,o),c&4&&Il(5,o);break;case 1:if(ja(e,o),c&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(M){Te(o,o.return,M)}else{var m=To(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(M){Te(o,o.return,M)}}c&64&&_b(o),c&512&&Ul(o,o.return);break;case 3:if(ja(e,o),c&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{lg(e,n)}catch(M){Te(o,o.return,M)}}break;case 27:n===null&&c&4&&Eb(o);case 26:case 5:ja(e,o),n===null&&c&4&&wb(o),c&512&&Ul(o,o.return);break;case 12:ja(e,o);break;case 13:ja(e,o),c&4&&jb(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=zS.bind(null,o),nw(e,o))));break;case 22:if(c=o.memoizedState!==null||Zi,!c){n=n!==null&&n.memoizedState!==null||Ke,m=Zi;var v=Ke;Zi=c,(Ke=n)&&!v?ka(e,o,(o.subtreeFlags&8772)!==0):ja(e,o),Zi=m,Ke=v}break;case 30:break;default:ja(e,o)}}function Ab(e){var n=e.alternate;n!==null&&(e.alternate=null,Ab(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Go(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,Kn=!1;function Yi(e,n,o){for(o=o.child;o!==null;)Db(e,n,o),o=o.sibling}function Db(e,n,o){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(je,o)}catch{}switch(o.tag){case 26:Ke||di(o,n),Yi(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ke||di(o,n);var c=Pe,m=Kn;Pa(o.type)&&(Pe=o.stateNode,Kn=!1),Yi(e,n,o),Wl(o.stateNode),Pe=c,Kn=m;break;case 5:Ke||di(o,n);case 6:if(c=Pe,m=Kn,Pe=null,Yi(e,n,o),Pe=c,Kn=m,Pe!==null)if(Kn)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(o.stateNode)}catch(v){Te(o,n,v)}else try{Pe.removeChild(o.stateNode)}catch(v){Te(o,n,v)}break;case 18:Pe!==null&&(Kn?(e=Pe,by(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),ac(e)):by(Pe,o.stateNode));break;case 4:c=Pe,m=Kn,Pe=o.stateNode.containerInfo,Kn=!0,Yi(e,n,o),Pe=c,Kn=m;break;case 0:case 11:case 14:case 15:Ke||Da(2,o,n),Ke||Da(4,o,n),Yi(e,n,o);break;case 1:Ke||(di(o,n),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Sb(o,n,c)),Yi(e,n,o);break;case 21:Yi(e,n,o);break;case 22:Ke=(c=Ke)||o.memoizedState!==null,Yi(e,n,o),Ke=c;break;default:Yi(e,n,o)}}function jb(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ac(e)}catch(o){Te(n,n.return,o)}}function jS(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Mb),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Mb),n;default:throw Error(s(435,e.tag))}}function lm(e,n){var o=jS(e);n.forEach(function(c){var m=HS.bind(null,e,c);o.has(c)||(o.add(c),c.then(m,m))})}function ar(e,n){var o=n.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],v=e,M=n,R=M;t:for(;R!==null;){switch(R.tag){case 27:if(Pa(R.type)){Pe=R.stateNode,Kn=!1;break t}break;case 5:Pe=R.stateNode,Kn=!1;break t;case 3:case 4:Pe=R.stateNode.containerInfo,Kn=!0;break t}R=R.return}if(Pe===null)throw Error(s(160));Db(v,M,m),Pe=null,Kn=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)kb(n,e),n=n.sibling}var Kr=null;function kb(e,n){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ar(n,e),or(e),c&4&&(Da(3,e,e.return),Il(3,e),Da(5,e,e.return));break;case 1:ar(n,e),or(e),c&512&&(Ke||o===null||di(o,o.return)),c&64&&Zi&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Kr;if(ar(n,e),or(e),c&512&&(Ke||o===null||di(o,o.return)),c&4){var v=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":v=m.getElementsByTagName("title")[0],(!v||v[ta]||v[on]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(c),m.head.insertBefore(v,m.querySelector("head > title"))),xn(v,c,o),v[on]=e,Xe(v),c=v;break t;case"link":var M=Ey("link","href",m).get(c+(o.href||""));if(M){for(var R=0;R<M.length;R++)if(v=M[R],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){M.splice(R,1);break e}}v=m.createElement(c),xn(v,c,o),m.head.appendChild(v);break;case"meta":if(M=Ey("meta","content",m).get(c+(o.content||""))){for(R=0;R<M.length;R++)if(v=M[R],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){M.splice(R,1);break e}}v=m.createElement(c),xn(v,c,o),m.head.appendChild(v);break;default:throw Error(s(468,c))}v[on]=e,Xe(v),c=v}e.stateNode=c}else My(m,e.type,e.stateNode);else e.stateNode=Ty(m,c,e.memoizedProps);else v!==c?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,c===null?My(m,e.type,e.stateNode):Ty(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&im(e,e.memoizedProps,o.memoizedProps)}break;case 27:ar(n,e),or(e),c&512&&(Ke||o===null||di(o,o.return)),o!==null&&c&4&&im(e,e.memoizedProps,o.memoizedProps);break;case 5:if(ar(n,e),or(e),c&512&&(Ke||o===null||di(o,o.return)),e.flags&32){m=e.stateNode;try{xr(m,"")}catch(mt){Te(e,e.return,mt)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,im(e,m,o!==null?o.memoizedProps:m)),c&1024&&(sm=!0);break;case 6:if(ar(n,e),or(e),c&4){if(e.stateNode===null)throw Error(s(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(mt){Te(e,e.return,mt)}}break;case 3:if(ud=null,m=Kr,Kr=ld(n.containerInfo),ar(n,e),Kr=m,or(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ac(n.containerInfo)}catch(mt){Te(e,e.return,mt)}sm&&(sm=!1,Ob(e));break;case 4:c=Kr,Kr=ld(e.stateNode.containerInfo),ar(n,e),or(e),Kr=c;break;case 12:ar(n,e),or(e);break;case 13:ar(n,e),or(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(mm=$t()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,lm(e,c)));break;case 22:m=e.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,dt=Zi,yt=Ke;if(Zi=dt||m,Ke=yt||F,ar(n,e),Ke=yt,Zi=dt,or(e),c&8192)t:for(n=e.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(o===null||F||Zi||Ke||Eo(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){F=o=n;try{if(v=F.stateNode,m)M=v.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{R=F.stateNode;var wt=F.memoizedProps.style,ht=wt!=null&&wt.hasOwnProperty("display")?wt.display:null;R.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(mt){Te(F,F.return,mt)}}}else if(n.tag===6){if(o===null){F=n;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(mt){Te(F,F.return,mt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,lm(e,o))));break;case 19:ar(n,e),or(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,lm(e,c)));break;case 30:break;case 21:break;default:ar(n,e),or(e)}}function or(e){var n=e.flags;if(n&2){try{for(var o,c=e.return;c!==null;){if(Tb(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,v=am(e);Ku(e,v,m);break;case 5:var M=o.stateNode;o.flags&32&&(xr(M,""),o.flags&=-33);var R=am(e);Ku(e,R,M);break;case 3:case 4:var F=o.stateNode.containerInfo,dt=am(e);om(e,dt,F);break;default:throw Error(s(161))}}catch(yt){Te(e,e.return,yt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ob(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ob(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ja(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Nb(e,n.alternate,n),n=n.sibling}function Eo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Da(4,n,n.return),Eo(n);break;case 1:di(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Sb(n,n.return,o),Eo(n);break;case 27:Wl(n.stateNode);case 26:case 5:di(n,n.return),Eo(n);break;case 22:n.memoizedState===null&&Eo(n);break;case 30:Eo(n);break;default:Eo(n)}e=e.sibling}}function ka(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,m=e,v=n,M=v.flags;switch(v.tag){case 0:case 11:case 15:ka(m,v,o),Il(4,v);break;case 1:if(ka(m,v,o),c=v,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(dt){Te(c,c.return,dt)}if(c=v,m=c.updateQueue,m!==null){var R=c.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)sg(F[m],R)}catch(dt){Te(c,c.return,dt)}}o&&M&64&&_b(v),Ul(v,v.return);break;case 27:Eb(v);case 26:case 5:ka(m,v,o),o&&c===null&&M&4&&wb(v),Ul(v,v.return);break;case 12:ka(m,v,o);break;case 13:ka(m,v,o),o&&M&4&&jb(m,v);break;case 22:v.memoizedState===null&&ka(m,v,o),Ul(v,v.return);break;case 30:break;default:ka(m,v,o)}n=n.sibling}}function cm(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Nl(o))}function um(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e))}function fi(e,n,o,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cb(e,n,o,c),n=n.sibling}function Cb(e,n,o,c){var m=n.flags;switch(n.tag){case 0:case 11:case 15:fi(e,n,o,c),m&2048&&Il(9,n);break;case 1:fi(e,n,o,c);break;case 3:fi(e,n,o,c),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e)));break;case 12:if(m&2048){fi(e,n,o,c),e=n.stateNode;try{var v=n.memoizedProps,M=v.id,R=v.onPostCommit;typeof R=="function"&&R(M,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(F){Te(n,n.return,F)}}else fi(e,n,o,c);break;case 13:fi(e,n,o,c);break;case 23:break;case 22:v=n.stateNode,M=n.alternate,n.memoizedState!==null?v._visibility&2?fi(e,n,o,c):Gl(e,n):v._visibility&2?fi(e,n,o,c):(v._visibility|=2,bs(e,n,o,c,(n.subtreeFlags&10256)!==0)),m&2048&&cm(M,n);break;case 24:fi(e,n,o,c),m&2048&&um(n.alternate,n);break;default:fi(e,n,o,c)}}function bs(e,n,o,c,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var v=e,M=n,R=o,F=c,dt=M.flags;switch(M.tag){case 0:case 11:case 15:bs(v,M,R,F,m),Il(8,M);break;case 23:break;case 22:var yt=M.stateNode;M.memoizedState!==null?yt._visibility&2?bs(v,M,R,F,m):Gl(v,M):(yt._visibility|=2,bs(v,M,R,F,m)),m&&dt&2048&&cm(M.alternate,M);break;case 24:bs(v,M,R,F,m),m&&dt&2048&&um(M.alternate,M);break;default:bs(v,M,R,F,m)}n=n.sibling}}function Gl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,c=n,m=c.flags;switch(c.tag){case 22:Gl(o,c),m&2048&&cm(c.alternate,c);break;case 24:Gl(o,c),m&2048&&um(c.alternate,c);break;default:Gl(o,c)}n=n.sibling}}var Zl=8192;function ys(e){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)Lb(e),e=e.sibling}function Lb(e){switch(e.tag){case 26:ys(e),e.flags&Zl&&e.memoizedState!==null&&pw(Kr,e.memoizedState,e.memoizedProps);break;case 5:ys(e);break;case 3:case 4:var n=Kr;Kr=ld(e.stateNode.containerInfo),ys(e),Kr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Zl,Zl=16777216,ys(e),Zl=n):ys(e));break;default:ys(e)}}function Bb(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var c=n[o];un=c,Pb(c,e)}Bb(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rb(e),e=e.sibling}function Rb(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&Da(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Xu(e)):Yl(e);break;default:Yl(e)}}function Xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var c=n[o];un=c,Pb(c,e)}Bb(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Da(8,n,n.return),Xu(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Xu(n));break;default:Xu(n)}e=e.sibling}}function Pb(e,n){for(;un!==null;){var o=un;switch(o.tag){case 0:case 11:case 15:Da(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Nl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,un=c;else t:for(o=e;un!==null;){c=un;var m=c.sibling,v=c.return;if(Ab(c),c===o){un=null;break t}if(m!==null){m.return=v,un=m;break t}un=v}}}var kS={getCacheForType:function(e){var n=Mn(tn),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o}},OS=typeof WeakMap=="function"?WeakMap:Map,ge=0,De=null,ne=null,le=0,be=0,sr=null,Oa=!1,vs=!1,dm=!1,qi=0,qe=0,Ca=0,Mo=0,fm=0,Ar=0,xs=0,ql=null,Xn=null,hm=!1,mm=0,Wu=1/0,Qu=null,La=null,vn=0,Ba=null,_s=null,Ss=0,pm=0,gm=null,zb=null,Vl=0,bm=null;function lr(){if((ge&2)!==0&&le!==0)return le&-le;if(Z.T!==null){var e=cs;return e!==0?e:Tm()}return Jc()}function Hb(){Ar===0&&(Ar=(le&536870912)===0||Vt?Wa():536870912);var e=Nr.current;return e!==null&&(e.flags|=32),Ar}function cr(e,n,o){(e===De&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(ws(e,0),Ra(e,le,Ar,!1)),vi(e,o),((ge&2)===0||e!==De)&&(e===De&&((ge&2)===0&&(Mo|=o),qe===4&&Ra(e,le,Ar,!1)),hi(e))}function $b(e,n,o){if((ge&6)!==0)throw Error(s(327));var c=!o&&(n&124)===0&&(n&e.expiredLanes)===0||Gn(e,n),m=c?BS(e,n):xm(e,n,!0),v=c;do{if(m===0){vs&&!c&&Ra(e,n,0,!1);break}else{if(o=e.current.alternate,v&&!CS(o)){m=xm(e,n,!1),v=!1;continue}if(m===2){if(v=n,e.errorRecoveryDisabledLanes&v)var M=0;else M=e.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){n=M;t:{var R=e;m=ql;var F=R.current.memoizedState.isDehydrated;if(F&&(ws(R,M).flags|=256),M=xm(R,M,!1),M!==2){if(dm&&!F){R.errorRecoveryDisabledLanes|=v,Mo|=v,m=4;break t}v=Xn,Xn=m,v!==null&&(Xn===null?Xn=v:Xn.push.apply(Xn,v))}m=M}if(v=!1,m!==2)continue}}if(m===1){ws(e,0),Ra(e,n,0,!0);break}t:{switch(c=e,v=m,v){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ra(c,n,Ar,!Oa);break t;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=mm+300-$t(),10<m)){if(Ra(c,n,Ar,!Oa),Ir(c,0,!0)!==0)break t;c.timeoutHandle=py(Ib.bind(null,c,o,Xn,Qu,hm,n,Ar,Mo,xs,Oa,v,2,-0,0),m);break t}Ib(c,o,Xn,Qu,hm,n,Ar,Mo,xs,Oa,v,0,-0,0)}}break}while(!0);hi(e)}function Ib(e,n,o,c,m,v,M,R,F,dt,yt,wt,ht,mt){if(e.timeoutHandle=-1,wt=n.subtreeFlags,(wt&8192||(wt&16785408)===16785408)&&(tc={stylesheets:null,count:0,unsuspend:mw},Lb(n),wt=gw(),wt!==null)){e.cancelPendingCommit=wt(Fb.bind(null,e,n,v,o,c,m,M,R,F,yt,1,ht,mt)),Ra(e,v,M,!dt);return}Fb(e,n,v,o,c,m,M,R,F)}function CS(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],v=m.getSnapshot;m=m.value;try{if(!kn(v(),m))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ra(e,n,o,c){n&=~fm,n&=~Mo,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var m=n;0<m;){var v=31-Be(m),M=1<<v;c[v]=-1,m&=~M}o!==0&&Qa(e,o,n)}function Ju(){return(ge&6)===0?(Fl(0),!1):!0}function ym(){if(ne!==null){if(be===0)var e=ne.return;else e=ne,Vr=Mr=null,Bh(e),ps=null,zl=0,e=ne;for(;e!==null;)xb(e.alternate,e),e=e.return;ne=null}}function ws(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,WS(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),ym(),De=e,ne=o=Er(e.current,null),le=n,be=0,sr=null,Oa=!1,vs=Gn(e,n),dm=!1,xs=Ar=fm=Mo=Ca=qe=0,Xn=ql=null,hm=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var m=31-Be(c),v=1<<m;n|=e[m],c&=~v}return qi=n,mo(),o}function Ub(e,n){Qt=null,Z.H=$u,n===Dl||n===ju?(n=ag(),be=3):n===ng?(n=ag(),be=4):be=n===ob?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sr=n,ne===null&&(qe=1,Yu(e,Cn(n,e.current)))}function Gb(){var e=Z.H;return Z.H=$u,e===null?$u:e}function Zb(){var e=Z.A;return Z.A=kS,e}function vm(){qe=4,Oa||(le&4194048)!==le&&Nr.current!==null||(vs=!0),(Ca&134217727)===0&&(Mo&134217727)===0||De===null||Ra(De,le,Ar,!1)}function xm(e,n,o){var c=ge;ge|=2;var m=Gb(),v=Zb();(De!==e||le!==n)&&(Qu=null,ws(e,n)),n=!1;var M=qe;t:do try{if(be!==0&&ne!==null){var R=ne,F=sr;switch(be){case 8:ym(),M=6;break t;case 3:case 2:case 9:case 6:Nr.current===null&&(n=!0);var dt=be;if(be=0,sr=null,Ts(e,R,F,dt),o&&vs){M=0;break t}break;default:dt=be,be=0,sr=null,Ts(e,R,F,dt)}}LS(),M=qe;break}catch(yt){Ub(e,yt)}while(!0);return n&&e.shellSuspendCounter++,Vr=Mr=null,ge=c,Z.H=m,Z.A=v,ne===null&&(De=null,le=0,mo()),M}function LS(){for(;ne!==null;)Yb(ne)}function BS(e,n){var o=ge;ge|=2;var c=Gb(),m=Zb();De!==e||le!==n?(Qu=null,Wu=$t()+500,ws(e,n)):vs=Gn(e,n);t:do try{if(be!==0&&ne!==null){n=ne;var v=sr;e:switch(be){case 1:be=0,sr=null,Ts(e,n,v,1);break;case 2:case 9:if(rg(v)){be=0,sr=null,qb(n);break}n=function(){be!==2&&be!==9||De!==e||(be=7),hi(e)},v.then(n,n);break t;case 3:be=7;break t;case 4:be=5;break t;case 7:rg(v)?(be=0,sr=null,qb(n)):(be=0,sr=null,Ts(e,n,v,7));break;case 5:var M=null;switch(ne.tag){case 26:M=ne.memoizedState;case 5:case 27:var R=ne;if(!M||Ny(M)){be=0,sr=null;var F=R.sibling;if(F!==null)ne=F;else{var dt=R.return;dt!==null?(ne=dt,td(dt)):ne=null}break e}}be=0,sr=null,Ts(e,n,v,5);break;case 6:be=0,sr=null,Ts(e,n,v,6);break;case 8:ym(),qe=6;break t;default:throw Error(s(462))}}RS();break}catch(yt){Ub(e,yt)}while(!0);return Vr=Mr=null,Z.H=c,Z.A=m,ge=o,ne!==null?0:(De=null,le=0,mo(),qe)}function RS(){for(;ne!==null&&!It();)Yb(ne)}function Yb(e){var n=yb(e.alternate,e,qi);e.memoizedProps=e.pendingProps,n===null?td(e):ne=n}function qb(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=fb(o,n,n.pendingProps,n.type,void 0,le);break;case 11:n=fb(o,n,n.pendingProps,n.type.render,n.ref,le);break;case 5:Bh(n);default:xb(o,n),n=ne=El(n,qi),n=yb(o,n,qi)}e.memoizedProps=e.pendingProps,n===null?td(e):ne=n}function Ts(e,n,o,c){Vr=Mr=null,Bh(n),ps=null,zl=0;var m=n.return;try{if(ES(e,m,n,o,le)){qe=1,Yu(e,Cn(o,e.current)),ne=null;return}}catch(v){if(m!==null)throw ne=m,v;qe=1,Yu(e,Cn(o,e.current)),ne=null;return}n.flags&32768?(Vt||c===1?e=!0:vs||(le&536870912)!==0?e=!1:(Oa=e=!0,(c===2||c===9||c===3||c===6)&&(c=Nr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Vb(n,e)):td(n)}function td(e){var n=e;do{if((n.flags&32768)!==0){Vb(n,Oa);return}e=n.return;var o=NS(n.alternate,n,qi);if(o!==null){ne=o;return}if(n=n.sibling,n!==null){ne=n;return}ne=n=e}while(n!==null);qe===0&&(qe=5)}function Vb(e,n){do{var o=AS(e.alternate,e);if(o!==null){o.flags&=32767,ne=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){ne=e;return}ne=e=o}while(e!==null);qe=6,ne=null}function Fb(e,n,o,c,m,v,M,R,F){e.cancelPendingCommit=null;do ed();while(vn!==0);if((ge&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(v=n.lanes|n.childLanes,v|=ir,al(e,o,v,M,R,F),e===De&&(ne=De=null,le=0),_s=n,Ba=e,Ss=o,pm=v,gm=m,zb=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$S(vt,function(){return Jb(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,m=rt.p,rt.p=2,M=ge,ge|=4;try{DS(e,n,o)}finally{ge=M,rt.p=m,Z.T=c}}vn=1,Kb(),Xb(),Wb()}}function Kb(){if(vn===1){vn=0;var e=Ba,n=_s,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=rt.p;rt.p=2;var m=ge;ge|=4;try{kb(n,e);var v=Om,M=uo(e.containerInfo),R=v.focusedElem,F=v.selectionRange;if(M!==R&&R&&R.ownerDocument&&es(R.ownerDocument.documentElement,R)){if(F!==null&&fo(R)){var dt=F.start,yt=F.end;if(yt===void 0&&(yt=dt),"selectionStart"in R)R.selectionStart=dt,R.selectionEnd=Math.min(yt,R.value.length);else{var wt=R.ownerDocument||document,ht=wt&&wt.defaultView||window;if(ht.getSelection){var mt=ht.getSelection(),Yt=R.textContent.length,Gt=Math.min(F.start,Yt),xe=F.end===void 0?Gt:Math.min(F.end,Yt);!mt.extend&&Gt>xe&&(M=xe,xe=Gt,Gt=M);var it=wl(R,Gt),J=wl(R,xe);if(it&&J&&(mt.rangeCount!==1||mt.anchorNode!==it.node||mt.anchorOffset!==it.offset||mt.focusNode!==J.node||mt.focusOffset!==J.offset)){var ut=wt.createRange();ut.setStart(it.node,it.offset),mt.removeAllRanges(),Gt>xe?(mt.addRange(ut),mt.extend(J.node,J.offset)):(ut.setEnd(J.node,J.offset),mt.addRange(ut))}}}}for(wt=[],mt=R;mt=mt.parentNode;)mt.nodeType===1&&wt.push({element:mt,left:mt.scrollLeft,top:mt.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<wt.length;R++){var _t=wt[R];_t.element.scrollLeft=_t.left,_t.element.scrollTop=_t.top}}hd=!!km,Om=km=null}finally{ge=m,rt.p=c,Z.T=o}}e.current=n,vn=2}}function Xb(){if(vn===2){vn=0;var e=Ba,n=_s,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=rt.p;rt.p=2;var m=ge;ge|=4;try{Nb(e,n.alternate,n)}finally{ge=m,rt.p=c,Z.T=o}}vn=3}}function Wb(){if(vn===4||vn===3){vn=0,ee();var e=Ba,n=_s,o=Ss,c=zb;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?vn=5:(vn=0,_s=Ba=null,Qb(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(La=null),sl(o),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(je,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=Z.T,m=rt.p,rt.p=2,Z.T=null;try{for(var v=e.onRecoverableError,M=0;M<c.length;M++){var R=c[M];v(R.value,{componentStack:R.stack})}}finally{Z.T=n,rt.p=m}}(Ss&3)!==0&&ed(),hi(e),m=e.pendingLanes,(o&4194090)!==0&&(m&42)!==0?e===bm?Vl++:(Vl=0,bm=e):Vl=0,Fl(0)}}function Qb(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Nl(n)))}function ed(e){return Kb(),Xb(),Wb(),Jb()}function Jb(){if(vn!==5)return!1;var e=Ba,n=pm;pm=0;var o=sl(Ss),c=Z.T,m=rt.p;try{rt.p=32>o?32:o,Z.T=null,o=gm,gm=null;var v=Ba,M=Ss;if(vn=0,_s=Ba=null,Ss=0,(ge&6)!==0)throw Error(s(331));var R=ge;if(ge|=4,Rb(v.current),Cb(v,v.current,M,o),ge=R,Fl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(je,v)}catch{}return!0}finally{rt.p=m,Z.T=c,Qb(e,n)}}function ty(e,n,o){n=Cn(o,n),n=Kh(e.stateNode,n,2),e=Ea(e,n,2),e!==null&&(vi(e,2),hi(e))}function Te(e,n,o){if(e.tag===3)ty(e,e,o);else for(;n!==null;){if(n.tag===3){ty(n,e,o);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(La===null||!La.has(c))){e=Cn(o,e),o=ib(2),c=Ea(n,o,2),c!==null&&(ab(o,c,n,e),vi(c,2),hi(c));break}}n=n.return}}function _m(e,n,o){var c=e.pingCache;if(c===null){c=e.pingCache=new OS;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(o)||(dm=!0,m.add(o),e=PS.bind(null,e,n,o),n.then(e,e))}function PS(e,n,o){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,De===e&&(le&o)===o&&(qe===4||qe===3&&(le&62914560)===le&&300>$t()-mm?(ge&2)===0&&ws(e,0):fm|=o,xs===le&&(xs=0)),hi(e)}function ey(e,n){n===0&&(n=Ur()),e=va(e,n),e!==null&&(vi(e,n),hi(e))}function zS(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),ey(e,o)}function HS(e,n){var o=0;switch(e.tag){case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(n),ey(e,o)}function $S(e,n){return St(e,n)}var nd=null,Es=null,Sm=!1,rd=!1,wm=!1,No=0;function hi(e){e!==Es&&e.next===null&&(Es===null?nd=Es=e:Es=Es.next=e),rd=!0,Sm||(Sm=!0,US())}function Fl(e,n){if(!wm&&rd){wm=!0;do for(var o=!1,c=nd;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var v=0;else{var M=c.suspendedLanes,R=c.pingedLanes;v=(1<<31-Be(42|e)+1)-1,v&=m&~(M&~R),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,ay(c,v))}else v=le,v=Ir(c,c===De?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Gn(c,v)||(o=!0,ay(c,v));c=c.next}while(o);wm=!1}}function IS(){ny()}function ny(){rd=Sm=!1;var e=0;No!==0&&(XS()&&(e=No),No=0);for(var n=$t(),o=null,c=nd;c!==null;){var m=c.next,v=ry(c,n);v===0?(c.next=null,o===null?nd=m:o.next=m,m===null&&(Es=o)):(o=c,(e!==0||(v&3)!==0)&&(rd=!0)),c=m}Fl(e)}function ry(e,n){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var M=31-Be(v),R=1<<M,F=m[M];F===-1?((R&o)===0||(R&c)!==0)&&(m[M]=il(R,n)):F<=n&&(e.expiredLanes|=R),v&=~R}if(n=De,o=le,o=Ir(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===n&&(be===2||be===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&kt(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Gn(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(c!==null&&kt(c),sl(o)){case 2:case 8:o=Bt;break;case 32:o=vt;break;case 268435456:o=He;break;default:o=vt}return c=iy.bind(null,e),o=St(o,c),e.callbackPriority=n,e.callbackNode=o,n}return c!==null&&c!==null&&kt(c),e.callbackPriority=2,e.callbackNode=null,2}function iy(e,n){if(vn!==0&&vn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(ed()&&e.callbackNode!==o)return null;var c=le;return c=Ir(e,e===De?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:($b(e,c,n),ry(e,$t()),e.callbackNode!=null&&e.callbackNode===o?iy.bind(null,e):null)}function ay(e,n){if(ed())return null;$b(e,n,!0)}function US(){QS(function(){(ge&6)!==0?St(xt,IS):ny()})}function Tm(){return No===0&&(No=Wa()),No}function oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function sy(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function GS(e,n,o,c,m){if(n==="submit"&&o&&o.stateNode===m){var v=oy((m[wn]||null).action),M=c.submitter;M&&(n=(n=M[wn]||null)?oy(n.formAction):M.getAttribute("formAction"),n!==null&&(v=n,M=null));var R=new ao("action","action",null,c,m);e.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(No!==0){var F=M?sy(m,M):new FormData(m);Zh(o,{pending:!0,data:F,method:m.method,action:v},null,F)}}else typeof v=="function"&&(R.preventDefault(),F=M?sy(m,M):new FormData(m),Zh(o,{pending:!0,data:F,method:m.method,action:v},v,F))},currentTarget:m}]})}}for(var Em=0;Em<Bi.length;Em++){var Mm=Bi[Em],ZS=Mm.toLowerCase(),YS=Mm[0].toUpperCase()+Mm.slice(1);rr(ZS,"on"+YS)}rr(_u,"onAnimationEnd"),rr(nr,"onAnimationIteration"),rr(ho,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(vh,"onTransitionRun"),rr(as,"onTransitionStart"),rr(xh,"onTransitionCancel"),rr(Tl,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function ly(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var v=void 0;if(n)for(var M=c.length-1;0<=M;M--){var R=c[M],F=R.instance,dt=R.currentTarget;if(R=R.listener,F!==v&&m.isPropagationStopped())break t;v=R,m.currentTarget=dt;try{v(m)}catch(yt){Zu(yt)}m.currentTarget=null,v=F}else for(M=0;M<c.length;M++){if(R=c[M],F=R.instance,dt=R.currentTarget,R=R.listener,F!==v&&m.isPropagationStopped())break t;v=R,m.currentTarget=dt;try{v(m)}catch(yt){Zu(yt)}m.currentTarget=null,v=F}}}}function re(e,n){var o=n[Yn];o===void 0&&(o=n[Yn]=new Set);var c=e+"__bubble";o.has(c)||(cy(n,e,2,!1),o.add(c))}function Nm(e,n,o){var c=0;n&&(c|=4),cy(o,e,c,n)}var id="_reactListening"+Math.random().toString(36).slice(2);function Am(e){if(!e[id]){e[id]=!0,eu.forEach(function(o){o!=="selectionchange"&&(qS.has(o)||Nm(o,!1,e),Nm(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[id]||(n[id]=!0,Nm("selectionchange",!1,n))}}function cy(e,n,o,c){switch(Cy(n)){case 2:var m=vw;break;case 8:m=xw;break;default:m=Um}o=m.bind(null,n,o,e),m=void 0,!io||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(n,o,{capture:!0,passive:m}):e.addEventListener(n,o,!0):m!==void 0?e.addEventListener(n,o,{passive:m}):e.addEventListener(n,o,!1)}function Dm(e,n,o,c,m){var v=c;if((n&1)===0&&(n&2)===0&&c!==null)t:for(;;){if(c===null)return;var M=c.tag;if(M===3||M===4){var R=c.stateNode.containerInfo;if(R===m)break;if(M===4)for(M=c.return;M!==null;){var F=M.tag;if((F===3||F===4)&&M.stateNode.containerInfo===m)return;M=M.return}for(;R!==null;){if(M=ni(R),M===null)return;if(F=M.tag,F===5||F===6||F===26||F===27){c=v=M;continue t}R=R.parentNode}}c=c.return}Qn(function(){var dt=v,yt=sa(o),wt=[];t:{var ht=Su.get(e);if(ht!==void 0){var mt=ao,Yt=e;switch(e){case"keypress":if(Ye(o)===0)break t;case"keydown":case"keyup":mt=dh;break;case"focusin":Yt="focus",mt=ml;break;case"focusout":Yt="blur",mt=ml;break;case"beforeblur":case"afterblur":mt=ml;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=hh;break;case _u:case nr:case ho:mt=sh;break;case Tl:mt=mh;break;case"scroll":case"scrollend":mt=ah;break;case"wheel":mt=fu;break;case"copy":case"cut":case"paste":mt=pl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=bl;break;case"toggle":case"beforetoggle":mt=ki}var Gt=(n&4)!==0,xe=!Gt&&(e==="scroll"||e==="scrollend"),it=Gt?ht!==null?ht+"Capture":null:ht;Gt=[];for(var J=dt,ut;J!==null;){var _t=J;if(ut=_t.stateNode,_t=_t.tag,_t!==5&&_t!==26&&_t!==27||ut===null||it===null||(_t=fe(J,it),_t!=null&&Gt.push(Xl(J,_t,ut))),xe)break;J=J.return}0<Gt.length&&(ht=new mt(ht,Yt,null,o,yt),wt.push({event:ht,listeners:Gt}))}}if((n&7)===0){t:{if(ht=e==="mouseover"||e==="pointerover",mt=e==="mouseout"||e==="pointerout",ht&&o!==ro&&(Yt=o.relatedTarget||o.fromElement)&&(ni(Yt)||Yt[Ji]))break t;if((mt||ht)&&(ht=yt.window===yt?yt:(ht=yt.ownerDocument)?ht.defaultView||ht.parentWindow:window,mt?(Yt=o.relatedTarget||o.toElement,mt=dt,Yt=Yt?ni(Yt):null,Yt!==null&&(xe=d(Yt),Gt=Yt.tag,Yt!==xe||Gt!==5&&Gt!==27&&Gt!==6)&&(Yt=null)):(mt=null,Yt=dt),mt!==Yt)){if(Gt=ua,_t="onMouseLeave",it="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(Gt=bl,_t="onPointerLeave",it="onPointerEnter",J="pointer"),xe=mt==null?ht:vr(mt),ut=Yt==null?ht:vr(Yt),ht=new Gt(_t,J+"leave",mt,o,yt),ht.target=xe,ht.relatedTarget=ut,_t=null,ni(yt)===dt&&(Gt=new Gt(it,J+"enter",Yt,o,yt),Gt.target=ut,Gt.relatedTarget=xe,_t=Gt),xe=_t,mt&&Yt)e:{for(Gt=mt,it=Yt,J=0,ut=Gt;ut;ut=Ms(ut))J++;for(ut=0,_t=it;_t;_t=Ms(_t))ut++;for(;0<J-ut;)Gt=Ms(Gt),J--;for(;0<ut-J;)it=Ms(it),ut--;for(;J--;){if(Gt===it||it!==null&&Gt===it.alternate)break e;Gt=Ms(Gt),it=Ms(it)}Gt=null}else Gt=null;mt!==null&&uy(wt,ht,mt,Gt,!1),Yt!==null&&xe!==null&&uy(wt,xe,Yt,Gt,!0)}}t:{if(ht=dt?vr(dt):window,mt=ht.nodeName&&ht.nodeName.toLowerCase(),mt==="select"||mt==="input"&&ht.type==="file")var Ct=ha;else if(Ci(ht))if(xl)Ct=yh;else{Ct=bh;var te=Sl}else mt=ht.nodeName,!mt||mt.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?dt&&no(dt.elementType)&&(Ct=ha):Ct=qr;if(Ct&&(Ct=Ct(e,dt))){bu(wt,Ct,o,yt);break t}te&&te(e,ht,dt),e==="focusout"&&dt&&ht.type==="number"&&dt.memoizedProps.value!=null&&ia(ht,"number",ht.value)}switch(te=dt?vr(dt):window,e){case"focusin":(Ci(te)||te.contentEditable==="true")&&(er=te,ga=dt,Li=null);break;case"focusout":Li=ga=er=null;break;case"mousedown":rs=!0;break;case"contextmenu":case"mouseup":case"dragend":rs=!1,vu(wt,o,yt);break;case"selectionchange":if(ns)break;case"keydown":case"keyup":vu(wt,o,yt)}var zt;if(Oi)t:{switch(e){case"compositionstart":var Zt="onCompositionStart";break t;case"compositionend":Zt="onCompositionEnd";break t;case"compositionupdate":Zt="onCompositionUpdate";break t}Zt=void 0}else da?Jo(e,o)&&(Zt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Zt="onCompositionStart");Zt&&(vl&&o.locale!=="ko"&&(da||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&da&&(zt=ca()):(Sr=yt,Zr="value"in Sr?Sr.value:Sr.textContent,da=!0)),te=ad(dt,Zt),0<te.length&&(Zt=new Jn(Zt,e,null,o,yt),wt.push({event:Zt,listeners:te}),zt?Zt.data=zt:(zt=pu(o),zt!==null&&(Zt.data=zt)))),(zt=hu?gu(e,o):gh(e,o))&&(Zt=ad(dt,"onBeforeInput"),0<Zt.length&&(te=new Jn("onBeforeInput","beforeinput",null,o,yt),wt.push({event:te,listeners:Zt}),te.data=zt)),GS(wt,e,dt,o,yt)}ly(wt,n)})}function Xl(e,n,o){return{instance:e,listener:n,currentTarget:o}}function ad(e,n){for(var o=n+"Capture",c=[];e!==null;){var m=e,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=fe(e,o),m!=null&&c.unshift(Xl(e,m,v)),m=fe(e,n),m!=null&&c.push(Xl(e,m,v))),e.tag===3)return c;e=e.return}return[]}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function uy(e,n,o,c,m){for(var v=n._reactName,M=[];o!==null&&o!==c;){var R=o,F=R.alternate,dt=R.stateNode;if(R=R.tag,F!==null&&F===c)break;R!==5&&R!==26&&R!==27||dt===null||(F=dt,m?(dt=fe(o,v),dt!=null&&M.unshift(Xl(o,dt,F))):m||(dt=fe(o,v),dt!=null&&M.push(Xl(o,dt,F)))),o=o.return}M.length!==0&&e.push({event:n,listeners:M})}var VS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function dy(e){return(typeof e=="string"?e:""+e).replace(VS,`
`).replace(FS,"")}function fy(e,n){return n=dy(n),dy(e)===n}function od(){}function ve(e,n,o,c,m,v){switch(o){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||xr(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&xr(e,""+c);break;case"className":Yo(e,"class",c);break;case"tabIndex":Yo(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Yo(e,o,c);break;case"style":aa(e,c,v);break;case"data":if(n!=="object"){Yo(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=oa(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(n!=="input"&&ve(e,n,"name",m.name,m,null),ve(e,n,"formEncType",m.formEncType,m,null),ve(e,n,"formMethod",m.formMethod,m,null),ve(e,n,"formTarget",m.formTarget,m,null)):(ve(e,n,"encType",m.encType,m,null),ve(e,n,"method",m.method,m,null),ve(e,n,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=oa(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=od);break;case"onScroll":c!=null&&re("scroll",e);break;case"onScrollEnd":c!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=oa(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":re("beforetoggle",e),re("toggle",e),Zo(e,"popover",c);break;case"xlinkActuate":Gr(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Gr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Gr(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Gr(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Gr(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Gr(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Gr(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Gr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Gr(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zo(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=dl.get(o)||o,Zo(e,o,c))}}function jm(e,n,o,c,m,v){switch(o){case"style":aa(e,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"children":typeof c=="string"?xr(e,c):(typeof c=="number"||typeof c=="bigint")&&xr(e,""+c);break;case"onScroll":c!=null&&re("scroll",e);break;case"onScrollEnd":c!=null&&re("scrollend",e);break;case"onClick":c!=null&&(e.onclick=od);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),n=o.slice(2,m?o.length-7:void 0),v=e[wn]||null,v=v!=null?v[o]:null,typeof v=="function"&&e.removeEventListener(n,v,m),typeof c=="function")){typeof v!="function"&&v!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Zo(e,o,c)}}}function xn(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var c=!1,m=!1,v;for(v in o)if(o.hasOwnProperty(v)){var M=o[v];if(M!=null)switch(v){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,v,M,o,null)}}m&&ve(e,n,"srcSet",o.srcSet,o,null),c&&ve(e,n,"src",o.src,o,null);return;case"input":re("invalid",e);var R=v=M=m=null,F=null,dt=null;for(c in o)if(o.hasOwnProperty(c)){var yt=o[c];if(yt!=null)switch(c){case"name":m=yt;break;case"type":M=yt;break;case"checked":F=yt;break;case"defaultChecked":dt=yt;break;case"value":v=yt;break;case"defaultValue":R=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(s(137,n));break;default:ve(e,n,c,yt,o,null)}}iu(e,v,R,F,dt,M,m,!1),ra(e);return;case"select":re("invalid",e),c=M=v=null;for(m in o)if(o.hasOwnProperty(m)&&(R=o[m],R!=null))switch(m){case"value":v=R;break;case"defaultValue":M=R;break;case"multiple":c=R;default:ve(e,n,m,R,o,null)}n=v,o=M,e.multiple=!!c,n!=null?qn(e,!!c,n,!1):o!=null&&qn(e,!!c,o,!0);return;case"textarea":re("invalid",e),v=m=c=null;for(M in o)if(o.hasOwnProperty(M)&&(R=o[M],R!=null))switch(M){case"value":c=R;break;case"defaultValue":m=R;break;case"children":v=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:ve(e,n,M,R,o,null)}ri(e,c,m,v),ra(e);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(c=o[F],c!=null))switch(F){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ve(e,n,F,c,o,null)}return;case"dialog":re("beforetoggle",e),re("toggle",e),re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(c=0;c<Kl.length;c++)re(Kl[c],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(dt in o)if(o.hasOwnProperty(dt)&&(c=o[dt],c!=null))switch(dt){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,dt,c,o,null)}return;default:if(no(n)){for(yt in o)o.hasOwnProperty(yt)&&(c=o[yt],c!==void 0&&jm(e,n,yt,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&ve(e,n,R,c,o,null))}function KS(e,n,o,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,M=null,R=null,F=null,dt=null,yt=null;for(mt in o){var wt=o[mt];if(o.hasOwnProperty(mt)&&wt!=null)switch(mt){case"checked":break;case"value":break;case"defaultValue":F=wt;default:c.hasOwnProperty(mt)||ve(e,n,mt,null,c,wt)}}for(var ht in c){var mt=c[ht];if(wt=o[ht],c.hasOwnProperty(ht)&&(mt!=null||wt!=null))switch(ht){case"type":v=mt;break;case"name":m=mt;break;case"checked":dt=mt;break;case"defaultChecked":yt=mt;break;case"value":M=mt;break;case"defaultValue":R=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(s(137,n));break;default:mt!==wt&&ve(e,n,ht,mt,c,wt)}}Tn(e,M,R,F,dt,yt,v,m);return;case"select":mt=M=R=ht=null;for(v in o)if(F=o[v],o.hasOwnProperty(v)&&F!=null)switch(v){case"value":break;case"multiple":mt=F;default:c.hasOwnProperty(v)||ve(e,n,v,null,c,F)}for(m in c)if(v=c[m],F=o[m],c.hasOwnProperty(m)&&(v!=null||F!=null))switch(m){case"value":ht=v;break;case"defaultValue":R=v;break;case"multiple":M=v;default:v!==F&&ve(e,n,m,v,c,F)}n=R,o=M,c=mt,ht!=null?qn(e,!!o,ht,!1):!!c!=!!o&&(n!=null?qn(e,!!o,n,!0):qn(e,!!o,o?[]:"",!1));return;case"textarea":mt=ht=null;for(R in o)if(m=o[R],o.hasOwnProperty(R)&&m!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ve(e,n,R,null,c,m)}for(M in c)if(m=c[M],v=o[M],c.hasOwnProperty(M)&&(m!=null||v!=null))switch(M){case"value":ht=m;break;case"defaultValue":mt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==v&&ve(e,n,M,m,c,v)}$e(e,ht,mt);return;case"option":for(var Yt in o)if(ht=o[Yt],o.hasOwnProperty(Yt)&&ht!=null&&!c.hasOwnProperty(Yt))switch(Yt){case"selected":e.selected=!1;break;default:ve(e,n,Yt,null,c,ht)}for(F in c)if(ht=c[F],mt=o[F],c.hasOwnProperty(F)&&ht!==mt&&(ht!=null||mt!=null))switch(F){case"selected":e.selected=ht&&typeof ht!="function"&&typeof ht!="symbol";break;default:ve(e,n,F,ht,c,mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in o)ht=o[Gt],o.hasOwnProperty(Gt)&&ht!=null&&!c.hasOwnProperty(Gt)&&ve(e,n,Gt,null,c,ht);for(dt in c)if(ht=c[dt],mt=o[dt],c.hasOwnProperty(dt)&&ht!==mt&&(ht!=null||mt!=null))switch(dt){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(s(137,n));break;default:ve(e,n,dt,ht,c,mt)}return;default:if(no(n)){for(var xe in o)ht=o[xe],o.hasOwnProperty(xe)&&ht!==void 0&&!c.hasOwnProperty(xe)&&jm(e,n,xe,void 0,c,ht);for(yt in c)ht=c[yt],mt=o[yt],!c.hasOwnProperty(yt)||ht===mt||ht===void 0&&mt===void 0||jm(e,n,yt,ht,c,mt);return}}for(var it in o)ht=o[it],o.hasOwnProperty(it)&&ht!=null&&!c.hasOwnProperty(it)&&ve(e,n,it,null,c,ht);for(wt in c)ht=c[wt],mt=o[wt],!c.hasOwnProperty(wt)||ht===mt||ht==null&&mt==null||ve(e,n,wt,ht,c,mt)}var km=null,Om=null;function sd(e){return e.nodeType===9?e:e.ownerDocument}function hy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function my(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Cm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Lm=null;function XS(){var e=window.event;return e&&e.type==="popstate"?e===Lm?!1:(Lm=e,!0):(Lm=null,!1)}var py=typeof setTimeout=="function"?setTimeout:void 0,WS=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,QS=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(e){return gy.resolve(null).then(e).catch(JS)}:py;function JS(e){setTimeout(function(){throw e})}function Pa(e){return e==="head"}function by(e,n){var o=n,c=0,m=0;do{var v=o.nextSibling;if(e.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"){if(0<c&&8>c){o=c;var M=e.ownerDocument;if(o&1&&Wl(M.documentElement),o&2&&Wl(M.body),o&4)for(o=M.head,Wl(o),M=o.firstChild;M;){var R=M.nextSibling,F=M.nodeName;M[ta]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&M.rel.toLowerCase()==="stylesheet"||o.removeChild(M),M=R}}if(m===0){e.removeChild(v),ac(n);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=v}while(o);ac(n)}function Bm(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Bm(o),Go(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function tw(e,n,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[ta])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=Xr(e.nextSibling),e===null)break}return null}function ew(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Xr(e.nextSibling),e===null))return null;return e}function Rm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function nw(e,n){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")n();else{var c=function(){n(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Xr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Pm=null;function yy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}function vy(e,n,o){switch(n=sd(o),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Wl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Go(e)}var Dr=new Map,xy=new Set;function ld(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vi=rt.d;rt.d={f:rw,r:iw,D:aw,C:ow,L:sw,m:lw,X:uw,S:cw,M:dw};function rw(){var e=Vi.f(),n=Ju();return e||n}function iw(e){var n=xi(e);n!==null&&n.tag===5&&n.type==="form"?$g(n):Vi.r(e)}var Ns=typeof document>"u"?null:document;function _y(e,n,o){var c=Ns;if(c&&typeof n=="string"&&n){var m=gn(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),xy.has(m)||(xy.add(m),e={rel:e,crossOrigin:o,href:n},c.querySelector(m)===null&&(n=c.createElement("link"),xn(n,"link",e),Xe(n),c.head.appendChild(n)))}}function aw(e){Vi.D(e),_y("dns-prefetch",e,null)}function ow(e,n){Vi.C(e,n),_y("preconnect",e,n)}function sw(e,n,o){Vi.L(e,n,o);var c=Ns;if(c&&e&&n){var m='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+gn(o.imageSizes)+'"]')):m+='[href="'+gn(e)+'"]';var v=m;switch(n){case"style":v=As(e);break;case"script":v=Ds(e)}Dr.has(v)||(e=_({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Dr.set(v,e),c.querySelector(m)!==null||n==="style"&&c.querySelector(Ql(v))||n==="script"&&c.querySelector(Jl(v))||(n=c.createElement("link"),xn(n,"link",e),Xe(n),c.head.appendChild(n)))}}function lw(e,n){Vi.m(e,n);var o=Ns;if(o&&e){var c=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+gn(c)+'"][href="'+gn(e)+'"]',v=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Ds(e)}if(!Dr.has(v)&&(e=_({rel:"modulepreload",href:e},n),Dr.set(v,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Jl(v)))return}c=o.createElement("link"),xn(c,"link",e),Xe(c),o.head.appendChild(c)}}}function cw(e,n,o){Vi.S(e,n,o);var c=Ns;if(c&&e){var m=_i(c).hoistableStyles,v=As(e);n=n||"default";var M=m.get(v);if(!M){var R={loading:0,preload:null};if(M=c.querySelector(Ql(v)))R.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Dr.get(v))&&zm(e,o);var F=M=c.createElement("link");Xe(F),xn(F,"link",e),F._p=new Promise(function(dt,yt){F.onload=dt,F.onerror=yt}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,cd(M,n,c)}M={type:"stylesheet",instance:M,count:1,state:R},m.set(v,M)}}}function uw(e,n){Vi.X(e,n);var o=Ns;if(o&&e){var c=_i(o).hoistableScripts,m=Ds(e),v=c.get(m);v||(v=o.querySelector(Jl(m)),v||(e=_({src:e,async:!0},n),(n=Dr.get(m))&&Hm(e,n),v=o.createElement("script"),Xe(v),xn(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function dw(e,n){Vi.M(e,n);var o=Ns;if(o&&e){var c=_i(o).hoistableScripts,m=Ds(e),v=c.get(m);v||(v=o.querySelector(Jl(m)),v||(e=_({src:e,async:!0,type:"module"},n),(n=Dr.get(m))&&Hm(e,n),v=o.createElement("script"),Xe(v),xn(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function Sy(e,n,o,c){var m=(m=K.current)?ld(m):null;if(!m)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=As(o.href),o=_i(m).hoistableStyles,c=o.get(n),c||(c={type:"style",instance:null,count:0,state:null},o.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=As(o.href);var v=_i(m).hoistableStyles,M=v.get(e);if(M||(m=m.ownerDocument||m,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,M),(v=m.querySelector(Ql(e)))&&!v._p&&(M.instance=v,M.state.loading=5),Dr.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Dr.set(e,o),v||fw(m,e,o,M.state))),n&&c===null)throw Error(s(528,""));return M}if(n&&c!==null)throw Error(s(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ds(o),o=_i(m).hoistableScripts,c=o.get(n),c||(c={type:"script",instance:null,count:0,state:null},o.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function As(e){return'href="'+gn(e)+'"'}function Ql(e){return'link[rel="stylesheet"]['+e+"]"}function wy(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function fw(e,n,o,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),xn(n,"link",o),Xe(n),e.head.appendChild(n))}function Ds(e){return'[src="'+gn(e)+'"]'}function Jl(e){return"script[async]"+e}function Ty(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+gn(o.href)+'"]');if(c)return n.instance=c,Xe(c),c;var m=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Xe(c),xn(c,"style",m),cd(c,o.precedence,e),n.instance=c;case"stylesheet":m=As(o.href);var v=e.querySelector(Ql(m));if(v)return n.state.loading|=4,n.instance=v,Xe(v),v;c=wy(o),(m=Dr.get(m))&&zm(c,m),v=(e.ownerDocument||e).createElement("link"),Xe(v);var M=v;return M._p=new Promise(function(R,F){M.onload=R,M.onerror=F}),xn(v,"link",c),n.state.loading|=4,cd(v,o.precedence,e),n.instance=v;case"script":return v=Ds(o.src),(m=e.querySelector(Jl(v)))?(n.instance=m,Xe(m),m):(c=o,(m=Dr.get(v))&&(c=_({},o),Hm(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Xe(m),xn(m,"link",c),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,cd(c,o.precedence,e));return n.instance}function cd(e,n,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,v=m,M=0;M<c.length;M++){var R=c[M];if(R.dataset.precedence===n)v=R;else if(v!==m)break}v?v.parentNode.insertBefore(e,v.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function zm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Hm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ud=null;function Ey(e,n,o){if(ud===null){var c=new Map,m=ud=new Map;m.set(o,c)}else m=ud,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var v=o[m];if(!(v[ta]||v[on]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var M=v.getAttribute(n)||"";M=e+M;var R=c.get(M);R?R.push(v):c.set(M,[v])}}return c}function My(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function hw(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ny(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var tc=null;function mw(){}function pw(e,n,o){if(tc===null)throw Error(s(475));var c=tc;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=As(o.href),v=e.querySelector(Ql(m));if(v){e=v._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=dd.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=v,Xe(v);return}v=e.ownerDocument||e,o=wy(o),(m=Dr.get(m))&&zm(o,m),v=v.createElement("link"),Xe(v);var M=v;M._p=new Promise(function(R,F){M.onload=R,M.onerror=F}),xn(v,"link",o),n.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(c.count++,n=dd.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function gw(){if(tc===null)throw Error(s(475));var e=tc;return e.stylesheets&&e.count===0&&$m(e,e.stylesheets),0<e.count?function(n){var o=setTimeout(function(){if(e.stylesheets&&$m(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o)}}:null}function dd(){if(this.count--,this.count===0){if(this.stylesheets)$m(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fd=null;function $m(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fd=new Map,n.forEach(bw,e),fd=null,dd.call(e))}function bw(e,n){if(!(n.state.loading&4)){var o=fd.get(e);if(o)var c=o.get(null);else{o=new Map,fd.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var M=m[v];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(o.set(M.dataset.precedence,M),c=M)}c&&o.set(null,c)}m=n.instance,M=m.getAttribute("data-precedence"),v=o.get(M)||c,v===c&&o.set(null,m),o.set(M,m),this.count++,c=dd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),v?v.parentNode.insertBefore(m,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var ec={$$typeof:D,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function yw(e,n,o,c,m,v,M,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Ay(e,n,o,c,m,v,M,R,F,dt,yt,wt){return e=new yw(e,n,o,M,R,F,dt,wt),n=1,v===!0&&(n|=24),v=Bn(3,null,null,n),e.current=v,v.stateNode=e,n=_h(),n.refCount++,e.pooledCache=n,n.refCount++,v.memoizedState={element:c,isDehydrated:o,cache:n},Eh(v),e}function Dy(e){return e?(e=zi,e):zi}function jy(e,n,o,c,m,v){m=Dy(m),c.context===null?c.context=m:c.pendingContext=m,c=Ta(n),c.payload={element:o},v=v===void 0?null:v,v!==null&&(c.callback=v),o=Ea(e,c,n),o!==null&&(cr(o,e,n),kl(o,e,n))}function ky(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Im(e,n){ky(e,n),(e=e.alternate)&&ky(e,n)}function Oy(e){if(e.tag===13){var n=va(e,67108864);n!==null&&cr(n,e,67108864),Im(e,67108864)}}var hd=!0;function vw(e,n,o,c){var m=Z.T;Z.T=null;var v=rt.p;try{rt.p=2,Um(e,n,o,c)}finally{rt.p=v,Z.T=m}}function xw(e,n,o,c){var m=Z.T;Z.T=null;var v=rt.p;try{rt.p=8,Um(e,n,o,c)}finally{rt.p=v,Z.T=m}}function Um(e,n,o,c){if(hd){var m=Gm(c);if(m===null)Dm(e,n,c,md,o),Ly(e,c);else if(Sw(m,e,n,o,c))c.stopPropagation();else if(Ly(e,c),n&4&&-1<_w.indexOf(e)){for(;m!==null;){var v=xi(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var M=mn(v.pendingLanes);if(M!==0){var R=v;for(R.pendingLanes|=2,R.entangledLanes|=2;M;){var F=1<<31-Be(M);R.entanglements[1]|=F,M&=~F}hi(v),(ge&6)===0&&(Wu=$t()+500,Fl(0))}}break;case 13:R=va(v,2),R!==null&&cr(R,v,2),Ju(),Im(v,2)}if(v=Gm(c),v===null&&Dm(e,n,c,md,o),v===m)break;m=v}m!==null&&c.stopPropagation()}else Dm(e,n,c,null,o)}}function Gm(e){return e=sa(e),Zm(e)}var md=null;function Zm(e){if(md=null,e=ni(e),e!==null){var n=d(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=f(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return md=e,null}function Cy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xt()){case xt:return 2;case Bt:return 8;case vt:case de:return 32;case He:return 268435456;default:return 32}default:return 32}}var Ym=!1,za=null,Ha=null,$a=null,nc=new Map,rc=new Map,Ia=[],_w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ly(e,n){switch(e){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":nc.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(n.pointerId)}}function ic(e,n,o,c,m,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:o,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},n!==null&&(n=xi(n),n!==null&&Oy(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function Sw(e,n,o,c,m){switch(n){case"focusin":return za=ic(za,e,n,o,c,m),!0;case"dragenter":return Ha=ic(Ha,e,n,o,c,m),!0;case"mouseover":return $a=ic($a,e,n,o,c,m),!0;case"pointerover":var v=m.pointerId;return nc.set(v,ic(nc.get(v)||null,e,n,o,c,m)),!0;case"gotpointercapture":return v=m.pointerId,rc.set(v,ic(rc.get(v)||null,e,n,o,c,m)),!0}return!1}function By(e){var n=ni(e.target);if(n!==null){var o=d(n);if(o!==null){if(n=o.tag,n===13){if(n=f(o),n!==null){e.blockedOn=n,ll(e.priority,function(){if(o.tag===13){var c=lr();c=ol(c);var m=va(o,c);m!==null&&cr(m,o,c),Im(o,c)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pd(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Gm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);ro=c,o.target.dispatchEvent(c),ro=null}else return n=xi(o),n!==null&&Oy(n),e.blockedOn=o,!1;n.shift()}return!0}function Ry(e,n,o){pd(e)&&o.delete(n)}function ww(){Ym=!1,za!==null&&pd(za)&&(za=null),Ha!==null&&pd(Ha)&&(Ha=null),$a!==null&&pd($a)&&($a=null),nc.forEach(Ry),rc.forEach(Ry)}function gd(e,n){e.blockedOn===n&&(e.blockedOn=null,Ym||(Ym=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ww)))}var bd=null;function Py(e){bd!==e&&(bd=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bd===e&&(bd=null);for(var n=0;n<e.length;n+=3){var o=e[n],c=e[n+1],m=e[n+2];if(typeof c!="function"){if(Zm(c||o)===null)continue;break}var v=xi(o);v!==null&&(e.splice(n,3),n-=3,Zh(v,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function ac(e){function n(F){return gd(F,e)}za!==null&&gd(za,e),Ha!==null&&gd(Ha,e),$a!==null&&gd($a,e),nc.forEach(n),rc.forEach(n);for(var o=0;o<Ia.length;o++){var c=Ia[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ia.length&&(o=Ia[0],o.blockedOn===null);)By(o),o.blockedOn===null&&Ia.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],v=o[c+1],M=m[wn]||null;if(typeof v=="function")M||Py(o);else if(M){var R=null;if(v&&v.hasAttribute("formAction")){if(m=v,M=v[wn]||null)R=M.formAction;else if(Zm(m)!==null)continue}else R=M.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),Py(o)}}}function qm(e){this._internalRoot=e}yd.prototype.render=qm.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var o=n.current,c=lr();jy(o,c,e,n,null,null)},yd.prototype.unmount=qm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;jy(e.current,2,null,e,null,null),Ju(),n[Ji]=null}};function yd(e){this._internalRoot=e}yd.prototype.unstable_scheduleHydration=function(e){if(e){var n=Jc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Ia.length&&n!==0&&n<Ia[o].priority;o++);Ia.splice(o,0,e),o===0&&By(e)}};var zy=r.version;if(zy!=="19.1.1")throw Error(s(527,zy,"19.1.1"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=b(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Tw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{je=vd.inject(Tw),Le=vd}catch{}}return sc.createRoot=function(e,n){if(!u(e))throw Error(s(299));var o=!1,c="",m=tb,v=eb,M=nb,R=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(M=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(R=n.unstable_transitionCallbacks)),n=Ay(e,1,!1,null,null,o,c,m,v,M,R,null),e[Ji]=n.current,Am(e),new qm(n)},sc.hydrateRoot=function(e,n,o){if(!u(e))throw Error(s(299));var c=!1,m="",v=tb,M=eb,R=nb,F=null,dt=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(M=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks),o.formState!==void 0&&(dt=o.formState)),n=Ay(e,1,!0,n,o??null,c,m,v,M,R,F,dt),n.context=Dy(null),o=n.current,c=lr(),c=ol(c),m=Ta(c),m.callback=null,Ea(o,m,c),o=c,n.current.lanes=o,vi(n,o),hi(n),e[Ji]=n.current,Am(e),new yd(n)},sc.version="19.1.1",sc}var Fy;function Lw(){if(Fy)return Km.exports;Fy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Km.exports=Cw(),Km.exports}var Bw=Lw();let Rw={data:""},Pw=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Rw,zw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Hw=/\/\*[^]*?\*\/|  +/g,Ky=/\n+/g,Ya=(t,r)=>{let a="",s="",u="";for(let d in t){let f=t[d];d[0]=="@"?d[1]=="i"?a=d+" "+f+";":s+=d[1]=="f"?Ya(f,d):d+"{"+Ya(f,d[1]=="k"?"":r)+"}":typeof f=="object"?s+=Ya(f,r?r.replace(/([^,])+/g,p=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,p):p?p+" "+b:b)):d):f!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=Ya.p?Ya.p(d,f):d+":"+f+";")}return a+(r&&u?r+"{"+u+"}":u)+s},Fi={},j_=t=>{if(typeof t=="object"){let r="";for(let a in t)r+=a+j_(t[a]);return r}return t},$w=(t,r,a,s,u)=>{let d=j_(t),f=Fi[d]||(Fi[d]=(b=>{let y=0,_=11;for(;y<b.length;)_=101*_+b.charCodeAt(y++)>>>0;return"go"+_})(d));if(!Fi[f]){let b=d!==t?t:(y=>{let _,w,S=[{}];for(;_=zw.exec(y.replace(Hw,""));)_[4]?S.shift():_[3]?(w=_[3].replace(Ky," ").trim(),S.unshift(S[0][w]=S[0][w]||{})):S[0][_[1]]=_[2].replace(Ky," ").trim();return S[0]})(t);Fi[f]=Ya(u?{["@keyframes "+f]:b}:b,a?"":"."+f)}let p=a&&Fi.g?Fi.g:null;return a&&(Fi.g=Fi[f]),((b,y,_,w)=>{w?y.data=y.data.replace(w,b):y.data.indexOf(b)===-1&&(y.data=_?b+y.data:y.data+b)})(Fi[f],r,s,p),f},Iw=(t,r,a)=>t.reduce((s,u,d)=>{let f=r[d];if(f&&f.call){let p=f(a),b=p&&p.props&&p.props.className||/^go/.test(p)&&p;f=b?"."+b:p&&typeof p=="object"?p.props?"":Ya(p,""):p===!1?"":p}return s+u+(f??"")},"");function Pf(t){let r=this||{},a=t.call?t(r.p):t;return $w(a.unshift?a.raw?Iw(a,[].slice.call(arguments,1),r.p):a.reduce((s,u)=>Object.assign(s,u&&u.call?u(r.p):u),{}):a,Pw(r.target),r.g,r.o,r.k)}let k_,V0,F0;Pf.bind({g:1});let Wi=Pf.bind({k:1});function Uw(t,r,a,s){Ya.p=r,k_=t,V0=a,F0=s}function Xa(t,r){let a=this||{};return function(){let s=arguments;function u(d,f){let p=Object.assign({},d),b=p.className||u.className;a.p=Object.assign({theme:V0&&V0()},p),a.o=/ *go\d+/.test(b),p.className=Pf.apply(a,s)+(b?" "+b:"");let y=t;return t[0]&&(y=p.as||t,delete p.as),F0&&y[0]&&F0(p),k_(y,p)}return u}}var Gw=t=>typeof t=="function",of=(t,r)=>Gw(t)?t(r):t,Zw=(()=>{let t=0;return()=>(++t).toString()})(),O_=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");t=!r||r.matches}return t}})(),Yw=20,dp="default",C_=(t,r)=>{let{toastLimit:a}=t.settings;switch(r.type){case 0:return{...t,toasts:[r.toast,...t.toasts].slice(0,a)};case 1:return{...t,toasts:t.toasts.map(f=>f.id===r.toast.id?{...f,...r.toast}:f)};case 2:let{toast:s}=r;return C_(t,{type:t.toasts.find(f=>f.id===s.id)?1:0,toast:s});case 3:let{toastId:u}=r;return{...t,toasts:t.toasts.map(f=>f.id===u||u===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(f=>f.id!==r.toastId)};case 5:return{...t,pausedAt:r.time};case 6:let d=r.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+d}))}}},ef=[],L_={toasts:[],pausedAt:void 0,settings:{toastLimit:Yw}},pi={},B_=(t,r=dp)=>{pi[r]=C_(pi[r]||L_,t),ef.forEach(([a,s])=>{a===r&&s(pi[r])})},R_=t=>Object.keys(pi).forEach(r=>B_(t,r)),qw=t=>Object.keys(pi).find(r=>pi[r].toasts.some(a=>a.id===t)),zf=(t=dp)=>r=>{B_(r,t)},Vw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Fw=(t={},r=dp)=>{let[a,s]=O.useState(pi[r]||L_),u=O.useRef(pi[r]);O.useEffect(()=>(u.current!==pi[r]&&s(pi[r]),ef.push([r,s]),()=>{let f=ef.findIndex(([p])=>p===r);f>-1&&ef.splice(f,1)}),[r]);let d=a.toasts.map(f=>{var p,b,y;return{...t,...t[f.type],...f,removeDelay:f.removeDelay||((p=t[f.type])==null?void 0:p.removeDelay)||t?.removeDelay,duration:f.duration||((b=t[f.type])==null?void 0:b.duration)||t?.duration||Vw[f.type],style:{...t.style,...(y=t[f.type])==null?void 0:y.style,...f.style}}});return{...a,toasts:d}},Kw=(t,r="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:a?.id||Zw()}),Hc=t=>(r,a)=>{let s=Kw(r,t,a);return zf(s.toasterId||qw(s.id))({type:2,toast:s}),s.id},an=(t,r)=>Hc("blank")(t,r);an.error=Hc("error");an.success=Hc("success");an.loading=Hc("loading");an.custom=Hc("custom");an.dismiss=(t,r)=>{let a={type:3,toastId:t};r?zf(r)(a):R_(a)};an.dismissAll=t=>an.dismiss(void 0,t);an.remove=(t,r)=>{let a={type:4,toastId:t};r?zf(r)(a):R_(a)};an.removeAll=t=>an.remove(void 0,t);an.promise=(t,r,a)=>{let s=an.loading(r.loading,{...a,...a?.loading});return typeof t=="function"&&(t=t()),t.then(u=>{let d=r.success?of(r.success,u):void 0;return d?an.success(d,{id:s,...a,...a?.success}):an.dismiss(s),u}).catch(u=>{let d=r.error?of(r.error,u):void 0;d?an.error(d,{id:s,...a,...a?.error}):an.dismiss(s)}),t};var Xw=1e3,Ww=(t,r="default")=>{let{toasts:a,pausedAt:s}=Fw(t,r),u=O.useRef(new Map).current,d=O.useCallback((w,S=Xw)=>{if(u.has(w))return;let T=setTimeout(()=>{u.delete(w),f({type:4,toastId:w})},S);u.set(w,T)},[]);O.useEffect(()=>{if(s)return;let w=Date.now(),S=a.map(T=>{if(T.duration===1/0)return;let N=(T.duration||0)+T.pauseDuration-(w-T.createdAt);if(N<0){T.visible&&an.dismiss(T.id);return}return setTimeout(()=>an.dismiss(T.id,r),N)});return()=>{S.forEach(T=>T&&clearTimeout(T))}},[a,s,r]);let f=O.useCallback(zf(r),[r]),p=O.useCallback(()=>{f({type:5,time:Date.now()})},[f]),b=O.useCallback((w,S)=>{f({type:1,toast:{id:w,height:S}})},[f]),y=O.useCallback(()=>{s&&f({type:6,time:Date.now()})},[s,f]),_=O.useCallback((w,S)=>{let{reverseOrder:T=!1,gutter:N=8,defaultPosition:j}=S||{},A=a.filter(D=>(D.position||j)===(w.position||j)&&D.height),$=A.findIndex(D=>D.id===w.id),I=A.filter((D,C)=>C<$&&D.visible).length;return A.filter(D=>D.visible).slice(...T?[I+1]:[0,I]).reduce((D,C)=>D+(C.height||0)+N,0)},[a]);return O.useEffect(()=>{a.forEach(w=>{if(w.dismissed)d(w.id,w.removeDelay);else{let S=u.get(w.id);S&&(clearTimeout(S),u.delete(w.id))}})},[a,d]),{toasts:a,handlers:{updateHeight:b,startPause:p,endPause:y,calculateOffset:_}}},Qw=Wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Jw=Wi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tT=Wi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,eT=Xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Qw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Jw} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${tT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,nT=Wi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,rT=Xa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${nT} 1s linear infinite;
`,iT=Wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,aT=Wi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,oT=Xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${aT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,sT=Xa("div")`
  position: absolute;
`,lT=Xa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,cT=Wi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uT=Xa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${cT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dT=({toast:t})=>{let{icon:r,type:a,iconTheme:s}=t;return r!==void 0?typeof r=="string"?O.createElement(uT,null,r):r:a==="blank"?null:O.createElement(lT,null,O.createElement(rT,{...s}),a!=="loading"&&O.createElement(sT,null,a==="error"?O.createElement(eT,{...s}):O.createElement(oT,{...s})))},fT=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,hT=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,mT="0%{opacity:0;} 100%{opacity:1;}",pT="0%{opacity:1;} 100%{opacity:0;}",gT=Xa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,bT=Xa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,yT=(t,r)=>{let a=t.includes("top")?1:-1,[s,u]=O_()?[mT,pT]:[fT(a),hT(a)];return{animation:r?`${Wi(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wi(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},vT=O.memo(({toast:t,position:r,style:a,children:s})=>{let u=t.height?yT(t.position||r||"top-center",t.visible):{opacity:0},d=O.createElement(dT,{toast:t}),f=O.createElement(bT,{...t.ariaProps},of(t.message,t));return O.createElement(gT,{className:t.className,style:{...u,...a,...t.style}},typeof s=="function"?s({icon:d,message:f}):O.createElement(O.Fragment,null,d,f))});Uw(O.createElement);var xT=({id:t,className:r,style:a,onHeightUpdate:s,children:u})=>{let d=O.useCallback(f=>{if(f){let p=()=>{let b=f.getBoundingClientRect().height;s(t,b)};p(),new MutationObserver(p).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return O.createElement("div",{ref:d,className:r,style:a},u)},_T=(t,r)=>{let a=t.includes("top"),s=a?{top:0}:{bottom:0},u=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:O_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(a?1:-1)}px)`,...s,...u}},ST=Pf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,xd=16,wT=({reverseOrder:t,position:r="top-center",toastOptions:a,gutter:s,children:u,toasterId:d,containerStyle:f,containerClassName:p})=>{let{toasts:b,handlers:y}=Ww(a,d);return O.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:xd,left:xd,right:xd,bottom:xd,pointerEvents:"none",...f},className:p,onMouseEnter:y.startPause,onMouseLeave:y.endPause},b.map(_=>{let w=_.position||r,S=y.calculateOffset(_,{reverseOrder:t,gutter:s,defaultPosition:r}),T=_T(w,S);return O.createElement(xT,{id:_.id,key:_.id,onHeightUpdate:y.updateHeight,className:_.visible?ST:"",style:T},_.type==="custom"?of(_.message,_):u?u(_):O.createElement(vT,{toast:_,position:w}))}))},Jm=an;function TT(t,r,a,s=0,u=0){r<=2&&(t-=1,r+=12);const d=Math.floor(t/100),f=2-d+Math.floor(d/4),p=a+(s+u/60)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+p+f-1524.5}const ET=864e5;function MT(t){const r=(t-24405875e-1)*ET;return new Date(r)}function NT(t,r=7){const a=t+(r-.5)/12;if(a>=1986&&a<2005){const u=a-2e3;return 63.86+.3345*u-.060374*u*u+.0017275*u**3+651814e-9*u**4+2373599e-11*u**5}if(a>=2005&&a<2050){const u=a-2e3;return 62.92+.32217*u+.005589*u*u}if(a>=2050&&a<=2150){const u=(a-1820)/100;return-20+32*u*u-.5628*(2150-a)}if(a>=1900&&a<1986)return-2.79+1.494119*(a-1900)-.0598939*(a-1900)**2+.0061966*(a-1900)**3-197e-6*(a-1900)**4;if(a>=1800&&a<1900){const u=(a-1800)/100;return 13.72-33.244*u+68.612*u**2-65.3*u**3-1.653*u**4+.3343*u**5-.012125*u**6+1348e-7*u**7-175e-8*u**8}const s=(a-1820)/100;return-20+32*s*s}function AT(t){const r=Math.floor(t+.5),a=t+.5-r;let s=r;if(r>=2299161){const w=Math.floor((r-186721625e-2)/36524.25);s=r+1+w-Math.floor(w/4)}const u=s+1524,d=Math.floor((u-122.1)/365.25),f=Math.floor(365.25*d),p=Math.floor((u-f)/30.6001),b=u-f-Math.floor(30.6001*p)+a;let y=p-1;y>12&&(y-=12);let _=d-4715;return y>2&&(_-=1),[_,y,b]}const wc=Math.PI,Po=wc/180,DT=180/wc,jT=86400;function kT(t){return t%=360,t<0?t+360:t}function OT(t,r){return(t-r+540)%360-180}function Xy(t,r){for(;t-r>180;)t-=360;for(;t-r<-180;)t+=360;return t}function CT(t){const[r,a]=AT(t);return t+NT(r,Math.round(a))/jT}function Wy(t,r){let a=0,s=1;for(let u=0;u<t.length;u++){let d=0;for(const[f,p,b]of t[u])d+=f*Math.cos(p+b*r);a+=d*s,s*=r}return a*1e-8}function LT(t){const r=(t-2451545)/36525,a=(297.85036+445267.11148*r-.0019142*r*r+r*r*r/189474)*Po,s=(357.52772+35999.05034*r-1603e-7*r*r-r*r*r/3e5)*Po,u=(134.96298+477198.867398*r+.0086972*r*r+r*r*r/56250)*Po,d=(93.27191+483202.017538*r-.0036825*r*r+r*r*r/327270)*Po,f=(125.04452-1934.136261*r+.0020708*r*r+r*r*r/45e4)*Po,p=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let b=0,y=0;for(const[_,w,S,T,N,j,A,$,I]of p){const D=_*a+w*s+S*u+T*d+N*f;b+=(j+A*r)*Math.sin(D),y+=($+I*r)*Math.cos(D)}return b*=1e-4,y*=1e-4,{dpsi:b,deps:y}}function _d(t){const r=CT(t),a=(r-2451545)/365250,s=Wy(Qy.L,a),u=Wy(Qy.R,a);let d=s+wc;d>2*wc&&(d-=2*wc);const{dpsi:f}=LT(r),p=f/3600*Po,b=20.4898/(3600*u),y=d+p-b*Po;return kT(y*DT)}function rn(t,r,a){const s=(r%360+360)%360,u=TT(t,1,1),d=_d(u);let f=s-d;f<0&&(f+=360);let p=u+f/.98564736;const b=1e-6,y=5e-6;for(let S=0;S<25;S++){const T=_d(p),N=OT(s,T);if(Math.abs(N)<b)break;const j=_d(p+y),A=_d(p-y),$=Xy(j,T),I=Xy(A,T),D=($-I)/(2*y);p+=N/D}const _=MT(p),w=new Date(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours(),_.getMinutes(),0,0);if(Number.isFinite(a)){const S=a/15-9;if(Math.abs(S)>1e-12)return new Date(w.getTime()+S*36e5)}return w}const Qy={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},$n=["갑","을","병","정","무","기","경","신","임","계"],Wn=["자","축","인","묘","진","사","오","미","신","유","술","해"],Br={천간:["갑","을","병","정","무","기","경","신","임","계"],지지:["자","축","인","묘","진","사","오","미","신","유","술","해"]},br={천간:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],지지:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"]},BT=["목","목","화","화","토","토","금","금","수","수"],RT=["수","토","목","목","토","화","화","토","금","금","토","수"],PT=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],zT=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Hf=new Set($n),fp=new Set(Wn),$f={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},hp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},P_=["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],mp={갑:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],을:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],병:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],정:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],무:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"],기:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],경:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],신:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],임:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],계:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"]},z_={갑:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],을:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],병:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],정:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],무:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],기:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],경:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],신:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],임:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],계:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"]},Jy=[{branch:"자",hanja:"子",start:1380,end:60},{branch:"축",hanja:"丑",start:60,end:180},{branch:"인",hanja:"寅",start:180,end:300},{branch:"묘",hanja:"卯",start:300,end:420},{branch:"진",hanja:"辰",start:420,end:540},{branch:"사",hanja:"巳",start:540,end:660},{branch:"오",hanja:"午",start:660,end:780},{branch:"미",hanja:"未",start:780,end:900},{branch:"신",hanja:"申",start:900,end:1020},{branch:"유",hanja:"酉",start:1020,end:1140},{branch:"술",hanja:"戌",start:1140,end:1260},{branch:"해",hanja:"亥",start:1260,end:1380}],HT={갑:{갑:"비견",을:"겁재",병:"식신",정:"상관",무:"편재",기:"정재",경:"편관",신:"정관",임:"편인",계:"정인"},을:{갑:"겁재",을:"비견",병:"상관",정:"식신",무:"정재",기:"편재",경:"정관",신:"편관",임:"정인",계:"편인"},병:{갑:"편인",을:"정인",병:"비견",정:"겁재",무:"식신",기:"상관",경:"편재",신:"정재",임:"편관",계:"정관"},정:{갑:"정인",을:"편인",병:"겁재",정:"비견",무:"상관",기:"식신",경:"정재",신:"편재",임:"정관",계:"편관"},무:{갑:"편관",을:"정관",병:"편인",정:"정인",무:"비견",기:"겁재",경:"식신",신:"상관",임:"편재",계:"정재"},기:{갑:"정관",을:"편관",병:"정인",정:"편인",무:"겁재",기:"비견",경:"상관",신:"식신",임:"정재",계:"편재"},경:{갑:"편재",을:"정재",병:"편관",정:"정관",무:"편인",기:"정인",경:"비견",신:"겁재",임:"식신",계:"상관"},신:{갑:"정재",을:"편재",병:"정관",정:"편관",무:"정인",기:"편인",경:"겁재",신:"비견",임:"상관",계:"식신"},임:{갑:"식신",을:"상관",병:"편재",정:"정재",무:"편관",기:"정관",경:"편인",신:"정인",임:"비견",계:"겁재"},계:{갑:"상관",을:"식신",병:"정재",정:"편재",무:"정관",기:"편관",경:"정인",신:"편인",임:"겁재",계:"비견"}},$T={갑:{자:"정인",축:"정재",인:"비견",묘:"겁재",진:"편재",사:"식신",오:"상관",미:"정재",신:"편관",유:"정관",술:"편재",해:"편인"},을:{자:"편인",축:"편재",인:"겁재",묘:"비견",진:"정재",사:"상관",오:"식신",미:"편재",신:"정관",유:"편관",술:"정재",해:"정인"},병:{자:"정관",축:"상관",인:"편인",묘:"정인",진:"식신",사:"비견",오:"겁재",미:"상관",신:"편재",유:"정재",술:"식신",해:"편관"},정:{자:"편관",축:"식신",인:"정인",묘:"편인",진:"상관",사:"겁재",오:"비견",미:"식신",신:"정재",유:"편재",술:"상관",해:"정관"},무:{자:"정재",축:"겁재",인:"편관",묘:"정관",진:"비견",사:"편인",오:"정인",미:"겁재",신:"식신",유:"상관",술:"비견",해:"편재"},기:{자:"편재",축:"비견",인:"정관",묘:"편관",진:"겁재",사:"정인",오:"편인",미:"비견",신:"상관",유:"식신",술:"겁재",해:"정재"},경:{자:"상관",축:"정인",인:"편재",묘:"정재",진:"편인",사:"편관",오:"정관",미:"정인",신:"비견",유:"겁재",술:"편인",해:"식신"},신:{자:"식신",축:"편인",인:"정재",묘:"편재",진:"정인",사:"정관",오:"편관",미:"편인",신:"겁재",유:"비견",술:"정인",해:"상관"},임:{자:"겁재",축:"정관",인:"식신",묘:"상관",진:"편관",사:"편재",오:"정재",미:"정관",신:"편인",유:"정인",술:"편관",해:"비견"},계:{자:"비견",축:"편관",인:"상관",묘:"식신",진:"정관",사:"정재",오:"편재",미:"편관",신:"정인",유:"편인",술:"정관",해:"겁재"}};function IT(t,r=127.5){return(oe(t,r)||"").charAt(0)}const tv=new Map;function H_(t,r=127.5){const a=`${t}@${r}`,s=tv.get(a);if(s)return s;const u=rn(t,315,r);if(!u)throw new Error(`입춘 날짜를 찾을 수 없습니다: year=${t}, lon=${r}`);return tv.set(a,u),u}const UT=(t,r)=>(t%r+r)%r,$_=t=>t instanceof Date&&!Number.isNaN(t.getTime());function I_(t,r=127.5){if(!$_(t))throw new Error("resolveYearIndex: invalid date");const a=t.getFullYear(),s=H_(a,r),u=t<s?a-1:a,d=UT(u-4,60);return{useYear:u,index60Num:d}}function oe(t,r=127.5){const{index60Num:a}=I_(t,r);return P_[a]}const GT=[2,4,6,8,0,2,4,6,8,0];function ZT(t,r=127.5){const a=new Array(12);return a[0]=H_(t,r),a[1]=rn(t,345,r),a[2]=rn(t,15,r),a[3]=rn(t,45,r),a[4]=rn(t,75,r),a[5]=rn(t,105,r),a[6]=rn(t,135,r),a[7]=rn(t,165,r),a[8]=rn(t,195,r),a[9]=rn(t,225,r),a[10]=rn(t,255,r),a[11]=rn(t+1,285,r),a.map(s=>new Date(s.getTime()+1800*1e3))}function YT(t,r=127.5){const{useYear:a}=I_(t,r),s=ZT(a,r);let u=0;for(let f=0;f<12;f++)t>=s[f]&&(u=f);return{monthIndex:u+1,useYear:a,boundaries:s}}function qT(t,r=127.5){const a=IT(t,r),s=Br.천간.indexOf(a);if(s<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${a}"`);return GT[s]}function VT(t,r,a=127.5){return(qT(t,a)+(r-1))%10}function Se(t,r=127.5){if(!$_(t))return"";const{monthIndex:a}=YT(t,r),s=(2+(a-1))%12,u=Br.지지[s],d=VT(t,a,r);return Br.천간[d]+u}const FT=(t,r)=>(t%r+r)%r;function KT(t,r,a,s=0,u=0,d=0){r<=2&&(t-=1,r+=12);const f=Math.floor(t/100),p=2-f+Math.floor(f/4),b=(s+u/60+d/3600)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+a+b+p-1524.5}function XT(t,r){const a=t.getHours(),s=t.getMinutes(),u=a*60+s,d=U_(t);return r==="야자시"&&d==="자"?u>=1380?1:0:r==="인시"&&(d==="자"||d==="축")?u<180?-1:0:(u<0,0)}const ev={JDN:2445731,idx:0};function ae(t,r){const a=XT(t,r),s=new Date(t.getTime());s.setDate(s.getDate()+a);const u=KT(s.getFullYear(),s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes()),d=Math.floor(u+.5),f=FT(d-ev.JDN+ev.idx,60),p=P_[f];if(!p)throw new Error(`getDayGanZhi: idx=${f} out of range (jdn=${d}, jd=${u})`);return p}function U_(t){t instanceof Date||(t=new Date(t));const r=t.getHours()*60+t.getMinutes();for(let a=0;a<Jy.length;a++){const{branch:s,start:u,end:d}=Jy[a];if(u<d){if(r>=u&&r<d)return s}else if(r>=u||r<d)return s}return"자"}function WT(t,r,a,s){const u=$n.indexOf(r);if(u<0)return"";let d=(u%5*2+a)%10;const f=t.getHours();return(s==="인시"||s==="조자시"&&f>=3)&&(a===0||a===1)&&(d=(d+2)%10),$n[d]}function zr(t,r,a){t instanceof Date||(t=new Date(t));const s=U_(t),u=Wn.indexOf(s),f=(a??ae(t,r)).charAt(0);return WT(t,f,u,r)+s}const nv=t=>{let r;const a=new Set,s=(y,_)=>{const w=typeof y=="function"?y(r):y;if(!Object.is(w,r)){const S=r;r=_??(typeof w!="object"||w===null)?w:Object.assign({},r,w),a.forEach(T=>T(r,S))}},u=()=>r,p={setState:s,getState:u,getInitialState:()=>b,subscribe:y=>(a.add(y),()=>a.delete(y))},b=r=t(s,u,p);return p},QT=(t=>t?nv(t):nv),JT=t=>t;function tE(t,r=JT){const a=Ce.useSyncExternalStore(t.subscribe,Ce.useCallback(()=>r(t.getState()),[t,r]),Ce.useCallback(()=>r(t.getInitialState()),[t,r]));return Ce.useDebugValue(a),a}const rv=t=>{const r=QT(t),a=s=>tE(r,s);return Object.assign(a,r),a},$c=(t=>t?rv(t):rv);function eE(t,r){let a;try{a=t()}catch{return}return{getItem:u=>{var d;const f=b=>b===null?null:JSON.parse(b,void 0),p=(d=a.getItem(u))!=null?d:null;return p instanceof Promise?p.then(f):f(p)},setItem:(u,d)=>a.setItem(u,JSON.stringify(d,void 0)),removeItem:u=>a.removeItem(u)}}const K0=t=>r=>{try{const a=t(r);return a instanceof Promise?a:{then(s){return K0(s)(a)},catch(s){return this}}}catch(a){return{then(s){return this},catch(s){return K0(s)(a)}}}},nE=(t,r)=>(a,s,u)=>{let d={storage:eE(()=>localStorage),partialize:j=>j,version:0,merge:(j,A)=>({...A,...j}),...r},f=!1;const p=new Set,b=new Set;let y=d.storage;if(!y)return t((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),a(...j)},s,u);const _=()=>{const j=d.partialize({...s()});return y.setItem(d.name,{state:j,version:d.version})},w=u.setState;u.setState=(j,A)=>(w(j,A),_());const S=t((...j)=>(a(...j),_()),s,u);u.getInitialState=()=>S;let T;const N=()=>{var j,A;if(!y)return;f=!1,p.forEach(I=>{var D;return I((D=s())!=null?D:S)});const $=((A=d.onRehydrateStorage)==null?void 0:A.call(d,(j=s())!=null?j:S))||void 0;return K0(y.getItem.bind(y))(d.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==d.version){if(d.migrate){const D=d.migrate(I.state,I.version);return D instanceof Promise?D.then(C=>[!0,C]):[!0,D]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var D;const[C,k]=I;if(T=d.merge(k,(D=s())!=null?D:S),a(T,!0),C)return _()}).then(()=>{$?.(T,void 0),T=s(),f=!0,b.forEach(I=>I(T))}).catch(I=>{$?.(void 0,I)})};return u.persist={setOptions:j=>{d={...d,...j},j.storage&&(y=j.storage)},clearStorage:()=>{y?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>N(),hasHydrated:()=>f,onHydrate:j=>(p.add(j),()=>{p.delete(j)}),onFinishHydration:j=>(b.add(j),()=>{b.delete(j)})},d.skipHydration||N(),T||S},pp=nE,X0={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"야자시",sinsalMode:"classic",sinsalBase:"일지",sinsalBloom:!1,exposure:"원국",charType:"한자",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,theme:"dark",sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility"]},yr=$c()(pp((t,r)=>({settings:X0,setSettings:a=>t({settings:a}),setKey:(a,s)=>t({settings:{...r().settings,[a]:s}}),reset:()=>t({settings:X0})}),{name:"settings_v1"}));function W0(t){const r=$n.indexOf(t);if(r!==-1)return $n[r];const a=br.천간.indexOf(t);return a!==-1?$n[a]:null}function G_(t){const r=Wn.indexOf(t);if(r!==-1)return Wn[r];const a=br.지지.indexOf(t);return a!==-1?Wn[a]:null}function iv(t,r){if(r?.difficultyMode)return r?.theme==="light"?"bg-white border border-gray-300 text-gray-800 text-black":"bg-white text-black";switch(t){case"목":return"bg-green-600";case"화":return"bg-red-600";case"토":return"bg-yellow-500";case"금":return"bg-gray-400";case"수":return"bg-black";default:return"bg-neutral-700"}}function gr(t,r,a){if(r==="stem"){const s=W0(t);if(!s)return console.warn("Invalid stem:",t),"bg-neutral-700";const u=$n.indexOf(s),d=u>=0?BT[u]:void 0;return iv(d,a)}else{const s=G_(t);if(!s)return console.warn("Invalid branch:",t),"bg-neutral-700";const u=Wn.indexOf(s),d=u>=0?RT[u]:void 0;return iv(d,a)}}function Hn(t,r){const a=W0(t);if(!a)throw new Error(`getSipSin: invalid dayStem ${t}`);if(r.stem){const s=W0(r.stem);if(!s)throw new Error(`getSipSin: invalid stem ${r.stem}`);return HT[a][s]}if(r.branch){const s=G_(r.branch);if(!s)throw new Error(`getSipSin: invalid branch ${r.branch}`);return $T[a][s]}throw new Error("getSipSin: stem or branch required")}const rE={자:["임","(-)","계"],축:["계","신","기"],인:["무","병","갑"],묘:["갑","(-)","을"],진:["을","계","무"],사:["무","경","병"],오:["병","기","정"],미:["정","을","기"],신:["무","임","경"],유:["경","(-)","신"],술:["신","정","무"],해:["무","갑","임"]},iE={자:["(-)","(-)","계"],축:["계","신","기"],인:["(-)","병","갑"],묘:["(-)","(-)","을"],진:["을","계","무"],사:["(-)","경","병"],오:["(-)","(-)","정"],미:["정","을","기"],신:["(-)","임","경"],유:["(-)","(-)","신"],술:["신","정","무"],해:["(-)","갑","임"]};function xc({branch:t,dayStem:r,mode:a="all",mapping:s="classic",variant:u="auto",isUnknownTime:d=!1}){const f=(s==="hgc"?iE:rE)[t]??[],p=a==="main"?[f[2]]:f,b=u==="white",y=b?"text-white":"text-neutral-800 dark:text-white",_=b?"border-white":"border-neutral-800 dark: border-neutral-200",w=b?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:p.map((S,T)=>S==="(-)"||d?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${_} ${y} rounded text-center text-nowrap`,children:"(-) (없음)"},T):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${_} ${y} rounded text-center text-nowrap 
            ${a==="main"||T===2?`jeonggi bg-neutral-500/50 ${w} font-bold`:""}`,children:[S," (",Hn(r,{stem:S}),")"]},T))})}const Gs=$c(t=>({manualHour:null,setManualHour:r=>t({manualHour:r}),clearManualHour:()=>t({manualHour:null})})),gp={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Z_=Object.fromEntries(Object.entries(gp).map(([t,r])=>[r,t])),bp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Y_=Object.fromEntries(Object.entries(bp).map(([t,r])=>[r,t]));function av(t){return Br.천간.includes(t)}function ov(t){return Br.지지.includes(t)}function aE(t){return br.천간.includes(t)}function oE(t){return br.지지.includes(t)}function sv(t,r,a){return a==="한글"?r==="stem"?gp[t]??t:bp[t]??t:r==="stem"?Z_[t]??t:Y_[t]??t}function lv(t){const r=Z_[t]??t;return aE(r)?r:"갑"}function sE(t){const r=Y_[t]??t;return oE(r)?r:"자"}function lE(t){if(av(t))return t;const r=gp[t]??t;return av(r)?r:"갑"}function cE(t){if(ov(t))return t;const r=bp[t]??t;return ov(r)?r:"자"}const uE=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),dE=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]),fE=t=>uE.has(t),hE=t=>dE.has(t);function Rs({label:t,gz:r,dayStem:a,settings:s,unseongText:u,shinsalText:d,hideBranchSipSin:f=!0,hideHiddenStems:p=!1,size:b="sm",variant:y="auto",isUnknownTime:_=!1}){const{manualHour:w}=Gs(),S=_&&!w,T=r.charAt(0),N=r.charAt(1),j=sv(T,"stem",s.charType),A=sv(N,"branch",s.charType),$=lv(T),I=sE(N),D=lv(a),C=cE(N),k=lE(a),G=s.showSipSin?Hn(D,{stem:$}):null,W=!f&&s.showSipSin?Hn(D,{branch:I}):null,ot=s.thinEum&&fE(T)?"font-thin":"font-bold",nt=s.thinEum&&hE(N)?"font-thin":"font-bold",et={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},Y=!p&&!!s.hiddenStem,U=s.hiddenStem==="regular"?"main":"all",tt=s.hiddenStemMode==="hgc"?"hgc":"classic",at=y==="white",st=at?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",Z=at?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",rt=at?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",ft=at?"text-neutral-500":"text-neutral-400",gt=at?"text-neutral-500":"text-neutral-400",{settings:P}=yr(),H=S?`bg-white ${rt}`:`${gr($,"stem",P)} ${rt}`,X=S?`bg-white ${rt}`:`${gr(I,"branch",P)} ${rt}`,Q=S?"text-black":P.difficultyMode?P.theme==="light"?"text-neutral-900":"text-black":"text-white",z=S?"text-black":P.difficultyMode?P.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${st}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${Z} text-nowrap`,children:t}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[G&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ft} text-nowrap`,children:_&&!w?"-":G}),g.jsx("div",{className:`${et[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${H}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${Q} ${ot}`,children:S?"-":j})}),g.jsx("div",{className:`${et[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${X}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${z} ${nt}`,children:S?"-":A})}),Y&&g.jsx(xc,{branch:C,dayStem:k,mode:U,mapping:tt,isUnknownTime:_&&!w&&(t==="시주"||t==="일주")}),W&&g.jsx("div",{className:`text-[10px] desk:text-xs ${gt}`,children:_&&!w?"-":W}),s.showSibiUnseong&&g.jsx("div",{className:`text-[10px] desk:text-xs ${gt} text-nowrap`,children:_&&!w?"-":u||""}),s.showSibiSinsal&&g.jsx("div",{className:`text-[10px] desk:text-xs ${gt} text-nowrap`,children:_&&!w?"-":d||""})]})]})}const mE=new Set(br.천간);function pE(t){return Hf.has(t)?t:mE.has(t)?$f[t]:"갑"}function gE({label:t,settings:r,hideBranchSipSin:a=!0}){const s=r.showSipSin,u=!!r.hiddenStem,f=(r.hiddenStem==="regular"?"main":"all")==="main"?1:3,p=r.showSipSin&&!a;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:t}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[s&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),u&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:f}).map((b,y)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},y))}),p&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function bE(){const t=yr(N=>N.settings),[r,a]=O.useState(new Date),[s,u]=O.useState(!0),[d,f]=O.useState("조자시"),[p,b]=O.useState(!1);O.useEffect(()=>{if(!s)return;const N=setInterval(()=>a(new Date),1e3);return()=>clearInterval(N)},[s]);const y=oe(r),_=Se(r),w=ae(r,d),S=zr(r,"조자시"),T=pE(w.charAt(0));return g.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:["오늘의 사주"," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",s?"실시간":"수동선택",") ",xE(r)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:d,onChange:N=>f(N.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"야자시",children:"야자시 (전날 23시)"}),g.jsx("option",{value:"조자시",children:"조자시 (자정)"}),g.jsx("option",{value:"인시",children:"인시 (새벽 3시)"})]}),g.jsx("button",{onClick:()=>u(!s),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:s?"피커 사용":"타이머 사용"})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[p?g.jsx(gE,{label:"시주",settings:t,hideBranchSipSin:!0}):g.jsx(Rs,{label:"시주",gz:S,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Rs,{label:"일주",gz:w,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Rs,{label:"월주",gz:_,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Rs,{label:"연주",gz:y,dayStem:T,settings:t,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"날짜/시간 선택"}),g.jsx("input",{type:"datetime-local",value:yE(r),disabled:s,onChange:N=>{const j=vE(N.target.value);j&&a(j)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>b(N=>!N),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${p?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"시주 글자를 비우고 박스를 흰색으로 표시합니다",children:p?"시주 표시":"시주 비우기"})]})]})})}function yE(t){const r=a=>a.toString().padStart(2,"0");return`${t.getFullYear()}-${r(t.getMonth()+1)}-${r(t.getDate())}T${r(t.getHours())}:${r(t.getMinutes())}`}function vE(t){if(!t)return null;const[r,a]=t.split("T");if(!r||!a)return null;const[s,u,d]=r.split("-").map(Number),[f,p]=a.split(":").map(Number),b=new Date(s,u-1,d,f,p);return Number.isNaN(b.getTime())?null:b}function xE(t){const r=a=>a.toString().padStart(2,"0");return`${r(t.getHours())}:${r(t.getMinutes())}:${r(t.getSeconds())}`}const _n=[];for(let t=0;t<256;++t)_n.push((t+256).toString(16).slice(1));function _E(t,r=0){return(_n[t[r+0]]+_n[t[r+1]]+_n[t[r+2]]+_n[t[r+3]]+"-"+_n[t[r+4]]+_n[t[r+5]]+"-"+_n[t[r+6]]+_n[t[r+7]]+"-"+_n[t[r+8]]+_n[t[r+9]]+"-"+_n[t[r+10]]+_n[t[r+11]]+_n[t[r+12]]+_n[t[r+13]]+_n[t[r+14]]+_n[t[r+15]]).toLowerCase()}let t0;const SE=new Uint8Array(16);function wE(){if(!t0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t0=crypto.getRandomValues.bind(crypto)}return t0(SE)}const TE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cv={randomUUID:TE};function q_(t,r,a){if(cv.randomUUID&&!t)return cv.randomUUID();t=t||{};const s=t.random??t.rng?.()??wE();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,_E(s)}var _c={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var EE=_c.exports,uv;function ME(){return uv||(uv=1,(function(t,r){(function(a,s){s(r)})(EE,(function(a){var s="1.9.4";function u(i){var l,h,x,E;for(h=1,x=arguments.length;h<x;h++){E=arguments[h];for(l in E)i[l]=E[l]}return i}var d=Object.create||(function(){function i(){}return function(l){return i.prototype=l,new i}})();function f(i,l){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var x=h.call(arguments,2);return function(){return i.apply(l,x.length?x.concat(h.call(arguments)):arguments)}}var p=0;function b(i){return"_leaflet_id"in i||(i._leaflet_id=++p),i._leaflet_id}function y(i,l,h){var x,E,B,V;return V=function(){x=!1,E&&(B.apply(h,E),E=!1)},B=function(){x?E=arguments:(i.apply(h,arguments),setTimeout(V,l),x=!0)},B}function _(i,l,h){var x=l[1],E=l[0],B=x-E;return i===x&&h?i:((i-E)%B+B)%B+E}function w(){return!1}function S(i,l){if(l===!1)return i;var h=Math.pow(10,l===void 0?6:l);return Math.round(i*h)/h}function T(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function N(i){return T(i).split(/\s+/)}function j(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?d(i.options):{});for(var h in l)i.options[h]=l[h];return i.options}function A(i,l,h){var x=[];for(var E in i)x.push(encodeURIComponent(h?E.toUpperCase():E)+"="+encodeURIComponent(i[E]));return(!l||l.indexOf("?")===-1?"?":"&")+x.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function I(i,l){return i.replace($,function(h,x){var E=l[x];if(E===void 0)throw new Error("No value provided for variable "+h);return typeof E=="function"&&(E=E(l)),E})}var D=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function C(i,l){for(var h=0;h<i.length;h++)if(i[h]===l)return h;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var W=0;function ot(i){var l=+new Date,h=Math.max(0,16-(l-W));return W=l+h,window.setTimeout(i,h)}var nt=window.requestAnimationFrame||G("RequestAnimationFrame")||ot,et=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Y(i,l,h){if(h&&nt===ot)i.call(l);else return nt.call(window,f(i,l))}function U(i){i&&et.call(window,i)}var tt={__proto__:null,extend:u,create:d,bind:f,get lastId(){return p},stamp:b,throttle:y,wrapNum:_,falseFn:w,formatNum:S,trim:T,splitWords:N,setOptions:j,getParamString:A,template:I,isArray:D,indexOf:C,emptyImageUrl:k,requestFn:nt,cancelFn:et,requestAnimFrame:Y,cancelAnimFrame:U};function at(){}at.extend=function(i){var l=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,x=d(h);x.constructor=l,l.prototype=x;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(l[E]=this[E]);return i.statics&&u(l,i.statics),i.includes&&(st(i.includes),u.apply(null,[x].concat(i.includes))),u(x,i),delete x.statics,delete x.includes,x.options&&(x.options=h.options?d(h.options):{},u(x.options,i.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,V=x._initHooks.length;B<V;B++)x._initHooks[B].call(this)}},l},at.include=function(i){var l=this.prototype.options;return u(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},at.mergeOptions=function(i){return u(this.prototype.options,i),this},at.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function st(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=D(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(i,l,h){if(typeof i=="object")for(var x in i)this._on(x,i[x],l);else{i=N(i);for(var E=0,B=i.length;E<B;E++)this._on(i[E],l,h)}return this},off:function(i,l,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var x in i)this._off(x,i[x],l);else{i=N(i);for(var E=arguments.length===1,B=0,V=i.length;B<V;B++)E?this._off(i[B]):this._off(i[B],l,h)}return this},_on:function(i,l,h,x){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,h)===!1){h===this&&(h=void 0);var E={fn:l,ctx:h};x&&(E.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(E)}},_off:function(i,l,h){var x,E,B;if(this._events&&(x=this._events[i],!!x)){if(arguments.length===1){if(this._firingCount)for(E=0,B=x.length;E<B;E++)x[E].fn=w;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var V=this._listens(i,l,h);if(V!==!1){var lt=x[V];this._firingCount&&(lt.fn=w,this._events[i]=x=x.slice()),x.splice(V,1)}}},fire:function(i,l,h){if(!this.listens(i,h))return this;var x=u({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var E=this._events[i];if(E){this._firingCount=this._firingCount+1||1;for(var B=0,V=E.length;B<V;B++){var lt=E[B],pt=lt.fn;lt.once&&this.off(i,pt,lt.ctx),pt.call(lt.ctx||this,x)}this._firingCount--}}return h&&this._propagateEvent(x),this},listens:function(i,l,h,x){typeof i!="string"&&console.warn('"string" type argument expected');var E=l;typeof l!="function"&&(x=!!l,E=void 0,h=void 0);var B=this._events&&this._events[i];if(B&&B.length&&this._listens(i,E,h)!==!1)return!0;if(x){for(var V in this._eventParents)if(this._eventParents[V].listens(i,l,h,x))return!0}return!1},_listens:function(i,l,h){if(!this._events)return!1;var x=this._events[i]||[];if(!l)return!!x.length;h===this&&(h=void 0);for(var E=0,B=x.length;E<B;E++)if(x[E].fn===l&&x[E].ctx===h)return E;return!1},once:function(i,l,h){if(typeof i=="object")for(var x in i)this._on(x,i[x],l,!0);else{i=N(i);for(var E=0,B=i.length;E<B;E++)this._on(i[E],l,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[b(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[b(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,u({layer:i.target,propagatedFrom:i.target},i),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var rt=at.extend(Z);function ft(i,l,h){this.x=h?Math.round(i):i,this.y=h?Math.round(l):l}var gt=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};ft.prototype={clone:function(){return new ft(this.x,this.y)},add:function(i){return this.clone()._add(P(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(P(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new ft(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new ft(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=gt(this.x),this.y=gt(this.y),this},distanceTo:function(i){i=P(i);var l=i.x-this.x,h=i.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(i){return i=P(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=P(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function P(i,l,h){return i instanceof ft?i:D(i)?new ft(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new ft(i.x,i.y):new ft(i,l,h)}function H(i,l){if(i)for(var h=l?[i,l]:i,x=0,E=h.length;x<E;x++)this.extend(h[x])}H.prototype={extend:function(i){var l,h;if(!i)return this;if(i instanceof ft||typeof i[0]=="number"||"x"in i)l=h=P(i);else if(i=X(i),l=i.min,h=i.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return P((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return P(this.min.x,this.max.y)},getTopRight:function(){return P(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,h;return typeof i[0]=="number"||i instanceof ft?i=P(i):i=X(i),i instanceof H?(l=i.min,h=i.max):l=h=i,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=X(i);var l=this.min,h=this.max,x=i.min,E=i.max,B=E.x>=l.x&&x.x<=h.x,V=E.y>=l.y&&x.y<=h.y;return B&&V},overlaps:function(i){i=X(i);var l=this.min,h=this.max,x=i.min,E=i.max,B=E.x>l.x&&x.x<h.x,V=E.y>l.y&&x.y<h.y;return B&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,h=this.max,x=Math.abs(l.x-h.x)*i,E=Math.abs(l.y-h.y)*i;return X(P(l.x-x,l.y-E),P(h.x+x,h.y+E))},equals:function(i){return i?(i=X(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function X(i,l){return!i||i instanceof H?i:new H(i,l)}function Q(i,l){if(i)for(var h=l?[i,l]:i,x=0,E=h.length;x<E;x++)this.extend(h[x])}Q.prototype={extend:function(i){var l=this._southWest,h=this._northEast,x,E;if(i instanceof q)x=i,E=i;else if(i instanceof Q){if(x=i._southWest,E=i._northEast,!x||!E)return this}else return i?this.extend(K(i)||z(i)):this;return!l&&!h?(this._southWest=new q(x.lat,x.lng),this._northEast=new q(E.lat,E.lng)):(l.lat=Math.min(x.lat,l.lat),l.lng=Math.min(x.lng,l.lng),h.lat=Math.max(E.lat,h.lat),h.lng=Math.max(E.lng,h.lng)),this},pad:function(i){var l=this._southWest,h=this._northEast,x=Math.abs(l.lat-h.lat)*i,E=Math.abs(l.lng-h.lng)*i;return new Q(new q(l.lat-x,l.lng-E),new q(h.lat+x,h.lng+E))},getCenter:function(){return new q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new q(this.getNorth(),this.getWest())},getSouthEast:function(){return new q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof q||"lat"in i?i=K(i):i=z(i);var l=this._southWest,h=this._northEast,x,E;return i instanceof Q?(x=i.getSouthWest(),E=i.getNorthEast()):x=E=i,x.lat>=l.lat&&E.lat<=h.lat&&x.lng>=l.lng&&E.lng<=h.lng},intersects:function(i){i=z(i);var l=this._southWest,h=this._northEast,x=i.getSouthWest(),E=i.getNorthEast(),B=E.lat>=l.lat&&x.lat<=h.lat,V=E.lng>=l.lng&&x.lng<=h.lng;return B&&V},overlaps:function(i){i=z(i);var l=this._southWest,h=this._northEast,x=i.getSouthWest(),E=i.getNorthEast(),B=E.lat>l.lat&&x.lat<h.lat,V=E.lng>l.lng&&x.lng<h.lng;return B&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=z(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function z(i,l){return i instanceof Q?i:new Q(i,l)}function q(i,l,h){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,h!==void 0&&(this.alt=+h)}q.prototype={equals:function(i,l){if(!i)return!1;i=K(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+S(this.lat,i)+", "+S(this.lng,i)+")"},distanceTo:function(i){return bt.distance(this,K(i))},wrap:function(){return bt.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,h=l/Math.cos(Math.PI/180*this.lat);return z([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new q(this.lat,this.lng,this.alt)}};function K(i,l,h){return i instanceof q?i:D(i)&&typeof i[0]!="object"?i.length===3?new q(i[0],i[1],i[2]):i.length===2?new q(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new q(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new q(i,l,h)}var ct={latLngToPoint:function(i,l){var h=this.projection.project(i),x=this.scale(l);return this.transformation._transform(h,x)},pointToLatLng:function(i,l){var h=this.scale(l),x=this.transformation.untransform(i,h);return this.projection.unproject(x)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(i),x=this.transformation.transform(l.min,h),E=this.transformation.transform(l.max,h);return new H(x,E)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?_(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?_(i.lat,this.wrapLat,!0):i.lat,x=i.alt;return new q(h,l,x)},wrapLatLngBounds:function(i){var l=i.getCenter(),h=this.wrapLatLng(l),x=l.lat-h.lat,E=l.lng-h.lng;if(x===0&&E===0)return i;var B=i.getSouthWest(),V=i.getNorthEast(),lt=new q(B.lat-x,B.lng-E),pt=new q(V.lat-x,V.lng-E);return new Q(lt,pt)}},bt=u({},ct,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var h=Math.PI/180,x=i.lat*h,E=l.lat*h,B=Math.sin((l.lat-i.lat)*h/2),V=Math.sin((l.lng-i.lng)*h/2),lt=B*B+Math.cos(x)*Math.cos(E)*V*V,pt=2*Math.atan2(Math.sqrt(lt),Math.sqrt(1-lt));return this.R*pt}}),Mt=6378137,Et={R:Mt,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,h=this.MAX_LATITUDE,x=Math.max(Math.min(h,i.lat),-h),E=Math.sin(x*l);return new ft(this.R*i.lng*l,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(i){var l=180/Math.PI;return new q((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:(function(){var i=Mt*Math.PI;return new H([-i,-i],[i,i])})()};function Lt(i,l,h,x){if(D(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=h,this._d=x}Lt.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new ft((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function Dt(i,l,h,x){return new Lt(i,l,h,x)}var St=u({},bt,{code:"EPSG:3857",projection:Et,transformation:(function(){var i=.5/(Math.PI*Et.R);return Dt(i,.5,-i,.5)})()}),kt=u({},St,{code:"EPSG:900913"});function It(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function ee(i,l){var h="",x,E,B,V,lt,pt;for(x=0,B=i.length;x<B;x++){for(lt=i[x],E=0,V=lt.length;E<V;E++)pt=lt[E],h+=(E?"L":"M")+pt.x+" "+pt.y;h+=l?Pt.svg?"z":"x":""}return h||"M0 0"}var $t=document.documentElement.style,Xt="ActiveXObject"in window,xt=Xt&&!document.addEventListener,Bt="msLaunchUri"in navigator&&!("documentMode"in document),vt=Yn("webkit"),de=Yn("android"),He=Yn("android 2")||Yn("android 3"),we=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),qt=de&&Yn("Google")&&we<537&&!("AudioNode"in window),je=!!window.opera,Le=!Bt&&Yn("chrome"),Je=Yn("gecko")&&!vt&&!je&&!Xt,Be=!Le&&Yn("safari"),yi=Yn("phantom"),ti="OTransition"in $t,Qi=navigator.platform.indexOf("Win")===0,$r=Xt&&"transition"in $t,Un="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!He,mn="MozPerspective"in $t,Ir=!window.L_DISABLE_3D&&($r||Un||mn)&&!ti&&!yi,Gn=typeof orientation<"u"||Yn("mobile"),il=Gn&&vt,Wa=Gn&&Un,Ur=!window.PointerEvent&&window.MSPointerEvent,Zn=!!(window.PointerEvent||Ur),vi="ontouchstart"in window||!!window.TouchEvent,al=!window.L_NO_TOUCH&&(vi||Zn),Qa=Gn&&je,Qc=Gn&&Je,ol=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,sl=(function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",w,l),window.removeEventListener("testPassiveEventSupport",w,l)}catch{}return i})(),Jc=(function(){return!!document.createElement("canvas").getContext})(),ll=!!(document.createElementNS&&It("svg").createSVGRect),ei=!!ll&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),on=!ll&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),wn=navigator.platform.indexOf("Mac")===0,Ji=navigator.platform.indexOf("Linux")===0;function Yn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Pt={ie:Xt,ielt9:xt,edge:Bt,webkit:vt,android:de,android23:He,androidStock:qt,opera:je,chrome:Le,gecko:Je,safari:Be,phantom:yi,opera12:ti,win:Qi,ie3d:$r,webkit3d:Un,gecko3d:mn,any3d:Ir,mobile:Gn,mobileWebkit:il,mobileWebkit3d:Wa,msPointer:Ur,pointer:Zn,touch:al,touchNative:vi,mobileOpera:Qa,mobileGecko:Qc,retina:ol,passiveEvents:sl,canvas:Jc,svg:ll,vml:on,inlineSvg:ei,mac:wn,linux:Ji},tu=Pt.msPointer?"MSPointerDown":"pointerdown",cl=Pt.msPointer?"MSPointerMove":"pointermove",ta=Pt.msPointer?"MSPointerUp":"pointerup",Go=Pt.msPointer?"MSPointerCancel":"pointercancel",ni={touchstart:tu,touchmove:cl,touchend:ta,touchcancel:Go},xi={touchstart:ru,touchmove:Ja,touchend:Ja,touchcancel:Ja},vr={},_i=!1;function Xe(i,l,h){return l==="touchstart"&&rh(),xi[l]?(h=xi[l].bind(this,h),i.addEventListener(ni[l],h,!1),h):(console.warn("wrong event specified:",l),w)}function eu(i,l,h){if(!ni[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(ni[l],h,!1)}function nu(i){vr[i.pointerId]=i}function Si(i){vr[i.pointerId]&&(vr[i.pointerId]=i)}function wi(i){delete vr[i.pointerId]}function rh(){_i||(document.addEventListener(tu,nu,!0),document.addEventListener(cl,Si,!0),document.addEventListener(ta,wi,!0),document.addEventListener(Go,wi,!0),_i=!0)}function Ja(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in vr)l.touches.push(vr[h]);l.changedTouches=[l],i(l)}}function ru(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Ye(l),Ja(i,l)}function ih(i){var l={},h,x;for(x in i)h=i[x],l[x]=h&&h.bind?h.bind(i):h;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Zo=200;function Yo(i,l){i.addEventListener("dblclick",l);var h=0,x;function E(B){if(B.detail!==1){x=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var V=fl(B);if(!(V.some(function(pt){return pt instanceof HTMLLabelElement&&pt.attributes.for})&&!V.some(function(pt){return pt instanceof HTMLInputElement||pt instanceof HTMLSelectElement}))){var lt=Date.now();lt-h<=Zo?(x++,x===2&&l(ih(B))):x=1,h=lt}}}return i.addEventListener("click",E),{dblclick:l,simDblclick:E}}function Gr(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var to=ia(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ea=ia(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ti=ea==="webkitTransition"||ea==="OTransition"?ea+"End":"transitionend";function qo(i){return typeof i=="string"?document.getElementById(i):i}function Ei(i,l){var h=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(i,null);h=x?x[l]:null}return h==="auto"?null:h}function se(i,l,h){var x=document.createElement(i);return x.className=l||"",h&&h.appendChild(x),x}function Me(i){var l=i.parentNode;l&&l.removeChild(i)}function pn(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Mi(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function na(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function ra(i,l){if(i.classList!==void 0)return i.classList.contains(l);var h=gn(i);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Kt(i,l){if(i.classList!==void 0)for(var h=N(l),x=0,E=h.length;x<E;x++)i.classList.add(h[x]);else if(!ra(i,l)){var B=gn(i);ul(i,(B?B+" ":"")+l)}}function Ne(i,l){i.classList!==void 0?i.classList.remove(l):ul(i,T((" "+gn(i)+" ").replace(" "+l+" "," ")))}function ul(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function gn(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Tn(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&iu(i,l)}function iu(i,l){var h=!1,x="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(x)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):i.style.filter+=" progid:"+x+"(opacity="+l+")"}function ia(i){for(var l=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in l)return i[h];return!1}function qn(i,l,h){var x=l||new ft(0,0);i.style[to]=(Pt.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(h?" scale("+h+")":"")}function $e(i,l){i._leaflet_pos=l,Pt.any3d?qn(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function ri(i){return i._leaflet_pos||new ft(0,0)}var xr,eo,Vo;if("onselectstart"in document)xr=function(){Ft(window,"selectstart",Ye)},eo=function(){fe(window,"selectstart",Ye)};else{var aa=ia(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xr=function(){if(aa){var i=document.documentElement.style;Vo=i[aa],i[aa]="none"}},eo=function(){aa&&(document.documentElement.style[aa]=Vo,Vo=void 0)}}function no(){Ft(window,"dragstart",Ye)}function dl(){fe(window,"dragstart",Ye)}var Fo,oa;function ro(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(sa(),Fo=i,oa=i.style.outlineStyle,i.style.outlineStyle="none",Ft(window,"keydown",sa))}function sa(){Fo&&(Fo.style.outlineStyle=oa,Fo=void 0,oa=void 0,fe(window,"keydown",sa))}function Ni(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function ii(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var au={__proto__:null,TRANSFORM:to,TRANSITION:ea,TRANSITION_END:Ti,get:qo,getStyle:Ei,create:se,remove:Me,empty:pn,toFront:Mi,toBack:na,hasClass:ra,addClass:Kt,removeClass:Ne,setClass:ul,getClass:gn,setOpacity:Tn,testProp:ia,setTransform:qn,setPosition:$e,getPosition:ri,get disableTextSelection(){return xr},get enableTextSelection(){return eo},disableImageDrag:no,enableImageDrag:dl,preventOutline:ro,restoreOutline:sa,getSizedParentNode:Ni,getScale:ii};function Ft(i,l,h,x){if(l&&typeof l=="object")for(var E in l)Ai(i,E,l[E],h);else{l=N(l);for(var B=0,V=l.length;B<V;B++)Ai(i,l[B],h,x)}return this}var Qn="_leaflet_events";function fe(i,l,h,x){if(arguments.length===1)_r(i),delete i[Qn];else if(l&&typeof l=="object")for(var E in l)Sr(i,E,l[E],h);else if(l=N(l),arguments.length===2)_r(i,function(lt){return C(l,lt)!==-1});else for(var B=0,V=l.length;B<V;B++)Sr(i,l[B],h,x);return this}function _r(i,l){for(var h in i[Qn]){var x=h.split(/\d/)[0];(!l||l(x))&&Sr(i,x,null,null,h)}}var io={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ai(i,l,h,x){var E=l+b(h)+(x?"_"+b(x):"");if(i[Qn]&&i[Qn][E])return this;var B=function(lt){return h.call(x||i,lt||window.event)},V=B;!Pt.touchNative&&Pt.pointer&&l.indexOf("touch")===0?B=Xe(i,l,B):Pt.touch&&l==="dblclick"?B=Yo(i,B):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(io[l]||l,B,Pt.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(B=function(lt){lt=lt||window.event,ji(i,lt)&&V(lt)},i.addEventListener(io[l],B,!1)):i.addEventListener(l,V,!1):i.attachEvent("on"+l,B),i[Qn]=i[Qn]||{},i[Qn][E]=B}function Sr(i,l,h,x,E){E=E||l+b(h)+(x?"_"+b(x):"");var B=i[Qn]&&i[Qn][E];if(!B)return this;!Pt.touchNative&&Pt.pointer&&l.indexOf("touch")===0?eu(i,l,B):Pt.touch&&l==="dblclick"?Gr(i,B):"removeEventListener"in i?i.removeEventListener(io[l]||l,B,!1):i.detachEvent("on"+l,B),i[Qn][E]=null}function Zr(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function la(i){return Ai(i,"wheel",Zr),this}function ca(i){return Ft(i,"mousedown touchstart dblclick contextmenu",Zr),i._leaflet_disable_click=!0,this}function Ye(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function wr(i){return Ye(i),Zr(i),this}function fl(i){if(i.composedPath)return i.composedPath();for(var l=[],h=i.target;h;)l.push(h),h=h.parentNode;return l}function bn(i,l){if(!l)return new ft(i.clientX,i.clientY);var h=ii(l),x=h.boundingClientRect;return new ft((i.clientX-x.left)/h.x-l.clientLeft,(i.clientY-x.top)/h.y-l.clientTop)}var Di=Pt.linux&&Pt.chrome?window.devicePixelRatio:Pt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ao(i){return Pt.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Di:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function ji(i,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var ah={__proto__:null,on:Ft,off:fe,stopPropagation:Zr,disableScrollPropagation:la,disableClickPropagation:ca,preventDefault:Ye,stop:wr,getPropagationPath:fl,getMousePosition:bn,getWheelDelta:ao,isExternalTarget:ji,addListener:Ft,removeListener:fe},Ko=rt.extend({run:function(i,l,h,x){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=ri(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var h=this._startPos.add(this._offset.multiplyBy(i));l&&h._round(),$e(this._el,h),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Jt=rt.extend({options:{crs:St,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=j(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(K(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ea&&Pt.any3d&&!Pt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ft(this._proxy,Ti,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(K(i),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=u({animate:h.animate},h.zoom),h.pan=u({animate:h.animate,duration:h.duration},h.pan));var x=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,h.zoom):this._tryAnimatedPan(i,h.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(Pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(Pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,h){var x=this.getZoomScale(l),E=this.getSize().divideBy(2),B=i instanceof ft?i:this.latLngToContainerPoint(i),V=B.subtract(E).multiplyBy(1-1/x),lt=this.containerPointToLatLng(E.add(V));return this.setView(lt,l,{zoom:h})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():z(i);var h=P(l.paddingTopLeft||l.padding||[0,0]),x=P(l.paddingBottomRight||l.padding||[0,0]),E=this.getBoundsZoom(i,!1,h.add(x));if(E=typeof l.maxZoom=="number"?Math.min(l.maxZoom,E):E,E===1/0)return{center:i.getCenter(),zoom:E};var B=x.subtract(h).divideBy(2),V=this.project(i.getSouthWest(),E),lt=this.project(i.getNorthEast(),E),pt=this.unproject(V.add(lt).divideBy(2).add(B),E);return{center:pt,zoom:E}},fitBounds:function(i,l){if(i=z(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=P(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ko,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Kt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,h){if(h=h||{},h.animate===!1||!Pt.any3d)return this.setView(i,l,h);this._stop();var x=this.project(this.getCenter()),E=this.project(i),B=this.getSize(),V=this._zoom;i=K(i),l=l===void 0?V:l;var lt=Math.max(B.x,B.y),pt=lt*this.getZoomScale(V,l),Tt=E.distanceTo(x)||1,jt=1.42,Ot=jt*jt;function Rt(Re){var Mr=Re?-1:1,Vr=Re?pt:lt,ci=pt*pt-lt*lt+Mr*Ot*Ot*Tt*Tt,Fr=2*Vr*Ot*Tt,vo=ci/Fr,ls=Math.sqrt(vo*vo+1)-vo,xo=ls<1e-9?-18:Math.log(ls);return xo}function Vt(Re){return(Math.exp(Re)-Math.exp(-Re))/2}function Ae(Re){return(Math.exp(Re)+Math.exp(-Re))/2}function Ie(Re){return Vt(Re)/Ae(Re)}var ln=Rt(0);function Vn(Re){return lt*(Ae(ln)/Ae(ln+jt*Re))}function Tu(Re){return lt*(Ae(ln)*Ie(ln+jt*Re)-Vt(ln))/Ot}function Eu(Re){return 1-Math.pow(1-Re,1.5)}var yo=Date.now(),_a=(Rt(1)-ln)/jt,Mu=h.duration?1e3*h.duration:1e3*_a*.8;function Sa(){var Re=(Date.now()-yo)/Mu,Mr=Eu(Re)*_a;Re<=1?(this._flyToFrame=Y(Sa,this),this._move(this.unproject(x.add(E.subtract(x).multiplyBy(Tu(Mr)/Tt)),V),this.getScaleZoom(lt/Vn(Mr),V),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Sa.call(this),this},flyToBounds:function(i,l){var h=this._getBoundsCenterZoom(i,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(i){return i=z(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var h=this.getCenter(),x=this._limitCenter(h,this._zoom,z(i));return h.equals(x)||this.panTo(x,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var h=P(l.paddingTopLeft||l.padding||[0,0]),x=P(l.paddingBottomRight||l.padding||[0,0]),E=this.project(this.getCenter()),B=this.project(i),V=this.getPixelBounds(),lt=X([V.min.add(h),V.max.subtract(x)]),pt=lt.getSize();if(!lt.contains(B)){this._enforcingBounds=!0;var Tt=B.subtract(lt.getCenter()),jt=lt.extend(B).getSize().subtract(pt);E.x+=Tt.x<0?-jt.x:jt.x,E.y+=Tt.y<0?-jt.y:jt.y,this.panTo(this.unproject(E),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=u({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),x=l.divideBy(2).round(),E=h.divideBy(2).round(),B=x.subtract(E);return!B.x&&!B.y?this:(i.animate&&i.pan?this.panBy(B):(i.pan&&this._rawPanBy(B),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=u({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,i):navigator.geolocation.getCurrentPosition(l,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,h=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,h=i.coords.longitude,x=new q(l,h),E=x.toBounds(i.coords.accuracy*2),B=this._locateOptions;if(B.setView){var V=this.getBoundsZoom(E);this.setView(x,B.maxZoom?Math.min(V,B.maxZoom):V)}var lt={latlng:x,bounds:E,timestamp:i.timestamp};for(var pt in i.coords)typeof i.coords[pt]=="number"&&(lt[pt]=i.coords[pt]);this.fire("locationfound",lt)}},addHandler:function(i,l){if(!l)return this;var h=this[i]=new l(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Me(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Me(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),x=se("div",h,l||this._mapPane);return i&&(this._panes[i]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new Q(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,h){i=z(i),h=P(h||[0,0]);var x=this.getZoom()||0,E=this.getMinZoom(),B=this.getMaxZoom(),V=i.getNorthWest(),lt=i.getSouthEast(),pt=this.getSize().subtract(h),Tt=X(this.project(lt,x),this.project(V,x)).getSize(),jt=Pt.any3d?this.options.zoomSnap:1,Ot=pt.x/Tt.x,Rt=pt.y/Tt.y,Vt=l?Math.max(Ot,Rt):Math.min(Ot,Rt);return x=this.getScaleZoom(Vt,x),jt&&(x=Math.round(x/(jt/100))*(jt/100),x=l?Math.ceil(x/jt)*jt:Math.floor(x/jt)*jt),Math.max(E,Math.min(B,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ft(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var h=this._getTopLeftPoint(i,l);return new H(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(i)/h.scale(l)},getScaleZoom:function(i,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var x=h.zoom(i*h.scale(l));return isNaN(x)?1/0:x},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(K(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(P(i),l)},layerPointToLatLng:function(i){var l=P(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(K(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(K(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(z(i))},distance:function(i,l){return this.options.crs.distance(K(i),K(l))},containerPointToLayerPoint:function(i){return P(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return P(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(P(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(i)))},mouseEventToContainerPoint:function(i){return bn(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=qo(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ft(l,"scroll",this._onScroll,this),this._containerId=b(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pt.any3d,Kt(i,"leaflet-container"+(Pt.touch?" leaflet-touch":"")+(Pt.retina?" leaflet-retina":"")+(Pt.ielt9?" leaflet-oldie":"")+(Pt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ei(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$e(this._mapPane,new ft(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Kt(i.markerPane,"leaflet-zoom-hide"),Kt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,h){$e(this._mapPane,new ft(0,0));var x=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var E=this._zoom!==l;this._moveStart(E,h)._move(i,l)._moveEnd(E),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,h,x){l===void 0&&(l=this._zoom);var E=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),x?h&&h.pinch&&this.fire("zoom",h):((E||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){$e(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[b(this._container)]=this;var l=i?fe:Ft;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Pt.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var h=[],x,E=l==="mouseout"||l==="mouseover",B=i.target||i.srcElement,V=!1;B;){if(x=this._targets[b(B)],x&&(l==="click"||l==="preclick")&&this._draggableMoved(x)){V=!0;break}if(x&&x.listens(l,!0)&&(E&&!ji(B,i)||(h.push(x),E))||B===this._container)break;B=B.parentNode}return!h.length&&!V&&!E&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var h=i.type;h==="mousedown"&&ro(l),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,h){if(i.type==="click"){var x=u({},i);x.type="preclick",this._fireDOMEvent(x,x.type,h)}var E=this._findEventTargets(i,l);if(h){for(var B=[],V=0;V<h.length;V++)h[V].listens(l,!0)&&B.push(h[V]);E=B.concat(E)}if(E.length){l==="contextmenu"&&Ye(i);var lt=E[0],pt={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var Tt=lt.getLatLng&&(!lt._radius||lt._radius<=10);pt.containerPoint=Tt?this.latLngToContainerPoint(lt.getLatLng()):this.mouseEventToContainerPoint(i),pt.layerPoint=this.containerPointToLayerPoint(pt.containerPoint),pt.latlng=Tt?lt.getLatLng():this.layerPointToLatLng(pt.layerPoint)}for(V=0;V<E.length;V++)if(E[V].fire(l,pt,!0),pt.originalEvent._stopped||E[V].options.bubblingMouseEvents===!1&&C(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return ri(this._mapPane)||new ft(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var h=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var h=this.getSize()._divideBy(2);return this.project(i,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,h){var x=this._getNewPixelOrigin(h,l);return this.project(i,l)._subtract(x)},_latLngBoundsToNewLayerBounds:function(i,l,h){var x=this._getNewPixelOrigin(h,l);return X([this.project(i.getSouthWest(),l)._subtract(x),this.project(i.getNorthWest(),l)._subtract(x),this.project(i.getSouthEast(),l)._subtract(x),this.project(i.getNorthEast(),l)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,h){if(!h)return i;var x=this.project(i,l),E=this.getSize().divideBy(2),B=new H(x.subtract(E),x.add(E)),V=this._getBoundsOffset(B,h,l);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?i:this.unproject(x.add(V),l)},_limitOffset:function(i,l){if(!l)return i;var h=this.getPixelBounds(),x=new H(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(x,l))},_getBoundsOffset:function(i,l,h){var x=X(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),E=x.min.subtract(i.min),B=x.max.subtract(i.max),V=this._rebound(E.x,-B.x),lt=this._rebound(E.y,-B.y);return new ft(V,lt)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),h=this.getMaxZoom(),x=Pt.any3d?this.options.zoomSnap:1;return x&&(i=Math.round(i/x)*x),Math.max(l,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ne(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var h=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var i=this._proxy=se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var h=to,x=this._proxy.style[h];qn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),x===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Me(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();qn(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(l),E=this._getCenterOffset(i)._divideBy(1-1/x);return h.animate!==!0&&!this.getSize().contains(E)?!1:(Y(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,h,x){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,Kt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ne(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function oo(i,l){return new Jt(i,l)}var En=at.extend({options:{position:"topright"},initialize:function(i){j(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),h=this.getPosition(),x=i._controlCorners[h];return Kt(l,"leaflet-control"),h.indexOf("bottom")!==-1?x.insertBefore(l,x.firstChild):x.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Me(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),ua=function(i){return new En(i)};Jt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",h=this._controlContainer=se("div",l+"control-container",this._container);function x(E,B){var V=l+E+" "+l+B;i[E+B]=se("div",V,h)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Me(this._controlCorners[i]);Me(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ou=En.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,h,x){return h<x?-1:x<h?1:0}},initialize:function(i,l,h){j(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in i)this._addLayer(i[x],x);for(x in l)this._addLayer(l[x],x,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return En.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(b(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Kt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Kt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Ne(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ne(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=se("div",i),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ca(l),la(l);var x=this._section=se("section",i+"-list");h&&(this._map.on("click",this.collapse,this),Ft(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=se("a",i+"-toggle",l);E.href="#",E.title="Layers",E.setAttribute("role","button"),Ft(E,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){Ye(B),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=se("div",i+"-base",x),this._separator=se("div",i+"-separator",x),this._overlaysList=se("div",i+"-overlays",x),l.appendChild(x)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&b(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(x,E){return this.options.sortFunction(x.layer,E.layer,x.name,E.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pn(this._baseLayersList),pn(this._overlaysList),this._layerControlInputs=[];var i,l,h,x,E=0;for(h=0;h<this._layers.length;h++)x=this._layers[h],this._addItem(x),l=l||x.overlay,i=i||!x.overlay,E+=x.overlay?0:1;return this.options.hideSingleBase&&(i=i&&E>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(b(i.target)),h=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(i,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=h,x.firstChild},_addItem:function(i){var l=document.createElement("label"),h=this._map.hasLayer(i.layer),x;i.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=h):x=this._createRadioElement("leaflet-base-layers_"+b(this),h),this._layerControlInputs.push(x),x.layerId=b(i.layer),Ft(x,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+i.name;var B=document.createElement("span");l.appendChild(B),B.appendChild(x),B.appendChild(E);var V=i.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,h,x=[],E=[];this._handlingClick=!0;for(var B=i.length-1;B>=0;B--)l=i[B],h=this._getLayer(l.layerId).layer,l.checked?x.push(h):l.checked||E.push(h);for(B=0;B<E.length;B++)this._map.hasLayer(E[B])&&this._map.removeLayer(E[B]);for(B=0;B<x.length;B++)this._map.hasLayer(x[B])||this._map.addLayer(x[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,h,x=this._map.getZoom(),E=i.length-1;E>=0;E--)l=i[E],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&x<h.options.minZoom||h.options.maxZoom!==void 0&&x>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Ft(i,"click",Ye),this.expand();var l=this;setTimeout(function(){fe(i,"click",Ye),l._preventClick=!1})}}),oh=function(i,l,h){return new ou(i,l,h)},hl=En.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",h=se("div",l+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,h,x,E){var B=se("a",h,x);return B.innerHTML=i,B.href="#",B.title=l,B.setAttribute("role","button"),B.setAttribute("aria-label",l),ca(B),Ft(B,"click",wr),Ft(B,"click",E,this),Ft(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";Ne(this._zoomInButton,l),Ne(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Kt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Kt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Jt.mergeOptions({zoomControl:!0}),Jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new hl,this.addControl(this.zoomControl))});var ml=function(i){return new hl(i)},su=En.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",h=se("div",l),x=this.options;return this._addScales(x,l+"-line",h),i.on(x.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,h){i.metric&&(this._mScale=se("div",l,h)),i.imperial&&(this._iScale=se("div",l,h))},_update:function(){var i=this._map,l=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/i)},_updateImperial:function(i){var l=i*3.2808399,h,x,E;l>5280?(h=l/5280,x=this._getRoundNum(h),this._updateScale(this._iScale,x+" mi",x/h)):(E=this._getRoundNum(l),this._updateScale(this._iScale,E+" ft",E/l))},_updateScale:function(i,l,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),h=i/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),sh=function(i){return new su(i)},lh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pl=En.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pt.inlineSvg?lh+" ":"")+"Leaflet</a>"},initialize:function(i){j(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=se("div","leaflet-control-attribution"),ca(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Jt.mergeOptions({attributionControl:!0}),Jt.addInitHook(function(){this.options.attributionControl&&new pl().addTo(this)});var ch=function(i){return new pl(i)};En.Layers=ou,En.Zoom=hl,En.Scale=su,En.Attribution=pl,ua.layers=oh,ua.zoom=ml,ua.scale=sh,ua.attribution=ch;var Jn=at.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jn.addTo=function(i,l){return i.addHandler(l,this),this};var uh={Events:Z},lu=Pt.touch?"touchstart mousedown":"mousedown",ai=rt.extend({options:{clickTolerance:3},initialize:function(i,l,h,x){j(this,x),this._element=i,this._dragStartTarget=l||i,this._preventOutline=h},enable:function(){this._enabled||(Ft(this._dragStartTarget,lu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ai._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,lu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!ra(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){ai._dragging===this&&this.finishDrag();return}if(!(ai._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(ai._dragging=this,this._preventOutline&&ro(this._element),no(),xr(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,h=Ni(this._element);this._startPoint=new ft(l.clientX,l.clientY),this._startPos=ri(this._element),this._parentScale=ii(h);var x=i.type==="mousedown";Ft(document,x?"mousemove":"touchmove",this._onMove,this),Ft(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,h=new ft(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Ye(i),this._moved||(this.fire("dragstart"),this._moved=!0,Kt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Kt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),$e(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Ne(document.body,"leaflet-dragging"),this._lastTarget&&(Ne(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),dl(),eo();var l=this._moved&&this._moving;this._moving=!1,ai._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function cu(i,l,h){var x,E=[1,4,2,8],B,V,lt,pt,Tt,jt,Ot,Rt;for(B=0,jt=i.length;B<jt;B++)i[B]._code=ki(i[B],l);for(lt=0;lt<4;lt++){for(Ot=E[lt],x=[],B=0,jt=i.length,V=jt-1;B<jt;V=B++)pt=i[B],Tt=i[V],pt._code&Ot?Tt._code&Ot||(Rt=Wo(Tt,pt,Ot,l,h),Rt._code=ki(Rt,l),x.push(Rt)):(Tt._code&Ot&&(Rt=Wo(Tt,pt,Ot,l,h),Rt._code=ki(Rt,l),x.push(Rt)),x.push(pt));i=x}return i}function Xo(i,l){var h,x,E,B,V,lt,pt,Tt,jt;if(!i||i.length===0)throw new Error("latlngs not passed");sn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Ot=K([0,0]),Rt=z(i),Vt=Rt.getNorthWest().distanceTo(Rt.getSouthWest())*Rt.getNorthEast().distanceTo(Rt.getNorthWest());Vt<1700&&(Ot=gl(i));var Ae=i.length,Ie=[];for(h=0;h<Ae;h++){var ln=K(i[h]);Ie.push(l.project(K([ln.lat-Ot.lat,ln.lng-Ot.lng])))}for(lt=pt=Tt=0,h=0,x=Ae-1;h<Ae;x=h++)E=Ie[h],B=Ie[x],V=E.y*B.x-B.y*E.x,pt+=(E.x+B.x)*V,Tt+=(E.y+B.y)*V,lt+=V*3;lt===0?jt=Ie[0]:jt=[pt/lt,Tt/lt];var Vn=l.unproject(P(jt));return K([Vn.lat+Ot.lat,Vn.lng+Ot.lng])}function gl(i){for(var l=0,h=0,x=0,E=0;E<i.length;E++){var B=K(i[E]);l+=B.lat,h+=B.lng,x++}return K([l/x,h/x])}var dh={__proto__:null,clipPolygon:cu,polygonCenter:Xo,centroid:gl};function uu(i,l){if(!l||!i.length)return i.slice();var h=l*l;return i=mh(i,h),i=hh(i,h),i}function bl(i,l,h){return Math.sqrt(Oi(i,l,h,!0))}function fh(i,l,h){return Oi(i,l,h)}function hh(i,l){var h=i.length,x=typeof Uint8Array<"u"?Uint8Array:Array,E=new x(h);E[0]=E[h-1]=1,yl(i,E,l,0,h-1);var B,V=[];for(B=0;B<h;B++)E[B]&&V.push(i[B]);return V}function yl(i,l,h,x,E){var B=0,V,lt,pt;for(lt=x+1;lt<=E-1;lt++)pt=Oi(i[lt],i[x],i[E],!0),pt>B&&(V=lt,B=pt);B>h&&(l[V]=1,yl(i,l,h,x,V),yl(i,l,h,V,E))}function mh(i,l){for(var h=[i[0]],x=1,E=0,B=i.length;x<B;x++)ph(i[x],i[E])>l&&(h.push(i[x]),E=x);return E<B-1&&h.push(i[B-1]),h}var du;function fu(i,l,h,x,E){var B=x?du:ki(i,h),V=ki(l,h),lt,pt,Tt;for(du=V;;){if(!(B|V))return[i,l];if(B&V)return!1;lt=B||V,pt=Wo(i,l,lt,h,E),Tt=ki(pt,h),lt===B?(i=pt,B=Tt):(l=pt,V=Tt)}}function Wo(i,l,h,x,E){var B=l.x-i.x,V=l.y-i.y,lt=x.min,pt=x.max,Tt,jt;return h&8?(Tt=i.x+B*(pt.y-i.y)/V,jt=pt.y):h&4?(Tt=i.x+B*(lt.y-i.y)/V,jt=lt.y):h&2?(Tt=pt.x,jt=i.y+V*(pt.x-i.x)/B):h&1&&(Tt=lt.x,jt=i.y+V*(lt.x-i.x)/B),new ft(Tt,jt,E)}function ki(i,l){var h=0;return i.x<l.min.x?h|=1:i.x>l.max.x&&(h|=2),i.y<l.min.y?h|=4:i.y>l.max.y&&(h|=8),h}function ph(i,l){var h=l.x-i.x,x=l.y-i.y;return h*h+x*x}function Oi(i,l,h,x){var E=l.x,B=l.y,V=h.x-E,lt=h.y-B,pt=V*V+lt*lt,Tt;return pt>0&&(Tt=((i.x-E)*V+(i.y-B)*lt)/pt,Tt>1?(E=h.x,B=h.y):Tt>0&&(E+=V*Tt,B+=lt*Tt)),V=i.x-E,lt=i.y-B,x?V*V+lt*lt:new ft(E,B)}function sn(i){return!D(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function hu(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),sn(i)}function vl(i,l){var h,x,E,B,V,lt,pt,Tt;if(!i||i.length===0)throw new Error("latlngs not passed");sn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var jt=K([0,0]),Ot=z(i),Rt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Rt<1700&&(jt=gl(i));var Vt=i.length,Ae=[];for(h=0;h<Vt;h++){var Ie=K(i[h]);Ae.push(l.project(K([Ie.lat-jt.lat,Ie.lng-jt.lng])))}for(h=0,x=0;h<Vt-1;h++)x+=Ae[h].distanceTo(Ae[h+1])/2;if(x===0)Tt=Ae[0];else for(h=0,B=0;h<Vt-1;h++)if(V=Ae[h],lt=Ae[h+1],E=V.distanceTo(lt),B+=E,B>x){pt=(B-x)/E,Tt=[lt.x-pt*(lt.x-V.x),lt.y-pt*(lt.y-V.y)];break}var ln=l.unproject(P(Tt));return K([ln.lat+jt.lat,ln.lng+jt.lng])}var mu={__proto__:null,simplify:uu,pointToSegmentDistance:bl,closestPointOnSegment:fh,clipSegment:fu,_getEdgeIntersection:Wo,_getBitCode:ki,_sqClosestPointOnSegment:Oi,isFlat:sn,_flat:hu,polylineCenter:vl},Qo={project:function(i){return new ft(i.lng,i.lat)},unproject:function(i){return new q(i.y,i.x)},bounds:new H([-180,-90],[180,90])},Jo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,h=this.R,x=i.lat*l,E=this.R_MINOR/h,B=Math.sqrt(1-E*E),V=B*Math.sin(x),lt=Math.tan(Math.PI/4-x/2)/Math.pow((1-V)/(1+V),B/2);return x=-h*Math.log(Math.max(lt,1e-10)),new ft(i.lng*l*h,x)},unproject:function(i){for(var l=180/Math.PI,h=this.R,x=this.R_MINOR/h,E=Math.sqrt(1-x*x),B=Math.exp(-i.y/h),V=Math.PI/2-2*Math.atan(B),lt=0,pt=.1,Tt;lt<15&&Math.abs(pt)>1e-7;lt++)Tt=E*Math.sin(V),Tt=Math.pow((1-Tt)/(1+Tt),E/2),pt=Math.PI/2-2*Math.atan(B*Tt)-V,V+=pt;return new q(V*l,i.x*l/h)}},pu={__proto__:null,LonLat:Qo,Mercator:Jo,SphericalMercator:Et},da=u({},bt,{code:"EPSG:3395",projection:Jo,transformation:(function(){var i=.5/(Math.PI*Jo.R);return Dt(i,.5,-i,.5)})()}),gu=u({},bt,{code:"EPSG:4326",projection:Qo,transformation:Dt(1/180,1,-1/180,.5)}),gh=u({},ct,{projection:Qo,transformation:Dt(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var h=l.lng-i.lng,x=l.lat-i.lat;return Math.sqrt(h*h+x*x)},infinite:!0});ct.Earth=bt,ct.EPSG3395=da,ct.EPSG3857=St,ct.EPSG900913=kt,ct.EPSG4326=gu,ct.Simple=gh;var tr=rt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[b(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[b(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Jt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=b(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=b(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return b(i)in this._layers},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},_addLayers:function(i){i=i?D(i)?i:[i]:[];for(var l=0,h=i.length;l<h;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[b(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=b(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,h=this._getZoomSpan();for(var x in this._zoomBoundLayers){var E=this._zoomBoundLayers[x].options;i=E.minZoom===void 0?i:Math.min(i,E.minZoom),l=E.maxZoom===void 0?l:Math.max(l,E.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ci=tr.extend({initialize:function(i,l){j(this,l),this._layers={};var h,x;if(i)for(h=0,x=i.length;h<x;h++)this.addLayer(i[h])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),h,x;for(h in this._layers)x=this._layers[h],x[i]&&x[i].apply(x,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return b(i)}}),bu=function(i,l){return new Ci(i,l)},jn=Ci.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ci.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ci.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Q;for(var l in this._layers){var h=this._layers[l];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),so=function(i,l){return new jn(i,l)},fa=at.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){j(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(x,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(i,l){var h=this.options,x=h[l+"Size"];typeof x=="number"&&(x=[x,x]);var E=P(x),B=P(l==="shadow"&&h.shadowAnchor||h.iconAnchor||E&&E.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(h.className||""),B&&(i.style.marginLeft=-B.x+"px",i.style.marginTop=-B.y+"px"),E&&(i.style.width=E.x+"px",i.style.height=E.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return Pt.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function ts(i){return new fa(i)}var ha=fa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof ha.imagePath!="string"&&(ha.imagePath=this._detectIconPath()),(this.options.imagePath||ha.imagePath)+fa.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(h,x,E){var B=x.exec(h);return B&&B[E]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=se("div","leaflet-default-icon-path",document.body),l=Ei(i,"background-image")||Ei(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),xl=Jn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new ai(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Kt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ne(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,h=l._map,x=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,B=ri(l._icon),V=h.getPixelBounds(),lt=h.getPixelOrigin(),pt=X(V.min._subtract(lt).add(E),V.max._subtract(lt).subtract(E));if(!pt.contains(B)){var Tt=P((Math.max(pt.max.x,B.x)-pt.max.x)/(V.max.x-pt.max.x)-(Math.min(pt.min.x,B.x)-pt.min.x)/(V.min.x-pt.min.x),(Math.max(pt.max.y,B.y)-pt.max.y)/(V.max.y-pt.max.y)-(Math.min(pt.min.y,B.y)-pt.min.y)/(V.min.y-pt.min.y)).multiplyBy(x);h.panBy(Tt,{animate:!1}),this._draggable._newPos._add(Tt),this._draggable._startPos._add(Tt),$e(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Y(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,h=l._shadow,x=ri(l._icon),E=l._map.layerPointToLatLng(x);h&&$e(h,x),l._latlng=E,i.latlng=E,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),ma=tr.extend({options:{icon:new ha,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){j(this,l),this._latlng=K(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=K(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),x=!1;h!==this._icon&&(this._icon&&this._removeIcon(),x=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),Kt(h,l),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(h,"focus",this._panOnFocus,this);var E=i.icon.createShadow(this._shadow),B=!1;E!==this._shadow&&(this._removeShadow(),B=!0),E&&(Kt(E,l),E.alt=""),this._shadow=E,i.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&B&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),Me(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Me(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&$e(this._icon,i),this._shadow&&$e(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Kt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xl)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xl(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Tn(this._icon,i),this._shadow&&Tn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,h=l.iconSize?P(l.iconSize):P(0,0),x=l.iconAnchor?P(l.iconAnchor):P(0,0);i.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:h.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _l(i,l){return new ma(i,l)}var Yr=tr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return j(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),lo=Yr.extend({options:{fill:!0,radius:10},initialize:function(i,l){j(this,l),this._latlng=K(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=K(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return Yr.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,h=this._clickTolerance(),x=[i+h,l+h];this._pxBounds=new H(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function yu(i,l){return new lo(i,l)}var Sl=lo.extend({initialize:function(i,l,h){if(typeof l=="number"&&(l=u({},h,{radius:l})),j(this,l),this._latlng=K(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Q(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Yr.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,h=this._map,x=h.options.crs;if(x.distance===bt.distance){var E=Math.PI/180,B=this._mRadius/bt.R/E,V=h.project([l+B,i]),lt=h.project([l-B,i]),pt=V.add(lt).divideBy(2),Tt=h.unproject(pt).lat,jt=Math.acos((Math.cos(B*E)-Math.sin(l*E)*Math.sin(Tt*E))/(Math.cos(l*E)*Math.cos(Tt*E)))/E;(isNaN(jt)||jt===0)&&(jt=B/Math.cos(Math.PI/180*l)),this._point=pt.subtract(h.getPixelOrigin()),this._radius=isNaN(jt)?0:pt.x-h.project([Tt,i-jt]).x,this._radiusY=pt.y-V.y}else{var Ot=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Ot).x}this._updateBounds()}});function bh(i,l,h){return new Sl(i,l,h)}var qr=Yr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){j(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,h=null,x=Oi,E,B,V=0,lt=this._parts.length;V<lt;V++)for(var pt=this._parts[V],Tt=1,jt=pt.length;Tt<jt;Tt++){E=pt[Tt-1],B=pt[Tt];var Ot=x(i,E,B,!0);Ot<l&&(l=Ot,h=x(i,E,B))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=K(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Q,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return sn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],h=sn(i),x=0,E=i.length;x<E;x++)h?(l[x]=K(i[x]),this._bounds.extend(l[x])):l[x]=this._convertLatLngs(i[x]);return l},_project:function(){var i=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new ft(i,i);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,h){var x=i[0]instanceof q,E=i.length,B,V;if(x){for(V=[],B=0;B<E;B++)V[B]=this._map.latLngToLayerPoint(i[B]),h.extend(V[B]);l.push(V)}else for(B=0;B<E;B++)this._projectLatlngs(i[B],l,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,x,E,B,V,lt,pt;for(h=0,E=0,B=this._rings.length;h<B;h++)for(pt=this._rings[h],x=0,V=pt.length;x<V-1;x++)lt=fu(pt[x],pt[x+1],i,x,!0),lt&&(l[E]=l[E]||[],l[E].push(lt[0]),(lt[1]!==pt[x+1]||x===V-2)&&(l[E].push(lt[1]),E++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,h=0,x=i.length;h<x;h++)i[h]=uu(i[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var h,x,E,B,V,lt,pt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,B=this._parts.length;h<B;h++)for(lt=this._parts[h],x=0,V=lt.length,E=V-1;x<V;E=x++)if(!(!l&&x===0)&&bl(i,lt[E],lt[x])<=pt)return!0;return!1}});function yh(i,l){return new qr(i,l)}qr._flat=hu;var pa=qr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=qr.prototype._convertLatLngs.call(this,i),h=l.length;return h>=2&&l[0]instanceof q&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(i){qr.prototype._setLatLngs.call(this,i),sn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return sn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,h=new ft(l,l);if(i=new H(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,E=this._rings.length,B;x<E;x++)B=cu(this._rings[x],i,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,h,x,E,B,V,lt,pt,Tt;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(B=0,pt=this._parts.length;B<pt;B++)for(h=this._parts[B],V=0,Tt=h.length,lt=Tt-1;V<Tt;lt=V++)x=h[V],E=h[lt],x.y>i.y!=E.y>i.y&&i.x<(E.x-x.x)*(i.y-x.y)/(E.y-x.y)+x.x&&(l=!l);return l||qr.prototype._containsPoint.call(this,i,!0)}});function kn(i,l){return new pa(i,l)}var On=jn.extend({initialize:function(i,l){j(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=D(i)?i:i.features,h,x,E;if(l){for(h=0,x=l.length;h<x;h++)E=l[h],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var B=this.options;if(B.filter&&!B.filter(i))return this;var V=co(i,B);return V?(V.feature=ga(i),V.defaultOptions=V.options,this.resetStyle(V),B.onEachFeature&&B.onEachFeature(i,V),this.addLayer(V)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=u({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function co(i,l){var h=i.type==="Feature"?i.geometry:i,x=h?h.coordinates:null,E=[],B=l&&l.pointToLayer,V=l&&l.coordsToLatLng||es,lt,pt,Tt,jt;if(!x&&!h)return null;switch(h.type){case"Point":return lt=V(x),wl(B,i,lt,l);case"MultiPoint":for(Tt=0,jt=x.length;Tt<jt;Tt++)lt=V(x[Tt]),E.push(wl(B,i,lt,l));return new jn(E);case"LineString":case"MultiLineString":return pt=uo(x,h.type==="LineString"?0:1,V),new qr(pt,l);case"Polygon":case"MultiPolygon":return pt=uo(x,h.type==="Polygon"?1:2,V),new pa(pt,l);case"GeometryCollection":for(Tt=0,jt=h.geometries.length;Tt<jt;Tt++){var Ot=co({geometry:h.geometries[Tt],type:"Feature",properties:i.properties},l);Ot&&E.push(Ot)}return new jn(E);case"FeatureCollection":for(Tt=0,jt=h.features.length;Tt<jt;Tt++){var Rt=co(h.features[Tt],l);Rt&&E.push(Rt)}return new jn(E);default:throw new Error("Invalid GeoJSON object.")}}function wl(i,l,h,x){return i?i(l,h):new ma(h,x&&x.markersInheritOptions&&x)}function es(i){return new q(i[1],i[0],i[2])}function uo(i,l,h){for(var x=[],E=0,B=i.length,V;E<B;E++)V=l?uo(i[E],l-1,h):(h||es)(i[E]),x.push(V);return x}function fo(i,l){return i=K(i),i.alt!==void 0?[S(i.lng,l),S(i.lat,l),S(i.alt,l)]:[S(i.lng,l),S(i.lat,l)]}function ns(i,l,h,x){for(var E=[],B=0,V=i.length;B<V;B++)E.push(l?ns(i[B],sn(i[B])?0:l-1,h,x):fo(i[B],x));return!l&&h&&E.length>0&&E.push(E[0].slice()),E}function er(i,l){return i.feature?u({},i.feature,{geometry:l}):ga(l)}function ga(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Li={toGeoJSON:function(i){return er(this,{type:"Point",coordinates:fo(this.getLatLng(),i)})}};ma.include(Li),Sl.include(Li),lo.include(Li),qr.include({toGeoJSON:function(i){var l=!sn(this._latlngs),h=ns(this._latlngs,l?1:0,!1,i);return er(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),pa.include({toGeoJSON:function(i){var l=!sn(this._latlngs),h=l&&!sn(this._latlngs[0]),x=ns(this._latlngs,h?2:l?1:0,!0,i);return l||(x=[x]),er(this,{type:(h?"Multi":"")+"Polygon",coordinates:x})}}),Ci.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(i).geometry.coordinates)}),er(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var h=l==="GeometryCollection",x=[];return this.eachLayer(function(E){if(E.toGeoJSON){var B=E.toGeoJSON(i);if(h)x.push(B.geometry);else{var V=ga(B);V.type==="FeatureCollection"?x.push.apply(x,V.features):x.push(V)}}}),h?er(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function rs(i,l){return new On(i,l)}var vu=rs,Tr=tr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,h){this._url=i,this._bounds=z(l),j(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Kt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Me(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Mi(this._image),this},bringToBack:function(){return this._map&&na(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=z(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:se("img");if(Kt(l,"leaflet-image-layer"),this._zoomAnimated&&Kt(l,"leaflet-zoom-animated"),this.options.className&&Kt(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;qn(this._image,h,l)},_reset:function(){var i=this._image,l=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();$e(i,l.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){Tn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),ba=function(i,l,h){return new Tr(i,l,h)},is=Tr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:se("video");if(Kt(l,"leaflet-image-layer"),this._zoomAnimated&&Kt(l,"leaflet-zoom-animated"),this.options.className&&Kt(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onloadeddata=f(this.fire,this,"load"),i){for(var h=l.getElementsByTagName("source"),x=[],E=0;E<h.length;E++)x.push(h[E].src);this._url=h.length>0?x:[l.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var V=se("source");V.src=this._url[B],l.appendChild(V)}}});function xu(i,l,h){return new is(i,l,h)}var oi=Tr.extend({_initImage:function(){var i=this._image=this._url;Kt(i,"leaflet-image-layer"),this._zoomAnimated&&Kt(i,"leaflet-zoom-animated"),this.options.className&&Kt(i,this.options.className),i.onselectstart=w,i.onmousemove=w}});function _u(i,l,h){return new oi(i,l,h)}var nr=tr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof q||D(i))?(this._latlng=K(i),j(this,l)):(j(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Tn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Tn(this._container,1),this.bringToFront(),this.options.interactive&&(Kt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Tn(this._container,0),this._removeTimeout=setTimeout(f(Me,void 0,this._container),200)):Me(this._container),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=K(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Mi(this._container),this},bringToBack:function(){return this._map&&na(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof jn){l=null;var h=this._source._layers;for(var x in h)if(h[x]._map){l=h[x];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=P(this.options.offset),h=this._getAnchor();this._zoomAnimated?$e(this._container,i.add(h)):l=l.add(i).add(h);var x=this._containerBottom=-l.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=x+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Jt.include({_initOverlay:function(i,l,h,x){var E=l;return E instanceof i||(E=new i(x).setContent(l)),h&&E.setLatLng(h),E}}),tr.include({_initOverlay:function(i,l,h,x){var E=h;return E instanceof i?(j(E,x),E._source=this):(E=l&&!x?l:new i(x,this),E.setContent(h)),E}});var ho=nr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,nr.prototype.openOn.call(this,i)},onAdd:function(i){nr.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yr||this._source.on("preclick",Zr))},onRemove:function(i){nr.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yr||this._source.off("preclick",Zr))},getEvents:function(){var i=nr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=se("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=se("div",i+"-content-wrapper",l);if(this._contentNode=se("div",i+"-content",h),ca(l),la(this._contentNode),Ft(l,"contextmenu",Zr),this._tipContainer=se("div",i+"-tip-container",l),this._tip=se("div",i+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=se("a",i+"-close-button",l);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Ft(x,"click",function(E){Ye(E),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var x=i.offsetHeight,E=this.options.maxHeight,B="leaflet-popup-scrolled";E&&x>E?(l.height=E+"px",Kt(i,B)):Ne(i,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();$e(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(Ei(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,x=this._containerWidth,E=new ft(this._containerLeft,-h-this._containerBottom);E._add(ri(this._container));var B=i.layerPointToContainerPoint(E),V=P(this.options.autoPanPadding),lt=P(this.options.autoPanPaddingTopLeft||V),pt=P(this.options.autoPanPaddingBottomRight||V),Tt=i.getSize(),jt=0,Ot=0;B.x+x+pt.x>Tt.x&&(jt=B.x+x-Tt.x+pt.x),B.x-jt-lt.x<0&&(jt=B.x-lt.x),B.y+h+pt.y>Tt.y&&(Ot=B.y+h-Tt.y+pt.y),B.y-Ot-lt.y<0&&(Ot=B.y-lt.y),(jt||Ot)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([jt,Ot]))}},_getAnchor:function(){return P(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),vh=function(i,l){return new ho(i,l)};Jt.mergeOptions({closePopupOnClick:!0}),Jt.include({openPopup:function(i,l,h){return this._initOverlay(ho,i,l,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),tr.include({bindPopup:function(i,l){return this._popup=this._initOverlay(ho,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof jn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){wr(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof Yr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var as=nr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){nr.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){nr.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=nr.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=se("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,h,x=this._map,E=this._container,B=x.latLngToContainerPoint(x.getCenter()),V=x.layerPointToContainerPoint(i),lt=this.options.direction,pt=E.offsetWidth,Tt=E.offsetHeight,jt=P(this.options.offset),Ot=this._getAnchor();lt==="top"?(l=pt/2,h=Tt):lt==="bottom"?(l=pt/2,h=0):lt==="center"?(l=pt/2,h=Tt/2):lt==="right"?(l=0,h=Tt/2):lt==="left"?(l=pt,h=Tt/2):V.x<B.x?(lt="right",l=0,h=Tt/2):(lt="left",l=pt+(jt.x+Ot.x)*2,h=Tt/2),i=i.subtract(P(l,h,!0)).add(jt).add(Ot),Ne(E,"leaflet-tooltip-right"),Ne(E,"leaflet-tooltip-left"),Ne(E,"leaflet-tooltip-top"),Ne(E,"leaflet-tooltip-bottom"),Kt(E,"leaflet-tooltip-"+lt),$e(E,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Tn(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return P(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),xh=function(i,l){return new as(i,l)};Jt.include({openTooltip:function(i,l,h){return this._initOverlay(as,i,l,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),tr.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(as,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof jn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(Ft(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Ft(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,h,x;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),x=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(l)}});var Tl=fa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(pn(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var x=P(h.bgPos);l.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Su(i){return new Tl(i)}fa.Default=ha;var Bi=tr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){j(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Me(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Mi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(na(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof ft?i:new ft(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,h=-i(-1/0,1/0),x=0,E=l.length,B;x<E;x++)B=l[x].style.zIndex,l[x]!==this._container&&B&&(h=i(h,+B));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pt.ielt9){Tn(this._container,this.options.opacity);var i=+new Date,l=!1,h=!1;for(var x in this._tiles){var E=this._tiles[x];if(!(!E.current||!E.loaded)){var B=Math.min(1,(i-E.loaded)/200);Tn(E.el,B),B<1?l=!0:(E.active?h=!0:this._onOpaqueTile(E),E.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(U(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=l-Math.abs(i-h),this._onUpdateLevel(h)):(Me(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var x=this._levels[i],E=this._map;return x||(x=this._levels[i]={},x.el=se("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=l,x.origin=E.project(E.unproject(E.getPixelOrigin()),i).round(),x.zoom=i,this._setZoomTransform(x,E.getCenter(),E.getZoom()),w(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var i,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var x=l.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Me(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,h,x){var E=Math.floor(i/2),B=Math.floor(l/2),V=h-1,lt=new ft(+E,+B);lt.z=+V;var pt=this._tileCoordsToKey(lt),Tt=this._tiles[pt];return Tt&&Tt.active?(Tt.retain=!0,!0):(Tt&&Tt.loaded&&(Tt.retain=!0),V>x?this._retainParent(E,B,V,x):!1)},_retainChildren:function(i,l,h,x){for(var E=2*i;E<2*i+2;E++)for(var B=2*l;B<2*l+2;B++){var V=new ft(E,B);V.z=h+1;var lt=this._tileCoordsToKey(V),pt=this._tiles[lt];if(pt&&pt.active){pt.retain=!0;continue}else pt&&pt.loaded&&(pt.retain=!0);h+1<x&&this._retainChildren(E,B,h+1,x)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,h,x){var E=Math.round(l);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var B=this.options.updateWhenZooming&&E!==this._tileZoom;(!x||B)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,l)},_setZoomTransform:function(i,l,h){var x=this._map.getZoomScale(h,i.zoom),E=i.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(l,h)).round();Pt.any3d?qn(i.el,E,x):$e(i.el,E)},_resetGrid:function(){var i=this._map,l=i.options.crs,h=this._tileSize=this.getTileSize(),x=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],x).x/h.x),Math.ceil(i.project([0,l.wrapLng[1]],x).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],x).y/h.x),Math.ceil(i.project([l.wrapLat[1],0],x).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),x=l.getZoomScale(h,this._tileZoom),E=l.project(i,this._tileZoom).floor(),B=l.getSize().divideBy(x*2);return new H(E.subtract(B),E.add(B))},_update:function(i){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(i),E=this._pxBoundsToTileRange(x),B=E.getCenter(),V=[],lt=this.options.keepBuffer,pt=new H(E.getBottomLeft().subtract([lt,-lt]),E.getTopRight().add([lt,-lt]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Tt in this._tiles){var jt=this._tiles[Tt].coords;(jt.z!==this._tileZoom||!pt.contains(new ft(jt.x,jt.y)))&&(this._tiles[Tt].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var Ot=E.min.y;Ot<=E.max.y;Ot++)for(var Rt=E.min.x;Rt<=E.max.x;Rt++){var Vt=new ft(Rt,Ot);if(Vt.z=this._tileZoom,!!this._isValidTile(Vt)){var Ae=this._tiles[this._tileCoordsToKey(Vt)];Ae?Ae.current=!0:V.push(Vt)}}if(V.sort(function(ln,Vn){return ln.distanceTo(B)-Vn.distanceTo(B)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ie=document.createDocumentFragment();for(Rt=0;Rt<V.length;Rt++)this._addTile(V[Rt],Ie);this._level.el.appendChild(Ie)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!l.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(i);return z(this.options.bounds).overlaps(x)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,h=this.getTileSize(),x=i.scaleBy(h),E=x.add(h),B=l.unproject(x,i.z),V=l.unproject(E,i.z);return[B,V]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),h=new Q(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),h=new ft(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(i){var l=this._tiles[i];l&&(Me(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Kt(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=w,i.onmousemove=w,Pt.ielt9&&this.options.opacity<1&&Tn(i,this.options.opacity)},_addTile:function(i,l){var h=this._getTilePos(i),x=this._tileCoordsToKey(i),E=this.createTile(this._wrapCoords(i),f(this._tileReady,this,i));this._initTile(E),this.createTile.length<2&&Y(f(this._tileReady,this,i,null,E)),$e(E,h),this._tiles[x]={el:E,coords:i,current:!0},l.appendChild(E),this.fire("tileloadstart",{tile:E,coords:i})},_tileReady:function(i,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:i});var x=this._tileCoordsToKey(i);h=this._tiles[x],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Tn(h.el,0),U(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Kt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pt.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new ft(this._wrapX?_(i.x,this._wrapX):i.x,this._wrapY?_(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new H(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function rr(i){return new Bi(i)}var Ri=Bi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=j(this,l),l.detectRetina&&Pt.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var h=document.createElement("img");return Ft(h,"load",f(this._tileOnLoad,this,l,h)),Ft(h,"error",f(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var l={r:Pt.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=h),l["-y"]=h}return I(this._url,u(l,this.options))},_tileOnLoad:function(i,l){Pt.ielt9?setTimeout(f(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,h){var x=this.options.errorTileUrl;x&&l.getAttribute("src")!==x&&(l.src=x),i(h,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,x=this.options.zoomOffset;return h&&(i=l-i),i+x},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=w,l.onerror=w,!l.complete)){l.src=k;var h=this._tiles[i].coords;Me(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",k),Bi.prototype._removeTile.call(this,i)},_tileReady:function(i,l,h){if(!(!this._map||h&&h.getAttribute("src")===k))return Bi.prototype._tileReady.call(this,i,l,h)}});function Cn(i,l){return new Ri(i,l)}var Ln=Ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var h=u({},this.defaultWmsParams);for(var x in l)x in this.options||(h[x]=l[x]);l=j(this,l);var E=l.detectRetina&&Pt.retina?2:1,B=this.getTileSize();h.width=B.x*E,h.height=B.y*E,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Ri.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),h=this._crs,x=X(h.project(l[0]),h.project(l[1])),E=x.min,B=x.max,V=(this._wmsVersion>=1.3&&this._crs===gu?[E.y,E.x,B.y,B.x]:[E.x,E.y,B.x,B.y]).join(","),lt=Ri.prototype.getTileUrl.call(this,i);return lt+A(this.wmsParams,lt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(i,l){return u(this.wmsParams,i),l||this.redraw(),this}});function ya(i,l){return new Ln(i,l)}Ri.WMS=Ln,Cn.wms=ya;var ir=tr.extend({options:{padding:.1},initialize:function(i){j(this,i),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Kt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var h=this._map.getZoomScale(l,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,l),B=x.multiplyBy(-h).add(E).subtract(this._map._getNewPixelOrigin(i,l));Pt.any3d?qn(this._container,B,h):$e(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new H(h,h.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mo=ir.extend({options:{tolerance:0},getEvents:function(){var i=ir.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ir.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Ft(i,"mousemove",this._onMouseMove,this),Ft(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ft(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Me(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ir.prototype._update.call(this);var i=this._bounds,l=this._container,h=i.getSize(),x=Pt.retina?2:1;$e(l,i.min),l.width=x*h.x,l.height=x*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Pt.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){ir.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[b(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,h=l.next,x=l.prev;h?h.prev=x:this._drawLast=x,x?x.next=h:this._drawFirst=h,delete i._order,delete this._layers[b(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),h=[],x,E;for(E=0;E<l.length;E++){if(x=Number(l[E]),isNaN(x))return;h.push(x)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)i=x.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var h,x,E,B,V=i._parts,lt=V.length,pt=this._ctx;if(lt){for(pt.beginPath(),h=0;h<lt;h++){for(x=0,E=V[h].length;x<E;x++)B=V[h][x],pt[x?"lineTo":"moveTo"](B.x,B.y);l&&pt.closePath()}this._fillStroke(pt,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,h=this._ctx,x=Math.max(Math.round(i._radius),1),E=(Math.max(Math.round(i._radiusY),1)||x)/x;E!==1&&(h.save(),h.scale(1,E)),h.beginPath(),h.arc(l.x,l.y/E,x,0,Math.PI*2,!1),E!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,l){var h=l.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),h,x,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(x=h);this._fireEvent(x?[x]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var h,x,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(x=h);x!==this._hoveredLayer&&(this._handleMouseOut(i),x&&(Kt(this._container,"leaflet-interactive"),this._fireEvent([x],i,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,h){this._map._fireDOMEvent(l,h||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var h=l.next,x=l.prev;if(h)h.prev=x;else return;x?x.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var h=l.next,x=l.prev;if(x)x.next=h;else return;h?h.prev=x:x&&(this._drawLast=x),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function po(i){return Pt.canvas?new mo(i):null}var Pi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),va={_initContainer:function(){this._container=se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ir.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=Pi("shape");Kt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=Pi("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[b(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;Me(l),i.removeInteractiveTarget(l),delete this._layers[b(i)]},_updateStyle:function(i){var l=i._stroke,h=i._fill,x=i.options,E=i._container;E.stroked=!!x.stroke,E.filled=!!x.fill,x.stroke?(l||(l=i._stroke=Pi("stroke")),E.appendChild(l),l.weight=x.weight+"px",l.color=x.color,l.opacity=x.opacity,x.dashArray?l.dashStyle=D(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=x.lineCap.replace("butt","flat"),l.joinstyle=x.lineJoin):l&&(E.removeChild(l),i._stroke=null),x.fill?(h||(h=i._fill=Pi("fill")),E.appendChild(h),h.color=x.fillColor||x.color,h.opacity=x.fillOpacity):h&&(E.removeChild(h),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),h=Math.round(i._radius),x=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+x+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){Mi(i._container)},_bringToBack:function(i){na(i._container)}},go=Pt.vml?Pi:It,si=ir.extend({_initContainer:function(){this._container=go("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=go("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Me(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ir.prototype._update.call(this);var i=this._bounds,l=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),$e(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=go("path");i.options.className&&Kt(l,i.options.className),i.options.interactive&&Kt(l,"leaflet-interactive"),this._updateStyle(i),this._layers[b(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Me(i._path),i.removeInteractiveTarget(i._path),delete this._layers[b(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,h=i.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,ee(i._parts,l))},_updateCircle:function(i){var l=i._point,h=Math.max(Math.round(i._radius),1),x=Math.max(Math.round(i._radiusY),1)||h,E="a"+h+","+x+" 0 1,0 ",B=i._empty()?"M0 0":"M"+(l.x-h)+","+l.y+E+h*2+",0 "+E+-h*2+",0 ";this._setPath(i,B)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){Mi(i._path)},_bringToBack:function(i){na(i._path)}});Pt.vml&&si.include(va);function zi(i){return Pt.svg||Pt.vml?new si(i):null}Jt.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&po(i)||zi(i)}});var wu=pa.extend({initialize:function(i,l){pa.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=z(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Bn(i,l){return new wu(i,l)}si.create=go,si.pointsToPath=ee,On.geometryToLayer=co,On.coordsToLatLng=es,On.coordsToLatLngs=uo,On.latLngToCoords=fo,On.latLngsToCoords=ns,On.getFeature=er,On.asFeature=ga,Jt.mergeOptions({boxZoom:!0});var os=Jn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Me(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),xr(),no(),this._startPoint=this._map.mouseEventToContainerPoint(i),Ft(document,{contextmenu:wr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=se("div","leaflet-zoom-box",this._container),Kt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new H(this._point,this._startPoint),h=l.getSize();$e(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Me(this._box),Ne(this._container,"leaflet-crosshair")),eo(),dl(),fe(document,{contextmenu:wr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new Q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Jt.addInitHook("addHandler","boxZoom",os),Jt.mergeOptions({doubleClickZoom:!0});var Er=Jn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,h=l.getZoom(),x=l.options.zoomDelta,E=i.originalEvent.shiftKey?h-x:h+x;l.options.doubleClickZoom==="center"?l.setZoom(E):l.setZoomAround(i.containerPoint,E)}});Jt.addInitHook("addHandler","doubleClickZoom",Er),Jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var El=Jn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new ai(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Kt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ne(this._map._container,"leaflet-grab"),Ne(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=z(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),h=this._initialWorldOffset,x=this._draggable._newPos.x,E=(x-l+h)%i+l-h,B=(x+l+h)%i-l-h,V=Math.abs(E+h)<Math.abs(B+h)?E:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(i){var l=this._map,h=l.options,x=!h.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),x)l.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,V=h.easeLinearity,lt=E.multiplyBy(V/B),pt=lt.distanceTo([0,0]),Tt=Math.min(h.inertiaMaxSpeed,pt),jt=lt.multiplyBy(Tt/pt),Ot=Tt/(h.inertiaDeceleration*V),Rt=jt.multiplyBy(-Ot/2).round();!Rt.x&&!Rt.y?l.fire("moveend"):(Rt=l._limitOffset(Rt,l.options.maxBounds),Y(function(){l.panBy(Rt,{duration:Ot,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});Jt.addInitHook("addHandler","dragging",El),Jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bo=Jn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Ft(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,h=i.scrollTop||l.scrollTop,x=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(x,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},h=this.keyCodes,x,E;for(x=0,E=h.left.length;x<E;x++)l[h.left[x]]=[-1*i,0];for(x=0,E=h.right.length;x<E;x++)l[h.right[x]]=[i,0];for(x=0,E=h.down.length;x<E;x++)l[h.down[x]]=[0,i];for(x=0,E=h.up.length;x<E;x++)l[h.up[x]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},h=this.keyCodes,x,E;for(x=0,E=h.zoomIn.length;x<E;x++)l[h.zoomIn[x]]=i;for(x=0,E=h.zoomOut.length;x<E;x++)l[h.zoomOut[x]]=-i},_addHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,h=this._map,x;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(x=this._panKeys[l],i.shiftKey&&(x=P(x).multiplyBy(3)),h.options.maxBounds&&(x=h._limitOffset(P(x),h.options.maxBounds)),h.options.worldCopyJump){var E=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(x)));h.panTo(E)}else h.panBy(x)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;wr(i)}}});Jt.addInitHook("addHandler","keyboard",bo),Jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var li=Jn.extend({addHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=ao(i),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var x=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),x),wr(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,B=h?Math.ceil(E/h)*h:E,V=i._limitZoom(l+(this._delta>0?B:-B))-l;this._delta=0,this._startTime=null,V&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+V):i.setZoomAround(this._lastMousePos,l+V))}});Jt.addInitHook("addHandler","scrollWheelZoom",li);var Ml=600;Jt.mergeOptions({tapHold:Pt.touchNative&&Pt.safari&&Pt.mobile,tapTolerance:15});var ss=Jn.extend({addHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new ft(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ft(document,"touchend",Ye),Ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Ml),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){fe(document,"touchend",Ye),fe(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new ft(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Jt.addInitHook("addHandler","tapHold",ss),Jt.mergeOptions({touchZoom:Pt.touch,bounceAtZoomLimits:!0});var Hi=Jn.extend({addHooks:function(){Kt(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(i.touches[0]),x=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(x)._divideBy(2))),this._startDist=h.distanceTo(x),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),Ye(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(i.touches[0]),x=l.mouseEventToContainerPoint(i.touches[1]),E=h.distanceTo(x)/this._startDist;if(this._zoom=l.getScaleZoom(E,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&E<1||this._zoom>l.getMaxZoom()&&E>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var B=h._add(x)._divideBy(2)._subtract(this._centerPoint);if(E===1&&B.x===0&&B.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var V=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(V,this,!0),Ye(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Jt.addInitHook("addHandler","touchZoom",Hi),Jt.BoxZoom=os,Jt.DoubleClickZoom=Er,Jt.Drag=El,Jt.Keyboard=bo,Jt.ScrollWheelZoom=li,Jt.TapHold=ss,Jt.TouchZoom=Hi,a.Bounds=H,a.Browser=Pt,a.CRS=ct,a.Canvas=mo,a.Circle=Sl,a.CircleMarker=lo,a.Class=at,a.Control=En,a.DivIcon=Tl,a.DivOverlay=nr,a.DomEvent=ah,a.DomUtil=au,a.Draggable=ai,a.Evented=rt,a.FeatureGroup=jn,a.GeoJSON=On,a.GridLayer=Bi,a.Handler=Jn,a.Icon=fa,a.ImageOverlay=Tr,a.LatLng=q,a.LatLngBounds=Q,a.Layer=tr,a.LayerGroup=Ci,a.LineUtil=mu,a.Map=Jt,a.Marker=ma,a.Mixin=uh,a.Path=Yr,a.Point=ft,a.PolyUtil=dh,a.Polygon=pa,a.Polyline=qr,a.Popup=ho,a.PosAnimation=Ko,a.Projection=pu,a.Rectangle=wu,a.Renderer=ir,a.SVG=si,a.SVGOverlay=oi,a.TileLayer=Ri,a.Tooltip=as,a.Transformation=Lt,a.Util=tt,a.VideoOverlay=is,a.bind=f,a.bounds=X,a.canvas=po,a.circle=bh,a.circleMarker=yu,a.control=ua,a.divIcon=Su,a.extend=u,a.featureGroup=so,a.geoJSON=rs,a.geoJson=vu,a.gridLayer=rr,a.icon=ts,a.imageOverlay=ba,a.latLng=K,a.latLngBounds=z,a.layerGroup=bu,a.map=oo,a.marker=_l,a.point=P,a.polygon=kn,a.polyline=yh,a.popup=vh,a.rectangle=Bn,a.setOptions=j,a.stamp=b,a.svg=zi,a.svgOverlay=_u,a.tileLayer=Cn,a.tooltip=xh,a.transformation=Dt,a.version=s,a.videoOverlay=xu;var xa=window.L;a.noConflict=function(){return window.L=xa,this},window.L=a}))})(_c,_c.exports)),_c.exports}var NE=ME();const e0=Ws(NE),Sd=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Ao(t){const r=document.getElementById(t);if(!r)throw new Error(`#${t} not found`);return r}function AE(t){const{buttonId:r,buttonInputId:a,modalId:s,closeMapId:u,mapCloseBtnId:d,searchBoxId:f,suggestionsId:p,mapId:b}=t.ids,y=t.initialCenter??{lat:37.5665,lon:126.978},_=Ao(a),w=Ao(r),S=Ao(s),T=Ao(d),N=Ao(f),j=Ao(p),A=u?Ao(u):null;let $=null,I=null,D=null;const C=U=>U.code==="Space"||U.key===" "||U.key==="Spacebar"||U.key==="Space",k=U=>{C(U)&&document.activeElement!==N&&(U.preventDefault(),U.stopPropagation(),N.focus())},G=()=>{S.style.display="flex",$?setTimeout(()=>$?.invalidateSize(),200):setTimeout(()=>{$=e0.map(b,{keyboard:!1}).setView([y.lat,y.lon],11),e0.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap"}).addTo($),$.invalidateSize()},0),S.addEventListener("keydown",k,!0),S.addEventListener("keyup",k,!0),N.focus()},W=()=>{S.style.display="none",N.value="",j.innerHTML="",D&&(window.clearTimeout(D),D=null),S.removeEventListener("keydown",k,!0),S.removeEventListener("keyup",k,!0)},ot=U=>{const tt=U.dataset.name??"",at=Number(U.dataset.lat??""),st=Number(U.dataset.lon??"");!Number.isFinite(at)||!Number.isFinite(st)||!$||(I?I.setLatLng([at,st]):I=e0.marker([at,st]).addTo($),$.flyTo([at,st],14,{duration:.5}),_.value=tt,_.dataset.lat=String(at),_.dataset.lon=String(st),t.onSelected?.({name:tt,lat:at,lon:st}),j.innerHTML="",W())},nt=()=>{D&&window.clearTimeout(D);const U=N.value.trim();if(!U){j.innerHTML="";return}D=window.setTimeout(async()=>{try{const tt="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(U),at=await fetch(tt,{headers:{Accept:"application/json"}});if(!at.ok)throw new Error(`HTTP ${at.status}`);const st=await at.json();if(!Array.isArray(st)||st.length===0){j.innerHTML='<li style="padding:8px">결과 없음</li>';return}const Z=st.slice(0,12).map((rt,ft)=>{const gt=rt.display_name.split(",").slice(0,3).map(X=>X.trim()).join(" · "),P="padding:8px;cursor:pointer;outline:none;",H=ft===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${Sd(gt)}"
                    data-lat="${Sd(rt.lat)}"
                    data-lon="${Sd(rt.lon)}"
                    data-active="${ft===0?"1":"0"}"
                    style="${P}${H}"
                  >${Sd(gt)}</li>`}).join("");j.innerHTML=Z}catch(tt){console.error(tt),j.innerHTML='<li style="padding:8px;color:#b91c1c">검색 오류</li>'}},250)},et=U=>{const tt=U.target;tt.tagName==="LI"&&ot(tt)},Y=U=>{if(U.key==="Enter"){const tt=j.querySelector('li[data-active="1"]')??j.querySelector("li");tt&&ot(tt)}};return w.addEventListener("click",G),T.addEventListener("click",W),A&&A.addEventListener("click",W),N.addEventListener("input",nt),N.addEventListener("keydown",Y),j.addEventListener("click",et),()=>{w.removeEventListener("click",G),T.removeEventListener("click",W),A&&A.removeEventListener("click",W),N.removeEventListener("input",nt),N.removeEventListener("keydown",Y),j.removeEventListener("click",et),S.removeEventListener("keydown",k,!0),S.removeEventListener("keyup",k,!0),D&&(window.clearTimeout(D),D=null),$&&($.remove(),$=null)}}function js(){return document.getElementById("suggestions")}function nf(t){const r=Array.from(t.querySelectorAll('li, [role="option"]'));return r.forEach((a,s)=>{a.getAttribute("role")||a.setAttribute("role","option"),a.setAttribute("aria-selected",a===document.activeElement?"true":"false"),a.tabIndex=-1,a.id||(a.id=`suggestion-item-${s}`)}),r}function lc(t,r){const a=nf(t);if(a.length===0)return;const s=a.length;let u=r;u<0&&(u=s-1),u>=s&&(u=0),a.forEach(f=>{f.tabIndex=-1,f.setAttribute("aria-selected","false")});const d=a[u];d.tabIndex=0,d.setAttribute("aria-selected","true"),d.focus()}function V_({onSelect:t,placeholderText:r="출생지선택",buttonStyle:a,value:s}){const[u,d]=O.useState(r),[f,p]=O.useState(!1),[b,y]=O.useState(s??""),_=O.useRef(null),w=O.useRef(null),S=O.useRef(null),T=O.useRef(null);return O.useEffect(()=>{s!==void 0&&y(s)},[s]),O.useEffect(()=>{if(!f)return;const N=AE({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:nt=>{d("선택완료"),y(nt.name),_.current&&(_.current.value=nt.name),w.current&&(w.current.value=String(nt.lat)),S.current&&(S.current.value=String(nt.lon)),t?.(nt),p(!1)}}),j=document.getElementById("inputBirthPlaceBtn");j&&j.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const A=document.getElementById("mapModal"),$=document.getElementById("searchBox"),I=js();setTimeout(()=>$?.focus(),0);const D='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',C=nt=>{if(nt.key==="Escape"){nt.preventDefault(),p(!1);return}if(nt.key!=="Tab")return;const et=js();if(et&&et.contains(document.activeElement))return;const Y=Array.from(A.querySelectorAll(D)).filter(st=>!st.hasAttribute("disabled")&&st.tabIndex!==-1);if(Y.length===0)return;const U=Y[0],tt=Y[Y.length-1],at=document.activeElement;nt.shiftKey?(at===U||!A.contains(at))&&(nt.preventDefault(),tt.focus()):(at===tt||!A.contains(at))&&(nt.preventDefault(),U.focus())};A.addEventListener("keydown",C);const k=nt=>{if(nt.key!=="ArrowDown")return;const et=js();!et||nf(et).length===0||(nt.preventDefault(),lc(et,0))};$?.addEventListener("keydown",k);const G=nt=>{if(nt.target.value.trim()===""){const Y=js();Y&&(Y.innerHTML="")}};$?.addEventListener("input",G);const W=nt=>{const et=js();if(!et)return;const Y=nf(et);if(Y.length===0)return;const U=document.activeElement,tt=U?Y.indexOf(U):-1;if(tt===-1)return;const at=st=>{nt.preventDefault(),lc(et,tt+st)};switch(nt.key){case"Tab":nt.preventDefault(),at(nt.shiftKey?-1:1);break;case"ArrowDown":nt.preventDefault(),at(1);break;case"ArrowUp":nt.preventDefault(),at(-1);break;case"Home":nt.preventDefault(),lc(et,0);break;case"End":nt.preventDefault(),lc(et,Y.length-1);break;case"Enter":case" ":nt.preventDefault(),U.click();break;case"Backspace":nt.preventDefault(),et.innerHTML="",$?.focus();break}nt.stopPropagation()};let ot=null;return I&&(I.addEventListener("keydown",W),ot=new MutationObserver(()=>{const nt=js();!nt||nf(nt).length===0||lc(nt,0)}),ot.observe(I,{childList:!0,subtree:!1})),()=>{A.removeEventListener("keydown",C),$?.removeEventListener("keydown",k),$?.removeEventListener("input",G),I&&I.removeEventListener("keydown",W),ot?.disconnect(),N?.()}},[f,t]),O.useEffect(()=>{f||setTimeout(()=>T.current?.focus(),0)},[f]),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:b&&b.trim()!==""?b:r}),g.jsx("button",{ref:T,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:a,onClick:()=>p(!0),"aria-haspopup":"dialog","aria-expanded":f,"aria-controls":"mapModal",children:u}),g.jsx("input",{ref:_,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:w,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:S,type:"hidden",name:"birthPlace_lon",defaultValue:""}),f&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:"출생지선택"}),g.jsx("button",{id:"mapCloseBtn","aria-label":"닫기",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>p(!1),children:"✕"})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"도시/지역 검색"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:"예: 서울 강남구 / seoul / 도쿄도 / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":"자동완성 목록",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"지도에서 검색하여, 목록에서 선택하세요."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"해외를 검색할 경우 지도가 안 뜰 수 있으나, 선택만 눌러주시면 됩니다."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}var Ic=D_();const DE=Ws(Ic);function Pn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var jE=typeof Symbol=="function"&&Symbol.observable||"@@observable",dv=jE,fv=()=>Math.random().toString(36).substring(7).split("").join("."),kE={INIT:`@@redux/INIT${fv()}`,REPLACE:`@@redux/REPLACE${fv()}`},hv=kE;function OE(t){if(typeof t!="object"||t===null)return!1;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r||Object.getPrototypeOf(t)===null}function F_(t,r,a){if(typeof t!="function")throw new Error(Pn(2));if(typeof r=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(Pn(0));if(typeof r=="function"&&typeof a>"u"&&(a=r,r=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(Pn(1));return a(F_)(t,r)}let s=t,u=r,d=new Map,f=d,p=0,b=!1;function y(){f===d&&(f=new Map,d.forEach((A,$)=>{f.set($,A)}))}function _(){if(b)throw new Error(Pn(3));return u}function w(A){if(typeof A!="function")throw new Error(Pn(4));if(b)throw new Error(Pn(5));let $=!0;y();const I=p++;return f.set(I,A),function(){if($){if(b)throw new Error(Pn(6));$=!1,y(),f.delete(I),d=null}}}function S(A){if(!OE(A))throw new Error(Pn(7));if(typeof A.type>"u")throw new Error(Pn(8));if(typeof A.type!="string")throw new Error(Pn(17));if(b)throw new Error(Pn(9));try{b=!0,u=s(u,A)}finally{b=!1}return(d=f).forEach(I=>{I()}),A}function T(A){if(typeof A!="function")throw new Error(Pn(10));s=A,S({type:hv.REPLACE})}function N(){const A=w;return{subscribe($){if(typeof $!="object"||$===null)throw new Error(Pn(11));function I(){const C=$;C.next&&C.next(_())}return I(),{unsubscribe:A(I)}},[dv](){return this}}}return S({type:hv.INIT}),{dispatch:S,subscribe:w,getState:_,replaceReducer:T,[dv]:N}}function mv(t,r){return function(...a){return r(t.apply(this,a))}}function pv(t,r){if(typeof t=="function")return mv(t,r);if(typeof t!="object"||t===null)throw new Error(Pn(16));const a={};for(const s in t){const u=t[s];typeof u=="function"&&(a[s]=mv(u,r))}return a}function K_(...t){return t.length===0?r=>r:t.length===1?t[0]:t.reduce((r,a)=>(...s)=>r(a(...s)))}function CE(...t){return r=>(a,s)=>{const u=r(a,s);let d=()=>{throw new Error(Pn(15))};const f={getState:u.getState,dispatch:(b,...y)=>d(b,...y)},p=t.map(b=>b(f));return d=K_(...p)(u.dispatch),{...u,dispatch:d}}}var n0={exports:{}},r0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function LE(){if(gv)return r0;gv=1;var t=Rf();function r(b,y){return b===y&&(b!==0||1/b===1/y)||b!==b&&y!==y}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,u=t.useRef,d=t.useEffect,f=t.useMemo,p=t.useDebugValue;return r0.useSyncExternalStoreWithSelector=function(b,y,_,w,S){var T=u(null);if(T.current===null){var N={hasValue:!1,value:null};T.current=N}else N=T.current;T=f(function(){function A(k){if(!$){if($=!0,I=k,k=w(k),S!==void 0&&N.hasValue){var G=N.value;if(S(G,k))return D=G}return D=k}if(G=D,a(I,k))return G;var W=w(k);return S!==void 0&&S(G,W)?(I=k,G):(I=k,D=W)}var $=!1,I,D,C=_===void 0?null:_;return[function(){return A(y())},C===null?void 0:function(){return A(C())}]},[y,_,w,S]);var j=s(b,T[0],T[1]);return d(function(){N.hasValue=!0,N.value=j},[j]),p(j),j},r0}var bv;function BE(){return bv||(bv=1,n0.exports=LE()),n0.exports}BE();var RE=O.version.startsWith("19"),PE=Symbol.for(RE?"react.transitional.element":"react.element"),zE=Symbol.for("react.portal"),HE=Symbol.for("react.fragment"),$E=Symbol.for("react.strict_mode"),IE=Symbol.for("react.profiler"),UE=Symbol.for("react.consumer"),GE=Symbol.for("react.context"),X_=Symbol.for("react.forward_ref"),ZE=Symbol.for("react.suspense"),YE=Symbol.for("react.suspense_list"),yp=Symbol.for("react.memo"),qE=Symbol.for("react.lazy"),VE=X_,FE=yp;function KE(t){if(typeof t=="object"&&t!==null){const{$$typeof:r}=t;switch(r){case PE:switch(t=t.type,t){case HE:case IE:case $E:case ZE:case YE:return t;default:switch(t=t&&t.$$typeof,t){case GE:case X_:case qE:case yp:return t;case UE:return t;default:return r}}case zE:return r}}}function XE(t){return KE(t)===yp}function WE(t,r,a,s,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:f}){let p=!1,b,y,_,w,S;function T(I,D){return b=I,y=D,_=t(b,y),w=r(s,y),S=a(_,w,y),p=!0,S}function N(){return _=t(b,y),r.dependsOnOwnProps&&(w=r(s,y)),S=a(_,w,y),S}function j(){return t.dependsOnOwnProps&&(_=t(b,y)),r.dependsOnOwnProps&&(w=r(s,y)),S=a(_,w,y),S}function A(){const I=t(b,y),D=!f(I,_);return _=I,D&&(S=a(_,w,y)),S}function $(I,D){const C=!d(D,y),k=!u(I,b,D,y);return b=I,y=D,C&&k?N():C?j():k?A():S}return function(D,C){return p?$(D,C):T(D,C)}}function QE(t,{initMapStateToProps:r,initMapDispatchToProps:a,initMergeProps:s,...u}){const d=r(t,u),f=a(t,u),p=s(t,u);return WE(d,f,p,t,u)}function JE(t,r){const a={};for(const s in t){const u=t[s];typeof u=="function"&&(a[s]=(...d)=>r(u(...d)))}return a}function Q0(t){return function(a){const s=t(a);function u(){return s}return u.dependsOnOwnProps=!1,u}}function yv(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function W_(t,r){return function(s,{displayName:u}){const d=function(p,b){return d.dependsOnOwnProps?d.mapToProps(p,b):d.mapToProps(p,void 0)};return d.dependsOnOwnProps=!0,d.mapToProps=function(p,b){d.mapToProps=t,d.dependsOnOwnProps=yv(t);let y=d(p,b);return typeof y=="function"&&(d.mapToProps=y,d.dependsOnOwnProps=yv(y),y=d(p,b)),y},d}}function vp(t,r){return(a,s)=>{throw new Error(`Invalid value of type ${typeof t} for ${r} argument when connecting component ${s.wrappedComponentName}.`)}}function t3(t){return t&&typeof t=="object"?Q0(r=>JE(t,r)):t?typeof t=="function"?W_(t):vp(t,"mapDispatchToProps"):Q0(r=>({dispatch:r}))}function e3(t){return t?typeof t=="function"?W_(t):vp(t,"mapStateToProps"):Q0(()=>({}))}function n3(t,r,a){return{...a,...t,...r}}function r3(t){return function(a,{displayName:s,areMergedPropsEqual:u}){let d=!1,f;return function(b,y,_){const w=t(b,y,_);return d?u(w,f)||(f=w):(d=!0,f=w),f}}}function i3(t){return t?typeof t=="function"?r3(t):vp(t,"mergeProps"):()=>n3}function a3(t){t()}function o3(){let t=null,r=null;return{clear(){t=null,r=null},notify(){a3(()=>{let a=t;for(;a;)a.callback(),a=a.next})},get(){const a=[];let s=t;for(;s;)a.push(s),s=s.next;return a},subscribe(a){let s=!0;const u=r={callback:a,next:null,prev:r};return u.prev?u.prev.next=u:t=u,function(){!s||t===null||(s=!1,u.next?u.next.prev=u.prev:r=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}var vv={notify(){},get:()=>[]};function Q_(t,r){let a,s=vv,u=0,d=!1;function f(j){_();const A=s.subscribe(j);let $=!1;return()=>{$||($=!0,A(),w())}}function p(){s.notify()}function b(){N.onStateChange&&N.onStateChange()}function y(){return d}function _(){u++,a||(a=r?r.addNestedSub(b):t.subscribe(b),s=o3())}function w(){u--,a&&u===0&&(a(),a=void 0,s.clear(),s=vv)}function S(){d||(d=!0,_())}function T(){d&&(d=!1,w())}const N={addNestedSub:f,notifyNestedSubs:p,handleChangeWrapper:b,isSubscribed:y,trySubscribe:S,tryUnsubscribe:T,getListeners:()=>s};return N}var s3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l3=s3(),c3=()=>typeof navigator<"u"&&navigator.product==="ReactNative",u3=c3(),d3=()=>l3||u3?O.useLayoutEffect:O.useEffect,sf=d3();function xv(t,r){return t===r?t!==0||r!==0||1/t===1/r:t!==t&&r!==r}function i0(t,r){if(xv(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;const a=Object.keys(t),s=Object.keys(r);if(a.length!==s.length)return!1;for(let u=0;u<a.length;u++)if(!Object.prototype.hasOwnProperty.call(r,a[u])||!xv(t[a[u]],r[a[u]]))return!1;return!0}var f3={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},h3={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},m3={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},J_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},p3={[VE]:m3,[FE]:J_};function _v(t){return XE(t)?J_:p3[t.$$typeof]||f3}var g3=Object.defineProperty,b3=Object.getOwnPropertyNames,Sv=Object.getOwnPropertySymbols,y3=Object.getOwnPropertyDescriptor,v3=Object.getPrototypeOf,wv=Object.prototype;function J0(t,r){if(typeof r!="string"){if(wv){const d=v3(r);d&&d!==wv&&J0(t,d)}let a=b3(r);Sv&&(a=a.concat(Sv(r)));const s=_v(t),u=_v(r);for(let d=0;d<a.length;++d){const f=a[d];if(!h3[f]&&!(u&&u[f])&&!(s&&s[f])){const p=y3(r,f);try{g3(t,f,p)}catch{}}}}return t}var x3=Symbol.for("react-redux-context"),_3=typeof globalThis<"u"?globalThis:{};function S3(){if(!O.createContext)return{};const t=_3[x3]??=new Map;let r=t.get(O.createContext);return r||(r=O.createContext(null),t.set(O.createContext,r)),r}var t1=S3(),w3=[null,null];function T3(t,r,a){sf(()=>t(...r),a)}function E3(t,r,a,s,u,d){t.current=s,a.current=!1,u.current&&(u.current=null,d())}function M3(t,r,a,s,u,d,f,p,b,y,_){if(!t)return()=>{};let w=!1,S=null;const T=()=>{if(w||!p.current)return;const j=r.getState();let A,$;try{A=s(j,u.current)}catch(I){$=I,S=I}$||(S=null),A===d.current?f.current||y():(d.current=A,b.current=A,f.current=!0,_())};return a.onStateChange=T,a.trySubscribe(),T(),()=>{if(w=!0,a.tryUnsubscribe(),a.onStateChange=null,S)throw S}}function N3(t,r){return t===r}function A3(t,r,a,{pure:s,areStatesEqual:u=N3,areOwnPropsEqual:d=i0,areStatePropsEqual:f=i0,areMergedPropsEqual:p=i0,forwardRef:b=!1,context:y=t1}={}){const _=y,w=e3(t),S=t3(r),T=i3(a),N=!!t;return A=>{const $=A.displayName||A.name||"Component",I=`Connect(${$})`,D={shouldHandleStateChanges:N,displayName:I,wrappedComponentName:$,WrappedComponent:A,initMapStateToProps:w,initMapDispatchToProps:S,initMergeProps:T,areStatesEqual:u,areStatePropsEqual:f,areOwnPropsEqual:d,areMergedPropsEqual:p};function C(W){const[ot,nt,et]=O.useMemo(()=>{const{reactReduxForwardedRef:Dt,...St}=W;return[W.context,Dt,St]},[W]),Y=O.useMemo(()=>{let Dt=_;return ot?.Consumer,Dt},[ot,_]),U=O.useContext(Y),tt=!!W.store&&!!W.store.getState&&!!W.store.dispatch,at=!!U&&!!U.store,st=tt?W.store:U.store,Z=at?U.getServerState:st.getState,rt=O.useMemo(()=>QE(st.dispatch,D),[st]),[ft,gt]=O.useMemo(()=>{if(!N)return w3;const Dt=Q_(st,tt?void 0:U.subscription),St=Dt.notifyNestedSubs.bind(Dt);return[Dt,St]},[st,tt,U]),P=O.useMemo(()=>tt?U:{...U,subscription:ft},[tt,U,ft]),H=O.useRef(void 0),X=O.useRef(et),Q=O.useRef(void 0),z=O.useRef(!1),q=O.useRef(!1),K=O.useRef(void 0);sf(()=>(q.current=!0,()=>{q.current=!1}),[]);const ct=O.useMemo(()=>()=>Q.current&&et===X.current?Q.current:rt(st.getState(),et),[st,et]),bt=O.useMemo(()=>St=>ft?M3(N,st,ft,rt,X,H,z,q,Q,gt,St):()=>{},[ft]);T3(E3,[X,H,z,et,Q,gt]);let Mt;try{Mt=O.useSyncExternalStore(bt,ct,Z?()=>rt(Z(),et):ct)}catch(Dt){throw K.current&&(Dt.message+=`
The error may be correlated with this previous error:
${K.current.stack}

`),Dt}sf(()=>{K.current=void 0,Q.current=void 0,H.current=Mt});const Et=O.useMemo(()=>O.createElement(A,{...Mt,ref:nt}),[nt,A,Mt]);return O.useMemo(()=>N?O.createElement(Y.Provider,{value:P},Et):Et,[Y,Et,P])}const G=O.memo(C);if(G.WrappedComponent=A,G.displayName=C.displayName=I,b){const ot=O.forwardRef(function(et,Y){return O.createElement(G,{...et,reactReduxForwardedRef:Y})});return ot.displayName=I,ot.WrappedComponent=A,J0(ot,A)}return J0(G,A)}}var e1=A3;function D3(t){const{children:r,context:a,serverState:s,store:u}=t,d=O.useMemo(()=>{const b=Q_(u);return{store:u,subscription:b,getServerState:s?()=>s:void 0}},[u,s]),f=O.useMemo(()=>u.getState(),[u]);sf(()=>{const{subscription:b}=d;return b.onStateChange=b.notifyNestedSubs,b.trySubscribe(),f!==u.getState()&&b.notifyNestedSubs(),()=>{b.tryUnsubscribe(),b.onStateChange=void 0}},[d,f]);const p=a||t1;return O.createElement(p.Provider,{value:d},r)}var j3=D3,k3="Invariant failed";function O3(t,r){throw new Error(k3)}var Qr=function(r){var a=r.top,s=r.right,u=r.bottom,d=r.left,f=s-d,p=u-a,b={top:a,right:s,bottom:u,left:d,width:f,height:p,x:d,y:a,center:{x:(s+d)/2,y:(u+a)/2}};return b},xp=function(r,a){return{top:r.top-a.top,left:r.left-a.left,bottom:r.bottom+a.bottom,right:r.right+a.right}},Tv=function(r,a){return{top:r.top+a.top,left:r.left+a.left,bottom:r.bottom-a.bottom,right:r.right-a.right}},C3=function(r,a){return{top:r.top+a.y,left:r.left+a.x,bottom:r.bottom+a.y,right:r.right+a.x}},a0={top:0,right:0,bottom:0,left:0},_p=function(r){var a=r.borderBox,s=r.margin,u=s===void 0?a0:s,d=r.border,f=d===void 0?a0:d,p=r.padding,b=p===void 0?a0:p,y=Qr(xp(a,u)),_=Qr(Tv(a,f)),w=Qr(Tv(_,b));return{marginBox:y,borderBox:Qr(a),paddingBox:_,contentBox:w,margin:u,border:f,padding:b}},jr=function(r){var a=r.slice(0,-2),s=r.slice(-2);if(s!=="px")return 0;var u=Number(a);return isNaN(u)&&O3(),u},L3=function(){return{x:window.pageXOffset,y:window.pageYOffset}},lf=function(r,a){var s=r.borderBox,u=r.border,d=r.margin,f=r.padding,p=C3(s,a);return _p({borderBox:p,border:u,margin:d,padding:f})},cf=function(r,a){return a===void 0&&(a=L3()),lf(r,a)},n1=function(r,a){var s={top:jr(a.marginTop),right:jr(a.marginRight),bottom:jr(a.marginBottom),left:jr(a.marginLeft)},u={top:jr(a.paddingTop),right:jr(a.paddingRight),bottom:jr(a.paddingBottom),left:jr(a.paddingLeft)},d={top:jr(a.borderTopWidth),right:jr(a.borderRightWidth),bottom:jr(a.borderBottomWidth),left:jr(a.borderLeftWidth)};return _p({borderBox:r,margin:s,padding:u,border:d})},r1=function(r){var a=r.getBoundingClientRect(),s=window.getComputedStyle(r);return n1(a,s)},Ac=function(r){var a=[],s=null,u=function(){for(var f=arguments.length,p=new Array(f),b=0;b<f;b++)p[b]=arguments[b];a=p,!s&&(s=requestAnimationFrame(function(){s=null,r.apply(void 0,a)}))};return u.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},u};function uf(){return uf=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},uf.apply(null,arguments)}function i1(t,r){}i1.bind(null,"warn");i1.bind(null,"error");function Va(){}function B3(t,r){return{...t,...r}}function Cr(t,r,a){const s=r.map(u=>{const d=B3(a,u.options);return t.addEventListener(u.eventName,u.fn,d),function(){t.removeEventListener(u.eventName,u.fn,d)}});return function(){s.forEach(d=>{d()})}}const R3="Invariant failed";class df extends Error{}df.prototype.toString=function(){return this.message};function At(t,r){throw new df(R3)}class P3 extends Ce.Component{constructor(...r){super(...r),this.callbacks=null,this.unbind=Va,this.onWindowError=a=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),a.error instanceof df&&a.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=a=>{this.callbacks=a}}componentDidMount(){this.unbind=Cr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(r){if(r instanceof df){this.setState({});return}throw r}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const z3=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ff=t=>t+1,H3=t=>`
  You have lifted an item in position ${ff(t.source.index)}
`,a1=(t,r)=>{const a=t.droppableId===r.droppableId,s=ff(t.index),u=ff(r.index);return a?`
      You have moved the item from position ${s}
      to position ${u}
    `:`
    You have moved the item from position ${s}
    in list ${t.droppableId}
    to list ${r.droppableId}
    in position ${u}
  `},o1=(t,r,a)=>r.droppableId===a.droppableId?`
      The item ${t}
      has been combined with ${a.draggableId}`:`
      The item ${t}
      in list ${r.droppableId}
      has been combined with ${a.draggableId}
      in list ${a.droppableId}
    `,$3=t=>{const r=t.destination;if(r)return a1(t.source,r);const a=t.combine;return a?o1(t.draggableId,t.source,a):"You are over an area that cannot be dropped on"},Ev=t=>`
  The item has returned to its starting position
  of ${ff(t.index)}
`,I3=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${Ev(t.source)}
    `;const r=t.destination,a=t.combine;return r?`
      You have dropped the item.
      ${a1(t.source,r)}
    `:a?`
      You have dropped the item.
      ${o1(t.draggableId,t.source,a)}
    `:`
    The item has been dropped while not over a drop area.
    ${Ev(t.source)}
  `},rf={dragHandleUsageInstructions:z3,onDragStart:H3,onDragUpdate:$3,onDragEnd:I3};function U3(t,r){return!!(t===r||Number.isNaN(t)&&Number.isNaN(r))}function s1(t,r){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(!U3(t[a],r[a]))return!1;return!0}function ce(t,r){const a=O.useState(()=>({inputs:r,result:t()}))[0],s=O.useRef(!0),u=O.useRef(a),f=s.current||!!(r&&u.current.inputs&&s1(r,u.current.inputs))?u.current:{inputs:r,result:t()};return O.useEffect(()=>{s.current=!1,u.current=f},[f]),f.result}function Ht(t,r){return ce(()=>t,r)}const hn={x:0,y:0},Sn=(t,r)=>({x:t.x+r.x,y:t.y+r.y}),hr=(t,r)=>({x:t.x-r.x,y:t.y-r.y}),Fa=(t,r)=>t.x===r.x&&t.y===r.y,Qs=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Ho=(t,r,a=0)=>t==="x"?{x:r,y:a}:{x:a,y:r},Dc=(t,r)=>Math.sqrt((r.x-t.x)**2+(r.y-t.y)**2),Mv=(t,r)=>Math.min(...r.map(a=>Dc(t,a))),l1=t=>r=>({x:t(r.x),y:t(r.y)});var G3=(t,r)=>{const a=Qr({top:Math.max(r.top,t.top),right:Math.min(r.right,t.right),bottom:Math.min(r.bottom,t.bottom),left:Math.max(r.left,t.left)});return a.width<=0||a.height<=0?null:a};const Uc=(t,r)=>({top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}),Nv=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],Z3={top:0,right:0,bottom:0,left:0},Y3=(t,r)=>r?Uc(t,r.scroll.diff.displacement):t,q3=(t,r,a)=>a&&a.increasedBy?{...t,[r.end]:t[r.end]+a.increasedBy[r.line]}:t,V3=(t,r)=>r&&r.shouldClipSubject?G3(r.pageMarginBox,t):Qr(t);var Zs=({page:t,withPlaceholder:r,axis:a,frame:s})=>{const u=Y3(t.marginBox,s),d=q3(u,a,r),f=V3(d,s);return{page:t,withPlaceholder:r,active:f}},Sp=(t,r)=>{t.frame||At();const a=t.frame,s=hr(r,a.scroll.initial),u=Qs(s),d={...a,scroll:{initial:a.scroll.initial,current:r,diff:{value:s,displacement:u},max:a.scroll.max}},f=Zs({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:d});return{...t,frame:d,subject:f}};function fn(t,r=s1){let a=null;function s(...u){if(a&&a.lastThis===this&&r(u,a.lastArgs))return a.lastResult;const d=t.apply(this,u);return a={lastResult:d,lastArgs:u,lastThis:this},d}return s.clear=function(){a=null},s}const c1=fn(t=>t.reduce((r,a)=>(r[a.descriptor.id]=a,r),{})),u1=fn(t=>t.reduce((r,a)=>(r[a.descriptor.id]=a,r),{})),If=fn(t=>Object.values(t)),F3=fn(t=>Object.values(t));var Js=fn((t,r)=>F3(r).filter(s=>t===s.descriptor.droppableId).sort((s,u)=>s.descriptor.index-u.descriptor.index));function wp(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Uf(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Gf=fn((t,r)=>r.filter(a=>a.descriptor.id!==t.descriptor.id)),K3=({isMovingForward:t,draggable:r,destination:a,insideDestination:s,previousImpact:u})=>{if(!a.isCombineEnabled||!wp(u))return null;function f(T){const N={type:"COMBINE",combine:{draggableId:T,droppableId:a.descriptor.id}};return{...u,at:N}}const p=u.displaced.all,b=p.length?p[0]:null;if(t)return b?f(b):null;const y=Gf(r,s);if(!b){if(!y.length)return null;const T=y[y.length-1];return f(T.descriptor.id)}const _=y.findIndex(T=>T.descriptor.id===b);_===-1&&At();const w=_-1;if(w<0)return null;const S=y[w];return f(S.descriptor.id)},tl=(t,r)=>t.descriptor.droppableId===r.descriptor.id;const d1={point:hn,value:0},jc={invisible:{},visible:{},all:[]},X3={displaced:jc,displacedBy:d1,at:null};var Rr=(t,r)=>a=>t<=a&&a<=r,f1=t=>{const r=Rr(t.top,t.bottom),a=Rr(t.left,t.right);return s=>{if(r(s.top)&&r(s.bottom)&&a(s.left)&&a(s.right))return!0;const d=r(s.top)||r(s.bottom),f=a(s.left)||a(s.right);if(d&&f)return!0;const b=s.top<t.top&&s.bottom>t.bottom,y=s.left<t.left&&s.right>t.right;return b&&y?!0:b&&f||y&&d}},W3=t=>{const r=Rr(t.top,t.bottom),a=Rr(t.left,t.right);return s=>r(s.top)&&r(s.bottom)&&a(s.left)&&a(s.right)};const Tp={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},h1={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Q3=t=>r=>{const a=Rr(r.top,r.bottom),s=Rr(r.left,r.right);return u=>t===Tp?a(u.top)&&a(u.bottom):s(u.left)&&s(u.right)};const J3=(t,r)=>{const a=r.frame?r.frame.scroll.diff.displacement:hn;return Uc(t,a)},tM=(t,r,a)=>r.subject.active?a(r.subject.active)(t):!1,eM=(t,r,a)=>a(r)(t),Ep=({target:t,destination:r,viewport:a,withDroppableDisplacement:s,isVisibleThroughFrameFn:u})=>{const d=s?J3(t,r):t;return tM(d,r,u)&&eM(d,a,u)},nM=t=>Ep({...t,isVisibleThroughFrameFn:f1}),m1=t=>Ep({...t,isVisibleThroughFrameFn:W3}),rM=t=>Ep({...t,isVisibleThroughFrameFn:Q3(t.destination.axis)}),iM=(t,r,a)=>{if(typeof a=="boolean")return a;if(!r)return!0;const{invisible:s,visible:u}=r;if(s[t])return!1;const d=u[t];return d?d.shouldAnimate:!0};function aM(t,r){const a=t.page.marginBox,s={top:r.point.y,right:0,bottom:0,left:r.point.x};return Qr(xp(a,s))}function kc({afterDragging:t,destination:r,displacedBy:a,viewport:s,forceShouldAnimate:u,last:d}){return t.reduce(function(p,b){const y=aM(b,a),_=b.descriptor.id;if(p.all.push(_),!nM({target:y,destination:r,viewport:s,withDroppableDisplacement:!0}))return p.invisible[b.descriptor.id]=!0,p;const S=iM(_,d,u),T={draggableId:_,shouldAnimate:S};return p.visible[_]=T,p},{all:[],visible:{},invisible:{}})}function oM(t,r){if(!t.length)return 0;const a=t[t.length-1].descriptor.index;return r.inHomeList?a:a+1}function Av({insideDestination:t,inHomeList:r,displacedBy:a,destination:s}){const u=oM(t,{inHomeList:r});return{displaced:jc,displacedBy:a,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:u}}}}function hf({draggable:t,insideDestination:r,destination:a,viewport:s,displacedBy:u,last:d,index:f,forceShouldAnimate:p}){const b=tl(t,a);if(f==null)return Av({insideDestination:r,inHomeList:b,displacedBy:u,destination:a});const y=r.find(N=>N.descriptor.index===f);if(!y)return Av({insideDestination:r,inHomeList:b,displacedBy:u,destination:a});const _=Gf(t,r),w=r.indexOf(y),S=_.slice(w);return{displaced:kc({afterDragging:S,destination:a,displacedBy:u,last:d,viewport:s.frame,forceShouldAnimate:p}),displacedBy:u,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:f}}}}function Ka(t,r){return!!r.effected[t]}var sM=({isMovingForward:t,destination:r,draggables:a,combine:s,afterCritical:u})=>{if(!r.isCombineEnabled)return null;const d=s.draggableId,p=a[d].descriptor.index;return Ka(d,u)?t?p:p-1:t?p+1:p},lM=({isMovingForward:t,isInHomeList:r,insideDestination:a,location:s})=>{if(!a.length)return null;const u=s.index,d=t?u+1:u-1,f=a[0].descriptor.index,p=a[a.length-1].descriptor.index,b=r?p:p+1;return d<f||d>b?null:d},cM=({isMovingForward:t,isInHomeList:r,draggable:a,draggables:s,destination:u,insideDestination:d,previousImpact:f,viewport:p,afterCritical:b})=>{const y=f.at;if(y||At(),y.type==="REORDER"){const w=lM({isMovingForward:t,isInHomeList:r,location:y.destination,insideDestination:d});return w==null?null:hf({draggable:a,insideDestination:d,destination:u,viewport:p,last:f.displaced,displacedBy:f.displacedBy,index:w})}const _=sM({isMovingForward:t,destination:u,displaced:f.displaced,draggables:s,combine:y.combine,afterCritical:b});return _==null?null:hf({draggable:a,insideDestination:d,destination:u,viewport:p,last:f.displaced,displacedBy:f.displacedBy,index:_})},uM=({displaced:t,afterCritical:r,combineWith:a,displacedBy:s})=>{const u=!!(t.visible[a]||t.invisible[a]);return Ka(a,r)?u?hn:Qs(s.point):u?s.point:hn},dM=({afterCritical:t,impact:r,draggables:a})=>{const s=Uf(r);s||At();const u=s.draggableId,d=a[u].page.borderBox.center,f=uM({displaced:r.displaced,afterCritical:t,combineWith:u,displacedBy:r.displacedBy});return Sn(d,f)};const p1=(t,r)=>r.margin[t.start]+r.borderBox[t.size]/2,fM=(t,r)=>r.margin[t.end]+r.borderBox[t.size]/2,Mp=(t,r,a)=>r[t.crossAxisStart]+a.margin[t.crossAxisStart]+a.borderBox[t.crossAxisSize]/2,Dv=({axis:t,moveRelativeTo:r,isMoving:a})=>Ho(t.line,r.marginBox[t.end]+p1(t,a),Mp(t,r.marginBox,a)),jv=({axis:t,moveRelativeTo:r,isMoving:a})=>Ho(t.line,r.marginBox[t.start]-fM(t,a),Mp(t,r.marginBox,a)),hM=({axis:t,moveInto:r,isMoving:a})=>Ho(t.line,r.contentBox[t.start]+p1(t,a),Mp(t,r.contentBox,a));var mM=({impact:t,draggable:r,draggables:a,droppable:s,afterCritical:u})=>{const d=Js(s.descriptor.id,a),f=r.page,p=s.axis;if(!d.length)return hM({axis:p,moveInto:s.page,isMoving:f});const{displaced:b,displacedBy:y}=t,_=b.all[0];if(_){const S=a[_];if(Ka(_,u))return jv({axis:p,moveRelativeTo:S.page,isMoving:f});const T=lf(S.page,y.point);return jv({axis:p,moveRelativeTo:T,isMoving:f})}const w=d[d.length-1];if(w.descriptor.id===r.descriptor.id)return f.borderBox.center;if(Ka(w.descriptor.id,u)){const S=lf(w.page,Qs(u.displacedBy.point));return Dv({axis:p,moveRelativeTo:S,isMoving:f})}return Dv({axis:p,moveRelativeTo:w.page,isMoving:f})},tp=(t,r)=>{const a=t.frame;return a?Sn(r,a.scroll.diff.displacement):r};const pM=({impact:t,draggable:r,droppable:a,draggables:s,afterCritical:u})=>{const d=r.page.borderBox.center,f=t.at;return!a||!f?d:f.type==="REORDER"?mM({impact:t,draggable:r,draggables:s,droppable:a,afterCritical:u}):dM({impact:t,draggables:s,afterCritical:u})};var Zf=t=>{const r=pM(t),a=t.droppable;return a?tp(a,r):r},g1=(t,r)=>{const a=hr(r,t.scroll.initial),s=Qs(a);return{frame:Qr({top:r.y,bottom:r.y+t.frame.height,left:r.x,right:r.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:r,diff:{value:a,displacement:s}}}};function kv(t,r){return t.map(a=>r[a])}function gM(t,r){for(let a=0;a<r.length;a++){const s=r[a].visible[t];if(s)return s}return null}var bM=({impact:t,viewport:r,destination:a,draggables:s,maxScrollChange:u})=>{const d=g1(r,Sn(r.scroll.current,u)),f=a.frame?Sp(a,Sn(a.frame.scroll.current,u)):a,p=t.displaced,b=kc({afterDragging:kv(p.all,s),destination:a,displacedBy:t.displacedBy,viewport:d.frame,last:p,forceShouldAnimate:!1}),y=kc({afterDragging:kv(p.all,s),destination:f,displacedBy:t.displacedBy,viewport:r.frame,last:p,forceShouldAnimate:!1}),_={},w={},S=[p,b,y];return p.all.forEach(N=>{const j=gM(N,S);if(j){w[N]=j;return}_[N]=!0}),{...t,displaced:{all:p.all,invisible:_,visible:w}}},yM=(t,r)=>Sn(t.scroll.diff.displacement,r),Np=({pageBorderBoxCenter:t,draggable:r,viewport:a})=>{const s=yM(a,t),u=hr(s,r.page.borderBox.center);return Sn(r.client.borderBox.center,u)},b1=({draggable:t,destination:r,newPageBorderBoxCenter:a,viewport:s,withDroppableDisplacement:u,onlyOnMainAxis:d=!1})=>{const f=hr(a,t.page.borderBox.center),b={target:Uc(t.page.borderBox,f),destination:r,withDroppableDisplacement:u,viewport:s};return d?rM(b):m1(b)},vM=({isMovingForward:t,draggable:r,destination:a,draggables:s,previousImpact:u,viewport:d,previousPageBorderBoxCenter:f,previousClientSelection:p,afterCritical:b})=>{if(!a.isEnabled)return null;const y=Js(a.descriptor.id,s),_=tl(r,a),w=K3({isMovingForward:t,draggable:r,destination:a,insideDestination:y,previousImpact:u})||cM({isMovingForward:t,isInHomeList:_,draggable:r,draggables:s,destination:a,insideDestination:y,previousImpact:u,viewport:d,afterCritical:b});if(!w)return null;const S=Zf({impact:w,draggable:r,droppable:a,draggables:s,afterCritical:b});if(b1({draggable:r,destination:a,newPageBorderBoxCenter:S,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Np({pageBorderBoxCenter:S,draggable:r,viewport:d}),impact:w,scrollJumpRequest:null};const N=hr(S,f),j=bM({impact:w,viewport:d,destination:a,draggables:s,maxScrollChange:N});return{clientSelection:p,impact:j,scrollJumpRequest:N}};const Rn=t=>{const r=t.subject.active;return r||At(),r};var xM=({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:s,viewport:u})=>{const d=a.subject.active;if(!d)return null;const f=a.axis,p=Rr(d[f.start],d[f.end]),b=If(s).filter(_=>_!==a).filter(_=>_.isEnabled).filter(_=>!!_.subject.active).filter(_=>f1(u.frame)(Rn(_))).filter(_=>{const w=Rn(_);return t?d[f.crossAxisEnd]<w[f.crossAxisEnd]:w[f.crossAxisStart]<d[f.crossAxisStart]}).filter(_=>{const w=Rn(_),S=Rr(w[f.start],w[f.end]);return p(w[f.start])||p(w[f.end])||S(d[f.start])||S(d[f.end])}).sort((_,w)=>{const S=Rn(_)[f.crossAxisStart],T=Rn(w)[f.crossAxisStart];return t?S-T:T-S}).filter((_,w,S)=>Rn(_)[f.crossAxisStart]===Rn(S[0])[f.crossAxisStart]);if(!b.length)return null;if(b.length===1)return b[0];const y=b.filter(_=>Rr(Rn(_)[f.start],Rn(_)[f.end])(r[f.line]));return y.length===1?y[0]:y.length>1?y.sort((_,w)=>Rn(_)[f.start]-Rn(w)[f.start])[0]:b.sort((_,w)=>{const S=Mv(r,Nv(Rn(_))),T=Mv(r,Nv(Rn(w)));return S!==T?S-T:Rn(_)[f.start]-Rn(w)[f.start]})[0]};const Ov=(t,r)=>{const a=t.page.borderBox.center;return Ka(t.descriptor.id,r)?hr(a,r.displacedBy.point):a},_M=(t,r)=>{const a=t.page.borderBox;return Ka(t.descriptor.id,r)?Uc(a,Qs(r.displacedBy.point)):a};var SM=({pageBorderBoxCenter:t,viewport:r,destination:a,insideDestination:s,afterCritical:u})=>s.filter(f=>m1({target:_M(f,u),destination:a,viewport:r.frame,withDroppableDisplacement:!0})).sort((f,p)=>{const b=Dc(t,tp(a,Ov(f,u))),y=Dc(t,tp(a,Ov(p,u)));return b<y?-1:y<b?1:f.descriptor.index-p.descriptor.index})[0]||null,Gc=fn(function(r,a){const s=a[r.line];return{value:s,point:Ho(r.line,s)}});const wM=(t,r,a)=>{const s=t.axis;if(t.descriptor.mode==="virtual")return Ho(s.line,r[s.line]);const u=t.subject.page.contentBox[s.size],b=Js(t.descriptor.id,a).reduce((y,_)=>y+_.client.marginBox[s.size],0)+r[s.line]-u;return b<=0?null:Ho(s.line,b)},y1=(t,r)=>({...t,scroll:{...t.scroll,max:r}}),v1=(t,r,a)=>{const s=t.frame;tl(r,t)&&At(),t.subject.withPlaceholder&&At();const u=Gc(t.axis,r.displaceBy).point,d=wM(t,u,a),f={placeholderSize:u,increasedBy:d,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){const _=Zs({page:t.subject.page,withPlaceholder:f,axis:t.axis,frame:t.frame});return{...t,subject:_}}const p=d?Sn(s.scroll.max,d):s.scroll.max,b=y1(s,p),y=Zs({page:t.subject.page,withPlaceholder:f,axis:t.axis,frame:b});return{...t,subject:y,frame:b}},TM=t=>{const r=t.subject.withPlaceholder;r||At();const a=t.frame;if(!a){const f=Zs({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:f}}const s=r.oldFrameMaxScroll;s||At();const u=y1(a,s),d=Zs({page:t.subject.page,axis:t.axis,frame:u,withPlaceholder:null});return{...t,subject:d,frame:u}};var EM=({previousPageBorderBoxCenter:t,moveRelativeTo:r,insideDestination:a,draggable:s,draggables:u,destination:d,viewport:f,afterCritical:p})=>{if(!r){if(a.length)return null;const w={displaced:jc,displacedBy:d1,at:{type:"REORDER",destination:{droppableId:d.descriptor.id,index:0}}},S=Zf({impact:w,draggable:s,droppable:d,draggables:u,afterCritical:p}),T=tl(s,d)?d:v1(d,s,u);return b1({draggable:s,destination:T,newPageBorderBoxCenter:S,viewport:f.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?w:null}const b=t[d.axis.line]<=r.page.borderBox.center[d.axis.line],y=(()=>{const w=r.descriptor.index;return r.descriptor.id===s.descriptor.id||b?w:w+1})(),_=Gc(d.axis,s.displaceBy);return hf({draggable:s,insideDestination:a,destination:d,viewport:f,displacedBy:_,last:jc,index:y})},MM=({isMovingForward:t,previousPageBorderBoxCenter:r,draggable:a,isOver:s,draggables:u,droppables:d,viewport:f,afterCritical:p})=>{const b=xM({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:d,viewport:f});if(!b)return null;const y=Js(b.descriptor.id,u),_=SM({pageBorderBoxCenter:r,viewport:f,destination:b,insideDestination:y,afterCritical:p}),w=EM({previousPageBorderBoxCenter:r,destination:b,draggable:a,draggables:u,moveRelativeTo:_,insideDestination:y,viewport:f,afterCritical:p});if(!w)return null;const S=Zf({impact:w,draggable:a,droppable:b,draggables:u,afterCritical:p});return{clientSelection:Np({pageBorderBoxCenter:S,draggable:a,viewport:f}),impact:w,scrollJumpRequest:null}},mr=t=>{const r=t.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null};const NM=(t,r)=>{const a=mr(t);return a?r[a]:null};var AM=({state:t,type:r})=>{const a=NM(t.impact,t.dimensions.droppables),s=!!a,u=t.dimensions.droppables[t.critical.droppable.id],d=a||u,f=d.axis.direction,p=f==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||f==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(p&&!s)return null;const b=r==="MOVE_DOWN"||r==="MOVE_RIGHT",y=t.dimensions.draggables[t.critical.draggable.id],_=t.current.page.borderBoxCenter,{draggables:w,droppables:S}=t.dimensions;return p?vM({isMovingForward:b,previousPageBorderBoxCenter:_,draggable:y,destination:d,draggables:w,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):MM({isMovingForward:b,previousPageBorderBoxCenter:_,draggable:y,isOver:d,draggables:w,droppables:S,viewport:t.viewport,afterCritical:t.afterCritical})};function Ro(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function x1(t){const r=Rr(t.top,t.bottom),a=Rr(t.left,t.right);return function(u){return r(u.y)&&a(u.x)}}function DM(t,r){return t.left<r.right&&t.right>r.left&&t.top<r.bottom&&t.bottom>r.top}function jM({pageBorderBox:t,draggable:r,candidates:a}){const s=r.page.borderBox.center,u=a.map(d=>{const f=d.axis,p=Ho(d.axis.line,t.center[f.line],d.page.borderBox.center[f.crossAxisLine]);return{id:d.descriptor.id,distance:Dc(s,p)}}).sort((d,f)=>f.distance-d.distance);return u[0]?u[0].id:null}function kM({pageBorderBox:t,draggable:r,droppables:a}){const s=If(a).filter(u=>{if(!u.isEnabled)return!1;const d=u.subject.active;if(!d||!DM(t,d))return!1;if(x1(d)(t.center))return!0;const f=u.axis,p=d.center[f.crossAxisLine],b=t[f.crossAxisStart],y=t[f.crossAxisEnd],_=Rr(d[f.crossAxisStart],d[f.crossAxisEnd]),w=_(b),S=_(y);return!w&&!S?!0:w?b<p:y>p});return s.length?s.length===1?s[0].descriptor.id:jM({pageBorderBox:t,draggable:r,candidates:s}):null}const _1=(t,r)=>Qr(Uc(t,r));var OM=(t,r)=>{const a=t.frame;return a?_1(r,a.scroll.diff.value):r};function S1({displaced:t,id:r}){return!!(t.visible[r]||t.invisible[r])}function CM({draggable:t,closest:r,inHomeList:a}){return r?a&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var LM=({pageBorderBoxWithDroppableScroll:t,draggable:r,destination:a,insideDestination:s,last:u,viewport:d,afterCritical:f})=>{const p=a.axis,b=Gc(a.axis,r.displaceBy),y=b.value,_=t[p.start],w=t[p.end],T=Gf(r,s).find(j=>{const A=j.descriptor.id,$=j.page.borderBox.center[p.line],I=Ka(A,f),D=S1({displaced:u,id:A});return I?D?w<=$:_<$-y:D?w<=$+y:_<$})||null,N=CM({draggable:r,closest:T,inHomeList:tl(r,a)});return hf({draggable:r,insideDestination:s,destination:a,viewport:d,last:u,displacedBy:b,index:N})};const BM=4;var RM=({draggable:t,pageBorderBoxWithDroppableScroll:r,previousImpact:a,destination:s,insideDestination:u,afterCritical:d})=>{if(!s.isCombineEnabled)return null;const f=s.axis,p=Gc(s.axis,t.displaceBy),b=p.value,y=r[f.start],_=r[f.end],S=Gf(t,u).find(N=>{const j=N.descriptor.id,A=N.page.borderBox,I=A[f.size]/BM,D=Ka(j,d),C=S1({displaced:a.displaced,id:j});return D?C?_>A[f.start]+I&&_<A[f.end]-I:y>A[f.start]-b+I&&y<A[f.end]-b-I:C?_>A[f.start]+b+I&&_<A[f.end]+b-I:y>A[f.start]+I&&y<A[f.end]-I});return S?{displacedBy:p,displaced:a.displaced,at:{type:"COMBINE",combine:{draggableId:S.descriptor.id,droppableId:s.descriptor.id}}}:null},w1=({pageOffset:t,draggable:r,draggables:a,droppables:s,previousImpact:u,viewport:d,afterCritical:f})=>{const p=_1(r.page.borderBox,t),b=kM({pageBorderBox:p,draggable:r,droppables:s});if(!b)return X3;const y=s[b],_=Js(y.descriptor.id,a),w=OM(y,p);return RM({pageBorderBoxWithDroppableScroll:w,draggable:r,previousImpact:u,destination:y,insideDestination:_,afterCritical:f})||LM({pageBorderBoxWithDroppableScroll:w,draggable:r,destination:y,insideDestination:_,last:u.displaced,viewport:d,afterCritical:f})},Ap=(t,r)=>({...t,[r.descriptor.id]:r});const PM=({previousImpact:t,impact:r,droppables:a})=>{const s=mr(t),u=mr(r);if(!s||s===u)return a;const d=a[s];if(!d.subject.withPlaceholder)return a;const f=TM(d);return Ap(a,f)};var zM=({draggable:t,draggables:r,droppables:a,previousImpact:s,impact:u})=>{const d=PM({previousImpact:s,impact:u,droppables:a}),f=mr(u);if(!f)return d;const p=a[f];if(tl(t,p)||p.subject.withPlaceholder)return d;const b=v1(p,t,r);return Ap(d,b)},Tc=({state:t,clientSelection:r,dimensions:a,viewport:s,impact:u,scrollJumpRequest:d})=>{const f=s||t.viewport,p=a||t.dimensions,b=r||t.current.client.selection,y=hr(b,t.initial.client.selection),_={offset:y,selection:b,borderBoxCenter:Sn(t.initial.client.borderBoxCenter,y)},w={selection:Sn(_.selection,f.scroll.current),borderBoxCenter:Sn(_.borderBoxCenter,f.scroll.current),offset:Sn(_.offset,f.scroll.diff.value)},S={client:_,page:w};if(t.phase==="COLLECTING")return{...t,dimensions:p,viewport:f,current:S};const T=p.draggables[t.critical.draggable.id],N=u||w1({pageOffset:w.offset,draggable:T,draggables:p.draggables,droppables:p.droppables,previousImpact:t.impact,viewport:f,afterCritical:t.afterCritical}),j=zM({draggable:T,impact:N,previousImpact:t.impact,draggables:p.draggables,droppables:p.droppables});return{...t,current:S,dimensions:{draggables:p.draggables,droppables:j},impact:N,viewport:f,scrollJumpRequest:d||null,forceShouldAnimate:d?!1:null}};function HM(t,r){return t.map(a=>r[a])}var T1=({impact:t,viewport:r,draggables:a,destination:s,forceShouldAnimate:u})=>{const d=t.displaced,f=HM(d.all,a),p=kc({afterDragging:f,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:u,last:d});return{...t,displaced:p}},E1=({impact:t,draggable:r,droppable:a,draggables:s,viewport:u,afterCritical:d})=>{const f=Zf({impact:t,draggable:r,draggables:s,droppable:a,afterCritical:d});return Np({pageBorderBoxCenter:f,draggable:r,viewport:u})},M1=({state:t,dimensions:r,viewport:a})=>{t.movementMode!=="SNAP"&&At();const s=t.impact,u=a||t.viewport,d=r||t.dimensions,{draggables:f,droppables:p}=d,b=f[t.critical.draggable.id],y=mr(s);y||At();const _=p[y],w=T1({impact:s,viewport:u,destination:_,draggables:f}),S=E1({impact:w,draggable:b,droppable:_,draggables:f,viewport:u,afterCritical:t.afterCritical});return Tc({impact:w,clientSelection:S,state:t,dimensions:d,viewport:u})},$M=t=>({index:t.index,droppableId:t.droppableId}),N1=({draggable:t,home:r,draggables:a,viewport:s})=>{const u=Gc(r.axis,t.displaceBy),d=Js(r.descriptor.id,a),f=d.indexOf(t);f===-1&&At();const p=d.slice(f+1),b=p.reduce((S,T)=>(S[T.descriptor.id]=!0,S),{}),y={inVirtualList:r.descriptor.mode==="virtual",displacedBy:u,effected:b};return{impact:{displaced:kc({afterDragging:p,destination:r,displacedBy:u,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:u,at:{type:"REORDER",destination:$M(t.descriptor)}},afterCritical:y}},IM=(t,r)=>({draggables:t.draggables,droppables:Ap(t.droppables,r)}),UM=({draggable:t,offset:r,initialWindowScroll:a})=>{const s=lf(t.client,r),u=cf(s,a);return{...t,placeholder:{...t.placeholder,client:s},client:s,page:u}},GM=t=>{const r=t.frame;return r||At(),r},ZM=({additions:t,updatedDroppables:r,viewport:a})=>{const s=a.scroll.diff.value;return t.map(u=>{const d=u.descriptor.droppableId,f=r[d],b=GM(f).scroll.diff.value,y=Sn(s,b);return UM({draggable:u,offset:y,initialWindowScroll:a.scroll.initial})})},YM=({state:t,published:r})=>{const a=r.modified.map($=>{const I=t.dimensions.droppables[$.droppableId];return Sp(I,$.scroll)}),s={...t.dimensions.droppables,...c1(a)},u=u1(ZM({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),d={...t.dimensions.draggables,...u};r.removals.forEach($=>{delete d[$]});const f={droppables:s,draggables:d},p=mr(t.impact),b=p?f.droppables[p]:null,y=f.draggables[t.critical.draggable.id],_=f.droppables[t.critical.droppable.id],{impact:w,afterCritical:S}=N1({draggable:y,home:_,draggables:d,viewport:t.viewport}),T=b&&b.isCombineEnabled?t.impact:w,N=w1({pageOffset:t.current.page.offset,draggable:f.draggables[t.critical.draggable.id],draggables:f.draggables,droppables:f.droppables,previousImpact:T,viewport:t.viewport,afterCritical:S}),j={...t,phase:"DRAGGING",impact:N,onLiftImpact:w,dimensions:f,afterCritical:S,forceShouldAnimate:!1};return t.phase==="COLLECTING"?j:{...j,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const ep=t=>t.movementMode==="SNAP",o0=(t,r,a)=>{const s=IM(t.dimensions,r);return!ep(t)||a?Tc({state:t,dimensions:s}):M1({state:t,dimensions:s})};function s0(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const Cv={phase:"IDLE",completed:null,shouldFlush:!1};var qM=(t=Cv,r)=>{if(r.type==="FLUSH")return{...Cv,shouldFlush:!0};if(r.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&At();const{critical:a,clientSelection:s,viewport:u,dimensions:d,movementMode:f}=r.payload,p=d.draggables[a.draggable.id],b=d.droppables[a.droppable.id],y={selection:s,borderBoxCenter:p.client.borderBox.center,offset:hn},_={client:y,page:{selection:Sn(y.selection,u.scroll.initial),borderBoxCenter:Sn(y.selection,u.scroll.initial),offset:Sn(y.selection,u.scroll.diff.value)}},w=If(d.droppables).every(j=>!j.isFixedOnPage),{impact:S,afterCritical:T}=N1({draggable:p,home:b,draggables:d.draggables,viewport:u});return{phase:"DRAGGING",isDragging:!0,critical:a,movementMode:f,dimensions:d,initial:_,current:_,isWindowScrollAllowed:w,impact:S,afterCritical:T,onLiftImpact:S,viewport:u,scrollJumpRequest:null,forceShouldAnimate:null}}if(r.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&At(),{...t,phase:"COLLECTING"});if(r.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||At(),YM({state:t,published:r.payload});if(r.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Ro(t)||At();const{client:a}=r.payload;return Fa(a,t.current.client.selection)?t:Tc({state:t,clientSelection:a,impact:ep(t)?t.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return s0(t);Ro(t)||At();const{id:a,newScroll:s}=r.payload,u=t.dimensions.droppables[a];if(!u)return t;const d=Sp(u,s);return o0(t,d,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Ro(t)||At();const{id:a,isEnabled:s}=r.payload,u=t.dimensions.droppables[a];u||At(),u.isEnabled===s&&At();const d={...u,isEnabled:s};return o0(t,d,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Ro(t)||At();const{id:a,isCombineEnabled:s}=r.payload,u=t.dimensions.droppables[a];u||At(),u.isCombineEnabled===s&&At();const d={...u,isCombineEnabled:s};return o0(t,d,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Ro(t)||At(),t.isWindowScrollAllowed||At();const a=r.payload.newScroll;if(Fa(t.viewport.scroll.current,a))return s0(t);const s=g1(t.viewport,a);return ep(t)?M1({state:t,viewport:s}):Tc({state:t,viewport:s})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ro(t))return t;const a=r.payload.maxScroll;if(Fa(a,t.viewport.scroll.max))return t;const s={...t.viewport,scroll:{...t.viewport.scroll,max:a}};return{...t,viewport:s}}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&At();const a=AM({state:t,type:r.type});return a?Tc({state:t,impact:a.impact,clientSelection:a.clientSelection,scrollJumpRequest:a.scrollJumpRequest}):t}if(r.type==="DROP_PENDING"){const a=r.payload.reason;return t.phase!=="COLLECTING"&&At(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:a}}if(r.type==="DROP_ANIMATE"){const{completed:a,dropDuration:s,newHomeClientOffset:u}=r.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||At(),{phase:"DROP_ANIMATING",completed:a,dropDuration:s,newHomeClientOffset:u,dimensions:t.dimensions}}if(r.type==="DROP_COMPLETE"){const{completed:a}=r.payload;return{phase:"IDLE",completed:a,shouldFlush:!1}}return t};function pe(t,r){return t instanceof Object&&"type"in t&&t.type===r}const VM=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),FM=t=>({type:"LIFT",payload:t}),KM=t=>({type:"INITIAL_PUBLISH",payload:t}),XM=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),WM=()=>({type:"COLLECTION_STARTING",payload:null}),QM=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),JM=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),tN=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),A1=t=>({type:"MOVE",payload:t}),eN=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),nN=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),rN=()=>({type:"MOVE_UP",payload:null}),iN=()=>({type:"MOVE_DOWN",payload:null}),aN=()=>({type:"MOVE_RIGHT",payload:null}),oN=()=>({type:"MOVE_LEFT",payload:null}),Dp=()=>({type:"FLUSH",payload:null}),sN=t=>({type:"DROP_ANIMATE",payload:t}),jp=t=>({type:"DROP_COMPLETE",payload:t}),D1=t=>({type:"DROP",payload:t}),lN=t=>({type:"DROP_PENDING",payload:t}),j1=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var cN=t=>({getState:r,dispatch:a})=>s=>u=>{if(!pe(u,"LIFT")){s(u);return}const{id:d,clientSelection:f,movementMode:p}=u.payload,b=r();b.phase==="DROP_ANIMATING"&&a(jp({completed:b.completed})),r().phase!=="IDLE"&&At(),a(Dp()),a(VM({draggableId:d,movementMode:p}));const _={draggableId:d,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:w,dimensions:S,viewport:T}=t.startPublishing(_);a(KM({critical:w,dimensions:S,clientSelection:f,movementMode:p,viewport:T}))},uN=t=>()=>r=>a=>{pe(a,"INITIAL_PUBLISH")&&t.dragging(),pe(a,"DROP_ANIMATE")&&t.dropping(a.payload.completed.result.reason),(pe(a,"FLUSH")||pe(a,"DROP_COMPLETE"))&&t.resting(),r(a)};const kp={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Oc={opacity:{drop:0,combining:.7},scale:{drop:.75}},k1={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Do=`${k1.outOfTheWay}s ${kp.outOfTheWay}`,Ec={fluid:`opacity ${Do}`,snap:`transform ${Do}, opacity ${Do}`,drop:t=>{const r=`${t}s ${kp.drop}`;return`transform ${r}, opacity ${r}`},outOfTheWay:`transform ${Do}`,placeholder:`height ${Do}, width ${Do}, margin ${Do}`},Lv=t=>Fa(t,hn)?void 0:`translate(${t.x}px, ${t.y}px)`,np={moveTo:Lv,drop:(t,r)=>{const a=Lv(t);if(a)return r?`${a} scale(${Oc.scale.drop})`:a}},{minDropTime:rp,maxDropTime:O1}=k1,dN=O1-rp,Bv=1500,fN=.6;var hN=({current:t,destination:r,reason:a})=>{const s=Dc(t,r);if(s<=0)return rp;if(s>=Bv)return O1;const u=s/Bv,d=rp+dN*u,f=a==="CANCEL"?d*fN:d;return Number(f.toFixed(2))},mN=({impact:t,draggable:r,dimensions:a,viewport:s,afterCritical:u})=>{const{draggables:d,droppables:f}=a,p=mr(t),b=p?f[p]:null,y=f[r.descriptor.droppableId],_=E1({impact:t,draggable:r,draggables:d,afterCritical:u,droppable:b||y,viewport:s});return hr(_,r.client.borderBox.center)},pN=({draggables:t,reason:r,lastImpact:a,home:s,viewport:u,onLiftImpact:d})=>!a.at||r!=="DROP"?{impact:T1({draggables:t,impact:d,destination:s,viewport:u,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:a.at.type==="REORDER"?{impact:a,didDropInsideDroppable:!0}:{impact:{...a,displaced:jc},didDropInsideDroppable:!0};const gN=({getState:t,dispatch:r})=>a=>s=>{if(!pe(s,"DROP")){a(s);return}const u=t(),d=s.payload.reason;if(u.phase==="COLLECTING"){r(lN({reason:d}));return}if(u.phase==="IDLE")return;u.phase==="DROP_PENDING"&&u.isWaiting&&At(),u.phase==="DRAGGING"||u.phase==="DROP_PENDING"||At();const p=u.critical,b=u.dimensions,y=b.draggables[u.critical.draggable.id],{impact:_,didDropInsideDroppable:w}=pN({reason:d,lastImpact:u.impact,afterCritical:u.afterCritical,onLiftImpact:u.onLiftImpact,home:u.dimensions.droppables[u.critical.droppable.id],viewport:u.viewport,draggables:u.dimensions.draggables}),S=w?wp(_):null,T=w?Uf(_):null,N={index:p.draggable.index,droppableId:p.droppable.id},j={draggableId:y.descriptor.id,type:y.descriptor.type,source:N,reason:d,mode:u.movementMode,destination:S,combine:T},A=mN({impact:_,draggable:y,dimensions:b,viewport:u.viewport,afterCritical:u.afterCritical}),$={critical:u.critical,afterCritical:u.afterCritical,result:j,impact:_};if(!(!Fa(u.current.client.offset,A)||!!j.combine)){r(jp({completed:$}));return}const D=hN({current:u.current.client.offset,destination:A,reason:d});r(sN({newHomeClientOffset:A,dropDuration:D,completed:$}))};var C1=()=>({x:window.pageXOffset,y:window.pageYOffset});function bN(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:r=>{r.target!==window&&r.target!==window.document||t()}}}function yN({onWindowScroll:t}){function r(){t(C1())}const a=Ac(r),s=bN(a);let u=Va;function d(){return u!==Va}function f(){d()&&At(),u=Cr(window,[s])}function p(){d()||At(),a.cancel(),u(),u=Va}return{start:f,stop:p,isActive:d}}const vN=t=>pe(t,"DROP_COMPLETE")||pe(t,"DROP_ANIMATE")||pe(t,"FLUSH"),xN=t=>{const r=yN({onWindowScroll:a=>{t.dispatch(eN({newScroll:a}))}});return a=>s=>{!r.isActive()&&pe(s,"INITIAL_PUBLISH")&&r.start(),r.isActive()&&vN(s)&&r.stop(),a(s)}};var _N=t=>{let r=!1,a=!1;const s=setTimeout(()=>{a=!0}),u=d=>{r||a||(r=!0,t(d),clearTimeout(s))};return u.wasCalled=()=>r,u},SN=()=>{const t=[],r=u=>{const d=t.findIndex(p=>p.timerId===u);d===-1&&At();const[f]=t.splice(d,1);f.callback()};return{add:u=>{const d=setTimeout(()=>r(d)),f={timerId:d,callback:u};t.push(f)},flush:()=>{if(!t.length)return;const u=[...t];t.length=0,u.forEach(d=>{clearTimeout(d.timerId),d.callback()})}}};const wN=(t,r)=>t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index,TN=(t,r)=>t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId,EN=(t,r)=>{if(t===r)return!0;const a=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return a&&s},cc=(t,r)=>{r()},wd=(t,r)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r});function l0(t,r,a,s){if(!t){a(s(r));return}const u=_N(a);t(r,{announce:u}),u.wasCalled()||a(s(r))}var MN=(t,r)=>{const a=SN();let s=null;const u=(w,S)=>{s&&At(),cc("onBeforeCapture",()=>{const T=t().onBeforeCapture;T&&T({draggableId:w,mode:S})})},d=(w,S)=>{s&&At(),cc("onBeforeDragStart",()=>{const T=t().onBeforeDragStart;T&&T(wd(w,S))})},f=(w,S)=>{s&&At();const T=wd(w,S);s={mode:S,lastCritical:w,lastLocation:T.source,lastCombine:null},a.add(()=>{cc("onDragStart",()=>l0(t().onDragStart,T,r,rf.onDragStart))})},p=(w,S)=>{const T=wp(S),N=Uf(S);s||At();const j=!EN(w,s.lastCritical);j&&(s.lastCritical=w);const A=!wN(s.lastLocation,T);A&&(s.lastLocation=T);const $=!TN(s.lastCombine,N);if($&&(s.lastCombine=N),!j&&!A&&!$)return;const I={...wd(w,s.mode),combine:N,destination:T};a.add(()=>{cc("onDragUpdate",()=>l0(t().onDragUpdate,I,r,rf.onDragUpdate))})},b=()=>{s||At(),a.flush()},y=w=>{s||At(),s=null,cc("onDragEnd",()=>l0(t().onDragEnd,w,r,rf.onDragEnd))};return{beforeCapture:u,beforeStart:d,start:f,update:p,flush:b,drop:y,abort:()=>{if(!s)return;const w={...wd(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};y(w)}}},NN=(t,r)=>{const a=MN(t,r);return s=>u=>d=>{if(pe(d,"BEFORE_INITIAL_CAPTURE")){a.beforeCapture(d.payload.draggableId,d.payload.movementMode);return}if(pe(d,"INITIAL_PUBLISH")){const p=d.payload.critical;a.beforeStart(p,d.payload.movementMode),u(d),a.start(p,d.payload.movementMode);return}if(pe(d,"DROP_COMPLETE")){const p=d.payload.completed.result;a.flush(),u(d),a.drop(p);return}if(u(d),pe(d,"FLUSH")){a.abort();return}const f=s.getState();f.phase==="DRAGGING"&&a.update(f.critical,f.impact)}};const AN=t=>r=>a=>{if(!pe(a,"DROP_ANIMATION_FINISHED")){r(a);return}const s=t.getState();s.phase!=="DROP_ANIMATING"&&At(),t.dispatch(jp({completed:s.completed}))},DN=t=>{let r=null,a=null;function s(){a&&(cancelAnimationFrame(a),a=null),r&&(r(),r=null)}return u=>d=>{if((pe(d,"FLUSH")||pe(d,"DROP_COMPLETE")||pe(d,"DROP_ANIMATION_FINISHED"))&&s(),u(d),!pe(d,"DROP_ANIMATE"))return;const f={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(j1())}};a=requestAnimationFrame(()=>{a=null,r=Cr(window,[f])})}};var jN=t=>()=>r=>a=>{(pe(a,"DROP_COMPLETE")||pe(a,"FLUSH")||pe(a,"DROP_ANIMATE"))&&t.stopPublishing(),r(a)},kN=t=>{let r=!1;return()=>a=>s=>{if(pe(s,"INITIAL_PUBLISH")){r=!0,t.tryRecordFocus(s.payload.critical.draggable.id),a(s),t.tryRestoreFocusRecorded();return}if(a(s),!!r){if(pe(s,"FLUSH")){r=!1,t.tryRestoreFocusRecorded();return}if(pe(s,"DROP_COMPLETE")){r=!1;const u=s.payload.completed.result;u.combine&&t.tryShiftRecord(u.draggableId,u.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const ON=t=>pe(t,"DROP_COMPLETE")||pe(t,"DROP_ANIMATE")||pe(t,"FLUSH");var CN=t=>r=>a=>s=>{if(ON(s)){t.stop(),a(s);return}if(pe(s,"INITIAL_PUBLISH")){a(s);const u=r.getState();u.phase!=="DRAGGING"&&At(),t.start(u);return}a(s),t.scroll(r.getState())};const LN=t=>r=>a=>{if(r(a),!pe(a,"PUBLISH_WHILE_DRAGGING"))return;const s=t.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||t.dispatch(D1({reason:s.reason})))},BN=K_;var RN=({dimensionMarshal:t,focusMarshal:r,styleMarshal:a,getResponders:s,announce:u,autoScroller:d})=>F_(qM,BN(CE(uN(a),jN(t),cN(t),gN,AN,DN,LN,CN(d),xN,kN(r),NN(s,u))));const c0=()=>({additions:{},removals:{},modified:{}});function PN({registry:t,callbacks:r}){let a=c0(),s=null;const u=()=>{s||(r.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:b,removals:y,modified:_}=a,w=Object.keys(b).map(N=>t.draggable.getById(N).getDimension(hn)).sort((N,j)=>N.descriptor.index-j.descriptor.index),S=Object.keys(_).map(N=>{const A=t.droppable.getById(N).callbacks.getScrollWhileDragging();return{droppableId:N,scroll:A}}),T={additions:w,removals:Object.keys(y),modified:S};a=c0(),r.publish(T)}))};return{add:b=>{const y=b.descriptor.id;a.additions[y]=b,a.modified[b.descriptor.droppableId]=!0,a.removals[y]&&delete a.removals[y],u()},remove:b=>{const y=b.descriptor;a.removals[y.id]=!0,a.modified[y.droppableId]=!0,a.additions[y.id]&&delete a.additions[y.id],u()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,a=c0())}}}var L1=({scrollHeight:t,scrollWidth:r,height:a,width:s})=>{const u=hr({x:r,y:t},{x:s,y:a});return{x:Math.max(0,u.x),y:Math.max(0,u.y)}},B1=()=>{const t=document.documentElement;return t||At(),t},R1=()=>{const t=B1();return L1({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},zN=()=>{const t=C1(),r=R1(),a=t.y,s=t.x,u=B1(),d=u.clientWidth,f=u.clientHeight,p=s+d,b=a+f;return{frame:Qr({top:a,left:s,right:p,bottom:b}),scroll:{initial:t,current:t,max:r,diff:{value:hn,displacement:hn}}}},HN=({critical:t,scrollOptions:r,registry:a})=>{const s=zN(),u=s.scroll.current,d=t.droppable,f=a.droppable.getAllByType(d.type).map(_=>_.callbacks.getDimensionAndWatchScroll(u,r)),p=a.draggable.getAllByType(t.draggable.type).map(_=>_.getDimension(u));return{dimensions:{draggables:u1(p),droppables:c1(f)},critical:t,viewport:s}};function Rv(t,r,a){return!(a.descriptor.id===r.id||a.descriptor.type!==r.type||t.droppable.getById(a.descriptor.droppableId).descriptor.mode!=="virtual")}var $N=(t,r)=>{let a=null;const s=PN({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:t}),u=(S,T)=>{t.droppable.exists(S)||At(),a&&r.updateDroppableIsEnabled({id:S,isEnabled:T})},d=(S,T)=>{a&&(t.droppable.exists(S)||At(),r.updateDroppableIsCombineEnabled({id:S,isCombineEnabled:T}))},f=(S,T)=>{a&&(t.droppable.exists(S)||At(),r.updateDroppableScroll({id:S,newScroll:T}))},p=(S,T)=>{a&&t.droppable.getById(S).callbacks.scroll(T)},b=()=>{if(!a)return;s.stop();const S=a.critical.droppable;t.droppable.getAllByType(S.type).forEach(T=>T.callbacks.dragStopped()),a.unsubscribe(),a=null},y=S=>{a||At();const T=a.critical.draggable;S.type==="ADDITION"&&Rv(t,T,S.value)&&s.add(S.value),S.type==="REMOVAL"&&Rv(t,T,S.value)&&s.remove(S.value)};return{updateDroppableIsEnabled:u,updateDroppableIsCombineEnabled:d,scrollDroppable:p,updateDroppableScroll:f,startPublishing:S=>{a&&At();const T=t.draggable.getById(S.draggableId),N=t.droppable.getById(T.descriptor.droppableId),j={draggable:T.descriptor,droppable:N.descriptor},A=t.subscribe(y);return a={critical:j,unsubscribe:A},HN({critical:j,registry:t,scrollOptions:S.scrollOptions})},stopPublishing:b}},P1=(t,r)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===r?!1:t.completed.result.reason==="DROP",IN=t=>{window.scrollBy(t.x,t.y)};const UN=fn(t=>If(t).filter(r=>!(!r.isEnabled||!r.frame))),GN=(t,r)=>UN(r).find(s=>(s.frame||At(),x1(s.frame.pageMarginBox)(t)))||null;var ZN=({center:t,destination:r,droppables:a})=>{if(r){const u=a[r];return u.frame?u:null}return GN(t,a)};const Cc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var YN=(t,r,a=()=>Cc)=>{const s=a(),u=t[r.size]*s.startFromPercentage,d=t[r.size]*s.maxScrollAtPercentage;return{startScrollingFrom:u,maxScrollValueAt:d}},z1=({startOfRange:t,endOfRange:r,current:a})=>{const s=r-t;return s===0?0:(a-t)/s},Op=1,qN=(t,r,a=()=>Cc)=>{const s=a();if(t>r.startScrollingFrom)return 0;if(t<=r.maxScrollValueAt)return s.maxPixelScroll;if(t===r.startScrollingFrom)return Op;const d=1-z1({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:t}),f=s.maxPixelScroll*s.ease(d);return Math.ceil(f)},VN=(t,r,a)=>{const s=a(),u=s.durationDampening.accelerateAt,d=s.durationDampening.stopDampeningAt,f=r,p=d,y=Date.now()-f;if(y>=d)return t;if(y<u)return Op;const _=z1({startOfRange:u,endOfRange:p,current:y}),w=t*s.ease(_);return Math.ceil(w)},Pv=({distanceToEdge:t,thresholds:r,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:u})=>{const d=qN(t,r,u);return d===0?0:s?Math.max(VN(d,a,u),Op):d},zv=({container:t,distanceToEdges:r,dragStartTime:a,axis:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f=YN(t,s,d);return r[s.end]<r[s.start]?Pv({distanceToEdge:r[s.end],thresholds:f,dragStartTime:a,shouldUseTimeDampening:u,getAutoScrollerOptions:d}):-1*Pv({distanceToEdge:r[s.start],thresholds:f,dragStartTime:a,shouldUseTimeDampening:u,getAutoScrollerOptions:d})},FN=({container:t,subject:r,proposedScroll:a})=>{const s=r.height>t.height,u=r.width>t.width;return!u&&!s?a:u&&s?null:{x:u?0:a.x,y:s?0:a.y}};const KN=l1(t=>t===0?0:t);var H1=({dragStartTime:t,container:r,subject:a,center:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},p=zv({container:r,distanceToEdges:f,dragStartTime:t,axis:Tp,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),b=zv({container:r,distanceToEdges:f,dragStartTime:t,axis:h1,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),y=KN({x:b,y:p});if(Fa(y,hn))return null;const _=FN({container:r,subject:a,proposedScroll:y});return _?Fa(_,hn)?null:_:null};const XN=l1(t=>t===0?0:t>0?1:-1),Cp=(()=>{const t=(r,a)=>r<0?r:r>a?r-a:0;return({current:r,max:a,change:s})=>{const u=Sn(r,s),d={x:t(u.x,a.x),y:t(u.y,a.y)};return Fa(d,hn)?null:d}})(),$1=({max:t,current:r,change:a})=>{const s={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},u=XN(a),d=Cp({max:s,current:r,change:u});return!d||u.x!==0&&d.x===0||u.y!==0&&d.y===0},Lp=(t,r)=>$1({current:t.scroll.current,max:t.scroll.max,change:r}),WN=(t,r)=>{if(!Lp(t,r))return null;const a=t.scroll.max,s=t.scroll.current;return Cp({current:s,max:a,change:r})},Bp=(t,r)=>{const a=t.frame;return a?$1({current:a.scroll.current,max:a.scroll.max,change:r}):!1},QN=(t,r)=>{const a=t.frame;return!a||!Bp(t,r)?null:Cp({current:a.scroll.current,max:a.scroll.max,change:r})};var JN=({viewport:t,subject:r,center:a,dragStartTime:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f=H1({dragStartTime:s,container:t.frame,subject:r,center:a,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return f&&Lp(t,f)?f:null},tA=({droppable:t,subject:r,center:a,dragStartTime:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f=t.frame;if(!f)return null;const p=H1({dragStartTime:s,container:f.pageMarginBox,subject:r,center:a,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return p&&Bp(t,p)?p:null},Hv=({state:t,dragStartTime:r,shouldUseTimeDampening:a,scrollWindow:s,scrollDroppable:u,getAutoScrollerOptions:d})=>{const f=t.current.page.borderBoxCenter,b=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const w=t.viewport,S=JN({dragStartTime:r,viewport:w,subject:b,center:f,shouldUseTimeDampening:a,getAutoScrollerOptions:d});if(S){s(S);return}}const y=ZN({center:f,destination:mr(t.impact),droppables:t.dimensions.droppables});if(!y)return;const _=tA({dragStartTime:r,droppable:y,subject:b,center:f,shouldUseTimeDampening:a,getAutoScrollerOptions:d});_&&u(y.descriptor.id,_)},eA=({scrollWindow:t,scrollDroppable:r,getAutoScrollerOptions:a=()=>Cc})=>{const s=Ac(t),u=Ac(r);let d=null;const f=y=>{d||At();const{shouldUseTimeDampening:_,dragStartTime:w}=d;Hv({state:y,scrollWindow:s,scrollDroppable:u,dragStartTime:w,shouldUseTimeDampening:_,getAutoScrollerOptions:a})};return{start:y=>{d&&At();const _=Date.now();let w=!1;const S=()=>{w=!0};Hv({state:y,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:S,scrollDroppable:S,getAutoScrollerOptions:a}),d={dragStartTime:_,shouldUseTimeDampening:w},w&&f(y)},stop:()=>{d&&(s.cancel(),u.cancel(),d=null)},scroll:f}},nA=({move:t,scrollDroppable:r,scrollWindow:a})=>{const s=(p,b)=>{const y=Sn(p.current.client.selection,b);t({client:y})},u=(p,b)=>{if(!Bp(p,b))return b;const y=QN(p,b);if(!y)return r(p.descriptor.id,b),null;const _=hr(b,y);return r(p.descriptor.id,_),hr(b,_)},d=(p,b,y)=>{if(!p||!Lp(b,y))return y;const _=WN(b,y);if(!_)return a(y),null;const w=hr(y,_);return a(w),hr(y,w)};return p=>{const b=p.scrollJumpRequest;if(!b)return;const y=mr(p.impact);y||At();const _=u(p.dimensions.droppables[y],b);if(!_)return;const w=p.viewport,S=d(p.isWindowScrollAllowed,w,_);S&&s(p,S)}},rA=({scrollDroppable:t,scrollWindow:r,move:a,getAutoScrollerOptions:s})=>{const u=eA({scrollWindow:r,scrollDroppable:t,getAutoScrollerOptions:s}),d=nA({move:a,scrollWindow:r,scrollDroppable:t});return{scroll:b=>{if(!(s().disabled||b.phase!=="DRAGGING")){if(b.movementMode==="FLUID"){u.scroll(b);return}b.scrollJumpRequest&&d(b)}},start:u.start,stop:u.stop}};const Ys="data-rfd",qs=(()=>{const t=`${Ys}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),ip=(()=>{const t=`${Ys}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),iA=(()=>{const t=`${Ys}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),$v={contextId:`${Ys}-scroll-container-context-id`},aA=t=>r=>`[${r}="${t}"]`,uc=(t,r)=>t.map(a=>{const s=a.styles[r];return s?`${a.selector} { ${s} }`:""}).join(" "),oA="pointer-events: none;";var sA=t=>{const r=aA(t),a=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(qs.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:oA,dropAnimating:p}}})(),s=(()=>{const p=`
      transition: ${Ec.outOfTheWay};
    `;return{selector:r(ip.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),u={selector:r(iA.contextId),styles:{always:"overflow-anchor: none;"}},f=[s,a,u,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:uc(f,"always"),resting:uc(f,"resting"),dragging:uc(f,"dragging"),dropAnimating:uc(f,"dropAnimating"),userCancel:uc(f,"userCancel")}};const pr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?O.useLayoutEffect:O.useEffect,u0=()=>{const t=document.querySelector("head");return t||At(),t},Iv=t=>{const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function lA(t,r){const a=ce(()=>sA(t),[t]),s=O.useRef(null),u=O.useRef(null),d=Ht(fn(w=>{const S=u.current;S||At(),S.textContent=w}),[]),f=Ht(w=>{const S=s.current;S||At(),S.textContent=w},[]);pr(()=>{!s.current&&!u.current||At();const w=Iv(r),S=Iv(r);return s.current=w,u.current=S,w.setAttribute(`${Ys}-always`,t),S.setAttribute(`${Ys}-dynamic`,t),u0().appendChild(w),u0().appendChild(S),f(a.always),d(a.resting),()=>{const T=N=>{const j=N.current;j||At(),u0().removeChild(j),N.current=null};T(s),T(u)}},[r,f,d,a.always,a.resting,t]);const p=Ht(()=>d(a.dragging),[d,a.dragging]),b=Ht(w=>{if(w==="DROP"){d(a.dropAnimating);return}d(a.userCancel)},[d,a.dropAnimating,a.userCancel]),y=Ht(()=>{u.current&&d(a.resting)},[d,a.resting]);return ce(()=>({dragging:p,dropping:b,resting:y}),[p,b,y])}function I1(t,r){return Array.from(t.querySelectorAll(r))}var U1=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Yf(t){return t instanceof U1(t).HTMLElement}function cA(t,r){const a=`[${qs.contextId}="${t}"]`,s=I1(document,a);if(!s.length)return null;const u=s.find(d=>d.getAttribute(qs.draggableId)===r);return!u||!Yf(u)?null:u}function uA(t){const r=O.useRef({}),a=O.useRef(null),s=O.useRef(null),u=O.useRef(!1),d=Ht(function(S,T){const N={id:S,focus:T};return r.current[S]=N,function(){const A=r.current;A[S]!==N&&delete A[S]}},[]),f=Ht(function(S){const T=cA(t,S);T&&T!==document.activeElement&&T.focus()},[t]),p=Ht(function(S,T){a.current===S&&(a.current=T)},[]),b=Ht(function(){s.current||u.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const S=a.current;S&&f(S)}))},[f]),y=Ht(function(S){a.current=null;const T=document.activeElement;T&&T.getAttribute(qs.draggableId)===S&&(a.current=S)},[]);return pr(()=>(u.current=!0,function(){u.current=!1;const S=s.current;S&&cancelAnimationFrame(S)}),[]),ce(()=>({register:d,tryRecordFocus:y,tryRestoreFocusRecorded:b,tryShiftRecord:p}),[d,y,b,p])}function dA(){const t={draggables:{},droppables:{}},r=[];function a(w){return r.push(w),function(){const T=r.indexOf(w);T!==-1&&r.splice(T,1)}}function s(w){r.length&&r.forEach(S=>S(w))}function u(w){return t.draggables[w]||null}function d(w){const S=u(w);return S||At(),S}const f={register:w=>{t.draggables[w.descriptor.id]=w,s({type:"ADDITION",value:w})},update:(w,S)=>{const T=t.draggables[S.descriptor.id];T&&T.uniqueId===w.uniqueId&&(delete t.draggables[S.descriptor.id],t.draggables[w.descriptor.id]=w)},unregister:w=>{const S=w.descriptor.id,T=u(S);T&&w.uniqueId===T.uniqueId&&(delete t.draggables[S],t.droppables[w.descriptor.droppableId]&&s({type:"REMOVAL",value:w}))},getById:d,findById:u,exists:w=>!!u(w),getAllByType:w=>Object.values(t.draggables).filter(S=>S.descriptor.type===w)};function p(w){return t.droppables[w]||null}function b(w){const S=p(w);return S||At(),S}const y={register:w=>{t.droppables[w.descriptor.id]=w},unregister:w=>{const S=p(w.descriptor.id);S&&w.uniqueId===S.uniqueId&&delete t.droppables[w.descriptor.id]},getById:b,findById:p,exists:w=>!!p(w),getAllByType:w=>Object.values(t.droppables).filter(S=>S.descriptor.type===w)};function _(){t.draggables={},t.droppables={},r.length=0}return{draggable:f,droppable:y,subscribe:a,clean:_}}function fA(){const t=ce(dA,[]);return O.useEffect(()=>function(){t.clean()},[t]),t}var Rp=Ce.createContext(null),mf=()=>{const t=document.body;return t||At(),t};const hA={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},mA=t=>`rfd-announcement-${t}`;function pA(t){const r=ce(()=>mA(t),[t]),a=O.useRef(null);return O.useEffect(function(){const d=document.createElement("div");return a.current=d,d.id=r,d.setAttribute("aria-live","assertive"),d.setAttribute("aria-atomic","true"),uf(d.style,hA),mf().appendChild(d),function(){setTimeout(function(){const b=mf();b.contains(d)&&b.removeChild(d),d===a.current&&(a.current=null)})}},[r]),Ht(u=>{const d=a.current;if(d){d.textContent=u;return}},[])}const gA={separator:"::"};function Pp(t,r=gA){const a=Ce.useId();return ce(()=>`${t}${r.separator}${a}`,[r.separator,t,a])}function bA({contextId:t,uniqueId:r}){return`rfd-hidden-text-${t}-${r}`}function yA({contextId:t,text:r}){const a=Pp("hidden-text",{separator:"-"}),s=ce(()=>bA({contextId:t,uniqueId:a}),[a,t]);return O.useEffect(function(){const d=document.createElement("div");return d.id=s,d.textContent=r,d.style.display="none",mf().appendChild(d),function(){const p=mf();p.contains(d)&&p.removeChild(d)}},[s,r]),s}var qf=Ce.createContext(null);function G1(t){const r=O.useRef(t);return O.useEffect(()=>{r.current=t}),r}function vA(){let t=null;function r(){return!!t}function a(f){return f===t}function s(f){t&&At();const p={abandon:f};return t=p,p}function u(){t||At(),t=null}function d(){t&&(t.abandon(),u())}return{isClaimed:r,isActive:a,claim:s,release:u,tryAbandon:d}}function Lc(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const xA=9,_A=13,zp=27,Z1=32,SA=33,wA=34,TA=35,EA=36,MA=37,NA=38,AA=39,DA=40,jA={[_A]:!0,[xA]:!0};var Y1=t=>{jA[t.keyCode]&&t.preventDefault()};const Vf=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(s=>`on${s}`in document)||t})(),q1=0,Uv=5;function kA(t,r){return Math.abs(r.x-t.x)>=Uv||Math.abs(r.y-t.y)>=Uv}const Gv={type:"IDLE"};function OA({cancel:t,completed:r,getPhase:a,setPhase:s}){return[{eventName:"mousemove",fn:u=>{const{button:d,clientX:f,clientY:p}=u;if(d!==q1)return;const b={x:f,y:p},y=a();if(y.type==="DRAGGING"){u.preventDefault(),y.actions.move(b);return}y.type!=="PENDING"&&At();const _=y.point;if(!kA(_,b))return;u.preventDefault();const w=y.actions.fluidLift(b);s({type:"DRAGGING",actions:w})}},{eventName:"mouseup",fn:u=>{const d=a();if(d.type!=="DRAGGING"){t();return}u.preventDefault(),d.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:u=>{a().type==="DRAGGING"&&u.preventDefault(),t()}},{eventName:"keydown",fn:u=>{if(a().type==="PENDING"){t();return}if(u.keyCode===zp){u.preventDefault(),t();return}Y1(u)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{a().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:u=>{const d=a();if(d.type==="IDLE"&&At(),d.actions.shouldRespectForcePress()){t();return}u.preventDefault()}},{eventName:Vf,fn:t}]}function CA(t){const r=O.useRef(Gv),a=O.useRef(Va),s=ce(()=>({eventName:"mousedown",fn:function(w){if(w.defaultPrevented||w.button!==q1||w.ctrlKey||w.metaKey||w.shiftKey||w.altKey)return;const S=t.findClosestDraggableId(w);if(!S)return;const T=t.tryGetLock(S,f,{sourceEvent:w});if(!T)return;w.preventDefault();const N={x:w.clientX,y:w.clientY};a.current(),y(T,N)}}),[t]),u=ce(()=>({eventName:"webkitmouseforcewillbegin",fn:_=>{if(_.defaultPrevented)return;const w=t.findClosestDraggableId(_);if(!w)return;const S=t.findOptionsForDraggable(w);S&&(S.shouldRespectForcePress||t.canGetLock(w)&&_.preventDefault())}}),[t]),d=Ht(function(){const w={passive:!1,capture:!0};a.current=Cr(window,[u,s],w)},[u,s]),f=Ht(()=>{r.current.type!=="IDLE"&&(r.current=Gv,a.current(),d())},[d]),p=Ht(()=>{const _=r.current;f(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[f]),b=Ht(function(){const w={capture:!0,passive:!1},S=OA({cancel:p,completed:f,getPhase:()=>r.current,setPhase:T=>{r.current=T}});a.current=Cr(window,S,w)},[p,f]),y=Ht(function(w,S){r.current.type!=="IDLE"&&At(),r.current={type:"PENDING",point:S,actions:w},b()},[b]);pr(function(){return d(),function(){a.current()}},[d])}function LA(){}const BA={[wA]:!0,[SA]:!0,[EA]:!0,[TA]:!0};function RA(t,r){function a(){r(),t.cancel()}function s(){r(),t.drop()}return[{eventName:"keydown",fn:u=>{if(u.keyCode===zp){u.preventDefault(),a();return}if(u.keyCode===Z1){u.preventDefault(),s();return}if(u.keyCode===DA){u.preventDefault(),t.moveDown();return}if(u.keyCode===NA){u.preventDefault(),t.moveUp();return}if(u.keyCode===AA){u.preventDefault(),t.moveRight();return}if(u.keyCode===MA){u.preventDefault(),t.moveLeft();return}if(BA[u.keyCode]){u.preventDefault();return}Y1(u)}},{eventName:"mousedown",fn:a},{eventName:"mouseup",fn:a},{eventName:"click",fn:a},{eventName:"touchstart",fn:a},{eventName:"resize",fn:a},{eventName:"wheel",fn:a,options:{passive:!0}},{eventName:Vf,fn:a}]}function PA(t){const r=O.useRef(LA),a=ce(()=>({eventName:"keydown",fn:function(d){if(d.defaultPrevented||d.keyCode!==Z1)return;const f=t.findClosestDraggableId(d);if(!f)return;const p=t.tryGetLock(f,_,{sourceEvent:d});if(!p)return;d.preventDefault();let b=!0;const y=p.snapLift();r.current();function _(){b||At(),b=!1,r.current(),s()}r.current=Cr(window,RA(y,_),{capture:!0,passive:!1})}}),[t]),s=Ht(function(){const d={passive:!1,capture:!0};r.current=Cr(window,[a],d)},[a]);pr(function(){return s(),function(){r.current()}},[s])}const d0={type:"IDLE"},zA=120,HA=.15;function $A({cancel:t,getPhase:r}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:a=>{a.preventDefault()}},{eventName:"keydown",fn:a=>{if(r().type!=="DRAGGING"){t();return}a.keyCode===zp&&a.preventDefault(),t()}},{eventName:Vf,fn:t}]}function IA({cancel:t,completed:r,getPhase:a}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const u=a();if(u.type!=="DRAGGING"){t();return}u.hasMoved=!0;const{clientX:d,clientY:f}=s.touches[0],p={x:d,y:f};s.preventDefault(),u.actions.move(p)}},{eventName:"touchend",fn:s=>{const u=a();if(u.type!=="DRAGGING"){t();return}s.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:s=>{if(a().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:s=>{const u=a();u.type==="IDLE"&&At();const d=s.touches[0];if(!d||!(d.force>=HA))return;const p=u.actions.shouldRespectForcePress();if(u.type==="PENDING"){p&&t();return}if(p){if(u.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}},{eventName:Vf,fn:t}]}function UA(t){const r=O.useRef(d0),a=O.useRef(Va),s=Ht(function(){return r.current},[]),u=Ht(function(T){r.current=T},[]),d=ce(()=>({eventName:"touchstart",fn:function(T){if(T.defaultPrevented)return;const N=t.findClosestDraggableId(T);if(!N)return;const j=t.tryGetLock(N,p,{sourceEvent:T});if(!j)return;const A=T.touches[0],{clientX:$,clientY:I}=A,D={x:$,y:I};a.current(),w(j,D)}}),[t]),f=Ht(function(){const T={capture:!0,passive:!1};a.current=Cr(window,[d],T)},[d]),p=Ht(()=>{const S=r.current;S.type!=="IDLE"&&(S.type==="PENDING"&&clearTimeout(S.longPressTimerId),u(d0),a.current(),f())},[f,u]),b=Ht(()=>{const S=r.current;p(),S.type==="DRAGGING"&&S.actions.cancel({shouldBlockNextClick:!0}),S.type==="PENDING"&&S.actions.abort()},[p]),y=Ht(function(){const T={capture:!0,passive:!1},N={cancel:b,completed:p,getPhase:s},j=Cr(window,IA(N),T),A=Cr(window,$A(N),T);a.current=function(){j(),A()}},[b,s,p]),_=Ht(function(){const T=s();T.type!=="PENDING"&&At();const N=T.actions.fluidLift(T.point);u({type:"DRAGGING",actions:N,hasMoved:!1})},[s,u]),w=Ht(function(T,N){s().type!=="IDLE"&&At();const j=setTimeout(_,zA);u({type:"PENDING",point:N,actions:T,longPressTimerId:j}),y()},[y,s,u,_]);pr(function(){return f(),function(){a.current();const N=s();N.type==="PENDING"&&(clearTimeout(N.longPressTimerId),u(d0))}},[s,f,u]),pr(function(){return Cr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const GA=["input","button","textarea","select","option","optgroup","video","audio"];function V1(t,r){if(r==null)return!1;if(GA.includes(r.tagName.toLowerCase()))return!0;const s=r.getAttribute("contenteditable");return s==="true"||s===""?!0:r===t?!1:V1(t,r.parentElement)}function ZA(t,r){const a=r.target;return Yf(a)?V1(t,a):!1}var YA=t=>Qr(t.getBoundingClientRect()).center;function qA(t){return t instanceof U1(t).Element}const VA=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||t})();function F1(t,r){return t==null?null:t[VA](r)?t:F1(t.parentElement,r)}function FA(t,r){return t.closest?t.closest(r):F1(t,r)}function KA(t){return`[${qs.contextId}="${t}"]`}function XA(t,r){const a=r.target;if(!qA(a))return null;const s=KA(t),u=FA(a,s);return!u||!Yf(u)?null:u}function WA(t,r){const a=XA(t,r);return a?a.getAttribute(qs.draggableId):null}function QA(t,r){const a=`[${ip.contextId}="${t}"]`,u=I1(document,a).find(d=>d.getAttribute(ip.id)===r);return!u||!Yf(u)?null:u}function JA(t){t.preventDefault()}function Td({expected:t,phase:r,isLockActive:a,shouldWarn:s}){return!(!a()||t!==r)}function K1({lockAPI:t,store:r,registry:a,draggableId:s}){if(t.isClaimed())return!1;const u=a.draggable.findById(s);return!(!u||!u.options.isEnabled||!P1(r.getState(),s))}function tD({lockAPI:t,contextId:r,store:a,registry:s,draggableId:u,forceSensorStop:d,sourceEvent:f}){if(!K1({lockAPI:t,store:a,registry:s,draggableId:u}))return null;const b=s.draggable.getById(u),y=QA(r,b.descriptor.id);if(!y||f&&!b.options.canDragInteractiveElements&&ZA(y,f))return null;const _=t.claim(d||Va);let w="PRE_DRAG";function S(){return b.options.shouldRespectForcePress}function T(){return t.isActive(_)}function N(k,G){Td({expected:k,phase:w,isLockActive:T,shouldWarn:!0})&&a.dispatch(G())}const j=N.bind(null,"DRAGGING");function A(k){function G(){t.release(),w="COMPLETED"}w!=="PRE_DRAG"&&(G(),At()),a.dispatch(FM(k.liftActionArgs)),w="DRAGGING";function W(ot,nt={shouldBlockNextClick:!1}){if(k.cleanup(),nt.shouldBlockNextClick){const et=Cr(window,[{eventName:"click",fn:JA,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(et)}G(),a.dispatch(D1({reason:ot}))}return{isActive:()=>Td({expected:"DRAGGING",phase:w,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:S,drop:ot=>W("DROP",ot),cancel:ot=>W("CANCEL",ot),...k.actions}}function $(k){const G=Ac(ot=>{j(()=>A1({client:ot}))});return{...A({liftActionArgs:{id:u,clientSelection:k,movementMode:"FLUID"},cleanup:()=>G.cancel(),actions:{move:G}}),move:G}}function I(){const k={moveUp:()=>j(rN),moveRight:()=>j(aN),moveDown:()=>j(iN),moveLeft:()=>j(oN)};return A({liftActionArgs:{id:u,clientSelection:YA(y),movementMode:"SNAP"},cleanup:Va,actions:k})}function D(){Td({expected:"PRE_DRAG",phase:w,isLockActive:T,shouldWarn:!0})&&t.release()}return{isActive:()=>Td({expected:"PRE_DRAG",phase:w,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:S,fluidLift:$,snapLift:I,abort:D}}const eD=[CA,PA,UA];function nD({contextId:t,store:r,registry:a,customSensors:s,enableDefaultSensors:u}){const d=[...u?eD:[],...s||[]],f=O.useState(()=>vA())[0],p=Ht(function(A,$){Lc(A)&&!Lc($)&&f.tryAbandon()},[f]);pr(function(){let A=r.getState();return r.subscribe(()=>{const I=r.getState();p(A,I),A=I})},[f,r,p]),pr(()=>f.tryAbandon,[f.tryAbandon]);const b=Ht(j=>K1({lockAPI:f,registry:a,store:r,draggableId:j}),[f,a,r]),y=Ht((j,A,$)=>tD({lockAPI:f,registry:a,contextId:t,store:r,draggableId:j,forceSensorStop:A||null,sourceEvent:$&&$.sourceEvent?$.sourceEvent:null}),[t,f,a,r]),_=Ht(j=>WA(t,j),[t]),w=Ht(j=>{const A=a.draggable.findById(j);return A?A.options:null},[a.draggable]),S=Ht(function(){f.isClaimed()&&(f.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Dp()))},[f,r]),T=Ht(()=>f.isClaimed(),[f]),N=ce(()=>({canGetLock:b,tryGetLock:y,findClosestDraggableId:_,findOptionsForDraggable:w,tryReleaseLock:S,isLockClaimed:T}),[b,y,_,w,S,T]);for(let j=0;j<d.length;j++)d[j](N)}const rD=t=>({onBeforeCapture:r=>{const a=()=>{t.onBeforeCapture&&t.onBeforeCapture(r)};Ic.flushSync(a)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),iD=t=>({...Cc,...t.autoScrollerOptions,durationDampening:{...Cc.durationDampening,...t.autoScrollerOptions}});function dc(t){return t.current||At(),t.current}function aD(t){const{contextId:r,setCallbacks:a,sensors:s,nonce:u,dragHandleUsageInstructions:d}=t,f=O.useRef(null),p=G1(t),b=Ht(()=>rD(p.current),[p]),y=Ht(()=>iD(p.current),[p]),_=pA(r),w=yA({contextId:r,text:d}),S=lA(r,u),T=Ht(et=>{dc(f).dispatch(et)},[]),N=ce(()=>pv({publishWhileDragging:XM,updateDroppableScroll:QM,updateDroppableIsEnabled:JM,updateDroppableIsCombineEnabled:tN,collectionStarting:WM},T),[T]),j=fA(),A=ce(()=>$N(j,N),[j,N]),$=ce(()=>rA({scrollWindow:IN,scrollDroppable:A.scrollDroppable,getAutoScrollerOptions:y,...pv({move:A1},T)}),[A.scrollDroppable,T,y]),I=uA(r),D=ce(()=>RN({announce:_,autoScroller:$,dimensionMarshal:A,focusMarshal:I,getResponders:b,styleMarshal:S}),[_,$,A,I,b,S]);f.current=D;const C=Ht(()=>{const et=dc(f);et.getState().phase!=="IDLE"&&et.dispatch(Dp())},[]),k=Ht(()=>{const et=dc(f).getState();return et.phase==="DROP_ANIMATING"?!0:et.phase==="IDLE"?!1:et.isDragging},[]),G=ce(()=>({isDragging:k,tryAbort:C}),[k,C]);a(G);const W=Ht(et=>P1(dc(f).getState(),et),[]),ot=Ht(()=>Ro(dc(f).getState()),[]),nt=ce(()=>({marshal:A,focus:I,contextId:r,canLift:W,isMovementAllowed:ot,dragHandleUsageInstructionsId:w,registry:j}),[r,A,w,I,W,ot,j]);return nD({contextId:r,store:D,registry:j,customSensors:s||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),O.useEffect(()=>C,[C]),Ce.createElement(qf.Provider,{value:nt},Ce.createElement(j3,{context:Rp,store:D},t.children))}function oD(){return Ce.useId()}function Zc(t){const r=oD(),a=t.dragHandleUsageInstructions||rf.dragHandleUsageInstructions;return Ce.createElement(P3,null,s=>Ce.createElement(aD,{nonce:t.nonce,contextId:r,setCallbacks:s,dragHandleUsageInstructions:a,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const Zv={dragging:5e3,dropAnimating:4500},sD=(t,r)=>r?Ec.drop(r.duration):t?Ec.snap:Ec.fluid,lD=(t,r)=>{if(t)return r?Oc.opacity.drop:Oc.opacity.combining},cD=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function uD(t){const a=t.dimension.client,{offset:s,combineWith:u,dropping:d}=t,f=!!u,p=cD(t),b=!!d,y=b?np.drop(s,f):np.moveTo(s);return{position:"fixed",top:a.marginBox.top,left:a.marginBox.left,boxSizing:"border-box",width:a.borderBox.width,height:a.borderBox.height,transition:sD(p,d),transform:y,opacity:lD(f,b),zIndex:b?Zv.dropAnimating:Zv.dragging,pointerEvents:"none"}}function dD(t){return{transform:np.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function fD(t){return t.type==="DRAGGING"?uD(t):dD(t)}function hD(t,r,a=hn){const s=window.getComputedStyle(r),u=r.getBoundingClientRect(),d=n1(u,s),f=cf(d,a),p={client:d,tagName:r.tagName.toLowerCase(),display:s.display},b={x:d.marginBox.width,y:d.marginBox.height};return{descriptor:t,placeholder:p,displaceBy:b,client:d,page:f}}function mD(t){const r=Pp("draggable"),{descriptor:a,registry:s,getDraggableRef:u,canDragInteractiveElements:d,shouldRespectForcePress:f,isEnabled:p}=t,b=ce(()=>({canDragInteractiveElements:d,shouldRespectForcePress:f,isEnabled:p}),[d,p,f]),y=Ht(T=>{const N=u();return N||At(),hD(a,N,T)},[a,u]),_=ce(()=>({uniqueId:r,descriptor:a,options:b,getDimension:y}),[a,y,b,r]),w=O.useRef(_),S=O.useRef(!0);pr(()=>(s.draggable.register(w.current),()=>s.draggable.unregister(w.current)),[s.draggable]),pr(()=>{if(S.current){S.current=!1;return}const T=w.current;w.current=_,s.draggable.update(_,T)},[_,s.draggable])}var Hp=Ce.createContext(null);function pf(t){const r=O.useContext(t);return r||At(),r}function pD(t){t.preventDefault()}const gD=t=>{const r=O.useRef(null),a=Ht((G=null)=>{r.current=G},[]),s=Ht(()=>r.current,[]),{contextId:u,dragHandleUsageInstructionsId:d,registry:f}=pf(qf),{type:p,droppableId:b}=pf(Hp),y=ce(()=>({id:t.draggableId,index:t.index,type:p,droppableId:b}),[t.draggableId,t.index,p,b]),{children:_,draggableId:w,isEnabled:S,shouldRespectForcePress:T,canDragInteractiveElements:N,isClone:j,mapped:A,dropAnimationFinished:$}=t;if(!j){const G=ce(()=>({descriptor:y,registry:f,getDraggableRef:s,canDragInteractiveElements:N,shouldRespectForcePress:T,isEnabled:S}),[y,f,s,N,T,S]);mD(G)}const I=ce(()=>S?{tabIndex:0,role:"button","aria-describedby":d,"data-rfd-drag-handle-draggable-id":w,"data-rfd-drag-handle-context-id":u,draggable:!1,onDragStart:pD}:null,[u,d,w,S]),D=Ht(G=>{A.type==="DRAGGING"&&A.dropping&&G.propertyName==="transform"&&Ic.flushSync($)},[$,A]),C=ce(()=>{const G=fD(A),W=A.type==="DRAGGING"&&A.dropping?D:void 0;return{innerRef:a,draggableProps:{"data-rfd-draggable-context-id":u,"data-rfd-draggable-id":w,style:G,onTransitionEnd:W},dragHandleProps:I}},[u,I,w,A,D,a]),k=ce(()=>({draggableId:y.id,type:y.type,source:{index:y.index,droppableId:y.droppableId}}),[y.droppableId,y.id,y.index,y.type]);return Ce.createElement(Ce.Fragment,null,_(C,A.snapshot,k))};var X1=(t,r)=>t===r,W1=t=>{const{combine:r,destination:a}=t;return a?a.droppableId:r?r.droppableId:null};const bD=t=>t.combine?t.combine.draggableId:null,yD=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function vD(){const t=fn((u,d)=>({x:u,y:d})),r=fn((u,d,f=null,p=null,b=null)=>({isDragging:!0,isClone:d,isDropAnimating:!!b,dropAnimation:b,mode:u,draggingOver:f,combineWith:p,combineTargetFor:null})),a=fn((u,d,f,p,b=null,y=null,_=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:b,combineWith:y,mode:d,offset:u,dimension:f,forceShouldAnimate:_,snapshot:r(d,p,b,y,null)}}));return(u,d)=>{if(Lc(u)){if(u.critical.draggable.id!==d.draggableId)return null;const f=u.current.client.offset,p=u.dimensions.draggables[d.draggableId],b=mr(u.impact),y=yD(u.impact),_=u.forceShouldAnimate;return a(t(f.x,f.y),u.movementMode,p,d.isClone,b,y,_)}if(u.phase==="DROP_ANIMATING"){const f=u.completed;if(f.result.draggableId!==d.draggableId)return null;const p=d.isClone,b=u.dimensions.draggables[d.draggableId],y=f.result,_=y.mode,w=W1(y),S=bD(y),N={duration:u.dropDuration,curve:kp.drop,moveTo:u.newHomeClientOffset,opacity:S?Oc.opacity.drop:null,scale:S?Oc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:u.newHomeClientOffset,dimension:b,dropping:N,draggingOver:w,combineWith:S,mode:_,forceShouldAnimate:null,snapshot:r(_,p,w,S,N)}}}return null}}function Q1(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const xD={mapped:{type:"SECONDARY",offset:hn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Q1(null)}};function _D(){const t=fn((f,p)=>({x:f,y:p})),r=fn(Q1),a=fn((f,p=null,b)=>({mapped:{type:"SECONDARY",offset:f,combineTargetFor:p,shouldAnimateDisplacement:b,snapshot:r(p)}})),s=f=>f?a(hn,f,!0):null,u=(f,p,b,y)=>{const _=b.displaced.visible[f],w=!!(y.inVirtualList&&y.effected[f]),S=Uf(b),T=S&&S.draggableId===f?p:null;if(!_){if(!w)return s(T);if(b.displaced.invisible[f])return null;const A=Qs(y.displacedBy.point),$=t(A.x,A.y);return a($,T,!0)}if(w)return s(T);const N=b.displacedBy.point,j=t(N.x,N.y);return a(j,T,_.shouldAnimate)};return(f,p)=>{if(Lc(f))return f.critical.draggable.id===p.draggableId?null:u(p.draggableId,f.critical.draggable.id,f.impact,f.afterCritical);if(f.phase==="DROP_ANIMATING"){const b=f.completed;return b.result.draggableId===p.draggableId?null:u(p.draggableId,b.result.draggableId,b.impact,b.afterCritical)}return null}}const SD=()=>{const t=vD(),r=_D();return(s,u)=>t(s,u)||r(s,u)||xD},wD={dropAnimationFinished:j1},TD=e1(SD,wD,null,{context:Rp,areStatePropsEqual:X1})(gD);function J1(t){return pf(Hp).isUsingCloneFor===t.draggableId&&!t.isClone?null:Ce.createElement(TD,t)}function Vs(t){const r=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,a=!!t.disableInteractiveElementBlocking,s=!!t.shouldRespectForcePress;return Ce.createElement(J1,uf({},t,{isClone:!1,isEnabled:r,canDragInteractiveElements:a,shouldRespectForcePress:s}))}const t2=t=>r=>t===r,ED=t2("scroll"),MD=t2("auto"),Yv=(t,r)=>r(t.overflowX)||r(t.overflowY),ND=t=>{const r=window.getComputedStyle(t),a={overflowX:r.overflowX,overflowY:r.overflowY};return Yv(a,ED)||Yv(a,MD)},AD=()=>!1,e2=t=>t==null?null:t===document.body?AD()?t:null:t===document.documentElement?null:ND(t)?t:e2(t.parentElement);var ap=t=>({x:t.scrollLeft,y:t.scrollTop});const n2=t=>t?window.getComputedStyle(t).position==="fixed"?!0:n2(t.parentElement):!1;var DD=t=>{const r=e2(t),a=n2(t);return{closestScrollable:r,isFixedOnPage:a}},jD=({descriptor:t,isEnabled:r,isCombineEnabled:a,isFixedOnPage:s,direction:u,client:d,page:f,closest:p})=>{const b=(()=>{if(!p)return null;const{scrollSize:S,client:T}=p,N=L1({scrollHeight:S.scrollHeight,scrollWidth:S.scrollWidth,height:T.paddingBox.height,width:T.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:T,scrollSize:S,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:N,diff:{value:hn,displacement:hn}}}})(),y=u==="vertical"?Tp:h1,_=Zs({page:f,withPlaceholder:null,axis:y,frame:b});return{descriptor:t,isCombineEnabled:a,isFixedOnPage:s,axis:y,isEnabled:r,client:d,page:f,frame:b,subject:_}};const kD=(t,r)=>{const a=r1(t);if(!r||t!==r)return a;const s=a.paddingBox.top-r.scrollTop,u=a.paddingBox.left-r.scrollLeft,d=s+r.scrollHeight,f=u+r.scrollWidth,b=xp({top:s,right:f,bottom:d,left:u},a.border);return _p({borderBox:b,margin:a.margin,border:a.border,padding:a.padding})};var OD=({ref:t,descriptor:r,env:a,windowScroll:s,direction:u,isDropDisabled:d,isCombineEnabled:f,shouldClipSubject:p})=>{const b=a.closestScrollable,y=kD(t,b),_=cf(y,s),w=(()=>{if(!b)return null;const T=r1(b),N={scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth};return{client:T,page:cf(T,s),scroll:ap(b),scrollSize:N,shouldClipSubject:p}})();return jD({descriptor:r,isEnabled:!d,isCombineEnabled:f,isFixedOnPage:a.isFixedOnPage,direction:u,client:y,page:_,closest:w})};const CD={passive:!1},LD={passive:!0};var qv=t=>t.shouldPublishImmediately?CD:LD;const Ed=t=>t&&t.env.closestScrollable||null;function BD(t){const r=O.useRef(null),a=pf(qf),s=Pp("droppable"),{registry:u,marshal:d}=a,f=G1(t),p=ce(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),b=O.useRef(p),y=ce(()=>fn((C,k)=>{r.current||At();const G={x:C,y:k};d.updateDroppableScroll(p.id,G)}),[p.id,d]),_=Ht(()=>{const C=r.current;return!C||!C.env.closestScrollable?hn:ap(C.env.closestScrollable)},[]),w=Ht(()=>{const C=_();y(C.x,C.y)},[_,y]),S=ce(()=>Ac(w),[w]),T=Ht(()=>{const C=r.current,k=Ed(C);if(C&&k||At(),C.scrollOptions.shouldPublishImmediately){w();return}S()},[S,w]),N=Ht((C,k)=>{r.current&&At();const G=f.current,W=G.getDroppableRef();W||At();const ot=DD(W),nt={ref:W,descriptor:p,env:ot,scrollOptions:k};r.current=nt;const et=OD({ref:W,descriptor:p,env:ot,windowScroll:C,direction:G.direction,isDropDisabled:G.isDropDisabled,isCombineEnabled:G.isCombineEnabled,shouldClipSubject:!G.ignoreContainerClipping}),Y=ot.closestScrollable;return Y&&(Y.setAttribute($v.contextId,a.contextId),Y.addEventListener("scroll",T,qv(nt.scrollOptions))),et},[a.contextId,p,T,f]),j=Ht(()=>{const C=r.current,k=Ed(C);return C&&k||At(),ap(k)},[]),A=Ht(()=>{const C=r.current;C||At();const k=Ed(C);r.current=null,k&&(S.cancel(),k.removeAttribute($v.contextId),k.removeEventListener("scroll",T,qv(C.scrollOptions)))},[T,S]),$=Ht(C=>{const k=r.current;k||At();const G=Ed(k);G||At(),G.scrollTop+=C.y,G.scrollLeft+=C.x},[]),I=ce(()=>({getDimensionAndWatchScroll:N,getScrollWhileDragging:j,dragStopped:A,scroll:$}),[A,N,j,$]),D=ce(()=>({uniqueId:s,descriptor:p,callbacks:I}),[I,p,s]);pr(()=>(b.current=D.descriptor,u.droppable.register(D),()=>{r.current&&A(),u.droppable.unregister(D)}),[I,p,A,D,d,u.droppable]),pr(()=>{r.current&&d.updateDroppableIsEnabled(b.current.id,!t.isDropDisabled)},[t.isDropDisabled,d]),pr(()=>{r.current&&d.updateDroppableIsCombineEnabled(b.current.id,t.isCombineEnabled)},[t.isCombineEnabled,d])}function f0(){}const Vv={width:0,height:0,margin:Z3},RD=({isAnimatingOpenOnMount:t,placeholder:r,animate:a})=>t||a==="close"?Vv:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin},PD=({isAnimatingOpenOnMount:t,placeholder:r,animate:a})=>{const s=RD({isAnimatingOpenOnMount:t,placeholder:r,animate:a});return{display:r.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Ec.placeholder:null}},zD=t=>{const r=O.useRef(null),a=Ht(()=>{r.current&&(clearTimeout(r.current),r.current=null)},[]),{animate:s,onTransitionEnd:u,onClose:d,contextId:f}=t,[p,b]=O.useState(t.animate==="open");O.useEffect(()=>p?s!=="open"?(a(),b(!1),f0):r.current?f0:(r.current=setTimeout(()=>{r.current=null,b(!1)}),a):f0,[s,p,a]);const y=Ht(w=>{w.propertyName==="height"&&(u(),s==="close"&&d())},[s,d,u]),_=PD({isAnimatingOpenOnMount:p,animate:t.animate,placeholder:t.placeholder});return Ce.createElement(t.placeholder.tagName,{style:_,"data-rfd-placeholder-context-id":f,onTransitionEnd:y,ref:t.innerRef})};var HD=Ce.memo(zD);class $D extends Ce.PureComponent{constructor(...r){super(...r),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(r,a){return r.shouldAnimate?r.on?{isVisible:!0,data:r.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!r.on,data:r.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const r={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(r)}}const ID=t=>{const r=O.useContext(qf);r||At();const{contextId:a,isMovementAllowed:s}=r,u=O.useRef(null),d=O.useRef(null),{children:f,droppableId:p,type:b,mode:y,direction:_,ignoreContainerClipping:w,isDropDisabled:S,isCombineEnabled:T,snapshot:N,useClone:j,updateViewportMaxScroll:A,getContainerForClone:$}=t,I=Ht(()=>u.current,[]),D=Ht((Y=null)=>{u.current=Y},[]);Ht(()=>d.current,[]);const C=Ht((Y=null)=>{d.current=Y},[]),k=Ht(()=>{s()&&A({maxScroll:R1()})},[s,A]);BD({droppableId:p,type:b,mode:y,direction:_,isDropDisabled:S,isCombineEnabled:T,ignoreContainerClipping:w,getDroppableRef:I});const G=ce(()=>Ce.createElement($D,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:Y,data:U,animate:tt})=>Ce.createElement(HD,{placeholder:U,onClose:Y,innerRef:C,animate:tt,contextId:a,onTransitionEnd:k})),[a,k,t.placeholder,t.shouldAnimatePlaceholder,C]),W=ce(()=>({innerRef:D,placeholder:G,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":a}}),[a,p,G,D]),ot=j?j.dragging.draggableId:null,nt=ce(()=>({droppableId:p,type:b,isUsingCloneFor:ot}),[p,ot,b]);function et(){if(!j)return null;const{dragging:Y,render:U}=j,tt=Ce.createElement(J1,{draggableId:Y.draggableId,index:Y.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(at,st)=>U(at,st,Y));return DE.createPortal(tt,$())}return Ce.createElement(Hp.Provider,{value:nt},f(W,N),et())};function UD(){return document.body||At(),document.body}const Fv={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:UD},r2=t=>{let r={...t},a;for(a in Fv)t[a]===void 0&&(r={...r,[a]:Fv[a]});return r},h0=(t,r)=>t===r.droppable.type,Kv=(t,r)=>r.draggables[t.draggable.id],GD=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r={...t,shouldAnimatePlaceholder:!1},a=fn(d=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),s=fn((d,f,p,b,y,_)=>{const w=y.descriptor.id;if(y.descriptor.droppableId===d){const N=_?{render:_,dragging:a(y.descriptor)}:null,j={isDraggingOver:p,draggingOverWith:p?w:null,draggingFromThisWith:w,isUsingPlaceholder:!0};return{placeholder:y.placeholder,shouldAnimatePlaceholder:!1,snapshot:j,useClone:N}}if(!f)return r;if(!b)return t;const T={isDraggingOver:p,draggingOverWith:w,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:y.placeholder,shouldAnimatePlaceholder:!0,snapshot:T,useClone:null}});return(d,f)=>{const p=r2(f),b=p.droppableId,y=p.type,_=!p.isDropDisabled,w=p.renderClone;if(Lc(d)){const S=d.critical;if(!h0(y,S))return r;const T=Kv(S,d.dimensions),N=mr(d.impact)===b;return s(b,_,N,N,T,w)}if(d.phase==="DROP_ANIMATING"){const S=d.completed;if(!h0(y,S.critical))return r;const T=Kv(S.critical,d.dimensions);return s(b,_,W1(S.result)===b,mr(S.impact)===b,T,w)}if(d.phase==="IDLE"&&d.completed&&!d.shouldFlush){const S=d.completed;if(!h0(y,S.critical))return r;const T=mr(S.impact)===b,N=!!(S.impact.at&&S.impact.at.type==="COMBINE"),j=S.critical.droppable.id===b;return T?N?t:r:j?t:r}return r}},ZD={updateViewportMaxScroll:nN},zo=e1(GD,ZD,(t,r,a)=>({...r2(a),...t,...r}),{context:Rp,areStatePropsEqual:X1})(ID),el=$c()(pp((t,r)=>({currentId:null,setCurrent:a=>t({currentId:a}),list:[],add:a=>t({list:[a,...r().list]}),remove:a=>t({list:r().list.filter(s=>s.id!==a)}),update:(a,s)=>t({list:r().list.map(u=>u.id===a?{...u,...s}:u)}),reorder:a=>t({list:a})}),{name:"myeongsik-list",partialize:t=>({list:t.list.map(r=>({...r,dir:r.dir??"forward"}))}),merge:(t,r)=>{const a=t,s=u=>({...u,dir:u.dir??"forward",dateObj:u?.dateObj?new Date(u.dateObj):new Date,corrected:u?.corrected?new Date(u.corrected):new Date});return{...r,...a,list:Array.isArray(a.list)?a.list.map(s):[]}}})),YD=[{value:"본인",label:"본인 (1인지정만 가능)"},{value:"연인/배우자",label:"연인 / 배우자"},{value:"가족",label:"가족"},{value:"고객",label:"고객"},{value:"친구",label:"친구"},{value:"동료",label:"동료"},{value:"지인",label:"지인"}],i2=({value:t,onChange:r})=>{const[a,s]=O.useState(YD),[u,d]=O.useState(""),[f,p]=O.useState(!1),[b,y]=O.useState(""),[_,w]=O.useState(!1),{list:S}=el(),N=S.some(D=>D.relationship==="본인")?a.filter(D=>D.value!=="본인"):a;O.useEffect(()=>{t!==void 0&&d(t)},[t]);const j=D=>{const C=D.target.value;d(C),r?.(C),C==="기타입력"?p(!0):(p(!1),y(""))};O.useEffect(()=>{const D=localStorage.getItem("relationshipOptions");D&&s(JSON.parse(D))},[]),O.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(a))},[a]);const A=()=>{if(!b.trim())return;const D={value:b,label:b};s([...a,D]),d(b),y(""),p(!1)},$=D=>{s(a.filter(C=>C.value!==D)),u===D&&d("")},I=D=>{if(!D.destination)return;const C=Array.from(a),[k]=C.splice(D.source.index,1);C.splice(D.destination.index,0,k),s(C)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:u,onChange:j,children:[g.jsx("option",{value:"",hidden:!0,children:"관계선택"}),N.map(D=>g.jsx("option",{value:D.value,children:D.label},D.value)),g.jsx("option",{value:"기타입력",children:"기타입력"})]}),g.jsx("button",{type:"button",onClick:()=>w(!0),className:"btn_style",children:"관계수정"})]}),f&&!_&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:"관계 기타입력",value:b,onChange:D=>y(D.target.value)}),g.jsx("button",{type:"button",onClick:A,className:"btn_style",children:"관계추가"})]}),_&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:"관계 수정"}),g.jsx(Zc,{onDragEnd:I,children:g.jsx(zo,{droppableId:"relList",children:D=>g.jsxs("ul",{ref:D.innerRef,...D.droppableProps,className:"space-y-1",children:[a.map((C,k)=>g.jsx(Vs,{draggableId:C.value,index:k,children:G=>g.jsxs("li",{ref:G.innerRef,...G.draggableProps,...G.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:"☰"}),g.jsx("span",{className:"flex-1 pr-1",children:C.label}),g.jsx("button",{type:"button",className:"text-red-500",onClick:()=>$(C.value),children:"삭제"})]})},C.value)),D.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>w(!1),className:"w-full btn_style mt-2",children:"닫기"})]})]})},qD={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function gf(t,r,a){const s=qD[t];if(!s)return!1;const u=new Date(t,r-1,a,0,0,0,0);return u>=s.start&&u<s.end}function VD(t){if(!isFinite(t.getTime()))return 0;const r=t.getUTCFullYear(),a=Date.UTC(r,0,1),u=Math.floor((t.getTime()-a)/864e5)+1,d=t.getUTCHours(),f=t.getUTCMinutes(),p=t.getUTCSeconds(),b=(d-12)/24+f/1440+p/86400,y=2*Math.PI/365*(u-1+b);return 229.18*(75e-6+.001868*Math.cos(y)-.032077*Math.sin(y)-.014615*Math.cos(2*y)-.040849*Math.sin(2*y))}function FD(t){return t=(t+540)%360-180,t>=124&&t<=132||t>=129&&t<=146?135:t>=73&&t<=135?120:t>=-161&&t<=-154?-150:t>=-170&&t<-161?-165:t>=-150&&t<-141?-135:t>=-141&&t<-126?-120:t>=-126&&t<-111?-105:t>=-111&&t<-96?-90:t>=-96&&t<-81?-75:Math.round(t/15)*15}function Io(t,r,a=!1){const s=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),0,0);if(a)return new Date(s.getTime()-1800*1e3);if(r==null||!isFinite(r))return s;let u=r;Math.abs(u)<=Math.PI+1e-6&&(u=u*180/Math.PI),u=(u+540)%360-180;const d=FD(u),f=4*(u-d),p=VD(s);return new Date(s.getTime()+(f+p)*60*1e3)}const Ee="폴더 미지정",bf=["가족","친구","직장","지인","고객","기타"],yf="ms_folders",KD="ms_folder_order",XD="ms_folder_favs",a2="ms_disabled_presets";function WD(t){return!t||t==="미분류"?Ee:t}function Fs(t){if(!(!t||t===Ee||t==="미분류"))return t}function Xv(){try{const t=localStorage.getItem(yf),r=localStorage.getItem(a2),a=t?JSON.parse(t):[],s=r?JSON.parse(r):[],u=bf.filter(d=>!s.includes(d));return[Ee,...u,...a]}catch{return[Ee,...bf]}}function QD(t){const r=t.trim();if(!(!r||r===Ee))try{const a=localStorage.getItem(yf),s=a?JSON.parse(a):[];if(!s.includes(r)){const u=[...s,r];localStorage.setItem(yf,JSON.stringify(u))}}catch{}}const Md="folder.order.v1";function m0(t){return Array.from(new Set(t))}function fc(t){const r=t.filter(a=>a!==Ee);return{rest:r,withUnassigned:[Ee,...r]}}function Wv(t,r){const a=new Set(r),s=t.filter(d=>a.has(d));return[...s,...r.filter(d=>!s.includes(d))]}function JD({value:t,onChange:r}){const[a,s]=O.useState([Ee]),[u,d]=O.useState(!1),[f,p]=O.useState(""),[b,y]=O.useState(!1);O.useEffect(()=>{const N=m0(Xv()),j=N.includes(Ee)?m0(N):[Ee,...N],A=localStorage.getItem(Md),$=A?JSON.parse(A):[],{rest:I}=fc(j),D=Wv($,I),C=[Ee,...D];s(C),JSON.stringify($)!==JSON.stringify(D)&&localStorage.setItem(Md,JSON.stringify(D))},[]);const _=O.useMemo(()=>t||Ee,[t]),w=N=>{const{rest:j}=fc(N);localStorage.setItem(Md,JSON.stringify(j))},S=N=>{const{source:j,destination:A}=N;if(!A||A.index===j.index)return;const{rest:$}=fc(a),I=Array.from($),[D]=I.splice(j.index,1);I.splice(A.index,0,D);const C=[Ee,...I];s(C),w(C)},T=N=>{QD(N);const j=m0(Xv()),A=j.includes(Ee)?j:[Ee,...j],$=localStorage.getItem(Md),I=$?JSON.parse($):[],{rest:D}=fc(A),C=Wv(I,D),k=[Ee,...C];s(k),w(k)};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:u?"__custom__":_,onChange:N=>{const j=N.target.value;if(j==="__custom__"){d(!0),r(void 0);return}d(!1),r(Fs(j))},children:[a.map(N=>g.jsx("option",{value:N,children:N},N)),g.jsx("option",{value:"__custom__",children:"+ 새 폴더 직접입력…"})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>y(N=>!N),children:b?"순서수정 닫기":"폴더 순서수정"})]}),u&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:f,onChange:N=>p(N.target.value),placeholder:"새 폴더 이름",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white",onClick:()=>{const N=f.trim();N&&(T(N),r(N),d(!1),p(""))},children:"추가"})]}),b&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"폴더 순서 수정"}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:"🔒"}),g.jsxs("span",{className:"flex-1 px-2",children:[Ee," (고정)"]})]}),g.jsx(Zc,{onDragEnd:S,children:g.jsx(zo,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:N=>g.jsxs("ul",{ref:N.innerRef,...N.droppableProps,className:"space-y-1",children:[fc(a).rest.map((j,A)=>g.jsx(Vs,{draggableId:j,index:A,children:$=>g.jsxs("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:"☰"}),g.jsx("span",{className:"flex-1 pr-1",children:j})]})},j)),N.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['폴더를 지정하지 않으려면 "',Ee,'"을 선택하세요. 직접입력으로 새 폴더를 만들 수 있어요.']})]})}function o2({message:t,onClose:r,ms:a=2e3}){return O.useEffect(()=>{const s=setTimeout(r,a);return()=>clearTimeout(s)},[r,a]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:t})}var af={exports:{}},t7=af.exports,Qv;function e7(){return Qv||(Qv=1,(function(t,r){(function(a,s){t.exports=s()})(t7,function(){return(function(a){function s(d){if(u[d])return u[d].exports;var f=u[d]={i:d,l:!1,exports:{}};return a[d].call(f.exports,f,f.exports,s),f.l=!0,f.exports}var u={};return s.m=a,s.c=u,s.d=function(d,f,p){s.o(d,f)||Object.defineProperty(d,f,{configurable:!1,enumerable:!0,get:p})},s.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return s.d(f,"a",f),f},s.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},s.p="",s(s.s=0)})([function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0});var d=u(1),f=(function(p){return p&&p.__esModule?p:{default:p}})(d);s.default=f.default,a.exports=s.default},function(a,s,u){function d(tt){return tt&&tt.__esModule?tt:{default:tt}}Object.defineProperty(s,"__esModule",{value:!0});var f=u(2),p=d(f),b=u(3),y=d(b),_=u(4),w=d(_),S=u(5),T=d(S),N=u(6),j=d(N),A=u(7),$=d(A),I=u(8),D=d(I),C=u(9),k=d(C),G=u(10),W=d(G),ot=u(11),nt=d(ot),et=u(12),Y=d(et),U={lunarInfo:p.default,solarMonth:y.default,gan:w.default,zhi:T.default,animals:j.default,lunarTerm:$.default,lTermInfo:D.default,nStr1:k.default,nStr2:W.default,nStr3:nt.default,nStr4:Y.default,lYearDays:function(tt){var at,st=348;for(at=32768;at>8;at>>=1)st+=U.lunarInfo[tt-1900]&at?1:0;return st+U.leapDays(tt)},leapMonth:function(tt){return 15&U.lunarInfo[tt-1900]},leapDays:function(tt){return U.leapMonth(tt)?65536&U.lunarInfo[tt-1900]?30:29:0},monthDays:function(tt,at){return at>12||at<1?-1:U.lunarInfo[tt-1900]&65536>>at?30:29},solarDays:function(tt,at){if(at>12||at<1)return-1;var st=at-1;return st==1?tt%4==0&&tt%100!=0||tt%400==0?29:28:U.solarMonth[st]},toGanZhi:function(tt){return U.gan[tt%10]+U.zhi[tt%12]},getTerm:function(tt,at){if(tt<1900||tt>2100||at<1||at>24)return-1;var st=U.lTermInfo[tt-1900],Z=[parseInt("0x"+st.substr(0,5)).toString(),parseInt("0x"+st.substr(5,5)).toString(),parseInt("0x"+st.substr(10,5)).toString(),parseInt("0x"+st.substr(15,5)).toString(),parseInt("0x"+st.substr(20,5)).toString(),parseInt("0x"+st.substr(25,5)).toString()],rt=[Z[0].substr(0,1),Z[0].substr(1,2),Z[0].substr(3,1),Z[0].substr(4,2),Z[1].substr(0,1),Z[1].substr(1,2),Z[1].substr(3,1),Z[1].substr(4,2),Z[2].substr(0,1),Z[2].substr(1,2),Z[2].substr(3,1),Z[2].substr(4,2),Z[3].substr(0,1),Z[3].substr(1,2),Z[3].substr(3,1),Z[3].substr(4,2),Z[4].substr(0,1),Z[4].substr(1,2),Z[4].substr(3,1),Z[4].substr(4,2),Z[5].substr(0,1),Z[5].substr(1,2),Z[5].substr(3,1),Z[5].substr(4,2)];return parseInt(rt[at-1])},toChinaYear:function(tt){var at=parseInt(tt/1e3),st=parseInt(tt%1e3/100),Z=parseInt(tt%100/10),rt=tt%10;return U.nStr4[at]+U.nStr4[st]+U.nStr4[Z]+U.nStr4[rt]+"年"},toChinaMonth:function(tt){if(tt>12||tt<1)return-1;var at=U.nStr3[tt-1];return at+="月"},toChinaDay:function(tt){var at;switch(tt){case 10:at="初十";break;case 20:at="二十";break;case 30:at="三十";break;default:at=U.nStr2[Math.floor(tt/10)],at+=U.nStr1[tt%10]}return at},getAnimal:function(tt){return U.animals[(tt-4)%12]},solar2lunar:function(gt,P,H){if(gt<1900||gt>2100||gt==1900&&P==1&&H<31)return-1;if(gt)var Z=new Date(gt,parseInt(P)-1,H);else var Z=new Date;var rt,bt=0,ft=0,gt=Z.getFullYear(),P=Z.getMonth()+1,H=Z.getDate(),X=(Date.UTC(Z.getFullYear(),Z.getMonth(),Z.getDate())-Date.UTC(1900,0,31))/864e5;for(rt=1900;rt<2101&&X>0;rt++)ft=U.lYearDays(rt),X-=ft;X<0&&(X+=ft,rt--);var Q=new Date,z=!1;Q.getFullYear()==gt&&Q.getMonth()+1==P&&Q.getDate()==H&&(z=!0);var q=Z.getDay(),K=U.nStr1[q];q==0&&(q=7);var ct=rt,bt=U.leapMonth(rt),Mt=!1;for(rt=1;rt<13&&X>0;rt++)bt>0&&rt==bt+1&&Mt==0?(--rt,Mt=!0,ft=U.leapDays(ct)):ft=U.monthDays(ct,rt),Mt==1&&rt==bt+1&&(Mt=!1),X-=ft;X==0&&bt>0&&rt==bt+1&&(Mt?Mt=!1:(Mt=!0,--rt)),X<0&&(X+=ft,--rt);var Et=rt,Lt=X+1,Dt=P-1,St=U.getTerm(gt,3),kt=U.toGanZhi(gt-4),It=new Date(gt,1,St).getTime();new Date(gt,Dt,H).getTime()<It&&(kt=U.toGanZhi(gt-5));var ee=U.getTerm(gt,2*P-1),$t=U.getTerm(gt,2*P),Xt=U.toGanZhi(12*(gt-1900)+P+11);H>=ee&&(Xt=U.toGanZhi(12*(gt-1900)+P+12));var xt=!1,Bt="";ee==H&&(xt=!0,Bt=U.lunarTerm[2*P-2]),$t==H&&(xt=!0,Bt=U.lunarTerm[2*P-1]);var vt=Date.UTC(gt,Dt,1,0,0,0,0)/864e5+25567+10,de=U.toGanZhi(vt+H-1);return{lYear:ct,lMonth:Et,lDay:Lt,animal:U.getAnimal(ct),yearCn:U.toChinaYear(ct),monthCn:(Mt&&bt===Et?"闰":"")+U.toChinaMonth(Et),dayCn:U.toChinaDay(Lt),cYear:gt,cMonth:P,cDay:H,gzYear:kt,gzMonth:Xt,gzDay:de,isToday:z,isLeap:Mt,nWeek:q,ncWeek:"星期"+K,isTerm:xt,term:Bt}},lunar2solar:function(tt,at,st,Z){var rt=U.leapMonth(tt);if(U.leapDays(tt),Z&&rt!=at||tt==2100&&at==12&&st>1||tt==1900&&at==1&&st<31)return-1;var ft=U.monthDays(tt,at);if(tt<1900||tt>2100||st>ft)return-1;for(var gt=0,P=1900;P<tt;P++)gt+=U.lYearDays(P);for(var H=0,X=!1,P=1;P<at;P++)H=U.leapMonth(tt),X||H<=P&&H>0&&(gt+=U.leapDays(tt),X=!0),gt+=U.monthDays(tt,P);Z&&(gt+=ft);var Q=Date.UTC(1900,1,30,0,0,0),z=new Date(864e5*(gt+st-31)+Q),q=z.getUTCFullYear(),K=z.getUTCMonth()+1,ct=z.getUTCDate();return U.solar2lunar(q,K,ct)}};s.default=U,a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[31,28,31,30,31,30,31,31,30,31,30,31],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["日","一","二","三","四","五","六","七","八","九","十"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["初","十","廿","卅"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["正","二","三","四","五","六","七","八","九","十","冬","腊"],a.exports=s.default},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["零","一","二","三","四","五","六","七","八","九","十"],a.exports=s.default}])})})(af)),af.exports}var s2=e7();const n7=Ws(s2),$p=Mw({__proto__:null,default:n7},[s2]);function Ff(t){return typeof t=="object"&&t!==null}function r7(t){return Ff(t)&&"default"in t}function i7(t){return Ff(t)&&typeof t.lunar2solar=="function"}function a7(t){if(!Ff(t))throw new Error("Invalid lunar2solar result");const r=t.cYear,a=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof r!="number"||typeof a!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:r,cMonth:a,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function o7(t){const r=r7(t)?t.default:t;if(!i7(r))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,f)=>{const p=r.lunar2solar(s,u,d,f);return a7(p)}}}const s7=o7($p);function Pr(t,r,a,s=4,u=0){const d=s7.lunar2solar(t,r,a,!1);return new Date(d.cYear,d.cMonth-1,d.cDay,s,u)}const hc=[{key:"name",label:"이름",placeholder:"이름을 입력하세요",type:"text"},{key:"birthDay",label:"생년월일",placeholder:"예: 19900101",type:"tel"},{key:"birthTime",label:"태어난 시간",placeholder:"예: 1524",type:"tel"},{key:"mingSikType",label:"명식 기준",type:"mingrule"},{key:"gender",label:"성별",type:"radio"},{key:"birthPlace",label:"태어난 지역",type:"place"},{key:"relationship",label:"관계",type:"relationship"},{key:"folder",label:"폴더 선택",type:"folder"},{key:"memo",label:"메모",placeholder:"메모를 입력하세요",type:"textarea"}],mc=[{value:"solar",label:"양력",id:"calendarType_solar"},{value:"lunar",label:"음력",id:"calendarType_lunar"}],Nd=["야자시","조자시","인시"],Ad=["남자","여자"];function p0(t,r,a){return a==="ArrowRight"||a==="ArrowDown"?(t+1)%r:a==="ArrowLeft"||a==="ArrowUp"?(t-1+r)%r:a==="Home"?0:a==="End"?r-1:t}function g0(t){const r=document.getElementById(t);r instanceof HTMLElement&&r.focus()}function l7({onSave:t,onClose:r}){const{add:a}=el(),[s,u]=O.useState(0),[d,f]=O.useState({gender:"남자",mingSikType:"야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[p,b]=O.useState(null),[y,_]=O.useState(!1),[w,S]=O.useState(!1),T=hc[s],N=C=>b(C);O.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(T.key)){const k=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(k){k.focus();return}}if(T.key==="mingSikType"){const k=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(k){k.focus();return}}if(T.key==="gender"){const k=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(k){k.focus();return}}if(d.birthPlace||w){const k=()=>{const G=document.querySelector(".current-step form button[type='submit']");G&&G.focus()};k(),setTimeout(k,0)}else{const k=document.getElementById("inputBirthPlaceBtn");k&&k.focus()}if(T.key==="relationship"){setTimeout(()=>{const k=document.querySelector(".current-step select");k&&k.focus()},0);return}if(T.key==="folder"){setTimeout(()=>{const k=document.querySelector(".current-step select");k&&k.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[w,s,T.key,d.birthPlace]);const j=O.useMemo(()=>{if(d.calendarType!=="lunar"||!d.birthDay||d.birthDay.length!==8)return null;try{const C=Number(d.birthDay.slice(0,4)),k=Number(d.birthDay.slice(4,6)),G=Number(d.birthDay.slice(6,8)),W=Pr(C,k,G);return`→ 양력 ${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`}catch(C){const k=C instanceof Error?C.message:void 0;return`→ 변환 실패${k?`: ${k}`:""}`}},[d.calendarType,d.birthDay]),A=()=>{const C=hc[s];if(C.key==="name"&&(d.name||(f({...d,name:"이름없음"}),N("이름을 적지 않으시면 '이름없음'으로 대체됩니다."))),C.key==="birthDay"){const k=/^\d{8}$/;if(!d.birthDay||!k.test(d.birthDay))return N("생년월일은 YYYYMMDD 형식으로 입력해주세요."),!1;const G=Number(d.birthDay.substring(0,4)),W=Number(d.birthDay.substring(4,6)),ot=Number(d.birthDay.substring(6,8));if(G<1900||G>2100)return N("출생 연도는 1900~2100년 사이여야 합니다."),!1;if(W<1||W>12)return N("출생 월은 01~12 사이여야 합니다."),!1;if(ot<1||ot>31)return N("출생 일은 01~31 사이여야 합니다."),!1;if(d.calendarType==="solar"){const nt=new Date(G,W-1,ot);if(nt.getFullYear()!==G||nt.getMonth()+1!==W||nt.getDate()!==ot)return N("존재하지 않는 날짜입니다."),!1}else try{Pr(G,W,ot)}catch(nt){return N(nt instanceof Error?nt.message:"음력 날짜가 유효하지 않습니다."),!1}}if(C.key==="birthTime"){if(!d.birthTime&&!y)return N("태어난 시간을 입력하거나 '모름'을 체크해야 합니다."),!1;if(d.birthTime){const k=Number(d.birthTime);if(Number.isNaN(k)||k<0||k>2359)return N("태어난 시간은 0000–2359 범위여야 합니다."),!1;const G=Number(d.birthTime.slice(0,2)),W=Number(d.birthTime.slice(2,4));if(G>23||W>59)return N("태어난 시간은 0000–2359 범위여야 합니다."),!1}}return C.key==="birthPlace"&&!d.birthPlace&&!w?(N("태어난 지역을 선택하거나 '모름'을 체크해야 합니다."),!1):!0},$=()=>{if(!A())return;if(s<hc.length-1){u(s+1);return}const C=Fs(d.folder),k=!d.birthTime||d.birthTime==="모름",G=!d.birthPlace||typeof d.birthPlace=="object"&&d.birthPlace.name==="모름";let W=Number(d.birthDay.slice(0,4)),ot=Number(d.birthDay.slice(4,6)),nt=Number(d.birthDay.slice(6,8));if(d.calendarType==="lunar"){const K=Pr(W,ot,nt);W=K.getFullYear(),ot=K.getMonth()+1,nt=K.getDate()}const et=k?4:Number(d.birthTime.slice(0,2)),Y=k?30:Number(d.birthTime.slice(2,4)),U=new Date(W,ot-1,nt,et,Y,0,0),tt=w||!d.birthPlace||d.birthPlace.lon===0?127.5:d.birthPlace.lon,at=Io(U,tt,G),st=d.mingSikType??"야자시",Z=k?"":at.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),rt=oe(at,tt),ft=Se(at,tt),gt=ae(at,st),P=k?null:zr(at,st),H=[`원국 : ${rt}년 ${ft}월 ${gt}일`,P?`${P}시`:null].filter(Boolean).join(" ");function X(K,ct){const Mt=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(K),Et=ct==="남자";return Mt?Et?"forward":"backward":Et?"backward":"forward"}const Q=rt.charAt(0),z=X(Q,d.gender??"남자"),q={id:q_(),name:d.name?.trim()||"이름없음",birthDay:d.birthDay||"",birthTime:k?"모름":d.birthTime||"",gender:d.gender??"남자",birthPlace:w?{name:"모름",lat:0,lon:127.5}:d.birthPlace??{name:"",lat:0,lon:127.5},relationship:d.relationship??"",memo:d.memo??"",mingSikType:d.mingSikType??"야자시",DayChangeRule:d.mingSikType==="인시"?"인시일수론":"자시일수론",folder:C,correctedLocal:Z,ganji:H,calendarType:d.calendarType??"solar",dir:z,corrected:at,dateObj:d.dateObj||new Date,dayStem:d.dayStem||"갑",ganjiText:d.ganjiText||"갑자년 갑자월 갑자일 갑자시"};a(q),t(q),b("저장 완료!"),f({gender:"남자",mingSikType:"야자시",calendarType:"solar"}),_(!1),S(!1),u(0)},I=C=>{if(C.key!=="Enter")return;const k=C.target,G=k.getAttribute("role");if(G==="radio"||G==="checkbox")return;const W=document.getElementById("mapModal");if(W&&W.contains(k))return;const ot=k.tagName.toLowerCase(),nt=k instanceof HTMLInputElement?k.type:"";if(ot==="textarea"){if(C.shiftKey)return;C.preventDefault(),$();return}if(nt==="radio"||nt==="checkbox"){C.preventDefault(),k instanceof HTMLInputElement&&k.click();return}ot==="button"&&k.type!=="submit"||(C.preventDefault(),$())},D=C=>{switch(C){case"birthPlace":return w?"모름":d.birthPlace?.name||"";case"birthTime":return y?"모름":d.birthTime||"";case"folder":return d.folder?String(d.folder):Ee;default:{const G=d[C];return typeof G=="string"?G:G!=null?String(G):""}}};return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[p&&g.jsx(o2,{message:p,onClose:()=>b(null)}),hc.slice(0,s).map((C,k)=>g.jsxs("button",{onClick:()=>u(k),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:C.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:D(C.key)})]},C.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:C=>{C.preventDefault(),$()},onKeyDown:I,children:[g.jsx("label",{className:"block mb-2 font-bold",children:T.label}),T.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.name||"",onChange:C=>f({...d,name:C.target.value})}),T.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.birthDay||"",onChange:C=>{const k=C.target.value.replace(/\D/g,"");f({...d,birthDay:k.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":"달력 유형",className:"flex gap-1 text-sm",children:mc.map(({value:C,label:k,id:G})=>{const W=d.calendarType===C;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:G,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:G,id:`${G}_lbl`,role:"radio","aria-checked":W,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":W?"true":"false",onKeyDown:ot=>{if(ot.stopPropagation(),ot.key===" "||ot.key==="Enter"){ot.preventDefault(),f({...d,calendarType:C});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(ot.key))return;ot.preventDefault();const et=mc.findIndex(tt=>tt.value===d.calendarType),Y=p0(et<0?0:et,mc.length,ot.key),U=mc[Y].value;f({...d,calendarType:U}),g0(`${mc[Y].id}_lbl`)},onClick:ot=>{ot.preventDefault(),f({...d,calendarType:C})},children:k})]},C)})})]}),d.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:j})}),d.birthDay&&d.birthDay.length===8&&(()=>{const C=Number(d.birthDay.slice(0,4)),k=Number(d.birthDay.slice(4,6)),G=Number(d.birthDay.slice(6,8));return gf(C,k,G)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"썸머타임 명식입니다."}):null})()]}),T.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:y?"":d.birthTime||"",onChange:C=>{const k=C.target.value.replace(/\D/g,"");f({...d,birthTime:k.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:y}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":y,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":y?"true":"false",onKeyDown:C=>{C.stopPropagation(),(C.key===" "||C.key==="Enter")&&(C.preventDefault(),_(!y))},onClick:C=>{C.preventDefault(),_(!y)},children:"모름"})]})]}),T.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"명식 기준",className:"flex flex-wrap gap-3",children:Nd.map(C=>{const k=`ming_${C}`,G=(d.mingSikType??"야자시")===C;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:k,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:k,id:`${k}_lbl`,role:"radio","aria-checked":G,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":G?"true":"false",onKeyDown:W=>{if(W.stopPropagation(),W.key===" "||W.key==="Enter"){W.preventDefault(),f({...d,mingSikType:C});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(W.key))return;W.preventDefault();const nt=d.mingSikType??"야자시",et=Nd.indexOf(nt),Y=p0(et,Nd.length,W.key),U=Nd[Y];f({...d,mingSikType:U}),g0(`ming_${U}_lbl`)},onClick:W=>{W.preventDefault(),f({...d,mingSikType:C})},children:[C,"명식"]})]},C)})}),T.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"성별",className:"flex gap-2",children:Ad.map(C=>{const k=`gender_${C}`,G=(d.gender??"남자")===C;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:k,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:k,id:`${k}_lbl`,role:"radio","aria-checked":G,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":G?"true":"false",onKeyDown:W=>{if(W.stopPropagation(),W.key===" "||W.key==="Enter"){W.preventDefault(),f({...d,gender:C});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(W.key))return;W.preventDefault();const nt=d.gender??"남자",et=Ad.indexOf(nt),Y=p0(et,Ad.length,W.key),U=Ad[Y];f({...d,gender:U}),g0(`gender_${U}_lbl`)},onClick:W=>{W.preventDefault(),f({...d,gender:C})},children:C})]},C)})}),T.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(V_,{onSelect:C=>f({...d,birthPlace:C})}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":w,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":w?"true":"false",onKeyDown:C=>{C.stopPropagation(),(C.key===" "||C.key==="Enter")&&(C.preventDefault(),S(!w))},onClick:C=>{C.preventDefault(),S(!w)},children:"모름"})]})]}),T.key==="relationship"&&g.jsx(i2,{value:d.relationship||"",onChange:C=>f({...d,relationship:C})}),T.key==="folder"&&g.jsx(JD,{value:Fs(d.folder),onChange:C=>f({...d,folder:C})}),T.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.memo||"",onChange:C=>f({...d,memo:C.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:r,children:"닫기"}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:s===hc.length-1?"저장하기":"확인"})]})]})})]})}var Dd={},Jv;function c7(){if(Jv)return Dd;Jv=1,Dd.match=d,Dd.parse=f;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,r=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,a=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,u=/(dpi|dpcm|dppx)?$/;function d(_,w){return f(_).some(function(S){var T=S.inverse,N=S.type==="all"||w.type===S.type;if(N&&T||!(N||T))return!1;var j=S.expressions.every(function(A){var $=A.feature,I=A.modifier,D=A.value,C=w[$];if(!C)return!1;switch($){case"orientation":case"scan":return C.toLowerCase()===D.toLowerCase();case"width":case"height":case"device-width":case"device-height":D=y(D),C=y(C);break;case"resolution":D=b(D),C=b(C);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":D=p(D),C=p(C);break;case"grid":case"color":case"color-index":case"monochrome":D=parseInt(D,10)||1,C=parseInt(C,10)||0;break}switch(I){case"min":return C>=D;case"max":return C<=D;default:return C===D}});return j&&!T||!j&&T})}function f(_){return _.split(",").map(function(w){w=w.trim();var S=w.match(t),T=S[1],N=S[2],j=S[3]||"",A={};return A.inverse=!!T&&T.toLowerCase()==="not",A.type=N?N.toLowerCase():"all",j=j.match(/\([^\)]+\)/g)||[],A.expressions=j.map(function($){var I=$.match(r),D=I[1].toLowerCase().match(a);return{modifier:D[1],feature:D[2],value:I[2]}}),A})}function p(_){var w=Number(_),S;return w||(S=_.match(/^(\d+)\s*\/\s*(\d+)$/),w=S[1]/S[2]),w}function b(_){var w=parseFloat(_),S=String(_).match(u)[1];switch(S){case"dpcm":return w/2.54;case"dppx":return w*96;default:return w}}function y(_){var w=parseFloat(_),S=String(_).match(s)[1];switch(S){case"em":return w*16;case"rem":return w*16;case"cm":return w*96/2.54;case"mm":return w*96/2.54/10;case"in":return w*96;case"pt":return w*72;case"pc":return w*72/12;default:return w}}return Dd}var b0,tx;function u7(){if(tx)return b0;tx=1;var t=c7().match,r=typeof window<"u"?window.matchMedia:null;function a(u,d,f){var p=this,b;r&&!f&&(b=r.call(window,u)),b?(this.matches=b.matches,this.media=b.media,b.addListener(w)):(this.matches=t(u,d),this.media=u),this.addListener=y,this.removeListener=_,this.dispose=S;function y(T){b&&b.addListener(T)}function _(T){b&&b.removeListener(T)}function w(T){p.matches=T.matches,p.media=T.media}function S(){b&&b.removeListener(w)}}function s(u,d,f){return new a(u,d,f)}return b0=s,b0}var d7=u7();const f7=Ws(d7);var h7=/[A-Z]/g,m7=/^ms-/,y0={};function p7(t){return"-"+t.toLowerCase()}function l2(t){if(y0.hasOwnProperty(t))return y0[t];var r=t.replace(h7,p7);return y0[t]=m7.test(r)?"-"+r:r}function g7(t,r){if(t===r)return!0;if(!t||!r)return!1;const a=Object.keys(t),s=Object.keys(r),u=a.length;if(s.length!==u)return!1;for(let d=0;d<u;d++){const f=a[d];if(t[f]!==r[f]||!Object.prototype.hasOwnProperty.call(r,f))return!1}return!0}var v0={exports:{}},x0,ex;function b7(){if(ex)return x0;ex=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return x0=t,x0}var _0,nx;function y7(){if(nx)return _0;nx=1;var t=b7();function r(){}function a(){}return a.resetWarningCache=r,_0=function(){function s(f,p,b,y,_,w){if(w!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function u(){return s}var d={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:u,element:s,elementType:s,instanceOf:u,node:s,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:a,resetWarningCache:r};return d.PropTypes=d,d},_0}var rx;function v7(){return rx||(rx=1,v0.exports=y7()()),v0.exports}var x7=v7();const me=Ws(x7),zn=me.oneOfType([me.string,me.number]),c2={all:me.bool,grid:me.bool,aural:me.bool,braille:me.bool,handheld:me.bool,print:me.bool,projection:me.bool,screen:me.bool,tty:me.bool,tv:me.bool,embossed:me.bool},_7={orientation:me.oneOf(["portrait","landscape"]),scan:me.oneOf(["progressive","interlace"]),aspectRatio:me.string,deviceAspectRatio:me.string,height:zn,deviceHeight:zn,width:zn,deviceWidth:zn,color:me.bool,colorIndex:me.bool,monochrome:me.bool,resolution:zn,type:Object.keys(c2)},{type:e6,...S7}=_7,w7={minAspectRatio:me.string,maxAspectRatio:me.string,minDeviceAspectRatio:me.string,maxDeviceAspectRatio:me.string,minHeight:zn,maxHeight:zn,minDeviceHeight:zn,maxDeviceHeight:zn,minWidth:zn,maxWidth:zn,minDeviceWidth:zn,maxDeviceWidth:zn,minColor:me.number,maxColor:me.number,minColorIndex:me.number,maxColorIndex:me.number,minMonochrome:me.number,maxMonochrome:me.number,minResolution:zn,maxResolution:zn,...S7},T7={...c2,...w7};var E7={all:T7};const M7=t=>`not ${t}`,N7=(t,r)=>{const a=l2(t);return typeof r=="number"&&(r=`${r}px`),r===!0?a:r===!1?M7(a):`(${a}: ${r})`},A7=t=>t.join(" and "),D7=t=>{const r=[];return Object.keys(E7.all).forEach(a=>{const s=t[a];s!=null&&r.push(N7(a,s))}),A7(r)},j7=O.createContext(void 0),k7=t=>t.query||D7(t),ix=t=>t?Object.keys(t).reduce((a,s)=>(a[l2(s)]=t[s],a),{}):void 0,u2=()=>{const t=O.useRef(!1);return O.useEffect(()=>{t.current=!0},[]),t.current},O7=t=>{const r=O.useContext(j7),a=()=>ix(t)||ix(r),[s,u]=O.useState(a);return O.useEffect(()=>{const d=a();g7(s,d)||u(d)},[t,r]),s},C7=t=>{const r=()=>k7(t),[a,s]=O.useState(r);return O.useEffect(()=>{const u=r();a!==u&&s(u)},[t]),a},L7=(t,r)=>{const a=()=>f7(t,r||{},!!r),[s,u]=O.useState(a),d=u2();return O.useEffect(()=>{if(d){const f=a();return u(f),()=>{f&&f.dispose()}}},[t,r]),s},B7=t=>{const[r,a]=O.useState(t.matches);return O.useEffect(()=>{const s=u=>{a(u.matches)};return t.addListener(s),a(t.matches),()=>{t.removeListener(s)}},[t]),r},R7=(t,r,a)=>{const s=O7(r),u=C7(t);if(!u)throw new Error("Invalid or missing MediaQuery!");const d=L7(u,s),f=B7(d);return u2(),O.useEffect(()=>{},[f]),O.useEffect(()=>()=>{d&&d.dispose()},[]),f},d2=(()=>{const t=[];for(let r=0;r<60;r++)t.push(`${$n[r%10]}${Wn[r%12]}`);return t})();function P7(t){const r=d2.indexOf(t);if(r<0)throw new Error(`Unknown 간지: ${t}`);return r}function vf(t,r,a=1){const s=P7(t),u=r==="forward"?a:-a;return d2[(s+u+60*1e3)%60]}const z7=60*1e3,H7=60*z7,$7=24*H7;function I7(t,r){const a=new Date(t.getTime()),s=a.getFullYear()+r,u=a.getMonth(),d=a.getDate();return new Date(Date.UTC(s,u,d,a.getUTCHours(),a.getUTCMinutes()))}function op(t){const r=new Date(t);return r.setSeconds(0,0),r}function U7(t,r,a){const s=t.getHours(),u=a==="야자시"?(Math.floor((s+1)/2)*2-1+24)%24:(Math.floor(s/2)*2+1)%24,d=new Date(t);d.setHours(u,0,0,0);const f=new Date(d);f.setHours(u+2,0,0,0);const p=t.getTime()-d.getTime(),b=f.getTime()-t.getTime();return r==="backward"?p:b}function f2(t,r,a,s=120,u="야자시"){const d=op(t),f=U7(d,a,u),p=op(new Date(d.getTime()+f*120)),b=I7(t,s).getTime(),y=[];let _=vf(r,a,1);for(let w=p.getTime();w<=b;w+=10*$7)y.push({at:new Date(w),gz:_}),_=vf(_,a,1);return{firstChange:p,events:y}}function h2(t,r){const a=r==="forward"?t==="자시일수론"?"자":"인":t==="자시일수론"?"해":"축";return s=>s===a}function m2(t,r,a,s){const u=h2(s,a);let d=r;const f=[];for(const p of t.events){const b=p.gz.charAt(1);u(b)&&(d=vf(d,a,1),f.push({at:p.at,gz:d}))}return{events:f}}function Mc(t){const r=t.getFullYear(),a=[{deg:315,name:"입춘"},{deg:345,name:"경칩"},{deg:15,name:"청명"},{deg:45,name:"입하"},{deg:75,name:"망종"},{deg:105,name:"소서"},{deg:135,name:"입추"},{deg:165,name:"백로"},{deg:195,name:"한로"},{deg:225,name:"입동"},{deg:255,name:"대설"},{deg:285,name:"소한"}],s={deg:315,name:"다음입춘"},u=a.map(p=>({name:p.name,date:rn(r,p.deg)})).concat([{name:s.name,date:rn(r+1,s.deg)},{name:"소한",date:rn(r+1,285)}]),d=rn(r,315),f=rn(r+1,315);return u.filter(p=>p.date>=d&&p.date<f).sort((p,b)=>p.date.getTime()-b.date.getTime())}const G7={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},Z7={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},Y7=t=>G7[t]??("甲乙丙丁戊己庚辛壬癸".includes(t)?t:null),q7=t=>Z7[t]??("子丑寅卯辰巳午未申酉戌亥".includes(t)?t:null);function ax(t){const r=Y7(t[0]),a=q7(t[1]);if(!r||!a)throw new Error(`Invalid GZ: ${t}`);return`${r}${a}`}function Yc(t,r,a,s=120,u){function d(D){return D instanceof Date||(D=new Date(D)),Math.floor((D.getHours()+1)%24/2)}function f(D){return["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"][d(D)]}function p(D,C,k){const G=D.charAt(0),W=D.charAt(1),ot=$n.indexOf(G),nt=Wn.indexOf(W),et=C==="forward"?k:-k,Y=(ot+et%10+10)%10,U=(nt+et%12+12)%12;return $n[Y]+Wn[U]}const b=Mc(t).sort((D,C)=>D.date.getTime()-C.date.getTime());let y;if(a==="forward"){const D=b.findIndex(C=>C.date>=t);D>=0&&(y=b[D].date)}else{const D=b.filter(C=>C.date<=t);D.length&&(y=D[D.length-1].date)}function _(D,C){const k=f(D),G={子:23,丑:1,寅:3,卯:5,辰:7,巳:9,午:11,未:13,申:15,酉:17,戌:19,亥:21},W=G[k],ot=(W+2)%24,nt=new Date(D);if(nt.setSeconds(0,0),a==="backward"&&C){const Y=f(C),U=G[Y],tt=new Date(C);return tt.setHours(U,0,0,0),tt}if(a==="forward"&&C){const Y=f(C),U=G[Y],tt=new Date(C);if(tt.setHours(U,0,0,0),tt>nt)return tt}const et=new Date(nt);return a==="forward"?(et.setHours(ot,0,0,0),et<=nt&&et.setDate(et.getDate()+1)):(et.setHours(W,0,0,0),et>=nt&&et.setDate(et.getDate()-1)),et}new Date(t).setSeconds(0,0);const S=ax(Se(t,127.5)),T=_(t,y),N=Math.floor(a==="forward"?(T.getTime()-t.getTime())/6e4:(t.getTime()-T.getTime())/6e4),j=Math.round(N/120*(14400*60*1e3));let A=new Date(t.getTime()+j);try{const D=ax(Se(t,u));(a==="forward"&&S!==D||a==="backward"&&S!==D)&&(A=new Date(t.getTime()+6e4))}catch{}const $=s/10,I=[];for(let D=0;D<$;D++){const C=new Date(A);C.setFullYear(C.getFullYear()+D*10),C.setSeconds(0,0);const k=p(r,a,D+1);I.push({at:C,gz:k})}return{natalMonthPillar:r,firstChange:A,mPillars:[],events:I}}function V7(t,r){const s=(r.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(s))}function p2(t,r,a,s,u){const d=h2(s,a);let f=r;const p=[];for(const b of t.events){const y=b.gz.charAt(1);d(y)&&(f=vf(f,a,1),p.push({at:b.at,gz:f,age:V7(u,b.at)}))}return{events:p}}function F7(t){const r=Number(t.birthDay.slice(0,4)),a=Number(t.birthDay.slice(4,6)),s=Number(t.birthDay.slice(6,8));let u=12,d=0;return t.birthTime&&t.birthTime!=="모름"&&/^\d{4}$/.test(t.birthTime)&&(u=Number(t.birthTime.slice(0,2)),d=Number(t.birthTime.slice(2,4))),new Date(r,a-1,s,u,d,0,0)}function Kf(t){const r=F7(t),a=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",s=Io(r,t.birthPlace?.lon??null,a);return op(s)}function Ip(t,r){const a=t.birthPlace?.lon??127.5,s=Kf(t),u=ae(s,r),d=zr(s,r,u.charAt(0));return{year:oe(s,a),month:Se(s,a),day:u,hour:d}}const K7=(()=>{const t=[];for(let r=0;r<60;r++)t.push(`${$n[r%10]}${Wn[r%12]}`);return t})(),X7=t=>K7.indexOf(t),S0=t=>{if(X7(t)<0)throw new Error(`Unknown 간지: ${t}`);return{stem:t[0],branch:t[1]}};function Up(t){return typeof t=="object"&&t!==null}function W7(t){return Up(t)&&"default"in t}function Q7(t){return Up(t)&&typeof t.lunar2solar=="function"}function J7(t){if(!Up(t))throw new Error("Invalid lunar2solar result");const r=t.cYear,a=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof r!="number"||typeof a!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:r,cMonth:a,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function tj(t){const r=W7(t)?t.default:t;if(!Q7(r))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,f)=>{const p=r.lunar2solar(s,u,d,!!f);return J7(p)}}}const ej=tj($p),ox=t=>t<10?`0${t}`:`${t}`;function Gp(t){const r=t,a=typeof r.birthDay=="string"?r.birthDay:"",s=typeof r.calendarType=="string"?r.calendarType:"solar";if(a.length<8||s!=="lunar")return t;const u=Number(a.slice(0,4)),d=Number(a.slice(4,6)),f=Number(a.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const y of p){const _=r[y];if(typeof _=="boolean"){b=_;break}if(typeof _=="number"){b=_===1;break}if(typeof _=="string"){b=_==="1"||_.toLowerCase()==="true";break}}try{const y=ej.lunar2solar(u,d,f,b),_=`${y.cYear}${ox(y.cMonth)}${ox(y.cDay)}`;return{...t,birthDay:_,calendarType:"solar"}}catch{return t}}function nj(t,r="야자시"){const a=O.useMemo(()=>Gp(t),[t]),s=O.useMemo(()=>Kf(a),[a]),u=O.useMemo(()=>Ip(a,r),[a,r]);return O.useMemo(()=>{const d=Yc(s,u.month,a.dir,120,a?.birthPlace?.lon??127.5),f=new Date;function p(D,C){let k=null;const G=C.getTime();for(const W of D)if(W.at.getTime()<=G)k=W;else break;return k}const b=p(d.events,f)?.gz??u.month,y=S0(b),_=f.getFullYear(),w=rn(_,315),T=w&&f>=w?_:_-1,N=oe(new Date(T,1,10,0,0,0),127.5),j=S0(N),A=Se(f,127.5),$=S0(A),I=[];return $&&I.push({key:"wolun",label:"월운",data:$}),j&&I.push({key:"seun",label:"세운",data:j}),y&&I.push({key:"daeun",label:"대운",data:y}),I},[s,a.dir,u.month,a.birthPlace?.lon])}function Nc(t){const r=a=>a.toString().padStart(2,"0");return`${t.getFullYear()}년 ${r(t.getMonth()+1)}월 ${r(t.getDate())}일 ${r(t.getHours())}시 ${r(t.getMinutes())}분`}function Ps(t){return t<10?`0${t}`:`${t}`}function rj(t){return`${Ps(t.getHours())}:${Ps(t.getMinutes())}`}function ij(t){return`${t.getFullYear()}-${Ps(t.getMonth()+1)}-${Ps(t.getDate())} ${Ps(t.getHours())}:${Ps(t.getMinutes())}`}const In=$c()(pp((t,r)=>{const a=new Date,s="야자시",u=127.5,d=u,f=oe(a,d),p=Se(a,d),b=ae(a,s);return{date:a,scope:"원국만",rule:s,lon:u,yearGZ:f,monthGZ:p,dayGZ:b,setDate:y=>{const{rule:_,lon:w}=r(),S=typeof w=="number"?w:void 0;t({date:y,yearGZ:oe(y,S),monthGZ:Se(y,S),dayGZ:ae(y,_)})},resetDate:()=>{const{rule:y,lon:_}=r(),w=new Date,S=typeof _=="number"?_:void 0;t({date:w,yearGZ:oe(w,S),monthGZ:Se(w,S),dayGZ:ae(w,y)})},setScope:y=>t({scope:y}),setRule:y=>{const{date:_,lon:w}=r(),S=typeof w=="number"?w:void 0;t({rule:y,yearGZ:oe(_,S),monthGZ:Se(_,S),dayGZ:ae(_,y)})},setLon:y=>{const{date:_,rule:w}=r(),S=typeof y=="number"?y:void 0;t({lon:y,yearGZ:oe(_,S),monthGZ:Se(_,S),dayGZ:ae(_,w)})},setFromEvent:(y,_)=>{const{rule:w,lon:S}=r(),T=typeof S=="number"?S:void 0;t({date:y.at,scope:_,yearGZ:oe(y.at,T),monthGZ:Se(y.at,T),dayGZ:ae(y.at,w)})}}},{name:"luck-picker-v1",merge:(t,r)=>{const a=t;return a.date&&typeof a.date=="string"&&(a.date=new Date(a.date)),{...r,...a}}})),Uo={Classic:"고전",Modern:"현대"};function gi(t,r){const s={갑:{자:"목욕",축:"관대",인:"건록",묘:"제왕",진:"쇠",사:"병",오:"사",미:"묘",신:"절",유:"태",술:"양",해:"장생"},을:{자:"병",축:"쇠",인:"제왕",묘:"건록",진:"관대",사:"목욕",오:"장생",미:"양",신:"태",유:"절",술:"묘",해:"사"},병:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},정:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},무:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},기:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},경:{자:"사",축:"묘",인:"절",묘:"태",진:"양",사:"장생",오:"목욕",미:"관대",신:"건록",유:"제왕",술:"쇠",해:"병"},신:{자:"장생",축:"양",인:"태",묘:"절",진:"묘",사:"사",오:"병",미:"쇠",신:"제왕",유:"건록",술:"관대",해:"목욕"},임:{자:"제왕",축:"쇠",인:"병",묘:"사",진:"묘",사:"절",오:"태",미:"양",신:"장생",유:"목욕",술:"관대",해:"건록"},계:{자:"건록",축:"관대",인:"목욕",묘:"장생",진:"양",사:"태",오:"절",미:"묘",신:"사",유:"병",술:"쇠",해:"제왕"}}[t];return s?s[r]??"":""}function aj(t,r){return{자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육해",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"년살",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육해",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"년살"},묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"년살",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육해",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"년살",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육해",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"년살",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육해",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"년살",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육해"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육해",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"년살",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육해",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"년살",유:"월살",술:"망신",해:"장성"}}[t]?.[r]??""}function oj(t,r){const a={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"}},u=a[t];return u&&s[u]?s[u][r]??"":""}function sj(t,r){return{자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육액",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"도화",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육액",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"도화"},묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"도화",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육액",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"도화",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육액",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"도화",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육액",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"도화",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육액"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육액",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"도화",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육액",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"도화",유:"월살",술:"망신",해:"장성"}}[t]?.[r]??""}function lj(t,r){const a={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"}},u=a[t];return u&&s[u]?s[u][r]??"":""}function bi(t){const{baseBranch:r,targetBranch:a,era:s,gaehwa:u}=t;return!r||!a?"":s==="고전"?u?aj(r,a):oj(r,a):u?sj(r,a):lj(r,a)}function qc(t,r="야자시",a=100){const s=O.useMemo(()=>Gp(t),[t]),u=O.useMemo(()=>Kf(s),[s]),d=O.useMemo(()=>Ip(s,r),[s,r]),f=(p,b)=>{const y=b.getFullYear()-p.getFullYear(),_=b.getMonth()-p.getMonth(),w=b.getDate()-p.getDate(),S=_<0||_===0&&w<0?y-1:y;return Math.max(0,S)};return O.useMemo(()=>Yc(u,d.month,s.dir,a,s.birthPlace?.lon??127.5).events.map(b=>({...b,age:f(u,b.at)})),[u,d.month,s.dir,a,s.birthPlace?.lon])}function w0(t){return t instanceof Date&&!Number.isNaN(t.getTime())}function cj(t,r){if(!Array.isArray(t)||t.length===0||!w0(r))return{gz:"",at:r,index:-1};const a=t;for(let d=0;d<a.length;d++){const f=a[d],p=a[d+1];if(!w0(f.at))continue;if(r.getTime()>=f.at.getTime()&&(!p||w0(p.at)&&r.getTime()<p.at.getTime()))return{gz:f.gz??"",at:f.at,index:d}}if(r.getTime()<a[0].at.getTime()){const d=a[0];return{gz:d.gz??"",at:d.at,index:0}}const s=a.length-1,u=a[s];return{gz:u.gz??"",at:u.at,index:s}}function Zp(t,r,a){const{date:s,rule:u,lon:d}=In(),f=O.useMemo(()=>a??s??new Date,[a,s]),p=qc(t,t?.mingSikType),{gz:b}=cj(p,f);return O.useMemo(()=>{try{const y=d??t?.birthPlace?.lon??127.5,_=u??t?.mingSikType??r??"야자시";return{dae:{gz:b,at:f},se:{gz:oe(f,y),at:f},wol:{gz:Se(f,y),at:f},il:{gz:ae(f,_),at:f}}}catch{const y=new Date;return{dae:{gz:"",at:y},se:{gz:"",at:y},wol:{gz:"",at:y},il:{gz:"",at:y}}}},[f,u,d,t,r,b])}const g2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},b2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},uj=Object.fromEntries(Object.entries(g2).map(([t,r])=>[r,t])),dj=Object.fromEntries(Object.entries(b2).map(([t,r])=>[r,t])),fj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),hj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function mj(t,r,a){return a==="한글"?r==="stem"?g2[t]??t:b2[t]??t:r==="stem"?uj[t]??t:dj[t]??t}function pj(t,r){return r==="stem"?fj.has(t):hj.has(t)}function gj(t){return Ff(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function T0(t){const r=Uo;return gj(r)?t==="classic"?r.Classic:r.Modern:t}const bj={대운:1,세운:2,월운:3};function yj(t){return t.includes("월운")?3:t.includes("세운")?2:(t.includes("대운"),1)}const vj={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"};function xj(t){switch(vj[t]){case"목":return"bg-green-600 text-white border-green-600";case"화":return"bg-red-600 text-white border-red-600";case"토":return"bg-yellow-500 text-white border-yellow-500";case"금":return"bg-gray-400 text-white border-gray-400";case"수":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function _j({data:t,hourTable:r}){const{date:a}=In(),s=yr(z=>z.settings),u=t.mingSikType??r??"야자시",d=!t.birthPlace||t.birthPlace.name==="모름"||!t.birthPlace.lon?127.5:t.birthPlace.lon,{solarY:f,solarM:p,solarD:b}=O.useMemo(()=>{let z=Number(t.birthDay?.slice(0,4)??2e3),q=Number(t.birthDay?.slice(4,6)??1),K=Number(t.birthDay?.slice(6,8)??1);if(t.calendarType==="lunar"){const ct=Pr(z,q,K);z=ct.getFullYear(),q=ct.getMonth()+1,K=ct.getDate()}return{solarY:z,solarM:q,solarD:K}},[t.birthDay,t.calendarType]),[y,_]=O.useState(!1);O.useEffect(()=>{f&&p&&b&&_(gf(f,p,b))},[f,p,b]);const w=!t.birthTime||t.birthTime==="모름";function S(z,q){const K=!z.birthTime||z.birthTime==="모름";let ct=Number(z.birthDay.slice(0,4)),bt=Number(z.birthDay.slice(4,6)),Mt=Number(z.birthDay.slice(6,8));if(z.calendarType==="lunar"){const vt=Pr(ct,bt,Mt);ct=vt.getFullYear(),bt=vt.getMonth()+1,Mt=vt.getDate()}const Et=K?4:Number(z.birthTime.slice(0,2)),Lt=K?30:Number(z.birthTime.slice(2,4)),Dt=new Date(ct,bt-1,Mt,Et,Lt,0,0),St=!z.birthPlace||z.birthPlace.lon===0?127.5:z.birthPlace.lon,kt=Io(Dt,St,K),It=q?new Date(kt.getTime()-3600*1e3):kt,ee=z.mingSikType??"야자시",$t=oe(It,St),Xt=Se(It,St),xt=ae(It,ee),Bt=K?null:zr(It,ee);return{corrected:It,year:{stem:$t.charAt(0),branch:$t.charAt(1)},month:{stem:Xt.charAt(0),branch:Xt.charAt(1)},day:{stem:xt.charAt(0),branch:xt.charAt(1)},hour:Bt?{stem:Bt.charAt(0),branch:Bt.charAt(1)}:null}}const[T,N]=O.useState(()=>S(t,y));O.useEffect(()=>{N(S(t,y))},[t,y]);const j=t.id??`${t.birthDay}-${t.birthTime}-${t.name??""}`,A=O.useMemo(()=>{const z=Number(t.birthDay.slice(0,4)),q=Number(t.birthDay.slice(4,6)),K=Number(t.birthDay.slice(6,8));let ct=new Date(z,q-1,K);return t.calendarType==="lunar"&&(ct=Pr(z,q,K)),(!t.birthTime||t.birthTime==="모름")&&ct.setDate(ct.getDate()),ae(ct,"야자시").charAt(0)},[t.birthDay,t.birthTime,t.calendarType]),[$,I]=O.useState(null),[D,C]=O.useState(()=>t.mingSikType==="인시");O.useEffect(()=>{I(null),C(t.mingSikType==="인시")},[j,t.mingSikType]);const k=O.useMemo(()=>(D?mp:z_)[A]??[],[D,A]),G=$??T.hour,W=s.sinsalBase==="일지"?T.day.branch:T.year.branch,ot=Gs(z=>z.setManualHour),nt=(z,q)=>{const K={stem:z,branch:q};I(K),ot(K)},et=z=>s.showSibiUnseong?gi(A,z):null,Y=z=>s.showSibiSinsal?bi({baseBranch:W,targetBranch:z,era:T0(s.sinsalMode),gaehwa:s.sinsalBloom}):null,U=nj(t,u),tt=R7({query:"(min-width: 992px)"}),at=s.hiddenStem==="regular"?"main":"all",st=s.exposure,Z=st==="원국"?0:bj[st],rt=Z===0?[]:U.filter(z=>yj(z.label)<=Z),ft=gf(f,p,b),gt=()=>_(z=>!z),P=Zp(t,r,a),H=P.dae.gz,X=P.se.gz,Q=P.wol.gz;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(t.name?.trim()||"이름없음")+" ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",t.gender,")"]}),ft&&g.jsxs("button",{onClick:gt,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${y?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:["썸머타임 ",y?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[Sj(t.birthDay,t.birthTime),t.birthPlace?.name?` · ${"출생지: "+t.birthPlace.name}`:""]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["보정시: ",`${w?"모름":ij(T.corrected)}`]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["기준 경도: ",d.toFixed(2),"° · ",u," 기준"]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${rt.length===0?"grid-cols-1":rt.length===1?"grid-cols-[2fr_8fr]":rt.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[rt.length>0&&(tt?g.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:g.jsx("b",{children:"운"})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:`grid gap-2 p-3 ${rt.length===1?"grid-cols-1":rt.length===2?"grid-cols-2":"grid-cols-3"}`,children:rt.map(z=>{let q=z.data.stem,K=z.data.branch;z.label.includes("대운")&&H&&(q=H.charAt(0),K=H.charAt(1)),z.label.includes("세운")&&X&&(q=X.charAt(0),K=X.charAt(1)),z.label.includes("월운")&&Q&&(q=Q.charAt(0),K=Q.charAt(1));const ct=et(K),bt=Y(K);return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:z.label}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(A,{stem:q})}),g.jsx(Ga,{value:q,kind:"stem",charType:s.charType,thinEum:s.thinEum}),g.jsx(Ga,{value:K,kind:"branch",charType:s.charType,thinEum:s.thinEum}),g.jsx(xc,{branch:K,dayStem:A,mode:at,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&g.jsx("div",{children:ct}),s.showSibiSinsal&&g.jsx("div",{children:bt})]})]})]},z.key)})})})]}):g.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"운"}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:`grid gap-1 p-0 ${rt.length===1?"grid-cols-1":rt.length===2?"grid-cols-2":"grid-cols-3"}`,children:rt.map(z=>{const q=z.data.stem,K=z.data.branch,ct=et(K),bt=Y(K);return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:z.label}),g.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(A,{stem:q})}),g.jsx(Ga,{value:q,kind:"stem",charType:s.charType,thinEum:s.thinEum}),g.jsx(Ga,{value:K,kind:"branch",charType:s.charType,thinEum:s.thinEum}),g.jsx(xc,{branch:K,dayStem:A,mode:at,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&g.jsx("div",{children:ct}),s.showSibiSinsal&&g.jsx("div",{children:bt})]})]})]},z.key)})})})]})),tt?g.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:g.jsx("b",{children:"원국"})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"시주",data:G},{key:"day",label:"일주",data:T.day},{key:"month",label:"월주",data:T.month},{key:"year",label:"연주",data:T.year}].map(z=>g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:z.label}),g.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:z.data?g.jsxs(g.Fragment,{children:[s.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(A,{stem:z.data.stem})}),g.jsx(Ga,{value:z.data.stem,kind:"stem",charType:s.charType,thinEum:s.thinEum}),g.jsx(Ga,{value:z.data.branch,kind:"branch",charType:s.charType,thinEum:s.thinEum}),g.jsx(xc,{branch:z.data.branch,dayStem:A,mode:at,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&g.jsx("div",{children:gi(A,z.data.branch)}),s.showSibiSinsal&&g.jsx("div",{children:bi({baseBranch:s.sinsalBase==="일지"?T.day.branch:T.year.branch,targetBranch:z.data.branch,era:T0(s.sinsalMode),gaehwa:s.sinsalBloom})})]})]}):g.jsx("span",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},z.key))})})]}):g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"원국"}),g.jsx("div",{className:"px-1 pb-2",children:g.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"시주",data:G},{key:"day",label:"일주",data:T.day},{key:"month",label:"월주",data:T.month},{key:"year",label:"연주",data:T.year}].map(z=>g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:z.label}),g.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:z.data?g.jsxs(g.Fragment,{children:[s.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(A,{stem:z.data.stem})}),g.jsx(Ga,{value:z.data.stem,kind:"stem",charType:s.charType,thinEum:s.thinEum}),g.jsx(Ga,{value:z.data.branch,kind:"branch",charType:s.charType,thinEum:s.thinEum}),g.jsx(xc,{branch:z.data.branch,dayStem:A,mode:at,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&g.jsx("div",{children:gi(A,z.data.branch)}),s.showSibiSinsal&&g.jsx("div",{children:bi({baseBranch:s.sinsalBase==="일지"?T.day.branch:T.year.branch,targetBranch:z.data.branch,era:T0(s.sinsalMode),gaehwa:s.sinsalBloom})})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"시간 미상"})})]},z.key))})})]})]}),w&&g.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:"시주 예측"}),g.jsx("button",{onClick:()=>C(z=>!z),className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:D?"현재 : 인시 기준":"현재 : 자시 기준"})]}),g.jsx("div",{className:"grid grid-cols-4 gap-2",children:k.map(z=>{const q=z.charAt(0),K=z.charAt(1),ct=$?.stem===q&&$?.branch===K;return g.jsx("button",{onClick:()=>nt(q,K),className:`p-2 text-xs rounded border cursor-pointer ${ct?xj(K):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${z} (시주 후보)`,children:z},z)})})]})]})}function Ga({value:t,kind:r,charType:a,thinEum:s}){const{settings:u}=yr(),d=gr(t,r,u),f=mj(t,r,a),p=pj(t,r),b=s&&p?"font-thin":"font-bold";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${d} flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${b} text-white`,children:f})})}function Sj(t,r){if(!t||!/^\d{8}$/.test(t))return"";const a=t.slice(0,4),s=t.slice(4,6),u=t.slice(6,8),d=`${a}-${s}-${u}`;return!r||r==="모름"||!/^\d{4}$/.test(r)?d:`${d} ${r.slice(0,2)}:${r.slice(2,4)}`}function Vc(t){const r=Number(t.birthDay?.slice(0,4)),a=Number(t.birthDay?.slice(4,6))-1,s=Number(t.birthDay?.slice(6,8)),u=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(0,2)),d=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(2,4)),f=new Date(r,a,s,u,d,0,0);if(isNaN(f.getTime()))throw new Error(`Invalid date: ${t.birthDay} ${t.birthTime}`);const p=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름";return Io(f,t.birthPlace?.lon??127.5,p)}function Fc(t,r){const a=t,s=typeof a.isUnknownTime=="boolean"?a.isUnknownTime:!1,u=typeof a.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(a.birthTime),d=typeof a.birthHour=="number",f=typeof a.birthMinute=="number";if(s||!(u||d||f)){const b=new Date(r);return b.setDate(b.getDate()+1),b.setHours(4,30,0,0),b}return r}function Kc(t,r){const a=t.length;if(a===0||!r)return 0;const s=t[0].at.getTime(),u=t[a-1].at.getTime(),d=r.getTime();if(d<=s)return 0;if(d>=u)return a-1;for(let f=0;f<a-1;f+=1){const p=t[f].at.getTime(),b=t[f+1].at.getTime();if(d>=p&&d<b)return f}return 0}const y2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},v2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},wj=Object.fromEntries(Object.entries(y2).map(([t,r])=>[r,t])),Tj=Object.fromEntries(Object.entries(v2).map(([t,r])=>[r,t]));function sx(t,r,a){return a==="한글"?r==="stem"?y2[t]??t:v2[t]??t:r==="stem"?wj[t]??t:Tj[t]??t}const Ej=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Mj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function lx(t,r){return r==="stem"?Ej.has(t):Mj.has(t)}function Nj(t){return typeof t=="object"&&t!==null}function Aj(t){return Nj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Dj(t){const r=Uo;return Aj(r)?t==="classic"?r.Classic:r.Modern:t}function jj({data:t}){const r=qc(t),a=Vc(t),s=O.useMemo(()=>Fc(t,a),[t,a]),u=O.useMemo(()=>{const G=t.mingSikType??"야자시";return ae(s,G).charAt(0)},[s,t.mingSikType]),{date:d,setFromEvent:f}=In(),p=O.useMemo(()=>Kc(r,d),[r,d]),b=yr(G=>G.settings),{charType:y,thinEum:_,showSipSin:w,showSibiUnseong:S,showSibiSinsal:T,sinsalBase:N,sinsalMode:j,sinsalBloom:A}=b,$=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,I=t.mingSikType??"야자시",D=N==="일지"?ae(s,I).charAt(1):oe(s,$).charAt(1),C=G=>S?gi(u,G):null,k=G=>T?bi({baseBranch:D,targetBranch:G,era:Dj(j),gaehwa:!!A}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"대운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:r.map((G,W)=>{const ot=G.gz.charAt(0),nt=G.gz.charAt(1),et=kj(s,G.at),Y=W===p,U=sx(ot,"stem",y),tt=sx(nt,"branch",y),at=lx(ot,"stem"),st=lx(nt,"branch"),Z=_&&at?"font-thin":"font-bold",rt=_&&st?"font-thin":"font-bold",ft=C(nt),gt=k(nt);return g.jsxs("div",{onClick:()=>f(G,"대운"),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${Y?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${G.gz} · ${G.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:et}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[w&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(u,{stem:ot})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${gr(ot,"stem",b)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${Z}`,children:U})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${gr(nt,"branch",b)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${rt}`,children:tt})}),w&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(u,{branch:nt})}),(S||T)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[S&&g.jsx("div",{children:ft}),T&&g.jsx("div",{children:gt})]})]})]},G.gz)})})]})}function kj(t,r){const s=(r.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(s))}const x2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},_2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Oj=Object.fromEntries(Object.entries(x2).map(([t,r])=>[r,t])),Cj=Object.fromEntries(Object.entries(_2).map(([t,r])=>[r,t]));function cx(t,r,a){return a==="한글"?r==="stem"?x2[t]??t:_2[t]??t:r==="stem"?Oj[t]??t:Cj[t]??t}const Lj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Bj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function ux(t,r){return r==="stem"?Lj.has(t):Bj.has(t)}function Rj(t){return typeof t=="object"&&t!==null}function Pj(t){return Rj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function zj(t){const r=Uo;return Pj(r)?t==="classic"?r.Classic:r.Modern:t}function dx(t){return new Date(t,6,2,12,0,0,0)}function Hj(t,r){const a=r??new Date,s=a.getMonth(),u=a.getHours(),d=a.getMinutes();return s===0?new Date(t+1,0,10,u,d,0,0):new Date(t,s,10,u,d,0,0)}function $j({data:t,list:r,onSelect:a}){const s=yr(k=>k.settings),{date:u,setFromEvent:d}=In(),[f,p]=O.useState(()=>r);O.useEffect(()=>{r&&r.length>0&&p(r)},[r]);const b=Vc(t),y=O.useMemo(()=>Fc(t,b),[t,b]),_=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,w=O.useMemo(()=>{if(!u)return[];const k=u.getFullYear(),G=dx(k),W=oe(G,_);return[{at:G,gz:W}]},[u,_]),S=r.length>0?r:f.length>0?f:w,T=O.useMemo(()=>[...S].sort((k,G)=>k.at.getTime()-G.at.getTime()),[S]),N=O.useMemo(()=>{if(T.length===0)return 0;const k=Kc(T,u);return k<0?0:k>=T.length?T.length-1:k},[T,u]),[j,A]=O.useState(null);O.useEffect(()=>{A(null)},[u,T]);const $=j??N,I=t.mingSikType??"야자시",D=O.useMemo(()=>ae(y,I).charAt(0),[y,I]),C=O.useMemo(()=>s.sinsalBase==="일지"?ae(y,I).charAt(1):oe(y,_).charAt(1),[y,I,_,s.sinsalBase]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"세운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:T.map((k,G)=>{const W=k.at.getFullYear(),ot=dx(W),nt=oe(ot,_),et=nt.charAt(0),Y=nt.charAt(1),U=G===$,tt=cx(et,"stem",s.charType),at=cx(Y,"branch",s.charType),st=ux(et,"stem"),Z=ux(Y,"branch"),rt=s.thinEum&&st?"font-thin":"font-bold",ft=s.thinEum&&Z?"font-thin":"font-bold",gt=s.showSibiUnseong?gi(D,Y):null,P=s.showSibiSinsal?bi({baseBranch:C,targetBranch:Y,era:zj(s.sinsalMode),gaehwa:!!s.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{A(G);const H=Hj(W,u);d({at:H,gz:oe(H,_)},"세운"),a&&(typeof queueMicrotask<"u"?queueMicrotask(()=>a(W)):Promise.resolve().then(()=>a(W)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${U?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${nt} · ${k.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(D,{stem:et})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${gr(et,"stem",s)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${rt}`,children:tt})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${gr(Y,"branch",s)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${ft}`,children:at})}),s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(D,{branch:Y})}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[s.showSibiUnseong&&gt&&g.jsx("div",{children:gt}),s.showSibiSinsal&&P&&g.jsx("div",{children:P})]})]})]},`${W}-${k.gz||G}`)})})]})}const S2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},w2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Ij=Object.fromEntries(Object.entries(S2).map(([t,r])=>[r,t])),Uj=Object.fromEntries(Object.entries(w2).map(([t,r])=>[r,t]));function fx(t,r,a){return a==="한글"?r==="stem"?S2[t]??t:w2[t]??t:r==="stem"?Ij[t]??t:Uj[t]??t}const Gj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Zj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function hx(t,r){return r==="stem"?Gj.has(t):Zj.has(t)}function Yj(t){return typeof t=="object"&&t!==null}function qj(t){return Yj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Vj(t){const r=Uo;return qj(r)?t==="classic"?r.Classic:r.Modern:t}const Fj=new Set(["입춘","경칩","청명","입하","망종","소서","입추","백로","한로","입동","대설","소한"]);function Kj(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function Xj(t){const r=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(t);return Number(r.find(a=>a.type==="month")?.value??t.getMonth()+1)}function E0(t){return new Date(t,5,15,12,0,0,0)}function Wj(t){const a=[...Mc(E0(t-1))??[],...Mc(E0(t))??[],...Mc(E0(t+1))??[]].map(p=>({name:String(p.name),date:new Date(p.date)})).sort((p,b)=>p.date.getTime()-b.date.getTime()).filter(p=>Fj.has(p.name)),s=new Date(t,0,1,0,0,0,0),u=new Date(t+1,0,1,0,0,0,0),d=a.findIndex(p=>p.name==="입춘"&&p.date>=s&&p.date<u);if(d===-1)return[];const f=[];for(let p=0;p<12;p++){const b=a[d+p];if(!b)break;const y=new Date(b.date),_=Kj(y);f.push({name:b.name,termAt:y,at00:_})}return f}function Qj({data:t,activeYear:r,onSelect:a}){const s=yr(N=>N.settings),u=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,d=Vc(t),f=O.useMemo(()=>Fc(t,d),[t,d]),p=t.mingSikType??"야자시",b=O.useMemo(()=>ae(f,p).charAt(0),[f,p]),y=s.sinsalBase==="일지"?ae(f,p).charAt(1):oe(f,u).charAt(1),_=O.useMemo(()=>r?Wj(r).map(j=>{const A=j.at00,$=new Date(j.at00);$.setDate($.getDate()+1);const I=Se($,u);return{at:A,gz:I,term:j.name,termAt:j.termAt}}):[],[r,u]),{date:w,setFromEvent:S}=In(),T=Kc(_,w);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"월운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:_.map((N,j)=>{const A=N.gz.charAt(0),$=N.gz.charAt(1),I=`${Xj(N.at)}월`,D=j===T,C=fx(A,"stem",s.charType),k=fx($,"branch",s.charType),G=hx(A,"stem"),W=hx($,"branch"),ot=s.thinEum&&G?"font-thin":"font-bold",nt=s.thinEum&&W?"font-thin":"font-bold",et=s.showSibiUnseong?gi(b,$):null,Y=s.showSibiSinsal?bi({baseBranch:y,targetBranch:$,era:Vj(s.sinsalMode),gaehwa:!!s.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{const U=new Date(N.at);U.setDate(U.getDate()+1),a?.(U.getFullYear(),U.getMonth()+1),S({at:U,gz:Se(U,u)},"월운")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${D?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${N.term} 시작 · ${N.gz} · ${N.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:I}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(b,{stem:A})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${gr(A,"stem",s)}`,children:g.jsx("span",{className:`text-base md:text-xl text-white ${ot}`,children:C})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${gr($,"branch",s)}`,children:g.jsx("span",{className:`text-base md:text-xl text-white ${nt}`,children:k})}),s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(b,{branch:$})}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[s.showSibiUnseong&&et&&g.jsx("div",{children:et}),s.showSibiSinsal&&Y&&g.jsx("div",{children:Y})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:N.term})]})]},`${N.term}-${N.at.toISOString()}`)})})]})}const T2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},E2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Jj=Object.fromEntries(Object.entries(T2).map(([t,r])=>[r,t])),tk=Object.fromEntries(Object.entries(E2).map(([t,r])=>[r,t]));function mx(t,r,a){return a==="한글"?r==="stem"?T2[t]??t:E2[t]??t:r==="stem"?Jj[t]??t:tk[t]??t}const ek=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),nk=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function px(t,r){return r==="stem"?ek.has(t):nk.has(t)}function rk(t){return typeof t=="object"&&t!==null}function ik(t){return rk(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function ak(t){const r=Uo;return ik(r)?t==="classic"?r.Classic:r.Modern:t}function ok(t,r){const a=new Date(t,r-1,1,12,0,0,0),s=new Date(r===12?t+1:t,r===12?0:r,1,12,0,0,0);return{start:a,end:s}}function sk(t,r){const a=r===1?t-1:t;return new Date(a,5,15,12,0,0,0)}function lk({data:t,year:r,month:a,hourTable:s}){const u=yr(D=>D.settings),d=s??t?.mingSikType??"야자시",f=t?Vc(t):null,p=t&&f?Fc(t,f):null,b=O.useMemo(()=>p?ae(p,d).charAt(0):void 0,[p,d]),y=t&&t.birthPlace&&t.birthPlace.name!=="모름"&&t.birthPlace.lon!==0?t.birthPlace.lon:127.5,_=t&&p?u.sinsalBase==="일지"?ae(p,d).charAt(1):oe(p,y).charAt(1):null,{start:w,end:S}=O.useMemo(()=>ok(r,a),[r,a]),T=O.useMemo(()=>{const D=sk(r,a);return(Mc(D)??[]).slice().sort((k,G)=>k.date.getTime()-G.date.getTime()).filter(k=>k.date>=w&&k.date<S)},[r,a,w,S]),N=O.useMemo(()=>{const D=[],C=new Date(w);for(;C<S;)D.push(new Date(C)),C.setDate(C.getDate()+1);return D},[w,S]),j=O.useMemo(()=>{const D=[];let C=[];const k=new Date(r,a-1,1).getDay();for(let G=0;G<k;G++)C.push(null);for(const G of N)C.length===7&&(D.push(C),C=[]),C.push(G);for(;C.length<7;)C.push(null);return D.push(C),D},[N,r,a]),{date:A,setFromEvent:$}=In(),I=O.useMemo(()=>{const D=N.map(C=>({at:C}));return Kc(D,A)},[N,A]);return g.jsxs("div",{className:"w-full max-w={[800]} mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[r,"년 ",a,"월",T.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",T.map((D,C)=>g.jsxs("span",{children:[D.name," ",ck(D.date),C<T.length-1?" · ":""]},D.name+C)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["일","월","화","수","목","금","토"].map(D=>g.jsx("div",{className:"py-1",children:D},D))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:j.map((D,C)=>D.map((k,G)=>{if(!k)return g.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${C}-${G}`);const W=new Date(k.getFullYear(),k.getMonth(),k.getDate(),4,30,0,0),nt=N.findIndex(q=>q.getTime()===k.getTime())===I,et=ae(W,d),Y=et.charAt(0),U=et.charAt(1),tt=mx(Y,"stem",u.charType),at=mx(U,"branch",u.charType),st=u.thinEum&&px(Y,"stem")?"font-thin":"font-bold",Z=u.thinEum&&px(U,"branch")?"font-thin":"font-bold",rt=!!b&&u.showSipSin,ft=!!b&&u.showSibiUnseong,gt=!!b&&_!=null&&u.showSibiSinsal,P=rt?Hn(b,{stem:Y}):"",H=rt?Hn(b,{branch:U}):"",X=ft?gi(b,U):"",Q=gt?bi({baseBranch:_,targetBranch:U,era:ak(u.sinsalMode),gaehwa:!!u.sinsalBloom}):"",z=T.find(q=>q.date.getFullYear()===W.getFullYear()&&q.date.getMonth()===W.getMonth()&&q.date.getDate()===W.getDate());return g.jsxs("div",{onClick:()=>{$({at:k},"일운")},className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${nt?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${et} (${W.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:W.getDate()}),z&&g.jsx("span",{className:"px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:z.name})]}),rt&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:P}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${gr(Y,"stem",u)}`,children:g.jsx("span",{className:st,children:tt})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${gr(U,"branch",u)}`,children:g.jsx("span",{className:Z,children:at})}),rt&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:H}),(ft||gt)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[ft&&X&&g.jsx("div",{children:X}),gt&&Q&&g.jsx("div",{children:Q})]})]},k.toISOString())}))})]})}function ck(t){if(!t)return null;const r=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(t);let a="",s="",u="",d="";for(const f of r)f.type==="month"&&(a=f.value),f.type==="day"&&(s=f.value),f.type==="hour"&&(u=f.value),f.type==="minute"&&(d=f.value);return`${a}/${s} ${u}:${d}`}function gx(t,r){const a=t.at.getFullYear(),s=r?r.at.getFullYear():a+10,u=[];for(let d=a;d<s;d++){const f=rn(d,315);let p=d;new Date<f&&(p=d-1);const y=oe(new Date(p,1,10));u.push({at:f,gz:y})}return u}function uk({data:t}){const r=qc(t),[a,s]=O.useState(null),[u,d]=O.useState(null),[f,p]=O.useState("il");O.useEffect(()=>{if(!r.length)return;const S=new Date,T=r.findIndex((N,j)=>{const A=r[j+1]?.at;return S>=N.at&&(!A||S<A)});T!==-1&&s(T)},[r]),O.useEffect(()=>{if(a===null)return;const S=r[a],T=r[a+1];if(!S)return;const N=gx(S,T),j=new Date;N.findIndex(($,I)=>{const D=N[I+1]?.at;return j>=$.at&&(!D||j<D)})!==-1&&d({year:j.getFullYear(),month:j.getMonth()+1})},[a,r]);const b=Zp(t),{date:y}=In(),_=y.getMonth()+1===1?y.getFullYear()-1:y.getFullYear(),w=O.useMemo(()=>{if(!b?.dae?.gz)return[];const S=r.findIndex((j,A)=>{const $=r[A+1]?.at;return b.dae.at>=j.at&&(!$||b.dae.at<$)});if(S===-1)return[];const T=r[S],N=r[S+1];return gx(T,N)},[r,b?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(jj,{data:t}),f==="se"||f==="wol"||f==="il"?g.jsx($j,{data:t,list:w,onSelect:()=>{p("wol")}}):null,f==="wol"||f==="il"?g.jsx(Qj,{data:t,activeYear:_,onSelect:(S,T)=>{d({year:S,month:T}),p("il")}}):null,f==="il"&&u&&g.jsx(lk,{data:t,year:y.getFullYear(),month:y.getMonth()+1,hourTable:t?.mingSikType})]})}const dk=new Set(PT),fk=new Set(zT);function bx(t){return typeof t=="string"&&t.length>=2&&dk.has(t[0])&&fk.has(t[1])}function ur(t,...r){if(bx(t))return t;for(const a of r)if(bx(a))return a;return""}const hk={자:0,축:2,인:4,묘:6,진:8,사:10,오:12,미:14,신:16,유:18,술:20,해:22},M2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},mk={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function yx(t){return!!t&&Br.천간.includes(t)}function pk(t){return M2[t]??t}function vx(t){return mk[t]??t}function gk(t){if(yx(t))return t;const r=M2[t];return yx(r)?r:"갑"}function bk(t){return typeof t=="object"&&t!==null&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function yk(t){const r=Uo;return bk(r)?t==="classic"?r.Classic??r.classic:r.Modern??r.modern:t}function jd(t,r){let a=null;const s=r.getTime();for(const u of t)if(u.at.getTime()<=s)a=u;else break;return a}function vk({data:t}){const r=yr(et=>et.settings),{manualHour:a}=Gs(),{showSibiUnseong:s,showSibiSinsal:u,sinsalBase:d,sinsalMode:f,sinsalBloom:p}=r,{date:b}=In(),y=O.useMemo(()=>Gp(t),[t]),_=O.useMemo(()=>Kf(y),[y]),w=O.useMemo(()=>Ip(y,"야자시"),[y]),S=O.useMemo(()=>gk(w.day?.charAt(0)??"갑"),[w.day]),T=!t.birthTime||t.birthTime==="모름",N=O.useMemo(()=>f2(_,w.hour,t.dir??"forward",120,"야자시"),[_,w.hour,t.dir]),j=O.useMemo(()=>m2(N,w.day,t.dir??"forward","인시일수론"),[N,w.day,t.dir]),A=O.useMemo(()=>Yc(_,w.month,t.dir??"forward",120,y.birthPlace?.lon??127.5),[_,w.month,t.dir,y.birthPlace?.lon]),$=O.useMemo(()=>p2(A,w.year,t.dir??"forward","인시일수론",_),[A,w.year,t.dir,_]),I=O.useMemo(()=>{const et=N?.events?.[0];return et?{at:et.at,from:ur(w.hour),to:ur(et.gz)}:null},[N?.events,w.hour]),D=O.useMemo(()=>{const et=A?.events?.[0];return A?.firstChange?{at:A.firstChange,from:ur(w.month),to:ur(et?.gz??w.month)}:null},[A?.firstChange,A?.events,w.month]),C=O.useMemo(()=>{const et=T?a?a.stem+a.branch:"":ur(jd(N.events,b)?.gz,w.hour);let Y;if(T&&a){const U=b.getFullYear(),tt=b.getMonth(),at=b.getDate(),st=hk[a.branch]??0,Z=new Date(U,tt,at,st,0),rt=ae(Z,t.mingSikType??"야자시");Y=ur(rt,w.day)}else Y=ur(jd(j.events,b)?.gz,w.day);return{si:et,il:Y,wl:ur(jd(A.events,b)?.gz,w.month),yn:ur(jd($.events,b)?.gz,w.year)}},[b,N.events,j.events,A.events,$.events,w,T,a,t.mingSikType]),k=O.useMemo(()=>({si:ur(zr(b,"야자시")),il:ur(ae(b,"야자시")),wl:ur(Se(b)),yn:ur(oe(b))}),[b]),G=O.useMemo(()=>d==="일지"?w.day.charAt(1):w.year.charAt(1),[d,w.day,w.year]),W=O.useMemo(()=>yk(f),[f]),ot=et=>{if(!et)return{unseong:"",shinsal:""};const Y=pk(S),U=vx(et.charAt(1)),tt=vx(G);return{unseong:s&&gi(Y,U)||"",shinsal:u&&bi({baseBranch:tt,targetBranch:U,era:W,gaehwa:!!p})||""}},nt=(et,Y,U="myoun")=>{const tt=Y,{unseong:at,shinsal:st}=Y?ot(Y):{unseong:"",shinsal:""},Z=U==="myoun"&&T&&(et==="시주"||et==="일주");return g.jsx(Rs,{label:et,gz:tt,dayStem:S,settings:r,unseongText:Y?at:"",shinsalText:Y?st:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:Z},`${U}-${et}`)};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:["묘운 + 실시간 운 뷰어"," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(출생: ",Nc(_),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"묘운뷰어"}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[nt("시주",C.si,"myoun"),nt("일주",C.il,"myoun"),nt("월주",C.wl,"myoun"),nt("연주",C.yn,"myoun")]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"실시간 간지뷰어"}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[nt("시주",k.si,"live"),nt("일주",k.il,"live"),nt("월주",k.wl,"live"),nt("연주",k.yn,"live")]})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"첫 전환 시각"}),g.jsxs("div",{children:["시주:"," ",I?`${Nc(I.at)} (${I.from} → ${I.to})`:"계산 불가"]}),g.jsxs("div",{children:["월주:"," ",D?`${Nc(D.at)} (${D.from} → ${D.to})`:"계산 불가"]})]})]})}const xx=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],xk={갑목:"목",을목:"목",병화:"화",정화:"화",무토:"토",기토:"토",경금:"금",신금:"금",임수:"수",계수:"수"},_k={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},Sk={목:"화",화:"토",토:"금",금:"수",수:"목"},wk={화:"목",토:"화",금:"토",수:"금",목:"수"},Tk={목:"토",화:"금",토:"수",금:"목",수:"화"},Ek={토:"목",금:"화",수:"토",목:"금",화:"수"};function Mk(t,r){switch(t){case"비겁":return r;case"식상":return Sk[r];case"재성":return Tk[r];case"관성":return Ek[r];case"인성":return wk[r];default:return r}}function Nk({data:t,perStemElementScaled:r,elementPercent:a,dayStem:s,width:u=280,height:d=280,revKey:f}){const p=u,b=d,y=p/2,_=b/2,w=Math.min(p,b)*.37,S=O.useMemo(()=>{const D=(s??"").charAt(0);return _k[D]??null},[s]),T=D=>Math.PI/2+2*-Math.PI*D/5,N=O.useMemo(()=>t.map((D,C)=>({...D,x:y+w*Math.cos(T(C)),y:_-w*Math.sin(T(C))})),[t,y,_,w]),[j,A]=O.useState(0),$=O.useRef(""),I=O.useMemo(()=>{const D=t.map(G=>`${G.name}:${G.value}`).join(","),C=xx.map(G=>`${G}:${r?.[G]??0}`).join(","),k=a?`목:${a.목??0},화:${a.화??0},토:${a.토??0},금:${a.금??0},수:${a.수??0}`:"el:none";return[f??"",D,C,k,s??""].join("||")},[f,t,r,s,a]);return O.useEffect(()=>{I!==$.current&&($.current=I,A(D=>D+1))},[I]),g.jsx("div",{className:"w-full",children:g.jsxs("svg",{width:p,height:b,className:"mx-auto pt-2",children:[N.map((D,C)=>{const k=N[(C+2)%5];return g.jsx("line",{x1:D.x,y1:D.y,x2:k.x,y2:k.y,stroke:"#94a3b8",strokeWidth:1},`line-${C}`)}),N.map((D,C)=>{const k=N[(C+1)%5],G=(D.x+k.x)/2,W=(D.y+k.y)/2,ot=G-y,nt=W-_,et=1.5,Y=y+ot*et,U=_+nt*et;return g.jsx("path",{d:`M${D.x},${D.y} Q${Y},${U} ${k.x},${k.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${C}`)}),g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:g.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),N.map(D=>{const C=D.name,k=S?Mk(C,S):null,G=k?xx.filter(W=>xk[W]===k).map(W=>[W,r?.[W]??0]):[];return g.jsxs("g",{transform:`translate(${D.x},${D.y})`,children:[g.jsx("circle",{r:33,fill:D.color??"#334155",opacity:D.value===0?.7:1}),g.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[D.name," ",D.value]}),G.map(([W,ot],nt)=>g.jsxs("text",{textAnchor:"middle",dy:8+nt*11,fontSize:10,className:"fill-white",children:[W," ",Math.round(ot)]},W))]},`${D.name}-${D.value}`)})]},j)})}const Ak=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}];function Yp(t){return Math.max(0,Math.min(100,t))}function N2(t){const r=Yp(t);return Ak.find(s=>r>=s.min&&r<s.max)?.name??"중화"}const Dk=[10,20,35,45,55,65,80];function jk({value:t}){const r=O.useMemo(()=>Yp(t),[t]),a=O.useMemo(()=>N2(r),[r]);return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:"신약"}),g.jsx("span",{children:"중화"}),g.jsx("span",{children:"신강"})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[Dk.map(s=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${s}%`},title:`${s}%`},s)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${r}%`,transform:"translateX(-50%)"},"aria-label":`현재 강약 ${r}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:a}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[r.toFixed(1),"%"]})]})]})}const qa=["연","월","일","시"],kd={year:0,month:1,day:2,hour:3},M0="매우약함",kk={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},A2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function Ut(t){if(!t)return"";const r=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),a=r.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(a)return`${a[1]}${a[2]}`;const s=r.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(s){const u=kk[s[1]]??s[1],d=A2[s[2]]??s[2];return`${u}${d}`}return""}const zs=t=>t&&t.length>=1?t[0]:"",fr=t=>t&&t.length>=2?t[1]:"",xf=[{pair:["갑","기"],label:"갑기합"},{pair:["을","경"],label:"을경합"},{pair:["병","신"],label:"병신합"},{pair:["정","임"],label:"정임합"},{pair:["무","계"],label:"무계합"}],_f=[{pair:["갑","경"],label:"갑경충"},{pair:["을","신"],label:"을신충"},{pair:["병","임"],label:"병임충"},{pair:["정","계"],label:"정계충"}],Sf=[{pair:["자","축"],label:"자축합"},{pair:["인","해"],label:"인해합"},{pair:["묘","술"],label:"묘술합"},{pair:["진","유"],label:"진유합"},{pair:["사","신"],label:"사신합"},{pair:["오","미"],label:"오미합"}],wf=[{pair:["자","오"],label:"자오충"},{pair:["사","해"],label:"사해충"},{pair:["인","신"],label:"인신충"},{pair:["묘","유"],label:"묘유충"},{pair:["진","술"],label:"진술충"},{pair:["축","미"],label:"축미충"}],Tf=[{pair:["축","진"],label:"축진파"},{pair:["술","미"],label:"술미파"},{pair:["자","유"],label:"자유파"},{pair:["묘","오"],label:"묘오파"},{pair:["사","신"],label:"사신파"},{pair:["인","해"],label:"인해파"}],Ef=[{pair:["인","사"],label:"인사해"},{pair:["신","해"],label:"신해해"},{pair:["자","미"],label:"자미해"},{pair:["축","오"],label:"축오해"},{pair:["묘","진"],label:"묘진해"},{pair:["유","술"],label:"유술해"}],Mf=[{pair:["자","미"],label:"자미원진"},{pair:["인","유"],label:"인유원진"},{pair:["축","오"],label:"축오원진"},{pair:["묘","신"],label:"묘신원진"},{pair:["진","해"],label:"진해원진"},{pair:["사","술"],label:"사술원진"}],Nf=[{pair:["인","미"],label:"인미귀문"},{pair:["묘","신"],label:"묘신귀문"},{pair:["진","해"],label:"진해귀문"},{pair:["사","술"],label:"사술귀문"},{pair:["자","유"],label:"자유귀문"},{pair:["축","오"],label:"축오귀문"}],Ok=[{name:"인사신",members:["인","사","신"]},{name:"축술미",members:["축","술","미"]}],Af=[{pair:["인","신"],label:"인신상형"},{pair:["인","사"],label:"인사상형"},{pair:["사","신"],label:"사신상형"},{pair:["술","미"],label:"술미상형"},{pair:["축","술"],label:"축술상형"},{pair:["축","미"],label:"축미상형"}],Df=[{pair:["자","묘"],label:"자묘형"}],_x=new Set(["진","오","유","해"]),Bc=new Set(["정해","무자","신사","임오"]),Xf=[{name:"해묘미",members:["해","묘","미"],out:"목",wang:"묘"},{name:"인오술",members:["인","오","술"],out:"화",wang:"오"},{name:"사유축",members:["사","유","축"],out:"금",wang:"유"},{name:"신자진",members:["신","자","진"],out:"수",wang:"자"}],Wf=[{name:"인묘진",members:["인","묘","진"],out:"목",wang:"묘"},{name:"사오미",members:["사","오","미"],out:"화",wang:"오"},{name:"신유술",members:["신","유","술"],out:"금",wang:"유"},{name:"해자축",members:["해","자","축"],out:"수",wang:"자"}];function ue(t,r,a){for(const{pair:[s,u],label:d}of t)if(r===s&&a===u||r===u&&a===s)return d;return null}function ie(t,r){t.includes(r)||t.push(r)}const jo=t=>[...t].sort((r,a)=>r-a).map(r=>qa[r]).join("X"),N0=(t,r)=>t===0&&r===3||t===3&&r===0;function Sx(t,r){const a=[];for(const s of t)for(const u of r){if(s===u)continue;const d=Math.min(s,u),f=Math.max(s,u);d===0&&f===3||a.push([d,f])}return a.sort((s,u)=>{const d=Math.abs(s[0]-s[1]),f=Math.abs(u[0]-u[1]);return d!==f?d-f:0})}function Ck(t){const r=[],a=[...t].sort((s,u)=>s-u);for(let s=0;s<a.length;s++)for(let u=s+1;u<a.length;u++){const d=a[s],f=a[u];d===0&&f===3||r.push([d,f])}return r}const D2=t=>{switch(t){case"연":return"연주";case"월":return"월주";case"일":return"일주";case"시":return"시주"}};function Lk(t){if(!t)return!1;const r=t.normalize("NFC").trim();return/^#\s*없음$/u.test(r)}const Bk=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function j2(t){for(const r of Bk){const s=(t[r]??[]).map(u=>u&&u.normalize("NFKC")).filter(u=>!!u&&!Lk(u));t[r]=s}return t}function k2(t,r={}){const{emitGanjiAmhap:a=!0}=r,s=t.map(Ut),u=s.map(S=>zs(S)),d=s.map(S=>fr(S)),p={title:s.map((S,T)=>`${S}${["년","월","일","시"][T]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},b=(S,T,N,j)=>{const A=u.flatMap((I,D)=>I===S?[D]:[]),$=u.flatMap((I,D)=>I===T?[D]:[]);for(const I of A)for(const D of $)I!==D&&Math.abs(I-D)===1&&ie(j,`#${jo([I,D])}_${N}`)};xf.forEach(({pair:[S,T],label:N})=>b(S,T,N,p.cheonganHap)),_f.forEach(({pair:[S,T],label:N})=>b(S,T,N,p.cheonganChung));const y=S=>{const T=new Set,N=[];for(const j of S)for(let A=0;A<d.length;A++)if(d[A]===j&&!T.has(A)){T.add(A),N.push(A);break}return N};Xf.forEach(({name:S,members:T,wang:N})=>{const j=T.filter($=>d.includes($)),A=new Set(j).size;if(A===3){const $=y(T);$.length===3&&ie(p.jijiSamhap,`#${jo($)}_${S}삼합`)}else if(A===2){if(!j.includes(N))return;const[$,I]=j,D=d.flatMap((W,ot)=>W===$?[ot]:[]),C=d.flatMap((W,ot)=>W===I?[ot]:[]),k=Sx(D,C),G=k.length>1;for(const[W,ot]of k){const nt=N0(W,ot),et=`#${jo([W,ot])}_${$}${I}반합${G?"":nt?`_${M0}`:""}`;ie(p.jijiSamhap,et)}}}),Wf.forEach(({name:S,members:T})=>{const N=T.filter(A=>d.includes(A));if(new Set(N).size===3){const A=y(T);A.length===3&&ie(p.jijiBanghap,`#${jo(A)}_${S}방합`)}});const _=(S,T,N,j)=>{const A=d.flatMap((C,k)=>C===S?[k]:[]),$=d.flatMap((C,k)=>C===T?[k]:[]),I=Sx(A,$),D=I.length>1;for(const[C,k]of I){const G=N0(C,k),W=`#${jo([C,k])}_${N}${D?"":G?`_${M0}`:""}`;ie(j,W)}};if(Sf.forEach(({pair:[S,T],label:N})=>_(S,T,N,p.jijiYukhap)),wf.forEach(({pair:[S,T],label:N})=>_(S,T,N,p.jijiChung)),Tf.forEach(({pair:[S,T],label:N})=>_(S,T,N,p.jijiPa)),Ef.forEach(({pair:[S,T],label:N})=>_(S,T,N,p.jijiHae)),Mf.forEach(({pair:[S,T],label:N})=>_(S,T,N,p.jijiWonjin)),Nf.forEach(({pair:[S,T],label:N})=>_(S,T,N,p.jijiGwimun)),[["인","사","신"],["축","술","미"]].forEach(S=>{const T=[],N=new Set;if(S.forEach(j=>{d.forEach((A,$)=>{A===j&&(T.push($),N.add(j))})}),N.size===3){const j=Array.from(new Set(T)).sort((A,$)=>A-$);ie(p.jijiHyeong,`#${jo(j)}_${S.join("")}삼형`)}}),Af.forEach(({pair:[S,T],label:N})=>_(S,T,N,p.jijiHyeong)),Df.forEach(({pair:[S,T],label:N})=>_(S,T,N,p.jijiHyeong)),["진","오","유","해"].forEach(S=>{const T=d.flatMap((A,$)=>A===S?[$]:[]),N=Ck(T),j=N.length>1;for(const[A,$]of N){const I=N0(A,$),D=`#${jo([A,$])}_${S}${S}자형${j?"":I?`_${M0}`:""}`;ie(p.jijiHyeong,D)}}),[{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}].forEach(({pair:[S,T],label:N})=>_(S,T,N,p.amhap)),a)for(let S=0;S<4;S++){const T=s[S]??"";if(T.length<2)continue;const N=`${T[0]}${T[1]}`;Bc.has(N)&&ie(p.ganjiAmhap,`#${D2(qa[S])}_${N}암합`)}return j2(p)}function Bs(t,r={}){const{emitNatalGanjiAmhap:a=!1}=r,s=[Ut(t.natal[0]??""),Ut(t.natal[1]??""),Ut(t.natal[2]??""),Ut(t.natal[3]??"")],d=[Ut(t.daewoon??""),Ut(t.sewoon??""),Ut(t.wolwoon??"")].some(y=>y.length>=2),f={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(a&&d)for(let y=0;y<4;y++){const _=s[y]??"";if(_.length<2)continue;const w=`${_[0]}${_[1]}`;Bc.has(w)&&ie(f.ganjiAmhap,`#${D2(qa[y])}_${w}암합`)}const p=[["대운",t.daewoon],["세운",t.sewoon],["월운",t.wolwoon],["일운",t.ilwoon]];for(const[y,_]of p){if(!_)continue;const w=Ut(_);if(!w||w.length<2)continue;const S=zs(w),T=fr(w);{const A=`${S}${T}`;Bc.has(A)&&ie(f.ganjiAmhap,`#${y}_${A}암합`)}for(let A=0;A<4;A++){const $=s[A]??"";if($.length<2)continue;const I=qa[A],D=zs($),C=fr($),k=ue(xf,S,D);k&&ie(f.cheonganHap,`#${y}X${I}_${k}`);const G=ue(_f,S,D);G&&ie(f.cheonganChung,`#${y}X${I}_${G}`);const W=ue(Sf,T,C);W&&ie(f.jijiYukhap,`#${y}X${I}_${W}`);const ot=ue(wf,T,C);ot&&ie(f.jijiChung,`#${y}X${I}_${ot}`);const nt=ue(Tf,T,C);nt&&ie(f.jijiPa,`#${y}X${I}_${nt}`);const et=ue(Ef,T,C);et&&ie(f.jijiHae,`#${y}X${I}_${et}`);const Y=ue(Mf,T,C);Y&&ie(f.jijiWonjin,`#${y}X${I}_${Y}`);const U=ue(Nf,T,C);U&&ie(f.jijiGwimun,`#${y}X${I}_${U}`);const tt=ue(Af,T,C);if(tt)ie(f.jijiHyeong,`#${y}X${I}_${tt}`);else{const Z=ue(Df,T,C);Z?ie(f.jijiHyeong,`#${y}X${I}_${Z}`):T===C&&_x.has(T)&&ie(f.jijiHyeong,`#${y}X${I}_${T}${C}자형`)}const st=ue([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],T,C);st&&ie(f.amhap,`#${y}X${I}_${st}`)}const N=s.map(A=>{const $=fr(A??"");return A2[$]??$});for(const A of Xf){if(!A.members.includes(T))continue;const $=A.members.filter(D=>D!==T),I=N.map((D,C)=>({b:D,pos:qa[C]})).filter(D=>$.includes(D.b));if(new Set(I.map(D=>D.b)).size===2){const[D,C]=I.map(k=>k.pos).sort((k,G)=>["시","일","월","연"].indexOf(k)-["시","일","월","연"].indexOf(G));ie(f.jijiSamhap,`#${y}X${D}X${C}_삼합(${A.name})`)}}const j=[...s.map((A,$)=>({b:fr(A),pos:qa[$]})),...t.daewoon?[{b:fr(Ut(t.daewoon)),pos:"대운"}]:[],...t.sewoon?[{b:fr(Ut(t.sewoon)),pos:"세운"}]:[],...t.wolwoon?[{b:fr(Ut(t.wolwoon)),pos:"월운"}]:[],...t.ilwoon?[{b:fr(Ut(t.ilwoon)),pos:"일운"}]:[]];for(const A of Wf){const $=j.filter(I=>A.members.includes(I.b));if(new Set($.map(I=>I.b)).size===3){const I=$.map(D=>D.pos).join("X");ie(f.jijiBanghap,`#${I}_방합(${A.name})`)}}for(const A of Ok){if(!A.members.includes(T))continue;const $=A.members.filter(D=>D!==T),I=N.map((D,C)=>({b:D,pos:qa[C]})).filter(D=>$.includes(D.b));if(new Set(I.map(D=>D.b)).size===2){const[D,C]=I.map(k=>k.pos).sort((k,G)=>["시","일","월","연"].indexOf(k)-["시","일","월","연"].indexOf(G));ie(f.jijiHyeong,`#${y}X${D}X${C}삼형(${A.name})`)}}}const b=[];t.daewoon&&t.sewoon&&b.push(["대운",t.daewoon,"세운",t.sewoon]),t.sewoon&&t.wolwoon&&b.push(["세운",t.sewoon,"월운",t.wolwoon]),t.daewoon&&t.wolwoon&&b.push(["대운",t.daewoon,"월운",t.wolwoon]),t.ilwoon&&t.daewoon&&b.push(["일운",t.ilwoon,"대운",t.daewoon]),t.ilwoon&&t.sewoon&&b.push(["일운",t.ilwoon,"세운",t.sewoon]),t.ilwoon&&t.wolwoon&&b.push(["일운",t.ilwoon,"월운",t.wolwoon]);for(const[y,_,w,S]of b){const T=Ut(_),N=Ut(S);if(T.length<2||N.length<2)continue;const j=zs(T),A=fr(T),$=zs(N),I=fr(N),D=ue(xf,j,$);D&&ie(f.cheonganHap,`#${y}X${w}_${D}`);const C=ue(_f,j,$);C&&ie(f.cheonganChung,`#${y}X${w}_${C}`);const k=ue(Sf,A,I);k&&ie(f.jijiYukhap,`#${y}X${w}_${k}`);const G=ue(wf,A,I);G&&ie(f.jijiChung,`#${y}X${w}_${G}`);const W=ue(Tf,A,I);W&&ie(f.jijiPa,`#${y}X${w}_${W}`);const ot=ue(Ef,A,I);ot&&ie(f.jijiHae,`#${y}X${w}_${ot}`);const nt=ue(Mf,A,I);nt&&ie(f.jijiWonjin,`#${y}X${w}_${nt}`);const et=ue(Nf,A,I);et&&ie(f.jijiGwimun,`#${y}X${w}_${et}`);const Y=ue(Af,A,I);if(Y)ie(f.jijiHyeong,`#${y}X${w}_${Y}`);else{const tt=ue(Df,A,I);tt?ie(f.jijiHyeong,`#${y}X${w}_${tt}`):A===I&&_x.has(A)&&ie(f.jijiHyeong,`#${y}X${w}_${A}${I}자형`)}const U=ue([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],A,I);U&&ie(f.amhap,`#${y}X${w}_${U}`)}return j2(f)}function Rk(t,r){const s=t.map(Ut).map(b=>fr(b)),u=kd.month,d=s[u],f=b=>{const y=[];for(let _=0;_<4;_++){const w=s[_];w&&b.has(w)&&y.push(_)}return y},p=b=>{const y=[...b].sort((_,w)=>_-w);return y.length===3&&y[0]+1===y[1]&&y[1]+1===y[2]};for(const b of Xf){const y=new Set(b.members),_=f(y);if(_.length===3){const w=_.includes(u),S=d===b.wang;w?p(_)?r[b.out]+=S?10:8:r[b.out]+=5:r[b.out]+=3}if(_.length===2&&_.includes(u)){const w=_[0]===u?_[1]:_[0],S=d===b.wang;w===kd.day&&S?r[b.out]+=8:w===kd.year&&S?r[b.out]+=6:w===kd.hour&&(r[b.out]+=S?4:2)}}for(const b of Wf){const y=new Set(b.members),_=f(y);if(_.length===3){const w=_.includes(u),S=d===b.wang;w?p(_)?r[b.out]+=S?8:6:r[b.out]+=4:r[b.out]+=2}}}function wx(t){const r=["연","월","일","시"],a=t.map(Ut),s=a.map(p=>zs(p)),u=a.map(p=>fr(p)),d=new Map,f=new Map;for(let p=0;p<4;p++){const b=s[p],y=u[p];b.includes(b)&&d.set(b,[...d.get(b)??[],p]),y.includes(y)&&f.set(y,[...f.get(y)??[],p])}return{stemsByPos:s,brsByPos:u,stemPos:d,brPos:f,names:r}}function _e(t){return qa[t]}function An(t,r){r&&(t.includes(r)||t.push(r))}function Pk(t,r){const a=wx(t),s=wx(r),u={천간합:[],천간충:[],지지삼합:[],지지방합:[],지지반합:[],지지육합:[],암합:[],간지암합:[],지지충:[],지지형:[],지지파:[],지지해:[],지지원진:[],지지귀문:[]};for(let p=0;p<4;p++){const b=a.stemsByPos[p],y=a.brsByPos[p];for(let _=0;_<4;_++){const w=s.stemsByPos[_],S=s.brsByPos[_],T=ue(xf,b,w);T&&An(u.천간합,`${_e(p)}X${_e(_)} ${T}`);const N=ue(_f,b,w);N&&An(u.천간충,`${_e(p)}X${_e(_)} ${N}`);const j=ue(Sf,y,S);j&&An(u.지지육합,`${_e(p)}X${_e(_)} ${j}`);const A=ue(wf,y,S);A&&An(u.지지충,`${_e(p)}X${_e(_)} ${A}`);const $=ue(Tf,y,S);$&&An(u.지지파,`${_e(p)}X${_e(_)} ${$}`);const I=ue(Ef,y,S);I&&An(u.지지해,`${_e(p)}X${_e(_)} ${I}`);const D=ue(Mf,y,S);D&&An(u.지지원진,`${_e(p)}X${_e(_)} ${D}`);const C=ue(Nf,y,S);C&&An(u.지지귀문,`${_e(p)}X${_e(_)} ${C}`);const G=ue([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],y,S);G&&An(u.암합,`${_e(p)}X${_e(_)} ${G}`);const W=`${b}${S}`,ot=`${w}${y}`;Bc.has(W)&&An(u.간지암합,`${_e(p)}X${_e(_)} ${W}암합`),Bc.has(ot)&&An(u.간지암합,`${_e(_)}X${_e(p)} ${ot}암합`);const nt=ue(Af,y,S);if(nt)An(u.지지형,`${_e(p)}X${_e(_)} ${nt}`);else{const et=ue(Df,y,S);et&&An(u.지지형,`${_e(p)}X${_e(_)} ${et}`)}}}const d=new Set(a.brsByPos.filter(Boolean)),f=new Set(s.brsByPos.filter(Boolean));for(const p of Xf){if(p.members.every(_=>d.has(_)||f.has(_))){const _=p.members.filter(S=>d.has(S)).length,w=p.members.filter(S=>f.has(S)).length;_>=1&&w>=1&&An(u.지지삼합,`${p.name}삼합`)}const y=p.members.filter(_=>d.has(_)||f.has(_));if(y.length===2&&y.includes(p.wang)){const _=y.some(S=>d.has(S)),w=y.some(S=>f.has(S));if(_&&w){const[S,T]=y.sort(),N=a.brPos.get(S)?.[0]??a.brPos.get(T)?.[0],j=s.brPos.get(S)?.[0]??s.brPos.get(T)?.[0];N!=null&&j!=null&&An(u.지지반합,`${_e(N)}X${_e(j)} ${S}${T}반합`)}}}for(const p of Wf)if(p.members.every(y=>d.has(y)||f.has(y))){const y=p.members.filter(w=>d.has(w)).length,_=p.members.filter(w=>f.has(w)).length;y>=1&&_>=1&&An(u.지지방합,`${p.name}방합`)}return Object.keys(u).forEach(p=>u[p].sort()),u}function pc(t,r){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(r){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Wr({label:t,natal:r,dae:a,se:s,wol:u,il:d}){const f=a.length+s.length+u.length+d.length>0,p=r.length>0?r:["#없음"],b=f?p.filter(w=>w!=="#없음"):p,_=b.some(w=>w!=="#없음")||a.length>0||s.length>0||u.length>0||d.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:[g.jsx("div",{className:_,children:t}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.map((w,S)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+pc(w,"natal"),children:w},`natal-${S}`)),a.map((w,S)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+pc(w,"dae"),children:w},`dae-${S}`)),s.map((w,S)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+pc(w,"se"),children:w},`se-${S}`)),u.map((w,S)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+pc(w,"wol"),children:w},`wol-${S}`)),d.map((w,S)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+pc(w,"il"),children:w},`il-${S}`))]})]})}function sp(t){return Array.isArray(t)?t:[]}function Od(t,r){const a=new Set(sp(t));return sp(r).filter(u=>!a.has(u))}function zk({pillars:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u,tab:d="원국"}){const f=k2(t),p=Bs({natal:t}),b=r?Bs({natal:t,daewoon:r}):p,y=a?Bs({natal:t,daewoon:r,sewoon:a}):b,_=s?Bs({natal:t,daewoon:r,sewoon:a,wolwoon:s}):y,w=u?Bs({natal:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u}):_,S=j=>({natal:sp(f[j]),dae:Od(p[j],b[j]),se:Od(b[j],y[j]),wol:Od(y[j],_[j]),il:Od(_[j],w[j])}),T={cheonganHap:S("cheonganHap"),cheonganChung:S("cheonganChung"),jijiSamhap:S("jijiSamhap"),jijiBanghap:S("jijiBanghap"),jijiYukhap:S("jijiYukhap"),amhap:S("amhap"),ganjiAmhap:S("ganjiAmhap"),jijiChung:S("jijiChung"),jijiHyeong:S("jijiHyeong"),jijiPa:S("jijiPa"),jijiHae:S("jijiHae")},N=j=>d==="원국"?{natal:j.natal,dae:[],se:[],wol:[],il:[]}:d==="대운"?{natal:j.natal,dae:j.dae,se:[],wol:[],il:[]}:d==="세운"?{natal:j.natal,dae:j.dae,se:j.se,wol:[],il:[]}:d==="월운"?{natal:j.natal,dae:j.dae,se:j.se,wol:j.wol,il:[]}:d==="일운"?{natal:j.natal,dae:j.dae,se:j.se,wol:j.wol,il:j.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"형충회합"}),g.jsx(Wr,{label:"천간합",...N(T.cheonganHap)}),g.jsx(Wr,{label:"천간충",...N(T.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(Wr,{label:"지지삼합",...N(T.jijiSamhap)}),g.jsx(Wr,{label:"지지방합",...N(T.jijiBanghap)}),g.jsx(Wr,{label:"지지육합",...N(T.jijiYukhap)}),g.jsx(Wr,{label:"암합",...N(T.amhap)}),g.jsx(Wr,{label:"간지암합",...N(T.ganjiAmhap)}),g.jsx(Wr,{label:"지지충",...N(T.jijiChung)}),g.jsx(Wr,{label:"지지형",...N(T.jijiHyeong)}),g.jsx(Wr,{label:"지지파",...N(T.jijiPa)}),g.jsx(Wr,{label:"지지해",...N(T.jijiHae)})]})}const Hk={목:{비겁:"#13B713",식상:"#DC143C",재성:"#F0B100",관성:"#a0a0a0",인성:"#353535"},화:{비겁:"#DC143C",식상:"#F0B100",재성:"#a0a0a0",관성:"#353535",인성:"#13B713"},토:{비겁:"#F0B100",식상:"#a0a0a0",재성:"#353535",관성:"#13B713",인성:"#DC143C"},금:{비겁:"#a0a0a0",식상:"#353535",재성:"#13B713",관성:"#DC143C",인성:"#F0B100"},수:{비겁:"#353535",식상:"#13B713",재성:"#DC143C",관성:"#F0B100",인성:"#a0a0a0"}},$k={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"};function O2(t){const r=$k[t]??"목";return Hk[r]}const C2={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},Ik={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},Xc={목:"화",화:"토",토:"금",금:"수",수:"목"},Rc={화:"목",토:"화",금:"토",수:"금",목:"수"},nl={목:"토",화:"금",토:"수",금:"목",수:"화"},Uk=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],Gk={해:{temp:"cold",wet:"wet"},자:{temp:"cold",wet:"wet"},축:{temp:"cold",wet:"wet"},인:{temp:"mild",wet:"normal"},묘:{temp:"mild",wet:"normal"},진:{temp:"mild",wet:"wet"},사:{temp:"hot",wet:"normal"},오:{temp:"hot",wet:"dry"},미:{temp:"hot",wet:"wet"},신:{temp:"mild",wet:"dry"},유:{temp:"mild",wet:"dry"},술:{temp:"mild",wet:"dry"}};function qp(t){return Math.max(0,Math.min(100,t))}function Ks(t,r,a){return Math.max(r,Math.min(a,t))}function Zk(t){const r=qp(t);return Uk.find(a=>r>=a.min&&r<a.max)?.name??"중화"}function Yk(t){const r=t?.[2]?.charAt(0)??"";return C2[r]??null}function qk(t){return(t?.[1]?.charAt(1)??"")||null}function Qf(t){const r=Object.entries(nl);for(const[a,s]of r)if(s===t)return a;return"토"}function Vk(t){return t?{peer:t,resource:Rc[t],leak:Xc[t],wealth:nl[t],officer:Qf(t)}:null}function Fk(t){const r={목:0,화:0,토:0,금:0,수:0};for(const a of t){if(!a)continue;const s=a.charAt(0),u=a.charAt(1),d=C2[s],f=Ik[u];d&&(r[d]+=10),f&&(r[f]+=6)}return r}function Kk(t){const r=Object.values(t).reduce((s,u)=>s+u,0);if(r<=0)return{목:20,화:20,토:20,금:20,수:20};const a={목:0,화:0,토:0,금:0,수:0};return Object.keys(t).forEach(s=>{a[s]=t[s]/r*100}),a}function Xk(t){if(!t||t.length===0)return null;const r=t.reduce((s,u)=>s+(u?.value??0),0)||0;if(r<=0)return null;const a=s=>t.find(u=>u.name===s)?.value??0;return qp((a("비겁")+a("인성"))/r*100)}function Wk(t,r){return!t||!r?null:r===t?"비겁":Xc[t]===r?"식상":nl[t]===r?"재성":Qf(t)===r?"관성":Rc[t]===r?"인성":null}const A0=24,Qk=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function Jk(t){for(const[r,a]of Qk)if(t>=r)return a;return 1}const jf=20,Tx=(t,r)=>Ks((jf-(r[t]??0))/jf,0,1),Ex=(t,r)=>Ks(((r[t]??0)-jf)/jf,0,1);function t9(t,r,a,s){const u=Wk(t,a);if(!t||!u)return 0;const d=Ks((50-r)/50,0,1),f=Ks((r-50)/50,0,1),p=Tx(a,s),b=Ex(a,s),y=Tx(t,s),_=Ex(t,s),w=6.5;let S=0;if(d>0)switch(u){case"인성":S=+(.3+.4*y+.15*p)*d;break;case"비겁":S=+(.18+.45*y)*d;break;case"관성":S=-(.08+.2*(1-p)+.1*_)*d;break;case"재성":S=-(.22+.25*(1-p)+.1*(1-y))*d;break;case"식상":S=-(.35+.25*(1-p)+.1*(1-y))*d;break}else if(f>0)switch(u){case"인성":S=-(.25+.25*(1-p)+.2*_)*f;break;case"비겁":S=-(.28+.2*_)*f;break;case"관성":S=+(.18+.2*p+.15*_)*f;break;case"재성":S=+(.22+.25*p+.1*_)*f;break;case"식상":S=+(.2+.2*p)*f;break}else switch(u){case"인성":S=.08*(y+p);break;case"비겁":S=.05*y-.03*_;break;case"관성":S=.02*p-.02*b;break;case"재성":S=.01*p-.06*b;break;case"식상":S=-.05*(1-p);break}return Math.round(w*S*10)/10}function e9(t,r,a,s){const u=["중화신강","태강","극태강"].includes(r),d=["극약","태약","신약","중화신약"].includes(r),f={목:0,화:0,토:0,금:0,수:0};if(u){const p=Xc[t],b=nl[t],y=Qf(t);f[p]+=28,f[b]+=22,f[y]+=20,s.get(p)?.push("억부: 일간 강 → 설기(식상)"),s.get(b)?.push("억부: 일간 강 → 재성 누설"),s.get(y)?.push("억부: 일간 강 → 관성 절제")}if(d){const p=Rc[t],b=t;f[p]+=28,f[b]+=22,s.get(p)?.push("억부: 일간 약 → 인성 보강"),s.get(b)?.push("억부: 일간 약 → 비겁 보강")}return f}function Mx(t,r){if(!t)return{목:0,화:0,토:0,금:0,수:0};const a=Gk[t]??{temp:"mild",wet:"normal"},s={목:0,화:0,토:0,금:0,수:0};return a.temp==="cold"?(s.화+=16,s.토+=6,r.get("화")?.push("조후: 한랭 → 화"),r.get("토")?.push("조후: 한랭습 보조")):a.temp==="hot"&&(s.수+=14,s.금+=6,r.get("수")?.push("조후: 염열 → 수"),r.get("금")?.push("조후: 제열 보조")),a.wet==="wet"?(s.토+=8,s.화+=4,r.get("토")?.push("조후: 습 → 토"),r.get("화")?.push("조후: 습냉 가온")):a.wet==="dry"&&(s.수+=8,s.목+=4,r.get("수")?.push("조후: 건조 → 수"),r.get("목")?.push("조후: 생발 보조")),s}function Nx(t,r){const a={목:0,화:0,토:0,금:0,수:0},s=["목","화","토","금","수"];for(const u of s){const d=nl[u],f=Math.max(0,(t[u]??0)-(t[d]??0));if(f<=0)continue;const p=Xc[u],b=Math.round(f*.35);b>0&&(a[p]+=b,r.get(p)?.push(`통관: ${u}극${d} 완화`))}return a}function Ax(t,r){const a={목:0,화:0,토:0,금:0,수:0},s=Object.entries(t),u=Math.min(...s.map(([,f])=>f)),d=s.filter(([,f])=>f<=Math.max(6,u));for(const[f]of d)a[f]+=12,r.get(f)?.push("병약: 결핍 보충");return a}function Dx(t,r){const a=Yk(t),s=qk(t),u=Fk(t),d=Kk(u);let f=Xk(r);if(f==null)if(!a)f=50;else{const Y=a,U=Rc[a],tt=Object.values(u).reduce((at,st)=>at+st,0)||1;f=qp(((u[Y]??0)+(u[U]??0))/tt*100)}const p=Zk(f),b={목:0,화:0,토:0,금:0,수:0},y=new Map(["목","화","토","금","수"].map(Y=>[Y,[]]));if(a){const Y=e9(a,p,u,y);Object.keys(b).forEach(U=>{b[U]+=Y[U]??0})}const _=Mx(s,y);Object.keys(b).forEach(Y=>{b[Y]+=_[Y]??0});const w=Nx(u,y);Object.keys(b).forEach(Y=>{b[Y]+=w[Y]??0});const S=Ax(u,y);Object.keys(b).forEach(Y=>{b[Y]+=S[Y]??0});const T=Vk(a),N={비겁:0,식상:0,재성:0,관성:0,인성:0};if(Array.isArray(r))for(const Y of r)N[Y.name]=Y.value;if(f>=45&&f<=55&&T){const Y=N.관성>=30||N.관성>=Math.max(N.비겁,N.식상,N.재성,N.인성)+5;f<=50?(b[T.resource]+=14,y.get(T.resource)?.push("밸런스: 중화-약측"),b[T.peer]+=10,y.get(T.peer)?.push("밸런스: 중화-약측"),b[T.leak]+=6,y.get(T.leak)?.push("밸런스: 중화-약측"),b[T.wealth]+=3,y.get(T.wealth)?.push("밸런스: 중화-약측"),Y&&T.officer&&(b[T.officer]=Math.round(b[T.officer]*.8*10)/10,y.get(T.officer)?.push("밸런스: 관성 과다 억제"))):(b[T.leak]+=14,y.get(T.leak)?.push("밸런스: 중화-강측"),b[T.wealth]+=10,y.get(T.wealth)?.push("밸런스: 중화-강측"),T.officer&&(b[T.officer]+=6,y.get(T.officer)?.push("밸런스: 중화-강측")),b[T.resource]+=3,y.get(T.resource)?.push("밸런스: 중화-강측"))}["목","화","토","금","수"].forEach(Y=>{const U=t9(a,f,Y,d);b[Y]=Ks(Math.round((b[Y]+U)*10)/10,0,999)});const A=f<50;["목","화","토","금","수"].forEach(Y=>{const U=d[Y]??0,tt=A&&a===Y;if(U>=A0&&!tt){const at=Jk(U);b[Y]=Math.round(b[Y]*at*10)/10;const st=Math.min(14,Math.max(0,Math.ceil((U-A0)*.5)));st>0&&(b[Y]=Ks(b[Y]-st,0,999)),y.get(Y)?.push("강과 패널티(강화)")}});const $={목:[],화:[],토:[],금:[],수:[]};if(a){const Y=Xc[a],U=nl[a],tt=Qf(a),at=a,st=Rc[a];$[Y].push("식상"),$[U].push("재성"),$[tt].push("관성"),$[at].push("비겁"),$[st].push("인성")}const I={목:(u.목??0)>0,화:(u.화??0)>0,토:(u.토??0)>0,금:(u.금??0)>0,수:(u.수??0)>0},D=Y=>{const U=d[Y]??0;return U>=A0&&!(A&&a===Y)?U>=55?4:U>=45?3:2:I[Y]?0:1},C=Mx(s,new Map),k=Nx(u,new Map),G=Ax(u,new Map),W=Object.keys(b).map(Y=>({element:Y,score:Math.round(b[Y]*10)/10,via:n9(Y,C,k,G),reasons:(y.get(Y)??[]).slice(),tenGodHints:$[Y]})).sort((Y,U)=>{const tt=D(Y.element),at=D(U.element);return tt!==at?tt-at:U.score!==Y.score?U.score-Y.score:Y.element.localeCompare(U.element)}),ot=r9(p,C,k,G),nt={비겁:0,식상:0,재성:0,관성:0,인성:0},et=r?r.reduce((Y,U)=>(Y[U.name]=U.value,Y),{...nt}):void 0;return{chosenType:ot,ordered:W,debug:{band:p,overallPct:f,elementScore:u,tenGodTotals:et,monthBranch:s??void 0}}}function n9(t,r,a,s){const u=[];return(r[t]??0)>0&&u.push("조후"),(a[t]??0)>0&&u.push("통관"),(s[t]??0)>0&&u.push("병약"),u.length===0&&u.push("억부"),u}function r9(t,r,a,s){if(["극약","태약","태강","극태강"].includes(t))return"억부";const d=y=>Object.values(y).reduce((_,w)=>_+w,0),f=d(r),p=d(a),b=d(s);return f>Math.max(p,b)?"조후":p>=b?"통관":"병약"}const i9=Object.fromEntries(br.천간.map((t,r)=>[t,$n[r]])),a9=Object.fromEntries($n.map((t,r)=>[t,br.천간[r]])),o9=Object.fromEntries(br.지지.map((t,r)=>[t,Wn[r]])),s9=Object.fromEntries(Wn.map((t,r)=>[t,br.지지[r]])),l9=t=>i9[t]??t,c9=t=>o9[t]??t,u9=t=>a9[t]??t,d9=t=>s9[t]??t;function f9(t){const r={...t};for(const a of Object.keys(t)){const s=/[甲乙丙丁戊己庚辛壬癸]/.test(a)?l9(a):u9(a);s&&r[s]===void 0&&(r[s]=t[a])}return r}function Vp(t){const r={...t};for(const a of Object.keys(t)){const s=/[子丑寅卯辰巳午未申酉戌亥]/.test(a)?c9(a):d9(a);s&&r[s]===void 0&&(r[s]=t[a])}return r}const h9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},m9={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},L2={자:[{stem:"계",ratio:1,main:!0}],子:[{stem:"계",ratio:1,main:!0}],축:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],丑:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],인:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],寅:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],묘:[{stem:"을",ratio:1,main:!0}],卯:[{stem:"을",ratio:1,main:!0}],진:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],辰:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],사:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],巳:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],오:[{stem:"정",ratio:1,main:!0}],午:[{stem:"정",ratio:1,main:!0}],미:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],未:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],신:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],申:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],유:[{stem:"신",ratio:1,main:!0}],酉:[{stem:"신",ratio:1,main:!0}],술:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],戌:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],해:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}],亥:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}]},p9={...L2,인:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],寅:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],오:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],午:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],사:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],巳:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],신:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],申:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}]},jx=f9(h9),kx=Vp(m9);Vp(L2);Vp(p9);const g9=["원국","대운","세운","월운","일운"],Or={2:4,1:3,3:2,0:1},Hs={1:4,2:3,0:2,3:1},B2=new Set(Object.keys($f)),R2=new Set(Object.keys(hp)),b9=t=>t.slice(0,1),y9=t=>t.slice(-1);function Xi(t){return Hf.has(t)?t:B2.has(t)?$f[t]??t:t}function Dn(t){return fp.has(t)?t:R2.has(t)?hp[t]??t:t}function $s(t){return Xi(b9(t))}function nn(t){return Dn(y9(t))}const Nt={year:0,month:1,day:2,hour:3};function D0(t,r){const a=Dn(t),s=[Nt.day,Nt.month,Nt.hour,Nt.year];for(const u of s)if(nn(r[u])===a)return{pos:u,weight:Or[u]??0};return null}function Fp(t,r,a){return nn(r[a])===Dn(t)?{pos:a,weight:Or[a]}:null}function v9(t,r){const a=Xi(t),s=[Nt.day,Nt.month,Nt.hour,Nt.year];for(const u of s)if($s(r[u])===a)return{pos:u,weight:Or[u]??0};return null}const x9=/^#(연지|월지|일지|시지)X\1_/,_9=t=>x9.test(t);function Ox(t){const r=new Map;for(const a of t){if(_9(a.name))continue;const s=`${a.name}@${a.pos}`,u=r.get(s);(!u||a.weight>u.weight)&&r.set(s,a)}return Array.from(r.values()).sort((a,s)=>s.weight!==a.weight?s.weight-a.weight:a.name.localeCompare(s.name,"ko"))}function Cd(t){return t===3?"si":t===2?"il":t===1?"wol":"yeon"}const $o=t=>t===0?"연지":t===1?"월지":t===2?"일지":"시지",rl=t=>t==="dae"?"대운":t==="se"?"세운":t==="wol"?"월운":"일운",S9=(t,r)=>`#일간X${$o(r)}_${t}`,P2=(t,r)=>r===Nt.month?`#월지_${t}`:`#월지X${$o(r)}_${t}`,Kp=(t,r,a)=>`#${$o(r)}X${$o(a)}_${t}`,w9=(t,r)=>`#${t==="day"?"일간":"연간"}X${$o(r)}_공망`,Cx=t=>`#일주_${t}`,Ld=(t,r)=>`#${$o(r)}_${t}`,ks=(t,r)=>`#일간X${rl(r)}_${t}`,gc=(t,r)=>`#월지X${rl(r)}_${t}`,j0=(t,r,a)=>`#${rl(r)}X${$o(a)}_${t}`,T9=(t,r)=>`#${r==="day"?"일간":"연간"}X${rl(t)}_공망`,E9=(t,r)=>`#${r==="day"?"일지":"연지"}X${rl(t)}_삼재`,Lx=(t,r)=>`#연지X${rl(t)}_${r}`;function M9(t){if(!t)return null;const r=Array.from(String(t));let a=null,s=null;for(const u of r)!a&&(Hf.has(u)||B2.has(u))&&(a=Xi(u)),(fp.has(u)||R2.has(u))&&(s=Dn(u));return a&&s?{stem:a,branch:s}:null}function N9(t){return t.map(nn)}const Ge=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[Dn(r),(Array.isArray(a)?a:[a]).map(Dn)])),A9=Ge({자:"사",축:"축",인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유"}),z2=Ge({자:"진",축:"사",인:"오",묘:"미",진:"신",사:"유",오:"술",미:"해",신:"자",유:"축",술:"인",해:"묘"}),D9=Ge({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),j9=Ge({자:"인",축:"인",인:"사",묘:"사",진:"사",사:"신",오:"신",미:"신",신:"해",유:"해",술:"해",해:"인"}),k9=Ge({자:"술",축:"술",인:"축",묘:"축",진:"축",사:"진",오:"진",미:"진",신:"미",유:"미",술:"미",해:"술"}),H2=Ge({자:"술",축:"해",인:"자",묘:"축",진:"인",사:"묘",오:"진",미:"사",신:"오",유:"미",술:"신",해:"유"}),O9=Ge({자:"오",축:"묘",인:"자",묘:"유",진:"오",사:"묘",오:"자",미:"유",신:"오",유:"묘",술:"자",해:"유"}),C9=Ge({자:"사",축:"인",인:"진",묘:"미",진:"사",사:"인",오:"진",미:"미",신:"사",유:"인",술:"진",해:"미"}),L9=Ge({자:"신",축:"술",인:"자",묘:"인",진:"진",사:"오",오:"신",미:"술",신:"자",유:"인",술:"진",해:"오"}),B9=Ge({자:"사",축:"미",인:"유",묘:"해",진:"축",사:"묘",오:"사",미:"미",신:"유",유:"해",술:"축",해:"묘"}),R9=Ge({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),$2=Ge({자:"사",축:"오",인:"미",묘:"신",진:"유",사:"술",오:"해",미:"자",신:"축",유:"인",술:"묘",해:"진"}),P9=Ge({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),z9=Ge({자:"신",축:"사",인:"인",묘:"해",진:"신",사:"사",오:"인",미:"해",신:"신",유:"사",술:"인",해:"해"}),H9=Ge({자:"묘",축:"진",인:"사",묘:"오",진:"미",사:"신",오:"유",미:"술",신:"해",유:"자",술:"축",해:"인"}),$9=Ge({자:"유",축:"술",인:"해",묘:"자",진:"축",사:"인",오:"묘",미:"진",신:"사",유:"오",술:"미",해:"신"}),I9=Ge({자:"자",축:"축",인:"인",묘:"묘",진:"진",사:"사",오:"오",미:"미",신:"신",유:"유",술:"술",해:"해"}),U9=Ge({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),I2=Ge({자:"해",축:"자",인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술"}),G9=$2,Z9=z2,Y9=I2,q9=Ge({자:"유",축:"진",인:"해",묘:"오",진:"축",사:"신",오:"묘",미:"술",신:"사",유:"자",술:"미",해:"인"}),V9=H2,F9=Ge({자:"신",축:"유",인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미"}),K9=Ge({자:"축",축:"묘",인:"신",묘:"축",진:"묘",사:"신",오:"축",미:"묘",신:"신",유:"축",술:"묘",해:"신"}),X9=Ge({자:"오",축:"미",인:"인",묘:"오",진:"미",사:"인",오:"오",미:"미",신:"인",유:"오",술:"미",해:"인"}),U2=t=>(Array.isArray(t)?t:String(t).split("·")).map(r=>Dn(r.trim())).filter(Boolean),Hr=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[Dn(r),(Array.isArray(a)?a:[a]).map(s=>Dn(s))])),Bx={인:"정",묘:"신",진:"임",사:"신",오:"해",미:"갑",신:"계",유:"인",술:"병",해:"을",자:"사",축:"경"},Rx={인:"병",묘:"갑",진:"임",사:"경",오:"병",미:"갑",신:"임",유:"경",술:"병",해:"갑",자:"임",축:"경"},Px={인:"임",묘:"사",진:"정",사:"병",오:"인",미:"기",신:"무",유:"해",술:"신",해:"경",자:"신",축:"을"},zx={인:"신",묘:"기",진:"정",사:"을",오:"신",미:"기",신:"정",유:"을",술:"신",해:"기",자:"정",축:"을"},W9=Hr({인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미",자:"신",축:"유"}),Hx=Hr({인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"신",유:"유",술:"술",해:"해",자:"자",축:"축"}),Jf=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[Dn(r),U2(a)])),Q9=Jf({인:"무인",묘:"무인",진:"무인",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),J9=Jf({인:"을묘",묘:"을묘",진:"을묘",사:"병오",오:"병오",미:"병오",신:"신유",유:"신유",술:"신유",해:"임자",자:"임자",축:"임자"}),t5=Jf({인:"신묘",묘:"신묘",진:"신묘",사:"무오",오:"무오",미:"무오",신:"계유",유:"계유",술:"계유",해:"병자",자:"병자",축:"병자"}),e5=Jf({인:"갑자",묘:"갑자",진:"갑자",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),n5=Hr({인:["해","자"],묘:["해","자"],진:["해","자"],사:["묘","미"],오:["묘","미"],미:["묘","미"],신:["인","술"],유:["인","술"],술:["인","술"],해:["축","진"],자:["축","진"],축:["축","진"]}),r5=Hr({인:"인",묘:"묘",진:"신",사:"축",오:"술",미:"유",신:"진",유:"사",술:"오",해:"미",자:"해",축:"자"}),i5=Hr({인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유",자:"사",축:"축"}),a5=Hr({인:"진",묘:"진",진:"진",사:"미",오:"미",미:"미",신:"술",유:"술",술:"술",해:"축",자:"축",축:"축"}),o5=Hr({인:["사","해"],묘:["진","술"],진:["묘","유"],사:["인","신"],오:["축","미"],미:["자","오"],신:["사","해"],유:["진","술"],술:["묘","유"],해:["인","신"],자:["축","미"],축:["자","오"]}),$x=Hr({인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술",자:"해",축:"자"}),s5=Hr({인:"미",묘:"오",진:"사",사:"진",오:"묘",미:"인",신:"축",유:"자",술:"해",해:"술",자:"유",축:"신"}),l5=Hr({인:"술",묘:"축",진:"인",사:"사",오:"유",미:"묘",신:"자",유:"오",술:"해",해:"진",자:"신",축:"미"}),c5=Hr({인:"축",묘:"자",진:"해",사:"술",오:"유",미:"신",신:"미",유:"오",술:"사",해:"진",자:"묘",축:"인"}),u5=Hr({인:"해",묘:"술",진:"유",사:"신",오:"미",미:"오",신:"사",유:"진",술:"묘",해:"인",자:"축",축:"자"}),Ze=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[Xi(r),U2(a)])),d5=Ze({갑:"자·오",을:"자",병:"묘",정:"묘",무:"진·술",기:"축·미",경:"인·해",신:"인·해",임:"사·신",계:"사·신"}),Ix=Ze({갑:"축·미",을:"자·신",병:"해·유",정:"해·유",무:"축·미",기:"자·신",경:"축·미",신:"인·오",임:"사·묘",계:"사·묘"}),f5=Ze({갑:"사",을:"오",병:"사",정:"오",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),h5=Ze({갑:"유",을:"신",병:"자",정:"해",무:"묘",기:"인",경:"오",신:"사",임:"축·미",계:"진·술"}),m5=Ze({갑:"미",을:"진",병:"사",정:"유",무:"술",기:"묘",경:"해",신:"신",임:"인",계:"오"}),p5=Ze({갑:"사",을:"오",병:"신",정:"유",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),g5=Ze({갑:"해",을:"술",병:"신",정:"미",무:"신",기:"미",경:"사",신:"진",임:"인",계:"축"}),Ux=Ze({갑:"진",을:"사",병:"미",정:"신",무:"미",기:"신",경:"술",신:"해",임:"축",계:"인"}),b5=Ze({갑:"축·묘",을:"인·진",병:"진·오",정:"사·미",무:"진·오",기:"사·미",경:"미·유",신:"신·술",임:"술·자",계:"해·축"}),y5=Ze({갑:"사",을:"사",병:"사",정:"신",무:"해",기:"해",경:"인",신:"인",임:"신",계:"신"}),v5=Ze({갑:"해",을:"자",병:"인",정:"묘",무:"인",기:"묘",경:"사",신:"오",임:"신",계:"유"}),x5=Ze({갑:"해",을:"오",병:"인",정:"유",무:"인",기:"유",경:"사",신:"자",임:"신",계:"묘"}),Gx=Ze({갑:"신",을:"오",병:"인",정:"미",무:"진",기:"진",경:"술",신:"유",임:"자",계:"신"}),_5=Ze({갑:"유",을:"술",병:"미",정:"신",무:"사",기:"오",경:"진",신:"묘",임:"해",계:"인"}),S5=Ze({갑:"사",을:"자",병:"신",정:"술",무:"묘",기:"사",경:"자",신:"신",임:"술",계:"묘"}),Zx=Ze({갑:"자",을:"해",병:"인",정:"묘",무:"오",기:"사",경:"진·술",신:"축·미",임:"신",계:"유"}),w5=Ze({갑:"인",정:"사",무:"신",신:"해"}),T5=Ze({갑:"유",을:"술",병:"자",정:"축",무:"자",기:"축",경:"묘",신:"진",임:"오",계:"미"}),Yx=Ze({정:"축·미",신:"묘·유",계:"사·해"}),qx=Ze({병:"자·오",무:"인·신",임:"진·술"}),E5=Ze({갑:"진",을:"진",병:"축",정:"축",무:"축",기:"축",경:"미",신:"미",임:"술",계:"술"}),Vx=Ze({갑:"묘",을:"진",병:"오",정:"미",무:"오",기:"미",경:"유",신:"술",임:"자",계:"축"}),Fx=Ze({갑:"진",을:"미",병:"술",정:"축",무:"진",임:"술",계:"축"}),k0=[["자","미"],["인","유"],["축","오"],["묘","신"],["진","해"],["사","술"]],O0=[["인","미"],["묘","신"],["진","해"],["사","술"],["자","유"],["축","오"]],M5=new Set(["인미","미인","묘신","신문"]),Kx=[["술","해"],["진","사"]],N5=[{set:new Set(["갑자","을축","병인","정묘","무진","기사","경오","신미","임술","계유"]),voids:["술","해"]},{set:new Set(["갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미"]),voids:["신","유"]},{set:new Set(["갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사"]),voids:["오","미"]},{set:new Set(["갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘"]),voids:["진","사"]},{set:new Set(["갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"]),voids:["인","묘"]},{set:new Set(["갑인","을묘","병진","정사","무오","기미","경신","신유","임진","계해"]),voids:["자","축"]}];function bc(t,r,a){const s=Dn(r),u=Dn(a);for(const[d,f]of t)if(d===s&&f===u||d===u&&f===s)return!0;return!1}function Xx(t,r,a){const s=Dn(r),u=Dn(a);for(const[d,f]of t)if(d===s&&f===u||d===u&&f===s)return`${d}${f}`;return`${s}${u}`}function Bd(t){for(const r of N5)if(r.set.has(t))return r.voids;return null}function C0(t){const r=Dn(t),a=[{group:new Set(["해","묘","미"]),years:new Set(["사","오","미"])},{group:new Set(["인","오","술"]),years:new Set(["신","유","술"])},{group:new Set(["사","유","축"]),years:new Set(["해","자","축"])},{group:new Set(["신","자","진"]),years:new Set(["인","묘","진"])}];for(const s of a)if(s.group.has(r))return Array.from(s.years);return null}function Wc(t,r){t.push(r)}function L0(t,r,a,s,u=0){const d=Hs[a]>=Hs[s]?a:s,f=Kp(r,a,s);t.push({name:f,weight:Or[d]+u,pos:d})}function ke(t,r,a,s,u){const d=nn(t[Nt.year]),f=r[d];if(!f)return;const p=a==="MONTH"?[Nt.month]:a==="DAY"?[Nt.day]:a==="HOUR"?[Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const b of f)for(const y of p){const _=Fp(b,t,y);_&&Wc(u,{name:Kp(s,Nt.year,y),weight:_.weight,pos:y})}}function Rd(t,r,a,s){const u=nn(t[Nt.month]),d=r[u];if(!d)return;const f=Xi(d),p=v9(f,t);p&&Wc(s,{name:P2(a,p.pos),weight:p.weight,pos:p.pos})}function dr(t,r,a,s,u="ALL"){const d=nn(t[Nt.month]),f=r[d];if(!f)return;const p=u==="YEAR"?[Nt.year]:u==="DAY"?[Nt.day]:u==="HOUR"?[Nt.hour]:u==="DAY_HOUR"?[Nt.day,Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const b of f)for(const y of p){const _=Fp(b,t,y);if(!_)continue;const w=y===Nt.month?`#월지_${a}`:P2(a,y);Wc(s,{name:w,weight:_.weight,pos:y})}}function Pd(t,r,a,s){const u=nn(t[Nt.month]),d=r[u];if(!d)return;const f=t[Nt.day];d.includes(f)&&Wc(s,{name:Kp(a,Nt.month,Nt.day),weight:Or[Nt.day],pos:Nt.day})}function Oe(t,r,a,s,u){const d=$s(t[Nt.day]),f=r[d];if(!f)return;const p=u==="DAY"?[Nt.day]:u==="HOUR"?[Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const b of f)for(const y of p){const _=Fp(b,t,y);_&&Wc(s,{name:S9(a,y),weight:_.weight,pos:y})}}function Sc({natal:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u,basis:d}){const f=`원국 ${t.join(" · ")}`,p=$s(t[Nt.day]),b=nn(t[Nt.day]),y=nn(t[Nt.month]),_=nn(t[Nt.year]),w=N9(t),S=[],T=[],N=new Set(["경진","임진","경술","무술"]);if(ke(t,A9,"MONTH","태백",T),ke(t,z2,"DAY","오귀",T),ke(t,j9,"MONTH","고신",T),ke(t,k9,"MONTH","과숙",T),ke(t,O9,"ALL","수옥",T),ke(t,C9,"HOUR","단명",T),ke(t,L9,"ALL","천모",T),ke(t,B9,"ALL","지모",T),ke(t,R9,"ALL","대모",T),ke(t,$2,"ALL","소모",T),ke(t,P9,"ALL","격각",T),ke(t,z9,"ALL","파군",T),ke(t,H9,"ALL","구신",T),ke(t,$9,"ALL","교신",T),ke(t,I9,"ALL","반음",T),ke(t,U9,"ALL","복음",T),ke(t,I2,"ALL","병부",T),ke(t,G9,"ALL","사부",T),ke(t,Z9,"ALL","관부",T),ke(t,Y9,"ALL","태음",T),ke(t,q9,"ALL","세파",T),ke(t,V9,"ALL","천구",T),ke(t,F9,"ALL","비염",T),ke(t,K9,"ALL","매아",T),ke(t,X9,"ALL","탕화",T),Rd(t,Bx,"천덕귀인",S),Rd(t,Rx,"월덕귀인",S),Rd(t,Px,"천덕합",S),Rd(t,zx,"월덕합",S),dr(t,W9,"혈지",T,"ALL"),dr(t,Hx,"금쇄",T,"YEAR"),dr(t,Hx,"금쇄",T,"DAY"),Pd(t,Q9,"천사",S),Pd(t,J9,"천전살",T),Pd(t,t5,"지전살",T),Pd(t,e5,"진신",T),dr(t,n5,"급각살",T,"ALL"),dr(t,r5,"단교관살",T,"ALL"),dr(t,i5,"부벽살",T,"ALL"),dr(t,a5,"욕분관살",T,"ALL"),dr(t,o5,"사주관살",T,"ALL"),dr(t,$x,"천의성",S,"ALL"),dr(t,s5,"천희신",S,"DAY_HOUR"),dr(t,l5,"황은대사",S,"DAY_HOUR"),dr(t,c5,"홍란성",S,"ALL"),dr(t,u5,"장수성",S,"ALL"),Oe(t,d5,"태극귀인",S,"ALL"),Oe(t,Ix,"천을귀인",S,"ALL"),Oe(t,f5,"천주귀인",S,"ALL"),Oe(t,h5,"천관귀인",S,"ALL"),Oe(t,m5,"천복귀인",S,"ALL"),Oe(t,p5,"문창귀인",S,"ALL"),Oe(t,g5,"암록",S,"ALL"),Oe(t,Ux,"금여록",S,"ALL"),Oe(t,b5,"협록",S,"ALL"),Oe(t,y5,"관귀학관",S,"ALL"),Oe(t,v5,"문곡귀인",S,"ALL"),Oe(t,x5,"학당귀인",S,"ALL"),Oe(t,Gx,"홍염",T,"ALL"),Oe(t,_5,"유하",T,"ALL"),Oe(t,S5,"낙정관살",T,"ALL"),Oe(t,Zx,"효신살",T,"DAY"),Oe(t,Zx,"효신살",T,"HOUR"),Oe(t,Yx,"음착살",T,"DAY"),Oe(t,Yx,"음착살",T,"HOUR"),Oe(t,qx,"양착살",T,"DAY"),Oe(t,qx,"양착살",T,"HOUR"),Oe(t,w5,"고란살",T,"DAY"),Oe(t,T5,"비인살",T,"ALL"),Oe(t,E5,"재고귀인",S,"ALL"),Oe(t,Vx,"양인살",T,"ALL"),N.has(t[Nt.day])){T.push({name:Cx("괴강살"),weight:Or[Nt.day],pos:Nt.day});for(const H of[Nt.year,Nt.month,Nt.hour])t[H]===t[Nt.day]&&T.push({name:Ld("괴강살",H),weight:Or[H],pos:H})}const A=Fx[p];if(A)for(const H of[Nt.year,Nt.month,Nt.day,Nt.hour]){const X=$s(t[H]),Q=nn(t[H]);X===p&&A.includes(Q)&&T.push({name:Ld("백호대살",H),weight:Or[H],pos:H})}for(const[H,X]of Kx){const Q=D0(H,t),z=D0(X,t);Q&&z&&L0(T,"천라지망",Q.pos,z.pos)}{const H=new Set(["갑","신"]),X=new Set(["묘","오","미","신"]);for(let Q=0;Q<=3;Q++){const z=$s(t[Q]),q=nn(t[Q]);(H.has(z)||X.has(q))&&T.push({name:Ld("현침살",Q),weight:Or[Q],pos:Q})}}new Set(["갑진","을사","임신","병신","정해","경진","무술","계해","신사","기축"]).has(t[Nt.day])&&T.push({name:Cx("십악대패살"),weight:Or[Nt.day],pos:Nt.day});{const H=new Set(["을","기"]),X=new Set(["축","사"]);for(let Q=0;Q<=3;Q++){const z=$s(t[Q]),q=nn(t[Q]);(H.has(z)||X.has(q))&&T.push({name:Ld("곡각살",Q),weight:Or[Q],pos:Q})}}{const H=[[Nt.year,Nt.month],[Nt.year,Nt.day],[Nt.month,Nt.day],[Nt.month,Nt.hour],[Nt.day,Nt.hour]];for(const[X,Q]of H){const z=nn(t[X]),q=nn(t[Q]);if(bc(k0,z,q)){const K=Xx(k0,z,q);L0(T,`${K}원진`,X,Q)}}}{const H=[[Nt.year,Nt.month,0],[Nt.month,Nt.day,1],[Nt.month,Nt.hour,0],[Nt.day,Nt.hour,0]];for(const[X,Q,z]of H){const q=nn(t[X]),K=nn(t[Q]);if(bc(O0,q,K)){const ct=Xx(O0,q,K),bt=(z?1:0)+(M5.has(q+K)?1:0);L0(T,`${ct}귀문`,X,Q,bt)}}}function $(H){const X=H.lastIndexOf("_");return X>=0?H.slice(X+1):H}const I=new Set(["현침살","곡각살"]);function D(H){return I.has(H)?!0:H.endsWith("원진")||H.endsWith("귀문")}function C(H){const X=new Map;for(const z of H){const q=$(z.name);X.has(q)||X.set(q,[]),X.get(q).push(z)}const Q=[];for(const[z,q]of X)if(D(z))Q.push(...q);else{const K=q.sort((ct,bt)=>Hs[ct.pos]!==Hs[bt.pos]?Hs[bt.pos]-Hs[ct.pos]:bt.weight-ct.weight)[0];Q.push(K)}return Q}const k=Bd(t[Nt.day]),G=Bd(t[Nt.year]);{const H=(d?.voidBasis??"day")==="day"?k:G;if(H){const[X,Q]=H.map(Dn),z=[Nt.year,Nt.month,Nt.day,Nt.hour];for(const q of z){const K=nn(t[q]);(K===X||K===Q)&&T.push({name:w9(d?.voidBasis??"day",q),weight:Or[q],pos:q})}}}const W=C(Ox(S)),ot=C(Ox(T)),nt={si:[],il:[],yeon:[],wol:[]},et={si:[],il:[],yeon:[],wol:[]};for(const H of W)nt[Cd(H.pos)].push(H.name);for(const H of ot)et[Cd(H.pos)].push(H.name);const Y=[],U=[],tt=[],at=[],st=[],Z=[],rt=[],ft=[];function gt(H,X){H.includes(X)||H.push(X)}function P(H,X){const Q=M9(X);if(!Q)return;const z=Q.branch,q=Q.stem;let K,ct;switch(H){case"dae":K=Y,ct=st;break;case"se":K=U,ct=Z;break;case"wol":K=tt,ct=rt;break;case"il":K=at,ct=ft;break;default:return}Xi(Bx[y])===q&&gt(K,gc("천덕귀인",H)),Xi(Rx[y])===q&&gt(K,gc("월덕귀인",H)),Xi(Px[y])===q&&gt(K,gc("천덕합",H)),Xi(zx[y])===q&&gt(K,gc("월덕합",H)),$x[y]?.includes(z)&&gt(K,gc("천의성",H)),Ix[p]?.includes(z)&&gt(K,ks("천을귀인",H)),Ux[p]?.includes(z)&&gt(K,ks("금여록",H)),Gx[p]?.includes(z)&&gt(ct,ks("홍염",H)),Vx[p]?.includes(z)&&gt(ct,ks("양인살",H)),Fx[p]?.includes(z)&&gt(ct,ks("백호대살",H)),H==="se"&&(D9[_]?.includes(z)&&gt(ct,Lx(H,"상문살")),H2[_]?.includes(z)&&gt(ct,Lx(H,"조객살")));for(const Mt of w)if(bc(Kx,z,Mt)){const Et=D0(Mt,t)?.pos;Et!==void 0&&gt(ct,j0("천라지망",H,Et));break}new Set(["갑","신"]).has(p)&&new Set(["묘","오","미","신"]).has(z)&&gt(ct,ks("현침살",H));const bt=(d?.voidBasis??"day")==="day"?k:G;bt&&(z===bt[0]||z===bt[1])&&gt(ct,T9(H,d?.voidBasis??"day"));for(let Mt=0;Mt<=3;Mt++){const Et=nn(t[Mt]);bc(k0,z,Et)&&gt(ct,j0("원진",H,Mt)),bc(O0,z,Et)&&gt(ct,j0("귀문",H,Mt))}if(H==="se"){const Mt=(d?.samjaeBasis??"day")==="day"?b:_,Et=Mt?C0(Mt):null;Et&&Et.includes(z)&&gt(ct,E9(H,d?.samjaeBasis??"day"))}}return P("dae",r??null),P("se",a??null),P("wol",s??null),P("il",u??null),{title:f,good:{si:[],il:[],yeon:[],wol:[],...(()=>{const H={si:[],il:[],yeon:[],wol:[]};for(const X of W)H[Cd(X.pos)].push(X.name);return H})(),dae:Y,se:U,wolun:tt,ilun:at},bad:{si:[],il:[],yeon:[],wol:[],...(()=>{const H={si:[],il:[],yeon:[],wol:[]};for(const X of ot)H[Cd(X.pos)].push(X.name);return H})(),dae:st,se:Z,wolun:rt,ilun:ft},meta:{voidPair:{day:Bd(t[Nt.day])??void 0,year:Bd(t[Nt.year])??void 0},samjaeYears:{day:C0(b)??void 0,year:C0(_)??void 0},currentBasis:{voidBasis:d?.voidBasis??"day",samjaeBasis:d?.samjaeBasis??"day"}}}}function A5(t,r){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(r){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function D5({items:t,source:r}){const a=t.length>0?t:["#없음"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((s,u)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+A5(s,r),children:s},`${r}-${u}-${s}`))})}function Wx({title:t,rows:r}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:t}),r.map(a=>{const u=a.items.some(d=>d!=="#없음")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-400 p-2 rounded-sm",children:[g.jsx("div",{className:u,children:a.label}),g.jsx(D5,{items:a.items.length>0?a.items:["#없음"],source:a.source})]},`${t}-${a.label}`)})]})}function j5({pillars:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u,tab:d="원국"}){const[f,p]=O.useState("일공망"),[b,y]=O.useState("일삼재"),_=O.useMemo(()=>({voidBasis:f==="일공망"?"day":"year",samjaeBasis:b==="일삼재"?"day":"year"}),[f,b]),w=O.useMemo(()=>Sc({natal:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:u,basis:_}),[t,r,a,s,u,_]),{good:S,bad:T,meta:N}=w,j=nt=>nt.map(et=>et==="#없음"?et:`원국 ${et}`),A=(nt,et)=>{const Y=["natal"];return et==="원국"&&Y.push("natal"),et==="대운"&&Y.push("natal","dae"),et==="세운"&&Y.push("natal","dae","se"),et==="월운"&&Y.push("natal","dae","se","wol"),et==="일운"&&Y.push("natal","dae","se","wol","il"),nt.filter(U=>Y.includes(U.source))},$=[{label:"시주",items:j(S.si),source:"natal"},{label:"일주",items:j(S.il),source:"natal"},{label:"월주",items:j(S.wol),source:"natal"},{label:"연주",items:j(S.yeon),source:"natal"},{label:"대운",items:S.dae,source:"dae"},{label:"세운",items:S.se,source:"se"},{label:"월운",items:S.wolun,source:"wol"},{label:"일운",items:S.ilun,source:"il"}],I=[{label:"시주",items:j(T.si),source:"natal"},{label:"일주",items:j(T.il),source:"natal"},{label:"월주",items:j(T.wol),source:"natal"},{label:"연주",items:j(T.yeon),source:"natal"},{label:"대운",items:T.dae,source:"dae"},{label:"세운",items:T.se,source:"se"},{label:"월운",items:T.wolun,source:"wol"},{label:"일운",items:T.ilun,source:"il"}],D=A($,d),C=A(I,d),k=N.voidPair.day?`일공망(${N.voidPair.day.join("")})`:"일공망(—)",G=N.voidPair.year?`연공망(${N.voidPair.year.join("")})`:"연공망(—)",W=N.samjaeYears.day?`일삼재(${N.samjaeYears.day.join("·")})`:"일삼재(—)",ot=N.samjaeYears.year?`연삼재(${N.samjaeYears.year.join("·")})`:"연삼재(—)";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"신살(길신/흉살)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"공망 기준"}),g.jsxs("select",{value:f,onChange:nt=>p(nt.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"일공망",children:k}),g.jsx("option",{value:"연공망",children:G})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"삼재 기준"}),g.jsxs("select",{value:b,onChange:nt=>y(nt.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"일삼재",children:W}),g.jsx("option",{value:"연삼재",children:ot})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(Wx,{title:"신(神)",rows:D}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(Wx,{title:"살(殺)",rows:C})]})]})}const Lr={year:0,month:1,day:2,hour:3},G2={[Lr.year]:.3,[Lr.month]:.5,[Lr.day]:.3,[Lr.hour]:.3},Z2={[Lr.year]:.15,[Lr.month]:.2,[Lr.day]:0,[Lr.hour]:.15},k5=t=>fp.has(t)?t:hp[t]??t,O5=t=>Hf.has(t)?t:$f[t]??t,C5=t=>typeof t=="string"&&t.length>=2?k5(t.slice(-1)):"",L5=t=>typeof t=="string"&&t.length>=1?O5(t.slice(0,1)):"",Ve=(t,r,a,s)=>({han:t,nan:r,jo:a,seup:s}),B5={해:Ve(2,0,.5,2),자:Ve(2,0,0,2),축:Ve(2,0,0,2),인:Ve(0,2,2,0),묘:Ve(0,2,2,0),진:Ve(0,2,1,2),사:Ve(0,2,2,.5),오:Ve(0,2,2,0),미:Ve(0,2,2,1),신:Ve(2,0,0,2),유:Ve(2,0,0,2),술:Ve(2,0,1,1)},R5={갑:Ve(0,1,1,0),을:Ve(0,1,1,0),병:Ve(0,2,2,0),정:Ve(0,2,2,0),무:Ve(0,0,1,0),기:Ve(0,0,0,1),경:Ve(1,0,0,1),신:Ve(1,0,0,1),임:Ve(2,0,0,2),계:Ve(2,0,0,2)},Qx=t=>Math.max(0,Math.min(100,t));function Jx(t,r){const a=Math.max(0,t),s=Math.max(0,r),u=a+s;return u<=0?50:s/u*100}function P5(t){let r=0,a=0,s=0,u=0;return[Lr.year,Lr.month,Lr.day,Lr.hour].forEach(d=>{const f=B5[C5(t[d])],p=R5[L5(t[d])],b=G2[d],y=Z2[d];b>0&&f&&(r+=f.han*b,a+=f.nan*b,s+=f.jo*b,u+=f.seup*b),y>0&&p&&(r+=p.han*y,a+=p.nan*y,s+=p.jo*y,u+=p.seup*y)}),{han:r,nan:a,jo:s,seup:u}}function z5(t){const r=Array.isArray(t)?t.slice(0,4):[];for(;r.length<4;)r.push("");return r.map(a=>typeof a=="string"?a:"")}function H5(t){const r=z5(t);return O.useMemo(()=>{const{han:a,nan:s,jo:u,seup:d}=P5(r),f=Jx(a,s),p=Jx(d,u);return{hanNanPct:Qx(f),joSeupPct:Qx(p),raw:{han:a,nan:s,jo:u,seup:d},weights:{branch:G2,stem:Z2}}},[r])}function t_({label:t,percent:r,leftHint:a,midHint:s,rightHint:u}){const d=O.useMemo(()=>Math.max(0,Math.min(100,r)),[r]),f=[10,20,35,45,55,65,80];return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:a}),g.jsx("span",{children:s}),g.jsx("span",{children:u})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[f.map(p=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${p}%`},title:`${p}%`},p)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${d}%`,transform:"translateX(-50%)"},"aria-label":`${t} ${d.toFixed(1)}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:t}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[d.toFixed(1),"%"]})]})]})}function $5({natal:t}){const{hanNanPct:r,joSeupPct:a}=H5(t);return g.jsxs("div",{className:"flex gap-2",children:[g.jsx(t_,{label:"한난",percent:r,leftHint:"한",midHint:"중화",rightHint:"난"}),g.jsx(t_,{label:"조습",percent:a,leftHint:"습",midHint:"중화",rightHint:"조"})]})}const I5=Object.fromEntries(br.천간.map((t,r)=>[t,$n[r]])),U5=Object.fromEntries($n.map((t,r)=>[t,br.천간[r]])),G5=Object.fromEntries(br.지지.map((t,r)=>[t,Wn[r]])),Z5=Object.fromEntries(Wn.map((t,r)=>[t,br.지지[r]])),Y5=t=>I5[t]??t,q5=t=>G5[t]??t,V5=t=>U5[t]??t,F5=t=>Z5[t]??t;function Y2(t){const r={...t};for(const a of Object.keys(t)){if(a.length<2)continue;const s=a.charAt(0),u=a.charAt(1),d=/[甲乙丙丁戊己庚辛壬癸]/.test(s)||/[子丑寅卯辰巳午未申酉戌亥]/.test(u)?`${Y5(s)}${q5(u)}`:`${V5(s)}${F5(u)}`;r[d]===void 0&&(r[d]=t[a])}return r}const q2={갑자:1,을축:.2,병인:1,정묘:1,무진:.5,기사:.7,경오:0,신미:.5,임신:1,계유:1,갑술:0,을해:1,병자:0,정축:0,무인:.3,기묘:0,경진:.5,신사:.3,임오:0,계미:0,갑신:.3,을유:0,병술:.8,정해:.3,무자:0,기축:.5,경인:0,신묘:0,임진:.3,계사:.3,갑오:0,을미:.3,병신:0,정유:0,무술:.8,기해:0,경자:0,신축:.8,임인:0,계묘:0,갑진:.5,을사:0,병오:1,정미:.5,무신:0,기유:0,경술:.7,신해:0,임자:1,계축:.5,갑인:.7,을묘:0,병진:.2,정사:.7,무오:1,기미:.7,경신:.7,신유:1,임술:.2,계해:.7},K5={...q2,병인:.8,경오:.3,무인:.5,신사:.5,경인:.2,기해:.2,병오:.8,무신:.2},X5=Y2(q2),W5=Y2(K5),Q5={목:"화",화:"토",토:"금",금:"수",수:"목"},J5={화:"목",토:"화",금:"토",수:"금",목:"수"},t4={목:"토",화:"금",토:"수",금:"목",수:"화"},e4={목:"금",화:"수",토:"목",금:"화",수:"토"},n4={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},r4={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},i4=t=>n4[t]??t,a4=t=>r4[t]??t;function V2(t){return!t||t.length<2?"":`${i4(t[0])}${a4(t[1])}`}const F2=t=>t&&t.length>=1?t[0]:"",K2=t=>t&&t.length>=2?t[1]:"";function X2(t){return{비겁:t,식상:Q5[t],인성:J5[t],재성:t4[t],관성:e4[t]}}const W2={갑:["인","寅","묘","卯","자","子","해","亥"],을:["인","寅","묘","卯","자","子","해","亥"],병:["인","寅","묘","卯","오","午","사","巳"],정:["인","寅","묘","卯","오","午","사","巳"],무:["진","辰","술","戌","축","丑","미","未","오","午","사","巳"],기:["진","辰","술","戌","축","丑","미","未","오","午","사","巳"],경:["진","辰","술","戌","축","丑","미","未","신","申","유","酉"],신:["진","辰","술","戌","축","丑","미","未","신","申","유","酉"],임:["신","申","유","酉","해","亥","자","子"],계:["신","申","유","酉","해","亥","자","子"]};function o4(t,r){const a=(t??[]).slice(0,4).map(V2);if(a.length!==4||a.some(S=>S.length<2))return{flags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},monthBranch:"",dayEl:"목"};const s=F2(a[2]),u=s==="갑"||s==="을"?"목":s==="병"||s==="정"?"화":s==="무"||s==="기"?"토":s==="경"||s==="신"?"금":"수",d=a.map(S=>K2(S)),f={비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},p=W2[s]??[],b=d[1];p.includes(b)&&(f.비겁.령=!0,f.인성.령=!0);const y=d[2];p.includes(y)&&(f.비겁.지=!0,f.인성.지=!0);const _=X2(u).비겁,w=r[_]??0;return f.비겁.세=w>=30,{flags:f,monthBranch:b,dayEl:u}}function s4(t,r){const a=(t??[]).slice(0,4).map(V2);if(a.length<3||a[0].length<2||a[1].length<2||a[2].length<2){const N={령:!1,지:!1,세:!1};return{flags:{비견:{...N},겁재:{...N},식신:{...N},상관:{...N},정재:{...N},편재:{...N},정관:{...N},편관:{...N},정인:{...N},편인:{...N}},monthBranch:"",dayEl:"목"}}const s=F2(a[2]),u=s==="갑"||s==="을"?"목":s==="병"||s==="정"?"화":s==="무"||s==="기"?"토":s==="경"||s==="신"?"금":"수",d=a.map(N=>K2(N)),f={령:!1,지:!1,세:!1},p={비견:{...f},겁재:{...f},식신:{...f},상관:{...f},정재:{...f},편재:{...f},정관:{...f},편관:{...f},정인:{...f},편인:{...f}},b=W2[s]??[],y=d[1];b.includes(y)&&(p.비견.령=!0,p.겁재.령=!0,p.정인.령=!0,p.편인.령=!0);const _=d[2];b.includes(_)&&(p.비견.지=!0,p.겁재.지=!0,p.정인.지=!0,p.편인.지=!0);const w=X2(u).비겁;return(r[w]??0)>=30&&(p.비견.세=!0,p.겁재.세=!0,p.정인.세=!0,p.편인.세=!0),{flags:p,monthBranch:y,dayEl:u}}const l4={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},c4={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},u4={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},d4={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},f4=t=>l4[t]??t,h4=t=>c4[t]??t;function m4(t){return!t||t.length<2?"":`${f4(t[0])}${h4(t[1])}`}function ko(t){return jx[t]??jx[u4[t]??""]}function Oo(t){return kx[t]??kx[d4[t]??""]}const B0=["year","month","day","hour"],p4={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},g4={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},b4=new Set(["을","정","기","신","계"]),y4=new Set(["자","인","진","오","신","술"]),v4=new Set(["사","오","자","해"]),R0=t=>b4.has(t)?"음":"양",P0=t=>{const r=y4.has(t)?"양":"음";return v4.has(t)?r==="양"?"음":"양":r};function e_(t){const r=t.reduce((p,b)=>p+b,0);if(r<=0)return t.map(()=>0);const a=t.map(p=>p*100/r),s=a.map(p=>Math.floor(p+.5)),u=100-s.reduce((p,b)=>p+b,0);if(u===0)return s;const d=a.map((p,b)=>({i:b,frac:p-Math.floor(p+.5)})).sort((p,b)=>b.frac-p.frac),f=s.slice();if(u>0)for(let p=0;p<u;p++)f[d[p].i]+=1;else for(let p=0;p<-u;p++)f[d[d.length-1-p].i]-=1;return f}function x4(t,r){return t===0?r?1:.8:t===1?r?.6:.5:r?.3:.2}const zd={왕:.15,상:.1,휴:-.15,수:-.2,사:-.25},kf={목:"화",화:"토",토:"금",금:"수",수:"목"},Q2={화:"목",토:"화",금:"토",수:"금",목:"수"},Pc={목:"토",화:"금",토:"수",금:"목",수:"화"},_4={토:"목",금:"화",수:"토",목:"금",화:"수"};function Hd(t,r){return t===r?"왕":kf[r]===t?"상":kf[t]===r?"휴":Pc[t]===r?"수":Pc[r]===t?"사":"휴"}const Za=t=>t&&t.length>=1?t[0]:"",Co=t=>t&&t.length>=2?t[1]:"";function S4(t,r){const a=t.reduce((b,y)=>b+y,0);if(a<=0||r<=0)return new Array(t.length).fill(0);const s=t.map(b=>b/a*r),u=s.map(b=>Math.floor(b));let d=r-u.reduce((b,y)=>b+y,0);const f=s.map((b,y)=>({i:y,frac:b-Math.floor(b)})).sort((b,y)=>y.frac-b.frac),p=u.slice();for(let b=0;b<f.length&&d>0;b++)p[f[b].i]+=1,d-=1;return p}function n_(t,r){switch(t){case"비겁":return r;case"식상":return kf[r];case"재성":return Pc[r];case"관성":return _4[r];case"인성":return Q2[r];default:return r}}function J2(t){const{pillars:r,dayStem:a,mode:s,debug:u,useHarmonyOverlay:d,criteriaMode:f,luck:p}=t,b=f==="modern"?p4:g4,y=s==="classic"?W5:X5,_={목:0,화:0,토:0,금:0,수:0},w={},S={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},T=(r??[]).slice(0,4).map(m4);if(!(T.length===4&&T[0]&&T[0].length>=2&&T[1]&&T[1].length>=2&&T[2]&&T[2].length>=2))return{totals:["비겁","식상","재성","관성","인성"].map(q=>({name:q,value:0,color:"#999999"})),perTenGod:{비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}},elementScoreRaw:_,deukFlags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{목:0,화:0,토:0,금:0,수:0}};const j=Za(T[2]),A=a??j,$=A==="갑"||A==="을"?"목":A==="병"||A==="정"?"화":A==="무"||A==="기"?"토":A==="경"||A==="신"?"금":"수",I=[{val:0},{val:0},{val:0},{val:0}],D=[[],[],[],[]];for(const z of T){if(!z)continue;const q=z.charAt(0),K=z.charAt(1);w[q]=(w[q]??0)+50;const ct=S[K];ct&&(w[ct]=(w[ct]??0)+50)}for(let z=0;z<4;z++){const q=T[z];if(!q||q.length<2)continue;const K=B0[z],ct=Za(q),bt=Co(q),Mt=b[K],Et=ko(ct);Et&&(_[Et]+=Mt.stem,I[z]={stem:ct,el:Et,pol:R0(ct),val:Mt.stem});const Lt=Oo(bt);Lt&&(_[Lt]+=Mt.branch,D[z].push({el:Lt,pol:P0(bt),val:Mt.branch}))}for(let z=0;z<4;z++){const q=T[z];if(!q||q.length<2)continue;const K=B0[z],ct=y[q]??0;if(ct===0)continue;const bt=Za(q),Mt=ko(bt);if(!Mt)continue;const Et=b[K].stem*ct;_[Mt]+=Et,I[z].val+=Et}for(let z=0;z<4;z++){const q=T[z];if(!q||q.length<2)continue;const K=Co(q),ct=Oo(K);if(!ct)continue;const bt=b[B0[z]].branch,Mt=P0(K);let Et=0;const Lt=[z];z-1>=0&&Lt.push(z-1),z+1<=3&&Lt.push(z+1),z-2>=0&&Lt.push(z-2),z+2<=3&&Lt.push(z+2);const Dt=Array.from(new Set(Lt));for(const St of Dt){if(!T[St]||T[St].length<2)continue;const kt=Za(T[St]),It=ko(kt);if(!It||It!==ct)continue;const ee=R0(kt)===Mt,$t=Math.abs(St-z),Xt=x4($t,ee);Et+=bt*Xt}Et!==0&&(_[ct]+=Et,D[z].push({el:ct,pol:Mt,val:Et}))}for(let z=0;z<4;z++){const q=T[z];if(!q||q.length<2)continue;const K=Za(q),ct=ko(K);if(!ct)continue;let bt=0;const Mt=Co(T[z]),Et=Oo(Mt);Et&&(bt+=zd[Hd(ct,Et)]);const Lt=z===0?[1]:z===3?[2]:[z-1,z+1];for(const St of Lt){const kt=Za(T[St]),It=ko(kt);It&&(bt+=zd[Hd(ct,It)])}const Dt=I[z].val;if(Dt!==0&&bt!==0){const St=Math.round(Dt*(1+bt)*10)/10,kt=St-Dt;_[ct]+=kt,I[z].val=St}}for(let z=0;z<4;z++){const q=T[z];if(!q||q.length<2)continue;const K=Co(q),ct=Oo(K);if(!ct)continue;let bt=0;const Mt=Za(T[z]),Et=ko(Mt);Et&&(bt+=zd[Hd(ct,Et)]);const Lt=z===0?[1]:z===3?[2]:[z-1,z+1];for(const St of Lt){if(!T[St]||T[St].length<2)continue;const kt=Co(T[St]),It=Oo(kt);It&&(bt+=zd[Hd(ct,It)])}const Dt=D[z].reduce((St,kt)=>St+kt.val,0);if(Dt!==0&&bt!==0){const kt=Math.round(Dt*(1+bt)*10)/10-Dt;_[ct]+=kt,D[z].length>0&&(D[z][0].val+=kt)}}d&&Rk(T,_);const C={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},k=[];function G(z,q){const K=z?Ut(z):"";if(!K||K.length<2)return;const ct=Za(K),bt=Co(K),Mt=ko(ct),Et=Oo(bt),Lt=Math.max(1,(_.목??0)+(_.화??0)+(_.토??0)+(_.금??0)+(_.수??0)),Dt=C[q];if(Mt){const St=Math.round(Lt*Dt.stem);_[Mt]+=St,k.push({stem:ct,el:Mt,pol:R0(ct),val:St})}if(Et){const St=Math.round(Lt*Dt.branch);_[Et]+=St,k.push({el:Et,pol:P0(bt),val:St})}}p&&p.tab!=="원국"&&(G(p.dae,"dae"),(p.tab==="세운"||p.tab==="월운"||p.tab==="일운")&&G(p.se,"se"),(p.tab==="월운"||p.tab==="일운")&&G(p.wol,"wol"),p.tab==="일운"&&G(p.il,"il"));const W={비겁:0,식상:0,재성:0,관성:0,인성:0};Object.entries(_).forEach(([z,q])=>{const K=tt(z,$);W[K]+=q});const ot=["비겁","식상","재성","관성","인성"],nt=e_(ot.map(z=>W[z])),et=O2(A),Y=ot.map((z,q)=>({name:z,value:nt[q],color:et[z]})),U={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};function tt(z,q){return z===q?"비겁":kf[q]===z?"식상":Pc[q]===z?"재성":Pc[z]===q?"관성":Q2[q]===z?"인성":"비겁"}function at(z,q){switch(tt(z,$)){case"비겁":U.비견+=q*.5,U.겁재+=q*.5;break;case"식상":U.식신+=q*.5,U.상관+=q*.5;break;case"재성":U.정재+=q*.5,U.편재+=q*.5;break;case"관성":U.정관+=q*.5,U.편관+=q*.5;break;case"인성":U.정인+=q*.5,U.편인+=q*.5;break}}Object.entries(_).forEach(([z,q])=>{q>0&&at(z,q)});const st={비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}};for(const z of ot){const q=Y.find(Lt=>Lt.name===z)?.value??0,K=st[z].a,ct=st[z].b,bt=U[K]??0,Mt=U[ct]??0,Et=bt+Mt;if(Et>0){const Lt=Math.floor(q*bt/Et+.5),Dt=q-Lt;st[z].aVal=Lt,st[z].bVal=Dt}else st[z].aVal=Math.floor(q/2+.5),st[z].bVal=q-st[z].aVal}const{flags:Z}=o4(T,_),rt={};I.forEach(z=>{if(z.stem&&z.el&&z.val){const q=`${z.stem}${z.el}`;rt[q]=(rt[q]??0)+z.val}});for(let z=0;z<4;z++){const q=T[z];if(!q||q.length<2)continue;const K=Co(q),ct=S[K],bt=Oo(K);if(!ct||!bt)continue;const Mt=`${ct}${bt}`,Et=D[z].reduce((Lt,Dt)=>Lt+Dt.val,0);rt[Mt]=(rt[Mt]??0)+Et}const ft=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],gt={};ft.forEach(z=>{gt[z]=0}),ot.forEach(z=>{const q=Y.find(Dt=>Dt.name===z)?.value??0,K=n_(z,$),ct=Object.entries(rt).filter(([Dt])=>Dt.endsWith(K)),bt=ct.map(([Dt])=>Dt),Mt=ct.map(([,Dt])=>Dt),Et=Math.max(0,Math.round(q*10)),Lt=S4(Mt.length?Mt:[1,1],Et);if(bt.length===2)gt[bt[0]]=(Lt[0]??Math.round(Et/2))/10,gt[bt[1]]=(Lt[1]??Et-(Lt[0]??0))/10;else if(bt.length===1)gt[bt[0]]=Et/10;else{const Dt=K==="목"?["갑목","을목"]:K==="화"?["병화","정화"]:K==="토"?["무토","기토"]:K==="금"?["경금","신금"]:["임수","계수"],St=Math.floor(Et/2),kt=Et-St;gt[Dt[0]]+=St/10,gt[Dt[1]]+=kt/10}});const P=["목","화","토","금","수"],H={목:0,화:0,토:0,금:0,수:0};for(const z of Y){const q=n_(z.name,$);H[q]+=z.value}const X=e_(P.map(z=>H[z])),Q={목:X[0],화:X[1],토:X[2],금:X[3],수:X[4]};return u&&console.log({elementScore:_,totals:Y,perTenGod:st,perStemRaw:rt,perStemElementScaled:gt,elementPercent100:Q}),{totals:Y,perTenGod:st,stemScoreRaw:w,elementScoreRaw:_,deukFlags:Z,perStemElement:rt,perStemElementScaled:gt,elementPercent100:Q}}function w4(t){const r=t.reduce((p,b)=>p+b,0);if(r<=0)return t.map(()=>0);const a=t.map(p=>p*100/r),s=a.map(p=>Math.round(p));let d=100-s.reduce((p,b)=>p+b,0);const f=a.map((p,b)=>({i:b,f:p-Math.round(p)})).sort((p,b)=>b.f-p.f);for(let p=0;p<f.length&&d>0;p++)s[f[p].i]+=1,d-=1;return s}const r_=["목","화","토","금","수"];function T4(t,r){const a=[Ut(t[0]??""),Ut(t[1]??""),Ut(t[2]??""),Ut(t[3]??"")],{elementScoreRaw:s}=J2({pillars:a,criteriaMode:r?.criteriaMode??"modern",useHarmonyOverlay:r?.useHarmonyOverlay??!0,luck:void 0}),u=r_.map(p=>s[p]??0),d=w4(u),f={목:0,화:0,토:0,금:0,수:0};return r_.forEach((p,b)=>{f[p]=d[b]}),f}function tS(t,r){const a=T4(t,r),s=Ut(t[2]??"").charAt(0),d={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수",甲:"목",乙:"목",丙:"화",丁:"화",戊:"토",己:"토",庚:"금",辛:"금",壬:"수",癸:"수"}[s];if(!d)return 0;const f={화:"목",토:"화",금:"토",수:"금",목:"수"},p=a[d]??0,b=a[f[d]]??0;return p+b*.7}const $d={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Id={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Ud={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},E4=["갑","병","무","경","임"];function i_(t){return E4.includes(t)}const M4={목:"화",화:"토",토:"금",금:"수",수:"목"},N4={목:"토",화:"금",토:"수",금:"목",수:"화"},A4={토:"목",금:"화",수:"토",목:"금",화:"수"},D4={화:"목",토:"화",금:"토",수:"금",목:"수"};function Of(t){if(!t)return null;const r=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(r))return r;if($d[r])return $d[r];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(r))return Ud[r]??null;if(Id[r])return Ud[Id[r]]??null;const a=r.charAt(0);return $d[a]?$d[a]:["갑","을","병","정","무","기","경","신","임","계"].includes(a)?a:Id[a]?Ud[Id[a]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(a)?Ud[a]??null:null}function j4(t,r){const a=lp[t],s=lp[r];if(!a||!s)return"비견";let u;s===a?u="비견":s===M4[a]?u="식신":s===N4[a]?u="편재":s===A4[a]?u="편관":s===D4[a]?u="편인":u="비견";const d=i_(t)===i_(r);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function Xp(t){const r=Object.entries(t),a=r.reduce((y,[,_])=>y+(_>0?_:0),0);if(a<=0)return Object.fromEntries(r.map(([y])=>[y,0]));const s=r.map(([y,_])=>[y,(_>0?_:0)*100/a]),u=s.map(([y,_])=>[y,Math.round(_)]);let d=u.reduce((y,[,_])=>y+_,0);const f=s.map(([y,_])=>[y,_-Math.round(_)]).sort((y,_)=>_[1]-y[1]),p=Object.fromEntries(u.map(([y,_])=>[y,_]));let b=0;for(;d<100&&b<f.length;)p[f[b][0]]+=1,d+=1,b+=1;return p}function k4(t,r){const a={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,u]of Object.entries(t??{})){if(u<=0)continue;const d=Of(s);if(!d)continue;const f=j4(r,d);a[f]+=u}return Xp(a)}function O4(t){return{비겁:{a:"비견",b:"겁재",aVal:t.비견,bVal:t.겁재},식상:{a:"식신",b:"상관",aVal:t.식신,bVal:t.상관},재성:{a:"정재",b:"편재",aVal:t.정재,bVal:t.편재},관성:{a:"정관",b:"편관",aVal:t.정관,bVal:t.편관},인성:{a:"정인",b:"편인",aVal:t.정인,bVal:t.편인}}}const C4={natal:50,dae:30,se:20,wol:7,il:3};function L4(t,r){const a=r?.dae?Gd(r.dae):{},s=r?.se?Gd(r.se):{},u=r?.wol?Gd(r.wol):{},d=r?.il?Gd(r.il):{},f={},p=[{kind:"natal",bare:t},{kind:"dae",bare:a},{kind:"se",bare:s},{kind:"wol",bare:u},{kind:"il",bare:d}];for(const{kind:y,bare:_}of p){const w=C4[y];if(!_||Object.keys(_).length===0)continue;const S=Xp(_);for(const[T,N]of Object.entries(S))f[T]=(f[T]??0)+N*w}const b=Object.values(f).reduce((y,_)=>y+_,0);if(b>0)for(const y of Object.keys(f))f[y]=f[y]/b*100;return f}const lp={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"};function B4(t){if(!t)return[];const r=Of(t.charAt(0)),a=Of(t.charAt(1));return[r,a].filter(Boolean)}function Gd(t){const r=B4(t),a={};for(const s of r)a[s]=(a[s]??0)+1;return a}function R4(t){const r={};for(const[a,s]of Object.entries(t??{})){if(s<=0)continue;const u=Of(a);u&&(r[u]=(r[u]??0)+s)}return r}const P4=["갑","을","병","정","무","기","경","신","임","계"];function z4(t){const a={...{갑목:0,을목:0,병화:0,정화:0,무토:0,기토:0,경금:0,신금:0,임수:0,계수:0}};for(const s of P4){const u=lp[s],d=`${s}${u}`;a[d]=Math.max(0,Math.round(t[s]??0))}return a}function eS(t){const{natal:r,tab:a,chain:s,hourKey:u="unified"}=t,d=[Ut(r[0]??""),Ut(r[1]??""),Ut(r[2]??""),Ut(r[3]??"")],f=d[2]?.charAt(0)??"",{hiddenStemMode:p,hiddenStem:b}=X0,y=p==="classic"?"classic":"hgc",_=s?{tab:a,dae:s.dae?Ut(s.dae):void 0,se:(a==="세운"||a==="월운"||a==="일운")&&s.se?Ut(s.se):void 0,wol:(a==="월운"||a==="일운")&&s.wol?Ut(s.wol):void 0,il:a==="일운"&&s.il?Ut(s.il):void 0}:{tab:a},w=J2({pillars:d,dayStem:f,mode:y,criteriaMode:"modern",useHarmonyOverlay:!0,luck:_}),S=R4(w.perStemElementScaled),T=L4(S,s),N=Xp(T),j=k4(T,f),A=O4(j),$=z4(N);return{elementScoreRaw:w.elementScoreRaw,elementPercent100:w.elementPercent100,totals:w.totals,perStemElementScaled:w.perStemElementScaled,dayStem:f,mergedStems:N,perTenGodSub:j,perTenGod:A,overlay:{totalsSub:j,perStemAugBare:T,perStemAugFull:$}}}const Is={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Us={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Xs={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},nS={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},Zd={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},H4=["갑","병","무","경","임"];function a_(t){return H4.includes(t)}const $4={목:"화",화:"토",토:"금",금:"수",수:"목"},I4={목:"토",화:"금",토:"수",금:"목",수:"화"},U4={토:"목",금:"화",수:"토",목:"금",화:"수"},G4={화:"목",토:"화",금:"토",수:"금",목:"수"};function zc(t){if(!t)return null;const r=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(r))return r;if(Is[r])return Is[r];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(r))return Zd[r]??null;if(Us[r])return Zd[Us[r]]??null;const a=r.charAt(0);return Is[a]?Is[a]:["갑","을","병","정","무","기","경","신","임","계"].includes(a)?a:Us[a]?Zd[Us[a]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(a)?Zd[a]??null:null}function Z4(t,r){const a=Xs[t],s=Xs[r];if(!a||!s)return"비견";let u;s===a?u="비견":s===$4[a]?u="식신":s===I4[a]?u="편재":s===U4[a]?u="편관":s===G4[a]?u="편인":u="비견";const d=a_(t)===a_(r);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function Y4(t){switch(t){case"비견":case"겁재":return"비겁";case"식신":case"상관":return"식상";case"정재":case"편재":return"재성";case"정관":case"편관":return"관성";case"정인":case"편인":return"인성"}}function th(t){const r=Object.entries(t),a=r.reduce((y,[,_])=>y+(_>0?_:0),0);if(a<=0)return Object.fromEntries(r.map(([y])=>[y,0]));const s=r.map(([y,_])=>[y,(_>0?_:0)*100/a]),u=s.map(([y,_])=>[y,Math.round(_)]);let d=u.reduce((y,[,_])=>y+_,0);const f=s.map(([y,_])=>[y,_-Math.round(_)]).sort((y,_)=>_[1]-y[1]),p=Object.fromEntries(u.map(([y,_])=>[y,_]));let b=0;for(;d<100&&b<f.length;)p[f[b][0]]+=1,d+=1,b+=1;return p}function q4(t){const r={목:0,화:0,토:0,금:0,수:0};for(const[a,s]of Object.entries(t??{})){const u=Xs[zc(a)];u&&s>0&&(r[u]+=s)}return th(r)}function V4(t,r){const a={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,u]of Object.entries(t??{})){if(u<=0)continue;const d=zc(s);if(!d)continue;const f=Z4(r,d);a[f]+=u}return a}function F4(t){const r={비겁:0,식상:0,재성:0,관성:0,인성:0};for(const[a,s]of Object.entries(t)){const u=Y4(a);r[u]+=s}return th(r)}function z0(t){if(!t)return"";const r=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),a=r.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(a)return`${a[1]}${a[2]}`;const s=r.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return s?`${Is[s[1]]}${Us[s[2]]}`:""}function o_(t){const r=Array.isArray(t)?t.slice(0,4):[];for(;r.length<4;)r.push("");return r.map((a,s)=>{if(!a)return"";const u=a.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),d=u.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(d)return`${d[1]}${d[2]}`;const f=u.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return f?`${Is[f[1]]}${Us[f[2]]}`:s<=2?"--":""})}function K4(t,r){const a={목:!1,화:!1,토:!1,금:!1,수:!1};for(const s of t){if(!s)continue;const u=Xs[s.charAt(0)];u&&(a[u]=!0);{const d=nS[s.charAt(1)];d&&(a[d]=!0)}}return a}function X4(t){const r={목:0,화:0,토:0,금:0,수:0};for(const a of t){if(!a)continue;const s=Xs[a.charAt(0)],u=nS[a.charAt(1)];s&&(r[s]+=10),u&&(r[u]+=6)}return r}function Yd(t){return t[0]?.length===2&&t[1]?.length===2&&t[2]?.length===2}const W4=["갑","을","병","정","무","기","경","신","임","계"];function Q4(t){const r={};for(const[a,s]of Object.entries(t??{})){if(s<=0)continue;const u=zc(a);u&&(r[u]=(r[u]??0)+s)}return r}function J4(t){const a={...{갑목:0,을목:0,병화:0,정화:0,무토:0,기토:0,경금:0,신금:0,임수:0,계수:0}};for(const s of W4){const u=Xs[s],d=`${s}${u}`;a[d]=Math.max(0,Math.round(t[s]??0))}return a}const tO={natal:50,dae:30,se:20,wol:7,il:3};function eO(t){const r={};for(const{kind:s,bare:u}of t){const d=tO[s]??0;if(d<=0)continue;const f=th(u);for(const[p,b]of Object.entries(f))r[p]=(r[p]??0)+b*d}const a=Object.values(r).reduce((s,u)=>s+u,0);if(a>0)for(const s of Object.keys(r))r[s]=r[s]/a*100;return r}function nO(t){if(!t)return[];const r=zc(t.charAt(0)),a=zc(t.charAt(1));return[r,a].filter(Boolean)}function qd(t){const r=nO(t),a={};for(const s of r)a[s]=(a[s]??0)+1;return a}function rO({data:t,pillars:r,lunarPillars:a,daewoonGz:s}){const[u,d]=O.useState("일간 · 오행 강약"),[f,p]=O.useState("원국"),[b,y]=O.useState(!0),{date:_,yearGZ:w,monthGZ:S,dayGZ:T}=In(),N=O.useMemo(()=>Ut(w),[w]),j=O.useMemo(()=>Ut(S),[S]),A=O.useMemo(()=>Ut(T),[T]),$=qc(t,t?.mingSikType),I=O.useMemo(()=>{if(!$?.length)return 0;const St=$.findIndex((kt,It)=>{const ee=$[It+1]?.at;return _>=kt.at&&(!ee||_<ee)});return St!==-1?St:_<$[0].at?0:$.length-1},[$,_]),D=O.useMemo(()=>{const St=s??$?.[I]?.gz??"";return Ut(St)||null},[s,$,I]),{manualHour:C}=Gs(),k=t.mingSikType??"야자시",G=O.useMemo(()=>o_(r),[r]),W=O.useMemo(()=>o_(a),[a]),ot=O.useMemo(()=>{const St=[...G];return(!St[3]||St[3]==="")&&C&&(St[3]=C.stem+C.branch),St},[G,C]),nt=O.useMemo(()=>{const St=[...W];return(!St[3]||St[3]==="")&&C&&(St[3]=C.stem+C.branch),St},[W,C]),et=O.useMemo(()=>{const St=Number(t.birthDay?.slice(0,4)),kt=Number(t.birthDay?.slice(4,6)),It=Number(t.birthDay?.slice(6,8));if(!Number.isFinite(St)||!Number.isFinite(kt)||!Number.isFinite(It))return null;const ee=new Date(St,kt-1,It,12,0,0,0),$t=z0(oe(ee)||""),Xt=z0(Se(ee)||""),xt=z0(ae(ee,k)||"");return[$t,Xt,xt,""]},[t.birthDay,k]),Y=Yd(ot),U=Yd(nt),[tt]=O.useState("solar"),at=tt==="lunar"?U?"lunar":Y?"solar":"lunar":Y?"solar":U?"lunar":"solar",st=O.useMemo(()=>{const kt=[...at==="lunar"?U?nt:Y?ot:et??["","","",""]:Y?ot:U?nt:et??["","","",""]];return(!kt[3]||kt[3]==="")&&C&&(kt[3]=C.stem+C.branch),kt},[at,Y,U,ot,nt,et,C]),Z=O.useMemo(()=>C?C.stem+C.branch:st[3]||"",[C,st]),rt=O.useMemo(()=>({dae:f!=="원국"?D??null:null,se:f==="세운"||f==="월운"||f==="일운"?N??null:null,wol:f==="월운"||f==="일운"?j??null:null,il:f==="일운"?A??null:null}),[f,D,N,j,A]),ft=O.useMemo(()=>Yd(st)?eS({natal:st,tab:f,chain:rt,hourKey:Z}):null,[st,f,rt,Z]),gt=O.useMemo(()=>{if(!ft)return null;const St=Q4(ft.perStemElementScaled),kt=rt.dae?qd(rt.dae):{},It=rt.se?qd(rt.se):{},ee=rt.wol?qd(rt.wol):{},$t=rt.il?qd(rt.il):{},Xt=eO([{kind:"natal",bare:St},{kind:"dae",bare:kt},{kind:"se",bare:It},{kind:"wol",bare:ee},{kind:"il",bare:$t}]),xt=th(Xt),Bt=J4(xt),vt=V4(Xt,ft.dayStem),de=F4(vt),He=q4(Xt);return{perStemAugBare:Xt,perStemAugFull:Bt,elemPct100:He,totalsMain:de,totalsSub:vt}},[ft,rt]),P=O.useMemo(()=>K4(st),[st]),H=O.useMemo(()=>["목","화","토","금","수"].some(St=>!P[St]),[P]),X=gt?.elemPct100??ft?.elementPercent100??X4(st),Q=O.useMemo(()=>{if(!ft||!gt)return[];const St=O2(ft.dayStem);return Object.entries(gt.totalsMain).map(([kt,It])=>({name:kt,value:It,color:St[kt]}))},[ft,gt]),z=gt?.elemPct100??{목:0,화:0,토:0,금:0,수:0},q=gt?.totalsSub??null,K=O.useMemo(()=>C?C.stem+C.branch:st[3]||"",[C,st]),ct=O.useMemo(()=>[f,D??"",N??"",j??"",A??"",_?.toISOString?.()??"",K].join("|"),[f,D,N,j,A,_,K]),bt=O.useMemo(()=>{const St=q?Object.entries(q).sort(([It],[ee])=>It.localeCompare(ee)).map(([It,ee])=>`${It}:${ee}`).join(","):"none",kt=Q.map(It=>`${It.name}:${It.value}`).join(",");return`${ct}||${st.join("")}||${kt}||${St}`},[ct,st,Q,q]),Mt=typeof Dx=="function"?Dx(st,ft?.totals):null,Et=O.useMemo(()=>{const kt=(Mt?.ordered??[]).map($t=>{const Xt=$t.element??"",xt=/목|木|wood/i.test(Xt)?"목":/화|火|fire/i.test(Xt)?"화":/토|土|earth/i.test(Xt)?"토":/금|金|metal/i.test(Xt)?"금":/수|水|water/i.test(Xt)?"수":null,Bt=typeof $t.score=="number"?$t.score:xt?X[xt]??0:0,vt=Array.isArray($t.reasons)?$t.reasons:[];return{element:Xt,elNorm:xt,score:Bt,reasons:vt}}),It=$t=>$t?P[$t]:!1,ee=b?kt.map($t=>$t.elNorm&&!It($t.elNorm)?{...$t,score:0,reasons:[...$t.reasons,"부재후순위: 원국 부재 → 0점"]}:$t):kt;return ee.sort(($t,Xt)=>{const xt=It($t.elNorm)?1:0,Bt=It(Xt.elNorm)?1:0;return b&&xt!==Bt?Bt-xt:(Xt.score??0)!==($t.score??0)?(Xt.score??0)-($t.score??0):($t.elNorm??$t.element).localeCompare(Xt.elNorm??Xt.element)}),ee},[Mt,b,X,P]),Lt=O.useMemo(()=>Math.max(0,...Et.map(St=>Number.isFinite(St.score)?St.score:0)),[Et]);function Dt(St){return tS(St,{criteriaMode:"modern",useHarmonyOverlay:!0})}return Yd(st)?g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:g9.map(St=>g.jsx("button",{onClick:()=>p(St),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(f===St?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:St},St))}),g.jsx("div",{className:"flex gap-2 mb-2 justify-center flex-wrap",children:["일간 · 오행 강약","형충회합","신살"].map(St=>g.jsx("button",{onClick:()=>d(St),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(u===St?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:St},St))}),u==="형충회합"&&g.jsx(zk,{pillars:st,daewoon:D||void 0,sewoon:N||void 0,wolwoon:j||void 0,ilwoon:A||void 0,tab:f},`harm-${f}-${K}`),u==="일간 · 오행 강약"&&g.jsxs("div",{className:"space-y-4",children:[g.jsx(Nk,{data:Q,revKey:bt,perStemElementScaled:gt?.perStemAugFull,elementPercent:z,dayStem:st[2]?.charAt(0)??null},`pentagon-${bt}`),g.jsx(jk,{value:Dt(st)}),g.jsx($5,{natal:st}),g.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"text-sm font-bold",children:"용신 추천"}),H&&g.jsxs("button",{type:"button",onClick:()=>y(St=>!St),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${b?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":b,children:["부재후순위: ",b?"ON":"OFF"]})]}),g.jsx("ul",{className:"space-y-2",children:Et.map((St,kt)=>g.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[kt+1,"위"]}),g.jsx("span",{className:"text-sm font-semibold",children:St.element})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:g.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${Lt>0?Math.max(2,Math.min(100,Math.round((St.score??0)/Lt*100))):12}%`},title:`점수 ${St.score}`})}),g.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(St.reasons??[]).map((It,ee)=>g.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:It},ee))})]})]},St.elNorm??St.element))})]})]}),u==="신살"&&g.jsx(j5,{pillars:st,daewoon:D||void 0,sewoon:N||void 0,wolwoon:j||void 0,ilwoon:A||void 0,tab:f},`shin-${f}-${K}`)]}):g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"간지를 인식할 수 없어요."})}const iO=!1,s_=t=>t<10?`0${t}`:`${t}`,aO=t=>typeof t=="string"&&t.length>=2,oO=t=>Array.isArray(t)&&t.length===4&&t.every(aO);function sO(t){const r=t,a=typeof r.birthDay=="string"?r.birthDay:"",s=typeof r.calendarType=="string"?r.calendarType:"solar";if(a.length<8)return t;const u=Number(a.slice(0,4)),d=Number(a.slice(4,6)),f=Number(a.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const y of p){const _=r[y];if(typeof _=="boolean"){b=_;break}if(typeof _=="number"){b=_===1;break}if(typeof _=="string"){b=_==="1"||_.toLowerCase()==="true";break}}if(s==="lunar")try{const y=Pr(u,d,f,0,0),_=`${y.getFullYear()}${s_(y.getMonth()+1)}${s_(y.getDate())}`;return{...t,birthDay:_,calendarType:"solar"}}catch{return t}return t}function lO({data:t}){const[r,a]=O.useState("un"),s=O.useMemo(()=>{try{const p=sO(t);return Vc(p)}catch{return new Date}},[t]),u=O.useMemo(()=>Fc(t,s),[t,s]),d=!t.birthTime||t.birthTime==="모름",f=O.useMemo(()=>{try{const p=oe(u,t.birthPlace?.lon),b=Se(u,t.birthPlace?.lon),y=ae(u,t.mingSikType),_=d?"":zr(u,t.mingSikType);return[p,b,y,_]}catch{return[]}},[u,t?.mingSikType,t?.birthPlace?.lon,d]);return g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>a("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${r==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"기본운 뷰어"}),g.jsx("button",{onClick:()=>a("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${r==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"묘운 뷰어"}),g.jsx("button",{onClick:()=>a("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${r==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"분석 레포트"})]}),r==="un"&&g.jsx(uk,{data:t}),r==="myoun"&&g.jsx(vk,{data:t}),r==="report"&&g.jsx(rO,{data:t,pillars:oO(f)?f:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,s)=>s?s.toUpperCase():a.toLowerCase()),l_=t=>{const r=uO(t);return r.charAt(0).toUpperCase()+r.slice(1)},rS=(...t)=>t.filter((r,a,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===a).join(" ").trim(),dO=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=O.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:u="",children:d,iconNode:f,...p},b)=>O.createElement("svg",{ref:b,...fO,width:r,height:r,stroke:t,strokeWidth:s?Number(a)*24/Number(r):a,className:rS("lucide",u),...!d&&!dO(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,_])=>O.createElement(y,_)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=(t,r)=>{const a=O.forwardRef(({className:s,...u},d)=>O.createElement(hO,{ref:d,iconNode:r,className:rS(`lucide-${cO(l_(t))}`,`lucide-${t}`,s),...u}));return a.displayName=l_(t),a};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pO=Jr("chevron-down",mO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bO=Jr("chevron-up",gO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],vO=Jr("heart-handshake",yO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],_O=Jr("house",xO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],wO=Jr("menu",SO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],EO=Jr("plus",TO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],NO=Jr("settings",MO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],DO=Jr("square-user",AO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],c_=Jr("star",jO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],OO=Jr("user-plus",kO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wp=Jr("x",CO);function LO({onOpenSidebar:t,onAddNew:r,onOpenCustom:a}){return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:t,"aria-label":"명식리스트 열기",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(wO,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:"화림만세력"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:r,"aria-label":"명식 추가",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(OO,{size:18})}),g.jsx("button",{type:"button",onClick:a,"aria-label":"명식 커스텀",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-orange-600 text-white hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(DO,{size:18})})]})]})})}function BO(t){O.useEffect(()=>{const r=t??N_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");A_(r),t&&q0(t)},[t])}const iS="harim.settings.v1",aS=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function RO(t){return typeof t=="string"&&aS.includes(t)}function u_(t){const r=Array.isArray(t)?t.filter(RO):[],a=aS.filter(s=>!r.includes(s));return[...r,...a]}function oS(){if(typeof window>"u")return null;try{const t=localStorage.getItem(iS);return t?JSON.parse(t):null}catch{return null}}function PO(t){if(!(typeof window>"u"))try{const a={...oS()??{},...t};localStorage.setItem(iS,JSON.stringify(a))}catch{}}function zO({open:t,onClose:r}){const{settings:a,setSettings:s}=yr(),u=O.useMemo(()=>u_(a.sectionOrder),[a.sectionOrder]),[d,f]=O.useState(u),[p,b]=O.useState(a),[y,_]=O.useState(null);BO(p.theme??"dark"),O.useEffect(()=>{if(!t)return;const j=oS();if(j){const A={...a,...j};b(A),f(u_(j.sectionOrder??A.sectionOrder))}else b(a),f([...u])},[t]);const w=(j,A)=>{b($=>{const I={...$,[j]:A};return j==="theme"&&q0(A),I})},S=()=>{s({...p,sectionOrder:d}),p.theme&&q0(p.theme),PO({...p,sectionOrder:d}),_("설정이 적용되었습니다"),r()},T=j=>{const{destination:A,source:$}=j;if(!A||A.index===$.index)return;const I=Array.from(d),[D]=I.splice($.index,1);I.splice(A.index,0,D),f(I)},N=j=>{switch(j){case"theme":return g.jsx(kr,{title:"테마",children:g.jsx(HO,{value:p.theme??"dark",onChange:A=>w("theme",A)})});case"hiddenStem":return g.jsx(kr,{title:"지장간 표시 타입",children:g.jsx(Lo,{value:p.hiddenStem,onChange:A=>w("hiddenStem",A),options:[{label:"전체보기",value:"all"},{label:"정기만 보기",value:"regular"}]})});case"hiddenStemMode":return g.jsx(kr,{title:"지장간 유형",children:g.jsx(Lo,{value:p.hiddenStemMode,onChange:A=>w("hiddenStemMode",A),options:[{label:"고전",value:"classic"},{label:"하건충",value:"hgc"}]})});case"ilunRule":return g.jsx(kr,{title:"일운 달력 시간타입",children:g.jsx(Lo,{value:p.ilunRule??"조자시",onChange:A=>w("ilunRule",A),options:[{label:"야자시",value:"야자시"},{label:"조자시",value:"조자시"},{label:"인시",value:"인시"}]})});case"sinsalMode":return g.jsx(kr,{title:"십이신살타입",children:g.jsx(Lo,{value:p.sinsalMode,onChange:A=>w("sinsalMode",A),options:[{label:"고전",value:"classic"},{label:"현대",value:"modern"}]})});case"sinsalBase":return g.jsx(kr,{title:"십이신살기준",children:g.jsx(Lo,{value:p.sinsalBase,onChange:A=>w("sinsalBase",A),options:[{label:"일지",value:"일지"},{label:"연지",value:"연지"}]})});case"sinsalBloom":return g.jsx(kr,{title:"개화론 적용여부",children:g.jsx(Os,{label:"개화론 적용",checked:!!p.sinsalBloom,onChange:A=>w("sinsalBloom",A)})});case"exposure":return g.jsx(kr,{title:"상단 노출",children:g.jsx(Lo,{value:p.exposure,onChange:A=>w("exposure",A),options:[{label:"원국",value:"원국"},{label:"대운",value:"대운"},{label:"세운",value:"세운"},{label:"월운",value:"월운"}]})});case"charType":return g.jsx(kr,{title:"글자 타입",children:g.jsx(Lo,{value:p.charType,onChange:A=>w("charType",A),options:[{label:"한자",value:"한자"},{label:"한글",value:"한글"}]})});case"thinEum":return g.jsx(kr,{title:"음간 얇게",children:g.jsx(Os,{label:"음간 얇게",checked:!!p.thinEum,onChange:A=>w("thinEum",A)})});case"visibility":return g.jsx(kr,{title:"표시 항목",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[140px] mx-auto",children:[g.jsx(Os,{label:"십신 표시",checked:!!p.showSipSin,onChange:A=>w("showSipSin",A)}),g.jsx(Os,{label:"운성 표시",checked:!!p.showSibiUnseong,onChange:A=>w("showSibiUnseong",A)}),g.jsx(Os,{label:"신살 표시",checked:!!p.showSibiSinsal,onChange:A=>w("showSibiSinsal",A)})]})});case"difficultyMode":return g.jsx(kr,{title:"난이도 UP ver.",children:g.jsx(Os,{label:"난이도 UP 적용",checked:!!p.difficultyMode,onChange:A=>w("difficultyMode",A)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${t?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h2",{className:"text-lg font-bold",children:"설정"}),g.jsx("button",{onClick:S,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:"적용하기"})]}),g.jsx("button",{onClick:r,className:"p-1 rounded hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:g.jsx(Wp,{size:22})})]}),t&&g.jsx(Zc,{onDragEnd:T,children:g.jsx(zo,{droppableId:"settings-sections",children:j=>g.jsxs("ul",{ref:j.innerRef,...j.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[d.map((A,$)=>g.jsx(Vs,{draggableId:A,index:$,children:I=>g.jsxs("li",{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none",children:"☰"}),g.jsx("div",{className:"flex-1 min-w-0",children:N(A)})]})},A)),j.placeholder]})})})]}),y&&g.jsx(o2,{message:y,onClose:()=>_(null),ms:1800})]})}function HO({value:t,onChange:r}){const a=t==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>r(a?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"다크/라이트 전환","aria-pressed":a,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:a?"다크":"라이트"})]})}function kr({title:t,children:r}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:t}),g.jsx("div",{className:"flex justify-center",children:r})]})}function Lo({value:t,onChange:r,options:a}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:s=>s.stopPropagation(),onTouchStart:s=>s.stopPropagation(),children:a.map(s=>{const u=t===s.value;return g.jsx("button",{type:"button",onClick:()=>r(s.value),className:`px-3 py-1 text-sm transition-colors ${u?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:s.label},s.value)})})}function Os({label:t,checked:r,onChange:a}){const s=`switch-${t}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:s,className:"flex items-center justify-between w-full max-w-[160px] text-sm cursor-pointer",children:[g.jsx("span",{children:t}),g.jsx("input",{id:s,type:"checkbox",checked:r,onChange:u=>a(u.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function $O({onShowToday:t,onShowCouple:r}){const[a,s]=O.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(H0,{icon:g.jsx(_O,{size:22}),label:"오늘의 사주",onClick:t}),g.jsx(H0,{icon:g.jsx(vO,{size:22}),label:"궁합",onClick:r}),g.jsx(H0,{icon:g.jsx(NO,{size:22}),label:"기타설정",onClick:()=>s(!0)})]})}),g.jsx(zO,{open:a,onClose:()=>s(!1)})]})}function H0({icon:t,label:r,onClick:a}){return g.jsxs("button",{onClick:a,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer dark:text-neutral-300 dark:hover:text-purple-400",children:[t,g.jsx("span",{className:"mt-1",children:r})]})}function IO(t,r={}){const{onConfirm:a,onCancel:s,duration:u=1/0,id:d="confirm-center",disableBackdropClose:f=!1,confirmText:p="확인",cancelText:b="취소"}=r;return Jm.custom(y=>{if(typeof window>"u"||!document?.body)return null;const _=()=>{const w=O.useRef(!1),S=()=>{w.current||(w.current=!0,Jm.dismiss(y.id),setTimeout(()=>{s?.()},0))},T=()=>{w.current||(w.current=!0,Jm.dismiss(y.id),setTimeout(()=>{a?.()},0))};return O.useEffect(()=>{const N=j=>{w.current||((j.key==="Escape"||j.key==="Esc")&&(j.preventDefault(),j.stopPropagation(),S()),j.key==="Enter"&&(j.preventDefault(),j.stopPropagation(),T()))};return document.addEventListener("keydown",N,{capture:!0}),()=>document.removeEventListener("keydown",N,{capture:!0})},[]),g.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-live":"assertive",className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:f?void 0:S}),g.jsxs("div",{className:"relative z-10 bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg border border-neutral-700 w-[min(92vw,520px)] transition-all duration-100 ease-out",children:[g.jsx("p",{className:"text-sm mb-3 whitespace-pre-line",children:t}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",onClick:S,children:b}),g.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-red-600 hover:bg-red-500 cursor-pointer text-white",onClick:T,children:p})]})]})]})};return Ic.createPortal(g.jsx(_,{}),document.body)},{id:d,duration:u})}function Bo(t,r){const[a,s]=O.useState(r),[u,d]=O.useState(!1);return O.useEffect(()=>{try{if(typeof window>"u")return;const f=localStorage.getItem(t);f!=null&&s(JSON.parse(f))}catch{}finally{d(!0)}},[t]),O.useEffect(()=>{if(u)try{localStorage.setItem(t,JSON.stringify(a))}catch{}},[t,a,u]),[a,s,u]}function d_(t,r,a){const s=t.slice(),[u]=s.splice(r,1);return s.splice(a,0,u),s}const UO="list:__unassigned__",f_="list:";function GO(t,r){const[a,s]=Bo(yf,[]),[u,d]=Bo(XD,{}),[f,p]=Bo(KD,[]),[b,y]=Bo(a2,[]),[_,w]=Bo("ms_folder_open",{}),[S,T]=Bo("ms_memo_open",{}),[N,j]=Bo("ms_new_folder_tmp",""),A=O.useRef(0);function $(et,Y,U){const tt=Date.now();tt-A.current<450||(A.current=tt,IO(et,{onConfirm:Y,onCancel:U,duration:Number.POSITIVE_INFINITY}))}const I=O.useMemo(()=>bf.filter(et=>!b.includes(et)),[b]),D=O.useMemo(()=>[...I,...a],[I,a]);O.useEffect(()=>{p(et=>{const Y=et.filter(U=>D.includes(U));for(const U of D)Y.includes(U)||Y.push(U);return Y})},[D,p]);const C=O.useMemo(()=>{const et=f.filter(U=>!!u[U]),Y=f.filter(U=>!u[U]);return[...et,...Y]},[f,u]);O.useEffect(()=>{w(et=>{const Y={...et};for(const U of C)Y[U]===void 0&&(Y[U]=!0);return Y})},[C,w]),O.useEffect(()=>{t.filter(tt=>tt.folder==="미분류").forEach(tt=>r(tt.id,{folder:void 0}));const Y=new Set(D);t.filter(tt=>tt.folder&&!Y.has(tt.folder)).forEach(tt=>r(tt.id,{folder:void 0}))},[t,D,r]);const{grouped:k,unassignedItems:G}=O.useMemo(()=>{const et={};for(const tt of C)et[tt]=[];const Y=[];for(const tt of t){const at=tt.folder;at&&et[at]?et[at].push(tt):Y.push(tt)}const U=(tt,at)=>+!!at.favorite-+!!tt.favorite;for(const tt of Object.keys(et))et[tt]=et[tt].slice().sort(U);return Y.sort(U),{grouped:et,unassignedItems:Y}},[t,C]);function W(et){const{destination:Y,draggableId:U,type:tt,source:at}=et;if(Y){if(tt==="FOLDER"){const st=U.replace(/^folder-/,""),Z=f.filter(gt=>!!u[gt]),rt=f.filter(gt=>!u[gt]);if(!!u[st]){const gt=Z.indexOf(st),P=Math.min(Z.length-1,Y.index);p([...d_(Z,gt,P),...rt])}else{const gt=rt.indexOf(st),P=Math.min(rt.length-1,Y.index-Z.length);p([...Z,...d_(rt,gt,P)])}return}if(tt==="ITEM"){const st=U.replace(/^item:/,""),Z=at?.droppableId??"",rt=Y?.droppableId??"",ft=X=>{if(!X.startsWith(f_))return;const Q=X.slice(f_.length);return Q==="__unassigned__"?void 0:Q},gt=ft(Z),P=ft(rt);if(gt===P)return;const H=t.find(X=>X.id===st);if(!H)return;r(H.id,{folder:P});return}}}function ot(et){const Y=et.trim();if(!Y)return;const U=new Set([...C,...a]);let tt=Y,at=2;for(;U.has(tt);)tt=`${Y} ${at++}`;s(st=>[...st,tt]),w(st=>({...st,[tt]:!0})),j("")}function nt(et){t.filter(U=>U.folder===et).forEach(U=>r(U.id,{folder:void 0})),bf.includes(et)?y(U=>Array.from(new Set([...U,et]))):s(U=>U.filter(tt=>tt!==et)),w(U=>{const tt={...U};return delete tt[et],tt}),d(U=>{const tt={...U};return delete tt[et],tt}),p(U=>U.filter(tt=>tt!==et))}return{folderFavMap:u,setFolderFavMap:d,folderOpenMap:_,setFolderOpenMap:w,memoOpenMap:S,setMemoOpenMap:T,newFolderName:N,setNewFolderName:j,orderedFolders:C,grouped:k,unassignedItems:G,confirmThrottled:$,handleDragEnd:W,createFolder:ot,deleteFolder:nt,displayFolderLabel:WD,UNASSIGNED_LABEL:Ee,DROPPABLE_UNASSIGNED:UO}}function ZO(t,r){if(!/^\d{8}$/.test(t))return t||"";const a=t.slice(0,4),s=t.slice(4,6),u=t.slice(6,8);return r&&/^\d{4}$/.test(r)?`${a}년 ${s}월 ${u}일생 ${r.slice(0,2)}:${r.slice(2,4)}분`:r==="모름"?`${a}년 ${s}월 ${u}일생 (시간 모름)`:`${a}년 ${s}월 ${u}일생`}function YO(t){if(!t)return"";const r=t.split(/[\s,]+/).filter(Boolean);if(r.length===0)return"";const a=f=>r.find(p=>f.some(b=>p.endsWith(b))),s=a(["시","군","구"]),u=a(["동","읍","면","리"]);return r.length===1||!a(["시","군","구","동","읍","면","리"])&&!a(["도","광역시","특별시","자치시","자치도"])?t:s&&u?`${s} ${u}`:s||t}function qO(t){if(!/^\d{8}$/.test(t))return"-";const r=Number(t.slice(0,4)),a=Number(t.slice(4,6)),s=Number(t.slice(6,8)),u=new Date;let d=u.getFullYear()-r;return(u.getMonth()+1<a||u.getMonth()+1===a&&u.getDate()<s)&&d--,d}function VO(t){return(t.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null시\s*/gi,"").trim()}function cp(t){return typeof t=="object"&&t!==null}function FO(t){if(!cp(t))throw new Error("Invalid lunar2solar result");const r=t,a=r.cYear,s=r.cMonth,u=r.cDay;if(typeof a!="number"||typeof s!="number"||typeof u!="number")throw new Error("Invalid lunar2solar fields");const d=r.isLeap;return{cYear:a,cMonth:s,cDay:u,isLeap:typeof d=="boolean"?d:void 0}}function KO(t){const r=cp(t)&&"default"in t?t.default:t;if(!cp(r))throw new Error("solarlunar module invalid");const a=r.lunar2solar;if(typeof a!="function")throw new Error("solarlunar.lunar2solar not found");return(s,u,d)=>FO(a(s,u,d,!1))}const XO=KO($p);function sS(t){const r=t.mingSikType??"야자시";let a=Number(t.birthDay.slice(0,4)),s=Number(t.birthDay.slice(4,6)),u=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const I=XO(a,s,u);a=I.cYear,s=I.cMonth,u=I.cDay}const d=!t.birthTime||t.birthTime==="모름",f=d?4:Number(t.birthTime.slice(0,2)),p=d?30:Number(t.birthTime.slice(2,4)),b=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,y=new Date(a,s-1,u,f,p,0,0),_=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",w=Io(y,b,_),S=d?"":w.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),T=oe(w,b),N=Se(w,b),j=ae(w,r),A=d?null:zr(w,r),$=[`원국 : ${T}년 ${N}월 ${j}일`,A?`${A}시`:null].filter(Boolean).join(" ");return{correctedLocal:S,ganji:$}}const h_="sidebar.orderMap.v1",m_="sidebar.folderOrder.v1",yc="list:__unassigned__",Vd=t=>`list:${t}`,$0=t=>{if(!t.startsWith("list:"))return;const r=t.slice(5);return r==="__unassigned__"?void 0:r};function WO({open:t,onClose:r,onView:a,onAddNew:s,onEdit:u,onDeleteView:d}){const{list:f,remove:p,update:b}=el(),{folderFavMap:y,setFolderFavMap:_,folderOpenMap:w,setFolderOpenMap:S,memoOpenMap:T,setMemoOpenMap:N,newFolderName:j,setNewFolderName:A,orderedFolders:$,grouped:I,unassignedItems:D,handleDragEnd:C,createFolder:k,deleteFolder:G,UNASSIGNED_LABEL:W,displayFolderLabel:ot}=GO(f,b),[nt,et]=O.useState([]);O.useEffect(()=>{try{const H=localStorage.getItem(m_);if(H){const X=JSON.parse(H);Array.isArray(X)&&et(X)}}catch{console.log("[Sidebar] Failed to load folderOrder from localStorage")}},[]),O.useEffect(()=>{try{localStorage.setItem(m_,JSON.stringify(nt))}catch{console.log("[Sidebar] Failed to save folderOrder to localStorage")}},[nt]);const[Y,U]=O.useState({});O.useEffect(()=>{try{const H=localStorage.getItem(h_);if(H){const X=JSON.parse(H);X&&typeof X=="object"&&U(Q=>({...X,...Q}))}}catch{console.log("[Sidebar] Failed to load orderMap from localStorage")}},[]),O.useEffect(()=>{try{localStorage.setItem(h_,JSON.stringify(Y))}catch{console.log("[Sidebar] Failed to save orderMap to localStorage")}},[Y]);const[tt,at]=O.useState(!1),st=(H,X)=>{const Q=new Map(X.map(K=>[K.id,K])),z=Y[H]??[],q=[];for(const K of z){const ct=Q.get(K);ct&&(q.push(ct),Q.delete(K))}return Q.forEach(K=>q.push(K)),q},Z=H=>{const X=$0(H),Q=X?I[X]||[]:D;return st(H,Q).map(z=>z.id)};O.useEffect(()=>{U(H=>{let X=!1;const Q={...H};{const z=yc,q=D.map(K=>K.id);if(!Q[z])Q[z]=q,X=!0;else{const K=q.filter(bt=>!Q[z].includes(bt));K.length&&(Q[z]=[...Q[z],...K],X=!0);const ct=Q[z].filter(bt=>!q.includes(bt));ct.length&&(Q[z]=Q[z].filter(bt=>!ct.includes(bt)),X=!0)}}for(const z of $){const q=Vd(z),K=(I[z]||[]).map(ct=>ct.id);if(!Q[q])Q[q]=K,X=!0;else{const ct=K.filter(Mt=>!Q[q].includes(Mt));ct.length&&(Q[q]=[...Q[q],...ct],X=!0);const bt=Q[q].filter(Mt=>!K.includes(Mt));bt.length&&(Q[q]=Q[q].filter(Mt=>!bt.includes(Mt)),X=!0)}}return X?Q:H})},[D,I,$]);const rt=O.useMemo(()=>[...nt.filter(H=>$.includes(H)),...$.filter(H=>!nt.includes(H))],[nt,$]),ft=H=>H??{},gt=(H,X)=>{const Q=VO(H),z=YO(H.birthPlace?.name),q=`item:${H.id}`,K=!!T[H.id];let ct=new Date(H.corrected);gf(ct.getFullYear(),ct.getMonth()+1,ct.getDate())&&(ct=new Date(ct.getTime()-3600*1e3));const bt=!H.birthTime||H.birthTime==="모름";return g.jsx(Vs,{draggableId:q,index:X,children:Mt=>g.jsx("li",{ref:Mt.innerRef,...Mt.draggableProps,...Mt.dragHandleProps,style:ft(Mt.draggableProps.style),className:`list-none select-none rounded-xl border
                       bg-white dark:bg-neutral-900
                       border-neutral-200 dark:border-neutral-800
                       text-neutral-900 dark:text-neutral-100
                       cursor-grab active:cursor-grabbing`,children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[H.name," (",qO(H.birthDay),"세, ",H.gender,")"]}),g.jsx("span",{className:"opacity-40",children:"｜"}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:H.relationship?H.relationship:"관계 미지정"}),g.jsx("span",{className:"ml-auto opacity-50 select-none",children:"☰"})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[ZO(H.birthDay,H.birthTime),","," ",H.calendarType==="lunar"?"음력":"양력"]}),(z||ct)&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[z,ct&&g.jsxs("span",{className:"opacity-70",children:[" ","· 보정시 ",bt?"모름":rj(ct)]})]}),Q&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:Q}),H.memo&&H.memo.trim()!==""&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:Et=>{Et.stopPropagation(),N(Lt=>({...Lt,[H.id]:!Lt[H.id]}))},children:K?"메모 닫기":"메모 열기"}),g.jsx("div",{className:K?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:H.memo})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:ot(H.folder),onClick:Et=>Et.stopPropagation(),onChange:Et=>{Et.stopPropagation();const Lt=Et.target.value,Dt=Fs(Lt),St=H.id,kt=H.folder?Vd(H.folder):yc,It=Dt?Vd(Dt):yc;Dt&&!$.includes(Dt)&&k(Dt),U(ee=>{const $t={...ee},Xt=Z(kt),xt=kt===It?Xt.slice():Z(It).slice(),Bt=Xt.indexOf(St);Bt>=0&&Xt.splice(Bt,1);const vt=xt.indexOf(St);return vt>=0&&xt.splice(vt,1),xt.unshift(St),$t[kt]=Xt,$t[It]=xt,$t}),b(St,{folder:Dt})},children:[W,...$].map(Et=>g.jsx("option",{value:Et,children:Et},Et))}),g.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:H.mingSikType??"야자시",onClick:Et=>Et.stopPropagation(),onChange:Et=>{Et.stopPropagation();const Lt=Et.target.value,Dt={...H,mingSikType:Lt},St=sS(Dt);b(H.id,{mingSikType:Lt,...St}),a({...Dt,...St}),r()},children:[g.jsx("option",{value:"야자시",children:"야자시명식"}),g.jsx("option",{value:"조자시",children:"조자시명식"}),g.jsx("option",{value:"인시",children:"인시명식"})]})]}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{onClick:Et=>{Et.stopPropagation(),a(H),r()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-indigo-600 hover:bg-indigo-500`,children:"보기"}),g.jsx("button",{onClick:Et=>{Et.stopPropagation(),u?.(H)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-amber-600 hover:bg-amber-500`,children:"수정"}),g.jsx("button",{onClick:Et=>{Et.stopPropagation(),confirm(`'${H.name}' 명식을 삭제할까요?`)&&(p(H.id),d&&d())},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-red-600 hover:bg-red-500`,children:"삭제"}),g.jsx("button",{type:"button",onClick:Et=>{Et.stopPropagation(),b(H.id,{favorite:!H.favorite})},className:`ml-auto p-1 rounded cursor-pointer ${H.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:g.jsx(c_,{size:16,fill:H.favorite?"currentColor":"none"})})]})]})})},q)},P=H=>{const{source:X,destination:Q,draggableId:z,type:q}=H;if(Q){if(q==="FOLDER"){C(H),et(K=>{const ct=[...K],[bt]=ct.splice(X.index,1);return ct.splice(Q.index,0,bt),ct});return}if(q==="ITEM"){const K=z.replace(/^item:/,""),ct=X.droppableId,bt=Q.droppableId;U(Lt=>{const Dt={...Lt},St=Z(ct),kt=ct===bt?St.slice():Z(bt).slice();if(ct===bt){const[$t]=kt.splice(X.index,1);return kt.splice(Q.index,0,$t),Dt[ct]=kt,Dt}const It=St.indexOf(K);It>=0&&St.splice(It,1);const ee=kt.indexOf(K);return ee>=0&&kt.splice(ee,1),kt.splice(Q.index,0,K),Dt[ct]=St,Dt[bt]=kt,Dt});const Mt=$0(ct),Et=$0(bt);Mt!==Et&&b(K,{folder:Et})}}};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    ${tt?"overflow-hidden":"overflow-auto"}
                    ${t?"left-0":"left-[-100%]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:"명식 리스트"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:()=>{s(),r()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[g.jsx(EO,{size:16})," 명식추가"]}),g.jsx("button",{onClick:r,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:g.jsx(Wp,{size:22})})]})]}),g.jsx(Zc,{onDragStart:()=>at(!0),onDragEnd:H=>{at(!1),P(H)},children:g.jsxs("div",{className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:j,onChange:H=>A(H.target.value),placeholder:"새 폴더 이름",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`,onClick:H=>H.stopPropagation()}),g.jsx("button",{type:"button",onClick:()=>k(j),className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,onClickCapture:H=>H.stopPropagation(),children:"생성"})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"명식/폴더를 드래그 하여 순서를 바꿀 수 있습니다."}),g.jsx(zo,{droppableId:yc,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:H=>{const X=st(yc,D);return g.jsx("div",{ref:H.innerRef,...H.droppableProps,className:"mb-6",children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[X.map((Q,z)=>gt(Q,z)),H.placeholder]})})}}),g.jsx(zo,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,children:H=>g.jsxs("div",{ref:H.innerRef,...H.droppableProps,children:[rt.map((X,Q)=>{const z=Vd(X),q=st(z,I[X]||[]),K=!!w[X],ct=!!y[X];return g.jsx(Vs,{draggableId:`folder-${X}`,index:Q,children:bt=>g.jsxs("div",{ref:bt.innerRef,...bt.draggableProps,...bt.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                         bg-neutral-50 dark:bg-neutral-900/70
                                         border border-neutral-200 dark:border-neutral-800
                                         text-neutral-800 dark:text-neutral-200`,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:Mt=>{Mt.stopPropagation(),S(Et=>({...Et,[X]:!K}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[K?g.jsx(bO,{size:16}):g.jsx(pO,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:X})]}),g.jsx("button",{type:"button",onClick:Mt=>{Mt.stopPropagation(),_(Et=>({...Et,[X]:!Et[X]}))},className:`p-1 rounded cursor-pointer ${ct?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:g.jsx(c_,{size:16,fill:ct?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[q.length,"개"]}),g.jsx("button",{type:"button",onClick:Mt=>{if(Mt.stopPropagation(),y[X]){alert(`'${X}' 폴더는 즐겨찾기 되어 있습니다.
즐겨찾기 해제 후 삭제해주세요.`);return}confirm(`'${X}' 폴더를 삭제할까요?
(소속 항목은 바깥으로 이동합니다)`)&&G(X)},className:`px-2 py-1 rounded text-xs cursor-pointer
                                             border border-red-300 dark:border-red-700
                                             text-red-700 dark:text-red-300
                                             hover:bg-red-50 dark:hover:bg-red-900/30`,children:"삭제"})]})]}),K&&g.jsx(zo,{droppableId:z,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:Mt=>g.jsx("div",{ref:Mt.innerRef,...Mt.droppableProps,className:"mt-2",children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[q.map((Et,Lt)=>gt(Et,Lt)),Mt.placeholder]})})})]})},`folder-${X}`)}),H.placeholder]})})]})})]})]})}const p_="ms_folders",I0="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",QO="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",JO="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Ki="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",tC="text-xs text-neutral-500 dark:text-neutral-400",Fd="accent-violet-600 dark:accent-violet-400",g_="accent-violet-600 dark:accent-violet-400",eh="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",eC=`${eh} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,nC=`${eh} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,b_=`${eh} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,rC=`${eh} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function iC({item:t,onClose:r}){const{list:a,update:s,remove:u}=el(),[d,f]=O.useState(!1),[p,b]=O.useState({...t,calendarType:t.calendarType??"solar"}),[y,_]=O.useState(!t.birthTime||t.birthTime==="모름"),[w,S]=O.useState(!t.birthPlace||t.birthPlace.name==="모름"),T=O.useMemo(()=>["가족","친구","직장","지인","고객","기타"],[]),[N,j]=O.useState([]);O.useEffect(()=>{try{const k=JSON.parse(localStorage.getItem(p_)||"[]");Array.isArray(k)&&j(k)}catch{}},[]);const A=O.useMemo(()=>{const k=Array.from(new Set(a.map(ot=>ot.folder).filter(Boolean))),G=new Set([...T,...N,...k]),W=Array.from(G).sort((ot,nt)=>ot.localeCompare(nt));return[Ee,...W]},[a,N,T]),$=()=>{b({...t,calendarType:t.calendarType??"solar"}),_(!t.birthTime||t.birthTime==="모름"),S(!t.birthPlace||t.birthPlace.name==="모름")},I=()=>{if(!p.name||p.name.trim()==="")return"이름을 입력해주세요.";if(!p.birthDay||!/^\d{8}$/.test(p.birthDay))return"생년월일은 YYYYMMDD 형식으로 입력해주세요.";const k=Number(p.birthDay.slice(0,4)),G=Number(p.birthDay.slice(4,6)),W=Number(p.birthDay.slice(6,8));if(p.calendarType==="lunar")try{Pr(k,G,W)}catch(ot){return ot instanceof Error?ot.message:"음력 날짜가 유효하지 않습니다."}else{const ot=new Date(k,G-1,W);if(ot.getFullYear()!==k||ot.getMonth()+1!==G||ot.getDate()!==W)return"존재하지 않는 양력 날짜입니다."}if(!y){if(!p.birthTime||!/^\d{4}$/.test(p.birthTime))return"태어난 시간은 0000–2359 형식(4자리)으로 입력해주세요.";const ot=Number(p.birthTime.slice(0,2)),nt=Number(p.birthTime.slice(2,4));if(ot<0||ot>23||nt<0||nt>59)return"태어난 시간은 0000–2359 범위여야 합니다."}return!w&&!p.birthPlace?"태어난 지역을 선택하거나 '모름'을 체크해주세요.":null},D=()=>{const k=I();if(k){alert(k);return}const G=Number(p.birthDay.slice(0,4)),W=Number(p.birthDay.slice(4,6)),ot=Number(p.birthDay.slice(6,8));let nt=G,et=W,Y=ot;if(p.calendarType==="lunar"){const ct=Pr(G,W,ot);nt=ct.getFullYear(),et=ct.getMonth()+1,Y=ct.getDate()}const U=y?4:Number((p.birthTime??"0430").slice(0,2)),tt=y?30:Number((p.birthTime??"0430").slice(2,4)),at=w||!p.birthPlace||p.birthPlace.lon===0?127.5:p.birthPlace.lon,st=new Date(nt,et-1,Y,U,tt,0,0),Z=!p.birthPlace||typeof p.birthPlace=="object"&&p.birthPlace.name==="모름",rt=Io(st,at,Z),gt=oe(rt,at).charAt(0),H=((ct,bt)=>{const Et=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(ct),Lt=(bt??"남자")==="남자";return Et?Lt?"forward":"backward":Lt?"backward":"forward"})(gt,p.gender??"남자"),X=Fs(p.folder===Ee?void 0:p.folder),Q={...t,name:(p.name??"").trim()||"이름없음",birthDay:p.birthDay,birthTime:y?"모름":p.birthTime??"0430",gender:p.gender??"남자",birthPlace:w?{name:"모름",lat:0,lon:127.5}:p.birthPlace??{name:"모름",lat:0,lon:127.5},relationship:p.relationship??"",memo:p.memo??"",folder:X,calendarType:p.calendarType??"solar",mingSikType:p.mingSikType??"야자시",DayChangeRule:(p.mingSikType??"야자시")==="인시"?"인시일수론":"자시일수론",dir:H,corrected:rt,correctedLocal:"",ganji:""},{correctedLocal:z,ganji:q}=sS(Q),K={...Q,correctedLocal:z,ganji:q};if(K.folder&&!T.includes(K.folder)&&!N.includes(K.folder)){const ct=[...N,K.folder];j(ct),localStorage.setItem(p_,JSON.stringify(ct))}s(t.id,K),f(!1),r&&r()},C=()=>{confirm(`'${t.name}' 명식을 삭제할까요?`)&&u(t.id)};return d?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:"명식 수정"}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"이름"}),g.jsx("input",{className:I0,value:p.name||"",onChange:k=>b({...p,name:k.target.value}),placeholder:"이름"})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"생년월일 (YYYYMMDD)"}),g.jsx("input",{className:I0,value:p.birthDay||"",onChange:k=>b({...p,birthDay:k.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:"예: 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Fd,name:"calendarType",checked:p.calendarType==="solar",onChange:()=>b({...p,calendarType:"solar"}),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"양력"})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Fd,name:"calendarType",checked:p.calendarType==="lunar",onChange:()=>b({...p,calendarType:"lunar"}),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"음력"})]})]}),p.calendarType==="lunar"&&p.birthDay?.length===8&&g.jsx("span",{className:tC,children:(()=>{try{const k=Number(p.birthDay.slice(0,4)),G=Number(p.birthDay.slice(4,6)),W=Number(p.birthDay.slice(6,8)),ot=Pr(k,G,W);return`→ 양력 ${ot.getFullYear()}-${String(ot.getMonth()+1).padStart(2,"0")}-${String(ot.getDate()).padStart(2,"0")}`}catch(k){const G=k instanceof Error?k.message:void 0;return`→ 변환 실패${G?`: ${G}`:""}`}})()})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"태어난 시간 (HHMM)"}),g.jsx("input",{className:`${I0} disabled:opacity-50`,value:y?"":p.birthTime||"",onChange:k=>b({...p,birthTime:k.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:"예: 1524",disabled:y}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:g_,checked:y,onChange:k=>_(k.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"명식 기준"}),g.jsx("div",{className:"flex gap-4 text-sm",children:["야자시","조자시","인시"].map(k=>{const G=`editor_ming_${k}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Fd,name:"mingSikType",checked:(p.mingSikType??"조자시")===k,onChange:()=>b({...p,mingSikType:k}),id:G}),g.jsx("label",{htmlFor:G,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:k})]},k)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"성별"}),g.jsx("div",{className:"flex gap-4 text-sm",children:["남자","여자"].map(k=>{const G=`editor_gender_${k}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Fd,name:"gender",value:k,checked:p.gender===k,onChange:W=>b({...p,gender:W.target.value}),id:G}),g.jsx("label",{htmlFor:G,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:k})]},k)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"태어난 지역"}),g.jsx(V_,{onSelect:k=>b({...p,birthPlace:k}),value:w?"출생지선택":p.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:g_,checked:w,onChange:k=>S(k.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"관계"}),g.jsx(i2,{value:p.relationship||"",onChange:k=>b({...p,relationship:k})})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"폴더"}),g.jsx("select",{className:QO,value:p.folder??Ee,onChange:k=>{const G=k.target.value;b(G===Ee?{...p,folder:void 0}:{...p,folder:G})},children:A.map(k=>g.jsx("option",{value:k===Ee?Ee:k,children:k},k))})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"메모"}),g.jsx("textarea",{className:JO,value:p.memo||"",onChange:k=>b({...p,memo:k.target.value}),placeholder:"메모를 입력하세요"})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:b_,onClick:()=>{$(),f(!1)},children:"취소"}),g.jsx("button",{className:rC,onClick:D,children:"저장"})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",t.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:eC,onClick:()=>f(!0),children:"수정"}),g.jsx("button",{className:nC,onClick:C,children:"삭제"}),r&&g.jsx("button",{className:b_,onClick:r,children:"닫기"})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:["성별: ",t.gender]}),g.jsxs("div",{children:["생년월일/시간: ",t.birthDay," ",t.birthTime==="모름"?"(시간 모름)":t.birthTime,","," ",t.calendarType==="lunar"?"음력":"양력"]}),g.jsxs("div",{children:["보정시: ",t.correctedLocal||"-"]}),g.jsxs("div",{children:["출생지: ",t.birthPlace?.name||"-"]}),g.jsxs("div",{children:["관계: ",t.relationship||"-"]}),g.jsxs("div",{children:["폴더: ",t.folder??Ee]})]}),t.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:t.ganji}),t.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:"메모"}),t.memo]})]})}function aC({pillarsA:t,pillarsB:r}){const a=Pk(t,r);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"두 명식 간 형충회합"}),Object.entries(a).map(([s,u])=>u.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:s}),g.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((d,f)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:d},f))})]},s):null)]})}function oC(t){return typeof t=="object"&&t!==null}const sC=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],lC=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],cC=new Set(sC),uC=new Set(lC);function y_(t){return typeof t=="string"&&t.length>=2&&cC.has(t[0])&&uC.has(t[1])}function ze(t,...r){if(y_(t))return t;for(const a of r)if(y_(a))return a;return"甲子"}function Kd(t,r){let a=null;const s=r.getTime();for(const u of t)if(u.at.getTime()<=s)a=u;else break;return a}function dC(t){const r=a=>String(a).padStart(2,"0");return`${t.getFullYear()}-${r(t.getMonth()+1)}-${r(t.getDate())}T${r(t.getHours())}:${r(t.getMinutes())}`}function v_(t){if(!t)return null;const r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(t);if(!r)return null;const[,a,s,u,d,f]=r,p=new Date(+a,+s-1,+u,+d,+f);return Number.isNaN(p.getTime())?null:p}function Cf(t){const r=t;return typeof r.name=="string"&&r.name?r.name:typeof r.title=="string"&&r.title?r.title:typeof r.memo=="string"&&r.memo?r.memo:"이름 없음"}function fC(t){const r=Number(t.birthDay.slice(0,4)),a=Number(t.birthDay.slice(4,6)),s=Number(t.birthDay.slice(6,8));let u=0,d=0;const f=t;return typeof f.birthTime=="string"&&f.birthTime.length>=4&&(u=Number(f.birthTime.slice(0,2)),d=Number(f.birthTime.slice(2,4))),{y:r,m:a,d:s,hh:u,mm:d}}function nh(t){const{y:r,m:a,d:s}=fC(t),u=t.corrected.getHours(),d=t.corrected.getMinutes();return t.calendarType==="lunar"?Pr(r,a,s,u,d):new Date(r,a-1,s,u,d)}function hC(t){const r=nh(t);return`${Cf(t)}-${r.toISOString()}`}function vc(t){const r=t;return typeof r.id=="string"&&r.id?r.id:hC(t)}function mC(t){return oC(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function pC(t){const r=Uo;return mC(r)?t==="classic"?r.Classic:r.Modern:t}const U0="people_picker_order_v1";function gC(t,r,a){const s=t.slice(),[u]=s.splice(r,1);return s.splice(a,0,u),s}function x_({open:t,list:r,onSelect:a,onClose:s}){const[u,d]=O.useState("");O.useEffect(()=>{t||d("")},[t]);const f=O.useMemo(()=>r.map(vc),[r]),p=O.useMemo(()=>new Set(f),[f]),[b,y]=O.useState([]);O.useEffect(()=>{const j=localStorage.getItem(U0),A=j?JSON.parse(j):[],$=A.filter(D=>p.has(D)),I=[...$,...f.filter(D=>!$.includes(D))];y(I),JSON.stringify(I)!==JSON.stringify(A)&&localStorage.setItem(U0,JSON.stringify(I))},[f,p]);const _=j=>{y(j),localStorage.setItem(U0,JSON.stringify(j))},w=O.useMemo(()=>{const j=new Map(r.map($=>[vc($),$])),A=[];for(const $ of b){const I=j.get($);I&&A.push(I)}return j.forEach(($,I)=>{b.includes(I)||A.push($)}),A},[r,b]),S=O.useMemo(()=>{const j=u.trim().toLowerCase();return j?w.filter(A=>Cf(A).toLowerCase().includes(j)):w},[w,u]),T=u.trim()==="",N=j=>{const{destination:A,source:$}=j;if(!A||!T||A.index===$.index)return;const I=S.map(vc),D=gC(I,$.index,A.index),k=w.map(vc).filter(W=>!I.includes(W)),G=[...D,...k].filter((W,ot,nt)=>nt.indexOf(W)===ot);_(G)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:s}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${t?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:"명식 선택"}),g.jsx("button",{onClick:s,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:"닫기"})]}),g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("input",{placeholder:"이름 검색",value:u,onChange:j=>d(j.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!T&&g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"검색 중엔 순서 변경 불가"})]}),g.jsx(Zc,{onDragEnd:N,children:g.jsx(zo,{droppableId:"peopleList",children:j=>g.jsxs("ul",{ref:j.innerRef,...j.droppableProps,className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:[S.map((A,$)=>{const I=String(vc(A)),D=nh(A);return g.jsx(Vs,{draggableId:I,index:$,children:C=>g.jsx("li",{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,onClick:()=>a(A),className:"w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 cursor-grab select-none active:cursor-grabbing",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"mr-2 select-none",children:"☰"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:Cf(A)}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:Nc(D)})]})]})})},I)}),j.placeholder]})})})]})]})}function G0({label:t,gzHour:r,gzDay:a,gzMonth:s,gzYear:u,dayStem:d,cardSettings:f,sinsalBaseBranch:p,sinsalMode:b,sinsalBloom:y}){const _=j=>{const A=f.showSibiUnseong?gi(d,j):"",$=f.showSibiSinsal?bi({baseBranch:p,targetBranch:j,era:pC(b),gaehwa:!!y}):"";return{unseongText:A||void 0,shinsalText:$||void 0}},w=ze(r).charAt(1),S=ze(a).charAt(1),T=ze(s).charAt(1),N=ze(u).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:t}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["시주",ze(r),w],["일주",ze(a),S],["월주",ze(s),T],["연주",ze(u),N]].map(([j,A,$])=>{const{unseongText:I,shinsalText:D}=_($);return g.jsx(Rs,{label:j,gz:A,dayStem:d,settings:yr.getState().settings,unseongText:I,shinsalText:D,hideBranchSipSin:!0,size:"sm"},`${t}-${j}`)})})]})}function bC(t){if(!t)return"";const r=t,a=p=>typeof r[p]=="string"?String(r[p]).trim().toLowerCase():null,s=p=>typeof r[p]=="boolean"?r[p]:null,u=[a("gender"),a("sex"),a("genderType"),a("성별"),a("sexType"),a("g")].filter(p=>!!p);for(const p of u){if(["남","남자","male","m","boy","man"].includes(p))return"남";if(["여","여자","female","f","girl","woman"].includes(p))return"여"}const d=s("isMale"),f=s("isFemale");return d===!0?"남":f===!0?"여":""}function Cs({label:t,data:r,mode:a,effectiveDate:s,onPick:u}){const d=yr(k=>k.settings),f=O.useMemo(()=>r?nh(r):null,[r]),p=ze(f?zr(f,"야자시"):void 0),b=ze(f?ae(f,"야자시"):void 0),y=ze(f?Se(f):void 0),_=ze(f?oe(f):void 0),w=O.useMemo(()=>b.charAt(0)||"갑",[b]),S=f,T=O.useMemo(()=>{const k=r?.birthPlace;return!k||k.name==="모름"||!k.lon?127.5:k.lon},[r]),N=r?.mingSikType??"야자시",j=O.useMemo(()=>{const k=S?ae(S,N).charAt(1):b.charAt(1)||"子",G=S?oe(S,T).charAt(1):_.charAt(1)||"子";return(d.sinsalBase??"일지")==="일지"?k:G},[d.sinsalBase,S,N,T,b,_]),A=O.useMemo(()=>{if(a!=="묘운"||!f||!r)return null;try{const k=f2(f,p,r.dir,120,r.mingSikType),G=m2(k,b,r.dir,r.DayChangeRule),W=Yc(f,y,r.dir,120,r?.birthPlace?.lon??127.5),ot=p2(W,_,r.dir,r.DayChangeRule,f),nt=s;return{si:ze(Kd(k.events,nt)?.gz,p),il:ze(Kd(G.events,nt)?.gz,b),wl:ze(Kd(W.events,nt)?.gz,y),yn:ze(Kd(ot.events,nt)?.gz,_)}}catch{return null}},[a,f,p,b,y,_,s,r]),$=O.useMemo(()=>{if(a!=="실시간")return null;const k=s;return{si:ze(zr(k,"야자시")),il:ze(ae(k,"야자시")),wl:ze(Se(k)),yn:ze(oe(k))}},[a,s]),I=r?Cf(r):"",D=f?Nc(f):"",C=r?bC(r):"";return r?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:u,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"명식 바꾸기",children:"명식 선택"}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:t}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:I}),C&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:["· ",C]}),D&&g.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:D})]}),a==="원국"&&g.jsx(G0,{label:"원국",gzHour:p,gzDay:b,gzMonth:y,gzYear:_,dayStem:w,cardSettings:d,sinsalBaseBranch:j,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),a==="묘운"&&A&&g.jsx(G0,{label:"묘운",gzHour:A.si,gzDay:A.il,gzMonth:A.wl,gzYear:A.yn,dayStem:w,cardSettings:d,sinsalBaseBranch:j,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),a==="실시간"&&$&&g.jsx(G0,{label:"실시간",gzHour:$.si,gzDay:$.il,gzMonth:$.wl,gzYear:$.yn,dayStem:w,cardSettings:d,sinsalBaseBranch:j,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:u,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:"명식 선택하기"})})}function yC({people:t=[]}){const[r,a]=O.useState(),[s,u]=O.useState(),[d,f]=O.useState(!1),[p,b]=O.useState(!1),y=O.useRef(new Date),[_,w]=O.useState(()=>dC(y.current)),S=O.useRef(v_(_)??y.current),T=O.useMemo(()=>{const D=v_(_);return D&&(S.current=D),S.current},[_]),[N,j]=O.useState(!1),[A,$]=O.useState(!1);function I(D){if(!D)return["甲子","甲子","甲子","甲子"];try{const C=nh(D),k={hour:ze(zr(C,"야자시")),day:ze(ae(C,"야자시")),month:ze(Se(C)),year:ze(oe(C))};return[k.year,k.month,k.day,k.hour]}catch{return["甲子","甲子","甲子","甲子"]}}return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:"궁합 보기"}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:d,onChange:D=>f(D.target.checked),className:"accent-indigo-500"}),"묘운 표시"]}),g.jsx("button",{onClick:()=>b(D=>!D),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:p?"실시간 간지 접기":"실시간 간지 펼치기"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(Cs,{label:"원국 A",data:r,mode:"원국",effectiveDate:T,onPick:()=>j(!0)}),g.jsx(Cs,{label:"원국 B",data:s,mode:"원국",effectiveDate:T,onPick:()=>$(!0)}),d&&r&&g.jsx(Cs,{label:"묘운 A",data:r,mode:"묘운",effectiveDate:T,onPick:()=>j(!0)}),d&&s&&g.jsx(Cs,{label:"묘운 B",data:s,mode:"묘운",effectiveDate:T,onPick:()=>$(!0)}),p&&r&&g.jsx(Cs,{label:"실시간 A",data:r,mode:"실시간",effectiveDate:T,onPick:()=>j(!0)}),p&&s&&g.jsx(Cs,{label:"실시간 B",data:s,mode:"실시간",effectiveDate:T,onPick:()=>$(!0)})]}),r&&s&&g.jsx("div",{className:"mt-4",children:g.jsx(aC,{pillarsA:I(r),pillarsB:I(s)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"날짜/시간 선택"}),g.jsx("input",{type:"datetime-local",value:_,onChange:D=>w(D.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(x_,{open:N,list:t||[],onSelect:D=>{a(D),j(!1)},onClose:()=>j(!1)}),g.jsx(x_,{open:A,list:t||[],onSelect:D=>{u(D),$(!1)},onClose:()=>$(!1)})]})}function vC(){return g.jsx("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700 ",children:g.jsx("p",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright © 2025 Hwarim96. All rights reserved."})})}function xC({ms:t}){const{date:r,setDate:a}=In();O.useEffect(()=>{a(new Date)},[t]);const s=Zp(t),u=O.useMemo(()=>{const p=r??new Date,b=p.getFullYear(),y=String(p.getMonth()+1).padStart(2,"0"),_=String(p.getDate()).padStart(2,"0");return`${b}-${y}-${_}`},[r]),d=p=>{if(!p)return;const[b,y,_]=p.split("-"),w=Number(b),S=Number(y),T=Number(_);if(!Number.isFinite(w)||!Number.isFinite(S)||!Number.isFinite(T))return;const N=r??new Date,j=N.getHours(),A=N.getMinutes(),$=new Date(w,S,0).getDate(),I=Math.min(T,$),D=new Date(w,S-1,I,j,A,0,0);Number.isNaN(D.getTime())||a(D)},f=O.useMemo(()=>{const p=t.ganji,b=s?.dae?.gz?`${s.dae.gz}대운`:null,y=s?.se?.gz?`${s.se.gz}세운`:null,_=s?.wol?.gz?`${s.wol.gz}월운`:null,w=[b,y,_].filter(Boolean).join(" ");return[p,w].filter(Boolean).join(" + ")},[t,s]);return g.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[f&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:f}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:"날짜"}),g.jsx("input",{type:"date",value:u,onChange:p=>d(p.target.value),min:"1900-01-01",max:"2100-12-31",className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const _C=["23:00–00:59","01:00–02:59","03:00–04:59","05:00–06:59","07:00–08:59","09:00–10:59","11:00–12:59","13:00–14:59","15:00–16:59","17:00–18:59","19:00–20:59","21:00–22:59"];function SC(t){const r=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}-${a}-${s}`}function Xd(t,r){return t&&r?`${t}${r}`:null}function __(t){return!!(t.yearStem&&t.yearBranch&&t.monthStem&&t.monthBranch&&t.dayStem&&t.dayBranch&&t.hourStem&&t.hourBranch)}const wC={갑:0,을:1,병:2,정:3,무:4,기:5,경:6,신:7,임:8,계:9},TC=Br.천간,EC=["인","묘","진","사","오","미","신","유","술","해","자","축"];function S_(t,r){let a;t==="갑"||t==="기"?a="병":t==="을"||t==="경"?a="무":t==="병"||t==="신"?a="경":t==="정"||t==="임"?a="임":a="갑";const s=wC[a],u=EC.indexOf(r),d=(s+(u>=0?u:0))%10;return TC[d]}const MC=Br.지지.slice(),NC=["인","묘","진","사","오","미","신","유","술","해","자","축"];function Ls(t,r){const s=(r==="자시"?z_:mp)[t],u=r==="자시"?MC:NC,d=Br.지지.reduce((f,p)=>(f[p]="",f),{});for(let f=0;f<12;f++)d[u[f]]=s[f];return d}const AC={갑:"양",을:"음",병:"양",정:"음",무:"양",기:"음",경:"양",신:"음",임:"양",계:"음"},DC={자:"양",축:"음",인:"양",묘:"음",진:"양",사:"음",오:"양",미:"음",신:"양",유:"음",술:"양",해:"음"};function jC({open:t,onClose:r,onSave:a}){const{settings:s}=yr(),[u,d]=O.useState(null),[f,p]=O.useState({}),[b,y]=O.useState(null),[_,w]=O.useState(!0),[S,T]=O.useState(!0),[N,j]=O.useState("자시"),[A,$]=O.useState("male"),[I,D]=O.useState(null),[C,k]=O.useState(!1),[,G]=O.useState(null),[W,ot]=O.useState(null),[nt,et]=O.useState({gender:"남자",mingSikType:"야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[Y,U]=O.useState(!1),[tt,at]=O.useState(null),st=xt=>{at(xt),setTimeout(()=>at(null),1800)},[Z,rt]=O.useState(!1),[ft,gt]=O.useState(!1);O.useEffect(()=>{if(Z){const xt=setTimeout(()=>rt(!1),2e3);return()=>clearTimeout(xt)}},[Z]),O.useEffect(()=>{if(ft){const xt=setTimeout(()=>gt(!1),2e3);return()=>clearTimeout(xt)}},[ft]);const P=()=>{const xt=W!==null?I?.filter((Ur,Zn)=>Zn===W)??[]:[];if(xt.length===0){alert("선택된 항목이 없습니다.");return}const Bt=N==="자시"?"야자시":"인시",vt=xt[0],[de,He,we]=vt.date.split("-").map(Number),qt={자:{hh:0,mi:0},축:{hh:2,mi:0},인:{hh:4,mi:0},묘:{hh:6,mi:0},진:{hh:8,mi:0},사:{hh:10,mi:0},오:{hh:12,mi:0},미:{hh:14,mi:0},신:{hh:16,mi:0},유:{hh:18,mi:0},술:{hh:20,mi:0},해:{hh:22,mi:0}};let je=0,Le=0;if(vt.hourSlots.length>0){const Ur=vt.hourSlots[0].branch,Zn=qt[Ur];Zn&&(je=Zn.hh,Le=Zn.mi)}const Je=new Date(de,He-1,we,je,Le),Be=new Date(Je.getTime()-30*6e4),yi=Be.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),ti=A==="male"?"남":"여";function Qi(Ur,Zn){const al=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(Ur),Qa=Zn==="남";return al?Qa?"forward":"backward":Qa?"backward":"forward"}const $r=Qi(vt.year.charAt(0),ti),Un=oe(Be,127.5),mn=Se(Be,127.5),Ir=ae(Be,Bt),Gn=zr(Be,Bt),il=[`원국 : ${Un}년 ${mn}월 ${Ir}일`,Gn?`${Gn}시`:null].filter(Boolean).join(" "),Wa={id:q_(),name:"커스텀명식",birthDay:`${de}${String(He).padStart(2,"0")}${String(we).padStart(2,"0")}`,birthTime:`${String(je).padStart(2,"0")}${String(Le).padStart(2,"0")}`,gender:ti,birthPlace:Y?{name:"커스텀명식",lat:0,lon:127.5}:nt.birthPlace??{name:"커스텀명식",lat:0,lon:127.5},relationship:nt.relationship??"",memo:nt.memo??"",folder:Fs(nt.folder),mingSikType:nt.mingSikType??"야자시",DayChangeRule:nt.mingSikType==="인시"?"인시일수론":"자시일수론",calendarType:nt.calendarType??"solar",yearGZ:vt.year,monthGZ:vt.month,dayGZ:vt.day,hourGZ:vt.hour,ganjiText:`원국 : ${vt.year}년 ${vt.month}월 ${vt.day}일 ${vt.hour}시`,ganji:il,dayStem:vt.day.charAt(0),dateObj:Je,corrected:Be,correctedLocal:yi,dir:$r};Ic.flushSync(()=>{el.getState().add(Wa)}),a(Wa),at("저장 완료!"),et({gender:"남자",mingSikType:"야자시",calendarType:"solar"}),U(!1),r()},H=_||S,X=!!(f.yearStem&&f.yearBranch),Q=!!(f.dayStem&&f.dayBranch),z=!H||X||Q,q=!!b&&b.endsWith("Stem"),K=!!b&&b.endsWith("Branch");function ct(xt){return xt==="yearStem"?"yearBranch":xt==="yearBranch"?"yearStem":xt==="monthStem"?"monthBranch":xt==="monthBranch"?"monthStem":xt==="dayStem"?"dayBranch":xt==="dayBranch"?"dayStem":xt==="hourStem"?"hourBranch":"hourStem"}const bt=O.useCallback((xt,Bt)=>{if(!_||!xt.yearStem)return xt;const vt={...xt},de=mp[xt.yearStem];if(!de)return vt;const He=qt=>de.filter(je=>je.startsWith(qt)),we=qt=>de.find(je=>je.endsWith(qt));if(Bt==="monthStem"&&vt.monthStem){const qt=He(vt.monthStem).map(je=>je.slice(1));return qt.length>=2?(d(qt.slice(0,2)),y("monthBranch"),vt):(qt.length===1&&(vt.monthBranch=qt[0],d(null)),vt)}if(Bt==="monthBranch"&&vt.monthBranch){const qt=we(vt.monthBranch);return qt&&(vt.monthStem=qt.slice(0,1),d(null)),vt}if(Bt==="yearStem"){if(vt.monthStem&&!vt.monthBranch){const qt=He(vt.monthStem).map(je=>je.slice(1));if(qt.length>=2)return d(qt.slice(0,2)),y("monthBranch"),vt;qt.length===1&&(vt.monthBranch=qt[0])}else if(vt.monthBranch&&!vt.monthStem){const qt=we(vt.monthBranch);qt&&(vt.monthStem=qt.slice(0,1))}}return vt},[_,y]),Mt=O.useCallback((xt,Bt)=>{if(!S||!xt.dayStem)return xt;const vt={...xt},de=Ls(xt.dayStem,N),He=qt=>Object.entries(de).find(([,je])=>je.startsWith(qt)),we=qt=>de[qt];if(Bt==="hourStem"&&vt.hourStem){const qt=He(vt.hourStem);return qt&&(vt.hourBranch=qt[0]),vt}if(Bt==="hourBranch"&&vt.hourBranch){const qt=we(vt.hourBranch);return qt&&(vt.hourStem=qt.slice(0,1)),vt}if(Bt==="dayStem"){if(vt.hourStem&&!vt.hourBranch){const qt=He(vt.hourStem);qt&&(vt.hourBranch=qt[0])}else if(vt.hourBranch&&!vt.hourStem){const qt=we(vt.hourBranch);qt&&(vt.hourStem=qt.slice(0,1))}}return vt},[S,N]),Et=O.useCallback(xt=>!_||!xt.yearStem?!1:xt.monthBranch&&xt.monthStem?S_(xt.yearStem,xt.monthBranch)!==xt.monthStem:!1,[_]),Lt=O.useCallback(xt=>{if(!S||!xt.dayStem)return!1;if(xt.hourBranch&&xt.hourStem){const vt=Ls(xt.dayStem,N)[xt.hourBranch];return vt?vt.slice(0,1)!==xt.hourStem:!1}return!1},[S,N]);O.useEffect(()=>{if(!(!S||!f.dayStem||!f.hourBranch)&&(f.hourBranch==="자"||f.hourBranch==="축")){const Bt=Ls(f.dayStem,N)[f.hourBranch];Bt&&p(vt=>({...vt,hourStem:Bt.slice(0,1)}))}},[N,S,f.dayStem,f.hourBranch]);const Dt=O.useCallback(xt=>{if(!b)return;if(!z&&!(b==="yearStem"||b==="yearBranch"||b==="dayStem"||b==="dayBranch")){G("월/시두법 사용 중: 연주 또는 일주부터 입력하세요."),setTimeout(()=>G(null),1500);return}let vt={...f,[b]:xt};(b==="yearStem"||b==="monthStem"||b==="monthBranch")&&(vt=bt(vt,b)),(b==="dayStem"||b==="hourStem"||b==="hourBranch")&&(vt=Mt(vt,b)),p(vt);let de=!1;Et(vt)&&(w(!1),de=!0),Lt(vt)&&(T(!1),de=!0),de&&st("월/시두법에 맞지 않습니다. 체크가 해제 됩니다."),p(vt),D(null);const He=ct(b);y(He),setTimeout(()=>{const we={...vt};if(we.yearStem&&we.yearBranch&&!we.monthStem){y("monthStem");return}if(we.monthStem&&we.monthBranch&&!we.dayStem){y("dayStem");return}if(we.dayStem&&we.dayBranch&&!we.hourStem){y("hourStem");return}},0)},[b,f,z,bt,Mt,Et,Lt]),St=__(f),kt=O.useCallback(async()=>{if(D(null),G(null),!__(f)){G("연·월·일·시 간지를 모두 선택하세요.");return}const xt=Xd(f.yearStem,f.yearBranch),Bt=Xd(f.monthStem,f.monthBranch),vt=Xd(f.dayStem,f.dayBranch),de=Xd(f.hourStem,f.hourBranch),He=300,we=[];k(!0);try{const qt=new Date(1900,0,1,12,0,0),je=new Date(2100,11,31,12,0,0);for(let Le=qt.getTime();Le<=je.getTime();Le+=24*3600*1e3){const Je=new Date(Le),Be=N==="자시"?"야자시":"인시",yi=oe(Je);if(yi!==xt)continue;const ti=Se(Je);if(ti!==Bt)continue;const Qi=ae(Je,Be);if(Qi!==vt)continue;const $r=Ls(f.dayStem,N),Un=[];for(let mn=0;mn<12;mn++){const Ir=Br.지지[mn];$r[Ir]===de&&Un.push({branch:Ir,time:_C[mn]})}if(Un.length!==0&&(we.push({date:SC(Je),year:yi,month:ti,day:Qi,hour:de,hourSlots:Un}),we.length>=He))break}we.length===0&&G("일치하는 날짜가 없습니다. (범위: 1900–2100)"),D(we)}catch(qt){qt instanceof Error?G(qt.message):G(String(qt))}finally{k(!1)}},[f,N]),It=()=>{p({}),D(null),G(null),y(null)},ee=xt=>{D(null),xt&&p(Bt=>{const vt={...Bt};return vt.yearStem&&vt.monthBranch&&(vt.monthStem=S_(vt.yearStem,vt.monthBranch)),vt}),w(xt)},$t=xt=>{D(null),xt&&p(Bt=>{const vt={...Bt};if(vt.dayStem&&vt.hourBranch){const He=Ls(vt.dayStem,N)[vt.hourBranch];He&&(vt.hourStem=He.slice(0,1))}return vt}),T(xt)};if(!t)return null;const Xt=xt=>{if(D(null),j(xt),S&&f.dayStem&&f.hourBranch&&(f.hourBranch==="자"||f.hourBranch==="축")){const vt=Ls(f.dayStem,xt)[f.hourBranch];vt&&p(de=>({...de,hourStem:vt.slice(0,1)}))}};return g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:r,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"닫기",children:g.jsx(Wp,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"커스텀 명식 만들기"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"월/시두법"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:_,onChange:xt=>ee(xt.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:"월두법 사용"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:S,onChange:xt=>$t(xt.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:"시두법 사용"})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"시간 기준"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:N==="자시",onChange:()=>Xt("자시")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:"자시"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:N==="인시",onChange:()=>Xt("인시")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:"인시"})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"성별"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:A==="male",onChange:()=>$("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:"남"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:A==="female",onChange:()=>$("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:"여"})]})]})]}),H&&!z&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["월/시두법 사용 중입니다. ",g.jsx("br",{}),g.jsx("b",{children:"연주"})," 또는 ",g.jsx("b",{children:"일주"}),"부터 먼저 입력하세요."]}),g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem","시간"],["dayStem","일간"],["monthStem","월간"],["yearStem","연간"],["hourBranch","시지"],["dayBranch","일지"],["monthBranch","월지"],["yearBranch","연지"]].map(([xt,Bt])=>{const vt=!z&&!(xt==="yearStem"||xt==="yearBranch"||xt==="dayStem"||xt==="dayBranch"),de=b===xt;return g.jsxs("button",{onClick:()=>!vt&&y(xt),disabled:vt,className:["border rounded p-2 text-center cursor-pointer",de?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",vt?"opacity-50 cursor-not-allowed":""].join(" "),children:[Bt,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:f[xt]??"-"})]},xt)})}),u&&u.length>0&&g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"월지 후보를 선택하세요:"}),g.jsx("div",{className:"flex gap-2",children:u.map(xt=>g.jsx("button",{onClick:()=>{let Bt={...f,monthBranch:xt};d(null),Bt=bt(Bt,"monthBranch"),p(Bt),y("dayStem")},className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:xt},xt))})]}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:b?g.jsxs("div",{className:"w-full",children:[q&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"천간"}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:Br.천간.map(xt=>g.jsx("button",{onClick:()=>Dt(xt),className:`border rounded px-2 py-1 cursor-pointer ${gr(xt,"stem",s)}`,children:xt},xt))})]}),K&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"지지"}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:Br.지지.filter(xt=>{const Bt=ct(b),vt=f[Bt];return vt?DC[xt]===AC[vt]:!0}).map(xt=>g.jsx("button",{onClick:()=>Dt(xt),className:`border rounded px-2 py-1 cursor-pointer ${gr(xt,"branch",s)}`,children:xt},xt))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"간지를 넣고 싶은 자리부터 클릭하세요."})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!St){rt(!0);return}kt()},disabled:C,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:C?"검색 중...":"검색"})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:It,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"초기화"}),g.jsx("button",{type:"button",onClick:()=>{if((W!==null?I?.filter((Bt,vt)=>vt===W)??[]:[]).length===0){gt(!0);return}P()},className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"저장하기"})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:I?I.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"일치하는 날짜가 없습니다."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:"선택"}),g.jsx("th",{className:"p-1 text-center",children:"날짜"}),g.jsx("th",{className:"p-1 text-center",children:"연"}),g.jsx("th",{className:"p-1 text-center",children:"월"}),g.jsx("th",{className:"p-1 text-center",children:"일"}),g.jsx("th",{className:"p-1 text-center",children:"시"}),g.jsx("th",{className:"p-1 text-center",children:"성별"})]})}),g.jsx("tbody",{children:I.map((xt,Bt)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${Bt}`,checked:W===Bt,onChange:()=>ot(Bt)}),g.jsx("label",{htmlFor:`selectRow-${Bt}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:xt.date}),g.jsx("td",{className:"p-1 text-center",children:xt.year}),g.jsx("td",{className:"p-1 text-center",children:xt.month}),g.jsx("td",{className:"p-1 text-center",children:xt.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:xt.hourSlots.map((vt,de)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:vt.branch})},de))})}),g.jsx("td",{className:"p-1 text-center",children:A==="male"?"남":"여"})]},`${xt.date}-${Bt}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"조건을 입력하고 “검색”을 눌러주세요."})}),tt&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:tt})}),Z&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:"연·월·일·시 4간지를 모두 채워주세요."})}),ft&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["선택항목이 없습니다.",g.jsx("br",{}),"검색한 뒤, 체크박스로 선택하세요."]})})]})})}const kC=$c(t=>({shinsalBase:"일지",shinsalEra:"현대",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:r=>t({shinsalBase:r}),setShinsalEra:r=>t({shinsalEra:r}),setShinsalGaehwa:r=>t({shinsalGaehwa:r}),setHiddenStemMode:r=>t({hiddenStemMode:r})}));function Lf(t){if(!t)return["","","",""];let r=Number(t.birthDay?.slice(0,4)??2e3),a=Number(t.birthDay?.slice(4,6)??1),s=Number(t.birthDay?.slice(6,8)??1);if(t.calendarType==="lunar"){const D=Pr(r,a,s);r=D.getFullYear(),a=D.getMonth()+1,s=D.getDate()}const u=!t.birthTime||t.birthTime==="모름",d=u?4:Number(t.birthTime.slice(0,2)),f=u?30:Number(t.birthTime.slice(2,4)),p=new Date(r,a-1,s,d,f,0,0),b=!t.birthPlace||t.birthPlace.name==="모름"||!t.birthPlace.lon?127.5:t.birthPlace.lon,y=Io(p,b,u),_=t.mingSikType??"야자시",w=oe(y,b),S=Se(y,b),T=ae(y,_),N=u?null:zr(y,_),j=Ut(w),A=Ut(S),$=Ut(T),I=N?Ut(N):"";return[j,A,$,I]}function OC(t){const r=new Date(t.corrected),a=Lf(t),s=a[0].charAt(0),d=["갑","병","무","경","임"].includes(s),f=t.gender==="남자",p=f&&d||!f&&!d?"forward":"backward",b=Yc(r,a[1],p,120,t.birthPlace?.lon??127.5),y=b.firstChange;if(!y)return[];const _=[];let w=Ut(b.events[0]?.gz??a[1]);for(let S=0;S<10;S++){const T=new Date(y);if(T.setFullYear(T.getFullYear()+S*10),S>0){const N=b.events[S];N&&(w=Ut(N.gz))}_.push(`${T.getFullYear()}년 ${String(T.getMonth()+1).padStart(2,"0")}월 ${w} 대운 시작`)}return _}function CC(t,r){return t[3]&&t[3]!==""?["연","월","일",!r.birthTime||r.birthTime==="모름"?"시(예측)":"시"]:["연","월","일"]}const Wd={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Qd={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Bf={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},Jd={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},LC=["갑","병","무","경","임"];function w_(t){return LC.includes(t)}const BC={목:"화",화:"토",토:"금",금:"수",수:"목"},RC={목:"토",화:"금",토:"수",금:"목",수:"화"},PC={토:"목",금:"화",수:"토",목:"금",화:"수"},zC={화:"목",토:"화",금:"토",수:"금",목:"수"};function lS(t){const r={};for(const[a,s]of Object.entries(t))if(Array.isArray(s))s.length>0&&(r[a]=s);else if(typeof s=="object"&&s!==null){const u=lS(s);Object.keys(u).length>0&&(r[a]=u)}else s!=null&&s!==""&&(r[a]=s);return r}function HC(t){return JSON.stringify(t,null,2).replace(/\[\s+/g,"[").replace(/\s+\]/g,"]").replace(/\s*,\s*/g,",")}function mi(t,r){if(r==null||r==="")return"";const a=typeof r=="object"?HC(lS(r)):String(r);return`## ${t}
${a}`}function up(t){if(!t)return null;const r=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(r))return r;if(Wd[r])return Wd[r];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(r))return Jd[r]??null;if(Qd[r])return Jd[Qd[r]]??null;const a=r.charAt(0);return Wd[a]?Wd[a]:["갑","을","병","정","무","기","경","신","임","계"].includes(a)?a:Qd[a]?Jd[Qd[a]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(a)?Jd[a]??null:null}function $C(t,r){const a=Bf[t],s=Bf[r];if(!a||!s)return"비견";let u;s===a?u="비견":s===BC[a]?u="식신":s===RC[a]?u="편재":s===PC[a]?u="편관":s===zC[a]?u="편인":u="비견";const d=w_(t)===w_(r);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function cS(t){const r=Object.entries(t),a=r.reduce((y,[,_])=>y+(_>0?_:0),0);if(a<=0)return Object.fromEntries(r.map(([y])=>[y,0]));const s=r.map(([y,_])=>[y,(_>0?_:0)*100/a]),u=s.map(([y,_])=>[y,Math.round(_)]);let d=u.reduce((y,[,_])=>y+_,0);const f=s.map(([y,_])=>[y,_-Math.round(_)]).sort((y,_)=>_[1]-y[1]),p=Object.fromEntries(u.map(([y,_])=>[y,_]));let b=0;for(;d<100&&b<f.length;)p[f[b][0]]+=1,d+=1,b+=1;return p}function IC(t){const r={};for(const[a,s]of Object.entries(t??{})){if(s<=0)continue;const u=up(a);u&&(r[u]=(r[u]??0)+s)}return r}function UC(t){if(!t)return[];const r=up(t.charAt(0)),a=up(t.charAt(1));return[r,a].filter(Boolean)}function tf(t){const r=UC(t),a={};for(const s of r)a[s]=(a[s]??0)+1;return a}const GC={natal:50,dae:30,se:20,wol:7,il:3};function ZC(t){const r={};for(const{kind:s,bare:u}of t){const d=GC[s]??0;if(d<=0)continue;const f=cS(u);for(const[p,b]of Object.entries(f))r[p]=(r[p]??0)+b*d}const a=Object.values(r).reduce((s,u)=>s+u,0);if(a>0)for(const s of Object.keys(r))r[s]=r[s]/a*100;return r}function YC(t,r){const a={목:0,화:0,토:0,금:0,수:0};for(const[s,u]of Object.entries(t)){const d=r[s];d&&(a[d]+=u)}return a}function qC(t,r){const a={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,u]of Object.entries(t)){if(u<=0)continue;const d=$C(r,s);a[d]+=u}return a}function VC(t){return{비겁:t.비견+t.겁재,식상:t.식신+t.상관,재성:t.정재+t.편재,관성:t.정관+t.편관,인성:t.정인+t.편인}}function FC(t,r,a){const s=IC(t.perStemElementScaled),u=r!=="원국"&&a?.dae?tf(a.dae):{},d=(r==="세운"||r==="월운"||r==="일운")&&a?.se?tf(a.se):{},f=(r==="월운"||r==="일운")&&a?.wol?tf(a.wol):{},p=r==="일운"&&a?.il?tf(a.il):{},b=ZC([{kind:"natal",bare:s},{kind:"dae",bare:u},{kind:"se",bare:d},{kind:"wol",bare:f},{kind:"il",bare:p}]),y=cS(b),_=YC(y,Bf),w=qC(y,t.dayStem),S=VC(w);return{perStemAugBare:y,elementPercent:_,totalsSub:w,totalsMain:S}}function KC(t,r){const a={목:"화",화:"토",토:"금",금:"수",수:"목"},s={목:"토",화:"금",토:"수",금:"목",수:"화"},u={토:"목",금:"화",수:"토",목:"금",화:"수"},d={화:"목",토:"화",금:"토",수:"금",목:"수"};return r===t?"비겁":r===a[t]?"식상":r===s[t]?"재성":r===u[t]?"관성":r===d[t]?"인성":""}function XC(t){const{ms:r,natal:a,chain:s,basis:u,tab:d,unified:f,percent:p,category:b}=t,y=[Ut(a[0]??""),Ut(a[1]??""),Ut(a[2]??""),Ut(a[3]??"")],_=OC(r).slice(0,10),w=Bs({natal:y,daewoon:d!=="원국"?s?.dae??void 0:void 0,sewoon:d==="세운"||d==="월운"||d==="일운"?s?.se??void 0:void 0,wolwoon:d==="월운"||d==="일운"?s?.wol??void 0:void 0,ilwoon:d==="일운"?s?.il??void 0:void 0}),{shinsalEra:S,shinsalGaehwa:T,shinsalBase:N}=kC.getState(),j=N==="연지"?y[0]?.charAt(1)??"":y[2]?.charAt(1)??"",A=FC(f,d,s),$=A.elementPercent,I=A.totalsSub,{flags:D}=s4(y,f.elementScoreRaw),C=`${b} (${p.toFixed(1)}%) · ${[`득령 ${D.비견.령||D.겁재.령||D.편인.령||D.정인.령?"인정":"불인정"}`,`득지 ${D.비견.지||D.겁재.지||D.편인.지||D.정인.지?"인정":"불인정"}`,`득세 ${D.비견.세||D.겁재.세?"인정":"불인정"}`].join(", ")}`,k=!r.birthTime||r.birthTime==="모름";function G(at){const st=at.birthDay??"",Z=st.slice(0,4),rt=st.slice(4,6),ft=st.slice(6,8);let gt="";if(at.corrected instanceof Date&&!isNaN(at.corrected.getTime())){const P=String(at.corrected.getHours()).padStart(2,"0"),H=String(at.corrected.getMinutes()).padStart(2,"0");gt=k?"모름":`${P}:${H}`}return`${Z}년 ${rt}월 ${ft}일 보정시 ${gt}`}function W(at,st){if(!st)return"(없음)";const Z=[];return(at==="대운"||at==="세운"||at==="월운"||at==="일운")&&st.dae&&Z.push(`대운:${Ut(st.dae)}`),(at==="세운"||at==="월운"||at==="일운")&&st.se&&Z.push(`세운:${Ut(st.se)}`),(at==="월운"||at==="일운")&&st.wol&&Z.push(`월운:${Ut(st.wol)}`),at==="일운"&&st.il&&Z.push(`일운:${Ut(st.il)}`),Z.length>0?Z.join(" / "):"(없음)"}const ot=CC(y,r),nt=f.dayStem,et=Bf[nt],Y=[`📌 명식: ${r.name??"이름없음"} (${G(r)}) 성별: ${r.gender}`,`원국 ${y[0]}년 ${y[1]}월 ${y[2]}일`+(y[3]?` ${y[3]}시${!r.birthTime||r.birthTime==="모름"?"(시주예측)":""}`:""),`운: ${W(d,s)}`].join(`
`),U=[mi("대운 리스트 (10개)",_),mi("신강도",C),mi(`오행강약(퍼센트·탭=${d})`,Object.fromEntries(Object.entries($).map(([at,st])=>[`${at}(${KC(et,at)})`,st]))),mi(`십신 강약(소분류 10개·탭=${d}·합계 100)`,I),mi("십이운성(원국)",y.map((at,st)=>!at||st>=ot.length?null:{pos:ot[st],gz:at,unseong:gi(y[2]?.charAt(0)??"",at.charAt(1))}).filter(Boolean)),mi("십이신살(원국·설정 반영)",y.map((at,st)=>!at||st>=ot.length?null:{pos:ot[st],gz:at,shinsal:bi({baseBranch:j,targetBranch:at.charAt(1),era:S,gaehwa:T})}).filter(Boolean)),mi("형충회합(원국)",k2(y.filter((at,st)=>st<ot.length))),mi("형충회합(운 포함: 탭 연동)",w),mi("신살(원국 전용)",{good:Sc({natal:y,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:u}).good,bad:Sc({natal:y,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:u}).bad,meta:Sc({natal:y,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:u}).meta}),mi(`신살(운 포함·탭=${d})`,Sc({natal:y,daewoon:d!=="원국"?s?.dae??null:null,sewoon:d==="세운"||d==="월운"||d==="일운"?s?.se??null:null,wolwoon:d==="월운"||d==="일운"?s?.wol??null:null,ilwoon:d==="일운"?s?.il??null:null,basis:u}))].join(`

`),tt=[`당신은 명리학 전문가입니다.
    아래의 사주 명식을 기반으로 해석하십시오.
    ※ 반드시 단계적으로 서술하십시오.
    ※ 요약하지 말고, 각 항목을 빠짐없이 다루십시오.
    1. 원국과 대운 리스트로 큰 흐름 설명
    2. 오행 강약 + 일간 기준 십신 역할
    3. 형충회합(원국→운 포함 순서)
    4. 십이운성/십이신살 해석
    5. 주요 신살(길/흉) 구체 사례
    6. 종합 운세(애정/재물/건강/직업)
    7. 마크다운 금지, 구어체 문장형으로 서술.
    8. 사주에 대해 모르는 사람에게 설명하듯이, 친절하게, 일상에서의 예시를 들면서 서술.
    9. 최대한 모든 내용을 풀어서 구체적으로 설명해주세요. 예시나 비유를 많이 들어주세요.`].join(`
`);return[Y,U,tt].join(`

`)}const WC=["원국","대운","세운","월운","일운"],uS={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},dS={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function Z0(t){if(!t)return"";const r=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),a=r.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(a)return`${a[1]}${a[2]}`;const s=r.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(s){const u=uS[s[1]],d=dS[s[2]];return u&&d?`${u}${d}`:""}return""}function T_(t){return t[0]?.length===2&&t[1]?.length===2&&t[2]?.length===2}function E_(t){const r=Array.isArray(t)?t.slice(0,4):[];for(;r.length<4;)r.push("");return r.map((a,s)=>{if(!a)return"";const u=a.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),d=u.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(d)return`${d[1]}${d[2]}`;const f=u.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return f?`${uS[f[1]]}${dS[f[2]]}`:s<=2?"--":""})}function QC({ms:t,natal:r,chain:a,basis:s,lunarPillars:u,includeTenGod:d=!1}){const[f,p]=O.useState("원국"),{yearGZ:b,monthGZ:y,dayGZ:_}=In(),w=O.useMemo(()=>({dae:a?.dae??null,se:a?.se??(b?Ut(b):null),wol:a?.wol??(y?Ut(y):null),il:a?.il??(_?Ut(_):null)}),[a,b,y,_]),{manualHour:S}=Gs(),T=t.mingSikType??"야자시",N=O.useMemo(()=>E_(r),[r]),j=O.useMemo(()=>E_(u),[u]),A=O.useMemo(()=>{const P=[...N];return(!P[3]||P[3]==="")&&S&&(P[3]=S.stem+S.branch),P},[N,S]),$=O.useMemo(()=>{const P=[...j];return(!P[3]||P[3]==="")&&S&&(P[3]=S.stem+S.branch),P},[j,S]),I=O.useMemo(()=>{const P=Number(t.birthDay?.slice(0,4)),H=Number(t.birthDay?.slice(4,6)),X=Number(t.birthDay?.slice(6,8));if(!Number.isFinite(P)||!Number.isFinite(H)||!Number.isFinite(X))return null;const Q=new Date(P,H-1,X,12,0,0,0),z=Z0(oe(Q)||""),q=Z0(Se(Q)||""),K=Z0(ae(Q,T)||"");return[z,q,K,""]},[t.birthDay,T]),D=T_(A),C=T_($),[k]=O.useState("solar"),G=k==="lunar"?C?"lunar":D?"solar":"lunar":D?"solar":C?"lunar":"solar",W=O.useMemo(()=>{const H=[...G==="lunar"?C?$:D?A:I??["","","",""]:D?A:C?$:I??["","","",""]];return(!H[3]||H[3]==="")&&S&&(H[3]=S.stem+S.branch),H},[G,D,C,A,$,I,S]),ot=O.useMemo(()=>S?S.stem+S.branch:W[3]||"",[S,W]);(!r||r.length===0)&&(r=Lf(t));const nt=Gs(P=>P.manualHour?P.manualHour.stem+P.manualHour.branch:""),et=O.useMemo(()=>{const P=Lf(t);return nt&&nt.length===2&&(P[3]=nt),P},[t,nt]),Y=O.useMemo(()=>eS({natal:et,tab:f,chain:a,hourKey:ot}),[et,f,a,ot]);function U(P){return tS(P,{criteriaMode:"modern",useHarmonyOverlay:!0})}const tt=U(et),at=O.useMemo(()=>Yp(tt),[tt]),st=O.useMemo(()=>N2(at),[at]),Z=O.useMemo(()=>t?XC({ms:t,natal:et,chain:w,basis:s,tab:f,unified:Y,percent:at,category:st}):"",[t,s,d,f,w,Y,at,st,et]),[rt,ft]=O.useState(!1);async function gt(){if(Z)try{await navigator.clipboard.writeText(Z),ft(!0),setTimeout(()=>ft(!1),1200)}catch{ft(!1)}}return t?g.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"GPT 프롬프트 제공용"}),g.jsx("button",{onClick:gt,className:`px-3 py-1 rounded-md text-xs cursor-pointer ${rt?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:rt?"복사됨!":"프롬프트 복사"})]}),g.jsx("div",{className:"flex gap-1 flex-wrap",children:WC.map(P=>g.jsx("button",{onClick:()=>{p(P)},className:`px-2 py-1 text-xs rounded-md border cursor-pointer ${f===P?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:P},P))}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsx("p",{children:"위에 피커로 날짜를 조정할 수 있습니다."}),g.jsx("p",{children:"각 탭에 따라서, 기준이 달라집니다."}),g.jsx("p",{children:"프롬포트를 복사하여 마음껏 커스텀하여, 사용할 수 있습니다."})]}),g.jsx("textarea",{readOnly:!0,value:Z,placeholder:"명식을 선택하면 프롬프트가 생성됩니다.",className:"w-full min-h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2"})]}):g.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"⚠️ 명식을 먼저 선택해주세요."})}function JC(t){const r=In(d=>d.date),a=In(d=>d.rule),s=In(d=>d.lon)??127.5,u=qc(t);return O.useMemo(()=>{if(!t)return{dae:null,se:null,wol:null,il:null};const d=Kc(u,r),f=d>=0?u[d]?.gz??null:null,p=oe(r,s),b=Se(r,s),y=ae(r,a);return{dae:f,se:p,wol:b,il:y}},[t,u,r,a,s])}function t6(){const{list:t}=el(),[r,a]=O.useState(t.length>0?t[0].id:""),[s,u]=O.useState(!1),[d,f]=O.useState(!1),[p,b]=O.useState(null),[y,_]=O.useState(!1),[w,S]=O.useState(!1),T=O.useMemo(()=>t.find(k=>k.id===r)??t[0],[t,r]);O.useEffect(()=>{_(!0),S(!1)},[]);const N=()=>{u(!0)},j=O.useMemo(()=>Lf(T),[T]),A=JC(T),[$,I]=O.useState(!1),D=k=>typeof k=="string"&&k.length>=2,C=k=>Array.isArray(k)&&k.length===4&&k.every(D);return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(LO,{onOpenSidebar:()=>f(!0),onAddNew:N,onOpenCustom:()=>I(!0)}),g.jsx(jC,{open:$,onClose:()=>I(!1),onSave:k=>{a(k.id),_(!1),S(!1),f(!1)}}),g.jsx(wT,{position:"top-center"}),g.jsx(WO,{open:d,onClose:()=>f(!1),onView:k=>{a(k.id),f(!1),_(!1),S(!1),In.getState().resetDate()},onAddNew:N,onEdit:k=>{b(k),a(k.id),f(!1),_(!1),S(!1)},onDeleteView:()=>{a(t.length>0?t[0].id:""),_(!0),S(!1)}}),y&&g.jsx(bE,{}),s&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 absolute inset-0 w-full h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6",children:g.jsx(l7,{onSave:k=>{a(k.id),_(!1),S(!1),f(!1),requestAnimationFrame(()=>u(!1))},onClose:()=>u(!1)})})})]}),T&&!y&&!w&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(_j,{data:T,hourTable:T.mingSikType??"야자시"})}),g.jsx(xC,{ms:T}),g.jsx("div",{children:g.jsx(lO,{data:T})}),g.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:g.jsx(QC,{ms:T,natal:C(j)?j:[],chain:A,basis:{voidBasis:"day",samjaeBasis:"day"},includeTenGod:!0,lunarPillars:[]})})]}),w&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(yC,{people:t})}),p&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(iC,{item:p,onClose:()=>{b(null)}})})}),g.jsx($O,{onShowToday:()=>{_(!0),S(!1)},onShowCouple:()=>{S(!0),_(!1)}}),g.jsx(vC,{})]})}Bw.createRoot(document.getElementById("root")).render(g.jsx(O.StrictMode,{children:g.jsx(t6,{})}));
