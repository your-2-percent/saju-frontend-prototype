function $E(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Si(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pp(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var I_={exports:{}},Hh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC;function qG(){if(FC)return Hh;FC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Hh.Fragment=t,Hh.jsx=n,Hh.jsxs=n,Hh}var HC;function KG(){return HC||(HC=1,I_.exports=qG()),I_.exports}var g=KG();const K5="harim.theme",Ek="harim.settings.v1";function W5(){try{const e=localStorage.getItem(K5);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(Ek);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function V5(e){try{localStorage.setItem(K5,e);const t=localStorage.getItem(Ek),n=t?JSON.parse(t):{};localStorage.setItem(Ek,JSON.stringify({...n,theme:e}))}catch{}}function Z5(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=W5()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");Z5(e)}catch{}})();var $_={exports:{}},Gh={},B_={exports:{}},z_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC;function WG(){return GC||(GC=1,(function(e){function t(Y,J){var Q=Y.length;Y.push(J);e:for(;0<Q;){var ce=Q-1>>>1,ae=Y[ce];if(0<i(ae,J))Y[ce]=J,Y[Q]=ae,Q=ce;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var J=Y[0],Q=Y.pop();if(Q!==J){Y[0]=Q;e:for(var ce=0,ae=Y.length,z=ae>>>1;ce<z;){var V=2*(ce+1)-1,ne=Y[V],oe=V+1,ue=Y[oe];if(0>i(ne,Q))oe<ae&&0>i(ue,ne)?(Y[ce]=ue,Y[oe]=Q,ce=oe):(Y[ce]=ne,Y[V]=Q,ce=V);else if(oe<ae&&0>i(ue,Q))Y[ce]=ue,Y[oe]=Q,ce=oe;else break e}}return J}function i(Y,J){var Q=Y.sortIndex-J.sortIndex;return Q!==0?Q:Y.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,p=null,b=3,y=!1,k=!1,w=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(Y){for(var J=n(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=Y)r(d),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(d)}}function D(Y){if(w=!1,C(Y),!k)if(n(u)!==null)k=!0,P||(P=!0,B());else{var J=n(d);J!==null&&Z(D,J.startTime-Y)}}var P=!1,I=-1,U=5,K=-1;function q(){return S?!0:!(e.unstable_now()-K<U)}function H(){if(S=!1,P){var Y=e.unstable_now();K=Y;var J=!0;try{e:{k=!1,w&&(w=!1,O(I),I=-1),y=!0;var Q=b;try{t:{for(C(Y),p=n(u);p!==null&&!(p.expirationTime>Y&&q());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,b=p.priorityLevel;var ae=ce(p.expirationTime<=Y);if(Y=e.unstable_now(),typeof ae=="function"){p.callback=ae,C(Y),J=!0;break t}p===n(u)&&r(u),C(Y)}else r(u);p=n(u)}if(p!==null)J=!0;else{var z=n(d);z!==null&&Z(D,z.startTime-Y),J=!1}}break e}finally{p=null,b=Q,y=!1}J=void 0}}finally{J?B():P=!1}}}var B;if(typeof A=="function")B=function(){A(H)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=H,B=function(){X.postMessage(null)}}else B=function(){j(H,0)};function Z(Y,J){I=j(function(){Y(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var Q=b;b=J;try{return Y()}finally{b=Q}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=b;b=Y;try{return J()}finally{b=Q}},e.unstable_scheduleCallback=function(Y,J,Q){var ce=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ce+Q:ce):Q=ce,Y){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Q+ae,Y={id:h++,callback:J,priorityLevel:Y,startTime:Q,expirationTime:ae,sortIndex:-1},Q>ce?(Y.sortIndex=Q,t(d,Y),n(u)===null&&Y===n(d)&&(w?(O(I),I=-1):w=!0,Z(D,Q-ce))):(Y.sortIndex=ae,t(u,Y),k||y||(k=!0,P||(P=!0,B()))),Y},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(Y){var J=b;return function(){var Q=b;b=J;try{return Y.apply(this,arguments)}finally{b=Q}}}})(z_)),z_}var YC;function VG(){return YC||(YC=1,B_.exports=WG()),B_.exports}var U_={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC;function ZG(){if(qC)return dt;qC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function j(z,V,ne){this.props=z,this.context=V,this.refs=S,this.updater=ne||k}j.prototype.isReactComponent={},j.prototype.setState=function(z,V){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,V,"setState")},j.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=j.prototype;function A(z,V,ne){this.props=z,this.context=V,this.refs=S,this.updater=ne||k}var C=A.prototype=new O;C.constructor=A,w(C,j.prototype),C.isPureReactComponent=!0;var D=Array.isArray;function P(){}var I={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function K(z,V,ne){var oe=ne.ref;return{$$typeof:e,type:z,key:V,ref:oe!==void 0?oe:null,props:ne}}function q(z,V){return K(z.type,V,z.props)}function H(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function B(z){var V={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ne){return V[ne]})}var W=/\/+/g;function X(z,V){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):V.toString(36)}function Z(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(P,P):(z.status="pending",z.then(function(V){z.status==="pending"&&(z.status="fulfilled",z.value=V)},function(V){z.status==="pending"&&(z.status="rejected",z.reason=V)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Y(z,V,ne,oe,ue){var pe=typeof z;(pe==="undefined"||pe==="boolean")&&(z=null);var ye=!1;if(z===null)ye=!0;else switch(pe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(z.$$typeof){case e:case t:ye=!0;break;case h:return ye=z._init,Y(ye(z._payload),V,ne,oe,ue)}}if(ye)return ue=ue(z),ye=oe===""?"."+X(z,0):oe,D(ue)?(ne="",ye!=null&&(ne=ye.replace(W,"$&/")+"/"),Y(ue,V,ne,"",function(Te){return Te})):ue!=null&&(H(ue)&&(ue=q(ue,ne+(ue.key==null||z&&z.key===ue.key?"":(""+ue.key).replace(W,"$&/")+"/")+ye)),V.push(ue)),1;ye=0;var Oe=oe===""?".":oe+":";if(D(z))for(var ie=0;ie<z.length;ie++)oe=z[ie],pe=Oe+X(oe,ie),ye+=Y(oe,V,ne,pe,ue);else if(ie=y(z),typeof ie=="function")for(z=ie.call(z),ie=0;!(oe=z.next()).done;)oe=oe.value,pe=Oe+X(oe,ie++),ye+=Y(oe,V,ne,pe,ue);else if(pe==="object"){if(typeof z.then=="function")return Y(Z(z),V,ne,oe,ue);throw V=String(z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ye}function J(z,V,ne){if(z==null)return z;var oe=[],ue=0;return Y(z,oe,"","",function(pe){return V.call(ne,pe,ue++)}),oe}function Q(z){if(z._status===-1){var V=z._result;V=V(),V.then(function(ne){(z._status===0||z._status===-1)&&(z._status=1,z._result=ne)},function(ne){(z._status===0||z._status===-1)&&(z._status=2,z._result=ne)}),z._status===-1&&(z._status=0,z._result=V)}if(z._status===1)return z._result.default;throw z._result}var ce=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ae={map:J,forEach:function(z,V,ne){J(z,function(){V.apply(this,arguments)},ne)},count:function(z){var V=0;return J(z,function(){V++}),V},toArray:function(z){return J(z,function(V){return V})||[]},only:function(z){if(!H(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return dt.Activity=p,dt.Children=ae,dt.Component=j,dt.Fragment=n,dt.Profiler=i,dt.PureComponent=A,dt.StrictMode=r,dt.Suspense=u,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,dt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return I.H.useMemoCache(z)}},dt.cache=function(z){return function(){return z.apply(null,arguments)}},dt.cacheSignal=function(){return null},dt.cloneElement=function(z,V,ne){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var oe=w({},z.props),ue=z.key;if(V!=null)for(pe in V.key!==void 0&&(ue=""+V.key),V)!U.call(V,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&V.ref===void 0||(oe[pe]=V[pe]);var pe=arguments.length-2;if(pe===1)oe.children=ne;else if(1<pe){for(var ye=Array(pe),Oe=0;Oe<pe;Oe++)ye[Oe]=arguments[Oe+2];oe.children=ye}return K(z.type,ue,oe)},dt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},dt.createElement=function(z,V,ne){var oe,ue={},pe=null;if(V!=null)for(oe in V.key!==void 0&&(pe=""+V.key),V)U.call(V,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ue[oe]=V[oe]);var ye=arguments.length-2;if(ye===1)ue.children=ne;else if(1<ye){for(var Oe=Array(ye),ie=0;ie<ye;ie++)Oe[ie]=arguments[ie+2];ue.children=Oe}if(z&&z.defaultProps)for(oe in ye=z.defaultProps,ye)ue[oe]===void 0&&(ue[oe]=ye[oe]);return K(z,pe,ue)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(z){return{$$typeof:l,render:z}},dt.isValidElement=H,dt.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:Q}},dt.memo=function(z,V){return{$$typeof:d,type:z,compare:V===void 0?null:V}},dt.startTransition=function(z){var V=I.T,ne={};I.T=ne;try{var oe=z(),ue=I.S;ue!==null&&ue(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(P,ce)}catch(pe){ce(pe)}finally{V!==null&&ne.types!==null&&(V.types=ne.types),I.T=V}},dt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},dt.use=function(z){return I.H.use(z)},dt.useActionState=function(z,V,ne){return I.H.useActionState(z,V,ne)},dt.useCallback=function(z,V){return I.H.useCallback(z,V)},dt.useContext=function(z){return I.H.useContext(z)},dt.useDebugValue=function(){},dt.useDeferredValue=function(z,V){return I.H.useDeferredValue(z,V)},dt.useEffect=function(z,V){return I.H.useEffect(z,V)},dt.useEffectEvent=function(z){return I.H.useEffectEvent(z)},dt.useId=function(){return I.H.useId()},dt.useImperativeHandle=function(z,V,ne){return I.H.useImperativeHandle(z,V,ne)},dt.useInsertionEffect=function(z,V){return I.H.useInsertionEffect(z,V)},dt.useLayoutEffect=function(z,V){return I.H.useLayoutEffect(z,V)},dt.useMemo=function(z,V){return I.H.useMemo(z,V)},dt.useOptimistic=function(z,V){return I.H.useOptimistic(z,V)},dt.useReducer=function(z,V,ne){return I.H.useReducer(z,V,ne)},dt.useRef=function(z){return I.H.useRef(z)},dt.useState=function(z){return I.H.useState(z)},dt.useSyncExternalStore=function(z,V,ne){return I.H.useSyncExternalStore(z,V,ne)},dt.useTransition=function(){return I.H.useTransition()},dt.version="19.2.1",dt}var KC;function gf(){return KC||(KC=1,U_.exports=ZG()),U_.exports}var F_={exports:{}},Ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC;function XG(){if(WC)return Ir;WC=1;var e=gf();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ir.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(u,d,null,h)},Ir.flushSync=function(u){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=d,r.p=h,r.d.f()}},Ir.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Ir.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ir.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:y}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:b,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ir.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Ir.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ir.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Ir.requestFormReset=function(u){r.d.r(u)},Ir.unstable_batchedUpdates=function(u,d){return u(d)},Ir.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},Ir.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ir.version="19.2.1",Ir}var VC;function X5(){if(VC)return F_.exports;VC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),F_.exports=XG(),F_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function JG(){if(ZC)return Gh;ZC=1;var e=VG(),t=gf(),n=X5();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,m=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(m=c.return),s=c.return;while(s)}return c.tag===3?m:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function d(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var m=s,x=c;;){var T=m.return;if(T===null)break;var N=T.alternate;if(N===null){if(x=T.return,x!==null){m=x;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===m)return u(T),s;if(N===x)return u(T),c;N=N.sibling}throw Error(r(188))}if(m.return!==x.return)m=T,x=N;else{for(var $=!1,G=T.child;G;){if(G===m){$=!0,m=T,x=N;break}if(G===x){$=!0,x=T,m=N;break}G=G.sibling}if(!$){for(G=N.child;G;){if(G===m){$=!0,m=N,x=T;break}if(G===x){$=!0,x=N,m=T;break}G=G.sibling}if(!$)throw Error(r(189))}}if(m.alternate!==x)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:c}function h(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=h(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var W=Symbol.for("react.client.reference");function X(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===W?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case K:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case A:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case C:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return c=s.displayName||null,c!==null?c:X(s.type)||"Memo";case U:c=s._payload,s=s._init;try{return X(s(c))}catch{}}return null}var Z=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ce=[],ae=-1;function z(s){return{current:s}}function V(s){0>ae||(s.current=ce[ae],ce[ae]=null,ae--)}function ne(s,c){ae++,ce[ae]=s.current,s.current=c}var oe=z(null),ue=z(null),pe=z(null),ye=z(null);function Oe(s,c){switch(ne(pe,c),ne(ue,s),ne(oe,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?dC(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=dC(c),s=fC(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}V(oe),ne(oe,s)}function ie(){V(oe),V(ue),V(pe)}function Te(s){s.memoizedState!==null&&ne(ye,s);var c=oe.current,m=fC(c,s.type);c!==m&&(ne(ue,s),ne(oe,m))}function xe(s){ue.current===s&&(V(oe),V(ue)),ye.current===s&&(V(ye),Bh._currentValue=Q)}var se,ze;function Ye(s){if(se===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);se=c&&c[1]||"",ze=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+s+ze}var Ze=!1;function Ce(s,c){if(!s||Ze)return"";Ze=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(ve){var be=ve}Reflect.construct(s,[],je)}else{try{je.call()}catch(ve){be=ve}s.call(je.prototype)}}else{try{throw Error()}catch(ve){be=ve}(je=s())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(ve){if(ve&&be&&typeof ve.stack=="string")return[ve.stack,be.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=x.DetermineComponentFrameRoot(),$=N[0],G=N[1];if($&&G){var te=$.split(`
`),me=G.split(`
`);for(T=x=0;x<te.length&&!te[x].includes("DetermineComponentFrameRoot");)x++;for(;T<me.length&&!me[T].includes("DetermineComponentFrameRoot");)T++;if(x===te.length||T===me.length)for(x=te.length-1,T=me.length-1;1<=x&&0<=T&&te[x]!==me[T];)T--;for(;1<=x&&0<=T;x--,T--)if(te[x]!==me[T]){if(x!==1||T!==1)do if(x--,T--,0>T||te[x]!==me[T]){var ke=`
`+te[x].replace(" at new "," at ");return s.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",s.displayName)),ke}while(1<=x&&0<=T);break}}}finally{Ze=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?Ye(m):""}function Be(s,c){switch(s.tag){case 26:case 27:case 5:return Ye(s.type);case 16:return Ye("Lazy");case 13:return s.child!==c&&c!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return Ce(s.type,!1);case 11:return Ce(s.type.render,!1);case 1:return Ce(s.type,!0);case 31:return Ye("Activity");default:return""}}function De(s){try{var c="",m=null;do c+=Be(s,m),m=s,s=s.return;while(s);return c}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var Xe=Object.prototype.hasOwnProperty,gt=e.unstable_scheduleCallback,Mt=e.unstable_cancelCallback,fe=e.unstable_shouldYield,Me=e.unstable_requestPaint,_e=e.unstable_now,Ne=e.unstable_getCurrentPriorityLevel,Ue=e.unstable_ImmediatePriority,Je=e.unstable_UserBlockingPriority,lt=e.unstable_NormalPriority,Rt=e.unstable_LowPriority,Rn=e.unstable_IdlePriority,ar=e.log,Ji=e.unstable_setDisableYieldValue,or=null,on=null;function xr(s){if(typeof ar=="function"&&Ji(s),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(or,s)}catch{}}var kt=Math.clz32?Math.clz32:Pe,Qi=Math.log,zf=Math.LN2;function Pe(s){return s>>>=0,s===0?32:31-(Qi(s)/zf|0)|0}var it=256,Lt=262144,wr=4194304;function ni(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Mu(s,c,m){var x=s.pendingLanes;if(x===0)return 0;var T=0,N=s.suspendedLanes,$=s.pingedLanes;s=s.warmLanes;var G=x&134217727;return G!==0?(x=G&~N,x!==0?T=ni(x):($&=G,$!==0?T=ni($):m||(m=G&~s,m!==0&&(T=ni(m))))):(G=x&~N,G!==0?T=ni(G):$!==0?T=ni($):m||(m=x&~s,m!==0&&(T=ni(m)))),T===0?0:c!==0&&c!==T&&(c&N)===0&&(N=T&-T,m=c&-c,N>=m||N===32&&(m&4194048)!==0)?c:T}function ic(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Gx(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xp(){var s=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),s}function Uf(s){for(var c=[],m=0;31>m;m++)c.push(s);return c}function Ko(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Yx(s,c,m,x,T,N){var $=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,me=s.hiddenUpdates;for(m=$&~m;0<m;){var ke=31-kt(m),je=1<<ke;G[ke]=0,te[ke]=-1;var be=me[ke];if(be!==null)for(me[ke]=null,ke=0;ke<be.length;ke++){var ve=be[ke];ve!==null&&(ve.lane&=-536870913)}m&=~je}x!==0&&Jp(s,x,0),N!==0&&T===0&&s.tag!==0&&(s.suspendedLanes|=N&~($&~c))}function Jp(s,c,m){s.pendingLanes|=c,s.suspendedLanes&=~c;var x=31-kt(c);s.entangledLanes|=c,s.entanglements[x]=s.entanglements[x]|1073741824|m&261930}function Qp(s,c){var m=s.entangledLanes|=c;for(s=s.entanglements;m;){var x=31-kt(m),T=1<<x;T&c|s[x]&c&&(s[x]|=c),m&=~T}}function e0(s,c){var m=c&-c;return m=(m&42)!==0?1:ri(m),(m&(s.suspendedLanes|c))!==0?0:m}function ri(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ke(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ff(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:RC(s.type))}function Hf(s,c){var m=J.p;try{return J.p=s,c()}finally{J.p=m}}var Ma=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Ma,sr="__reactProps$"+Ma,Wo="__reactContainer$"+Ma,lo="__reactEvents$"+Ma,t0="__reactListeners$"+Ma,qx="__reactHandles$"+Ma,n0="__reactResources$"+Ma,ac="__reactMarker$"+Ma;function Gf(s){delete s[Ln],delete s[sr],delete s[lo],delete s[t0],delete s[qx]}function Vo(s){var c=s[Ln];if(c)return c;for(var m=s.parentNode;m;){if(c=m[Wo]||m[Ln]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(s=vC(s);s!==null;){if(m=s[Ln])return m;s=vC(s)}return c}s=m,m=s.parentNode}return null}function Ws(s){if(s=s[Ln]||s[Wo]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function co(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Vs(s){var c=s[n0];return c||(c=s[n0]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function In(s){s[ac]=!0}var r0=new Set,i0={};function Zo(s,c){uo(s,c),uo(s+"Capture",c)}function uo(s,c){for(i0[s]=c,s=0;s<c.length;s++)r0.add(c[s])}var oc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yf={},qf={};function sc(s){return Xe.call(qf,s)?!0:Xe.call(Yf,s)?!1:oc.test(s)?qf[s]=!0:(Yf[s]=!0,!1)}function bt(s,c,m){if(sc(c))if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+m)}}function Ht(s,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+m)}}function ii(s,c,m,x){if(x===null)s.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(c,m,""+x)}}function Vn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xo(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Kf(s,c,m){var x=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var T=x.get,N=x.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return T.call(this)},set:function($){m=""+$,N.call(this,$)}}),Object.defineProperty(s,c,{enumerable:x.enumerable}),{getValue:function(){return m},setValue:function($){m=""+$},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function ut(s){if(!s._valueTracker){var c=Xo(s)?"checked":"value";s._valueTracker=Kf(s,c,""+s[c])}}function sn(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return s&&(x=Xo(s)?s.checked?"true":"false":s.value),s=x,s!==m?(c.setValue(s),!0):!1}function Zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Du=/[\n"\\]/g;function en(s){return s.replace(Du,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Wf(s,c,m,x,T,N,$,G){s.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?s.type=$:s.removeAttribute("type"),c!=null?$==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Vn(c)):s.value!==""+Vn(c)&&(s.value=""+Vn(c)):$!=="submit"&&$!=="reset"||s.removeAttribute("value"),c!=null?Da(s,$,Vn(c)):m!=null?Da(s,$,Vn(m)):x!=null&&s.removeAttribute("value"),T==null&&N!=null&&(s.defaultChecked=!!N),T!=null&&(s.checked=T&&typeof T!="function"&&typeof T!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+Vn(G):s.removeAttribute("name")}function lc(s,c,m,x,T,N,$,G){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),c!=null||m!=null){if(!(N!=="submit"&&N!=="reset"||c!=null)){ut(s);return}m=m!=null?""+Vn(m):"",c=c!=null?""+Vn(c):m,G||c===s.value||(s.value=c),s.defaultValue=c}x=x??T,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=G?s.checked:!!x,s.defaultChecked=!!x,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(s.name=$),ut(s)}function Da(s,c,m){c==="number"&&Zs(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function Kt(s,c,m,x){if(s=s.options,c){c={};for(var T=0;T<m.length;T++)c["$"+m[T]]=!0;for(m=0;m<s.length;m++)T=c.hasOwnProperty("$"+s[m].value),s[m].selected!==T&&(s[m].selected=T),T&&x&&(s[m].defaultSelected=!0)}else{for(m=""+Vn(m),c=null,T=0;T<s.length;T++){if(s[T].value===m){s[T].selected=!0,x&&(s[T].defaultSelected=!0);return}c!==null||s[T].disabled||(c=s[T])}c!==null&&(c.selected=!0)}}function fo(s,c,m){if(c!=null&&(c=""+Vn(c),c!==s.value&&(s.value=c),m==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=m!=null?""+Vn(m):""}function Xs(s,c,m,x){if(c==null){if(x!=null){if(m!=null)throw Error(r(92));if(Z(x)){if(1<x.length)throw Error(r(93));x=x[0]}m=x}m==null&&(m=""),c=m}m=Vn(c),s.defaultValue=m,x=s.textContent,x===m&&x!==""&&x!==null&&(s.value=x),ut(s)}function ea(s,c){if(c){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=c;return}}s.textContent=c}var Vf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Js(s,c,m){var x=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":x?s.setProperty(c,m):typeof m!="number"||m===0||Vf.has(c)?c==="float"?s.cssFloat=m:s[c]=(""+m).trim():s[c]=m+"px"}function Pu(s,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var T in c)x=c[T],c.hasOwnProperty(T)&&m[T]!==x&&Js(s,T,x)}else for(var N in c)c.hasOwnProperty(N)&&Js(s,N,c[N])}function cc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(s){return Zf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ai(){}var Lu=null;function uc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var el=null,st=null;function Ti(s){var c=Ws(s);if(c&&(s=c.stateNode)){var m=s[sr]||null;e:switch(s=c.stateNode,c.type){case"input":if(Wf(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+en(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==s&&x.form===s.form){var T=x[sr]||null;if(!T)throw Error(r(90));Wf(x,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(c=0;c<m.length;c++)x=m[c],x.form===s.form&&sn(x)}break e;case"textarea":fo(s,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Kt(s,!!m.multiple,c,!1)}}}var It=!1;function Xf(s,c,m){if(It)return s(c,m);It=!0;try{var x=s(c);return x}finally{if(It=!1,(el!==null||st!==null)&&(eg(),el&&(c=el,s=st,st=el=null,Ti(c),s)))for(c=0;c<s.length;c++)Ti(s[c])}}function Jo(s,c){var m=s.stateNode;if(m===null)return null;var x=m[sr]||null;if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dc=!1;if(Ai)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){dc=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{dc=!1}var ta=null,Qo=null,_n=null;function ho(){if(_n)return _n;var s,c=Qo,m=c.length,x,T="value"in ta?ta.value:ta.textContent,N=T.length;for(s=0;s<m&&c[s]===T[s];s++);var $=m-s;for(x=1;x<=$&&c[m-x]===T[N-x];x++);return _n=T.slice(s,1<x?1-x:void 0)}function fc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function hc(){return!0}function a0(){return!1}function _r(s){function c(m,x,T,N,$){this._reactName=m,this._targetInst=T,this.type=x,this.nativeEvent=N,this.target=$,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(m=s[G],this[G]=m?m(N):N[G]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?hc:a0,this.isPropagationStopped=a0,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=hc)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=hc)},persist:function(){},isPersistent:hc}),c}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iu=_r(Pa),tl=p({},Pa,{view:0,detail:0}),wt=_r(tl),Jf,Gr,Ra,mc=p({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ih,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ra&&(Ra&&s.type==="mousemove"?(Jf=s.screenX-Ra.screenX,Gr=s.screenY-Ra.screenY):Gr=Jf=0,Ra=s),Jf)},movementY:function(s){return"movementY"in s?s.movementY:Gr}}),o0=_r(mc),Qf=p({},mc,{dataTransfer:0}),Kx=_r(Qf),s0=p({},tl,{relatedTarget:0}),eh=_r(s0),Wx=p({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),th=_r(Wx),Vx=p({},Pa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),na=_r(Vx),Zx=p({},Pa,{data:0}),nh=_r(Zx),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rh(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=c0[s])?!!c[s]:!1}function ih(){return rh}var u0=p({},tl,{key:function(s){if(s.key){var c=mo[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=fc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?l0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ih,charCode:function(s){return s.type==="keypress"?fc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),d0=_r(u0),Xx=p({},mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f0=_r(Xx),ah=p({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ih}),Jx=_r(ah),h0=p({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),m0=_r(h0),$u=p({},mc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),es=_r($u),Qx=p({},Pa,{newState:0,oldState:0}),pc=_r(Qx),oi=[9,13,27,32],Bu=Ai&&"CompositionEvent"in window,nl=null;Ai&&"documentMode"in document&&(nl=document.documentMode);var ew=Ai&&"TextEvent"in window&&!nl,zu=Ai&&(!Bu||nl&&8<nl&&11>=nl),Uu=" ",p0=!1;function g0(s,c){switch(s){case"keyup":return oi.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oh(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var rl=!1;function Ni(s,c){switch(s){case"compositionend":return oh(c);case"keypress":return c.which!==32?null:(p0=!0,Uu);case"textInput":return s=c.data,s===Uu&&p0?null:s;default:return null}}function il(s,c){if(rl)return s==="compositionend"||!Bu&&g0(s,c)?(s=ho(),_n=Qo=ta=null,rl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return zu&&c.locale!=="ko"?null:c.data;default:return null}}var tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ra(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!tw[s.type]:c==="textarea"}function b0(s,c,m,x){el?st?st.push(x):st=[x]:el=x,c=sg(c,"onChange"),0<c.length&&(m=new Iu("onChange","change",null,m,x),s.push({event:m,listeners:c}))}var ia=null,gc=null;function bc(s){aC(s,0)}function yc(s){var c=co(s);if(sn(c))return s}function vc(s,c){if(s==="change")return c}var y0=!1;if(Ai){var aa;if(Ai){var al="oninput"in document;if(!al){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),al=typeof v0.oninput=="function"}aa=al}else aa=!1;y0=aa&&(!document.documentMode||9<document.documentMode)}function Fu(){ia&&(ia.detachEvent("onpropertychange",x0),gc=ia=null)}function x0(s){if(s.propertyName==="value"&&yc(gc)){var c=[];b0(c,gc,s,uc(s)),Xf(bc,c)}}function La(s,c,m){s==="focusin"?(Fu(),ia=c,gc=m,ia.attachEvent("onpropertychange",x0)):s==="focusout"&&Fu()}function nw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return yc(gc)}function ol(s,c){if(s==="click")return yc(c)}function rw(s,c){if(s==="input"||s==="change")return yc(c)}function Ia(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var lr=typeof Object.is=="function"?Object.is:Ia;function sl(s,c){if(lr(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var m=Object.keys(s),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var T=m[x];if(!Xe.call(c,T)||!lr(s[T],c[T]))return!1}return!0}function Hu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function xc(s,c){var m=Hu(s);s=0;for(var x;m;){if(m.nodeType===3){if(x=s+m.textContent.length,s<=c&&x>=c)return{node:m,offset:c-s};s=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Hu(m)}}function Gu(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Gu(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function wc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Zs(s.document);c instanceof s.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)s=c.contentWindow;else break;c=Zs(s.document)}return c}function po(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Yu=Ai&&"documentMode"in document&&11>=document.documentMode,go=null,qu=null,_c=null,ll=!1;function w0(s,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ll||go==null||go!==Zs(x)||(x=go,"selectionStart"in x&&po(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),_c&&sl(_c,x)||(_c=x,x=sg(qu,"onSelect"),0<x.length&&(c=new Iu("onSelect","select",null,c,m),s.push({event:c,listeners:x}),c.target=go)))}function bo(s,c){var m={};return m[s.toLowerCase()]=c.toLowerCase(),m["Webkit"+s]="webkit"+c,m["Moz"+s]="moz"+c,m}var cl={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionrun:bo("Transition","TransitionRun"),transitionstart:bo("Transition","TransitionStart"),transitioncancel:bo("Transition","TransitionCancel"),transitionend:bo("Transition","TransitionEnd")},Ku={},_0={};Ai&&(_0=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function cr(s){if(Ku[s])return Ku[s];if(!cl[s])return s;var c=cl[s],m;for(m in c)if(c.hasOwnProperty(m)&&m in _0)return Ku[s]=c[m];return s}var Sc=cr("animationend"),S0=cr("animationiteration"),kc=cr("animationstart"),iw=cr("transitionrun"),k0=cr("transitionstart"),aw=cr("transitioncancel"),ul=cr("transitionend"),E0=new Map,yo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yo.push("scrollEnd");function si(s,c){E0.set(s,c),Zo(c,[s])}var Ec=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},li=[],Rr=0,Wu=0;function Tc(){for(var s=Rr,c=Wu=Rr=0;c<s;){var m=li[c];li[c++]=null;var x=li[c];li[c++]=null;var T=li[c];li[c++]=null;var N=li[c];if(li[c++]=null,x!==null&&T!==null){var $=x.pending;$===null?T.next=T:(T.next=$.next,$.next=T),x.pending=T}N!==0&&dl(m,T,N)}}function vo(s,c,m,x){li[Rr++]=s,li[Rr++]=c,li[Rr++]=m,li[Rr++]=x,Wu|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function sh(s,c,m,x){return vo(s,c,m,x),Ac(s)}function oa(s,c){return vo(s,null,null,c),Ac(s)}function dl(s,c,m){s.lanes|=m;var x=s.alternate;x!==null&&(x.lanes|=m);for(var T=!1,N=s.return;N!==null;)N.childLanes|=m,x=N.alternate,x!==null&&(x.childLanes|=m),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(T=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,T&&c!==null&&(T=31-kt(m),s=N.hiddenUpdates,x=s[T],x===null?s[T]=[c]:x.push(c),c.lane=m|536870912),N):null}function Ac(s){if(50<Mh)throw Mh=0,s_=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var ts={};function ow(s,c,m,x){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(s,c,m,x){return new ow(s,c,m,x)}function Vu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function sa(s,c){var m=s.alternate;return m===null?(m=Lr(s.tag,c,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=c,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,c=s.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function lh(s,c){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,c=m.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function jc(s,c,m,x,T,N){var $=0;if(x=s,typeof s=="function")Vu(s)&&($=1);else if(typeof s=="string")$=PG(s,m,oe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case K:return s=Lr(31,m,c,T),s.elementType=K,s.lanes=N,s;case w:return ns(m.children,T,N,c);case S:$=8,T|=24;break;case j:return s=Lr(12,m,c,T|2),s.elementType=j,s.lanes=N,s;case D:return s=Lr(13,m,c,T),s.elementType=D,s.lanes=N,s;case P:return s=Lr(19,m,c,T),s.elementType=P,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:$=10;break e;case O:$=9;break e;case C:$=11;break e;case I:$=14;break e;case U:$=16,x=null;break e}$=29,m=Error(r(130,s===null?"null":typeof s,"")),x=null}return c=Lr($,m,c,T),c.elementType=s,c.type=x,c.lanes=N,c}function ns(s,c,m,x){return s=Lr(7,s,x,c),s.lanes=m,s}function Zu(s,c,m){return s=Lr(6,s,null,c),s.lanes=m,s}function ch(s){var c=Lr(18,null,null,0);return c.stateNode=s,c}function uh(s,c,m){return c=Lr(4,s.children!==null?s.children:[],s.key,c),c.lanes=m,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var f=new WeakMap;function v(s,c){if(typeof s=="object"&&s!==null){var m=f.get(s);return m!==void 0?m:(c={value:s,source:c,stack:De(c)},f.set(s,c),c)}return{value:s,source:c,stack:De(c)}}var E=[],M=0,R=null,F=0,ee=[],de=0,ge=null,Ae=1,$e="";function Ve(s,c){E[M++]=F,E[M++]=R,R=s,F=c}function mt(s,c,m){ee[de++]=Ae,ee[de++]=$e,ee[de++]=ge,ge=s;var x=Ae;s=$e;var T=32-kt(x)-1;x&=~(1<<T),m+=1;var N=32-kt(c)+T;if(30<N){var $=T-T%5;N=(x&(1<<$)-1).toString(32),x>>=$,T-=$,Ae=1<<32-kt(c)+T|m<<T|x,$e=N+s}else Ae=1<<N|m<<T|x,$e=s}function Zn(s){s.return!==null&&(Ve(s,1),mt(s,1,0))}function Sn(s){for(;s===R;)R=E[--M],E[M]=null,F=E[--M],E[M]=null;for(;s===ge;)ge=ee[--de],ee[de]=null,$e=ee[--de],ee[de]=null,Ae=ee[--de],ee[de]=null}function Yr(s,c){ee[de++]=Ae,ee[de++]=$e,ee[de++]=ge,Ae=c.id,$e=c.overflow,ge=s}var At=null,jt=null,yt=!1,xo=null,ci=!1,Xu=Error(r(519));function wo(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nc(v(c,s)),Xu}function dh(s){var c=s.stateNode,m=s.type,x=s.memoizedProps;switch(c[Ln]=s,c[sr]=x,m){case"dialog":xt("cancel",c),xt("close",c);break;case"iframe":case"object":case"embed":xt("load",c);break;case"video":case"audio":for(m=0;m<Ph.length;m++)xt(Ph[m],c);break;case"source":xt("error",c);break;case"img":case"image":case"link":xt("error",c),xt("load",c);break;case"details":xt("toggle",c);break;case"input":xt("invalid",c),lc(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":xt("invalid",c);break;case"textarea":xt("invalid",c),Xs(c,x.value,x.defaultValue,x.children)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||x.suppressHydrationWarning===!0||cC(c.textContent,m)?(x.popover!=null&&(xt("beforetoggle",c),xt("toggle",c)),x.onScroll!=null&&xt("scroll",c),x.onScrollEnd!=null&&xt("scrollend",c),x.onClick!=null&&(c.onclick=ai),c=!0):c=!1,c||wo(s,!0)}function gn(s){for(At=s.return;At;)switch(At.tag){case 5:case 31:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:At=At.return}}function $a(s){if(s!==At)return!1;if(!yt)return gn(s),yt=!0,!1;var c=s.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||__(s.type,s.memoizedProps)),m=!m),m&&jt&&wo(s),gn(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));jt=yC(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));jt=yC(s)}else c===27?(c=jt,El(s.type)?(s=A_,A_=null,jt=s):jt=c):jt=At?ca(s.stateNode.nextSibling):null;return!0}function rs(){jt=At=null,yt=!1}function fh(){var s=xo;return s!==null&&(hi===null?hi=s:hi.push.apply(hi,s),xo=null),s}function Nc(s){xo===null?xo=[s]:xo.push(s)}var Oc=z(null),_o=null,Ba=null;function fl(s,c,m){ne(Oc,c._currentValue),c._currentValue=m}function is(s){s._currentValue=Oc.current,V(Oc)}function sw(s,c,m){for(;s!==null;){var x=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),s===m)break;s=s.return}}function lw(s,c,m,x){var T=s.child;for(T!==null&&(T.return=s);T!==null;){var N=T.dependencies;if(N!==null){var $=T.child;N=N.firstContext;e:for(;N!==null;){var G=N;N=T;for(var te=0;te<c.length;te++)if(G.context===c[te]){N.lanes|=m,G=N.alternate,G!==null&&(G.lanes|=m),sw(N.return,m,s),x||($=null);break e}N=G.next}}else if(T.tag===18){if($=T.return,$===null)throw Error(r(341));$.lanes|=m,N=$.alternate,N!==null&&(N.lanes|=m),sw($,m,s),$=null}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===s){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}}function Ju(s,c,m,x){s=null;for(var T=c,N=!1;T!==null;){if(!N){if((T.flags&524288)!==0)N=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var $=T.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var G=T.type;lr(T.pendingProps.value,$.value)||(s!==null?s.push(G):s=[G])}}else if(T===ye.current){if($=T.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(s!==null?s.push(Bh):s=[Bh])}T=T.return}s!==null&&lw(c,s,m,x),c.flags|=262144}function T0(s){for(s=s.firstContext;s!==null;){if(!lr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Cc(s){_o=s,Ba=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Sr(s){return Wj(_o,s)}function A0(s,c){return _o===null&&Cc(s),Wj(s,c)}function Wj(s,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Ba===null){if(s===null)throw Error(r(308));Ba=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else Ba=Ba.next=c;return m}var OH=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(m,x){s.push(x)}};this.abort=function(){c.aborted=!0,s.forEach(function(m){return m()})}},CH=e.unstable_scheduleCallback,MH=e.unstable_NormalPriority,$n={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cw(){return{controller:new OH,data:new Map,refCount:0}}function hh(s){s.refCount--,s.refCount===0&&CH(MH,function(){s.controller.abort()})}var mh=null,uw=0,Qu=0,ed=null;function DH(s,c){if(mh===null){var m=mh=[];uw=0,Qu=h_(),ed={status:"pending",value:void 0,then:function(x){m.push(x)}}}return uw++,c.then(Vj,Vj),c}function Vj(){if(--uw===0&&mh!==null){ed!==null&&(ed.status="fulfilled");var s=mh;mh=null,Qu=0,ed=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function PH(s,c){var m=[],x={status:"pending",value:null,reason:null,then:function(T){m.push(T)}};return s.then(function(){x.status="fulfilled",x.value=c;for(var T=0;T<m.length;T++)(0,m[T])(c)},function(T){for(x.status="rejected",x.reason=T,T=0;T<m.length;T++)(0,m[T])(void 0)}),x}var Zj=Y.S;Y.S=function(s,c){DO=_e(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&DH(s,c),Zj!==null&&Zj(s,c)};var Mc=z(null);function dw(){var s=Mc.current;return s!==null?s:Wt.pooledCache}function j0(s,c){c===null?ne(Mc,Mc.current):ne(Mc,c.pool)}function Xj(){var s=dw();return s===null?null:{parent:$n._currentValue,pool:s}}var td=Error(r(460)),fw=Error(r(474)),N0=Error(r(542)),O0={then:function(){}};function Jj(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Qj(s,c,m){switch(m=s[m],m===void 0?s.push(c):m!==c&&(c.then(ai,ai),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,tN(s),s;default:if(typeof c.status=="string")c.then(ai,ai);else{if(s=Wt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(x){if(c.status==="pending"){var T=c;T.status="fulfilled",T.value=x}},function(x){if(c.status==="pending"){var T=c;T.status="rejected",T.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,tN(s),s}throw Pc=c,td}}function Dc(s){try{var c=s._init;return c(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Pc=m,td):m}}var Pc=null;function eN(){if(Pc===null)throw Error(r(459));var s=Pc;return Pc=null,s}function tN(s){if(s===td||s===N0)throw Error(r(483))}var nd=null,ph=0;function C0(s){var c=ph;return ph+=1,nd===null&&(nd=[]),Qj(nd,s,c)}function gh(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function M0(s,c){throw c.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function nN(s){function c(le,re){if(s){var he=le.deletions;he===null?(le.deletions=[re],le.flags|=16):he.push(re)}}function m(le,re){if(!s)return null;for(;re!==null;)c(le,re),re=re.sibling;return null}function x(le){for(var re=new Map;le!==null;)le.key!==null?re.set(le.key,le):re.set(le.index,le),le=le.sibling;return re}function T(le,re){return le=sa(le,re),le.index=0,le.sibling=null,le}function N(le,re,he){return le.index=he,s?(he=le.alternate,he!==null?(he=he.index,he<re?(le.flags|=67108866,re):he):(le.flags|=67108866,re)):(le.flags|=1048576,re)}function $(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function G(le,re,he,Ee){return re===null||re.tag!==6?(re=Zu(he,le.mode,Ee),re.return=le,re):(re=T(re,he),re.return=le,re)}function te(le,re,he,Ee){var nt=he.type;return nt===w?ke(le,re,he.props.children,Ee,he.key):re!==null&&(re.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===U&&Dc(nt)===re.type)?(re=T(re,he.props),gh(re,he),re.return=le,re):(re=jc(he.type,he.key,he.props,null,le.mode,Ee),gh(re,he),re.return=le,re)}function me(le,re,he,Ee){return re===null||re.tag!==4||re.stateNode.containerInfo!==he.containerInfo||re.stateNode.implementation!==he.implementation?(re=uh(he,le.mode,Ee),re.return=le,re):(re=T(re,he.children||[]),re.return=le,re)}function ke(le,re,he,Ee,nt){return re===null||re.tag!==7?(re=ns(he,le.mode,Ee,nt),re.return=le,re):(re=T(re,he),re.return=le,re)}function je(le,re,he){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Zu(""+re,le.mode,he),re.return=le,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return he=jc(re.type,re.key,re.props,null,le.mode,he),gh(he,re),he.return=le,he;case k:return re=uh(re,le.mode,he),re.return=le,re;case U:return re=Dc(re),je(le,re,he)}if(Z(re)||B(re))return re=ns(re,le.mode,he,null),re.return=le,re;if(typeof re.then=="function")return je(le,C0(re),he);if(re.$$typeof===A)return je(le,A0(le,re),he);M0(le,re)}return null}function be(le,re,he,Ee){var nt=re!==null?re.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return nt!==null?null:G(le,re,""+he,Ee);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case y:return he.key===nt?te(le,re,he,Ee):null;case k:return he.key===nt?me(le,re,he,Ee):null;case U:return he=Dc(he),be(le,re,he,Ee)}if(Z(he)||B(he))return nt!==null?null:ke(le,re,he,Ee,null);if(typeof he.then=="function")return be(le,re,C0(he),Ee);if(he.$$typeof===A)return be(le,re,A0(le,he),Ee);M0(le,he)}return null}function ve(le,re,he,Ee,nt){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return le=le.get(he)||null,G(re,le,""+Ee,nt);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case y:return le=le.get(Ee.key===null?he:Ee.key)||null,te(re,le,Ee,nt);case k:return le=le.get(Ee.key===null?he:Ee.key)||null,me(re,le,Ee,nt);case U:return Ee=Dc(Ee),ve(le,re,he,Ee,nt)}if(Z(Ee)||B(Ee))return le=le.get(he)||null,ke(re,le,Ee,nt,null);if(typeof Ee.then=="function")return ve(le,re,he,C0(Ee),nt);if(Ee.$$typeof===A)return ve(le,re,he,A0(re,Ee),nt);M0(re,Ee)}return null}function He(le,re,he,Ee){for(var nt=null,Nt=null,qe=re,pt=re=0,St=null;qe!==null&&pt<he.length;pt++){qe.index>pt?(St=qe,qe=null):St=qe.sibling;var Ot=be(le,qe,he[pt],Ee);if(Ot===null){qe===null&&(qe=St);break}s&&qe&&Ot.alternate===null&&c(le,qe),re=N(Ot,re,pt),Nt===null?nt=Ot:Nt.sibling=Ot,Nt=Ot,qe=St}if(pt===he.length)return m(le,qe),yt&&Ve(le,pt),nt;if(qe===null){for(;pt<he.length;pt++)qe=je(le,he[pt],Ee),qe!==null&&(re=N(qe,re,pt),Nt===null?nt=qe:Nt.sibling=qe,Nt=qe);return yt&&Ve(le,pt),nt}for(qe=x(qe);pt<he.length;pt++)St=ve(qe,le,pt,he[pt],Ee),St!==null&&(s&&St.alternate!==null&&qe.delete(St.key===null?pt:St.key),re=N(St,re,pt),Nt===null?nt=St:Nt.sibling=St,Nt=St);return s&&qe.forEach(function(Ol){return c(le,Ol)}),yt&&Ve(le,pt),nt}function at(le,re,he,Ee){if(he==null)throw Error(r(151));for(var nt=null,Nt=null,qe=re,pt=re=0,St=null,Ot=he.next();qe!==null&&!Ot.done;pt++,Ot=he.next()){qe.index>pt?(St=qe,qe=null):St=qe.sibling;var Ol=be(le,qe,Ot.value,Ee);if(Ol===null){qe===null&&(qe=St);break}s&&qe&&Ol.alternate===null&&c(le,qe),re=N(Ol,re,pt),Nt===null?nt=Ol:Nt.sibling=Ol,Nt=Ol,qe=St}if(Ot.done)return m(le,qe),yt&&Ve(le,pt),nt;if(qe===null){for(;!Ot.done;pt++,Ot=he.next())Ot=je(le,Ot.value,Ee),Ot!==null&&(re=N(Ot,re,pt),Nt===null?nt=Ot:Nt.sibling=Ot,Nt=Ot);return yt&&Ve(le,pt),nt}for(qe=x(qe);!Ot.done;pt++,Ot=he.next())Ot=ve(qe,le,pt,Ot.value,Ee),Ot!==null&&(s&&Ot.alternate!==null&&qe.delete(Ot.key===null?pt:Ot.key),re=N(Ot,re,pt),Nt===null?nt=Ot:Nt.sibling=Ot,Nt=Ot);return s&&qe.forEach(function(YG){return c(le,YG)}),yt&&Ve(le,pt),nt}function qt(le,re,he,Ee){if(typeof he=="object"&&he!==null&&he.type===w&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case y:e:{for(var nt=he.key;re!==null;){if(re.key===nt){if(nt=he.type,nt===w){if(re.tag===7){m(le,re.sibling),Ee=T(re,he.props.children),Ee.return=le,le=Ee;break e}}else if(re.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===U&&Dc(nt)===re.type){m(le,re.sibling),Ee=T(re,he.props),gh(Ee,he),Ee.return=le,le=Ee;break e}m(le,re);break}else c(le,re);re=re.sibling}he.type===w?(Ee=ns(he.props.children,le.mode,Ee,he.key),Ee.return=le,le=Ee):(Ee=jc(he.type,he.key,he.props,null,le.mode,Ee),gh(Ee,he),Ee.return=le,le=Ee)}return $(le);case k:e:{for(nt=he.key;re!==null;){if(re.key===nt)if(re.tag===4&&re.stateNode.containerInfo===he.containerInfo&&re.stateNode.implementation===he.implementation){m(le,re.sibling),Ee=T(re,he.children||[]),Ee.return=le,le=Ee;break e}else{m(le,re);break}else c(le,re);re=re.sibling}Ee=uh(he,le.mode,Ee),Ee.return=le,le=Ee}return $(le);case U:return he=Dc(he),qt(le,re,he,Ee)}if(Z(he))return He(le,re,he,Ee);if(B(he)){if(nt=B(he),typeof nt!="function")throw Error(r(150));return he=nt.call(he),at(le,re,he,Ee)}if(typeof he.then=="function")return qt(le,re,C0(he),Ee);if(he.$$typeof===A)return qt(le,re,A0(le,he),Ee);M0(le,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,re!==null&&re.tag===6?(m(le,re.sibling),Ee=T(re,he),Ee.return=le,le=Ee):(m(le,re),Ee=Zu(he,le.mode,Ee),Ee.return=le,le=Ee),$(le)):m(le,re)}return function(le,re,he,Ee){try{ph=0;var nt=qt(le,re,he,Ee);return nd=null,nt}catch(qe){if(qe===td||qe===N0)throw qe;var Nt=Lr(29,qe,null,le.mode);return Nt.lanes=Ee,Nt.return=le,Nt}finally{}}}var Rc=nN(!0),rN=nN(!1),hl=!1;function hw(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mw(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ml(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function pl(s,c,m){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(Dt&2)!==0){var T=x.pending;return T===null?c.next=c:(c.next=T.next,T.next=c),x.pending=c,c=Ac(s),dl(s,null,m),c}return vo(s,x,c,m),Ac(s)}function bh(s,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,Qp(s,m)}}function pw(s,c){var m=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var T=null,N=null;if(m=m.firstBaseUpdate,m!==null){do{var $={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};N===null?T=N=$:N=N.next=$,m=m.next}while(m!==null);N===null?T=N=c:N=N.next=c}else T=N=c;m={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:x.shared,callbacks:x.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=c:s.next=c,m.lastBaseUpdate=c}var gw=!1;function yh(){if(gw){var s=ed;if(s!==null)throw s}}function vh(s,c,m,x){gw=!1;var T=s.updateQueue;hl=!1;var N=T.firstBaseUpdate,$=T.lastBaseUpdate,G=T.shared.pending;if(G!==null){T.shared.pending=null;var te=G,me=te.next;te.next=null,$===null?N=me:$.next=me,$=te;var ke=s.alternate;ke!==null&&(ke=ke.updateQueue,G=ke.lastBaseUpdate,G!==$&&(G===null?ke.firstBaseUpdate=me:G.next=me,ke.lastBaseUpdate=te))}if(N!==null){var je=T.baseState;$=0,ke=me=te=null,G=N;do{var be=G.lane&-536870913,ve=be!==G.lane;if(ve?(_t&be)===be:(x&be)===be){be!==0&&be===Qu&&(gw=!0),ke!==null&&(ke=ke.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var He=s,at=G;be=c;var qt=m;switch(at.tag){case 1:if(He=at.payload,typeof He=="function"){je=He.call(qt,je,be);break e}je=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=at.payload,be=typeof He=="function"?He.call(qt,je,be):He,be==null)break e;je=p({},je,be);break e;case 2:hl=!0}}be=G.callback,be!==null&&(s.flags|=64,ve&&(s.flags|=8192),ve=T.callbacks,ve===null?T.callbacks=[be]:ve.push(be))}else ve={lane:be,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ke===null?(me=ke=ve,te=je):ke=ke.next=ve,$|=be;if(G=G.next,G===null){if(G=T.shared.pending,G===null)break;ve=G,G=ve.next,ve.next=null,T.lastBaseUpdate=ve,T.shared.pending=null}}while(!0);ke===null&&(te=je),T.baseState=te,T.firstBaseUpdate=me,T.lastBaseUpdate=ke,N===null&&(T.shared.lanes=0),xl|=$,s.lanes=$,s.memoizedState=je}}function iN(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function aN(s,c){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)iN(m[s],c)}var rd=z(null),D0=z(0);function oN(s,c){s=hs,ne(D0,s),ne(rd,c),hs=s|c.baseLanes}function bw(){ne(D0,hs),ne(rd,rd.current)}function yw(){hs=D0.current,V(rd),V(D0)}var Oi=z(null),la=null;function gl(s){var c=s.alternate;ne(On,On.current&1),ne(Oi,s),la===null&&(c===null||rd.current!==null||c.memoizedState!==null)&&(la=s)}function vw(s){ne(On,On.current),ne(Oi,s),la===null&&(la=s)}function sN(s){s.tag===22?(ne(On,On.current),ne(Oi,s),la===null&&(la=s)):bl()}function bl(){ne(On,On.current),ne(Oi,Oi.current)}function Ci(s){V(Oi),la===s&&(la=null),V(On)}var On=z(0);function P0(s){for(var c=s;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||E_(m)||T_(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var as=0,ft=null,Gt=null,Bn=null,R0=!1,id=!1,Lc=!1,L0=0,xh=0,ad=null,RH=0;function kn(){throw Error(r(321))}function xw(s,c){if(c===null)return!1;for(var m=0;m<c.length&&m<s.length;m++)if(!lr(s[m],c[m]))return!1;return!0}function ww(s,c,m,x,T,N){return as=N,ft=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Y.H=s===null||s.memoizedState===null?GN:Lw,Lc=!1,N=m(x,T),Lc=!1,id&&(N=cN(c,m,x,T)),lN(s),N}function lN(s){Y.H=Sh;var c=Gt!==null&&Gt.next!==null;if(as=0,Bn=Gt=ft=null,R0=!1,xh=0,ad=null,c)throw Error(r(300));s===null||zn||(s=s.dependencies,s!==null&&T0(s)&&(zn=!0))}function cN(s,c,m,x){ft=s;var T=0;do{if(id&&(ad=null),xh=0,id=!1,25<=T)throw Error(r(301));if(T+=1,Bn=Gt=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Y.H=YN,N=c(m,x)}while(id);return N}function LH(){var s=Y.H,c=s.useState()[0];return c=typeof c.then=="function"?wh(c):c,s=s.useState()[0],(Gt!==null?Gt.memoizedState:null)!==s&&(ft.flags|=1024),c}function _w(){var s=L0!==0;return L0=0,s}function Sw(s,c,m){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~m}function kw(s){if(R0){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}R0=!1}as=0,Bn=Gt=ft=null,id=!1,xh=L0=0,ad=null}function qr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?ft.memoizedState=Bn=s:Bn=Bn.next=s,Bn}function Cn(){if(Gt===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=Gt.next;var c=Bn===null?ft.memoizedState:Bn.next;if(c!==null)Bn=c,Gt=s;else{if(s===null)throw ft.alternate===null?Error(r(467)):Error(r(310));Gt=s,s={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Bn===null?ft.memoizedState=Bn=s:Bn=Bn.next=s}return Bn}function I0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wh(s){var c=xh;return xh+=1,ad===null&&(ad=[]),s=Qj(ad,s,c),c=ft,(Bn===null?c.memoizedState:Bn.next)===null&&(c=c.alternate,Y.H=c===null||c.memoizedState===null?GN:Lw),s}function $0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wh(s);if(s.$$typeof===A)return Sr(s)}throw Error(r(438,String(s)))}function Ew(s){var c=null,m=ft.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var x=ft.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(T){return T.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=I0(),ft.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(s),x=0;x<s;x++)m[x]=q;return c.index++,m}function os(s,c){return typeof c=="function"?c(s):c}function B0(s){var c=Cn();return Tw(c,Gt,s)}function Tw(s,c,m){var x=s.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=m;var T=s.baseQueue,N=x.pending;if(N!==null){if(T!==null){var $=T.next;T.next=N.next,N.next=$}c.baseQueue=T=N,x.pending=null}if(N=s.baseState,T===null)s.memoizedState=N;else{c=T.next;var G=$=null,te=null,me=c,ke=!1;do{var je=me.lane&-536870913;if(je!==me.lane?(_t&je)===je:(as&je)===je){var be=me.revertLane;if(be===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),je===Qu&&(ke=!0);else if((as&be)===be){me=me.next,be===Qu&&(ke=!0);continue}else je={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(G=te=je,$=N):te=te.next=je,ft.lanes|=be,xl|=be;je=me.action,Lc&&m(N,je),N=me.hasEagerState?me.eagerState:m(N,je)}else be={lane:je,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(G=te=be,$=N):te=te.next=be,ft.lanes|=je,xl|=je;me=me.next}while(me!==null&&me!==c);if(te===null?$=N:te.next=G,!lr(N,s.memoizedState)&&(zn=!0,ke&&(m=ed,m!==null)))throw m;s.memoizedState=N,s.baseState=$,s.baseQueue=te,x.lastRenderedState=N}return T===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function Aw(s){var c=Cn(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var x=m.dispatch,T=m.pending,N=c.memoizedState;if(T!==null){m.pending=null;var $=T=T.next;do N=s(N,$.action),$=$.next;while($!==T);lr(N,c.memoizedState)||(zn=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),m.lastRenderedState=N}return[N,x]}function uN(s,c,m){var x=ft,T=Cn(),N=yt;if(N){if(m===void 0)throw Error(r(407));m=m()}else m=c();var $=!lr((Gt||T).memoizedState,m);if($&&(T.memoizedState=m,zn=!0),T=T.queue,Ow(hN.bind(null,x,T,s),[s]),T.getSnapshot!==c||$||Bn!==null&&Bn.memoizedState.tag&1){if(x.flags|=2048,od(9,{destroy:void 0},fN.bind(null,x,T,m,c),null),Wt===null)throw Error(r(349));N||(as&127)!==0||dN(x,c,m)}return m}function dN(s,c,m){s.flags|=16384,s={getSnapshot:c,value:m},c=ft.updateQueue,c===null?(c=I0(),ft.updateQueue=c,c.stores=[s]):(m=c.stores,m===null?c.stores=[s]:m.push(s))}function fN(s,c,m,x){c.value=m,c.getSnapshot=x,mN(c)&&pN(s)}function hN(s,c,m){return m(function(){mN(c)&&pN(s)})}function mN(s){var c=s.getSnapshot;s=s.value;try{var m=c();return!lr(s,m)}catch{return!0}}function pN(s){var c=oa(s,2);c!==null&&mi(c,s,2)}function jw(s){var c=qr();if(typeof s=="function"){var m=s;if(s=m(),Lc){xr(!0);try{m()}finally{xr(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:s},c}function gN(s,c,m,x){return s.baseState=m,Tw(s,Gt,typeof x=="function"?x:os)}function IH(s,c,m,x,T){if(F0(s))throw Error(r(485));if(s=c.action,s!==null){var N={payload:T,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){N.listeners.push($)}};Y.T!==null?m(!0):N.isTransition=!1,x(N),m=c.pending,m===null?(N.next=c.pending=N,bN(c,N)):(N.next=m.next,c.pending=m.next=N)}}function bN(s,c){var m=c.action,x=c.payload,T=s.state;if(c.isTransition){var N=Y.T,$={};Y.T=$;try{var G=m(T,x),te=Y.S;te!==null&&te($,G),yN(s,c,G)}catch(me){Nw(s,c,me)}finally{N!==null&&$.types!==null&&(N.types=$.types),Y.T=N}}else try{N=m(T,x),yN(s,c,N)}catch(me){Nw(s,c,me)}}function yN(s,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){vN(s,c,x)},function(x){return Nw(s,c,x)}):vN(s,c,m)}function vN(s,c,m){c.status="fulfilled",c.value=m,xN(c),s.state=m,c=s.pending,c!==null&&(m=c.next,m===c?s.pending=null:(m=m.next,c.next=m,bN(s,m)))}function Nw(s,c,m){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=m,xN(c),c=c.next;while(c!==x)}s.action=null}function xN(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function wN(s,c){return c}function _N(s,c){if(yt){var m=Wt.formState;if(m!==null){e:{var x=ft;if(yt){if(jt){t:{for(var T=jt,N=ci;T.nodeType!==8;){if(!N){T=null;break t}if(T=ca(T.nextSibling),T===null){T=null;break t}}N=T.data,T=N==="F!"||N==="F"?T:null}if(T){jt=ca(T.nextSibling),x=T.data==="F!";break e}}wo(x)}x=!1}x&&(c=m[0])}}return m=qr(),m.memoizedState=m.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wN,lastRenderedState:c},m.queue=x,m=UN.bind(null,ft,x),x.dispatch=m,x=jw(!1),N=Rw.bind(null,ft,!1,x.queue),x=qr(),T={state:c,dispatch:null,action:s,pending:null},x.queue=T,m=IH.bind(null,ft,T,N,m),T.dispatch=m,x.memoizedState=s,[c,m,!1]}function SN(s){var c=Cn();return kN(c,Gt,s)}function kN(s,c,m){if(c=Tw(s,c,wN)[0],s=B0(os)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=wh(c)}catch($){throw $===td?N0:$}else x=c;c=Cn();var T=c.queue,N=T.dispatch;return m!==c.memoizedState&&(ft.flags|=2048,od(9,{destroy:void 0},$H.bind(null,T,m),null)),[x,N,s]}function $H(s,c){s.action=c}function EN(s){var c=Cn(),m=Gt;if(m!==null)return kN(c,m,s);Cn(),c=c.memoizedState,m=Cn();var x=m.queue.dispatch;return m.memoizedState=s,[c,x,!1]}function od(s,c,m,x){return s={tag:s,create:m,deps:x,inst:c,next:null},c=ft.updateQueue,c===null&&(c=I0(),ft.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=s.next=s:(x=m.next,m.next=s,s.next=x,c.lastEffect=s),s}function TN(){return Cn().memoizedState}function z0(s,c,m,x){var T=qr();ft.flags|=s,T.memoizedState=od(1|c,{destroy:void 0},m,x===void 0?null:x)}function U0(s,c,m,x){var T=Cn();x=x===void 0?null:x;var N=T.memoizedState.inst;Gt!==null&&x!==null&&xw(x,Gt.memoizedState.deps)?T.memoizedState=od(c,N,m,x):(ft.flags|=s,T.memoizedState=od(1|c,N,m,x))}function AN(s,c){z0(8390656,8,s,c)}function Ow(s,c){U0(2048,8,s,c)}function BH(s){ft.flags|=4;var c=ft.updateQueue;if(c===null)c=I0(),ft.updateQueue=c,c.events=[s];else{var m=c.events;m===null?c.events=[s]:m.push(s)}}function jN(s){var c=Cn().memoizedState;return BH({ref:c,nextImpl:s}),function(){if((Dt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function NN(s,c){return U0(4,2,s,c)}function ON(s,c){return U0(4,4,s,c)}function CN(s,c){if(typeof c=="function"){s=s();var m=c(s);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function MN(s,c,m){m=m!=null?m.concat([s]):null,U0(4,4,CN.bind(null,c,s),m)}function Cw(){}function DN(s,c){var m=Cn();c=c===void 0?null:c;var x=m.memoizedState;return c!==null&&xw(c,x[1])?x[0]:(m.memoizedState=[s,c],s)}function PN(s,c){var m=Cn();c=c===void 0?null:c;var x=m.memoizedState;if(c!==null&&xw(c,x[1]))return x[0];if(x=s(),Lc){xr(!0);try{s()}finally{xr(!1)}}return m.memoizedState=[x,c],x}function Mw(s,c,m){return m===void 0||(as&1073741824)!==0&&(_t&261930)===0?s.memoizedState=c:(s.memoizedState=m,s=RO(),ft.lanes|=s,xl|=s,m)}function RN(s,c,m,x){return lr(m,c)?m:rd.current!==null?(s=Mw(s,m,x),lr(s,c)||(zn=!0),s):(as&42)===0||(as&1073741824)!==0&&(_t&261930)===0?(zn=!0,s.memoizedState=m):(s=RO(),ft.lanes|=s,xl|=s,c)}function LN(s,c,m,x,T){var N=J.p;J.p=N!==0&&8>N?N:8;var $=Y.T,G={};Y.T=G,Rw(s,!1,c,m);try{var te=T(),me=Y.S;if(me!==null&&me(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var ke=PH(te,x);_h(s,c,ke,Pi(s))}else _h(s,c,x,Pi(s))}catch(je){_h(s,c,{then:function(){},status:"rejected",reason:je},Pi())}finally{J.p=N,$!==null&&G.types!==null&&($.types=G.types),Y.T=$}}function zH(){}function Dw(s,c,m,x){if(s.tag!==5)throw Error(r(476));var T=IN(s).queue;LN(s,T,c,Q,m===null?zH:function(){return $N(s),m(x)})}function IN(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:Q},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:m},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function $N(s){var c=IN(s);c.next===null&&(c=s.alternate.memoizedState),_h(s,c.next.queue,{},Pi())}function Pw(){return Sr(Bh)}function BN(){return Cn().memoizedState}function zN(){return Cn().memoizedState}function UH(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var m=Pi();s=ml(m);var x=pl(c,s,m);x!==null&&(mi(x,c,m),bh(x,c,m)),c={cache:cw()},s.payload=c;return}c=c.return}}function FH(s,c,m){var x=Pi();m={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},F0(s)?FN(c,m):(m=sh(s,c,m,x),m!==null&&(mi(m,s,x),HN(m,c,x)))}function UN(s,c,m){var x=Pi();_h(s,c,m,x)}function _h(s,c,m,x){var T={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(F0(s))FN(c,T);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var $=c.lastRenderedState,G=N($,m);if(T.hasEagerState=!0,T.eagerState=G,lr(G,$))return vo(s,c,T,0),Wt===null&&Tc(),!1}catch{}finally{}if(m=sh(s,c,T,x),m!==null)return mi(m,s,x),HN(m,c,x),!0}return!1}function Rw(s,c,m,x){if(x={lane:2,revertLane:h_(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},F0(s)){if(c)throw Error(r(479))}else c=sh(s,m,x,2),c!==null&&mi(c,s,2)}function F0(s){var c=s.alternate;return s===ft||c!==null&&c===ft}function FN(s,c){id=R0=!0;var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}function HN(s,c,m){if((m&4194048)!==0){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,Qp(s,m)}}var Sh={readContext:Sr,use:$0,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useInsertionEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useSyncExternalStore:kn,useId:kn,useHostTransitionStatus:kn,useFormState:kn,useActionState:kn,useOptimistic:kn,useMemoCache:kn,useCacheRefresh:kn};Sh.useEffectEvent=kn;var GN={readContext:Sr,use:$0,useCallback:function(s,c){return qr().memoizedState=[s,c===void 0?null:c],s},useContext:Sr,useEffect:AN,useImperativeHandle:function(s,c,m){m=m!=null?m.concat([s]):null,z0(4194308,4,CN.bind(null,c,s),m)},useLayoutEffect:function(s,c){return z0(4194308,4,s,c)},useInsertionEffect:function(s,c){z0(4,2,s,c)},useMemo:function(s,c){var m=qr();c=c===void 0?null:c;var x=s();if(Lc){xr(!0);try{s()}finally{xr(!1)}}return m.memoizedState=[x,c],x},useReducer:function(s,c,m){var x=qr();if(m!==void 0){var T=m(c);if(Lc){xr(!0);try{m(c)}finally{xr(!1)}}}else T=c;return x.memoizedState=x.baseState=T,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:T},x.queue=s,s=s.dispatch=FH.bind(null,ft,s),[x.memoizedState,s]},useRef:function(s){var c=qr();return s={current:s},c.memoizedState=s},useState:function(s){s=jw(s);var c=s.queue,m=UN.bind(null,ft,c);return c.dispatch=m,[s.memoizedState,m]},useDebugValue:Cw,useDeferredValue:function(s,c){var m=qr();return Mw(m,s,c)},useTransition:function(){var s=jw(!1);return s=LN.bind(null,ft,s.queue,!0,!1),qr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,m){var x=ft,T=qr();if(yt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),Wt===null)throw Error(r(349));(_t&127)!==0||dN(x,c,m)}T.memoizedState=m;var N={value:m,getSnapshot:c};return T.queue=N,AN(hN.bind(null,x,N,s),[s]),x.flags|=2048,od(9,{destroy:void 0},fN.bind(null,x,N,m,c),null),m},useId:function(){var s=qr(),c=Wt.identifierPrefix;if(yt){var m=$e,x=Ae;m=(x&~(1<<32-kt(x)-1)).toString(32)+m,c="_"+c+"R_"+m,m=L0++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=RH++,c="_"+c+"r_"+m.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:Pw,useFormState:_N,useActionState:_N,useOptimistic:function(s){var c=qr();c.memoizedState=c.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=Rw.bind(null,ft,!0,m),m.dispatch=c,[s,c]},useMemoCache:Ew,useCacheRefresh:function(){return qr().memoizedState=UH.bind(null,ft)},useEffectEvent:function(s){var c=qr(),m={impl:s};return c.memoizedState=m,function(){if((Dt&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},Lw={readContext:Sr,use:$0,useCallback:DN,useContext:Sr,useEffect:Ow,useImperativeHandle:MN,useInsertionEffect:NN,useLayoutEffect:ON,useMemo:PN,useReducer:B0,useRef:TN,useState:function(){return B0(os)},useDebugValue:Cw,useDeferredValue:function(s,c){var m=Cn();return RN(m,Gt.memoizedState,s,c)},useTransition:function(){var s=B0(os)[0],c=Cn().memoizedState;return[typeof s=="boolean"?s:wh(s),c]},useSyncExternalStore:uN,useId:BN,useHostTransitionStatus:Pw,useFormState:SN,useActionState:SN,useOptimistic:function(s,c){var m=Cn();return gN(m,Gt,s,c)},useMemoCache:Ew,useCacheRefresh:zN};Lw.useEffectEvent=jN;var YN={readContext:Sr,use:$0,useCallback:DN,useContext:Sr,useEffect:Ow,useImperativeHandle:MN,useInsertionEffect:NN,useLayoutEffect:ON,useMemo:PN,useReducer:Aw,useRef:TN,useState:function(){return Aw(os)},useDebugValue:Cw,useDeferredValue:function(s,c){var m=Cn();return Gt===null?Mw(m,s,c):RN(m,Gt.memoizedState,s,c)},useTransition:function(){var s=Aw(os)[0],c=Cn().memoizedState;return[typeof s=="boolean"?s:wh(s),c]},useSyncExternalStore:uN,useId:BN,useHostTransitionStatus:Pw,useFormState:EN,useActionState:EN,useOptimistic:function(s,c){var m=Cn();return Gt!==null?gN(m,Gt,s,c):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:Ew,useCacheRefresh:zN};YN.useEffectEvent=jN;function Iw(s,c,m,x){c=s.memoizedState,m=m(x,c),m=m==null?c:p({},c,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var $w={enqueueSetState:function(s,c,m){s=s._reactInternals;var x=Pi(),T=ml(x);T.payload=c,m!=null&&(T.callback=m),c=pl(s,T,x),c!==null&&(mi(c,s,x),bh(c,s,x))},enqueueReplaceState:function(s,c,m){s=s._reactInternals;var x=Pi(),T=ml(x);T.tag=1,T.payload=c,m!=null&&(T.callback=m),c=pl(s,T,x),c!==null&&(mi(c,s,x),bh(c,s,x))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var m=Pi(),x=ml(m);x.tag=2,c!=null&&(x.callback=c),c=pl(s,x,m),c!==null&&(mi(c,s,m),bh(c,s,m))}};function qN(s,c,m,x,T,N,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,N,$):c.prototype&&c.prototype.isPureReactComponent?!sl(m,x)||!sl(T,N):!0}function KN(s,c,m,x){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==s&&$w.enqueueReplaceState(c,c.state,null)}function Ic(s,c){var m=c;if("ref"in c){m={};for(var x in c)x!=="ref"&&(m[x]=c[x])}if(s=s.defaultProps){m===c&&(m=p({},m));for(var T in s)m[T]===void 0&&(m[T]=s[T])}return m}function WN(s){Ec(s)}function VN(s){console.error(s)}function ZN(s){Ec(s)}function H0(s,c){try{var m=s.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function XN(s,c,m){try{var x=s.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Bw(s,c,m){return m=ml(m),m.tag=3,m.payload={element:null},m.callback=function(){H0(s,c)},m}function JN(s){return s=ml(s),s.tag=3,s}function QN(s,c,m,x){var T=m.type.getDerivedStateFromError;if(typeof T=="function"){var N=x.value;s.payload=function(){return T(N)},s.callback=function(){XN(c,m,x)}}var $=m.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(s.callback=function(){XN(c,m,x),typeof T!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var G=x.stack;this.componentDidCatch(x.value,{componentStack:G!==null?G:""})})}function HH(s,c,m,x,T){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=m.alternate,c!==null&&Ju(c,m,T,!0),m=Oi.current,m!==null){switch(m.tag){case 31:case 13:return la===null?tg():m.alternate===null&&En===0&&(En=3),m.flags&=-257,m.flags|=65536,m.lanes=T,x===O0?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([x]):c.add(x),u_(s,x,T)),!1;case 22:return m.flags|=65536,x===O0?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([x]):m.add(x)),u_(s,x,T)),!1}throw Error(r(435,m.tag))}return u_(s,x,T),tg(),!1}if(yt)return c=Oi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=T,x!==Xu&&(s=Error(r(422),{cause:x}),Nc(v(s,m)))):(x!==Xu&&(c=Error(r(423),{cause:x}),Nc(v(c,m))),s=s.current.alternate,s.flags|=65536,T&=-T,s.lanes|=T,x=v(x,m),T=Bw(s.stateNode,x,T),pw(s,T),En!==4&&(En=2)),!1;var N=Error(r(520),{cause:x});if(N=v(N,m),Ch===null?Ch=[N]:Ch.push(N),En!==4&&(En=2),c===null)return!0;x=v(x,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,s=T&-T,m.lanes|=s,s=Bw(m.stateNode,x,s),pw(m,s),!1;case 1:if(c=m.type,N=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(wl===null||!wl.has(N))))return m.flags|=65536,T&=-T,m.lanes|=T,T=JN(T),QN(T,s,m,x),pw(m,T),!1}m=m.return}while(m!==null);return!1}var zw=Error(r(461)),zn=!1;function kr(s,c,m,x){c.child=s===null?rN(c,null,m,x):Rc(c,s.child,m,x)}function eO(s,c,m,x,T){m=m.render;var N=c.ref;if("ref"in x){var $={};for(var G in x)G!=="ref"&&($[G]=x[G])}else $=x;return Cc(c),x=ww(s,c,m,$,N,T),G=_w(),s!==null&&!zn?(Sw(s,c,T),ss(s,c,T)):(yt&&G&&Zn(c),c.flags|=1,kr(s,c,x,T),c.child)}function tO(s,c,m,x,T){if(s===null){var N=m.type;return typeof N=="function"&&!Vu(N)&&N.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=N,nO(s,c,N,x,T)):(s=jc(m.type,null,x,c,c.mode,T),s.ref=c.ref,s.return=c,c.child=s)}if(N=s.child,!Ww(s,T)){var $=N.memoizedProps;if(m=m.compare,m=m!==null?m:sl,m($,x)&&s.ref===c.ref)return ss(s,c,T)}return c.flags|=1,s=sa(N,x),s.ref=c.ref,s.return=c,c.child=s}function nO(s,c,m,x,T){if(s!==null){var N=s.memoizedProps;if(sl(N,x)&&s.ref===c.ref)if(zn=!1,c.pendingProps=x=N,Ww(s,T))(s.flags&131072)!==0&&(zn=!0);else return c.lanes=s.lanes,ss(s,c,T)}return Uw(s,c,m,x,T)}function rO(s,c,m,x){var T=x.children,N=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((c.flags&128)!==0){if(N=N!==null?N.baseLanes|m:m,s!==null){for(x=c.child=s.child,T=0;x!==null;)T=T|x.lanes|x.childLanes,x=x.sibling;x=T&~N}else x=0,c.child=null;return iO(s,c,N,m,x)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&j0(c,N!==null?N.cachePool:null),N!==null?oN(c,N):bw(),sN(c);else return x=c.lanes=536870912,iO(s,c,N!==null?N.baseLanes|m:m,m,x)}else N!==null?(j0(c,N.cachePool),oN(c,N),bl(),c.memoizedState=null):(s!==null&&j0(c,null),bw(),bl());return kr(s,c,T,m),c.child}function kh(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function iO(s,c,m,x,T){var N=dw();return N=N===null?null:{parent:$n._currentValue,pool:N},c.memoizedState={baseLanes:m,cachePool:N},s!==null&&j0(c,null),bw(),sN(c),s!==null&&Ju(s,c,x,!0),c.childLanes=T,null}function G0(s,c){return c=q0({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function aO(s,c,m){return Rc(c,s.child,null,m),s=G0(c,c.pendingProps),s.flags|=2,Ci(c),c.memoizedState=null,s}function GH(s,c,m){var x=c.pendingProps,T=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(yt){if(x.mode==="hidden")return s=G0(c,x),c.lanes=536870912,kh(null,s);if(vw(c),(s=jt)?(s=bC(s,ci),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:$e}:null,retryLane:536870912,hydrationErrors:null},m=ch(s),m.return=c,c.child=m,At=c,jt=null)):s=null,s===null)throw wo(c);return c.lanes=536870912,null}return G0(c,x)}var N=s.memoizedState;if(N!==null){var $=N.dehydrated;if(vw(c),T)if(c.flags&256)c.flags&=-257,c=aO(s,c,m);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(zn||Ju(s,c,m,!1),T=(m&s.childLanes)!==0,zn||T){if(x=Wt,x!==null&&($=e0(x,m),$!==0&&$!==N.retryLane))throw N.retryLane=$,oa(s,$),mi(x,s,$),zw;tg(),c=aO(s,c,m)}else s=N.treeContext,jt=ca($.nextSibling),At=c,yt=!0,xo=null,ci=!1,s!==null&&Yr(c,s),c=G0(c,x),c.flags|=4096;return c}return s=sa(s.child,{mode:x.mode,children:x.children}),s.ref=c.ref,c.child=s,s.return=c,s}function Y0(s,c){var m=c.ref;if(m===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(c.flags|=4194816)}}function Uw(s,c,m,x,T){return Cc(c),m=ww(s,c,m,x,void 0,T),x=_w(),s!==null&&!zn?(Sw(s,c,T),ss(s,c,T)):(yt&&x&&Zn(c),c.flags|=1,kr(s,c,m,T),c.child)}function oO(s,c,m,x,T,N){return Cc(c),c.updateQueue=null,m=cN(c,x,m,T),lN(s),x=_w(),s!==null&&!zn?(Sw(s,c,N),ss(s,c,N)):(yt&&x&&Zn(c),c.flags|=1,kr(s,c,m,N),c.child)}function sO(s,c,m,x,T){if(Cc(c),c.stateNode===null){var N=ts,$=m.contextType;typeof $=="object"&&$!==null&&(N=Sr($)),N=new m(x,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=$w,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=x,N.state=c.memoizedState,N.refs={},hw(c),$=m.contextType,N.context=typeof $=="object"&&$!==null?Sr($):ts,N.state=c.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(Iw(c,m,$,x),N.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||($=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),$!==N.state&&$w.enqueueReplaceState(N,N.state,null),vh(c,x,N,T),yh(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(s===null){N=c.stateNode;var G=c.memoizedProps,te=Ic(m,G);N.props=te;var me=N.context,ke=m.contextType;$=ts,typeof ke=="object"&&ke!==null&&($=Sr(ke));var je=m.getDerivedStateFromProps;ke=typeof je=="function"||typeof N.getSnapshotBeforeUpdate=="function",G=c.pendingProps!==G,ke||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(G||me!==$)&&KN(c,N,x,$),hl=!1;var be=c.memoizedState;N.state=be,vh(c,x,N,T),yh(),me=c.memoizedState,G||be!==me||hl?(typeof je=="function"&&(Iw(c,m,je,x),me=c.memoizedState),(te=hl||qN(c,m,te,x,be,me,$))?(ke||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=me),N.props=x,N.state=me,N.context=$,x=te):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{N=c.stateNode,mw(s,c),$=c.memoizedProps,ke=Ic(m,$),N.props=ke,je=c.pendingProps,be=N.context,me=m.contextType,te=ts,typeof me=="object"&&me!==null&&(te=Sr(me)),G=m.getDerivedStateFromProps,(me=typeof G=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||($!==je||be!==te)&&KN(c,N,x,te),hl=!1,be=c.memoizedState,N.state=be,vh(c,x,N,T),yh();var ve=c.memoizedState;$!==je||be!==ve||hl||s!==null&&s.dependencies!==null&&T0(s.dependencies)?(typeof G=="function"&&(Iw(c,m,G,x),ve=c.memoizedState),(ke=hl||qN(c,m,ke,x,be,ve,te)||s!==null&&s.dependencies!==null&&T0(s.dependencies))?(me||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(x,ve,te),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(x,ve,te)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||$===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=ve),N.props=x,N.state=ve,N.context=te,x=ke):(typeof N.componentDidUpdate!="function"||$===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),x=!1)}return N=x,Y0(s,c),x=(c.flags&128)!==0,N||x?(N=c.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,s!==null&&x?(c.child=Rc(c,s.child,null,T),c.child=Rc(c,null,m,T)):kr(s,c,m,T),c.memoizedState=N.state,s=c.child):s=ss(s,c,T),s}function lO(s,c,m,x){return rs(),c.flags|=256,kr(s,c,m,x),c.child}var Fw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hw(s){return{baseLanes:s,cachePool:Xj()}}function Gw(s,c,m){return s=s!==null?s.childLanes&~m:0,c&&(s|=Di),s}function cO(s,c,m){var x=c.pendingProps,T=!1,N=(c.flags&128)!==0,$;if(($=N)||($=s!==null&&s.memoizedState===null?!1:(On.current&2)!==0),$&&(T=!0,c.flags&=-129),$=(c.flags&32)!==0,c.flags&=-33,s===null){if(yt){if(T?gl(c):bl(),(s=jt)?(s=bC(s,ci),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:$e}:null,retryLane:536870912,hydrationErrors:null},m=ch(s),m.return=c,c.child=m,At=c,jt=null)):s=null,s===null)throw wo(c);return T_(s)?c.lanes=32:c.lanes=536870912,null}var G=x.children;return x=x.fallback,T?(bl(),T=c.mode,G=q0({mode:"hidden",children:G},T),x=ns(x,T,m,null),G.return=c,x.return=c,G.sibling=x,c.child=G,x=c.child,x.memoizedState=Hw(m),x.childLanes=Gw(s,$,m),c.memoizedState=Fw,kh(null,x)):(gl(c),Yw(c,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(N)c.flags&256?(gl(c),c.flags&=-257,c=qw(s,c,m)):c.memoizedState!==null?(bl(),c.child=s.child,c.flags|=128,c=null):(bl(),G=x.fallback,T=c.mode,x=q0({mode:"visible",children:x.children},T),G=ns(G,T,m,null),G.flags|=2,x.return=c,G.return=c,x.sibling=G,c.child=x,Rc(c,s.child,null,m),x=c.child,x.memoizedState=Hw(m),x.childLanes=Gw(s,$,m),c.memoizedState=Fw,c=kh(null,x));else if(gl(c),T_(G)){if($=G.nextSibling&&G.nextSibling.dataset,$)var me=$.dgst;$=me,x=Error(r(419)),x.stack="",x.digest=$,Nc({value:x,source:null,stack:null}),c=qw(s,c,m)}else if(zn||Ju(s,c,m,!1),$=(m&s.childLanes)!==0,zn||$){if($=Wt,$!==null&&(x=e0($,m),x!==0&&x!==te.retryLane))throw te.retryLane=x,oa(s,x),mi($,s,x),zw;E_(G)||tg(),c=qw(s,c,m)}else E_(G)?(c.flags|=192,c.child=s.child,c=null):(s=te.treeContext,jt=ca(G.nextSibling),At=c,yt=!0,xo=null,ci=!1,s!==null&&Yr(c,s),c=Yw(c,x.children),c.flags|=4096);return c}return T?(bl(),G=x.fallback,T=c.mode,te=s.child,me=te.sibling,x=sa(te,{mode:"hidden",children:x.children}),x.subtreeFlags=te.subtreeFlags&65011712,me!==null?G=sa(me,G):(G=ns(G,T,m,null),G.flags|=2),G.return=c,x.return=c,x.sibling=G,c.child=x,kh(null,x),x=c.child,G=s.child.memoizedState,G===null?G=Hw(m):(T=G.cachePool,T!==null?(te=$n._currentValue,T=T.parent!==te?{parent:te,pool:te}:T):T=Xj(),G={baseLanes:G.baseLanes|m,cachePool:T}),x.memoizedState=G,x.childLanes=Gw(s,$,m),c.memoizedState=Fw,kh(s.child,x)):(gl(c),m=s.child,s=m.sibling,m=sa(m,{mode:"visible",children:x.children}),m.return=c,m.sibling=null,s!==null&&($=c.deletions,$===null?(c.deletions=[s],c.flags|=16):$.push(s)),c.child=m,c.memoizedState=null,m)}function Yw(s,c){return c=q0({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function q0(s,c){return s=Lr(22,s,null,c),s.lanes=0,s}function qw(s,c,m){return Rc(c,s.child,null,m),s=Yw(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function uO(s,c,m){s.lanes|=c;var x=s.alternate;x!==null&&(x.lanes|=c),sw(s.return,c,m)}function Kw(s,c,m,x,T,N){var $=s.memoizedState;$===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:T,treeForkCount:N}:($.isBackwards=c,$.rendering=null,$.renderingStartTime=0,$.last=x,$.tail=m,$.tailMode=T,$.treeForkCount=N)}function dO(s,c,m){var x=c.pendingProps,T=x.revealOrder,N=x.tail;x=x.children;var $=On.current,G=($&2)!==0;if(G?($=$&1|2,c.flags|=128):$&=1,ne(On,$),kr(s,c,x,m),x=yt?F:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&uO(s,m,c);else if(s.tag===19)uO(s,m,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(T){case"forwards":for(m=c.child,T=null;m!==null;)s=m.alternate,s!==null&&P0(s)===null&&(T=m),m=m.sibling;m=T,m===null?(T=c.child,c.child=null):(T=m.sibling,m.sibling=null),Kw(c,!1,T,m,N,x);break;case"backwards":case"unstable_legacy-backwards":for(m=null,T=c.child,c.child=null;T!==null;){if(s=T.alternate,s!==null&&P0(s)===null){c.child=T;break}s=T.sibling,T.sibling=m,m=T,T=s}Kw(c,!0,m,null,N,x);break;case"together":Kw(c,!1,null,null,void 0,x);break;default:c.memoizedState=null}return c.child}function ss(s,c,m){if(s!==null&&(c.dependencies=s.dependencies),xl|=c.lanes,(m&c.childLanes)===0)if(s!==null){if(Ju(s,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,m=sa(s,s.pendingProps),c.child=m,m.return=c;s.sibling!==null;)s=s.sibling,m=m.sibling=sa(s,s.pendingProps),m.return=c;m.sibling=null}return c.child}function Ww(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&T0(s)))}function YH(s,c,m){switch(c.tag){case 3:Oe(c,c.stateNode.containerInfo),fl(c,$n,s.memoizedState.cache),rs();break;case 27:case 5:Te(c);break;case 4:Oe(c,c.stateNode.containerInfo);break;case 10:fl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,vw(c),null;break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(gl(c),c.flags|=128,null):(m&c.child.childLanes)!==0?cO(s,c,m):(gl(c),s=ss(s,c,m),s!==null?s.sibling:null);gl(c);break;case 19:var T=(s.flags&128)!==0;if(x=(m&c.childLanes)!==0,x||(Ju(s,c,m,!1),x=(m&c.childLanes)!==0),T){if(x)return dO(s,c,m);c.flags|=128}if(T=c.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ne(On,On.current),x)break;return null;case 22:return c.lanes=0,rO(s,c,m,c.pendingProps);case 24:fl(c,$n,s.memoizedState.cache)}return ss(s,c,m)}function fO(s,c,m){if(s!==null)if(s.memoizedProps!==c.pendingProps)zn=!0;else{if(!Ww(s,m)&&(c.flags&128)===0)return zn=!1,YH(s,c,m);zn=(s.flags&131072)!==0}else zn=!1,yt&&(c.flags&1048576)!==0&&mt(c,F,c.index);switch(c.lanes=0,c.tag){case 16:e:{var x=c.pendingProps;if(s=Dc(c.elementType),c.type=s,typeof s=="function")Vu(s)?(x=Ic(s,x),c.tag=1,c=sO(null,c,s,x,m)):(c.tag=0,c=Uw(null,c,s,x,m));else{if(s!=null){var T=s.$$typeof;if(T===C){c.tag=11,c=eO(null,c,s,x,m);break e}else if(T===I){c.tag=14,c=tO(null,c,s,x,m);break e}}throw c=X(s)||s,Error(r(306,c,""))}}return c;case 0:return Uw(s,c,c.type,c.pendingProps,m);case 1:return x=c.type,T=Ic(x,c.pendingProps),sO(s,c,x,T,m);case 3:e:{if(Oe(c,c.stateNode.containerInfo),s===null)throw Error(r(387));x=c.pendingProps;var N=c.memoizedState;T=N.element,mw(s,c),vh(c,x,null,m);var $=c.memoizedState;if(x=$.cache,fl(c,$n,x),x!==N.cache&&lw(c,[$n],m,!0),yh(),x=$.element,N.isDehydrated)if(N={element:x,isDehydrated:!1,cache:$.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=lO(s,c,x,m);break e}else if(x!==T){T=v(Error(r(424)),c),Nc(T),c=lO(s,c,x,m);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(jt=ca(s.firstChild),At=c,yt=!0,xo=null,ci=!0,m=rN(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(rs(),x===T){c=ss(s,c,m);break e}kr(s,c,x,m)}c=c.child}return c;case 26:return Y0(s,c),s===null?(m=SC(c.type,null,c.pendingProps,null))?c.memoizedState=m:yt||(m=c.type,s=c.pendingProps,x=lg(pe.current).createElement(m),x[Ln]=c,x[sr]=s,Er(x,m,s),In(x),c.stateNode=x):c.memoizedState=SC(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return Te(c),s===null&&yt&&(x=c.stateNode=xC(c.type,c.pendingProps,pe.current),At=c,ci=!0,T=jt,El(c.type)?(A_=T,jt=ca(x.firstChild)):jt=T),kr(s,c,c.pendingProps.children,m),Y0(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&yt&&((T=x=jt)&&(x=wG(x,c.type,c.pendingProps,ci),x!==null?(c.stateNode=x,At=c,jt=ca(x.firstChild),ci=!1,T=!0):T=!1),T||wo(c)),Te(c),T=c.type,N=c.pendingProps,$=s!==null?s.memoizedProps:null,x=N.children,__(T,N)?x=null:$!==null&&__(T,$)&&(c.flags|=32),c.memoizedState!==null&&(T=ww(s,c,LH,null,null,m),Bh._currentValue=T),Y0(s,c),kr(s,c,x,m),c.child;case 6:return s===null&&yt&&((s=m=jt)&&(m=_G(m,c.pendingProps,ci),m!==null?(c.stateNode=m,At=c,jt=null,s=!0):s=!1),s||wo(c)),null;case 13:return cO(s,c,m);case 4:return Oe(c,c.stateNode.containerInfo),x=c.pendingProps,s===null?c.child=Rc(c,null,x,m):kr(s,c,x,m),c.child;case 11:return eO(s,c,c.type,c.pendingProps,m);case 7:return kr(s,c,c.pendingProps,m),c.child;case 8:return kr(s,c,c.pendingProps.children,m),c.child;case 12:return kr(s,c,c.pendingProps.children,m),c.child;case 10:return x=c.pendingProps,fl(c,c.type,x.value),kr(s,c,x.children,m),c.child;case 9:return T=c.type._context,x=c.pendingProps.children,Cc(c),T=Sr(T),x=x(T),c.flags|=1,kr(s,c,x,m),c.child;case 14:return tO(s,c,c.type,c.pendingProps,m);case 15:return nO(s,c,c.type,c.pendingProps,m);case 19:return dO(s,c,m);case 31:return GH(s,c,m);case 22:return rO(s,c,m,c.pendingProps);case 24:return Cc(c),x=Sr($n),s===null?(T=dw(),T===null&&(T=Wt,N=cw(),T.pooledCache=N,N.refCount++,N!==null&&(T.pooledCacheLanes|=m),T=N),c.memoizedState={parent:x,cache:T},hw(c),fl(c,$n,T)):((s.lanes&m)!==0&&(mw(s,c),vh(c,null,null,m),yh()),T=s.memoizedState,N=c.memoizedState,T.parent!==x?(T={parent:x,cache:x},c.memoizedState=T,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=T),fl(c,$n,x)):(x=N.cache,fl(c,$n,x),x!==T.cache&&lw(c,[$n],m,!0))),kr(s,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function ls(s){s.flags|=4}function Vw(s,c,m,x,T){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(T&335544128)===T)if(s.stateNode.complete)s.flags|=8192;else if(BO())s.flags|=8192;else throw Pc=O0,fw}else s.flags&=-16777217}function hO(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!jC(c))if(BO())s.flags|=8192;else throw Pc=O0,fw}function K0(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?Xp():536870912,s.lanes|=c,ud|=c)}function Eh(s,c){if(!yt)switch(s.tailMode){case"hidden":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function tn(s){var c=s.alternate!==null&&s.alternate.child===s.child,m=0,x=0;if(c)for(var T=s.child;T!==null;)m|=T.lanes|T.childLanes,x|=T.subtreeFlags&65011712,x|=T.flags&65011712,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)m|=T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=x,s.childLanes=m,c}function qH(s,c,m){var x=c.pendingProps;switch(Sn(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(c),null;case 1:return tn(c),null;case 3:return m=c.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),is($n),ie(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&($a(c)?ls(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,fh())),tn(c),null;case 26:var T=c.type,N=c.memoizedState;return s===null?(ls(c),N!==null?(tn(c),hO(c,N)):(tn(c),Vw(c,T,null,x,m))):N?N!==s.memoizedState?(ls(c),tn(c),hO(c,N)):(tn(c),c.flags&=-16777217):(s=s.memoizedProps,s!==x&&ls(c),tn(c),Vw(c,T,s,x,m)),null;case 27:if(xe(c),m=pe.current,T=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&ls(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return tn(c),null}s=oe.current,$a(c)?dh(c):(s=xC(T,x,m),c.stateNode=s,ls(c))}return tn(c),null;case 5:if(xe(c),T=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&ls(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return tn(c),null}if(N=oe.current,$a(c))dh(c);else{var $=lg(pe.current);switch(N){case 1:N=$.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:N=$.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":N=$.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":N=$.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":N=$.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof x.is=="string"?$.createElement("select",{is:x.is}):$.createElement("select"),x.multiple?N.multiple=!0:x.size&&(N.size=x.size);break;default:N=typeof x.is=="string"?$.createElement(T,{is:x.is}):$.createElement(T)}}N[Ln]=c,N[sr]=x;e:for($=c.child;$!==null;){if($.tag===5||$.tag===6)N.appendChild($.stateNode);else if($.tag!==4&&$.tag!==27&&$.child!==null){$.child.return=$,$=$.child;continue}if($===c)break e;for(;$.sibling===null;){if($.return===null||$.return===c)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}c.stateNode=N;e:switch(Er(N,T,x),T){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&ls(c)}}return tn(c),Vw(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,m),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==x&&ls(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(s=pe.current,$a(c)){if(s=c.stateNode,m=c.memoizedProps,x=null,T=At,T!==null)switch(T.tag){case 27:case 5:x=T.memoizedProps}s[Ln]=c,s=!!(s.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||cC(s.nodeValue,m)),s||wo(c,!0)}else s=lg(s).createTextNode(x),s[Ln]=c,c.stateNode=s}return tn(c),null;case 31:if(m=c.memoizedState,s===null||s.memoizedState!==null){if(x=$a(c),m!==null){if(s===null){if(!x)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Ln]=c}else rs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;tn(c),s=!1}else m=fh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return c.flags&256?(Ci(c),c):(Ci(c),null);if((c.flags&128)!==0)throw Error(r(558))}return tn(c),null;case 13:if(x=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(T=$a(c),x!==null&&x.dehydrated!==null){if(s===null){if(!T)throw Error(r(318));if(T=c.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Ln]=c}else rs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;tn(c),T=!1}else T=fh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=T),T=!0;if(!T)return c.flags&256?(Ci(c),c):(Ci(c),null)}return Ci(c),(c.flags&128)!==0?(c.lanes=m,c):(m=x!==null,s=s!==null&&s.memoizedState!==null,m&&(x=c.child,T=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(T=x.alternate.memoizedState.cachePool.pool),N=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(N=x.memoizedState.cachePool.pool),N!==T&&(x.flags|=2048)),m!==s&&m&&(c.child.flags|=8192),K0(c,c.updateQueue),tn(c),null);case 4:return ie(),s===null&&b_(c.stateNode.containerInfo),tn(c),null;case 10:return is(c.type),tn(c),null;case 19:if(V(On),x=c.memoizedState,x===null)return tn(c),null;if(T=(c.flags&128)!==0,N=x.rendering,N===null)if(T)Eh(x,!1);else{if(En!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(N=P0(s),N!==null){for(c.flags|=128,Eh(x,!1),s=N.updateQueue,c.updateQueue=s,K0(c,s),c.subtreeFlags=0,s=m,m=c.child;m!==null;)lh(m,s),m=m.sibling;return ne(On,On.current&1|2),yt&&Ve(c,x.treeForkCount),c.child}s=s.sibling}x.tail!==null&&_e()>J0&&(c.flags|=128,T=!0,Eh(x,!1),c.lanes=4194304)}else{if(!T)if(s=P0(N),s!==null){if(c.flags|=128,T=!0,s=s.updateQueue,c.updateQueue=s,K0(c,s),Eh(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!yt)return tn(c),null}else 2*_e()-x.renderingStartTime>J0&&m!==536870912&&(c.flags|=128,T=!0,Eh(x,!1),c.lanes=4194304);x.isBackwards?(N.sibling=c.child,c.child=N):(s=x.last,s!==null?s.sibling=N:c.child=N,x.last=N)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=_e(),s.sibling=null,m=On.current,ne(On,T?m&1|2:m&1),yt&&Ve(c,x.treeForkCount),s):(tn(c),null);case 22:case 23:return Ci(c),yw(),x=c.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(m&536870912)!==0&&(c.flags&128)===0&&(tn(c),c.subtreeFlags&6&&(c.flags|=8192)):tn(c),m=c.updateQueue,m!==null&&K0(c,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==m&&(c.flags|=2048),s!==null&&V(Mc),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),is($n),tn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function KH(s,c){switch(Sn(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return is($n),ie(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return xe(c),null;case 31:if(c.memoizedState!==null){if(Ci(c),c.alternate===null)throw Error(r(340));rs()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Ci(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));rs()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return V(On),null;case 4:return ie(),null;case 10:return is(c.type),null;case 22:case 23:return Ci(c),yw(),s!==null&&V(Mc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return is($n),null;case 25:return null;default:return null}}function mO(s,c){switch(Sn(c),c.tag){case 3:is($n),ie();break;case 26:case 27:case 5:xe(c);break;case 4:ie();break;case 31:c.memoizedState!==null&&Ci(c);break;case 13:Ci(c);break;case 19:V(On);break;case 10:is(c.type);break;case 22:case 23:Ci(c),yw(),s!==null&&V(Mc);break;case 24:is($n)}}function Th(s,c){try{var m=c.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var T=x.next;m=T;do{if((m.tag&s)===s){x=void 0;var N=m.create,$=m.inst;x=N(),$.destroy=x}m=m.next}while(m!==T)}}catch(G){Ut(c,c.return,G)}}function yl(s,c,m){try{var x=c.updateQueue,T=x!==null?x.lastEffect:null;if(T!==null){var N=T.next;x=N;do{if((x.tag&s)===s){var $=x.inst,G=$.destroy;if(G!==void 0){$.destroy=void 0,T=c;var te=m,me=G;try{me()}catch(ke){Ut(T,te,ke)}}}x=x.next}while(x!==N)}}catch(ke){Ut(c,c.return,ke)}}function pO(s){var c=s.updateQueue;if(c!==null){var m=s.stateNode;try{aN(c,m)}catch(x){Ut(s,s.return,x)}}}function gO(s,c,m){m.props=Ic(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(x){Ut(s,c,x)}}function Ah(s,c){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof m=="function"?s.refCleanup=m(x):m.current=x}}catch(T){Ut(s,c,T)}}function So(s,c){var m=s.ref,x=s.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(T){Ut(s,c,T)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(T){Ut(s,c,T)}else m.current=null}function bO(s){var c=s.type,m=s.memoizedProps,x=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(T){Ut(s,s.return,T)}}function Zw(s,c,m){try{var x=s.stateNode;pG(x,s.type,m,c),x[sr]=c}catch(T){Ut(s,s.return,T)}}function yO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&El(s.type)||s.tag===4}function Xw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||yO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&El(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Jw(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(s),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=ai));else if(x!==4&&(x===27&&El(s.type)&&(m=s.stateNode,c=null),s=s.child,s!==null))for(Jw(s,c,m),s=s.sibling;s!==null;)Jw(s,c,m),s=s.sibling}function W0(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?m.insertBefore(s,c):m.appendChild(s);else if(x!==4&&(x===27&&El(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(W0(s,c,m),s=s.sibling;s!==null;)W0(s,c,m),s=s.sibling}function vO(s){var c=s.stateNode,m=s.memoizedProps;try{for(var x=s.type,T=c.attributes;T.length;)c.removeAttributeNode(T[0]);Er(c,x,m),c[Ln]=s,c[sr]=m}catch(N){Ut(s,s.return,N)}}var cs=!1,Un=!1,Qw=!1,xO=typeof WeakSet=="function"?WeakSet:Set,ur=null;function WH(s,c){if(s=s.containerInfo,x_=pg,s=wc(s),po(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var T=x.anchorOffset,N=x.focusNode;x=x.focusOffset;try{m.nodeType,N.nodeType}catch{m=null;break e}var $=0,G=-1,te=-1,me=0,ke=0,je=s,be=null;t:for(;;){for(var ve;je!==m||T!==0&&je.nodeType!==3||(G=$+T),je!==N||x!==0&&je.nodeType!==3||(te=$+x),je.nodeType===3&&($+=je.nodeValue.length),(ve=je.firstChild)!==null;)be=je,je=ve;for(;;){if(je===s)break t;if(be===m&&++me===T&&(G=$),be===N&&++ke===x&&(te=$),(ve=je.nextSibling)!==null)break;je=be,be=je.parentNode}je=ve}m=G===-1||te===-1?null:{start:G,end:te}}else m=null}m=m||{start:0,end:0}}else m=null;for(w_={focusedElem:s,selectionRange:m},pg=!1,ur=c;ur!==null;)if(c=ur,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,ur=s;else for(;ur!==null;){switch(c=ur,N=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)T=s[m],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,m=c,T=N.memoizedProps,N=N.memoizedState,x=m.stateNode;try{var He=Ic(m.type,T);s=x.getSnapshotBeforeUpdate(He,N),x.__reactInternalSnapshotBeforeUpdate=s}catch(at){Ut(m,m.return,at)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,m=s.nodeType,m===9)k_(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":k_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,ur=s;break}ur=c.return}}function wO(s,c,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:ds(s,m),x&4&&Th(5,m);break;case 1:if(ds(s,m),x&4)if(s=m.stateNode,c===null)try{s.componentDidMount()}catch($){Ut(m,m.return,$)}else{var T=Ic(m.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(T,c,s.__reactInternalSnapshotBeforeUpdate)}catch($){Ut(m,m.return,$)}}x&64&&pO(m),x&512&&Ah(m,m.return);break;case 3:if(ds(s,m),x&64&&(s=m.updateQueue,s!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{aN(s,c)}catch($){Ut(m,m.return,$)}}break;case 27:c===null&&x&4&&vO(m);case 26:case 5:ds(s,m),c===null&&x&4&&bO(m),x&512&&Ah(m,m.return);break;case 12:ds(s,m);break;case 31:ds(s,m),x&4&&kO(s,m);break;case 13:ds(s,m),x&4&&EO(s,m),x&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=rG.bind(null,m),SG(s,m))));break;case 22:if(x=m.memoizedState!==null||cs,!x){c=c!==null&&c.memoizedState!==null||Un,T=cs;var N=Un;cs=x,(Un=c)&&!N?fs(s,m,(m.subtreeFlags&8772)!==0):ds(s,m),cs=T,Un=N}break;case 30:break;default:ds(s,m)}}function _O(s){var c=s.alternate;c!==null&&(s.alternate=null,_O(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Gf(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ln=null,ui=!1;function us(s,c,m){for(m=m.child;m!==null;)SO(s,c,m),m=m.sibling}function SO(s,c,m){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(or,m)}catch{}switch(m.tag){case 26:Un||So(m,c),us(s,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Un||So(m,c);var x=ln,T=ui;El(m.type)&&(ln=m.stateNode,ui=!1),us(s,c,m),Lh(m.stateNode),ln=x,ui=T;break;case 5:Un||So(m,c);case 6:if(x=ln,T=ui,ln=null,us(s,c,m),ln=x,ui=T,ln!==null)if(ui)try{(ln.nodeType===9?ln.body:ln.nodeName==="HTML"?ln.ownerDocument.body:ln).removeChild(m.stateNode)}catch(N){Ut(m,c,N)}else try{ln.removeChild(m.stateNode)}catch(N){Ut(m,c,N)}break;case 18:ln!==null&&(ui?(s=ln,pC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),yd(s)):pC(ln,m.stateNode));break;case 4:x=ln,T=ui,ln=m.stateNode.containerInfo,ui=!0,us(s,c,m),ln=x,ui=T;break;case 0:case 11:case 14:case 15:yl(2,m,c),Un||yl(4,m,c),us(s,c,m);break;case 1:Un||(So(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"&&gO(m,c,x)),us(s,c,m);break;case 21:us(s,c,m);break;case 22:Un=(x=Un)||m.memoizedState!==null,us(s,c,m),Un=x;break;default:us(s,c,m)}}function kO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{yd(s)}catch(m){Ut(c,c.return,m)}}}function EO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{yd(s)}catch(m){Ut(c,c.return,m)}}function VH(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new xO),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new xO),c;default:throw Error(r(435,s.tag))}}function V0(s,c){var m=VH(s);c.forEach(function(x){if(!m.has(x)){m.add(x);var T=iG.bind(null,s,x);x.then(T,T)}})}function di(s,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var T=m[x],N=s,$=c,G=$;e:for(;G!==null;){switch(G.tag){case 27:if(El(G.type)){ln=G.stateNode,ui=!1;break e}break;case 5:ln=G.stateNode,ui=!1;break e;case 3:case 4:ln=G.stateNode.containerInfo,ui=!0;break e}G=G.return}if(ln===null)throw Error(r(160));SO(N,$,T),ln=null,ui=!1,N=T.alternate,N!==null&&(N.return=null),T.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)TO(c,s),c=c.sibling}var za=null;function TO(s,c){var m=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:di(c,s),fi(s),x&4&&(yl(3,s,s.return),Th(3,s),yl(5,s,s.return));break;case 1:di(c,s),fi(s),x&512&&(Un||m===null||So(m,m.return)),x&64&&cs&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var T=za;if(di(c,s),fi(s),x&512&&(Un||m===null||So(m,m.return)),x&4){var N=m!==null?m.memoizedState:null;if(x=s.memoizedState,m===null)if(x===null)if(s.stateNode===null){e:{x=s.type,m=s.memoizedProps,T=T.ownerDocument||T;t:switch(x){case"title":N=T.getElementsByTagName("title")[0],(!N||N[ac]||N[Ln]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=T.createElement(x),T.head.insertBefore(N,T.querySelector("head > title"))),Er(N,x,m),N[Ln]=s,In(N),x=N;break e;case"link":var $=TC("link","href",T).get(x+(m.href||""));if($){for(var G=0;G<$.length;G++)if(N=$[G],N.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&N.getAttribute("rel")===(m.rel==null?null:m.rel)&&N.getAttribute("title")===(m.title==null?null:m.title)&&N.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){$.splice(G,1);break t}}N=T.createElement(x),Er(N,x,m),T.head.appendChild(N);break;case"meta":if($=TC("meta","content",T).get(x+(m.content||""))){for(G=0;G<$.length;G++)if(N=$[G],N.getAttribute("content")===(m.content==null?null:""+m.content)&&N.getAttribute("name")===(m.name==null?null:m.name)&&N.getAttribute("property")===(m.property==null?null:m.property)&&N.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&N.getAttribute("charset")===(m.charSet==null?null:m.charSet)){$.splice(G,1);break t}}N=T.createElement(x),Er(N,x,m),T.head.appendChild(N);break;default:throw Error(r(468,x))}N[Ln]=s,In(N),x=N}s.stateNode=x}else AC(T,s.type,s.stateNode);else s.stateNode=EC(T,x,s.memoizedProps);else N!==x?(N===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):N.count--,x===null?AC(T,s.type,s.stateNode):EC(T,x,s.memoizedProps)):x===null&&s.stateNode!==null&&Zw(s,s.memoizedProps,m.memoizedProps)}break;case 27:di(c,s),fi(s),x&512&&(Un||m===null||So(m,m.return)),m!==null&&x&4&&Zw(s,s.memoizedProps,m.memoizedProps);break;case 5:if(di(c,s),fi(s),x&512&&(Un||m===null||So(m,m.return)),s.flags&32){T=s.stateNode;try{ea(T,"")}catch(He){Ut(s,s.return,He)}}x&4&&s.stateNode!=null&&(T=s.memoizedProps,Zw(s,T,m!==null?m.memoizedProps:T)),x&1024&&(Qw=!0);break;case 6:if(di(c,s),fi(s),x&4){if(s.stateNode===null)throw Error(r(162));x=s.memoizedProps,m=s.stateNode;try{m.nodeValue=x}catch(He){Ut(s,s.return,He)}}break;case 3:if(dg=null,T=za,za=cg(c.containerInfo),di(c,s),za=T,fi(s),x&4&&m!==null&&m.memoizedState.isDehydrated)try{yd(c.containerInfo)}catch(He){Ut(s,s.return,He)}Qw&&(Qw=!1,AO(s));break;case 4:x=za,za=cg(s.stateNode.containerInfo),di(c,s),fi(s),za=x;break;case 12:di(c,s),fi(s);break;case 31:di(c,s),fi(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,V0(s,x)));break;case 13:di(c,s),fi(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(X0=_e()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,V0(s,x)));break;case 22:T=s.memoizedState!==null;var te=m!==null&&m.memoizedState!==null,me=cs,ke=Un;if(cs=me||T,Un=ke||te,di(c,s),Un=ke,cs=me,fi(s),x&8192)e:for(c=s.stateNode,c._visibility=T?c._visibility&-2:c._visibility|1,T&&(m===null||te||cs||Un||$c(s)),m=null,c=s;;){if(c.tag===5||c.tag===26){if(m===null){te=m=c;try{if(N=te.stateNode,T)$=N.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{G=te.stateNode;var je=te.memoizedProps.style,be=je!=null&&je.hasOwnProperty("display")?je.display:null;G.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(He){Ut(te,te.return,He)}}}else if(c.tag===6){if(m===null){te=c;try{te.stateNode.nodeValue=T?"":te.memoizedProps}catch(He){Ut(te,te.return,He)}}}else if(c.tag===18){if(m===null){te=c;try{var ve=te.stateNode;T?gC(ve,!0):gC(te.stateNode,!1)}catch(He){Ut(te,te.return,He)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=s.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,V0(s,m))));break;case 19:di(c,s),fi(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,V0(s,x)));break;case 30:break;case 21:break;default:di(c,s),fi(s)}}function fi(s){var c=s.flags;if(c&2){try{for(var m,x=s.return;x!==null;){if(yO(x)){m=x;break}x=x.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var T=m.stateNode,N=Xw(s);W0(s,N,T);break;case 5:var $=m.stateNode;m.flags&32&&(ea($,""),m.flags&=-33);var G=Xw(s);W0(s,G,$);break;case 3:case 4:var te=m.stateNode.containerInfo,me=Xw(s);Jw(s,me,te);break;default:throw Error(r(161))}}catch(ke){Ut(s,s.return,ke)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function AO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;AO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function ds(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)wO(s,c.alternate,c),c=c.sibling}function $c(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:yl(4,c,c.return),$c(c);break;case 1:So(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&gO(c,c.return,m),$c(c);break;case 27:Lh(c.stateNode);case 26:case 5:So(c,c.return),$c(c);break;case 22:c.memoizedState===null&&$c(c);break;case 30:$c(c);break;default:$c(c)}s=s.sibling}}function fs(s,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,T=s,N=c,$=N.flags;switch(N.tag){case 0:case 11:case 15:fs(T,N,m),Th(4,N);break;case 1:if(fs(T,N,m),x=N,T=x.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(me){Ut(x,x.return,me)}if(x=N,T=x.updateQueue,T!==null){var G=x.stateNode;try{var te=T.shared.hiddenCallbacks;if(te!==null)for(T.shared.hiddenCallbacks=null,T=0;T<te.length;T++)iN(te[T],G)}catch(me){Ut(x,x.return,me)}}m&&$&64&&pO(N),Ah(N,N.return);break;case 27:vO(N);case 26:case 5:fs(T,N,m),m&&x===null&&$&4&&bO(N),Ah(N,N.return);break;case 12:fs(T,N,m);break;case 31:fs(T,N,m),m&&$&4&&kO(T,N);break;case 13:fs(T,N,m),m&&$&4&&EO(T,N);break;case 22:N.memoizedState===null&&fs(T,N,m),Ah(N,N.return);break;case 30:break;default:fs(T,N,m)}c=c.sibling}}function e_(s,c){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&hh(m))}function t_(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&hh(s))}function Ua(s,c,m,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)jO(s,c,m,x),c=c.sibling}function jO(s,c,m,x){var T=c.flags;switch(c.tag){case 0:case 11:case 15:Ua(s,c,m,x),T&2048&&Th(9,c);break;case 1:Ua(s,c,m,x);break;case 3:Ua(s,c,m,x),T&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&hh(s)));break;case 12:if(T&2048){Ua(s,c,m,x),s=c.stateNode;try{var N=c.memoizedProps,$=N.id,G=N.onPostCommit;typeof G=="function"&&G($,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Ut(c,c.return,te)}}else Ua(s,c,m,x);break;case 31:Ua(s,c,m,x);break;case 13:Ua(s,c,m,x);break;case 23:break;case 22:N=c.stateNode,$=c.alternate,c.memoizedState!==null?N._visibility&2?Ua(s,c,m,x):jh(s,c):N._visibility&2?Ua(s,c,m,x):(N._visibility|=2,sd(s,c,m,x,(c.subtreeFlags&10256)!==0||!1)),T&2048&&e_($,c);break;case 24:Ua(s,c,m,x),T&2048&&t_(c.alternate,c);break;default:Ua(s,c,m,x)}}function sd(s,c,m,x,T){for(T=T&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var N=s,$=c,G=m,te=x,me=$.flags;switch($.tag){case 0:case 11:case 15:sd(N,$,G,te,T),Th(8,$);break;case 23:break;case 22:var ke=$.stateNode;$.memoizedState!==null?ke._visibility&2?sd(N,$,G,te,T):jh(N,$):(ke._visibility|=2,sd(N,$,G,te,T)),T&&me&2048&&e_($.alternate,$);break;case 24:sd(N,$,G,te,T),T&&me&2048&&t_($.alternate,$);break;default:sd(N,$,G,te,T)}c=c.sibling}}function jh(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=s,x=c,T=x.flags;switch(x.tag){case 22:jh(m,x),T&2048&&e_(x.alternate,x);break;case 24:jh(m,x),T&2048&&t_(x.alternate,x);break;default:jh(m,x)}c=c.sibling}}var Nh=8192;function ld(s,c,m){if(s.subtreeFlags&Nh)for(s=s.child;s!==null;)NO(s,c,m),s=s.sibling}function NO(s,c,m){switch(s.tag){case 26:ld(s,c,m),s.flags&Nh&&s.memoizedState!==null&&RG(m,za,s.memoizedState,s.memoizedProps);break;case 5:ld(s,c,m);break;case 3:case 4:var x=za;za=cg(s.stateNode.containerInfo),ld(s,c,m),za=x;break;case 22:s.memoizedState===null&&(x=s.alternate,x!==null&&x.memoizedState!==null?(x=Nh,Nh=16777216,ld(s,c,m),Nh=x):ld(s,c,m));break;default:ld(s,c,m)}}function OO(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Oh(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];ur=x,MO(x,s)}OO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)CO(s),s=s.sibling}function CO(s){switch(s.tag){case 0:case 11:case 15:Oh(s),s.flags&2048&&yl(9,s,s.return);break;case 3:Oh(s);break;case 12:Oh(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,Z0(s)):Oh(s);break;default:Oh(s)}}function Z0(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];ur=x,MO(x,s)}OO(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:yl(8,c,c.return),Z0(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Z0(c));break;default:Z0(c)}s=s.sibling}}function MO(s,c){for(;ur!==null;){var m=ur;switch(m.tag){case 0:case 11:case 15:yl(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:hh(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,ur=x;else e:for(m=s;ur!==null;){x=ur;var T=x.sibling,N=x.return;if(_O(x),x===m){ur=null;break e}if(T!==null){T.return=N,ur=T;break e}ur=N}}}var ZH={getCacheForType:function(s){var c=Sr($n),m=c.data.get(s);return m===void 0&&(m=s(),c.data.set(s,m)),m},cacheSignal:function(){return Sr($n).controller.signal}},XH=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Wt=null,vt=null,_t=0,zt=0,Mi=null,vl=!1,cd=!1,n_=!1,hs=0,En=0,xl=0,Bc=0,r_=0,Di=0,ud=0,Ch=null,hi=null,i_=!1,X0=0,DO=0,J0=1/0,Q0=null,wl=null,Xn=0,_l=null,dd=null,ms=0,a_=0,o_=null,PO=null,Mh=0,s_=null;function Pi(){return(Dt&2)!==0&&_t!==0?_t&-_t:Y.T!==null?h_():Ff()}function RO(){if(Di===0)if((_t&536870912)===0||yt){var s=Lt;Lt<<=1,(Lt&3932160)===0&&(Lt=262144),Di=s}else Di=536870912;return s=Oi.current,s!==null&&(s.flags|=32),Di}function mi(s,c,m){(s===Wt&&(zt===2||zt===9)||s.cancelPendingCommit!==null)&&(fd(s,0),Sl(s,_t,Di,!1)),Ko(s,m),((Dt&2)===0||s!==Wt)&&(s===Wt&&((Dt&2)===0&&(Bc|=m),En===4&&Sl(s,_t,Di,!1)),ko(s))}function LO(s,c,m){if((Dt&6)!==0)throw Error(r(327));var x=!m&&(c&127)===0&&(c&s.expiredLanes)===0||ic(s,c),T=x?eG(s,c):c_(s,c,!0),N=x;do{if(T===0){cd&&!x&&Sl(s,c,0,!1);break}else{if(m=s.current.alternate,N&&!JH(m)){T=c_(s,c,!1),N=!1;continue}if(T===2){if(N=c,s.errorRecoveryDisabledLanes&N)var $=0;else $=s.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){c=$;e:{var G=s;T=Ch;var te=G.current.memoizedState.isDehydrated;if(te&&(fd(G,$).flags|=256),$=c_(G,$,!1),$!==2){if(n_&&!te){G.errorRecoveryDisabledLanes|=N,Bc|=N,T=4;break e}N=hi,hi=T,N!==null&&(hi===null?hi=N:hi.push.apply(hi,N))}T=$}if(N=!1,T!==2)continue}}if(T===1){fd(s,0),Sl(s,c,0,!0);break}e:{switch(x=s,N=T,N){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Sl(x,c,Di,!vl);break e;case 2:hi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(T=X0+300-_e(),10<T)){if(Sl(x,c,Di,!vl),Mu(x,0,!0)!==0)break e;ms=c,x.timeoutHandle=hC(IO.bind(null,x,m,hi,Q0,i_,c,Di,Bc,ud,vl,N,"Throttled",-0,0),T);break e}IO(x,m,hi,Q0,i_,c,Di,Bc,ud,vl,N,null,-0,0)}}break}while(!0);ko(s)}function IO(s,c,m,x,T,N,$,G,te,me,ke,je,be,ve){if(s.timeoutHandle=-1,je=c.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},NO(c,N,je);var He=(N&62914560)===N?X0-_e():(N&4194048)===N?DO-_e():0;if(He=LG(je,He),He!==null){ms=N,s.cancelPendingCommit=He(YO.bind(null,s,c,N,m,x,T,$,G,te,ke,je,null,be,ve)),Sl(s,N,$,!me);return}}YO(s,c,N,m,x,T,$,G,te)}function JH(s){for(var c=s;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var T=m[x],N=T.getSnapshot;T=T.value;try{if(!lr(N(),T))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Sl(s,c,m,x){c&=~r_,c&=~Bc,s.suspendedLanes|=c,s.pingedLanes&=~c,x&&(s.warmLanes|=c),x=s.expirationTimes;for(var T=c;0<T;){var N=31-kt(T),$=1<<N;x[N]=-1,T&=~$}m!==0&&Jp(s,m,c)}function eg(){return(Dt&6)===0?(Dh(0),!1):!0}function l_(){if(vt!==null){if(zt===0)var s=vt.return;else s=vt,Ba=_o=null,kw(s),nd=null,ph=0,s=vt;for(;s!==null;)mO(s.alternate,s),s=s.return;vt=null}}function fd(s,c){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,yG(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),ms=0,l_(),Wt=s,vt=m=sa(s.current,null),_t=c,zt=0,Mi=null,vl=!1,cd=ic(s,c),n_=!1,ud=Di=r_=Bc=xl=En=0,hi=Ch=null,i_=!1,(c&8)!==0&&(c|=c&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=c;0<x;){var T=31-kt(x),N=1<<T;c|=s[T],x&=~N}return hs=c,Tc(),m}function $O(s,c){ft=null,Y.H=Sh,c===td||c===N0?(c=eN(),zt=3):c===fw?(c=eN(),zt=4):zt=c===zw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Mi=c,vt===null&&(En=1,H0(s,v(c,s.current)))}function BO(){var s=Oi.current;return s===null?!0:(_t&4194048)===_t?la===null:(_t&62914560)===_t||(_t&536870912)!==0?s===la:!1}function zO(){var s=Y.H;return Y.H=Sh,s===null?Sh:s}function UO(){var s=Y.A;return Y.A=ZH,s}function tg(){En=4,vl||(_t&4194048)!==_t&&Oi.current!==null||(cd=!0),(xl&134217727)===0&&(Bc&134217727)===0||Wt===null||Sl(Wt,_t,Di,!1)}function c_(s,c,m){var x=Dt;Dt|=2;var T=zO(),N=UO();(Wt!==s||_t!==c)&&(Q0=null,fd(s,c)),c=!1;var $=En;e:do try{if(zt!==0&&vt!==null){var G=vt,te=Mi;switch(zt){case 8:l_(),$=6;break e;case 3:case 2:case 9:case 6:Oi.current===null&&(c=!0);var me=zt;if(zt=0,Mi=null,hd(s,G,te,me),m&&cd){$=0;break e}break;default:me=zt,zt=0,Mi=null,hd(s,G,te,me)}}QH(),$=En;break}catch(ke){$O(s,ke)}while(!0);return c&&s.shellSuspendCounter++,Ba=_o=null,Dt=x,Y.H=T,Y.A=N,vt===null&&(Wt=null,_t=0,Tc()),$}function QH(){for(;vt!==null;)FO(vt)}function eG(s,c){var m=Dt;Dt|=2;var x=zO(),T=UO();Wt!==s||_t!==c?(Q0=null,J0=_e()+500,fd(s,c)):cd=ic(s,c);e:do try{if(zt!==0&&vt!==null){c=vt;var N=Mi;t:switch(zt){case 1:zt=0,Mi=null,hd(s,c,N,1);break;case 2:case 9:if(Jj(N)){zt=0,Mi=null,HO(c);break}c=function(){zt!==2&&zt!==9||Wt!==s||(zt=7),ko(s)},N.then(c,c);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:Jj(N)?(zt=0,Mi=null,HO(c)):(zt=0,Mi=null,hd(s,c,N,7));break;case 5:var $=null;switch(vt.tag){case 26:$=vt.memoizedState;case 5:case 27:var G=vt;if($?jC($):G.stateNode.complete){zt=0,Mi=null;var te=G.sibling;if(te!==null)vt=te;else{var me=G.return;me!==null?(vt=me,ng(me)):vt=null}break t}}zt=0,Mi=null,hd(s,c,N,5);break;case 6:zt=0,Mi=null,hd(s,c,N,6);break;case 8:l_(),En=6;break e;default:throw Error(r(462))}}tG();break}catch(ke){$O(s,ke)}while(!0);return Ba=_o=null,Y.H=x,Y.A=T,Dt=m,vt!==null?0:(Wt=null,_t=0,Tc(),En)}function tG(){for(;vt!==null&&!fe();)FO(vt)}function FO(s){var c=fO(s.alternate,s,hs);s.memoizedProps=s.pendingProps,c===null?ng(s):vt=c}function HO(s){var c=s,m=c.alternate;switch(c.tag){case 15:case 0:c=oO(m,c,c.pendingProps,c.type,void 0,_t);break;case 11:c=oO(m,c,c.pendingProps,c.type.render,c.ref,_t);break;case 5:kw(c);default:mO(m,c),c=vt=lh(c,hs),c=fO(m,c,hs)}s.memoizedProps=s.pendingProps,c===null?ng(s):vt=c}function hd(s,c,m,x){Ba=_o=null,kw(c),nd=null,ph=0;var T=c.return;try{if(HH(s,T,c,m,_t)){En=1,H0(s,v(m,s.current)),vt=null;return}}catch(N){if(T!==null)throw vt=T,N;En=1,H0(s,v(m,s.current)),vt=null;return}c.flags&32768?(yt||x===1?s=!0:cd||(_t&536870912)!==0?s=!1:(vl=s=!0,(x===2||x===9||x===3||x===6)&&(x=Oi.current,x!==null&&x.tag===13&&(x.flags|=16384))),GO(c,s)):ng(c)}function ng(s){var c=s;do{if((c.flags&32768)!==0){GO(c,vl);return}s=c.return;var m=qH(c.alternate,c,hs);if(m!==null){vt=m;return}if(c=c.sibling,c!==null){vt=c;return}vt=c=s}while(c!==null);En===0&&(En=5)}function GO(s,c){do{var m=KH(s.alternate,s);if(m!==null){m.flags&=32767,vt=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(s=s.sibling,s!==null)){vt=s;return}vt=s=m}while(s!==null);En=6,vt=null}function YO(s,c,m,x,T,N,$,G,te){s.cancelPendingCommit=null;do rg();while(Xn!==0);if((Dt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(N=c.lanes|c.childLanes,N|=Wu,Yx(s,m,N,$,G,te),s===Wt&&(vt=Wt=null,_t=0),dd=c,_l=s,ms=m,a_=N,o_=T,PO=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,aG(lt,function(){return ZO(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=Y.T,Y.T=null,T=J.p,J.p=2,$=Dt,Dt|=4;try{WH(s,c,m)}finally{Dt=$,J.p=T,Y.T=x}}Xn=1,qO(),KO(),WO()}}function qO(){if(Xn===1){Xn=0;var s=_l,c=dd,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null;var x=J.p;J.p=2;var T=Dt;Dt|=4;try{TO(c,s);var N=w_,$=wc(s.containerInfo),G=N.focusedElem,te=N.selectionRange;if($!==G&&G&&G.ownerDocument&&Gu(G.ownerDocument.documentElement,G)){if(te!==null&&po(G)){var me=te.start,ke=te.end;if(ke===void 0&&(ke=me),"selectionStart"in G)G.selectionStart=me,G.selectionEnd=Math.min(ke,G.value.length);else{var je=G.ownerDocument||document,be=je&&je.defaultView||window;if(be.getSelection){var ve=be.getSelection(),He=G.textContent.length,at=Math.min(te.start,He),qt=te.end===void 0?at:Math.min(te.end,He);!ve.extend&&at>qt&&($=qt,qt=at,at=$);var le=xc(G,at),re=xc(G,qt);if(le&&re&&(ve.rangeCount!==1||ve.anchorNode!==le.node||ve.anchorOffset!==le.offset||ve.focusNode!==re.node||ve.focusOffset!==re.offset)){var he=je.createRange();he.setStart(le.node,le.offset),ve.removeAllRanges(),at>qt?(ve.addRange(he),ve.extend(re.node,re.offset)):(he.setEnd(re.node,re.offset),ve.addRange(he))}}}}for(je=[],ve=G;ve=ve.parentNode;)ve.nodeType===1&&je.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<je.length;G++){var Ee=je[G];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}pg=!!x_,w_=x_=null}finally{Dt=T,J.p=x,Y.T=m}}s.current=c,Xn=2}}function KO(){if(Xn===2){Xn=0;var s=_l,c=dd,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=Y.T,Y.T=null;var x=J.p;J.p=2;var T=Dt;Dt|=4;try{wO(s,c.alternate,c)}finally{Dt=T,J.p=x,Y.T=m}}Xn=3}}function WO(){if(Xn===4||Xn===3){Xn=0,Me();var s=_l,c=dd,m=ms,x=PO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Xn=5:(Xn=0,dd=_l=null,VO(s,s.pendingLanes));var T=s.pendingLanes;if(T===0&&(wl=null),Ke(m),c=c.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(or,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=Y.T,T=J.p,J.p=2,Y.T=null;try{for(var N=s.onRecoverableError,$=0;$<x.length;$++){var G=x[$];N(G.value,{componentStack:G.stack})}}finally{Y.T=c,J.p=T}}(ms&3)!==0&&rg(),ko(s),T=s.pendingLanes,(m&261930)!==0&&(T&42)!==0?s===s_?Mh++:(Mh=0,s_=s):Mh=0,Dh(0)}}function VO(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,hh(c)))}function rg(){return qO(),KO(),WO(),ZO()}function ZO(){if(Xn!==5)return!1;var s=_l,c=a_;a_=0;var m=Ke(ms),x=Y.T,T=J.p;try{J.p=32>m?32:m,Y.T=null,m=o_,o_=null;var N=_l,$=ms;if(Xn=0,dd=_l=null,ms=0,(Dt&6)!==0)throw Error(r(331));var G=Dt;if(Dt|=4,CO(N.current),jO(N,N.current,$,m),Dt=G,Dh(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(or,N)}catch{}return!0}finally{J.p=T,Y.T=x,VO(s,c)}}function XO(s,c,m){c=v(m,c),c=Bw(s.stateNode,c,2),s=pl(s,c,2),s!==null&&(Ko(s,2),ko(s))}function Ut(s,c,m){if(s.tag===3)XO(s,s,m);else for(;c!==null;){if(c.tag===3){XO(c,s,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(wl===null||!wl.has(x))){s=v(m,s),m=JN(2),x=pl(c,m,2),x!==null&&(QN(m,x,c,s),Ko(x,2),ko(x));break}}c=c.return}}function u_(s,c,m){var x=s.pingCache;if(x===null){x=s.pingCache=new XH;var T=new Set;x.set(c,T)}else T=x.get(c),T===void 0&&(T=new Set,x.set(c,T));T.has(m)||(n_=!0,T.add(m),s=nG.bind(null,s,c,m),c.then(s,s))}function nG(s,c,m){var x=s.pingCache;x!==null&&x.delete(c),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,Wt===s&&(_t&m)===m&&(En===4||En===3&&(_t&62914560)===_t&&300>_e()-X0?(Dt&2)===0&&fd(s,0):r_|=m,ud===_t&&(ud=0)),ko(s)}function JO(s,c){c===0&&(c=Xp()),s=oa(s,c),s!==null&&(Ko(s,c),ko(s))}function rG(s){var c=s.memoizedState,m=0;c!==null&&(m=c.retryLane),JO(s,m)}function iG(s,c){var m=0;switch(s.tag){case 31:case 13:var x=s.stateNode,T=s.memoizedState;T!==null&&(m=T.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(c),JO(s,m)}function aG(s,c){return gt(s,c)}var ig=null,md=null,d_=!1,ag=!1,f_=!1,kl=0;function ko(s){s!==md&&s.next===null&&(md===null?ig=md=s:md=md.next=s),ag=!0,d_||(d_=!0,sG())}function Dh(s,c){if(!f_&&ag){f_=!0;do for(var m=!1,x=ig;x!==null;){if(s!==0){var T=x.pendingLanes;if(T===0)var N=0;else{var $=x.suspendedLanes,G=x.pingedLanes;N=(1<<31-kt(42|s)+1)-1,N&=T&~($&~G),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(m=!0,nC(x,N))}else N=_t,N=Mu(x,x===Wt?N:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(N&3)===0||ic(x,N)||(m=!0,nC(x,N));x=x.next}while(m);f_=!1}}function oG(){QO()}function QO(){ag=d_=!1;var s=0;kl!==0&&bG()&&(s=kl);for(var c=_e(),m=null,x=ig;x!==null;){var T=x.next,N=eC(x,c);N===0?(x.next=null,m===null?ig=T:m.next=T,T===null&&(md=m)):(m=x,(s!==0||(N&3)!==0)&&(ag=!0)),x=T}Xn!==0&&Xn!==5||Dh(s),kl!==0&&(kl=0)}function eC(s,c){for(var m=s.suspendedLanes,x=s.pingedLanes,T=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var $=31-kt(N),G=1<<$,te=T[$];te===-1?((G&m)===0||(G&x)!==0)&&(T[$]=Gx(G,c)):te<=c&&(s.expiredLanes|=G),N&=~G}if(c=Wt,m=_t,m=Mu(s,s===c?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,m===0||s===c&&(zt===2||zt===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&Mt(x),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||ic(s,m)){if(c=m&-m,c===s.callbackPriority)return c;switch(x!==null&&Mt(x),Ke(m)){case 2:case 8:m=Je;break;case 32:m=lt;break;case 268435456:m=Rn;break;default:m=lt}return x=tC.bind(null,s),m=gt(m,x),s.callbackPriority=c,s.callbackNode=m,c}return x!==null&&x!==null&&Mt(x),s.callbackPriority=2,s.callbackNode=null,2}function tC(s,c){if(Xn!==0&&Xn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(rg()&&s.callbackNode!==m)return null;var x=_t;return x=Mu(s,s===Wt?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(LO(s,x,c),eC(s,_e()),s.callbackNode!=null&&s.callbackNode===m?tC.bind(null,s):null)}function nC(s,c){if(rg())return null;LO(s,c,!0)}function sG(){vG(function(){(Dt&6)!==0?gt(Ue,oG):QO()})}function h_(){if(kl===0){var s=Qu;s===0&&(s=it,it<<=1,(it&261888)===0&&(it=256)),kl=s}return kl}function rC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Qs(""+s)}function iC(s,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,s.id&&m.setAttribute("form",s.id),c.parentNode.insertBefore(m,c),s=new FormData(s),m.parentNode.removeChild(m),s}function lG(s,c,m,x,T){if(c==="submit"&&m&&m.stateNode===T){var N=rC((T[sr]||null).action),$=x.submitter;$&&(c=(c=$[sr]||null)?rC(c.formAction):$.getAttribute("formAction"),c!==null&&(N=c,$=null));var G=new Iu("action","action",null,x,T);s.push({event:G,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(kl!==0){var te=$?iC(T,$):new FormData(T);Dw(m,{pending:!0,data:te,method:T.method,action:N},null,te)}}else typeof N=="function"&&(G.preventDefault(),te=$?iC(T,$):new FormData(T),Dw(m,{pending:!0,data:te,method:T.method,action:N},N,te))},currentTarget:T}]})}}for(var m_=0;m_<yo.length;m_++){var p_=yo[m_],cG=p_.toLowerCase(),uG=p_[0].toUpperCase()+p_.slice(1);si(cG,"on"+uG)}si(Sc,"onAnimationEnd"),si(S0,"onAnimationIteration"),si(kc,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(iw,"onTransitionRun"),si(k0,"onTransitionStart"),si(aw,"onTransitionCancel"),si(ul,"onTransitionEnd"),uo("onMouseEnter",["mouseout","mouseover"]),uo("onMouseLeave",["mouseout","mouseover"]),uo("onPointerEnter",["pointerout","pointerover"]),uo("onPointerLeave",["pointerout","pointerover"]),Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ph));function aC(s,c){c=(c&4)!==0;for(var m=0;m<s.length;m++){var x=s[m],T=x.event;x=x.listeners;e:{var N=void 0;if(c)for(var $=x.length-1;0<=$;$--){var G=x[$],te=G.instance,me=G.currentTarget;if(G=G.listener,te!==N&&T.isPropagationStopped())break e;N=G,T.currentTarget=me;try{N(T)}catch(ke){Ec(ke)}T.currentTarget=null,N=te}else for($=0;$<x.length;$++){if(G=x[$],te=G.instance,me=G.currentTarget,G=G.listener,te!==N&&T.isPropagationStopped())break e;N=G,T.currentTarget=me;try{N(T)}catch(ke){Ec(ke)}T.currentTarget=null,N=te}}}}function xt(s,c){var m=c[lo];m===void 0&&(m=c[lo]=new Set);var x=s+"__bubble";m.has(x)||(oC(c,s,2,!1),m.add(x))}function g_(s,c,m){var x=0;c&&(x|=4),oC(m,s,x,c)}var og="_reactListening"+Math.random().toString(36).slice(2);function b_(s){if(!s[og]){s[og]=!0,r0.forEach(function(m){m!=="selectionchange"&&(dG.has(m)||g_(m,!1,s),g_(m,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[og]||(c[og]=!0,g_("selectionchange",!1,c))}}function oC(s,c,m,x){switch(RC(c)){case 2:var T=BG;break;case 8:T=zG;break;default:T=M_}m=T.bind(null,c,m,s),T=void 0,!dc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(T=!0),x?T!==void 0?s.addEventListener(c,m,{capture:!0,passive:T}):s.addEventListener(c,m,!0):T!==void 0?s.addEventListener(c,m,{passive:T}):s.addEventListener(c,m,!1)}function y_(s,c,m,x,T){var N=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var $=x.tag;if($===3||$===4){var G=x.stateNode.containerInfo;if(G===T)break;if($===4)for($=x.return;$!==null;){var te=$.tag;if((te===3||te===4)&&$.stateNode.containerInfo===T)return;$=$.return}for(;G!==null;){if($=Vo(G),$===null)return;if(te=$.tag,te===5||te===6||te===26||te===27){x=N=$;continue e}G=G.parentNode}}x=x.return}Xf(function(){var me=N,ke=uc(m),je=[];e:{var be=E0.get(s);if(be!==void 0){var ve=Iu,He=s;switch(s){case"keypress":if(fc(m)===0)break e;case"keydown":case"keyup":ve=d0;break;case"focusin":He="focus",ve=eh;break;case"focusout":He="blur",ve=eh;break;case"beforeblur":case"afterblur":ve=eh;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=o0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Kx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Jx;break;case Sc:case S0:case kc:ve=th;break;case ul:ve=m0;break;case"scroll":case"scrollend":ve=wt;break;case"wheel":ve=es;break;case"copy":case"cut":case"paste":ve=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=f0;break;case"toggle":case"beforetoggle":ve=pc}var at=(c&4)!==0,qt=!at&&(s==="scroll"||s==="scrollend"),le=at?be!==null?be+"Capture":null:be;at=[];for(var re=me,he;re!==null;){var Ee=re;if(he=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||he===null||le===null||(Ee=Jo(re,le),Ee!=null&&at.push(Rh(re,Ee,he))),qt)break;re=re.return}0<at.length&&(be=new ve(be,He,null,m,ke),je.push({event:be,listeners:at}))}}if((c&7)===0){e:{if(be=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",be&&m!==Lu&&(He=m.relatedTarget||m.fromElement)&&(Vo(He)||He[Wo]))break e;if((ve||be)&&(be=ke.window===ke?ke:(be=ke.ownerDocument)?be.defaultView||be.parentWindow:window,ve?(He=m.relatedTarget||m.toElement,ve=me,He=He?Vo(He):null,He!==null&&(qt=a(He),at=He.tag,He!==qt||at!==5&&at!==27&&at!==6)&&(He=null)):(ve=null,He=me),ve!==He)){if(at=o0,Ee="onMouseLeave",le="onMouseEnter",re="mouse",(s==="pointerout"||s==="pointerover")&&(at=f0,Ee="onPointerLeave",le="onPointerEnter",re="pointer"),qt=ve==null?be:co(ve),he=He==null?be:co(He),be=new at(Ee,re+"leave",ve,m,ke),be.target=qt,be.relatedTarget=he,Ee=null,Vo(ke)===me&&(at=new at(le,re+"enter",He,m,ke),at.target=he,at.relatedTarget=qt,Ee=at),qt=Ee,ve&&He)t:{for(at=fG,le=ve,re=He,he=0,Ee=le;Ee;Ee=at(Ee))he++;Ee=0;for(var nt=re;nt;nt=at(nt))Ee++;for(;0<he-Ee;)le=at(le),he--;for(;0<Ee-he;)re=at(re),Ee--;for(;he--;){if(le===re||re!==null&&le===re.alternate){at=le;break t}le=at(le),re=at(re)}at=null}else at=null;ve!==null&&sC(je,be,ve,at,!1),He!==null&&qt!==null&&sC(je,qt,He,at,!0)}}e:{if(be=me?co(me):window,ve=be.nodeName&&be.nodeName.toLowerCase(),ve==="select"||ve==="input"&&be.type==="file")var Nt=vc;else if(ra(be))if(y0)Nt=rw;else{Nt=nw;var qe=La}else ve=be.nodeName,!ve||ve.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?me&&cc(me.elementType)&&(Nt=vc):Nt=ol;if(Nt&&(Nt=Nt(s,me))){b0(je,Nt,m,ke);break e}qe&&qe(s,be,me),s==="focusout"&&me&&be.type==="number"&&me.memoizedProps.value!=null&&Da(be,"number",be.value)}switch(qe=me?co(me):window,s){case"focusin":(ra(qe)||qe.contentEditable==="true")&&(go=qe,qu=me,_c=null);break;case"focusout":_c=qu=go=null;break;case"mousedown":ll=!0;break;case"contextmenu":case"mouseup":case"dragend":ll=!1,w0(je,m,ke);break;case"selectionchange":if(Yu)break;case"keydown":case"keyup":w0(je,m,ke)}var pt;if(Bu)e:{switch(s){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else rl?g0(s,m)&&(St="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(St="onCompositionStart");St&&(zu&&m.locale!=="ko"&&(rl||St!=="onCompositionStart"?St==="onCompositionEnd"&&rl&&(pt=ho()):(ta=ke,Qo="value"in ta?ta.value:ta.textContent,rl=!0)),qe=sg(me,St),0<qe.length&&(St=new nh(St,s,null,m,ke),je.push({event:St,listeners:qe}),pt?St.data=pt:(pt=oh(m),pt!==null&&(St.data=pt)))),(pt=ew?Ni(s,m):il(s,m))&&(St=sg(me,"onBeforeInput"),0<St.length&&(qe=new nh("onBeforeInput","beforeinput",null,m,ke),je.push({event:qe,listeners:St}),qe.data=pt)),lG(je,s,me,m,ke)}aC(je,c)})}function Rh(s,c,m){return{instance:s,listener:c,currentTarget:m}}function sg(s,c){for(var m=c+"Capture",x=[];s!==null;){var T=s,N=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||N===null||(T=Jo(s,m),T!=null&&x.unshift(Rh(s,T,N)),T=Jo(s,c),T!=null&&x.push(Rh(s,T,N))),s.tag===3)return x;s=s.return}return[]}function fG(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function sC(s,c,m,x,T){for(var N=c._reactName,$=[];m!==null&&m!==x;){var G=m,te=G.alternate,me=G.stateNode;if(G=G.tag,te!==null&&te===x)break;G!==5&&G!==26&&G!==27||me===null||(te=me,T?(me=Jo(m,N),me!=null&&$.unshift(Rh(m,me,te))):T||(me=Jo(m,N),me!=null&&$.push(Rh(m,me,te)))),m=m.return}$.length!==0&&s.push({event:c,listeners:$})}var hG=/\r\n?/g,mG=/\u0000|\uFFFD/g;function lC(s){return(typeof s=="string"?s:""+s).replace(hG,`
`).replace(mG,"")}function cC(s,c){return c=lC(c),lC(s)===c}function Yt(s,c,m,x,T,N){switch(m){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||ea(s,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&ea(s,""+x);break;case"className":Ht(s,"class",x);break;case"tabIndex":Ht(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Ht(s,m,x);break;case"style":Pu(s,x,N);break;case"data":if(c!=="object"){Ht(s,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||m!=="href")){s.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Qs(""+x),s.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(m==="formAction"?(c!=="input"&&Yt(s,c,"name",T.name,T,null),Yt(s,c,"formEncType",T.formEncType,T,null),Yt(s,c,"formMethod",T.formMethod,T,null),Yt(s,c,"formTarget",T.formTarget,T,null)):(Yt(s,c,"encType",T.encType,T,null),Yt(s,c,"method",T.method,T,null),Yt(s,c,"target",T.target,T,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Qs(""+x),s.setAttribute(m,x);break;case"onClick":x!=null&&(s.onclick=ai);break;case"onScroll":x!=null&&xt("scroll",s);break;case"onScrollEnd":x!=null&&xt("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}m=Qs(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""+x):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":x===!0?s.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,x):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(m,x):s.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(m):s.setAttribute(m,x);break;case"popover":xt("beforetoggle",s),xt("toggle",s),bt(s,"popover",x);break;case"xlinkActuate":ii(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ii(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ii(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ii(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ii(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ii(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ii(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ii(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ii(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":bt(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Ru.get(m)||m,bt(s,m,x))}}function v_(s,c,m,x,T,N){switch(m){case"style":Pu(s,x,N);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof x=="string"?ea(s,x):(typeof x=="number"||typeof x=="bigint")&&ea(s,""+x);break;case"onScroll":x!=null&&xt("scroll",s);break;case"onScrollEnd":x!=null&&xt("scrollend",s);break;case"onClick":x!=null&&(s.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!i0.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(T=m.endsWith("Capture"),c=m.slice(2,T?m.length-7:void 0),N=s[sr]||null,N=N!=null?N[m]:null,typeof N=="function"&&s.removeEventListener(c,N,T),typeof x=="function")){typeof N!="function"&&N!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(c,x,T);break e}m in s?s[m]=x:x===!0?s.setAttribute(m,""):bt(s,m,x)}}}function Er(s,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",s),xt("load",s);var x=!1,T=!1,N;for(N in m)if(m.hasOwnProperty(N)){var $=m[N];if($!=null)switch(N){case"src":x=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Yt(s,c,N,$,m,null)}}T&&Yt(s,c,"srcSet",m.srcSet,m,null),x&&Yt(s,c,"src",m.src,m,null);return;case"input":xt("invalid",s);var G=N=$=T=null,te=null,me=null;for(x in m)if(m.hasOwnProperty(x)){var ke=m[x];if(ke!=null)switch(x){case"name":T=ke;break;case"type":$=ke;break;case"checked":te=ke;break;case"defaultChecked":me=ke;break;case"value":N=ke;break;case"defaultValue":G=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,c));break;default:Yt(s,c,x,ke,m,null)}}lc(s,N,G,te,me,$,T,!1);return;case"select":xt("invalid",s),x=$=N=null;for(T in m)if(m.hasOwnProperty(T)&&(G=m[T],G!=null))switch(T){case"value":N=G;break;case"defaultValue":$=G;break;case"multiple":x=G;default:Yt(s,c,T,G,m,null)}c=N,m=$,s.multiple=!!x,c!=null?Kt(s,!!x,c,!1):m!=null&&Kt(s,!!x,m,!0);return;case"textarea":xt("invalid",s),N=T=x=null;for($ in m)if(m.hasOwnProperty($)&&(G=m[$],G!=null))switch($){case"value":x=G;break;case"defaultValue":T=G;break;case"children":N=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Yt(s,c,$,G,m,null)}Xs(s,x,T,N);return;case"option":for(te in m)if(m.hasOwnProperty(te)&&(x=m[te],x!=null))switch(te){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Yt(s,c,te,x,m,null)}return;case"dialog":xt("beforetoggle",s),xt("toggle",s),xt("cancel",s),xt("close",s);break;case"iframe":case"object":xt("load",s);break;case"video":case"audio":for(x=0;x<Ph.length;x++)xt(Ph[x],s);break;case"image":xt("error",s),xt("load",s);break;case"details":xt("toggle",s);break;case"embed":case"source":case"link":xt("error",s),xt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in m)if(m.hasOwnProperty(me)&&(x=m[me],x!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Yt(s,c,me,x,m,null)}return;default:if(cc(c)){for(ke in m)m.hasOwnProperty(ke)&&(x=m[ke],x!==void 0&&v_(s,c,ke,x,m,void 0));return}}for(G in m)m.hasOwnProperty(G)&&(x=m[G],x!=null&&Yt(s,c,G,x,m,null))}function pG(s,c,m,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,N=null,$=null,G=null,te=null,me=null,ke=null;for(ve in m){var je=m[ve];if(m.hasOwnProperty(ve)&&je!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":te=je;default:x.hasOwnProperty(ve)||Yt(s,c,ve,null,x,je)}}for(var be in x){var ve=x[be];if(je=m[be],x.hasOwnProperty(be)&&(ve!=null||je!=null))switch(be){case"type":N=ve;break;case"name":T=ve;break;case"checked":me=ve;break;case"defaultChecked":ke=ve;break;case"value":$=ve;break;case"defaultValue":G=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,c));break;default:ve!==je&&Yt(s,c,be,ve,x,je)}}Wf(s,$,G,te,me,ke,N,T);return;case"select":ve=$=G=be=null;for(N in m)if(te=m[N],m.hasOwnProperty(N)&&te!=null)switch(N){case"value":break;case"multiple":ve=te;default:x.hasOwnProperty(N)||Yt(s,c,N,null,x,te)}for(T in x)if(N=x[T],te=m[T],x.hasOwnProperty(T)&&(N!=null||te!=null))switch(T){case"value":be=N;break;case"defaultValue":G=N;break;case"multiple":$=N;default:N!==te&&Yt(s,c,T,N,x,te)}c=G,m=$,x=ve,be!=null?Kt(s,!!m,be,!1):!!x!=!!m&&(c!=null?Kt(s,!!m,c,!0):Kt(s,!!m,m?[]:"",!1));return;case"textarea":ve=be=null;for(G in m)if(T=m[G],m.hasOwnProperty(G)&&T!=null&&!x.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Yt(s,c,G,null,x,T)}for($ in x)if(T=x[$],N=m[$],x.hasOwnProperty($)&&(T!=null||N!=null))switch($){case"value":be=T;break;case"defaultValue":ve=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==N&&Yt(s,c,$,T,x,N)}fo(s,be,ve);return;case"option":for(var He in m)if(be=m[He],m.hasOwnProperty(He)&&be!=null&&!x.hasOwnProperty(He))switch(He){case"selected":s.selected=!1;break;default:Yt(s,c,He,null,x,be)}for(te in x)if(be=x[te],ve=m[te],x.hasOwnProperty(te)&&be!==ve&&(be!=null||ve!=null))switch(te){case"selected":s.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Yt(s,c,te,be,x,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in m)be=m[at],m.hasOwnProperty(at)&&be!=null&&!x.hasOwnProperty(at)&&Yt(s,c,at,null,x,be);for(me in x)if(be=x[me],ve=m[me],x.hasOwnProperty(me)&&be!==ve&&(be!=null||ve!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:Yt(s,c,me,be,x,ve)}return;default:if(cc(c)){for(var qt in m)be=m[qt],m.hasOwnProperty(qt)&&be!==void 0&&!x.hasOwnProperty(qt)&&v_(s,c,qt,void 0,x,be);for(ke in x)be=x[ke],ve=m[ke],!x.hasOwnProperty(ke)||be===ve||be===void 0&&ve===void 0||v_(s,c,ke,be,x,ve);return}}for(var le in m)be=m[le],m.hasOwnProperty(le)&&be!=null&&!x.hasOwnProperty(le)&&Yt(s,c,le,null,x,be);for(je in x)be=x[je],ve=m[je],!x.hasOwnProperty(je)||be===ve||be==null&&ve==null||Yt(s,c,je,be,x,ve)}function uC(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gG(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,m=performance.getEntriesByType("resource"),x=0;x<m.length;x++){var T=m[x],N=T.transferSize,$=T.initiatorType,G=T.duration;if(N&&G&&uC($)){for($=0,G=T.responseEnd,x+=1;x<m.length;x++){var te=m[x],me=te.startTime;if(me>G)break;var ke=te.transferSize,je=te.initiatorType;ke&&uC(je)&&(te=te.responseEnd,$+=ke*(te<G?1:(G-me)/(te-me)))}if(--x,c+=8*(N+$)/(T.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var x_=null,w_=null;function lg(s){return s.nodeType===9?s:s.ownerDocument}function dC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fC(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function __(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var S_=null;function bG(){var s=window.event;return s&&s.type==="popstate"?s===S_?!1:(S_=s,!0):(S_=null,!1)}var hC=typeof setTimeout=="function"?setTimeout:void 0,yG=typeof clearTimeout=="function"?clearTimeout:void 0,mC=typeof Promise=="function"?Promise:void 0,vG=typeof queueMicrotask=="function"?queueMicrotask:typeof mC<"u"?function(s){return mC.resolve(null).then(s).catch(xG)}:hC;function xG(s){setTimeout(function(){throw s})}function El(s){return s==="head"}function pC(s,c){var m=c,x=0;do{var T=m.nextSibling;if(s.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"||m==="/&"){if(x===0){s.removeChild(T),yd(c);return}x--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")x++;else if(m==="html")Lh(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,Lh(m);for(var N=m.firstChild;N;){var $=N.nextSibling,G=N.nodeName;N[ac]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&N.rel.toLowerCase()==="stylesheet"||m.removeChild(N),N=$}}else m==="body"&&Lh(s.ownerDocument.body);m=T}while(m);yd(c)}function gC(s,c){var m=s;s=0;do{var x=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),x&&x.nodeType===8)if(m=x.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=x}while(m)}function k_(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":k_(m),Gf(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function wG(s,c,m,x){for(;s.nodeType===1;){var T=m;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[ac])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==T.rel||s.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||s.getAttribute("title")!==(T.title==null?null:T.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(T.src==null?null:T.src)||s.getAttribute("type")!==(T.type==null?null:T.type)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var N=T.name==null?null:""+T.name;if(T.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=ca(s.nextSibling),s===null)break}return null}function _G(s,c,m){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=ca(s.nextSibling),s===null))return null;return s}function bC(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ca(s.nextSibling),s===null))return null;return s}function E_(s){return s.data==="$?"||s.data==="$~"}function T_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function SG(s,c){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||m.readyState!=="loading")c();else{var x=function(){c(),m.removeEventListener("DOMContentLoaded",x)};m.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function ca(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var A_=null;function yC(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(c===0)return ca(s.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}s=s.nextSibling}return null}function vC(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return s;c--}else m!=="/$"&&m!=="/&"||c++}s=s.previousSibling}return null}function xC(s,c,m){switch(c=lg(m),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Lh(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Gf(s)}var ua=new Map,wC=new Set;function cg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ps=J.d;J.d={f:kG,r:EG,D:TG,C:AG,L:jG,m:NG,X:CG,S:OG,M:MG};function kG(){var s=ps.f(),c=eg();return s||c}function EG(s){var c=Ws(s);c!==null&&c.tag===5&&c.type==="form"?$N(c):ps.r(s)}var pd=typeof document>"u"?null:document;function _C(s,c,m){var x=pd;if(x&&typeof c=="string"&&c){var T=en(c);T='link[rel="'+s+'"][href="'+T+'"]',typeof m=="string"&&(T+='[crossorigin="'+m+'"]'),wC.has(T)||(wC.add(T),s={rel:s,crossOrigin:m,href:c},x.querySelector(T)===null&&(c=x.createElement("link"),Er(c,"link",s),In(c),x.head.appendChild(c)))}}function TG(s){ps.D(s),_C("dns-prefetch",s,null)}function AG(s,c){ps.C(s,c),_C("preconnect",s,c)}function jG(s,c,m){ps.L(s,c,m);var x=pd;if(x&&s&&c){var T='link[rel="preload"][as="'+en(c)+'"]';c==="image"&&m&&m.imageSrcSet?(T+='[imagesrcset="'+en(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(T+='[imagesizes="'+en(m.imageSizes)+'"]')):T+='[href="'+en(s)+'"]';var N=T;switch(c){case"style":N=gd(s);break;case"script":N=bd(s)}ua.has(N)||(s=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:s,as:c},m),ua.set(N,s),x.querySelector(T)!==null||c==="style"&&x.querySelector(Ih(N))||c==="script"&&x.querySelector($h(N))||(c=x.createElement("link"),Er(c,"link",s),In(c),x.head.appendChild(c)))}}function NG(s,c){ps.m(s,c);var m=pd;if(m&&s){var x=c&&typeof c.as=="string"?c.as:"script",T='link[rel="modulepreload"][as="'+en(x)+'"][href="'+en(s)+'"]',N=T;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=bd(s)}if(!ua.has(N)&&(s=p({rel:"modulepreload",href:s},c),ua.set(N,s),m.querySelector(T)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector($h(N)))return}x=m.createElement("link"),Er(x,"link",s),In(x),m.head.appendChild(x)}}}function OG(s,c,m){ps.S(s,c,m);var x=pd;if(x&&s){var T=Vs(x).hoistableStyles,N=gd(s);c=c||"default";var $=T.get(N);if(!$){var G={loading:0,preload:null};if($=x.querySelector(Ih(N)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},m),(m=ua.get(N))&&j_(s,m);var te=$=x.createElement("link");In(te),Er(te,"link",s),te._p=new Promise(function(me,ke){te.onload=me,te.onerror=ke}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,ug($,c,x)}$={type:"stylesheet",instance:$,count:1,state:G},T.set(N,$)}}}function CG(s,c){ps.X(s,c);var m=pd;if(m&&s){var x=Vs(m).hoistableScripts,T=bd(s),N=x.get(T);N||(N=m.querySelector($h(T)),N||(s=p({src:s,async:!0},c),(c=ua.get(T))&&N_(s,c),N=m.createElement("script"),In(N),Er(N,"link",s),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(T,N))}}function MG(s,c){ps.M(s,c);var m=pd;if(m&&s){var x=Vs(m).hoistableScripts,T=bd(s),N=x.get(T);N||(N=m.querySelector($h(T)),N||(s=p({src:s,async:!0,type:"module"},c),(c=ua.get(T))&&N_(s,c),N=m.createElement("script"),In(N),Er(N,"link",s),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(T,N))}}function SC(s,c,m,x){var T=(T=pe.current)?cg(T):null;if(!T)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=gd(m.href),m=Vs(T).hoistableStyles,x=m.get(c),x||(x={type:"style",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=gd(m.href);var N=Vs(T).hoistableStyles,$=N.get(s);if($||(T=T.ownerDocument||T,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,$),(N=T.querySelector(Ih(s)))&&!N._p&&($.instance=N,$.state.loading=5),ua.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ua.set(s,m),N||DG(T,s,m,$.state))),c&&x===null)throw Error(r(528,""));return $}if(c&&x!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=bd(m),m=Vs(T).hoistableScripts,x=m.get(c),x||(x={type:"script",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function gd(s){return'href="'+en(s)+'"'}function Ih(s){return'link[rel="stylesheet"]['+s+"]"}function kC(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function DG(s,c,m,x){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=s.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),Er(c,"link",m),In(c),s.head.appendChild(c))}function bd(s){return'[src="'+en(s)+'"]'}function $h(s){return"script[async]"+s}function EC(s,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var x=s.querySelector('style[data-href~="'+en(m.href)+'"]');if(x)return c.instance=x,In(x),x;var T=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),In(x),Er(x,"style",T),ug(x,m.precedence,s),c.instance=x;case"stylesheet":T=gd(m.href);var N=s.querySelector(Ih(T));if(N)return c.state.loading|=4,c.instance=N,In(N),N;x=kC(m),(T=ua.get(T))&&j_(x,T),N=(s.ownerDocument||s).createElement("link"),In(N);var $=N;return $._p=new Promise(function(G,te){$.onload=G,$.onerror=te}),Er(N,"link",x),c.state.loading|=4,ug(N,m.precedence,s),c.instance=N;case"script":return N=bd(m.src),(T=s.querySelector($h(N)))?(c.instance=T,In(T),T):(x=m,(T=ua.get(N))&&(x=p({},m),N_(x,T)),s=s.ownerDocument||s,T=s.createElement("script"),In(T),Er(T,"link",x),s.head.appendChild(T),c.instance=T);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,ug(x,m.precedence,s));return c.instance}function ug(s,c,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=x.length?x[x.length-1]:null,N=T,$=0;$<x.length;$++){var G=x[$];if(G.dataset.precedence===c)N=G;else if(N!==T)break}N?N.parentNode.insertBefore(s,N.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(s,c.firstChild))}function j_(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function N_(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var dg=null;function TC(s,c,m){if(dg===null){var x=new Map,T=dg=new Map;T.set(m,x)}else T=dg,x=T.get(m),x||(x=new Map,T.set(m,x));if(x.has(s))return x;for(x.set(s,null),m=m.getElementsByTagName(s),T=0;T<m.length;T++){var N=m[T];if(!(N[ac]||N[Ln]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var $=N.getAttribute(c)||"";$=s+$;var G=x.get($);G?G.push(N):x.set($,[N])}}return x}function AC(s,c,m){s=s.ownerDocument||s,s.head.insertBefore(m,c==="title"?s.querySelector("head > title"):null)}function PG(s,c,m){if(m===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function jC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function RG(s,c,m,x){if(m.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var T=gd(x.href),N=c.querySelector(Ih(T));if(N){c=N._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=fg.bind(s),c.then(s,s)),m.state.loading|=4,m.instance=N,In(N);return}N=c.ownerDocument||c,x=kC(x),(T=ua.get(T))&&j_(x,T),N=N.createElement("link"),In(N);var $=N;$._p=new Promise(function(G,te){$.onload=G,$.onerror=te}),Er(N,"link",x),m.instance=N}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=fg.bind(s),c.addEventListener("load",m),c.addEventListener("error",m))}}var O_=0;function LG(s,c){return s.stylesheets&&s.count===0&&mg(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var x=setTimeout(function(){if(s.stylesheets&&mg(s,s.stylesheets),s.unsuspend){var N=s.unsuspend;s.unsuspend=null,N()}},6e4+c);0<s.imgBytes&&O_===0&&(O_=62500*gG());var T=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&mg(s,s.stylesheets),s.unsuspend)){var N=s.unsuspend;s.unsuspend=null,N()}},(s.imgBytes>O_?50:800)+c);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(x),clearTimeout(T)}}:null}function fg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var hg=null;function mg(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,hg=new Map,c.forEach(IG,s),hg=null,fg.call(s))}function IG(s,c){if(!(c.state.loading&4)){var m=hg.get(s);if(m)var x=m.get(null);else{m=new Map,hg.set(s,m);for(var T=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<T.length;N++){var $=T[N];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(m.set($.dataset.precedence,$),x=$)}x&&m.set(null,x)}T=c.instance,$=T.getAttribute("data-precedence"),N=m.get($)||x,N===x&&m.set(null,T),m.set($,T),this.count++,x=fg.bind(this),T.addEventListener("load",x),T.addEventListener("error",x),N?N.parentNode.insertBefore(T,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(T,s.firstChild)),c.state.loading|=4}}var Bh={$$typeof:A,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function $G(s,c,m,x,T,N,$,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uf(0),this.hiddenUpdates=Uf(null),this.identifierPrefix=x,this.onUncaughtError=T,this.onCaughtError=N,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function NC(s,c,m,x,T,N,$,G,te,me,ke,je){return s=new $G(s,c,m,$,te,me,ke,je,G),c=1,N===!0&&(c|=24),N=Lr(3,null,null,c),s.current=N,N.stateNode=s,c=cw(),c.refCount++,s.pooledCache=c,c.refCount++,N.memoizedState={element:x,isDehydrated:m,cache:c},hw(N),s}function OC(s){return s?(s=ts,s):ts}function CC(s,c,m,x,T,N){T=OC(T),x.context===null?x.context=T:x.pendingContext=T,x=ml(c),x.payload={element:m},N=N===void 0?null:N,N!==null&&(x.callback=N),m=pl(s,x,c),m!==null&&(mi(m,s,c),bh(m,s,c))}function MC(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<c?m:c}}function C_(s,c){MC(s,c),(s=s.alternate)&&MC(s,c)}function DC(s){if(s.tag===13||s.tag===31){var c=oa(s,67108864);c!==null&&mi(c,s,67108864),C_(s,67108864)}}function PC(s){if(s.tag===13||s.tag===31){var c=Pi();c=ri(c);var m=oa(s,c);m!==null&&mi(m,s,c),C_(s,c)}}var pg=!0;function BG(s,c,m,x){var T=Y.T;Y.T=null;var N=J.p;try{J.p=2,M_(s,c,m,x)}finally{J.p=N,Y.T=T}}function zG(s,c,m,x){var T=Y.T;Y.T=null;var N=J.p;try{J.p=8,M_(s,c,m,x)}finally{J.p=N,Y.T=T}}function M_(s,c,m,x){if(pg){var T=D_(x);if(T===null)y_(s,c,x,gg,m),LC(s,x);else if(FG(T,s,c,m,x))x.stopPropagation();else if(LC(s,x),c&4&&-1<UG.indexOf(s)){for(;T!==null;){var N=Ws(T);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var $=ni(N.pendingLanes);if($!==0){var G=N;for(G.pendingLanes|=2,G.entangledLanes|=2;$;){var te=1<<31-kt($);G.entanglements[1]|=te,$&=~te}ko(N),(Dt&6)===0&&(J0=_e()+500,Dh(0))}}break;case 31:case 13:G=oa(N,2),G!==null&&mi(G,N,2),eg(),C_(N,2)}if(N=D_(x),N===null&&y_(s,c,x,gg,m),N===T)break;T=N}T!==null&&x.stopPropagation()}else y_(s,c,x,null,m)}}function D_(s){return s=uc(s),P_(s)}var gg=null;function P_(s){if(gg=null,s=Vo(s),s!==null){var c=a(s);if(c===null)s=null;else{var m=c.tag;if(m===13){if(s=o(c),s!==null)return s;s=null}else if(m===31){if(s=l(c),s!==null)return s;s=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return gg=s,null}function RC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ne()){case Ue:return 2;case Je:return 8;case lt:case Rt:return 32;case Rn:return 268435456;default:return 32}default:return 32}}var R_=!1,Tl=null,Al=null,jl=null,zh=new Map,Uh=new Map,Nl=[],UG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LC(s,c){switch(s){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":Al=null;break;case"mouseover":case"mouseout":jl=null;break;case"pointerover":case"pointerout":zh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uh.delete(c.pointerId)}}function Fh(s,c,m,x,T,N){return s===null||s.nativeEvent!==N?(s={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:N,targetContainers:[T]},c!==null&&(c=Ws(c),c!==null&&DC(c)),s):(s.eventSystemFlags|=x,c=s.targetContainers,T!==null&&c.indexOf(T)===-1&&c.push(T),s)}function FG(s,c,m,x,T){switch(c){case"focusin":return Tl=Fh(Tl,s,c,m,x,T),!0;case"dragenter":return Al=Fh(Al,s,c,m,x,T),!0;case"mouseover":return jl=Fh(jl,s,c,m,x,T),!0;case"pointerover":var N=T.pointerId;return zh.set(N,Fh(zh.get(N)||null,s,c,m,x,T)),!0;case"gotpointercapture":return N=T.pointerId,Uh.set(N,Fh(Uh.get(N)||null,s,c,m,x,T)),!0}return!1}function IC(s){var c=Vo(s.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=o(m),c!==null){s.blockedOn=c,Hf(s.priority,function(){PC(m)});return}}else if(c===31){if(c=l(m),c!==null){s.blockedOn=c,Hf(s.priority,function(){PC(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function bg(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var m=D_(s.nativeEvent);if(m===null){m=s.nativeEvent;var x=new m.constructor(m.type,m);Lu=x,m.target.dispatchEvent(x),Lu=null}else return c=Ws(m),c!==null&&DC(c),s.blockedOn=m,!1;c.shift()}return!0}function $C(s,c,m){bg(s)&&m.delete(c)}function HG(){R_=!1,Tl!==null&&bg(Tl)&&(Tl=null),Al!==null&&bg(Al)&&(Al=null),jl!==null&&bg(jl)&&(jl=null),zh.forEach($C),Uh.forEach($C)}function yg(s,c){s.blockedOn===c&&(s.blockedOn=null,R_||(R_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,HG)))}var vg=null;function BC(s){vg!==s&&(vg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){vg===s&&(vg=null);for(var c=0;c<s.length;c+=3){var m=s[c],x=s[c+1],T=s[c+2];if(typeof x!="function"){if(P_(x||m)===null)continue;break}var N=Ws(m);N!==null&&(s.splice(c,3),c-=3,Dw(N,{pending:!0,data:T,method:m.method,action:x},x,T))}}))}function yd(s){function c(te){return yg(te,s)}Tl!==null&&yg(Tl,s),Al!==null&&yg(Al,s),jl!==null&&yg(jl,s),zh.forEach(c),Uh.forEach(c);for(var m=0;m<Nl.length;m++){var x=Nl[m];x.blockedOn===s&&(x.blockedOn=null)}for(;0<Nl.length&&(m=Nl[0],m.blockedOn===null);)IC(m),m.blockedOn===null&&Nl.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var T=m[x],N=m[x+1],$=T[sr]||null;if(typeof N=="function")$||BC(m);else if($){var G=null;if(N&&N.hasAttribute("formAction")){if(T=N,$=N[sr]||null)G=$.formAction;else if(P_(T)!==null)continue}else G=$.action;typeof G=="function"?m[x+1]=G:(m.splice(x,3),x-=3),BC(m)}}}function zC(){function s(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function($){return T=$})},focusReset:"manual",scroll:"manual"})}function c(){T!==null&&(T(),T=null),x||setTimeout(m,20)}function m(){if(!x&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,T=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){x=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),T!==null&&(T(),T=null)}}}function L_(s){this._internalRoot=s}xg.prototype.render=L_.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,x=Pi();CC(m,x,s,c,null,null)},xg.prototype.unmount=L_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;CC(s.current,2,null,s,null,null),eg(),c[Wo]=null}};function xg(s){this._internalRoot=s}xg.prototype.unstable_scheduleHydration=function(s){if(s){var c=Ff();s={blockedOn:null,target:s,priority:c};for(var m=0;m<Nl.length&&c!==0&&c<Nl[m].priority;m++);Nl.splice(m,0,s),m===0&&IC(s)}};var UC=t.version;if(UC!=="19.2.1")throw Error(r(527,UC,"19.2.1"));J.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(c),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var GG={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wg.isDisabled&&wg.supportsFiber)try{or=wg.inject(GG),on=wg}catch{}}return Gh.createRoot=function(s,c){if(!i(s))throw Error(r(299));var m=!1,x="",T=WN,N=VN,$=ZN;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(T=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError)),c=NC(s,1,!1,null,null,m,x,null,T,N,$,zC),s[Wo]=c.current,b_(s),new L_(c)},Gh.hydrateRoot=function(s,c,m){if(!i(s))throw Error(r(299));var x=!1,T="",N=WN,$=VN,G=ZN,te=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onUncaughtError!==void 0&&(N=m.onUncaughtError),m.onCaughtError!==void 0&&($=m.onCaughtError),m.onRecoverableError!==void 0&&(G=m.onRecoverableError),m.formState!==void 0&&(te=m.formState)),c=NC(s,1,!0,c,m??null,x,T,te,N,$,G,zC),c.context=OC(null),m=c.current,x=Pi(),x=ri(x),T=ml(x),T.callback=null,pl(m,T,x),m=x,c.current.lanes=m,Ko(c,m),ko(c),s[Wo]=c.current,b_(s),new xg(c)},Gh.version="19.2.1",Gh}var XC;function QG(){if(XC)return $_.exports;XC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$_.exports=JG(),$_.exports}var eY=QG(),_=gf();const Jt=Si(_),tY=$E({__proto__:null,default:Jt},[_]);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JC="popstate";function nY(e={}){function t(r,i){let{pathname:a,search:o,hash:l}=r.location;return Tk("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rm(i)}return iY(t,n,null,e)}function mn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rY(){return Math.random().toString(36).substring(2,10)}function QC(e,t){return{usr:e.state,key:e.key,idx:t}}function Tk(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bf(t):t,state:n,key:t&&t.key||r||rY()}}function Rm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function iY(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",u=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let S=h(),j=S==null?null:S-d;d=S,u&&u({action:l,location:w.location,delta:j})}function b(S,j){l="PUSH";let O=Tk(w.location,S,j);d=h()+1;let A=QC(O,d),C=w.createHref(O);try{o.pushState(A,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(C)}a&&u&&u({action:l,location:w.location,delta:1})}function y(S,j){l="REPLACE";let O=Tk(w.location,S,j);d=h();let A=QC(O,d),C=w.createHref(O);o.replaceState(A,"",C),a&&u&&u({action:l,location:w.location,delta:0})}function k(S){return aY(S)}let w={get action(){return l},get location(){return e(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(JC,p),u=S,()=>{i.removeEventListener(JC,p),u=null}},createHref(S){return t(i,S)},createURL:k,encodeLocation(S){let j=k(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:y,go(S){return o.go(S)}};return w}function aY(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Rm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function J5(e,t,n="/"){return oY(e,t,n,!1)}function oY(e,t,n,r){let i=typeof t=="string"?bf(t):t,a=Os(i.pathname||"/",n);if(a==null)return null;let o=Q5(e);sY(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=yY(a);l=gY(o[u],d,r)}return l}function Q5(e,t=[],n=[],r="",i=!1){let a=(o,l,u=i,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;mn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=As([r,h.relativePath]),b=n.concat(h);o.children&&o.children.length>0&&(mn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Q5(o.children,t,b,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:mY(p,o.index),routesMeta:b})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let u of e$(o.path))a(o,l,!0,u)}),t}function e$(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=e$(r.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function sY(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pY(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var lY=/^:[\w-]+$/,cY=3,uY=2,dY=1,fY=10,hY=-2,eM=e=>e==="*";function mY(e,t){let n=e.split("/"),r=n.length;return n.some(eM)&&(r+=hY),t&&(r+=uY),n.filter(i=>!eM(i)).reduce((i,a)=>i+(lY.test(a)?cY:a===""?dY:fY),r)}function pY(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function gY(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=Zb({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),b=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Zb({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:As([a,p.pathname]),pathnameBase:SY(As([a,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(a=As([a,p.pathnameBase]))}return o}function Zb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=bY(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:p},b)=>{if(h==="*"){let k=l[b]||"";o=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const y=l[b];return p&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function bY(e,t=!1,n=!0){Sa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function yY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var vY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xY=e=>vY.test(e);function wY(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bf(e):e,a;if(n)if(xY(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Sa(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=tM(n.substring(1),"/"):a=tM(n,t)}else a=t;return{pathname:a,search:kY(r),hash:EY(i)}}function tM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function H_(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _Y(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function BE(e){let t=_Y(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function zE(e,t,n,r=!1){let i;typeof e=="string"?i=bf(e):(i={...e},mn(!i.pathname||!i.pathname.includes("?"),H_("?","pathname","search",i)),mn(!i.pathname||!i.pathname.includes("#"),H_("#","pathname","hash",i)),mn(!i.search||!i.search.includes("#"),H_("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}l=p>=0?t[p]:"/"}let u=wY(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var As=e=>e.join("/").replace(/\/\/+/g,"/"),SY=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kY=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,EY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TY(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function AY(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var t$=["POST","PUT","PATCH","DELETE"];new Set(t$);var jY=["GET",...t$];new Set(jY);var yf=_.createContext(null);yf.displayName="DataRouter";var Av=_.createContext(null);Av.displayName="DataRouterState";_.createContext(!1);var n$=_.createContext({isTransitioning:!1});n$.displayName="ViewTransition";var NY=_.createContext(new Map);NY.displayName="Fetchers";var OY=_.createContext(null);OY.displayName="Await";var Na=_.createContext(null);Na.displayName="Navigation";var gp=_.createContext(null);gp.displayName="Location";var Ho=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ho.displayName="Route";var UE=_.createContext(null);UE.displayName="RouteError";function CY(e,{relative:t}={}){mn(vf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Na),{hash:i,pathname:a,search:o}=bp(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:As([n,a])),r.createHref({pathname:l,search:o,hash:i})}function vf(){return _.useContext(gp)!=null}function Hr(){return mn(vf(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(gp).location}var r$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i$(e){_.useContext(Na).static||_.useLayoutEffect(e)}function Jl(){let{isDataRoute:e}=_.useContext(Ho);return e?GY():MY()}function MY(){mn(vf(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(yf),{basename:t,navigator:n}=_.useContext(Na),{matches:r}=_.useContext(Ho),{pathname:i}=Hr(),a=JSON.stringify(BE(r)),o=_.useRef(!1);return i$(()=>{o.current=!0}),_.useCallback((u,d={})=>{if(Sa(o.current,r$),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=zE(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:As([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}_.createContext(null);function bp(e,{relative:t}={}){let{matches:n}=_.useContext(Ho),{pathname:r}=Hr(),i=JSON.stringify(BE(n));return _.useMemo(()=>zE(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function DY(e,t){return a$(e,t)}function a$(e,t,n,r,i){mn(vf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(Na),{matches:o}=_.useContext(Ho),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let O=p&&p.path||"";o$(d,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=Hr(),y;if(t){let O=typeof t=="string"?bf(t):t;mn(h==="/"||O.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${O.pathname}" was given in the \`location\` prop.`),y=O}else y=b;let k=y.pathname||"/",w=k;if(h!=="/"){let O=h.replace(/^\//,"").split("/");w="/"+k.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=J5(e,{pathname:w});Sa(p||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Sa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=$Y(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:As([h,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:As([h,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),o,n,r,i);return t&&j?_.createElement(gp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},j):j}function PY(){let e=HY(),t=TY(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,o)}var RY=_.createElement(PY,null),LY=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?_.createElement(Ho.Provider,{value:this.props.routeContext},_.createElement(UE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IY({routeContext:e,match:t,children:n}){let r=_.useContext(yf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Ho.Provider,{value:e},n)}function $Y(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);mn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:b,errors:y}=n,k=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||k){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let d=n&&r?(h,p)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:AY(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,b)=>{let y,k=!1,w=null,S=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||RY,l&&(u<0&&b===0?(o$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,S=null):u===b&&(k=!0,S=p.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,b+1)),O=()=>{let A;return y?A=w:k?A=S:p.route.Component?A=_.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,_.createElement(IY,{match:p,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?_.createElement(LY,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:O(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:d}):O()},null)}function FE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BY(e){let t=_.useContext(yf);return mn(t,FE(e)),t}function zY(e){let t=_.useContext(Av);return mn(t,FE(e)),t}function UY(e){let t=_.useContext(Ho);return mn(t,FE(e)),t}function HE(e){let t=UY(e),n=t.matches[t.matches.length-1];return mn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function FY(){return HE("useRouteId")}function HY(){let e=_.useContext(UE),t=zY("useRouteError"),n=HE("useRouteError");return e!==void 0?e:t.errors?.[n]}function GY(){let{router:e}=BY("useNavigate"),t=HE("useNavigate"),n=_.useRef(!1);return i$(()=>{n.current=!0}),_.useCallback(async(i,a={})=>{Sa(n.current,r$),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var nM={};function o$(e,t,n){!t&&!nM[e]&&(nM[e]=!0,Sa(!1,n))}_.memo(YY);function YY({routes:e,future:t,state:n,unstable_onError:r}){return a$(e,void 0,n,r,t)}function qY({to:e,replace:t,state:n,relative:r}){mn(vf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Na);Sa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(Ho),{pathname:o}=Hr(),l=Jl(),u=zE(e,BE(a),o,r==="path"),d=JSON.stringify(u);return _.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:r})},[l,d,r,t,n]),null}function Ha(e){mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KY({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){mn(!vf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[l,i,a,o]);typeof n=="string"&&(n=bf(n));let{pathname:d="/",search:h="",hash:p="",state:b=null,key:y="default"}=n,k=_.useMemo(()=>{let w=Os(d,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:b,key:y},navigationType:r}},[l,d,h,p,b,y,r]);return Sa(k!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:_.createElement(Na.Provider,{value:u},_.createElement(gp.Provider,{children:t,value:k}))}function WY({children:e,location:t}){return DY(Ak(e),t)}function Ak(e,t=[]){let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let a=[...t,i];if(r.type===_.Fragment){n.push.apply(n,Ak(r.props.children,a));return}mn(r.type===Ha,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ak(r.props.children,a)),n.push(o)}),n}var Mb="get",Db="application/x-www-form-urlencoded";function jv(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function VY(e){return jv(e)&&e.tagName.toLowerCase()==="button"}function ZY(e){return jv(e)&&e.tagName.toLowerCase()==="form"}function XY(e){return jv(e)&&e.tagName.toLowerCase()==="input"}function JY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function QY(e,t){return e.button===0&&(!t||t==="_self")&&!JY(e)}var _g=null;function eq(){if(_g===null)try{new FormData(document.createElement("form"),0),_g=!1}catch{_g=!0}return _g}var tq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function G_(e){return e!=null&&!tq.has(e)?(Sa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Db}"`),null):e}function nq(e,t){let n,r,i,a,o;if(ZY(e)){let l=e.getAttribute("action");r=l?Os(l,t):null,n=e.getAttribute("method")||Mb,i=G_(e.getAttribute("enctype"))||Db,a=new FormData(e)}else if(VY(e)||XY(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?Os(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Mb,i=G_(e.getAttribute("formenctype"))||G_(l.getAttribute("enctype"))||Db,a=new FormData(l,e),!eq()){let{name:d,type:h,value:p}=e;if(h==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,p)}}else{if(jv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mb,r=null,i=Db,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function GE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rq(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Os(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function iq(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aq(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function oq(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await iq(a,n);return o.links?o.links():[]}return[]}));return uq(r.flat(1).filter(aq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function rM(e,t,n,r,i,a){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):a==="data"?t.filter((u,d)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function sq(e,t,{includeHydrateFallback:n}={}){return lq(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function lq(e){return[...new Set(e)]}function cq(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function uq(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(cq(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function s$(){let e=_.useContext(yf);return GE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function dq(){let e=_.useContext(Av);return GE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var YE=_.createContext(void 0);YE.displayName="FrameworkContext";function l$(){let e=_.useContext(YE);return GE(e,"You must render this element inside a <HydratedRouter> element"),e}function fq(e,t){let n=_.useContext(YE),[r,i]=_.useState(!1),[a,o]=_.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=t,b=_.useRef(null);_.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=j=>{j.forEach(O=>{o(O.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),_.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},k=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,b,{}]:[a,b,{onFocus:Yh(l,y),onBlur:Yh(u,k),onMouseEnter:Yh(d,y),onMouseLeave:Yh(h,k),onTouchStart:Yh(p,y)}]:[!1,b,{}]}function Yh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function hq({page:e,...t}){let{router:n}=s$(),r=_.useMemo(()=>J5(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(pq,{page:e,matches:r,...t}):null}function mq(e){let{manifest:t,routeModules:n}=l$(),[r,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return oq(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function pq({page:e,matches:t,...n}){let r=Hr(),{manifest:i,routeModules:a}=l$(),{basename:o}=s$(),{loaderData:l,matches:u}=dq(),d=_.useMemo(()=>rM(e,t,u,i,r,"data"),[e,t,u,i,r]),h=_.useMemo(()=>rM(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let k=new Set,w=!1;if(t.forEach(j=>{let O=i.routes[j.route.id];!O||!O.hasLoader||(!d.some(A=>A.route.id===j.route.id)&&j.route.id in l&&a[j.route.id]?.shouldRevalidate||O.hasClientLoader?w=!0:k.add(j.route.id))}),k.size===0)return[];let S=rq(e,o,"data");return w&&k.size>0&&S.searchParams.set("_routes",t.filter(j=>k.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[o,l,r,i,d,t,e,a]),b=_.useMemo(()=>sq(h,i),[h,i]),y=mq(h);return _.createElement(_.Fragment,null,p.map(k=>_.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),b.map(k=>_.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),y.map(({key:k,link:w})=>_.createElement("link",{key:k,nonce:n.nonce,...w})))}function gq(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var c$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c$&&(window.__reactRouterVersion="7.10.1")}catch{}function bq({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=_.useRef();i.current==null&&(i.current=nY({window:r,v5Compat:!0}));let a=i.current,[o,l]=_.useState({action:a.action,location:a.location}),u=_.useCallback(d=>{n===!1?l(d):_.startTransition(()=>l(d))},[n]);return _.useLayoutEffect(()=>a.listen(u),[a,u]),_.createElement(KY,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var u$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qE=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p,...b},y){let{basename:k,unstable_useTransitions:w}=_.useContext(Na),S=typeof d=="string"&&u$.test(d),j,O=!1;if(typeof d=="string"&&S&&(j=d,c$))try{let q=new URL(window.location.href),H=d.startsWith("//")?new URL(q.protocol+d):new URL(d),B=Os(H.pathname,k);H.origin===q.origin&&B!=null?d=B+H.search+H.hash:O=!0}catch{Sa(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=CY(d,{relative:i}),[C,D,P]=fq(r,b),I=wq(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p,unstable_useTransitions:w});function U(q){t&&t(q),q.defaultPrevented||I(q)}let K=_.createElement("a",{...b,...P,href:j||A,onClick:O||a?t:U,ref:gq(y,D),target:u,"data-discover":!S&&n==="render"?"true":void 0});return C&&!S?_.createElement(_.Fragment,null,K,_.createElement(hq,{page:A})):K});qE.displayName="Link";var yq=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:u,...d},h){let p=bp(o,{relative:d.relative}),b=Hr(),y=_.useContext(Av),{navigator:k,basename:w}=_.useContext(Na),S=y!=null&&Tq(p)&&l===!0,j=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,O=b.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(O=O.toLowerCase(),A=A?A.toLowerCase():null,j=j.toLowerCase()),A&&w&&(A=Os(A,w)||A);const C=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let D=O===j||!i&&O.startsWith(j)&&O.charAt(C)==="/",P=A!=null&&(A===j||!i&&A.startsWith(j)&&A.charAt(j.length)==="/"),I={isActive:D,isPending:P,isTransitioning:S},U=D?t:void 0,K;typeof r=="function"?K=r(I):K=[r,D?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let q=typeof a=="function"?a(I):a;return _.createElement(qE,{...d,"aria-current":U,className:K,ref:h,style:q,to:o,viewTransition:l},typeof u=="function"?u(I):u)});yq.displayName="NavLink";var vq=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Mb,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:p,...b},y)=>{let{unstable_useTransitions:k}=_.useContext(Na),w=kq(),S=Eq(l,{relative:d}),j=o.toLowerCase()==="get"?"get":"post",O=typeof l=="string"&&u$.test(l),A=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let D=C.nativeEvent.submitter,P=D?.getAttribute("formmethod")||o,I=()=>w(D||C.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:p});k&&n!==!1?_.startTransition(()=>I()):I()};return _.createElement("form",{ref:y,method:j,action:S,onSubmit:r?u:A,...b,"data-discover":!O&&e==="render"?"true":void 0})});vq.displayName="Form";function xq(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d$(e){let t=_.useContext(yf);return mn(t,xq(e)),t}function wq(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:l}={}){let u=Jl(),d=Hr(),h=bp(e,{relative:a});return _.useCallback(p=>{if(QY(p,t)){p.preventDefault();let b=n!==void 0?n:Rm(d)===Rm(h),y=()=>u(e,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:o});l?_.startTransition(()=>y()):y()}},[d,u,h,n,r,t,e,i,a,o,l])}var _q=0,Sq=()=>`__${String(++_q)}__`;function kq(){let{router:e}=d$("useSubmit"),{basename:t}=_.useContext(Na),n=FY(),r=e.fetch,i=e.navigate;return _.useCallback(async(a,o={})=>{let{action:l,method:u,encType:d,formData:h,body:p}=nq(a,t);if(o.navigate===!1){let b=o.fetcherKey||Sq();await r(b,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await i(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function Eq(e,{relative:t}={}){let{basename:n}=_.useContext(Na),r=_.useContext(Ho);mn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...bp(e||".",{relative:t})},o=Hr();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:As([n,a.pathname])),Rm(a)}function Tq(e,{relative:t}={}){let n=_.useContext(n$);mn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=d$("useViewTransitionState"),i=bp(e,{relative:t});if(!n.isTransitioning)return!1;let a=Os(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Os(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zb(i.pathname,o)!=null||Zb(i.pathname,a)!=null}var ju=X5();const Aq=Si(ju);let jq={data:""},Nq=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||jq,Oq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Cq=/\/\*[^]*?\*\/|  +/g,iM=/\n+/g,Pl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?Pl(o,a):a+"{"+Pl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=Pl(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Pl.p?Pl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},gs={},f$=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+f$(e[n]);return t}return e},Mq=(e,t,n,r,i)=>{let a=f$(e),o=gs[a]||(gs[a]=(u=>{let d=0,h=11;for(;d<u.length;)h=101*h+u.charCodeAt(d++)>>>0;return"go"+h})(a));if(!gs[o]){let u=a!==e?e:(d=>{let h,p,b=[{}];for(;h=Oq.exec(d.replace(Cq,""));)h[4]?b.shift():h[3]?(p=h[3].replace(iM," ").trim(),b.unshift(b[0][p]=b[0][p]||{})):b[0][h[1]]=h[2].replace(iM," ").trim();return b[0]})(e);gs[o]=Pl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&gs.g?gs.g:null;return n&&(gs.g=gs[o]),((u,d,h,p)=>{p?d.data=d.data.replace(p,u):d.data.indexOf(u)===-1&&(d.data=h?u+d.data:d.data+u)})(gs[o],t,r,l),o},Dq=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":Pl(l,""):l===!1?"":l}return r+i+(o??"")},"");function Nv(e){let t=this||{},n=e.call?e(t.p):e;return Mq(n.unshift?n.raw?Dq(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,Nq(t.target),t.g,t.o,t.k)}let h$,jk,Nk;Nv.bind({g:1});let Cs=Nv.bind({k:1});function Pq(e,t,n,r){Pl.p=t,h$=e,jk=n,Nk=r}function Ql(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),u=l.className||i.className;n.p=Object.assign({theme:jk&&jk()},l),n.o=/ *go\d+/.test(u),l.className=Nv.apply(n,r)+(u?" "+u:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),Nk&&d[0]&&Nk(l),h$(d,l)}return i}}var Rq=e=>typeof e=="function",Xb=(e,t)=>Rq(e)?e(t):e,Lq=(()=>{let e=0;return()=>(++e).toString()})(),m$=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Iq=20,KE="default",p$=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return p$(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Pb=[],g$={toasts:[],pausedAt:void 0,settings:{toastLimit:Iq}},Po={},b$=(e,t=KE)=>{Po[t]=p$(Po[t]||g$,e),Pb.forEach(([n,r])=>{n===t&&r(Po[t])})},y$=e=>Object.keys(Po).forEach(t=>b$(e,t)),$q=e=>Object.keys(Po).find(t=>Po[t].toasts.some(n=>n.id===e)),Ov=(e=KE)=>t=>{b$(t,e)},Bq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},zq=(e={},t=KE)=>{let[n,r]=_.useState(Po[t]||g$),i=_.useRef(Po[t]);_.useEffect(()=>(i.current!==Po[t]&&r(Po[t]),Pb.push([t,r]),()=>{let o=Pb.findIndex(([l])=>l===t);o>-1&&Pb.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,u,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||Bq[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...n,toasts:a}},Uq=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||Lq()}),yp=e=>(t,n)=>{let r=Uq(t,e,n);return Ov(r.toasterId||$q(r.id))({type:2,toast:r}),r.id},Pn=(e,t)=>yp("blank")(e,t);Pn.error=yp("error");Pn.success=yp("success");Pn.loading=yp("loading");Pn.custom=yp("custom");Pn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Ov(t)(n):y$(n)};Pn.dismissAll=e=>Pn.dismiss(void 0,e);Pn.remove=(e,t)=>{let n={type:4,toastId:e};t?Ov(t)(n):y$(n)};Pn.removeAll=e=>Pn.remove(void 0,e);Pn.promise=(e,t,n)=>{let r=Pn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Xb(t.success,i):void 0;return a?Pn.success(a,{id:r,...n,...n?.success}):Pn.dismiss(r),i}).catch(i=>{let a=t.error?Xb(t.error,i):void 0;a?Pn.error(a,{id:r,...n,...n?.error}):Pn.dismiss(r)}),e};var Fq=1e3,Hq=(e,t="default")=>{let{toasts:n,pausedAt:r}=zq(e,t),i=_.useRef(new Map).current,a=_.useCallback((p,b=Fq)=>{if(i.has(p))return;let y=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},b);i.set(p,y)},[]);_.useEffect(()=>{if(r)return;let p=Date.now(),b=n.map(y=>{if(y.duration===1/0)return;let k=(y.duration||0)+y.pauseDuration-(p-y.createdAt);if(k<0){y.visible&&Pn.dismiss(y.id);return}return setTimeout(()=>Pn.dismiss(y.id,t),k)});return()=>{b.forEach(y=>y&&clearTimeout(y))}},[n,r,t]);let o=_.useCallback(Ov(t),[t]),l=_.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=_.useCallback((p,b)=>{o({type:1,toast:{id:p,height:b}})},[o]),d=_.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=_.useCallback((p,b)=>{let{reverseOrder:y=!1,gutter:k=8,defaultPosition:w}=b||{},S=n.filter(A=>(A.position||w)===(p.position||w)&&A.height),j=S.findIndex(A=>A.id===p.id),O=S.filter((A,C)=>C<j&&A.visible).length;return S.filter(A=>A.visible).slice(...y?[O+1]:[0,O]).reduce((A,C)=>A+(C.height||0)+k,0)},[n]);return _.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let b=i.get(p.id);b&&(clearTimeout(b),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:d,calculateOffset:h}}},Gq=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Yq=Cs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qq=Cs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Kq=Ql("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Gq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Yq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${qq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Wq=Cs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Vq=Ql("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Wq} 1s linear infinite;
`,Zq=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Xq=Cs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Jq=Ql("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Xq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Qq=Ql("div")`
  position: absolute;
`,eK=Ql("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,tK=Cs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nK=Ql("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${tK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,rK=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?_.createElement(nK,null,t):t:n==="blank"?null:_.createElement(eK,null,_.createElement(Vq,{...r}),n!=="loading"&&_.createElement(Qq,null,n==="error"?_.createElement(Kq,{...r}):_.createElement(Jq,{...r})))},iK=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,aK=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,oK="0%{opacity:0;} 100%{opacity:1;}",sK="0%{opacity:1;} 100%{opacity:0;}",lK=Ql("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,cK=Ql("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,uK=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=m$()?[oK,sK]:[iK(n),aK(n)];return{animation:t?`${Cs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},dK=_.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?uK(e.position||t||"top-center",e.visible):{opacity:0},a=_.createElement(rK,{toast:e}),o=_.createElement(cK,{...e.ariaProps},Xb(e.message,e));return _.createElement(lK,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):_.createElement(_.Fragment,null,a,o))});Pq(_.createElement);var fK=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=_.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return _.createElement("div",{ref:a,className:t,style:n},i)},hK=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:m$()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},mK=Nv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Sg=16,v$=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=Hq(n,a);return _.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Sg,left:Sg,right:Sg,bottom:Sg,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(h=>{let p=h.position||t,b=d.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),y=hK(p,b);return _.createElement(fK,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?mK:"",style:y},h.type==="custom"?Xb(h.message,h):i?i(h):_.createElement(dK,{toast:h,position:p}))}))},pa=Pn;function pK(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),l=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+l+o-1524.5}const gK=864e5;function bK(e){const t=(e-24405875e-1)*gK;return new Date(t)}function yK(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function vK(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),l=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*l)+n;let d=l-1;d>12&&(d-=12);let h=a-4715;return d>2&&(h-=1),[h,d,u]}const jm=Math.PI,ru=jm/180,xK=180/jm,wK=86400;function _K(e){return e%=360,e<0?e+360:e}function SK(e,t){return(e-t+540)%360-180}function aM(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function kK(e){const[t,n]=vK(e);return e+yK(t,Math.round(n))/wK}function oM(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,l,u]of e[i])a+=o*Math.cos(l+u*t);n+=a*r,r*=t}return n*1e-8}function EK(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*ru,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*ru,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*ru,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*ru,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*ru,l=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,d=0;for(const[h,p,b,y,k,w,S,j,O]of l){const A=h*n+p*r+b*i+y*a+k*o;u+=(w+S*t)*Math.sin(A),d+=(j+O*t)*Math.cos(A)}return u*=1e-4,d*=1e-4,{dpsi:u,deps:d}}function kg(e){const t=kK(e),n=(t-2451545)/365250,r=oM(sM.L,n),i=oM(sM.R,n);let a=r+jm;a>2*jm&&(a-=2*jm);const{dpsi:o}=EK(t),l=o/3600*ru,u=20.4898/(3600*i),d=a+l-u*ru;return _K(d*xK)}function jn(e,t,n){const r=(t%360+360)%360,i=pK(e,1,1),a=kg(i);let o=r-a;o<0&&(o+=360);let l=i+o/.98564736;const u=1e-6,d=5e-6;for(let b=0;b<25;b++){const y=kg(l),k=SK(r,y);if(Math.abs(k)<u)break;const w=kg(l+d),S=kg(l-d),j=aM(w,y),O=aM(S,y),A=(j-O)/(2*d);l+=k/A}const h=bK(l),p=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),0,0);if(Number.isFinite(n)){const b=n/15-9;if(Math.abs(b)>1e-12)return new Date(p.getTime()+b*36e5)}return p}const sM={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},TK=(e,t)=>(e%t+t)%t,WE=(e,t)=>(e%t+t)%t,x$=e=>e instanceof Date&&!Number.isNaN(e.getTime()),lM=new Map;function w$(e,t=127.5){const n=`${e}@${t}`,r=lM.get(n);if(r)return r;const i=jn(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return lM.set(n,i),i}function _$(e,t=127.5){if(!x$(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=w$(n,t),i=e<r?n-1:n,a=TK(i-4,60);return{useYear:i,index60Num:a}}const Jr=["","","","","","","","","",""],xi=["","","","","","","","","","","",""],Ok={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},so={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},AK=["","","","","","","","","",""],jK=["","","","","","","","","","","",""],NK=["","","","","","","","","","","","","","","","","","","",""],OK=["","","","","","","","","","","","","","","","","","","","","","","",""],Jd=new Set(Jr),Lm=new Set(xi),Kn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},er={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Im=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Jb=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],CK={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},MK={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function ct(e,t=127.5){const{index60Num:n}=_$(e,t);return Im[n]}function DK(e,t=127.5){return(ct(e,t)||"").charAt(0)}const PK=[2,4,6,8,0,2,4,6,8,0];function RK(e,t=127.5){const n=new Array(12);return n[0]=w$(e,t),n[1]=jn(e,345,t),n[2]=jn(e,15,t),n[3]=jn(e,45,t),n[4]=jn(e,75,t),n[5]=jn(e,105,t),n[6]=jn(e,135,t),n[7]=jn(e,165,t),n[8]=jn(e,195,t),n[9]=jn(e,225,t),n[10]=jn(e,255,t),n[11]=jn(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function LK(e,t=127.5){const{useYear:n}=_$(e,t),r=RK(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function IK(e,t=127.5){const n=DK(e,t),r=Ok..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return PK[r]}function $K(e,t,n=127.5){return(IK(e,n)+(t-1))%10}function Et(e,t=127.5){if(!x$(e))return"";const{monthIndex:n}=LK(e,t),r=(2+(n-1))%12,i=Ok.[r],a=$K(e,n,t);return Ok.[a]+i}const Qb={JDN:2445731,idx:0};function S$(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),l=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+l-1524.5}function BK(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=FK(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function zK(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function ht(e,t){const n=BK(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=S$(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=WE(a-Qb.JDN+Qb.idx,60),l=Im[o];if(!l)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return l}function to(e,t){if(!e)return e;const n=Im.indexOf(e);return n<0?e:Im[WE(n+t,60)]??e}function UK(e,t){const n=new Date(e),r=zK(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=S$(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),l=WE(o-Qb.JDN+Qb.idx,60),u=Im[l];if(!u)throw new Error(`getDayGanZhi: idx=${l} out of range (jdn=${o}, jd=${a})`);return u}function FK(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Jb.length;n+=1){const{branch:r,start:i,end:a}=Jb[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function HK(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Jb.length;n+=1){const{branch:r,start:i,end:a}=Jb[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function GK(e,t,n,r){const i=Jr.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),Jr[a]}function no(e,t,n){e instanceof Date||(e=new Date(e));const r=HK(e),i=xi.indexOf(r),o=(n??ht(e,t)).charAt(0);return GK(e,o,i,t)+r}const cM=e=>{let t;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const b=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,b))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=t=e(r,i,l);return l},YK=(e=>e?cM(e):cM),qK=e=>e;function KK(e,t=qK){const n=Jt.useSyncExternalStore(e.subscribe,Jt.useCallback(()=>t(e.getState()),[e,t]),Jt.useCallback(()=>t(e.getInitialState()),[e,t]));return Jt.useDebugValue(n),n}const uM=e=>{const t=YK(e),n=r=>KK(t,r);return Object.assign(n,t),n},Go=(e=>e?uM(e):uM);function WK(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const Ck=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Ck(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Ck(r)(n)}}}},VK=(e,t)=>(n,r,i)=>{let a={storage:WK(()=>localStorage),partialize:w=>w,version:0,merge:(w,S)=>({...S,...w}),...t},o=!1;const l=new Set,u=new Set;let d=a.storage;if(!d)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const h=()=>{const w=a.partialize({...r()});return d.setItem(a.name,{state:w,version:a.version})},p=i.setState;i.setState=(w,S)=>(p(w,S),h());const b=e((...w)=>(n(...w),h()),r,i);i.getInitialState=()=>b;let y;const k=()=>{var w,S;if(!d)return;o=!1,l.forEach(O=>{var A;return O((A=r())!=null?A:b)});const j=((S=a.onRehydrateStorage)==null?void 0:S.call(a,(w=r())!=null?w:b))||void 0;return Ck(d.getItem.bind(d))(a.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==a.version){if(a.migrate){const A=a.migrate(O.state,O.version);return A instanceof Promise?A.then(C=>[!0,C]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var A;const[C,D]=O;if(y=a.merge(D,(A=r())!=null?A:b),n(y,!0),C)return h()}).then(()=>{j?.(y,void 0),y=r(),o=!0,u.forEach(O=>O(y))}).catch(O=>{j?.(void 0,O)})};return i.persist={setOptions:w=>{a={...a,...w},w.storage&&(d=w.storage)},clearStorage:()=>{d?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>k(),hasHydrated:()=>o,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},a.skipHydration||k(),y||b},k$=VK;var bs={},Eg={},Mk=function(e,t){return Mk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Mk(e,t)};function E$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mk(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ey=function(){return ey=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ey.apply(this,arguments)};function xf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function T$(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function A$(e,t){return function(n,r){t(n,r,e)}}function j$(e,t,n,r,i,a){function o(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),p,b=!1,y=n.length-1;y>=0;y--){var k={};for(var w in r)k[w]=w==="access"?{}:r[w];for(var w in r.access)k.access[w]=r.access[w];k.addInitializer=function(j){if(b)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(j||null))};var S=(0,n[y])(l==="accessor"?{get:h.get,set:h.set}:h[u],k);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(p=o(S.get))&&(h.get=p),(p=o(S.set))&&(h.set=p),(p=o(S.init))&&i.unshift(p)}else(p=o(S))&&(l==="field"?i.unshift(p):h[u]=p)}d&&Object.defineProperty(d,r.name,h),b=!0}function N$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function O$(e){return typeof e=="symbol"?e:"".concat(e)}function C$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function M$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ge(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(l,u)}d((r=r.apply(e,t||[])).next())})}function D$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Cv=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function P$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Cv(t,e,n)}function ty(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function VE(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function R$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(VE(arguments[t]));return e}function L$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,i++)r[i]=a[o];return r}function I$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Qd(e){return this instanceof Qd?(this.v=e,this):new Qd(e)}function $$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(k){return Promise.resolve(k).then(y,p)}}function l(y,k){r[y]&&(i[y]=function(w){return new Promise(function(S,j){a.push([y,w,S,j])>1||u(y,w)})},k&&(i[y]=k(i[y])))}function u(y,k){try{d(r[y](k))}catch(w){b(a[0][3],w)}}function d(y){y.value instanceof Qd?Promise.resolve(y.value.v).then(h,p):b(a[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function b(y,k){y(k),a.shift(),a.length&&u(a[0][0],a[0][1])}}function B$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:Qd(e[i](o)),done:!1}:a?a(o):o}:a}}function z$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ty=="function"?ty(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(l,u){o=e[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},o)}}function U$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var ZK=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Dk=function(e){return Dk=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Dk(e)};function F$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Dk(e),r=0;r<n.length;r++)n[r]!=="default"&&Cv(t,e,n[r]);return ZK(t,e),t}function H$(e){return e&&e.__esModule?e:{default:e}}function G$(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Y$(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function q$(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function K$(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var XK=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function W$(e){function t(a){e.error=e.hasError?new XK(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function V$(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const JK={__extends:E$,__assign:ey,__rest:xf,__decorate:T$,__param:A$,__esDecorate:j$,__runInitializers:N$,__propKey:O$,__setFunctionName:C$,__metadata:M$,__awaiter:Ge,__generator:D$,__createBinding:Cv,__exportStar:P$,__values:ty,__read:VE,__spread:R$,__spreadArrays:L$,__spreadArray:I$,__await:Qd,__asyncGenerator:$$,__asyncDelegator:B$,__asyncValues:z$,__makeTemplateObject:U$,__importStar:F$,__importDefault:H$,__classPrivateFieldGet:G$,__classPrivateFieldSet:Y$,__classPrivateFieldIn:q$,__addDisposableResource:K$,__disposeResources:W$,__rewriteRelativeImportExtension:V$},QK=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:K$,get __assign(){return ey},__asyncDelegator:B$,__asyncGenerator:$$,__asyncValues:z$,__await:Qd,__awaiter:Ge,__classPrivateFieldGet:G$,__classPrivateFieldIn:q$,__classPrivateFieldSet:Y$,__createBinding:Cv,__decorate:T$,__disposeResources:W$,__esDecorate:j$,__exportStar:P$,__extends:E$,__generator:D$,__importDefault:H$,__importStar:F$,__makeTemplateObject:U$,__metadata:M$,__param:A$,__propKey:O$,__read:VE,__rest:xf,__rewriteRelativeImportExtension:V$,__runInitializers:N$,__setFunctionName:C$,__spread:R$,__spreadArray:I$,__spreadArrays:L$,__values:ty,default:JK},Symbol.toStringTag,{value:"Module"})),eW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Mv=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Z$=class extends Mv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Pk=class extends Mv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Rk=class extends Mv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var ny;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ny||(ny={}));class tW{constructor(t,{headers:n={},customFetch:r,region:i=ny.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=eW(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ge(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:u,body:d,signal:h,timeout:p}=r;let b={},{region:y}=r;y||(y=this.region);const k=new URL(`${this.url}/${n}`);y&&y!=="any"&&(b["x-region"]=y,k.searchParams.set("forceFunctionRegion",y));let w;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(b["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(b["Content-Type"]="application/json",w=JSON.stringify(d)):w=d;let S=h;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),h?(S=o.signal,h.addEventListener("abort",()=>o.abort())):S=o.signal);const j=yield this.fetch(k.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),l),body:w,signal:S}).catch(D=>{throw new Z$(D)}),O=j.headers.get("x-relay-error");if(O&&O==="true")throw new Pk(j);if(!j.ok)throw new Rk(j);let A=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield j.json():A==="application/octet-stream"||A==="application/pdf"?C=yield j.blob():A==="text/event-stream"?C=j:A==="multipart/form-data"?C=yield j.formData():C=yield j.text(),{data:C,error:null,response:j}}catch(l){return{data:null,error:l,response:l instanceof Rk||l instanceof Pk?l.context:void 0}}finally{a&&clearTimeout(a)}})}}const nW=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return ny},FunctionsClient:tW,FunctionsError:Mv,FunctionsFetchError:Z$,FunctionsHttpError:Rk,FunctionsRelayError:Pk},Symbol.toStringTag,{value:"Module"})),X$=pp(nW);var $r={};const wf=pp(QK);var Tg={},Ag={},jg={},Ng={},Og={},Cg={},dM;function J$(){if(dM)return Cg;dM=1,Object.defineProperty(Cg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Cg.default=e,Cg}var fM;function Q$(){if(fM)return Og;fM=1,Object.defineProperty(Og,"__esModule",{value:!0});const t=wf.__importDefault(J$());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,p,b;let y=null,k=null,w=null,S=u.status,j=u.statusText;if(u.ok){if(this.method!=="HEAD"){const D=await u.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?k=D:k=JSON.parse(D))}const A=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");A&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(y={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,w=null,S=406,j="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const A=await u.text();try{y=JSON.parse(A),Array.isArray(y)&&u.status===404&&(k=[],y=null,S=200,j="OK")}catch{u.status===404&&A===""?(S=204,j="No Content"):y={message:A}}if(y&&this.isMaybeSingle&&(!((b=y?.details)===null||b===void 0)&&b.includes("0 rows"))&&(y=null,S=200,j="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:k,count:w,status:S,statusText:j}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,p,b,y,k;let w="";const S=u?.cause;if(S){const j=(d=S?.message)!==null&&d!==void 0?d:"",O=(h=S?.code)!==null&&h!==void 0?h:"";w=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,w+=`

Caused by: ${(b=S?.name)!==null&&b!==void 0?b:"Error"}: ${j}`,O&&(w+=` (${O})`),S?.stack&&(w+=`
${S.stack}`)}else w=(y=u?.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(k=u?.name)!==null&&k!==void 0?k:"FetchError"}: ${u?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}};return Og.default=n,Og}var hM;function eB(){if(hM)return Ng;hM=1,Object.defineProperty(Ng,"__esModule",{value:!0});const t=wf.__importDefault(Q$());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),b=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${b}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Ng.default=n,Ng}var mM;function ZE(){if(mM)return jg;mM=1,Object.defineProperty(jg,"__esModule",{value:!0});const t=wf.__importDefault(eB()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${d}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}};return jg.default=r,jg}var pM;function tB(){if(pM)return Ag;pM=1,Object.defineProperty(Ag,"__esModule",{value:!0});const t=wf.__importDefault(ZE());let n=class{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},u=o?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((b,y)=>b.concat(Object.keys(y)),[]);if(p.length>0){const b=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Ag.default=n,Ag}var gM;function rW(){if(gM)return Tg;gM=1,Object.defineProperty(Tg,"__esModule",{value:!0});const e=wf,t=e.__importDefault(tB()),n=e.__importDefault(ZE());let r=class nB{constructor(a,{headers:o={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new nB(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:u=!1,count:d}={}){var h;let p;const b=new URL(`${this.url}/rpc/${a}`);let y;l||u?(p=l?"HEAD":"GET",Object.entries(o).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{b.searchParams.append(w,S)})):(p="POST",y=o);const k=new Headers(this.headers);return d&&k.set("Prefer",`count=${d}`),new n.default({method:p,url:b,headers:k,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return Tg.default=r,Tg}var bM;function rB(){if(bM)return $r;bM=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.PostgrestError=$r.PostgrestBuilder=$r.PostgrestTransformBuilder=$r.PostgrestFilterBuilder=$r.PostgrestQueryBuilder=$r.PostgrestClient=void 0;const e=wf,t=e.__importDefault(rW());$r.PostgrestClient=t.default;const n=e.__importDefault(tB());$r.PostgrestQueryBuilder=n.default;const r=e.__importDefault(ZE());$r.PostgrestFilterBuilder=r.default;const i=e.__importDefault(eB());$r.PostgrestTransformBuilder=i.default;const a=e.__importDefault(Q$());$r.PostgrestBuilder=a.default;const o=e.__importDefault(J$());return $r.PostgrestError=o.default,$r.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},$r}class iB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const iW="2.86.2",aW=`realtime-js/${iW}`,aB="1.0.0",oW="2.0.0",yM=aB,Lk=1e4,sW=1e3,lW=100;var iu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(iu||(iu={}));var Hn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Hn||(Hn={}));var qa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qa||(qa={}));var Ik;(function(e){e.websocket="websocket"})(Ik||(Ik={}));var au;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(au||(au={}));class cW{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+d.length+p.length,y=new ArrayBuffer(this.HEADER_LENGTH+b);let k=new DataView(y),w=0;k.setUint8(w++,this.KINDS.userBroadcastPush),k.setUint8(w++,u.length),k.setUint8(w++,l.length),k.setUint8(w++,o.length),k.setUint8(w++,d.length),k.setUint8(w++,p.length),k.setUint8(w++,n),Array.from(u,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(l,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(o,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(d,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(p,j=>k.setUint8(w++,j.charCodeAt(0)));var S=new Uint8Array(y.byteLength+r.byteLength);return S.set(new Uint8Array(y),0),S.set(new Uint8Array(r),y.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,u]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=r.decode(t.slice(u,u+i));u=u+i;const h=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const b=t.slice(u,t.byteLength),y=l===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,k={type:this.BROADCAST_EVENT,event:h,payload:y};return o>0&&(k.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class oB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xt||(Xt={}));const vM=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=uW(o,e,t,i),a),{}):{}},uW=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?sB(a,o):$k(o)},sB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return mW(t,n)}switch(e){case Xt.bool:return dW(t);case Xt.float4:case Xt.float8:case Xt.int2:case Xt.int4:case Xt.int8:case Xt.numeric:case Xt.oid:return fW(t);case Xt.json:case Xt.jsonb:return hW(t);case Xt.timestamp:return pW(t);case Xt.abstime:case Xt.date:case Xt.daterange:case Xt.int4range:case Xt.int8range:case Xt.money:case Xt.reltime:case Xt.text:case Xt.time:case Xt.timestamptz:case Xt.timetz:case Xt.tsrange:case Xt.tstzrange:return $k(t);default:return $k(t)}},$k=e=>e,dW=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fW=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},hW=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},mW=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>sB(t,l))}return e},pW=e=>typeof e=="string"?e.replace(" ","T"):e,lB=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Y_{constructor(t,n,r={},i=Lk){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bk||(Bk={}));let cB=class Rb{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rb.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=Rb.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Rb.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(a,(d,h)=>{o[d]||(u[d]=h)}),this.map(o,(d,h)=>{const p=a[d];if(p){const b=h.map(S=>S.presence_ref),y=p.map(S=>S.presence_ref),k=h.filter(S=>y.indexOf(S.presence_ref)<0),w=p.filter(S=>b.indexOf(S.presence_ref)<0);k.length>0&&(l[d]=k),w.length>0&&(u[d]=w)}else l[d]=h}),this.syncDiff(a,{joins:l,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,u)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),h.length>0){const p=t[l].map(y=>y.presence_ref),b=h.filter(y=>p.indexOf(y.presence_ref)<0);t[l].unshift(...b)}r(l,h,u)}),this.map(o,(l,u)=>{let d=t[l];if(!d)return;const h=u.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),t[l]=d,i(l,d,u),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var zk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zk||(zk={}));var Yd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yd||(Yd={}));var No;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(No||(No={}));const gW=Hn;let uB=class dB{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Hn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Y_(this,qa.join,this.params,this.timeout),this.rejoinTimer=new oB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Hn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Hn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Hn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Hn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Hn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new cB(this),this.broadcastEndpointURL=lB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Hn.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Yd.PRESENCE]&&this.bindings[Yd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},b={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(No.CHANNEL_ERROR,y)),this._onClose(()=>t?.(No.CLOSED)),this.updateJoinPayload(Object.assign({config:b},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var k;if(this.socket.setAuth(),y===void 0){t?.(No.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(k=w?.length)!==null&&k!==void 0?k:0,j=[];for(let O=0;O<S;O++){const A=w[O],{filter:{event:C,schema:D,table:P,filter:I}}=A,U=y&&y[O];if(U&&U.event===C&&U.schema===D&&U.table===P&&U.filter===I)j.push(Object.assign(Object.assign({},A),{id:U.id}));else{this.unsubscribe(),this.state=Hn.errored,t?.(No.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(No.SUBSCRIBED);return}}).receive("error",y=>{this.state=Hn.errored,t?.(No.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(No.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Hn.joined&&t===Yd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Hn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Y_(this,qa.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Hn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Y_(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>lW){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=qa;if(r&&[l,u,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let b=this._onMessage(o,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var k,w,S;return((k=y.filter)===null||k===void 0?void 0:k.event)==="*"||((S=(w=y.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(y=>y.callback(b,r)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var k,w,S,j,O,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const C=y.id,D=(k=y.filter)===null||k===void 0?void 0:k.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(D==="*"||D?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const C=(O=(j=y?.filter)===null||j===void 0?void 0:j.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return C==="*"||C===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof b=="object"&&"ids"in b){const k=b.data,{schema:w,table:S,commit_timestamp:j,type:O,errors:A}=k;b=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:j,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(k))}y.callback(b,r)})}_isClosed(){return this.state===Hn.closed}_isJoined(){return this.state===Hn.joined}_isJoining(){return this.state===Hn.joining}_isLeaving(){return this.state===Hn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&dB.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qa.close,{},t)}_onError(t){this._on(qa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Hn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=vM(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=vM(t.columns,t.old_record)),n}};const q_=()=>{},Mg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bW=[1e3,2e3,5e3,1e4],yW=1e4,vW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let xW=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lk,this.transport=null,this.heartbeatIntervalMs=Mg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=q_,this.ref=0,this.reconnectTimer=null,this.vsn=yM,this.logger=q_,this.conn=null,this.sendBuffer=[],this.serializer=new cW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Ik.websocket}`,this.httpEndpoint=lB(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case iu.connecting:return au.Connecting;case iu.open:return au.Open;case iu.closing:return au.Closing;default:return au.Closed}}isConnected(){return this.connectionState()===au.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new uB(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(sW,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Mg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===iu.open||this.conn.readyState===iu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([vW],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:aW};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(qa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new oB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,u,d,h,p,b,y;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Lk,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Mg.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:q_,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:yM,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(k=>bW[k-1]||yW),this.vsn){case aB:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((k,w)=>w(JSON.stringify(k))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((k,w)=>w(JSON.parse(k)));break;case oW:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const wW=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:gW,get REALTIME_LISTEN_TYPES(){return Yd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return zk},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Bk},get REALTIME_SUBSCRIBE_STATES(){return No},RealtimeChannel:uB,RealtimeClient:xW,RealtimePresence:cB,WebSocketFactory:iB},Symbol.toStringTag,{value:"Module"})),fB=pp(wW);class vp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function cn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class hB extends vp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ry extends vp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const XE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_W=()=>Response,Uk=e=>{if(Array.isArray(e))return e.map(n=>Uk(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Uk(r)}),t},SW=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kW=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),K_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},EW=(e,t,n)=>Ge(void 0,void 0,void 0,function*(){const r=yield _W();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new hB(K_(i),a,o))}).catch(i=>{t(new ry(K_(i),i))}):t(new ry(K_(e),e))}),TW=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(SW(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function xp(e,t,n,r,i,a){return Ge(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,TW(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>EW(u,l,r))})})}function $m(e,t,n,r){return Ge(this,void 0,void 0,function*(){return xp(e,"GET",t,n,r)})}function Ya(e,t,n,r,i){return Ge(this,void 0,void 0,function*(){return xp(e,"POST",t,r,i,n)})}function Fk(e,t,n,r,i){return Ge(this,void 0,void 0,function*(){return xp(e,"PUT",t,r,i,n)})}function AW(e,t,n,r){return Ge(this,void 0,void 0,function*(){return xp(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function JE(e,t,n,r,i){return Ge(this,void 0,void 0,function*(){return xp(e,"DELETE",t,r,i,n)})}class jW{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(cn(t))return{data:null,error:t};throw t}})}}var mB;class NW{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[mB]="BlobDownloadBuilder",this.promise=null}asStream(){return new jW(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(cn(t))return{data:null,error:t};throw t}})}}mB=Symbol.toStringTag;const OW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class CW{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=XE(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ge(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},xM),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield(t=="PUT"?Fk:Ya)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ge(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:xM.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield Fk(this.fetch,l.toString(),u,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(cn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Ya(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new vp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ge(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield Ya(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ge(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ya(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ge(this,void 0,void 0,function*(){try{const i=yield Ya(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),u=()=>$m(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new NW(u,this.shouldThrowOnError)}info(t){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield $m(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Uk(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}exists(t){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield AW(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r)&&r instanceof ry){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield JE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ge(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},OW),n),{prefix:t||""});return{data:yield Ya(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ge(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ya(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const pB="2.86.2",gB={"X-Client-Info":`storage-js/${pB}`};class MW{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gB),n),this.fetch=XE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ge(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield $m(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield $m(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ge(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ya(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ge(this,void 0,void 0,function*(){try{return{data:yield Fk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield JE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Bm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function DW(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function PW(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function RW(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=DW(e.baseUrl,r,i),u=await PW(e.auth),d=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),h=await d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),b=p&&h?JSON.parse(h):h;if(!d.ok){const y=p?b:void 0,k=y?.error;throw new Bm(k?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:k?.type,icebergCode:k?.code,details:y})}return{status:d.status,headers:d.headers,data:b}}}}function Dg(e){return e.join("")}var LW=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Dg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dg(e.namespace)}`}),!0}catch(t){if(t instanceof Bm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Bm&&n.status===409)return;throw n}}};function vd(e){return e.join("")}var IW=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vd(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vd(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vd(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vd(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vd(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vd(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Bm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Bm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},$W=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=RW({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new LW(this.client,t),this.tableOps=new IW(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class bB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gB),n),this.fetch=XE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ge(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield $m(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield JE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}from(t){if(!kW(t))throw new vp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new $W({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ge(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const QE={"X-Client-Info":`storage-js/${pB}`,"Content-Type":"application/json"};class eT extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function yi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Lb extends eT{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yB extends eT{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Hk;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Hk||(Hk={}));const Dv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BW=()=>Response,vB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zW=e=>Array.from(new Float32Array(e)),UW=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},wM=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FW=(e,t,n)=>Ge(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";t(new Lb(wM(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new Lb(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new Lb(l,i,o))}}else t(new yB(wM(e),e))}),HW=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(vB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function GW(e,t,n,r,i,a){return Ge(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,HW(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>FW(u,l,r))})})}function zi(e,t,n,r,i){return Ge(this,void 0,void 0,function*(){return GW(e,"POST",t,r,i,n)})}class xB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QE),n),this.fetch=Dv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ge(this,void 0,void 0,function*(){try{return{data:(yield zi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yi(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ge(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yi(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yi(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ge(this,void 0,void 0,function*(){try{return{data:(yield zi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yi(r))return{data:null,error:r};throw r}})}}class wB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QE),n),this.fetch=Dv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ge(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield zi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yi(n))return{data:null,error:n};throw n}})}getVectors(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yi(n))return{data:null,error:n};throw n}})}listVectors(t){return Ge(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield zi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yi(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yi(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ge(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield zi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yi(n))return{data:null,error:n};throw n}})}}class _B{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QE),n),this.fetch=Dv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:(yield zi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yi(n))return{data:null,error:n};throw n}})}getBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yi(n))return{data:null,error:n};throw n}})}listBuckets(){return Ge(this,arguments,void 0,function*(t={}){try{return{data:yield zi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yi(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:(yield zi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yi(n))return{data:null,error:n};throw n}})}}class SB extends _B{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new kB(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ge(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ge(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ge(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ge(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class kB extends xB{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ge(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ge(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ge(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ge(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new EB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class EB extends wB{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ge(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ge(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ge(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ge(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ge(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class YW extends MW{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new CW(this.url,this.headers,t,this.fetch)}get vectors(){return new SB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bB(this.url+"/iceberg",this.headers,this.fetch)}}const qW=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:bB,StorageApiError:hB,StorageClient:YW,StorageError:vp,StorageUnknownError:ry,StorageVectorsApiError:Lb,StorageVectorsClient:SB,StorageVectorsError:eT,get StorageVectorsErrorCode(){return Hk},StorageVectorsUnknownError:yB,VectorBucketApi:_B,VectorBucketScope:kB,VectorDataApi:wB,VectorIndexApi:xB,VectorIndexScope:EB,isPlainObject:vB,isStorageError:cn,isStorageVectorsError:yi,normalizeToFloat32:zW,resolveFetch:Dv,resolveResponse:BW,validateVectorDimension:UW},Symbol.toStringTag,{value:"Module"})),KW=pp(qW);var W_={},qh={},_M;function WW(){return _M||(_M=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.version=void 0,qh.version="2.86.2"),qh}var SM;function VW(){return SM||(SM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=WW();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(W_)),W_}var V_={},kM;function ZW(){return kM||(kM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const l=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(d,h)=>{var p;const b=(p=await a())!==null&&p!==void 0?p:i;let y=new u(h?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${b}`),l(d,Object.assign(Object.assign({},h),{headers:y}))}};e.fetchWithAuth=r})(V_)),V_}var ys={},EM;function XW(){if(EM)return ys;EM=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.isBrowser=void 0,ys.uuid=e,ys.ensureTrailingSlash=t,ys.applySettingDefaults=r,ys.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,l=a=="x"?o:o&3|8;return l.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";ys.isBrowser=n;function r(a,o){var l,u;const{db:d,auth:h,realtime:p,global:b}=a,{db:y,auth:k,realtime:w,global:S}=o,j={db:Object.assign(Object.assign({},y),d),auth:Object.assign(Object.assign({},k),h),realtime:Object.assign(Object.assign({},w),p),storage:{},global:Object.assign(Object.assign(Object.assign({},S),b),{headers:Object.assign(Object.assign({},(l=S?.headers)!==null&&l!==void 0?l:{}),(u=b?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?j.accessToken=a.accessToken:delete j.accessToken,j}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ys}var Kh={};const TB="2.86.2",Pd=30*1e3,Gk=3,Z_=Gk*Pd,JW="http://localhost:9999",QW="supabase.auth.token",eV={"X-Client-Info":`gotrue-js/${TB}`},Yk="X-Supabase-Api-Version",AB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nV=600*1e3;let ef=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function We(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let jB=class extends ef{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function NB(e){return We(e)&&e.name==="AuthApiError"}let Rl=class extends ef{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Bs=class extends ef{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},pi=class extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function OB(e){return We(e)&&e.name==="AuthSessionMissingError"}let Zc=class extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},xm=class extends Bs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},wm=class extends Bs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function CB(e){return We(e)&&e.name==="AuthImplicitGrantRedirectError"}let qk=class extends Bs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},iy=class extends Bs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Ib(e){return We(e)&&e.name==="AuthRetryableFetchError"}let Kk=class extends Bs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function rV(e){return We(e)&&e.name==="AuthWeakPasswordError"}let ay=class extends Bs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const oy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),TM=` 	
\r=`.split(""),iV=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<TM.length;t+=1)e[TM[t].charCodeAt(0)]=-2;for(let t=0;t<oy.length;t+=1)e[oy[t].charCodeAt(0)]=t;return e})();function AM(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(oy[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(oy[r]),t.queuedBits-=6}}function MB(e,t,n){const r=iV[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jM(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{sV(o,r,n)};for(let o=0;o<e.length;o+=1)MB(e.charCodeAt(o),i,a);return t.join("")}function aV(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function oV(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}aV(r,t)}}function sV(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function qd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)MB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function lV(e){const t=[];return oV(e,n=>t.push(n)),new Uint8Array(t)}function lu(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>AM(i,n,r)),AM(null,n,r),t.join("")}function cV(e){return Math.round(Date.now()/1e3)+e}function uV(){return Symbol("auth-callback")}const jr=()=>typeof window<"u"&&typeof document<"u",zc={tested:!1,writable:!1},DB=()=>{if(!jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zc.tested)return zc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zc.tested=!0,zc.writable=!0}catch{zc.tested=!0,zc.writable=!1}return zc.writable};function dV(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const PB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fV=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Uc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tr=async(e,t)=>{await e.removeItem(t)};class Pv{constructor(){this.promise=new Pv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Pv.promiseConstructor=Promise;function X_(e){const t=e.split(".");if(t.length!==3)throw new ay("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!tV.test(t[r]))throw new ay("JWT not in base64url format");return{header:JSON.parse(jM(t[0])),payload:JSON.parse(jM(t[1])),signature:qd(t[2]),raw:{header:t[0],payload:t[1]}}}async function hV(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mV(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function pV(e){return("0"+e.toString(16)).substr(-2)}function gV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,pV).join("")}async function bV(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function yV(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await bV(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xd(e,t,n=!1){const r=gV();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Rd(e,`${t}-code-verifier`,i);const a=await yV(r);return[a,r===a?"plain":"s256"]}const vV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xV(e){const t=e.headers.get(Yk);if(!t||!t.match(vV))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function wV(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _V(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wd(e){if(!SV.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function J_(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kV(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function NM(e){return JSON.parse(JSON.stringify(e))}const Xc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EV=[502,503,504];async function OM(e){var t;if(!fV(e))throw new iy(Xc(e),0);if(EV.includes(e.status))throw new iy(Xc(e),e.status);let n;try{n=await e.json()}catch(a){throw new Rl(Xc(a),a)}let r;const i=xV(e);if(i&&i.getTime()>=AB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Kk(Xc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new pi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Kk(Xc(n),e.status,n.weak_password.reasons);throw new jB(Xc(n),e.status||500,r)}const TV=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ot(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[Yk]||(a[Yk]=AB["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await AV(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function AV(e,t,n,r,i,a){const o=TV(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new iy(Xc(u),0)}if(l.ok||await OM(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await OM(u)}}function Ga(e){var t;let n=null;OV(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=cV(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function CM(e){const t=Ga(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ll(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jV(e){return{data:e,error:null}}function NV(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=xf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function MM(e){return e}function OV(e){return e.access_token&&e.refresh_token&&e.expires_in}const $b=["global","local","others"];let tT=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=PB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=$b[0]){if($b.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$b.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ll})}catch(r){if(We(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=xf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:NV,redirectTo:n?.redirectTo})}catch(n){if(We(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ll})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:MM});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(k.split(";")[1].split("=")[1]);d[`${S}Page`]=w}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(We(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){wd(t);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ll})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){wd(t);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ll})}catch(r){if(We(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){wd(t);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ll})}catch(r){if(We(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){wd(t.userId);try{const{data:n,error:r}=await ot(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(We(n))return{data:null,error:n};throw n}}async _deleteFactor(t){wd(t.userId),wd(t.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:MM});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(k.split(";")[1].split("=")[1]);d[`${S}Page`]=w}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(We(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(We(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(We(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ot(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(We(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ot(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(We(n))return{data:null,error:n};throw n}}};function DM(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Jc={debug:!!(globalThis&&DB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let RB=class extends nT{};class CV extends nT{}async function LB(e,t,n){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new RB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const PM={};async function MV(e,t,n){var r;const i=(r=PM[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new CV(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return PM[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function DV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function IB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function PV(e){return parseInt(e,16)}function RV(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function LV(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:u,resources:d,scheme:h,uri:p,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=IB(e.address),k=h?`${h}://${r}`:r,w=e.statement?`${e.statement}
`:"",S=`${k} wants you to sign in with your Ethereum account:
${y}

${w}`;let j=`URI: ${p}
Version: ${b}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),l&&(j+=`
Not Before: ${l.toISOString()}`),u&&(j+=`
Request ID: ${u}`),d){let O=`
Resources:`;for(const A of d){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}j+=O}return`${S}
${j}`}class Gn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class sy extends Gn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function IV({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Gn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Gn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Gn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Gn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Gn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Gn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Gn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if($B(o)){if(a.rp.id!==o)return new Gn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Gn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Gn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function $V({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Gn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if($B(r)){if(n.rpId!==r)return new Gn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Gn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class BV{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const zV=new BV;function UV(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=xf(e,["challenge","user","excludeCredentials"]),a=qd(t).buffer,o=Object.assign(Object.assign({},n),{id:qd(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:qd(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function FV(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=xf(e,["challenge","allowCredentials"]),i=qd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:qd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function HV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:lu(new Uint8Array(e.response.attestationObject)),clientDataJSON:lu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function GV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:lu(new Uint8Array(i.authenticatorData)),clientDataJSON:lu(new Uint8Array(i.clientDataJSON)),signature:lu(new Uint8Array(i.signature)),userHandle:i.userHandle?lu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $B(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function RM(){var e,t;return!!(jr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function YV(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sy("Browser returned unexpected credential type",t)}:{data:null,error:new sy("Empty credential response",t)}}catch(t){return{data:null,error:IV({error:t,options:e})}}}async function qV(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sy("Browser returned unexpected credential type",t)}:{data:null,error:new sy("Empty credential response",t)}}catch(t){return{data:null,error:$V({error:t,options:e})}}}const KV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},WV={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ly(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=ly(l,o):r[a]=ly(o)}else r[a]=o}return r}function VV(e,t){return ly(KV,e,t||{})}function ZV(e,t){return ly(WV,e,t||{})}class XV{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=i??zV.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=VV(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:p}=await YV({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=ZV(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:p}=await qV(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return We(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new ef("rpId is required for WebAuthn authentication")};try{if(!RM())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return We(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new ef("rpId is required for WebAuthn registration")};try{if(!RM())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return We(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in register",o)}}}}DV();const JV={url:JW,storageKey:QW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function LM(e,t,n){return await n()}const _d={};let rT=class Wk{get jwks(){var t,n;return(n=(t=_d[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){_d[this.storageKey]=Object.assign(Object.assign({},_d[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=_d[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_d[this.storageKey]=Object.assign(Object.assign({},_d[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},JV),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Wk.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Wk.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&jr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new tT({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=PB(a.fetch),this.lock=a.lock||LM,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:jr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=LB:this.lock=LM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new XV(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:DB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=DM(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=DM(this.memoryStorage)),jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${TB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(jr()&&(n=dV(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),jr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),CB(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return We(n)?this._returnResult({error:n}):this._returnResult({error:new Rl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ga}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(We(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:p,options:b}=t;let y=null,k=null;this.flowType==="pkce"&&([y,k]=await xd(this.storage,this.storageKey)),a=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:h,password:p,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:y,code_challenge_method:k},xform:Ga})}else if("phone"in t){const{phone:h,password:p,options:b}=t;a=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ga})}else throw new xm("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await Tr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),We(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:CM})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:CM})}else throw new xm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Zc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(We(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,u,d,h,p,b;let y,k;if("message"in t)y=t.message,k=t.signature;else{const{chain:w,wallet:S,statement:j,options:O}=t;let A;if(jr())if(typeof S=="object")A=S;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")A=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const C=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href),D=await A.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=IB(D[0]);let I=(r=O?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const K=await A.request({method:"eth_chainId"});I=PV(K)}const U={domain:C.host,address:P,statement:j,uri:C.href,version:"1",chainId:I,nonce:(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=LV(U),k=await A.request({method:"personal_sign",params:[RV(y),P]})}try{const{data:w,error:S}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:k},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ga});if(S)throw S;if(!w||!w.session||!w.user){const j=new Zc;return this._returnResult({data:{user:null,session:null},error:j})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:S})}catch(w){if(We(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,i,a,o,l,u,d,h,p,b,y;let k,w;if("message"in t)k=t.message,w=t.signature;else{const{chain:S,wallet:j,statement:O,options:A}=t;let C;if(jr())if(typeof j=="object")C=j;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const D=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),O?{statement:O}:null));let I;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")I=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)I=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)k=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),w=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${D.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=A?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(h=A?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(k),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:S,error:j}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:lu(w)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ga});if(j)throw j;if(!S||!S.session||!S.user){const O=new Zc;return this._returnResult({data:{user:null,session:null},error:O})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(We(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await Uc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ga});if(await Tr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Zc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),We(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ga}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const h=new Zc;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(We(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:u}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await xd(this.storage,this.storageKey));const{error:p}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:h}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new xm("You must provide either an email or phone number.")}catch(l){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),We(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ga});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(We(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await xd(this.storage,this.storageKey));const d=await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:jV});return!((a=d.data)===null||a===void 0)&&a.url&&jr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),We(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new pi;const{error:i}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(We(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new xm("You must provide either an email or phone number and a type")}catch(n){if(We(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Uc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Z_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Uc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=J_()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=kV(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ll}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pi}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ll})})}catch(n){if(We(n))return OB(n)&&(await this._removeSession(),await Tr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new pi;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await xd(this.storage,this.storageKey));const{data:d,error:h}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Ll});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),We(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pi;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=X_(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(We(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new pi;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(We(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!jr())throw new wm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new qk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qk("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:d}=t;if(!a||!l||!o||!d)throw new wm("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let b=h+p;u&&(b=parseInt(u));const y=b-h;y*1e3<=Pd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const k=b-p;h-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,b,h):h-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,b,h);const{data:w,error:S}=await this._getUser(a);if(S)throw S;const j={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:b,refresh_token:o,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(r){if(We(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Uc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(NB(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Tr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=uV(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await xd(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),We(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(We(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,u,d,h;const{data:p,error:b}=a;if(b)throw b;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return jr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(We(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:u,access_token:d,nonce:h}=t,p=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ga}),{data:b,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Zc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:y}))}catch(i){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),We(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(We(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await mV(async i=>(i>0&&await hV(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ga})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Ib(a)&&Date.now()+o-r<Pd})}catch(r){if(this._debug(n,"error",r),We(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),jr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Uc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Uc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Rd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:J_()}else if(i&&!i.user&&!i.user){const o=await Uc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Tr(this.storage,this.storageKey+"-user"),await Rd(this.storage,this.storageKey,i)):i.user=J_()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Z_;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Z_}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ib(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new pi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),We(a)){const o={data:null,error:a};return Ib(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Tr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Rd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=NM(i);await Rd(this.storage,this.storageKey,a)}else{const i=NM(n);await Rd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Tr(this.storage,this.storageKey),await Tr(this.storage,this.storageKey+"-code-verifier"),await Tr(this.storage,this.storageKey+"-user"),this.userStorage&&await Tr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Pd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Pd}ms, refresh threshold is ${Gk} ticks`),i<=Gk&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await xd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await ot(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(We(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(We(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?HV(t.webauthn.credential_response):GV(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(We(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:UV(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:FV(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(We(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=X_(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ot(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new pi})})}catch(n){if(We(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new pi});const o=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&jr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(We(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new pi});const o=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&jr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(We(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await ot(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new pi})})}catch(t){if(We(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await ot(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pi})})}catch(n){if(We(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+nV>i)return r;const{data:a,error:o}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:k}=await this.getSession();if(k||!y.session)return this._returnResult({data:null,error:k});r=y.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:u}}=X_(r);n?.allowExpired||wV(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:a,header:i,signature:o},error:null}}const h=_V(i.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,lV(`${l}.${u}`)))throw new ay("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(We(r))return this._returnResult({data:null,error:r});throw r}}};rT.nextInstanceID={};const QV=tT,eZ=rT,tZ=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:QV,AuthApiError:jB,AuthClient:eZ,AuthError:ef,AuthImplicitGrantRedirectError:wm,AuthInvalidCredentialsError:xm,AuthInvalidJwtError:ay,AuthInvalidTokenResponseError:Zc,AuthPKCEGrantCodeExchangeError:qk,AuthRetryableFetchError:iy,AuthSessionMissingError:pi,AuthUnknownError:Rl,AuthWeakPasswordError:Kk,CustomAuthError:Bs,GoTrueAdminApi:tT,GoTrueClient:rT,NavigatorLockAcquireTimeoutError:RB,SIGN_OUT_SCOPES:$b,isAuthApiError:NB,isAuthError:We,isAuthImplicitGrantRedirectError:CB,isAuthRetryableFetchError:Ib,isAuthSessionMissingError:OB,isAuthWeakPasswordError:rV,lockInternals:Jc,navigatorLock:LB,processLock:MV},Symbol.toStringTag,{value:"Module"})),BB=pp(tZ);var IM;function nZ(){if(IM)return Kh;IM=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.SupabaseAuthClient=void 0;const e=BB;let t=class extends e.AuthClient{constructor(r){super(r)}};return Kh.SupabaseAuthClient=t,Kh}var $M;function BM(){if($M)return Eg;$M=1,Object.defineProperty(Eg,"__esModule",{value:!0});const e=X$,t=rB(),n=fB,r=KW,i=VW(),a=ZW(),o=XW(),l=nZ();class u{constructor(h,p,b){var y,k,w;this.supabaseUrl=h,this.supabaseKey=p;const S=(0,o.validateSupabaseUrl)(h);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const j=`sb-${S.hostname.split(".")[0]}-auth-token`,O={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:i.DEFAULT_GLOBAL_OPTIONS},A=(0,o.applySettingDefaults)(b??{},O);this.storageKey=(y=A.auth.storageKey)!==null&&y!==void 0?y:"",this.headers=(k=A.global.headers)!==null&&k!==void 0?k:{},A.accessToken?(this.accessToken=A.accessToken,this.auth=new Proxy({},{get:(C,D)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(D)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((w=A.auth)!==null&&w!==void 0?w:{},this.headers,A.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),A.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},A.realtime)),this.accessToken&&this.accessToken().then(C=>this.realtime.setAuth(C)).catch(C=>console.warn("Failed to set initial Realtime auth token:",C)),this.rest=new t.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:A.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),A.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,p={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,p,b)}channel(h,p={config:{}}){return this.realtime.channel(h,p)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,p;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(p=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:y,userStorage:k,storageKey:w,flowType:S,lock:j,debug:O,throwOnError:A},C,D){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),C),storageKey:w,autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:y,userStorage:k,flowType:S,lock:j,debug:O,throwOnError:A,fetch:D,hasCustomAuthorizationHeader:Object.keys(this.headers).some(I=>I.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,b)=>{this._handleTokenChanged(p,"CLIENT",b?.access_token)})}_handleTokenChanged(h,p,b){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Eg.default=u,Eg}var zM;function rZ(){return zM||(zM=1,(function(e){var t=bs&&bs.__createBinding||(Object.create?(function(h,p,b,y){y===void 0&&(y=b);var k=Object.getOwnPropertyDescriptor(p,b);(!k||("get"in k?!p.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(h,y,k)}):(function(h,p,b,y){y===void 0&&(y=b),h[y]=p[b]})),n=bs&&bs.__exportStar||function(h,p){for(var b in h)b!=="default"&&!Object.prototype.hasOwnProperty.call(p,b)&&t(p,h,b)},r=bs&&bs.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(BM());n(BB,e);var a=rB();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=X$;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(fB,e);var l=BM();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const u=(h,p,b)=>new i.default(h,p,b);e.createClient=u;function d(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const p=h.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}d()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(bs)),bs}var zB=rZ();const UB=Si(zB),iZ=$E({__proto__:null,default:UB},[zB]),{PostgrestError:$Oe,FunctionsHttpError:BOe,FunctionsFetchError:zOe,FunctionsRelayError:UOe,FunctionsError:FOe,FunctionRegion:HOe,SupabaseClient:GOe,createClient:aZ,GoTrueAdminApi:YOe,GoTrueClient:qOe,AuthAdminApi:KOe,AuthClient:WOe,navigatorLock:VOe,NavigatorLockAcquireTimeoutError:ZOe,lockInternals:XOe,processLock:JOe,SIGN_OUT_SCOPES:QOe,AuthError:eCe,AuthApiError:tCe,AuthUnknownError:nCe,CustomAuthError:rCe,AuthSessionMissingError:iCe,AuthInvalidTokenResponseError:aCe,AuthInvalidCredentialsError:oCe,AuthImplicitGrantRedirectError:sCe,AuthPKCEGrantCodeExchangeError:lCe,AuthRetryableFetchError:cCe,AuthWeakPasswordError:uCe,AuthInvalidJwtError:dCe,isAuthError:fCe,isAuthApiError:hCe,isAuthSessionMissingError:mCe,isAuthImplicitGrantRedirectError:pCe,isAuthRetryableFetchError:gCe,isAuthWeakPasswordError:bCe,RealtimePresence:yCe,RealtimeChannel:vCe,RealtimeClient:xCe,REALTIME_LISTEN_TYPES:wCe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:_Ce,REALTIME_PRESENCE_LISTEN_EVENTS:SCe,REALTIME_SUBSCRIBE_STATES:kCe,REALTIME_CHANNEL_STATES:ECe}=UB||iZ,oZ="https://jouhybyquybxbnqztxum.supabase.co",sZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",lZ=!1,Re=aZ(oZ,sZ,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:lZ,storage:localStorage}}),FB="settings_v1",Vk=()=>{try{typeof window<"u"&&window.localStorage.removeItem(FB)}catch{}},Il={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sidebarCardsCollapsed:!1,sidebarCardCollapsedMap:{},sidebarCollapseInitDone:!0,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},UM=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],cZ=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&UM.includes(r)):[],n=UM.filter(r=>!t.includes(r));return[...t,...n]},Kd=e=>({...Il,...e,sectionOrder:cZ(e.sectionOrder)}),uZ=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Kd(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Kd(n.settings)}}return Kd(e??{})},dZ=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};Vk();const xn=Go()(k$((e,t)=>({settings:Il,syncing:!1,loaded:!1,setSettings:n=>e({settings:Kd(n)}),setKey:(n,r)=>e({settings:Kd({...t().settings,[n]:r})}),reset:()=>e({settings:Il,loaded:!0}),loadFromServer:async n=>{const r=t();if(!r.syncing&&!(!n?.force&&r.loaded))try{e({syncing:!0}),Vk();const{data:i,error:a}=await Re.auth.getUser(),o=i?.user??null;if(a||!o){e({settings:Il,syncing:!1,loaded:!0});return}const l=t();!n?.force&&l.loaded&&l.syncing;const{data:u,error:d}=await Re.from("user_settings").select("payload").eq("user_id",o.id).maybeSingle();if(!u&&!d&&await Re.from("user_settings").upsert({user_id:o.id,payload:{}}),d&&d.code!=="PGRST116"){console.error("loadFromServer(settings) error:",d),e({syncing:!1,loaded:!0});return}if(u?.payload){const h=uZ(u.payload),b=u.payload?.sidebarCollapseInitDone===!0;b||(h.sidebarCardsCollapsed=Il.sidebarCardsCollapsed,h.sidebarCardCollapsedMap={},h.sidebarCollapseInitDone=!0),e({settings:h,syncing:!1,loaded:!0}),(dZ(u.payload)||!b)&&await Re.from("user_settings").upsert({user_id:o.id,payload:h,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(i){console.error("loadFromServer(settings) exception:",i),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),Vk();const{data:r,error:i}=await Re.auth.getUser(),a=r?.user??null;if(i||!a){e({syncing:!1,loaded:!0,settings:Il});return}const o=Kd(t().settings),{error:l}=await Re.from("user_settings").upsert({user_id:a.id,payload:o,updated_at:new Date().toISOString()});l&&console.error("saveToServer(settings) error:",l),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1,loaded:!0})}}}),{name:FB,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function Zk(e){const t=Jr.indexOf(e);if(t!==-1)return Jr[t];const n=so..indexOf(e);return n!==-1?Jr[n]:null}function HB(e){const t=xi.indexOf(e);if(t!==-1)return xi[t];const n=so..indexOf(e);return n!==-1?xi[n]:null}function FM(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Wi(e,t,n){if(t==="stem"){const r=Zk(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=Jr.indexOf(r),a=i>=0?AK[i]:void 0;return FM(a,n)}else{const r=HB(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=xi.indexOf(r),a=i>=0?jK[i]:void 0;return FM(a,n)}}function ka(e,t){const n=Zk(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=Zk(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return CK[n][r]}if(t.branch){const r=HB(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return MK[n][r]}throw new Error("getSipSin: stem or branch required")}const Rv={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},Lv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function GB({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?Lv:Rv)[e]??[],l=n==="main"?[o[2]]:o,u=i==="white",d=u?"text-white":"text-neutral-800 dark:text-white",h=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:l.map((b,y)=>b==="(-)"||a?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap`,children:"(-) ()"},y):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap 
            ${n==="main"||y===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[b," (",ka(t,{stem:b}),")"]},y))})}const Fi=Go(e=>({manualHour:null,usePrevDay:!1,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null}),setUsePrevDay:t=>e({usePrevDay:t}),togglePrevDay:()=>e(t=>({usePrevDay:!t.usePrevDay}))})),YB=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),qB=Object.fromEntries(Object.entries(er).map(([e,t])=>[t,e])),fZ=new Set(Object.keys(Kn)),hZ=new Set(Object.keys(er)),mZ=new Set(["","","","","","","","","",""]),pZ=new Set(["","","","","","","","","","","",""]);function wi(e,t,n){return n===""?t==="stem"?Kn[e]??e:er[e]??e:t==="stem"?YB[e]??e:qB[e]??e}function HM(e){const t=YB[e]??e;return fZ.has(t)?t:""}function gZ(e){const t=qB[e]??e;return hZ.has(t)?t:""}function Iv(e){if(Jd.has(e))return e;const t=Kn[e]??e;return Jd.has(t)?t:""}function iT(e){if(Lm.has(e))return e;const t=er[e]??e;return Lm.has(t)?t:""}function ro(e,t){return t==="stem"?mZ.has(e):pZ.has(e)}function Id({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:l=!1,size:u="sm",variant:d="auto",isUnknownTime:h=!1}){const{manualHour:p}=Fi(),b=h&&!p,y=t.charAt(0),k=t.charAt(1),w=wi(y,"stem",r.charType),S=wi(k,"branch",r.charType),j=HM(y),O=gZ(k),A=HM(n),C=iT(k),D=Iv(n),P=r.showSipSin?ka(A,{stem:j}):null,I=!o&&r.showSipSin?ka(A,{branch:O}):null,U=r.thinEum&&ro(y,"stem")?"font-thin":"font-bold",K=r.thinEum&&ro(k,"branch")?"font-thin":"font-bold",q={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},H=!l&&!!r.hiddenStem,B=r.hiddenStem==="regular"?"main":"all",W=r.hiddenStemMode==="hgc"?"hgc":"classic",X=d==="white",Z=X?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",Y=X?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",J=X?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",Q=X?"text-neutral-500":"text-neutral-400",ce=X?"text-neutral-500":"text-neutral-400",{settings:ae}=xn(),z=b?`bg-white ${J}`:`${Wi(j,"stem",ae)} ${J}`,V=b?`bg-white ${J}`:`${Wi(O,"branch",ae)} ${J}`,ne=b?"text-black":ae.difficultyMode?ae.theme==="light"?"text-neutral-900":"text-black":"text-white",oe=b?"text-black":ae.difficultyMode?ae.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${Z}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${Y} text-nowrap`,children:e}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[P&&g.jsx("div",{className:`text-[10px] desk:text-xs ${Q} text-nowrap`,children:h&&!p?"-":P}),g.jsx("div",{className:`${q[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${z}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${ne} ${U}`,children:b?"-":w})}),g.jsx("div",{className:`${q[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${V}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${oe} ${K}`,children:b?"-":S})}),H&&g.jsx(GB,{branch:C,dayStem:D,mode:B,mapping:W,isUnknownTime:h&&!p&&(e===""||e==="")}),I&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ce}`,children:h&&!p?"-":I}),r.showSibiUnseong&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ce} text-nowrap`,children:h&&!p?"-":i||""}),r.showSibiSinsal&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ce} text-nowrap`,children:h&&!p?"-":a||""})]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yZ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),GM=e=>{const t=yZ(e);return t.charAt(0).toUpperCase()+t.slice(1)},KB=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),vZ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>_.createElement("svg",{ref:u,...xZ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:KB("lucide",i),...!a&&!vZ(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>_.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=(e,t)=>{const n=_.forwardRef(({className:r,...i},a)=>_.createElement(wZ,{ref:a,iconNode:t,className:KB(`lucide-${bZ(GM(e))}`,`lucide-${e}`,r),...i}));return n.displayName=GM(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SZ=Dr("chevron-down",_Z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],EZ=Dr("chevron-up",kZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],WB=Dr("circle-question-mark",TZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],jZ=Dr("circle-x",AZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],OZ=Dr("heart-handshake",NZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],MZ=Dr("house",CZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],PZ=Dr("info",DZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],VB=Dr("log-in",RZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],IZ=Dr("log-out",LZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],BZ=Dr("menu",$Z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],UZ=Dr("plus",zZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HZ=Dr("settings",FZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],YZ=Dr("sparkles",GZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],KZ=Dr("square-user",qZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ZB=Dr("star",WZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ZZ=Dr("user-plus",VZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cy=Dr("x",XZ);function JZ(){const[e,t]=_.useState(!1);return g.jsx("div",{className:"z-[60] pointer-events-none mt-2",children:g.jsx("div",{className:"max-w-[700px] w-full mx-auto pb-2 pointer-events-auto",children:g.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/90 backdrop-blur shadow-sm dark:border-neutral-800 dark:bg-neutral-950/80",children:[g.jsxs("button",{type:"button",onClick:()=>t(n=>!n),className:"w-full flex flex-col desk:flex-row items-center justify-between gap-2 px-3 py-2 cursor-pointer",children:[g.jsx("div",{className:"flex items-center gap-2 min-w-0",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(PZ,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300 hidden desk:block"}),g.jsx("span",{className:"text-xs text-neutral-700 dark:text-neutral-200",children:"         ."})]})}),g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:e?"":""})]}),e&&g.jsx("div",{className:"px-3 pb-3",children:g.jsxs("div",{className:"text-[12px] leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{className:"mt-1 text-neutral-500 dark:text-neutral-400",children:"  /     ."}),g.jsx("p",{children:g.jsx("a",{href:"https://yavares.tistory.com/1013",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"     !"})})})]})})]})})})}const QZ=new Set(so.);function eX(e){return Jd.has(e)?e:QZ.has(e)?Kn[e]:""}function tX(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function nX({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,l=t.showSipSin&&!n;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,d)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},d))}),l&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function rX(){const e=xn(S=>S.settings),[t,n]=_.useState(new Date),[r,i]=_.useState(!0),[a,o]=_.useState("/"),[l,u]=_.useState(!1),[d,h]=_.useState(null);_.useEffect(()=>{if(!r)return;const S=setInterval(()=>n(new Date),1e3);return()=>clearInterval(S)},[r]),_.useEffect(()=>{let S=!0;const j=async()=>{const{data:C}=await Re.auth.getSession(),D=C.session?.user?.id;if(!D){S&&h(null);return}const{data:P,error:I}=await Re.from("user_activity").select("total_active_ms").eq("user_id",D).maybeSingle();if(I){S&&h(null);return}const U=P?.total_active_ms;S&&h(typeof U=="number"?U:null)};j();const O=window.setInterval(()=>void j(),6e4),A=()=>{document.visibilityState==="visible"&&j()};return document.addEventListener("visibilitychange",A),()=>{S=!1,window.clearInterval(O),document.removeEventListener("visibilitychange",A)}},[]);const p=ct(t),b=Et(t),y=ht(t,a),k=no(t,"/"),w=eX(y.charAt(0));return g.jsx("div",{className:"flex flex-col justify-center items-center pt-20 desk:pt-16 desk:mt-12 w-full h-auto desk:h-[calc(100dvh_-_212px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("div",{className:"mb-3 text-xs desk:text-sm text-neutral-600 dark:text-neutral-300",children:["  :"," ",g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:tX(d)})]}),g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",oX(t)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:a,onChange:S=>o(S.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"",children:" ( 23)"}),g.jsx("option",{value:"/",children:"/ ()"}),g.jsx("option",{value:"",children:" ( 3)"})]}),g.jsx("button",{onClick:()=>u(S=>!S),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                          ${l?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[l?g.jsx(nX,{label:"",settings:e,hideBranchSipSin:!0}):g.jsx(Id,{label:"",gz:k,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Id,{label:"",gz:y,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Id,{label:"",gz:b,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Id,{label:"",gz:p,dayStem:w,settings:e,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"datetime-local",value:iX(t),disabled:r,onChange:S=>{const j=aX(S.target.value);j&&n(j)},className:`h-30 rounded px-3 py-1 text-sm transition-colors
                          bg-white dark:bg-neutral-900
                          border border-neutral-300 dark:border-neutral-700
                          text-neutral-900 dark:text-neutral-100
                          focus:outline-none focus:ring-2 focus:ring-amber-500/40
                          ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),g.jsx(JZ,{})]})})}function iX(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function aX(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,l]=n.split(":").map(Number),u=new Date(r,i-1,a,o,l);return Number.isNaN(u.getTime())?null:u}function oX(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function sX({placeholderText:e,value:t}){const[n,r]=_.useState(e),[i,a]=_.useState(!1),[o,l]=_.useState(t??""),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),p=_.useRef(null);return _.useEffect(()=>{t!==void 0&&l(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:l,nameRef:u,latRef:d,lonRef:h,triggerBtnRef:p}}var _m={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var lX=_m.exports,YM;function cX(){return YM||(YM=1,(function(e,t){(function(n,r){r(t)})(lX,(function(n){var r="1.9.4";function i(f){var v,E,M,R;for(E=1,M=arguments.length;E<M;E++){R=arguments[E];for(v in R)f[v]=R[v]}return f}var a=Object.create||(function(){function f(){}return function(v){return f.prototype=v,new f}})();function o(f,v){var E=Array.prototype.slice;if(f.bind)return f.bind.apply(f,E.call(arguments,1));var M=E.call(arguments,2);return function(){return f.apply(v,M.length?M.concat(E.call(arguments)):arguments)}}var l=0;function u(f){return"_leaflet_id"in f||(f._leaflet_id=++l),f._leaflet_id}function d(f,v,E){var M,R,F,ee;return ee=function(){M=!1,R&&(F.apply(E,R),R=!1)},F=function(){M?R=arguments:(f.apply(E,arguments),setTimeout(ee,v),M=!0)},F}function h(f,v,E){var M=v[1],R=v[0],F=M-R;return f===M&&E?f:((f-R)%F+F)%F+R}function p(){return!1}function b(f,v){if(v===!1)return f;var E=Math.pow(10,v===void 0?6:v);return Math.round(f*E)/E}function y(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function k(f){return y(f).split(/\s+/)}function w(f,v){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?a(f.options):{});for(var E in v)f.options[E]=v[E];return f.options}function S(f,v,E){var M=[];for(var R in f)M.push(encodeURIComponent(E?R.toUpperCase():R)+"="+encodeURIComponent(f[R]));return(!v||v.indexOf("?")===-1?"?":"&")+M.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function O(f,v){return f.replace(j,function(E,M){var R=v[M];if(R===void 0)throw new Error("No value provided for variable "+E);return typeof R=="function"&&(R=R(v)),R})}var A=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function C(f,v){for(var E=0;E<f.length;E++)if(f[E]===v)return E;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var I=0;function U(f){var v=+new Date,E=Math.max(0,16-(v-I));return I=v+E,window.setTimeout(f,E)}var K=window.requestAnimationFrame||P("RequestAnimationFrame")||U,q=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function H(f,v,E){if(E&&K===U)f.call(v);else return K.call(window,o(f,v))}function B(f){f&&q.call(window,f)}var W={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:u,throttle:d,wrapNum:h,falseFn:p,formatNum:b,trim:y,splitWords:k,setOptions:w,getParamString:S,template:O,isArray:A,indexOf:C,emptyImageUrl:D,requestFn:K,cancelFn:q,requestAnimFrame:H,cancelAnimFrame:B};function X(){}X.extend=function(f){var v=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=v.__super__=this.prototype,M=a(E);M.constructor=v,v.prototype=M;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(v[R]=this[R]);return f.statics&&i(v,f.statics),f.includes&&(Z(f.includes),i.apply(null,[M].concat(f.includes))),i(M,f),delete M.statics,delete M.includes,M.options&&(M.options=E.options?a(E.options):{},i(M.options,f.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,ee=M._initHooks.length;F<ee;F++)M._initHooks[F].call(this)}},v},X.include=function(f){var v=this.prototype.options;return i(this.prototype,f),f.options&&(this.prototype.options=v,this.mergeOptions(f.options)),this},X.mergeOptions=function(f){return i(this.prototype.options,f),this},X.addInitHook=function(f){var v=Array.prototype.slice.call(arguments,1),E=typeof f=="function"?f:function(){this[f].apply(this,v)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function Z(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=A(f)?f:[f];for(var v=0;v<f.length;v++)f[v]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(f,v,E){if(typeof f=="object")for(var M in f)this._on(M,f[M],v);else{f=k(f);for(var R=0,F=f.length;R<F;R++)this._on(f[R],v,E)}return this},off:function(f,v,E){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var M in f)this._off(M,f[M],v);else{f=k(f);for(var R=arguments.length===1,F=0,ee=f.length;F<ee;F++)R?this._off(f[F]):this._off(f[F],v,E)}return this},_on:function(f,v,E,M){if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}if(this._listens(f,v,E)===!1){E===this&&(E=void 0);var R={fn:v,ctx:E};M&&(R.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(R)}},_off:function(f,v,E){var M,R,F;if(this._events&&(M=this._events[f],!!M)){if(arguments.length===1){if(this._firingCount)for(R=0,F=M.length;R<F;R++)M[R].fn=p;delete this._events[f];return}if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}var ee=this._listens(f,v,E);if(ee!==!1){var de=M[ee];this._firingCount&&(de.fn=p,this._events[f]=M=M.slice()),M.splice(ee,1)}}},fire:function(f,v,E){if(!this.listens(f,E))return this;var M=i({},v,{type:f,target:this,sourceTarget:v&&v.sourceTarget||this});if(this._events){var R=this._events[f];if(R){this._firingCount=this._firingCount+1||1;for(var F=0,ee=R.length;F<ee;F++){var de=R[F],ge=de.fn;de.once&&this.off(f,ge,de.ctx),ge.call(de.ctx||this,M)}this._firingCount--}}return E&&this._propagateEvent(M),this},listens:function(f,v,E,M){typeof f!="string"&&console.warn('"string" type argument expected');var R=v;typeof v!="function"&&(M=!!v,R=void 0,E=void 0);var F=this._events&&this._events[f];if(F&&F.length&&this._listens(f,R,E)!==!1)return!0;if(M){for(var ee in this._eventParents)if(this._eventParents[ee].listens(f,v,E,M))return!0}return!1},_listens:function(f,v,E){if(!this._events)return!1;var M=this._events[f]||[];if(!v)return!!M.length;E===this&&(E=void 0);for(var R=0,F=M.length;R<F;R++)if(M[R].fn===v&&M[R].ctx===E)return R;return!1},once:function(f,v,E){if(typeof f=="object")for(var M in f)this._on(M,f[M],v,!0);else{f=k(f);for(var R=0,F=f.length;R<F;R++)this._on(f[R],v,E,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[u(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[u(f)],this},_propagateEvent:function(f){for(var v in this._eventParents)this._eventParents[v].fire(f.type,i({layer:f.target,propagatedFrom:f.target},f),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var J=X.extend(Y);function Q(f,v,E){this.x=E?Math.round(f):f,this.y=E?Math.round(v):v}var ce=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};Q.prototype={clone:function(){return new Q(this.x,this.y)},add:function(f){return this.clone()._add(ae(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(ae(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new Q(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new Q(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ce(this.x),this.y=ce(this.y),this},distanceTo:function(f){f=ae(f);var v=f.x-this.x,E=f.y-this.y;return Math.sqrt(v*v+E*E)},equals:function(f){return f=ae(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=ae(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function ae(f,v,E){return f instanceof Q?f:A(f)?new Q(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new Q(f.x,f.y):new Q(f,v,E)}function z(f,v){if(f)for(var E=v?[f,v]:f,M=0,R=E.length;M<R;M++)this.extend(E[M])}z.prototype={extend:function(f){var v,E;if(!f)return this;if(f instanceof Q||typeof f[0]=="number"||"x"in f)v=E=ae(f);else if(f=V(f),v=f.min,E=f.max,!v||!E)return this;return!this.min&&!this.max?(this.min=v.clone(),this.max=E.clone()):(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(f){return ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return ae(this.min.x,this.max.y)},getTopRight:function(){return ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var v,E;return typeof f[0]=="number"||f instanceof Q?f=ae(f):f=V(f),f instanceof z?(v=f.min,E=f.max):v=E=f,v.x>=this.min.x&&E.x<=this.max.x&&v.y>=this.min.y&&E.y<=this.max.y},intersects:function(f){f=V(f);var v=this.min,E=this.max,M=f.min,R=f.max,F=R.x>=v.x&&M.x<=E.x,ee=R.y>=v.y&&M.y<=E.y;return F&&ee},overlaps:function(f){f=V(f);var v=this.min,E=this.max,M=f.min,R=f.max,F=R.x>v.x&&M.x<E.x,ee=R.y>v.y&&M.y<E.y;return F&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var v=this.min,E=this.max,M=Math.abs(v.x-E.x)*f,R=Math.abs(v.y-E.y)*f;return V(ae(v.x-M,v.y-R),ae(E.x+M,E.y+R))},equals:function(f){return f?(f=V(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function V(f,v){return!f||f instanceof z?f:new z(f,v)}function ne(f,v){if(f)for(var E=v?[f,v]:f,M=0,R=E.length;M<R;M++)this.extend(E[M])}ne.prototype={extend:function(f){var v=this._southWest,E=this._northEast,M,R;if(f instanceof ue)M=f,R=f;else if(f instanceof ne){if(M=f._southWest,R=f._northEast,!M||!R)return this}else return f?this.extend(pe(f)||oe(f)):this;return!v&&!E?(this._southWest=new ue(M.lat,M.lng),this._northEast=new ue(R.lat,R.lng)):(v.lat=Math.min(M.lat,v.lat),v.lng=Math.min(M.lng,v.lng),E.lat=Math.max(R.lat,E.lat),E.lng=Math.max(R.lng,E.lng)),this},pad:function(f){var v=this._southWest,E=this._northEast,M=Math.abs(v.lat-E.lat)*f,R=Math.abs(v.lng-E.lng)*f;return new ne(new ue(v.lat-M,v.lng-R),new ue(E.lat+M,E.lng+R))},getCenter:function(){return new ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof ue||"lat"in f?f=pe(f):f=oe(f);var v=this._southWest,E=this._northEast,M,R;return f instanceof ne?(M=f.getSouthWest(),R=f.getNorthEast()):M=R=f,M.lat>=v.lat&&R.lat<=E.lat&&M.lng>=v.lng&&R.lng<=E.lng},intersects:function(f){f=oe(f);var v=this._southWest,E=this._northEast,M=f.getSouthWest(),R=f.getNorthEast(),F=R.lat>=v.lat&&M.lat<=E.lat,ee=R.lng>=v.lng&&M.lng<=E.lng;return F&&ee},overlaps:function(f){f=oe(f);var v=this._southWest,E=this._northEast,M=f.getSouthWest(),R=f.getNorthEast(),F=R.lat>v.lat&&M.lat<E.lat,ee=R.lng>v.lng&&M.lng<E.lng;return F&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,v){return f?(f=oe(f),this._southWest.equals(f.getSouthWest(),v)&&this._northEast.equals(f.getNorthEast(),v)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function oe(f,v){return f instanceof ne?f:new ne(f,v)}function ue(f,v,E){if(isNaN(f)||isNaN(v))throw new Error("Invalid LatLng object: ("+f+", "+v+")");this.lat=+f,this.lng=+v,E!==void 0&&(this.alt=+E)}ue.prototype={equals:function(f,v){if(!f)return!1;f=pe(f);var E=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return E<=(v===void 0?1e-9:v)},toString:function(f){return"LatLng("+b(this.lat,f)+", "+b(this.lng,f)+")"},distanceTo:function(f){return Oe.distance(this,pe(f))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(f){var v=180*f/40075017,E=v/Math.cos(Math.PI/180*this.lat);return oe([this.lat-v,this.lng-E],[this.lat+v,this.lng+E])},clone:function(){return new ue(this.lat,this.lng,this.alt)}};function pe(f,v,E){return f instanceof ue?f:A(f)&&typeof f[0]!="object"?f.length===3?new ue(f[0],f[1],f[2]):f.length===2?new ue(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new ue(f.lat,"lng"in f?f.lng:f.lon,f.alt):v===void 0?null:new ue(f,v,E)}var ye={latLngToPoint:function(f,v){var E=this.projection.project(f),M=this.scale(v);return this.transformation._transform(E,M)},pointToLatLng:function(f,v){var E=this.scale(v),M=this.transformation.untransform(f,E);return this.projection.unproject(M)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var v=this.projection.bounds,E=this.scale(f),M=this.transformation.transform(v.min,E),R=this.transformation.transform(v.max,E);return new z(M,R)},infinite:!1,wrapLatLng:function(f){var v=this.wrapLng?h(f.lng,this.wrapLng,!0):f.lng,E=this.wrapLat?h(f.lat,this.wrapLat,!0):f.lat,M=f.alt;return new ue(E,v,M)},wrapLatLngBounds:function(f){var v=f.getCenter(),E=this.wrapLatLng(v),M=v.lat-E.lat,R=v.lng-E.lng;if(M===0&&R===0)return f;var F=f.getSouthWest(),ee=f.getNorthEast(),de=new ue(F.lat-M,F.lng-R),ge=new ue(ee.lat-M,ee.lng-R);return new ne(de,ge)}},Oe=i({},ye,{wrapLng:[-180,180],R:6371e3,distance:function(f,v){var E=Math.PI/180,M=f.lat*E,R=v.lat*E,F=Math.sin((v.lat-f.lat)*E/2),ee=Math.sin((v.lng-f.lng)*E/2),de=F*F+Math.cos(M)*Math.cos(R)*ee*ee,ge=2*Math.atan2(Math.sqrt(de),Math.sqrt(1-de));return this.R*ge}}),ie=6378137,Te={R:ie,MAX_LATITUDE:85.0511287798,project:function(f){var v=Math.PI/180,E=this.MAX_LATITUDE,M=Math.max(Math.min(E,f.lat),-E),R=Math.sin(M*v);return new Q(this.R*f.lng*v,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(f){var v=180/Math.PI;return new ue((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*v,f.x*v/this.R)},bounds:(function(){var f=ie*Math.PI;return new z([-f,-f],[f,f])})()};function xe(f,v,E,M){if(A(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=v,this._c=E,this._d=M}xe.prototype={transform:function(f,v){return this._transform(f.clone(),v)},_transform:function(f,v){return v=v||1,f.x=v*(this._a*f.x+this._b),f.y=v*(this._c*f.y+this._d),f},untransform:function(f,v){return v=v||1,new Q((f.x/v-this._b)/this._a,(f.y/v-this._d)/this._c)}};function se(f,v,E,M){return new xe(f,v,E,M)}var ze=i({},Oe,{code:"EPSG:3857",projection:Te,transformation:(function(){var f=.5/(Math.PI*Te.R);return se(f,.5,-f,.5)})()}),Ye=i({},ze,{code:"EPSG:900913"});function Ze(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function Ce(f,v){var E="",M,R,F,ee,de,ge;for(M=0,F=f.length;M<F;M++){for(de=f[M],R=0,ee=de.length;R<ee;R++)ge=de[R],E+=(R?"L":"M")+ge.x+" "+ge.y;E+=v?Ke.svg?"z":"x":""}return E||"M0 0"}var Be=document.documentElement.style,De="ActiveXObject"in window,Xe=De&&!document.addEventListener,gt="msLaunchUri"in navigator&&!("documentMode"in document),Mt=ri("webkit"),fe=ri("android"),Me=ri("android 2")||ri("android 3"),_e=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ne=fe&&ri("Google")&&_e<537&&!("AudioNode"in window),Ue=!!window.opera,Je=!gt&&ri("chrome"),lt=ri("gecko")&&!Mt&&!Ue&&!De,Rt=!Je&&ri("safari"),Rn=ri("phantom"),ar="OTransition"in Be,Ji=navigator.platform.indexOf("Win")===0,or=De&&"transition"in Be,on="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Me,xr="MozPerspective"in Be,kt=!window.L_DISABLE_3D&&(or||on||xr)&&!ar&&!Rn,Qi=typeof orientation<"u"||ri("mobile"),zf=Qi&&Mt,Pe=Qi&&on,it=!window.PointerEvent&&window.MSPointerEvent,Lt=!!(window.PointerEvent||it),wr="ontouchstart"in window||!!window.TouchEvent,ni=!window.L_NO_TOUCH&&(wr||Lt),Mu=Qi&&Ue,ic=Qi&&lt,Gx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xp=(function(){var f=!1;try{var v=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",p,v),window.removeEventListener("testPassiveEventSupport",p,v)}catch{}return f})(),Uf=(function(){return!!document.createElement("canvas").getContext})(),Ko=!!(document.createElementNS&&Ze("svg").createSVGRect),Yx=!!Ko&&(function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Jp=!Ko&&(function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var v=f.firstChild;return v.style.behavior="url(#default#VML)",v&&typeof v.adj=="object"}catch{return!1}})(),Qp=navigator.platform.indexOf("Mac")===0,e0=navigator.platform.indexOf("Linux")===0;function ri(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var Ke={ie:De,ielt9:Xe,edge:gt,webkit:Mt,android:fe,android23:Me,androidStock:Ne,opera:Ue,chrome:Je,gecko:lt,safari:Rt,phantom:Rn,opera12:ar,win:Ji,ie3d:or,webkit3d:on,gecko3d:xr,any3d:kt,mobile:Qi,mobileWebkit:zf,mobileWebkit3d:Pe,msPointer:it,pointer:Lt,touch:ni,touchNative:wr,mobileOpera:Mu,mobileGecko:ic,retina:Gx,passiveEvents:Xp,canvas:Uf,svg:Ko,vml:Jp,inlineSvg:Yx,mac:Qp,linux:e0},Ff=Ke.msPointer?"MSPointerDown":"pointerdown",Hf=Ke.msPointer?"MSPointerMove":"pointermove",Ma=Ke.msPointer?"MSPointerUp":"pointerup",Ln=Ke.msPointer?"MSPointerCancel":"pointercancel",sr={touchstart:Ff,touchmove:Hf,touchend:Ma,touchcancel:Ln},Wo={touchstart:Vs,touchmove:co,touchend:co,touchcancel:co},lo={},t0=!1;function qx(f,v,E){return v==="touchstart"&&Ws(),Wo[v]?(E=Wo[v].bind(this,E),f.addEventListener(sr[v],E,!1),E):(console.warn("wrong event specified:",v),p)}function n0(f,v,E){if(!sr[v]){console.warn("wrong event specified:",v);return}f.removeEventListener(sr[v],E,!1)}function ac(f){lo[f.pointerId]=f}function Gf(f){lo[f.pointerId]&&(lo[f.pointerId]=f)}function Vo(f){delete lo[f.pointerId]}function Ws(){t0||(document.addEventListener(Ff,ac,!0),document.addEventListener(Hf,Gf,!0),document.addEventListener(Ma,Vo,!0),document.addEventListener(Ln,Vo,!0),t0=!0)}function co(f,v){if(v.pointerType!==(v.MSPOINTER_TYPE_MOUSE||"mouse")){v.touches=[];for(var E in lo)v.touches.push(lo[E]);v.changedTouches=[v],f(v)}}function Vs(f,v){v.MSPOINTER_TYPE_TOUCH&&v.pointerType===v.MSPOINTER_TYPE_TOUCH&&_n(v),co(f,v)}function In(f){var v={},E,M;for(M in f)E=f[M],v[M]=E&&E.bind?E.bind(f):E;return f=v,v.type="dblclick",v.detail=2,v.isTrusted=!1,v._simulated=!0,v}var r0=200;function i0(f,v){f.addEventListener("dblclick",v);var E=0,M;function R(F){if(F.detail!==1){M=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var ee=fc(F);if(!(ee.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!ee.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var de=Date.now();de-E<=r0?(M++,M===2&&v(In(F))):M=1,E=de}}}return f.addEventListener("click",R),{dblclick:v,simDblclick:R}}function Zo(f,v){f.removeEventListener("dblclick",v.dblclick),f.removeEventListener("click",v.simDblclick)}var uo=lc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),oc=lc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yf=oc==="webkitTransition"||oc==="OTransition"?oc+"End":"transitionend";function qf(f){return typeof f=="string"?document.getElementById(f):f}function sc(f,v){var E=f.style[v]||f.currentStyle&&f.currentStyle[v];if((!E||E==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(f,null);E=M?M[v]:null}return E==="auto"?null:E}function bt(f,v,E){var M=document.createElement(f);return M.className=v||"",E&&E.appendChild(M),M}function Ht(f){var v=f.parentNode;v&&v.removeChild(f)}function ii(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function Vn(f){var v=f.parentNode;v&&v.lastChild!==f&&v.appendChild(f)}function Xo(f){var v=f.parentNode;v&&v.firstChild!==f&&v.insertBefore(f,v.firstChild)}function Kf(f,v){if(f.classList!==void 0)return f.classList.contains(v);var E=Du(f);return E.length>0&&new RegExp("(^|\\s)"+v+"(\\s|$)").test(E)}function ut(f,v){if(f.classList!==void 0)for(var E=k(v),M=0,R=E.length;M<R;M++)f.classList.add(E[M]);else if(!Kf(f,v)){var F=Du(f);Zs(f,(F?F+" ":"")+v)}}function sn(f,v){f.classList!==void 0?f.classList.remove(v):Zs(f,y((" "+Du(f)+" ").replace(" "+v+" "," ")))}function Zs(f,v){f.className.baseVal===void 0?f.className=v:f.className.baseVal=v}function Du(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function en(f,v){"opacity"in f.style?f.style.opacity=v:"filter"in f.style&&Wf(f,v)}function Wf(f,v){var E=!1,M="DXImageTransform.Microsoft.Alpha";try{E=f.filters.item(M)}catch{if(v===1)return}v=Math.round(v*100),E?(E.Enabled=v!==100,E.Opacity=v):f.style.filter+=" progid:"+M+"(opacity="+v+")"}function lc(f){for(var v=document.documentElement.style,E=0;E<f.length;E++)if(f[E]in v)return f[E];return!1}function Da(f,v,E){var M=v||new Q(0,0);f.style[uo]=(Ke.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(E?" scale("+E+")":"")}function Kt(f,v){f._leaflet_pos=v,Ke.any3d?Da(f,v):(f.style.left=v.x+"px",f.style.top=v.y+"px")}function fo(f){return f._leaflet_pos||new Q(0,0)}var Xs,ea,Vf;if("onselectstart"in document)Xs=function(){st(window,"selectstart",_n)},ea=function(){It(window,"selectstart",_n)};else{var Js=lc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xs=function(){if(Js){var f=document.documentElement.style;Vf=f[Js],f[Js]="none"}},ea=function(){Js&&(document.documentElement.style[Js]=Vf,Vf=void 0)}}function Pu(){st(window,"dragstart",_n)}function cc(){It(window,"dragstart",_n)}var Ru,Zf;function Qs(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(ai(),Ru=f,Zf=f.style.outlineStyle,f.style.outlineStyle="none",st(window,"keydown",ai))}function ai(){Ru&&(Ru.style.outlineStyle=Zf,Ru=void 0,Zf=void 0,It(window,"keydown",ai))}function Lu(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function uc(f){var v=f.getBoundingClientRect();return{x:v.width/f.offsetWidth||1,y:v.height/f.offsetHeight||1,boundingClientRect:v}}var el={__proto__:null,TRANSFORM:uo,TRANSITION:oc,TRANSITION_END:Yf,get:qf,getStyle:sc,create:bt,remove:Ht,empty:ii,toFront:Vn,toBack:Xo,hasClass:Kf,addClass:ut,removeClass:sn,setClass:Zs,getClass:Du,setOpacity:en,testProp:lc,setTransform:Da,setPosition:Kt,getPosition:fo,get disableTextSelection(){return Xs},get enableTextSelection(){return ea},disableImageDrag:Pu,enableImageDrag:cc,preventOutline:Qs,restoreOutline:ai,getSizedParentNode:Lu,getScale:uc};function st(f,v,E,M){if(v&&typeof v=="object")for(var R in v)Ai(f,R,v[R],E);else{v=k(v);for(var F=0,ee=v.length;F<ee;F++)Ai(f,v[F],E,M)}return this}var Ti="_leaflet_events";function It(f,v,E,M){if(arguments.length===1)Xf(f),delete f[Ti];else if(v&&typeof v=="object")for(var R in v)dc(f,R,v[R],E);else if(v=k(v),arguments.length===2)Xf(f,function(de){return C(v,de)!==-1});else for(var F=0,ee=v.length;F<ee;F++)dc(f,v[F],E,M);return this}function Xf(f,v){for(var E in f[Ti]){var M=E.split(/\d/)[0];(!v||v(M))&&dc(f,M,null,null,E)}}var Jo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ai(f,v,E,M){var R=v+u(E)+(M?"_"+u(M):"");if(f[Ti]&&f[Ti][R])return this;var F=function(de){return E.call(M||f,de||window.event)},ee=F;!Ke.touchNative&&Ke.pointer&&v.indexOf("touch")===0?F=qx(f,v,F):Ke.touch&&v==="dblclick"?F=i0(f,F):"addEventListener"in f?v==="touchstart"||v==="touchmove"||v==="wheel"||v==="mousewheel"?f.addEventListener(Jo[v]||v,F,Ke.passiveEvents?{passive:!1}:!1):v==="mouseenter"||v==="mouseleave"?(F=function(de){de=de||window.event,Pa(f,de)&&ee(de)},f.addEventListener(Jo[v],F,!1)):f.addEventListener(v,ee,!1):f.attachEvent("on"+v,F),f[Ti]=f[Ti]||{},f[Ti][R]=F}function dc(f,v,E,M,R){R=R||v+u(E)+(M?"_"+u(M):"");var F=f[Ti]&&f[Ti][R];if(!F)return this;!Ke.touchNative&&Ke.pointer&&v.indexOf("touch")===0?n0(f,v,F):Ke.touch&&v==="dblclick"?Zo(f,F):"removeEventListener"in f?f.removeEventListener(Jo[v]||v,F,!1):f.detachEvent("on"+v,F),f[Ti][R]=null}function ji(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function ta(f){return Ai(f,"wheel",ji),this}function Qo(f){return st(f,"mousedown touchstart dblclick contextmenu",ji),f._leaflet_disable_click=!0,this}function _n(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function ho(f){return _n(f),ji(f),this}function fc(f){if(f.composedPath)return f.composedPath();for(var v=[],E=f.target;E;)v.push(E),E=E.parentNode;return v}function hc(f,v){if(!v)return new Q(f.clientX,f.clientY);var E=uc(v),M=E.boundingClientRect;return new Q((f.clientX-M.left)/E.x-v.clientLeft,(f.clientY-M.top)/E.y-v.clientTop)}var a0=Ke.linux&&Ke.chrome?window.devicePixelRatio:Ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _r(f){return Ke.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/a0:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function Pa(f,v){var E=v.relatedTarget;if(!E)return!0;try{for(;E&&E!==f;)E=E.parentNode}catch{return!1}return E!==f}var Iu={__proto__:null,on:st,off:It,stopPropagation:ji,disableScrollPropagation:ta,disableClickPropagation:Qo,preventDefault:_n,stop:ho,getPropagationPath:fc,getMousePosition:hc,getWheelDelta:_r,isExternalTarget:Pa,addListener:st,removeListener:It},tl=J.extend({run:function(f,v,E,M){this.stop(),this._el=f,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=fo(f),this._offset=v.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(f){var v=+new Date-this._startTime,E=this._duration*1e3;v<E?this._runFrame(this._easeOut(v/E),f):(this._runFrame(1),this._complete())},_runFrame:function(f,v){var E=this._startPos.add(this._offset.multiplyBy(f));v&&E._round(),Kt(this._el,E),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),wt=J.extend({options:{crs:ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,v){v=w(this,v),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),v.maxBounds&&this.setMaxBounds(v.maxBounds),v.zoom!==void 0&&(this._zoom=this._limitZoom(v.zoom)),v.center&&v.zoom!==void 0&&this.setView(pe(v.center),v.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=oc&&Ke.any3d&&!Ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),st(this._proxy,Yf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,v,E){if(v=v===void 0?this._zoom:this._limitZoom(v),f=this._limitCenter(pe(f),v,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var M=this._zoom!==v?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,v,E.zoom):this._tryAnimatedPan(f,E.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(f,v,E.pan&&E.pan.noMoveStart),this},setZoom:function(f,v){return this._loaded?this.setView(this.getCenter(),f,{zoom:v}):(this._zoom=f,this)},zoomIn:function(f,v){return f=f||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,v)},zoomOut:function(f,v){return f=f||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,v)},setZoomAround:function(f,v,E){var M=this.getZoomScale(v),R=this.getSize().divideBy(2),F=f instanceof Q?f:this.latLngToContainerPoint(f),ee=F.subtract(R).multiplyBy(1-1/M),de=this.containerPointToLatLng(R.add(ee));return this.setView(de,v,{zoom:E})},_getBoundsCenterZoom:function(f,v){v=v||{},f=f.getBounds?f.getBounds():oe(f);var E=ae(v.paddingTopLeft||v.padding||[0,0]),M=ae(v.paddingBottomRight||v.padding||[0,0]),R=this.getBoundsZoom(f,!1,E.add(M));if(R=typeof v.maxZoom=="number"?Math.min(v.maxZoom,R):R,R===1/0)return{center:f.getCenter(),zoom:R};var F=M.subtract(E).divideBy(2),ee=this.project(f.getSouthWest(),R),de=this.project(f.getNorthEast(),R),ge=this.unproject(ee.add(de).divideBy(2).add(F),R);return{center:ge,zoom:R}},fitBounds:function(f,v){if(f=oe(f),!f.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(f,v);return this.setView(E.center,E.zoom,v)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,v){return this.setView(f,this._zoom,{pan:v})},panBy:function(f,v){if(f=ae(f).round(),v=v||{},!f.x&&!f.y)return this.fire("moveend");if(v.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),v.noMoveStart||this.fire("movestart"),v.animate!==!1){ut(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,E,v.duration||.25,v.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,v,E){if(E=E||{},E.animate===!1||!Ke.any3d)return this.setView(f,v,E);this._stop();var M=this.project(this.getCenter()),R=this.project(f),F=this.getSize(),ee=this._zoom;f=pe(f),v=v===void 0?ee:v;var de=Math.max(F.x,F.y),ge=de*this.getZoomScale(ee,v),Ae=R.distanceTo(M)||1,$e=1.42,Ve=$e*$e;function mt(gn){var $a=gn?-1:1,rs=gn?ge:de,fh=ge*ge-de*de+$a*Ve*Ve*Ae*Ae,Nc=2*rs*Ve*Ae,Oc=fh/Nc,_o=Math.sqrt(Oc*Oc+1)-Oc,Ba=_o<1e-9?-18:Math.log(_o);return Ba}function Zn(gn){return(Math.exp(gn)-Math.exp(-gn))/2}function Sn(gn){return(Math.exp(gn)+Math.exp(-gn))/2}function Yr(gn){return Zn(gn)/Sn(gn)}var At=mt(0);function jt(gn){return de*(Sn(At)/Sn(At+$e*gn))}function yt(gn){return de*(Sn(At)*Yr(At+$e*gn)-Zn(At))/Ve}function xo(gn){return 1-Math.pow(1-gn,1.5)}var ci=Date.now(),Xu=(mt(1)-At)/$e,wo=E.duration?1e3*E.duration:1e3*Xu*.8;function dh(){var gn=(Date.now()-ci)/wo,$a=xo(gn)*Xu;gn<=1?(this._flyToFrame=H(dh,this),this._move(this.unproject(M.add(R.subtract(M).multiplyBy(yt($a)/Ae)),ee),this.getScaleZoom(de/jt($a),ee),{flyTo:!0})):this._move(f,v)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),dh.call(this),this},flyToBounds:function(f,v){var E=this._getBoundsCenterZoom(f,v);return this.flyTo(E.center,E.zoom,v)},setMaxBounds:function(f){return f=oe(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var v=this.options.minZoom;return this.options.minZoom=f,this._loaded&&v!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var v=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&v!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,v){this._enforcingBounds=!0;var E=this.getCenter(),M=this._limitCenter(E,this._zoom,oe(f));return E.equals(M)||this.panTo(M,v),this._enforcingBounds=!1,this},panInside:function(f,v){v=v||{};var E=ae(v.paddingTopLeft||v.padding||[0,0]),M=ae(v.paddingBottomRight||v.padding||[0,0]),R=this.project(this.getCenter()),F=this.project(f),ee=this.getPixelBounds(),de=V([ee.min.add(E),ee.max.subtract(M)]),ge=de.getSize();if(!de.contains(F)){this._enforcingBounds=!0;var Ae=F.subtract(de.getCenter()),$e=de.extend(F).getSize().subtract(ge);R.x+=Ae.x<0?-$e.x:$e.x,R.y+=Ae.y<0?-$e.y:$e.y,this.panTo(this.unproject(R),v),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=i({animate:!1,pan:!0},f===!0?{animate:!0}:f);var v=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),M=v.divideBy(2).round(),R=E.divideBy(2).round(),F=M.subtract(R);return!F.x&&!F.y?this:(f.animate&&f.pan?this.panBy(F):(f.pan&&this._rawPanBy(F),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:v,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=i({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var v=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(v,E,f):navigator.geolocation.getCurrentPosition(v,E,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var v=f.code,E=f.message||(v===1?"permission denied":v===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:v,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var v=f.coords.latitude,E=f.coords.longitude,M=new ue(v,E),R=M.toBounds(f.coords.accuracy*2),F=this._locateOptions;if(F.setView){var ee=this.getBoundsZoom(R);this.setView(M,F.maxZoom?Math.min(ee,F.maxZoom):ee)}var de={latlng:M,bounds:R,timestamp:f.timestamp};for(var ge in f.coords)typeof f.coords[ge]=="number"&&(de[ge]=f.coords[ge]);this.fire("locationfound",de)}},addHandler:function(f,v){if(!v)return this;var E=this[f]=new v(this);return this._handlers.push(E),this.options[f]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)Ht(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,v){var E="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),M=bt("div",E,v||this._mapPane);return f&&(this._panes[f]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),v=this.unproject(f.getBottomLeft()),E=this.unproject(f.getTopRight());return new ne(v,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,v,E){f=oe(f),E=ae(E||[0,0]);var M=this.getZoom()||0,R=this.getMinZoom(),F=this.getMaxZoom(),ee=f.getNorthWest(),de=f.getSouthEast(),ge=this.getSize().subtract(E),Ae=V(this.project(de,M),this.project(ee,M)).getSize(),$e=Ke.any3d?this.options.zoomSnap:1,Ve=ge.x/Ae.x,mt=ge.y/Ae.y,Zn=v?Math.max(Ve,mt):Math.min(Ve,mt);return M=this.getScaleZoom(Zn,M),$e&&(M=Math.round(M/($e/100))*($e/100),M=v?Math.ceil(M/$e)*$e:Math.floor(M/$e)*$e),Math.max(R,Math.min(F,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,v){var E=this._getTopLeftPoint(f,v);return new z(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,v){var E=this.options.crs;return v=v===void 0?this._zoom:v,E.scale(f)/E.scale(v)},getScaleZoom:function(f,v){var E=this.options.crs;v=v===void 0?this._zoom:v;var M=E.zoom(f*E.scale(v));return isNaN(M)?1/0:M},project:function(f,v){return v=v===void 0?this._zoom:v,this.options.crs.latLngToPoint(pe(f),v)},unproject:function(f,v){return v=v===void 0?this._zoom:v,this.options.crs.pointToLatLng(ae(f),v)},layerPointToLatLng:function(f){var v=ae(f).add(this.getPixelOrigin());return this.unproject(v)},latLngToLayerPoint:function(f){var v=this.project(pe(f))._round();return v._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(pe(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(oe(f))},distance:function(f,v){return this.options.crs.distance(pe(f),pe(v))},containerPointToLayerPoint:function(f){return ae(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return ae(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var v=this.containerPointToLayerPoint(ae(f));return this.layerPointToLatLng(v)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(f)))},mouseEventToContainerPoint:function(f){return hc(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var v=this._container=qf(f);if(v){if(v._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");st(v,"scroll",this._onScroll,this),this._containerId=u(v)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ke.any3d,ut(f,"leaflet-container"+(Ke.touch?" leaflet-touch":"")+(Ke.retina?" leaflet-retina":"")+(Ke.ielt9?" leaflet-oldie":"")+(Ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var v=sc(f,"position");v!=="absolute"&&v!=="relative"&&v!=="fixed"&&v!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Kt(this._mapPane,new Q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(f.markerPane,"leaflet-zoom-hide"),ut(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,v,E){Kt(this._mapPane,new Q(0,0));var M=!this._loaded;this._loaded=!0,v=this._limitZoom(v),this.fire("viewprereset");var R=this._zoom!==v;this._moveStart(R,E)._move(f,v)._moveEnd(R),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(f,v){return f&&this.fire("zoomstart"),v||this.fire("movestart"),this},_move:function(f,v,E,M){v===void 0&&(v=this._zoom);var R=this._zoom!==v;return this._zoom=v,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),M?E&&E.pinch&&this.fire("zoom",E):((R||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){Kt(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[u(this._container)]=this;var v=f?It:st;v(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&v(window,"resize",this._onResize,this),Ke.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,v){for(var E=[],M,R=v==="mouseout"||v==="mouseover",F=f.target||f.srcElement,ee=!1;F;){if(M=this._targets[u(F)],M&&(v==="click"||v==="preclick")&&this._draggableMoved(M)){ee=!0;break}if(M&&M.listens(v,!0)&&(R&&!Pa(F,f)||(E.push(M),R))||F===this._container)break;F=F.parentNode}return!E.length&&!ee&&!R&&this.listens(v,!0)&&(E=[this]),E},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var v=f.target||f.srcElement;if(!(!this._loaded||v._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(v))){var E=f.type;E==="mousedown"&&Qs(v),this._fireDOMEvent(f,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,v,E){if(f.type==="click"){var M=i({},f);M.type="preclick",this._fireDOMEvent(M,M.type,E)}var R=this._findEventTargets(f,v);if(E){for(var F=[],ee=0;ee<E.length;ee++)E[ee].listens(v,!0)&&F.push(E[ee]);R=F.concat(R)}if(R.length){v==="contextmenu"&&_n(f);var de=R[0],ge={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var Ae=de.getLatLng&&(!de._radius||de._radius<=10);ge.containerPoint=Ae?this.latLngToContainerPoint(de.getLatLng()):this.mouseEventToContainerPoint(f),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Ae?de.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(ee=0;ee<R.length;ee++)if(R[ee].fire(v,ge,!0),ge.originalEvent._stopped||R[ee].options.bubblingMouseEvents===!1&&C(this._mouseEvents,v)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,v=this._handlers.length;f<v;f++)this._handlers[f].disable()},whenReady:function(f,v){return this._loaded?f.call(v||this,{target:this}):this.on("load",f,v),this},_getMapPanePos:function(){return fo(this._mapPane)||new Q(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,v){var E=f&&v!==void 0?this._getNewPixelOrigin(f,v):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,v){var E=this.getSize()._divideBy(2);return this.project(f,v)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,v,E){var M=this._getNewPixelOrigin(E,v);return this.project(f,v)._subtract(M)},_latLngBoundsToNewLayerBounds:function(f,v,E){var M=this._getNewPixelOrigin(E,v);return V([this.project(f.getSouthWest(),v)._subtract(M),this.project(f.getNorthWest(),v)._subtract(M),this.project(f.getSouthEast(),v)._subtract(M),this.project(f.getNorthEast(),v)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,v,E){if(!E)return f;var M=this.project(f,v),R=this.getSize().divideBy(2),F=new z(M.subtract(R),M.add(R)),ee=this._getBoundsOffset(F,E,v);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?f:this.unproject(M.add(ee),v)},_limitOffset:function(f,v){if(!v)return f;var E=this.getPixelBounds(),M=new z(E.min.add(f),E.max.add(f));return f.add(this._getBoundsOffset(M,v))},_getBoundsOffset:function(f,v,E){var M=V(this.project(v.getNorthEast(),E),this.project(v.getSouthWest(),E)),R=M.min.subtract(f.min),F=M.max.subtract(f.max),ee=this._rebound(R.x,-F.x),de=this._rebound(R.y,-F.y);return new Q(ee,de)},_rebound:function(f,v){return f+v>0?Math.round(f-v)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(v))},_limitZoom:function(f){var v=this.getMinZoom(),E=this.getMaxZoom(),M=Ke.any3d?this.options.zoomSnap:1;return M&&(f=Math.round(f/M)*M),Math.max(v,Math.min(E,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){sn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,v){var E=this._getCenterOffset(f)._trunc();return(v&&v.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,v),!0)},_createAnimProxy:function(){var f=this._proxy=bt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(v){var E=uo,M=this._proxy.style[E];Da(this._proxy,this.project(v.center,v.zoom),this.getZoomScale(v.zoom,1)),M===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),v=this.getZoom();Da(this._proxy,this.project(f,v),this.getZoomScale(v,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,v,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(v-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(v),R=this._getCenterOffset(f)._divideBy(1-1/M);return E.animate!==!0&&!this.getSize().contains(R)?!1:(H(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(f,v,!0)},this),!0)},_animateZoom:function(f,v,E,M){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=v,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:v,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&sn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jf(f,v){return new wt(f,v)}var Gr=X.extend({options:{position:"topright"},initialize:function(f){w(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var v=this._map;return v&&v.removeControl(this),this.options.position=f,v&&v.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var v=this._container=this.onAdd(f),E=this.getPosition(),M=f._controlCorners[E];return ut(v,"leaflet-control"),E.indexOf("bottom")!==-1?M.insertBefore(v,M.firstChild):M.appendChild(v),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),Ra=function(f){return new Gr(f)};wt.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},v="leaflet-",E=this._controlContainer=bt("div",v+"control-container",this._container);function M(R,F){var ee=v+R+" "+v+F;f[R+F]=bt("div",ee,E)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)Ht(this._controlCorners[f]);Ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mc=Gr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,v,E,M){return E<M?-1:M<E?1:0}},initialize:function(f,v,E){w(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in f)this._addLayer(f[M],M);for(M in v)this._addLayer(v[M],M,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return Gr.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,v){return this._addLayer(f,v),this._map?this._update():this},addOverlay:function(f,v){return this._addLayer(f,v,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var v=this._getLayer(u(f));return v&&this._layers.splice(this._layers.indexOf(v),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):sn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return sn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",v=this._container=bt("div",f),E=this.options.collapsed;v.setAttribute("aria-haspopup",!0),Qo(v),ta(v);var M=this._section=bt("section",f+"-list");E&&(this._map.on("click",this.collapse,this),st(v,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=bt("a",f+"-toggle",v);R.href="#",R.title="Layers",R.setAttribute("role","button"),st(R,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){_n(F),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=bt("div",f+"-base",M),this._separator=bt("div",f+"-separator",M),this._overlaysList=bt("div",f+"-overlays",M),v.appendChild(M)},_getLayer:function(f){for(var v=0;v<this._layers.length;v++)if(this._layers[v]&&u(this._layers[v].layer)===f)return this._layers[v]},_addLayer:function(f,v,E){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:v,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(M,R){return this.options.sortFunction(M.layer,R.layer,M.name,R.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ii(this._baseLayersList),ii(this._overlaysList),this._layerControlInputs=[];var f,v,E,M,R=0;for(E=0;E<this._layers.length;E++)M=this._layers[E],this._addItem(M),v=v||M.overlay,f=f||!M.overlay,R+=M.overlay?0:1;return this.options.hideSingleBase&&(f=f&&R>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=v&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var v=this._getLayer(u(f.target)),E=v.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;E&&this._map.fire(E,v)},_createRadioElement:function(f,v){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(v?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=E,M.firstChild},_addItem:function(f){var v=document.createElement("label"),E=this._map.hasLayer(f.layer),M;f.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=E):M=this._createRadioElement("leaflet-base-layers_"+u(this),E),this._layerControlInputs.push(M),M.layerId=u(f.layer),st(M,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+f.name;var F=document.createElement("span");v.appendChild(F),F.appendChild(M),F.appendChild(R);var ee=f.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(v),this._checkDisabledLayers(),v},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,v,E,M=[],R=[];this._handlingClick=!0;for(var F=f.length-1;F>=0;F--)v=f[F],E=this._getLayer(v.layerId).layer,v.checked?M.push(E):v.checked||R.push(E);for(F=0;F<R.length;F++)this._map.hasLayer(R[F])&&this._map.removeLayer(R[F]);for(F=0;F<M.length;F++)this._map.hasLayer(M[F])||this._map.addLayer(M[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,v,E,M=this._map.getZoom(),R=f.length-1;R>=0;R--)v=f[R],E=this._getLayer(v.layerId).layer,v.disabled=E.options.minZoom!==void 0&&M<E.options.minZoom||E.options.maxZoom!==void 0&&M>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,st(f,"click",_n),this.expand();var v=this;setTimeout(function(){It(f,"click",_n),v._preventClick=!1})}}),o0=function(f,v,E){return new mc(f,v,E)},Qf=Gr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var v="leaflet-control-zoom",E=bt("div",v+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,v+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,v+"-out",E,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,v,E,M,R){var F=bt("a",E,M);return F.innerHTML=f,F.href="#",F.title=v,F.setAttribute("role","button"),F.setAttribute("aria-label",v),Qo(F),st(F,"click",ho),st(F,"click",R,this),st(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var f=this._map,v="leaflet-disabled";sn(this._zoomInButton,v),sn(this._zoomOutButton,v),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(ut(this._zoomOutButton,v),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(ut(this._zoomInButton,v),this._zoomInButton.setAttribute("aria-disabled","true"))}});wt.mergeOptions({zoomControl:!0}),wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qf,this.addControl(this.zoomControl))});var Kx=function(f){return new Qf(f)},s0=Gr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var v="leaflet-control-scale",E=bt("div",v),M=this.options;return this._addScales(M,v+"-line",E),f.on(M.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),E},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,v,E){f.metric&&(this._mScale=bt("div",v,E)),f.imperial&&(this._iScale=bt("div",v,E))},_update:function(){var f=this._map,v=f.getSize().y/2,E=f.distance(f.containerPointToLatLng([0,v]),f.containerPointToLatLng([this.options.maxWidth,v]));this._updateScales(E)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var v=this._getRoundNum(f),E=v<1e3?v+" m":v/1e3+" km";this._updateScale(this._mScale,E,v/f)},_updateImperial:function(f){var v=f*3.2808399,E,M,R;v>5280?(E=v/5280,M=this._getRoundNum(E),this._updateScale(this._iScale,M+" mi",M/E)):(R=this._getRoundNum(v),this._updateScale(this._iScale,R+" ft",R/v))},_updateScale:function(f,v,E){f.style.width=Math.round(this.options.maxWidth*E)+"px",f.innerHTML=v},_getRoundNum:function(f){var v=Math.pow(10,(Math.floor(f)+"").length-1),E=f/v;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,v*E}}),eh=function(f){return new s0(f)},Wx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',th=Gr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ke.inlineSvg?Wx+" ":"")+"Leaflet</a>"},initialize:function(f){w(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=bt("div","leaflet-control-attribution"),Qo(this._container);for(var v in f._layers)f._layers[v].getAttribution&&this.addAttribution(f._layers[v].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var v in this._attributions)this._attributions[v]&&f.push(v);var E=[];this.options.prefix&&E.push(this.options.prefix),f.length&&E.push(f.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});wt.mergeOptions({attributionControl:!0}),wt.addInitHook(function(){this.options.attributionControl&&new th().addTo(this)});var Vx=function(f){return new th(f)};Gr.Layers=mc,Gr.Zoom=Qf,Gr.Scale=s0,Gr.Attribution=th,Ra.layers=o0,Ra.zoom=Kx,Ra.scale=eh,Ra.attribution=Vx;var na=X.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});na.addTo=function(f,v){return f.addHandler(v,this),this};var Zx={Events:Y},nh=Ke.touch?"touchstart mousedown":"mousedown",mo=J.extend({options:{clickTolerance:3},initialize:function(f,v,E,M){w(this,M),this._element=f,this._dragStartTarget=v||f,this._preventOutline=E},enable:function(){this._enabled||(st(this._dragStartTarget,nh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mo._dragging===this&&this.finishDrag(!0),It(this._dragStartTarget,nh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!Kf(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){mo._dragging===this&&this.finishDrag();return}if(!(mo._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(mo._dragging=this,this._preventOutline&&Qs(this._element),Pu(),Xs(),!this._moving)){this.fire("down");var v=f.touches?f.touches[0]:f,E=Lu(this._element);this._startPoint=new Q(v.clientX,v.clientY),this._startPos=fo(this._element),this._parentScale=uc(E);var M=f.type==="mousedown";st(document,M?"mousemove":"touchmove",this._onMove,this),st(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var v=f.touches&&f.touches.length===1?f.touches[0]:f,E=new Q(v.clientX,v.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,_n(f),this._moved||(this.fire("dragstart"),this._moved=!0,ut(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),Kt(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){sn(document.body,"leaflet-dragging"),this._lastTarget&&(sn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),It(document,"mousemove touchmove",this._onMove,this),It(document,"mouseup touchend touchcancel",this._onUp,this),cc(),ea();var v=this._moved&&this._moving;this._moving=!1,mo._dragging=!1,v&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function l0(f,v,E){var M,R=[1,4,2,8],F,ee,de,ge,Ae,$e,Ve,mt;for(F=0,$e=f.length;F<$e;F++)f[F]._code=es(f[F],v);for(de=0;de<4;de++){for(Ve=R[de],M=[],F=0,$e=f.length,ee=$e-1;F<$e;ee=F++)ge=f[F],Ae=f[ee],ge._code&Ve?Ae._code&Ve||(mt=$u(Ae,ge,Ve,v,E),mt._code=es(mt,v),M.push(mt)):(Ae._code&Ve&&(mt=$u(Ae,ge,Ve,v,E),mt._code=es(mt,v),M.push(mt)),M.push(ge));f=M}return f}function c0(f,v){var E,M,R,F,ee,de,ge,Ae,$e;if(!f||f.length===0)throw new Error("latlngs not passed");oi(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Ve=pe([0,0]),mt=oe(f),Zn=mt.getNorthWest().distanceTo(mt.getSouthWest())*mt.getNorthEast().distanceTo(mt.getNorthWest());Zn<1700&&(Ve=rh(f));var Sn=f.length,Yr=[];for(E=0;E<Sn;E++){var At=pe(f[E]);Yr.push(v.project(pe([At.lat-Ve.lat,At.lng-Ve.lng])))}for(de=ge=Ae=0,E=0,M=Sn-1;E<Sn;M=E++)R=Yr[E],F=Yr[M],ee=R.y*F.x-F.y*R.x,ge+=(R.x+F.x)*ee,Ae+=(R.y+F.y)*ee,de+=ee*3;de===0?$e=Yr[0]:$e=[ge/de,Ae/de];var jt=v.unproject(ae($e));return pe([jt.lat+Ve.lat,jt.lng+Ve.lng])}function rh(f){for(var v=0,E=0,M=0,R=0;R<f.length;R++){var F=pe(f[R]);v+=F.lat,E+=F.lng,M++}return pe([v/M,E/M])}var ih={__proto__:null,clipPolygon:l0,polygonCenter:c0,centroid:rh};function u0(f,v){if(!v||!f.length)return f.slice();var E=v*v;return f=Jx(f,E),f=f0(f,E),f}function d0(f,v,E){return Math.sqrt(pc(f,v,E,!0))}function Xx(f,v,E){return pc(f,v,E)}function f0(f,v){var E=f.length,M=typeof Uint8Array<"u"?Uint8Array:Array,R=new M(E);R[0]=R[E-1]=1,ah(f,R,v,0,E-1);var F,ee=[];for(F=0;F<E;F++)R[F]&&ee.push(f[F]);return ee}function ah(f,v,E,M,R){var F=0,ee,de,ge;for(de=M+1;de<=R-1;de++)ge=pc(f[de],f[M],f[R],!0),ge>F&&(ee=de,F=ge);F>E&&(v[ee]=1,ah(f,v,E,M,ee),ah(f,v,E,ee,R))}function Jx(f,v){for(var E=[f[0]],M=1,R=0,F=f.length;M<F;M++)Qx(f[M],f[R])>v&&(E.push(f[M]),R=M);return R<F-1&&E.push(f[F-1]),E}var h0;function m0(f,v,E,M,R){var F=M?h0:es(f,E),ee=es(v,E),de,ge,Ae;for(h0=ee;;){if(!(F|ee))return[f,v];if(F&ee)return!1;de=F||ee,ge=$u(f,v,de,E,R),Ae=es(ge,E),de===F?(f=ge,F=Ae):(v=ge,ee=Ae)}}function $u(f,v,E,M,R){var F=v.x-f.x,ee=v.y-f.y,de=M.min,ge=M.max,Ae,$e;return E&8?(Ae=f.x+F*(ge.y-f.y)/ee,$e=ge.y):E&4?(Ae=f.x+F*(de.y-f.y)/ee,$e=de.y):E&2?(Ae=ge.x,$e=f.y+ee*(ge.x-f.x)/F):E&1&&(Ae=de.x,$e=f.y+ee*(de.x-f.x)/F),new Q(Ae,$e,R)}function es(f,v){var E=0;return f.x<v.min.x?E|=1:f.x>v.max.x&&(E|=2),f.y<v.min.y?E|=4:f.y>v.max.y&&(E|=8),E}function Qx(f,v){var E=v.x-f.x,M=v.y-f.y;return E*E+M*M}function pc(f,v,E,M){var R=v.x,F=v.y,ee=E.x-R,de=E.y-F,ge=ee*ee+de*de,Ae;return ge>0&&(Ae=((f.x-R)*ee+(f.y-F)*de)/ge,Ae>1?(R=E.x,F=E.y):Ae>0&&(R+=ee*Ae,F+=de*Ae)),ee=f.x-R,de=f.y-F,M?ee*ee+de*de:new Q(R,F)}function oi(f){return!A(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function Bu(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),oi(f)}function nl(f,v){var E,M,R,F,ee,de,ge,Ae;if(!f||f.length===0)throw new Error("latlngs not passed");oi(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var $e=pe([0,0]),Ve=oe(f),mt=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());mt<1700&&($e=rh(f));var Zn=f.length,Sn=[];for(E=0;E<Zn;E++){var Yr=pe(f[E]);Sn.push(v.project(pe([Yr.lat-$e.lat,Yr.lng-$e.lng])))}for(E=0,M=0;E<Zn-1;E++)M+=Sn[E].distanceTo(Sn[E+1])/2;if(M===0)Ae=Sn[0];else for(E=0,F=0;E<Zn-1;E++)if(ee=Sn[E],de=Sn[E+1],R=ee.distanceTo(de),F+=R,F>M){ge=(F-M)/R,Ae=[de.x-ge*(de.x-ee.x),de.y-ge*(de.y-ee.y)];break}var At=v.unproject(ae(Ae));return pe([At.lat+$e.lat,At.lng+$e.lng])}var ew={__proto__:null,simplify:u0,pointToSegmentDistance:d0,closestPointOnSegment:Xx,clipSegment:m0,_getEdgeIntersection:$u,_getBitCode:es,_sqClosestPointOnSegment:pc,isFlat:oi,_flat:Bu,polylineCenter:nl},zu={project:function(f){return new Q(f.lng,f.lat)},unproject:function(f){return new ue(f.y,f.x)},bounds:new z([-180,-90],[180,90])},Uu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var v=Math.PI/180,E=this.R,M=f.lat*v,R=this.R_MINOR/E,F=Math.sqrt(1-R*R),ee=F*Math.sin(M),de=Math.tan(Math.PI/4-M/2)/Math.pow((1-ee)/(1+ee),F/2);return M=-E*Math.log(Math.max(de,1e-10)),new Q(f.lng*v*E,M)},unproject:function(f){for(var v=180/Math.PI,E=this.R,M=this.R_MINOR/E,R=Math.sqrt(1-M*M),F=Math.exp(-f.y/E),ee=Math.PI/2-2*Math.atan(F),de=0,ge=.1,Ae;de<15&&Math.abs(ge)>1e-7;de++)Ae=R*Math.sin(ee),Ae=Math.pow((1-Ae)/(1+Ae),R/2),ge=Math.PI/2-2*Math.atan(F*Ae)-ee,ee+=ge;return new ue(ee*v,f.x*v/E)}},p0={__proto__:null,LonLat:zu,Mercator:Uu,SphericalMercator:Te},g0=i({},Oe,{code:"EPSG:3395",projection:Uu,transformation:(function(){var f=.5/(Math.PI*Uu.R);return se(f,.5,-f,.5)})()}),oh=i({},Oe,{code:"EPSG:4326",projection:zu,transformation:se(1/180,1,-1/180,.5)}),rl=i({},ye,{projection:zu,transformation:se(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,v){var E=v.lng-f.lng,M=v.lat-f.lat;return Math.sqrt(E*E+M*M)},infinite:!0});ye.Earth=Oe,ye.EPSG3395=g0,ye.EPSG3857=ze,ye.EPSG900913=Ye,ye.EPSG4326=oh,ye.Simple=rl;var Ni=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[u(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[u(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var v=f.target;if(v.hasLayer(this)){if(this._map=v,this._zoomAnimated=v._zoomAnimated,this.getEvents){var E=this.getEvents();v.on(E,this),this.once("remove",function(){v.off(E,this)},this)}this.onAdd(v),this.fire("add"),v.fire("layeradd",{layer:this})}}});wt.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var v=u(f);return this._layers[v]?this:(this._layers[v]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var v=u(f);return this._layers[v]?(this._loaded&&f.onRemove(this),delete this._layers[v],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return u(f)in this._layers},eachLayer:function(f,v){for(var E in this._layers)f.call(v,this._layers[E]);return this},_addLayers:function(f){f=f?A(f)?f:[f]:[];for(var v=0,E=f.length;v<E;v++)this.addLayer(f[v])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[u(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var v=u(f);this._zoomBoundLayers[v]&&(delete this._zoomBoundLayers[v],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,v=-1/0,E=this._getZoomSpan();for(var M in this._zoomBoundLayers){var R=this._zoomBoundLayers[M].options;f=R.minZoom===void 0?f:Math.min(f,R.minZoom),v=R.maxZoom===void 0?v:Math.max(v,R.maxZoom)}this._layersMaxZoom=v===-1/0?void 0:v,this._layersMinZoom=f===1/0?void 0:f,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var il=Ni.extend({initialize:function(f,v){w(this,v),this._layers={};var E,M;if(f)for(E=0,M=f.length;E<M;E++)this.addLayer(f[E])},addLayer:function(f){var v=this.getLayerId(f);return this._layers[v]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var v=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[v]&&this._map.removeLayer(this._layers[v]),delete this._layers[v],this},hasLayer:function(f){var v=typeof f=="number"?f:this.getLayerId(f);return v in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var v=Array.prototype.slice.call(arguments,1),E,M;for(E in this._layers)M=this._layers[E],M[f]&&M[f].apply(M,v);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,v){for(var E in this._layers)f.call(v,this._layers[E]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return u(f)}}),tw=function(f,v){return new il(f,v)},ra=il.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),il.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),il.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new ne;for(var v in this._layers){var E=this._layers[v];f.extend(E.getBounds?E.getBounds():E.getLatLng())}return f}}),b0=function(f,v){return new ra(f,v)},ia=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){w(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,v){var E=this._getIconUrl(f);if(!E){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(E,v&&v.tagName==="IMG"?v:null);return this._setIconStyles(M,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(f,v){var E=this.options,M=E[v+"Size"];typeof M=="number"&&(M=[M,M]);var R=ae(M),F=ae(v==="shadow"&&E.shadowAnchor||E.iconAnchor||R&&R.divideBy(2,!0));f.className="leaflet-marker-"+v+" "+(E.className||""),F&&(f.style.marginLeft=-F.x+"px",f.style.marginTop=-F.y+"px"),R&&(f.style.width=R.x+"px",f.style.height=R.y+"px")},_createImg:function(f,v){return v=v||document.createElement("img"),v.src=f,v},_getIconUrl:function(f){return Ke.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function gc(f){return new ia(f)}var bc=ia.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof bc.imagePath!="string"&&(bc.imagePath=this._detectIconPath()),(this.options.imagePath||bc.imagePath)+ia.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var v=function(E,M,R){var F=M.exec(E);return F&&F[R]};return f=v(f,/^url\((['"])?(.+)\1\)$/,2),f&&v(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=bt("div","leaflet-default-icon-path",document.body),v=sc(f,"background-image")||sc(f,"backgroundImage");if(document.body.removeChild(f),v=this._stripUrl(v),v)return v;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),yc=na.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new mo(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&sn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var v=this._marker,E=v._map,M=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,F=fo(v._icon),ee=E.getPixelBounds(),de=E.getPixelOrigin(),ge=V(ee.min._subtract(de).add(R),ee.max._subtract(de).subtract(R));if(!ge.contains(F)){var Ae=ae((Math.max(ge.max.x,F.x)-ge.max.x)/(ee.max.x-ge.max.x)-(Math.min(ge.min.x,F.x)-ge.min.x)/(ee.min.x-ge.min.x),(Math.max(ge.max.y,F.y)-ge.max.y)/(ee.max.y-ge.max.y)-(Math.min(ge.min.y,F.y)-ge.min.y)/(ee.min.y-ge.min.y)).multiplyBy(M);E.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Kt(v._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=H(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,f)))},_onDrag:function(f){var v=this._marker,E=v._shadow,M=fo(v._icon),R=v._map.layerPointToLatLng(M);E&&Kt(E,M),v._latlng=R,f.latlng=R,f.oldLatLng=this._oldLatLng,v.fire("move",f).fire("drag",f)},_onDragEnd:function(f){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),vc=Ni.extend({options:{icon:new bc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,v){w(this,v),this._latlng=pe(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var v=this._latlng;return this._latlng=pe(f),this.update(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,v="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=f.icon.createIcon(this._icon),M=!1;E!==this._icon&&(this._icon&&this._removeIcon(),M=!0,f.title&&(E.title=f.title),E.tagName==="IMG"&&(E.alt=f.alt||"")),ut(E,v),f.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(E,"focus",this._panOnFocus,this);var R=f.icon.createShadow(this._shadow),F=!1;R!==this._shadow&&(this._removeShadow(),F=!0),R&&(ut(R,v),R.alt=""),this._shadow=R,f.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&F&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&It(this._icon,"focus",this._panOnFocus,this),Ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ht(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&Kt(this._icon,f),this._shadow&&Kt(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(v)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yc)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yc(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&en(this._icon,f),this._shadow&&en(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var v=this.options.icon.options,E=v.iconSize?ae(v.iconSize):ae(0,0),M=v.iconAnchor?ae(v.iconAnchor):ae(0,0);f.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:E.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function y0(f,v){return new vc(f,v)}var aa=Ni.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return w(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),al=aa.extend({options:{fill:!0,radius:10},initialize:function(f,v){w(this,v),this._latlng=pe(f),this._radius=this.options.radius},setLatLng:function(f){var v=this._latlng;return this._latlng=pe(f),this.redraw(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var v=f&&f.radius||this._radius;return aa.prototype.setStyle.call(this,f),this.setRadius(v),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,v=this._radiusY||f,E=this._clickTolerance(),M=[f+E,v+E];this._pxBounds=new z(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function v0(f,v){return new al(f,v)}var Fu=al.extend({initialize:function(f,v,E){if(typeof v=="number"&&(v=i({},E,{radius:v})),w(this,v),this._latlng=pe(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new ne(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:aa.prototype.setStyle,_project:function(){var f=this._latlng.lng,v=this._latlng.lat,E=this._map,M=E.options.crs;if(M.distance===Oe.distance){var R=Math.PI/180,F=this._mRadius/Oe.R/R,ee=E.project([v+F,f]),de=E.project([v-F,f]),ge=ee.add(de).divideBy(2),Ae=E.unproject(ge).lat,$e=Math.acos((Math.cos(F*R)-Math.sin(v*R)*Math.sin(Ae*R))/(Math.cos(v*R)*Math.cos(Ae*R)))/R;(isNaN($e)||$e===0)&&($e=F/Math.cos(Math.PI/180*v)),this._point=ge.subtract(E.getPixelOrigin()),this._radius=isNaN($e)?0:ge.x-E.project([Ae,f-$e]).x,this._radiusY=ge.y-ee.y}else{var Ve=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(Ve).x}this._updateBounds()}});function x0(f,v,E){return new Fu(f,v,E)}var La=aa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,v){w(this,v),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var v=1/0,E=null,M=pc,R,F,ee=0,de=this._parts.length;ee<de;ee++)for(var ge=this._parts[ee],Ae=1,$e=ge.length;Ae<$e;Ae++){R=ge[Ae-1],F=ge[Ae];var Ve=M(f,R,F,!0);Ve<v&&(v=Ve,E=M(f,R,F))}return E&&(E.distance=Math.sqrt(v)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,v){return v=v||this._defaultShape(),f=pe(f),v.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new ne,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return oi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var v=[],E=oi(f),M=0,R=f.length;M<R;M++)E?(v[M]=pe(f[M]),this._bounds.extend(v[M])):v[M]=this._convertLatLngs(f[M]);return v},_project:function(){var f=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),v=new Q(f,f);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(v),this._rawPxBounds.max.add(v)]))},_projectLatlngs:function(f,v,E){var M=f[0]instanceof ue,R=f.length,F,ee;if(M){for(ee=[],F=0;F<R;F++)ee[F]=this._map.latLngToLayerPoint(f[F]),E.extend(ee[F]);v.push(ee)}else for(F=0;F<R;F++)this._projectLatlngs(f[F],v,E)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var v=this._parts,E,M,R,F,ee,de,ge;for(E=0,R=0,F=this._rings.length;E<F;E++)for(ge=this._rings[E],M=0,ee=ge.length;M<ee-1;M++)de=m0(ge[M],ge[M+1],f,M,!0),de&&(v[R]=v[R]||[],v[R].push(de[0]),(de[1]!==ge[M+1]||M===ee-2)&&(v[R].push(de[1]),R++))}},_simplifyPoints:function(){for(var f=this._parts,v=this.options.smoothFactor,E=0,M=f.length;E<M;E++)f[E]=u0(f[E],v)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,v){var E,M,R,F,ee,de,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(E=0,F=this._parts.length;E<F;E++)for(de=this._parts[E],M=0,ee=de.length,R=ee-1;M<ee;R=M++)if(!(!v&&M===0)&&d0(f,de[R],de[M])<=ge)return!0;return!1}});function nw(f,v){return new La(f,v)}La._flat=Bu;var ol=La.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return c0(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var v=La.prototype._convertLatLngs.call(this,f),E=v.length;return E>=2&&v[0]instanceof ue&&v[0].equals(v[E-1])&&v.pop(),v},_setLatLngs:function(f){La.prototype._setLatLngs.call(this,f),oi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return oi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,v=this.options.weight,E=new Q(v,v);if(f=new z(f.min.subtract(E),f.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,R=this._rings.length,F;M<R;M++)F=l0(this._rings[M],f,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var v=!1,E,M,R,F,ee,de,ge,Ae;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(F=0,ge=this._parts.length;F<ge;F++)for(E=this._parts[F],ee=0,Ae=E.length,de=Ae-1;ee<Ae;de=ee++)M=E[ee],R=E[de],M.y>f.y!=R.y>f.y&&f.x<(R.x-M.x)*(f.y-M.y)/(R.y-M.y)+M.x&&(v=!v);return v||La.prototype._containsPoint.call(this,f,!0)}});function rw(f,v){return new ol(f,v)}var Ia=ra.extend({initialize:function(f,v){w(this,v),this._layers={},f&&this.addData(f)},addData:function(f){var v=A(f)?f:f.features,E,M,R;if(v){for(E=0,M=v.length;E<M;E++)R=v[E],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var F=this.options;if(F.filter&&!F.filter(f))return this;var ee=lr(f,F);return ee?(ee.feature=Yu(f),ee.defaultOptions=ee.options,this.resetStyle(ee),F.onEachFeature&&F.onEachFeature(f,ee),this.addLayer(ee)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=i({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(v){this._setLayerStyle(v,f)},this)},_setLayerStyle:function(f,v){f.setStyle&&(typeof v=="function"&&(v=v(f.feature)),f.setStyle(v))}});function lr(f,v){var E=f.type==="Feature"?f.geometry:f,M=E?E.coordinates:null,R=[],F=v&&v.pointToLayer,ee=v&&v.coordsToLatLng||Hu,de,ge,Ae,$e;if(!M&&!E)return null;switch(E.type){case"Point":return de=ee(M),sl(F,f,de,v);case"MultiPoint":for(Ae=0,$e=M.length;Ae<$e;Ae++)de=ee(M[Ae]),R.push(sl(F,f,de,v));return new ra(R);case"LineString":case"MultiLineString":return ge=xc(M,E.type==="LineString"?0:1,ee),new La(ge,v);case"Polygon":case"MultiPolygon":return ge=xc(M,E.type==="Polygon"?1:2,ee),new ol(ge,v);case"GeometryCollection":for(Ae=0,$e=E.geometries.length;Ae<$e;Ae++){var Ve=lr({geometry:E.geometries[Ae],type:"Feature",properties:f.properties},v);Ve&&R.push(Ve)}return new ra(R);case"FeatureCollection":for(Ae=0,$e=E.features.length;Ae<$e;Ae++){var mt=lr(E.features[Ae],v);mt&&R.push(mt)}return new ra(R);default:throw new Error("Invalid GeoJSON object.")}}function sl(f,v,E,M){return f?f(v,E):new vc(E,M&&M.markersInheritOptions&&M)}function Hu(f){return new ue(f[1],f[0],f[2])}function xc(f,v,E){for(var M=[],R=0,F=f.length,ee;R<F;R++)ee=v?xc(f[R],v-1,E):(E||Hu)(f[R]),M.push(ee);return M}function Gu(f,v){return f=pe(f),f.alt!==void 0?[b(f.lng,v),b(f.lat,v),b(f.alt,v)]:[b(f.lng,v),b(f.lat,v)]}function wc(f,v,E,M){for(var R=[],F=0,ee=f.length;F<ee;F++)R.push(v?wc(f[F],oi(f[F])?0:v-1,E,M):Gu(f[F],M));return!v&&E&&R.length>0&&R.push(R[0].slice()),R}function po(f,v){return f.feature?i({},f.feature,{geometry:v}):Yu(v)}function Yu(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var go={toGeoJSON:function(f){return po(this,{type:"Point",coordinates:Gu(this.getLatLng(),f)})}};vc.include(go),Fu.include(go),al.include(go),La.include({toGeoJSON:function(f){var v=!oi(this._latlngs),E=wc(this._latlngs,v?1:0,!1,f);return po(this,{type:(v?"Multi":"")+"LineString",coordinates:E})}}),ol.include({toGeoJSON:function(f){var v=!oi(this._latlngs),E=v&&!oi(this._latlngs[0]),M=wc(this._latlngs,E?2:v?1:0,!0,f);return v||(M=[M]),po(this,{type:(E?"Multi":"")+"Polygon",coordinates:M})}}),il.include({toMultiPoint:function(f){var v=[];return this.eachLayer(function(E){v.push(E.toGeoJSON(f).geometry.coordinates)}),po(this,{type:"MultiPoint",coordinates:v})},toGeoJSON:function(f){var v=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(v==="MultiPoint")return this.toMultiPoint(f);var E=v==="GeometryCollection",M=[];return this.eachLayer(function(R){if(R.toGeoJSON){var F=R.toGeoJSON(f);if(E)M.push(F.geometry);else{var ee=Yu(F);ee.type==="FeatureCollection"?M.push.apply(M,ee.features):M.push(ee)}}}),E?po(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function qu(f,v){return new Ia(f,v)}var _c=qu,ll=Ni.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,v,E){this._url=f,this._bounds=oe(v),w(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&Vn(this._image),this},bringToBack:function(){return this._map&&Xo(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=oe(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",v=this._image=f?this._url:bt("img");if(ut(v,"leaflet-image-layer"),this._zoomAnimated&&ut(v,"leaflet-zoom-animated"),this.options.className&&ut(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onload=o(this.fire,this,"load"),v.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=v.src;return}v.src=this._url,v.alt=this.options.alt},_animateZoom:function(f){var v=this._map.getZoomScale(f.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;Da(this._image,E,v)},_reset:function(){var f=this._image,v=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=v.getSize();Kt(f,v.min),f.style.width=E.x+"px",f.style.height=E.y+"px"},_updateOpacity:function(){en(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),w0=function(f,v,E){return new ll(f,v,E)},bo=ll.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",v=this._image=f?this._url:bt("video");if(ut(v,"leaflet-image-layer"),this._zoomAnimated&&ut(v,"leaflet-zoom-animated"),this.options.className&&ut(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onloadeddata=o(this.fire,this,"load"),f){for(var E=v.getElementsByTagName("source"),M=[],R=0;R<E.length;R++)M.push(E[R].src);this._url=E.length>0?M:[v.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(v.style,"objectFit")&&(v.style.objectFit="fill"),v.autoplay=!!this.options.autoplay,v.loop=!!this.options.loop,v.muted=!!this.options.muted,v.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var ee=bt("source");ee.src=this._url[F],v.appendChild(ee)}}});function cl(f,v,E){return new bo(f,v,E)}var Ku=ll.extend({_initImage:function(){var f=this._image=this._url;ut(f,"leaflet-image-layer"),this._zoomAnimated&&ut(f,"leaflet-zoom-animated"),this.options.className&&ut(f,this.options.className),f.onselectstart=p,f.onmousemove=p}});function _0(f,v,E){return new Ku(f,v,E)}var cr=Ni.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,v){f&&(f instanceof ue||A(f))?(this._latlng=pe(f),w(this,v)):(w(this,f),this._source=v),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&en(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&en(this._container,1),this.bringToFront(),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(en(this._container,0),this._removeTimeout=setTimeout(o(Ht,void 0,this._container),200)):Ht(this._container),this.options.interactive&&(sn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=pe(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vn(this._container),this},bringToBack:function(){return this._map&&Xo(this._container),this},_prepareOpen:function(f){var v=this._source;if(!v._map)return!1;if(v instanceof ra){v=null;var E=this._source._layers;for(var M in E)if(E[M]._map){v=E[M];break}if(!v)return!1;this._source=v}if(!f)if(v.getCenter)f=v.getCenter();else if(v.getLatLng)f=v.getLatLng();else if(v.getBounds)f=v.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,v=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof v=="string")f.innerHTML=v;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(v)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),v=ae(this.options.offset),E=this._getAnchor();this._zoomAnimated?Kt(this._container,f.add(E)):v=v.add(f).add(E);var M=this._containerBottom=-v.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+v.x;this._container.style.bottom=M+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});wt.include({_initOverlay:function(f,v,E,M){var R=v;return R instanceof f||(R=new f(M).setContent(v)),E&&R.setLatLng(E),R}}),Ni.include({_initOverlay:function(f,v,E,M){var R=E;return R instanceof f?(w(R,M),R._source=this):(R=v&&!M?v:new f(M,this),R.setContent(E)),R}});var Sc=cr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,cr.prototype.openOn.call(this,f)},onAdd:function(f){cr.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof aa||this._source.on("preclick",ji))},onRemove:function(f){cr.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof aa||this._source.off("preclick",ji))},getEvents:function(){var f=cr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",v=this._container=bt("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=bt("div",f+"-content-wrapper",v);if(this._contentNode=bt("div",f+"-content",E),Qo(v),ta(this._contentNode),st(v,"contextmenu",ji),this._tipContainer=bt("div",f+"-tip-container",v),this._tip=bt("div",f+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=bt("a",f+"-close-button",v);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',st(M,"click",function(R){_n(R),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,v=f.style;v.width="",v.whiteSpace="nowrap";var E=f.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),v.width=E+1+"px",v.whiteSpace="",v.height="";var M=f.offsetHeight,R=this.options.maxHeight,F="leaflet-popup-scrolled";R&&M>R?(v.height=R+"px",ut(f,F)):sn(f,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),E=this._getAnchor();Kt(this._container,v.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,v=parseInt(sc(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+v,M=this._containerWidth,R=new Q(this._containerLeft,-E-this._containerBottom);R._add(fo(this._container));var F=f.layerPointToContainerPoint(R),ee=ae(this.options.autoPanPadding),de=ae(this.options.autoPanPaddingTopLeft||ee),ge=ae(this.options.autoPanPaddingBottomRight||ee),Ae=f.getSize(),$e=0,Ve=0;F.x+M+ge.x>Ae.x&&($e=F.x+M-Ae.x+ge.x),F.x-$e-de.x<0&&($e=F.x-de.x),F.y+E+ge.y>Ae.y&&(Ve=F.y+E-Ae.y+ge.y),F.y-Ve-de.y<0&&(Ve=F.y-de.y),($e||Ve)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([$e,Ve]))}},_getAnchor:function(){return ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),S0=function(f,v){return new Sc(f,v)};wt.mergeOptions({closePopupOnClick:!0}),wt.include({openPopup:function(f,v,E){return this._initOverlay(Sc,f,v,E).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),Ni.include({bindPopup:function(f,v){return this._popup=this._initOverlay(Sc,this._popup,f,v),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof ra||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){ho(f);var v=f.layer||f.target;if(this._popup._source===v&&!(v instanceof aa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=v,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var kc=cr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){cr.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){cr.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=cr.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",v=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bt("div",v),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var v,E,M=this._map,R=this._container,F=M.latLngToContainerPoint(M.getCenter()),ee=M.layerPointToContainerPoint(f),de=this.options.direction,ge=R.offsetWidth,Ae=R.offsetHeight,$e=ae(this.options.offset),Ve=this._getAnchor();de==="top"?(v=ge/2,E=Ae):de==="bottom"?(v=ge/2,E=0):de==="center"?(v=ge/2,E=Ae/2):de==="right"?(v=0,E=Ae/2):de==="left"?(v=ge,E=Ae/2):ee.x<F.x?(de="right",v=0,E=Ae/2):(de="left",v=ge+($e.x+Ve.x)*2,E=Ae/2),f=f.subtract(ae(v,E,!0)).add($e).add(Ve),sn(R,"leaflet-tooltip-right"),sn(R,"leaflet-tooltip-left"),sn(R,"leaflet-tooltip-top"),sn(R,"leaflet-tooltip-bottom"),ut(R,"leaflet-tooltip-"+de),Kt(R,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&en(this._container,f)},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(v)},_getAnchor:function(){return ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),iw=function(f,v){return new kc(f,v)};wt.include({openTooltip:function(f,v,E){return this._initOverlay(kc,f,v,E).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),Ni.include({bindTooltip:function(f,v){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(kc,this._tooltip,f,v),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var v=f?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[v](E),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof ra||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var v=typeof f.getElement=="function"&&f.getElement();v&&(st(v,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),st(v,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var v=typeof f.getElement=="function"&&f.getElement();v&&v.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var v=this;this._map.once("moveend",function(){v._openOnceFlag=!1,v._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var v=f.latlng,E,M;this._tooltip.options.sticky&&f.originalEvent&&(E=this._map.mouseEventToContainerPoint(f.originalEvent),M=this._map.containerPointToLayerPoint(E),v=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(v)}});var k0=ia.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var v=f&&f.tagName==="DIV"?f:document.createElement("div"),E=this.options;if(E.html instanceof Element?(ii(v),v.appendChild(E.html)):v.innerHTML=E.html!==!1?E.html:"",E.bgPos){var M=ae(E.bgPos);v.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(v,"icon"),v},createShadow:function(){return null}});function aw(f){return new k0(f)}ia.Default=bc;var ul=Ni.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){w(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),Ht(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof Q?f:new Q(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var v=this.getPane().children,E=-f(-1/0,1/0),M=0,R=v.length,F;M<R;M++)F=v[M].style.zIndex,v[M]!==this._container&&F&&(E=f(E,+F));isFinite(E)&&(this.options.zIndex=E+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ke.ielt9){en(this._container,this.options.opacity);var f=+new Date,v=!1,E=!1;for(var M in this._tiles){var R=this._tiles[M];if(!(!R.current||!R.loaded)){var F=Math.min(1,(f-R.loaded)/200);en(R.el,F),F<1?v=!0:(R.active?E=!0:this._onOpaqueTile(R),R.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),v&&(B(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=bt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,v=this.options.maxZoom;if(f!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===f?(this._levels[E].el.style.zIndex=v-Math.abs(f-E),this._onUpdateLevel(E)):(Ht(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var M=this._levels[f],R=this._map;return M||(M=this._levels[f]={},M.el=bt("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=v,M.origin=R.project(R.unproject(R.getPixelOrigin()),f).round(),M.zoom=f,this._setZoomTransform(M,R.getCenter(),R.getZoom()),p(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var f,v,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)v=this._tiles[f],v.retain=v.current;for(f in this._tiles)if(v=this._tiles[f],v.current&&!v.active){var M=v.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var v in this._tiles)this._tiles[v].coords.z===f&&this._removeTile(v)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)Ht(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,v,E,M){var R=Math.floor(f/2),F=Math.floor(v/2),ee=E-1,de=new Q(+R,+F);de.z=+ee;var ge=this._tileCoordsToKey(de),Ae=this._tiles[ge];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),ee>M?this._retainParent(R,F,ee,M):!1)},_retainChildren:function(f,v,E,M){for(var R=2*f;R<2*f+2;R++)for(var F=2*v;F<2*v+2;F++){var ee=new Q(R,F);ee.z=E+1;var de=this._tileCoordsToKey(ee),ge=this._tiles[de];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);E+1<M&&this._retainChildren(R,F,E+1,M)}},_resetView:function(f){var v=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),v,v)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var v=this.options;return v.minNativeZoom!==void 0&&f<v.minNativeZoom?v.minNativeZoom:v.maxNativeZoom!==void 0&&v.maxNativeZoom<f?v.maxNativeZoom:f},_setView:function(f,v,E,M){var R=Math.round(v);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var F=this.options.updateWhenZooming&&R!==this._tileZoom;(!M||F)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(f),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(f,v)},_setZoomTransforms:function(f,v){for(var E in this._levels)this._setZoomTransform(this._levels[E],f,v)},_setZoomTransform:function(f,v,E){var M=this._map.getZoomScale(E,f.zoom),R=f.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(v,E)).round();Ke.any3d?Da(f.el,R,M):Kt(f.el,R)},_resetGrid:function(){var f=this._map,v=f.options.crs,E=this._tileSize=this.getTileSize(),M=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=v.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,v.wrapLng[0]],M).x/E.x),Math.ceil(f.project([0,v.wrapLng[1]],M).x/E.y)],this._wrapY=v.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([v.wrapLat[0],0],M).y/E.x),Math.ceil(f.project([v.wrapLat[1],0],M).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var v=this._map,E=v._animatingZoom?Math.max(v._animateToZoom,v.getZoom()):v.getZoom(),M=v.getZoomScale(E,this._tileZoom),R=v.project(f,this._tileZoom).floor(),F=v.getSize().divideBy(M*2);return new z(R.subtract(F),R.add(F))},_update:function(f){var v=this._map;if(v){var E=this._clampZoom(v.getZoom());if(f===void 0&&(f=v.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(f),R=this._pxBoundsToTileRange(M),F=R.getCenter(),ee=[],de=this.options.keepBuffer,ge=new z(R.getBottomLeft().subtract([de,-de]),R.getTopRight().add([de,-de]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var $e=this._tiles[Ae].coords;($e.z!==this._tileZoom||!ge.contains(new Q($e.x,$e.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(f,E);return}for(var Ve=R.min.y;Ve<=R.max.y;Ve++)for(var mt=R.min.x;mt<=R.max.x;mt++){var Zn=new Q(mt,Ve);if(Zn.z=this._tileZoom,!!this._isValidTile(Zn)){var Sn=this._tiles[this._tileCoordsToKey(Zn)];Sn?Sn.current=!0:ee.push(Zn)}}if(ee.sort(function(At,jt){return At.distanceTo(F)-jt.distanceTo(F)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Yr=document.createDocumentFragment();for(mt=0;mt<ee.length;mt++)this._addTile(ee[mt],Yr);this._level.el.appendChild(Yr)}}}},_isValidTile:function(f){var v=this._map.options.crs;if(!v.infinite){var E=this._globalTileRange;if(!v.wrapLng&&(f.x<E.min.x||f.x>E.max.x)||!v.wrapLat&&(f.y<E.min.y||f.y>E.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(f);return oe(this.options.bounds).overlaps(M)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var v=this._map,E=this.getTileSize(),M=f.scaleBy(E),R=M.add(E),F=v.unproject(M,f.z),ee=v.unproject(R,f.z);return[F,ee]},_tileCoordsToBounds:function(f){var v=this._tileCoordsToNwSe(f),E=new ne(v[0],v[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var v=f.split(":"),E=new Q(+v[0],+v[1]);return E.z=+v[2],E},_removeTile:function(f){var v=this._tiles[f];v&&(Ht(v.el),delete this._tiles[f],this.fire("tileunload",{tile:v.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){ut(f,"leaflet-tile");var v=this.getTileSize();f.style.width=v.x+"px",f.style.height=v.y+"px",f.onselectstart=p,f.onmousemove=p,Ke.ielt9&&this.options.opacity<1&&en(f,this.options.opacity)},_addTile:function(f,v){var E=this._getTilePos(f),M=this._tileCoordsToKey(f),R=this.createTile(this._wrapCoords(f),o(this._tileReady,this,f));this._initTile(R),this.createTile.length<2&&H(o(this._tileReady,this,f,null,R)),Kt(R,E),this._tiles[M]={el:R,coords:f,current:!0},v.appendChild(R),this.fire("tileloadstart",{tile:R,coords:f})},_tileReady:function(f,v,E){v&&this.fire("tileerror",{error:v,tile:E,coords:f});var M=this._tileCoordsToKey(f);E=this._tiles[M],E&&(E.loaded=+new Date,this._map._fadeAnimated?(en(E.el,0),B(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),v||(ut(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ke.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var v=new Q(this._wrapX?h(f.x,this._wrapX):f.x,this._wrapY?h(f.y,this._wrapY):f.y);return v.z=f.z,v},_pxBoundsToTileRange:function(f){var v=this.getTileSize();return new z(f.min.unscaleBy(v).floor(),f.max.unscaleBy(v).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function E0(f){return new ul(f)}var yo=ul.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,v){this._url=f,v=w(this,v),v.detectRetina&&Ke.retina&&v.maxZoom>0?(v.tileSize=Math.floor(v.tileSize/2),v.zoomReverse?(v.zoomOffset--,v.minZoom=Math.min(v.maxZoom,v.minZoom+1)):(v.zoomOffset++,v.maxZoom=Math.max(v.minZoom,v.maxZoom-1)),v.minZoom=Math.max(0,v.minZoom)):v.zoomReverse?v.minZoom=Math.min(v.maxZoom,v.minZoom):v.maxZoom=Math.max(v.minZoom,v.maxZoom),typeof v.subdomains=="string"&&(v.subdomains=v.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,v){return this._url===f&&v===void 0&&(v=!0),this._url=f,v||this.redraw(),this},createTile:function(f,v){var E=document.createElement("img");return st(E,"load",o(this._tileOnLoad,this,v,E)),st(E,"error",o(this._tileOnError,this,v,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(f),E},getTileUrl:function(f){var v={r:Ke.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-f.y;this.options.tms&&(v.y=E),v["-y"]=E}return O(this._url,i(v,this.options))},_tileOnLoad:function(f,v){Ke.ielt9?setTimeout(o(f,this,null,v),0):f(null,v)},_tileOnError:function(f,v,E){var M=this.options.errorTileUrl;M&&v.getAttribute("src")!==M&&(v.src=M),f(E,v)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,v=this.options.maxZoom,E=this.options.zoomReverse,M=this.options.zoomOffset;return E&&(f=v-f),f+M},_getSubdomain:function(f){var v=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[v]},_abortLoading:function(){var f,v;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(v=this._tiles[f].el,v.onload=p,v.onerror=p,!v.complete)){v.src=D;var E=this._tiles[f].coords;Ht(v),delete this._tiles[f],this.fire("tileabort",{tile:v,coords:E})}},_removeTile:function(f){var v=this._tiles[f];if(v)return v.el.setAttribute("src",D),ul.prototype._removeTile.call(this,f)},_tileReady:function(f,v,E){if(!(!this._map||E&&E.getAttribute("src")===D))return ul.prototype._tileReady.call(this,f,v,E)}});function si(f,v){return new yo(f,v)}var Ec=yo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,v){this._url=f;var E=i({},this.defaultWmsParams);for(var M in v)M in this.options||(E[M]=v[M]);v=w(this,v);var R=v.detectRetina&&Ke.retina?2:1,F=this.getTileSize();E.width=F.x*R,E.height=F.y*R,this.wmsParams=E},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var v=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[v]=this._crs.code,yo.prototype.onAdd.call(this,f)},getTileUrl:function(f){var v=this._tileCoordsToNwSe(f),E=this._crs,M=V(E.project(v[0]),E.project(v[1])),R=M.min,F=M.max,ee=(this._wmsVersion>=1.3&&this._crs===oh?[R.y,R.x,F.y,F.x]:[R.x,R.y,F.x,F.y]).join(","),de=yo.prototype.getTileUrl.call(this,f);return de+S(this.wmsParams,de,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(f,v){return i(this.wmsParams,f),v||this.redraw(),this}});function li(f,v){return new Ec(f,v)}yo.WMS=Ec,si.wms=li;var Rr=Ni.extend({options:{padding:.1},initialize:function(f){w(this,f),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,v){var E=this._map.getZoomScale(v,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,v),F=M.multiplyBy(-E).add(R).subtract(this._map._getNewPixelOrigin(f,v));Ke.any3d?Da(this._container,F,E):Kt(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,v=this._map.getSize(),E=this._map.containerPointToLayerPoint(v.multiplyBy(-f)).round();this._bounds=new z(E,E.add(v.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wu=Rr.extend({options:{tolerance:0},getEvents:function(){var f=Rr.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Rr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");st(f,"mousemove",this._onMouseMove,this),st(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),st(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,Ht(this._container),It(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var v in this._layers)f=this._layers[v],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Rr.prototype._update.call(this);var f=this._bounds,v=this._container,E=f.getSize(),M=Ke.retina?2:1;Kt(v,f.min),v.width=M*E.x,v.height=M*E.y,v.style.width=E.x+"px",v.style.height=E.y+"px",Ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){Rr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[u(f)]=f;var v=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=v),this._drawLast=v,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var v=f._order,E=v.next,M=v.prev;E?E.prev=M:this._drawLast=M,M?M.next=E:this._drawFirst=E,delete f._order,delete this._layers[u(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var v=f.options.dashArray.split(/[, ]+/),E=[],M,R;for(R=0;R<v.length;R++){if(M=Number(v[R]),isNaN(M))return;E.push(M)}f.options._dashArray=E}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var v=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(f._pxBounds.min.subtract([v,v])),this._redrawBounds.extend(f._pxBounds.max.add([v,v]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var v=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,v.x,v.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,v=this._redrawBounds;if(this._ctx.save(),v){var E=v.getSize();this._ctx.beginPath(),this._ctx.rect(v.min.x,v.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)f=M.layer,(!v||f._pxBounds&&f._pxBounds.intersects(v))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,v){if(this._drawing){var E,M,R,F,ee=f._parts,de=ee.length,ge=this._ctx;if(de){for(ge.beginPath(),E=0;E<de;E++){for(M=0,R=ee[E].length;M<R;M++)F=ee[E][M],ge[M?"lineTo":"moveTo"](F.x,F.y);v&&ge.closePath()}this._fillStroke(ge,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var v=f._point,E=this._ctx,M=Math.max(Math.round(f._radius),1),R=(Math.max(Math.round(f._radiusY),1)||M)/M;R!==1&&(E.save(),E.scale(1,R)),E.beginPath(),E.arc(v.x,v.y/R,M,0,Math.PI*2,!1),R!==1&&E.restore(),this._fillStroke(E,f)}},_fillStroke:function(f,v){var E=v.options;E.fill&&(f.globalAlpha=E.fillOpacity,f.fillStyle=E.fillColor||E.color,f.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(f.setLineDash&&f.setLineDash(v.options&&v.options._dashArray||[]),f.globalAlpha=E.opacity,f.lineWidth=E.weight,f.strokeStyle=E.color,f.lineCap=E.lineCap,f.lineJoin=E.lineJoin,f.stroke())},_onClick:function(f){for(var v=this._map.mouseEventToLayerPoint(f),E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(v)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(E))&&(M=E);this._fireEvent(M?[M]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var v=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,v)}},_handleMouseOut:function(f){var v=this._hoveredLayer;v&&(sn(this._container,"leaflet-interactive"),this._fireEvent([v],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,v){if(!this._mouseHoverThrottled){for(var E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(v)&&(M=E);M!==this._hoveredLayer&&(this._handleMouseOut(f),M&&(ut(this._container,"leaflet-interactive"),this._fireEvent([M],f,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,v,E){this._map._fireDOMEvent(v,E||v.type,f)},_bringToFront:function(f){var v=f._order;if(v){var E=v.next,M=v.prev;if(E)E.prev=M;else return;M?M.next=E:E&&(this._drawFirst=E),v.prev=this._drawLast,this._drawLast.next=v,v.next=null,this._drawLast=v,this._requestRedraw(f)}},_bringToBack:function(f){var v=f._order;if(v){var E=v.next,M=v.prev;if(M)M.next=E;else return;E?E.prev=M:M&&(this._drawLast=M),v.prev=null,v.next=this._drawFirst,this._drawFirst.prev=v,this._drawFirst=v,this._requestRedraw(f)}}});function Tc(f){return Ke.canvas?new Wu(f):null}var vo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),sh={_initContainer:function(){this._container=bt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Rr.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var v=f._container=vo("shape");ut(v,"leaflet-vml-shape "+(this.options.className||"")),v.coordsize="1 1",f._path=vo("path"),v.appendChild(f._path),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){var v=f._container;this._container.appendChild(v),f.options.interactive&&f.addInteractiveTarget(v)},_removePath:function(f){var v=f._container;Ht(v),f.removeInteractiveTarget(v),delete this._layers[u(f)]},_updateStyle:function(f){var v=f._stroke,E=f._fill,M=f.options,R=f._container;R.stroked=!!M.stroke,R.filled=!!M.fill,M.stroke?(v||(v=f._stroke=vo("stroke")),R.appendChild(v),v.weight=M.weight+"px",v.color=M.color,v.opacity=M.opacity,M.dashArray?v.dashStyle=A(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):v.dashStyle="",v.endcap=M.lineCap.replace("butt","flat"),v.joinstyle=M.lineJoin):v&&(R.removeChild(v),f._stroke=null),M.fill?(E||(E=f._fill=vo("fill")),R.appendChild(E),E.color=M.fillColor||M.color,E.opacity=M.fillOpacity):E&&(R.removeChild(E),f._fill=null)},_updateCircle:function(f){var v=f._point.round(),E=Math.round(f._radius),M=Math.round(f._radiusY||E);this._setPath(f,f._empty()?"M0 0":"AL "+v.x+","+v.y+" "+E+","+M+" 0,"+65535*360)},_setPath:function(f,v){f._path.v=v},_bringToFront:function(f){Vn(f._container)},_bringToBack:function(f){Xo(f._container)}},oa=Ke.vml?vo:Ze,dl=Rr.extend({_initContainer:function(){this._container=oa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=oa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ht(this._container),It(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Rr.prototype._update.call(this);var f=this._bounds,v=f.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(v))&&(this._svgSize=v,E.setAttribute("width",v.x),E.setAttribute("height",v.y)),Kt(E,f.min),E.setAttribute("viewBox",[f.min.x,f.min.y,v.x,v.y].join(" ")),this.fire("update")}},_initPath:function(f){var v=f._path=oa("path");f.options.className&&ut(v,f.options.className),f.options.interactive&&ut(v,"leaflet-interactive"),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){Ht(f._path),f.removeInteractiveTarget(f._path),delete this._layers[u(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var v=f._path,E=f.options;v&&(E.stroke?(v.setAttribute("stroke",E.color),v.setAttribute("stroke-opacity",E.opacity),v.setAttribute("stroke-width",E.weight),v.setAttribute("stroke-linecap",E.lineCap),v.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?v.setAttribute("stroke-dasharray",E.dashArray):v.removeAttribute("stroke-dasharray"),E.dashOffset?v.setAttribute("stroke-dashoffset",E.dashOffset):v.removeAttribute("stroke-dashoffset")):v.setAttribute("stroke","none"),E.fill?(v.setAttribute("fill",E.fillColor||E.color),v.setAttribute("fill-opacity",E.fillOpacity),v.setAttribute("fill-rule",E.fillRule||"evenodd")):v.setAttribute("fill","none"))},_updatePoly:function(f,v){this._setPath(f,Ce(f._parts,v))},_updateCircle:function(f){var v=f._point,E=Math.max(Math.round(f._radius),1),M=Math.max(Math.round(f._radiusY),1)||E,R="a"+E+","+M+" 0 1,0 ",F=f._empty()?"M0 0":"M"+(v.x-E)+","+v.y+R+E*2+",0 "+R+-E*2+",0 ";this._setPath(f,F)},_setPath:function(f,v){f._path.setAttribute("d",v)},_bringToFront:function(f){Vn(f._path)},_bringToBack:function(f){Xo(f._path)}});Ke.vml&&dl.include(sh);function Ac(f){return Ke.svg||Ke.vml?new dl(f):null}wt.include({getRenderer:function(f){var v=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return v||(v=this._renderer=this._createRenderer()),this.hasLayer(v)||this.addLayer(v),v},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var v=this._paneRenderers[f];return v===void 0&&(v=this._createRenderer({pane:f}),this._paneRenderers[f]=v),v},_createRenderer:function(f){return this.options.preferCanvas&&Tc(f)||Ac(f)}});var ts=ol.extend({initialize:function(f,v){ol.prototype.initialize.call(this,this._boundsToLatLngs(f),v)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=oe(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function ow(f,v){return new ts(f,v)}dl.create=oa,dl.pointsToPath=Ce,Ia.geometryToLayer=lr,Ia.coordsToLatLng=Hu,Ia.coordsToLatLngs=xc,Ia.latLngToCoords=Gu,Ia.latLngsToCoords=wc,Ia.getFeature=po,Ia.asFeature=Yu,wt.mergeOptions({boxZoom:!0});var Lr=na.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){It(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Xs(),Pu(),this._startPoint=this._map.mouseEventToContainerPoint(f),st(document,{contextmenu:ho,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=bt("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var v=new z(this._point,this._startPoint),E=v.getSize();Kt(this._box,v.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Ht(this._box),sn(this._container,"leaflet-crosshair")),ea(),cc(),It(document,{contextmenu:ho,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var v=new ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(v).fire("boxzoomend",{boxZoomBounds:v})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});wt.addInitHook("addHandler","boxZoom",Lr),wt.mergeOptions({doubleClickZoom:!0});var Vu=na.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var v=this._map,E=v.getZoom(),M=v.options.zoomDelta,R=f.originalEvent.shiftKey?E-M:E+M;v.options.doubleClickZoom==="center"?v.setZoom(R):v.setZoomAround(f.containerPoint,R)}});wt.addInitHook("addHandler","doubleClickZoom",Vu),wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var sa=na.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new mo(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){sn(this._map._container,"leaflet-grab"),sn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var v=oe(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(v.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(v.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var v=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(v),this._prunePositions(v)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),v=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=v.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,v){return f-(f-v)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),v=this._offsetLimit;f.x<v.min.x&&(f.x=this._viscousLimit(f.x,v.min.x)),f.y<v.min.y&&(f.y=this._viscousLimit(f.y,v.min.y)),f.x>v.max.x&&(f.x=this._viscousLimit(f.x,v.max.x)),f.y>v.max.y&&(f.y=this._viscousLimit(f.y,v.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,v=Math.round(f/2),E=this._initialWorldOffset,M=this._draggable._newPos.x,R=(M-v+E)%f+v-E,F=(M+v+E)%f-v-E,ee=Math.abs(R+E)<Math.abs(F+E)?R:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(f){var v=this._map,E=v.options,M=!E.inertia||f.noInertia||this._times.length<2;if(v.fire("dragend",f),M)v.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,ee=E.easeLinearity,de=R.multiplyBy(ee/F),ge=de.distanceTo([0,0]),Ae=Math.min(E.inertiaMaxSpeed,ge),$e=de.multiplyBy(Ae/ge),Ve=Ae/(E.inertiaDeceleration*ee),mt=$e.multiplyBy(-Ve/2).round();!mt.x&&!mt.y?v.fire("moveend"):(mt=v._limitOffset(mt,v.options.maxBounds),H(function(){v.panBy(mt,{duration:Ve,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});wt.addInitHook("addHandler","dragging",sa),wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var lh=na.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),st(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),It(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,v=document.documentElement,E=f.scrollTop||v.scrollTop,M=f.scrollLeft||v.scrollLeft;this._map._container.focus(),window.scrollTo(M,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var v=this._panKeys={},E=this.keyCodes,M,R;for(M=0,R=E.left.length;M<R;M++)v[E.left[M]]=[-1*f,0];for(M=0,R=E.right.length;M<R;M++)v[E.right[M]]=[f,0];for(M=0,R=E.down.length;M<R;M++)v[E.down[M]]=[0,f];for(M=0,R=E.up.length;M<R;M++)v[E.up[M]]=[0,-1*f]},_setZoomDelta:function(f){var v=this._zoomKeys={},E=this.keyCodes,M,R;for(M=0,R=E.zoomIn.length;M<R;M++)v[E.zoomIn[M]]=f;for(M=0,R=E.zoomOut.length;M<R;M++)v[E.zoomOut[M]]=-f},_addHooks:function(){st(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){It(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var v=f.keyCode,E=this._map,M;if(v in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(M=this._panKeys[v],f.shiftKey&&(M=ae(M).multiplyBy(3)),E.options.maxBounds&&(M=E._limitOffset(ae(M),E.options.maxBounds)),E.options.worldCopyJump){var R=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(M)));E.panTo(R)}else E.panBy(M)}else if(v in this._zoomKeys)E.setZoom(E.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[v]);else if(v===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;ho(f)}}});wt.addInitHook("addHandler","keyboard",lh),wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jc=na.extend({addHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){It(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var v=_r(f),E=this._map.options.wheelDebounceTime;this._delta+=v,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var M=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),M),ho(f)},_performZoom:function(){var f=this._map,v=f.getZoom(),E=this._map.options.zoomSnap||0;f._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,F=E?Math.ceil(R/E)*E:R,ee=f._limitZoom(v+(this._delta>0?F:-F))-v;this._delta=0,this._startTime=null,ee&&(f.options.scrollWheelZoom==="center"?f.setZoom(v+ee):f.setZoomAround(this._lastMousePos,v+ee))}});wt.addInitHook("addHandler","scrollWheelZoom",jc);var ns=600;wt.mergeOptions({tapHold:Ke.touchNative&&Ke.safari&&Ke.mobile,tapTolerance:15});var Zu=na.extend({addHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){It(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var v=f.touches[0];this._startPos=this._newPos=new Q(v.clientX,v.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(st(document,"touchend",_n),st(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",v))},this),ns),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){It(document,"touchend",_n),It(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),It(document,"touchend touchcancel contextmenu",this._cancel,this),It(document,"touchmove",this._onMove,this)},_onMove:function(f){var v=f.touches[0];this._newPos=new Q(v.clientX,v.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,v){var E=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY});E._simulated=!0,v.target.dispatchEvent(E)}});wt.addInitHook("addHandler","tapHold",Zu),wt.mergeOptions({touchZoom:Ke.touch,bounceAtZoomLimits:!0});var ch=na.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){sn(this._map._container,"leaflet-touch-zoom"),It(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var v=this._map;if(!(!f.touches||f.touches.length!==2||v._animatingZoom||this._zooming)){var E=v.mouseEventToContainerPoint(f.touches[0]),M=v.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=v.getSize()._divideBy(2),this._startLatLng=v.containerPointToLatLng(this._centerPoint),v.options.touchZoom!=="center"&&(this._pinchStartLatLng=v.containerPointToLatLng(E.add(M)._divideBy(2))),this._startDist=E.distanceTo(M),this._startZoom=v.getZoom(),this._moved=!1,this._zooming=!0,v._stop(),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),_n(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var v=this._map,E=v.mouseEventToContainerPoint(f.touches[0]),M=v.mouseEventToContainerPoint(f.touches[1]),R=E.distanceTo(M)/this._startDist;if(this._zoom=v.getScaleZoom(R,this._startZoom),!v.options.bounceAtZoomLimits&&(this._zoom<v.getMinZoom()&&R<1||this._zoom>v.getMaxZoom()&&R>1)&&(this._zoom=v._limitZoom(this._zoom)),v.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var F=E._add(M)._divideBy(2)._subtract(this._centerPoint);if(R===1&&F.x===0&&F.y===0)return;this._center=v.unproject(v.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(v._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var ee=o(v._move,v,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(ee,this,!0),_n(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),It(document,"touchmove",this._onTouchMove,this),It(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});wt.addInitHook("addHandler","touchZoom",ch),wt.BoxZoom=Lr,wt.DoubleClickZoom=Vu,wt.Drag=sa,wt.Keyboard=lh,wt.ScrollWheelZoom=jc,wt.TapHold=Zu,wt.TouchZoom=ch,n.Bounds=z,n.Browser=Ke,n.CRS=ye,n.Canvas=Wu,n.Circle=Fu,n.CircleMarker=al,n.Class=X,n.Control=Gr,n.DivIcon=k0,n.DivOverlay=cr,n.DomEvent=Iu,n.DomUtil=el,n.Draggable=mo,n.Evented=J,n.FeatureGroup=ra,n.GeoJSON=Ia,n.GridLayer=ul,n.Handler=na,n.Icon=ia,n.ImageOverlay=ll,n.LatLng=ue,n.LatLngBounds=ne,n.Layer=Ni,n.LayerGroup=il,n.LineUtil=ew,n.Map=wt,n.Marker=vc,n.Mixin=Zx,n.Path=aa,n.Point=Q,n.PolyUtil=ih,n.Polygon=ol,n.Polyline=La,n.Popup=Sc,n.PosAnimation=tl,n.Projection=p0,n.Rectangle=ts,n.Renderer=Rr,n.SVG=dl,n.SVGOverlay=Ku,n.TileLayer=yo,n.Tooltip=kc,n.Transformation=xe,n.Util=W,n.VideoOverlay=bo,n.bind=o,n.bounds=V,n.canvas=Tc,n.circle=x0,n.circleMarker=v0,n.control=Ra,n.divIcon=aw,n.extend=i,n.featureGroup=b0,n.geoJSON=qu,n.geoJson=_c,n.gridLayer=E0,n.icon=gc,n.imageOverlay=w0,n.latLng=pe,n.latLngBounds=oe,n.layerGroup=tw,n.map=Jf,n.marker=y0,n.point=ae,n.polygon=rw,n.polyline=nw,n.popup=S0,n.rectangle=ow,n.setOptions=w,n.stamp=u,n.svg=Ac,n.svgOverlay=_0,n.tileLayer=si,n.tooltip=iw,n.transformation=se,n.version=r,n.videoOverlay=cl;var uh=window.L;n.noConflict=function(){return window.L=uh,this},window.L=n}))})(_m,_m.exports)),_m.exports}var uX=cX();const Q_=Si(uX),Pg=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Fc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function dX(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:l,mapId:u}=e.ids,d=e.initialCenter??{lat:37.5665,lon:126.978},h=Fc(n),p=Fc(t),b=Fc(r),y=Fc(a),k=Fc(o),w=Fc(l),S=i?Fc(i):null;let j=null,O=null,A=null;const C=B=>B.code==="Space"||B.key===" "||B.key==="Spacebar"||B.key==="Space",D=B=>{C(B)&&document.activeElement!==k&&(B.preventDefault(),B.stopPropagation(),k.focus())},P=()=>{b.style.display="flex",j?setTimeout(()=>j?.invalidateSize(),200):setTimeout(()=>{j=Q_.map(u,{keyboard:!1}).setView([d.lat,d.lon],11),Q_.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(j),j.invalidateSize()},0),b.addEventListener("keydown",D,!0),b.addEventListener("keyup",D,!0),k.focus()},I=()=>{b.style.display="none",k.value="",w.innerHTML="",A&&(window.clearTimeout(A),A=null),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0)},U=B=>{const W=B.dataset.name??"",X=Number(B.dataset.lat??""),Z=Number(B.dataset.lon??"");!Number.isFinite(X)||!Number.isFinite(Z)||!j||(O?O.setLatLng([X,Z]):O=Q_.marker([X,Z]).addTo(j),j.flyTo([X,Z],14,{duration:.5}),h.value=W,h.dataset.lat=String(X),h.dataset.lon=String(Z),e.onSelected?.({name:W,lat:X,lon:Z}),w.innerHTML="",I())},K=()=>{A&&window.clearTimeout(A);const B=k.value.trim();if(!B){w.innerHTML="";return}A=window.setTimeout(async()=>{try{const W="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(B),X=await fetch(W,{headers:{Accept:"application/json"}});if(!X.ok)throw new Error(`HTTP ${X.status}`);const Z=await X.json();if(!Array.isArray(Z)||Z.length===0){w.innerHTML='<li style="padding:8px"> </li>';return}const Y=Z.slice(0,12).map((J,Q)=>{const ce=J.display_name.split(",").slice(0,3).map(V=>V.trim()).join("  "),ae="padding:8px;cursor:pointer;outline:none;",z=Q===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${Pg(ce)}"
                    data-lat="${Pg(J.lat)}"
                    data-lon="${Pg(J.lon)}"
                    data-active="${Q===0?"1":"0"}"
                    style="${ae}${z}"
                  >${Pg(ce)}</li>`}).join("");w.innerHTML=Y}catch(W){console.error(W),w.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},q=B=>{const W=B.target;W.tagName==="LI"&&U(W)},H=B=>{if(B.key==="Enter"){const W=w.querySelector('li[data-active="1"]')??w.querySelector("li");W&&U(W)}};return p.addEventListener("click",P),y.addEventListener("click",I),S&&S.addEventListener("click",I),k.addEventListener("input",K),k.addEventListener("keydown",H),w.addEventListener("click",q),()=>{p.removeEventListener("click",P),y.removeEventListener("click",I),S&&S.removeEventListener("click",I),k.removeEventListener("input",K),k.removeEventListener("keydown",H),w.removeEventListener("click",q),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0),A&&(window.clearTimeout(A),A=null),j&&(j.remove(),j=null)}}function Sd(){return document.getElementById("suggestions")}function Bb(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function e1(e,t){const n=Bb(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const fX='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function hX({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:l,onSelect:u}){_.useEffect(()=>{if(!e)return;const d=dX({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:A=>{n(""),r(A.name),i.current&&(i.current.value=A.name),a.current&&(a.current.value=String(A.lat)),o.current&&(o.current.value=String(A.lon)),u?.(A),t(!1)}}),h=document.getElementById("inputBirthPlaceBtn");h&&h.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const b=document.getElementById("searchBox"),y=Sd();setTimeout(()=>b?.focus(),0);const k=A=>{if(A.key==="Escape"){A.preventDefault(),t(!1);return}if(A.key!=="Tab")return;const C=Sd();if(C&&C.contains(document.activeElement))return;const D=Array.from(p.querySelectorAll(fX)).filter(K=>!K.hasAttribute("disabled")&&K.tabIndex!==-1);if(D.length===0)return;const P=D[0],I=D[D.length-1],U=document.activeElement;A.shiftKey?(U===P||!p.contains(U))&&(A.preventDefault(),I.focus()):(U===I||!p.contains(U))&&(A.preventDefault(),P.focus())};p.addEventListener("keydown",k);const w=A=>{if(A.key!=="ArrowDown")return;const C=Sd();!C||Bb(C).length===0||A.preventDefault()};b?.addEventListener("keydown",w);const S=A=>{if(A.target.value.trim()===""){const D=Sd();D&&(D.innerHTML="")}};b?.addEventListener("input",S);const j=A=>{const C=Sd();if(!C)return;const D=Bb(C);if(D.length===0)return;const P=document.activeElement,I=P?D.indexOf(P):-1;if(I===-1)return;const U=K=>{A.preventDefault(),e1(C,I+K)};switch(A.key){case"Tab":A.preventDefault(),U(A.shiftKey?-1:1);break;case"ArrowDown":A.preventDefault(),U(1);break;case"ArrowUp":A.preventDefault(),U(-1);break;case"Home":A.preventDefault(),e1(C,0);break;case"End":A.preventDefault(),e1(C,D.length-1);break;case"Enter":case" ":A.preventDefault(),P.click();break;case"Backspace":A.preventDefault(),C.innerHTML="",b?.focus();break}A.stopPropagation()};let O=null;return y&&(y.addEventListener("keydown",j),O=new MutationObserver(()=>{const A=Sd();!A||Bb(A).length}),O.observe(y,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",k),b?.removeEventListener("keydown",w),b?.removeEventListener("input",S),y&&y.removeEventListener("keydown",j),O?.disconnect(),d?.()}},[e,u,n,r,t,i,a,o]),_.useEffect(()=>{e||setTimeout(()=>l.current?.focus(),0)},[e,l])}function XB({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=sX({placeholderText:t,value:r});return hX({...i,onSelect:e}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),g.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),g.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),g.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"   ."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"       ."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function hr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mX=typeof Symbol=="function"&&Symbol.observable||"@@observable",qM=mX,t1=()=>Math.random().toString(36).substring(7).split("").join("."),pX={INIT:`@@redux/INIT${t1()}`,REPLACE:`@@redux/REPLACE${t1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${t1()}`},uy=pX;function aT(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function oT(e,t,n){if(typeof e!="function")throw new Error(hr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(hr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(hr(1));return n(oT)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,u=!1;function d(){o===a&&(o=new Map,a.forEach((S,j)=>{o.set(j,S)}))}function h(){if(u)throw new Error(hr(3));return i}function p(S){if(typeof S!="function")throw new Error(hr(4));if(u)throw new Error(hr(5));let j=!0;d();const O=l++;return o.set(O,S),function(){if(j){if(u)throw new Error(hr(6));j=!1,d(),o.delete(O),a=null}}}function b(S){if(!aT(S))throw new Error(hr(7));if(typeof S.type>"u")throw new Error(hr(8));if(typeof S.type!="string")throw new Error(hr(17));if(u)throw new Error(hr(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=o).forEach(O=>{O()}),S}function y(S){if(typeof S!="function")throw new Error(hr(10));r=S,b({type:uy.REPLACE})}function k(){const S=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(hr(11));function O(){const C=j;C.next&&C.next(h())}return O(),{unsubscribe:S(O)}},[qM](){return this}}}return b({type:uy.INIT}),{dispatch:b,subscribe:p,getState:h,replaceReducer:y,[qM]:k}}function gX(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:uy.INIT})>"u")throw new Error(hr(12));if(typeof n(void 0,{type:uy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hr(13))})}function JB(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{gX(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],b=n[p],y=o[p],k=b(y,l);if(typeof k>"u")throw l&&l.type,new Error(hr(14));d[p]=k,u=u||k!==y}return u=u||r.length!==Object.keys(o).length,u?d:o}}function KM(e,t){return function(...n){return t(e.apply(this,n))}}function WM(e,t){if(typeof e=="function")return KM(e,t);if(typeof e!="object"||e===null)throw new Error(hr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=KM(i,t))}return n}function zm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function QB(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(hr(15))};const o={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},l=e.map(u=>u(o));return a=zm(...l)(i.dispatch),{...i,dispatch:a}}}function e4(e){return aT(e)&&"type"in e&&typeof e.type=="string"}var n1={exports:{}},r1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VM;function bX(){if(VM)return r1;VM=1;var e=gf();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return r1.useSyncExternalStoreWithSelector=function(u,d,h,p,b){var y=i(null);if(y.current===null){var k={hasValue:!1,value:null};y.current=k}else k=y.current;y=o(function(){function S(D){if(!j){if(j=!0,O=D,D=p(D),b!==void 0&&k.hasValue){var P=k.value;if(b(P,D))return A=P}return A=D}if(P=A,n(O,D))return P;var I=p(D);return b!==void 0&&b(P,I)?(O=D,P):(O=D,A=I)}var j=!1,O,A,C=h===void 0?null:h;return[function(){return S(d())},C===null?void 0:function(){return S(C())}]},[d,h,p,b]);var w=r(u,y[0],y[1]);return a(function(){k.hasValue=!0,k.value=w},[w]),l(w),w},r1}var ZM;function yX(){return ZM||(ZM=1,n1.exports=bX()),n1.exports}yX();var vX=_.version.startsWith("19"),xX=Symbol.for(vX?"react.transitional.element":"react.element"),wX=Symbol.for("react.portal"),_X=Symbol.for("react.fragment"),SX=Symbol.for("react.strict_mode"),kX=Symbol.for("react.profiler"),EX=Symbol.for("react.consumer"),TX=Symbol.for("react.context"),t4=Symbol.for("react.forward_ref"),AX=Symbol.for("react.suspense"),jX=Symbol.for("react.suspense_list"),sT=Symbol.for("react.memo"),NX=Symbol.for("react.lazy"),OX=t4,CX=sT;function MX(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case xX:switch(e=e.type,e){case _X:case kX:case SX:case AX:case jX:return e;default:switch(e=e&&e.$$typeof,e){case TX:case t4:case NX:case sT:return e;case EX:return e;default:return t}}case wX:return t}}}function DX(e){return MX(e)===sT}function PX(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,u,d,h,p,b;function y(O,A){return u=O,d=A,h=e(u,d),p=t(r,d),b=n(h,p,d),l=!0,b}function k(){return h=e(u,d),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function w(){return e.dependsOnOwnProps&&(h=e(u,d)),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function S(){const O=e(u,d),A=!o(O,h);return h=O,A&&(b=n(h,p,d)),b}function j(O,A){const C=!a(A,d),D=!i(O,u,A,d);return u=O,d=A,C&&D?k():C?w():D?S():b}return function(A,C){return l?j(A,C):y(A,C)}}function RX(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),l=r(e,i);return PX(a,o,l,e,i)}function LX(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function Xk(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function XM(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function n4(e,t){return function(r,{displayName:i}){const a=function(l,u){return a.dependsOnOwnProps?a.mapToProps(l,u):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,u){a.mapToProps=e,a.dependsOnOwnProps=XM(e);let d=a(l,u);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=XM(d),d=a(l,u)),d},a}}function lT(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function IX(e){return e&&typeof e=="object"?Xk(t=>LX(e,t)):e?typeof e=="function"?n4(e):lT(e,"mapDispatchToProps"):Xk(t=>({dispatch:t}))}function $X(e){return e?typeof e=="function"?n4(e):lT(e,"mapStateToProps"):Xk(()=>({}))}function BX(e,t,n){return{...n,...e,...t}}function zX(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,d,h){const p=e(u,d,h);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function UX(e){return e?typeof e=="function"?zX(e):lT(e,"mergeProps"):()=>BX}function FX(e){e()}function HX(){let e=null,t=null;return{clear(){e=null,t=null},notify(){FX(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var JM={notify(){},get:()=>[]};function r4(e,t){let n,r=JM,i=0,a=!1;function o(w){h();const S=r.subscribe(w);let j=!1;return()=>{j||(j=!0,S(),p())}}function l(){r.notify()}function u(){k.onStateChange&&k.onStateChange()}function d(){return a}function h(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=HX())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=JM)}function b(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const k={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>r};return k}var GX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YX=GX(),qX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",KX=qX(),WX=()=>YX||KX?_.useLayoutEffect:_.useEffect,dy=WX();function QM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function zb(e,t){if(QM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!QM(e[n[i]],t[n[i]]))return!1;return!0}var VX={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ZX={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},XX={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},JX={[OX]:XX,[CX]:i4};function eD(e){return DX(e)?i4:JX[e.$$typeof]||VX}var QX=Object.defineProperty,eJ=Object.getOwnPropertyNames,tD=Object.getOwnPropertySymbols,tJ=Object.getOwnPropertyDescriptor,nJ=Object.getPrototypeOf,nD=Object.prototype;function Jk(e,t){if(typeof t!="string"){if(nD){const a=nJ(t);a&&a!==nD&&Jk(e,a)}let n=eJ(t);tD&&(n=n.concat(tD(t)));const r=eD(e),i=eD(t);for(let a=0;a<n.length;++a){const o=n[a];if(!ZX[o]&&!(i&&i[o])&&!(r&&r[o])){const l=tJ(t,o);try{QX(e,o,l)}catch{}}}}return e}var rJ=Symbol.for("react-redux-context"),iJ=typeof globalThis<"u"?globalThis:{};function aJ(){if(!_.createContext)return{};const e=iJ[rJ]??=new Map;let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var a4=aJ(),oJ=[null,null];function sJ(e,t,n){dy(()=>e(...t),n)}function lJ(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function cJ(e,t,n,r,i,a,o,l,u,d,h){if(!e)return()=>{};let p=!1,b=null;const y=()=>{if(p||!l.current)return;const w=t.getState();let S,j;try{S=r(w,i.current)}catch(O){j=O,b=O}j||(b=null),S===a.current?o.current||d():(a.current=S,u.current=S,o.current=!0,h())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,b)throw b}}function uJ(e,t){return e===t}function dJ(e,t,n,{pure:r,areStatesEqual:i=uJ,areOwnPropsEqual:a=zb,areStatePropsEqual:o=zb,areMergedPropsEqual:l=zb,forwardRef:u=!1,context:d=a4}={}){const h=d,p=$X(e),b=IX(t),y=UX(n),k=!!e;return S=>{const j=S.displayName||S.name||"Component",O=`Connect(${j})`,A={shouldHandleStateChanges:k,displayName:O,wrappedComponentName:j,WrappedComponent:S,initMapStateToProps:p,initMapDispatchToProps:b,initMergeProps:y,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function C(I){const[U,K,q]=_.useMemo(()=>{const{reactReduxForwardedRef:se,...ze}=I;return[I.context,se,ze]},[I]),H=_.useMemo(()=>{let se=h;return U?.Consumer,se},[U,h]),B=_.useContext(H),W=!!I.store&&!!I.store.getState&&!!I.store.dispatch,X=!!B&&!!B.store,Z=W?I.store:B.store,Y=X?B.getServerState:Z.getState,J=_.useMemo(()=>RX(Z.dispatch,A),[Z]),[Q,ce]=_.useMemo(()=>{if(!k)return oJ;const se=r4(Z,W?void 0:B.subscription),ze=se.notifyNestedSubs.bind(se);return[se,ze]},[Z,W,B]),ae=_.useMemo(()=>W?B:{...B,subscription:Q},[W,B,Q]),z=_.useRef(void 0),V=_.useRef(q),ne=_.useRef(void 0),oe=_.useRef(!1),ue=_.useRef(!1),pe=_.useRef(void 0);dy(()=>(ue.current=!0,()=>{ue.current=!1}),[]);const ye=_.useMemo(()=>()=>ne.current&&q===V.current?ne.current:J(Z.getState(),q),[Z,q]),Oe=_.useMemo(()=>ze=>Q?cJ(k,Z,Q,J,V,z,oe,ue,ne,ce,ze):()=>{},[Q]);sJ(lJ,[V,z,oe,q,ne,ce]);let ie;try{ie=_.useSyncExternalStore(Oe,ye,Y?()=>J(Y(),q):ye)}catch(se){throw pe.current&&(se.message+=`
The error may be correlated with this previous error:
${pe.current.stack}

`),se}dy(()=>{pe.current=void 0,ne.current=void 0,z.current=ie});const Te=_.useMemo(()=>_.createElement(S,{...ie,ref:K}),[K,S,ie]);return _.useMemo(()=>k?_.createElement(H.Provider,{value:ae},Te):Te,[H,Te,ae])}const P=_.memo(C);if(P.WrappedComponent=S,P.displayName=C.displayName=O,u){const U=_.forwardRef(function(q,H){return _.createElement(P,{...q,reactReduxForwardedRef:H})});return U.displayName=O,U.WrappedComponent=S,Jk(U,S)}return Jk(P,S)}}var o4=dJ;function fJ(e){const{children:t,context:n,serverState:r,store:i}=e,a=_.useMemo(()=>{const u=r4(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=_.useMemo(()=>i.getState(),[i]);dy(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||a4;return _.createElement(l.Provider,{value:a},t)}var s4=fJ,hJ="Invariant failed";function mJ(e,t){throw new Error(hJ)}var Qa=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},cT=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},rD=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},pJ=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},i1={top:0,right:0,bottom:0,left:0},uT=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?i1:r,a=t.border,o=a===void 0?i1:a,l=t.padding,u=l===void 0?i1:l,d=Qa(cT(n,i)),h=Qa(rD(n,o)),p=Qa(rD(h,u));return{marginBox:d,borderBox:Qa(n),paddingBox:h,contentBox:p,margin:i,border:o,padding:u}},da=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&mJ(),i},gJ=function(){return{x:window.pageXOffset,y:window.pageYOffset}},fy=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=pJ(r,n);return uT({borderBox:l,border:i,margin:a,padding:o})},hy=function(t,n){return n===void 0&&(n=gJ()),fy(t,n)},l4=function(t,n){var r={top:da(n.marginTop),right:da(n.marginRight),bottom:da(n.marginBottom),left:da(n.marginLeft)},i={top:da(n.paddingTop),right:da(n.paddingRight),bottom:da(n.paddingBottom),left:da(n.paddingLeft)},a={top:da(n.borderTopWidth),right:da(n.borderRightWidth),bottom:da(n.borderBottomWidth),left:da(n.borderLeftWidth)};return uT({borderBox:t,margin:r,padding:i,border:a})},c4=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return l4(n,r)},Um=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},my.apply(null,arguments)}function u4(e,t){}u4.bind(null,"warn");u4.bind(null,"error");function zl(){}function bJ(e,t){return{...e,...t}}function ba(e,t,n){const r=t.map(i=>{const a=bJ(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const yJ="Invariant failed";class py extends Error{}py.prototype.toString=function(){return this.message};function Le(e,t){throw new py(yJ)}class vJ extends Jt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=zl,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof py&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ba(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof py){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const xJ=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,gy=e=>e+1,wJ=e=>`
  You have lifted an item in position ${gy(e.source.index)}
`,d4=(e,t)=>{const n=e.droppableId===t.droppableId,r=gy(e.index),i=gy(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},f4=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,_J=e=>{const t=e.destination;if(t)return d4(e.source,t);const n=e.combine;return n?f4(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},iD=e=>`
  The item has returned to its starting position
  of ${gy(e.index)}
`,SJ=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${iD(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${d4(e.source,t)}
    `:n?`
      You have dropped the item.
      ${f4(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${iD(e.source)}
  `},Ub={dragHandleUsageInstructions:xJ,onDragStart:wJ,onDragUpdate:_J,onDragEnd:SJ};function kJ(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function h4(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!kJ(e[n],t[n]))return!1;return!0}function Tt(e,t){const n=_.useState(()=>({inputs:t,result:e()}))[0],r=_.useRef(!0),i=_.useRef(n),o=r.current||!!(t&&i.current.inputs&&h4(t,i.current.inputs))?i.current:{inputs:t,result:e()};return _.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function et(e,t){return Tt(()=>e,t)}const br={x:0,y:0},Nr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Hi=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Ul=(e,t)=>e.x===t.x&&e.y===t.y,_f=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),yu=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Fm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),aD=(e,t)=>Math.min(...t.map(n=>Fm(e,n))),m4=e=>t=>({x:e(t.x),y:e(t.y)});var EJ=(e,t)=>{const n=Qa({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const wp=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),oD=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],TJ={top:0,right:0,bottom:0,left:0},AJ=(e,t)=>t?wp(e,t.scroll.diff.displacement):e,jJ=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,NJ=(e,t)=>t&&t.shouldClipSubject?EJ(t.pageMarginBox,e):Qa(e);var tf=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=AJ(e.marginBox,r),a=jJ(i,n,t),o=NJ(a,r);return{page:e,withPlaceholder:t,active:o}},dT=(e,t)=>{e.frame||Le();const n=e.frame,r=Hi(t,n.scroll.initial),i=_f(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=tf({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function gr(e,t=h4){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const p4=gr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),g4=gr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),$v=gr(e=>Object.values(e)),OJ=gr(e=>Object.values(e));var Sf=gr((e,t)=>OJ(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function fT(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Bv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var zv=gr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),CJ=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!fT(i))return null;function o(y){const k={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return{...i,at:k}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?o(u):null;const d=zv(t,r);if(!u){if(!d.length)return null;const y=d[d.length-1];return o(y.descriptor.id)}const h=d.findIndex(y=>y.descriptor.id===u);h===-1&&Le();const p=h-1;if(p<0)return null;const b=d[p];return o(b.descriptor.id)},kf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const b4={point:br,value:0},Hm={invisible:{},visible:{},all:[]},MJ={displaced:Hm,displacedBy:b4,at:null};var _a=(e,t)=>n=>e<=n&&n<=t,y4=e=>{const t=_a(e.top,e.bottom),n=_a(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return u&&d?!0:u&&o||d&&a}},DJ=e=>{const t=_a(e.top,e.bottom),n=_a(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const hT={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},v4={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var PJ=e=>t=>{const n=_a(t.top,t.bottom),r=_a(t.left,t.right);return i=>e===hT?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const RJ=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:br;return wp(e,n)},LJ=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,IJ=(e,t,n)=>n(t)(e),mT=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?RJ(e,t):e;return LJ(a,t,i)&&IJ(a,n,i)},$J=e=>mT({...e,isVisibleThroughFrameFn:y4}),x4=e=>mT({...e,isVisibleThroughFrameFn:DJ}),BJ=e=>mT({...e,isVisibleThroughFrameFn:PJ(e.destination.axis)}),zJ=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function UJ(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Qa(cT(n,r))}function Gm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,u){const d=UJ(u,n),h=u.descriptor.id;if(l.all.push(h),!$J({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const b=zJ(h,a,i),y={draggableId:h,shouldAnimate:b};return l.visible[h]=y,l},{all:[],visible:{},invisible:{}})}function FJ(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function sD({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=FJ(e,{inHomeList:t});return{displaced:Hm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function by({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const u=kf(e,n);if(o==null)return sD({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const d=t.find(k=>k.descriptor.index===o);if(!d)return sD({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const h=zv(e,t),p=t.indexOf(d),b=h.slice(p);return{displaced:Gm({afterDragging:b,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Yl(e,t){return!!t.effected[e]}var HJ=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return Yl(a,i)?e?l:l-1:e?l+1:l},GJ=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return a<o||a>u?null:a},YJ=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:u})=>{const d=o.at;if(d||Le(),d.type==="REORDER"){const p=GJ({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:a});return p==null?null:by({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})}const h=HJ({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:d.combine,afterCritical:u});return h==null?null:by({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},qJ=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Yl(n,t)?i?br:_f(r.point):i?r.point:br},KJ=({afterCritical:e,impact:t,draggables:n})=>{const r=Bv(t);r||Le();const i=r.draggableId,a=n[i].page.borderBox.center,o=qJ({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Nr(a,o)};const w4=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,WJ=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,pT=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,lD=({axis:e,moveRelativeTo:t,isMoving:n})=>yu(e.line,t.marginBox[e.end]+w4(e,n),pT(e,t.marginBox,n)),cD=({axis:e,moveRelativeTo:t,isMoving:n})=>yu(e.line,t.marginBox[e.start]-WJ(e,n),pT(e,t.marginBox,n)),VJ=({axis:e,moveInto:t,isMoving:n})=>yu(e.line,t.contentBox[e.start]+w4(e,n),pT(e,t.contentBox,n));var ZJ=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=Sf(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return VJ({axis:l,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:d}=e,h=u.all[0];if(h){const b=n[h];if(Yl(h,i))return cD({axis:l,moveRelativeTo:b.page,isMoving:o});const y=fy(b.page,d.point);return cD({axis:l,moveRelativeTo:y,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Yl(p.descriptor.id,i)){const b=fy(p.page,_f(i.displacedBy.point));return lD({axis:l,moveRelativeTo:b,isMoving:o})}return lD({axis:l,moveRelativeTo:p.page,isMoving:o})},Qk=(e,t)=>{const n=e.frame;return n?Nr(t,n.scroll.diff.displacement):t};const XJ=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?ZJ({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):KJ({impact:e,draggables:r,afterCritical:i})};var Uv=e=>{const t=XJ(e),n=e.droppable;return n?Qk(n,t):t},_4=(e,t)=>{const n=Hi(t,e.scroll.initial),r=_f(n);return{frame:Qa({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function uD(e,t){return e.map(n=>t[n])}function JJ(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var QJ=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=_4(t,Nr(t.scroll.current,i)),o=n.frame?dT(n,Nr(n.frame.scroll.current,i)):n,l=e.displaced,u=Gm({afterDragging:uD(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d=Gm({afterDragging:uD(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},p={},b=[l,u,d];return l.all.forEach(k=>{const w=JJ(k,b);if(w){p[k]=w;return}h[k]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:p}}},eQ=(e,t)=>Nr(e.scroll.diff.displacement,t),gT=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=eQ(n,e),i=Hi(r,t.page.borderBox.center);return Nr(t.client.borderBox.center,i)},S4=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Hi(n,e.page.borderBox.center),u={target:wp(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?BJ(u):x4(u)},tQ=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=Sf(n.descriptor.id,r),h=kf(t,n),p=CJ({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||YJ({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const b=Uv({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(S4({draggable:t,destination:n,newPageBorderBoxCenter:b,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:gT({pageBorderBoxCenter:b,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const k=Hi(b,o),w=QJ({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:k});return{clientSelection:l,impact:w,scrollJumpRequest:k}};const Kr=e=>{const t=e.subject.active;return t||Le(),t};var nQ=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=_a(a[o.start],a[o.end]),u=$v(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>y4(i.frame)(Kr(h))).filter(h=>{const p=Kr(h);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const p=Kr(h),b=_a(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||b(a[o.start])||b(a[o.end])}).sort((h,p)=>{const b=Kr(h)[o.crossAxisStart],y=Kr(p)[o.crossAxisStart];return e?b-y:y-b}).filter((h,p,b)=>Kr(h)[o.crossAxisStart]===Kr(b[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(h=>_a(Kr(h)[o.start],Kr(h)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((h,p)=>Kr(h)[o.start]-Kr(p)[o.start])[0]:u.sort((h,p)=>{const b=aD(t,oD(Kr(h))),y=aD(t,oD(Kr(p)));return b!==y?b-y:Kr(h)[o.start]-Kr(p)[o.start]})[0]};const dD=(e,t)=>{const n=e.page.borderBox.center;return Yl(e.descriptor.id,t)?Hi(n,t.displacedBy.point):n},rQ=(e,t)=>{const n=e.page.borderBox;return Yl(e.descriptor.id,t)?wp(n,_f(t.displacedBy.point)):n};var iQ=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>x4({target:rQ(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const u=Fm(e,Qk(n,dD(o,i))),d=Fm(e,Qk(n,dD(l,i)));return u<d?-1:d<u?1:o.descriptor.index-l.descriptor.index})[0]||null,_p=gr(function(t,n){const r=n[t.line];return{value:r,point:yu(t.line,r)}});const aQ=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return yu(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=Sf(e.descriptor.id,n).reduce((d,h)=>d+h.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:yu(r.line,u)},k4=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),E4=(e,t,n)=>{const r=e.frame;kf(t,e)&&Le(),e.subject.withPlaceholder&&Le();const i=_p(e.axis,t.displaceBy).point,a=aQ(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=tf({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?Nr(r.scroll.max,a):r.scroll.max,u=k4(r,l),d=tf({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},oQ=e=>{const t=e.subject.withPlaceholder;t||Le();const n=e.frame;if(!n){const o=tf({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Le();const i=k4(n,r),a=tf({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var sQ=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:Hm,displacedBy:b4,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},b=Uv({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:l}),y=kf(r,a)?a:E4(a,r,i);return S4({draggable:r,destination:y,newPageBorderBoxCenter:b,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],d=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),h=_p(a.axis,r.displaceBy);return by({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:h,last:Hm,index:d})},lQ=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const u=nQ({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const d=Sf(u.descriptor.id,i),h=iQ({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:d,afterCritical:l}),p=sQ({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:o,afterCritical:l});if(!p)return null;const b=Uv({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:gT({pageBorderBoxCenter:b,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Yi=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const cQ=(e,t)=>{const n=Yi(e);return n?t[n]:null};var uQ=({state:e,type:t})=>{const n=cQ(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:p,droppables:b}=e.dimensions;return l?tQ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):lQ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,isOver:a,draggables:p,droppables:b,viewport:e.viewport,afterCritical:e.afterCritical})};function Qc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function T4(e){const t=_a(e.top,e.bottom),n=_a(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function dQ(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function fQ({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,l=yu(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:Fm(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function hQ({pageBorderBox:e,draggable:t,droppables:n}){const r=$v(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!dQ(e,a))return!1;if(T4(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],u=e[o.crossAxisStart],d=e[o.crossAxisEnd],h=_a(a[o.crossAxisStart],a[o.crossAxisEnd]),p=h(u),b=h(d);return!p&&!b?!0:p?u<l:d>l});return r.length?r.length===1?r[0].descriptor.id:fQ({pageBorderBox:e,draggable:t,candidates:r}):null}const A4=(e,t)=>Qa(wp(e,t));var mQ=(e,t)=>{const n=e.frame;return n?A4(t,n.scroll.diff.value):t};function j4({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function pQ({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var gQ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=n.axis,u=_p(n.axis,t.displaceBy),d=u.value,h=e[l.start],p=e[l.end],y=zv(t,r).find(w=>{const S=w.descriptor.id,j=w.page.borderBox.center[l.line],O=Yl(S,o),A=j4({displaced:i,id:S});return O?A?p<=j:h<j-d:A?p<=j+d:h<j})||null,k=pQ({draggable:t,closest:y,inHomeList:kf(t,n)});return by({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:k})};const bQ=4;var yQ=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=_p(r.axis,e.displaceBy),u=l.value,d=t[o.start],h=t[o.end],b=zv(e,i).find(k=>{const w=k.descriptor.id,S=k.page.borderBox,O=S[o.size]/bQ,A=Yl(w,a),C=j4({displaced:n.displaced,id:w});return A?C?h>S[o.start]+O&&h<S[o.end]-O:d>S[o.start]-u+O&&d<S[o.end]-u-O:C?h>S[o.start]+u+O&&h<S[o.end]+u-O:d>S[o.start]+O&&d<S[o.end]-O});return b?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:b.descriptor.id,droppableId:r.descriptor.id}}}:null},N4=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=A4(t.page.borderBox,e),u=hQ({pageBorderBox:l,draggable:t,droppables:r});if(!u)return MJ;const d=r[u],h=Sf(d.descriptor.id,n),p=mQ(d,l);return yQ({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:d,insideDestination:h,afterCritical:o})||gQ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:d,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},bT=(e,t)=>({...e,[t.descriptor.id]:t});const vQ=({previousImpact:e,impact:t,droppables:n})=>{const r=Yi(e),i=Yi(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=oQ(a);return bT(n,o)};var xQ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=vQ({previousImpact:r,impact:i,droppables:n}),o=Yi(i);if(!o)return a;const l=n[o];if(kf(e,l)||l.subject.withPlaceholder)return a;const u=E4(l,e,t);return bT(a,u)},Nm=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=Hi(u,e.initial.client.selection),h={offset:d,selection:u,borderBoxCenter:Nr(e.initial.client.borderBoxCenter,d)},p={selection:Nr(h.selection,o.scroll.current),borderBoxCenter:Nr(h.borderBoxCenter,o.scroll.current),offset:Nr(h.offset,o.scroll.diff.value)},b={client:h,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:b};const y=l.draggables[e.critical.draggable.id],k=i||N4({pageOffset:p.offset,draggable:y,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),w=xQ({draggable:y,impact:k,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:b,dimensions:{draggables:l.draggables,droppables:w},impact:k,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function wQ(e,t){return e.map(n=>t[n])}var O4=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=wQ(a.all,n),l=Gm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},C4=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=Uv({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return gT({pageBorderBoxCenter:o,draggable:t,viewport:i})},M4=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Le();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,u=o[e.critical.draggable.id],d=Yi(r);d||Le();const h=l[d],p=O4({impact:r,viewport:i,destination:h,draggables:o}),b=C4({impact:p,draggable:u,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return Nm({impact:p,clientSelection:b,state:e,dimensions:a,viewport:i})},_Q=e=>({index:e.index,droppableId:e.droppableId}),D4=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=_p(t.axis,e.displaceBy),a=Sf(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Le();const l=a.slice(o+1),u=l.reduce((b,y)=>(b[y.descriptor.id]=!0,b),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:Gm({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:_Q(e.descriptor)}},afterCritical:d}},SQ=(e,t)=>({draggables:e.draggables,droppables:bT(e.droppables,t)}),kQ=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=fy(e.client,t),i=hy(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},EQ=e=>{const t=e.frame;return t||Le(),t},TQ=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=EQ(o).scroll.diff.value,d=Nr(r,u);return kQ({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},AQ=({state:e,published:t})=>{const n=t.modified.map(j=>{const O=e.dimensions.droppables[j.droppableId];return dT(O,j.scroll)}),r={...e.dimensions.droppables,...p4(n)},i=g4(TQ({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(j=>{delete a[j]});const o={droppables:r,draggables:a},l=Yi(e.impact),u=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:b}=D4({draggable:d,home:h,draggables:a,viewport:e.viewport}),y=u&&u.isCombineEnabled?e.impact:p,k=N4({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:y,viewport:e.viewport,afterCritical:b}),w={...e,phase:"DRAGGING",impact:k,onLiftImpact:p,dimensions:o,afterCritical:b,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const e2=e=>e.movementMode==="SNAP",a1=(e,t,n)=>{const r=SQ(e.dimensions,t);return!e2(e)||n?Nm({state:e,dimensions:r}):M4({state:e,dimensions:r})};function o1(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const fD={phase:"IDLE",completed:null,shouldFlush:!1};var jQ=(e=fD,t)=>{if(t.type==="FLUSH")return{...fD,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Le();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:br},h={client:d,page:{selection:Nr(d.selection,i.scroll.initial),borderBoxCenter:Nr(d.selection,i.scroll.initial),offset:Nr(d.selection,i.scroll.diff.value)}},p=$v(a.droppables).every(w=>!w.isFixedOnPage),{impact:b,afterCritical:y}=D4({draggable:l,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:p,impact:b,afterCritical:y,onLiftImpact:b,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Le(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Le(),AQ({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Qc(e)||Le();const{client:n}=t.payload;return Ul(n,e.current.client.selection)?e:Nm({state:e,clientSelection:n,impact:e2(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return o1(e);Qc(e)||Le();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=dT(i,r);return a1(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Qc(e)||Le();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Le(),i.isEnabled===r&&Le();const a={...i,isEnabled:r};return a1(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Qc(e)||Le();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Le(),i.isCombineEnabled===r&&Le();const a={...i,isCombineEnabled:r};return a1(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Qc(e)||Le(),e.isWindowScrollAllowed||Le();const n=t.payload.newScroll;if(Ul(e.viewport.scroll.current,n))return o1(e);const r=_4(e.viewport,n);return e2(e)?M4({state:e,viewport:r}):Nm({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Qc(e))return e;const n=t.payload.maxScroll;if(Ul(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Le();const n=uQ({state:e,type:t.type});return n?Nm({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Le(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Le(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Bt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const NQ=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),OQ=e=>({type:"LIFT",payload:e}),CQ=e=>({type:"INITIAL_PUBLISH",payload:e}),MQ=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),DQ=()=>({type:"COLLECTION_STARTING",payload:null}),PQ=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),RQ=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),LQ=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),P4=e=>({type:"MOVE",payload:e}),IQ=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),$Q=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),BQ=()=>({type:"MOVE_UP",payload:null}),zQ=()=>({type:"MOVE_DOWN",payload:null}),UQ=()=>({type:"MOVE_RIGHT",payload:null}),FQ=()=>({type:"MOVE_LEFT",payload:null}),yT=()=>({type:"FLUSH",payload:null}),HQ=e=>({type:"DROP_ANIMATE",payload:e}),vT=e=>({type:"DROP_COMPLETE",payload:e}),R4=e=>({type:"DROP",payload:e}),GQ=e=>({type:"DROP_PENDING",payload:e}),L4=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var YQ=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Bt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(vT({completed:u.completed})),t().phase!=="IDLE"&&Le(),n(yT()),n(NQ({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:b,viewport:y}=e.startPublishing(h);n(CQ({critical:p,dimensions:b,clientSelection:o,movementMode:l,viewport:y}))},qQ=e=>()=>t=>n=>{Bt(n,"INITIAL_PUBLISH")&&e.dragging(),Bt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Bt(n,"FLUSH")||Bt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const xT={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ym={opacity:{drop:0,combining:.7},scale:{drop:.75}},I4={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Hc=`${I4.outOfTheWay}s ${xT.outOfTheWay}`,Om={fluid:`opacity ${Hc}`,snap:`transform ${Hc}, opacity ${Hc}`,drop:e=>{const t=`${e}s ${xT.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Hc}`,placeholder:`height ${Hc}, width ${Hc}, margin ${Hc}`},hD=e=>Ul(e,br)?void 0:`translate(${e.x}px, ${e.y}px)`,t2={moveTo:hD,drop:(e,t)=>{const n=hD(e);if(n)return t?`${n} scale(${Ym.scale.drop})`:n}},{minDropTime:n2,maxDropTime:$4}=I4,KQ=$4-n2,mD=1500,WQ=.6;var VQ=({current:e,destination:t,reason:n})=>{const r=Fm(e,t);if(r<=0)return n2;if(r>=mD)return $4;const i=r/mD,a=n2+KQ*i,o=n==="CANCEL"?a*WQ:a;return Number(o.toFixed(2))},ZQ=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,l=Yi(e),u=l?o[l]:null,d=o[t.descriptor.droppableId],h=C4({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||d,viewport:r});return Hi(h,t.client.borderBox.center)},XQ=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:O4({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Hm},didDropInsideDroppable:!0};const JQ=({getState:e,dispatch:t})=>n=>r=>{if(!Bt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(GQ({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Le(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Le();const l=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=XQ({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),b=p?fT(h):null,y=p?Bv(h):null,k={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:d.descriptor.id,type:d.descriptor.type,source:k,reason:a,mode:i.movementMode,destination:b,combine:y},S=ZQ({impact:h,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),j={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:h};if(!(!Ul(i.current.client.offset,S)||!!w.combine)){t(vT({completed:j}));return}const A=VQ({current:i.current.client.offset,destination:S,reason:a});t(HQ({newHomeClientOffset:S,dropDuration:A,completed:j}))};var B4=()=>({x:window.pageXOffset,y:window.pageYOffset});function QQ(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function eee({onWindowScroll:e}){function t(){e(B4())}const n=Um(t),r=QQ(n);let i=zl;function a(){return i!==zl}function o(){a()&&Le(),i=ba(window,[r])}function l(){a()||Le(),n.cancel(),i(),i=zl}return{start:o,stop:l,isActive:a}}const tee=e=>Bt(e,"DROP_COMPLETE")||Bt(e,"DROP_ANIMATE")||Bt(e,"FLUSH"),nee=e=>{const t=eee({onWindowScroll:n=>{e.dispatch(IQ({newScroll:n}))}});return n=>r=>{!t.isActive()&&Bt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&tee(r)&&t.stop(),n(r)}};var ree=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},iee=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&Le();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const aee=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,oee=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,see=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Wh=(e,t)=>{t()},Rg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function s1(e,t,n,r){if(!e){n(r(t));return}const i=ree(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var lee=(e,t)=>{const n=iee();let r=null;const i=(p,b)=>{r&&Le(),Wh("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:p,mode:b})})},a=(p,b)=>{r&&Le(),Wh("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(Rg(p,b))})},o=(p,b)=>{r&&Le();const y=Rg(p,b);r={mode:b,lastCritical:p,lastLocation:y.source,lastCombine:null},n.add(()=>{Wh("onDragStart",()=>s1(e().onDragStart,y,t,Ub.onDragStart))})},l=(p,b)=>{const y=fT(b),k=Bv(b);r||Le();const w=!see(p,r.lastCritical);w&&(r.lastCritical=p);const S=!aee(r.lastLocation,y);S&&(r.lastLocation=y);const j=!oee(r.lastCombine,k);if(j&&(r.lastCombine=k),!w&&!S&&!j)return;const O={...Rg(p,r.mode),combine:k,destination:y};n.add(()=>{Wh("onDragUpdate",()=>s1(e().onDragUpdate,O,t,Ub.onDragUpdate))})},u=()=>{r||Le(),n.flush()},d=p=>{r||Le(),r=null,Wh("onDragEnd",()=>s1(e().onDragEnd,p,t,Ub.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:u,drop:d,abort:()=>{if(!r)return;const p={...Rg(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},cee=(e,t)=>{const n=lee(e,t);return r=>i=>a=>{if(Bt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Bt(a,"INITIAL_PUBLISH")){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),i(a),n.start(l,a.payload.movementMode);return}if(Bt(a,"DROP_COMPLETE")){const l=a.payload.completed.result;n.flush(),i(a),n.drop(l);return}if(i(a),Bt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const uee=e=>t=>n=>{if(!Bt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Le(),e.dispatch(vT({completed:r.completed}))},dee=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Bt(a,"FLUSH")||Bt(a,"DROP_COMPLETE")||Bt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Bt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(L4())}};n=requestAnimationFrame(()=>{n=null,t=ba(window,[o])})}};var fee=e=>()=>t=>n=>{(Bt(n,"DROP_COMPLETE")||Bt(n,"FLUSH")||Bt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},hee=e=>{let t=!1;return()=>n=>r=>{if(Bt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Bt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Bt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const mee=e=>Bt(e,"DROP_COMPLETE")||Bt(e,"DROP_ANIMATE")||Bt(e,"FLUSH");var pee=e=>t=>n=>r=>{if(mee(r)){e.stop(),n(r);return}if(Bt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Le(),e.start(i);return}n(r),e.scroll(t.getState())};const gee=e=>t=>n=>{if(t(n),!Bt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(R4({reason:r.reason})))},bee=zm;var yee=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>oT(jQ,bee(QB(qQ(n),fee(e),YQ(e),JQ,uee,dee,gee,pee(a),nee,hee(t),cee(r,i))));const l1=()=>({additions:{},removals:{},modified:{}});function vee({registry:e,callbacks:t}){let n=l1(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:d,modified:h}=n,p=Object.keys(u).map(k=>e.draggable.getById(k).getDimension(br)).sort((k,w)=>k.descriptor.index-w.descriptor.index),b=Object.keys(h).map(k=>{const S=e.droppable.getById(k).callbacks.getScrollWhileDragging();return{droppableId:k,scroll:S}}),y={additions:p,removals:Object.keys(d),modified:b};n=l1(),t.publish(y)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=l1())}}}var z4=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Hi({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},U4=()=>{const e=document.documentElement;return e||Le(),e},F4=()=>{const e=U4();return z4({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},xee=()=>{const e=B4(),t=F4(),n=e.y,r=e.x,i=U4(),a=i.clientWidth,o=i.clientHeight,l=r+a,u=n+o;return{frame:Qa({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:br,displacement:br}}}},wee=({critical:e,scrollOptions:t,registry:n})=>{const r=xee(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:g4(l),droppables:p4(o)},critical:e,viewport:r}};function pD(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var _ee=(e,t)=>{let n=null;const r=vee({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(b,y)=>{e.droppable.exists(b)||Le(),n&&t.updateDroppableIsEnabled({id:b,isEnabled:y})},a=(b,y)=>{n&&(e.droppable.exists(b)||Le(),t.updateDroppableIsCombineEnabled({id:b,isCombineEnabled:y}))},o=(b,y)=>{n&&(e.droppable.exists(b)||Le(),t.updateDroppableScroll({id:b,newScroll:y}))},l=(b,y)=>{n&&e.droppable.getById(b).callbacks.scroll(y)},u=()=>{if(!n)return;r.stop();const b=n.critical.droppable;e.droppable.getAllByType(b.type).forEach(y=>y.callbacks.dragStopped()),n.unsubscribe(),n=null},d=b=>{n||Le();const y=n.critical.draggable;b.type==="ADDITION"&&pD(e,y,b.value)&&r.add(b.value),b.type==="REMOVAL"&&pD(e,y,b.value)&&r.remove(b.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:b=>{n&&Le();const y=e.draggable.getById(b.draggableId),k=e.droppable.getById(y.descriptor.droppableId),w={draggable:y.descriptor,droppable:k.descriptor},S=e.subscribe(d);return n={critical:w,unsubscribe:S},wee({critical:w,registry:e,scrollOptions:b.scrollOptions})},stopPublishing:u}},H4=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",See=e=>{window.scrollBy(e.x,e.y)};const kee=gr(e=>$v(e).filter(t=>!(!t.isEnabled||!t.frame))),Eee=(e,t)=>kee(t).find(r=>(r.frame||Le(),T4(r.frame.pageMarginBox)(e)))||null;var Tee=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return Eee(e,n)};const qm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Aee=(e,t,n=()=>qm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},G4=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},wT=1,jee=(e,t,n=()=>qm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return wT;const a=1-G4({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},Nee=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,d=Date.now()-o;if(d>=a)return e;if(d<i)return wT;const h=G4({startOfRange:i,endOfRange:l,current:d}),p=e*r.ease(h);return Math.ceil(p)},gD=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=jee(e,t,i);return a===0?0:r?Math.max(Nee(a,n,i),wT):a},bD=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=Aee(e,r,a);return t[r.end]<t[r.start]?gD({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*gD({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},Oee=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Cee=m4(e=>e===0?0:e);var Y4=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=bD({container:t,distanceToEdges:o,dragStartTime:e,axis:hT,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=bD({container:t,distanceToEdges:o,dragStartTime:e,axis:v4,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=Cee({x:u,y:l});if(Ul(d,br))return null;const h=Oee({container:t,subject:n,proposedScroll:d});return h?Ul(h,br)?null:h:null};const Mee=m4(e=>e===0?0:e>0?1:-1),_T=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Nr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Ul(a,br)?null:a}})(),q4=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=Mee(n),a=_T({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},ST=(e,t)=>q4({current:e.scroll.current,max:e.scroll.max,change:t}),Dee=(e,t)=>{if(!ST(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return _T({current:r,max:n,change:t})},kT=(e,t)=>{const n=e.frame;return n?q4({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Pee=(e,t)=>{const n=e.frame;return!n||!kT(e,t)?null:_T({current:n.scroll.current,max:n.scroll.max,change:t})};var Ree=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=Y4({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&ST(e,o)?o:null},Lee=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=Y4({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&kT(e,l)?l:null},yD=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,b=Ree({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(b){r(b);return}}const d=Tee({center:o,destination:Yi(e.impact),droppables:e.dimensions.droppables});if(!d)return;const h=Lee({dragStartTime:t,droppable:d,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(d.descriptor.id,h)},Iee=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>qm})=>{const r=Um(e),i=Um(t);let a=null;const o=d=>{a||Le();const{shouldUseTimeDampening:h,dragStartTime:p}=a;yD({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:d=>{a&&Le();const h=Date.now();let p=!1;const b=()=>{p=!0};yD({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:b,scrollDroppable:b,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:p},p&&o(d)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},$ee=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const d=Nr(l.current.client.selection,u);e({client:d})},i=(l,u)=>{if(!kT(l,u))return u;const d=Pee(l,u);if(!d)return t(l.descriptor.id,u),null;const h=Hi(u,d);return t(l.descriptor.id,h),Hi(u,h)},a=(l,u,d)=>{if(!l||!ST(u,d))return d;const h=Dee(u,d);if(!h)return n(d),null;const p=Hi(d,h);return n(p),Hi(d,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=Yi(l.impact);d||Le();const h=i(l.dimensions.droppables[d],u);if(!h)return;const p=l.viewport,b=a(l.isWindowScrollAllowed,p,h);b&&r(l,b)}},Bee=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=Iee({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=$ee({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const nf="data-rfd",rf=(()=>{const e=`${nf}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),r2=(()=>{const e=`${nf}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),zee=(()=>{const e=`${nf}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),vD={contextId:`${nf}-scroll-container-context-id`},Uee=e=>t=>`[${t}="${e}"]`,Vh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Fee="pointer-events: none;";var Hee=e=>{const t=Uee(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(rf.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Fee,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Om.outOfTheWay};
    `;return{selector:t(r2.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(zee.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Vh(o,"always"),resting:Vh(o,"resting"),dragging:Vh(o,"dragging"),dropAnimating:Vh(o,"dropAnimating"),userCancel:Vh(o,"userCancel")}};const qi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect,c1=()=>{const e=document.querySelector("head");return e||Le(),e},xD=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Gee(e,t){const n=Tt(()=>Hee(e),[e]),r=_.useRef(null),i=_.useRef(null),a=et(gr(p=>{const b=i.current;b||Le(),b.textContent=p}),[]),o=et(p=>{const b=r.current;b||Le(),b.textContent=p},[]);qi(()=>{!r.current&&!i.current||Le();const p=xD(t),b=xD(t);return r.current=p,i.current=b,p.setAttribute(`${nf}-always`,e),b.setAttribute(`${nf}-dynamic`,e),c1().appendChild(p),c1().appendChild(b),o(n.always),a(n.resting),()=>{const y=k=>{const w=k.current;w||Le(),c1().removeChild(w),k.current=null};y(r),y(i)}},[t,o,a,n.always,n.resting,e]);const l=et(()=>a(n.dragging),[a,n.dragging]),u=et(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),d=et(()=>{i.current&&a(n.resting)},[a,n.resting]);return Tt(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function K4(e,t){return Array.from(e.querySelectorAll(t))}var W4=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Fv(e){return e instanceof W4(e).HTMLElement}function Yee(e,t){const n=`[${rf.contextId}="${e}"]`,r=K4(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(rf.draggableId)===t);return!i||!Fv(i)?null:i}function qee(e){const t=_.useRef({}),n=_.useRef(null),r=_.useRef(null),i=_.useRef(!1),a=et(function(b,y){const k={id:b,focus:y};return t.current[b]=k,function(){const S=t.current;S[b]!==k&&delete S[b]}},[]),o=et(function(b){const y=Yee(e,b);y&&y!==document.activeElement&&y.focus()},[e]),l=et(function(b,y){n.current===b&&(n.current=y)},[]),u=et(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const b=n.current;b&&o(b)}))},[o]),d=et(function(b){n.current=null;const y=document.activeElement;y&&y.getAttribute(rf.draggableId)===b&&(n.current=b)},[]);return qi(()=>(i.current=!0,function(){i.current=!1;const b=r.current;b&&cancelAnimationFrame(b)}),[]),Tt(()=>({register:a,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[a,d,u,l])}function Kee(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const y=t.indexOf(p);y!==-1&&t.splice(y,1)}}function r(p){t.length&&t.forEach(b=>b(p))}function i(p){return e.draggables[p]||null}function a(p){const b=i(p);return b||Le(),b}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,b)=>{const y=e.draggables[b.descriptor.id];y&&y.uniqueId===p.uniqueId&&(delete e.draggables[b.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const b=p.descriptor.id,y=i(b);y&&p.uniqueId===y.uniqueId&&(delete e.draggables[b],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(b=>b.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const b=l(p);return b||Le(),b}const d={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const b=l(p.descriptor.id);b&&p.uniqueId===b.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(b=>b.descriptor.type===p)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:h}}function Wee(){const e=Tt(Kee,[]);return _.useEffect(()=>function(){e.clean()},[e]),e}var ET=Jt.createContext(null),yy=()=>{const e=document.body;return e||Le(),e};const Vee={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Zee=e=>`rfd-announcement-${e}`;function Xee(e){const t=Tt(()=>Zee(e),[e]),n=_.useRef(null);return _.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),my(a.style,Vee),yy().appendChild(a),function(){setTimeout(function(){const u=yy();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),et(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const Jee={separator:"::"};function TT(e,t=Jee){const n=Jt.useId();return Tt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function Qee({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function ete({contextId:e,text:t}){const n=TT("hidden-text",{separator:"-"}),r=Tt(()=>Qee({contextId:e,uniqueId:n}),[n,e]);return _.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",yy().appendChild(a),function(){const l=yy();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var Hv=Jt.createContext(null);function V4(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),t}function tte(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Le();const l={abandon:o};return e=l,l}function i(){e||Le(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Km(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const nte=9,rte=13,AT=27,Z4=32,ite=33,ate=34,ote=35,ste=36,lte=37,cte=38,ute=39,dte=40,fte={[rte]:!0,[nte]:!0};var X4=e=>{fte[e.keyCode]&&e.preventDefault()};const Gv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),J4=0,wD=5;function hte(e,t){return Math.abs(t.x-e.x)>=wD||Math.abs(t.y-e.y)>=wD}const _D={type:"IDLE"};function mte({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==J4)return;const u={x:o,y:l},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&Le();const h=d.point;if(!hte(h,u))return;i.preventDefault();const p=d.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===AT){i.preventDefault(),e();return}X4(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Le(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Gv,fn:e}]}function pte(e){const t=_.useRef(_D),n=_.useRef(zl),r=Tt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==J4||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const b=e.findClosestDraggableId(p);if(!b)return;const y=e.tryGetLock(b,o,{sourceEvent:p});if(!y)return;p.preventDefault();const k={x:p.clientX,y:p.clientY};n.current(),d(y,k)}}),[e]),i=Tt(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const b=e.findOptionsForDraggable(p);b&&(b.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}),[e]),a=et(function(){const p={passive:!1,capture:!0};n.current=ba(window,[i,r],p)},[i,r]),o=et(()=>{t.current.type!=="IDLE"&&(t.current=_D,n.current(),a())},[a]),l=et(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=et(function(){const p={capture:!0,passive:!1},b=mte({cancel:l,completed:o,getPhase:()=>t.current,setPhase:y=>{t.current=y}});n.current=ba(window,b,p)},[l,o]),d=et(function(p,b){t.current.type!=="IDLE"&&Le(),t.current={type:"PENDING",point:b,actions:p},u()},[u]);qi(function(){return a(),function(){n.current()}},[a])}function gte(){}const bte={[ate]:!0,[ite]:!0,[ste]:!0,[ote]:!0};function yte(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===AT){i.preventDefault(),n();return}if(i.keyCode===Z4){i.preventDefault(),r();return}if(i.keyCode===dte){i.preventDefault(),e.moveDown();return}if(i.keyCode===cte){i.preventDefault(),e.moveUp();return}if(i.keyCode===ute){i.preventDefault(),e.moveRight();return}if(i.keyCode===lte){i.preventDefault(),e.moveLeft();return}if(bte[i.keyCode]){i.preventDefault();return}X4(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Gv,fn:n}]}function vte(e){const t=_.useRef(gte),n=Tt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==Z4)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let u=!0;const d=l.snapLift();t.current();function h(){u||Le(),u=!1,t.current(),r()}t.current=ba(window,yte(d,h),{capture:!0,passive:!1})}}),[e]),r=et(function(){const a={passive:!1,capture:!0};t.current=ba(window,[n],a)},[n]);qi(function(){return r(),function(){t.current()}},[r])}const u1={type:"IDLE"},xte=120,wte=.15;function _te({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===AT&&n.preventDefault(),e()}},{eventName:Gv,fn:e}]}function Ste({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Le();const a=r.touches[0];if(!a||!(a.force>=wte))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Gv,fn:e}]}function kte(e){const t=_.useRef(u1),n=_.useRef(zl),r=et(function(){return t.current},[]),i=et(function(y){t.current=y},[]),a=Tt(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const k=e.findClosestDraggableId(y);if(!k)return;const w=e.tryGetLock(k,l,{sourceEvent:y});if(!w)return;const S=y.touches[0],{clientX:j,clientY:O}=S,A={x:j,y:O};n.current(),p(w,A)}}),[e]),o=et(function(){const y={capture:!0,passive:!1};n.current=ba(window,[a],y)},[a]),l=et(()=>{const b=t.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),i(u1),n.current(),o())},[o,i]),u=et(()=>{const b=t.current;l(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[l]),d=et(function(){const y={capture:!0,passive:!1},k={cancel:u,completed:l,getPhase:r},w=ba(window,Ste(k),y),S=ba(window,_te(k),y);n.current=function(){w(),S()}},[u,r,l]),h=et(function(){const y=r();y.type!=="PENDING"&&Le();const k=y.actions.fluidLift(y.point);i({type:"DRAGGING",actions:k,hasMoved:!1})},[r,i]),p=et(function(y,k){r().type!=="IDLE"&&Le();const w=setTimeout(h,xte);i({type:"PENDING",point:k,actions:y,longPressTimerId:w}),d()},[d,r,i,h]);qi(function(){return o(),function(){n.current();const k=r();k.type==="PENDING"&&(clearTimeout(k.longPressTimerId),i(u1))}},[r,o,i]),qi(function(){return ba(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Ete=["input","button","textarea","select","option","optgroup","video","audio"];function Q4(e,t){if(t==null)return!1;if(Ete.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Q4(e,t.parentElement)}function Tte(e,t){const n=t.target;return Fv(n)?Q4(e,n):!1}var Ate=e=>Qa(e.getBoundingClientRect()).center;function jte(e){return e instanceof W4(e).Element}const Nte=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function e6(e,t){return e==null?null:e[Nte](t)?e:e6(e.parentElement,t)}function Ote(e,t){return e.closest?e.closest(t):e6(e,t)}function Cte(e){return`[${rf.contextId}="${e}"]`}function Mte(e,t){const n=t.target;if(!jte(n))return null;const r=Cte(e),i=Ote(n,r);return!i||!Fv(i)?null:i}function Dte(e,t){const n=Mte(e,t);return n?n.getAttribute(rf.draggableId):null}function Pte(e,t){const n=`[${r2.contextId}="${e}"]`,i=K4(document,n).find(a=>a.getAttribute(r2.id)===t);return!i||!Fv(i)?null:i}function Rte(e){e.preventDefault()}function Lg({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function t6({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!H4(t.getState(),r))}function Lte({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!t6({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),d=Pte(t,u.descriptor.id);if(!d||o&&!u.options.canDragInteractiveElements&&Tte(d,o))return null;const h=e.claim(a||zl);let p="PRE_DRAG";function b(){return u.options.shouldRespectForcePress}function y(){return e.isActive(h)}function k(D,P){Lg({expected:D,phase:p,isLockActive:y,shouldWarn:!0})&&n.dispatch(P())}const w=k.bind(null,"DRAGGING");function S(D){function P(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(P(),Le()),n.dispatch(OQ(D.liftActionArgs)),p="DRAGGING";function I(U,K={shouldBlockNextClick:!1}){if(D.cleanup(),K.shouldBlockNextClick){const q=ba(window,[{eventName:"click",fn:Rte,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(q)}P(),n.dispatch(R4({reason:U}))}return{isActive:()=>Lg({expected:"DRAGGING",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,drop:U=>I("DROP",U),cancel:U=>I("CANCEL",U),...D.actions}}function j(D){const P=Um(U=>{w(()=>P4({client:U}))});return{...S({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function O(){const D={moveUp:()=>w(BQ),moveRight:()=>w(UQ),moveDown:()=>w(zQ),moveLeft:()=>w(FQ)};return S({liftActionArgs:{id:i,clientSelection:Ate(d),movementMode:"SNAP"},cleanup:zl,actions:D})}function A(){Lg({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>Lg({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,fluidLift:j,snapLift:O,abort:A}}const Ite=[pte,vte,kte];function $te({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?Ite:[],...r||[]],o=_.useState(()=>tte())[0],l=et(function(S,j){Km(S)&&!Km(j)&&o.tryAbandon()},[o]);qi(function(){let S=t.getState();return t.subscribe(()=>{const O=t.getState();l(S,O),S=O})},[o,t,l]),qi(()=>o.tryAbandon,[o.tryAbandon]);const u=et(w=>t6({lockAPI:o,registry:n,store:t,draggableId:w}),[o,n,t]),d=et((w,S,j)=>Lte({lockAPI:o,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:S||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[e,o,n,t]),h=et(w=>Dte(e,w),[e]),p=et(w=>{const S=n.draggable.findById(w);return S?S.options:null},[n.draggable]),b=et(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(yT()))},[o,t]),y=et(()=>o.isClaimed(),[o]),k=Tt(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:b,isLockClaimed:y}),[u,d,h,p,b,y]);for(let w=0;w<a.length;w++)a[w](k)}const Bte=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ju.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),zte=e=>({...qm,...e.autoScrollerOptions,durationDampening:{...qm.durationDampening,...e.autoScrollerOptions}});function Zh(e){return e.current||Le(),e.current}function Ute(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=_.useRef(null),l=V4(e),u=et(()=>Bte(l.current),[l]),d=et(()=>zte(l.current),[l]),h=Xee(t),p=ete({contextId:t,text:a}),b=Gee(t,i),y=et(q=>{Zh(o).dispatch(q)},[]),k=Tt(()=>WM({publishWhileDragging:MQ,updateDroppableScroll:PQ,updateDroppableIsEnabled:RQ,updateDroppableIsCombineEnabled:LQ,collectionStarting:DQ},y),[y]),w=Wee(),S=Tt(()=>_ee(w,k),[w,k]),j=Tt(()=>Bee({scrollWindow:See,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:d,...WM({move:P4},y)}),[S.scrollDroppable,y,d]),O=qee(t),A=Tt(()=>yee({announce:h,autoScroller:j,dimensionMarshal:S,focusMarshal:O,getResponders:u,styleMarshal:b}),[h,j,S,O,u,b]);o.current=A;const C=et(()=>{const q=Zh(o);q.getState().phase!=="IDLE"&&q.dispatch(yT())},[]),D=et(()=>{const q=Zh(o).getState();return q.phase==="DROP_ANIMATING"?!0:q.phase==="IDLE"?!1:q.isDragging},[]),P=Tt(()=>({isDragging:D,tryAbort:C}),[D,C]);n(P);const I=et(q=>H4(Zh(o).getState(),q),[]),U=et(()=>Qc(Zh(o).getState()),[]),K=Tt(()=>({marshal:S,focus:O,contextId:t,canLift:I,isMovementAllowed:U,dragHandleUsageInstructionsId:p,registry:w}),[t,S,p,O,I,U,w]);return $te({contextId:t,store:A,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),_.useEffect(()=>C,[C]),Jt.createElement(Hv.Provider,{value:K},Jt.createElement(s4,{context:ET,store:A},e.children))}function Fte(){return Jt.useId()}function Sp(e){const t=Fte(),n=e.dragHandleUsageInstructions||Ub.dragHandleUsageInstructions;return Jt.createElement(vJ,null,r=>Jt.createElement(Ute,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const SD={dragging:5e3,dropAnimating:4500},Hte=(e,t)=>t?Om.drop(t.duration):e?Om.snap:Om.fluid,Gte=(e,t)=>{if(e)return t?Ym.opacity.drop:Ym.opacity.combining},Yte=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function qte(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=Yte(e),u=!!a,d=u?t2.drop(r,o):t2.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Hte(l,a),transform:d,opacity:Gte(o,u),zIndex:u?SD.dropAnimating:SD.dragging,pointerEvents:"none"}}function Kte(e){return{transform:t2.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Wte(e){return e.type==="DRAGGING"?qte(e):Kte(e)}function Vte(e,t,n=br){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=l4(i,r),o=hy(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:a,page:o}}function Zte(e){const t=TT("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,u=Tt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),d=et(y=>{const k=i();return k||Le(),Vte(n,k,y)},[n,i]),h=Tt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),p=_.useRef(h),b=_.useRef(!0);qi(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),qi(()=>{if(b.current){b.current=!1;return}const y=p.current;p.current=h,r.draggable.update(h,y)},[h,r.draggable])}var jT=Jt.createContext(null);function vy(e){const t=_.useContext(e);return t||Le(),t}function Xte(e){e.preventDefault()}const Jte=e=>{const t=_.useRef(null),n=et((P=null)=>{t.current=P},[]),r=et(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=vy(Hv),{type:l,droppableId:u}=vy(jT),d=Tt(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:h,draggableId:p,isEnabled:b,shouldRespectForcePress:y,canDragInteractiveElements:k,isClone:w,mapped:S,dropAnimationFinished:j}=e;if(!w){const P=Tt(()=>({descriptor:d,registry:o,getDraggableRef:r,canDragInteractiveElements:k,shouldRespectForcePress:y,isEnabled:b}),[d,o,r,k,y,b]);Zte(P)}const O=Tt(()=>b?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:Xte}:null,[i,a,p,b]),A=et(P=>{S.type==="DRAGGING"&&S.dropping&&P.propertyName==="transform"&&ju.flushSync(j)},[j,S]),C=Tt(()=>{const P=Wte(S),I=S.type==="DRAGGING"&&S.dropping?A:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:P,onTransitionEnd:I},dragHandleProps:O}},[i,O,p,S,A,n]),D=Tt(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Jt.createElement(Jt.Fragment,null,h(C,S.snapshot,D))};var n6=(e,t)=>e===t,r6=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Qte=e=>e.combine?e.combine.draggableId:null,ene=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function tne(){const e=gr((i,a)=>({x:i,y:a})),t=gr((i,a,o=null,l=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),n=gr((i,a,o,l,u=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,u,d,null)}}));return(i,a)=>{if(Km(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],u=Yi(i.impact),d=ene(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,l,a.isClone,u,d,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,u=i.dimensions.draggables[a.draggableId],d=o.result,h=d.mode,p=r6(d),b=Qte(d),k={duration:i.dropDuration,curve:xT.drop,moveTo:i.newHomeClientOffset,opacity:b?Ym.opacity.drop:null,scale:b?Ym.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:k,draggingOver:p,combineWith:b,mode:h,forceShouldAnimate:null,snapshot:t(h,l,p,b,k)}}}return null}}function i6(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const nne={mapped:{type:"SECONDARY",offset:br,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:i6(null)}};function rne(){const e=gr((o,l)=>({x:o,y:l})),t=gr(i6),n=gr((o,l=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=o=>o?n(br,o,!0):null,i=(o,l,u,d)=>{const h=u.displaced.visible[o],p=!!(d.inVirtualList&&d.effected[o]),b=Bv(u),y=b&&b.draggableId===o?l:null;if(!h){if(!p)return r(y);if(u.displaced.invisible[o])return null;const S=_f(d.displacedBy.point),j=e(S.x,S.y);return n(j,y,!0)}if(p)return r(y);const k=u.displacedBy.point,w=e(k.x,k.y);return n(w,y,h.shouldAnimate)};return(o,l)=>{if(Km(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const ine=()=>{const e=tne(),t=rne();return(r,i)=>e(r,i)||t(r,i)||nne},ane={dropAnimationFinished:L4},one=o4(ine,ane,null,{context:ET,areStatePropsEqual:n6})(Jte);function a6(e){return vy(jT).isUsingCloneFor===e.draggableId&&!e.isClone?null:Jt.createElement(one,e)}function Ef(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Jt.createElement(a6,my({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const o6=e=>t=>e===t,sne=o6("scroll"),lne=o6("auto"),kD=(e,t)=>t(e.overflowX)||t(e.overflowY),cne=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return kD(n,sne)||kD(n,lne)},une=()=>!1,s6=e=>e==null?null:e===document.body?une()?e:null:e===document.documentElement?null:cne(e)?e:s6(e.parentElement);var i2=e=>({x:e.scrollLeft,y:e.scrollTop});const l6=e=>e?window.getComputedStyle(e).position==="fixed"?!0:l6(e.parentElement):!1;var dne=e=>{const t=s6(e),n=l6(e);return{closestScrollable:t,isFixedOnPage:n}},fne=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:b,client:y}=l,k=z4({scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:y,scrollSize:b,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:k,diff:{value:br,displacement:br}}}})(),d=i==="vertical"?hT:v4,h=tf({page:o,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:a,page:o,frame:u,subject:h}};const hne=(e,t)=>{const n=c4(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=cT({top:r,right:o,bottom:a,left:i},n.border);return uT({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var mne=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const u=n.closestScrollable,d=hne(e,u),h=hy(d,r),p=(()=>{if(!u)return null;const y=c4(u),k={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:hy(y,r),scroll:i2(u),scrollSize:k,shouldClipSubject:l}})();return fne({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:h,closest:p})};const pne={passive:!1},gne={passive:!0};var ED=e=>e.shouldPublishImmediately?pne:gne;const Ig=e=>e&&e.env.closestScrollable||null;function bne(e){const t=_.useRef(null),n=vy(Hv),r=TT("droppable"),{registry:i,marshal:a}=n,o=V4(e),l=Tt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=_.useRef(l),d=Tt(()=>gr((C,D)=>{t.current||Le();const P={x:C,y:D};a.updateDroppableScroll(l.id,P)}),[l.id,a]),h=et(()=>{const C=t.current;return!C||!C.env.closestScrollable?br:i2(C.env.closestScrollable)},[]),p=et(()=>{const C=h();d(C.x,C.y)},[h,d]),b=Tt(()=>Um(p),[p]),y=et(()=>{const C=t.current,D=Ig(C);if(C&&D||Le(),C.scrollOptions.shouldPublishImmediately){p();return}b()},[b,p]),k=et((C,D)=>{t.current&&Le();const P=o.current,I=P.getDroppableRef();I||Le();const U=dne(I),K={ref:I,descriptor:l,env:U,scrollOptions:D};t.current=K;const q=mne({ref:I,descriptor:l,env:U,windowScroll:C,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),H=U.closestScrollable;return H&&(H.setAttribute(vD.contextId,n.contextId),H.addEventListener("scroll",y,ED(K.scrollOptions))),q},[n.contextId,l,y,o]),w=et(()=>{const C=t.current,D=Ig(C);return C&&D||Le(),i2(D)},[]),S=et(()=>{const C=t.current;C||Le();const D=Ig(C);t.current=null,D&&(b.cancel(),D.removeAttribute(vD.contextId),D.removeEventListener("scroll",y,ED(C.scrollOptions)))},[y,b]),j=et(C=>{const D=t.current;D||Le();const P=Ig(D);P||Le(),P.scrollTop+=C.y,P.scrollLeft+=C.x},[]),O=Tt(()=>({getDimensionAndWatchScroll:k,getScrollWhileDragging:w,dragStopped:S,scroll:j}),[S,k,w,j]),A=Tt(()=>({uniqueId:r,descriptor:l,callbacks:O}),[O,l,r]);qi(()=>(u.current=A.descriptor,i.droppable.register(A),()=>{t.current&&S(),i.droppable.unregister(A)}),[O,l,S,A,a,i.droppable]),qi(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),qi(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function d1(){}const TD={width:0,height:0,margin:TJ},yne=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?TD:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},vne=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=yne({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Om.placeholder:null}},xne=e=>{const t=_.useRef(null),n=et(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,u]=_.useState(e.animate==="open");_.useEffect(()=>l?r!=="open"?(n(),u(!1),d1):t.current?d1:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):d1,[r,l,n]);const d=et(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=vne({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return Jt.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var wne=Jt.memo(xne);class _ne extends Jt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const Sne=e=>{const t=_.useContext(Hv);t||Le();const{contextId:n,isMovementAllowed:r}=t,i=_.useRef(null),a=_.useRef(null),{children:o,droppableId:l,type:u,mode:d,direction:h,ignoreContainerClipping:p,isDropDisabled:b,isCombineEnabled:y,snapshot:k,useClone:w,updateViewportMaxScroll:S,getContainerForClone:j}=e,O=et(()=>i.current,[]),A=et((H=null)=>{i.current=H},[]);et(()=>a.current,[]);const C=et((H=null)=>{a.current=H},[]),D=et(()=>{r()&&S({maxScroll:F4()})},[r,S]);bne({droppableId:l,type:u,mode:d,direction:h,isDropDisabled:b,isCombineEnabled:y,ignoreContainerClipping:p,getDroppableRef:O});const P=Tt(()=>Jt.createElement(_ne,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:H,data:B,animate:W})=>Jt.createElement(wne,{placeholder:B,onClose:H,innerRef:C,animate:W,contextId:n,onTransitionEnd:D})),[n,D,e.placeholder,e.shouldAnimatePlaceholder,C]),I=Tt(()=>({innerRef:A,placeholder:P,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,P,A]),U=w?w.dragging.draggableId:null,K=Tt(()=>({droppableId:l,type:u,isUsingCloneFor:U}),[l,U,u]);function q(){if(!w)return null;const{dragging:H,render:B}=w,W=Jt.createElement(a6,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(X,Z)=>B(X,Z,H));return Aq.createPortal(W,j())}return Jt.createElement(jT.Provider,{value:K},o(I,k),q())};function kne(){return document.body||Le(),document.body}const AD={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:kne},c6=e=>{let t={...e},n;for(n in AD)e[n]===void 0&&(t={...t,[n]:AD[n]});return t},f1=(e,t)=>e===t.droppable.type,jD=(e,t)=>t.draggables[e.draggable.id],Ene=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=gr(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=gr((a,o,l,u,d,h)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===a){const k=h?{render:h,dragging:n(d.descriptor)}:null,w={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:k}}if(!o)return t;if(!u)return e;const y={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(a,o)=>{const l=c6(o),u=l.droppableId,d=l.type,h=!l.isDropDisabled,p=l.renderClone;if(Km(a)){const b=a.critical;if(!f1(d,b))return t;const y=jD(b,a.dimensions),k=Yi(a.impact)===u;return r(u,h,k,k,y,p)}if(a.phase==="DROP_ANIMATING"){const b=a.completed;if(!f1(d,b.critical))return t;const y=jD(b.critical,a.dimensions);return r(u,h,r6(b.result)===u,Yi(b.impact)===u,y,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const b=a.completed;if(!f1(d,b.critical))return t;const y=Yi(b.impact)===u,k=!!(b.impact.at&&b.impact.at.type==="COMBINE"),w=b.critical.droppable.id===u;return y?k?e:t:w?e:t}return t}},Tne={updateViewportMaxScroll:$Q},Tf=o4(Ene,Tne,(e,t,n)=>({...c6(n),...e,...t}),{context:ET,areStatePropsEqual:n6})(Sne),Ane={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Wm(e,t,n){const r=Ane[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function jne(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),l=e.getUTCSeconds(),u=(a-12)/24+o/1440+l/86400,d=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(d)-.032077*Math.sin(d)-.014615*Math.cos(2*d)-.040849*Math.sin(2*d))}function Nne(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function kp(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=Nne(i),o=4*(i-a),l=jne(r);return new Date(r.getTime()+(o+l)*60*1e3)}function u6(e){return e.replace(/\D/g,"")}function One(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function Cne(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function Af(e){const t=u6(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return One(n,r,i)?{y:n,m:r,d:i}:null}function Ep(e){const t=e.trim();if(!t||t==="")return null;const n=u6(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return Cne(r,i)?{hh:r,mm:i}:null}function Yv(e){const t=e.trim(),n=Af(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function qv(e){const t=e.trim();if(t==="")return"";const n=Ep(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var Fb={exports:{}},Mne=Fb.exports,ND;function Dne(){return ND||(ND=1,(function(e,t){(function(n,r){e.exports=r()})(Mne,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,l){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(l){return l&&l.__esModule?l:{default:l}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(W){return W&&W.__esModule?W:{default:W}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),l=a(o),u=i(3),d=a(u),h=i(4),p=a(h),b=i(5),y=a(b),k=i(6),w=a(k),S=i(7),j=a(S),O=i(8),A=a(O),C=i(9),D=a(C),P=i(10),I=a(P),U=i(11),K=a(U),q=i(12),H=a(q),B={lunarInfo:l.default,solarMonth:d.default,gan:p.default,zhi:y.default,animals:w.default,lunarTerm:j.default,lTermInfo:A.default,nStr1:D.default,nStr2:I.default,nStr3:K.default,nStr4:H.default,lYearDays:function(W){var X,Z=348;for(X=32768;X>8;X>>=1)Z+=B.lunarInfo[W-1900]&X?1:0;return Z+B.leapDays(W)},leapMonth:function(W){return 15&B.lunarInfo[W-1900]},leapDays:function(W){return B.leapMonth(W)?65536&B.lunarInfo[W-1900]?30:29:0},monthDays:function(W,X){return X>12||X<1?-1:B.lunarInfo[W-1900]&65536>>X?30:29},solarDays:function(W,X){if(X>12||X<1)return-1;var Z=X-1;return Z==1?W%4==0&&W%100!=0||W%400==0?29:28:B.solarMonth[Z]},toGanZhi:function(W){return B.gan[W%10]+B.zhi[W%12]},getTerm:function(W,X){if(W<1900||W>2100||X<1||X>24)return-1;var Z=B.lTermInfo[W-1900],Y=[parseInt("0x"+Z.substr(0,5)).toString(),parseInt("0x"+Z.substr(5,5)).toString(),parseInt("0x"+Z.substr(10,5)).toString(),parseInt("0x"+Z.substr(15,5)).toString(),parseInt("0x"+Z.substr(20,5)).toString(),parseInt("0x"+Z.substr(25,5)).toString()],J=[Y[0].substr(0,1),Y[0].substr(1,2),Y[0].substr(3,1),Y[0].substr(4,2),Y[1].substr(0,1),Y[1].substr(1,2),Y[1].substr(3,1),Y[1].substr(4,2),Y[2].substr(0,1),Y[2].substr(1,2),Y[2].substr(3,1),Y[2].substr(4,2),Y[3].substr(0,1),Y[3].substr(1,2),Y[3].substr(3,1),Y[3].substr(4,2),Y[4].substr(0,1),Y[4].substr(1,2),Y[4].substr(3,1),Y[4].substr(4,2),Y[5].substr(0,1),Y[5].substr(1,2),Y[5].substr(3,1),Y[5].substr(4,2)];return parseInt(J[X-1])},toChinaYear:function(W){var X=parseInt(W/1e3),Z=parseInt(W%1e3/100),Y=parseInt(W%100/10),J=W%10;return B.nStr4[X]+B.nStr4[Z]+B.nStr4[Y]+B.nStr4[J]+""},toChinaMonth:function(W){if(W>12||W<1)return-1;var X=B.nStr3[W-1];return X+=""},toChinaDay:function(W){var X;switch(W){case 10:X="";break;case 20:X="";break;case 30:X="";break;default:X=B.nStr2[Math.floor(W/10)],X+=B.nStr1[W%10]}return X},getAnimal:function(W){return B.animals[(W-4)%12]},solar2lunar:function(ce,ae,z){if(ce<1900||ce>2100||ce==1900&&ae==1&&z<31)return-1;if(ce)var Y=new Date(ce,parseInt(ae)-1,z);else var Y=new Date;var J,Oe=0,Q=0,ce=Y.getFullYear(),ae=Y.getMonth()+1,z=Y.getDate(),V=(Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate())-Date.UTC(1900,0,31))/864e5;for(J=1900;J<2101&&V>0;J++)Q=B.lYearDays(J),V-=Q;V<0&&(V+=Q,J--);var ne=new Date,oe=!1;ne.getFullYear()==ce&&ne.getMonth()+1==ae&&ne.getDate()==z&&(oe=!0);var ue=Y.getDay(),pe=B.nStr1[ue];ue==0&&(ue=7);var ye=J,Oe=B.leapMonth(J),ie=!1;for(J=1;J<13&&V>0;J++)Oe>0&&J==Oe+1&&ie==0?(--J,ie=!0,Q=B.leapDays(ye)):Q=B.monthDays(ye,J),ie==1&&J==Oe+1&&(ie=!1),V-=Q;V==0&&Oe>0&&J==Oe+1&&(ie?ie=!1:(ie=!0,--J)),V<0&&(V+=Q,--J);var Te=J,xe=V+1,se=ae-1,ze=B.getTerm(ce,3),Ye=B.toGanZhi(ce-4),Ze=new Date(ce,1,ze).getTime();new Date(ce,se,z).getTime()<Ze&&(Ye=B.toGanZhi(ce-5));var Ce=B.getTerm(ce,2*ae-1),Be=B.getTerm(ce,2*ae),De=B.toGanZhi(12*(ce-1900)+ae+11);z>=Ce&&(De=B.toGanZhi(12*(ce-1900)+ae+12));var Xe=!1,gt="";Ce==z&&(Xe=!0,gt=B.lunarTerm[2*ae-2]),Be==z&&(Xe=!0,gt=B.lunarTerm[2*ae-1]);var Mt=Date.UTC(ce,se,1,0,0,0,0)/864e5+25567+10,fe=B.toGanZhi(Mt+z-1);return{lYear:ye,lMonth:Te,lDay:xe,animal:B.getAnimal(ye),yearCn:B.toChinaYear(ye),monthCn:(ie&&Oe===Te?"":"")+B.toChinaMonth(Te),dayCn:B.toChinaDay(xe),cYear:ce,cMonth:ae,cDay:z,gzYear:Ye,gzMonth:De,gzDay:fe,isToday:oe,isLeap:ie,nWeek:ue,ncWeek:""+pe,isTerm:Xe,term:gt}},lunar2solar:function(W,X,Z,Y){var J=B.leapMonth(W);if(B.leapDays(W),Y&&J!=X||W==2100&&X==12&&Z>1||W==1900&&X==1&&Z<31)return-1;var Q=B.monthDays(W,X);if(W<1900||W>2100||Z>Q)return-1;for(var ce=0,ae=1900;ae<W;ae++)ce+=B.lYearDays(ae);for(var z=0,V=!1,ae=1;ae<X;ae++)z=B.leapMonth(W),V||z<=ae&&z>0&&(ce+=B.leapDays(W),V=!0),ce+=B.monthDays(W,ae);Y&&(ce+=Q);var ne=Date.UTC(1900,1,30,0,0,0),oe=new Date(864e5*(ce+Z-31)+ne),ue=oe.getUTCFullYear(),pe=oe.getUTCMonth()+1,ye=oe.getUTCDate();return B.solar2lunar(ue,pe,ye)}};r.default=B,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(Fb)),Fb.exports}var d6=Dne();const Pne=Si(d6),Rne=$E({__proto__:null,default:Pne},[d6]);function NT(e){return typeof e=="object"&&e!==null}function Lne(e){return NT(e)&&"default"in e}function Ine(e){return NT(e)&&typeof e.lunar2solar=="function"}function $ne(e){if(!NT(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function Bne(e){const t=Lne(e)?e.default:e;if(!Ine(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const l=t.lunar2solar(r,i,a,o);return $ne(l)}}}const zne=Bne(Rne);function Zi(e,t,n,r=4,i=0){const a=zne.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const OD=e=>e<10?`0${e}`:`${e}`;function jf(e){if(e.calendarType!=="lunar")return e;const t=Af(e.birthDay??"");if(!t)return e;try{const n=Zi(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${OD(i)}${OD(a)}`,calendarType:"solar"}}catch{return e}}function OT(e){const t=e.mingSikType??"/",n=Af(e.birthDay??"");if(!n){const C=e.corrected instanceof Date?e.corrected:new Date(NaN),D=typeof e.ganji=="string"?e.ganji:"",P=typeof e.ganjiText=="string"?e.ganjiText:D,I=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:C,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:D,ganjiText:P,dayStem:I}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const C=Zi(r,i,a,0,0);r=C.getFullYear(),i=C.getMonth()+1,a=C.getDate()}catch{}const o=Ep(e.birthTime??""),l=!e.birthTime||e.birthTime===""||!o,u=l?4:o.hh,d=l?30:o.mm,h=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,d,0,0),b=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",y=kp(p,h,b),k=l?"":y.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),w=ct(y,h),S=Et(y,h),j=ht(y,t),O=l?null:no(y,t),A=[` : ${w} ${S} ${j}`,O?`${O}`:null].filter(Boolean).join(" ");return{corrected:y,correctedLocal:k,ganji:A,ganjiText:A,dayStem:j.charAt(0)}}function CD(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function Tp(e){return(typeof e=="string"?e.trim():"")===""?"":""}function MD(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function Une(e){const t=MD(e.ganjiText)??MD(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=Tp(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function Vm(e){const t={...e,birthDay:Yv(e.birthDay??""),birthTime:e.birthTime===""?"":qv(e.birthTime??""),gender:Tp(e.gender),dateObj:CD(e.dateObj,new Date),corrected:CD(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=OT(t),r={...t,...n};return{...r,dir:Une(r)}}function Fne(e){return e===""||e==="/"||e===""?e:"/"}function Hne(e){return e==="lunar"?"lunar":"solar"}function Gne(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function Yne(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function CT(e,t){const r=Yv(typeof e=="string"?e:""),i=Af(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Zi(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function MT(e,t){if(t)return{ok:!0,value:""};const r=qv(typeof e=="string"?e:"");return Ep(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function f6(e,t){const n=t?.requireName??!1,r=Yne(e.name,n);if(!r.ok)return r;const i=Hne(e.calendarType),a=CT(e.birthDay,i);if(!a.ok)return a;const o=MT(e.birthTime,e.unknownTime);if(!o.ok)return o;const l=Fne(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:Tp(e.gender),sortOrder:e.sortOrder,birthPlace:Gne(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:l,DayChangeRule:l===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:Vm(u)}}function ql(e,t=0){const n=jf(e),r=Af(n.birthDay??"");if(!r)throw new Error(`Invalid date: ${e.birthDay}`);const i=Ep(n.birthTime??""),a=!i,o=a?4:i.hh,l=a?30:i.mm,u=new Date(r.y,r.m-1,r.d,o,l,0,0);if(Number.isNaN(u.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const d=!n.birthPlace||typeof n.birthPlace=="object"&&n.birthPlace.name==="",h=n.birthPlace?.lon??127.5,p=kp(u,h,d);return t!==0?new Date(p.getTime()+t*60*1e3):p}function qne(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function ou(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),l=a.localeCompare(o);return l!==0?l:t.id.localeCompare(n.id)})}function a2(e){if(!qne(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function h6(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:Yv(e.birth_day??""),birthTime:qv(e.birth_time??""),gender:Tp(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return Vm(i)}function Kne(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function DD(e,t){const n=Yv(e.birthDay??""),r=qv(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:Tp(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const o2="hm_session_started_at_ms",Wne=7200*1e3;function m6(){return typeof window>"u"?null:window.localStorage}function Vne(){const e=m6();if(!e)return Date.now();const t=e.getItem(o2),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(o2,String(r)),r}function p6(e=Date.now()){const t=m6();if(t)try{t.setItem(o2,String(e))}catch{}}function Zne(e=Date.now()){const t=Vne();return e-t>=Wne}const $g="myeongsik-list";function Xne(e){try{return JSON.parse(e)}catch{return null}}async function Jne(e){if(typeof window>"u")return;const t=window.localStorage.getItem($g);if(!t)return;const n=Xne(t);if(!n){window.localStorage.removeItem($g);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem($g);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),l=new Set(o.map(d=>d.id)),u=i.filter(d=>!!d&&typeof d.id=="string"&&d.id.trim()!==""&&!l.has(d.id));for(const d of u)await e.upsertOne(a.id,d);window.localStorage.removeItem($g)}const Qne=250;function ere(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function tre(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function nre(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const l=n;if(n=null,l.key&&l.key===i){l.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),l.resolve();continue}await e.upsertOrderPatch(u.id,l.list),i=l.key,l.resolve()}}finally{r=!1}}}tre(()=>{a()});function o(l,u){const d=ere(l);if(d&&d===i&&!n)return Promise.resolve();if(n)n.key=d,n.list=l;else{let h;const p=new Promise(b=>{h=b});n={key:d,list:l,promise:p,resolve:h}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},Qne),n.promise)}return{queue:o,flushNow:a}}const pr="__UNASSIGNED__",rre=[" ",""],Fl=e=>typeof e=="string"?e.trim():"",g6=e=>rre.includes(e);function $d(e,t){const n=[],r=[];for(const i of e){const a=Fl(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function Kv(e,t){const n=new Set(t.map(o=>Fl(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,l)=>{i[o]||(i[o]=[]),i[o].push(l)};for(const o of e){const l=String(o.id??"");if(!l||r.has(l))continue;r.add(l);const u=Fl(o.folder),d=!u||g6(u)?pr:n.has(u)?u:pr;a(d,o)}i[pr]||(i[pr]=[]);for(const o of t){const l=Fl(o);l&&(i[l]||(i[l]=[]))}return i}function DT(e,t){const n=[];for(const i of t){const a=Fl(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[pr];return Array.isArray(r)&&r.length&&n.push(...r),n}function ire(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=Kv(t,n),o=r.droppableId===pr?pr:r.droppableId,l=i.droppableId===pr?pr:i.droppableId,u=[...a[o]??[]],d=o===l?u:[...a[l]??[]],h=u[r.index];if(!h)return{nextList:t,changedIds:[]};u.splice(r.index,1);const b=o!==l&&l===pr,y=Math.max(0,Math.min(i.index,d.length)),k=b?d.length:y;o===l?u.splice(k,0,h):d.splice(k,0,h);const w=String(h.id),S=new Set([w]),j={...h,folder:l===pr?"":l};return a[o]=u,a[l]=o===l?u:d,a[l]=(a[l]??[]).map(O=>String(O.id)===w?j:O),{nextList:DT(a,n),changedIds:Array.from(S)}}function are(e){const{list:t,orderedFolders:n,targetId:r,nextFolder:i}=e,a=Kv(t,n),o=[...n.map(j=>Fl(j)),pr].filter(Boolean);let l=null,u=-1;for(const j of o){const A=(a[j]??[]).findIndex(C=>String(C.id)===r);if(A>=0){l=j,u=A;break}}if(!l||u<0)return{nextList:t,changedIds:[]};const d=[...a[l]??[]],h=d[u];if(!h)return{nextList:t,changedIds:[]};d.splice(u,1);const p=Fl(i),b=!p||g6(p)?pr:p,y=l!==b,k=y?[...a[b]??[]]:d,w=String(h.id),S={...h,folder:b===pr?"":b};return y?k.push(S):d.splice(u,0,S),a[l]=d,a[b]=y?k:d,{nextList:DT(a,n),changedIds:[w]}}function ore(e){const{list:t,targetId:n,orderedFolders:r}=e,i=Kv(t,r);let a=null,o=null;const l=[...r.map(y=>Fl(y)),pr].filter(Boolean);for(const y of l){const k=i[y]??[],w=k.findIndex(S=>String(S.id)===n);if(w>=0){a=y,o=k[w]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],d=u.findIndex(y=>String(y.id)===n);if(d<0)return{nextList:t,nextItem:null};const h=u[d],p=!h.favorite,b={...h,favorite:p};return u.splice(d,1),p?u.unshift(b):u.push(b),i[a]=u,{nextList:DT(i,r),nextItem:b}}function sre(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[],a=[],o=[];for(const l of t){if((l.folder??"").trim()!==r){a.push(l);continue}i.push(String(l.id)),o.push({...l,folder:""})}return{nextList:[...a,...o],changedIds:i}}function b6(e){return e.trim().length>0}const Xh=e=>e.toLowerCase().replace(/\s+/g," ").trim(),lre=e=>e.replace(/\D/g,""),cre=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=lre(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},ure=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},dre=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},PD=(e,t,n)=>{const r=Xh(t);if(!r)return!0;const i=Xh(typeof e.name=="string"?e.name:""),a=cre(e).map(Xh),o=ure(e).map(Xh),l=dre(e).map(Xh),u=h=>h.includes(r),d=h=>h.some(u);switch(n){case"name":return u(i);case"birth":return d(a);case"ganji":return d(o);case"memo":return d(l);case"all":default:return u(i)||d(a)||d(o)||d(l)}};function fre(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!b6(t)){const d={};for(const h of r){const p=typeof h=="string"?h.trim():"";p&&(d[p]=i[p]??[])}return{filteredGrouped:d,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((h,p)=>h+(i[p]?.length??0),0)}}const o={};let l=0;for(const d of r){const h=typeof d=="string"?d.trim():"";if(!h)continue;const b=(i[h]??[]).filter(y=>PD(y,t,n));o[h]=b,l+=b.length}const u=(a??[]).filter(d=>PD(d,t,n));return l+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:l}}function hre(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??pr).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??pr).toString(),index:e.destinationIndex}}}function mre(e,t){const n=String(t.eventType??""),r=a2(t.new),i=a2(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(d=>d.id!==a.id);const o=h6(a),u=e.some(d=>d.id===o.id)?e.map(d=>d.id===o.id?o:d):[...e,o];return ou(u)}async function pre(e){if(!e)return;const t=Re;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function gre(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function bre(){return{async getUser(){const{data:e,error:t}=await Re.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await Re.from("myeongsik").select(gre()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>a2(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=DD(t,e),{error:r}=await Re.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=DD(n,e),{error:i}=await Re.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await Re.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>Kne(i,e)),{error:r}=await Re.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=Re.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await pre(r)}}}}}function yre(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function Sm(e){if(!e)return"FREE";const t=yre(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function s2(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const Bg={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function vre(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function RD(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function LD(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function xre(e){return e?e.can_use_myo_viewer===!0:!1}async function wre(e){const{data:t,error:n}=await Re.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const fn=Go((e,t)=>({loaded:!1,loading:!1,userId:null,...Bg,reset:()=>{e({loaded:!1,loading:!1,userId:null,...Bg})},loadFromServer:async n=>{if(!t().loading){e({loading:!0});try{const{data:i,error:a}=await Re.auth.getUser(),o=i.user?.id??null;if(a||!o){e({...Bg,loaded:!0,userId:null});return}const l=t();if(!n?.force&&l.loaded&&l.userId===o)return;const u=await wre(o);if(!u){const O=s2("FREE");e({loaded:!0,userId:o,plan:"FREE",maxMyeongsik:O.maxMyeongsik===null?9999:O.maxMyeongsik,canManageMyeongsik:O.canManageMyeongsik,canUseLuckTabs:O.canUseLuckTabs,canUseMultiMode:O.canUseMultiMode,canUseAllPrompts:O.canUseAllPrompts,canUseAdvancedReport:O.canUseAdvancedReport,canRemoveAds:O.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const d=RD(u.starts_at??null),h=RD(u.expires_at??null),p=LD(d,h),b=Sm(u.plan??null),y=p?b:"FREE",k=s2(y),w=k.maxMyeongsik===null?9999:k.maxMyeongsik,S=vre(u.max_myeongsik,w),j=Math.max(1,Math.max(S,w));e({loaded:!0,userId:o,plan:y,maxMyeongsik:j,canManageMyeongsik:k.canManageMyeongsik,canUseLuckTabs:k.canUseLuckTabs,canUseMultiMode:k.canUseMultiMode,canUseAllPrompts:k.canUseAllPrompts,canUseAdvancedReport:k.canUseAdvancedReport,canRemoveAds:k.canRemoveAds,canUseMyoViewer:xre(u),startsAt:d,expiresAt:h})}catch(i){console.error("loadFromServer(entitlements) exception:",i),e({...Bg,loaded:!0,userId:null})}finally{e({loading:!1})}}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return LD(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,l=Math.floor(a/60),u=l%24,d=Math.floor(l/24),h=[];return d>0&&h.push(`${d}`),u>0&&h.push(`${u}`),d===0&&o>0&&h.push(`${o}`),h.length===0&&h.push(`${i}`),h.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),PT="guest_myeongsik_v1";function y6(e){return typeof e=="object"&&e!==null}function l2(e,t){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const n=Number(e);if(Number.isFinite(n))return n}return t}function Li(e,t=""){return typeof e=="string"?e:t}function _re(e,t=!1){return typeof e=="boolean"?e:t}function Sre(e){return y6(e)?{name:Li(e.name,""),lat:l2(e.lat,0),lon:l2(e.lon,0)}:{name:"",lat:0,lon:0}}function kre(e){return{id:e.id,sortOrder:typeof e.sortOrder=="number"?e.sortOrder:1,name:e.name??"",birthDay:e.birthDay??"",birthTime:e.birthTime??"",gender:e.gender??"",birthPlace:e.birthPlace??{name:"",lat:0,lon:0},relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:e.mingSikType??"/",DayChangeRule:e.DayChangeRule??"",favorite:!!e.favorite,calendarType:e.calendarType??"solar",dir:e.dir??"forward"}}function Ere(e){if(!y6(e))return null;const t={id:Li(e.id,""),sortOrder:l2(e.sortOrder,1),name:Li(e.name,""),birthDay:Li(e.birthDay,""),birthTime:Li(e.birthTime,""),gender:Li(e.gender,""),birthPlace:Sre(e.birthPlace),relationship:Li(e.relationship,""),memo:Li(e.memo,""),folder:Li(e.folder,""),mingSikType:Li(e.mingSikType,"/"),DayChangeRule:Li(e.DayChangeRule,""),favorite:_re(e.favorite,!1),calendarType:Li(e.calendarType,"solar"),dir:Li(e.dir,"forward")};return t.id?Vm(t):null}function v6(){try{const e=localStorage.getItem(PT);if(!e)return[];const t=JSON.parse(e);if(!Array.isArray(t))return[];const n=t.map(Ere).filter(r=>r!==null);return ou(n)}catch{return[]}}function Cl(e){try{const t=e.map(kre);localStorage.setItem(PT,JSON.stringify(t))}catch{}}function x6(){try{localStorage.removeItem(PT)}catch{}}const Ss=Go(e=>({open:!1,reason:"HEADER",openWith:t=>e({open:!0,reason:t}),close:()=>e({open:!1})})),Fn=bre(),Tre=nre(Fn);function Gc(){const t=fn.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function Are(e){const n=fn.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}async function ID(e){const t=v6();if(t.length)try{for(const n of t)await Fn.upsertOne(e,n);x6()}catch(n){console.warn("[myeongsik] migrateGuestListToServerIfAny failed:",n)}}const vn=Go((e,t)=>({loading:!1,loaded:!1,loadedUserId:null,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(Zne()){p6(Date.now()),window.location.reload();return}const n=await Fn.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Fn.subscribe(n.id,i=>{e(a=>({list:mre(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{if(!t().loading){e({loading:!0});try{const n=await Fn.getUser(),r=t();if(n&&r.loaded&&r.loadedUserId===n.id){e({loading:!1});return}if(!n){const u=v6(),d=u[0]?.id??null;e({list:u,currentId:d,loaded:!0,loadedUserId:null}),await t().stopRealtime();return}await ID(n.id);const i=await Fn.fetchRows(n.id),a=ou(i.map(h6)),o=t().currentId,l=o&&a.some(u=>u.id===o)?o:a[0]?.id??null;e({list:a,currentId:l,loaded:!0,loadedUserId:n.id}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}}},migrateLocalToServer:async()=>{try{await Jne(Fn);const n=await Fn.getUser();n&&await ID(n.id)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Fn.getUser(),i=t().list.length;if(!Are(i)){r||Ss.getState().openWith("ADD_LIMIT");return}const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},l=Vm(o),u=t().list,d=ou([...u,l]),h=t().currentId??l.id;if(e({list:d,currentId:h}),!r){Cl(d),d.length===1&&Ss.getState().openWith("PERSIST_SAVE");return}await Fn.upsertOne(r.id,l)},update:async(n,r)=>{const i=await Fn.getUser();if(i&&!Gc())return;const a=t().list.find(u=>u.id===n);if(!a)return;const o=Vm({...a,...r}),l=ou(t().list.map(u=>u.id===n?o:u));if(e({list:l}),!i){Cl(l);return}await Fn.updateOne(i.id,n,o)},remove:async n=>{const r=await Fn.getUser();if(r&&!Gc())return;const a=t().list.filter(l=>l.id!==n),o=t().currentId===n?a[0]?.id??null:t().currentId;if(e({list:a,currentId:o}),!r){Cl(a);return}await Fn.softDelete(n)},moveItemByDnD:async n=>{const r=t().list,i=hre(n),o=ire({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o});const l=await Fn.getUser();if(l&&!Gc()){e({list:r});return}if(!l){Cl(o);return}await t().reorder(o)},applyNextList:async n=>{const r=t().list;e({list:n});const i=await Fn.getUser();if(i&&!Gc()){e({list:r});return}if(!i){Cl(n);return}await t().reorder(n)},toggleFavoriteWithReorder:async(n,r)=>{const i=await Fn.getUser();if(i&&!Gc())return;const o=ore({list:t().list,targetId:n,orderedFolders:r}).nextList;if(e({list:o}),!i){Cl(o);return}await t().reorder(o)},unsetFolderForFolder:async n=>{const r=await Fn.getUser();if(r&&!Gc())return;const i=(n??"").trim();if(!i)return;const a=t().list,o=sre({list:a,folderName:i}),l=ou(o.nextList),u=new Set(o.changedIds);if(u.size===0)return;if(e({list:l}),!r){Cl(l);return}const d=l.filter(h=>u.has(h.id));await Fn.upsertOrderPatch(r.id,d)},reorder:async n=>{const r=await Fn.getUser();if(r&&!Gc())return;const i=n.map((o,l)=>({...o,sortOrder:l+1})),a=ou(i);if(e({list:a}),!r){Cl(a);return}await Tre.queue(a)},clear:()=>{e({currentId:null,list:[],loaded:!1,loadedUserId:null}),x6()}})),$D="__custom__",zg=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],w6=({value:e,onChange:t})=>{const[n,r]=_.useState(zg),[i,a]=_.useState(""),[o,l]=_.useState(!1),[u,d]=_.useState(""),[h,p]=_.useState(!1),{list:b}=vn(),y=(e??i??"").trim(),k=y==="",w=b.some(P=>(P.relationship??"").trim()===""),S=w&&!k?n.filter(P=>P.value!==""):n,j=_.useMemo(()=>{const P=S.find(I=>I.value==="");return P?[P,...S.filter(I=>I.value!=="")]:S},[S]);_.useEffect(()=>{e!==void 0&&a(e)},[e]),_.useEffect(()=>{y||w||(a(""),t?.(""))},[y,w,t]);const O=P=>{const I=P.target.value;I===$D?(l(!0),a(""),t?.("")):(l(!1),d(""),a(I),t?.(I))};_.useEffect(()=>{const P=localStorage.getItem("relationshipOptions");if(P)try{const I=JSON.parse(P),U=new Set,K=[...I,...zg].filter(q=>!q||!q.value||U.has(q.value)?!1:(U.add(q.value),!0));r(K)}catch{r(zg)}},[]),_.useEffect(()=>{(async()=>{const{data:{user:I},error:U}=await Re.auth.getUser();if(U||!I)return;const{data:K,error:q}=await Re.from("user_settings").select("payload").eq("user_id",I.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const H=K?.payload?.relationshipOptions;if(!Array.isArray(H))return;const B=H.map(W=>W&&typeof W=="object"&&typeof W.value=="string"&&typeof W.label=="string"?{value:W.value,label:W.label}:typeof W=="string"?{value:W,label:W}:null).filter(W=>!!W);B.length&&r(W=>{const X=new Set,Z=[...B,...W,...zg].filter(Y=>X.has(Y.value)?!1:(X.add(Y.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(Z)),Z})})()},[]),_.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:I},error:U}=await Re.auth.getUser();if(U||!I)return;const{data:K,error:q}=await Re.from("user_settings").select("payload").eq("user_id",I.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const H={...K?.payload??{},relationshipOptions:n},{error:B}=await Re.from("user_settings").upsert({user_id:I.id,payload:H,updated_at:new Date().toISOString()});B&&console.error("save relationships settings error",B.message)})()},[n]);const A=()=>{const P=u.trim();if(!P)return;const I={value:P,label:P};r(U=>[...U,I]),a(P),t?.(P),d(""),l(!1)},C=P=>{r(n.filter(I=>I.value!==P)),i===P&&a("")},D=P=>{if(!P.destination)return;const I=Array.from(n),[U]=I.splice(P.source.index,1);I.splice(P.destination.index,0,U),r(I)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:O,children:[g.jsx("option",{value:"",hidden:!0,children:" "}),j.map(P=>g.jsx("option",{value:P.value,children:P.label},P.value)),g.jsx("option",{value:$D,children:" "})]}),g.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:" "})]}),o&&!h&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:"  ",value:u,onChange:P=>d(P.target.value)}),g.jsx("button",{type:"button",onClick:A,className:"btn_style",children:" "})]}),h&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:" "}),g.jsx(Sp,{onDragEnd:D,children:g.jsx(Tf,{droppableId:"relList",children:P=>g.jsxs("ul",{ref:P.innerRef,...P.droppableProps,className:"space-y-1",children:[n.map((I,U)=>g.jsx(Ef,{draggableId:I.value,index:U,children:K=>g.jsxs("li",{ref:K.innerRef,...K.draggableProps,...K.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:I.label}),g.jsx("button",{type:"button",className:"text-red-500 cursor-pointer",onClick:()=>C(I.value),children:""})]})},I.value)),P.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},yn=" ",_6=["","","","","",""],S6="ms_folders",k6="ms_folder_order",BD="ms_folder_favs",c2="ms_disabled_presets",Kl="myeoun:folder-updated";function hu(e){if(e!==yn)return e||void 0}function Wv(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function RT(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function jre(){const e=Wv(c2);return _6.filter(t=>!e.includes(t))}function LT(){return Wv(S6)}function IT(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];RT(S6,t),typeof window<"u"&&window.dispatchEvent(new Event(Kl))}function xy(){const e=jre(),t=LT(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function Nre(){return[yn,...xy()]}function E6(e){const t=e.trim();if(!t||t===yn)return;const n=LT();if(n.includes(t))return;const r=[...n,t];IT(r)}function Ore(e){const t=LT(),n=t.filter(r=>r!==e);n.length!==t.length&&IT(n)}function Cre(e){const t=Wv(c2);if(t.includes(e))return;const n=[...t,e];RT(c2,n),typeof window<"u"&&window.dispatchEvent(new Event(Kl))}function wy(){return Wv(k6)}function Bd(e){RT(k6,e),typeof window<"u"&&window.dispatchEvent(new Event(Kl))}function Cm(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function Mre(e){return Array.from(new Set(e))}function Ug(e){const t=e.filter(n=>n!==yn);return{rest:t,withUnassigned:[yn,...t]}}function Dre(e,t){return Cm(t,e)}function Pre({value:e,onChange:t}){const[n,r]=_.useState([yn]),[i,a]=_.useState(!1),[o,l]=_.useState(""),[u,d]=_.useState(!1),h=_.useCallback(async S=>{const{data:{user:j},error:O}=await Re.auth.getUser();if(O||!j)return;const A=S.map((D,P)=>({user_id:j.id,folder_name:D,sort_order:P+1,updated_at:new Date().toISOString()})),{error:C}=await Re.from("user_folder_order").upsert(A,{onConflict:"user_id,folder_name"});C&&console.error("save folder order error",C.message)},[]),p=_.useCallback(()=>{if(typeof window>"u")return;const S=Mre(Nre()),j=S.includes(yn)?S:[yn,...S],{rest:O}=Ug(j),A=wy(),C=Dre(A,O),D=[yn,...C];r(D),A.length===C.length&&A.every((I,U)=>I===C[U])||(Bd(C),h(C))},[h]);_.useEffect(()=>{if(p(),typeof window<"u"){const S=()=>p();return window.addEventListener(Kl,S),()=>window.removeEventListener(Kl,S)}},[p]);const b=_.useMemo(()=>e||yn,[e]),y=S=>{const{rest:j}=Ug(S);Bd(j),h(j)},k=S=>{const{source:j,destination:O}=S;if(!O||O.index===j.index)return;const{rest:A}=Ug(n),C=Array.from(A),[D]=C.splice(j.index,1);C.splice(O.index,0,D);const P=[yn,...C];r(P),y(P)},w=S=>{const j=hu(S);j&&(E6(j),p())};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":b,onChange:S=>{const j=S.target.value;if(j==="__custom__"){a(!0),t(void 0);return}a(!1),t(hu(j))},children:[n.map(S=>g.jsx("option",{value:S,children:S},S)),g.jsx("option",{value:"__custom__",children:"+   "})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>d(S=>!S),children:u?" ":" "})]}),i&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:o,onChange:S=>l(S.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const S=o.trim();S&&(w(S),t(hu(S)),a(!1),l(""))},children:""})]}),u&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:""}),g.jsxs("span",{className:"flex-1 px-2",children:[yn," ()"]})]}),g.jsx(Sp,{onDragEnd:k,children:g.jsx(Tf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:S=>g.jsxs("ul",{ref:S.innerRef,...S.droppableProps,className:"space-y-1",children:[Ug(n).rest.map((j,O)=>g.jsx(Ef,{draggableId:j,index:O,children:A=>g.jsxs("li",{ref:A.innerRef,...A.draggableProps,...A.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:j})]})},j)),S.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['   "',yn,'" .      .']})]})}function T6({message:e,onClose:t,ms:n=2e3}){return _.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const zD=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Rre=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Lre=["","/",""],Ire=["",""],A6={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function $re(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function Bre(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function zre(){const[e,t]=_.useState(0),[n,r]=_.useState({...A6}),[i,a]=_.useState(null),[o,l]=_.useState(!1),[u,d]=_.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d}}function Ure({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){_.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function Fre(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Zi(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function Hre(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):yn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function Gre({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=zD[r],a=_.useMemo(()=>Fre(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:zD,currentStep:i,lunarPreview:a,displayValue:l=>Hre(l,e,t,n),CALENDAR_OPTIONS:Rre,MING_OPTIONS:Lre,GENDER_OPTIONS:Ire,nextIndex:$re,focusById:Bre,isDST:Wm}}function Yre(){return{add:vn(t=>t.add)}}const Ar=[];for(let e=0;e<256;++e)Ar.push((e+256).toString(16).slice(1));function qre(e,t=0){return(Ar[e[t+0]]+Ar[e[t+1]]+Ar[e[t+2]]+Ar[e[t+3]]+"-"+Ar[e[t+4]]+Ar[e[t+5]]+"-"+Ar[e[t+6]]+Ar[e[t+7]]+"-"+Ar[e[t+8]]+Ar[e[t+9]]+"-"+Ar[e[t+10]]+Ar[e[t+11]]+Ar[e[t+12]]+Ar[e[t+13]]+Ar[e[t+14]]+Ar[e[t+15]]).toLowerCase()}let h1;const Kre=new Uint8Array(16);function Wre(){if(!h1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");h1=crypto.getRandomValues.bind(crypto)}return h1(Kre)}const Vre=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),UD={randomUUID:Vre};function j6(e,t,n){if(UD.randomUUID&&!e)return UD.randomUUID();e=e||{};const r=e.random??e.rng?.()??Wre();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,qre(r)}function Zre(e,t,n){const r=hu(e.folder);return f6({id:j6(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function Xre(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=CT(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=MT(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function Jre({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d,setToast:h,onSave:p}){const{add:b}=Yre(),y=_.useCallback(()=>{const w=Xre(a,e,o,u);if(!w.ok){h(w.message??" .");return}if(w.nextForm&&(t(w.nextForm),w.message&&h(w.message)),n<i-1){r(n+1);return}const S=Zre(e,o,u);if(!S.ok){h(S.message);return}const j=S.value;b(j),p(j),h(" !"),t({...A6}),l(!1),d(!1),r(0)},[a,e,o,u,h,t,n,i,r,b,p,l,d]),k=_.useCallback(w=>{if(w.key!=="Enter")return;const S=w.target,j=S.getAttribute("role");if(j==="radio"||j==="checkbox")return;const O=document.getElementById("mapModal");if(O&&O.contains(S))return;const A=S.tagName.toLowerCase(),C=S instanceof HTMLInputElement?S.type:"";if(A==="textarea"){if(w.shiftKey)return;w.preventDefault(),y();return}if(C==="radio"||C==="checkbox"){w.preventDefault(),S instanceof HTMLInputElement&&S.click();return}A==="button"&&S.type!=="submit"||(w.preventDefault(),y())},[y]);return{handleNext:y,handleFormKeyDown:k}}function Qre({onSave:e}){const t=zre(),n=Gre({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});Ure({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=Jre({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function eie({onSave:e,onClose:t}){const n=Qre({onSave:e});return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&g.jsx(T6,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>g.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:r.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[g.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:l=>{if(l.stopPropagation(),l.key===" "||l.key==="Enter"){l.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(l.key))return;l.preventDefault();const d=n.CALENDAR_OPTIONS.findIndex(b=>b.value===n.form.calendarType),h=n.nextIndex(d<0?0:d,n.CALENDAR_OPTIONS.length,l.key),p=n.CALENDAR_OPTIONS[h].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[h].id}_lbl`)},onClick:l=>{l.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",d=n.MING_OPTIONS.indexOf(u),h=n.nextIndex(d,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[h];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",d=n.GENDER_OPTIONS.indexOf(u),h=n.nextIndex(d,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[h];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(XB,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&g.jsx(w6,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&g.jsx(Pre,{value:hu(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var Fg={},FD;function tie(){if(FD)return Fg;FD=1,Fg.match=a,Fg.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(h,p){return o(h).some(function(b){var y=b.inverse,k=b.type==="all"||p.type===b.type;if(k&&y||!(k||y))return!1;var w=b.expressions.every(function(S){var j=S.feature,O=S.modifier,A=S.value,C=p[j];if(!C)return!1;switch(j){case"orientation":case"scan":return C.toLowerCase()===A.toLowerCase();case"width":case"height":case"device-width":case"device-height":A=d(A),C=d(C);break;case"resolution":A=u(A),C=u(C);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":A=l(A),C=l(C);break;case"grid":case"color":case"color-index":case"monochrome":A=parseInt(A,10)||1,C=parseInt(C,10)||0;break}switch(O){case"min":return C>=A;case"max":return C<=A;default:return C===A}});return w&&!y||!w&&y})}function o(h){return h.split(",").map(function(p){p=p.trim();var b=p.match(e),y=b[1],k=b[2],w=b[3]||"",S={};return S.inverse=!!y&&y.toLowerCase()==="not",S.type=k?k.toLowerCase():"all",w=w.match(/\([^\)]+\)/g)||[],S.expressions=w.map(function(j){var O=j.match(t),A=O[1].toLowerCase().match(n);return{modifier:A[1],feature:A[2],value:O[2]}}),S})}function l(h){var p=Number(h),b;return p||(b=h.match(/^(\d+)\s*\/\s*(\d+)$/),p=b[1]/b[2]),p}function u(h){var p=parseFloat(h),b=String(h).match(i)[1];switch(b){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function d(h){var p=parseFloat(h),b=String(h).match(r)[1];switch(b){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return Fg}var m1,HD;function nie(){if(HD)return m1;HD=1;var e=tie().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var l=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=d,this.removeListener=h,this.dispose=b;function d(y){u&&u.addListener(y)}function h(y){u&&u.removeListener(y)}function p(y){l.matches=y.matches,l.media=y.media}function b(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return m1=r,m1}var rie=nie();const iie=Si(rie);var aie=/[A-Z]/g,oie=/^ms-/,p1={};function sie(e){return"-"+e.toLowerCase()}function N6(e){if(p1.hasOwnProperty(e))return p1[e];var t=e.replace(aie,sie);return p1[e]=oie.test(t)?"-"+t:t}function lie(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var g1={exports:{}},b1,GD;function cie(){if(GD)return b1;GD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return b1=e,b1}var y1,YD;function uie(){if(YD)return y1;YD=1;var e=cie();function t(){}function n(){}return n.resetWarningCache=t,y1=function(){function r(o,l,u,d,h,p){if(p!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},y1}var qD;function die(){return qD||(qD=1,g1.exports=uie()()),g1.exports}var fie=die();const Pt=Si(fie),Wr=Pt.oneOfType([Pt.string,Pt.number]),O6={all:Pt.bool,grid:Pt.bool,aural:Pt.bool,braille:Pt.bool,handheld:Pt.bool,print:Pt.bool,projection:Pt.bool,screen:Pt.bool,tty:Pt.bool,tv:Pt.bool,embossed:Pt.bool},hie={orientation:Pt.oneOf(["portrait","landscape"]),scan:Pt.oneOf(["progressive","interlace"]),aspectRatio:Pt.string,deviceAspectRatio:Pt.string,height:Wr,deviceHeight:Wr,width:Wr,deviceWidth:Wr,color:Pt.bool,colorIndex:Pt.bool,monochrome:Pt.bool,resolution:Wr,type:Object.keys(O6)},{type:TCe,...mie}=hie,pie={minAspectRatio:Pt.string,maxAspectRatio:Pt.string,minDeviceAspectRatio:Pt.string,maxDeviceAspectRatio:Pt.string,minHeight:Wr,maxHeight:Wr,minDeviceHeight:Wr,maxDeviceHeight:Wr,minWidth:Wr,maxWidth:Wr,minDeviceWidth:Wr,maxDeviceWidth:Wr,minColor:Pt.number,maxColor:Pt.number,minColorIndex:Pt.number,maxColorIndex:Pt.number,minMonochrome:Pt.number,maxMonochrome:Pt.number,minResolution:Wr,maxResolution:Wr,...mie},gie={...O6,...pie};var bie={all:gie};const yie=e=>`not ${e}`,vie=(e,t)=>{const n=N6(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?yie(n):`(${n}: ${t})`},xie=e=>e.join(" and "),wie=e=>{const t=[];return Object.keys(bie.all).forEach(n=>{const r=e[n];r!=null&&t.push(vie(n,r))}),xie(t)},_ie=_.createContext(void 0),Sie=e=>e.query||wie(e),KD=e=>e?Object.keys(e).reduce((n,r)=>(n[N6(r)]=e[r],n),{}):void 0,C6=()=>{const e=_.useRef(!1);return _.useEffect(()=>{e.current=!0},[]),e.current},kie=e=>{const t=_.useContext(_ie),n=()=>KD(e)||KD(t),[r,i]=_.useState(n);return _.useEffect(()=>{const a=n();lie(r,a)||i(a)},[e,t]),r},Eie=e=>{const t=()=>Sie(e),[n,r]=_.useState(t);return _.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},Tie=(e,t)=>{const n=()=>iie(e,t||{},!!t),[r,i]=_.useState(n),a=C6();return _.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},Aie=e=>{const[t,n]=_.useState(e.matches);return _.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},jie=(e,t,n)=>{const r=kie(t),i=Eie(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=Tie(i,r),o=Aie(a);return C6(),_.useEffect(()=>{},[o]),_.useEffect(()=>()=>{a&&a.dispose()},[]),o},M6={Classic:"",Modern:""};function Yo(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function Nie(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function Oie(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function Cie(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function Mie(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function qo(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?Nie(t,n):Oie(t,n):i?Cie(t,n):Mie(t,n)}const Qr=Go()(k$((e,t)=>{const n=new Date,r="/",i=127.5,a=0,o=(b,y)=>y?new Date(b.getTime()+y*60*1e3):b,l=i,u=o(n,a),d=ct(u,l),h=Et(u,l),p=ht(u,r);return{date:n,scope:"",rule:r,lon:i,dstOffsetMinutes:a,yearGZ:d,monthGZ:h,dayGZ:p,setDate:b=>{const{rule:y,lon:k,dstOffsetMinutes:w}=t(),S=typeof k=="number"?k:void 0,j=o(b,w);e({date:b,yearGZ:ct(j,S),monthGZ:Et(j,S),dayGZ:ht(j,y)})},resetDate:()=>{const{rule:b,lon:y,dstOffsetMinutes:k}=t(),w=new Date,S=typeof y=="number"?y:void 0,j=o(w,k);e({date:w,yearGZ:ct(j,S),monthGZ:Et(j,S),dayGZ:ht(j,b)})},resetMonth:()=>{const{lon:b,dstOffsetMinutes:y}=t(),k=new Date,w=typeof b=="number"?b:void 0,S=o(k,y);e({date:k,monthGZ:Et(S,w)})},setScope:b=>e({scope:b}),setRule:b=>{const{date:y,lon:k,dstOffsetMinutes:w}=t(),S=typeof k=="number"?k:void 0,j=o(y,w);e({rule:b,yearGZ:ct(j,S),monthGZ:Et(j,S),dayGZ:ht(j,b)})},setLon:b=>{const{date:y,rule:k,dstOffsetMinutes:w}=t(),S=typeof b=="number"?b:void 0,j=o(y,w);e({lon:b,yearGZ:ct(j,S),monthGZ:Et(j,S),dayGZ:ht(j,k)})},setDstOffsetMinutes:b=>{const{date:y,rule:k,lon:w}=t(),S=typeof w=="number"?w:void 0,j=o(y,b);e({dstOffsetMinutes:b,yearGZ:ct(j,S),monthGZ:Et(j,S),dayGZ:ht(j,k)})},setFromEvent:(b,y)=>{const{rule:k,lon:w,dstOffsetMinutes:S}=t(),j=typeof w=="number"?w:void 0,O=o(b.at,S);e({date:b.at,scope:y,yearGZ:ct(O,j),monthGZ:Et(O,j),dayGZ:ht(O,k)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),Die=60*1e3,D6=60*Die,Pie=24*D6,Rie=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},u2=e=>{const t=new Date(e);return t.setSeconds(0,0),t},Hb={HOUR:D6,DAY:Pie},_i=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(l=>({name:l.name,date:jn(t,l.deg)})).concat([{name:r.name,date:jn(t+1,r.deg)},{name:"",date:jn(t+1,285)}]),a=jn(t,315),o=jn(t+1,315);return i.filter(l=>l.date>=a&&l.date<o).sort((l,u)=>l.date.getTime()-u.date.getTime())},P6=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${Jr[t%10]}${xi[t%12]}`);return e})(),Lie=e=>{const t=P6.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},_y=(e,t,n=1)=>{const r=Lie(e),i=t==="forward"?n:-n;return P6[(r+i+60*1e3)%60]},kd=2*Hb.HOUR,WD=e=>(Math.floor((e+1)/2)*2-1+24)%24,Iie=(e,t)=>{const n=e.getHours(),r=WD(n),i=new Date(e);i.setHours(r,0,0,0),i.getTime()>e.getTime()&&i.setTime(i.getTime()-kd);const a=new Date(i.getTime()+kd),o=e.getTime()-i.getTime(),l=a.getTime()-e.getTime();if(o<0||o>kd||l<0||l>kd){const u=new Date(e);for(u.setHours(WD(e.getHours()),0,0,0);u.getTime()>e.getTime();)u.setTime(u.getTime()-kd);const d=new Date(u.getTime()+kd),h=e.getTime()-u.getTime(),p=d.getTime()-e.getTime();return t==="backward"?h:p}return t==="backward"?o:l},R6=(e,t,n,r=120)=>{const i=u2(e),a=Iie(i,n),o=10*Hb.DAY/(2*Hb.HOUR),l=u2(new Date(i.getTime()+a*o)),u=Rie(e,r).getTime(),d=[];let h=_y(t,n,1);for(let p=l.getTime();p<=u;p+=10*Hb.DAY)d.push({at:new Date(p),gz:h}),h=_y(h,n,1);return{firstChange:l,events:d}},L6=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},I6=(e,t,n,r)=>{const i=L6(r,n);let a=t;const o=[];for(const l of e.events){const u=l.gz.charAt(1);i(u)&&(a=_y(a,n,1),o.push({at:l.at,gz:a}))}return{events:o}},d2=7200*1e3,$ie=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=Jr.indexOf(r),o=xi.indexOf(i),l=t==="forward"?n:-n,u=(a+l%10+10)%10,d=(o+l%12+12)%12;return Jr[u]+xi[d]},Bie=e=>(Math.floor((e+1)/2)*2-1+24)%24,zie=e=>{const t=e.getHours(),n=Bie(t),r=new Date(e);return r.setHours(n,0,0,0),r.getTime()>e.getTime()&&r.setTime(r.getTime()-d2),r},Uie=(e,t)=>{const n=_i(e).sort((p,b)=>p.date.getTime()-b.date.getTime()),r=e.getTime();let i;if(t==="forward"){let p=n.find(b=>b.date.getTime()>r);if(!p){const b=new Date(e.getFullYear()+1,0,2,12,0,0,0);p=_i(b).sort((k,w)=>k.date.getTime()-w.date.getTime()).find(k=>k.date.getTime()>r)}if(!p)throw new Error("    .");i=p.date}else{let p=n.filter(b=>b.date.getTime()<r);if(p.length===0){const b=new Date(e.getFullYear()-1,11,31,12,0,0,0);p=_i(b).sort((k,w)=>k.date.getTime()-w.date.getTime()).filter(k=>k.date.getTime()<r)}if(p.length===0)throw new Error("    .");i=p[p.length-1].date}const a=zie(e),o=t==="forward"?d2:-d2,l=i.getTime();let u=new Date(a.getTime()),d=0;const h=365*24/2;for(;d<h;){const p=u.getTime();if(t==="forward"){if(p>=l)return u}else if(p<=l)return u;u=new Date(u.getTime()+o),d++}throw new Error("     .")},Fie=(e,t)=>{const i=Math.abs(t.getTime()-e.getTime())*120;return new Date(e.getTime()+i)},Ap=(e,t,n,r=120,i)=>{console.log(i);const a=Uie(e,n),o=Fie(e,a),l=Math.floor(r/10),u=[];for(let d=0;d<l;d++){const h=new Date(o);h.setFullYear(h.getFullYear()+d*10),h.setSeconds(0,0);const p=$ie(t,n,d+1);u.push({at:h,gz:p})}return u.sort((d,h)=>d.at.getTime()-h.at.getTime()),{natalMonthPillar:t,firstChange:o,mPillars:[],events:u}},Hie=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},$6=(e,t,n,r,i)=>{const a=L6(r,n);let o=t;const l=[];for(const u of e.events){const d=u.gz.charAt(1);a(d)&&(o=_y(o,n,1),l.push({at:u.at,gz:o,age:Hie(i,u.at)}))}return{events:l}},Gie=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},Vv=(e,t)=>{const n=Gie(e),r=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",i=kp(n,e.birthPlace?.lon??null,r),a=t?.dstOffsetMinutes??0,o=a!==0?new Date(i.getTime()+a*60*1e3):i;return u2(o)},$T=(e,t,n)=>{const r=e.birthPlace?.lon??127.5,i=Vv(e,n),a=ht(i,t),o=no(i,t,a.charAt(0));return{year:ct(i,r),month:Et(i,r),day:a,hour:o}},Yie=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${Jr[t%10]}${xi[t%12]}`);return e})(),qie=e=>Yie.indexOf(e),v1=e=>{if(qie(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function Kie(e,t="/",n=0){const r=_.useMemo(()=>jf(e),[e]),i=_.useMemo(()=>Vv(r,{dstOffsetMinutes:n}),[r,n]),a=_.useMemo(()=>$T(r,t,{dstOffsetMinutes:n}),[r,t,n]);return _.useMemo(()=>{const o=Ap(i,a.month,r.dir,120,r?.birthPlace?.lon??127.5),l=new Date;function u(C,D){let P=null;const I=D.getTime();for(const U of C)if(U.at.getTime()<=I)P=U;else break;return P}const d=u(o.events,l)?.gz??a.month,h=v1(d),p=l.getFullYear(),b=jn(p,315),k=b&&l>=b?p:p-1,w=ct(new Date(k,1,10,0,0,0),127.5),S=v1(w),j=Et(l,127.5),O=v1(j),A=[];return O&&A.push({key:"wolun",label:"",data:O}),S&&A.push({key:"seun",label:"",data:S}),h&&A.push({key:"daeun",label:"",data:h}),A},[i,r.dir,a.month,r.birthPlace?.lon])}function Nu(e,t="/",n=100,r=0){const i=_.useMemo(()=>jf(e),[e]),a=_.useMemo(()=>Vv(i,{dstOffsetMinutes:r}),[i,r]),o=_.useMemo(()=>$T(i,t,{dstOffsetMinutes:r}),[i,t,r]),l=(d,h)=>(h.getTime()-d.getTime())/(365.2425*24*60*60*1e3),u=d=>d<1?1+d:d;return _.useMemo(()=>{const d=Ap(a,o.month,i.dir,n,i.birthPlace?.lon??127.5),h={at:a,gz:d.natalMonthPillar},p=d.events[0]?l(a,d.events[0].at):0,b=u(p);return[h,...d.events].map((y,k)=>{const w=k===0?1:b+(k-1)*10,S=y.at.getFullYear();return{...y,age:w,startYear:S}})},[a,o.month,i.dir,n,i.birthPlace?.lon])}function x1(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function Wie(e,t){if(!Array.isArray(e)||e.length===0||!x1(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],l=n[a+1];if(!x1(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!l||x1(l.at)&&t.getTime()<l.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function Zv(e,t,n,r){const{date:i,rule:a,lon:o}=Qr(),l=_.useMemo(()=>n??i??new Date,[n,i]),u=r?.dstOffsetMinutes??0,d=Nu(e,e?.mingSikType,100,u),h=u!==0?new Date(l.getTime()+u*60*1e3):l,{gz:p}=Wie(d,h);return _.useMemo(()=>{try{const b=o??e?.birthPlace?.lon??127.5,y=a??e?.mingSikType??t??"/";return{dae:{gz:p,at:h},se:{gz:ct(h,b),at:h},wol:{gz:Et(h,b),at:h},il:{gz:ht(h,y),at:h}}}catch{const b=new Date;return{dae:{gz:"",at:b},se:{gz:"",at:b},wol:{gz:"",at:b},il:{gz:"",at:b}}}},[a,o,e,t,p,h])}const Sy=Go(e=>({useDST:!1,setUseDST:t=>e({useDST:t}),toggleDST:()=>e(t=>({useDST:!t.useDST}))})),ec=()=>Sy(e=>e.useDST?-60:0),bn=["","","",""],VD={month:1},ZD=["","","",""],jp=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],B6=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],XD=[{name:"",members:["","",""]},{name:"",members:["","",""]}],Vie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},f2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Ie(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=Vie[r[1]]??r[1],a=f2[r[2]]??r[2];return`${i}${a}`}return""}const ky=e=>e&&e.length>=1?e[0]:"",$i=e=>e&&e.length>=2?e[1]:"",BT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],zT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],UT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],FT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],HT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],GT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],YT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],qT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],KT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],WT=[{pair:["",""],label:""}],VT=new Set(["","","",""]),Ey=new Set(["","","",""]),ZT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],z6=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function gi(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function nn(e,t){e.includes(t)||e.push(t)}const Zie=e=>[...e].sort((t,n)=>t-n).map(t=>bn[t]).join("X");function Xie(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function Jie(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const U6=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function Qie(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const F6=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function eae(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function H6(e){for(const t of F6){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!Qie(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=eae(e.jijiHyeong),e}function tae(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function nae(e,t){for(const n of jp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function JD(e,t,n){tae(e,n)<0&&nn(e,t)}function Xv(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[Ie(e[0]??""),Ie(e[1]??""),Ie(e[2]??""),Ie(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(b=>ky(b)),l=i.map(b=>$i(b));function u(b,y){if(b===y)return;const k=o[b],w=o[y];if(!k||!w)return;const S=gi(BT,k,w);S&&nn(a.cheonganHap,`#${bn[b]}X${bn[y]}_${S}`);const j=gi(zT,k,w);j&&nn(a.cheonganChung,`#${bn[b]}X${bn[y]}_${j}`)}for(let b=0;b<4;b++)for(let y=b+1;y<4;y++)u(b,y);function d(b,y,k,w,S=!0){const j=[],O=[];for(let C=0;C<4;C++)l[C]===b&&j.push(C),l[C]===y&&O.push(C);const A=Xie(j,O);for(const[C,D]of A){const P=`#${bn[C]}X${bn[D]}_${k}`;S?JD(w,P,k):nn(w,P)}}const h=(b,y)=>{for(const{pair:[k,w],label:S}of b)d(k,w,S,y)};h(UT,a.jijiYukhap),h(FT,a.jijiChung),h(HT,a.jijiPa),h(GT,a.jijiHae),h(YT,a.jijiWonjin),h(qT,a.jijiGwimun);for(const b of jp){if(!b.members.every(S=>l.includes(S)))continue;const k=[];for(let S=0;S<4;S++)b.members.includes(l[S])&&k.push(S);const w=Zie(k);nn(a.jijiSamhap,`#${w}_${b.name}`)}for(const{pair:[b,y],label:k}of z6)nae(b,y)&&d(b,y,k,a.jijiBanhap,!1);for(const{pair:[b,y],label:k}of KT)d(b,y,k,a.jijiHyeong);for(const{pair:[b,y],label:k}of WT)d(b,y,k,a.jijiHyeong);for(const b of VT){const y=l.map((k,w)=>k===b?w:-1).filter(k=>k>=0);if(!(y.length<2))for(const[k,w]of Jie(y)){const S=`#${bn[k]}X${bn[w]}_${b}`;JD(a.jijiHyeong,S,`${b}`)}}for(const{pair:[b,y],label:k}of ZT)d(b,y,k,a.amhap);if(n)for(let b=0;b<4;b++){const y=i[b]??"";if(y.length<2)continue;const k=`${y[0]}${y[1]}`;Ey.has(k)&&nn(a.ganjiAmhap,`#${U6(bn[b])}_${k}`)}const p=H6(a);if(r)for(const b of Object.keys(p)){if(b==="title")continue;const y=p[b];Array.isArray(y)&&y.length===0&&(p[b]=["#"])}return p}function rae(e,t){for(const n of jp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function iae(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),l=Math.max(i,a),u=`${o}-${l}`;r.has(u)||(r.add(u),n.push([o,l]))}return n}function $l(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Ie(e.natal[0]??""),Ie(e.natal[1]??""),Ie(e.natal[2]??""),Ie(e.natal[3]??"")],a=[Ie(e.daewoon??""),Ie(e.sewoon??""),Ie(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},l=r.map(p=>{const b=$i(p??"");return f2[b]??b});for(const{pair:[p,b],label:y}of z6){if(!rae(p,b))continue;const k=[],w=[];for(let j=0;j<4;j++)l[j]===p&&k.push(j),l[j]===b&&w.push(j);const S=iae(k,w);for(const[j,O]of S){const A=`#${bn[j]}X${bn[O]}_${y}`;nn(o.jijiBanhap,A)}}if(n&&a)for(let p=0;p<4;p++){const b=r[p]??"";if(b.length<2)continue;const y=`${b[0]}${b[1]}`;Ey.has(y)&&nn(o.ganjiAmhap,`#${U6(bn[p])}_${y}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let d=!1,h=!1;for(const[p,b]of u){if(!b)continue;const y=Ie(b);if(!y||y.length<2)continue;const k=ky(y),w=$i(y);{const j=`${k}${w}`;Ey.has(j)&&nn(o.ganjiAmhap,`#${p}_${j}`)}for(let j=0;j<4;j++){const O=r[j]??"";if(O.length<2)continue;const A=bn[j],C=ky(O),D=$i(O),P=gi(BT,k,C);P&&nn(o.cheonganHap,`#${p}X${A}_${P}`);const I=gi(zT,k,C);I&&nn(o.cheonganChung,`#${p}X${A}_${I}`);const U=gi(UT,w,D);U&&nn(o.jijiYukhap,`#${p}X${A}_${U}`);const K=gi(FT,w,D);K&&nn(o.jijiChung,`#${p}X${A}_${K}`);const q=gi(HT,w,D);q&&nn(o.jijiPa,`#${p}X${A}_${q}`);const H=gi(GT,w,D);H&&nn(o.jijiHae,`#${p}X${A}_${H}`);const B=gi(YT,w,D);B&&nn(o.jijiWonjin,`#${p}X${A}_${B}`);const W=gi(qT,w,D);W&&nn(o.jijiGwimun,`#${p}X${A}_${W}`);const X=gi(KT,w,D);if(X)nn(o.jijiHyeong,`#${p}X${A}_${X}`);else{const Y=gi(WT,w,D);Y?nn(o.jijiHyeong,`#${p}X${A}_${Y}`):w===D&&VT.has(w)&&nn(o.jijiHyeong,`#${p}X${A}_${w}${D}`)}const Z=gi(ZT,w,D);Z&&nn(o.amhap,`#${p}X${A}_${Z}`)}for(const j of jp){if(!j.members.includes(w))continue;const O=j.members.filter(C=>C!==w),A=l.map((C,D)=>({b:C,pos:bn[D]})).filter(C=>C.b&&O.includes(C.b));if(new Set(A.map(C=>C.b)).size===2){const[C,D]=A.map(P=>P.pos).sort((P,I)=>bn.indexOf(P)-bn.indexOf(I));nn(o.jijiSamhap,`#${p}X${C}X${D}_(${j.name})`)}}for(const j of XD){if(!j.members.includes(w))continue;const O=j.members.filter(C=>C!==w),A=l.map((C,D)=>({b:C,pos:bn[D]})).filter(C=>C.b&&O.includes(C.b));if(new Set(A.map(C=>C.b)).size===2){const[C,D]=A.map(P=>P.pos).sort((P,I)=>bn.indexOf(P)-bn.indexOf(I));nn(o.jijiHyeong,`#${p}X${C}X${D}_${j.name}`),j.name===""&&(d=!0),j.name===""&&(h=!0)}}const S=[...r.map((j,O)=>({b:f2[$i(j)]??$i(j),pos:bn[O]}))];for(const j of B6){const O=S.filter(A=>j.members.includes(A.b));if(new Set(O.map(A=>A.b)).size===3){const A=O.map(C=>C.pos).join("X");nn(o.jijiBanghap,`#${A}_(${j.name})`)}}}{const p=[],b=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[y,k]of b){const w=Ie(k??"");w.length>=2&&p.push({kind:y,b:$i(w)})}if(p.length>=2){const y=r.map((k,w)=>({pos:bn[w],b:$i(k)}));for(const k of XD)for(let w=0;w<p.length;w++)for(let S=w+1;S<p.length;S++){const j=p[w],O=p[S];for(const A of y){const C=new Set([A.b,j.b,O.b]);if(C.size===3&&k.members.every(D=>C.has(D))){const D=[j.kind,O.kind].sort((I,U)=>ZD.indexOf(I)-ZD.indexOf(U)).join("X"),P=`${A.pos}X${D}`;nn(o.jijiHyeong,`#${P}_${k.name}`),k.name===""&&(d=!0),k.name===""&&(h=!0)}}}}}return(d||h)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(d&&/(||)/.test(p)||h&&/(||)/.test(p)))),H6(aae(o))}function aae(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const oae={:"",:"",:"",:"",:""},QD={:"",:"",:"",:"",:""},sae={:"",:"",:"",:"",:""},lae={:"",:"",:"",:"",:""},cae={:.15,:.1,:-.15,:-.2,:-.25};function uae(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function dae(e){const t=e.includes(VD.month),n=uae(VD.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function fae(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function hae(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[Ie(e[0]??""),Ie(e[1]??""),Ie(e[2]??""),Ie(e[3]??"")],o=a.map(h=>$i(h)).filter(Boolean),l=[],u={...t},d=(h,p)=>{const b=[];for(let j=0;j<a.length;j++){const O=$i(a[j]??"");p.members.includes(O)&&b.push(j)}if(!p.members.every(j=>o.includes(j)))return;const k=dae(b),w=p.out,S=QD[w];fae(u,S,w,k),l.push({type:h,name:p.name,out:p.out,strength:k})};if(i)for(const h of jp)d("",h);if(r)for(const h of B6)d("",h);return{applied:l,score:u,strengthAdj:cae,shengNext:oae,shengPrev:QD,ke:sae,keInv:lae}}function Ty(e){return bn[e]}function eP(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=Ie(e[r]??""),a=ky(i),o=$i(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Jh(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${Ty(i)}X${Ty(a)}_${e}`);return r}function mae(e,t){const n=eP(e),r=eP(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(l,u)=>{l.includes(u)||l.push(u)};for(const{pair:[l,u],label:d}of BT){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Jh(d,h,p))a(i.,b)}for(const{pair:[l,u],label:d}of zT){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Jh(d,h,p))a(i.,b)}const o=(l,u)=>{const d=Array.from(n.branchPos.keys()),h=Array.from(r.branchPos.keys());for(const p of d)for(const b of h){const y=gi(u,p,b);if(!y)continue;const k=n.branchPos.get(p)??[],w=r.branchPos.get(b)??[];for(const S of Jh(y,k,w))a(i[l],S)}};o("",UT),o("",FT),o("",HT),o("",GT),o("",YT),o("",qT),o("",KT),o("",WT);for(const l of VT){const u=n.branchPos.get(l)??[],d=r.branchPos.get(l)??[];if(!(!u.length||!d.length))for(const h of Jh(`${l}`,u,d))a(i.,h)}for(const{label:l,pair:[u,d]}of ZT){const h=[...n.branchPos.get(u)??[],...n.branchPos.get(d)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(d)??[]];if(!(!h.length||!p.length))for(const b of Jh(l,h,p))a(i.,b)}{const l=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const d of l)for(const h of u){const p=n.stemPos.get(d)??[],b=r.stemPos.get(h)??[];for(const y of p){const k=$i(Ie(e[y]??"")),w=`${d}${k}`;if(Ey.has(w))for(const S of b){const j=$i(Ie(t[S]??""));`${h}${j}`===w&&a(i.,`#${Ty(y)}X${Ty(S)}_${w}`)}}}}return i}const G6=new Set(Object.keys(Kn)),Y6=new Set(Object.keys(er)),pae=e=>e.slice(0,1),gae=e=>e.slice(-1);function ks(e){return Jd.has(e)?e:G6.has(e)?Kn[e]??e:e}function Mr(e){return Lm.has(e)?e:Y6.has(e)?er[e]??e:e}function Oo(e){return ks(pae(e))}function Vt(e){return Mr(gae(e))}function bae(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Jd.has(i)||G6.has(i))&&(n=ks(i)),(Lm.has(i)||Y6.has(i))&&(r=Mr(i));return n&&r?{stem:n,branch:r}:null}function yae(e){return e.map(Vt)}function Hg(e,t,n="classic"){const r=Oo(t),i=Vt(t),a=(n==="hgc"?Lv:Rv)[i]??[];return[r,...a].includes(e)}const h2=[["",""],["",""],["",""],["",""],["",""],["",""]],m2=[["",""],["",""],["",""],["",""],["",""],["",""]],vae=new Set(["","","",""]),q6=[["",""],["",""]],xae=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function Mm(e,t,n){const r=Mr(t),i=Mr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function tP(e,t,n){const r=Mr(t),i=Mr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function Ay(e){for(const t of xae)if(t.set.has(e))return t.voids;return null}function p2(e){const t=Mr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const Jn={2:4,1:3,3:2,0:1},zd={1:4,2:3,0:2,3:1},Se={year:0,month:1,day:2,hour:3};function wae(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const vu=e=>e===0?"":e===1?"":e===2?"":"",Nf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",_ae=(e,t)=>`#X${vu(t)}_${e}`,Wd=(e,t,n)=>t===Se.month&&n===Se.day?`#X_${e}`:t===Se.year&&n===Se.month?`#X_${e}`:t===Se.year&&n===Se.day?`#X_${e}`:t===Se.month&&n===Se.hour?`#X_${e}`:t===Se.day&&n===Se.hour?`#X_${e}`:`#${vu(t)}X${vu(n)}_${e}`,Gg=(e,t)=>`#${vu(t)}_${e}`,K6=(e,t)=>`#X${vu(t)}_${e}`,Sae=(e,t)=>`#(${e==="day"?"":""})X${vu(t)}_`,Ed=e=>`#_${e}`,Td=(e,t)=>`#X${Nf(t)}_${e}`,Qh=(e,t)=>`#X${Nf(t)}_${e}`,w1=(e,t,n)=>`#${vu(n)}X${Nf(t)}_${e}`,kae=(e,t)=>`#(${t==="day"?"":""})_${Nf(e)}_`,Eae=(e,t)=>`#(${t==="day"?"":""})X${Nf(e)}_`,nP=(e,t)=>`#X${Nf(e)}_${t}`;function g2(e,t){const n=Mr(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(Vt(t[i])===n)return{pos:i,weight:Jn[i]??0};return null}function XT(e,t,n){return Vt(t[n])===Mr(e)?{pos:n,weight:Jn[n]}:null}function Tae(e,t){const n=ks(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(Oo(t[i])===n)return{pos:i,weight:Jn[i]??0};return null}const Aae=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Mr(t.trim())).filter(Boolean),pn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ks(t),Aae(n)])),jae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),W6=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Oae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Dae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),V6=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Pae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Rae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Lae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Iae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$ae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Z6=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rP=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Uae=pn({:"",:"",:"",:"",:""}),Fae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),iP=pn({:"",:"",:""}),aP=pn({:"",:"",:""}),Hae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),X6=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),J6=pn({:"",:"",:"",:"",:"",:"",:""}),Gae=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Mr(t.trim())).filter(Boolean),Oa=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Mr(t),(Array.isArray(n)?n:[n]).map(r=>Mr(r))])),Jv=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Mr(t),Gae(n)])),Q6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},e7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},t7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},n7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Yae=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),oP=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qae=Jv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kae=Jv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wae=Jv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vae=Jv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zae=Oa({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),Xae=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jae=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qae=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),eoe=Oa({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),r7=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),toe=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),noe=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),roe=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ioe=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Mr(t),(Array.isArray(n)?n:[n]).map(r=>Mr(r))])),aoe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),i7=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ooe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),soe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),loe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),a7=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),coe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),uoe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),doe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),foe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hoe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),o7=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),moe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),poe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),goe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),boe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yoe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),voe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),s7=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xoe=o7,woe=i7,_oe=s7,Soe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),koe=a7,Eoe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Toe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Aoe=wn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function Np(e,t){e.push(t)}function _1(e,t,n,r,i=0){const a=zd[n]>=zd[r]?n:r;e.push({name:Wd(t,n,r),weight:Jn[a]+i,pos:a})}function joe(e,t,n,r,i){const a=Vt(e[Se.year]),o=t[a];if(!o)return;const l=n==="MONTH"?[Se.month]:n==="DAY"?[Se.day]:n==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const d of l){const h=XT(u,e,d);h&&Np(i,{name:Wd(r,Se.year,d),weight:h.weight,pos:d})}}function Noe(e,t,n,r){const i=Vt(e[Se.month]),a=t[i];if(!a)return;const o=ks(a),l=Tae(o,e);l&&Np(r,{name:K6(n,l.pos),weight:l.weight,pos:l.pos})}function sP(e,t,n,r,i="ALL"){const a=Vt(e[Se.month]),o=t[a];if(!o)return;const l=i==="YEAR"?[Se.year]:i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:i==="DAY_HOUR"?[Se.day,Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const d of l){const h=XT(u,e,d);if(!h)continue;const p=d===Se.month?`#_${n}`:K6(n,d);Np(r,{name:p,weight:h.weight,pos:d})}}function lP(e,t,n,r){const i=Vt(e[Se.month]),a=t[i];if(!a)return;const o=e[Se.day];a.includes(o)&&Np(r,{name:Wd(n,Se.month,Se.day),weight:Jn[Se.day],pos:Se.day})}function cP(e,t,n,r,i){const a=Oo(e[Se.day]),o=t[a];if(!o)return;const l=i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const d of l){const h=XT(u,e,d);h&&Np(r,{name:_ae(n,d),weight:h.weight,pos:d})}}function Ooe({natal:e,daewoon:t,basis:n}){const r=Oo(e[Se.day]),i=Vt(e[Se.day]),a=Vt(e[Se.month]),o=Vt(e[Se.year]),l=yae(e),u=[],d=[],h=[[aoe,"MONTH",""],[i7,"DAY",""],[soe,"MONTH",""],[loe,"MONTH",""],[coe,"ALL",""],[uoe,"HOUR",""],[doe,"ALL",""],[foe,"ALL",""],[hoe,"ALL",""],[o7,"ALL",""],[moe,"ALL",""],[poe,"ALL",""],[goe,"ALL",""],[boe,"ALL",""],[yoe,"ALL",""],[voe,"ALL",""],[s7,"ALL",""],[xoe,"ALL",""],[woe,"ALL",""],[_oe,"ALL",""],[Soe,"ALL",""],[koe,"ALL",""],[Eoe,"ALL",""],[Toe,"ALL",""],[Aoe,"ALL",""]];for(const[C,D,P]of h)joe(e,C,D,P,d);const p=[[Q6,""],[e7,""],[t7,""],[n7,""]];for(const[C,D]of p)Noe(e,C,D,u);const b=[[Yae,"","ALL"],[oP,"","YEAR"],[oP,"","DAY"],[Zae,"","ALL"],[Xae,"","ALL"],[Jae,"","ALL"],[Qae,"","ALL"],[eoe,"","ALL"]];for(const[C,D,P]of b)sP(e,C,D,d,P);const y=[[r7,"","ALL"],[toe,"","DAY_HOUR"],[noe,"","DAY_HOUR"],[roe,"","ALL"],[ioe,"","ALL"]];for(const[C,D,P]of y)sP(e,C,D,u,P);const k=[[qae,""],[Vae,""]];for(const[C,D]of k)lP(e,C,D,u);const w=[[Kae,""],[Wae,""]];for(const[C,D]of w)lP(e,C,D,d);const S=[[jae,"","ALL"],[W6,"","ALL"],[Nae,"","ALL"],[Oae,"","ALL"],[Cae,"","ALL"],[Mae,"","ALL"],[Dae,"","ALL"],[V6,"","ALL"],[Pae,"","ALL"],[Rae,"","ALL"],[Lae,"","ALL"],[Iae,"","ALL"],[$ae,"","ALL"],[Hae,"","ALL"]];for(const[C,D,P]of S)cP(e,C,D,u,P);const j=[[Z6,"","ALL"],[Bae,"","ALL"],[zae,"","ALL"],[rP,"","DAY"],[rP,"","HOUR"],[iP,"","DAY"],[iP,"","HOUR"],[aP,"","DAY"],[aP,"","HOUR"],[Uae,"","DAY"],[Fae,"","ALL"],[X6,"","ALL"]];for(const[C,D,P]of j)cP(e,C,D,d,P);if(new Set(["","","",""]).has(e[Se.day])){d.push({name:Ed(""),weight:Jn[Se.day],pos:Se.day});for(const D of[Se.year,Se.month,Se.hour])e[D]===e[Se.day]&&d.push({name:Gg("",D),weight:Jn[D],pos:D})}{const C=J6[r];if(C)for(const D of[Se.year,Se.month,Se.day,Se.hour]){const P=Oo(e[D]),I=Vt(e[D]);P===r&&C.includes(I)&&d.push({name:Gg("",D),weight:Jn[D],pos:D})}}for(const[C,D]of q6){const P=g2(C,e),I=g2(D,e);P&&I&&_1(d,"",P.pos,I.pos)}{const C=new Set(["",""]),D=new Set(["","","",""]);for(let P=0;P<=3;P++){const I=Oo(e[P]),U=Vt(e[P]);(C.has(I)||D.has(U))&&d.push({name:Gg("",P),weight:Jn[P],pos:P})}}{const C=e[Se.hour],D=(I,U)=>I.includes(r)&&U.includes(C);(D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""]))&&d.push({name:Ed(""),weight:Jn[Se.hour],pos:Se.hour})}["","","",""].every(C=>l.includes(C))&&u.push({name:Ed(""),weight:Jn[Se.day],pos:Se.day});{const C=e[Se.day],D=e[Se.hour];(C===""&&D===""||C===""&&D==="")&&d.push({name:Wd("",Se.day,Se.hour),weight:Jn[Se.hour],pos:Se.hour})}{const C=Vt(e[Se.year]),D=new Set(l.slice(1)),P=(U,K)=>U.every(q=>D.has(q))&&C===K;(P(["","",""],"")||P(["","",""],"")||P(["","",""],"")||P(["","",""],""))&&u.push({name:Ed(""),weight:Jn[Se.day],pos:Se.day})}(e[Se.day]===""||e[Se.day]==="")&&u.push({name:Ed(""),weight:Jn[Se.day],pos:Se.day});{const D={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];D&&e.some(I=>Vt(I)===D.rok)&&Oo(e[Se.hour])===D.maStem&&u.push({name:Wd("",Se.day,Se.hour),weight:Jn[Se.hour],pos:Se.hour})}{const C=Vt(e[Se.hour]),P={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(P){const I=i===P.rok,U=C===P.ma,K=Hg(P.rokStem,e[Se.day],"classic")||Hg(P.rokStem,e[Se.hour],"classic"),q=Hg(P.maStem,e[Se.day],"classic")||Hg(P.maStem,e[Se.hour],"classic");I&&U&&(K||q)&&u.push({name:Wd("",Se.day,Se.hour),weight:Jn[Se.hour],pos:Se.hour})}}{const C=new Set(["","","","","",""]),D=e.map(Oo),P=e.map(Vt),I=D.concat(P).filter(H=>C.has(H)).length,U=t?Oo(t):"",K=t?Vt(t):"",q=C.has(U)||C.has(K);(I>=4||I===3&&q)&&d.push({name:Ed(""),weight:Jn[Se.day],pos:Se.day})}{const C=new Set(["",""]),D=new Set(["",""]);for(let P=0;P<=3;P++){const I=Oo(e[P]),U=Vt(e[P]);(C.has(I)||D.has(U))&&d.push({name:Gg("",P),weight:Jn[P],pos:P})}}{const C=[[Se.year,Se.month],[Se.year,Se.day],[Se.month,Se.day],[Se.month,Se.hour],[Se.day,Se.hour]];for(const[D,P]of C){const I=Vt(e[D]),U=Vt(e[P]);if(Mm(h2,I,U)){const K=tP(h2,I,U);_1(d,`${K}`,D,P)}}}{const C=[[Se.year,Se.month,0],[Se.month,Se.day,1],[Se.month,Se.hour,0],[Se.day,Se.hour,0]];for(const[D,P,I]of C){const U=Vt(e[D]),K=Vt(e[P]);if(Mm(m2,U,K)){const q=tP(m2,U,K),H=(I?1:0)+(vae.has(U+K)?1:0);_1(d,`${q}`,D,P,H)}}}const O=Ay(e[Se.day]),A=Ay(e[Se.year]);{const C=(n?.voidBasis??"day")==="day"?O:A;if(C){const[D,P]=C.map(Mr);for(const I of[Se.year,Se.month,Se.day,Se.hour]){const U=Vt(e[I]);(U===D||U===P)&&d.push({name:Sae(n?.voidBasis??"day",I),weight:Jn[I],pos:I})}}}return{goodPos:u,badPos:d,dayVoid:O,yearVoid:A,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l}}function Yg({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l,dayVoid:u,yearVoid:d,basis:h}){const p=[],b=[],y=(O,A)=>{O.includes(A)||O.push(A)},k=bae(t??null);if(!k)return{good:p,bad:b};const w=k.branch,S=k.stem;ks(Q6[a]??"")===S&&y(p,Qh("",e)),ks(e7[a]??"")===S&&y(p,Qh("",e)),ks(t7[a]??"")===S&&y(p,Qh("",e)),ks(n7[a]??"")===S&&y(p,Qh("",e)),r7[a]?.includes(w)&&y(p,Qh("",e)),W6[r]?.includes(w)&&y(p,Td("",e)),V6[r]?.includes(w)&&y(p,Td("",e)),Z6[r]?.includes(w)&&y(b,Td("",e)),X6[r]?.includes(w)&&y(b,Td("",e)),J6[r]?.includes(w)&&y(b,Td("",e)),e==="se"&&(ooe[o]?.includes(w)&&y(b,nP(e,"")),a7[o]?.includes(w)&&y(b,nP(e,"")));for(const O of l)if(Mm(q6,w,O)){const A=g2(O,n)?.pos;A!==void 0&&y(b,w1("",e,A));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(w)&&y(b,Td("",e));const j=(h?.voidBasis??"day")==="day"?u:d;j&&(w===j[0]||w===j[1])&&y(b,kae(e,h?.voidBasis??"day"));for(let O=0;O<=3;O++){const A=Vt(n[O]);Mm(h2,w,A)&&y(b,w1("",e,O)),Mm(m2,w,A)&&y(b,w1("",e,O))}if(e==="se"){const O=(h?.samjaeBasis??"day")==="day"?i:o,A=O?p2(O):null;A&&A.includes(w)&&y(b,Eae(e,h?.samjaeBasis??"day"))}return{good:p,bad:b}}const Coe=/^#(|||)X\1_/,Moe=e=>Coe.test(e);function uP(e){const t=new Map;for(const n of e){if(Moe(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function Doe(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const Poe=new Set(["",""]);function Roe(e){return Poe.has(e)?!0:e.endsWith("")||e.endsWith("")}function dP(e){const t=new Map;for(const r of e){const i=Doe(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(Roe(r))n.push(...i);else{const a=i.sort((o,l)=>zd[o.pos]!==zd[l.pos]?zd[l.pos]-zd[o.pos]:l.weight-o.weight)[0];n.push(a)}return n}function fP(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=wae;for(const i of e)n[r(i.pos)].push(i.name);return n}function af({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:l,dayVoid:u,yearVoid:d,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k}=Ooe({natal:e,daewoon:t,basis:a}),w=dP(uP(o)),S=dP(uP(l)),j=fP(w),O=fP(S),A=Yg({src:"dae",luck:t??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),C=Yg({src:"se",luck:n??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),D=Yg({src:"wol",luck:r??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),P=Yg({src:"il",luck:i??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a});return{good:{...j,dae:A.good,se:C.good,wolun:D.good,ilun:P.good},bad:{...O,dae:A.bad,se:C.bad,wolun:D.bad,ilun:P.bad},meta:{voidPair:{day:Ay(e[Se.day])??void 0,year:Ay(e[Se.year])??void 0},samjaeYears:{day:p2(Vt(e[Se.day]))??void 0,year:p2(Vt(e[Se.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Loe(e){return typeof e=="object"&&e!==null}function Of(e){const t=M6;return Loe(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const hP=["","","","","","","","","",""],Ioe=["","","","","","","","","","","",""],$oe=["","","","","","","","","","","",""];function Boe(e){const t=Iv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function zoe(e,t){const n=Boe(e);return(t?$oe:Ioe).map((i,a)=>`${hP[(n+a)%10]??hP[0]}${i}`)}function Dm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function mP(e){return e<10?`0${e}`:`${e}`}function b2(e){return`${mP(e.getHours())}:${mP(e.getMinutes())}`}function JT(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function pP(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||JT(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Uoe(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":b2(i)}const gP=["","/",""],Foe="/";function l7(e,t){return e&&gP.includes(e)?e:t&&gP.includes(t)?t:Foe}function bP(e){return e===""}function Hoe(e){return e===""?"":""}function Goe(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const Yoe=e=>e instanceof Date&&!Number.isNaN(e.getTime());function y2(e,t){const n=JT(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const A=Zi(r,i,a);r=A.getFullYear(),i=A.getMonth()+1,a=A.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),l=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,l,0,0),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,h=d?127.5:e.birthPlace.lon,p=Yoe(e.corrected);let b;p?b=e.corrected:d?b=u:b=kp(u,h,n);const y=t?new Date(b.getTime()-3600*1e3):b,k=l7(e.mingSikType),w=ct(y,h),S=Et(y,h),j=ht(y,k),O=n?null:no(y,k);return{corrected:y,year:{stem:w.charAt(0),branch:w.charAt(1)},month:{stem:S.charAt(0),branch:S.charAt(1)},day:{stem:j.charAt(0),branch:j.charAt(1)},hour:O?{stem:O.charAt(0),branch:O.charAt(1)}:null}}const qoe=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],Koe=(()=>{const e={};for(const t of qoe){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),Woe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Voe(e,t){const n=`${Iv(e)}${iT(t)}`;return Koe[n]??null}function Zoe(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function Xoe(e){switch(Woe[iT(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function Joe({stem:e,branch:t}){const n=Voe(e,t);if(!n)return null;const r=Zoe(n.elem);return g.jsx("span",{className:`inline-block mt-1 px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function yP({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=xn(),o=Wi(e,t,a),l=wi(e,t,n),u=ro(e,t),d=r&&u?"font-thin":"font-bold",h=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${h}`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${d} `,children:l})})}function c7({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:y="regular",highlightedStem:k=!1,highlightedBranch:w=!1}){const S=y==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",j=y==="compact"?"py-2":"p-2";return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:`${S} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),g.jsx("div",{className:`${j} flex flex-col items-center gap-1`,children:t?g.jsxs(g.Fragment,{children:[a&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ka(n,{stem:t.stem})}),g.jsx(yP,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:k}),g.jsx(yP,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:w}),g.jsx(GB,{branch:t.branch,dayStem:n,mode:d,mapping:h}),(o||l||u)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&g.jsx("div",{children:p(t.branch)}),l&&g.jsx("div",{children:b(t.branch)}),u&&g.jsx(Joe,{stem:t.stem,branch:t.branch})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const Qoe=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function ese({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,daeGz:y,seGz:k,wolGz:w,highlightMap:S={}}){const j=t?"regular":"compact",O=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",A="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",C=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",D=t?`grid gap-2 p-3 ${O}`:`grid gap-1 p-0 ${O}`;return g.jsxs("div",{className:A,children:[g.jsx("div",{className:C,children:g.jsx("b",{children:""})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:D,children:e.map(P=>{const I=Qoe(P,y,k,w),U=S[P.key]??{stem:!1,branch:!1};return g.jsx(c7,{title:P.label,data:I,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:j,highlightedStem:U.stem,highlightedBranch:U.branch},P.key)})})})]})}function tse({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,highlightMap:y={}}){const k=t?"regular":"compact",w=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",S=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:w,children:g.jsx("b",{children:""})}),g.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:g.jsx("div",{className:S,children:e.map(j=>{const O=y[j.key]??{stem:!1,branch:!1};return g.jsx(c7,{title:j.label,data:j.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:k,highlightedStem:O.stem,highlightedBranch:O.branch},j.key)})})})]})}function nse({hourCandidates:e,useInsi:t,onToggleRule:n,usePrevDay:r,onTogglePrevDay:i,canSelectHourBranch:a,manualHour:o,onSelectHour:l}){return g.jsxs("div",{className:"my-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "}),g.jsx("button",{onClick:i,className:`px-2 py-1 text-xs rounded border cursor-pointer ${r?"bg-amber-500 text-white border-amber-500":"bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600"}`,children:""})]})]}),g.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(u=>{const d=u.charAt(0),h=u.charAt(1),p=o?.stem===d&&o?.branch===h,b=a?!a(h):!1;return g.jsx("button",{onClick:()=>l(d,h),disabled:b,className:`p-2 text-xs rounded border ${p?Xoe(h):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"} ${b?"opacity-40 cursor-not-allowed":"cursor-pointer"}`,title:`${u} ( )`,children:u},u)})})]})}function rse(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const em={:{title:"()",kind:"",oneLine:"     .",bullets:["  ,   ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   :   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"+     ."},:{title:"()",kind:"",oneLine:"///   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:"      ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"  ,    ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"      :    ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" .       ."},:{title:"()",kind:"",oneLine:" .     ."},:{title:"()",kind:"",oneLine:"  .      ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /,   ."},:{title:"",kind:"",oneLine:"      ."},:{title:"()",kind:"",oneLine:"/  :    ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" :    ,  /  ."}};function ise(e){const t=rse(e),n=em[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(em[r])return em[r]}else{const r=`${t}`;if(em[r])return em[r]}return{title:t||"",kind:"",oneLine:" "}}function ase(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function Eo({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const l=v2(n,jy),u=v2(r,jy),d=i||l.length>0,h=i||u.length>0;return!i&&l.length===0&&u.length===0?null:g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[d&&g.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),g.jsx(vP,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),g.jsxs("div",{children:[h&&g.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),g.jsx(vP,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function vP({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=v2(e,jy);return a.length===0?n?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,l)=>{const u=`${t}-${l}`;return g.jsx(ose,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function ose({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=ise(e),o=a?ase(a):"",l=jy(e),u=_.useRef(null),d=_.useRef(null),[h,p]=_.useState("center");return _.useLayoutEffect(()=>{if(!i)return;const b=d.current;if(!b)return;const y=b.getBoundingClientRect(),w=Math.min(300,window.innerWidth-16*2),S=y.left,j=window.innerWidth-y.right;j<w/2&&S>j?p("right"):S<w/2&&j>S?p("left"):p("center")},[i]),_.useLayoutEffect(()=>{if(!i)return;const b=y=>{const k=y.target;!u.current||k&&u.current.contains(k)||r(null)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[i,r]),g.jsxs("div",{ref:u,className:"relative",children:[g.jsx("button",{ref:d,type:"button",onClick:()=>r(i?null:t),className:["px-2 py-1 text-[12px] desk:text-[11px] text-center  rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:l,children:l}),a&&i&&g.jsx("div",{className:["absolute top-full mt-2 z-50",h==="left"?"left-0":h==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:g.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function jy(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function v2(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function sse({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:u,etcShinsalBad:d}){const[h,p]=_.useState(!0),[b,y]=_.useState(!0),[k,w]=_.useState(null);return g.jsxs(g.Fragment,{children:[o&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>p(S=>!S),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",h?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:h?"":""})]}),h&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 pl-1 mb-2",children:"     ."}),n.length===0?g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"border-t desk:border-0 border-neutral-200 dark:border-neutral-800 pt-2 desk:pt-0 order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(To,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&g.jsx(To,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&g.jsx(To,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&g.jsx(To,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&g.jsx(To,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&g.jsx(To,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2 desk:pl-0 desk:border-t-0 desk:border-l-0",children:[g.jsx(To,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),g.jsx(To,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),g.jsx(To,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),g.jsx(To,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),l&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>y(S=>!S),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",b?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:b?"":""})]}),b&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pl-1 text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),xP(u)||xP(d)?g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(Eo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-wol"),t>=2&&g.jsx(Eo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-se"),t>=1&&g.jsx(Eo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-dae")]:[t>=1&&g.jsx(Eo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-dae"),t>=2&&g.jsx(Eo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-se"),t>=3&&g.jsx(Eo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[g.jsx(Eo,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:d.natal.hour,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(Eo,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:d.natal.day,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(Eo,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:d.natal.month,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(Eo,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:d.natal.year,isDesktop:e,openTagKey:k,setOpenTagKey:w})]})]}):g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function To({title:e,tags:t,activeTag:n,onToggle:r}){return g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return g.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-2 py-1 text-[12px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:lse(i)},i)})})]})}function lse(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function xP(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function wP(e){return String(e).padStart(2,"0")}function cse(e,t,n){if(!e||e.length<8)return pP(e,t);const r=pP(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),l=Zi(i,a,o);return` ${`${l.getFullYear()}.${wP(l.getMonth()+1)}.${wP(l.getDate())}`} ( ${r})`}catch{return` ${r}`}}function use({data:e,hourTable:t}){const{date:n,setDstOffsetMinutes:r}=Qr(),i=xn(_e=>_e.settings),a=i.showNabeum??!0,o=i.showRelationBox??!0,l=i.showEtcShinsal??!0,u=l7(e.mingSikType,t),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:h,solarM:p,solarD:b}=_.useMemo(()=>{let _e=Number(e.birthDay?.slice(0,4)??2e3),Ne=Number(e.birthDay?.slice(4,6)??1),Ue=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Je=Zi(_e,Ne,Ue);_e=Je.getFullYear(),Ne=Je.getMonth()+1,Ue=Je.getDate()}return{solarY:_e,solarM:Ne,solarD:Ue}},[e.birthDay,e.calendarType]),y=Sy(_e=>_e.useDST),k=Sy(_e=>_e.setUseDST);_.useEffect(()=>{h&&p&&b&&k(Wm(h,p,b))},[h,p,b,k]),_.useEffect(()=>{r(y?-60:0)},[y,r]);const w=JT(e.birthTime),[S,j]=_.useState(()=>y2(e,y));_.useEffect(()=>{j(y2(e,y))},[e,y]);const O=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,A=Fi(_e=>_e.usePrevDay),C=Fi(_e=>_e.setUsePrevDay),D=_.useMemo(()=>{const _e=`${S.day.stem}${S.day.branch}`,Ne=A?to(_e,-1):_e;return{stem:Ne.charAt(0),branch:Ne.charAt(1)}},[S.day.stem,S.day.branch,A]),P=S.day.stem,I=D.stem,[U,K]=_.useState(null),[q,H]=_.useState(()=>bP(e.mingSikType)),B=Fi(_e=>_e.clearManualHour);_.useEffect(()=>{K(null),B(),H(bP(e.mingSikType)),C(!1)},[O,e.mingSikType,B,C]),_.useEffect(()=>{Be(null)},[O]);const W=_.useMemo(()=>zoe(P,q),[q,P]),X=U??S.hour,Z=Fi(_e=>_e.setManualHour),Y=_.useCallback(_e=>A?q?_e===""||_e==="":_e==="":!0,[A,q]);_.useEffect(()=>{U&&(Y(U.branch)||(K(null),B()))},[U,Y,B]);const J=(_e,Ne)=>{if(!Y(Ne))return;if(U?.stem===_e&&U?.branch===Ne){K(null),B();return}const Ue={stem:_e,branch:Ne};K(Ue),Z(Ue)},Q=Hoe(i.sinsalBase)===""?D.branch:S.year.branch,ce=_e=>i.showSibiUnseong?Yo(I,_e):null,ae=_e=>i.showSibiSinsal?qo({baseBranch:Q,targetBranch:_e,era:Of(i.sinsalMode),gaehwa:i.sinsalBloom}):null,z=y?-60:0,V=Kie(e,u,z),ne=jie({query:"(min-width: 992px)"}),oe=i.hiddenStem==="regular"?"main":"all",ue=Goe(i.exposure),pe=ue===0?[]:V.filter(_e=>(_e.key==="daeun"?1:_e.key==="seun"?2:3)<=ue),ye=Wm(h,p,b),Oe=()=>k(!y),ie=_.useMemo(()=>{const _e=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??""));return Number.isNaN(_e.getTime())?S.corrected:_e},[e.corrected,S.corrected]),Te=_.useMemo(()=>ie&&(ye&&y?new Date(ie.getTime()-3600*1e3):ie),[ie,ye,y]),xe=_.useMemo(()=>{const _e=ye&&y?"":e.correctedLocal;return Uoe(_e,Te??new Date,w)},[e.correctedLocal,Te,w,ye,y]),se=Zv(e,t,n,{dstOffsetMinutes:z}),ze=se.dae.gz,Ye=se.se.gz,Ze=se.wol.gz,[Ce,Be]=_.useState(null),De=_.useMemo(()=>{const _e=Rt=>Rt?.stem&&Rt?.branch?`${Rt.stem}${Rt.branch}`:"",Ne=[_e(S.year),_e(S.month),_e(D),_e(X)],Ue=$l({natal:[...Ne],daewoon:ue>=1?ze??void 0:void 0,sewoon:ue>=2?Ye??void 0:void 0,wolwoon:ue>=3?Ze??void 0:void 0}),Je=Xv([...Ne],{fillNone:!1}),lt={...Ue};for(const Rt of F6)lt[Rt]=Array.from(new Set([...lt[Rt]??[],...Je[Rt]??[]]));return lt},[S,D,X,ze,Ye,Ze,ue]),Xe=_.useMemo(()=>{const _e=[...De.cheonganHap,...De.cheonganChung,...De.jijiSamhap,...De.jijiBanhap,...De.jijiBanghap,...De.jijiYukhap,...De.jijiChung,...De.jijiHyeong,...De.jijiPa,...De.jijiHae,...De.amhap,...De.ganjiAmhap].filter(Ne=>Ne&&Ne!=="#");return Array.from(new Set(_e))},[De]),gt=_.useMemo(()=>{const _e=(Ue,Je)=>{Ue.includes(Je)||Ue.push(Je)},Ne={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const Ue of Xe){const lt=(Ue.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);lt.includes("")&&_e(Ne.luck.wol,Ue),lt.includes("")&&_e(Ne.luck.se,Ue),lt.includes("")&&_e(Ne.luck.dae,Ue),lt.includes("")&&_e(Ne.natal.hour,Ue),lt.includes("")&&_e(Ne.natal.day,Ue),lt.includes("")&&_e(Ne.natal.month,Ue),lt.includes("")&&_e(Ne.natal.year,Ue)}return Ne},[Xe]),Mt=_.useMemo(()=>{const _e=Je=>Je?.stem&&Je?.branch?`${Je.stem}${Je.branch}`:"",Ne=af({natal:[_e(S.year),_e(S.month),_e(D),_e(X)],daewoon:ue>=1?ze??void 0:void 0,sewoon:ue>=2?Ye??void 0:void 0,wolwoon:ue>=3?Ze??void 0:void 0}),Ue=Je=>Array.from(new Set(Je.filter(lt=>lt&&lt!=="#")));return{good:{natal:{hour:Ue(Ne.good.si??[]),day:Ue(Ne.good.il??[]),month:Ue(Ne.good.wol??[]),year:Ue(Ne.good.yeon??[])},luck:{dae:Ue(Ne.good.dae??[]),se:Ue(Ne.good.se??[]),wol:Ue(Ne.good.wolun??[])}},bad:{natal:{hour:Ue(Ne.bad.si??[]),day:Ue(Ne.bad.il??[]),month:Ue(Ne.bad.wol??[]),year:Ue(Ne.bad.yeon??[])},luck:{dae:Ue(Ne.bad.dae??[]),se:Ue(Ne.bad.se??[]),wol:Ue(Ne.bad.wolun??[])}}}},[S,D,X,ze,Ye,Ze,ue]),fe=_.useMemo(()=>{const _e={},Ne=(Ue,Je)=>{for(const lt of Ue)_e[lt]=Je};return Ne(De.cheonganHap,"stem"),Ne(De.cheonganChung,"stem"),Ne(De.jijiSamhap,"branch"),Ne(De.jijiBanhap,"branch"),Ne(De.jijiBanghap,"branch"),Ne(De.jijiYukhap,"branch"),Ne(De.jijiChung,"branch"),Ne(De.jijiHyeong,"branch"),Ne(De.jijiPa,"branch"),Ne(De.jijiHae,"branch"),Ne(De.amhap,"branch"),Ne(De.ganjiAmhap,"both"),_e},[De]),Me=_.useMemo(()=>{if(!Ce)return{};const _e=fe[Ce]??"branch",Ue=(Ce.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),Je={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},lt={};for(const Rt of Ue){const Rn=Je[Rt];if(!Rn)continue;const ar=lt[Rn]??{stem:!1,branch:!1};_e==="stem"?ar.stem=!0:(_e==="branch"||(ar.stem=!0),ar.branch=!0),lt[Rn]=ar}return lt},[Ce,fe]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),ye&&g.jsxs("button",{onClick:Oe,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${y?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",y?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[cse(e.birthDay,e.birthTime,e.calendarType)," : ",xe]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",d.toFixed(2),"  ",u," "]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${pe.length===0?"grid-cols-1":pe.length===1?"grid-cols-[2fr_8fr]":pe.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[pe.length>0&&g.jsx(ese,{cards:pe,isDesktop:ne,dayStem:I,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:oe,hiddenStemMode:i.hiddenStemMode,calcUnseong:ce,calcShinsal:ae,daeGz:ze,seGz:Ye,wolGz:Ze,highlightMap:Me}),g.jsx(tse,{isDesktop:ne,dayStem:I,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:oe,hiddenStemMode:i.hiddenStemMode,calcUnseong:ce,calcShinsal:ae,highlightMap:Me,pillars:[{key:"hour",label:"",data:X},{key:"day",label:"",data:D},{key:"month",label:"",data:S.month},{key:"year",label:"",data:S.year}]})]}),w&&g.jsx(nse,{hourCandidates:W,useInsi:q,onToggleRule:()=>H(_e=>!_e),usePrevDay:A,onTogglePrevDay:()=>C(!A),canSelectHourBranch:Y,manualHour:U,onSelectHour:J}),g.jsx(sse,{isDesktop:ne,exposureLevel:ue,relationChips:Xe,relationByPillar:gt,activeRelationTag:Ce,onToggleRelationTag:Be,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:Mt.good,etcShinsalBad:Mt.bad})]})}function Wl(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setHours(4,30,0,0),u}return t}function Qv(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const l=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=l&&a<u)return o}return 0}function dse({data:e}){const t=ec(),n=Nu(e,e.mingSikType,100,t),r=Fi(U=>U.usePrevDay),i=_.useMemo(()=>{const U=jf(e);return ql(U,t)},[e,t]),a=_.useMemo(()=>Wl(e,i),[e,i]),o=_.useMemo(()=>{const U=e.mingSikType??"/",K=ht(a,U);return(r?to(K,-1):K).charAt(0)},[a,e.mingSikType,r]),{date:l,setFromEvent:u}=Qr(),d=_.useMemo(()=>Qv(n,l),[n,l]),h=xn(U=>U.settings),{charType:p,thinEum:b,showSipSin:y,showSibiUnseong:k,showSibiSinsal:w,sinsalBase:S,sinsalMode:j,sinsalBloom:O}=h,A=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,C=e.mingSikType??"/",D=S===""?(r?to(ht(a,C),-1):ht(a,C)).charAt(1):ct(a,A).charAt(1),P=U=>k?Yo(o,U):null,I=U=>w?qo({baseBranch:D,targetBranch:U,era:Of(j),gaehwa:!!O}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:n.map((U,K)=>{const q=U.gz.charAt(0),H=U.gz.charAt(1),B=fse(U.age),W=K===d,X=wi(q,"stem",p),Z=wi(H,"branch",p),Y=ro(q,"stem"),J=ro(H,"branch"),Q=b&&Y?"font-thin":"font-bold",ce=b&&J?"font-thin":"font-bold",ae=P(H),z=I(H);return g.jsxs("div",{onClick:()=>u(U,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${W?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${U.gz}  ${U.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:B}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[y&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ka(o,{stem:q})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Wi(q,"stem",h)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${Q}`,children:X})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Wi(H,"branch",h)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${ce}`,children:Z})}),y&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ka(o,{branch:H})}),(k||w)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[k&&g.jsx("div",{children:ae}),w&&g.jsx("div",{children:z})]})]})]},`${U.gz}-${K}`)})})]})}function fse(e){return e>=2?String(Math.floor(e)):Number.isInteger(e)?String(e):e.toFixed(4).replace(/\.?0+$/,"")}const hse=!1,_P=e=>e<10?`0${e}`:`${e}`;function QT(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),l=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const d of l){const h=t[d];if(typeof h=="boolean"){u=h;break}if(typeof h=="number"){u=h===1;break}if(typeof h=="string"){u=h==="1"||h.toLowerCase()==="true";break}}if(r==="lunar")try{const d=Zi(i,a,o,0,0),h=`${d.getFullYear()}${_P(d.getMonth()+1)}${_P(d.getDate())}`;return{...e,birthDay:h,calendarType:"solar"}}catch{return e}return e}function S1(e){return new Date(e,6,2,12,0,0,0)}function mse(e,t){return t-e+1}function pse({data:e,list:t,onSelect:n}){const r=xn(q=>q.settings),{date:i,setFromEvent:a}=Qr(),o=ec(),l=Fi(q=>q.usePrevDay),[u,d]=_.useState(()=>t);_.useEffect(()=>{t&&t.length>0&&d(t)},[t]);const h=ql(e,o),p=_.useMemo(()=>Wl(e,h),[e,h]),b=_.useMemo(()=>p.getFullYear(),[p]),y=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,k=_.useMemo(()=>{if(!i)return[];const q=i.getFullYear(),H=S1(q),B=ct(H,y);return[{at:H,gz:B}]},[i,y]),w=t.length>0?t:u.length>0?u:k,S=_.useMemo(()=>[...w].sort((q,H)=>q.at.getTime()-H.at.getTime()),[w]),j=_.useMemo(()=>{if(S.length===0)return 0;const q=Qv(S,i);return q<0?0:q>=S.length?S.length-1:q},[S,i]),[O,A]=_.useState(null);_.useEffect(()=>{A(null)},[i,S]);const C=O??j,D=_.useMemo(()=>{const q=QT(e);return ql(q,o)},[e,o]),P=_.useMemo(()=>Wl(e,D),[e,D]),I=e.mingSikType??"/",U=_.useMemo(()=>{const q=ht(P,I);return(l?to(q,-1):q).charAt(0)},[P,I,l]),K=_.useMemo(()=>r.sinsalBase===""?(l?to(ht(p,I),-1):ht(p,I)).charAt(1):ct(p,y).charAt(1),[p,I,y,r.sinsalBase,l]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:S.map((q,H)=>{const B=q.at.getFullYear(),W=S1(B),X=ct(W,y),Z=X.charAt(0),Y=X.charAt(1),J=H===C,Q=wi(Z,"stem",r.charType),ce=wi(Y,"branch",r.charType),ae=ro(Z,"stem"),z=ro(Y,"branch"),V=r.thinEum&&ae?"font-thin":"font-bold",ne=r.thinEum&&z?"font-thin":"font-bold",oe=r.showSibiUnseong?Yo(U,Y):null,ue=r.showSibiSinsal?qo({baseBranch:K,targetBranch:Y,era:Of(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,pe=mse(b,B);return g.jsxs("div",{onClick:()=>{A(H);const ye=S1(B),Oe=ct(ye,y);a({at:ye,gz:Oe},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(B)):Promise.resolve().then(()=>n(B)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${J?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${X}  ${q.at.toLocaleDateString()}  ${pe}`,children:[g.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[pe,""]}),g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:B}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ka(U,{stem:Z})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Wi(Z,"stem",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${V}`,children:Q})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Wi(Y,"branch",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${ne}`,children:ce})}),r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ka(U,{branch:Y})}),(r.showSibiUnseong||r.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&oe&&g.jsx("div",{children:oe}),r.showSibiSinsal&&ue&&g.jsx("div",{children:ue})]})]})]},`${B}-${q.gz||H}`)})})]})}const gse=new Set(["","","","","","","","","","","",""]);function bse(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[..._i(new Date(n-1,5,15,12,0))??[],..._i(new Date(n,5,15,12,0))??[],..._i(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,d)=>u.date.getTime()-d.date.getTime()).filter(u=>gse.has(u.name));let a=i.findIndex((u,d)=>i[d].date<=t&&t<i[d+1]?.date);a<0&&(a=0);const o=i[a],l=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(l.date.getFullYear(),l.date.getMonth(),l.date.getDate(),0,0,0,0),cur:o,next:l}}const yse=new Set(["","","","","","","","","","","",""]);function vse(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function xse(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function k1(e){return new Date(e,5,15,12,0,0,0)}function wse(e){const n=[..._i(k1(e-1))??[],..._i(k1(e))??[],..._i(k1(e+1))??[]].map(l=>({name:String(l.name),date:new Date(l.date)})).sort((l,u)=>l.date.getTime()-u.date.getTime()).filter(l=>yse.has(l.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(l=>l.name===""&&l.date>=r&&l.date<i);if(a===-1)return[];const o=[];for(let l=0;l<12;l++){const u=n[a+l];if(!u)break;const d=new Date(u.date),h=vse(d);o.push({name:u.name,termAt:d,at00:h})}return o}function _se({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=xn(A=>A.settings),a=ec(),o=Fi(A=>A.usePrevDay),l=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,u=ql(e,a),d=_.useMemo(()=>Wl(e,u),[e,u]),h=_.useMemo(()=>{const A=QT(e);return ql(A,a)},[e,a]),p=_.useMemo(()=>Wl(e,h),[e,h]),b=e.mingSikType??"/",y=_.useMemo(()=>{const A=ht(p,b);return(o?to(A,-1):A).charAt(0)},[p,b,o]),k=i.sinsalBase===""?(o?to(ht(d,b),-1):ht(d,b)).charAt(1):ct(d,l).charAt(1),w=_.useMemo(()=>t?wse(t).map(C=>{const D=C.termAt,P=new Date(C.termAt.getTime()+1860*1e3),I=Et(P,l);return{at:D,gz:I,term:C.name,termAt:C.termAt}}):[],[t,l]),{date:S,setFromEvent:j}=Qr(),O=Qv(w,S);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map((A,C)=>{const D=A.gz.charAt(0),P=A.gz.charAt(1),I=`${xse(A.at)}`,U=C===O,K=wi(D,"stem",i.charType),q=wi(P,"branch",i.charType),H=ro(D,"stem"),B=ro(P,"branch"),W=i.thinEum&&H?"font-thin":"font-bold",X=i.thinEum&&B?"font-thin":"font-bold",Z=i.showSibiUnseong?Yo(y,P):null,Y=i.showSibiSinsal?qo({baseBranch:k,targetBranch:P,era:Of(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{r(A.at);const J=new Date(A.at),{start:Q}=bse(J);n?.(Q.getFullYear(),Q.getMonth()),j({at:J,gz:Et(J,l)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${U?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${A.term}   ${A.gz}  ${A.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:I}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ka(y,{stem:D})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Wi(D,"stem",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${W}`,children:K})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Wi(P,"branch",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${X}`,children:q})}),i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ka(y,{branch:P})}),(i.showSibiUnseong||i.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&Z&&g.jsx("div",{children:Z}),i.showSibiSinsal&&Y&&g.jsx("div",{children:Y})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:A.term})]})]},`${A.term}-${A.at.toISOString()}`)})})]})}function Sse(){const e=xn(r=>r.settings),{date:t,setFromEvent:n}=Qr();return{settings:e,pickedDate:t,setFromEvent:n}}const kse=(e,t)=>new Date(e,t,15,12,0,0,0),x2=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},Ese=new Set(["","","","","","","","","","","",""]),u7=e=>[..._i(new Date(e-1,5,15,12,0))??[],..._i(new Date(e,5,15,12,0))??[],..._i(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),Tse=e=>{const t=u7(e.getFullYear()),n=t.filter(o=>Ese.has(o.name));if(n.length<12){const o=t.findIndex(d=>d.date>e),l=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(l.date),end:new Date(u.date),cur:l,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},Ase=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function jse({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i=0,settings:a,pickedDate:o}){const l=Fi(B=>B.usePrevDay),u=a.ilunRule||"/",d=e.mingSikType??"/",h=_.useMemo(()=>{const B=QT(e);return ql(B,i)},[e,i]),p=_.useMemo(()=>Wl(e,h),[e,h]),b=_.useMemo(()=>{if(!p)return;const B=ht(p,d);return(l?to(B,-1):B).charAt(0)},[p,d,l]),y=_.useMemo(()=>e?ql(e,i):null,[e,i]),k=_.useMemo(()=>e&&y?Wl(e,y):null,[e,y]),w=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,S=e&&k?a.sinsalBase===""?(l?to(ht(k,d),-1):ht(k,d)).charAt(1):ct(k,w).charAt(1):null,j=_.useMemo(()=>kse(t,n),[t,n]),O=_.useMemo(()=>o?x2(new Date(o)):null,[o]),A=_.useMemo(()=>r?x2(r):null,[r]),C=_.useMemo(()=>O??A??j,[O,A,j]),{start:D,end:P,cur:I,next:U}=_.useMemo(()=>Tse(C),[C]),K=_.useMemo(()=>{const B=[],W=new Date(D);for(;W<P;)B.push(new Date(W)),W.setDate(W.getDate()+1);return B},[D,P]),q=_.useMemo(()=>{const B=u7(C.getFullYear()),W=B.filter(Z=>Z.date>=D&&Z.date<P),X=B.find(Z=>Z.date>=P);return X?[...W,X]:W},[C,D,P]),H=_.useMemo(()=>{const B=[];let W=[];const X=new Date(D).getDay();for(let Z=0;Z<X;Z+=1)W.push(null);for(const Z of K)W.length===7&&(B.push(W),W=[]),W.push(Z);for(;W.length<7;)W.push(null);return B.push(W),B},[K,D]);return{rule:u,dayStem:b,baseBranch:S,pickerNoon:O,termMarks:q,weeks:H,cur:I??null,next:U??null}}function Nse({setFromEvent:e}){return{handleDayClick:_.useCallback(n=>{e({at:n},"")},[e])}}function Ose({data:e,year:t,month:n,selectedMonth:r}){const i=ec(),a=Sse(),o=jse({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i,settings:a.settings,pickedDate:a.pickedDate}),l=Nse({setFromEvent:a.setFromEvent});return g.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[o.cur?.name?g.jsxs(g.Fragment,{children:[o.cur.name," "," ~ ",o.next?.name??""]}):`${t} ${n}`,o.termMarks.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",o.termMarks.map((u,d)=>g.jsxs("span",{children:[u.name," ",Ase(u.date),d<o.termMarks.length-1?"  ":""]},`${u.name}_${u.date.getTime()}_${d}`)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(u=>g.jsx("div",{className:"py-1",children:u},u))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:o.weeks.map((u,d)=>u.map((h,p)=>{if(!h)return g.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800"},`${d}-${p}`);const b=x2(h),y=new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0),k=new Date,w=b.getFullYear()===k.getFullYear()&&b.getMonth()===k.getMonth()&&b.getDate()===k.getDate(),j=!!o.pickerNoon&&b.getFullYear()===o.pickerNoon.getFullYear()&&b.getMonth()===o.pickerNoon.getMonth()&&b.getDate()===o.pickerNoon.getDate()||!o.pickerNoon&&w,O=i!==0?new Date(y.getTime()+i*60*1e3):y,A=UK(O,o.rule),C=A.charAt(0),D=A.charAt(1),P=wi(C,"stem",a.settings.charType),I=wi(D,"branch",a.settings.charType),U=a.settings.thinEum&&ro(C,"stem")?"font-thin":"font-bold",K=a.settings.thinEum&&ro(D,"branch")?"font-thin":"font-bold",q=!!o.dayStem&&a.settings.showSipSin,H=!!o.dayStem&&a.settings.showSibiUnseong,B=!!o.dayStem&&o.baseBranch!=null&&a.settings.showSibiSinsal,W=q?ka(o.dayStem,{stem:C}):"",X=q?ka(o.dayStem,{branch:D}):"",Z=H?Yo(o.dayStem,D):"",Y=B?qo({baseBranch:o.baseBranch,targetBranch:D,era:Of(a.settings.sinsalMode),gaehwa:!!a.settings.sinsalBloom}):"",J=o.termMarks.find(Q=>Q.date.getFullYear()===b.getFullYear()&&Q.date.getMonth()===b.getMonth()&&Q.date.getDate()===b.getDate());return g.jsxs("div",{onClick:()=>l.handleDayClick(y),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${j?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${A} (${b.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:b.getDate()}),J&&g.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:J.name})]}),q&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:W}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Wi(C,"stem",a.settings)}`,children:g.jsx("span",{className:U,children:P})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Wi(D,"branch",a.settings)}`,children:g.jsx("span",{className:K,children:I})}),q&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:X}),(H||B)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[H&&Z&&g.jsx("div",{children:Z}),B&&Y&&g.jsx("div",{children:Y})]})]},h.toISOString())}))})]})}function SP(e,t){const n=e.startYear??e.at.getFullYear(),r=t?t.startYear??t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=jn(a,315),l=ct(new Date(a,1,10));i.push({at:o,gz:l})}return i}function Cse({data:e}){const t=ec(),n=Nu(e,e.mingSikType,100,t),[r,i]=_.useState(null),[a,o]=_.useState(null),[l,u]=_.useState("il"),[d,h]=_.useState(null);_.useEffect(()=>{if(!n.length)return;const S=new Date,j=n.findIndex((O,A)=>{const C=n[A+1]?.at;return S>=O.at&&(!C||S<C)});j!==-1&&i(j)},[n]);const p=S=>S<=0&&n.length>1?1:S;_.useEffect(()=>{if(r===null)return;const S=p(r),j=n[S],O=n[S+1];if(!j)return;const A=SP(j,O);if(!Array.isArray(A)||A.length===0)return;const C=A.filter(U=>!!U&&U.at instanceof Date&&!Number.isNaN(U.at.getTime()));if(!C.length)return;const D=new Date,P=D.getTime();C.findIndex((U,K)=>{const q=C[K+1]?.at,H=U.at.getTime(),B=q?q.getTime():null;return P>=H&&(B===null||P<B)})!==-1&&o({year:D.getFullYear(),month:D.getMonth()})},[r,n]);const b=Zv(e,void 0,void 0,{dstOffsetMinutes:t}),{date:y}=Qr(),k=y.getMonth()+1===1?y.getFullYear()-1:y.getFullYear(),w=_.useMemo(()=>{if(!b?.dae?.gz)return[];const S=n.findIndex((D,P)=>{const I=n[P+1]?.at;return b.dae.at>=D.at&&(!I||b.dae.at<I)});if(S===-1)return[];const j=p(S),O=n[j],A=n[j+1],C=SP(O,A);return Array.isArray(C)?C.filter(D=>!!D&&D.at instanceof Date&&!Number.isNaN(D.at.getTime())):[]},[n,b?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(dse,{data:e}),l==="se"||l==="wol"||l==="il"?g.jsx(pse,{data:e,list:w,onSelect:()=>{u("wol")}}):null,l==="wol"||l==="il"?g.jsx(_se,{data:e,activeYear:k,onSelect:(S,j)=>{o({year:S,month:j}),u("il")},onSelectMonth:h}):null,l==="il"&&a&&g.jsx(Ose,{data:e,year:a.year,month:a.month+1,selectedMonth:d})]})}const Mse=new Set(NK),Dse=new Set(OK);function kP(e){return typeof e=="string"&&e.length>=2&&Mse.has(e[0])&&Dse.has(e[1])}function Ri(e,...t){if(kP(e))return e;for(const n of t)if(kP(n))return n;return""}const Pse={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function qg(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function Rse({data:e}){const t=xn(W=>W.settings),{manualHour:n}=Fi(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:l}=t,{date:u}=Qr(),d=ec(),h=e.mingSikType??"/",p=e.DayChangeRule??(e.mingSikType===""?"":""),b=_.useMemo(()=>jf(e),[e]),y=_.useMemo(()=>Vv(b,{dstOffsetMinutes:d}),[b,d]),k=_.useMemo(()=>$T(b,h,{dstOffsetMinutes:d}),[b,d,h]),w=_.useMemo(()=>Iv(k.day?.charAt(0)??""),[k.day]),S=!e.birthTime||e.birthTime==="",j=_.useMemo(()=>R6(y,k.hour,e.dir??"forward",120),[y,k.hour,e.dir]),O=_.useMemo(()=>I6(j,k.day,e.dir??"forward",p),[j,k.day,e.dir,p]),A=_.useMemo(()=>Ap(y,k.month,e.dir??"forward",120,b.birthPlace?.lon??127.5),[y,k.month,e.dir,b.birthPlace?.lon]),C=_.useMemo(()=>$6(A,k.year,e.dir??"forward",p,y),[A,k.year,e.dir,y,p]),D=_.useMemo(()=>{const W=j?.events?.[0];return W?{at:W.at,from:Ri(k.hour),to:Ri(W.gz)}:null},[j?.events,k.hour]),P=_.useMemo(()=>{const W=A?.events?.[0];return A?.firstChange?{at:A.firstChange,from:Ri(k.month),to:Ri(W?.gz??k.month)}:null},[A?.firstChange,A?.events,k.month]),I=_.useMemo(()=>{const W=S?n?n.stem+n.branch:"":Ri(qg(j.events,u)?.gz,k.hour);let X;if(S&&n){const Z=u.getFullYear(),Y=u.getMonth(),J=u.getDate(),Q=Pse[n.branch]??0,ce=new Date(Z,Y,J,Q,0),ae=ht(ce,h);X=Ri(ae,k.day)}else X=Ri(qg(O.events,u)?.gz,k.day);return{si:W,il:X,wl:Ri(qg(A.events,u)?.gz,k.month),yn:Ri(qg(C.events,u)?.gz,k.year)}},[u,j.events,O.events,A.events,C.events,k,S,n,h]),U=_.useMemo(()=>({si:Ri(no(u,h)),il:Ri(ht(u,h)),wl:Ri(Et(u)),yn:Ri(ct(u))}),[u,h]),K=_.useMemo(()=>a===""?k.day.charAt(1):k.year.charAt(1),[a,k.day,k.year]),q=_.useMemo(()=>Of(o),[o]),H=W=>{if(!W)return{unseong:"",shinsal:""};const X=wi(w,"stem",""),Z=wi(W.charAt(1),"branch",""),Y=wi(K,"branch","");return{unseong:r&&Yo(X,Z)||"",shinsal:i&&qo({baseBranch:Y,targetBranch:Z,era:q,gaehwa:!!l})||""}},B=(W,X,Z="myoun")=>{const Y=X,{unseong:J,shinsal:Q}=X?H(X):{unseong:"",shinsal:""},ce=Z==="myoun"&&S&&(W===""||W==="");return g.jsx(Id,{label:W,gz:Y,dayStem:w,settings:t,unseongText:X?J:"",shinsalText:X?Q:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:ce},`${Z}-${W}`)};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",Dm(y),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[B("",I.si,"myoun"),B("",I.il,"myoun"),B("",I.wl,"myoun"),B("",I.yn,"myoun")]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[B("",U.si,"live"),B("",U.il,"live"),B("",U.wl,"live"),B("",U.yn,"live")]})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"  "}),g.jsxs("div",{children:[":"," ",D?`${Dm(D.at)} (${D.from}  ${D.to})`:" "]}),g.jsxs("div",{children:[":"," ",P?`${Dm(P.at)} (${P.from}  ${P.to})`:" "]})]})]})}const Lse=["","","","","","","","","",""],Ise={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$se={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},d7={:"",:"",:"",:"",:""},f7={:"",:"",:"",:"",:""},h7={:"",:"",:"",:"",:""};function Bse(e,t){switch(e){case"":return t;case"":return d7[t];case"":return f7[t];case"":return h7[t];case"":return m7[t];default:return t}}const m7={:"",:"",:"",:"",:""};function zse({data:e,perStemElementScaled:t,dayStem:n,yongshinTop:r,yongshinKind:i,width:a=340,height:o=360}){const l=a/2,u=o/2-20,d=Math.min(a,o)*.33,h=_.useMemo(()=>{const w=(n??"").charAt(0);return $se[w]??null},[n]),p=_.useMemo(()=>e.map((w,S)=>{const j=Math.PI/2+2*-Math.PI*S/5;return{...w,angle:j,x:l+d*Math.cos(j),y:u-d*Math.sin(j)}}),[e,l,u,d]),b=w=>w?w.includes("")?"":w.includes("")?"":w.includes("")?"":w.includes("")?"":w.includes("")?"":null:null,y=(w,S)=>S===w?"":d7[w]===S?"":f7[w]===S?"":h7[w]===S?"":m7[w]===S?"":"",k=_.useMemo(()=>{if(!e||e.length===0)return null;const w=[...e].sort((P,I)=>I.value-P.value),S=w[0],O=w[w.length-1]?.name??"",A=b(r),C=h&&A?y(h,A):O;return{summary:i==="GYEOKGUK"?`${S.name}   ,    ${S.name}  .`:`${S.name}   ,  ${C}     .`,advice:S.value>45?`${S.name}         .`:"       ."}},[e,h,r,i]);return g.jsxs("div",{className:"w-full flex flex-col items-center p-6 bg-white dark:bg-neutral-900 rounded-[2.5rem] border border-neutral-100 dark:border-neutral-800 shadow-xl tracking-tighter transition-colors",children:[g.jsx("div",{className:"text-center mb-4",children:g.jsxs("h3",{className:"text-lg font-black text-neutral-800 dark:text-neutral-100",children:[n,"  "]})}),g.jsxs("svg",{width:a,height:o,className:"overflow-visible",children:[g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:g.jsx("path",{d:"M0,0 L10,3.5 L0,7 Z",fill:"#94a3b8",opacity:"0.4"})})}),p.map((w,S)=>{const j=p[(S+2)%5];return g.jsx("line",{x1:w.x,y1:w.y,x2:j.x,y2:j.y,stroke:"currentColor",className:"text-neutral-200 dark:text-neutral-800",strokeWidth:1.5,strokeDasharray:"4 4"},`line-ke-${S}`)}),p.map((w,S)=>{const j=p[(S+1)%5],O=(w.x+j.x)/2,A=(w.y+j.y)/2,C=O-l,D=A-u,P=l+C*1.45,I=u+D*1.45;return g.jsx("path",{d:`M${w.x},${w.y} Q${P},${I} ${j.x},${j.y}`,stroke:"#94a3b8",strokeWidth:2,strokeOpacity:.25,fill:"none",markerEnd:"url(#arrow)"},`path-sheng-${S}`)}),p.map(w=>{const S=w.name,j=h?Bse(S,h):null,O=j?Lse.filter(A=>Ise[A]===j).map(A=>[A,t?.[A]??0]):[];return g.jsxs("g",{transform:`translate(${w.x},${w.y})`,children:[g.jsx("circle",{r:40,fill:w.color,className:"stroke-white/20 dark:stroke-black/20",strokeWidth:1}),g.jsx("circle",{r:40,fill:"black",opacity:.05}),g.jsx("text",{textAnchor:"middle",dy:"-5",fontSize:15,className:"fill-white font-black",children:w.name}),g.jsxs("text",{textAnchor:"middle",dy:"15",fontSize:13,className:"fill-white/90 font-bold",children:[w.value,"%"]}),g.jsx("g",{transform:"translate(0, 48)",children:O.map(([A,C],D)=>{const P=A.charAt(0),I=Math.round(C),U=I===0;return g.jsxs("g",{transform:`translate(${(D===0?-1:1)*25}, 0)`,children:[g.jsx("rect",{x:"-21",y:"0",width:"42",height:"21",rx:"10.5",fill:U?"rgba(0,0,0,0.1)":"rgba(0,0,0,0.3)"}),g.jsxs("text",{textAnchor:"middle",y:"14.5",fontSize:12,className:`font-black ${U?"fill-neutral-400 dark:fill-neutral-500":"fill-white"}`,children:[g.jsx("tspan",{children:P}),g.jsx("tspan",{dx:"1",children:I})]})]},A)})})]},w.name)})]}),k&&g.jsxs("div",{className:"w-full mt-6 space-y-3",children:[g.jsx("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800 text-center",children:g.jsx("p",{className:"text-[12px] text-neutral-700 dark:text-neutral-300 font-bold",children:k.summary})}),g.jsx("div",{className:"px-4 py-3 bg-blue-50/50 dark:bg-blue-900/10 rounded-2xl border border-blue-100/30 text-center",children:g.jsxs("p",{className:"text-[11.5px] text-blue-700 dark:text-blue-300 font-bold",children:[" ",k.advice]})})]})]})}const Use=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function eA(e){return Math.max(0,Math.min(100,e))}function p7(e){const t=eA(e);return Use.find(r=>t>=r.min&&t<r.max)?.name??""}const Fse=[10,20,35,45,55,65,80];function Hse({value:e}){const[t,n]=_.useState(!1),r=_.useMemo(()=>eA(e),[e]),i=_.useMemo(()=>p7(r),[r]);_.useEffect(()=>{n(!0)},[]);const a=_.useMemo(()=>r>=80?{tag:"",desc:"      .",advice:"  () ()   ."}:r>=55?{tag:"",desc:"      .",advice:"      ."}:r>=45?{tag:"",desc:"        .",advice:"      ."}:r>=20?{tag:"",desc:"       .",advice:"() ()       ."}:{tag:"",desc:"       .",advice:"        ."},[r]);return g.jsxs("div",{className:"w-full p-6 bg-white dark:bg-neutral-900 rounded-3xl shadow-lg border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-end mb-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-neutral-800 dark:text-neutral-100 leading-tight",children:"    "}),g.jsx("p",{className:"text-[10px] text-neutral-400 uppercase tracking-tighter",children:"  "})]}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-2xl font-black text-neutral-800 dark:text-white",children:r.toFixed(0)}),g.jsx("span",{className:"text-xs font-bold text-neutral-500",children:"%"})]})]}),g.jsxs("div",{className:"relative mb-8 pt-4",children:[g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-neutral-400 mb-2 px-1",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"translate-x-1",children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"relative h-3 rounded-full bg-neutral-100 dark:bg-neutral-800 overflow-visible shadow-inner",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 via-emerald-400 via-yellow-400 to-red-500 opacity-80"}),Fse.map(o=>g.jsx("div",{className:"absolute top-0 h-3 w-[1.5px] bg-white/30 dark:bg-black/20",style:{left:`${o}%`}},o)),g.jsx("div",{className:"absolute left-1/2 top-0 w-0.5 h-3 bg-white/50 -translate-x-1/2 z-10"}),g.jsx("div",{className:"absolute -top-1.5 h-6 w-3 bg-white dark:bg-neutral-100 rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.3)] border-2 border-neutral-800 dark:border-white z-20 transition-all duration-1000 ease-out",style:{left:t?`${r}%`:"50%",transform:"translateX(-50%)"},children:g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("div",{className:"w-1 h-2 bg-neutral-300 rounded-full"})})})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:`px-3 py-1 rounded-full text-[11px] font-black border-2 ${r>=55?"border-red-500/20 bg-red-50 text-red-600":r>=45?"border-emerald-500/20 bg-emerald-50 text-emerald-600":"border-blue-500/20 bg-blue-50 text-blue-600"}`,children:[a.tag," (",i,")"]}),g.jsx("div",{className:"h-[1px] flex-1 bg-neutral-100 dark:bg-neutral-800"})]}),g.jsxs("div",{className:"px-1",children:[g.jsx("p",{className:"text-[12px] text-neutral-700 dark:text-neutral-300 font-bold leading-snug mb-1",children:a.desc}),g.jsxs("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed italic",children:[" ",a.advice]})]})]})]})}const EP={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Gse=["year","month","day","hour"],Yse=new Set(["","","","",""]),Kg=new Set(["","","","",""]),TP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},qse={:5,:7,:5,:-5,:-7,:-5};function Kse({natal:e,perStemElementScaled:t}){const[n,r]=_.useState(!1);_.useEffect(()=>{const b=setTimeout(()=>r(!0),100);return()=>clearTimeout(b)},[e]);const i=_.useMemo(()=>{if(!t||!e||e.length<4)return null;let b=0,y=0;Object.entries(t).forEach(([W,X])=>{Kg.has(W.charAt(0))?b+=X:y+=X});const k=b+y>0?(b-y)/(b+y):0;let w=0,S=0,j=0,O=0;e.forEach(W=>{[W[0],TP[W[1]]].forEach(X=>{X&&(Yse.has(X)?w+=1:S+=1,Kg.has(X)?j+=1:O+=1)})});const A=w+S>0?(w-S)/(w+S):0,C=j+O>0?(j-O)/(j+O):0;let D=0,P=0;e.forEach((W,X)=>{const Z=Gse[X],Y=EP[Z].stem,J=EP[Z].branch;Kg.has(W[0])?D+=Y:P+=Y;const Q=TP[W[1]];Q&&Kg.has(Q)?D+=J:P+=J});const I=D+P>0?(D-P)/(D+P):0,U=e[1]?.charAt(1),K=(qse[U]||0)/100,q=A*.3+C*.3+k*.2+I*.2+K,H=(Math.min(1,Math.max(-1,q))+1)*50,B=100-Math.abs(H-50)*2;return{yang:H,yin:100-H,essencePos:(A+1)*50,naturePos:(C+1)*50,harmony:B,category:H>=55?"":H<=45?"":""}},[e,t]),a=_.useMemo(()=>{if(!i)return null;const{yang:b,essencePos:y,naturePos:k,category:w,harmony:S}=i,j=Math.abs(y-k);let O="";w===""?O="              .":w===""?O=b>75?"    .       .":"         .":O=b<25?"    .         .":"   .         .";let A="";j<15?A="     .      .":j<40?A="       .    .":A="        .      .";let C="";return S>85?C="    .   .":w===""?C="         .":C="          .",{natureDetail:O,consistencyDetail:A,advice:C}},[i]);if(!i||!a)return null;const{yang:o,yin:l,essencePos:u,naturePos:d,harmony:h,category:p}=i;return g.jsxs("div",{className:"w-full p-6 bg-white dark:bg-neutral-900 rounded-3xl shadow-xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-start mb-10",children:[g.jsx("div",{children:g.jsx("h3",{className:"text-lg font-bold text-neutral-800 dark:text-neutral-100 leading-tight",children:"   "})}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 px-3 py-1.5 rounded-xl text-center border border-emerald-100 dark:border-emerald-800/50",children:[g.jsx("div",{className:"text-[9px] font-bold text-emerald-600 mb-0.5 uppercase",children:""}),g.jsxs("div",{className:"text-base font-black text-emerald-500 leading-none",children:[h.toFixed(0),"%"]})]})]}),g.jsxs("div",{className:"relative mb-14 px-1",children:[n&&g.jsxs("div",{className:"absolute -top-8 transition-all duration-1000 ease-out flex flex-col items-center",style:{left:`${u}%`,transform:"translateX(-50%)"},children:[g.jsx("span",{className:"text-[10px] font-bold text-blue-500 mb-1",children:""}),g.jsx("div",{className:"w-[1.5px] h-3 bg-blue-500/40 rounded-full"})]}),g.jsxs("div",{className:"relative w-full h-8 bg-neutral-100 dark:bg-neutral-800 rounded-2xl flex overflow-hidden shadow-inner border-[3px] border-white dark:border-neutral-900",children:[g.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 ease-out",style:{width:n?`${l}%`:"50%"}}),g.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000 ease-out",style:{width:n?`${o}%`:"50%"}}),g.jsx("div",{className:"absolute left-1/2 top-0 w-[1px] h-full bg-white/30 -translate-x-1/2 z-10"})]}),n&&g.jsxs("div",{className:"absolute -bottom-8 transition-all duration-1000 ease-out flex flex-col items-center",style:{left:`${d}%`,transform:"translateX(-50%)"},children:[g.jsx("div",{className:"w-[1.5px] h-3 bg-red-500/40 rounded-full"}),g.jsx("span",{className:"text-[10px] font-bold text-red-500 mt-1",children:""})]})]}),g.jsxs("div",{className:"space-y-3 mb-5 mt-6",children:[g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("h4",{className:"text-[11.5px] font-bold text-neutral-800 dark:text-neutral-300 mb-1.5 flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1 h-1 bg-red-400 rounded-full"}),"  "]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed",children:a.natureDetail})]}),g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("h4",{className:"text-[11.5px] font-bold text-neutral-800 dark:text-neutral-300 mb-1.5 flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full"}),"  "]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed",children:a.consistencyDetail})]})]}),g.jsxs("div",{className:`text-center py-3 rounded-xl text-[11px] font-bold tracking-tight shadow-sm ${p===""?"bg-red-50 text-red-600 dark:bg-red-950/20":p===""?"bg-blue-50 text-blue-600 dark:bg-blue-950/20":"bg-emerald-50 text-emerald-600 dark:bg-emerald-950/20"}`,children:[" ",a.advice]})]})}function tm(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function fa({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,l=t.length>0?t:["#"],u=o?l.filter(p=>p!=="#"):l,h=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:h,children:e}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+tm(p,"natal"),children:p},`natal-${b}`)),n.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+tm(p,"dae"),children:p},`dae-${b}`)),r.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+tm(p,"se"),children:p},`se-${b}`)),i.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+tm(p,"wol"),children:p},`wol-${b}`)),a.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+tm(p,"il"),children:p},`il-${b}`))]})]})}function w2(e){return Array.isArray(e)?e:[]}function Wg(e,t){const n=new Set(w2(e));return w2(t).filter(i=>!n.has(i))}function Wse({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=Xv(e),l=$l({natal:e}),u=t?$l({natal:e,daewoon:t}):l,d=n?$l({natal:e,daewoon:t,sewoon:n}):u,h=r?$l({natal:e,daewoon:t,sewoon:n,wolwoon:r}):d,p=i?$l({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):h,b=w=>({natal:w2(o[w]),dae:Wg(l[w],u[w]),se:Wg(u[w],d[w]),wol:Wg(d[w],h[w]),il:Wg(h[w],p[w])}),y={cheonganHap:b("cheonganHap"),cheonganChung:b("cheonganChung"),jijiSamhap:b("jijiSamhap"),jijiBanhap:b("jijiBanhap"),jijiBanghap:b("jijiBanghap"),jijiYukhap:b("jijiYukhap"),amhap:b("amhap"),ganjiAmhap:b("ganjiAmhap"),jijiChung:b("jijiChung"),jijiHyeong:b("jijiHyeong"),jijiPa:b("jijiPa"),jijiHae:b("jijiHae")},k=w=>a===""?{natal:w.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:w.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:""}),g.jsx(fa,{label:"",...k(y.cheonganHap)}),g.jsx(fa,{label:"",...k(y.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(fa,{label:"",...k(y.jijiSamhap)}),g.jsx(fa,{label:"",...k(y.jijiBanhap)}),g.jsx(fa,{label:"",...k(y.jijiBanghap)}),g.jsx(fa,{label:"",...k(y.jijiYukhap)}),g.jsx(fa,{label:"",...k(y.amhap)}),g.jsx(fa,{label:"",...k(y.ganjiAmhap)}),g.jsx(fa,{label:"",...k(y.jijiChung)}),g.jsx(fa,{label:"",...k(y.jijiHyeong)}),g.jsx(fa,{label:"",...k(y.jijiPa)}),g.jsx(fa,{label:"",...k(y.jijiHae)})]})}function Vse(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Zse({items:e,source:t}){const n=e.length>0?e:["#"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Vse(r,t),children:r},`${t}-${i}-${r}`))})}function AP({title:e,rows:t}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:i,children:n.label}),g.jsx(Zse,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function Xse({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=xn(),[l,u]=_.useState(""),[d,h]=_.useState("");_.useEffect(()=>{o.sinsalBase===""?(u(""),h("")):(u(""),h(""))},[o.sinsalBase]);const p=_.useMemo(()=>({voidBasis:l===""?"day":"year",samjaeBasis:d===""?"day":"year"}),[l,d]),b=_.useMemo(()=>af({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:y,bad:k,meta:w}=b,S=q=>q.map(H=>H==="#"?H:` ${H}`),j=(q,H)=>{const B=["natal"];return H===""&&B.push("natal"),H===""&&B.push("natal","dae"),H===""&&B.push("natal","dae","se"),H===""&&B.push("natal","dae","se","wol"),H===""&&B.push("natal","dae","se","wol","il"),q.filter(W=>B.includes(W.source))},O=[{label:"",items:S(y.si),source:"natal"},{label:"",items:S(y.il),source:"natal"},{label:"",items:S(y.wol),source:"natal"},{label:"",items:S(y.yeon),source:"natal"},{label:"",items:y.dae,source:"dae"},{label:"",items:y.se,source:"se"},{label:"",items:y.wolun,source:"wol"},{label:"",items:y.ilun,source:"il"}],A=[{label:"",items:S(k.si),source:"natal"},{label:"",items:S(k.il),source:"natal"},{label:"",items:S(k.wol),source:"natal"},{label:"",items:S(k.yeon),source:"natal"},{label:"",items:k.dae,source:"dae"},{label:"",items:k.se,source:"se"},{label:"",items:k.wolun,source:"wol"},{label:"",items:k.ilun,source:"il"}],C=j(O,a),D=j(A,a),P=w.voidPair.day?`(${w.voidPair.day.join("")})`:"()",I=w.voidPair.year?`(${w.voidPair.year.join("")})`:"()",U=w.samjaeYears.day?`(${w.samjaeYears.day.join("")})`:"()",K=w.samjaeYears.year?`(${w.samjaeYears.year.join("")})`:"()";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:l,onChange:q=>u(q.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:P}),g.jsx("option",{value:"",children:I})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:d,onChange:q=>h(q.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:U}),g.jsx("option",{value:"",children:K})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(AP,{title:"()",rows:C}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(AP,{title:"()",rows:D})]})]})}const ya={year:0,month:1,day:2,hour:3},g7={[ya.year]:.3,[ya.month]:.5,[ya.day]:.3,[ya.hour]:.3},b7={[ya.year]:.15,[ya.month]:.2,[ya.day]:0,[ya.hour]:.15},Jse=e=>Lm.has(e)?e:er[e]??e,Qse=e=>Jd.has(e)?e:Kn[e]??e,ele=e=>typeof e=="string"&&e.length>=2?Jse(e.slice(-1)):"",tle=e=>typeof e=="string"&&e.length>=1?Qse(e.slice(0,1)):"",Tn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),nle={:Tn(2,0,.5,2),:Tn(2,0,0,2),:Tn(2,0,0,2),:Tn(0,2,2,0),:Tn(0,2,2,0),:Tn(0,2,1,2),:Tn(0,2,2,.5),:Tn(0,2,2,0),:Tn(0,2,2,1),:Tn(2,0,0,2),:Tn(2,0,0,2),:Tn(2,0,1,1)},rle={:Tn(0,1,1,0),:Tn(0,1,1,0),:Tn(0,2,2,0),:Tn(0,2,2,0),:Tn(0,0,1,0),:Tn(0,0,0,1),:Tn(1,0,0,1),:Tn(1,0,0,1),:Tn(2,0,0,2),:Tn(2,0,0,2)},jP=e=>Math.max(0,Math.min(100,e));function NP(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function ile(e){let t=0,n=0,r=0,i=0;return[ya.year,ya.month,ya.day,ya.hour].forEach(a=>{const o=nle[ele(e[a])],l=rle[tle(e[a])],u=g7[a],d=b7[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),d>0&&l&&(t+=l.han*d,n+=l.nan*d,r+=l.jo*d,i+=l.seup*d)}),{han:t,nan:n,jo:r,seup:i}}function ale(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function ole(e){const t=ale(e);return _.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=ile(t),o=NP(n,r),l=NP(a,i);return{hanNanPct:jP(o),joSeupPct:jP(l),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:g7,stem:b7}}},[t])}function OP({label:e,percent:t,leftHint:n,midHint:r,rightHint:i,gradientClass:a}){const[o,l]=_.useState(!1),u=_.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),d=[20,35,50,65,80];return _.useEffect(()=>{l(!0)},[]),g.jsxs("div",{className:"flex-1 p-4 bg-white dark:bg-neutral-900 rounded-3xl shadow-sm border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("span",{className:"text-[11px] font-black text-neutral-400 uppercase",children:e}),g.jsxs("span",{className:"text-sm font-black dark:text-white",children:[u.toFixed(0),"%"]})]}),g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-neutral-400 mb-1.5 px-0.5",children:[g.jsx("span",{children:n}),g.jsx("span",{children:r}),g.jsx("span",{children:i})]}),g.jsxs("div",{className:"relative h-2.5 rounded-full bg-neutral-100 dark:bg-neutral-800 overflow-visible shadow-inner",children:[g.jsx("div",{className:`absolute inset-0 rounded-full opacity-80 ${a}`}),d.map(h=>g.jsx("div",{className:"absolute top-0 h-2.5 w-[1px] bg-white/20 dark:bg-black/10",style:{left:`${h}%`}},h)),g.jsx("div",{className:"absolute -top-1.5 h-5 w-2.5 bg-white dark:bg-neutral-100 rounded-full shadow-md border-2 border-neutral-800 dark:border-white z-20 transition-all duration-1000 ease-out",style:{left:o?`${u}%`:"50%",transform:"translateX(-50%)"}})]})]})}function sle({natal:e}){const{hanNanPct:t,joSeupPct:n}=ole(e),r=_.useMemo(()=>{let i="";return t>60?i+="   , ":t<40?i+="   , ":i+="    , ",n>60?i+="     .":n<40?i+="      .":i+="     .",i},[t,n]);return g.jsxs("div",{className:"w-full space-y-3",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsx(OP,{label:" ()",percent:t,leftHint:"",midHint:"",rightHint:"",gradientClass:"bg-gradient-to-r from-blue-500 via-neutral-200 to-red-500"}),g.jsx(OP,{label:" ()",percent:n,leftHint:"",midHint:"",rightHint:"",gradientClass:"bg-gradient-to-r from-teal-600 via-neutral-200 to-orange-600"})]}),g.jsx("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/30 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:g.jsxs("p",{className:"text-[11.5px] text-neutral-600 dark:text-neutral-400 leading-relaxed text-center font-medium",children:[g.jsx("span",{className:"text-neutral-400 mr-2",children:" :"}),r]})})]})}const Vr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Wa={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},lle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ny={:"",:"",:"",:"",:""},y7={:"",:"",:"",:"",:""},Zm={:"",:"",:"",:"",:""},v7={:"",:"",:"",:"",:""},cle={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},ule={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function tA(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function x7(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function nA(e){return e==="hgc"?ule:cle}const dle={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},E1={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},w7={:"",:"",:"",:"",:""},_7={:"",:"",:"",:""},fle=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],hle=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],mle={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Qe=(e,t)=>`${e}${t}`,Ii=(e,t,n)=>`${e}${t}${n}`,ple={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},CP={[Qe("","")]:[""],[Qe("","")]:["",""],[Qe("","")]:["",""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:["",""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:["",""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""]},MP={[Ii("","","")]:[""],[Ii("","","")]:[""],[Ii("","","")]:[""],[Ii("","","")]:[""],[Ii("","","")]:[""],[Ii("","","")]:[""],[Ii("","","")]:[""],[Ii("","","")]:[""],[Ii("","","")]:[""],[Ii("","","")]:[""],[Ii("","","")]:["",""]},gle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function va(e){return["","","","",""].includes(e)}function ble(e){return["","","","","",""].includes(e)}const T1=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,ma=e=>e&&e.length>=1?e.charAt(0):"",Mn=e=>e&&e.length>=2?e.charAt(1):"",yle=e=>Array.from(new Set(e));function vle(e,t){const n=dle[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function xle(e){return Vr[e]??""}function Va(e,t){const n=Vr[e],r=Vr[t];if(!n||!r)return"";let i;r===n?i="":r===Ny[n]?i="":r===Zm[n]?i="":r===v7[n]?i="":r===y7[n]?i="":i="";const a=va(e)===va(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function wle(e,t){const n=Vr[e],r=Wa[t];if(!n||!r)return"";let i;r===n?i="":r===Ny[n]?i="":r===Zm[n]?i="":r===v7[n]?i="":r===y7[n]?i="":i="";const a=ble(t)===va(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function _le(e){return{:"",:"",:"",:"",:""}[e]??""}function _2(e,t){const n=xle(e),r=va(e);let i;t===n?i="":Ny[n]===t?i="":Ny[t]===n?i="":Zm[n]===t?i="":Zm[t]===n?i="":i="";const a=r===va(_le(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const Sle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},kle=e=>/^(|||||||||)$/.test(e);function Ele(e){return e?kle(e)?e:Sle[e]??"":""}function Vg(e){return Ele(ma(e))}function Tle(e){return e?.charAt(0)??""}function Ale(e){return e?.charAt(1)??""}function jle(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),l=fe=>(fe?.length??0)>=1?fe.charAt(0):"",u=fe=>(fe?.length??0)>=2?fe.charAt(1):"",d=[r,i,a,o].map(l).filter(Boolean),h=new Set(Object.keys(Wa)),p=[r,i,a,o].map(u).filter(fe=>!!fe&&h.has(fe)),b=l(a),y=mle[b]??!1,k=new Set,w=t==="classic"?Rv:Lv,S=new Set(["","","","","","","","","",""]),j=fe=>(w[fe]??[]).filter(Me=>S.has(Me)),O=(fe,Me)=>{const _e=Wa[Me];return _e?_2(fe,_e):null},A={:0,:0,:0,:0,:0};for(const fe of d){const Me=Vr[fe];Me&&(A[Me]+=10)}const C=[];for(const fe of p){const Me=lle[fe];Me&&C.push(Me);const _e=Wa[fe];_e&&(A[_e]+=6)}const P=[...d,...C].map(fe=>Va(b,fe)),I={:["",""],:["",""],:["",""],:["",""],:["",""]},U=fe=>P.filter(Me=>Me===fe).length,K=fe=>P.filter(Me=>I[fe].includes(Me)).length,q=p[1],H=!!b&&gle[b]===q,B=n.elementPercent100;B.>=20&&B.>=20&&B.>=15&&k.add("");const W=[r,i,a,o].filter(Boolean),X=[];for(const fe of W){const Me=fe.charAt(0),_e=fe.charAt(1);X.push(Va(b,Me)),X.push(O(b,_e))}const Z=(fe,Me)=>{const _e=(Ne,Ue)=>!!Ne&&!!Ue&&fe.includes(Ne)&&Me.includes(Ue)||Me.includes(Ne)&&fe.includes(Ue);for(let Ne=0;Ne+1<X.length;Ne+=2)if(_e(X[Ne],X[Ne+1]))return!0;return!1},Y=fe=>X.some(Me=>!!Me&&fe.includes(Me)),J=U("")+U(""),Q=U(""),ce=K(""),ae=K(""),z=Z(["",""],["",""]);if((Q>=1||J>=2)&&ce>=1&&J>ce&&ae<=1&&z&&k.add(""),Y(I.)&&Y(I.)&&Z(I.,I.)){const fe=P.includes("");k.add(fe?"":"")}K("")>=2&&K("")>=2&&Math.abs(K("")-K(""))<=1&&K("")<=1&&K("")<=1&&k.add("");const V=U(""),ne=U(""),oe=U("")+U(""),ue=U("")+U(""),pe=K("");ne>=2&&oe>=1&&A.+A.>=20&&k.add(""),ne>=2&&ue>=1&&A.+A.>=20&&k.add(""),ne>=2&&ue>=1&&A.+A.>=20&&Z([""],["",""])&&pe<=1&&k.add(""),V>=2&&ue>=1&&A.+A.>=20&&Z([""],["",""])&&pe<=1&&k.add("");const ye=(fe,Me)=>{const _e=Vr[fe],Ne=Wa[Me];return!!_e&&!!Ne&&_e===Ne},Oe=[r,i,a,o].filter(Boolean),ie=u(a),Te=ye(b,ie),xe=Oe.map(fe=>fe.charAt(0)).filter(fe=>["",""].includes(Va(b,fe)));let se=!1;for(const fe of Oe){const Me=fe.charAt(0),_e=fe.charAt(1);if(xe.includes(Me)&&ye(Me,_e)){se=!0;break}}Te&&se&&k.add(""),K("")>=3&&K("")>=.5*(K("")+K("")+K("")+K(""))&&k.add(""),K("")>=3&&K("")>=.5*(K("")+K("")+K("")+K(""))&&k.add(""),K("")>=3&&K("")>=1&&k.add(""),K("")>=3&&K("")+K("")<=1&&k.add("");const ze=U("");K("")+K("")>=2&&ze===1&&K("")>=1&&k.add(""),ze>=2&&oe+K("")>=3&&k.add("");const Ye=V+ne;(V>=2||Ye>=2)&&ue>=1&&Ye>ue&&k.add(""),ne>=2&&ue>=1&&Ye>ue&&k.add("");const Ze=U(""),Ce=U("");Ze>=2&&ze+Ce>=1&&k.add(""),Ze>=2&&ze+Ce===0&&k.add(""),y&&Ze>=2&&ze>=1&&k.add(""),!y&&Ze>=2&&ze>=1&&k.add(""),U("")>=2&&U("")>=1&&k.add(""),U("")>=1&&U("")>=1&&Z([""],[""])&&k.add(""),H&&ze>=1&&K("")+K("")>=2&&k.add("");const Be=[u(r),u(i),u(a),u(o)].filter(Boolean),De=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),Xe=new Set(De.map(fe=>Va(b,fe))),gt=new Set(Be.flatMap(fe=>{const Me=Wa[fe];return Me?[_2(b,Me)]:[]})),Mt=new Set(Be.flatMap(fe=>j(fe).map(Me=>Va(b,Me))));return["","","","",""].forEach(fe=>{const Me=I[fe],_e=Me.some(Je=>Xe.has(Je)),Ne=Me.some(Je=>gt.has(Je)),Ue=Me.some(Je=>Mt.has(Je));!_e&&!Ne&&!Ue?k.add(`${fe}`):!_e&&!Ne&&Ue&&k.add(`${fe}`)}),Array.from(k)}const Nle=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=ma(n),i=Mn(n),a=Vr[r],o=Wa[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function Ole(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,l,u]=(t??[]).slice(0,4),d=[ma(a),ma(o),ma(l),ma(u)].filter(Boolean),h=[Mn(a),Mn(o),Mn(l),Mn(u)].filter(Boolean),p=Vr[n],b=d.map(fe=>Va(n,fe)),y=[],k=fe=>d.filter(Me=>Me===fe).length,w=fe=>h.filter(Me=>Me===fe).length,S=fe=>fe.every(Me=>h.includes(Me)),j=fe=>b.some(Me=>fe.includes(Me)),O=ma(o),A=fe=>va(fe),C=()=>{const fe=d.map(Me=>Vr[Me]);return fe.length===4&&fe.every(Me=>Me===fe[0])},D=()=>{if(d.length!==4)return!1;const fe=d.map(A),Me=fe[0]&&!fe[1]&&fe[2]&&!fe[3],_e=!fe[0]&&fe[1]&&!fe[2]&&fe[3];return Me||_e};va(n)&&w7[n]===r&&y.push("");const P=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[fe,Me]of P)if(n===fe&&r===Me){y.push("");break}!va(n)&&_7[n]===r&&y.push("");const I=E1[n];I&&Mn(l)===I&&p===Wa[Mn(l)]&&y.push(""),I&&Mn(u)===I&&p===Wa[Mn(u)]&&y.push("");const U=[a,o,l,u].map(Tle),K=[a,o,l,u].map(Ale);for(const fe of U);for(const fe of K);const q=i==="hgc"?Lv:Rv;function H(fe){return(q[fe]??[]).filter(Me=>["","","","","","","","","",""].includes(Me))}const B=[a,o,l,u].filter(Boolean),X=B.flatMap(fe=>[fe.charAt(0),fe.charAt(1)]).flatMap(fe=>{try{if(["","","","","","","","","",""].includes(fe))return[Va(n,fe)];if(["","","","","","","","","","","",""].includes(fe)){const Me=wle(n,fe),_e=H(fe).map(Ne=>Va(n,Ne));return[Me,..._e]}return[]}catch{return[]}}),Z=fe=>X.some(Me=>fe.includes(Me)),Y=(fe,Me)=>{const _e=[],Ne=[];for(const Je of B){const lt=Je.charAt(0),Rt=Je.charAt(1);_e.push(Va(n,lt));const Rn=Wa[Rt];Rn?Ne.push(_2(n,Rn)):Ne.push(null)}const Ue=(Je,lt)=>!!Je&&!!lt&&(fe.includes(Je)&&Me.includes(lt)||Me.includes(Je)&&fe.includes(lt));for(let Je=0;Je<_e.length;Je++)if(Ue(_e[Je],Ne[Je]))return!0;for(let Je=0;Je<_e.length-1;Je++)if(Ue(_e[Je],_e[Je+1])||Ue(Ne[Je],Ne[Je+1]))return!0;return!1},J={:["",""],:["",""],:["",""],:["",""]};Z([...J.])&&Z([...J.])&&Y([...J.],[...J.])&&y.push(""),Z([...J.])&&Z([...J.])&&Y([...J.],[...J.])&&y.push("");const Q=fe=>b.filter(Me=>fe.includes(Me)).length,ce=Q(["",""]),ae=Q([""]),z=Q([""]),V=Q(["",""]),ne=Q(["",""]),oe=Q(["",""]);ae>=1&&ce>=1&&ce>=ae&&z<=ae&&y.push("");const ue=Q([""]);ue>=1&&V>=1&&ue>=V&&y.push(""),b.includes("")&&V>=1&&y.push("");const ye=Nle(t),Oe=Object.entries(ye).sort((fe,Me)=>Me[1]-fe[1]),ie=Oe[0];if(ie&&ie[1]>=60&&y.push(`(${ie[0]})`),Oe.length>=2){const[fe,Me]=Oe[0],[,_e]=Oe[1];Me>=75&&Me-_e>=12&&p!==fe&&y.push(`(${fe})`)}for(const fe of fle){const Me=d.includes(fe.a),_e=d.includes(fe.b);if(!Me||!_e)continue;const Ne=fe.to,Ue=ye[Ne]??0,Je=Vr[fe.a],lt=Vr[fe.b],Rt=Math.max(ye[Je]??0,ye[lt]??0),Rn=Wa[r]===Ne,Ji=Object.entries(ye).sort((on,xr)=>xr[1]-on[1])[0]?.[0]===Ne;let or=!1;Ue>=60&&(Rn||Ji)&&Rt<=20&&Ue-Rt>=20&&(y.push(`(${Ne})`),or=!0),!or&&Ue>=50&&(Rn||Ji)&&Rt<=25&&(y.push(`(${Ne})`),or=!0),!or&&Ue>=35&&y.push(`(${Ne})`)}const Te=`${ma(u)}${Mn(u)}`;["",""].includes(n)&&["","",""].includes(Te)&&y.push(""),["","","",""].includes(Mn(u))&&y.push(""),["",""].includes(n)&&(Mn(l)===""||Mn(o)==="")&&!h.includes("")&&y.push("");const xe=d.some(fe=>fe===""||fe===""),se=h.some(fe=>fe===""||fe==="");["",""].includes(Mn(l))&&!xe&&!se&&y.push(""),["","",""].every(fe=>d.includes(fe))&&y.push(""),["","",""].every(fe=>d.includes(fe))&&y.push(""),["","",""].every(fe=>d.includes(fe))&&y.push("");const ze=Object.values(ye).sort((fe,Me)=>Me-fe);ze.length>=3&&ze[0]-ze[2]<=8&&ze[0]+ze[1]+ze[2]>=80&&y.push(""),ne>=1&&oe>=1&&Math.abs(ne-oe)<=1&&y.push(""),S(["","","",""])&&y.push(""),S(["","","",""])&&y.push(""),S(["","","",""])&&y.push(""),h.length===4&&h.every(fe=>fe===h[0])&&y.push(""),d.length===4&&C()&&D()&&y.push(""),t.every(fe=>fe&&fe===t[0])&&y.push(""),d.length===4&&d.every(fe=>fe===d[0])&&h.length===4&&h.every(fe=>fe===h[0])&&y.push(""),ce>=1&&(Mn(l)===E1[n]||Mn(u)===E1[n])&&y.push(""),k("")>=3&&S(["","",""])&&["","",""].includes(Mn(l))&&y.push("");const Ze=n===""||n==="",Ce=[["","",""],["","",""]],Be=[["","",""],["","",""]];Ze&&(Ce.some(fe=>S(fe))||Be.some(fe=>S(fe)))&&y.push("");const De=new Set(["","","","","",""]),Xe=`${ma(l)}${Mn(l)}`;if(De.has(Xe)&&w("")>=2&&(j(["",""])||h.includes("")||h.includes("")||j(["",""])||y.push("")),new Set(["","","","","",""]).has(Xe)&&w("")>=2&&h.includes("")&&y.push(""),n===""&&`${ma(u)}${Mn(u)}`==""){const fe=Va(n,O);!["","","",""].includes(fe)&&j(["",""])&&!h.includes("")&&!h.includes("")&&y.push("")}return new Set(["","",""]).has(Xe)&&`${ma(u)}${Mn(u)}`==""&&!h.includes("")&&!j(["",""])&&y.push(""),Xe===""&&w("")+w("")>=2&&y.push(""),(Xe===""||Xe==="")&&w("")>=2&&!j(["",""])&&!h.includes("")&&y.push(""),n===""&&S(["","",""])&&y.push(""),Xe===""&&`${ma(u)}${Mn(u)}`==""&&y.push(""),yle(y)}function Cle(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function Mle(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const DP=1e3*60*60*24;function Zg(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function Dle(e){let t=_i(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=_i(r)}return t}function Ple(e){const t=ple[e];return Array.isArray(t)&&t.length>0?t[0]:null}function Rle(e,t){const n=Ple(e);if(!n)return null;const r=Dle(t),i=r.findIndex(d=>d.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const l=Math.floor((Zg(t)-Zg(a))/DP)+1,u=o?Math.max(1,Math.floor((Zg(o)-Zg(a))/DP)):30;return{dayIdx:l<1?1:l,spanDays:u}}function Lle(e){return(e.?.w??0)+(e.?.w??0)+e..w}function Ile(e,t,n){const r=Math.max(1,Lle(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,l=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+l?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function S7(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:l,mapping:u}=e,d=[],h=x7(u),p=nA(h);if(!tA(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const b=p[n];if(!b)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const y={:b.?{stem:T1(b..stem),w:b..w}:void 0,:b.?{stem:T1(b..stem),w:b..w}:void 0,:{stem:T1(b..stem),w:b..w}},k=y..stem;let w=k;const S=Rle(n,r);if(["","","",""].includes(n)&&vle(n,o)&&y.)w=y..stem,d.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(S){const B=Ile(y,S.dayIdx,S.spanDays);w=B.stem,d.push({kind:"BUNIL_PICK",from:B.from})}else w=k,d.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function j(B,W){if(!B)return!1;if(W.includes(B))return!0;const X=Vr[B];return X?W.some(Z=>Vr[Z]===X):!1}let O="";w&&j(w,a)&&!l?.(w)?(O=w,d.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):w&&l?.(w)&&d.push({kind:"NEUTRALIZED"});const A=O||k;let C="";const D=Vr[A];if(D){const B=Object.entries(Zm).find(([,W])=>W===D)?.[0]??null;B&&(C=Object.entries(Vr).find(([X,Z])=>Z===B&&va(X)===va(A))?.[0]??"")}let P="-";const I=Va(t,A),U=hle.some(([B,W])=>B===t&&W===n),K=va(t)&&w7[t]===n,q=!va(t)&&_7[t]===n;I===""||I===""?U?(P="",d.push({kind:"EX_GEONLOK"})):K?(P="",d.push({kind:"EX_YANGIN"})):q?(P="",d.push({kind:"EX_WOLGEOP"})):d.push({kind:"EX_EXCLUDED_BIGEOP"}):P=Mle(I);const H=Ole({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:k,:w,:O||"-",:A||"-",:C||"-",:P,:H,reason:Cle(d),reasonTokens:d}}function $le(e){const[t,n,r,i]=e,a=Vg(i),o=Vg(r),l=Vg(n),u=Vg(t),d=[],h=[[a,o],[o,l],[l,u]];for(const[b,y]of h){if(!b||!y)continue;const k=Qe(b,y),w=CP[k];w?.length&&d.push(...w);const S=Qe(y,b);if(S!==k){const j=CP[S];j?.length&&d.push(...j)}}const p=[[a,o,l],[o,l,u]];for(const[b,y,k]of p){if(!b||!y||!k)continue;const w=Ii(b,y,k),S=MP[w];S?.length&&d.push(...S);const j=Ii(k,y,b);if(j!==w){const O=MP[j];O?.length&&d.push(...O)}}return Array.from(new Set(d))}const Ble=["","","","",""];function zle(e){return Ble.includes(e)}function Ule(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function nm(e,t){if(!t)return e;const n=(zle(t),t);return`${e}(${n})`}const Fle={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},Hle={:e=>({title:nm("",e),short:"     ."}),:e=>({title:nm("",e),short:"   ."}),:e=>({title:nm("",e),short:"   ."}),:e=>({title:nm("",e),short:"    ."}),:e=>({title:nm("",e),short:"    ."})};function Gle(e){const{base:t,inner:n}=Ule(e);return t===""||t===""||t===""||t===""||t===""?Hle[t](n):Fle[t]}function Yle(e){const t=Gle(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const qle=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),PP={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function Kle(e){if(qle(PP,e))return PP[e]}const RP={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},Wle={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function Vle(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function Zle(e,t){return e===""?{title:`${t}`,short:`${RP[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${RP[t]}()     .`,hint:" X /  O"}}function Xle(e){const t=Vle(e);return t?Zle(t.kind,t.group):Wle[e]}function Jle(e){const t=Xle(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Qle={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function ece(e){return Qle[e]?.text}const tce=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},nce={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},rce={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},ice=e=>e.replace(/^\s*:\s*/,"").trim();function ace(e){const t=ice(e);return rce[t]}function oce(e){const t=nce[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${tce(e.from)})`}:t}const Yc=_.memo(({text:e,color:t,onClick:n})=>{const r={violet:"bg-violet-50 text-violet-700 border-violet-200 dark:bg-violet-900/20 dark:text-violet-300 dark:border-violet-800",amber:"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800",blue:"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",green:"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800",red:"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800"};return g.jsx("button",{type:"button",onClick:n,className:`px-2.5 py-1 text-[11px] font-bold rounded-lg border shadow-sm whitespace-nowrap active:scale-95 transition-transform cursor-pointer ${r[t]}`,children:e})}),Ad=({text:e})=>g.jsxs("div",{className:"absolute z-50 left-0 top-full mt-2 w-[220px] p-3 bg-white dark:bg-neutral-800 rounded-xl shadow-xl border border-neutral-200 dark:border-neutral-700 text-[11px] leading-relaxed text-left text-neutral-700 dark:text-neutral-200 pointer-events-none transition-none",children:[g.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-white dark:bg-neutral-800 border-t border-l border-neutral-200 dark:border-neutral-700 rotate-45"}),e]}),Xg=_.memo(({title:e,children:t})=>g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("div",{className:"text-[10px] font-black text-neutral-400 dark:text-neutral-500 uppercase pl-1",children:e}),g.jsx("div",{className:"flex flex-wrap gap-1.5",children:t})]}));function sce({pillars:e,tab:t,birthDate:n,emittedStems:r,otherBranches:i,isNeutralized:a,mapping:o,unified:l}){const[u,d]=_.useState(null);_.useEffect(()=>{d(null)},[t,e]);const h=_.useMemo(()=>{const[w,S,j,O]=e,A=U=>U&&U.length>=1?U.charAt(0):"",C=U=>U&&U.length>=2?U.charAt(1):"",D=n instanceof Date&&!Number.isNaN(n.getTime())?n:new Date,P=[A(w),A(S),A(j),A(O)].filter(U=>!!U),I=[C(w),C(j),C(O)].filter(U=>!!U);return S7({dayStem:A(j),monthBranch:C(S),date:D,pillars:e,emittedStems:r??P,otherBranches:i??I,isNeutralized:a,mapping:o})},[e,n,r,i,a,o]),p=_.useMemo(()=>$le(e),[e]),b=_.useMemo(()=>jle(e,o,l),[e,o,l]),y=w=>{d(S=>S===w?null:w)},k=[{key:"",value:h.},{key:"",value:h.},{key:"",value:h.},{key:"",value:h.},{key:"",value:h.}];return g.jsxs("div",{className:"p-6 rounded-[2rem] bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 shadow-sm space-y-6 overflow-visible",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"font-black text-lg text-neutral-800 dark:text-neutral-100 italic",children:"   "}),g.jsx("span",{className:"text-[10px] bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 px-2 py-0.5 rounded-full font-bold",children:"     "})]}),g.jsxs("div",{className:"space-y-5",children:[g.jsx(Xg,{title:"////",children:k.map(({key:w,value:S})=>g.jsxs("div",{className:"relative",children:[g.jsx(Yc,{text:`${w}: ${S||"-"}`,color:"violet",onClick:()=>y(`env-${w}`)}),u===`env-${w}`&&g.jsx(Ad,{text:ece(w)??" ."})]},w))}),g.jsxs(Xg,{title:"",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Yc,{text:`: ${h.||"-"}`,color:"amber",onClick:()=>y("naegyeok")}),u==="naegyeok"&&g.jsx(Ad,{text:ace(h.||"")?.text??"  ."})]}),h.reasonTokens?.map((w,S)=>{const j=oce(w),O=`reason-${S}`;return g.jsxs("div",{className:"relative",children:[g.jsx(Yc,{text:j?.title??(h.reason[S]||w.kind),color:"amber",onClick:()=>y(O)}),u===O&&g.jsx(Ad,{text:j?.text??"  ."})]},O)})]}),g.jsx(Xg,{title:"",children:h.&&h..length>0?h..map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Yc,{text:`: ${w}`,color:"blue",onClick:()=>y(`outer-${S}`)}),u===`outer-${S}`&&g.jsx(Ad,{text:Yle(w)??" "})]},`outer-${S}`)):g.jsx(Yc,{text:": -",color:"blue"})}),(p.length>0||b.length>0)&&g.jsxs(Xg,{title:"  ",children:[p.map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Yc,{text:w,color:"green",onClick:()=>y(`mul-${S}`)}),u===`mul-${S}`&&g.jsx(Ad,{text:Kle(w)??" "})]},`mul-${S}`)),b.map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Yc,{text:w,color:"red",onClick:()=>y(`str-${S}`)}),u===`str-${S}`&&g.jsx(Ad,{text:Jle(w)??" "})]},`str-${S}`))]})]}),!h.reasonTokens?.length&&h.reason.length>0&&g.jsx("div",{className:"pt-4 border-t border-neutral-100 dark:border-neutral-800",children:g.jsxs("p",{className:"text-[11px] text-neutral-500 leading-relaxed font-medium",children:[g.jsx("span",{className:"font-bold mr-1 text-neutral-400",children:"  :"}),h.reason.join(" / ")]})})]})}const lce=Object.fromEntries(so..map((e,t)=>[e,Jr[t]])),cce=Object.fromEntries(Jr.map((e,t)=>[e,so.[t]])),uce=Object.fromEntries(so..map((e,t)=>[e,xi[t]])),dce=Object.fromEntries(xi.map((e,t)=>[e,so.[t]])),fce=e=>lce[e]??e,hce=e=>uce[e]??e,mce=e=>cce[e]??e,pce=e=>dce[e]??e;function gce(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?fce(n):mce(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function rA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?hce(n):pce(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const bce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},yce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},k7={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},vce={...k7,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},LP=gce(bce),IP=rA(yce);rA(k7);rA(vce);const xce=["","","","",""];function wce(){const[e,t]=_.useState("   "),[n,r]=_.useState(""),[i,a]=_.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const _ce={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},Sce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function E7(e){const t=Sce[e]??"";return _ce[t]}const kce=Object.fromEntries(so..map((e,t)=>[e,Jr[t]])),Ece=Object.fromEntries(Jr.map((e,t)=>[e,so.[t]])),Tce=Object.fromEntries(so..map((e,t)=>[e,xi[t]])),Ace=Object.fromEntries(xi.map((e,t)=>[e,so.[t]])),jce=e=>kce[e]??e,Nce=e=>Tce[e]??e,Oce=e=>Ece[e]??e,Cce=e=>Ace[e]??e;function T7(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${jce(r)}${Nce(i)}`:`${Oce(r)}${Cce(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const A7={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},Mce={...A7,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Dce=T7(A7),Pce=T7(Mce),S2={:"",:"",:"",:"",:""},k2={:"",:"",:"",:"",:""},E2={:"",:"",:"",:"",:""},T2={:"",:"",:"",:"",:""},Rce=e=>Kn[e]??e,Lce=e=>er[e]??e;function j7(e){return!e||e.length<2?"":`${Rce(e[0])}${Lce(e[1])}`}const N7=e=>e&&e.length>=1?e[0]:"",O7=e=>e&&e.length>=2?e[1]:"";function Ice(e){return{:e,:S2[e],:k2[e],:E2[e],:T2[e]}}const rm={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""]},C7={:rm.??[],:rm.??[],:rm.??[],:rm.??[],:rm.??[]};function $ce(e,t){const n=(e??[]).slice(0,4).map(j7);if(n.length!==4||n.some(h=>h.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=N7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(h=>O7(h)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},l=a[1],u=Ice(i),d=[a[0],a[2],a[3]].filter(Boolean);return Object.keys(o).forEach(h=>{const p=u[h],b=C7[p]??[];b.includes(l)&&(o[h].=!0),d.some(y=>b.includes(y))&&(o[h].=!0),o[h].=(t[p]??0)>=30}),{flags:o,monthBranch:l,dayEl:i}}function M7(e,t){const n=(e??[]).slice(0,4).map(j7);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const p={:!1,:!1,:!1};return{flags:{:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p}},monthBranch:"",dayEl:""}}const r=N7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(p=>O7(p)),o={:!1,:!1,:!1},l={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=a[1],d=[a[0],a[2],a[3]].filter(Boolean),h={:i,:i,:S2[i],:S2[i],:E2[i],:E2[i],:T2[i],:T2[i],:k2[i],:k2[i]};return Object.keys(l).forEach(p=>{const b=h[p],y=C7[b]??[];y.includes(u)&&(l[p].=!0),d.some(k=>y.includes(k))&&(l[p].=!0),l[p].=(t[b]??0)>=30}),{flags:l,monthBranch:u,dayEl:i}}const Bce=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),zce=Object.fromEntries(Object.entries(er).map(([e,t])=>[t,e])),Uce=e=>Kn[e]??e,Fce=e=>er[e]??e;function Hce(e){return!e||e.length<2?"":`${Uce(e[0])}${Fce(e[1])}`}function qc(e){return LP[e]??LP[Bce[e]??""]}function Kc(e){return IP[e]??IP[zce[e]??""]}const A1=["year","month","day","hour"],Gce={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Yce={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},qce=new Set(["","","","",""]),Kce=new Set(["","","","","",""]),Wce=new Set(["","","",""]),j1=e=>qce.has(e)?"":"",N1=e=>{const t=Kce.has(e)?"":"";return Wce.has(e)?t===""?"":"":t};function $P(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.floor(l+.5)),i=100-r.reduce((l,u)=>l+u,0);if(i===0)return r;const a=n.map((l,u)=>({i:u,frac:l-Math.floor(l+.5)})).sort((l,u)=>u.frac-l.frac),o=r.slice();if(i>0)for(let l=0;l<i;l++)o[a[l].i]+=1;else for(let l=0;l<-i;l++)o[a[a.length-1-l].i]-=1;return o}function Vce(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const Jg={:.15,:.1,:-.15,:-.2,:-.25},Ms={:"",:"",:"",:"",:""},xu={:"",:"",:"",:"",:""},$o={:"",:"",:"",:"",:""},ex={:"",:"",:"",:"",:""};function Qg(e,t){return e===t?"":Ms[t]===e?"":Ms[e]===t?"":$o[e]===t?"":$o[t]===e?"":""}const Wc=e=>e&&e.length>=1?e[0]:"",Vc=e=>e&&e.length>=2?e[1]:"";function Zce(e,t){const n=e.reduce((u,d)=>u+d,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,d)=>u+d,0);const o=r.map((u,d)=>({i:d,frac:u-Math.floor(u)})).sort((u,d)=>d.frac-u.frac),l=i.slice();for(let u=0;u<o.length&&a>0;u++)l[o[u].i]+=1,a-=1;return l}function BP(e,t){switch(e){case"":return t;case"":return Ms[t];case"":return $o[t];case"":return ex[t];case"":return xu[t];default:return t}}const zP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xce=["","","","",""],Jce={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},UP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},Qce={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function eue(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function tue(e){const t=Xce.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...UP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...Jce},PerTenGodSub:{...UP},elementScoreRaw:e,deukFlags:{...Qce},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function nue(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function A2(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:l}=e,u=o==="modern"?Gce:Yce,d=r==="classic"?Pce:Dce,h={:0,:0,:0,:0,:0},p={},b=(t??[]).slice(0,4).map(Hce);if(!eue(b))return tue(h);const{dayStem:y,dayEl:k}=nue(b,n),w=[{val:0},{val:0},{val:0},{val:0}],S=[[],[],[],[]];for(const z of b){if(!z)continue;const V=z.charAt(0),ne=z.charAt(1);p[V]=(p[V]??0)+50;const oe=zP[ne];oe&&(p[oe]=(p[oe]??0)+50)}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const ne=A1[z],oe=Wc(V),ue=Vc(V),pe=u[ne],ye=qc(oe);ye&&(h[ye]+=pe.stem,w[z]={stem:oe,el:ye,pol:j1(oe),val:pe.stem});const Oe=Kc(ue);Oe&&(h[Oe]+=pe.branch,S[z].push({el:Oe,pol:N1(ue),val:pe.branch}))}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const ne=A1[z],oe=d[V]??0;if(oe===0)continue;const ue=Wc(V),pe=qc(ue);if(!pe)continue;const ye=u[ne].stem*oe;h[pe]+=ye,w[z].val+=ye}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const ne=Vc(V),oe=Kc(ne);if(!oe)continue;const ue=u[A1[z]].branch,pe=N1(ne);let ye=0;const Oe=[z];z-1>=0&&Oe.push(z-1),z+1<=3&&Oe.push(z+1),z-2>=0&&Oe.push(z-2),z+2<=3&&Oe.push(z+2);const ie=Array.from(new Set(Oe));for(const Te of ie){if(!b[Te]||b[Te].length<2)continue;const xe=Wc(b[Te]),se=qc(xe);if(!se||se!==oe)continue;const ze=j1(xe)===pe,Ye=Math.abs(Te-z),Ze=Vce(Ye,ze);ye+=ue*Ze}ye!==0&&(h[oe]+=ye,S[z].push({el:oe,pol:pe,val:ye}))}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const ne=Wc(V),oe=qc(ne);if(!oe)continue;let ue=0;const pe=Vc(b[z]),ye=Kc(pe);ye&&(ue+=Jg[Qg(oe,ye)]);const Oe=z===0?[1]:z===3?[2]:[z-1,z+1];for(const Te of Oe){const xe=Wc(b[Te]),se=qc(xe);se&&(ue+=Jg[Qg(oe,se)])}const ie=w[z].val;if(ie!==0&&ue!==0){const Te=Math.round(ie*(1+ue)*10)/10,xe=Te-ie;h[oe]+=xe,w[z].val=Te}}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const ne=Vc(V),oe=Kc(ne);if(!oe)continue;let ue=0;const pe=Wc(b[z]),ye=qc(pe);ye&&(ue+=Jg[Qg(oe,ye)]);const Oe=z===0?[1]:z===3?[2]:[z-1,z+1];for(const Te of Oe){if(!b[Te]||b[Te].length<2)continue;const xe=Vc(b[Te]),se=Kc(xe);se&&(ue+=Jg[Qg(oe,se)])}const ie=S[z].reduce((Te,xe)=>Te+xe.val,0);if(ie!==0&&ue!==0){const xe=Math.round(ie*(1+ue)*10)/10-ie;h[oe]+=xe,S[z].length>0&&(S[z][0].val+=xe)}}a&&hae(b,h);const j={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},O=[];if(!(!l||l.tab==="")){let z=function(V,ne){const oe=V?Ie(V):"";if(!oe||oe.length<2)return;const ue=Wc(oe),pe=Vc(oe),ye=qc(ue),Oe=Kc(pe),ie=Math.max(1,(h.??0)+(h.??0)+(h.??0)+(h.??0)+(h.??0)),Te=j[ne];if(ye){const xe=Math.round(ie*Te.stem);h[ye]+=xe,O.push({stem:ue,el:ye,pol:j1(ue),val:xe})}if(Oe){const xe=Math.round(ie*Te.branch);h[Oe]+=xe,O.push({el:Oe,pol:N1(pe),val:xe})}};z(l.dae,"dae"),(l.tab===""||l.tab===""||l.tab==="")&&z(l.se,"se"),(l.tab===""||l.tab==="")&&z(l.wol,"wol"),l.tab===""&&z(l.il,"il")}const A={:0,:0,:0,:0,:0};Object.entries(h).forEach(([z,V])=>{const ne=K(z,k);A[ne]+=V});const C=["","","","",""],D=$P(C.map(z=>A[z])),P=E7(y),I=C.map((z,V)=>({name:z,value:D[V],color:P[z]})),U={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function K(z,V){return z===V?"":Ms[V]===z?"":$o[V]===z?"":$o[z]===V?"":xu[V]===z?"":""}function q(z,V){switch(K(z,k)){case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break}}Object.entries(h).forEach(([z,V])=>{V>0&&q(z,V)});const H={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const z of C){const V=I.find(Oe=>Oe.name===z)?.value??0,ne=H[z].a,oe=H[z].b,ue=U[ne]??0,pe=U[oe]??0,ye=ue+pe;if(ye>0){const Oe=Math.floor(V*ue/ye+.5),ie=V-Oe;H[z].aVal=Oe,H[z].bVal=ie}else H[z].aVal=Math.floor(V/2+.5),H[z].bVal=V-H[z].aVal}const{flags:B}=$ce(b,h),W={};w.forEach(z=>{if(z.stem&&z.el&&z.val){const V=`${z.stem}${z.el}`;W[V]=(W[V]??0)+z.val}});for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const ne=Vc(V),oe=zP[ne],ue=Kc(ne);if(!oe||!ue)continue;const pe=`${oe}${ue}`,ye=S[z].reduce((Oe,ie)=>Oe+ie.val,0);W[pe]=(W[pe]??0)+ye}const X=["","","","","","","","","",""],Z={};X.forEach(z=>{Z[z]=0}),C.forEach(z=>{const V=I.find(ie=>ie.name===z)?.value??0,ne=BP(z,k),oe=Object.entries(W).filter(([ie])=>ie.endsWith(ne)),ue=oe.map(([ie])=>ie),pe=oe.map(([,ie])=>ie),ye=Math.max(0,Math.round(V*10)),Oe=Zce(pe.length?pe:[1,1],ye);if(ue.length===2)Z[ue[0]]=(Oe[0]??Math.round(ye/2))/10,Z[ue[1]]=(Oe[1]??ye-(Oe[0]??0))/10;else if(ue.length===1)Z[ue[0]]=ye/10;else{const ie=ne===""?["",""]:ne===""?["",""]:ne===""?["",""]:ne===""?["",""]:["",""],Te=Math.floor(ye/2),xe=ye-Te;Z[ie[0]]+=Te/10,Z[ie[1]]+=xe/10}});const Y=["","","","",""],J={:0,:0,:0,:0,:0};for(const z of I){const V=BP(z.name,k);J[V]+=z.value}const Q=$P(Y.map(z=>J[z])),ce={:Q[0],:Q[1],:Q[2],:Q[3],:Q[4]};return i&&console.log({elementScore:h,totals:I,perTenGod:H,perStemRaw:W,perStemElementScaled:Z,elementPercent100:ce}),{overlay:{totalsSub:U,perStemAugBare:W,perStemAugFull:Z},totals:I,perTenGod:H,PerTenGodSub:U,stemScoreRaw:p,elementScoreRaw:h,deukFlags:B,perStemElement:W,perStemElementScaled:Z,elementPercent100:ce}}const eb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},rue=["","","","",""];function FP(e){return rue.includes(e)}const iue={:"",:"",:"",:"",:""},aue={:"",:"",:"",:"",:""},oue={:"",:"",:"",:"",:""},sue={:"",:"",:"",:"",:""},j2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},lue=["","","","","","","","","",""],cue={natal:50,dae:30,se:20,wol:7,il:3};function Oy(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Kn[t])return Kn[t];if(["","","","","","","","","","","",""].includes(t))return eb[t]??null;if(er[t])return eb[er[t]]??null;const n=t.charAt(0);return Kn[n]?Kn[n]:["","","","","","","","","",""].includes(n)?n:er[n]?eb[er[n]]??null:["","","","","","","","","","","",""].includes(n)?eb[n]??null:null}function uue(e,t){const n=j2[e],r=j2[t];if(!n||!r)return"";let i;r===n?i="":r===iue[n]?i="":r===aue[n]?i="":r===oue[n]?i="":r===sue[n]?i="":i="";const a=FP(e)===FP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Cy(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.round(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.round(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function HP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Oy(r);if(!a)continue;const o=uue(t,a);n[o]+=i}return Cy(n)}function due(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function GP(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Oy(n);i&&(t[i]=(t[i]??0)+r)}return t}function YP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of lue){const i=j2[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function qP(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function fue(e,t){const n=t?.dae?tb(t.dae):{},r=t?.se?tb(t.se):{},i=t?.wol?tb(t.wol):{},a=t?.il?tb(t.il):{},o={},l=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:d,bare:h}of l){const p=cue[d];if(!h||Object.keys(h).length===0)continue;const b=Cy(h);for(const[y,k]of Object.entries(b))o[y]=(o[y]??0)+k*p}const u=Object.values(o).reduce((d,h)=>d+h,0);if(u>0)for(const d of Object.keys(o))o[d]=o[d]/u*100;return o}function hue(e){if(!e)return[];const t=Oy(e.charAt(0)),n=Oy(e.charAt(1));return[t,n].filter(Boolean)}function tb(e){const t=hue(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function tx(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Ie(t[0]??""),Ie(t[1]??""),Ie(t[2]??""),Ie(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:l,hiddenStem:u}=Il,d=l==="classic"?"classic":"hgc",h=r?{tab:n,dae:r.dae?Ie(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Ie(r.se):void 0,wol:(n===""||n==="")&&r.wol?Ie(r.wol):void 0,il:n===""&&r.il?Ie(r.il):void 0}:{tab:n},p=A2({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:h}),b=A2({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),y=GP(p.perStemElementScaled),k=n===""?y:fue(y,r),w=Cy(k),S=HP(k,o),j=due(S),O=YP(w),A=GP(b.perStemElementScaled),C=HP(A,o),D=Cy(A),P=YP(D);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:w,perTenGodSub:S,perTenGod:j,overlay:{totalsSub:S,perStemAugBare:k,perStemAugFull:O},natalFixed:{elementScoreRaw:qP(b.elementScoreRaw),elementPercent100:qP(b.elementPercent100),totalsSub:C,overlay:{totalsSub:C,perStemAugBare:A,perStemAugFull:P}}}}const Co=["","","","",""],Vl={:0,:0,:0,:0,:0},mue=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],pue={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},O1=24,gue=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],My=20;Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(er).map(([e,t])=>[t,e]));const D7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},bue={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function P7(e){return Math.max(0,Math.min(100,e))}function of(e,t,n){return Math.max(t,Math.min(n,e))}function yue(e){const t=P7(e);return mue.find(n=>t>=n.min&&t<n.max)?.name??""}function vue(e){const t=e?.[2]?.charAt(0)??"";return D7[t]??null}function xue(e){return(e?.[1]?.charAt(1)??"")||null}function R7(e){return ex[e]}function wue(e){return e?{peer:e,resource:xu[e],leak:Ms[e],wealth:$o[e],officer:R7(e)}:null}function _ue(e){const t={...Vl};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=D7[r],o=bue[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function Sue(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...Vl};return Co.forEach(r=>{n[r]=e[r]/t*100}),n}function kue(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return P7((n("")+n(""))/t*100)}function Eue(e,t){return!e||!t?null:t===e?"":Ms[e]===t?"":$o[e]===t?"":R7(e)===t?"":xu[e]===t?"":null}function Tue(e){for(const[t,n]of gue)if(e>=t)return n;return 1}const KP=(e,t)=>of((My-(t[e]??0))/My,0,1),WP=(e,t)=>of(((t[e]??0)-My)/My,0,1);function Aue(e,t,n,r){const i=Eue(e,n);if(!e||!i)return 0;const a=of((50-t)/50,0,1),o=of((t-50)/50,0,1),l=KP(n,r),u=WP(n,r),d=KP(e,r),h=WP(e,r),p=6.5;let b=0;if(a>0)switch(i){case"":b=+(.3+.4*d+.15*l)*a;break;case"":b=+(.18+.45*d)*a;break;case"":b=-(.08+.2*(1-l)+.1*h)*a;break;case"":b=-(.22+.25*(1-l)+.1*(1-d))*a;break;case"":b=-(.35+.25*(1-l)+.1*(1-d))*a;break}else if(o>0)switch(i){case"":b=-(.25+.25*(1-l)+.2*h)*o;break;case"":b=-(.28+.2*h)*o;break;case"":b=+(.18+.2*l+.15*h)*o;break;case"":b=+(.22+.25*l+.1*h)*o;break;case"":b=+(.2+.2*l)*o;break}else switch(i){case"":b=.08*(d+l);break;case"":b=.05*d-.03*h;break;case"":b=.02*l-.02*u;break;case"":b=.01*l-.06*u;break;case"":b=-.05*(1-l);break}return Math.round(p*b*10)/10}function jue(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...Vl};if(r){const o=Ms[e],l=$o[e],u=ex[e];a[o]+=28,a[l]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(l)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=xu[e],l=e;a[o]+=28,a[l]+=22,n.get(o)?.push(":     "),n.get(l)?.push(":     ")}return a}function VP(e,t){if(!e)return{...Vl};const n=pue[e]??{temp:"mild",wet:"normal"},r={...Vl};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function ZP(e,t){const n={...Vl};for(const r of Co){const i=$o[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=Ms[r],l=Math.round(a*.35);l>0&&(n[o]+=l,t.get(o)?.push(`: ${r}${i} `))}return n}function XP(e,t){const n={...Vl},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const nb=()=>new Map(Co.map(e=>[e,[]]));function sf(e,t){const n=vue(e),r=xue(e),i=_ue(e),a=Sue(i);let o=kue(t);if(o==null)if(!n)o=50;else{const H=n,B=xu[n],W=Object.values(i).reduce((X,Z)=>X+Z,0)||1;o=Math.min(100,Math.max(0,((i[H]??0)+(i[B]??0))/W*100))}const l=yue(o),u={...Vl},d=nb();if(n){const H=jue(n,l,d);Co.forEach(B=>{u[B]+=H[B]??0})}const h=VP(r,d);Co.forEach(H=>{u[H]+=h[H]??0});const p=ZP(i,d);Co.forEach(H=>{u[H]+=p[H]??0});const b=XP(i,d);Co.forEach(H=>{u[H]+=b[H]??0});const y=wue(n),k={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const H of t)k[H.name]=H.value;if(o>=45&&o<=55&&y){const H=k.>=30||k.>=Math.max(k.,k.,k.,k.)+5;o<=50?(u[y.resource]+=14,d.get(y.resource)?.push(": -"),u[y.peer]+=10,d.get(y.peer)?.push(": -"),u[y.leak]+=6,d.get(y.leak)?.push(": -"),u[y.wealth]+=3,d.get(y.wealth)?.push(": -"),H&&(u[y.officer]=Math.round(u[y.officer]*.8*10)/10,d.get(y.officer)?.push(":   "))):(u[y.leak]+=14,d.get(y.leak)?.push(": -"),u[y.wealth]+=10,d.get(y.wealth)?.push(": -"),u[y.officer]+=6,d.get(y.officer)?.push(": -"),u[y.resource]+=3,d.get(y.resource)?.push(": -"))}Co.forEach(H=>{const B=Aue(n,o,H,a);u[H]=of(Math.round((u[H]+B)*10)/10,0,999)});const S=o<50;Co.forEach(H=>{const B=a[H]??0,W=S&&n===H;if(B>=O1&&!W){const X=Tue(B);u[H]=Math.round(u[H]*X*10)/10;const Z=Math.min(14,Math.max(0,Math.ceil((B-O1)*.5)));Z>0&&(u[H]=of(u[H]-Z,0,999)),d.get(H)?.push(" ()")}});const j={:[],:[],:[],:[],:[]};if(n){const H=Ms[n],B=$o[n],W=ex[n],X=n,Z=xu[n];j[H].push(""),j[B].push(""),j[W].push(""),j[X].push(""),j[Z].push("")}const O={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},A=H=>{const B=a[H]??0;return B>=O1&&!(S&&n===H)?B>=55?4:B>=45?3:2:O[H]?0:1},C=VP(r,nb()),D=ZP(i,nb()),P=XP(i,nb()),I=Co.map(H=>({element:H,score:Math.round(u[H]*10)/10,via:Nue(H,C,D,P),reasons:(d.get(H)??[]).slice(),tenGodHints:j[H]})).sort((H,B)=>{const W=A(H.element),X=A(B.element);return W!==X?W-X:B.score!==H.score?B.score-H.score:H.element.localeCompare(B.element)}),U=Oue(l,C,D,P),K={:0,:0,:0,:0,:0},q=t?t.reduce((H,B)=>(H[B.name]=B.value,H),{...K}):void 0;return{chosenType:U,ordered:I,debug:{band:l,overallPct:o,elementScore:i,tenGodTotals:q,monthBranch:r??void 0}}}function Nue(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Oue(e,t,n,r){if(["","","",""].includes(e))return"";const a=d=>Object.values(d).reduce((h,p)=>h+p,0),o=a(t),l=a(n),u=a(r);return o>Math.max(l,u)?"":l>=u?"":""}function Cue(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.round(l));let a=100-r.reduce((l,u)=>l+u,0);const o=n.map((l,u)=>({i:u,f:l-Math.round(l)})).sort((l,u)=>u.f-l.f);for(let l=0;l<o.length&&a>0;l++)r[o[l].i]+=1,a-=1;return r}const JP=["","","","",""];function Mue(e,t){const n=[Ie(e[0]??""),Ie(e[1]??""),Ie(e[2]??""),Ie(e[3]??"")],{elementScoreRaw:r}=A2({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=JP.map(l=>r[l]??0),a=Cue(i),o={:0,:0,:0,:0,:0};return JP.forEach((l,u)=>{o[l]=a[u]}),o}function L7(e,t){const n=Mue(e,t),r=Ie(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},l=n[a]??0,u=n[o[a]]??0;return l+u*.7}const lf={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},I7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},rb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Due=["","","","",""];function QP(e){return Due.includes(e)}const Pue={:"",:"",:"",:"",:""},Rue={:"",:"",:"",:"",:""},Lue={:"",:"",:"",:"",:""},Iue={:"",:"",:"",:"",:""};function Xm(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Kn[t])return Kn[t];if(["","","","","","","","","","","",""].includes(t))return rb[t]??null;if(er[t])return rb[er[t]]??null;const n=t.charAt(0);return Kn[n]?Kn[n]:["","","","","","","","","",""].includes(n)?n:er[n]?rb[er[n]]??null:["","","","","","","","","","","",""].includes(n)?rb[n]??null:null}function $ue(e,t){const n=lf[e],r=lf[t];if(!n||!r)return"";let i;r===n?i="":r===Pue[n]?i="":r===Rue[n]?i="":r===Lue[n]?i="":r===Iue[n]?i="":i="";const a=QP(e)===QP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Bue(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function nx(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function zue(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=lf[Xm(n)];i&&r>0&&(t[i]+=r)}return nx(t)}function Uue(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Xm(r);if(!a)continue;const o=$ue(t,a);n[o]+=i}return n}function Fue(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Bue(n);t[i]+=r}return nx(t)}function eR(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Ie(n??"");return i||(r<=2?"--":"")})}function $7(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=lf[i.charAt(0)];if(a&&(r[a]=!0),n){const o=I7[i.charAt(1)];o&&(r[o]=!0)}}return r}function B7(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=lf[n.charAt(0)],i=I7[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function C1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const Hue=["","","","","","","","","",""];function Gue(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Xm(n);i&&(t[i]=(t[i]??0)+r)}return t}function Yue(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Hue){const i=lf[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const que={natal:50,dae:30,se:20,wol:7,il:3};function Kue(e){const t={};for(const{kind:r,bare:i}of e){const a=que[r]??0;if(a<=0)continue;const o=nx(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function Wue(e){if(!e)return[];const t=Xm(e.charAt(0)),n=Xm(e.charAt(1));return[t,n].filter(Boolean)}function ib(e){const t=Wue(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const N2=["","","","",""];function Vue(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function Zue(e,t){const n=N2.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),l=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:l}}function iA(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function Xue(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function tR(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function Jue(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,l=e[a]??0;if(o<20||l<20)continue;let u=null,d=null;if(tR(i)===a)u=i,d=a;else if(tR(a)===i)u=a,d=i;else continue;const h=Xue(u),p=`${u}()${d}    ${h}( )`;r.push({a:i,b:a,controller:u,controlled:d,mediator:h,reason:p})}return r}function aA(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function im(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":     "]}):e}function am(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,l=r(a.elNorm)?1:0;if(o!==l)return l-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function Que(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),l=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:l.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(d=>({element:d.el,elNorm:d.el,score:aA(d.base,t[d.el]??0),reasons:[d.why,` ${d.el}  ${Math.round(t[d.el]??0)}%`]}))}function ede(e){const t=Jue(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,l=Math.min(a,o),u=95+Math.round(l/2),d=n.get(i.mediator),h=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];d?n.set(i.mediator,{score:Math.max(d.score,u),reasons:[...d.reasons,...h]}):n.set(i.mediator,{score:u,reasons:h})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:aA(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function tde(e,t){let n="",r=e.??0;for(const d of N2){const h=e[d]??0;h<r&&(r=h,n=d)}const i=N2.some(d=>!t[d]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const l=aA((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:l,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function oA(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,l=am(im(t,i,a),i,a),u=am(im(Que(n,r),i,a),i,a),d=Vue(n),h=Zue(r,i),p=d==="WINTER"||d==="SUMMER"?.85:.55,b=1.25,y=ede(r),k=am(im(y.items,i,a),i,a),w=tde(r,i),S=am(im(w.items,i,a),i,a),j=Array.isArray(o)?o:[],O=j.length>0,A=am(im(j,i,a),i,a),C=B=>Math.max(0,...B.map(W=>Number.isFinite(W.score)?W.score:0)),P=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:b,applicable:l.length>0,note:"1.  /()  ",candidates:l},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:d==="WINTER"?"2. ()   ":d==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:y.applicable,note:y.note,candidates:k},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:w.applicable,note:w.note,candidates:S},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:O,note:O?"/     ( )":"  (//  )",candidates:A}].map(B=>{const W=C(B.candidates),X=B.candidates[0];let Z=0;if(B.applicable&&X){if(Z=X.score*B.weight,B.kind==="EOKBU"&&!h.balancedPresent){const Y=Math.min(35,Math.round(h.spread*.9));Z+=Y}B.kind==="EOKBU"&&h.balancedPresent&&(Z*=.75),X.elNorm&&!i[X.elNorm]&&(Z*=.25)}return{...B,maxScore:W,fitScore:Math.round(Z),finalScore:Math.round(Z)}}).sort((B,W)=>B.priority-W.priority),I=[...P].filter(B=>B.applicable&&B.candidates.length>0).sort((B,W)=>W.fitScore!==B.fitScore?W.fitScore-B.fitScore:B.priority-W.priority)[0],U=Math.max(0,...P.map(B=>B.fitScore)),K=I?.kind??null,q=P.map(B=>{if(!K)return B;if(B.kind===K){const W=B.fitScore<U?U+1:B.fitScore;return{...B,finalScore:W}}return{...B,finalScore:B.fitScore}}),H=K?q.find(B=>B.kind===K)??null:null;return{bestKind:K,best:H,groups:q}}const nde={:"",:"",:"",:"",:""},rde={:"",:"",:"",:"",:""},ide={:"",:"",:"",:"",:""},ade={:"",:"",:"",:"",:""};function M1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function ode(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function sde(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function lde(e,t){switch(t){case"":return e;case"":return nde[e];case"":return ide[e];case"":return ade[e];case"":return rde[e]}}function cde(e,t){const n=new Map,r=(u,d,h)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:d,reasons:[h]});return}p.score=Math.max(p.score,d),p.reasons=p.reasons.includes(h)?p.reasons:[...p.reasons,h]},i=M1(t),a=ode(e.);if(i&&a){const u=sde(a),d=lde(i,u);r(d,92,` ${e.}  ${u} (${d})`)}const o=M1(e.);o&&r(o,86,` ${e.}  (${o})`);const l=M1(e.);return l&&r(l,70,` ${e.}  (${l})`),Array.from(n.values()).sort((u,d)=>d.score-u.score)}const om=e=>e&&e.length>=1?e.charAt(0):"",ab=e=>e&&e.length>=2?e.charAt(1):"";function ude(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function dde({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:l,monthGZ:u,dayGZ:d}=Qr(),h=_.useMemo(()=>Ie(l),[l]),p=_.useMemo(()=>Ie(u),[u]),b=_.useMemo(()=>Ie(d),[d]),y=Nu(e,e?.mingSikType),k=_.useMemo(()=>{if(!y?.length)return 0;const Ce=y.findIndex((Be,De)=>{const Xe=y[De+1]?.at;return o>=Be.at&&(!Xe||o<Xe)});return Ce!==-1?Ce:o<y[0].at?0:y.length-1},[y,o]),w=_.useMemo(()=>{const Ce=r??y?.[k]?.gz??"";return Ie(Ce)||null},[r,y,k]),{manualHour:S,usePrevDay:j}=Fi(),O=e.mingSikType??"/",A=_.useMemo(()=>eR(t),[t]),C=_.useMemo(()=>eR(n),[n]),D=_.useMemo(()=>{const Ce=[...A];return(!Ce[3]||Ce[3]===""||Ce[3]==="--")&&S&&(Ce[3]=S.stem+S.branch),Ce},[A,S]),P=_.useMemo(()=>{const Ce=[...C];return(!Ce[3]||Ce[3]===""||Ce[3]==="--")&&S&&(Ce[3]=S.stem+S.branch),Ce},[C,S]),I=_.useMemo(()=>{const Ce=Number(e.birthDay?.slice(0,4)),Be=Number(e.birthDay?.slice(4,6)),De=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(Ce)||!Number.isFinite(Be)||!Number.isFinite(De))return null;const Xe=new Date(Ce,Be-1,De,12,0,0,0),gt=Ie(ct(Xe)||""),Mt=Ie(Et(Xe)||""),fe=Ie(ht(Xe,O)||"");return[gt,Mt,fe,""]},[e.birthDay,O]),U=C1(D),K=C1(P),H=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?K?"lunar":U?"solar":"lunar":U?"solar":K?"lunar":"solar",B=_.useMemo(()=>{const Be=[...H==="lunar"?K?P:U?D:I??["","","",""]:U?D:K?P:I??["","","",""]];if((!Be[3]||Be[3]===""||Be[3]==="--")&&S&&(Be[3]=S.stem+S.branch),Be[3]==="--"&&(Be[3]=""),!j)return Be;const De=to(Be[2]||"",-1);return[Be[0],Be[1],De,Be[3]]},[H,U,K,D,P,I,S,j]),W=_.useMemo(()=>om(B[2]??""),[B]),X=_.useMemo(()=>ab(B[1]??""),[B]),Z=_.useMemo(()=>ude(e.birthDay),[e.birthDay]),Y=_.useMemo(()=>S?S.stem+S.branch:B[3]||"",[S,B]),J=_.useMemo(()=>({dae:i!==""?w??null:null,se:i===""||i===""||i===""?h??null:null,wol:i===""||i===""?p??null:null,il:i===""?b??null:null}),[i,w,h,p,b]),Q=_.useMemo(()=>tx({natal:B,tab:i,chain:J,hourKey:Y}),[B,i,J,Y]),ce=_.useMemo(()=>{if(!Q)return null;const Ce=Gue(Q.perStemElementScaled),Be=J.dae?ib(J.dae):{},De=J.se?ib(J.se):{},Xe=J.wol?ib(J.wol):{},gt=J.il?ib(J.il):{},Mt=Kue([{kind:"natal",bare:Ce},{kind:"dae",bare:Be},{kind:"se",bare:De},{kind:"wol",bare:Xe},{kind:"il",bare:gt}]),fe=nx(Mt),Me=Yue(fe),_e=Uue(Mt,Q.dayStem),Ne=Fue(_e),Ue=zue(Mt);return{perStemAugBare:Mt,perStemAugFull:Me,elemPct100:Ue,totalsMain:Ne,totalsSub:_e}},[Q,J]),ae=_.useMemo(()=>$7(B,{includeBranches:!0}),[B]),z=_.useMemo(()=>["","","","",""].some(Ce=>!ae[Ce]),[ae]),V=ce?.elemPct100??Q?.elementPercent100??B7(B),ne=_.useMemo(()=>{if(!Q||!ce)return[];const Ce=E7(Q.dayStem);return Object.entries(ce.totalsMain).map(([Be,De])=>({name:Be,value:De,color:Ce[Be]}))},[Q,ce]),oe=ce?.elemPct100??{:0,:0,:0,:0,:0},ue=ce?.totalsSub??Q?.perTenGodSub??null,pe=_.useMemo(()=>[i,w??"",h??"",p??"",b??"",o?.toISOString?.()??"",Y].join("|"),[i,w,h,p,b,o,Y]),ye=_.useMemo(()=>{const Ce=ue?Object.entries(ue).sort(([De],[Xe])=>De.localeCompare(Xe)).map(([De,Xe])=>`${De}:${Xe}`).join(","):"none",Be=ne.map(De=>`${De.name}:${De.value}`).join(",");return`${pe}||${B.join("")}||${Be}||${Ce}`},[pe,B,ne,ue]),Oe=typeof sf=="function"?sf(B,Q?.totals):null,ie=_.useMemo(()=>(Oe?.ordered??[]).map(Be=>{const De=Be.element??"",Xe=/||wood/i.test(De)?"":/||fire/i.test(De)?"":/||earth/i.test(De)?"":/||metal/i.test(De)?"":/||water/i.test(De)?"":null,gt=typeof Be.score=="number"?Be.score:Xe?V[Xe]??0:0,Mt=Array.isArray(Be.reasons)?Be.reasons:[];return{element:De,elNorm:Xe,score:gt,reasons:Mt}}),[Oe,V]),Te=_.useMemo(()=>ie.map(Ce=>({element:Ce.element,elNorm:Ce.elNorm,score:Ce.score,reasons:Ce.reasons})),[ie]),xe=_.useMemo(()=>{if(!W||!X)return[];const[Ce,Be,De,Xe]=B,gt=[om(Ce),om(Be),om(De),om(Xe)].filter(Boolean),Mt=[ab(Ce),ab(De),ab(Xe)].filter(Boolean),fe=S7({dayStem:W,monthBranch:X,date:Z,pillars:B,emittedStems:gt,otherBranches:Mt}),Me=cde(fe,W),_e=Ne=>/||wood/i.test(Ne)?"":/||fire/i.test(Ne)?"":/||earth/i.test(Ne)?"":/||metal/i.test(Ne)?"":/||water/i.test(Ne)?"":null;return(Me??[]).map(Ne=>({element:Ne.element,elNorm:_e(Ne.element),score:Number.isFinite(Ne.score)?Ne.score:0,reasons:Array.isArray(Ne.reasons)?Ne.reasons:[]}))},[B,W,X,Z]),se=_.useMemo(()=>{const Ce=B[1]||"";return oA({eokbuList:Te,monthGz:Ce,elemPct:V,presentMap:ae,demoteAbsent:a,gyeokgukList:xe})},[B,Te,V,ae,a,xe]),ze=_.useMemo(()=>{const Ce=se.best;return Ce?.candidates?.length?Ce.candidates.map(Be=>({element:Be.element,elNorm:Be.elNorm,score:Be.score,reasons:Be.reasons})):ie},[se,ie]),Ye=_.useMemo(()=>Math.max(0,...ze.map(Ce=>Number.isFinite(Ce.score)?Ce.score:0)),[ze]),Ze=_.useMemo(()=>L7(B,{criteriaMode:"modern",useHarmonyOverlay:!0}),[B]);return{seGz:h,wolGz:p,ilGz:b,daewoonGz:w,activePillars:B,chain:J,unified:Q,overlay:ce,chartData:ne,elementPct:oe,tenSubTotals100:ue,hourKeyForUi:Y,revKey:ye,yongshinMulti:se,yongshinRecommend:se,yongshinList:ze,maxScore:Ye,hasAbsent:z,dayElementPercent:Ze,isValidActive:C1(B)}}function fde(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function hde(e){const t=new Date(e,1,15,12,0,0,0);return Ie(ct(t)||"")}function mde(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=iA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const pde={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Dy(e){return pde[e]??null}function gde(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=nA(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",l=Dy(a);if(l&&(n[l]=!0),tA(o)){const u=r[o],d=[u.,u.,u.].filter(Boolean);for(const h of d){const p=Dy(h.stem);p&&h.w>0&&(n[p]=!0)}}}return n}function bde(e,t){const n=nA(t),r={:0,:0,:0,:0,:0};for(const o of e){const l=o?.charAt(0)??"",u=o?.charAt(1)??"",d=Dy(l);if(d&&(r[d]+=50),tA(u)){const h=n[u],p=[h.,h.,h.].filter(Boolean),b=p.reduce((k,w)=>k+(Number.isFinite(w.w)?w.w:0),0),y=b>0?b:1;for(const k of p){const w=Dy(k.stem);w&&(r[w]+=50*k.w/y)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function yde(e,t,n){return e||bde(t,n)}function vde(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,l=_.useMemo(()=>x7(o),[o]),u=Nu(t,t?.mingSikType),d=_.useMemo(()=>Array.isArray(u)?u.filter(fde).slice(0,10):[],[u]),[h,p]=_.useState(0),[b,y]=_.useState(0),k=Math.max(0,Math.min(d.length-1,h)),w=d[k]??null,S=_.useMemo(()=>{if(!w)return[];const K=w.at.getFullYear();return Array.from({length:10},(q,H)=>{const B=K+H;return{year:B,gz:hde(B)}})},[w]),j=b==null?null:Math.max(0,Math.min(S.length-1,b)),O=j==null?null:S[j]??null,A=_.useMemo(()=>gde(n,l),[n,l]),C=_.useMemo(()=>["","","","",""].some(K=>!A[K]),[A]),D=_.useMemo(()=>{const K=w?Ie(w.gz):null,q=O?Ie(O.gz):null;return{dae:K||null,se:q||null,wol:null,il:null}},[w,O]),P=_.useMemo(()=>D.se?"":"",[D.se]),I=_.useMemo(()=>{const K=w?`${w.at.getFullYear()}~ ${Ie(w.gz)}`:" -",q=O?` / ${O.year} ${Ie(O.gz)}`:"";return`${K}${q}`},[w,O]),U=_.useMemo(()=>{if(!w)return null;const K=tx({natal:n,tab:P,chain:D,hourKey:r}),q=yde(K?.elementPercent100,n,l),H=typeof sf=="function"?sf(n,K?.totals):null,B=mde(H,q);return oA({eokbuList:B,monthGz:n[1]||"",elemPct:q,presentMap:A,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[w,n,P,D,r,A,i,a,l]);return{daeIndex:k,setDaeIndex:p,seIndex:j,setSeIndex:y,dae10:d,se10:S,chain:D,tab:P,label:I,recommend:U,presentMap:A,hasAbsent:C}}const xde={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function O2(e){return e?xde[e]??e:""}function wde(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function _de(e){const t=new Date(e,1,15,12,0,0,0);return Ie(ct(t)||"")}function D1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?iA(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,l=r&&i?`${O2(r)}:${i}`:r?`${O2(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:l,result:e}}function Sde(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=iA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function nR(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:l}=e,u=tx({natal:t,tab:i,chain:r,hourKey:n}),d=u?.elementPercent100??B7(t),h=typeof sf=="function"?sf(t,u?.totals):null,p=Sde(h,d);return oA({eokbuList:p,monthGz:t[1]||"",elemPct:d,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(l)?l:null})}function kde(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const Mo=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=g.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?g.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function rR({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?g.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Mo,{text:`: ${O2(t.kind)}`,tone:"pick"}),g.jsx(Mo,{text:` ${t.fitScore}`}),n[0]?.element?g.jsx(Mo,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?g.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>g.jsx("li",{className:"text-xs",children:g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Mo,{text:`${i+1} ${r.element}`}),g.jsx(Mo,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>g.jsx(Mo,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function Ede(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=_.useMemo(()=>$7(n,{includeBranches:!0}),[n]),l=Nu(t,t?.mingSikType),u=_.useMemo(()=>Array.isArray(l)?l.filter(wde).slice(0,10):[],[l]),d=_.useMemo(()=>D1(a),[a]),[h,p]=_.useState(null),b=w=>p(S=>S===w?null:w),y=_.useMemo(()=>u.map((w,S)=>{const j=Ie(w.gz)||"",A=nR({pillars:n,hourKey:r,chain:{dae:j||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),C=D1(A),D=w.at.getFullYear(),P=Array.from({length:10},(H,B)=>{const W=D+B,X=_de(W),Y=nR({pillars:n,hourKey:r,chain:{dae:j||null,se:X||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),J=D1(Y);return{year:W,snap:J}}),U=kde(P).filter(H=>H.snap.top1ElNorm!==C.top1ElNorm),K=C.top1ElNorm!==d.top1ElNorm,q=K||U.length>0;return{idx:S,dae:w,daeLabel:`${D}~ ${j||""}`,daeSnap:C,daeDiffFromNatal:K,segDiffOnly:U,hasAnyChange:q}}).filter(w=>w.hasAnyChange),[u,n,r,i,o,d.top1ElNorm]),k=_.useMemo(()=>y.some(w=>w.hasAnyChange),[y]);return g.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  "}),g.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",d.label," /  ",d.fit]})]}),k?g.jsx("div",{className:"space-y-3",children:y.map(w=>{const S=`dae:${w.idx}`,j=h===S;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Mo,{text:` ${w.daeLabel}`,tone:"base"}),g.jsx(Mo,{text:` ${w.daeSnap.label} ( ${w.daeSnap.fit})`,tone:w.daeDiffFromNatal?"diff":"base",onClick:()=>b(S),title:" (top3) "}),w.daeDiffFromNatal?g.jsx(Mo,{text:" ",tone:"diff"}):null]}),w.segDiffOnly.length?g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.segDiffOnly.map((O,A)=>{const C=`seg:${w.idx}:${A}`,D=h===C,P=O.fromYear===O.toYear?`${O.fromYear}`:`${O.fromYear}~${O.toYear}`;return g.jsxs("div",{className:"inline-flex flex-col",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx(Mo,{text:` ${P}  ${O.snap.label} ( ${O.snap.fit})`,tone:"diff",onClick:()=>b(C),title:" (top3) "})}),D?g.jsx(rR,{snap:O.snap}):null]},C)})}):null,j?g.jsx(rR,{snap:w.daeSnap}):null]},S)})}):g.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}const Py=({children:e,variant:t="neutral"})=>{const n={neutral:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400",violet:"bg-violet-100 text-violet-700 dark:bg-violet-900/40 dark:text-violet-300",amber:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300",indigo:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300"};return g.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold tracking-tight shadow-sm ${n[t]}`,children:e})};function Tde(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(5,Math.min(100,n))}%`}function Ade({g:e,isBest:t,demoteAbsent:n,hasAbsent:r,onDemoteAbsentChange:i}){const a=e.candidates.slice(0,3);return g.jsxs("details",{open:t,className:`group rounded-2xl border transition-all duration-300 ${t?"border-violet-200 dark:border-violet-800 bg-white dark:bg-neutral-900 shadow-md":"border-neutral-200 dark:border-neutral-800 bg-neutral-50/50 dark:bg-neutral-900/50"}`,children:[g.jsx("summary",{className:"list-none cursor-pointer p-4 select-none",children:g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:`text-sm ${t?"font-black text-violet-600":"font-bold text-neutral-700 dark:text-neutral-300"}`,children:[e.marker," ",e.title]}),t&&g.jsx(Py,{variant:"violet",children:" "}),!e.applicable&&g.jsx(Py,{variant:"neutral",children:""})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] font-medium text-neutral-400",children:""}),g.jsx("span",{className:"text-sm font-black text-neutral-800 dark:text-neutral-100",children:e.fitScore}),g.jsx("span",{className:"text-neutral-300 group-open:rotate-180 transition-transform",children:""})]})]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed whitespace-normal break-words pr-4",children:e.note})]})}),g.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[a.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 py-2 text-center border-t border-neutral-100 dark:border-neutral-800",children:"  ."}):g.jsx("div",{className:"space-y-2 border-t border-neutral-100 dark:border-neutral-800 pt-3",children:a.map((o,l)=>g.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-neutral-50 dark:bg-neutral-800/50 border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[40px]",children:[g.jsxs("span",{className:"text-[9px] font-bold text-neutral-400 uppercase",children:[l+1,"st"]}),g.jsx("span",{className:"text-sm font-black text-neutral-800 dark:text-neutral-100",children:o.element})]}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsx("div",{className:"h-2 w-full rounded-full bg-neutral-200 dark:bg-neutral-700 overflow-hidden shadow-inner",children:g.jsx("div",{className:`h-full rounded-full transition-all duration-700 ${t?"bg-gradient-to-r from-violet-400 to-indigo-500":"bg-neutral-400"}`,style:{width:Tde(o.score??0,e.maxScore)}})}),g.jsx("div",{className:"flex flex-wrap gap-1",children:(o.reasons??[]).slice(0,4).map((u,d)=>g.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-md bg-white dark:bg-neutral-700 text-neutral-500 dark:text-neutral-400 border border-neutral-100 dark:border-neutral-600 shadow-sm",children:u},d))})]})]},`${e.kind}-${o.element}-${l}`))}),r&&g.jsxs("button",{type:"button",onClick:()=>i?.(!n),className:`px-2 py-1 rounded-full text-[10px] font-bold border transition cursor-pointer ${n?"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800":"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-800 dark:text-neutral-400 dark:border-neutral-700"}`,"aria-pressed":n,children:[" ",n?"ON":"OFF"]})]})]})}function jde({best:e}){const t=e?.candidates?.[0]??null;return g.jsxs("div",{className:"relative overflow-hidden rounded-[2rem] border border-violet-200 dark:border-violet-800 p-6 bg-gradient-to-br from-violet-50 to-white dark:from-violet-950/20 dark:to-neutral-900 shadow-sm",children:[g.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-violet-100 dark:bg-violet-900/20 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10 flex flex-col gap-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(Py,{variant:"indigo",children:" "}),g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("span",{className:"text-[10px] text-neutral-400 font-bold uppercase",children:" "}),g.jsx("span",{className:"text-lg font-black text-violet-600 dark:text-violet-400",children:e?.fitScore??0})]})]}),g.jsxs("div",{className:"flex items-end gap-3",children:[g.jsx("h4",{className:"text-2xl font-black text-neutral-800 dark:text-neutral-100 tracking-tighter",children:e?`${e.marker} ${e.title}`:"  "}),t?.element&&g.jsxs("div",{className:"mb-1 flex items-center gap-1",children:[g.jsx("span",{className:"text-xs text-neutral-400 font-medium",children:"1:"}),g.jsx("span",{className:"text-base font-black text-indigo-500",children:t.element})]})]}),e?.note&&g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed font-medium",children:e.note})]})]})}function Nde({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,onDemoteAbsentChange:a,hasAbsent:o,hiddenStemMode:l}){const u=vde({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:l}),d=o??u.hasAbsent;return g.jsxs("div",{className:"w-full p-6 rounded-[2.5rem] bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 shadow-xl space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between px-2",children:[g.jsx("div",{className:"space-y-1",children:g.jsx("h2",{className:"text-xl font-black text-neutral-800 dark:text-neutral-100 tracking-tighter uppercase",children:" "})}),d&&g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsx(Py,{variant:"amber",children:"  "}),i&&g.jsx("span",{className:"text-[9px] text-amber-500 font-bold mt-1",children:" "})]})]}),g.jsx(jde,{best:e.best}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 px-2",children:[g.jsx("div",{className:"h-px flex-1 bg-neutral-100 dark:bg-neutral-800"}),g.jsx("span",{className:"text-[10px] font-black text-neutral-300 dark:text-neutral-600 uppercase tracking-widest",children:" "}),g.jsx("div",{className:"h-px flex-1 bg-neutral-100 dark:bg-neutral-800"})]}),g.jsx("div",{className:"grid gap-3",children:e.groups.map(h=>g.jsx(Ade,{g:h,isBest:e.bestKind===h.kind,demoteAbsent:i,hasAbsent:d,onDemoteAbsentChange:a},h.kind))})]}),g.jsx("div",{className:"pt-2",children:g.jsx(Ede,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})})]})}const iR=e=>e<10?`0${e}`:`${e}`;function Ode(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Zi(i,a,o),u=`${l.getFullYear()}${iR(l.getMonth()+1)}${iR(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function Cde(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const Mde=["  ","   ","","",""];function Dde(e){return e==="  "||e===""}function Pde({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=xn(p=>p.settings),a=wce(),o=Ode(e),l=Cde(o.birthDay)||void 0,u=fn(p=>p.canUseAdvancedReportNow()),d=dde({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),h=_.useMemo(()=>"    100   ! (  )",[]);return d.isValidActive?g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsxs("div",{className:"flex flex-col items-center mb-8",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap mb-4",children:xce.map(p=>{const b=a.blendTab===p;return g.jsx("button",{onClick:()=>a.setBlendTab(p),className:`
                  px-4 py-1.5 text-[11px] font-bold rounded-full transition-all duration-200 active:scale-95 cursor-pointer
                  ${b?"bg-amber-400 text-amber-950 shadow-[0_2px_10px_rgba(251,191,36,0.4)] border border-amber-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-500 dark:text-neutral-400 border border-transparent hover:bg-neutral-200 dark:hover:bg-neutral-700"}
                `,children:p},p)})}),g.jsxs("div",{className:"flex items-start gap-2 px-4 py-2 bg-amber-50/50 dark:bg-amber-900/10 rounded-xl border border-amber-100/50 dark:border-amber-900/20",children:[g.jsx("span",{className:"text-amber-500 text-[12px] mt-0.5",children:""}),g.jsxs("p",{className:"text-[10.5px] text-amber-700 dark:text-amber-400/80 leading-relaxed font-medium",children:["    ",g.jsx("span",{className:"font-bold underline decoration-amber-300/50 underline-offset-2 text-amber-800 dark:text-amber-300",children:" "})," ",g.jsx("span",{className:"font-bold underline decoration-amber-300/50 underline-offset-2 text-amber-800 dark:text-amber-300",children:" "}),"   ."]})]})]}),g.jsx("div",{className:"flex gap-2 mb-8 justify-center flex-wrap",children:Mde.map(p=>{const b=!u&&Dde(p),y=a.bigTab===p;return g.jsxs("button",{title:b?h:void 0,onClick:()=>a.setBigTab(p),className:`
                relative px-4 py-2 text-sm font-bold rounded-2xl border transition-all duration-300 active:scale-95 flex items-center gap-1.5 cursor-pointer
                ${y?"bg-violet-600 text-white border-violet-500 shadow-[0_4px_12px_rgba(139,92,246,0.3)] z-10":"bg-white dark:bg-neutral-900 text-neutral-500 dark:text-neutral-400 border-neutral-200 dark:border-neutral-800 hover:border-violet-300 dark:hover:border-violet-700"}
                ${b?"opacity-70 bg-neutral-50 dark:bg-neutral-900/50":""}
              `,children:[g.jsx("span",{className:b?"mr-1":"",children:p}),b&&g.jsx("span",{className:"flex items-center justify-center w-4 h-4 bg-neutral-200 dark:bg-neutral-800 rounded-full text-[10px]",children:""}),y&&!b&&g.jsx("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-white rounded-full"})]},p)})}),a.bigTab===""&&g.jsx(Wse,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="   "&&g.jsxs("div",{className:"space-y-4",children:[g.jsx(zse,{data:d.chartData,perStemElementScaled:d.overlay?.perStemAugFull,dayStem:d.activePillars[2]?.charAt(0)??null,yongshinTop:d.yongshinMulti?.best?.candidates?.[0]?.element??null,yongshinKind:d.yongshinMulti?.bestKind??null},`pentagon-${d.revKey}`),g.jsx(Kse,{natal:d.activePillars,perStemElementScaled:d.overlay?.perStemAugFull}),g.jsx(Hse,{value:d.dayElementPercent}),g.jsx(sle,{natal:d.activePillars})]}),a.bigTab===""&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:""}),"   .   100  !"]}),a.bigTab===""&&u&&g.jsx(Nde,{recommend:d.yongshinMulti,data:o,pillars:d.activePillars,hourKey:d.hourKeyForUi,demoteAbsent:a.demoteAbsent,onDemoteAbsentChange:a.setDemoteAbsent,hasAbsent:d.hasAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab===""&&g.jsx(Xse,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="  "&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:"  "}),"   .   100  !"]}),a.bigTab==="  "&&u&&g.jsx(sce,{unified:d.unified,pillars:d.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:l},`gyeok-${a.blendTab}-${d.hourKeyForUi}`)]}):g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const ob=e=>typeof e=="string"&&e.length>=2,Rde=e=>!Array.isArray(e)||e.length!==4?!1:ob(e[0])&&ob(e[1])&&ob(e[2])&&(e[3]===""||ob(e[3]));function Lde({data:e}){const[t,n]=_.useState("un"),r=ec(),i=fn(d=>d.canUseMyoViewerNow());_.useEffect(()=>{t==="myoun"&&!i&&n("un")},[t,i]);const a=_.useMemo(()=>{try{const d=jf(e);return ql(d,r)}catch{return new Date}},[e,r]),o=_.useMemo(()=>Wl(e,a),[e,a]),l=!e.birthTime||e.birthTime==="",u=_.useMemo(()=>{try{const d=ct(o,e.birthPlace?.lon),h=Et(o,e.birthPlace?.lon),p=ht(o,e.mingSikType),b=l?"":no(o,e.mingSikType);return[d,h,p,b]}catch{return[]}},[o,e?.mingSikType,e?.birthPlace?.lon,l]);return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),i?g.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,g.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&g.jsx(Cse,{data:e}),t==="myoun"&&i&&g.jsx(Rse,{data:e}),t==="report"&&g.jsx(Pde,{data:e,pillars:Rde(u)?u:[]})]})}function Ide({onOpenSidebar:e,onAddNew:t,onOpenCustom:n,isLoggedIn:r}){const i=vn(C=>C.list.length),a=fn(C=>C.canAddMyeongsik),[o,l]=_.useState(!1);_.useEffect(()=>{let C=!0;Re.auth.getSession().then(({data:P})=>{C&&l(!!P.session?.user)});const{data:D}=Re.auth.onAuthStateChange((P,I)=>{l(!!I?.user)});return()=>{C=!1,D.subscription.unsubscribe()}},[]);const u=r||o,d=a(i),h=!d.ok,p=h?d.message:"",b=()=>{if(h){pa(p||"   ");return}t()},y=()=>{if(h){pa(p||"   ");return}n()},k=()=>{Ss.getState().openWith("HEADER")},w=async()=>{const{error:C}=await Re.auth.signOut();if(C){console.error(C),pa("  ");return}pa(" ")},S="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",j="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",O="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",A="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(BZ,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("button",{type:"button",onClick:b,"aria-label":" ",disabled:h,title:" ",className:`${S} ${h?A:j}`,children:[g.jsx(ZZ,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),g.jsxs("button",{type:"button",onClick:y,"aria-label":"  ",disabled:h,title:"  ",className:`${S} ${h?A:O}`,children:[g.jsx(KZ,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),u?g.jsx("button",{type:"button",onClick:w,"aria-label":"",title:"",className:"inline-flex items-center gap-1 text-xs cursor-pointer text-neutral-700 dark:text-neutral-200 hover:text-purple-600 dark:hover:text-purple-400",children:g.jsx("ins",{children:""})}):g.jsx("button",{type:"button",onClick:k,"aria-label":"",title:"",className:"text-xs cursor-pointer",children:g.jsx("ins",{children:""})})]})]})})}function $de(e){_.useEffect(()=>{const t=e??W5()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");Z5(t),e&&V5(e)},[e])}const z7=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Bde(e){return typeof e=="string"&&z7.includes(e)}function C2(e){const t=Array.isArray(e)?e.filter(Bde):[],n=z7.filter(r=>!t.includes(r));return[...t,...n]}function M2(e){return{...Il,...e,sectionOrder:C2(e.sectionOrder)}}function zde(e,t){return e.theme??t.theme??"dark"}function Ude({open:e,settings:t}){const n=_.useMemo(()=>C2(t.sectionOrder),[t.sectionOrder]),r=_.useMemo(()=>M2(t),[t]),[i,a]=_.useState(n),[o,l]=_.useState(r),[u,d]=_.useState(null),[h,p]=_.useState(!1);return _.useEffect(()=>{if(!e||h)return;const y=C2(t.sectionOrder);l({...M2(t),sectionOrder:y}),a(y),p(!1)},[e,t,h]),{order:i,setOrder:a,localSettings:o,setLocalSettings:l,updateSetting:(y,k)=>{l(w=>{const S={...w,[y]:k};return p(!0),S})},toastMessage:u,setToastMessage:d,dirty:h,setDirty:p}}function Fde(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function U7(e){V5(e)}function Hde({setSettings:e,saveToServer:t}){return{applyChanges:_.useCallback(async(r,i,a)=>{const o={...M2(r),sectionOrder:i};Fde(),_.startTransition(()=>{e(o)}),o.theme&&U7(o.theme),a(),t(!0)},[e,t])}}function Gde({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=xn(),a=Ude({open:e,settings:n}),o=Hde({setSettings:r,saveToServer:i}),l=()=>a.setToastMessage(null),u=zde(a.localSettings,n);$de(u),_.useEffect(()=>{U7(u)},[u]);const d=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},h=b=>{const{destination:y,source:k}=b;if(!y||y.index===k.index)return;const w=Array.from(a.order),[S]=w.splice(k.index,1);w.splice(y.index,0,S),a.setOrder(w)},p=b=>{switch(b){case"theme":return g.jsx(Fa,{title:"",children:g.jsx(Yde,{value:a.localSettings.theme??"dark",onChange:y=>a.updateSetting("theme",y)})});case"hiddenStem":return g.jsx(Fa,{title:"  ",children:g.jsx(jd,{value:a.localSettings.hiddenStem,onChange:y=>a.updateSetting("hiddenStem",y),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return g.jsx(Fa,{title:" ",children:g.jsx(jd,{value:a.localSettings.hiddenStemMode,onChange:y=>a.updateSetting("hiddenStemMode",y),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return g.jsx(Fa,{title:"",children:g.jsx(jd,{value:a.localSettings.sinsalMode,onChange:y=>a.updateSetting("sinsalMode",y),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return g.jsx(Fa,{title:"",children:g.jsx(jd,{value:a.localSettings.sinsalBase,onChange:y=>a.updateSetting("sinsalBase",y),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return g.jsx(Fa,{title:" ",children:g.jsx(Ao,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:y=>a.updateSetting("sinsalBloom",y)})});case"exposure":return g.jsx(Fa,{title:" ",children:g.jsx(jd,{value:a.localSettings.exposure,onChange:y=>a.updateSetting("exposure",y),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return g.jsx(Fa,{title:" ",children:g.jsx(jd,{value:a.localSettings.charType,onChange:y=>a.updateSetting("charType",y),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return g.jsx(Fa,{title:" ",children:g.jsx(Ao,{label:" ",checked:!!a.localSettings.thinEum,onChange:y=>a.updateSetting("thinEum",y)})});case"visibility":return g.jsx(Fa,{title:" ",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[g.jsx(Ao,{label:" ",checked:!!a.localSettings.showSipSin,onChange:y=>a.updateSetting("showSipSin",y)}),g.jsx(Ao,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:y=>a.updateSetting("showSibiUnseong",y)}),g.jsx(Ao,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:y=>a.updateSetting("showSibiSinsal",y)}),g.jsx(Ao,{label:" ",checked:!!a.localSettings.showNabeum,onChange:y=>a.updateSetting("showNabeum",y)}),g.jsx(Ao,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:y=>a.updateSetting("showEtcShinsal",y)}),g.jsx(Ao,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:y=>a.updateSetting("showRelationBox",y)}),g.jsx(Ao,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:y=>a.updateSetting("showPromptBox",y)})]})});case"difficultyMode":return g.jsx(Fa,{title:" UP ver.",children:g.jsx(Ao,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:y=>a.updateSetting("difficultyMode",y)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:""}),g.jsx("button",{onClick:d,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]}),e&&g.jsx(Sp,{onDragEnd:h,children:g.jsx(Tf,{droppableId:"settings-sections",children:b=>g.jsxs("ul",{ref:b.innerRef,...b.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((y,k)=>g.jsx(Ef,{draggableId:y,index:k,children:w=>g.jsxs("li",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),g.jsx("div",{className:"flex-1 min-w-0",children:p(y)})]})},y)),b.placeholder]})})})]}),a.toastMessage&&g.jsx(T6,{message:a.toastMessage,onClose:l,ms:1800})]})}function Yde({value:e,onChange:t}){const n=e==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:n?"":""})]})}function Fa({title:e,children:t}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),g.jsx("div",{className:"flex justify-center",children:t})]})}function jd({value:e,onChange:t,options:n}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return g.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function Ao({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[g.jsx("span",{children:e}),g.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-indigo-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-indigo-600"})]})}function qde(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),i=vn(h=>h.list),a=Jl();_.useEffect(()=>{r(vn.getState().loading);const h=vn.subscribe(p=>{r(p.loading)});return()=>h()},[]);const o=()=>{if(!n){if(i.length===0){alert("    !");return}a("/iching")}},d={bottom:"var(--bottom-dock, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] px-2 box-border left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",style:d,children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(sm,{icon:g.jsx(MZ,{size:22}),label:"",onClick:()=>a("/")}),g.jsx(sm,{icon:g.jsx(OZ,{size:22}),label:"",onClick:()=>a("/couple")}),g.jsx(sm,{icon:g.jsx(WB,{size:22}),label:"FAQ",onClick:()=>a("/faq")}),g.jsx(sm,{icon:g.jsx(HZ,{size:22}),label:"",onClick:()=>t(!0)}),g.jsx(sm,{icon:g.jsx(YZ,{size:22}),label:"",onClick:o})]})}),g.jsx(Gde,{open:e,onClose:()=>t(!1)})]})}function sm({icon:e,label:t,onClick:n,disabled:r}){return g.jsxs("button",{onClick:n,disabled:r,className:"flex flex-1 flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,g.jsx("span",{className:"mt-1",children:t})]})}const F7=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),Ry=e=>F7(e).join(""),Kde=()=>{const[e,t]=_.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(BD);return u?JSON.parse(u):{}}catch{return{}}});_.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(BD,JSON.stringify(e))}catch{}},[e]);const[n,r]=_.useState({}),[i,a]=_.useState(""),[o,l]=_.useState(()=>{const u=xy(),d=wy(),h=d.length?Cm(u,d):u;return $d(h,e)});return _.useEffect(()=>{l(u=>{const d=$d(u,e);return Ry(d)===Ry(u)?u:d})},[e]),_.useEffect(()=>{r(u=>{const d={...u};for(const h of o)d[h]===void 0&&(d[h]=!0);return d})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:l}},Wde=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=_.useMemo(()=>{const i=Kv(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[pr]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},lm=async()=>{const{data:e,error:t}=await Re.auth.getUser();return t||!e.user?null:e.user.id},Vde=async e=>{const{data:t,error:n}=await Re.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},Zde=async e=>{const{data:t,error:n}=await Re.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},Xde=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await Re.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await Re.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},Jde=async(e,t)=>{const{error:n}=await Re.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},Qde=async(e,t)=>{const{error:n}=await Re.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},efe=async(e,t)=>{const{error:n}=await Re.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},tfe=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=_.useState(!1),o=_.useRef(e),l=_.useRef(!1),u=_.useRef(!1);_.useEffect(()=>{o.current=e},[e]),_.useEffect(()=>{(async()=>{if(i)return;const O=await lm();if(!O)return;try{if(!u.current){const I=await Vde(O);I.disabled&&(u.current=!0),I.error?console.error("load custom folders from server error:",I.error):I.data.length&&IT(I.data)}}catch(I){console.error("load custom folders exception:",I)}const A=await Zde(O);if(A.error){console.error("load folder order from server error:",A.error),a(!0);return}const C=xy(),D=A.data,P=D.length?Cm(C,D):Cm(C,wy());n($d(P,o.current)),D.length&&Bd(D),a(!0)})()},[i,n]);const d=_.useCallback(async j=>{const O=await lm();if(!O)return;const A=await Xde(O,j);A.error&&console.error("save folder order to server error:",A.error)},[]),h=_.useRef(null),p=_.useRef(null),b=_.useRef(""),y=_.useCallback((j,O)=>{const A=F7(j),C=Ry(A);if(C&&C===b.current)return;h.current=A;const D=async()=>{const P=h.current;if(h.current=null,!P)return;const I=Ry(P);I&&I===b.current||(await d(P),b.current=I)};if(O?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),D();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,D()},300)},[d]);_.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const j=h.current;h.current=null,j&&j.length&&d(j)},[d]),_.useEffect(()=>{if(typeof window>"u")return;const j=()=>{if(l.current){l.current=!1;return}const O=xy(),A=wy(),C=A.length?Cm(O,A):O;n($d(C,o.current))};return window.addEventListener(Kl,j),()=>window.removeEventListener(Kl,j)},[n]);const k=_.useCallback(j=>{const{source:O,destination:A,type:C}=j;if(!A||C!=="FOLDER")return;const D=O.index,P=A.index;D!==P&&n(I=>{if(!I.length)return I;const U=[...I],[K]=U.splice(D,1);U.splice(P,0,K);const q=$d(U,o.current);return l.current=!0,Bd(q),y(q),q})},[y,n]),w=_.useCallback(j=>{const O=j.trim();!O||O===yn||(E6(O),(async()=>{if(u.current)return;const A=await lm();if(!A)return;const C=await Qde(A,O);C.disabled&&(u.current=!0),C.error&&console.error("save custom folder error:",C.error)})(),n(A=>{if(A.includes(O))return A;const C=[...A,O],D=$d(C,o.current);return Bd(D),y(D,{immediate:!0}),D}))},[y,n]),S=_.useCallback(j=>{r(j),t(O=>{const A={...O};return delete A[j],A}),n(O=>{const A=O.filter(C=>C!==j);return Bd(A),y(A,{immediate:!0}),(async()=>{const C=await lm();if(!C)return;const D=await Jde(C,j);D.error&&console.error("delete folder order entry error:",D.error)})(),A}),_6.includes(j)?Cre(j):(Ore(j),(async()=>{if(u.current)return;const O=await lm();if(!O)return;const A=await efe(O,j);A.disabled&&(u.current=!0),A.error&&console.error("delete custom folder error:",A.error)})())},[y,t,n,r]);return{handleDragEnd:k,createFolder:w,deleteFolder:S,UNASSIGNED_LABEL:yn}};function nfe(e,t){const n=Kde(),r=Wde({list:e,orderedFolders:n.orderedFolders}),i=tfe({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function rfe({onClose:e,onAddNew:t,isLoggedIn:n,onLogin:r}){const i=vn(p=>p.list.length),o=fn(p=>p.canAddMyeongsik)(i),l=!o.ok,u=l?o.message:"",d=()=>{if(l){pa(u||"  ");return}t()},h=async()=>{const{error:p}=await Re.auth.signOut();if(p){console.error(p),pa(" ");return}pa(" ")};return g.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("h2",{className:"text-lg font-bold",children:" "})}),g.jsxs("div",{className:"flex items-center gap-2",children:[n?g.jsxs("button",{type:"button",onClick:h,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(IZ,{size:16})," "]}):g.jsxs("button",{type:"button",onClick:r,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(VB,{size:16})," "]}),g.jsxs("button",{type:"button",onClick:d,disabled:l,title:u,className:l?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[g.jsx(UZ,{size:16}),"  ",l?"":""]}),g.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:g.jsx(cy,{size:22})})]})]})}function ife({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return g.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[g.jsx("option",{value:"name",children:""}),g.jsx("option",{value:"ganji",children:""}),g.jsx("option",{value:"birth",children:""})]}),g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&g.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:g.jsx(jZ,{size:16})})]}),i&&g.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function afe({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r,totalCount:i,collapsed:a,onToggleCollapse:o}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:e,onChange:l=>t(l.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:l=>l.stopPropagation()}),g.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:l=>{l.stopPropagation(),n()},children:""})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-1",children:r?"   .":"/      ."}),g.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"  "}),g.jsx("span",{className:"mx-1",children:""}),g.jsxs("span",{className:"font-semibold text-amber-500 dark:text-amber-600",children:[i,""]})]}),g.jsx("button",{type:"button",onClick:o,className:"px-2 py-1 rounded border border-neutral-200 dark:border-neutral-700 text-xs text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:a?"  ":"  "})]}),g.jsx("div",{className:"text-xs mb-2 text-neutral-900 dark:text-neutral-100",children:"         !"})]})}function aR({droppableId:e,items:t,isDropDisabled:n,className:r}){return g.jsx(Tf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>g.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function ofe({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:l,onDelete:u,inner:d}){return g.jsx(Ef,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:h=>g.jsxs("div",{ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?g.jsx(EZ,{size:16}):g.jsx(SZ,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:e})]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:g.jsx(ZB,{size:16,fill:r?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?d:null]})},`folder-${e}`)}const sfe=()=>({canManage:fn(()=>!0)}),Jm="";function lfe(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===Jm?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function cfe(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(l=>o.some(u=>l.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function oR(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function ufe(e,t){const n=Af(e),r=Ep(t);if(!n||!r)return null;const i=new Date(n.y,n.m-1,n.d,r.hh,r.mm,0,0),a=new Date(i.getTime()-3600*1e3),o=String(a.getFullYear()).padStart(4,"0"),l=String(a.getMonth()+1).padStart(2,"0"),u=String(a.getDate()).padStart(2,"0"),d=String(a.getHours()).padStart(2,"0"),h=String(a.getMinutes()).padStart(2,"0");return{birthDay:`${o}${l}${u}`,birthTime:`${d}${h}`}}function dfe(e){const t=oR(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Wm(r,i,a)||!e.birthTime||e.birthTime===Jm)return t;const o=ufe(n,e.birthTime);if(!o)return t;const l=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(l.getTime()))return t;const u=new Date(l.getTime()-3600*1e3),d=OT({...e,birthDay:o.birthDay,birthTime:o.birthTime,corrected:u});return oR({...e,...d})}function ffe(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function hfe(e,t){return Number.isNaN(e)?0:t-e+1}function mfe(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function pfe(e){return e===""?"":e===""?"":e??""}function gfe(e){const t=e.trim(),n=/^(\d{1,2}):(\d{2})$/.exec(t);if(!n)return null;const r=Number(n[1]),i=Number(n[2]);if(!Number.isFinite(r)||!Number.isFinite(i)||r<0||r>23||i<0||i>59)return null;const a=r-1<0?23:r-1;return`${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`}function bfe(e,t){if(t)return Jm;const n=String(e.birthDay??"").trim(),r=String(e.correctedLocal??"").trim(),i=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??"")),a=!Number.isNaN(i.getTime()),o=r||(a?b2(i):"");if(!/^\d{8}$/.test(n))return o;const l=Number(n.slice(0,4)),u=Number(n.slice(4,6)),d=Number(n.slice(6,8));if(!Wm(l,u,d)||!e.birthTime||e.birthTime===Jm)return o;if(a){const p=new Date(i.getTime()-36e5);return b2(p)}return gfe(r)??o}function yfe({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=dfe(e),o=cfe(e.birthPlace?.name),l=e.relationship?.trim()?e.relationship:" ",u=pfe(e.gender),d=!e.birthTime||e.birthTime===Jm,h=bfe(e,d),p=!!(o||h),b=lfe(e.birthDay,e.birthTime),y=e.calendarType==="lunar"?"":"",k=ffe(e.birthDay),w=hfe(k,new Date().getFullYear()),S=!!(e.memo&&e.memo.trim()!==""),j=t?" ":" ",O=e.mingSikType??"/",A=r?" ":"::",C=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:A,ganji:a,placeDisplay:o,relationshipLabel:l,genderLabel:u,birthDisplay:b,calendarLabel:y,correctedLabel:h,showMetaLine:p,showMemo:S,memoToggleLabel:j,age:w,mingSikTypeValue:O,favoriteLabel:C,editLabel:"",deleteLabel:"",getDragStyle:mfe}}const vfe=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:l,onToggleFavorite:u})=>{const d=_.useCallback(S=>{S?.stopPropagation(),n(e.id)},[n,e.id]),h=_.useCallback(S=>{S?.stopPropagation(),a(e)},[a,e]),p=_.useCallback(S=>{S?.stopPropagation(),o(e)},[o,e]),b=_.useCallback(S=>{S?.stopPropagation(),l(e)},[l,e]),y=_.useCallback(S=>{S?.stopPropagation(),u(e.id)},[u,e.id]),k=_.useCallback(S=>{const j=S===t?void 0:S;r(e.id,j)},[r,e.id,t]),w=_.useCallback(S=>{i(e,S)},[i,e]);return{handleToggleMemo:d,handleView:h,handleEdit:p,handleDelete:b,handleToggleFavorite:y,handleFolderChange:k,handleMingSikTypeChange:w}};function sR({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,collapsed:a,memoOpen:o,onToggleMemo:l,onToggleCollapsed:u,onChangeFolder:d,onChangeMingSikType:h,onView:p,onEdit:b,onDelete:y,onToggleFavorite:k}){sfe();const w=yfe({m:e,memoOpen:o,isDragDisabled:i}),S=a,j=vfe({m:e,unassignedLabel:r,onToggleMemo:l,onChangeFolder:d,onChangeMingSikType:h,onView:p,onEdit:b,onDelete:y,onToggleFavorite:k});return g.jsx(Ef,{draggableId:w.keyId,index:t,isDragDisabled:i,children:O=>g.jsx("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,style:O.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,onClick:()=>{S&&j.handleView()},children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",w.age,"",w.genderLabel,")"]}),g.jsx("span",{className:"opacity-40",children:""}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 text-nowrap",children:w.relationshipLabel}),g.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[g.jsx("span",{className:"opacity-50 select-none",children:w.dragHandleLabel}),g.jsx("button",{type:"button",onClick:A=>{A.stopPropagation(),u()},className:"text-xs px-2 py-1 rounded border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:S?" ":" "})]})]}),!S&&g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[w.birthDisplay,", ",w.calendarLabel]}),!S&&w.showMetaLine&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[w.placeDisplay,w.correctedLabel&&g.jsxs("span",{className:"opacity-70",children:["  ",w.correctedLabel]})]}),w.ganji&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:w.ganji}),!S&&w.showMemo&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:j.handleToggleMemo,children:w.memoToggleLabel}),g.jsx("div",{className:o?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),!S&&g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:A=>A.stopPropagation(),onChange:A=>{A.stopPropagation(),j.handleFolderChange(A.target.value)},children:[r,...n].map(A=>g.jsx("option",{value:A,children:A},A))}),g.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:w.mingSikTypeValue,onClick:A=>A.stopPropagation(),onChange:A=>{A.stopPropagation(),j.handleMingSikTypeChange(A.target.value)},children:[g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"/",children:"/"}),g.jsx("option",{value:"",children:""})]})]}),!S&&g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{type:"button",onClick:j.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),g.jsx("button",{type:"button",title:"",onClick:j.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:w.editLabel}),g.jsx("button",{type:"button",title:"",onClick:j.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:w.deleteLabel}),g.jsx("button",{type:"button",title:w.favoriteLabel,onClick:j.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":w.favoriteLabel,children:g.jsx(ZB,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},w.keyId)}const xfe="list:__unassigned__",wfe=e=>`list:${e}`,lR=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},_fe=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=b6(e),{filteredUnassigned:o,filteredGrouped:l,totalMatches:u}=_.useMemo(()=>fre({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:l,totalMatches:u}},Sfe=({list:e,orderedFolders:t})=>{const[n,r]=_.useState(""),[i,a]=_.useState("name"),[o,l]=_.useState({}),u=_.useRef(null),d=_.useRef(null);return _.useEffect(()=>{if(d.current==null)return;const b=u.current;b&&(b.scrollTop=d.current,d.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:b=>{l(y=>({...y,[b]:!y[b]}))},scrollRef:u,stashScrollTop:()=>{const b=u.current;b&&(d.current=b.scrollTop)}}},cR=()=>{typeof window>"u"||window.dispatchEvent(new Event(Kl))},kfe=({list:e,orderedFolders:t,isFiltering:n,handleFolderDragEnd:r,moveItemByDnD:i,applyNextList:a,update:o,remove:l,onView:u,onClose:d,onDeleteView:h,folderFavMap:p,setFolderFavMap:b,setFolderOpenMap:y,createFolder:k,deleteFolder:w,newFolderName:S,setNewFolderName:j,stashScrollTop:O})=>{const A=_.useCallback((B,W)=>{const{nextList:X}=are({list:e,orderedFolders:t,targetId:B,nextFolder:W??""});a(X)},[e,t,a]),C=_.useCallback((B,W)=>{const X={...B,mingSikType:W},Z=OT(X);o(B.id,{mingSikType:W,...Z}),u({...X,...Z}),d()},[o,u,d]),D=_.useCallback(B=>{u(B),d()},[u,d]),P=_.useCallback(B=>{confirm(`'${B.name}'  ?`)&&(l(B.id),h&&h())},[l,h]),I=_.useCallback(()=>{const B=S.trim();B&&(k(B),j(""),cR())},[S,k,j]),U=_.useCallback(B=>{if(p[B]){alert(`'${B}'   .
   .`);return}confirm(`'${B}'  ?
(   )`)&&(w(B),cR())},[p,w]),K=_.useCallback(B=>{y(W=>({...W,[B]:!W[B]}))},[y]),q=_.useCallback(B=>{b(W=>({...W,[B]:!W[B]}))},[b]);return{handleDrop:_.useCallback(B=>{const{type:W,source:X,destination:Z,draggableId:Y}=B;if(Z&&!n){if(O(),W==="FOLDER"){r(B);return}if(W==="ITEM"){if(!Y.replace(/^item:/,""))return;const Q=lR(X.droppableId),ce=lR(Z.droppableId);i({orderedFolders:t,sourceFolder:Q,sourceIndex:X.index,destinationFolder:ce,destinationIndex:Z.index})}}},[n,O,r,i,t]),changeFolder:A,changeMingSikType:C,viewAndClose:D,requestDelete:P,createFolderAndNotify:I,requestDeleteFolder:U,toggleFolderOpen:K,toggleFolderFavorite:q}};function Efe({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a,isLoggedIn:o}){const[l,u]=_.useState(!1),d=xn(xe=>xe.settings),h=xn(xe=>xe.setKey),p=xn(xe=>xe.saveToServer),{list:b,remove:y,update:k,moveItemByDnD:w,toggleFavoriteWithReorder:S,unsetFolderForFolder:j,applyNextList:O}=vn(),{folderFavMap:A,setFolderFavMap:C,folderOpenMap:D,setFolderOpenMap:P,newFolderName:I,setNewFolderName:U,orderedFolders:K,grouped:q,unassignedItems:H,handleDragEnd:B,createFolder:W,deleteFolder:X,UNASSIGNED_LABEL:Z}=nfe(b,{unsetFolderForFolder:j}),Y=Sfe({list:b,orderedFolders:K}),J=d.sidebarCardsCollapsed,Q=d.sidebarCardCollapsedMap,ce=xe=>Q[xe]??J,ae=xe=>{h("sidebarCardCollapsedMap",xe),p()},z=xe=>{h("sidebarCardsCollapsed",xe);const se=b.reduce((ze,Ye)=>(ze[Ye.id]=xe,ze),{});ae(se)},V=xe=>{ae({...Q,[xe]:!(Q[xe]??!0)})},{isFiltering:ne,filteredUnassigned:oe,filteredGrouped:ue,totalMatches:pe}=_fe({search:Y.search,searchMode:Y.searchMode,orderedFolders:K,unassignedItems:H,grouped:q}),ye=kfe({list:b,applyNextList:O,orderedFolders:K,isFiltering:ne,handleFolderDragEnd:B,moveItemByDnD:w,update:k,remove:y,onView:n,onClose:t,onDeleteView:a,folderFavMap:A,setFolderFavMap:C,setFolderOpenMap:P,createFolder:W,deleteFolder:X,newFolderName:I,setNewFolderName:U,stashScrollTop:Y.stashScrollTop}),Oe=()=>{u(!0)},ie=xe=>{ju.flushSync(()=>{u(!1),ye.handleDrop(xe)})},Te=()=>{Ss.getState().openWith("HEADER")};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-100 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-101 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[g.jsx(rfe,{onClose:t,onAddNew:()=>{r(),t()},onLogin:()=>{Te()},isLoggedIn:o}),g.jsx(Sp,{onBeforeDragStart:Oe,onDragEnd:ie,children:g.jsxs("div",{ref:Y.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:l?"none":"pan-y"},children:[g.jsxs(g.Fragment,{children:[g.jsx(ife,{search:Y.search,setSearch:Y.setSearch,searchMode:Y.searchMode,setSearchMode:Y.setSearchMode,isFiltering:ne,totalMatches:pe}),g.jsx(afe,{newFolderName:I,setNewFolderName:U,isFiltering:ne,onCreate:ye.createFolderAndNotify,totalCount:b.length,collapsed:J,onToggleCollapse:()=>z(!J)})]}),g.jsx(aR,{droppableId:xfe,isDropDisabled:ne,className:"mb-6",items:oe.map((xe,se)=>g.jsx(sR,{m:xe,index:se,orderedFolders:K,unassignedLabel:Z,isDragDisabled:ne,collapsed:ce(xe.id),memoOpen:!!Y.memoOpenMap[xe.id],onToggleMemo:Y.toggleMemo,onToggleCollapsed:()=>V(xe.id),onChangeFolder:ye.changeFolder,onChangeMingSikType:ye.changeMingSikType,onView:ye.viewAndClose,onEdit:ze=>i(ze),onDelete:ye.requestDelete,onToggleFavorite:ze=>void S(ze,K)},xe.id))}),g.jsx(Tf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:ne,children:xe=>g.jsxs("div",{ref:xe.innerRef,...xe.droppableProps,children:[K.map((se,ze)=>{const Ye=wfe(se),Ze=ue[se]||[],Ce=!!D[se],Be=!!A[se];return g.jsx(ofe,{folderName:se,folderIndex:ze,isOpen:Ce,isFavorite:Be,itemCount:Ze.length,isDragDisabled:ne,onToggleOpen:()=>ye.toggleFolderOpen(se),onToggleFavorite:()=>ye.toggleFolderFavorite(se),onDelete:()=>ye.requestDeleteFolder(se),inner:g.jsx(aR,{droppableId:Ye,isDropDisabled:ne,className:"mt-2",items:Ze.map((De,Xe)=>g.jsx(sR,{m:De,index:Xe,orderedFolders:K,unassignedLabel:Z,isDragDisabled:ne,collapsed:ce(De.id),memoOpen:!!Y.memoOpenMap[De.id],onToggleMemo:Y.toggleMemo,onToggleCollapsed:()=>V(De.id),onChangeFolder:ye.changeFolder,onChangeMingSikType:ye.changeMingSikType,onView:ye.viewAndClose,onEdit:gt=>i(gt),onDelete:ye.requestDelete,onToggleFavorite:gt=>void S(gt,K)},De.id))})},`folder-${se}`)}),xe.placeholder]})})]})})]})]})}function uR(e){return{...e,calendarType:e.calendarType??"solar"}}function dR(e){return!e.birthTime||e.birthTime===""}function fR(e){return!e.birthPlace||e.birthPlace.name===""}function Tfe(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Zi(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${l}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const H7="ms_folders";function Afe(){try{const e=JSON.parse(localStorage.getItem(H7)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function jfe(e){localStorage.setItem(H7,JSON.stringify(e))}function Nfe(e){const[t,n]=_.useState(!1),[r,i]=_.useState(()=>uR(e)),[a,o]=_.useState(dR(e)),[l,u]=_.useState(fR(e)),[d,h]=_.useState([]);return _.useEffect(()=>{h(Afe())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(y,k)=>{i(w=>({...w,[y]:k}))},unknownTime:a,setUnknownTime:o,unknownPlace:l,setUnknownPlace:u,customFolders:d,setCustomFolders:h,resetForm:()=>{i(uR(e)),o(dR(e)),u(fR(e))}}}const G7=["","","","","",""];function Ofe(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...G7,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[yn,...i]}function Cfe({list:e,customFolders:t,form:n}){const r=_.useMemo(()=>Ofe(e,t),[e,t]),i=_.useMemo(()=>Tfe(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function Mfe(e,t,n){if(!e.name||e.name.trim()==="")return"";const r=CT(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=MT(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"":null:i.message}function Dfe({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:l,onClose:u,onSaved:d}){return{save:()=>{const b=Mfe(t,n,r);if(b){alert(b);return}const y=hu(t.folder===yn?void 0:t.folder),k=f6({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:y,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!k.ok){alert(k.message);return}const w={...e,...k.value};if(w.folder&&!G7.includes(w.folder)&&!i.includes(w.folder)){const S=[...i,w.folder];a(S),jfe(S)}o(e.id,w),d?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&l(e.id)}}}const P1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Pfe="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",Rfe="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",vs="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",Lfe="text-xs text-neutral-500 dark:text-neutral-400",sb="accent-violet-600 dark:accent-violet-400",hR="accent-violet-600 dark:accent-violet-400",rx="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Ife=`${rx} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,$fe=`${rx} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,mR=`${rx} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,Bfe=`${rx} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function zfe({item:e,onClose:t}){const{list:n,update:r,remove:i}=vn(),a=Nfe(e),o=Cfe({list:n,customFolders:a.customFolders,form:a.form}),l=Dfe({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx("input",{className:P1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:vs,children:" (YYYYMMDD)"}),g.jsx("input",{className:P1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:sb,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:sb,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&g.jsx("span",{className:Lfe,children:o.lunarPreview})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:"  (HHMM)"}),g.jsx("input",{className:`${P1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:hR,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:vs,children:" "}),g.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const d=`editor_ming_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:sb,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const d=`editor_gender_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:sb,name:"gender",value:u,checked:a.form.gender===u,onChange:h=>a.updateForm("gender",h.target.value),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:" "}),g.jsx(XB,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:hR,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx(w6,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx("select",{className:Pfe,value:a.form.folder??yn,onChange:u=>{const d=u.target.value;d===yn?a.updateForm("folder",void 0):a.updateForm("folder",d)},children:o.folderOptions.map(u=>g.jsx("option",{value:u===yn?yn:u,children:u},u))})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx("textarea",{className:Rfe,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:mR,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),g.jsx("button",{className:Bfe,onClick:l.save,children:""})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:Ife,onClick:()=>a.setIsEditing(!0),children:""}),g.jsx("button",{className:$fe,onClick:l.removeThis,children:""}),t&&g.jsx("button",{className:mR,onClick:t,children:""})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:[": ",e.gender]}),g.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),g.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),g.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),g.jsxs("div",{children:[": ",e.relationship||"-"]}),g.jsxs("div",{children:[": ",e.folder??yn]})]}),e.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function Ufe({children:e}){const t=Hr(),[n,r]=_.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return g.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[g.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[g.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[g.jsx("span",{className:"desk:block hidden",children:""}),g.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),g.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return g.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),g.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[g.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[g.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),g.jsx("div",{className:"font-semibold",children:" "}),g.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),g.jsx("div",{className:"flex-1",children:e})]})]})}function Ffe(){const[e,t]=_.useState(null),[n,r]=_.useState(!0);return _.useEffect(()=>{(async()=>{const{data:a}=await Re.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:l}=await Re.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(l?.role??null),r(!1)})()},[]),{role:e,loading:n}}function Hfe({allow:e,children:t}){const{role:n,loading:r}=Ffe();return r?g.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?g.jsx("div",{className:"text-red-400 p-6",children:" ."}):g.jsx(g.Fragment,{children:t})}function Y7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Y7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function an(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Y7(e))&&(r&&(r+=" "),r+=t);return r}var Gfe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sA(e){if(typeof e!="string")return!1;var t=Gfe;return t.includes(e)}var Yfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qfe=new Set(Yfe);function q7(e){return typeof e!="string"?!1:qfe.has(e)}function K7(e){return typeof e=="string"&&e.startsWith("data-")}function io(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(q7(n)||K7(n))&&(t[n]=e[n]);return t}function ix(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return io(t)}return typeof e=="object"&&!Array.isArray(e)?io(e):null}function Ea(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(q7(n)||K7(n)||sA(n))&&(t[n]=e[n]);return t}function Kfe(e){return e==null?null:_.isValidElement(e)?Ea(e.props):typeof e=="object"&&!Array.isArray(e)?Ea(e):null}var Wfe=["children","width","height","viewBox","className","style","title","desc"];function D2(){return D2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D2.apply(null,arguments)}function Vfe(e,t){if(e==null)return{};var n,r,i=Zfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var W7=_.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:d}=e,h=Vfe(e,Wfe),p=a||{width:r,height:i,x:0,y:0},b=an("recharts-surface",o);return _.createElement("svg",D2({},Ea(h),{className:b,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),_.createElement("title",null,u),_.createElement("desc",null,d),n)}),Xfe=["children","className"];function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P2.apply(null,arguments)}function Jfe(e,t){if(e==null)return{};var n,r,i=Qfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Bo=_.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Jfe(e,Xfe),a=an("recharts-layer",r);return _.createElement("g",P2({className:a},Ea(i),{ref:t}),n)}),ehe=_.createContext(null);function An(e){return function(){return e}}const R2=Math.PI,L2=2*R2,eu=1e-6,the=L2-eu;function V7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function nhe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return V7;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class rhe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?V7:nhe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-t,d=i-n,h=o-t,p=l-n,b=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>eu)if(!(Math.abs(p*u-d*h)>eu)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,k=i-l,w=u*u+d*d,S=y*y+k*k,j=Math.sqrt(w),O=Math.sqrt(b),A=a*Math.tan((R2-Math.acos((w+b-S)/(2*j*O)))/2),C=A/O,D=A/j;Math.abs(C-1)>eu&&this._append`L${t+C*h},${n+C*p}`,this._append`A${a},${a},0,0,${+(p*y>h*k)},${this._x1=t+D*u},${this._y1=n+D*d}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=t+l,h=n+u,p=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>eu||Math.abs(this._y1-h)>eu)&&this._append`L${d},${h}`,r&&(b<0&&(b=b%L2+L2),b>the?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:b>eu&&this._append`A${r},${r},0,${+(b>=R2)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Z7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new rhe(t)}function lA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function X7(e){this._context=e}X7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ax(e){return new X7(e)}function J7(e){return e[0]}function Q7(e){return e[1]}function e9(e,t){var n=An(!0),r=null,i=ax,a=null,o=Z7(l);e=typeof e=="function"?e:e===void 0?J7:An(e),t=typeof t=="function"?t:t===void 0?Q7:An(t);function l(u){var d,h=(u=lA(u)).length,p,b=!1,y;for(r==null&&(a=i(y=o())),d=0;d<=h;++d)!(d<h&&n(p=u[d],d,u))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+e(p,d,u),+t(p,d,u));if(y)return a=null,y+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:An(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:An(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:An(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function lb(e,t,n){var r=null,i=An(!0),a=null,o=ax,l=null,u=Z7(d);e=typeof e=="function"?e:e===void 0?J7:An(+e),t=typeof t=="function"?t:An(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Q7:An(+n);function d(p){var b,y,k,w=(p=lA(p)).length,S,j=!1,O,A=new Array(w),C=new Array(w);for(a==null&&(l=o(O=u())),b=0;b<=w;++b){if(!(b<w&&i(S=p[b],b,p))===j)if(j=!j)y=b,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),k=b-1;k>=y;--k)l.point(A[k],C[k]);l.lineEnd(),l.areaEnd()}j&&(A[b]=+e(S,b,p),C[b]=+t(S,b,p),l.point(r?+r(S,b,p):A[b],n?+n(S,b,p):C[b]))}if(O)return l=null,O+""||null}function h(){return e9().defined(i).curve(o).context(a)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:An(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:An(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:An(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:An(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:An(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:An(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:An(!!p),d):i},d.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),d):o},d.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),d):a},d}class t9{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function ihe(e){return new t9(e,!0)}function ahe(e){return new t9(e,!1)}function Ly(){}function Iy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function n9(e){this._context=e}n9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Iy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ohe(e){return new n9(e)}function r9(e){this._context=e}r9.prototype={areaStart:Ly,areaEnd:Ly,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function she(e){return new r9(e)}function i9(e){this._context=e}i9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lhe(e){return new i9(e)}function a9(e){this._context=e}a9.prototype={areaStart:Ly,areaEnd:Ly,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function che(e){return new a9(e)}function pR(e){return e<0?-1:1}function gR(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(pR(a)+pR(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function bR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function R1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function $y(e){this._context=e}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:R1(this,this._t0,bR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,R1(this,bR(this,n=gR(this,e,t)),n);break;default:R1(this,this._t0,n=gR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function o9(e){this._context=new s9(e)}(o9.prototype=Object.create($y.prototype)).point=function(e,t){$y.prototype.point.call(this,t,e)};function s9(e){this._context=e}s9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function uhe(e){return new $y(e)}function dhe(e){return new o9(e)}function l9(e){this._context=e}l9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=yR(e),i=yR(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yR(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function fhe(e){return new l9(e)}function ox(e,t){this._context=e,this._t=t}ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function hhe(e){return new ox(e,.5)}function mhe(e){return new ox(e,0)}function phe(e){return new ox(e,1)}function cf(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function I2(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ghe(e,t){return e[t]}function bhe(e){const t=[];return t.key=e,t}function yhe(){var e=An([]),t=I2,n=cf,r=ghe;function i(a){var o=Array.from(e.apply(this,arguments),bhe),l,u=o.length,d=-1,h;for(const p of a)for(l=0,++d;l<u;++l)(o[l][d]=[0,+r(p,o[l].key,d,a)]).data=p;for(l=0,h=lA(t(o));l<u;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:An(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:An(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?I2:typeof a=="function"?a:An(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??cf,i):n},i}function vhe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}cf(e,t)}}function xhe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}cf(e,t)}}function whe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,d=0;l<o;++l){for(var h=e[t[l]],p=h[r][1]||0,b=h[r-1][1]||0,y=(p-b)/2,k=0;k<l;++k){var w=e[t[k]],S=w[r][1]||0,j=w[r-1][1]||0;y+=S-j}u+=p,d+=y*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,cf(e,t)}}var L1={},I1={},vR;function _he(){return vR||(vR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(I1)),I1}var $1={},xR;function c9(){return xR||(xR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})($1)),$1}var B1={},wR;function cA(){return wR||(wR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(B1)),B1}var z1={},U1={},_R;function She(){return _R||(_R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(U1)),U1}var SR;function uA(){return SR||(SR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=She(),n=cA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];d?p==="\\"&&l+1<o?(l++,u+=i[l]):p===d?d="":u+=p:h?p==='"'||p==="'"?d=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}e.toPath=r})(z1)),z1}var kR;function dA(){return kR||(kR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_he(),n=c9(),r=cA(),i=uA();function a(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),d):d:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?d:h}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?d:h}}}function o(l,u,d){if(u.length===0)return d;let h=l;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return d;h=h[u[p]]}return h===void 0?d:h}e.get=a})(L1)),L1}var F1,ER;function khe(){return ER||(ER=1,F1=dA().get),F1}var Ehe=khe();const sx=Si(Ehe);var xa=e=>e===0?0:e>0?1:-1,ao=e=>typeof e=="number"&&e!=+e,Ds=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,tt=e=>(typeof e=="number"||e instanceof Number)&&!ao(e),zo=e=>tt(e)||typeof e=="string",The=0,Qm=e=>{var t=++The;return"".concat(e||"").concat(t)},Zl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&typeof t!="string")return r;var a;if(Ds(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return ao(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},u9=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Do(e,t,n){return tt(e)&&tt(t)?e+n*(t-e):t}function d9(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):sx(r,t))===n)}var Cr=e=>e===null||typeof e>"u",fA=e=>Cr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ahe(e){return e!=null}function Op(){}var f9=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,hA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{sA(i)&&(r[i]=(a=>n[i](n,a)))}),r},jhe=(e,t,n)=>r=>(e(t,n,r),null),Nhe=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];sA(i)&&typeof a=="function"&&(r||(r={}),r[i]=jhe(a,t,n))}),r};function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ohe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(r){Che(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Che(e,t,n){return(t=Mhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mhe(e){var t=Dhe(e,"string");return typeof t=="symbol"?t:t+""}function Dhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xi(e,t){var n=Ohe({},e),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var H1={},G1={},AR;function Phe(){return AR||(AR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(G1)),G1}var Y1={},jR;function h9(){return jR||(jR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Y1)),Y1}var q1={},K1={},W1={},NR;function Rhe(){return NR||(NR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(W1)),W1}var OR;function mA(){return OR||(OR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rhe();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(K1)),K1}var V1={},CR;function Lhe(){return CR||(CR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(V1)),V1}var MR;function Ihe(){return MR||(MR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mA(),n=Lhe();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(q1)),q1}var Z1={},X1={},DR;function $he(){return DR||(DR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(X1)),X1}var J1={},Q1={},eS={},tS={},PR;function m9(){return PR||(PR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(tS)),tS}var nS={},RR;function p9(){return RR||(RR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(nS)),nS}var rS={},LR;function g9(){return LR||(LR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(rS)),rS}var IR;function Bhe(){return IR||(IR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m9(),n=p9(),r=g9();function i(h,p,b){return typeof b!="function"?i(h,p,()=>{}):a(h,p,function y(k,w,S,j,O,A){const C=b(k,w,S,j,O,A);return C!==void 0?!!C:a(k,w,y,A)},new Map)}function a(h,p,b,y){if(p===h)return!0;switch(typeof p){case"object":return o(h,p,b,y);case"function":return Object.keys(p).length>0?a(h,{...p},b,y):r.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function o(h,p,b,y){if(p==null)return!0;if(Array.isArray(p))return u(h,p,b,y);if(p instanceof Map)return l(h,p,b,y);if(p instanceof Set)return d(h,p,b,y);const k=Object.keys(p);if(h==null)return k.length===0;if(k.length===0)return!0;if(y?.has(p))return y.get(p)===h;y?.set(p,h);try{for(let w=0;w<k.length;w++){const S=k[w];if(!n.isPrimitive(h)&&!(S in h)||p[S]===void 0&&h[S]!==void 0||p[S]===null&&h[S]!==null||!b(h[S],p[S],S,h,p,y))return!1}return!0}finally{y?.delete(p)}}function l(h,p,b,y){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[k,w]of p.entries()){const S=h.get(k);if(b(S,w,k,h,p,y)===!1)return!1}return!0}function u(h,p,b,y){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const k=new Set;for(let w=0;w<p.length;w++){const S=p[w];let j=!1;for(let O=0;O<h.length;O++){if(k.has(O))continue;const A=h[O];let C=!1;if(b(A,S,w,h,p,y)&&(C=!0),C){k.add(O),j=!0;break}}if(!j)return!1}return!0}function d(h,p,b,y){return p.size===0?!0:h instanceof Set?u([...h],[...p],b,y):!1}e.isMatchWith=i,e.isSetMatch=d})(eS)),eS}var $R;function b9(){return $R||($R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bhe();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Q1)),Q1}var iS={},aS={},oS={},BR;function zhe(){return BR||(BR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(oS)),oS}var sS={},zR;function y9(){return zR||(zR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(sS)),sS}var lS={},UR;function v9(){return UR||(UR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",h="[object Array]",p="[object Function]",b="[object ArrayBuffer]",y="[object Object]",k="[object Error]",w="[object DataView]",S="[object Uint8Array]",j="[object Uint8ClampedArray]",O="[object Uint16Array]",A="[object Uint32Array]",C="[object BigUint64Array]",D="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",U="[object BigInt64Array]",K="[object Float32Array]",q="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=k,e.float32ArrayTag=K,e.float64ArrayTag=q,e.functionTag=p,e.int16ArrayTag=P,e.int32ArrayTag=I,e.int8ArrayTag=D,e.mapTag=u,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=O,e.uint32ArrayTag=A,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=j})(lS)),lS}var cS={},FR;function Uhe(){return FR||(FR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(cS)),cS}var HR;function x9(){return HR||(HR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zhe(),n=y9(),r=v9(),i=p9(),a=Uhe();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,b,y=new Map,k=void 0){const w=k?.(h,p,b,y);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const S=new Array(h.length);y.set(h,S);for(let j=0;j<h.length;j++)S[j]=l(h[j],j,b,y,k);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;y.set(h,S);for(const[j,O]of h)S.set(j,l(O,j,b,y,k));return S}if(h instanceof Set){const S=new Set;y.set(h,S);for(const j of h)S.add(l(j,void 0,b,y,k));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,S);for(let j=0;j<h.length;j++)S[j]=l(h[j],j,b,y,k);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,S),u(S,h,b,y,k),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return y.set(h,S),u(S,h,b,y,k),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof Error){const S=new h.constructor;return y.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,u(S,h,b,y,k),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof Number){const S=new Number(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof String){const S=new String(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(typeof h=="object"&&d(h)){const S=Object.create(Object.getPrototypeOf(h));return y.set(h,S),u(S,h,b,y,k),S}return h}function u(h,p,b=h,y,k){const w=[...Object.keys(p),...t.getSymbols(p)];for(let S=0;S<w.length;S++){const j=w[S],O=Object.getOwnPropertyDescriptor(h,j);(O==null||O.writable)&&(h[j]=l(p[j],j,b,y,k))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(aS)),aS}var GR;function Fhe(){return GR||(GR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x9();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(iS)),iS}var YR;function Hhe(){return YR||(YR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b9(),n=Fhe();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(J1)),J1}var uS={},dS={},fS={},qR;function Ghe(){return qR||(qR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x9(),n=v9();function r(i,a){return t.cloneDeepWith(i,(o,l,u,d)=>{const h=a?.(o,l,u,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(fS)),fS}var KR;function Yhe(){return KR||(KR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ghe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(dS)),dS}var hS={},mS={},WR;function w9(){return WR||(WR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(mS)),mS}var pS={},VR;function qhe(){return VR||(VR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y9();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(pS)),pS}var ZR;function Khe(){return ZR||(ZR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c9(),n=w9(),r=qhe(),i=uA();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let h=0;h<u.length;h++){const p=u[h];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=a})(hS)),hS}var XR;function Whe(){return XR||(XR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b9(),n=cA(),r=Yhe(),i=dA(),a=Khe();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const h=i.get(d,l);return h===void 0?a.has(d,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})(uS)),uS}var JR;function Vhe(){return JR||(JR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h9(),n=$he(),r=Hhe(),i=Whe();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(Z1)),Z1}var QR;function Zhe(){return QR||(QR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Phe(),n=h9(),r=Ihe(),i=Vhe();function a(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(H1)),H1}var gS,e3;function Xhe(){return e3||(e3=1,gS=Zhe().uniqBy),gS}var Jhe=Xhe();const t3=Si(Jhe);function Qhe(e,t,n){return t===!0?t3(e,n):typeof t=="function"?t3(e,t):e}var bS={exports:{}},yS={},vS={exports:{}},xS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3;function eme(){if(n3)return xS;n3=1;var e=gf();function t(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(p,b){var y=b(),k=r({inst:{value:y,getSnapshot:b}}),w=k[0].inst,S=k[1];return a(function(){w.value=y,w.getSnapshot=b,u(w)&&S({inst:w})},[p,y,b]),i(function(){return u(w)&&S({inst:w}),p(function(){u(w)&&S({inst:w})})},[p]),o(y),y}function u(p){var b=p.getSnapshot;p=p.value;try{var y=b();return!n(p,y)}catch{return!0}}function d(p,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return xS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,xS}var r3;function tme(){return r3||(r3=1,vS.exports=eme()),vS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i3;function nme(){if(i3)return yS;i3=1;var e=gf(),t=tme();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return yS.useSyncExternalStoreWithSelector=function(d,h,p,b,y){var k=a(null);if(k.current===null){var w={hasValue:!1,value:null};k.current=w}else w=k.current;k=l(function(){function j(P){if(!O){if(O=!0,A=P,P=b(P),y!==void 0&&w.hasValue){var I=w.value;if(y(I,P))return C=I}return C=P}if(I=C,r(A,P))return I;var U=b(P);return y!==void 0&&y(I,U)?(A=P,I):(A=P,C=U)}var O=!1,A,C,D=p===void 0?null:p;return[function(){return j(h())},D===null?void 0:function(){return j(D())}]},[h,p,b,y]);var S=i(d,k[0],k[1]);return o(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},yS}var a3;function rme(){return a3||(a3=1,bS.exports=nme()),bS.exports}var ime=rme(),pA=_.createContext(null),ame=e=>e,yr=()=>{var e=_.useContext(pA);return e?e.store.dispatch:ame},Gb=()=>{},ome=()=>Gb,sme=(e,t)=>e===t;function rt(e){var t=_.useContext(pA);return ime.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ome,t?t.store.getState:Gb,t?t.store.getState:Gb,t?e:Gb,sme)}function lme(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function cme(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ume(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var o3=e=>Array.isArray(e)?e:[e];function dme(e){const t=Array.isArray(e[0])?e[0]:e;return ume(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function fme(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var hme=class{constructor(e){this.value=e}deref(){return this.value}},mme=typeof WeakRef<"u"?WeakRef:hme,pme=0,s3=1;function cb(){return{s:pme,v:void 0,o:null,p:null}}function _9(e,t={}){let n=cb();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let l=n;const{length:u}=arguments;for(let p=0,b=u;p<b;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let k=l.o;k===null&&(l.o=k=new WeakMap);const w=k.get(y);w===void 0?(l=cb(),k.set(y,l)):l=w}else{let k=l.p;k===null&&(l.p=k=new Map);const w=k.get(y);w===void 0?(l=cb(),k.set(y,l)):l=w}}const d=l;let h;if(l.s===s3)h=l.v;else if(h=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new mme(h):h}return d.s=s3,d.v=h,h}return o.clearCache=()=>{n=cb(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function gme(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),lme(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...u},{memoize:p,memoizeOptions:b=[],argsMemoize:y=_9,argsMemoizeOptions:k=[]}=h,w=o3(b),S=o3(k),j=dme(i),O=p(function(){return a++,d.apply(null,arguments)},...w),A=y(function(){o++;const D=fme(j,arguments);return l=O.apply(null,D),l},...S);return Object.assign(A,{resultFunc:d,memoizedResultFunc:O,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var we=gme(_9),bme=Object.assign((e,t=we)=>{cme(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>bme}),wS={},_S={},SS={},l3;function yme(){return l3||(l3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(SS)),SS}var kS={},ES={},c3;function S9(){return c3||(c3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(ES)),ES}var u3;function vme(){return u3||(u3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S9(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(kS)),kS}var d3;function xme(){return d3||(d3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yme(),n=vme(),r=uA();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const d=(y,k)=>{let w=y;for(let S=0;S<k.length&&w!=null;++S)w=w[k[S]];return w},h=(y,k)=>k==null||y==null?k:typeof y=="object"&&"key"in y?Object.hasOwn(k,y.key)?k[y.key]:d(k,y.path):typeof y=="function"?y(k):Array.isArray(y)?d(k,y):typeof k=="object"?k[y]:k,p=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(k=>h(k,y))})).slice().sort((y,k)=>{for(let w=0;w<p.length;w++){const S=t.compareValues(y.criteria[w],k.criteria[w],l[w]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=i})(_S)),_S}var TS={},f3;function wme(){return f3||(f3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let d=0;d<l.length;d++){const h=l[d];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}e.flatten=t})(TS)),TS}var AS={},h3;function k9(){return h3||(h3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w9(),n=mA(),r=m9(),i=g9();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}e.isIterateeCall=a})(AS)),AS}var m3;function _me(){return m3||(m3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xme(),n=wme(),r=k9();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(wS)),wS}var jS,p3;function Sme(){return p3||(p3=1,jS=_me().sortBy),jS}var kme=Sme();const lx=Si(kme);var E9=e=>e.legend.settings,Eme=e=>e.legend.size,Tme=e=>e.legend.payload;we([Tme,E9],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?lx(r,n):r});var ub=1;function Ame(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>ub||Math.abs(o.left-t.left)>ub||Math.abs(o.top-t.top)>ub||Math.abs(o.width-t.width)>ub)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var T9=Symbol.for("immer-nothing"),g3=Symbol.for("immer-draftable"),ei=Symbol.for("immer-state");function Za(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Gi=Object,uf=Gi.getPrototypeOf,By="constructor",cx="prototype",$2="configurable",zy="enumerable",Yb="writable",ep="value",Ps=e=>!!e&&!!e[ei];function oo(e){return e?A9(e)||ux(e)||!!e[g3]||!!e[By]?.[g3]||dx(e)||fx(e):!1}var jme=Gi[cx][By].toString(),b3=new WeakMap;function A9(e){if(!e||!gA(e))return!1;const t=uf(e);if(t===null||t===Gi[cx])return!0;const n=Gi.hasOwnProperty.call(t,By)&&t[By];if(n===Object)return!0;if(!Ld(n))return!1;let r=b3.get(n);return r===void 0&&(r=Function.toString.call(n),b3.set(n,r)),r===jme}function Cp(e,t,n=!0){Mp(e)===0?(n?Reflect.ownKeys(e):Gi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Mp(e){const t=e[ei];return t?t.type_:ux(e)?1:dx(e)?2:fx(e)?3:0}var y3=(e,t,n=Mp(e))=>n===2?e.has(t):Gi[cx].hasOwnProperty.call(e,t),B2=(e,t,n=Mp(e))=>n===2?e.get(t):e[t],Uy=(e,t,n,r=Mp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Nme(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ux=Array.isArray,dx=e=>e instanceof Map,fx=e=>e instanceof Set,gA=e=>typeof e=="object",Ld=e=>typeof e=="function",NS=e=>typeof e=="boolean",xs=e=>e.copy_||e.base_,bA=e=>e.modified_?e.copy_:e.base_;function z2(e,t){if(dx(e))return new Map(e);if(fx(e))return new Set(e);if(ux(e))return Array[cx].slice.call(e);const n=A9(e);if(t===!0||t==="class_only"&&!n){const r=Gi.getOwnPropertyDescriptors(e);delete r[ei];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[Yb]===!1&&(l[Yb]=!0,l[$2]=!0),(l.get||l.set)&&(r[o]={[$2]:!0,[Yb]:!0,[zy]:l[zy],[ep]:e[o]})}return Gi.create(uf(e),r)}else{const r=uf(e);if(r!==null&&n)return{...e};const i=Gi.create(r);return Gi.assign(i,e)}}function yA(e,t=!1){return hx(e)||Ps(e)||!oo(e)||(Mp(e)>1&&Gi.defineProperties(e,{set:db,add:db,clear:db,delete:db}),Gi.freeze(e),t&&Cp(e,(n,r)=>{yA(r,!0)},!1)),e}function Ome(){Za(2)}var db={[ep]:Ome};function hx(e){return e===null||!gA(e)?!0:Gi.isFrozen(e)}var Fy="MapSet",U2="Patches",j9={};function df(e){const t=j9[e];return t||Za(0,e),t}var Cme=e=>!!j9[e],tp,N9=()=>tp,Mme=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Cme(Fy)?df(Fy):void 0});function v3(e,t){t&&(e.patchPlugin_=df(U2),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function F2(e){H2(e),e.drafts_.forEach(Dme),e.drafts_=null}function H2(e){e===tp&&(tp=e.parent_)}var x3=e=>tp=Mme(tp,e);function Dme(e){const t=e[ei];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function w3(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ei].modified_&&(F2(t),Za(4)),oo(e)&&(e=_3(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[ei].base_,e,t)}else e=_3(t,n);return Pme(t,e,!0),F2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==T9?e:void 0}function _3(e,t){if(hx(t))return t;const n=t[ei];if(!n)return vA(t,e.handledSet_,e);if(!mx(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);M9(n,e)}return n.copy_}function Pme(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&yA(t,n)}function O9(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var mx=(e,t)=>e.scope_===t,Rme=[];function C9(e,t,n,r){const i=xs(e),a=e.type_;if(r!==void 0&&B2(i,r,a)===t){Uy(i,r,n,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Cp(i,(u,d)=>{if(Ps(d)){const h=l.get(d)||[];h.push(u),l.set(d,h)}})}const o=e.draftLocations_.get(t)??Rme;for(const l of o)Uy(i,l,n,a)}function Lme(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!mx(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=bA(a);C9(e,a.draft_??a,o,n),M9(a,i)})}function M9(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}O9(e)}}function Ime(e,t,n){const{scope_:r}=e;if(Ps(n)){const i=n[ei];mx(i,r)&&i.callbacks_.push(function(){qb(e);const o=bA(i);C9(e,n,o,t)})}else oo(n)&&e.callbacks_.push(function(){const a=xs(e);B2(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&vA(B2(e.copy_,t,e.type_),r.handledSet_,r)})}function vA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ps(e)||t.has(e)||!oo(e)||hx(e)||(t.add(e),Cp(e,(r,i)=>{if(Ps(i)){const a=i[ei];if(mx(a,n)){const o=bA(a);Uy(e,r,o,e.type_),O9(a)}}else oo(i)&&vA(i,t,n)})),e}function $me(e,t){const n=ux(e),r={type_:n?1:0,scope_:t?t.scope_:N9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=xA;n&&(i=[r],a=np);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var xA={get(e,t){if(t===ei)return e;const n=xs(e);if(!y3(n,t,e.type_))return Bme(e,n,t);const r=n[t];if(e.finalized_||!oo(r))return r;if(r===OS(e.base_,t)){qb(e);const i=e.type_===1?+t:t,a=Y2(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in xs(e)},ownKeys(e){return Reflect.ownKeys(xs(e))},set(e,t,n){const r=D9(xs(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=OS(xs(e),t),a=i?.[ei];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Nme(n,i)&&(n!==void 0||y3(e.base_,t,e.type_)))return!0;qb(e),G2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Ime(e,t,n)),!0},deleteProperty(e,t){return qb(e),OS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),G2(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=xs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Yb]:!0,[$2]:e.type_!==1||t!=="length",[zy]:r[zy],[ep]:n[t]}},defineProperty(){Za(11)},getPrototypeOf(e){return uf(e.base_)},setPrototypeOf(){Za(12)}},np={};Cp(xA,(e,t)=>{np[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});np.deleteProperty=function(e,t){return np.set.call(this,e,t,void 0)};np.set=function(e,t,n){return xA.set.call(this,e[0],t,n,e[0])};function OS(e,t){const n=e[ei];return(n?xs(n):e)[t]}function Bme(e,t,n){const r=D9(t,n);return r?ep in r?r[ep]:r.get?.call(e.draft_):void 0}function D9(e,t){if(!(t in e))return;let n=uf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=uf(n)}}function G2(e){e.modified_||(e.modified_=!0,e.parent_&&G2(e.parent_))}function qb(e){e.copy_||(e.assigned_=new Map,e.copy_=z2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var zme=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ld(n)&&!Ld(r)){const o=r;r=n;const l=this;return function(d=o,...h){return l.produce(d,p=>r.call(this,p,...h))}}Ld(r)||Za(6),i!==void 0&&!Ld(i)&&Za(7);let a;if(oo(n)){const o=x3(this),l=Y2(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?F2(o):H2(o)}return v3(o,i),w3(a,o)}else if(!n||!gA(n)){if(a=r(n),a===void 0&&(a=n),a===T9&&(a=void 0),this.autoFreeze_&&yA(a,!0),i){const o=[],l=[];df(U2).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Za(1,n)},this.produceWithPatches=(n,r)=>{if(Ld(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},NS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),NS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),NS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){oo(t)||Za(8),Ps(t)&&(t=eo(t));const n=x3(this),r=Y2(n,t,void 0);return r[ei].isManual_=!0,H2(n),r}finishDraft(t,n){const r=t&&t[ei];(!r||!r.isManual_)&&Za(9);const{scope_:i}=r;return v3(i,n),w3(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=df(U2).applyPatches_;return Ps(t)?i(t,n):this.produce(t,a=>i(a,n))}};function Y2(e,t,n,r){const[i,a]=dx(t)?df(Fy).proxyMap_(t,n):fx(t)?df(Fy).proxySet_(t,n):$me(t,n);return(n?.scope_??N9()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Lme(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=u;a.modified_&&d&&d.generatePatches_(a,[],u)}),i}function eo(e){return Ps(e)||Za(10,e),P9(e)}function P9(e){if(!oo(e)||hx(e))return e;const t=e[ei];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=z2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=z2(e,!0);return Cp(n,(i,a)=>{Uy(n,i,P9(a))},r),t&&(t.finalized_=!1),n}var Ume=new zme,R9=Ume.produce;function L9(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Fme=L9(),Hme=L9,Gme=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zm:zm.apply(null,arguments)};function Ta(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Ki(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>e4(r)&&r.type===e,n}var I9=class km extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,km.prototype)}static get[Symbol.species](){return km}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new km(...t[0].concat(this)):new km(...t.concat(this))}};function S3(e){return oo(e)?R9(e,()=>{}):e}function fb(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Yme(e){return typeof e=="boolean"}var qme=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new I9;return n&&(Yme(n)?o.push(Fme):o.push(Hme(n.extraArgument))),o},$9="RTK_autoBatch",dn=()=>e=>({payload:e,meta:{[$9]:!0}}),k3=e=>t=>{setTimeout(t,e)},B9=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:k3(10):e.type==="callback"?e.queueNotification:k3(e.timeout),d=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),b=r.subscribe(p);return l.add(h),()=>{b(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[$9],a=!i,a&&(o||(o=!0,u(d))),r.dispatch(h)}finally{i=!0}}})},Kme=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new I9(e);return r&&i.push(B9(typeof r=="object"?r:void 0)),i};function Wme(e){const t=qme(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(aT(n))l=JB(n);else throw new Error(Ki(1));let u;typeof r=="function"?u=r(t):u=t();let d=zm;i&&(d=Gme({trace:!1,...typeof i=="object"&&i}));const h=QB(...u),p=Kme(h);let b=typeof o=="function"?o(p):p();const y=d(...b);return oT(l,a,y)}function z9(e){const t={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Ki(28));if(l in t)throw new Error(Ki(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Vme(e){return typeof e=="function"}function Zme(e,t){let[n,r,i]=z9(t),a;if(Vme(e))a=()=>S3(e());else{const l=S3(e);a=()=>l}function o(l=a(),u){let d=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,p)=>{if(p)if(Ps(h)){const y=p(h,u);return y===void 0?h:y}else{if(oo(h))return R9(h,b=>p(b,u));{const b=p(h,u);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},l)}return o.getInitialState=a,o}var Xme="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Jme=(e=21)=>{let t="",n=e;for(;n--;)t+=Xme[Math.random()*64|0];return t},Qme=Symbol.for("rtk-slice-createasyncthunk");function epe(e,t){return`${e}/${t}`}function tpe({creators:e}={}){const t=e?.asyncThunk?.[Qme];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Ki(11));const o=(typeof r.reducers=="function"?r.reducers(rpe()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(A,C){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(Ki(12));if(D in u.sliceCaseReducersByType)throw new Error(Ki(13));return u.sliceCaseReducersByType[D]=C,d},addMatcher(A,C){return u.sliceMatchers.push({matcher:A,reducer:C}),d},exposeAction(A,C){return u.actionCreators[A]=C,d},exposeCaseReducer(A,C){return u.sliceCaseReducersByName[A]=C,d}};l.forEach(A=>{const C=o[A],D={reducerName:A,type:epe(i,A),createNotation:typeof r.reducers=="function"};ape(C)?spe(D,C,d,t):ipe(D,C,d)});function h(){const[A={},C=[],D=void 0]=typeof r.extraReducers=="function"?z9(r.extraReducers):[r.extraReducers],P={...A,...u.sliceCaseReducersByType};return Zme(r.initialState,I=>{for(let U in P)I.addCase(U,P[U]);for(let U of u.sliceMatchers)I.addMatcher(U.matcher,U.reducer);for(let U of C)I.addMatcher(U.matcher,U.reducer);D&&I.addDefaultCase(D)})}const p=A=>A,b=new Map,y=new WeakMap;let k;function w(A,C){return k||(k=h()),k(A,C)}function S(){return k||(k=h()),k.getInitialState()}function j(A,C=!1){function D(I){let U=I[A];return typeof U>"u"&&C&&(U=fb(y,D,S)),U}function P(I=p){const U=fb(b,C,()=>new WeakMap);return fb(U,I,()=>{const K={};for(const[q,H]of Object.entries(r.selectors??{}))K[q]=npe(H,I,()=>fb(y,I,S),C);return K})}return{reducerPath:A,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const O={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...j(a),injectInto(A,{reducerPath:C,...D}={}){const P=C??a;return A.inject({reducerPath:P,reducer:w},D),{...O,...j(P,!0)}}};return O}}function npe(e,t,n,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var ki=tpe();function rpe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function ipe({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!ope(r))throw new Error(Ki(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Ta(e,o):Ta(e))}function ape(e){return e._reducerDefinitionType==="asyncThunk"}function ope(e){return e._reducerDefinitionType==="reducerWithPrepare"}function spe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Ki(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:d,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:o||hb,pending:l||hb,rejected:u||hb,settled:d||hb})}function hb(){}var lpe="task",U9="listener",F9="completed",wA="cancelled",cpe=`task-${wA}`,upe=`task-${F9}`,q2=`${U9}-${wA}`,dpe=`${U9}-${F9}`,px=class{constructor(e){this.code=e,this.message=`${lpe} ${wA} (reason: ${e})`}name="TaskAbortError";message},_A=(e,t)=>{if(typeof e!="function")throw new TypeError(Ki(32))},Hy=()=>{},H9=(e,t=Hy)=>(e.catch(t),e),G9=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),mu=e=>{if(e.aborted)throw new px(e.reason)};function Y9(e,t){let n=Hy;return new Promise((r,i)=>{const a=()=>i(new px(e.reason));if(e.aborted){a();return}n=G9(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Hy})}var fpe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof px?"cancelled":"rejected",error:n}}finally{t?.()}},Gy=e=>t=>H9(Y9(e,t).then(n=>(mu(e),n))),q9=e=>{const t=Gy(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Vd}=Object,E3={},gx="listenerMiddleware",hpe=(e,t)=>{const n=r=>G9(e,()=>r.abort(e.reason));return(r,i)=>{_A(r);const a=new AbortController;n(a);const o=fpe(async()=>{mu(e),mu(a.signal);const l=await r({pause:Gy(a.signal),delay:q9(a.signal),signal:a.signal});return mu(a.signal),l},()=>a.abort(upe));return i?.autoJoin&&t.push(o.catch(Hy)),{result:Gy(e)(o),cancel(){a.abort(cpe)}}}},mpe=(e,t)=>{const n=async(r,i)=>{mu(t);let a=()=>{};const l=[new Promise((u,d)=>{let h=e({predicate:r,effect:(p,b)=>{b.unsubscribe(),u([p,b.getState(),b.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await Y9(t,Promise.race(l));return mu(t),u}finally{a()}};return(r,i)=>H9(n(r,i))},K9=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ta(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ki(21));return _A(a),{predicate:i,type:t,effect:a}},W9=Vd(e=>{const{type:t,predicate:n,effect:r}=K9(e);return{id:Jme(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ki(22))}}},{withTypes:()=>W9}),T3=(e,t)=>{const{type:n,effect:r,predicate:i}=K9(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},K2=e=>{e.pending.forEach(t=>{t.abort(q2)})},ppe=(e,t)=>()=>{for(const n of t.keys())K2(n);e.clear()},A3=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},V9=Vd(Ta(`${gx}/add`),{withTypes:()=>V9}),gpe=Ta(`${gx}/removeAll`),Z9=Vd(Ta(`${gx}/remove`),{withTypes:()=>Z9}),bpe=(...e)=>{console.error(`${gx}/error`,...e)},Dp=(e={})=>{const t=new Map,n=new Map,r=y=>{const k=n.get(y)??0;n.set(y,k+1)},i=y=>{const k=n.get(y)??1;k===1?n.delete(y):n.set(y,k-1)},{extra:a,onError:o=bpe}=e;_A(o);const l=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),k=>{y.unsubscribe(),k?.cancelActive&&K2(y)}),u=y=>{const k=T3(t,y)??W9(y);return l(k)};Vd(u,{withTypes:()=>u});const d=y=>{const k=T3(t,y);return k&&(k.unsubscribe(),y.cancelActive&&K2(k)),!!k};Vd(d,{withTypes:()=>d});const h=async(y,k,w,S)=>{const j=new AbortController,O=mpe(u,j.signal),A=[];try{y.pending.add(j),r(y),await Promise.resolve(y.effect(k,Vd({},w,{getOriginalState:S,condition:(C,D)=>O(C,D).then(Boolean),take:O,delay:q9(j.signal),pause:Gy(j.signal),extra:a,signal:j.signal,fork:hpe(j.signal,A),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((C,D,P)=>{C!==j&&(C.abort(q2),P.delete(C))})},cancel:()=>{j.abort(q2),y.pending.delete(j)},throwIfCancelled:()=>{mu(j.signal)}})))}catch(C){C instanceof px||A3(o,C,{raisedBy:"effect"})}finally{await Promise.all(A),j.abort(dpe),i(y),y.pending.delete(j)}},p=ppe(t,n);return{middleware:y=>k=>w=>{if(!e4(w))return k(w);if(V9.match(w))return u(w.payload);if(gpe.match(w)){p();return}if(Z9.match(w))return d(w.payload);let S=y.getState();const j=()=>{if(S===E3)throw new Error(Ki(23));return S};let O;try{if(O=k(w),t.size>0){const A=y.getState(),C=Array.from(t.values());for(const D of C){let P=!1;try{P=D.predicate(w,A,S)}catch(I){P=!1,A3(o,I,{raisedBy:"predicate"})}P&&h(D,w,y,j)}}}finally{S=E3}return O},startListening:u,stopListening:d,clearListeners:p}};function Ki(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ype={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},X9=ki({name:"chartLayout",initialState:ype,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:vpe,setLayout:xpe,setChartSize:wpe,setScale:_pe}=X9.actions,Spe=X9.reducer;function J9(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function j3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ud(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(n),!0).forEach(function(r){kpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kpe(e,t,n){return(t=Epe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Epe(e){var t=Tpe(e,"string");return typeof t=="symbol"?t:t+""}function Tpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fr(e,t,n){return Cr(e)||Cr(t)?n:zo(t)?sx(e,t,n):typeof t=="function"?t(e):n}var Ape=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&tt(e[a]))return Ud(Ud({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&tt(e[o]))return Ud(Ud({},e),{},{[o]:e[o]+(i||0)})}return e},zs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Q9=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(n),o},e8=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:h,ticks:p,niceTicks:b,axisType:y}=e;if(!o)return null;var k=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/k:0;if(w=y==="angleAxis"&&a&&a.length>=2?xa(a[0]-a[1])*2*w:w,p||b){var S=(p||b||[]).map((j,O)=>{var A=r?r.indexOf(j):j;return{coordinate:o(A)+w,value:j,offset:w,index:O}});return S.filter(j=>!ao(j.coordinate))}return u&&d?d.map((j,O)=>({coordinate:o(j)+w,value:j,index:O,offset:w})):o.ticks&&h!=null?o.ticks(h).map((j,O)=>({coordinate:o(j)+w,value:j,offset:w,index:O})):o.domain().map((j,O)=>({coordinate:o(j)+w,value:r?r[j]:j,index:O,offset:w}))},N3=1e-4,jpe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-N3,a=Math.max(r[0],r[1])+N3,o=e(t[0]),l=e(t[n-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},Npe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var l=ao(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},Ope=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=ao(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Cpe={sign:Npe,expand:vhe,none:cf,silhouette:xhe,wiggle:whe,positive:Ope},Mpe=(e,t,n)=>{var r=Cpe[n],i=yhe().keys(t).value((a,o)=>Number(Fr(a,o,0))).order(I2).offset(r);return i(e)};function Dpe(e){return e==null?void 0:String(e)}function O3(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Cr(i[t.dataKey])){var l=d9(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Fr(i,Cr(o)?t.dataKey:o);return Cr(u)?null:t.scale(u)}var Ppe=e=>{var t=e.flat(2).filter(tt);return[Math.min(...t),Math.max(...t)]},Rpe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Lpe=(e,t,n)=>{if(e!=null)return Rpe(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,l=o.reduce((u,d)=>{var h=J9(d,t,n),p=Ppe(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},C3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yy=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=lx(t,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function D3(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Ud(Ud({},t),{},{dataKey:n,payload:r,value:i,name:a})}function t8(e,t){if(e)return String(e);if(typeof t=="string")return t}var Ipe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},$pe=(e,t)=>t==="centric"?e.angle:e.radius,Us=e=>e.layout.width,Fs=e=>e.layout.height,Bpe=e=>e.layout.scale,n8=e=>e.layout.margin,bx=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),yx=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),zpe="data-recharts-item-index",Upe="data-recharts-item-data-key",Pp=60;function P3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(n),!0).forEach(function(r){Fpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fpe(e,t,n){return(t=Hpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hpe(e){var t=Gpe(e,"string");return typeof t=="symbol"?t:t+""}function Gpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ype=e=>e.brush.height;function qpe(e){var t=yx(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Pp;return n+i}return n},0)}function Kpe(e){var t=yx(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Pp;return n+i}return n},0)}function Wpe(e){var t=bx(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Vpe(e){var t=bx(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Pr=we([Us,Fs,n8,Ype,qpe,Kpe,Wpe,Vpe,E9,Eme],(e,t,n,r,i,a,o,l,u,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},b=mb(mb({},p),h),y=b.bottom;b.bottom+=r,b=Ape(b,u,d);var k=e-b.left-b.right,w=t-b.top-b.bottom;return mb(mb({brushBottom:y},b),{},{width:Math.max(k,0),height:Math.max(w,0)})}),Zpe=we(Pr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),r8=we(Us,Fs,(e,t)=>({x:0,y:0,width:e,height:t})),Xpe=_.createContext(null),Ei=()=>_.useContext(Xpe)!=null,vx=e=>e.brush,xx=we([vx,Pr,n8],(e,t,n)=>({height:e.height,x:tt(e.x)?e.x:t.left,y:tt(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:tt(e.width)?e.width:t.width})),CS={},MS={},DS={},R3;function Jpe(){return R3||(R3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{d&&h(),w()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},k=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{k(),o=void 0,l=null},S=()=>{h()},j=function(...O){if(i?.aborted)return;o=this,l=O;const A=b==null;y(),u&&A&&h()};return j.schedule=y,j.cancel=w,j.flush=S,i?.addEventListener("abort",w,{once:!0}),j}e.debounce=t})(DS)),DS}var L3;function Qpe(){return L3||(L3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jpe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let h,p=null;const b=t.debounce(function(...w){h=r.apply(this,w),p=null},i,{edges:d}),y=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,w),p=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,w),h)},k=()=>(b.flush(),h);return y.cancel=b.cancel,y.flush=k,y}e.debounce=n})(MS)),MS}var I3;function e0e(){return I3||(I3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qpe();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})(CS)),CS}var PS,$3;function t0e(){return $3||($3=1,PS=e0e().throttle),PS}var n0e=t0e();const r0e=Si(n0e);var qy=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},i8=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=Ds(r)?e:Number(r),u=Ds(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},i0e={width:0,height:0,overflow:"visible"},a0e={width:0,overflowX:"visible"},o0e={height:0,overflowY:"visible"},s0e={},l0e=e=>{var{width:t,height:n}=e,r=Ds(t),i=Ds(n);return r&&i?i0e:r?a0e:i?o0e:s0e};function c0e(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Nn(e){return Number.isFinite(e)}function Uo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function W2(){return W2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W2.apply(null,arguments)}function B3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B3(Object(n),!0).forEach(function(r){u0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u0e(e,t,n){return(t=d0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d0e(e){var t=f0e(e,"string");return typeof t=="symbol"?t:t+""}function f0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a8=_.createContext({width:-1,height:-1});function h0e(e){return Uo(e.width)&&Uo(e.height)}function o8(e){var{children:t,width:n,height:r}=e,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return h0e(i)?_.createElement(a8.Provider,{value:i},t):null}var SA=()=>_.useContext(a8),m0e=_.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:h=0,id:p,className:b,onResize:y,style:k={}}=e,w=_.useRef(null),S=_.useRef();S.current=y,_.useImperativeHandle(t,()=>w.current);var[j,O]=_.useState({containerWidth:r.width,containerHeight:r.height}),A=_.useCallback((U,K)=>{O(q=>{var H=Math.round(U),B=Math.round(K);return q.containerWidth===H&&q.containerHeight===B?q:{containerWidth:H,containerHeight:B}})},[]);_.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Op;var U=B=>{var W,{width:X,height:Z}=B[0].contentRect;A(X,Z),(W=S.current)===null||W===void 0||W.call(S,X,Z)};h>0&&(U=r0e(U,h,{trailing:!0,leading:!1}));var K=new ResizeObserver(U),{width:q,height:H}=w.current.getBoundingClientRect();return A(q,H),K.observe(w.current),()=>{K.disconnect()}},[A,h]);var{containerWidth:C,containerHeight:D}=j;qy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:I}=i8(C,D,{width:i,height:a,aspect:n,maxHeight:u});return qy(P!=null&&P>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,I,i,a,o,l,n),_.createElement("div",{id:p?"".concat(p):void 0,className:an("recharts-responsive-container",b),style:z3(z3({},k),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:w},_.createElement("div",{style:l0e({width:i,height:a})},_.createElement(o8,{width:P,height:I},d)))}),p0e=_.forwardRef((e,t)=>{var n=SA();if(Uo(n.width)&&Uo(n.height))return e.children;var{width:r,height:i}=c0e({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=i8(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return tt(a)&&tt(o)?_.createElement(o8,{width:a,height:o},e.children):_.createElement(m0e,W2({},e,{width:r,height:i,ref:t}))});function s8(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var wx=()=>{var e,t=Ei(),n=rt(Zpe),r=rt(xx),i=(e=rt(vx))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},g0e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},l8=()=>{var e;return(e=rt(Pr))!==null&&e!==void 0?e:g0e},c8=()=>rt(Us),u8=()=>rt(Fs),Qt=e=>e.layout.layoutType,Rp=()=>rt(Qt),b0e=()=>{var e=Rp();if(e==="horizontal"||e==="vertical")return e},y0e=()=>{var e=Rp();return e!==void 0},_x=e=>{var t=yr(),n=Ei(),{width:r,height:i}=e,a=SA(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),_.useEffect(()=>{!n&&Uo(o)&&Uo(l)&&t(wpe({width:o,height:l}))},[t,n,o,l]),null},d8=Symbol.for("immer-nothing"),U3=Symbol.for("immer-draftable"),Vi=Symbol.for("immer-state");function Xa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var rp=Object.getPrototypeOf;function ff(e){return!!e&&!!e[Vi]}function wu(e){return e?f8(e)||Array.isArray(e)||!!e[U3]||!!e.constructor?.[U3]||Lp(e)||kx(e):!1}var v0e=Object.prototype.constructor.toString(),F3=new WeakMap;function f8(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=F3.get(n);return r===void 0&&(r=Function.toString.call(n),F3.set(n,r)),r===v0e}function Ky(e,t,n=!0){Sx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Sx(e){const t=e[Vi];return t?t.type_:Array.isArray(e)?1:Lp(e)?2:kx(e)?3:0}function V2(e,t){return Sx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function h8(e,t,n){const r=Sx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function x0e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Lp(e){return e instanceof Map}function kx(e){return e instanceof Set}function tu(e){return e.copy_||e.base_}function Z2(e,t){if(Lp(e))return new Map(e);if(kx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=f8(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Vi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(rp(e),r)}else{const r=rp(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function kA(e,t=!1){return Ex(e)||ff(e)||!wu(e)||(Sx(e)>1&&Object.defineProperties(e,{set:pb,add:pb,clear:pb,delete:pb}),Object.freeze(e),t&&Object.values(e).forEach(n=>kA(n,!0))),e}function w0e(){Xa(2)}var pb={value:w0e};function Ex(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var _0e={};function _u(e){const t=_0e[e];return t||Xa(0,e),t}var ip;function m8(){return ip}function S0e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function H3(e,t){t&&(_u("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function X2(e){J2(e),e.drafts_.forEach(k0e),e.drafts_=null}function J2(e){e===ip&&(ip=e.parent_)}function G3(e){return ip=S0e(ip,e)}function k0e(e){const t=e[Vi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Y3(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Vi].modified_&&(X2(t),Xa(4)),wu(e)&&(e=Wy(t,e),t.parent_||Vy(t,e)),t.patches_&&_u("Patches").generateReplacementPatches_(n[Vi].base_,e,t.patches_,t.inversePatches_)):e=Wy(t,n,[]),X2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==d8?e:void 0}function Wy(e,t,n){if(Ex(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Vi];if(!i)return Ky(t,(a,o)=>q3(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Vy(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),Ky(o,(u,d)=>q3(e,i,a,u,d,n,l),r),Vy(e,a,!1),n&&e.patches_&&_u("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function q3(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=Ex(i);if(!(l&&!o)){if(ff(i)){const u=a&&t&&t.type_!==3&&!V2(t.assigned_,r)?a.concat(r):void 0,d=Wy(e,i,u);if(h8(n,r,d),ff(d))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(wu(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Wy(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Lp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Vy(e,i)}}}function Vy(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kA(t,n)}function E0e(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:m8(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=EA;n&&(i=[r],a=ap);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var EA={get(e,t){if(t===Vi)return e;const n=tu(e);if(!V2(n,t))return T0e(e,n,t);const r=n[t];return e.finalized_||!wu(r)?r:r===RS(e.base_,t)?(LS(e),e.copy_[t]=eE(r,e)):r},has(e,t){return t in tu(e)},ownKeys(e){return Reflect.ownKeys(tu(e))},set(e,t,n){const r=p8(tu(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=RS(tu(e),t),a=i?.[Vi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(x0e(n,i)&&(n!==void 0||V2(e.base_,t)))return!0;LS(e),Q2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return RS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,LS(e),Q2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=tu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Xa(11)},getPrototypeOf(e){return rp(e.base_)},setPrototypeOf(){Xa(12)}},ap={};Ky(EA,(e,t)=>{ap[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ap.deleteProperty=function(e,t){return ap.set.call(this,e,t,void 0)};ap.set=function(e,t,n){return EA.set.call(this,e[0],t,n,e[0])};function RS(e,t){const n=e[Vi];return(n?tu(n):e)[t]}function T0e(e,t,n){const r=p8(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function p8(e,t){if(!(t in e))return;let n=rp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=rp(n)}}function Q2(e){e.modified_||(e.modified_=!0,e.parent_&&Q2(e.parent_))}function LS(e){e.copy_||(e.copy_=Z2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var A0e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...d){return o.produce(u,h=>n.call(this,h,...d))}}typeof n!="function"&&Xa(6),r!==void 0&&typeof r!="function"&&Xa(7);let i;if(wu(t)){const a=G3(this),o=eE(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?X2(a):J2(a)}return H3(a,r),Y3(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===d8&&(i=void 0),this.autoFreeze_&&kA(i,!0),r){const a=[],o=[];_u("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Xa(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){wu(e)||Xa(8),ff(e)&&(e=j0e(e));const t=G3(this),n=eE(e,void 0);return n[Vi].isManual_=!0,J2(t),n}finishDraft(e,t){const n=e&&e[Vi];(!n||!n.isManual_)&&Xa(9);const{scope_:r}=n;return H3(r,t),Y3(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=_u("Patches").applyPatches_;return ff(e)?r(e,t):this.produce(e,i=>r(i,t))}};function eE(e,t){const n=Lp(e)?_u("MapSet").proxyMap_(e,t):kx(e)?_u("MapSet").proxySet_(e,t):E0e(e,t);return(t?t.scope_:m8()).drafts_.push(n),n}function j0e(e){return ff(e)||Xa(10,e),g8(e)}function g8(e){if(!wu(e)||Ex(e))return e;const t=e[Vi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Z2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Z2(e,!0);return Ky(n,(i,a)=>{h8(n,i,g8(a))},r),t&&(t.finalized_=!1),n}var N0e=new A0e;N0e.produce;var O0e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},b8=ki({name:"legend",initialState:O0e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:dn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=eo(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:dn()},removeLegendPayload:{reducer(e,t){var n=eo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:dn()}}}),{setLegendSize:jCe,setLegendSettings:NCe,addLegendPayload:C0e,replaceLegendPayload:M0e,removeLegendPayload:D0e}=b8.actions,P0e=b8.reducer;function tE(){return tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tE.apply(null,arguments)}function K3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(n),!0).forEach(function(r){R0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R0e(e,t,n){return(t=L0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L0e(e){var t=I0e(e,"string");return typeof t=="symbol"?t:t+""}function I0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $0e(e){return Array.isArray(e)&&zo(e[0])&&zo(e[1])?e.join(" ~ "):e}var B0e=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:p,accessibilityLayer:b=!1}=e,y=()=>{if(a&&a.length){var D={padding:0,margin:0},P=(l?lx(a,l):a).map((I,U)=>{if(I.type==="none")return null;var K=I.formatter||o||$0e,{value:q,name:H}=I,B=q,W=H;if(K){var X=K(q,H,I,U,a);if(Array.isArray(X))[B,W]=X;else if(X!=null)B=X;else return null}var Z=IS({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:Z},zo(W)?_.createElement("span",{className:"recharts-tooltip-item-name"},W):null,zo(W)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},B),_.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:D},P)}return null},k=IS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=IS({margin:0},i),S=!Cr(h),j=S?h:"",O=an("recharts-default-tooltip",u),A=an("recharts-tooltip-label",d);S&&p&&a!==void 0&&a!==null&&(j=p(h,a));var C=b?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",tE({className:O,style:k},C),_.createElement("p",{className:A,style:w},_.isValidElement(j)?j:"".concat(j)),y())},cm="recharts-tooltip-wrapper",z0e={visibility:"hidden"};function U0e(e){var{coordinate:t,translateX:n,translateY:r}=e;return an(cm,{["".concat(cm,"-right")]:tt(n)&&t&&tt(t.x)&&n>=t.x,["".concat(cm,"-left")]:tt(n)&&t&&tt(t.x)&&n<t.x,["".concat(cm,"-bottom")]:tt(r)&&t&&tt(t.y)&&r>=t.y,["".concat(cm,"-top")]:tt(r)&&t&&tt(t.y)&&r<t.y})}function W3(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(a&&tt(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?h:p;var b=u[r];if(b==null)return 0;if(o[r]){var y=h,k=b;return y<k?Math.max(p,b):Math.max(h,b)}if(d==null)return 0;var w=p+l,S=b+d;return w>S?Math.max(h,b):Math.max(p,b)}function F0e(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function H0e(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,d,h,p;return o.height>0&&o.width>0&&n?(h=W3({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=W3({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=F0e({translateX:h,translateY:p,useTranslate3d:l})):d=z0e,{cssProperties:d,cssClasses:U0e({translateX:h,translateY:p,coordinate:n})}}function V3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V3(Object(n),!0).forEach(function(r){nE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nE(e,t,n){return(t=G0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G0e(e){var t=Y0e(e,"string");return typeof t=="symbol"?t:t+""}function Y0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class q0e extends _.PureComponent{constructor(){super(...arguments),nE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),nE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:h,reverseDirection:p,useTranslate3d:b,viewBox:y,wrapperStyle:k,lastBoundingBox:w,innerRef:S,hasPortalFromProps:j}=this.props,{cssClasses:O,cssProperties:A}=H0e({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:y}),C=j?{}:gb(gb({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),D=gb(gb({},C),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},k);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:D,ref:S},a)}}var y8=()=>{var e;return(e=rt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rE.apply(null,arguments)}function Z3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(n),!0).forEach(function(r){K0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K0e(e,t,n){return(t=W0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W0e(e){var t=V0e(e,"string");return typeof t=="symbol"?t:t+""}function V0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J3={curveBasisClosed:she,curveBasisOpen:lhe,curveBasis:ohe,curveBumpX:ihe,curveBumpY:ahe,curveLinearClosed:che,curveLinear:ax,curveMonotoneX:uhe,curveMonotoneY:dhe,curveNatural:fhe,curveStep:hhe,curveStepAfter:phe,curveStepBefore:mhe},Zy=e=>Nn(e.x)&&Nn(e.y),Q3=e=>e.base!=null&&Zy(e.base)&&Zy(e),um=e=>e.x,dm=e=>e.y,Z0e=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(fA(e));return(n==="curveMonotone"||n==="curveBump")&&t?J3["".concat(n).concat(t==="vertical"?"Y":"X")]:J3[n]||ax},X0e=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=Z0e(t,i),l=a?n.filter(Zy):n,u;if(Array.isArray(r)){var d=n.map((y,k)=>X3(X3({},y),{},{base:r[k]}));i==="vertical"?u=lb().y(dm).x1(um).x0(y=>y.base.x):u=lb().x(um).y1(dm).y0(y=>y.base.y);var h=u.defined(Q3).curve(o),p=a?d.filter(Q3):d;return h(p)}i==="vertical"&&tt(r)?u=lb().y(dm).x1(um).x0(r):tt(r)?u=lb().x(um).y1(dm).y0(r):u=e9().x(um).y(dm);var b=u.defined(Zy).curve(o);return b(l)},Kb=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?X0e(e):r;return _.createElement("path",rE({},io(e),hA(e),{className:an("recharts-curve",t),d:a===null?void 0:a,ref:i}))},J0e=["x","y","top","left","width","height","className"];function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iE.apply(null,arguments)}function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(n),!0).forEach(function(r){ege(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ege(e,t,n){return(t=tge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tge(e){var t=nge(e,"string");return typeof t=="symbol"?t:t+""}function nge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rge(e,t){if(e==null)return{};var n,r,i=ige(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ige(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var age=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),oge=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=rge(e,J0e),d=Q0e({x:t,y:n,top:r,left:i,width:a,height:o},u);return!tt(t)||!tt(n)||!tt(a)||!tt(o)||!tt(r)||!tt(i)?null:_.createElement("path",iE({},Ea(d),{className:an("recharts-cross",l),d:age(t,n,a,o,r,i)}))};function sge(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function tL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(n),!0).forEach(function(r){lge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lge(e,t,n){return(t=cge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cge(e){var t=uge(e,"string");return typeof t=="symbol"?t:t+""}function uge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dge=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),fge=(e,t,n)=>e.map(r=>"".concat(dge(r)," ").concat(t,"ms ").concat(n)).join(","),hge=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),op=(e,t)=>Object.keys(t).reduce((n,r)=>nL(nL({},n),{},{[r]:e(r,t[r])}),{});function rL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rL(Object(n),!0).forEach(function(r){mge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mge(e,t,n){return(t=pge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pge(e){var t=gge(e,"string");return typeof t=="symbol"?t:t+""}function gge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xy=(e,t,n)=>e+(t-e)*n,aE=e=>{var{from:t,to:n}=e;return t!==n},v8=(e,t,n)=>{var r=op((i,a)=>{if(aE(a)){var[o,l]=e(a.from,a.to,a.velocity);return Qn(Qn({},a),{},{from:o,velocity:l})}return a},t);return n<1?op((i,a)=>aE(a)?Qn(Qn({},a),{},{velocity:Xy(a.velocity,r[i].velocity,n),from:Xy(a.from,r[i].from,n)}):a,t):v8(e,r,n-1)};function bge(e,t,n,r,i,a){var o,l=r.reduce((b,y)=>Qn(Qn({},b),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),u=()=>op((b,y)=>y.from,l),d=()=>!Object.values(l).filter(aE).length,h=null,p=b=>{o||(o=b);var y=b-o,k=y/n.dt;l=v8(n,l,k),i(Qn(Qn(Qn({},e),t),u())),o=b,d()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var b;(b=h)===null||b===void 0||b()})}function yge(e,t,n,r,i,a,o){var l=null,u=i.reduce((p,b)=>Qn(Qn({},p),{},{[b]:[e[b],t[b]]}),{}),d,h=p=>{d||(d=p);var b=(p-d)/r,y=op((w,S)=>Xy(...S,n(b)),u);if(a(Qn(Qn(Qn({},e),t),y)),b<1)l=o.setTimeout(h);else{var k=op((w,S)=>Xy(...S,n(1)),u);a(Qn(Qn(Qn({},e),t),k))}};return()=>(l=o.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const vge=(e,t,n,r,i,a)=>{var o=hge(e,t);return n==null?()=>(i(Qn(Qn({},e),t)),()=>{}):n.isStepper===!0?bge(e,t,n,o,i,a):yge(e,t,n,r,o,i,a)};var Jy=1e-4,x8=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],w8=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),iL=(e,t)=>n=>{var r=x8(e,t);return w8(r,n)},xge=(e,t)=>n=>{var r=x8(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return w8(i,n)},wge=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},_ge=(e,t,n,r)=>{var i=iL(e,n),a=iL(t,r),o=xge(e,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var h=d>1?1:d,p=h,b=0;b<8;++b){var y=i(p)-h,k=o(p);if(Math.abs(y-h)<Jy||k<Jy)return a(p);p=l(p-y/k)}return a(p)};return u.isStepper=!1,u},aL=function(){return _ge(...wge(...arguments))},Sge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,l,u)=>{var d=-(o-l)*n,h=u*r,p=u+(d-h)*i/1e3,b=u*i/1e3+o;return Math.abs(b-l)<Jy&&Math.abs(p)<Jy?[l,0]:[b,p]};return a.isStepper=!0,a.dt=i,a},kge=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aL(e);case"spring":return Sge();default:if(e.split("(")[0]==="cubic-bezier")return aL(e)}return typeof e=="function"?e:null};function Ege(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,d),u);return}a(u),i=e.setTimeout(a.bind(null,d));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class Tge{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Age(){return Ege(new Tge)}var jge=_.createContext(Age);function Nge(e,t){var n=_.useContext(jge);return _.useMemo(()=>t??n(e),[e,t,n])}var Oge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Cf={devToolsEnabled:!1,isSsr:Oge()},Cge={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},oL={t:0},$S={t:1};function _8(e){var t=Xi(e,Cge),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=t,h=n==="auto"?!Cf.isSsr:n,p=Nge(t.animationId,t.animationManager),[b,y]=_.useState(h?oL:$S),k=_.useRef(null);return _.useEffect(()=>{h||y($S)},[h]),_.useEffect(()=>{if(!h||!r)return Op;var w=vge(oL,$S,kge(a),i,y,p.getTimeoutController()),S=()=>{k.current=w()};return p.start([u,o,S,i,l]),()=>{p.stop(),k.current&&k.current(),l()}},[h,r,i,a,o,u,l,p]),d(b.t)}function S8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Qm(t)),r=_.useRef(e);return r.current!==e&&(n.current=Qm(t),r.current=e),n.current}var Mge=["radius"],Dge=["radius"];function sL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(n),!0).forEach(function(r){Pge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pge(e,t,n){return(t=Rge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rge(e){var t=Lge(e,"string");return typeof t=="symbol"?t:t+""}function Lge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qy.apply(null,arguments)}function cL(e,t){if(e==null)return{};var n,r,i=Ige(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ige(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uL=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,b=4;p<b;p++)h[p]=i[p]>a?a:i[p];d="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),d+="L ".concat(e+n-l*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*h[1])),d+="L ".concat(e+n,",").concat(t+r-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(t+r)),d+="L ".concat(e+l*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);d="M ".concat(e,",").concat(t+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(t,`
            L `).concat(e+n-l*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*y,`
            L `).concat(e+n,",").concat(t+r-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-l*y,",").concat(t+r,`
            L `).concat(e+l*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*y," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},dL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$ge=e=>{var t=Xi(e,dL),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:d,className:h}=t,{animationEasing:p,animationDuration:b,animationBegin:y,isAnimationActive:k,isUpdateAnimationActive:w}=t,S=_.useRef(l),j=_.useRef(u),O=_.useRef(a),A=_.useRef(o),C=_.useMemo(()=>({x:a,y:o,width:l,height:u,radius:d}),[a,o,l,u,d]),D=S8(C,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var P=an("recharts-rectangle",h);if(!w){var I=Ea(t),{radius:U}=I,K=cL(I,Mge);return _.createElement("path",Qy({},K,{radius:typeof d=="number"?d:void 0,className:P,d:uL(a,o,l,u,d)}))}var q=S.current,H=j.current,B=O.current,W=A.current,X="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),Y=fge(["strokeDasharray"],b,typeof p=="string"?p:dL.animationEasing);return _.createElement(_8,{animationId:D,key:D,canBegin:r>0,duration:b,easing:p,isActive:w,begin:y},J=>{var Q=Do(q,l,J),ce=Do(H,u,J),ae=Do(B,a,J),z=Do(W,o,J);n.current&&(S.current=Q,j.current=ce,O.current=ae,A.current=z);var V;k?J>0?V={transition:Y,strokeDasharray:Z}:V={strokeDasharray:X}:V={strokeDasharray:Z};var ne=Ea(t),{radius:oe}=ne,ue=cL(ne,Dge);return _.createElement("path",Qy({},ue,{radius:typeof d=="number"?d:void 0,className:P,d:uL(ae,z,Q,ce,d),ref:n,style:lL(lL({},V),t.style)}))})};function fL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(n),!0).forEach(function(r){Bge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bge(e,t,n){return(t=zge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zge(e){var t=Uge(e,"string");return typeof t=="symbol"?t:t+""}function Uge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ev=Math.PI/180,Fge=e=>e*180/Math.PI,Or=(e,t,n,r)=>({x:e+Math.cos(-ev*r)*n,y:t+Math.sin(-ev*r)*n}),Hge=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Gge=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Yge=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Gge({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:Fge(u),angleInRadian:u}},qge=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Kge=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},Wge=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Yge({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:d}=qge(t),h=a,p;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=u}return p?hL(hL({},t),{},{radius:i,angle:Kge(h,t)}):null};function k8(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=Or(t,n,r,i),l=Or(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function oE(){return oE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oE.apply(null,arguments)}var Vge=(e,t)=>{var n=xa(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},bb=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,d=l*(o?1:-1)+r,h=Math.asin(l/d)/ev,p=u?i:i+a*h,b=Or(t,n,d,p),y=Or(t,n,r,p),k=u?i-a*h:i,w=Or(t,n,d*Math.cos(h*ev),k);return{center:b,circleTangency:y,lineTangency:w,theta:h}},E8=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,l=Vge(a,o),u=a+l,d=Or(t,n,i,a),h=Or(t,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=Or(t,n,r,a),y=Or(t,n,r,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(b.x,",").concat(b.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Zge=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=e,h=xa(d-u),{circleTangency:p,lineTangency:b,theta:y}=bb({cx:t,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:k,lineTangency:w,theta:S}=bb({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:l}),j=l?Math.abs(u-d):Math.abs(u-d)-y-S;if(j<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):E8({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var O="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:C,theta:D}=bb({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:P,lineTangency:I,theta:U}=bb({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),K=l?Math.abs(u-d):Math.abs(u-d)-D-U;if(K<0&&a===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(K>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else O+="L".concat(t,",").concat(n,"Z");return O},Xge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Jge=e=>{var t=Xi(e,Xge),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h,className:p}=t;if(a<i||d===h)return null;var b=an("recharts-sector",p),y=a-i,k=Zl(o,y,0,!0),w;return k>0&&Math.abs(d-h)<360?w=Zge({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(k,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):w=E8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),_.createElement("path",oE({},Ea(t),{className:b,d:w}))};function Qge(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(f9(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=Or(r,i,a,l),d=Or(r,i,o,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return k8(t)}}var BS={},zS={},US={},mL;function ebe(){return mL||(mL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S9();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(US)),US}var pL;function tbe(){return pL||(pL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ebe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(zS)),zS}var gL;function nbe(){return gL||(gL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k9(),n=tbe();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=o;return u}e.range=r})(BS)),BS}var FS,bL;function rbe(){return bL||(bL=1,FS=nbe().range),FS}var ibe=rbe();const T8=Si(ibe);function Hl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function abe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function TA(e){let t,n,r;e.length!==2?(t=Hl,n=(l,u)=>Hl(e(l),u),r=(l,u)=>e(l)-u):(t=e===Hl||e===abe?e:obe,n=e,r=e);function i(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<0?d=p+1:h=p}while(d<h)}return d}function a(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<=0?d=p+1:h=p}while(d<h)}return d}function o(l,u,d=0,h=l.length){const p=i(l,u,d,h-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:o,right:a}}function obe(){return 0}function A8(e){return e===null?NaN:+e}function*sbe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const lbe=TA(Hl),Ip=lbe.right;TA(A8).center;class yL extends Map{constructor(t,n=dbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(vL(this,t))}has(t){return super.has(vL(this,t))}set(t,n){return super.set(cbe(this,t),n)}delete(t){return super.delete(ube(this,t))}}function vL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function cbe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ube({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function dbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fbe(e=Hl){if(e===Hl)return j8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function j8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const hbe=Math.sqrt(50),mbe=Math.sqrt(10),pbe=Math.sqrt(2);function tv(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=hbe?10:a>=mbe?5:a>=pbe?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=n&&n<2?tv(e,t,n*2):[l,u,d]}function sE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?tv(t,e,n):tv(e,t,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)u[d]=(a-d)/-o;else for(let d=0;d<l;++d)u[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(i+d)/-o;else for(let d=0;d<l;++d)u[d]=(i+d)*o;return u}function lE(e,t,n){return t=+t,e=+e,n=+n,tv(e,t,n)[2]}function cE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?lE(t,e,n):lE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function xL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function wL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function N8(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?j8:fbe(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*p*(u-p)/u)*(d-u/2<0?-1:1),y=Math.max(n,Math.floor(t-d*p/u+b)),k=Math.min(r,Math.floor(t+(u-d)*p/u+b));N8(e,t,y,k,i)}const a=e[t];let o=n,l=r;for(fm(e,n,t),i(e[r],a)>0&&fm(e,n,r);o<l;){for(fm(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?fm(e,n,l):(++l,fm(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function fm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function gbe(e,t,n){if(e=Float64Array.from(sbe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return wL(e);if(t>=1)return xL(e);var r,i=(r-1)*t,a=Math.floor(i),o=xL(N8(e,a).subarray(0,a+1)),l=wL(e.subarray(a+1));return o+(l-o)*(i-a)}}function bbe(e,t,n=A8){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function ybe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ca(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const uE=Symbol("implicit");function AA(){var e=new yL,t=[],n=[],r=uE;function i(a){let o=e.get(a);if(o===void 0){if(r!==uE)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new yL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return AA(t,n).unknown(r)},Ca.apply(i,arguments),i}function jA(){var e=AA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,u=0,d=0,h=.5;delete e.unknown;function p(){var b=t().length,y=i<r,k=y?i:r,w=y?r:i;a=(w-k)/Math.max(1,b-u+d*2),l&&(a=Math.floor(a)),k+=(w-k-a*(b-u))*h,o=a*(1-u),l&&(k=Math.round(k),o=Math.round(o));var S=ybe(b).map(function(j){return k+a*j});return n(y?S.reverse():S)}return e.domain=function(b){return arguments.length?(t(b),p()):t()},e.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(b){return arguments.length?(l=!!b,p()):l},e.padding=function(b){return arguments.length?(u=Math.min(1,d=+b),p()):u},e.paddingInner=function(b){return arguments.length?(u=Math.min(1,b),p()):u},e.paddingOuter=function(b){return arguments.length?(d=+b,p()):d},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),p()):h},e.copy=function(){return jA(t(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(h)},Ca.apply(p(),arguments)}function O8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return O8(t())},e}function vbe(){return O8(jA.apply(null,arguments).paddingInner(1))}function NA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function C8(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $p(){}var sp=.7,nv=1/sp,Zd="\\s*([+-]?\\d+)\\s*",lp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xbe=/^#([0-9a-f]{3,8})$/,wbe=new RegExp(`^rgb\\(${Zd},${Zd},${Zd}\\)$`),_be=new RegExp(`^rgb\\(${Io},${Io},${Io}\\)$`),Sbe=new RegExp(`^rgba\\(${Zd},${Zd},${Zd},${lp}\\)$`),kbe=new RegExp(`^rgba\\(${Io},${Io},${Io},${lp}\\)$`),Ebe=new RegExp(`^hsl\\(${lp},${Io},${Io}\\)$`),Tbe=new RegExp(`^hsla\\(${lp},${Io},${Io},${lp}\\)$`),_L={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NA($p,cp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:SL,formatHex:SL,formatHex8:Abe,formatHsl:jbe,formatRgb:kL,toString:kL});function SL(){return this.rgb().formatHex()}function Abe(){return this.rgb().formatHex8()}function jbe(){return M8(this).formatHsl()}function kL(){return this.rgb().formatRgb()}function cp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=xbe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?EL(t):n===3?new vi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?yb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?yb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wbe.exec(e))?new vi(t[1],t[2],t[3],1):(t=_be.exec(e))?new vi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Sbe.exec(e))?yb(t[1],t[2],t[3],t[4]):(t=kbe.exec(e))?yb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ebe.exec(e))?jL(t[1],t[2]/100,t[3]/100,1):(t=Tbe.exec(e))?jL(t[1],t[2]/100,t[3]/100,t[4]):_L.hasOwnProperty(e)?EL(_L[e]):e==="transparent"?new vi(NaN,NaN,NaN,0):null}function EL(e){return new vi(e>>16&255,e>>8&255,e&255,1)}function yb(e,t,n,r){return r<=0&&(e=t=n=NaN),new vi(e,t,n,r)}function Nbe(e){return e instanceof $p||(e=cp(e)),e?(e=e.rgb(),new vi(e.r,e.g,e.b,e.opacity)):new vi}function dE(e,t,n,r){return arguments.length===1?Nbe(e):new vi(e,t,n,r??1)}function vi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}NA(vi,dE,C8($p,{brighter(e){return e=e==null?nv:Math.pow(nv,e),new vi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sp:Math.pow(sp,e),new vi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vi(pu(this.r),pu(this.g),pu(this.b),rv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:TL,formatHex:TL,formatHex8:Obe,formatRgb:AL,toString:AL}));function TL(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}`}function Obe(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}${cu((isNaN(this.opacity)?1:this.opacity)*255)}`}function AL(){const e=rv(this.opacity);return`${e===1?"rgb(":"rgba("}${pu(this.r)}, ${pu(this.g)}, ${pu(this.b)}${e===1?")":`, ${e})`}`}function rv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cu(e){return e=pu(e),(e<16?"0":"")+e.toString(16)}function jL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ja(e,t,n,r)}function M8(e){if(e instanceof Ja)return new Ja(e.h,e.s,e.l,e.opacity);if(e instanceof $p||(e=cp(e)),!e)return new Ja;if(e instanceof Ja)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Ja(o,l,u,e.opacity)}function Cbe(e,t,n,r){return arguments.length===1?M8(e):new Ja(e,t,n,r??1)}function Ja(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}NA(Ja,Cbe,C8($p,{brighter(e){return e=e==null?nv:Math.pow(nv,e),new Ja(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sp:Math.pow(sp,e),new Ja(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new vi(HS(e>=240?e-240:e+120,i,r),HS(e,i,r),HS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ja(NL(this.h),vb(this.s),vb(this.l),rv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rv(this.opacity);return`${e===1?"hsl(":"hsla("}${NL(this.h)}, ${vb(this.s)*100}%, ${vb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NL(e){return e=(e||0)%360,e<0?e+360:e}function vb(e){return Math.max(0,Math.min(1,e||0))}function HS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const OA=e=>()=>e;function Mbe(e,t){return function(n){return e+n*t}}function Dbe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Pbe(e){return(e=+e)==1?D8:function(t,n){return n-t?Dbe(t,n,e):OA(isNaN(t)?n:t)}}function D8(e,t){var n=t-e;return n?Mbe(e,n):OA(isNaN(e)?t:e)}const OL=(function e(t){var n=Pbe(t);function r(i,a){var o=n((i=dE(i)).r,(a=dE(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),d=D8(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function Rbe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Lbe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ibe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Mf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function $be(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function iv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Bbe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Mf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var fE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,GS=new RegExp(fE.source,"g");function zbe(e){return function(){return e}}function Ube(e){return function(t){return e(t)+""}}function Fbe(e,t){var n=fE.lastIndex=GS.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=fE.exec(e))&&(i=GS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:iv(r,i)})),n=GS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?Ube(u[0].x):zbe(t):(t=u.length,function(d){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(d);return l.join("")})}function Mf(e,t){var n=typeof t,r;return t==null||n==="boolean"?OA(t):(n==="number"?iv:n==="string"?(r=cp(t))?(t=r,OL):Fbe:t instanceof cp?OL:t instanceof Date?$be:Lbe(t)?Rbe:Array.isArray(t)?Ibe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Bbe:iv)(e,t)}function CA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Hbe(e,t){t===void 0&&(t=e,e=Mf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function Gbe(e){return function(){return e}}function av(e){return+e}var CL=[0,1];function Zr(e){return e}function hE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Gbe(isNaN(t)?NaN:.5)}function Ybe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function qbe(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=hE(i,r),a=n(o,a)):(r=hE(r,i),a=n(a,o)),function(l){return a(r(l))}}function Kbe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=hE(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var u=Ip(e,l,1,r)-1;return a[u](i[u](l))}}function Bp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tx(){var e=CL,t=CL,n=Mf,r,i,a,o=Zr,l,u,d;function h(){var b=Math.min(e.length,t.length);return o!==Zr&&(o=Ybe(e[0],e[b-1])),l=b>2?Kbe:qbe,u=d=null,p}function p(b){return b==null||isNaN(b=+b)?a:(u||(u=l(e.map(r),t,n)))(r(o(b)))}return p.invert=function(b){return o(i((d||(d=l(t,e.map(r),iv)))(b)))},p.domain=function(b){return arguments.length?(e=Array.from(b,av),h()):e.slice()},p.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},p.rangeRound=function(b){return t=Array.from(b),n=CA,h()},p.clamp=function(b){return arguments.length?(o=b?!0:Zr,h()):o!==Zr},p.interpolate=function(b){return arguments.length?(n=b,h()):n},p.unknown=function(b){return arguments.length?(a=b,p):a},function(b,y){return r=b,i=y,h()}}function MA(){return Tx()(Zr,Zr)}function Wbe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ov(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function hf(e){return e=ov(Math.abs(e)),e?e[1]:NaN}function Vbe(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Zbe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Xbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function up(e){if(!(t=Xbe.exec(e)))throw new Error("invalid format: "+e);var t;return new DA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}up.prototype=DA.prototype;function DA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}DA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jbe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var P8;function Qbe(e,t){var n=ov(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(P8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ov(e,Math.max(0,t+a-1))[0]}function ML(e,t){var n=ov(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const DL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Wbe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ML(e*100,t),r:ML,s:Qbe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function PL(e){return e}var RL=Array.prototype.map,LL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eye(e){var t=e.grouping===void 0||e.thousands===void 0?PL:Vbe(RL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?PL:Zbe(RL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(p){p=up(p);var b=p.fill,y=p.align,k=p.sign,w=p.symbol,S=p.zero,j=p.width,O=p.comma,A=p.precision,C=p.trim,D=p.type;D==="n"?(O=!0,D="g"):DL[D]||(A===void 0&&(A=12),C=!0,D="g"),(S||b==="0"&&y==="=")&&(S=!0,b="0",y="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",I=w==="$"?r:/[%p]/.test(D)?o:"",U=DL[D],K=/[defgprs%]/.test(D);A=A===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function q(H){var B=P,W=I,X,Z,Y;if(D==="c")W=U(H)+W,H="";else{H=+H;var J=H<0||1/H<0;if(H=isNaN(H)?u:U(Math.abs(H),A),C&&(H=Jbe(H)),J&&+H==0&&k!=="+"&&(J=!1),B=(J?k==="("?k:l:k==="-"||k==="("?"":k)+B,W=(D==="s"?LL[8+P8/3]:"")+W+(J&&k==="("?")":""),K){for(X=-1,Z=H.length;++X<Z;)if(Y=H.charCodeAt(X),48>Y||Y>57){W=(Y===46?i+H.slice(X+1):H.slice(X))+W,H=H.slice(0,X);break}}}O&&!S&&(H=t(H,1/0));var Q=B.length+H.length+W.length,ce=Q<j?new Array(j-Q+1).join(b):"";switch(O&&S&&(H=t(ce+H,ce.length?j-W.length:1/0),ce=""),y){case"<":H=B+H+W+ce;break;case"=":H=B+ce+H+W;break;case"^":H=ce.slice(0,Q=ce.length>>1)+B+H+W+ce.slice(Q);break;default:H=ce+B+H+W;break}return a(H)}return q.toString=function(){return p+""},q}function h(p,b){var y=d((p=up(p),p.type="f",p)),k=Math.max(-8,Math.min(8,Math.floor(hf(b)/3)))*3,w=Math.pow(10,-k),S=LL[8+k/3];return function(j){return y(w*j)+S}}return{format:d,formatPrefix:h}}var xb,PA,R8;tye({thousands:",",grouping:[3],currency:["$",""]});function tye(e){return xb=eye(e),PA=xb.format,R8=xb.formatPrefix,xb}function nye(e){return Math.max(0,-hf(Math.abs(e)))}function rye(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hf(t)/3)))*3-hf(Math.abs(e)))}function iye(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hf(t)-hf(e))+1}function L8(e,t,n,r){var i=cE(e,t,n),a;switch(r=up(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=rye(i,o))&&(r.precision=a),R8(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=iye(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=nye(i))&&(r.precision=a-(r.type==="%")*2);break}}return PA(r)}function tc(e){var t=e.domain;return e.ticks=function(n){var r=t();return sE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return L8(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],u,d,h=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=lE(o,l,n),d===u)return r[i]=o,r[a]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function I8(){var e=MA();return e.copy=function(){return Bp(e,I8())},Ca.apply(e,arguments),tc(e)}function $8(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,av),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return $8(e).unknown(t)},e=arguments.length?Array.from(e,av):[0,1],tc(n)}function B8(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function IL(e){return Math.log(e)}function $L(e){return Math.exp(e)}function aye(e){return-Math.log(-e)}function oye(e){return-Math.exp(-e)}function sye(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lye(e){return e===10?sye:e===Math.E?Math.exp:t=>Math.pow(e,t)}function cye(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function BL(e){return(t,n)=>-e(-t,n)}function RA(e){const t=e(IL,$L),n=t.domain;let r=10,i,a;function o(){return i=cye(r),a=lye(r),n()[0]<0?(i=BL(i),a=BL(a),e(aye,oye)):e(IL,$L),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const u=n();let d=u[0],h=u[u.length-1];const p=h<d;p&&([d,h]=[h,d]);let b=i(d),y=i(h),k,w;const S=l==null?10:+l;let j=[];if(!(r%1)&&y-b<S){if(b=Math.floor(b),y=Math.ceil(y),d>0){for(;b<=y;++b)for(k=1;k<r;++k)if(w=b<0?k/a(-b):k*a(b),!(w<d)){if(w>h)break;j.push(w)}}else for(;b<=y;++b)for(k=r-1;k>=1;--k)if(w=b>0?k/a(-b):k*a(b),!(w<d)){if(w>h)break;j.push(w)}j.length*2<S&&(j=sE(d,h,S))}else j=sE(b,y,Math.min(y-b,S)).map(a);return p?j.reverse():j},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=up(u)).precision==null&&(u.trim=!0),u=PA(u)),l===1/0)return u;const d=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?u(h):""}},t.nice=()=>n(B8(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function z8(){const e=RA(Tx()).domain([1,10]);return e.copy=()=>Bp(e,z8()).base(e.base()),Ca.apply(e,arguments),e}function zL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function UL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function LA(e){var t=1,n=e(zL(t),UL(t));return n.constant=function(r){return arguments.length?e(zL(t=+r),UL(t)):t},tc(n)}function U8(){var e=LA(Tx());return e.copy=function(){return Bp(e,U8()).constant(e.constant())},Ca.apply(e,arguments)}function FL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function uye(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dye(e){return e<0?-e*e:e*e}function IA(e){var t=e(Zr,Zr),n=1;function r(){return n===1?e(Zr,Zr):n===.5?e(uye,dye):e(FL(n),FL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},tc(t)}function $A(){var e=IA(Tx());return e.copy=function(){return Bp(e,$A()).exponent(e.exponent())},Ca.apply(e,arguments),e}function fye(){return $A.apply(null,arguments).exponent(.5)}function HL(e){return Math.sign(e)*e*e}function hye(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function F8(){var e=MA(),t=[0,1],n=!1,r;function i(a){var o=hye(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(HL(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,av)).map(HL)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return F8(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ca.apply(i,arguments),tc(i)}function H8(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=bbe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Ip(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Hl),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return H8().domain(e).range(t).unknown(r)},Ca.apply(a,arguments)}function G8(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[Ip(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return G8().domain([e,t]).range(i).unknown(a)},Ca.apply(tc(o),arguments)}function Y8(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Ip(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Y8().domain(e).range(t).unknown(n)},Ca.apply(i,arguments)}const YS=new Date,qS=new Date;function tr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let d;do u.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return u},i.filter=a=>tr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(YS.setTime(+a),qS.setTime(+o),e(YS),e(qS),Math.floor(n(YS,qS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const sv=tr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?tr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):sv);sv.range;const Es=1e3,wa=Es*60,Ts=wa*60,Rs=Ts*24,BA=Rs*7,GL=Rs*30,KS=Rs*365,uu=tr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getUTCSeconds());uu.range;const zA=tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es)},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getMinutes());zA.range;const UA=tr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getUTCMinutes());UA.range;const FA=tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es-e.getMinutes()*wa)},(e,t)=>{e.setTime(+e+t*Ts)},(e,t)=>(t-e)/Ts,e=>e.getHours());FA.range;const HA=tr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ts)},(e,t)=>(t-e)/Ts,e=>e.getUTCHours());HA.range;const zp=tr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wa)/Rs,e=>e.getDate()-1);zp.range;const Ax=tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rs,e=>e.getUTCDate()-1);Ax.range;const q8=tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rs,e=>Math.floor(e/Rs));q8.range;function Ou(e){return tr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*wa)/BA)}const jx=Ou(0),lv=Ou(1),mye=Ou(2),pye=Ou(3),mf=Ou(4),gye=Ou(5),bye=Ou(6);jx.range;lv.range;mye.range;pye.range;mf.range;gye.range;bye.range;function Cu(e){return tr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/BA)}const Nx=Cu(0),cv=Cu(1),yye=Cu(2),vye=Cu(3),pf=Cu(4),xye=Cu(5),wye=Cu(6);Nx.range;cv.range;yye.range;vye.range;pf.range;xye.range;wye.range;const GA=tr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());GA.range;const YA=tr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());YA.range;const Ls=tr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ls.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ls.range;const Is=tr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Is.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Is.range;function K8(e,t,n,r,i,a){const o=[[uu,1,Es],[uu,5,5*Es],[uu,15,15*Es],[uu,30,30*Es],[a,1,wa],[a,5,5*wa],[a,15,15*wa],[a,30,30*wa],[i,1,Ts],[i,3,3*Ts],[i,6,6*Ts],[i,12,12*Ts],[r,1,Rs],[r,2,2*Rs],[n,1,BA],[t,1,GL],[t,3,3*GL],[e,1,KS]];function l(d,h,p){const b=h<d;b&&([d,h]=[h,d]);const y=p&&typeof p.range=="function"?p:u(d,h,p),k=y?y.range(d,+h+1):[];return b?k.reverse():k}function u(d,h,p){const b=Math.abs(h-d)/p,y=TA(([,,S])=>S).right(o,b);if(y===o.length)return e.every(cE(d/KS,h/KS,p));if(y===0)return sv.every(Math.max(cE(d,h,p),1));const[k,w]=o[b/o[y-1][2]<o[y][2]/b?y-1:y];return k.every(w)}return[l,u]}const[_ye,Sye]=K8(Is,YA,Nx,q8,HA,UA),[kye,Eye]=K8(Ls,GA,jx,zp,FA,zA);function WS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function VS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Tye(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=mm(i),h=pm(i),p=mm(a),b=pm(a),y=mm(o),k=pm(o),w=mm(l),S=pm(l),j=mm(u),O=pm(u),A={a:J,A:Q,b:ce,B:ae,c:null,d:ZL,e:ZL,f:Vye,g:ave,G:sve,H:qye,I:Kye,j:Wye,L:W8,m:Zye,M:Xye,p:z,q:V,Q:QL,s:eI,S:Jye,u:Qye,U:eve,V:tve,w:nve,W:rve,x:null,X:null,y:ive,Y:ove,Z:lve,"%":JL},C={a:ne,A:oe,b:ue,B:pe,c:null,d:XL,e:XL,f:fve,g:_ve,G:kve,H:cve,I:uve,j:dve,L:Z8,m:hve,M:mve,p:ye,q:Oe,Q:QL,s:eI,S:pve,u:gve,U:bve,V:yve,w:vve,W:xve,x:null,X:null,y:wve,Y:Sve,Z:Eve,"%":JL},D={a:q,A:H,b:B,B:W,c:X,d:WL,e:WL,f:Fye,g:KL,G:qL,H:VL,I:VL,j:$ye,L:Uye,m:Iye,M:Bye,p:K,q:Lye,Q:Gye,s:Yye,S:zye,u:Cye,U:Mye,V:Dye,w:Oye,W:Pye,x:Z,X:Y,y:KL,Y:qL,Z:Rye,"%":Hye};A.x=P(n,A),A.X=P(r,A),A.c=P(t,A),C.x=P(n,C),C.X=P(r,C),C.c=P(t,C);function P(ie,Te){return function(xe){var se=[],ze=-1,Ye=0,Ze=ie.length,Ce,Be,De;for(xe instanceof Date||(xe=new Date(+xe));++ze<Ze;)ie.charCodeAt(ze)===37&&(se.push(ie.slice(Ye,ze)),(Be=YL[Ce=ie.charAt(++ze)])!=null?Ce=ie.charAt(++ze):Be=Ce==="e"?" ":"0",(De=Te[Ce])&&(Ce=De(xe,Be)),se.push(Ce),Ye=ze+1);return se.push(ie.slice(Ye,ze)),se.join("")}}function I(ie,Te){return function(xe){var se=hm(1900,void 0,1),ze=U(se,ie,xe+="",0),Ye,Ze;if(ze!=xe.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(Te&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Ye=VS(hm(se.y,0,1)),Ze=Ye.getUTCDay(),Ye=Ze>4||Ze===0?cv.ceil(Ye):cv(Ye),Ye=Ax.offset(Ye,(se.V-1)*7),se.y=Ye.getUTCFullYear(),se.m=Ye.getUTCMonth(),se.d=Ye.getUTCDate()+(se.w+6)%7):(Ye=WS(hm(se.y,0,1)),Ze=Ye.getDay(),Ye=Ze>4||Ze===0?lv.ceil(Ye):lv(Ye),Ye=zp.offset(Ye,(se.V-1)*7),se.y=Ye.getFullYear(),se.m=Ye.getMonth(),se.d=Ye.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Ze="Z"in se?VS(hm(se.y,0,1)).getUTCDay():WS(hm(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Ze+5)%7:se.w+se.U*7-(Ze+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,VS(se)):WS(se)}}function U(ie,Te,xe,se){for(var ze=0,Ye=Te.length,Ze=xe.length,Ce,Be;ze<Ye;){if(se>=Ze)return-1;if(Ce=Te.charCodeAt(ze++),Ce===37){if(Ce=Te.charAt(ze++),Be=D[Ce in YL?Te.charAt(ze++):Ce],!Be||(se=Be(ie,xe,se))<0)return-1}else if(Ce!=xe.charCodeAt(se++))return-1}return se}function K(ie,Te,xe){var se=d.exec(Te.slice(xe));return se?(ie.p=h.get(se[0].toLowerCase()),xe+se[0].length):-1}function q(ie,Te,xe){var se=y.exec(Te.slice(xe));return se?(ie.w=k.get(se[0].toLowerCase()),xe+se[0].length):-1}function H(ie,Te,xe){var se=p.exec(Te.slice(xe));return se?(ie.w=b.get(se[0].toLowerCase()),xe+se[0].length):-1}function B(ie,Te,xe){var se=j.exec(Te.slice(xe));return se?(ie.m=O.get(se[0].toLowerCase()),xe+se[0].length):-1}function W(ie,Te,xe){var se=w.exec(Te.slice(xe));return se?(ie.m=S.get(se[0].toLowerCase()),xe+se[0].length):-1}function X(ie,Te,xe){return U(ie,t,Te,xe)}function Z(ie,Te,xe){return U(ie,n,Te,xe)}function Y(ie,Te,xe){return U(ie,r,Te,xe)}function J(ie){return o[ie.getDay()]}function Q(ie){return a[ie.getDay()]}function ce(ie){return u[ie.getMonth()]}function ae(ie){return l[ie.getMonth()]}function z(ie){return i[+(ie.getHours()>=12)]}function V(ie){return 1+~~(ie.getMonth()/3)}function ne(ie){return o[ie.getUTCDay()]}function oe(ie){return a[ie.getUTCDay()]}function ue(ie){return u[ie.getUTCMonth()]}function pe(ie){return l[ie.getUTCMonth()]}function ye(ie){return i[+(ie.getUTCHours()>=12)]}function Oe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Te=P(ie+="",A);return Te.toString=function(){return ie},Te},parse:function(ie){var Te=I(ie+="",!1);return Te.toString=function(){return ie},Te},utcFormat:function(ie){var Te=P(ie+="",C);return Te.toString=function(){return ie},Te},utcParse:function(ie){var Te=I(ie+="",!0);return Te.toString=function(){return ie},Te}}}var YL={"-":"",_:" ",0:"0"},vr=/^\s*\d+/,Aye=/^%/,jye=/[\\^$*+?|[\]().{}]/g;function Ct(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Nye(e){return e.replace(jye,"\\$&")}function mm(e){return new RegExp("^(?:"+e.map(Nye).join("|")+")","i")}function pm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Oye(e,t,n){var r=vr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Cye(e,t,n){var r=vr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Mye(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Dye(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Pye(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function qL(e,t,n){var r=vr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function KL(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rye(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Lye(e,t,n){var r=vr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Iye(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function WL(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function $ye(e,t,n){var r=vr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function VL(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Bye(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function zye(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Uye(e,t,n){var r=vr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Fye(e,t,n){var r=vr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hye(e,t,n){var r=Aye.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Gye(e,t,n){var r=vr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Yye(e,t,n){var r=vr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ZL(e,t){return Ct(e.getDate(),t,2)}function qye(e,t){return Ct(e.getHours(),t,2)}function Kye(e,t){return Ct(e.getHours()%12||12,t,2)}function Wye(e,t){return Ct(1+zp.count(Ls(e),e),t,3)}function W8(e,t){return Ct(e.getMilliseconds(),t,3)}function Vye(e,t){return W8(e,t)+"000"}function Zye(e,t){return Ct(e.getMonth()+1,t,2)}function Xye(e,t){return Ct(e.getMinutes(),t,2)}function Jye(e,t){return Ct(e.getSeconds(),t,2)}function Qye(e){var t=e.getDay();return t===0?7:t}function eve(e,t){return Ct(jx.count(Ls(e)-1,e),t,2)}function V8(e){var t=e.getDay();return t>=4||t===0?mf(e):mf.ceil(e)}function tve(e,t){return e=V8(e),Ct(mf.count(Ls(e),e)+(Ls(e).getDay()===4),t,2)}function nve(e){return e.getDay()}function rve(e,t){return Ct(lv.count(Ls(e)-1,e),t,2)}function ive(e,t){return Ct(e.getFullYear()%100,t,2)}function ave(e,t){return e=V8(e),Ct(e.getFullYear()%100,t,2)}function ove(e,t){return Ct(e.getFullYear()%1e4,t,4)}function sve(e,t){var n=e.getDay();return e=n>=4||n===0?mf(e):mf.ceil(e),Ct(e.getFullYear()%1e4,t,4)}function lve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ct(t/60|0,"0",2)+Ct(t%60,"0",2)}function XL(e,t){return Ct(e.getUTCDate(),t,2)}function cve(e,t){return Ct(e.getUTCHours(),t,2)}function uve(e,t){return Ct(e.getUTCHours()%12||12,t,2)}function dve(e,t){return Ct(1+Ax.count(Is(e),e),t,3)}function Z8(e,t){return Ct(e.getUTCMilliseconds(),t,3)}function fve(e,t){return Z8(e,t)+"000"}function hve(e,t){return Ct(e.getUTCMonth()+1,t,2)}function mve(e,t){return Ct(e.getUTCMinutes(),t,2)}function pve(e,t){return Ct(e.getUTCSeconds(),t,2)}function gve(e){var t=e.getUTCDay();return t===0?7:t}function bve(e,t){return Ct(Nx.count(Is(e)-1,e),t,2)}function X8(e){var t=e.getUTCDay();return t>=4||t===0?pf(e):pf.ceil(e)}function yve(e,t){return e=X8(e),Ct(pf.count(Is(e),e)+(Is(e).getUTCDay()===4),t,2)}function vve(e){return e.getUTCDay()}function xve(e,t){return Ct(cv.count(Is(e)-1,e),t,2)}function wve(e,t){return Ct(e.getUTCFullYear()%100,t,2)}function _ve(e,t){return e=X8(e),Ct(e.getUTCFullYear()%100,t,2)}function Sve(e,t){return Ct(e.getUTCFullYear()%1e4,t,4)}function kve(e,t){var n=e.getUTCDay();return e=n>=4||n===0?pf(e):pf.ceil(e),Ct(e.getUTCFullYear()%1e4,t,4)}function Eve(){return"+0000"}function JL(){return"%"}function QL(e){return+e}function eI(e){return Math.floor(+e/1e3)}var Nd,J8,Q8;Tve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tve(e){return Nd=Tye(e),J8=Nd.format,Nd.parse,Q8=Nd.utcFormat,Nd.utcParse,Nd}function Ave(e){return new Date(e)}function jve(e){return e instanceof Date?+e:+new Date(+e)}function qA(e,t,n,r,i,a,o,l,u,d){var h=MA(),p=h.invert,b=h.domain,y=d(".%L"),k=d(":%S"),w=d("%I:%M"),S=d("%I %p"),j=d("%a %d"),O=d("%b %d"),A=d("%B"),C=d("%Y");function D(P){return(u(P)<P?y:l(P)<P?k:o(P)<P?w:a(P)<P?S:r(P)<P?i(P)<P?j:O:n(P)<P?A:C)(P)}return h.invert=function(P){return new Date(p(P))},h.domain=function(P){return arguments.length?b(Array.from(P,jve)):b().map(Ave)},h.ticks=function(P){var I=b();return e(I[0],I[I.length-1],P??10)},h.tickFormat=function(P,I){return I==null?D:d(I)},h.nice=function(P){var I=b();return(!P||typeof P.range!="function")&&(P=t(I[0],I[I.length-1],P??10)),P?b(B8(I,P)):h},h.copy=function(){return Bp(h,qA(e,t,n,r,i,a,o,l,u,d))},h}function Nve(){return Ca.apply(qA(kye,Eye,Ls,GA,jx,zp,FA,zA,uu,J8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ove(){return Ca.apply(qA(_ye,Sye,Is,YA,Nx,Ax,HA,UA,uu,Q8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ox(){var e=0,t=1,n,r,i,a,o=Zr,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(o=p,d):o};function h(p){return function(b){var y,k;return arguments.length?([y,k]=b,o=p(y,k),d):[o(0),o(1)]}}return d.range=h(Mf),d.rangeRound=h(CA),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),d}}function nc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ez(){var e=tc(Ox()(Zr));return e.copy=function(){return nc(e,ez())},Hs.apply(e,arguments)}function tz(){var e=RA(Ox()).domain([1,10]);return e.copy=function(){return nc(e,tz()).base(e.base())},Hs.apply(e,arguments)}function nz(){var e=LA(Ox());return e.copy=function(){return nc(e,nz()).constant(e.constant())},Hs.apply(e,arguments)}function KA(){var e=IA(Ox());return e.copy=function(){return nc(e,KA()).exponent(e.exponent())},Hs.apply(e,arguments)}function Cve(){return KA.apply(null,arguments).exponent(.5)}function rz(){var e=[],t=Zr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ip(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>gbe(e,a/r))},n.copy=function(){return rz(t).domain(e)},Hs.apply(n,arguments)}function Cx(){var e=0,t=.5,n=1,r=1,i,a,o,l,u,d=Zr,h,p=!1,b;function y(w){return isNaN(w=+w)?b:(w=.5+((w=+h(w))-a)*(r*w<r*a?l:u),d(p?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,n]=w,i=h(e=+e),a=h(t=+t),o=h(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y):[e,t,n]},y.clamp=function(w){return arguments.length?(p=!!w,y):p},y.interpolator=function(w){return arguments.length?(d=w,y):d};function k(w){return function(S){var j,O,A;return arguments.length?([j,O,A]=S,d=Hbe(w,[j,O,A]),y):[d(0),d(.5),d(1)]}}return y.range=k(Mf),y.rangeRound=k(CA),y.unknown=function(w){return arguments.length?(b=w,y):b},function(w){return h=w,i=w(e),a=w(t),o=w(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function iz(){var e=tc(Cx()(Zr));return e.copy=function(){return nc(e,iz())},Hs.apply(e,arguments)}function az(){var e=RA(Cx()).domain([.1,1,10]);return e.copy=function(){return nc(e,az()).base(e.base())},Hs.apply(e,arguments)}function oz(){var e=LA(Cx());return e.copy=function(){return nc(e,oz()).constant(e.constant())},Hs.apply(e,arguments)}function WA(){var e=IA(Cx());return e.copy=function(){return nc(e,WA()).exponent(e.exponent())},Hs.apply(e,arguments)}function Mve(){return WA.apply(null,arguments).exponent(.5)}const Em=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jA,scaleDiverging:iz,scaleDivergingLog:az,scaleDivergingPow:WA,scaleDivergingSqrt:Mve,scaleDivergingSymlog:oz,scaleIdentity:$8,scaleImplicit:uE,scaleLinear:I8,scaleLog:z8,scaleOrdinal:AA,scalePoint:vbe,scalePow:$A,scaleQuantile:H8,scaleQuantize:G8,scaleRadial:F8,scaleSequential:ez,scaleSequentialLog:tz,scaleSequentialPow:KA,scaleSequentialQuantile:rz,scaleSequentialSqrt:Cve,scaleSequentialSymlog:nz,scaleSqrt:fye,scaleSymlog:U8,scaleThreshold:Y8,scaleTime:Nve,scaleUtc:Ove,tickFormat:L8},Symbol.toStringTag,{value:"Module"}));var rc=e=>e.chartData,Dve=we([rc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),VA=(e,t,n,r)=>r?Dve(e):rc(e);function Xl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Nn(t)&&Nn(n))return!0}return!1}function tI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function sz(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Nn(n))i=n;else if(typeof n=="function")return;if(Nn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Xl(o))return o}}function Pve(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Xl(r))return tI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(tt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&C3.test(i)){var u=C3.exec(i);if(u==null||t==null)o=void 0;else{var d=+u[1];o=t[0]-d}}else o=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(tt(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&M3.test(a)){var h=M3.exec(a);if(h==null||t==null)l=void 0;else{var p=+h[1];l=t[1]+p}}else l=t?.[1];var b=[o,l];if(Xl(b))return t==null?b:tI(b,t,n)}}}var Df=1e9,Rve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XA,hn=!0,Aa="[DecimalError] ",gu=Aa+"Invalid argument: ",ZA=Aa+"Exponent out of range: ",Pf=Math.floor,nu=Math.pow,Lve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ui,mr=1e7,rn=7,lz=9007199254740991,uv=Pf(lz/rn),Fe={};Fe.absoluteValue=Fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Fe.comparedTo=Fe.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*rn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Fe.dividedBy=Fe.div=function(e){return js(this,new this.constructor(e))};Fe.dividedToIntegerBy=Fe.idiv=function(e){var t=this,n=t.constructor;return Zt(js(t,new n(e),0,1),n.precision)};Fe.equals=Fe.eq=function(e){return!this.cmp(e)};Fe.exponent=function(){return Wn(this)};Fe.greaterThan=Fe.gt=function(e){return this.cmp(e)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(e){return this.cmp(e)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(e){return this.cmp(e)<0};Fe.lessThanOrEqualTo=Fe.lte=function(e){return this.cmp(e)<1};Fe.logarithm=Fe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ui))throw Error(Aa+"NaN");if(n.s<1)throw Error(Aa+(n.s?"NaN":"-Infinity"));return n.eq(Ui)?new r(0):(hn=!1,t=js(dp(n,a),dp(e,a),a),hn=!0,Zt(t,i))};Fe.minus=Fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dz(t,e):cz(t,(e.s=-e.s,e))};Fe.modulo=Fe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Aa+"NaN");return n.s?(hn=!1,t=js(n,e,0,1).times(e),hn=!0,n.minus(t)):Zt(new r(n),i)};Fe.naturalExponential=Fe.exp=function(){return uz(this)};Fe.naturalLogarithm=Fe.ln=function(){return dp(this)};Fe.negated=Fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Fe.plus=Fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cz(t,e):dz(t,(e.s=-e.s,e))};Fe.precision=Fe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gu+e);if(t=Wn(i)+1,r=i.d.length-1,n=r*rn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Fe.squareRoot=Fe.sqrt=function(){var e,t,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Aa+"NaN")}for(e=Wn(l),hn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Ro(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Pf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(js(l,a,o+2)).times(.5),Ro(a.d).slice(0,o)===(t=Ro(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Zt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return hn=!0,Zt(r,n)};Fe.times=Fe.mul=function(e){var t,n,r,i,a,o,l,u,d,h=this,p=h.constructor,b=h.d,y=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,u=b.length,d=y.length,u<d&&(a=b,b=y,y=a,o=u,u=d,d=o),a=[],o=u+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+y[r]*b[i-r-1]+t,a[i--]=l%mr|0,t=l/mr|0;a[i]=(a[i]+t)%mr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,hn?Zt(e,p.precision):e};Fe.toDecimalPlaces=Fe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Fo(e,0,Df),t===void 0?t=r.rounding:Fo(t,0,8),Zt(n,e+Wn(n)+1,t))};Fe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Su(r,!0):(Fo(e,0,Df),t===void 0?t=i.rounding:Fo(t,0,8),r=Zt(new i(r),e+1,t),n=Su(r,!0,e+1)),n};Fe.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Su(i):(Fo(e,0,Df),t===void 0?t=a.rounding:Fo(t,0,8),r=Zt(new a(i),e+Wn(i)+1,t),n=Su(r.abs(),!1,e+Wn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Fe.toInteger=Fe.toint=function(){var e=this,t=e.constructor;return Zt(new t(e),Wn(e)+1,t.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(e){var t,n,r,i,a,o,l=this,u=l.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(Ui);if(l=new u(l),!l.s){if(e.s<1)throw Error(Aa+"Infinity");return l}if(l.eq(Ui))return l;if(r=u.precision,e.eq(Ui))return Zt(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=h<0?-h:h)<=lz){for(i=new u(Ui),t=Math.ceil(r/rn+4),hn=!1;n%2&&(i=i.times(l),rI(i.d,t)),n=Pf(n/2),n!==0;)l=l.times(l),rI(l.d,t);return hn=!0,e.s<0?new u(Ui).div(i):Zt(i,r)}}else if(a<0)throw Error(Aa+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,hn=!1,i=e.times(dp(l,r+d)),hn=!0,i=uz(i),i.s=a,i};Fe.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Wn(i),r=Su(i,n<=a.toExpNeg||n>=a.toExpPos)):(Fo(e,1,Df),t===void 0?t=a.rounding:Fo(t,0,8),i=Zt(new a(i),e,t),n=Wn(i),r=Su(i,e<=n||n<=a.toExpNeg,e)),r};Fe.toSignificantDigits=Fe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Fo(e,1,Df),t===void 0?t=r.rounding:Fo(t,0,8)),Zt(new r(n),e,t)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wn(e),n=e.constructor;return Su(e,t<=n.toExpNeg||t>=n.toExpPos)};function cz(e,t){var n,r,i,a,o,l,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),hn?Zt(t,p):t;if(u=e.d,d=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=d.length):(r=d,i=o,l=u.length),o=Math.ceil(p/rn),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=d.length,l-a<0&&(a=l,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/mr|0,u[a]%=mr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,hn?Zt(t,p):t}function Fo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(gu+e)}function Ro(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=rn-r.length,n&&(a+=Ml(n)),a+=r;o=e[t],r=o+"",n=rn-r.length,n&&(a+=Ml(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var js=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%mr|0,o=a/mr|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*mr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,d,h,p,b,y,k,w,S,j,O,A,C,D,P,I,U,K=r.constructor,q=r.s==i.s?1:-1,H=r.d,B=i.d;if(!r.s)return new K(r);if(!i.s)throw Error(Aa+"Division by zero");for(u=r.e-i.e,I=B.length,D=H.length,y=new K(q),k=y.d=[],d=0;B[d]==(H[d]||0);)++d;if(B[d]>(H[d]||0)&&--u,a==null?O=a=K.precision:o?O=a+(Wn(r)-Wn(i))+1:O=a,O<0)return new K(0);if(O=O/rn+2|0,d=0,I==1)for(h=0,B=B[0],O++;(d<D||h)&&O--;d++)A=h*mr+(H[d]||0),k[d]=A/B|0,h=A%B|0;else{for(h=mr/(B[0]+1)|0,h>1&&(B=e(B,h),H=e(H,h),I=B.length,D=H.length),C=I,w=H.slice(0,I),S=w.length;S<I;)w[S++]=0;U=B.slice(),U.unshift(0),P=B[0],B[1]>=mr/2&&++P;do h=0,l=t(B,w,I,S),l<0?(j=w[0],I!=S&&(j=j*mr+(w[1]||0)),h=j/P|0,h>1?(h>=mr&&(h=mr-1),p=e(B,h),b=p.length,S=w.length,l=t(p,w,b,S),l==1&&(h--,n(p,I<b?U:B,b))):(h==0&&(l=h=1),p=B.slice()),b=p.length,b<S&&p.unshift(0),n(w,p,S),l==-1&&(S=w.length,l=t(B,w,I,S),l<1&&(h++,n(w,I<S?U:B,S))),S=w.length):l===0&&(h++,w=[0]),k[d++]=h,l&&w[0]?w[S++]=H[C]||0:(w=[H[C]],S=1);while((C++<D||w[0]!==void 0)&&O--)}return k[0]||k.shift(),y.e=u,Zt(y,o?a+Wn(y)+1:a)}})();function uz(e,t){var n,r,i,a,o,l,u=0,d=0,h=e.constructor,p=h.precision;if(Wn(e)>16)throw Error(ZA+Wn(e));if(!e.s)return new h(Ui);for(hn=!1,l=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(nu(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(Ui),h.precision=l;;){if(i=Zt(i.times(e),l),n=n.times(++u),o=a.plus(js(i,n,l)),Ro(o.d).slice(0,l)===Ro(a.d).slice(0,l)){for(;d--;)a=Zt(a.times(a),l);return h.precision=p,t==null?(hn=!0,Zt(a,p)):a}a=o}}function Wn(e){for(var t=e.e*rn,n=e.d[0];n>=10;n/=10)t++;return t}function ZS(e,t,n){if(t>e.LN10.sd())throw hn=!0,n&&(e.precision=n),Error(Aa+"LN10 precision limit exceeded");return Zt(new e(e.LN10),t)}function Ml(e){for(var t="";e--;)t+="0";return t}function dp(e,t){var n,r,i,a,o,l,u,d,h,p=1,b=10,y=e,k=y.d,w=y.constructor,S=w.precision;if(y.s<1)throw Error(Aa+(y.s?"NaN":"-Infinity"));if(y.eq(Ui))return new w(0);if(t==null?(hn=!1,d=S):d=t,y.eq(10))return t==null&&(hn=!0),ZS(w,d);if(d+=b,w.precision=d,n=Ro(k),r=n.charAt(0),a=Wn(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=Ro(y.d),r=n.charAt(0),p++;a=Wn(y),r>1?(y=new w("0."+n),a++):y=new w(r+"."+n.slice(1))}else return u=ZS(w,d+2,S).times(a+""),y=dp(new w(r+"."+n.slice(1)),d-b).plus(u),w.precision=S,t==null?(hn=!0,Zt(y,S)):y;for(l=o=y=js(y.minus(Ui),y.plus(Ui),d),h=Zt(y.times(y),d),i=3;;){if(o=Zt(o.times(h),d),u=l.plus(js(o,new w(i),d)),Ro(u.d).slice(0,d)===Ro(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(ZS(w,d+2,S).times(a+""))),l=js(l,new w(p),d),w.precision=S,t==null?(hn=!0,Zt(l,S)):l;l=u,i+=2}}function nI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Pf(n/rn),e.d=[],r=(n+1)%rn,n<0&&(r+=rn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=rn;r<i;)e.d.push(+t.slice(r,r+=rn));t=t.slice(r),r=rn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),hn&&(e.e>uv||e.e<-uv))throw Error(ZA+n)}else e.s=0,e.e=0,e.d=[0];return e}function Zt(e,t,n){var r,i,a,o,l,u,d,h,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=rn,i=t,d=p[h=0];else{if(h=Math.ceil((r+1)/rn),a=p.length,h>=a)return e;for(d=a=p[h],o=1;a>=10;a/=10)o++;r%=rn,i=r-rn+o}if(n!==void 0&&(a=nu(10,o-i-1),l=d/a%10|0,u=t<0||p[h+1]!==void 0||d%a,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/nu(10,o-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=Wn(e),p.length=1,t=t-a-1,p[0]=nu(10,(rn-t%rn)%rn),e.e=Pf(-t/rn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=nu(10,rn-r),p[h]=i>0?(d/nu(10,o-i)%nu(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==mr&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=mr)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(hn&&(e.e>uv||e.e<-uv))throw Error(ZA+Wn(e));return e}function dz(e,t){var n,r,i,a,o,l,u,d,h,p,b=e.constructor,y=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),hn?Zt(t,y):t;if(u=e.d,p=t.d,r=t.e,d=e.e,u=u.slice(),o=d-r,o){for(h=o<0,h?(n=u,o=-o,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(y/rn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}o=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=mr-1;--u[a],u[i]+=mr}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,hn?Zt(t,y):t):new b(0)}function Su(e,t,n){var r,i=Wn(e),a=Ro(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ml(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ml(-i-1)+a,n&&(r=n-o)>0&&(a+=Ml(r))):i>=o?(a+=Ml(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ml(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ml(r))),e.s<0?"-"+a:a}function rI(e,t){if(e.length>t)return e.length=t,!0}function fz(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(gu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return nI(o,a.toString())}else if(typeof a!="string")throw Error(gu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Lve.test(a))nI(o,a);else throw Error(gu+a)}if(i.prototype=Fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fz,i.config=i.set=Ive,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Ive(e){if(!e||typeof e!="object")throw Error(Aa+"Object expected");var t,n,r,i=["precision",1,Df,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Pf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(gu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gu+n+": "+r);return this}var XA=fz(Rve);Ui=new XA(1);const Ft=XA;var $ve=e=>e,hz={},mz=e=>e===hz,iI=e=>function t(){return arguments.length===0||arguments.length===1&&mz(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},pz=(e,t)=>e===1?t:iI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==hz).length;return a>=e?t(...r):pz(e-a,iI(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=r.map(h=>mz(h)?l.shift():h);return t(...d,...l)}))}),Bve=e=>pz(e.length,e),mE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},zve=Bve((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Uve=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return $ve;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},pE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function gz(e){var t;return e===0?t=1:t=Math.floor(new Ft(e).abs().log(10).toNumber())+1,t}function bz(e,t,n){for(var r=new Ft(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var yz=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},vz=(e,t,n)=>{if(e.lte(0))return new Ft(0);var r=gz(e.toNumber()),i=new Ft(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new Ft(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return t?new Ft(u.toNumber()):new Ft(Math.ceil(u.toNumber()))},Fve=(e,t,n)=>{var r=new Ft(1),i=new Ft(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Ft(10).pow(gz(e)-1),i=new Ft(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ft(Math.floor(e)))}else e===0?i=new Ft(Math.floor((t-1)/2)):n||(i=new Ft(Math.floor(e)));var o=Math.floor((t-1)/2),l=Uve(zve(u=>i.add(new Ft(u-o).mul(r)).toNumber()),mE);return l(0,t)},xz=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ft(0),tickMin:new Ft(0),tickMax:new Ft(0)};var o=vz(new Ft(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new Ft(0):(l=new Ft(t).add(n).div(2),l=l.sub(new Ft(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new Ft(n).sub(l).div(o).toNumber()),h=u+d+1;return h>r?xz(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,u=n>0?u:u+(r-h)),{step:o,tickMin:l.sub(new Ft(u).mul(o)),tickMax:l.add(new Ft(d).mul(o))})},Hve=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=yz([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...mE(0,i-1).map(()=>1/0)]:[...mE(0,i-1).map(()=>-1/0),u];return n>r?pE(d):d}if(l===u)return Fve(l,i,a);var{step:h,tickMin:p,tickMax:b}=xz(l,u,o,a,0),y=bz(p,b.add(new Ft(.1).mul(h)),h);return n>r?pE(y):y},Gve=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=yz([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),d=vz(new Ft(l).sub(o).div(u-1),a,0),h=[...bz(new Ft(o),new Ft(l),d),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?pE(h):h},Yve=e=>e.rootProps.barCategoryGap,Mx=e=>e.rootProps.stackOffset,wz=e=>e.rootProps.reverseStackOrder,JA=e=>e.options.chartName,QA=e=>e.rootProps.syncId,_z=e=>e.rootProps.syncMethod,ej=e=>e.options.eventEmitter,qve=e=>e.rootProps.baseValue,Xr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ws={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Bi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Dx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Kve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ws.angleAxisId,includeHidden:!1,name:void 0,reversed:ws.reversed,scale:ws.scale,tick:ws.tick,tickCount:void 0,ticks:void 0,type:ws.type,unit:void 0},Wve={allowDataOverflow:Bi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bi.scale,tick:Bi.tick,tickCount:Bi.tickCount,ticks:void 0,type:Bi.type,unit:void 0},Vve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ws.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ws.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ws.scale,tick:ws.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Zve={allowDataOverflow:Bi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bi.scale,tick:Bi.tick,tickCount:Bi.tickCount,ticks:void 0,type:"category",unit:void 0},tj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Vve:Kve,nj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Zve:Wve,Px=e=>e.polarOptions,rj=we([Us,Fs,Pr],Hge),Sz=we([Px,rj],(e,t)=>{if(e!=null)return Zl(e.innerRadius,t,0)}),kz=we([Px,rj],(e,t)=>{if(e!=null)return Zl(e.outerRadius,t,t*.8)}),Xve=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Ez=we([Px],Xve);we([tj,Ez],Dx);var Tz=we([rj,Sz,kz],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});we([nj,Tz],Dx);var Az=we([Qt,Px,Sz,kz,Us,Fs],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=t;return{cx:Zl(o,i,i/2),cy:Zl(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),nr=(e,t)=>t,Rx=(e,t,n)=>n;function ij(e){return e?.id}function jz(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var h=ij(l);d.forEach((p,b)=>{var y=a==null||i?b:String(Fr(p,a,null)),k=Fr(p,l.dataKey,0),w;o.has(y)?w=o.get(y):w={},Object.assign(w,{[h]:k}),o.set(y,w)})}}),Array.from(o.values())}function aj(e){return e.stackId!=null&&e.dataKey!=null}var Lx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ix(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Jve(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var rr=e=>{var t=Qt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Rf=e=>e.tooltip.settings.axisId;function aI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(n),!0).forEach(function(r){Qve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qve(e,t,n){return(t=exe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function exe(e){var t=txe(e,"string");return typeof t=="symbol"?t:t+""}function txe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gE=[0,"auto"],dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Nz=(e,t)=>e.cartesianAxis.xAxis[t],Gs=(e,t)=>{var n=Nz(e,t);return n??dr},fr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:gE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Pp},Oz=(e,t)=>e.cartesianAxis.yAxis[t],Ys=(e,t)=>{var n=Oz(e,t);return n??fr},nxe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},oj=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??nxe},ti=(e,t,n)=>{switch(t){case"xAxis":return Gs(e,n);case"yAxis":return Ys(e,n);case"zAxis":return oj(e,n);case"angleAxis":return tj(e,n);case"radiusAxis":return nj(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},rxe=(e,t,n)=>{switch(t){case"xAxis":return Gs(e,n);case"yAxis":return Ys(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Up=(e,t,n)=>{switch(t){case"xAxis":return Gs(e,n);case"yAxis":return Ys(e,n);case"angleAxis":return tj(e,n);case"radiusAxis":return nj(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Cz=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Mz(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Dz=e=>e.graphicalItems.cartesianItems,ixe=we([nr,Rx],Mz),Pz=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Fp=we([Dz,ti,ixe],Pz,{memoizeOptions:{resultEqualityCheck:Ix}}),Rz=we([Fp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(aj)),Lz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),axe=we([Fp],Lz),Iz=e=>e.map(t=>t.data).filter(Boolean).flat(1),oxe=we([Fp],Iz,{memoizeOptions:{resultEqualityCheck:Ix}}),$z=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},sj=we([oxe,VA],$z),Bz=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Fr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Fr(i,r)}))):e.map(r=>({value:r})),$x=we([sj,ti,Fp],Bz);function zz(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Wb(e){if(zo(e)||e instanceof Date){var t=Number(e);if(Nn(t))return t}}function oI(e){if(Array.isArray(e)){var t=[Wb(e[0]),Wb(e[1])];return Xl(t)?t:void 0}var n=Wb(e);if(n!=null)return[n,n]}function $s(e){return e.map(Wb).filter(Ahe)}function sxe(e,t,n){return!n||typeof t!="number"||ao(t)?[]:n.length?$s(n.flatMap(r=>{var i=Fr(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Nn(a)||!Nn(o)))return[t-a,t+o]})):[]}var ir=e=>{var t=rr(e),n=Rf(e);return Up(e,t,n)},Hp=we([ir],e=>e?.dataKey),lxe=we([Rz,VA,ir],jz),Uz=(e,t,n,r)=>{var i={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,d=r?[...u].reverse():u,h=d.map(ij);return[l,{stackedData:Mpe(e,h,n),graphicalItems:d}]}))},bE=we([lxe,Rz,Mx,wz],Uz),Fz=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=Lpe(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},cxe=we([ti],e=>e.allowDataOverflow),lj=e=>{var t;if(e==null||!("domain"in e))return gE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=$s(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:gE},Hz=we([ti],lj),Gz=we([Hz,cxe],sz),uxe=we([bE,rc,nr,Gz],Fz,{memoizeOptions:{resultEqualityCheck:Lx}}),cj=e=>e.errorBars,dxe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>zz(n,r)),fv=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},Yz=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var d,h,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(j=>zz(i,j)),b=Fr(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),y=sxe(l,b,p);if(y.length>=2){var k=Math.min(...y),w=Math.max(...y);(a==null||k<a)&&(a=k),(o==null||w>o)&&(o=w)}var S=oI(b);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),o=o==null?S[1]:Math.max(o,S[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=oI(Fr(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),Nn(a)&&Nn(o))return[a,o]},fxe=we([sj,ti,axe,cj,nr],Yz,{memoizeOptions:{resultEqualityCheck:Lx}});function hxe(e){var{value:t}=e;if(zo(t)||t instanceof Date)return t}var mxe=(e,t,n)=>{var r=e.map(hxe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&u9(r))?T8(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},qz=e=>e.referenceElements.dots,Lf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),pxe=we([qz,nr,Rx],Lf),Kz=e=>e.referenceElements.areas,gxe=we([Kz,nr,Rx],Lf),Wz=e=>e.referenceElements.lines,bxe=we([Wz,nr,Rx],Lf),Vz=(e,t)=>{var n=$s(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yxe=we(pxe,nr,Vz),Zz=(e,t)=>{var n=$s(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vxe=we([gxe,nr],Zz);function xxe(e){var t;if(e.x!=null)return $s([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:$s(n)}function wxe(e){var t;if(e.y!=null)return $s([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:$s(n)}var Xz=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?xxe(r):wxe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_xe=we([bxe,nr],Xz),Sxe=we(yxe,_xe,vxe,(e,t,n)=>fv(e,n,t)),Jz=(e,t,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=u?fv(r,a,i):fv(a,i);return Pve(t,d,e.allowDataOverflow)},kxe=we([ti,Hz,Gz,uxe,fxe,Sxe,Qt,nr],Jz,{memoizeOptions:{resultEqualityCheck:Lx}}),Exe=[0,1],Qz=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,d=zs(t,a);if(d&&l==null){var h;return T8(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?mxe(r,e,d):i==="expand"?Exe:o}},uj=we([ti,Qt,sj,$x,Mx,nr,kxe],Qz),eU=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(fA(a));return l in Em?l:"point"}}},Gp=we([ti,Qt,Cz,JA,nr],eU);function Txe(e){if(e!=null){if(e in Em)return Em[e]();var t="scale".concat(fA(e));if(t in Em)return Em[t]()}}function dj(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Txe(t);if(i!=null){var a=i.domain(n).range(r);return jpe(a),a}}}var tU=(e,t,n)=>{var r=lj(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Xl(e))return Hve(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Xl(e))return Gve(e,t.tickCount,t.allowDecimals)}},fj=we([uj,Up,Gp],tU),nU=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Xl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},Axe=we([ti,uj,fj,nr],nU),jxe=we($x,ti,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from($s(e.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),rU=we(jxe,Qt,Yve,Pr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Nn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Zl(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),Nxe=(e,t)=>{var n=Gs(e,t);return n==null||typeof n.padding!="string"?0:rU(e,"xAxis",t,n.padding)},Oxe=(e,t)=>{var n=Ys(e,t);return n==null||typeof n.padding!="string"?0:rU(e,"yAxis",t,n.padding)},Cxe=we(Gs,Nxe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Mxe=we(Ys,Oxe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Dxe=we([Pr,Cxe,xx,vx,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Pxe=we([Pr,Qt,Mxe,xx,vx,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Yp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Dxe(e,n,r);case"yAxis":return Pxe(e,n,r);case"zAxis":return(i=oj(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Ez(e);case"radiusAxis":return Tz(e,n);default:return}},iU=we([ti,Yp],Dx),If=we([ti,Gp,Axe,iU],dj);we([Fp,cj,nr],dxe);function aU(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Bx=(e,t)=>t,zx=(e,t,n)=>n,Rxe=we(bx,Bx,zx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(aU)),Lxe=we(yx,Bx,zx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(aU)),oU=(e,t)=>({width:e.width,height:t.height}),Ixe=(e,t)=>{var n=typeof t.width=="number"?t.width:Pp;return{width:n,height:e.height}},$xe=we(Pr,Gs,oU),Bxe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},zxe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Uxe=we(Fs,Pr,Rxe,Bx,zx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=oU(t,l);o==null&&(o=Bxe(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),a}),Fxe=we(Us,Pr,Lxe,Bx,zx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=Ixe(t,l);o==null&&(o=zxe(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),a}),Hxe=(e,t)=>{var n=Gs(e,t);if(n!=null)return Uxe(e,n.orientation,n.mirror)},Gxe=we([Pr,Gs,Hxe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Yxe=(e,t)=>{var n=Ys(e,t);if(n!=null)return Fxe(e,n.orientation,n.mirror)},qxe=we([Pr,Ys,Yxe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Kxe=we(Pr,Ys,(e,t)=>{var n=typeof t.width=="number"?t.width:Pp;return{width:n,height:e.height}}),sU=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=zs(e,r),u=t.map(d=>d.value);if(o&&l&&a==="category"&&i&&u9(u))return u}},hj=we([Qt,$x,ti,nr],sU),lU=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=zs(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},mj=we([Qt,$x,Up,nr],lU),sI=we([Qt,rxe,Gp,If,hj,mj,Yp,fj,nr],(e,t,n,r,i,a,o,l,u)=>{if(t!=null){var d=zs(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:o,realScaleType:n,scale:r}}}),Wxe=(e,t,n,r,i,a,o,l,u)=>{if(!(t==null||r==null)){var d=zs(e,u),{type:h,ticks:p,tickCount:b}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,k=h==="category"&&r.bandwidth?r.bandwidth()/y:0;k=u==="angleAxis"&&a!=null&&a.length>=2?xa(a[0]-a[1])*2*k:k;var w=p||i;if(w){var S=w.map((j,O)=>{var A=o?o.indexOf(j):j;return{index:O,coordinate:r(A)+k,value:j,offset:k}});return S.filter(j=>Nn(j.coordinate))}return d&&l?l.map((j,O)=>({coordinate:r(j)+k,value:j,index:O,offset:k})).filter(j=>Nn(j.coordinate)):r.ticks?r.ticks(b).map(j=>({coordinate:r(j)+k,value:j,offset:k})):r.domain().map((j,O)=>({coordinate:r(j)+k,value:o?o[j]:j,index:O,offset:k}))}},cU=we([Qt,Up,Gp,If,fj,Yp,hj,mj,nr],Wxe),Vxe=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=zs(e,o),{tickCount:u}=t,d=0;return d=o==="angleAxis"&&r?.length>=2?xa(r[0]-r[1])*2*d:d,l&&a?a.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}},uU=we([Qt,Up,If,Yp,hj,mj,nr],Vxe),dU=we(ti,If,(e,t)=>{if(!(e==null||t==null))return dv(dv({},e),{},{scale:t})}),Zxe=we([ti,Gp,uj,iU],dj);we((e,t,n)=>oj(e,n),Zxe,(e,t)=>{if(!(e==null||t==null))return dv(dv({},e),{},{scale:t})});var Xxe=we([Qt,bx,yx],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),fU=e=>e.options.defaultTooltipEventType,hU=e=>e.options.validateTooltipEventTypes;function mU(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function pj(e,t){var n=fU(e),r=hU(e);return mU(t,n,r)}function Jxe(e){return rt(t=>pj(t,e))}var pU=(e,t)=>{var n,r=Number(t);if(!(ao(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Qxe=e=>e.tooltip.settings,Bl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ewe={itemInteraction:{click:Bl,hover:Bl},axisInteraction:{click:Bl,hover:Bl},keyboardInteraction:Bl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gU=ki({name:"tooltip",initialState:ewe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:dn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=eo(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:dn()},removeTooltipEntrySettings:{reducer(e,t){var n=eo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:dn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:twe,replaceTooltipEntrySettings:nwe,removeTooltipEntrySettings:rwe,setTooltipSettingsState:iwe,setActiveMouseOverItemIndex:awe,mouseLeaveItem:OCe,mouseLeaveChart:bU,setActiveClickItemIndex:CCe,setMouseOverAxisIndex:yU,setMouseClickAxisIndex:owe,setSyncInteraction:yE,setKeyboardInteraction:vE}=gU.actions,swe=gU.reducer;function lI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(n),!0).forEach(function(r){lwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lwe(e,t,n){return(t=cwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cwe(e){var t=uwe(e,"string");return typeof t=="symbol"?t:t+""}function uwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dwe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function fwe(e){return e.index!=null}var vU=(e,t,n,r)=>{if(t==null)return Bl;var i=dwe(e,t,n);if(i==null)return Bl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(fwe(i)){if(a)return wb(wb({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return wb(wb({},Bl),{},{coordinate:i.coordinate})};function hwe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function mwe(e,t){var n=hwe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function pwe(e,t,n){if(n==null||t==null)return!0;var r=Fr(e,t);return r==null||!Xl(n)?!0:mwe(r,n)}var gj=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!Nn(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),d=t[u];return d==null||pwe(d,n,r)?String(u):null},xU=(e,t,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},wU=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},qp=e=>e.options.tooltipPayloadSearcher,$f=e=>e.tooltip;function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(n),!0).forEach(function(r){gwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gwe(e,t,n){return(t=bwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bwe(e){var t=ywe(e,"string");return typeof t=="symbol"?t:t+""}function ywe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vwe(e,t){return e??t}var _U=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:h}=n,p=[];return e.reduce((b,y)=>{var k,{dataDefinedOnItem:w,settings:S}=y,j=vwe(w,l),O=Array.isArray(j)?J9(j,d,h):j,A=(k=S?.dataKey)!==null&&k!==void 0?k:r,C=S?.nameKey,D;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&o==="axis"?D=d9(O,r,i):D=a(O,t,u,C),Array.isArray(D))D.forEach(I=>{var U=uI(uI({},S),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});b.push(D3({tooltipEntrySettings:U,dataKey:I.dataKey,payload:I.payload,value:Fr(I.payload,I.dataKey),name:I.name}))});else{var P;b.push(D3({tooltipEntrySettings:S,dataKey:A,payload:D,value:Fr(D,A),name:(P=Fr(D,C))!==null&&P!==void 0?P:S?.name}))}return b},p)}},bj=we([ir,Qt,Cz,JA,rr],eU),xwe=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),wwe=we([rr,Rf],Mz),Kp=we([xwe,ir,wwe],Pz,{memoizeOptions:{resultEqualityCheck:Ix}}),_we=we([Kp],e=>e.filter(aj)),Swe=we([Kp],Iz,{memoizeOptions:{resultEqualityCheck:Ix}}),Bf=we([Swe,rc],$z),kwe=we([_we,rc,ir],jz),yj=we([Bf,ir,Kp],Bz),SU=we([ir],lj),Ewe=we([ir],e=>e.allowDataOverflow),kU=we([SU,Ewe],sz),Twe=we([Kp],e=>e.filter(aj)),Awe=we([kwe,Twe,Mx,wz],Uz),jwe=we([Awe,rc,rr,kU],Fz),Nwe=we([Kp],Lz),Owe=we([Bf,ir,Nwe,cj,rr],Yz,{memoizeOptions:{resultEqualityCheck:Lx}}),Cwe=we([qz,rr,Rf],Lf),Mwe=we([Cwe,rr],Vz),Dwe=we([Kz,rr,Rf],Lf),Pwe=we([Dwe,rr],Zz),Rwe=we([Wz,rr,Rf],Lf),Lwe=we([Rwe,rr],Xz),Iwe=we([Mwe,Lwe,Pwe],fv),$we=we([ir,SU,kU,jwe,Owe,Iwe,Qt,rr],Jz),Wp=we([ir,Qt,Bf,yj,Mx,rr,$we],Qz),Bwe=we([Wp,ir,bj],tU),zwe=we([ir,Wp,Bwe,rr],nU),EU=e=>{var t=rr(e),n=Rf(e),r=!1;return Yp(e,t,n,r)},TU=we([ir,EU],Dx),AU=we([ir,bj,zwe,TU],dj),Uwe=we([Qt,yj,ir,rr],sU),Fwe=we([Qt,yj,ir,rr],lU),Hwe=(e,t,n,r,i,a,o,l)=>{if(t){var{type:u}=t,d=zs(e,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?xa(i[0]-i[1])*2*p:p,d&&o?o.map((b,y)=>({coordinate:r(b)+p,value:b,index:y,offset:p})):r.domain().map((b,y)=>({coordinate:r(b)+p,value:a?a[b]:b,index:y,offset:p}))}}},qs=we([Qt,ir,bj,AU,EU,Uwe,Fwe,rr],Hwe),vj=we([fU,hU,Qxe],(e,t,n)=>mU(n.shared,e,t)),jU=e=>e.tooltip.settings.trigger,xj=e=>e.tooltip.settings.defaultIndex,Vp=we([$f,vj,jU,xj],vU),fp=we([Vp,Bf,Hp,Wp],gj),NU=we([qs,fp],pU),Gwe=we([Vp],e=>{if(e)return e.dataKey});we([Vp],e=>{if(e)return e.graphicalItemId});var OU=we([$f,vj,jU,xj],wU),Ywe=we([Us,Fs,Qt,Pr,qs,xj,OU,qp],xU),qwe=we([Vp,Ywe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Kwe=we([Vp],e=>e.active),Wwe=we([OU,fp,rc,Hp,NU,qp,vj],_U),Vwe=we([Wwe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(r){Zwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zwe(e,t,n){return(t=Xwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xwe(e){var t=Jwe(e,"string");return typeof t=="symbol"?t:t+""}function Jwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qwe=()=>rt(ir),e_e=()=>{var e=Qwe(),t=rt(qs),n=rt(AU);return Yy(!e||!n?void 0:fI(fI({},e),{},{scale:n}),t)};function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(r){t_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t_e(e,t,n){return(t=n_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n_e(e){var t=r_e(e,"string");return typeof t=="symbol"?t:t+""}function r_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i_e=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},a_e=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return Od(Od(Od({},r),Or(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return Od(Od(Od({},r),Or(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function o_e(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var CU=(e,t,n,r,i)=>{var a,o=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,b=void 0;if(xa(h-d)!==xa(p-h)){var y=[];if(xa(p-h)===xa(i[1]-i[0])){b=p;var k=h+i[1]-i[0];y[0]=Math.min(k,(k+d)/2),y[1]=Math.max(k,(k+d)/2)}else{b=d;var w=p+i[1]-i[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:o}=n[u]);break}}else{var j=Math.min(d,p),O=Math.max(d,p);if(e>(j+h)/2&&e<=(O+h)/2){({index:o}=n[u]);break}}}else if(t){for(var A=0;A<l;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<l-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===l-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:o}=t[A]);break}}return o},MU=()=>rt(JA),wj=(e,t)=>t,DU=(e,t,n)=>n,_j=(e,t,n,r)=>r,s_e=we(qs,e=>lx(e,t=>t.coordinate)),Sj=we([$f,wj,DU,_j],vU),kj=we([Sj,Bf,Hp,Wp],gj),l_e=(e,t,n)=>{if(t!=null){var r=$f(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},PU=we([$f,wj,DU,_j],wU),hv=we([Us,Fs,Qt,Pr,qs,_j,PU,qp],xU),c_e=we([Sj,hv],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),RU=we([qs,kj],pU),u_e=we([PU,kj,rc,Hp,RU,qp,wj],_U),d_e=we([Sj,kj],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),f_e=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&o_e(e,o)){var l=Ipe(e,t),u=CU(l,a,i,n,r),d=i_e(t,i,u,e);return{activeIndex:String(u),activeCoordinate:d}}},h_e=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var l=Wge(e,n);if(l){var u=$pe(l,t),d=CU(u,o,a,r,i),h=a_e(t,a,d,l);return{activeIndex:String(d),activeCoordinate:h}}}},m_e=(e,t,n,r,i,a,o,l)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?f_e(e,t,r,i,a,o,l):h_e(e,t,n,r,i,a,o)},p_e=we(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),g_e=we(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Xr)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Jve}});function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(r){b_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b_e(e,t,n){return(t=y_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y_e(e){var t=v_e(e,"string");return typeof t=="symbol"?t:t+""}function v_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x_e={},w_e={zIndexMap:Object.values(Xr).reduce((e,t)=>pI(pI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),x_e)},__e=new Set(Object.values(Xr));function S_e(e){return __e.has(e)}var LU=ki({name:"zIndex",initialState:w_e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:dn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!S_e(n)&&delete e.zIndexMap[n])},prepare:dn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:dn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:dn()}}}),{registerZIndexPortal:k_e,unregisterZIndexPortal:E_e,registerZIndexPortalId:T_e,unregisterZIndexPortalId:A_e}=LU.actions,j_e=LU.reducer;function Ks(e){var{zIndex:t,children:n}=e,r=y0e(),i=r&&t!==void 0&&t!==0,a=Ei(),o=yr();_.useLayoutEffect(()=>i?(o(k_e({zIndex:t})),()=>{o(E_e({zIndex:t}))}):Op,[o,t,i]);var l=rt(d=>p_e(d,t,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?ju.createPortal(n,u):null}function xE(){return xE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xE.apply(null,arguments)}function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(r){N_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N_e(e,t,n){return(t=O_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O_e(e){var t=C_e(e,"string");return typeof t=="symbol"?t:t+""}function C_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M_e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return _.isValidElement(t)?_.cloneElement(t,r):_.createElement(n,r)}function D_e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:h}=e,p=n,b=r,y=i;if(!u||!p||h!=="ScatterChart"&&d!=="axis")return null;var k,w,S;if(h==="ScatterChart")k=p,w=oge,S=Xr.cursorLine;else if(h==="BarChart")k=sge(l,p,a,o),w=$ge,S=Xr.cursorRectangle;else if(l==="radial"&&f9(p)){var{cx:j,cy:O,radius:A,startAngle:C,endAngle:D}=k8(p);k={cx:j,cy:O,startAngle:C,endAngle:D,innerRadius:A,outerRadius:A},w=Jge,S=Xr.cursorLine}else k={points:Qge(l,p,a)},w=Kb,S=Xr.cursorLine;var P=typeof u=="object"&&"className"in u?u.className:void 0,I=_b(_b(_b(_b({stroke:"#ccc",pointerEvents:"none"},a),k),ix(u)),{},{payload:b,payloadIndex:y,className:an("recharts-tooltip-cursor",P)});return _.createElement(Ks,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},_.createElement(M_e,{cursor:u,cursorComp:w,cursorProps:I}))}function P_e(e){var t=e_e(),n=l8(),r=Rp(),i=MU();return t==null||n==null||r==null||i==null?null:_.createElement(D_e,xE({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var IU=_.createContext(null),R_e=()=>_.useContext(IU),XS={exports:{}},bI;function L_e(){return bI||(bI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function a(u,d,h,p,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,p||u,b),k=n?n+d:d;return u._events[k]?u._events[k].fn?u._events[k]=[u._events[k],y]:u._events[k].push(y):(u._events[k]=y,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)t.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,y=p.length,k=new Array(y);b<y;b++)k[b]=p[b].fn;return k},l.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,h,p,b,y,k){var w=n?n+d:d;if(!this._events[w])return!1;var S=this._events[w],j=arguments.length,O,A;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,b),!0;case 5:return S.fn.call(S.context,h,p,b,y),!0;case 6:return S.fn.call(S.context,h,p,b,y,k),!0}for(A=1,O=new Array(j-1);A<j;A++)O[A-1]=arguments[A];S.fn.apply(S.context,O)}else{var C=S.length,D;for(A=0;A<C;A++)switch(S[A].once&&this.removeListener(d,S[A].fn,void 0,!0),j){case 1:S[A].fn.call(S[A].context);break;case 2:S[A].fn.call(S[A].context,h);break;case 3:S[A].fn.call(S[A].context,h,p);break;case 4:S[A].fn.call(S[A].context,h,p,b);break;default:if(!O)for(D=1,O=new Array(j-1);D<j;D++)O[D-1]=arguments[D];S[A].fn.apply(S[A].context,O)}}return!0},l.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},l.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},l.prototype.removeListener=function(d,h,p,b){var y=n?n+d:d;if(!this._events[y])return this;if(!h)return o(this,y),this;var k=this._events[y];if(k.fn)k.fn===h&&(!b||k.once)&&(!p||k.context===p)&&o(this,y);else{for(var w=0,S=[],j=k.length;w<j;w++)(k[w].fn!==h||b&&!k[w].once||p&&k[w].context!==p)&&S.push(k[w]);S.length?this._events[y]=S.length===1?S[0]:S:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(XS)),XS.exports}var I_e=L_e();const $_e=Si(I_e);var hp=new $_e,wE="recharts.syncEvent.tooltip",yI="recharts.syncEvent.brush";function B_e(e,t){if(t){var n=Number.parseInt(t,10);if(!ao(n))return e?.[n]}}var z_e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},$U=ki({name:"options",initialState:z_e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),U_e=$U.reducer,{createEventEmitter:F_e}=$U.actions;function H_e(e){return e.tooltip.syncInteraction}var G_e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},BU=ki({name:"chartData",initialState:G_e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:vI,setDataStartEndIndexes:Y_e,setComputedData:MCe}=BU.actions,q_e=BU.reducer,K_e=["x","y"];function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(n),!0).forEach(function(r){W_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W_e(e,t,n){return(t=V_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V_e(e){var t=Z_e(e,"string");return typeof t=="symbol"?t:t+""}function Z_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X_e(e,t){if(e==null)return{};var n,r,i=J_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Q_e(){var e=rt(QA),t=rt(ej),n=yr(),r=rt(_z),i=rt(qs),a=Rp(),o=wx(),l=rt(u=>u.rootProps.className);_.useEffect(()=>{if(e==null)return Op;var u=(d,h,p)=>{if(t!==p&&e===d){if(r==="index"){var b;if(o&&h!==null&&h!==void 0&&(b=h.payload)!==null&&b!==void 0&&b.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:k,y:w}=y,S=X_e(y,K_e),{x:j,y:O,width:A,height:C}=h.payload.sourceViewBox,D=Cd(Cd({},S),{},{x:o.x+(A?(k-j)/A:0)*o.width,y:o.y+(C?(w-O)/C:0)*o.height});n(Cd(Cd({},h),{},{payload:Cd(Cd({},h.payload),{},{coordinate:D})}))}else n(h);return}if(i!=null){var P;if(typeof r=="function"){var I={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},U=r(i,I);P=i[U]}else r==="value"&&(P=i.find(Y=>String(Y.value)===h.payload.label));var{coordinate:K}=h.payload;if(P==null||h.payload.active===!1||K==null||o==null){n(yE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:H}=K,B=Math.min(q,o.x+o.width),W=Math.min(H,o.y+o.height),X={x:a==="horizontal"?P.coordinate:B,y:a==="horizontal"?W:P.coordinate},Z=yE({active:h.payload.active,coordinate:X,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Z)}}};return hp.on(wE,u),()=>{hp.off(wE,u)}},[l,n,t,e,r,i,a,o])}function e1e(){var e=rt(QA),t=rt(ej),n=yr();_.useEffect(()=>{if(e==null)return Op;var r=(i,a,o)=>{t!==o&&e===i&&n(Y_e(a))};return hp.on(yI,r),()=>{hp.off(yI,r)}},[n,t,e])}function t1e(){var e=yr();_.useEffect(()=>{e(F_e())},[e]),Q_e(),e1e()}function n1e(e,t,n,r,i,a){var o=rt(y=>l_e(y,e,t)),l=rt(ej),u=rt(QA),d=rt(_z),h=rt(H_e),p=h?.active,b=wx();_.useEffect(()=>{if(!p&&u!=null&&l!=null){var y=yE({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});hp.emit(wE,u,y,l)}},[p,n,o,i,r,l,u,d,a,b])}function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(r){r1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r1e(e,t,n){return(t=i1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i1e(e){var t=a1e(e,"string");return typeof t=="symbol"?t:t+""}function a1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o1e(e){return e.dataKey}function s1e(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(B0e,t)}var SI=[],l1e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function c1e(e){var t,n,r=Xi(e,l1e),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:d,isAnimationActive:h,offset:p,payloadUniqBy:b,position:y,reverseDirection:k,useTranslate3d:w,wrapperStyle:S,cursor:j,shared:O,trigger:A,defaultIndex:C,portal:D,axisId:P}=r,I=yr(),U=typeof C=="number"?String(C):C;_.useEffect(()=>{I(iwe({shared:O,trigger:A,axisId:P,active:i,defaultIndex:U}))},[I,O,A,P,i,U]);var K=wx(),q=y8(),H=Jxe(O),{activeIndex:B,isActive:W}=(t=rt(ye=>d_e(ye,H,A,U)))!==null&&t!==void 0?t:{},X=rt(ye=>u_e(ye,H,A,U)),Z=rt(ye=>RU(ye,H,A,U)),Y=rt(ye=>c_e(ye,H,A,U)),J=X,Q=R_e(),ce=(n=i??W)!==null&&n!==void 0?n:!1,[ae,z]=Ame([J,ce]),V=H==="axis"?Z:void 0;n1e(H,A,Y,V,B,ce);var ne=D??Q;if(ne==null||K==null||H==null)return null;var oe=J??SI;ce||(oe=SI),d&&oe.length&&(oe=Qhe(oe.filter(ye=>ye.value!=null&&(ye.hide!==!0||r.includeHidden)),b,o1e));var ue=oe.length>0,pe=_.createElement(q0e,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:ce,coordinate:Y,hasPayload:ue,offset:p,position:y,reverseDirection:k,useTranslate3d:w,viewBox:K,wrapperStyle:S,lastBoundingBox:ae,innerRef:z,hasPortalFromProps:!!D},s1e(u,_I(_I({},r),{},{payload:oe,label:V,active:ce,activeIndex:B,coordinate:Y,accessibilityLayer:q})));return _.createElement(_.Fragment,null,ju.createPortal(pe,ne),ce&&_.createElement(P_e,{cursor:j,tooltipEventType:H,coordinate:Y,payload:oe,index:B}))}function u1e(e,t,n){return(t=d1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d1e(e){var t=f1e(e,"string");return typeof t=="symbol"?t:t+""}function f1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class h1e{constructor(t){u1e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function kI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function m1e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(n),!0).forEach(function(r){p1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p1e(e,t,n){return(t=g1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g1e(e){var t=b1e(e,"string");return typeof t=="symbol"?t:t+""}function b1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y1e={cacheSize:2e3,enableCache:!0},zU=m1e({},y1e),EI=new h1e(zU.cacheSize),v1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TI="recharts_measurement_span";function x1e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var AI=(e,t)=>{try{var n=document.getElementById(TI);n||(n=document.createElement("span"),n.setAttribute("id",TI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,v1e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Pm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Cf.isSsr)return{width:0,height:0};if(!zU.enableCache)return AI(t,n);var r=x1e(t,n),i=EI.get(r);if(i)return i;var a=AI(t,n);return EI.set(r,a),a},jI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,w1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},S1e=Object.keys(UU),Fd="NaN";function k1e(e,t){return e*UU[t]}class bi{static parse(t){var n,[,r,i]=(n=_1e.exec(t))!==null&&n!==void 0?n:[];return new bi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ao(t)&&(this.unit=""),n!==""&&!w1e.test(n)&&(this.num=NaN,this.unit=""),S1e.includes(n)&&(this.num=k1e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new bi(NaN,""):new bi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new bi(NaN,""):new bi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new bi(NaN,""):new bi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new bi(NaN,""):new bi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ao(this.num)}}function FU(e){if(e.includes(Fd))return Fd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=jI.exec(t))!==null&&n!==void 0?n:[],o=bi.parse(r??""),l=bi.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Fd;t=t.replace(jI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,p,b]=(d=NI.exec(t))!==null&&d!==void 0?d:[],y=bi.parse(h??""),k=bi.parse(b??""),w=p==="+"?y.add(k):y.subtract(k);if(w.isNaN())return Fd;t=t.replace(NI,w.toString())}return t}var OI=/\(([^()]*)\)/;function E1e(e){for(var t=e,n;(n=OI.exec(t))!=null;){var[,r]=n;t=t.replace(OI,FU(r))}return t}function T1e(e){var t=e.replace(/\s+/g,"");return t=E1e(t),t=FU(t),t}function A1e(e){try{return T1e(e)}catch{return Fd}}function JS(e){var t=A1e(e.slice(5,-1));return t===Fd?"":t}var j1e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],N1e=["dx","dy","angle","className","breakAll"];function _E(){return _E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_E.apply(null,arguments)}function CI(e,t){if(e==null)return{};var n,r,i=O1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HU=/[ \f\n\r\t\v\u2028\u2029]+/,GU=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Cr(t)||(n?i=t.toString().split(""):i=t.toString().split(HU));var a=i.map(l=>({word:l,width:Pm(l,r).width})),o=n?0:Pm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function C1e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var YU=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(o),u.width+=l+n;else{var d={words:[o],width:l};i.push(d)}return i},[]),qU=e=>e.reduce((t,n)=>t.width>n.width?t:n),M1e="",MI=(e,t,n,r,i,a,o,l)=>{var u=e.slice(0,t),d=GU({breakAll:n,style:r,children:u+M1e});if(!d)return[!1,[]];var h=YU(d.wordsWithComputedWidth,a,o,l),p=h.length>i||qU(h).width>Number(a);return[p,h]},D1e=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,d=tt(a),h=String(o),p=YU(t,r,n,i);if(!d||i)return p;var b=p.length>a||qU(p).width>Number(r);if(!b)return p;for(var y=0,k=h.length-1,w=0,S;y<=k&&w<=h.length-1;){var j=Math.floor((y+k)/2),O=j-1,[A,C]=MI(h,O,u,l,a,r,n,i),[D]=MI(h,j,u,l,a,r,n,i);if(!A&&!D&&(y=j+1),A&&D&&(k=j-1),!A&&D){S=C;break}w++}return S||p},DI=e=>{var t=Cr(e)?[]:e.toString().split(HU);return[{words:t,width:void 0}]},P1e=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!Cf.isSsr){var l,u,d=GU({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:p}=d;l=h,u=p}else return DI(r);return D1e({breakAll:a,children:r,maxLines:o,style:i},l,u,t,!!n)}return DI(r)},KU="#808080",R1e={angle:0,breakAll:!1,capHeight:"0.71em",fill:KU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ej=_.forwardRef((e,t)=>{var n=Xi(e,R1e),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:h}=n,p=CI(n,j1e),b=_.useMemo(()=>P1e({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:y,dy:k,angle:w,className:S,breakAll:j}=p,O=CI(p,N1e);if(!zo(r)||!zo(i)||b.length===0)return null;var A=Number(r)+(tt(y)?y:0),C=Number(i)+(tt(k)?k:0);if(!Nn(A)||!Nn(C))return null;var D;switch(h){case"start":D=JS("calc(".concat(o,")"));break;case"middle":D=JS("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:D=JS("calc(".concat(b.length-1," * -").concat(a,")"));break}var P=[];if(u){var I=b[0].width,{width:U}=p;P.push("scale(".concat(tt(U)&&tt(I)?U/I:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(A,", ").concat(C,")")),P.length&&(O.transform=P.join(" ")),_.createElement("text",_E({},Ea(O),{ref:t,x:A,y:C,className:an("recharts-text",S),textAnchor:d,fill:l.includes("url")?KU:l}),b.map((K,q)=>{var H=K.words.join(j?"":" ");return _.createElement("tspan",{x:A,dy:q===0?D:a,key:"".concat(H,"-").concat(q)},H)}))});Ej.displayName="Text";var L1e=["labelRef"];function I1e(e,t){if(e==null)return{};var n,r,i=$1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function PI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(n),!0).forEach(function(r){B1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B1e(e,t,n){return(t=z1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z1e(e){var t=U1e(e,"string");return typeof t=="symbol"?t:t+""}function U1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_s.apply(null,arguments)}var WU=_.createContext(null),F1e=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=e,u=_.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return _.createElement(WU.Provider,{value:u},l)},VU=()=>{var e=_.useContext(WU),t=wx();return e||s8(t)},H1e=_.createContext(null),G1e=()=>{var e=_.useContext(H1e),t=rt(Az);return e||t},Y1e=e=>{var{value:t,formatter:n}=e,r=Cr(e.children)?t:e.children;return typeof n=="function"?n(r):r},Tj=e=>e!=null&&typeof e=="function",q1e=(e,t)=>{var n=xa(t-e),r=Math.min(Math.abs(t-e),360);return n*r},K1e=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:d,outerRadius:h,startAngle:p,endAngle:b,clockWise:y}=i,k=(d+h)/2,w=q1e(p,b),S=w>=0?1:-1,j,O;switch(t){case"insideStart":j=p+S*a,O=y;break;case"insideEnd":j=b-S*a,O=!y;break;case"end":j=b+S*a,O=y;break;default:throw new Error("Unsupported position ".concat(t))}O=w<=0?O:!O;var A=Or(l,u,k,j),C=Or(l,u,k,j+(O?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),P=Cr(e.id)?Qm("recharts-radial-line-"):e.id;return _.createElement("text",_s({},r,{dominantBaseline:"central",className:an("recharts-radial-bar-label",o)}),_.createElement("defs",null,_.createElement("path",{id:P,d:D})),_.createElement("textPath",{xlinkHref:"#".concat(P)},n))},W1e=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(n==="outside"){var{x:h,y:p}=Or(r,i,o+t,d);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+o)/2,{x:y,y:k}=Or(r,i,b,d);return{x:y,y:k,textAnchor:"middle",verticalAnchor:"middle"}},SE=e=>"cx"in e&&tt(e.cx),V1e=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!SE(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:d,height:h}=t,p=o,b=o+(u-d)/2,y=(p+b)/2,k=(u+d)/2,w=p+u/2,S=h>=0?1:-1,j=S*r,O=S>0?"end":"start",A=S>0?"start":"end",C=u>=0?1:-1,D=C*r,P=C>0?"end":"start",I=C>0?"start":"end";if(i==="top"){var U={x:p+u/2,y:l-j,textAnchor:"middle",verticalAnchor:O};return Dn(Dn({},U),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var K={x:b+d/2,y:l+h+j,textAnchor:"middle",verticalAnchor:A};return Dn(Dn({},K),a?{height:Math.max(a.y+a.height-(l+h),0),width:d}:{})}if(i==="left"){var q={x:y-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"};return Dn(Dn({},q),a?{width:Math.max(q.x-a.x,0),height:h}:{})}if(i==="right"){var H={x:y+k+D,y:l+h/2,textAnchor:I,verticalAnchor:"middle"};return Dn(Dn({},H),a?{width:Math.max(a.x+a.width-H.x,0),height:h}:{})}var B=a?{width:k,height:h}:{};return i==="insideLeft"?Dn({x:y+D,y:l+h/2,textAnchor:I,verticalAnchor:"middle"},B):i==="insideRight"?Dn({x:y+k-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"},B):i==="insideTop"?Dn({x:p+u/2,y:l+j,textAnchor:"middle",verticalAnchor:A},B):i==="insideBottom"?Dn({x:b+d/2,y:l+h-j,textAnchor:"middle",verticalAnchor:O},B):i==="insideTopLeft"?Dn({x:p+D,y:l+j,textAnchor:I,verticalAnchor:A},B):i==="insideTopRight"?Dn({x:p+u-D,y:l+j,textAnchor:P,verticalAnchor:A},B):i==="insideBottomLeft"?Dn({x:b+D,y:l+h-j,textAnchor:I,verticalAnchor:O},B):i==="insideBottomRight"?Dn({x:b+d-D,y:l+h-j,textAnchor:P,verticalAnchor:O},B):i&&typeof i=="object"&&(tt(i.x)||Ds(i.x))&&(tt(i.y)||Ds(i.y))?Dn({x:o+Zl(i.x,k),y:l+Zl(i.y,h),textAnchor:"end",verticalAnchor:"end"},B):Dn({x:w,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Z1e={angle:0,offset:5,zIndex:Xr.label,position:"middle",textBreakAll:!1};function Dl(e){var t=Xi(e,Z1e),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:d}=t,h=G1e(),p=VU(),b=r==="center"?p:h??p,y,k,w;if(n==null?y=b:SE(n)?y=n:y=s8(n),!y||Cr(i)&&Cr(a)&&!_.isValidElement(o)&&typeof o!="function")return null;var S=Dn(Dn({},t),{},{viewBox:y});if(_.isValidElement(o)){var{labelRef:j}=S,O=I1e(S,L1e);return _.cloneElement(o,O)}if(typeof o=="function"){if(k=_.createElement(o,S),_.isValidElement(k))return k}else k=Y1e(t);var A=Ea(t);if(SE(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return K1e(t,r,k,A,y);w=W1e(y,t.offset,t.position)}else w=V1e(t,y);return _.createElement(Ks,{zIndex:t.zIndex},_.createElement(Ej,_s({ref:d,className:an("recharts-label",l)},A,w,{textAnchor:C1e(A.textAnchor)?A.textAnchor:w.textAnchor,breakAll:u}),k))}Dl.displayName="Label";var X1e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?_.createElement(Dl,_s({key:"label-implicit"},r)):zo(e)?_.createElement(Dl,_s({key:"label-implicit",value:e},r)):_.isValidElement(e)?e.type===Dl?_.cloneElement(e,Dn({key:"label-implicit"},r)):_.createElement(Dl,_s({key:"label-implicit",content:e},r)):Tj(e)?_.createElement(Dl,_s({key:"label-implicit",content:e},r)):e&&typeof e=="object"?_.createElement(Dl,_s({},e,{key:"label-implicit"},r)):null};function J1e(e){var{label:t,labelRef:n}=e,r=VU();return X1e(t,r,n)||null}var QS={},ek={},RI;function Q1e(){return RI||(RI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(ek)),ek}var tk={},LI;function eSe(){return LI||(LI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(tk)),tk}var II;function tSe(){return II||(II=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q1e(),n=eSe(),r=mA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(QS)),QS}var nk,$I;function nSe(){return $I||($I=1,nk=tSe().last),nk}var rSe=nSe();const iSe=Si(rSe);var aSe=["valueAccessor"],oSe=["dataKey","clockWise","id","textBreakAll","zIndex"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mv.apply(null,arguments)}function BI(e,t){if(e==null)return{};var n,r,i=sSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lSe=e=>Array.isArray(e.value)?iSe(e.value):e.value,ZU=_.createContext(void 0),cSe=ZU.Provider,XU=_.createContext(void 0);XU.Provider;function uSe(){return _.useContext(ZU)}function dSe(){return _.useContext(XU)}function Vb(e){var{valueAccessor:t=lSe}=e,n=BI(e,aSe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=BI(n,oSe),d=uSe(),h=dSe(),p=d||h;return!p||!p.length?null:_.createElement(Ks,{zIndex:l??Xr.label},_.createElement(Bo,{className:"recharts-label-list"},p.map((b,y)=>{var k,w=Cr(r)?t(b,y):Fr(b&&b.payload,r),S=Cr(a)?{}:{id:"".concat(a,"-").concat(y)};return _.createElement(Dl,mv({key:"label-".concat(y)},Ea(b),u,S,{fill:(k=n.fill)!==null&&k!==void 0?k:b.fill,parentViewBox:b.parentViewBox,value:w,textBreakAll:o,viewBox:b.viewBox,index:y,zIndex:0}))})))}Vb.displayName="LabelList";function fSe(e){var{label:t}=e;return t?t===!0?_.createElement(Vb,{key:"labelList-implicit"}):_.isValidElement(t)||Tj(t)?_.createElement(Vb,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(Vb,mv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kE.apply(null,arguments)}var JU=e=>{var{cx:t,cy:n,r,className:i}=e,a=an("recharts-dot",i);return tt(t)&&tt(n)&&tt(r)?_.createElement("circle",kE({},io(e),hA(e),{className:a,cx:t,cy:n,r})):null},hSe={radiusAxis:{},angleAxis:{}},QU=ki({name:"polarAxis",initialState:hSe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:DCe,removeRadiusAxis:PCe,addAngleAxis:RCe,removeAngleAxis:LCe}=QU.actions,mSe=QU.reducer,rk={exports:{}},$t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zI;function pSe(){if(zI)return $t;zI=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,b=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,k=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,j=e?Symbol.for("react.responder"):60118,O=e?Symbol.for("react.scope"):60119;function A(D){if(typeof D=="object"&&D!==null){var P=D.$$typeof;switch(P){case t:switch(D=D.type,D){case u:case d:case r:case a:case i:case p:return D;default:switch(D=D&&D.$$typeof,D){case l:case h:case k:case y:case o:return D;default:return P}}case n:return P}}}function C(D){return A(D)===d}return $t.AsyncMode=u,$t.ConcurrentMode=d,$t.ContextConsumer=l,$t.ContextProvider=o,$t.Element=t,$t.ForwardRef=h,$t.Fragment=r,$t.Lazy=k,$t.Memo=y,$t.Portal=n,$t.Profiler=a,$t.StrictMode=i,$t.Suspense=p,$t.isAsyncMode=function(D){return C(D)||A(D)===u},$t.isConcurrentMode=C,$t.isContextConsumer=function(D){return A(D)===l},$t.isContextProvider=function(D){return A(D)===o},$t.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},$t.isForwardRef=function(D){return A(D)===h},$t.isFragment=function(D){return A(D)===r},$t.isLazy=function(D){return A(D)===k},$t.isMemo=function(D){return A(D)===y},$t.isPortal=function(D){return A(D)===n},$t.isProfiler=function(D){return A(D)===a},$t.isStrictMode=function(D){return A(D)===i},$t.isSuspense=function(D){return A(D)===p},$t.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===d||D===a||D===i||D===p||D===b||typeof D=="object"&&D!==null&&(D.$$typeof===k||D.$$typeof===y||D.$$typeof===o||D.$$typeof===l||D.$$typeof===h||D.$$typeof===S||D.$$typeof===j||D.$$typeof===O||D.$$typeof===w)},$t.typeOf=A,$t}var UI;function gSe(){return UI||(UI=1,rk.exports=pSe()),rk.exports}gSe();var eF=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function bSe(e){var{tooltipEntrySettings:t}=e,n=yr(),r=Ei(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(twe(t)):i.current!==t&&n(nwe({prev:i.current,next:t})),i.current=t)},[t,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(rwe(i.current)),i.current=null)},[n]),null}function ySe(e){var{legendPayload:t}=e,n=yr(),r=Ei(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(C0e(t)):i.current!==t&&n(M0e({prev:i.current,next:t})),i.current=t)},[n,r,t]),_.useLayoutEffect(()=>()=>{i.current&&(n(D0e(i.current)),i.current=null)},[n]),null}var ik,vSe=()=>{var[e]=_.useState(()=>Qm("uid-"));return e},xSe=(ik=tY.useId)!==null&&ik!==void 0?ik:vSe;function tF(e,t){var n=xSe();return t||(e?"".concat(e,"-").concat(n):n)}var wSe=_.createContext(void 0),_Se=e=>{var{id:t,type:n,children:r}=e,i=tF("recharts-".concat(n),t);return _.createElement(wSe.Provider,{value:i},r(i))},SSe={cartesianItems:[],polarItems:[]},nF=ki({name:"graphicalItems",initialState:SSe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:dn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=eo(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:dn()},removeCartesianGraphicalItem:{reducer(e,t){var n=eo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:dn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:dn()},removePolarGraphicalItem:{reducer(e,t){var n=eo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:dn()}}}),{addCartesianGraphicalItem:kSe,replaceCartesianGraphicalItem:ESe,removeCartesianGraphicalItem:TSe,addPolarGraphicalItem:ICe,removePolarGraphicalItem:$Ce}=nF.actions,ASe=nF.reducer,jSe=e=>{var t=yr(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(kSe(e)):n.current!==e&&t(ESe({prev:n.current,next:e})),n.current=e},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(t(TSe(n.current)),n.current=null)},[t]),null},NSe=_.memo(jSe),OSe=["points"];function FI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ak(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(n),!0).forEach(function(r){CSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CSe(e,t,n){return(t=MSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MSe(e){var t=DSe(e,"string");return typeof t=="symbol"?t:t+""}function DSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pv.apply(null,arguments)}function PSe(e,t){if(e==null)return{};var n,r,i=RSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function LSe(e){var{option:t,dotProps:n,className:r}=e;if(_.isValidElement(t))return _.cloneElement(t,n);if(typeof t=="function")return t(n);var i=an(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,l=PSe(a,OSe);return _.createElement(JU,pv({},l,{className:i}))}function ISe(e,t){return e==null?!1:t?!0:e.length===1}function $Se(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:d=Xr.scatter}=e;if(!ISe(t,n))return null;var h=eF(n),p=Kfe(n),b=t.map((k,w)=>{var S,j,O=ak(ak(ak({r:3},o),p),{},{index:w,cx:(S=k.x)!==null&&S!==void 0?S:void 0,cy:(j=k.y)!==null&&j!==void 0?j:void 0,dataKey:a,value:k.value,payload:k.payload,points:t});return _.createElement(LSe,{key:"dot-".concat(w),option:n,dotProps:O,className:i})}),y={};return l&&u!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),_.createElement(Ks,{zIndex:d},_.createElement(Bo,pv({className:r},y),b))}function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(r){BSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BSe(e,t,n){return(t=zSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zSe(e){var t=USe(e,"string");return typeof t=="symbol"?t:t+""}function USe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FSe={xAxis:{},yAxis:{},zAxis:{}},rF=ki({name:"cartesianAxis",initialState:FSe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:dn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:dn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:dn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:dn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:dn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:dn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:dn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:dn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:dn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=GI(GI({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:HSe,replaceXAxis:GSe,removeXAxis:YSe,addYAxis:qSe,replaceYAxis:KSe,removeYAxis:WSe,addZAxis:BCe,replaceZAxis:zCe,removeZAxis:UCe,updateYAxisWidth:VSe}=rF.actions,ZSe=rF.reducer,XSe=we([Pr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),JSe=we([XSe,Us,Fs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Aj=()=>rt(JSe),QSe=()=>rt(Vwe);function YI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ok(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(n),!0).forEach(function(r){eke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eke(e,t,n){return(t=tke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tke(e){var t=nke(e,"string");return typeof t=="symbol"?t:t+""}function nke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rke=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=ok(ok(ok({},l),ix(i)),hA(i)),d;return _.isValidElement(i)?d=_.cloneElement(i,u):typeof i=="function"?d=i(u):d=_.createElement(JU,u),_.createElement(Bo,{className:"recharts-active-dot",clipPath:o},d)};function qI(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Xr.activeDot}=e,l=rt(fp),u=QSe();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return Cr(d)?null:_.createElement(Ks,{zIndex:o},_.createElement(rke,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var ike={},iF=ki({name:"errorBars",initialState:ike,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:FCe,replaceErrorBar:HCe,removeErrorBar:GCe}=iF.actions,ake=iF.reducer;function aF(e,t){var n,r,i=rt(d=>Gs(d,e)),a=rt(d=>Ys(d,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:dr.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:fr.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function oke(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Aj(),{needClipX:a,needClipY:o,needClip:l}=aF(t,n);if(!l||!i)return null;var{x:u,y:d,width:h,height:p}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:a?u:u-h/2,y:o?d:d-p/2,width:a?h:h*2,height:o?p:p*2}))}var ske=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function lke(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function jj(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(ske.has(r)){if(e[r]==null&&t[r]==null)continue;if(!zb(e[r],t[r]))return!1}else if(!lke(e[r],t[r]))return!1;return!0}var cke=e=>{var{chartData:t}=e,n=yr(),r=Ei();return _.useEffect(()=>r?()=>{}:(n(vI(t)),()=>{n(vI(void 0))}),[t,n,r]),null},KI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},oF=ki({name:"brush",initialState:KI,reducers:{setBrushSettings(e,t){return t.payload==null?KI:t.payload}}}),{setBrushSettings:YCe}=oF.actions,uke=oF.reducer;function dke(e,t,n){return(t=fke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fke(e){var t=hke(e,"string");return typeof t=="symbol"?t:t+""}function hke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Nj{static create(t){return new Nj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}dke(Nj,"EPS",1e-4);function mke(e){return(e%180+180)%180}var pke=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=mke(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},gke={dots:[],areas:[],lines:[]},sF=ki({name:"referenceElements",initialState:gke,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=eo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=eo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=eo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:qCe,removeDot:KCe,addArea:WCe,removeArea:VCe,addLine:ZCe,removeLine:XCe}=sF.actions,bke=sF.reducer,yke=_.createContext(void 0),vke=e=>{var{children:t}=e,[n]=_.useState("".concat(Qm("recharts"),"-clip")),r=Aj();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return _.createElement(yke.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function lF(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function xke(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return pke(r,n)}function wke(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function gv(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function _ke(e,t){return lF(e,t+1)}function Ske(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=t,u=0,d=1,h=o,p=function(){var k=r?.[u];if(k===void 0)return{v:lF(r,d)};var w=u,S,j=()=>(S===void 0&&(S=n(k,w)),S),O=k.coordinate,A=u===0||gv(e,O,j,h,l);A||(u=0,h=o,d+=1),A&&(h=O+e*(j()/2+i),u+=d)},b;d<=a.length;)if(b=p(),b)return b.v;return[]}function WI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(n),!0).forEach(function(r){kke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kke(e,t,n){return(t=Eke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eke(e){var t=Tke(e,"string");return typeof t=="symbol"?t:t+""}function Tke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ake(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,d=function(b){var y=a[b],k,w=()=>(k===void 0&&(k=n(y,b)),k);if(b===o-1){var S=e*(y.coordinate+e*w()/2-u);a[b]=y=zr(zr({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else a[b]=y=zr(zr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var j=gv(e,y.tickCoord,w,l,u);j&&(u=y.tickCoord-e*(w()/2+i),a[b]=zr(zr({},y),{},{isShow:!0}))}},h=o-1;h>=0;h--)d(h);return a}function jke(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:d}=t;if(a){var h=r[l-1],p=n(h,l-1),b=e*(h.coordinate+e*p/2-d);if(o[l-1]=h=zr(zr({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate}),h.tickCoord!=null){var y=gv(e,h.tickCoord,()=>p,u,d);y&&(d=h.tickCoord-e*(p/2+i),o[l-1]=zr(zr({},h),{},{isShow:!0}))}}for(var k=a?l-1:l,w=function(O){var A=o[O],C,D=()=>(C===void 0&&(C=n(A,O)),C);if(O===0){var P=e*(A.coordinate-e*D()/2-u);o[O]=A=zr(zr({},A),{},{tickCoord:P<0?A.coordinate-P*e:A.coordinate})}else o[O]=A=zr(zr({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var I=gv(e,A.tickCoord,D,u,d);I&&(u=A.tickCoord+e*(D()/2+i),o[O]=zr(zr({},A),{},{isShow:!0}))}},S=0;S<k;S++)w(S);return o}function Oj(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(tt(u)||Cf.isSsr){var b;return(b=_ke(i,tt(u)?u:0))!==null&&b!==void 0?b:[]}var y=[],k=l==="top"||l==="bottom"?"width":"height",w=h&&k==="width"?Pm(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(A,C)=>{var D=typeof d=="function"?d(A.value,C):A.value;return k==="width"?xke(Pm(D,{fontSize:t,letterSpacing:n}),w,p):Pm(D,{fontSize:t,letterSpacing:n})[k]},j=i.length>=2?xa(i[1].coordinate-i[0].coordinate):1,O=wke(a,j,k);return u==="equidistantPreserveStart"?Ske(j,O,S,i,o):(u==="preserveStart"||u==="preserveStartEnd"?y=jke(j,O,S,i,o,u==="preserveStartEnd"):y=Ake(j,O,S,i,o),y.filter(A=>A.isShow))}var Nke=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,d=o+u+l+(n?r:0);return Math.round(d)}return 0},Oke=["axisLine","width","height","className","hide","ticks","axisType"];function Cke(e,t){if(e==null)return{};var n,r,i=Mke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ku.apply(null,arguments)}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){Dke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dke(e,t,n){return(t=Pke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pke(e){var t=Rke(e,"string");return typeof t=="symbol"?t:t+""}function Rke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ns={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Xr.axis};function Lke(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=qn(qn(qn({},u),io(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);d=qn(qn({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);d=qn(qn({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return _.createElement("line",ku({},d,{className:an("recharts-cartesian-axis-line",sx(l,"className"))}))}function Ike(e,t,n,r,i,a,o,l,u){var d,h,p,b,y,k,w=l?-1:1,S=e.tickSize||o,j=tt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,b=n+ +!l*i,p=b-w*S,k=p-w*u,y=j;break;case"left":p=b=e.coordinate,h=t+ +!l*r,d=h-w*S,y=d-w*u,k=j;break;case"right":p=b=e.coordinate,h=t+ +l*r,d=h+w*S,y=d+w*u,k=j;break;default:d=h=e.coordinate,b=n+ +l*i,p=b+w*S,k=p+w*u,y=j;break}return{line:{x1:d,y1:p,x2:h,y2:b},tick:{x:y,y:k}}}function $ke(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Bke(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function zke(e){var{option:t,tickProps:n,value:r}=e,i,a=an(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,qn(qn({},n),{},{className:a}));else if(typeof t=="function")i=t(qn(qn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=an(o,t?.className)),i=_.createElement(Ej,ku({},n,{className:o}),r)}return i}var Uke=_.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:h,mirror:p,x:b,y,width:k,height:w,tickSize:S,tickMargin:j,fontSize:O,letterSpacing:A,getTicksConfig:C,events:D,axisType:P}=e,I=Oj(qn(qn({},C),{},{ticks:n}),O,A),U=$ke(h,p),K=Bke(h,p),q=io(C),H=ix(r),B={};typeof i=="object"&&(B=i);var W=qn(qn({},q),{},{fill:"none"},B),X=I.map(J=>qn({entry:J},Ike(J,b,y,k,w,h,S,p,j))),Z=X.map(J=>{var{entry:Q,line:ce}=J;return _.createElement(Bo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},i&&_.createElement("line",ku({},W,ce,{className:an("recharts-cartesian-axis-tick-line",sx(i,"className"))})))}),Y=X.map((J,Q)=>{var{entry:ce,tick:ae}=J,z=qn(qn(qn(qn({textAnchor:U,verticalAnchor:K},q),{},{stroke:"none",fill:a},H),ae),{},{index:Q,payload:ce,visibleTicksCount:I.length,tickFormatter:o,padding:u},d);return _.createElement(Bo,ku({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},Nhe(D,ce,Q)),r&&_.createElement(zke,{option:r,tickProps:z,value:"".concat(typeof o=="function"?o(ce.value,Q):ce.value).concat(l||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},Y.length>0&&_.createElement(Ks,{zIndex:Xr.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},Y)),Z.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},Z))}),Fke=_.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=e,d=Cke(e,Oke),[h,p]=_.useState(""),[b,y]=_.useState(""),k=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return Nke({ticks:k.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=_.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");k.current=j;var O=j[0];if(O){var A=window.getComputedStyle(O),C=A.fontSize,D=A.letterSpacing;(C!==h||D!==b)&&(p(C),y(D))}}},[h,b]);return o||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(Ks,{zIndex:e.zIndex},_.createElement(Bo,{className:an("recharts-cartesian-axis",a)},_.createElement(Lke,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:io(e)}),_.createElement(Uke,{ref:w,axisType:u,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(F1e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(J1e,{label:e.label,labelRef:e.labelRef}),e.children)))}),Cj=_.forwardRef((e,t)=>{var n=Xi(e,Ns);return _.createElement(Fke,ku({},n,{ref:t}))});Cj.displayName="CartesianAxis";var Hke=["x1","y1","x2","y2","key"],Gke=["offset"],Yke=["xAxisId","yAxisId"],qke=["xAxisId","yAxisId"];function ZI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(n),!0).forEach(function(r){Kke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kke(e,t,n){return(t=Wke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wke(e){var t=Vke(e,"string");return typeof t=="symbol"?t:t+""}function Vke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},du.apply(null,arguments)}function bv(e,t){if(e==null)return{};var n,r,i=Zke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xke=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=e;return _.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function cF(e){var{option:t,lineItemProps:n}=e,r;if(_.isValidElement(t))r=_.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:d}=n,h=bv(n,Hke),p=(i=io(h))!==null&&i!==void 0?i:{},{offset:b}=p,y=bv(p,Gke);r=_.createElement("line",du({},y,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:d}))}return r}function Jke(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=bv(e,Yke),u=i.map((d,h)=>{var p=Ur(Ur({},l),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return _.createElement(cF,{key:"line-".concat(h),option:r,lineItemProps:p})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Qke(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=bv(e,qke),u=i.map((d,h)=>{var p=Ur(Ur({},l),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return _.createElement(cF,{option:r,lineItemProps:p,key:"line-".concat(h)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function e2e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var y=!d[b+1],k=y?i+o-p:d[b+1]-p;if(k<=0)return null;var w=b%t.length;return _.createElement("rect",{key:"react-".concat(b),y:p,x:r,height:k,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function t2e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var y=!d[b+1],k=y?i+o-p:d[b+1]-p;if(k<=0)return null;var w=b%n.length;return _.createElement("rect",{key:"react-".concat(b),x:p,y:a,width:k,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var n2e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return Q9(Oj(Ur(Ur(Ur({},Ns),n),{},{ticks:e8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},r2e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return Q9(Oj(Ur(Ur(Ur({},Ns),n),{},{ticks:e8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},i2e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Xr.grid};function uF(e){var t=c8(),n=u8(),r=l8(),i=Ur(Ur({},Xi(e,i2e)),{},{x:tt(e.x)?e.x:r.left,y:tt(e.y)?e.y:r.top,width:tt(e.width)?e.width:r.width,height:tt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:d,height:h,syncWithTicks:p,horizontalValues:b,verticalValues:y}=i,k=Ei(),w=rt(K=>sI(K,"xAxis",a,k)),S=rt(K=>sI(K,"yAxis",o,k));if(!Uo(d)||!Uo(h)||!tt(l)||!tt(u))return null;var j=i.verticalCoordinatesGenerator||n2e,O=i.horizontalCoordinatesGenerator||r2e,{horizontalPoints:A,verticalPoints:C}=i;if((!A||!A.length)&&typeof O=="function"){var D=b&&b.length,P=O({yAxis:S?Ur(Ur({},S),{},{ticks:D?b:S.ticks}):void 0,width:t??d,height:n??h,offset:r},D?!0:p);qy(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!C||!C.length)&&typeof j=="function"){var I=y&&y.length,U=j({xAxis:w?Ur(Ur({},w),{},{ticks:I?y:w.ticks}):void 0,width:t??d,height:n??h,offset:r},I?!0:p);qy(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(C=U)}return _.createElement(Ks,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Xke,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(e2e,du({},i,{horizontalPoints:A})),_.createElement(t2e,du({},i,{verticalPoints:C})),_.createElement(Jke,du({},i,{offset:r,horizontalPoints:A,xAxis:w,yAxis:S})),_.createElement(Qke,du({},i,{offset:r,verticalPoints:C,xAxis:w,yAxis:S}))))}uF.displayName="CartesianGrid";function a2e(e){var t=ix(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var dF=(e,t,n,r)=>dU(e,"xAxis",t,r),fF=(e,t,n,r)=>uU(e,"xAxis",t,r),hF=(e,t,n,r)=>dU(e,"yAxis",n,r),mF=(e,t,n,r)=>uU(e,"yAxis",n,r),o2e=we([Qt,dF,hF,fF,mF],(e,t,n,r,i)=>zs(e,"xAxis")?Yy(t,r,!1):Yy(n,i,!1)),s2e=(e,t,n,r,i)=>i,pF=we([Dz,s2e],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),l2e=(e,t,n,r,i)=>{var a,o=pF(e,t,n,r,i);if(o!=null){var l=Qt(e),u=zs(l,"xAxis"),d;if(u?d=bE(e,"yAxis",n,r):d=bE(e,"xAxis",t,r),d!=null){var{stackId:h}=o,p=ij(o);if(!(h==null||p==null)){var b=(a=d[h])===null||a===void 0?void 0:a.stackedData;return b?.find(y=>y.key===p)}}}},c2e=we([Qt,dF,hF,fF,mF,l2e,VA,o2e,pF,qve],(e,t,n,r,i,a,o,l,u,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:b}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:y}=u,k;if(y&&y.length>0?k=y:k=h?.slice(p,b+1),k!=null)return j2e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:k,chartBaseValue:d,bandSize:l})}}),u2e=["id"],d2e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bu.apply(null,arguments)}function gF(e,t){if(e==null)return{};var n,r,i=f2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(n),!0).forEach(function(r){h2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h2e(e,t,n){return(t=m2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m2e(e){var t=p2e(e,"string");return typeof t=="symbol"?t:t+""}function p2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yv(e,t){return e&&e!=="none"?e:t}var g2e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:yv(r,i),value:t8(n,t),payload:e}]},b2e=_.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:t8(o,t),hide:l,type:d,color:yv(r,a),unit:u}};return _.createElement(bSe,{tooltipEntrySettings:h})});function y2e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,l=io(r);return _.createElement($Se,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:t})}function v2e(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Hd(Hd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return _.createElement(cSe,{value:t?i:void 0},n)}function JI(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:l,stroke:u,connectNulls:d,isRange:h}=a,{id:p}=a,b=gF(a,u2e),y=io(b),k=Ea(b);return _.createElement(_.Fragment,null,t?.length>1&&_.createElement(Bo,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(Kb,bu({},k,{id:p,points:t,connectNulls:d,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&_.createElement(Kb,bu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&h&&_.createElement(Kb,bu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:n}))),_.createElement(y2e,{points:t,props:b,clipPathId:i}))}function x2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!Nn(a)||!Nn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.x||0));return tt(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.x||0),u)),tt(u)?_.createElement("rect",{x:0,y:a<o?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function w2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!Nn(a)||!Nn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.y||0));return tt(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.y||0),u)),tt(u)?_.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function _2e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?_.createElement(x2e,{alpha:t,points:r,baseLine:i,strokeWidth:a}):_.createElement(w2e,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function S2e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:p,onAnimationStart:b,onAnimationEnd:y}=r,k=_.useMemo(()=>({points:o,baseLine:l}),[o,l]),w=S8(k,"recharts-area-"),S=b0e(),[j,O]=_.useState(!1),A=!j,C=_.useCallback(()=>{typeof y=="function"&&y(),O(!1)},[y]),D=_.useCallback(()=>{typeof b=="function"&&b(),O(!0)},[b]);if(S==null)return null;var P=i.current,I=a.current;return _.createElement(v2e,{showLabels:A,points:o},r.children,_.createElement(_8,{animationId:w,begin:d,duration:h,isActive:u,easing:p,onAnimationEnd:C,onAnimationStart:D,key:w},U=>{if(P){var K=P.length/o.length,q=U===1?o:o.map((B,W)=>{var X=Math.floor(W*K);if(P[X]){var Z=P[X];return Hd(Hd({},B),{},{x:Do(Z.x,B.x,U),y:Do(Z.y,B.y,U)})}return B}),H;return tt(l)?H=Do(I,l,U):Cr(l)||ao(l)?H=Do(I,0,U):H=l.map((B,W)=>{var X=Math.floor(W*K);if(Array.isArray(I)&&I[X]){var Z=I[X];return Hd(Hd({},B),{},{x:Do(Z.x,B.x,U),y:Do(Z.y,B.y,U)})}return B}),U>0&&(i.current=q,a.current=H),_.createElement(JI,{points:q,baseLine:H,needClip:t,clipPathId:n,props:r})}return U>0&&(i.current=o,a.current=l),_.createElement(Bo,null,u&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(_2e,{alpha:U,points:o,baseLine:l,layout:S,strokeWidth:r.strokeWidth}))),_.createElement(Bo,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(JI,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),_.createElement(fSe,{label:r.label}))}function k2e(e){var{needClip:t,clipPathId:n,props:r}=e,i=_.useRef(null),a=_.useRef();return _.createElement(S2e,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class E2e extends _.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:d,width:h,height:p,id:b,baseLine:y,zIndex:k}=this.props;if(t)return null;var w=an("recharts-area",i),S=b,{r:j,strokeWidth:O}=a2e(n),A=eF(n),C=j*2+O,D=l?"url(#clipPath-".concat(A?"":"dots-").concat(S,")"):void 0;return _.createElement(Ks,{zIndex:k},_.createElement(Bo,{className:w},l&&_.createElement("defs",null,_.createElement(oke,{clipPathId:S,xAxisId:u,yAxisId:d}),!A&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:o-C/2,y:a-C/2,width:h+C,height:p+C}))),_.createElement(k2e,{needClip:l,clipPathId:S,props:this.props})),_.createElement(qI,{points:r,mainColor:yv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(y)&&_.createElement(qI,{points:y,mainColor:yv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var bF={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Xr.area};function T2e(e){var t,n=Xi(e,bF),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:d,fillOpacity:h,hide:p,isAnimationActive:b,legendType:y,stroke:k,xAxisId:w,yAxisId:S}=n,j=gF(n,d2e),O=Rp(),A=MU(),{needClip:C}=aF(w,S),D=Ei(),{points:P,isRange:I,baseLine:U}=(t=rt(X=>c2e(X,w,S,D,e.id)))!==null&&t!==void 0?t:{},K=Aj();if(O!=="horizontal"&&O!=="vertical"||K==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:q,width:H,x:B,y:W}=K;return!P||!P.length?null:_.createElement(E2e,bu({},j,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:U,connectNulls:l,dot:u,fill:d,fillOpacity:h,height:q,hide:p,layout:O,isAnimationActive:b==="auto"?!Cf.isSsr:b,isRange:I,legendType:y,needClip:C,points:P,stroke:k,width:H,left:B,top:W,xAxisId:w,yAxisId:S}))}var A2e=(e,t,n,r,i)=>{var a=n??t;if(tt(a))return a;var o=e==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function j2e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:h,xAxisTicks:p,yAxisTicks:b,bandSize:y}=e,k=i&&i.length,w=A2e(a,o,n,l,u),S=a==="horizontal",j=!1,O=d.map((C,D)=>{var P;k?P=i[h+D]:(P=Fr(C,r),Array.isArray(P)?j=!0:P=[w,P]);var I=P[1]==null||k&&!t&&Fr(C,r)==null;return S?{x:O3({axis:l,ticks:p,bandSize:y,entry:C,index:D}),y:I?null:u.scale(P[1]),value:P,payload:C}:{x:I?null:l.scale(P[1]),y:O3({axis:u,ticks:b,bandSize:y,entry:C,index:D}),value:P,payload:C}}),A;return k||j?A=O.map(C=>{var D=Array.isArray(C.value)?C.value[0]:null;return S?{x:C.x,y:D!=null&&C.y!=null?u.scale(D):null,payload:C.payload}:{x:D!=null?l.scale(D):null,y:C.y,payload:C.payload}}):A=S?u.scale(w):l.scale(w),{points:O,baseLine:A,isRange:j}}function N2e(e){var t=Xi(e,bF),n=Ei();return _.createElement(_Se,{id:t.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(ySe,{legendPayload:g2e(t)}),_.createElement(b2e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),_.createElement(NSe,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Dpe(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),_.createElement(T2e,bu({},t,{id:r}))))}var yF=_.memo(N2e,jj);yF.displayName="Area";var O2e=["domain","range"],C2e=["domain","range"];function QI(e,t){if(e==null)return{};var n,r,i=M2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function M2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function e5(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function vF(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=QI(e,O2e),{domain:a,range:o}=t,l=QI(t,C2e);return!e5(n,a)||!e5(r,o)?!1:jj(i,l)}var D2e=["dangerouslySetInnerHTML","ticks"],P2e=["id"];function EE(){return EE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EE.apply(null,arguments)}function t5(e,t){if(e==null)return{};var n,r,i=R2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function R2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function L2e(e){var t=yr(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(HSe(e)):n.current!==e&&t(GSe({prev:n.current,next:e})),n.current=e},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(YSe(n.current)),n.current=null)},[t]),null}var I2e=e=>{var{xAxisId:t,className:n}=e,r=rt(r8),i=Ei(),a="xAxis",o=rt(S=>If(S,a,t,i)),l=rt(S=>cU(S,a,t,i)),u=rt(S=>$xe(S,t)),d=rt(S=>Gxe(S,t)),h=rt(S=>Nz(S,t));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:b}=e,y=t5(e,D2e),{id:k}=h,w=t5(h,P2e);return _.createElement(Cj,EE({},y,w,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:an("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},$2e={allowDataOverflow:dr.allowDataOverflow,allowDecimals:dr.allowDecimals,allowDuplicatedCategory:dr.allowDuplicatedCategory,angle:dr.angle,axisLine:Ns.axisLine,height:dr.height,hide:!1,includeHidden:dr.includeHidden,interval:dr.interval,minTickGap:dr.minTickGap,mirror:dr.mirror,orientation:dr.orientation,padding:dr.padding,reversed:dr.reversed,scale:dr.scale,tick:dr.tick,tickCount:dr.tickCount,tickLine:Ns.tickLine,tickSize:Ns.tickSize,type:dr.type,xAxisId:0},B2e=e=>{var t=Xi(e,$2e);return _.createElement(_.Fragment,null,_.createElement(L2e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(I2e,t))},xF=_.memo(B2e,vF);xF.displayName="XAxis";var z2e=["dangerouslySetInnerHTML","ticks"],U2e=["id"];function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TE.apply(null,arguments)}function n5(e,t){if(e==null)return{};var n,r,i=F2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function F2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function H2e(e){var t=yr(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(qSe(e)):n.current!==e&&t(KSe({prev:n.current,next:e})),n.current=e},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(WSe(n.current)),n.current=null)},[t]),null}var G2e=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=_.useRef(null),o=_.useRef(null),l=rt(r8),u=Ei(),d=yr(),h="yAxis",p=rt(D=>If(D,h,t,u)),b=rt(D=>Kxe(D,t)),y=rt(D=>qxe(D,t)),k=rt(D=>cU(D,h,t,u)),w=rt(D=>Oz(D,t));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!b||Tj(i)||_.isValidElement(i)||w==null)){var D=a.current;if(D){var P=D.getCalculatedWidth();Math.round(b.width)!==Math.round(P)&&d(VSe({id:t,width:P}))}}},[k,b,d,i,t,r,w]),b==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:j}=e,O=n5(e,z2e),{id:A}=w,C=n5(w,U2e);return _.createElement(Cj,TE({},O,C,{ref:a,labelRef:o,scale:p,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:an("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:k,axisType:h}))},Y2e={allowDataOverflow:fr.allowDataOverflow,allowDecimals:fr.allowDecimals,allowDuplicatedCategory:fr.allowDuplicatedCategory,angle:fr.angle,axisLine:Ns.axisLine,hide:!1,includeHidden:fr.includeHidden,interval:fr.interval,minTickGap:fr.minTickGap,mirror:fr.mirror,orientation:fr.orientation,padding:fr.padding,reversed:fr.reversed,scale:fr.scale,tick:fr.tick,tickCount:fr.tickCount,tickLine:Ns.tickLine,tickSize:Ns.tickSize,type:fr.type,width:fr.width,yAxisId:0},q2e=e=>{var t=Xi(e,Y2e);return _.createElement(_.Fragment,null,_.createElement(H2e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(G2e,t))},wF=_.memo(q2e,vF);wF.displayName="YAxis";var K2e=(e,t)=>t,Mj=we([K2e,Qt,Az,rr,TU,qs,s_e,Pr],m_e),Dj=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},_F=Ta("mouseClick"),SF=Dp();SF.startListening({actionCreator:_F,effect:(e,t)=>{var n=e.payload,r=Mj(t.getState(),Dj(n));r?.activeIndex!=null&&t.dispatch(owe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var AE=Ta("mouseMove"),kF=Dp(),Sb=null;kF.startListening({actionCreator:AE,effect:(e,t)=>{var n=e.payload;Sb!==null&&cancelAnimationFrame(Sb);var r=Dj(n);Sb=requestAnimationFrame(()=>{var i=t.getState(),a=pj(i,i.tooltip.settings.shared);if(a==="axis"){var o=Mj(i,r);o?.activeIndex!=null?t.dispatch(yU({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(bU())}Sb=null})}});var r5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},EF=ki({name:"rootProps",initialState:r5,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:r5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),W2e=EF.reducer,{updateOptions:V2e}=EF.actions,TF=ki({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:JCe}=TF.actions,Z2e=TF.reducer,AF=Ta("keyDown"),jF=Ta("focus"),Pj=Dp();Pj.startListening({actionCreator:AF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=gj(i,Bf(n),Hp(n),Wp(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=qs(n);if(a==="Enter"){var d=hv(n,"axis","hover",String(i.index));t.dispatch(vE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=Xxe(n),p=h==="left-to-right"?1:-1,b=a==="ArrowRight"?1:-1,y=l+b*p;if(!(u==null||y>=u.length||y<0)){var k=hv(n,"axis","hover",String(y));t.dispatch(vE({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:k}))}}}}}});Pj.startListening({actionCreator:jF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=hv(n,"axis","hover",String(a));t.dispatch(vE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ha=Ta("externalEvent"),NF=Dp(),sk=new Map;NF.startListening({actionCreator:ha,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=sk.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:qwe(l),activeDataKey:Gwe(l),activeIndex:fp(l),activeLabel:NU(l),activeTooltipIndex:fp(l),isTooltipActive:Kwe(l)};n(u,r)}finally{sk.delete(i)}});sk.set(i,o)}}});var X2e=we([$f],e=>e.tooltipItemPayloads),J2e=we([X2e,qp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),OF=Ta("touchMove"),CF=Dp();CF.startListening({actionCreator:OF,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=pj(r,r.tooltip.settings.shared);if(i==="axis"){var a=Mj(r,Dj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(yU({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(zpe),h=(o=u.getAttribute(Upe))!==null&&o!==void 0?o:void 0,p=J2e(t.getState(),d,h);t.dispatch(awe({activeDataKey:h,activeIndex:d,activeCoordinate:p}))}}}});var Q2e=JB({brush:uke,cartesianAxis:ZSe,chartData:q_e,errorBars:ake,graphicalItems:ASe,layout:Spe,legend:P0e,options:U_e,polarAxis:mSe,polarOptions:Z2e,referenceElements:bke,rootProps:W2e,tooltip:swe,zIndex:j_e}),eEe=function(t){return Wme({reducer:Q2e,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([SF.middleware,kF.middleware,Pj.middleware,NF.middleware,CF.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(B9({type:"raf"}))},devTools:Cf.devToolsEnabled})};function tEe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Ei(),a=_.useRef(null);if(i)return n;a.current==null&&(a.current=eEe(t));var o=pA;return _.createElement(s4,{context:o,store:a.current},n)}function nEe(e){var{layout:t,margin:n}=e,r=yr(),i=Ei();return _.useEffect(()=>{i||(r(xpe(t)),r(vpe(n)))},[r,i,t,n]),null}var rEe=_.memo(nEe,jj);function iEe(e){var t=yr();return _.useEffect(()=>{t(V2e(e))},[t,e]),null}function i5(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=tF("".concat(r).concat(t)),a=yr();return _.useLayoutEffect(()=>(a(T_e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(A_e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),_.createElement("g",{tabIndex:-1,id:i})}function a5(e){var{children:t,isPanorama:n}=e,r=rt(g_e);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return _.createElement(_.Fragment,null,i.map(o=>_.createElement(i5,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>_.createElement(i5,{key:o,zIndex:o,isPanorama:n})))}var aEe=["children"];function oEe(e,t){if(e==null)return{};var n,r,i=sEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vv.apply(null,arguments)}var lEe={width:"100%",height:"100%",display:"block"},cEe=_.forwardRef((e,t)=>{var n=c8(),r=u8(),i=y8();if(!Uo(n)||!Uo(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,d,h;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),_.createElement(W7,vv({},o,{title:l,desc:u,role:h,tabIndex:d,width:n,height:r,style:lEe,ref:t}),a)}),uEe=e=>{var{children:t}=e,n=rt(xx);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return _.createElement(W7,{width:r,height:i,x:o,y:a},t)},o5=_.forwardRef((e,t)=>{var{children:n}=e,r=oEe(e,aEe),i=Ei();return i?_.createElement(uEe,null,_.createElement(a5,{isPanorama:!0},n)):_.createElement(cEe,vv({ref:t},r),_.createElement(a5,{isPanorama:!1},n))});function dEe(){var e=yr(),[t,n]=_.useState(null),r=rt(Bpe);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Nn(a)&&a!==r&&e(_pe(a))}},[t,e,r]),n}function s5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s5(Object(n),!0).forEach(function(r){hEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hEe(e,t,n){return(t=mEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mEe(e){var t=pEe(e,"string");return typeof t=="symbol"?t:t+""}function pEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eu.apply(null,arguments)}var gEe=()=>(t1e(),null);function xv(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var bEe=_.forwardRef((e,t)=>{var n,r,i=_.useRef(null),[a,o]=_.useState({containerWidth:xv((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:xv((r=e.style)===null||r===void 0?void 0:r.height)}),l=_.useCallback((d,h)=>{o(p=>{var b=Math.round(d),y=Math.round(h);return p.containerWidth===b&&p.containerHeight===y?p:{containerWidth:b,containerHeight:y}})},[]),u=_.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=d.getBoundingClientRect();l(h,p);var b=k=>{var{width:w,height:S}=k[0].contentRect;l(w,S)},y=new ResizeObserver(b);y.observe(d),i.current=y}},[t,l]);return _.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),_.createElement(_.Fragment,null,_.createElement(_x,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",Eu({ref:u},e)))}),yEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=_.useState({containerWidth:xv(n),containerHeight:xv(r)}),o=_.useCallback((u,d)=>{a(h=>{var p=Math.round(u),b=Math.round(d);return h.containerWidth===p&&h.containerHeight===b?h:{containerWidth:p,containerHeight:b}})},[]),l=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();o(d,h)}},[t,o]);return _.createElement(_.Fragment,null,_.createElement(_x,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",Eu({ref:l},e)))}),vEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return _.createElement(_.Fragment,null,_.createElement(_x,{width:n,height:r}),_.createElement("div",Eu({ref:t},e)))}),xEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ds(n)||Ds(r)?_.createElement(yEe,Eu({},e,{ref:t})):_.createElement(vEe,Eu({},e,{ref:t}))});function wEe(e){return e===!0?bEe:xEe}var _Ee=_.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:p,onMouseUp:b,onTouchEnd:y,onTouchMove:k,onTouchStart:w,style:S,width:j,responsive:O,dispatchTouchEvents:A=!0}=e,C=_.useRef(null),D=yr(),[P,I]=_.useState(null),[U,K]=_.useState(null),q=dEe(),H=SA(),B=H?.width>0?H.width:j,W=H?.height>0?H.height:i,X=_.useCallback(ie=>{q(ie),typeof t=="function"&&t(ie),I(ie),K(ie),ie!=null&&(C.current=ie)},[q,t,I,K]),Z=_.useCallback(ie=>{D(_F(ie)),D(ha({handler:a,reactEvent:ie}))},[D,a]),Y=_.useCallback(ie=>{D(AE(ie)),D(ha({handler:d,reactEvent:ie}))},[D,d]),J=_.useCallback(ie=>{D(bU()),D(ha({handler:h,reactEvent:ie}))},[D,h]),Q=_.useCallback(ie=>{D(AE(ie)),D(ha({handler:p,reactEvent:ie}))},[D,p]),ce=_.useCallback(()=>{D(jF())},[D]),ae=_.useCallback(ie=>{D(AF(ie.key))},[D]),z=_.useCallback(ie=>{D(ha({handler:o,reactEvent:ie}))},[D,o]),V=_.useCallback(ie=>{D(ha({handler:l,reactEvent:ie}))},[D,l]),ne=_.useCallback(ie=>{D(ha({handler:u,reactEvent:ie}))},[D,u]),oe=_.useCallback(ie=>{D(ha({handler:b,reactEvent:ie}))},[D,b]),ue=_.useCallback(ie=>{D(ha({handler:w,reactEvent:ie}))},[D,w]),pe=_.useCallback(ie=>{A&&D(OF(ie)),D(ha({handler:k,reactEvent:ie}))},[D,A,k]),ye=_.useCallback(ie=>{D(ha({handler:y,reactEvent:ie}))},[D,y]),Oe=wEe(O);return _.createElement(IU.Provider,{value:P},_.createElement(ehe.Provider,{value:U},_.createElement(Oe,{width:B??S?.width,height:W??S?.height,className:an("recharts-wrapper",r),style:fEe({position:"relative",cursor:"default",width:B,height:W},S),onClick:Z,onContextMenu:z,onDoubleClick:V,onFocus:ce,onKeyDown:ae,onMouseDown:ne,onMouseEnter:Y,onMouseLeave:J,onMouseMove:Q,onMouseUp:oe,onTouchEnd:ye,onTouchMove:pe,onTouchStart:ue,ref:X},_.createElement(gEe,null),n)))}),SEe=["width","height","responsive","children","className","style","compact","title","desc"];function kEe(e,t){if(e==null)return{};var n,r,i=EEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TEe=_.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:d,desc:h}=e,p=kEe(e,SEe),b=io(p);return u?_.createElement(_.Fragment,null,_.createElement(_x,{width:n,height:r}),_.createElement(o5,{otherAttributes:b,title:d,desc:h},a)):_.createElement(_Ee,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(o5,{otherAttributes:b,title:d,desc:h,ref:t},_.createElement(vke,null,a)))});function jE(){return jE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jE.apply(null,arguments)}var AEe={top:5,right:5,bottom:5,left:5},jEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:AEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},NEe=_.forwardRef(function(t,n){var r,i=Xi(t.categoricalChartProps,jEe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return _.createElement(tEe,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},_.createElement(cke,{chartData:d.data}),_.createElement(rEe,{layout:i.layout,margin:i.margin}),_.createElement(iEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(TEe,jE({},i,{ref:n})))}),OEe=["axis"],CEe=_.forwardRef((e,t)=>_.createElement(NEe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:OEe,tooltipPayloadSearcher:B_e,categoricalChartProps:e,ref:t}));function MF(e){return typeof e=="object"&&e!==null}function su(e,t=0){return typeof e=="number"&&Number.isFinite(e)?e:t}function MEe(e,t=""){return typeof e=="string"?e:t}function DEe(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){if(!MF(n))continue;const r=MEe(n.day),i=su(n.dau),a=su(n.total_active_ms);r&&t.push({day:r,dau:i,total_active_ms:a})}return t}function PEe(e){return MF(e)?{online_now:su(e.online_now),active_today:su(e.active_today),active_7d:su(e.active_7d),active_30d:su(e.active_30d),active_365d:su(e.active_365d),series:DEe(e.series)}:null}function REe(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function l5(){const[e,t]=_.useState(30),[n,r]=_.useState(null),[i,a]=_.useState(0),[o,l]=_.useState(!1),[u,d]=_.useState(""),h=_.useRef(!1),p=_.useRef(!1),b=_.useCallback(async()=>{if(!h.current){h.current=!0,l(!0),d("");try{const{data:S,error:j}=await Re.rpc("admin_dashboard_stats",{p_days:e});if(j){d(j.message||"RPC error"),r(null);return}const O=PEe(S);if(!O){d("   ( )"),r(null);return}r(O),a(O.online_now)}finally{l(!1),h.current=!1}}},[e]),y=_.useCallback(async()=>{if(!p.current){p.current=!0;try{const{data:S,error:j}=await Re.rpc("admin_online_now");if(j)return;const O=typeof S=="number"?S:typeof S=="string"?Number(S):0;Number.isFinite(O)&&a(O)}finally{p.current=!1}}},[]);_.useEffect(()=>{b()},[b]),_.useEffect(()=>{y();const S=window.setInterval(()=>void y(),3e4);return()=>window.clearInterval(S)},[y]),_.useEffect(()=>{const S=window.setInterval(()=>void b(),3e5);return()=>window.clearInterval(S)},[b]);const k=_.useMemo(()=>n?.series??[],[n]),w=_.useMemo(()=>k.reduce((S,j)=>S+(j.total_active_ms||0),0),[k]);return g.jsx(Hfe,{allow:["admin","operator","viewer"],children:g.jsxs("div",{className:"p-6 text-white",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:e,onChange:S=>{const j=Number(S.target.value);(j===30||j===60||j===90)&&t(j)},className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",title:"DAU  ",children:[g.jsx("option",{value:30,children:" 30"}),g.jsx("option",{value:60,children:" 60"}),g.jsx("option",{value:90,children:" 90"})]}),g.jsx("button",{type:"button",onClick:()=>void b(),className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer text-sm",children:""})]})]}),u?g.jsx("div",{className:"text-red-400 mb-3",children:u}):null,o?g.jsx("div",{className:"text-neutral-300 mb-3",children:"Loading..."}):null,g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-10",children:[g.jsx(gm,{label:" ",value:i}),g.jsx(gm,{label:" (DAU)",value:n?.active_today??0}),g.jsx(gm,{label:" 7 ",value:n?.active_7d??0}),g.jsx(gm,{label:" 30 ",value:n?.active_30d??0}),g.jsx(gm,{label:" 1 ",value:n?.active_365d??0})]}),g.jsxs("section",{className:"mb-10",children:[g.jsxs("div",{className:"flex items-end justify-between gap-3 mb-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"DAU "}),g.jsx("div",{className:"text-xs text-neutral-400",children:"(     )"})]}),g.jsx(LEe,{data:k})]}),g.jsxs("section",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"   ()"}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"series.total_active_ms  (day    )"}),g.jsx("div",{className:"text-2xl font-bold mt-1",children:REe(w)})]})]})]})})}function gm({label:e,value:t}){return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-neutral-400 text-sm",children:e}),g.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function LEe({data:e}){return g.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:g.jsx(p0e,{width:"100%",height:"100%",children:g.jsxs(CEe,{data:e,children:[g.jsx(uF,{strokeDasharray:"3 3"}),g.jsx(xF,{dataKey:"day"}),g.jsx(wF,{}),g.jsx(c1e,{formatter:(t,n)=>n==="dau"?[t,"DAU"]:[t,n]}),g.jsx(yF,{type:"monotone",dataKey:"dau"})]})})})}function IEe(){const[e,t]=_.useState(""),[n,r]=_.useState("ACTIVE"),[i,a]=_.useState("LAST_SEEN_DESC"),[o,l]=_.useState(1),[u,d]=_.useState({});return{search:e,setSearch:t,tab:n,setTab:r,sort:i,setSort:a,page:o,setPage:l,draftByUser:u,setDraftByUser:d,setDraft:(p,b)=>{d(y=>{const k=y[p]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1};return{...y,[p]:{...k,...b}}})}}}const NE=20;function $Ee(e){return typeof e=="object"&&e!==null}function jo(e){return typeof e=="string"?e:null}function c5(e){return typeof e=="boolean"?e:null}function lk(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e);return Number.isFinite(t)?t:null}return null}function DF(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function BEe(e){return DF(e)?e:null}function zEe(e){if(!$Ee(e))return null;const t=jo(e.user_id);return t?{user_id:t,name:jo(e.name),nickname:jo(e.nickname),email:jo(e.email),disabled_at:jo(e.disabled_at),created_at:jo(e.created_at),plan:BEe(e.plan),starts_at:jo(e.starts_at),expires_at:jo(e.expires_at),can_use_myo_viewer:c5(e.can_use_myo_viewer),myeongsik_count:lk(e.myeongsik_count),last_seen_at:jo(e.last_seen_at),last_path:jo(e.last_path),total_active_ms:lk(e.total_active_ms),online:c5(e.online),total_count:lk(e.total_count)}:null}function u5(e){const t=(e??"").trim();return t.length?t:null}function PF(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return!1;const n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i)||r<1||r>12)return!1;const a=new Date(Date.UTC(n,r-1,i));return a.getUTCFullYear()===n&&a.getUTCMonth()===r-1&&a.getUTCDate()===i}function UEe(e,t){if(!PF(e))throw new Error(`   : ${e}`);const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error(`   : ${e}`);const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=new Date(Date.UTC(r,i-1,a));o.setUTCDate(o.getUTCDate()+t);const l=String(o.getUTCFullYear()).padStart(4,"0"),u=String(o.getUTCMonth()+1).padStart(2,"0"),d=String(o.getUTCDate()).padStart(2,"0");return`${l}-${u}-${d}`}function d5(e){if(!PF(e))throw new Error(`   : ${e}`);return`${e}T00:00:00.000Z`}function FEe(e){return typeof e=="object"&&e!==null}function HEe(e,t){if(console.error(e,t),FEe(t)&&console.error(`${e} fields`,{message:t.message,code:t.code,details:t.details,hint:t.hint}),typeof t=="object"&&t!==null)try{console.error(`${e} ownKeys`,Object.getOwnPropertyNames(t))}catch{}try{console.error(`${e} json`,JSON.stringify(t))}catch{}}function GEe(){const[e,t]=_.useState([]),[n,r]=_.useState(0),[i,a]=_.useState(!1),[o,l]=_.useState(null),u=_.useCallback(async h=>{const{search:p,tab:b,sort:y,page:k}=h;a(!0),l(null);try{const w=Math.max(0,(Math.max(1,k)-1)*NE),{data:S,error:j}=await Re.rpc("admin_list_users",{p_search:p&&p.trim()?p.trim():null,p_tab:b,p_sort:y,p_limit:NE,p_offset:w});if(j)throw j;const A=(Array.isArray(S)?S:[]).map(zEe).filter(C=>C!==null);t(A),r(A[0]?.total_count??0)}catch(w){t([]),r(0),l(w instanceof Error?w.message:"  ")}finally{a(!1)}},[]),d=_.useCallback(async(h,p,b,y)=>{if(p){l(null),b(h,{saving:!0});try{if(!DF(p.plan))throw new Error(`  : ${String(p.plan)}`);const k=u5(p.startDate),w=u5(p.endDate),S=k?d5(k):null,j=w?d5(UEe(w,1)):null;if(S&&j){const C=Date.parse(S),D=Date.parse(j);if(!Number.isFinite(C)||!Number.isFinite(D))throw new Error("  ");if(D<=C)throw new Error("  .")}const O={p_target_user_id:h,p_plan:p.plan,p_can_use_myo_viewer:p.myoViewer==="ON",p_starts_at:S,p_expires_at:j},{error:A}=await Re.rpc("admin_set_user_entitlements",O);if(A)throw HEe("admin_set_user_entitlements error",A),A;b(h,{saving:!1,lastSavedAt:Date.now()}),await y()}catch(k){throw b(h,{saving:!1}),l(k instanceof Error?k.message:" "),k}}},[]);return{rows:e,totalCount:n,loading:i,error:o,setError:l,fetchList:u,saveEntitlements:d}}const RF=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function YEe(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function qEe(e){const t=e??"FREE";return RF.find(n=>n.value===t)?.label??String(t)}function KEe(e){if(!e)return" ";const t=Date.parse(e);if(!Number.isFinite(t))return" ";const n=Date.now()-t,r=Math.floor(n/1e3);if(r<15)return"";if(r<60)return`${r} `;const i=Math.floor(r/60);if(i<60)return`${i} `;const a=Math.floor(i/60);return a<24?`${a} `:`${Math.floor(a/24)} `}function f5(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function wv(e){if(!e)return"";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toISOString().slice(0,10):""}function WEe(e,t){const n=wv(e),r=wv(t);return!n&&!r?" ":n&&!r?`${n} ~`:!n&&r?`~ ${r}`:`${n} ~ ${r}`}function VEe(e,t){const n={...e};for(const r of t){const i=r.plan??"FREE",a=wv(r.starts_at),o=wv(r.expires_at),l=r.can_use_myo_viewer===!0?"ON":"OFF",u=n[r.user_id];if(!u){n[r.user_id]={plan:i,startDate:a,endDate:o,myoViewer:l,saving:!1};continue}u.saving||(u.plan!==i||u.startDate!==a||u.endDate!==o||u.myoViewer!==l)&&(n[r.user_id]={...u,plan:i,startDate:a,endDate:o,myoViewer:l})}return n}function ZEe(){const e=IEe(),{search:t,setSearch:n,tab:r,setTab:i,sort:a,setSort:o,page:l,setPage:u,draftByUser:d,setDraftByUser:h,setDraft:p}=e,{rows:b,totalCount:y,loading:k,error:w,fetchList:S,saveEntitlements:j}=GEe(),O=_.useMemo(()=>Math.max(1,Math.ceil(y/NE)),[y]);return _.useEffect(()=>{u(1)},[r,a]),_.useEffect(()=>{S({search:t,tab:r,sort:a,page:l})},[S,t,r,a,l]),_.useEffect(()=>{l>O&&u(O)},[l,O,u]),_.useEffect(()=>{h(A=>VEe(A,b))},[b,h]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-center mb-4",children:[g.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm",placeholder:"Search (name, email, userId...)",value:t,onChange:A=>{n(A.target.value),u(1)}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:r,onChange:A=>{const C=A.target.value;i(C==="DISABLED"?"DISABLED":C==="ALL"?"ALL":"ACTIVE")},children:[g.jsx("option",{value:"ACTIVE",children:""}),g.jsx("option",{value:"DISABLED",children:""}),g.jsx("option",{value:"ALL",children:""})]}),g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:a,onChange:A=>{const C=A.target.value;(C==="LAST_SEEN_DESC"||C==="LAST_SEEN_ASC"||C==="CREATED_DESC"||C==="CREATED_ASC"||C==="PLAN_DESC"||C==="ONLINE_ACTIVE_MS_DESC"||C==="TOTAL_ACTIVE_MS_DESC")&&o(C)},children:[g.jsx("option",{value:"LAST_SEEN_DESC",children:" "}),g.jsx("option",{value:"CREATED_DESC",children:" "}),g.jsx("option",{value:"PLAN_DESC",children:""}),g.jsx("option",{value:"ONLINE_ACTIVE_MS_DESC",children:"+"}),g.jsx("option",{value:"TOTAL_ACTIVE_MS_DESC",children:""}),g.jsx("option",{value:"LAST_SEEN_ASC",children:" "}),g.jsx("option",{value:"CREATED_ASC",children:" "})]})]})]}),w&&g.jsx("div",{className:"text-red-400 mb-2",children:w}),k&&g.jsx("div",{children:"Loading..."}),g.jsx("div",{className:"space-y-3",children:b.map(A=>{const C=A.name||A.nickname||"(no profile)",D=A.email||"",P=d[A.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:void 0},I=Date.now(),U=(A.starts_at?Date.parse(A.starts_at)<=I:!0)&&(A.expires_at?Date.parse(A.expires_at)>I:!0),K=A.plan??"FREE",q=U?K:"FREE",H=A.can_use_myo_viewer===!0?"ON":"OFF",B=A.last_seen_at??null,W=A.online===!0,X=A.total_active_ms??null;return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[g.jsxs("div",{className:"font-semibold text-lg flex flex-col desk:flex-row item-start desk:items-center justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0 flex flex-col desk:flex-row item-start desk:items-center gap-2",children:[g.jsx("span",{className:"text-nowrap mr-1",children:C}),D?g.jsxs("span",{className:"text-sm text-neutral-400",children:["(",D,")"]}):null,g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsxs("span",{className:`text-[11px] px-2 py-0.5 rounded-full border ${W?"bg-emerald-900/40 border-emerald-700 text-emerald-300":"bg-neutral-800 border-neutral-700 text-neutral-300"}`,title:B?new Date(B).toLocaleString():" ",children:[W?"":"","  ",KEe(B)]}),g.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full border bg-neutral-800 border-neutral-700 text-neutral-300",title:" ",children:[" ",f5(X)]})]})]}),g.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:A.user_id})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",A.myeongsik_count??0,"",B?g.jsxs(g.Fragment,{children:["    ",new Date(B).toLocaleString()]}):g.jsx(g.Fragment,{children:"     "}),g.jsxs(g.Fragment,{children:["   ",f5(X)]})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",qEe(q),"  ",WEe(A.starts_at,A.expires_at),"    ",H,!U&&A.plan&&A.plan!=="FREE"?" ()":""]}),g.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsxs("div",{className:"mb-1",children:[g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:Z=>p(A.user_id,{startDate:Z.target.value})}),g.jsx("span",{className:"text-neutral-500 mx-1",children:"~"}),g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:Z=>p(A.user_id,{endDate:Z.target.value})})]}),g.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:Z=>{const Y=Z.target.value;YEe(Y)&&p(A.user_id,{plan:Y})},children:RF.map(Z=>g.jsx("option",{value:Z.value,children:Z.label},Z.value))}),g.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:Z=>p(A.user_id,{myoViewer:Z.target.value==="ON"?"ON":"OFF"}),children:[g.jsx("option",{value:"ON",children:"  ON"}),g.jsx("option",{value:"OFF",children:"  OFF"})]}),g.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void j(A.user_id,P,e.setDraft,()=>S({search:t,tab:r,sort:a,page:l})),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),g.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${A.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt!=null?g.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},A.user_id)})}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{disabled:l<=1,onClick:()=>u(A=>A-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),g.jsxs("span",{children:[l," / ",O," ( ",y,")"]}),g.jsx("button",{disabled:l>=O,onClick:()=>u(A=>A+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function XEe(){const[e,t]=_.useState(null),[n,r]=_.useState([]),[i,a]=_.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function JEe(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function Rj({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Re.auth.getSession()).data.session?.user?.id;a&&await Re.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const QEe=async e=>{const{data:t}=await Re.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},eTe=async e=>{const{data:t}=await Re.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},tTe=async e=>{await Re.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},nTe=async(e,t)=>{await Re.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},rTe=async e=>{await Re.from("profiles").update({disabled_at:null}).eq("user_id",e),await Re.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await Rj({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},iTe=async e=>{await Re.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await Rj({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},h5=async(e,t,n)=>{const{error:r}=await Re.rpc("admin_set_myeongsik_deleted",{p_target_user_id:e,p_myeongsik_id:t,p_deleted_at:n});if(r)throw console.error("admin_set_myeongsik_deleted error:",{message:r.message,details:r.details,hint:r.hint,code:r.code}),r;await Rj({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function aTe(e,t){if(t&&typeof t=="object"){const n=t;console.error(e,{message:n.message,details:n.details,hint:n.hint,code:n.code});return}console.error(e,t)}function oTe({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=_.useCallback(async()=>{const S=await QEe(e);n(S)},[e,n]),o=_.useCallback(async()=>{const S=await eTe(e);r(S)},[e,r]);_.useEffect(()=>{a(),o()},[a,o]);const l=_.useCallback(async()=>{if(e){i(!0);try{await tTe(e),await a()}catch(S){throw console.error("handleCreateProfile failed:",S),S}finally{i(!1)}}},[e,i,a]),u=_.useCallback(async()=>{if(e&&t){i(!0);try{await nTe(e,t),await a()}catch(S){throw console.error("handleSaveProfile failed:",S),S}finally{i(!1)}}},[e,t,i,a]),d=_.useCallback(async()=>{if(e&&t){i(!0);try{const S=t.disabled_at==null,{data:j,error:O}=await Re.rpc("admin_set_profile_disabled",{p_target_user_id:e,p_disabled:S});if(O)throw aTe("admin_set_profile_disabled error:",O),O;n({...t,disabled_at:typeof j=="string"?j:null})}finally{i(!1)}}},[e,t,n,i]),h=_.useCallback(async()=>{if(e){i(!0);try{await rTe(e),await a(),await o()}catch(S){throw console.error("handleRestoreAccount failed:",S),S}finally{i(!1)}}},[e,i,a,o]),p=_.useCallback(async()=>{if(e){i(!0);try{await iTe(e),await o()}catch(S){throw console.error("handleRestoreAllMyeongsik failed:",S),S}finally{i(!1)}}},[e,i,o]),b=_.useCallback(async S=>{if(e&&S){i(!0);try{await h5(e,S,null),await o()}catch(j){throw console.error("handleRestoreMyeongsik failed:",j),j}finally{i(!1)}}},[e,i,o]),y=_.useCallback(S=>{const j=typeof window<"u"?window.location.origin:"",O=S?`${j}/impersonate?userId=${e}&myeongsikId=${S}`:`${j}/impersonate?userId=${e}`;window.open(O,"_blank")},[e]),k=_.useCallback(async(S,j)=>{if(!e||!S)return;const O=j?null:new Date().toISOString();i(!0);try{await h5(e,S,O),await o()}catch(A){throw console.error("toggleDeleteMyeongsik failed:",A),A}finally{i(!1)}},[e,i,o]),w=_.useCallback(S=>{window.location.href=S},[]);return{handleCreateProfile:l,handleSaveProfile:u,toggleDisable:d,handleRestoreAccount:h,handleRestoreAllMyeongsik:p,handleRestoreMyeongsik:b,handleViewAsUser:y,toggleDeleteMyeongsik:k,goTo:w}}function sTe({params:e}){const t=e.userId,n=XEe(),r=JEe(n.profile),i=oTe({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),g.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[g.jsx("div",{className:"flex items-center justify-between mb-3",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:""}),g.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&g.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Email"}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:" "}),g.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&g.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" + "}),g.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-semibold",children:" "}),g.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>g.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),g.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-"," "," ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{className:"text-nowrap px-2 py-1 border border-emerald-500 text-emerald-100 rounded cursor-pointer text-xs",onClick:()=>i.handleRestoreMyeongsik(a.id),disabled:n.saving,children:"  "})})]})},a.id)),n.myeongsikList.length===0&&g.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function lTe({open:e,onClose:t,children:n}){return e?g.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[g.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),g.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const m5=50;function cTe(){const[e,t]=_.useState(null),[n,r]=_.useState(!1),[i,a]=_.useState([]),[o,l]=_.useState(1),[u,d]=_.useState("all"),[h,p]=_.useState("all"),[b,y]=_.useState("30"),[k,w]=_.useState(""),[S,j]=_.useState(!1),O=_.useCallback(async C=>{await Re.from("audit_logs").delete().eq("id",C),a(D=>D.filter(P=>P.id!==C))},[]),A=_.useCallback(async()=>{j(!0);const C=new Date;b!=="all"&&C.setDate(C.getDate()-Number(b));let D=Re.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*m5,o*m5-1);b!=="all"&&(D=D.gte("created_at",C.toISOString())),u!=="all"&&(D=D.eq("action",u)),h!=="all"&&(D=D.eq("actor_admin_id",h));const{data:P}=await D;let I=P||[];if(k.trim()!==""){const U=k.toLowerCase();I=I.filter(K=>(JSON.stringify(K).toLowerCase()+(K.payload?JSON.stringify(K.payload).toLowerCase():"")).includes(U))}a(I),j(!1)},[o,u,h,b,k]);return _.useEffect(()=>{A()},[A]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),g.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:C=>d(C.target.value),children:[g.jsx("option",{value:"all",children:" Action"}),g.jsx("option",{value:"delete_myeongsik",children:" "}),g.jsx("option",{value:"restore_myeongsik",children:" "}),g.jsx("option",{value:"update_profile",children:" "}),g.jsx("option",{value:"impersonate_user",children:""})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:h,onChange:C=>p(C.target.value),children:[g.jsx("option",{value:"all",children:" "}),g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"system",children:"System"})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:b,onChange:C=>y(C.target.value),children:[g.jsx("option",{value:"1",children:"24"}),g.jsx("option",{value:"7",children:"7"}),g.jsx("option",{value:"30",children:"30"}),g.jsx("option",{value:"all",children:""})]}),g.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:k,onChange:C=>w(C.target.value)})]}),S?g.jsx("div",{children:"Loading..."}):i.map(C=>g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(C),r(!0)},children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("div",{className:"font-semibold text-lg",children:C.action}),g.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:D=>{D.stopPropagation(),O(C.id)},children:""})]}),g.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[g.jsxs("div",{children:["Actor: ",C.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",C.target_user_id||"-"]}),g.jsxs("div",{children:["Target Record: ",C.target_record_id||"-"]}),g.jsxs("div",{children:["Time: ",new Date(C.created_at).toLocaleString()]})]}),C.payload&&g.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(C.payload,null,2)})]},C.id)),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>l(C=>C-1),children:" "}),g.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>l(C=>C+1),children:" "})]}),g.jsx(lTe,{open:n,onClose:()=>r(!1),children:e&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),g.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[g.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),g.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),g.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),g.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const uTe="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function LF(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1);if(_.useEffect(()=>{(async()=>{const{data:l}=await Re.auth.getUser(),u=l.user?.id;r(!!u&&uTe.includes(u)),t(!0)})()},[]),!e)return g.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return g.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=g.jsx(l5,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=g.jsx(sTe,{params:{userId:o}})}else i.startsWith("/admin/user")?a=g.jsx(ZEe,{}):i.startsWith("/admin/logs")?a=g.jsx(cTe,{}):i.startsWith("/admin/dashboard")&&(a=g.jsx(l5,{}));return g.jsx(Ufe,{children:a})}function dTe({pillarsA:e,pillarsB:t}){const n=mae(e,t);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const fTe=["","","","","","","","","",""],hTe=["","","","","","","","","",""],mTe=["","","","","","","","","","","",""],pTe=["","","","","","","","","","","",""],gTe=new Set([...fTe,...hTe]),bTe=new Set([...mTe,...pTe]);function yTe(e){return typeof e=="object"&&e!==null}function p5(e){return typeof e=="string"&&e.length>=2&&gTe.has(e[0])&&bTe.has(e[1])}function un(e,...t){if(p5(e))return e;for(const n of t)if(p5(n))return n;return""}function kb(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function vTe(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function g5(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,l=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(l.getTime())?null:l}function _v(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function xTe(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function Ux(e){const{y:t,m:n,d:r,hh:i,mm:a}=xTe(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),l=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Zi(t,n,r,l,u):new Date(t,n-1,r,l,u)}function wTe(e){const t=Ux(e);return`${_v(e)}-${t.toISOString()}`}function Md(e){const t=e;return typeof t.id=="string"&&t.id?t.id:wTe(e)}function _Te(e){return yTe(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function STe(e){const t=M6;return _Te(t)?e==="classic"?t.Classic:t.Modern:e}function kTe(e){if(!e)return"";const t=e,n=l=>typeof t[l]=="string"?String(t[l]).trim().toLowerCase():null,r=l=>typeof t[l]=="boolean"?t[l]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(l=>!!l);for(const l of i){if(["","","male","m","boy","man"].includes(l))return"";if(["","","female","f","girl","woman"].includes(l))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const ck="people_picker_order_v1";function ETe(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function b5({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=_.useState("");_.useEffect(()=>{e||a("")},[e]);const o=_.useMemo(()=>t.map(Md),[t]),l=_.useMemo(()=>new Set(o),[o]),[u,d]=_.useState([]);_.useEffect(()=>{const w=localStorage.getItem(ck),S=w?JSON.parse(w):[],j=S.filter(A=>l.has(A)),O=[...j,...o.filter(A=>!j.includes(A))];d(O),JSON.stringify(O)!==JSON.stringify(S)&&localStorage.setItem(ck,JSON.stringify(O))},[o,l]);const h=w=>{d(w),localStorage.setItem(ck,JSON.stringify(w))},p=_.useMemo(()=>{const w=new Map(t.map(A=>[Md(A),A])),S=[];for(const A of u){const C=w.get(A);C&&S.push(C)}w.forEach((A,C)=>{u.includes(C)||S.push(A)});const j=[],O=[];for(const A of S)(typeof A.relationship=="string"?A.relationship.trim():"")===""?j.push(A):O.push(A);return[...j,...O]},[t,u]),b=_.useMemo(()=>{const w=i.trim().toLowerCase();return w?p.filter(S=>{const j=typeof S.relationship=="string"?S.relationship.trim():"";return`${_v(S)} ${j}`.toLowerCase().includes(w)}):p},[p,i]),y=i.trim()==="",k=w=>{const{destination:S,source:j}=w;if(!S||!y||S.index===j.index)return;const O=b.map(Md),A=ETe(O,j.index,S.index),D=p.map(Md).filter(I=>!O.includes(I)),P=[...A,...D].filter((I,U,K)=>K.indexOf(I)===U);h(P)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),g.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),g.jsxs("div",{className:"mb-3",children:[g.jsx("input",{value:i,onChange:w=>a(w.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),g.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),g.jsx(Sp,{onDragEnd:k,children:g.jsx(Tf,{droppableId:"people-picker",children:w=>g.jsxs("ul",{className:"space-y-2",ref:w.innerRef,...w.droppableProps,children:[b.map((S,j)=>{const O=Ux(S),A=typeof S.relationship=="string"?S.relationship.trim():"",C=A||" ",D=_v(S),P=A&&D===" "?A:D;return g.jsx(Ef,{draggableId:Md(S),index:j,isDragDisabled:!y,children:I=>g.jsx("li",{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:g.jsxs("button",{onClick:()=>n(S),className:"flex-1 text-left cursor-pointer",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[g.jsx("span",{children:P}),g.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${A?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:C})]}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:Dm(O)})]})})},Md(S))}),w.placeholder]})})})]})]})}function uk({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:l,sinsalMode:u,sinsalBloom:d}){const h=w=>{const S=o.showSibiUnseong?Yo(a,w):"",j=o.showSibiSinsal?qo({baseBranch:l,targetBranch:w,era:STe(u),gaehwa:!!d}):"";return{unseongText:S||void 0,shinsalText:j||void 0}},p=un(t).charAt(1),b=un(n).charAt(1),y=un(r).charAt(1),k=un(i).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",un(t),p],["",un(n),b],["",un(r),y],["",un(i),k]].map(([w,S,j])=>{const{unseongText:O,shinsalText:A}=h(j);return g.jsx(Id,{label:w,gz:S,dayStem:a,settings:xn.getState().settings,unseongText:O,shinsalText:A,hideBranchSipSin:!0,size:"sm"},`${e}-${w}`)})})]})}function Dd({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=xn(P=>P.settings),o=_.useMemo(()=>t?Ux(t):null,[t]),l="/",u=un(o?no(o,l):void 0),d=un(o?ht(o,l):void 0),h=un(o?Et(o):void 0),p=un(o?ct(o):void 0),b=_.useMemo(()=>d.charAt(0)||"",[d]),y=o,k=_.useMemo(()=>{const P=t?.birthPlace;return!P||P.name===""||!P.lon?127.5:P.lon},[t]),w=t?.mingSikType??l,S=_.useMemo(()=>{const P=y?ht(y,w).charAt(1):d.charAt(1)||"",I=y?ct(y,k).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?P:I},[a.sinsalBase,y,w,k,d,p]),j=_.useMemo(()=>{if(n!==""||!o||!t)return null;try{const P=R6(o,u,t.dir,120),I=I6(P,d,t.dir,t.DayChangeRule),U=Ap(o,h,t.dir,120,t?.birthPlace?.lon??127.5),K=$6(U,p,t.dir,t.DayChangeRule,o),q=r;return{si:un(kb(P.events,q)?.gz,u),il:un(kb(I.events,q)?.gz,d),wl:un(kb(U.events,q)?.gz,h),yn:un(kb(K.events,q)?.gz,p)}}catch{return null}},[n,o,u,d,h,p,r,t]),O=_.useMemo(()=>{if(n!=="")return null;const P=r;return{si:un(no(P,l)),il:un(ht(P,l)),wl:un(Et(P)),yn:un(ct(P))}},[n,r]),A=t?_v(t):"",C=o?Dm(o):"",D=t?kTe(t):"";return t?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:A}),D&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",D]}),C&&g.jsx("span",{className:"block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:C})]}),n===""&&g.jsx(uk,{label:"",gzHour:u,gzDay:d,gzMonth:h,gzYear:p,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&j&&g.jsx(uk,{label:"",gzHour:j.si,gzDay:j.il,gzMonth:j.wl,gzYear:j.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&O&&g.jsx(uk,{label:"",gzHour:O.si,gzDay:O.il,gzMonth:O.wl,gzYear:O.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function TTe({people:e=[]}){const[t,n]=_.useState(),[r,i]=_.useState(),[a,o]=_.useState(!1),[l,u]=_.useState(!1),d=_.useRef(new Date),[h,p]=_.useState(()=>vTe(d.current)),b=_.useRef(g5(h)??d.current),y=_.useMemo(()=>{const C=g5(h);return C&&(b.current=C),b.current},[h]),[k,w]=_.useState(!1),[S,j]=_.useState(!1);function O(C){if(!C)return["","","",""];try{const D=Ux(C),P="/",I={hour:un(no(D,P)),day:un(ht(D,P)),month:un(Et(D)),year:un(ct(D))};return[I.year,I.month,I.day,I.hour]}catch{return["","","",""]}}const A=fn(C=>C.canUseMyoViewerNow());return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[A?g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:a,onChange:C=>o(C.target.checked),className:"accent-indigo-500"})," "]}):null,g.jsx("button",{onClick:()=>u(C=>!C),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(Dd,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),g.jsx(Dd,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>j(!0)}),a&&t&&g.jsx(Dd,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),a&&r&&g.jsx(Dd,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>j(!0)}),l&&t&&g.jsx(Dd,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),l&&r&&g.jsx(Dd,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>j(!0)})]}),t&&r&&g.jsx("div",{className:"mt-4",children:g.jsx(dTe,{pillarsA:O(t),pillarsB:O(r)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),g.jsx("input",{type:"datetime-local",value:h,onChange:C=>p(C.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(b5,{open:k,list:e||[],onSelect:C=>{n(C),w(!1)},onClose:()=>w(!1)}),g.jsx(b5,{open:S,list:e||[],onSelect:C=>{i(C),j(!1)},onClose:()=>j(!1)})]})}function ATe(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),i=async()=>{try{const{data:{user:a}}=await Re.auth.getUser();if(!a){alert("  .");return}const o=a.id,l=new Date().toISOString();await Re.from("profiles").update({disabled_at:l}).eq("id",o),await Re.from("myeongsik").update({deleted_at:l}).eq("user_id",o),await Re.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return g.jsxs(g.Fragment,{children:[g.jsxs("footer",{className:"py-8 pb-[calc(64px+env(safe-area-inset-bottom,0px)+var(--bottom-dock,0px))] px-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),g.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[g.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),g.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"     ,    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-1",children:["    (, )",g.jsx("br",{}),"       ( ,  ,  )"]}),g.jsxs("p",{className:"mb-2",children:["    (, )",g.jsx("br",{}),"       ( ,  ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"    /  ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"         "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-1",children:"       ."}),g.jsx("p",{className:"mb-2",children:"   3  ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),g.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",g.jsx("br",{}),"    ."]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),g.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function jTe(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function dk(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);if(!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12)return null;const l=new Date(i,a,0).getDate();return o<1||o>l?null:{y:i,m:a,d:o}}function y5(e,t,n){return e<t?t:e>n?n:e}function IF({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31",className:i="px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}){const a=_.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),o=_.useMemo(()=>jTe(a),[a]),[l,u]=_.useState(o);_.useEffect(()=>{u(o)},[o]);const d=h=>{if(!dk(h))return;const b=y5(h,n,r),{y,m:k,d:w}=dk(b),S=a.getHours(),j=a.getMinutes(),O=a.getSeconds(),A=a.getMilliseconds(),C=new Date(y,k-1,w,S,j,O,A);Number.isNaN(C.getTime())||t(C)};return g.jsx("input",{type:"date",value:l,min:n,max:r,onChange:h=>{const p=h.target.value;u(p),p&&d(p)},onBlur:()=>{if(!l||!dk(l)){u(o);return}const h=y5(l,n,r);h!==l&&(u(h),d(h))},className:i,"aria-label":" "})}function NTe({ms:e}){const{date:t,setDate:n}=Qr(),r=ec(),i=_.useMemo(()=>{const d=typeof e.id=="string"?e.id:"";if(d)return d;const h=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",p=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",h,p].filter(Boolean).join("|")},[e]);_.useEffect(()=>{n(new Date)},[i]);const a=Zv(e,void 0,void 0,{dstOffsetMinutes:r}),o=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,l=_.useMemo(()=>{const d=typeof e.ganji=="string"?e.ganji:"",h=a?.dae?.gz?`${a.dae.gz}`:null,p=a?.se?.gz?`${a.se.gz}`:null,b=a?.wol?.gz?`${a.wol.gz}`:null,y=[h,p,b].filter(Boolean).join(" ");return[d,y].filter(Boolean).join(" + ")},[e.ganji,a]),u=d=>{n(d)};return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto mb-4 px-2 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[l&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:l}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),g.jsx(IF,{date:o,onChange:u,min:"1900-01-01",max:"2100-12-31"})]})})]})}function OTe({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:l}){return g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"/"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:" "}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>l("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>l("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function CTe({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),l=t===i;return g.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",l?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function MTe({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""})]})}),g.jsx("tbody",{children:e.map((i,a)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),g.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:i.date}),g.jsx("td",{className:"p-1 text-center",children:i.year}),g.jsx("td",{className:"p-1 text-center",children:i.month}),g.jsx("td",{className:"p-1 text-center",children:i.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,l)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:o.branch})},l))})}),g.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function DTe({toast:e,showToast4:t,searchToast:n,error:r}){return g.jsxs(g.Fragment,{children:[e&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",g.jsx("br",{}),"   ."]})}),r&&g.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function PTe({choices:e,onChoose:t}){return!e||e.length===0?null:g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"  ."}),g.jsx("div",{className:"flex gap-2",children:e.map(n=>g.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const Lj=["","","","","","","","","",""],Zp=["","","","","","","","","","","",""],RTe={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},$F=["","","","","","","","","","","",""],LTe=Zp,ITe=$F,$Te=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],BTe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zTe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function mp(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=RTe[n],i=$F.indexOf(t),a=(r+(i>=0?i:0))%10;return Lj[a]}function Fx(e,t){const n=t===""?LTe:ITe,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=Zp.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=Lj[(r+a)%10],l=n[a];i[l]=`${o}${l}`}return i}const UTe={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function FTe(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function HTe({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?g.jsxs("div",{className:"w-full",children:[n&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:Lj.map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Wi(o,"stem",a)}`,children:o},o))})]}),r&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:Zp.filter(o=>{const l=FTe(e),u=t[l];return u?zTe[o]===BTe[u]:!0}).map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Wi(o,"branch",a)}`,children:o},o))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function GTe(){const[e,t]=_.useState({}),[n,r]=_.useState(null),[i,a]=_.useState(null),[o,l]=_.useState(!0),[u,d]=_.useState(!0),[h,p]=_.useState(""),[b,y]=_.useState("male"),[k,w]=_.useState(null),[S,j]=_.useState(!1),[O,A]=_.useState(null),[C,D]=_.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[P,I]=_.useState(!1),[U,K]=_.useState(null),[q,H]=_.useState(null),[B,W]=_.useState(!1),[X,Z]=_.useState(!1),Y=J=>{H(J),setTimeout(()=>H(null),1800)};return _.useEffect(()=>{if(!B)return;const J=setTimeout(()=>W(!1),2e3);return()=>clearTimeout(J)},[B]),_.useEffect(()=>{if(!X)return;const J=setTimeout(()=>Z(!1),2e3);return()=>clearTimeout(J)},[X]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,gender:b,setGender:y,results:k,setResults:w,searching:S,setSearching:j,selectedRow:O,setSelectedRow:A,form:C,setForm:D,unknownPlace:P,setUnknownPlace:I,error:U,setError:K,toast:q,showToast4:B,setShowToast:W,searchToast:X,setSearchToast:Z,showToast:Y}}function BF(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function v5(e,t){return Zp.filter(n=>mp(e,n)===t)}function x5(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=v5(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=mp(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=v5(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=mp(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function YTe(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=Fx(i.dayStem,r),o=u=>Object.entries(a).find(([,d])=>d.startsWith(u)),l=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=l(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=l(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function qTe(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?mp(e.yearStem,e.monthBranch)!==e.monthStem:!1}function KTe(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=Fx(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function fk(e,t,n){const i=Fx(e,t)[n];return i?i.slice(0,1):null}function WTe({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,setResults:b,setError:y,showToast:k}){const w=o||u,S=!!(e.yearStem&&e.yearBranch),j=!!(e.dayStem&&e.dayBranch),O=!w||S||j,A=!!n&&n.endsWith("Stem"),C=!!n&&n.endsWith("Branch"),D=_.useMemo(()=>BF(e),[e]);return _.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const B=fk(e.dayStem,h,e.hourBranch);B&&t(W=>({...W,hourStem:B}))}},[h,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:w,canEnterOthers:O,activeIsStem:A,activeIsBranch:C,filledAll:D,monthBranchChoices:i,handleSelect:B=>{if(!n)return;if(!O&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){y("/      ."),setTimeout(()=>y(null),1500);return}let X={...e,[n]:B};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const J=x5(X,n,o);X=J.next,a(J.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(X=YTe(X,n,u,h));let Z=!1;qTe(X,o)&&(l(!1),Z=!0),KTe(X,u,h)&&(d(!1),Z=!0),Z&&k("/  .  ."),t(X),b(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const J={...X};if(J.yearStem&&J.yearBranch&&!J.monthStem){r("monthStem");return}if(J.monthStem&&J.monthBranch&&!J.dayStem){r("dayStem");return}if(J.dayStem&&J.dayBranch&&!J.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:B=>{let W={...e,monthBranch:B};a(null),W=x5(W,"monthBranch",o).next,t(W),r("dayStem")},clearAll:()=>{t({}),b(null),y(null),r(null),a(null)},onToggleWoldu:B=>{b(null),B&&t(W=>{const X={...W};return X.yearStem&&X.monthBranch&&(X.monthStem=mp(X.yearStem,X.monthBranch)),X}),l(B)},onToggleSiju:B=>{b(null),B&&t(W=>{const X={...W};if(X.dayStem&&X.hourBranch){const Z=fk(X.dayStem,h,X.hourBranch);Z&&(X.hourStem=Z)}return X}),d(B)},onChangeHourRule:B=>{if(b(null),p(B),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const W=fk(e.dayStem,B,e.hourBranch);W&&t(X=>({...X,hourStem:W}))}}}}function VTe(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,l=t!==null?n?.filter((q,H)=>H===t)??[]:[];if(l.length===0)return{error:"  ."};const u=l[0],d=i===""?"/":"",[h,p,b]=u.date.split("-").map(Number);let y=0,k=0;if(u.hourSlots.length>0){const q=u.hourSlots[0].branch,H=UTe[q];H&&(y=H.hh,k=H.mi)}const w=new Date(h,p-1,b,y,k),S=w,j="",O=r==="male"?"":"",A=ZTe(u.year.charAt(0),O),C=ct(S,127.5),D=Et(S,127.5),P=ht(S,d),I=no(S,d),U=[`: ${C} ${D} ${P}`,I?`${I}`:null].filter(Boolean).join(" ");return{payload:{id:j6(),name:"",birthDay:`${h}${String(p).padStart(2,"0")}${String(b).padStart(2,"0")}`,birthTime:`${String(y).padStart(2,"0")}${String(k).padStart(2,"0")}`,gender:O,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:hu(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:U,dayStem:u.day.charAt(0),dateObj:w,corrected:S,correctedLocal:j,dir:A,favorite:!1}}}function ZTe(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function XTe(e){vn.getState().add(e)}function JTe(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,l=`${e.hourStem}${e.hourBranch}`,u=[],d=new Date(1900,0,1,12,0,0),h=new Date(2100,11,31,12,0,0);for(let p=d.getTime();p<=h.getTime();p+=24*3600*1e3){const b=new Date(p),y=ct(b);if(y!==i)continue;const k=Et(b);if(k!==a)continue;const w=ht(b,n);if(w!==o)continue;const S=Fx(e.dayStem,t),j=[];for(let O=0;O<12;O++){const A=Zp[O];S[A]===l&&j.push({branch:A,time:$Te[O]})}if(j.length!==0&&(u.push({date:`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`,year:y,month:k,day:w,hour:l,hourSlots:j}),u.length>=r))break}return u}function QTe({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:l,setSearching:u,setError:d,setSearchToast:h,setForm:p,setUnknownPlace:b,showToast:y,onSave:k,onClose:w}){return{doSearch:()=>{if(l(null),d(null),!BF(e)){d(" 4  .");return}u(!0);try{const A=JTe(e,t,t===""?"/":"");A.length===0&&d("  . (: 1900~2100)"),l(A)}catch(O){O instanceof Error?d(O.message):d(String(O))}finally{u(!1)}},handleSave:()=>{const O=VTe({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in O){h(!0);return}ju.flushSync(()=>{XTe(O.payload)}),k(O.payload),y(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),b(!1),w()}}}function eAe({open:e,onClose:t,onSave:n}){const{settings:r}=xn(),i=GTe(),a=WTe({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=QTe({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:g.jsx(cy,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),g.jsx(OTe,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",g.jsx("br",{}),g.jsx("b",{children:""}),"  ",g.jsx("b",{children:""})," ."]}),g.jsx(CTe,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),g.jsx(PTe,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:g.jsx(HTe,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:g.jsx(MTe,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),g.jsx(DTe,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function tAe(){return g.jsx("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:g.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "})})}function nAe({sections:e,toggleSection:t}){return g.jsxs("div",{className:"mt-3 border-t pt-2",children:[g.jsxs("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["   ",g.jsx("span",{className:"text-amber-500",children:"(TIP.  AI  . ex.,  )"})]}),g.jsx("p",{className:"text-amber-500",children:"      . (     .)"}),g.jsx("p",{className:"text-amber-500",children:" AI     .  ,   ."}),g.jsx("p",{className:"text-amber-500",children:"  AI ,    .  ."})]}),g.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function rAe({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return g.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[g.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),g.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(l=>g.jsx("button",{type:"button",onClick:()=>n(l),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===l?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[l].label},l))}),g.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function iAe({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>g.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&g.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))})]})}function aAe({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?g.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:" "}),g.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[g.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),g.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:"  "}),g.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:" "}),a.map(o=>g.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function oAe({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),g.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function sAe({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[g.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const l=!a&&o!=="",u=!l&&t===o;return g.jsxs("button",{type:"button",onClick:()=>{l||n(o)},disabled:l,title:l?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",l?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":l?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",l?"":""]},o)})}),g.jsx(IF,{date:r,onChange:i})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsx("p",{children:"      ."}),g.jsx("p",{children:"     ."}),g.jsx("p",{children:"      ."})]})]})}function lAe({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:l,onSeEndChange:u,onSeStartBlur:d,onSeEndBlur:h,seYearsCount:p,wolStartDate:b,wolEndDate:y,onWolStartChange:k,onWolEndChange:w,onWolStartBlur:S,onWolEndBlur:j,wolMonthsCount:O,ilStartDate:A,ilEndDate:C,onIlStartChange:D,onIlEndChange:P,onIlStartBlur:I,onIlEndBlur:U,ilDaysCount:K}){return g.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[g.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(q=>g.jsx("button",{type:"button",onClick:()=>t(q),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===q?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:q},q))}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),g.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((q,H)=>g.jsxs("button",{type:"button",onClick:()=>i(H),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(H)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[g.jsx("div",{className:"font-mono",children:q.gz}),g.jsxs("div",{className:"text-[10px] opacity-80",children:[q.age," (",q.startYear,"~",q.endYear,")"]})]},H))})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"number",value:a,onChange:q=>l(Number(q.target.value)),onBlur:d,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"number",value:o,onChange:q=>u(Number(q.target.value)),onBlur:h,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"month",value:b,onChange:q=>k(q.target.value),onBlur:S,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"month",value:y,onChange:q=>w(q.target.value),onBlur:j,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",O,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 7)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"date",value:A,onChange:q=>D(q.target.value),onBlur:I,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"date",value:C,onChange:q=>P(q.target.value),onBlur:U,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",K,""]})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsxs("p",{children:[" ",e,"   ."]}),g.jsx("p",{children:"    ."})]})]})}function cAe({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:l}){const u=l?" ":"";return g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&g.jsx("button",{type:"button",onClick:i,disabled:o,title:o?l:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),g.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?l:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),g.jsxs("div",{className:"mb-4 text-center",children:[g.jsx("button",{type:"button",onClick:n,disabled:o,title:o?l:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&g.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&g.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((d,h)=>g.jsxs("li",{className:"flex gap-1 items-start",children:[g.jsxs("span",{className:"shrink-0",children:[h+1,"."]}),g.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:d}),g.jsx("button",{type:"button",onClick:()=>a(h),disabled:o,title:o?l:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},h))})]})}function uAe({value:e,lockSelection:t=!1}){const[n,r]=_.useState(!1);return t?g.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:"   "}):g.jsxs("div",{children:[g.jsxs("div",{className:"relative",children:[g.jsx("textarea",{readOnly:!0,value:e,placeholder:"   ",className:["w-full text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 resize-none transition-[height] duration-200","desk:h-[270px] desk:overflow-y-auto",n?"h-[270px] overflow-y-auto pointer-events-auto":"h-[150px] overflow-hidden pointer-events-none desk:pointer-events-auto"].join(" ")}),!n&&g.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-10 rounded-b-md bg-gradient-to-t from-white/95 dark:from-neutral-800/95 to-transparent"})]}),g.jsx("div",{className:"mt-2 mb-3 flex justify-center desk:hidden",children:g.jsx("button",{type:"button",onClick:()=>r(i=>!i),className:"px-3 py-1 rounded-full border text-xs bg-white text-neutral-700 border-neutral-300 dark:bg-neutral-900 dark:text-neutral-200 dark:border-neutral-700",children:n?"":""})})]})}const dAe={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},fAe=["","","","",""],hAe={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},w5={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function mAe(){const[e,t]=_.useState(null);return _.useEffect(()=>{let n=!0;return Re.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const pAe={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},Sv=Go(e=>({sections:pAe,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),hk=1e3*60*60*24;function mk(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function Eb(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function Tb(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function _5(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function S5(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function gAe(){const e=new Date().getFullYear(),[t,n]=_.useState(e),[r,i]=_.useState(e),[a,o]=_.useState(()=>S5()),[l,u]=_.useState(()=>S5()),[d,h]=_.useState(()=>_5()),[p,b]=_.useState(()=>_5()),y=Z=>{n(Z)},k=Z=>{i(Z)},w=()=>{const Z=t;let Y=r;Y<Z&&(Y=Z),Y-Z>9&&(Y=Z+9),i(Y)},S=()=>{let Z=t;const Y=r;Y<Z&&(Z=Y),Y-Z>9&&(Z=Y-9),n(Z)},j=_.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const Z=r-t+1;return Z>0?Z:0},[t,r]),O=_.useMemo(()=>{const Z=[];if(!Number.isFinite(t)||!Number.isFinite(r))return Z;for(let Y=t;Y<=r&&Z.length<10;Y++)Z.push(Y);return Z},[t,r]),A=Z=>{o(Z)},C=Z=>{u(Z)},D=()=>{const[Z,Y]=a.split("-").map(Number),[J,Q]=l.split("-").map(Number),ce=new Date(Z,Y-1),ae=new Date(J,Q-1);if(ae<ce){u(Eb(ce));return}if(mk(ce,ae)>11){const V=new Date(ce);V.setMonth(ce.getMonth()+11),u(Eb(V))}},P=()=>{const[Z,Y]=a.split("-").map(Number),[J,Q]=l.split("-").map(Number),ce=new Date(Z,Y-1),ae=new Date(J,Q-1);if(ae<ce){o(Eb(ae));return}if(mk(ce,ae)>11){const V=new Date(ae);V.setMonth(ae.getMonth()-11),o(Eb(V))}},I=_.useMemo(()=>{const[Z,Y]=(a||"").split("-").map(Number),[J,Q]=(l||"").split("-").map(Number);if(!Number.isFinite(Z)||!Number.isFinite(Y)||!Number.isFinite(J)||!Number.isFinite(Q))return 0;const ce=new Date(Z,Y-1,1),ae=new Date(J,Q-1,1),z=mk(ce,ae)+1;return z>0?z:0},[a,l]),U=_.useMemo(()=>{const Z=[],[Y,J]=a.split("-").map(Number),[Q,ce]=l.split("-").map(Number),ae=new Date(Y,J-1),z=new Date(Q,ce-1);if(Number.isNaN(ae.getTime())||Number.isNaN(z.getTime()))return Z;for(;ae<=z&&Z.length<12;)Z.push(`${ae.getFullYear()}-${String(ae.getMonth()+1).padStart(2,"0")}`),ae.setMonth(ae.getMonth()+1);return Z},[a,l]),K=Z=>{h(Z)},q=Z=>{b(Z)},H=()=>{if(!d||!p)return;const[Z,Y,J]=d.split("-").map(Number),[Q,ce,ae]=p.split("-").map(Number),z=new Date(Z,Y-1,J,4,0,0),V=new Date(Q,ce-1,ae,4,0,0);if(V<z){b(Tb(z));return}if(Math.floor((V.getTime()-z.getTime())/hk)>7){const oe=new Date(z);oe.setDate(z.getDate()+6),b(Tb(oe))}},B=()=>{if(!d||!p)return;const[Z,Y,J]=d.split("-").map(Number),[Q,ce,ae]=p.split("-").map(Number),z=new Date(Z,Y-1,J,4,0,0),V=new Date(Q,ce-1,ae,4,0,0);if(z>V){h(Tb(V));return}if(Math.floor((V.getTime()-z.getTime())/hk)>7){const oe=new Date(V);oe.setDate(V.getDate()-6),h(Tb(oe))}},W=_.useMemo(()=>{const[Z,Y,J]=(d||"").split("-").map(Number),[Q,ce,ae]=(p||"").split("-").map(Number);if(!Number.isFinite(Z)||!Number.isFinite(Y)||!Number.isFinite(J)||!Number.isFinite(Q)||!Number.isFinite(ce)||!Number.isFinite(ae))return 0;const z=new Date(Z,Y-1,J,4,0,0),V=new Date(Q,ce-1,ae,4,0,0),ne=Math.floor((V.getTime()-z.getTime())/hk)+1;return ne>0?ne:0},[d,p]),X=_.useMemo(()=>{const Z=[],[Y,J,Q]=d.split("-").map(Number),[ce,ae,z]=p.split("-").map(Number),V=new Date(Y,J-1,Q,4,0,0),ne=new Date(ce,ae-1,z,4,0,0);if(Number.isNaN(V.getTime())||Number.isNaN(ne.getTime()))return Z;const oe=new Date(V);for(;oe<=ne&&Z.length<31;){const ue=oe.getFullYear(),pe=String(oe.getMonth()+1).padStart(2,"0"),ye=String(oe.getDate()).padStart(2,"0");Z.push(`${ue}-${pe}-${ye}`),oe.setDate(oe.getDate()+1)}return Z},[d,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:l,ilStartDate:d,ilEndDate:p,onSeStartChange:y,onSeEndChange:k,onSeStartBlur:w,onSeEndBlur:S,onWolStartChange:A,onWolEndChange:C,onWolStartBlur:D,onWolEndBlur:P,onIlStartChange:K,onIlEndChange:q,onIlStartBlur:H,onIlEndBlur:B,seYearsCount:j,wolMonthsCount:I,ilDaysCount:W,seYearsList:O,wolMonthsList:U,ilDaysList:X}}function bAe({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=Sv(ae=>ae.sections),i=Sv(ae=>ae.toggleSection),[a,o]=_.useState("analysis"),[l,u]=_.useState(!1),[d,h]=_.useState(!1),[p,b]=_.useState(""),[y,k]=_.useState("personality"),[w,S]=_.useState("overview"),[j,O]=_.useState("solo"),[A,C]=_.useState(""),[D,P]=_.useState(!1),[I,U]=_.useState(""),[K,q]=_.useState([]),[H,B]=_.useState(""),[W,X]=_.useState([]),Z=gAe();_.useEffect(()=>{y!=="love"&&y!=="compat"&&(O("solo"),b(""))},[y]),_.useEffect(()=>{!t&&D&&P(!1)},[t,D]),_.useEffect(()=>{!n&&A!==""&&C("")},[n,A]),_.useEffect(()=>{I!==""&&q([])},[I]),_.useEffect(()=>{B(""),X([])},[e]);function Y(){const ae=H.trim();ae&&(X(z=>[...z,ae]),B(""))}function J(ae){X(z=>z.filter((V,ne)=>ne!==ae))}function Q(){X([])}function ce(ae){q(z=>z.includes(ae)?z.filter(V=>V!==ae):[...z,ae])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:l,setFriendMode:u,teacherMode:d,setTeacherMode:h,partnerId:p,setPartnerId:b,mainCategory:y,setMainCategory:k,subCategory:w,setSubCategory:S,relationMode:j,setRelationMode:O,activeTab:A,setActiveTab:C,isMultiMode:D,setIsMultiMode:P,multiTab:I,setMultiTab:U,selectedDaeIdx:K,setSelectedDaeIdx:q,handleToggleDae:ce,rangeControls:Z,questionDraft:H,setQuestionDraft:B,extraQuestions:W,setExtraQuestions:X,handleAddQuestion:Y,handleRemoveQuestion:J,handleClearQuestions:Q}}const zF=Go(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function Ij(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const A=Zi(t,n,r);t=A.getFullYear(),n=A.getMonth()+1,r=A.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),l=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,d=kp(l,u,i),h=e.mingSikType??"/",p=ct(d,u),b=Et(d,u),y=ht(d,h),k=i?null:no(d,h),w=Ie(p),S=Ie(b),j=Ie(y),O=k?Ie(k):"";return[w,S,j,O]}function UF(e){const t=new Date(e.corrected),n=Ij(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",l=o&&a||!o&&!a?"forward":"backward",u=Ap(t,n[1],l,120,e.birthPlace?.lon??127.5),d=u.firstChange;if(!d)return[];const h=[];let p=Ie(u.events[0]?.gz??n[1]);for(let b=0;b<10;b++){const y=new Date(d);if(y.setFullYear(y.getFullYear()+b*10),b>0){const k=u.events[b];k&&(p=Ie(k.gz))}h.push(`${y.getFullYear()} ${String(y.getMonth()+1).padStart(2,"0")} ${p}  `)}return h}const yAe=["- AI     ,      . (, ,   )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    .","-      ,    ."],vAe=["- :     . ///  .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""];function xAe(e,t){e.push("### ()");const n=t?vAe:yAe;e.push(...n)}function wAe(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function _Ae(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...l)=>e.push(...l);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."):o("","## ()","-  /  .","-         .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function SAe(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function kAe(e,t){_Ae(e,t)||SAe(e,t)}function EAe(e){return e==="multi"?"multi":"single"}function FF(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const l=EAe(r),u=[],d=o===!0;return xAe(u,d),t==="etc"||(wAe(u,{mode:l,tab:i,isStudyTone:d}),kAe(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:d})),u.join(`
`)}const TAe=!1,k5=e=>e<10?`0${e}`:`${e}`;function AAe(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Zi(i,a,o,0,0),u=`${l.getFullYear()}${k5(l.getMonth()+1)}${k5(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const Tm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Am={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Tu={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ab={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},jAe=["","","","",""];function E5(e){return jAe.includes(e)}const HF={:"",:"",:"",:"",:""},GF={:"",:"",:"",:"",:""},YF={:"",:"",:"",:"",:""},qF={:"",:"",:"",:"",:""};function OE(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Tm[t])return Tm[t];if(["","","","","","","","","","","",""].includes(t))return Ab[t]??null;if(Am[t])return Ab[Am[t]]??null;const n=t.charAt(0);return Tm[n]?Tm[n]:["","","","","","","","","",""].includes(n)?n:Am[n]?Ab[Am[n]]??null:["","","","","","","","","","","",""].includes(n)?Ab[n]??null:null}function NAe(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=OE(n);i&&(t[i]=(t[i]??0)+r)}return t}function OAe(e){if(!e)return[];const t=OE(e.charAt(0)),n=OE(e.charAt(1));return[t,n].filter(Boolean)}function jb(e){const t=OAe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function CAe(e,t){const n=Tu[e],r=Tu[t];if(!n||!r)return"";let i;r===n?i="":r===HF[n]?i="":r===GF[n]?i="":r===YF[n]?i="":r===qF[n]?i="":i="";const a=E5(e)===E5(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function KF(e,t){return t===e?"":t===HF[e]?"":t===GF[e]?"":t===YF[e]?"":t===qF[e]?"":""}function WF(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}const MAe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},DAe=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=Tm[t]??t,i=Am[n]??n;return`${r}${i}`},$j=e=>{const t=DAe(e),n=MAe[t];return n?{...n,code:t}:null};function VF(e,t){const n=AAe(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let l="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),d=String(n.corrected.getMinutes()).padStart(2,"0");l=t?"":`${u}:${d}`}return`${i} ${a} ${o}  ${l}`}function PAe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Tu[n];i&&(t[i]+=r)}return t}function RAe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=CAe(t,r);n[a]+=i}return n}function LAe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const IAe={natal:50,dae:30,se:20,wol:7,il:3};function $Ae(e){const t={};for(const{kind:r,bare:i}of e){const a=IAe[r]??0;if(a<=0)continue;const o=WF(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function ZF(e,t,n){const r=NAe(e.perStemElementScaled),i=t!==""&&n?.dae?jb(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?jb(n.se):{},o=(t===""||t==="")&&n?.wol?jb(n.wol):{},l=t===""&&n?.il?jb(n.il):{},u=$Ae([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:l}]),d=WF(u),h=PAe(d),p=RAe(d,e.dayStem),b=LAe(p);return{perStemAugBare:d,elementPercent:h,totalsSub:p,totalsMain:b}}function XF(e){return!e.birthTime||e.birthTime===""}function JF(e,t){return t[3]?["","","",""]:["","",""]}function BAe(e,t){return e.map((n,r)=>t[r]??"")}const zAe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function kv(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>kv(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(zAe(e)){const t={};for(const[n,r]of Object.entries(e)){const i=kv(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function UAe(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function FAe(e,t){const n=kv(e);if(n===void 0)return"";const r=UAe(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function QF(e,t,n){const r=FAe(t,n);return r.trim()?`## ${e}
${r}`:""}const Yn=(e,t)=>QF(e,t,"plain"),Br=(e,t)=>QF(e,t,"fenced"),HAe=(e,t)=>{if(!e)return{};const n=t,r=l=>{if(!l)return;const u={};for(const[d,h]of Object.entries(l)){if(!Array.isArray(h))continue;const p=h.filter(b=>typeof b=="string"&&b.includes(n));p.length>0&&(u[d]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},GAe=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function CE(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${KF(t,n)})`,r]))}function YAe(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let l=0;l<r.length;l++){const u=n[l]??"";u&&a.push({kind:"natal",pos:r[l],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function qAe(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${Ie(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${Ie(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${Ie(t.wol)}`),e===""&&t.il&&n.push(`:${Ie(t.il)}`),n.length>0?n.join(" / "):"()"}const T5={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},KAe=["year","month","day","hour"],WAe=new Set(["","","","",""]),Nb=new Set(["","","","",""]),A5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},VAe={:5,:7,:5,:-5,:-7,:-5},pk=e=>Math.round(e*10)/10;function eH(e){const{natal:t,perStemElementScaled:n}=e;if(!n||!t||t.length<3)return null;let r=0,i=0;Object.entries(n).forEach(([I,U])=>{const K=Number(U)||0;Nb.has(I.charAt(0))?r+=K:i+=K});const a=r+i>0?(r-i)/(r+i):0;let o=0,l=0,u=0,d=0;t.forEach(I=>{if(!I||I.length<2)return;const U=I[0],K=A5[I[1]];[U,K].forEach(q=>{q&&(WAe.has(q)?o+=1:l+=1,Nb.has(q)?u+=1:d+=1)})});const h=o+l>0?(o-l)/(o+l):0,p=u+d>0?(u-d)/(u+d):0;let b=0,y=0;t.forEach((I,U)=>{if(!I||I.length<2)return;const K=KAe[U],q=T5[K].stem,H=T5[K].branch;Nb.has(I[0])?b+=q:y+=q;const B=A5[I[1]];B&&Nb.has(B)?b+=H:y+=H});const k=b+y>0?(b-y)/(b+y):0,w=t[1]?.charAt(1),S=(VAe[w??""]||0)/100,j=h*.3+p*.3+a*.2+k*.2+S;if(!Number.isFinite(j))return null;const O=(Math.min(1,Math.max(-1,j))+1)*50,A=100-Math.abs(O-50)*2,C=pk(O),D=pk(100-O),P=C>=55?"":C<=45?"":"";return{yang:C,yin:D,harmony:pk(A),category:P}}function tH(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:l,category:u,topic:d,subTopic:h,relationMode:p,teacherMode:b,sections:y}=e,k=y?.tenGod??!0,w=y?.twelveUnseong??!0,S=y?.twelveShinsal??!0,j=y?.shinsal??!0,O=y?.nabeum??!0,A=XF(t),C=Ie(n[3]??""),D=!!C,P=[Ie(n[0]??""),Ie(n[1]??""),Ie(n[2]??""),C],I=UF(t).slice(0,10),U=$l({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),K=af({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:q,shinsalGaehwa:H,shinsalBase:B}=zF.getState(),W=B===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",X=ZF(o,a,r),Z=X.elementPercent,Y=X.totalsSub,{flags:J}=M7(P,o.natalFixed.elementScoreRaw),Q=`${u} (${l.toFixed(1)}%)  ${[` ${J..||J..||J..||J..?"":""}`,` ${J..||J..||J..||J..?"":""}`,` ${J..||J..?"":""}`].join(", ")}`,ce=JF(t,P),ae=o.dayStem,z=Tu[ae]??Tu[o.dayStem]??"",V=[` : ${t.name??""} (${VF(t,A)}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(D?` ${P[3]}`:""),`: ${qAe(a,r)}`].join(`
`),ne=[];ne.push(Br("  (10)",I)),ne.push(Br("",Q));const oe=eH({natal:P,perStemElementScaled:o.natalFixed.overlay.perStemAugFull??o.natalFixed.overlay.perStemAugBare});oe&&ne.push(Br("()",oe)),ne.push(Br("(  )",CE(o.natalFixed.elementPercent100,z))),a!==""&&ne.push(Br(`(=${a})`,CE(Z,z))),k&&(ne.push(Br(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ne.push(Br(` ( 10=${a} 100)`,Y)));const ue=YAe({tab:a,natal:P,posLabels:ce,chain:r});if(w){const Te=ue.map(({pos:xe,gz:se})=>({pos:xe,gz:se,unseong:Yo(P[2]?.charAt(0)??"",se.charAt(1))}));ne.push(Br("(+ )",Te))}if(S){const Te=ue.map(({pos:xe,gz:se})=>({pos:xe,gz:se,shinsal:qo({baseBranch:W,targetBranch:se.charAt(1),era:q,gaehwa:H})}));ne.push(Br("(+  )",Te))}if(O){const Te=[];for(const xe of ue){const se=$j(xe.gz);if(!se){xe.kind==="natal"&&Te.push({pos:xe.pos,gz:xe.gz,nabeum:null});continue}Te.push({pos:xe.pos,gz:xe.gz,nabeum:se.name,element:se.element,code:se.code})}ne.push(Br("(+ )",Te))}if(ne.push(Br("()",Xv(ce.map((Te,xe)=>P[xe]??"")))),ne.push(Br("( :  )",U)),j)if(a===""){const Te=af({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ne.push(Br("( )",{good:Te.good,bad:Te.bad,meta:Te.meta}))}else ne.push(Br(`( =${a})`,K));const pe=ne.filter(Te=>Te&&Te.trim().length>0).join(`

`),ye=FF({topic:d,subTopic:h,timeMode:"single",tab:a,relationMode:p,teacherMode:b}),Oe=["-----","  ","","1.       (////)  .","2.  ,        ."];ye&&Oe.push("","  ( )",ye);const ie=Oe.join(`
`);return{header:V,body:pe,guide:ie}}function ZAe(e){const{header:t,body:n,guide:r}=tH(e);return[t,n,r].join(`

`)}function Lo(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:l,unified:u,dayEl:d,baseDayStem:h,show:p,shinsalSettings:b,harmonyMode:y="scope",includeBasicInfo:k=!0}=e,w=ZF(u,t,i),S=$l({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),j=p.shinsal?af({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:l}):null,O=p.nabeum?$j(r):null,A=p.twelveUnseong?Yo(h,r.charAt(1)):null,C=p.twelveShinsal?qo({baseBranch:b.baseBranch,targetBranch:r.charAt(1),era:b.era,gaehwa:b.gaehwa}):null,D=y==="full"?S:GAe(S,t);return{...k?{:n,:r}:{},:CE(w.elementPercent,d),...p.tenGod?{:w.totalsSub}:{},:D,...p.shinsal?{:HAe(j,t)}:{},...p.nabeum?{:O?{gz:r,nabeum:O.name,element:O.element,code:O.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:A}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:C}}:{}}}function XAe(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(n.length===0||t.length===0)return[];const h=[];for(const p of t){const b={dae:p.gz,se:null,wol:null,il:null},y=Lo({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:b,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"full",includeBasicInfo:!1});h.push(Yn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,y))}return h.filter(p=>p.trim().length>0)}function Bj(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function nH(e,t){const n=e[t],r=e[t+1];return r?Bj(r):new Date(n.endYear+1,0,1)}function rH(e,t,n,r){return e<r&&t>n}function iH(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=Bj(l),d=nH(e,o);rH(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function aH(e,t){return iH(e,t,t)}function Ev(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=Bj(l),d=nH(e,o);rH(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function ME(e,t){if(!Number.isInteger(t)||t<1||t>12)throw new RangeError(`findSeForMonthPairs: month must be 1..12, got ${t}`);const n=new Date(e,t-1,1,0,0,0,0),r=new Date(e,t,1,0,0,0,0),i=jn(e,315),a=[],o=u=>{const d=ct(new Date(u,5,15,12,0,0,0)),h=Ie(d||"");h&&(a.some(p=>p.useYear===u&&p.gz===h)||a.push({useYear:u,gz:h}))};return n<i&&i<r?(o(e-1),o(e)):r<=i?o(e-1):o(e),a}function JAe(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=Array.from(new Set(t)).sort((w,S)=>w-S),p=[],b=h[0],y=h[h.length-1],k=iH(n,b,y);if(k.length>0){const w=b,S=ct(new Date(w,5,15,12,0,0)),j=Ie(S||""),O={:k.map(A=>{const C={dae:A.gz,se:j||null,wol:null,il:null};return Lo({scope:"",infoText:`${A.age} ${A.gz} (${A.startYear}~${A.endYear})`,gz:A.gz,chain:C,natal:r,relationArgs:{daewoon:A.gz,sewoon:j||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};p.push(Yn("",O))}for(const w of h){const S=new Date(w,5,15,12,0,0),j=ct(S),O=aH(n,w),A=O.length>0?O[0]:null,C=Ie(j||""),D=w,P={dae:A?A.gz:null,se:C||null,wol:null,il:null},I=Lo({scope:"",infoText:`${D} ${C}`,gz:C,chain:P,natal:r,relationArgs:{daewoon:A?.gz,sewoon:C||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Yn(` ${D}`,{:I}))}return p.filter(w=>w.trim().length>0)}function gk(e){return String(e).padStart(2,"0")}function QAe(e,t){const n=new Date(e,t-1,1,12,0,0,0),r=new Date(e,t,1,12,0,0,0),i=jn(e,315),a=ME(e,t);if(!(n<i&&i<r)){const k=a[a.length-1]??(()=>{const w=Ie(ct(new Date(e,5,15,12,0,0,0))||"");return{useYear:e,gz:w}})();return[{label:`${e}-${gk(t)}`,repDate:new Date(e,t-1,15,12,0,0,0),se:k}]}const l=1440*60*1e3,u=new Date(i.getTime()-l);u.setHours(12,0,0,0);const d=new Date(i.getTime()+l);d.setHours(12,0,0,0);const h=a.find(k=>k.useYear===e-1)??a[0],p=a.find(k=>k.useYear===e)??a[a.length-1],b=h??{useYear:e-1,gz:Ie(ct(new Date(e-1,5,15,12,0,0,0))||"")},y=p??{useYear:e,gz:Ie(ct(new Date(e,5,15,12,0,0,0))||"")};return[{label:`${e}-${gk(t)}()`,repDate:u,se:b},{label:`${e}-${gk(t)}()`,repDate:d,se:y}]}function eje(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=[],p=[],b=new Map;for(const O of t){const[A,C]=O.split("-").map(Number),D=Ev(n,A,C);for(const I of D)p.some(U=>U.gz===I.gz&&U.startYear===I.startYear)||p.push(I);const P=ME(A,C);for(const I of P){const U=`${I.useYear}:${I.gz}`;b.has(U)||b.set(U,{year:I.useYear,month:C,gz:I.gz})}}const[y,k]=t[0].split("-").map(Number),w=ME(y,k),S=w[w.length-1]?.gz??Ie(ct(new Date(y,5,15,12,0,0,0))||"");if(p.length>0){const O={:p.map(A=>{const C={dae:A.gz,se:S||null,wol:null,il:null};return Lo({scope:"",infoText:`${A.age} ${A.gz} (${A.startYear}~${A.endYear})`,gz:A.gz,chain:C,natal:r,relationArgs:{daewoon:A.gz,sewoon:S||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Yn("",O))}const j=Array.from(b.keys()).sort((O,A)=>{const C=Number(O.split(":")[0]),D=Number(A.split(":")[0]);return C-D});if(j.length>0){const O={:j.map(A=>{const C=b.get(A),D=C.year,P=C.gz,U=aH(n,D)[0]??p[0]??null,K={dae:U?U.gz:null,se:P,wol:null,il:null};return Lo({scope:"",infoText:`${D} ${P}`,gz:P,chain:K,natal:r,relationArgs:{daewoon:U?.gz,sewoon:P,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Yn("",O))}for(const O of t){const[A,C]=O.split("-").map(Number),D=Ev(n,A,C),P=D.length>0?D[0]:null,U=QAe(A,C).map(K=>{const q=Et(K.repDate),H=Ie(q||""),B={dae:P?P.gz:null,se:K.se.gz||null,wol:H,il:null};return Lo({scope:"",infoText:`${K.label} ${H}  ${K.se.useYear} ${K.se.gz}`,gz:H,chain:B,natal:r,relationArgs:{daewoon:P?.gz,sewoon:K.se.gz||void 0,wolwoon:H,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});h.push(Yn(` ${O}`,{:U}))}return h.filter(O=>O.trim().length>0)}function bk(e){const t=e.getFullYear(),n=jn(t,315),r=e<n?t-1:t,i=ct(new Date(r,5,15,12,0,0,0)),a=Ie(i||"");return{useYear:r,gz:a}}function tje(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,dayBoundaryRule:h}=e;if(t.length===0)return[];const p=[],[b,y,k]=t[0].split("-").map(Number),w=new Date(b,y-1,k,4,0),S=new Date(b,y-1,k,12,0);if(!Number.isNaN(w.getTime())){const j=Ev(n,b,y),O=j.length>0?j[0]:null,A=[];for(const q of t){const[H,B,W]=q.split("-").map(Number),X=new Date(H,B-1,W,12,0),Z=new Date(H,B-1,W,4,0);if(Number.isNaN(X.getTime())||Number.isNaN(Z.getTime()))continue;const Y=bk(X),J=Ie(Et(X)||""),Q=Ie(ht(Z,h)||""),ce=`${Y.useYear}|${Y.gz}|${J}`;A.some(ae=>ae.key===ce)||A.push({key:ce,repDateStr:q,seYear:Y.useYear,seGZ:Y.gz,wolGZ:J,ilGZ:Q})}const C=Ie(ht(w,h)||""),D=Ie(Et(S)||""),P=bk(S),I=A.length>0?A:[{key:`${P.useYear}|${P.gz}|${D}`,repDateStr:t[0],seYear:P.useYear,seGZ:P.gz,wolGZ:D,ilGZ:C}];if(O){const q=I[I.length-1],H={dae:O.gz,se:q.seGZ,wol:q.wolGZ,il:q.ilGZ},B=Lo({scope:"",infoText:`${O.age} ${O.gz} (${O.startYear}~${O.endYear})`,gz:O.gz,chain:H,natal:r,relationArgs:{daewoon:O.gz,sewoon:q.seGZ,wolwoon:q.wolGZ,ilwoon:q.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Yn("",B))}const U=I.filter(q=>q.seGZ.trim().length>0).map(q=>{const H={dae:O?O.gz:null,se:q.seGZ,wol:q.wolGZ,il:q.ilGZ};return Lo({scope:"",infoText:`${q.seYear} ${q.seGZ} (${q.repDateStr} )`,gz:q.seGZ,chain:H,natal:r,relationArgs:{daewoon:O?.gz,sewoon:q.seGZ,wolwoon:q.wolGZ,ilwoon:q.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});U.length>0&&p.push(Yn("",{:U}));const K=I.filter(q=>q.wolGZ.trim().length>0).map(q=>{const H={dae:O?O.gz:null,se:q.seGZ,wol:q.wolGZ,il:q.ilGZ};return Lo({scope:"",infoText:`${q.repDateStr} ${q.wolGZ}`,gz:q.wolGZ,chain:H,natal:r,relationArgs:{daewoon:O?.gz,sewoon:q.seGZ,wolwoon:q.wolGZ,ilwoon:q.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});K.length>0&&p.push(Yn("",{:K}))}for(const j of t){const[O,A,C]=j.split("-").map(Number),D=new Date(O,A-1,C,4,0),P=new Date(O,A-1,C,12,0);if(Number.isNaN(D.getTime())||Number.isNaN(P.getTime()))continue;const I=Ev(n,O,A),U=I.length>0?I[0]:null,q=bk(P).gz,H=Et(P),B=Ie(H||""),W=ht(D,h),X=Ie(W||""),Z={dae:U?U.gz:null,se:q||null,wol:B,il:X},Y=Lo({scope:"",infoText:`${j} ${X}`,gz:X,chain:Z,natal:r,relationArgs:{daewoon:U?.gz,sewoon:q||void 0,wolwoon:B||void 0,ilwoon:X||void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Yn(` ${j}`,{:Y}))}return p.filter(j=>j.trim().length>0)}function oH(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:l,selectedDaeList:u,daeList:d,seYears:h,wolMonths:p,ilDays:b,topic:y,subTopic:k,timeMode:w,teacherMode:S,sections:j}=e,O=XF(t),A=Ie(n[3]??""),C=!!A,D=t.mingSikType??"/",P=[Ie(n[0]??""),Ie(n[1]??""),Ie(n[2]??""),A],I=JF(t,P),U=P[2]?.charAt(0)??"",K=Tu[U]??Tu[a.dayStem]??"",q=!!i&&(j?.tenGod??!0),H=j?.twelveUnseong??!0,B=j?.twelveShinsal??!0,W=j?.shinsal??!0,X=j?.nabeum??!0,{shinsalBase:Z,shinsalEra:Y,shinsalGaehwa:J}=zF.getState(),Q=Z===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",ce=VF(t,O),ae=[` : ${t.name??""} (${ce}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(C?` ${P[3]}`:"")].join(`
`),z=[],{flags:V}=M7(P,a.natalFixed.elementScoreRaw),ne=`${l} (${o.toFixed(1)}%)  ${[` ${V..||V..||V..||V..?"":""}`,` ${V..||V..||V..||V..?"":""}`,` ${V..||V..||V..||V..?"":""}`].join("  ")}`;z.push(Yn("",ne));const oe=eH({natal:P,perStemElementScaled:a.natalFixed.overlay.perStemAugFull??a.natalFixed.overlay.perStemAugBare});if(oe&&z.push(Yn("()",oe)),z.push(Yn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([Oe,ie])=>[`${Oe}(${KF(K,Oe)})`,ie])))),q&&z.push(Yn(" ( 10 100)",a.natalFixed.totalsSub)),H){const Oe=Object.fromEntries(I.map((ie,Te)=>[ie,Yo(U,(P[Te]??"").charAt(1))]));z.push(Yn("()",Oe))}if(B){const Oe=Object.fromEntries(I.map((ie,Te)=>[ie,qo({baseBranch:Q,targetBranch:(P[Te]??"").charAt(1),era:Y,gaehwa:J})]));z.push(Yn("()",Oe))}z.push(Yn("//",V));const ue=Xv(BAe(I,P));if(z.push(Yn("()",ue)),W){const Oe=af({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});z.push(Yn("()",Oe))}if(X){const Oe=Object.fromEntries(I.map((ie,Te)=>{const xe=P[Te]??"",se=$j(xe);return[ie,se?{gz:xe,nabeum:se.name,element:se.element,code:se.code}:null]}));z.push(Yn("()",Oe))}d.length>0&&u.length>0&&z.push(...XAe({selectedDaeList:u,daeList:d,natal:P,basis:r,unified:a,dayEl:K,baseDayStem:U,show:{tenGod:q,twelveUnseong:H,twelveShinsal:B,shinsal:W,nabeum:X},shinsalSettings:{baseBranch:Q,era:Y,gaehwa:J}})),h.length>0&&z.push(...JAe({seYears:h,daeList:d,natal:P,basis:r,unified:a,dayEl:K,baseDayStem:U,show:{tenGod:q,twelveUnseong:H,twelveShinsal:B,shinsal:W,nabeum:X},shinsalSettings:{baseBranch:Q,era:Y,gaehwa:J}})),p.length>0&&z.push(...eje({wolMonths:p,daeList:d,natal:P,basis:r,unified:a,dayEl:K,baseDayStem:U,show:{tenGod:q,twelveUnseong:H,twelveShinsal:B,shinsal:W,nabeum:X},shinsalSettings:{baseBranch:Q,era:Y,gaehwa:J}})),b.length>0&&z.push(...tje({ilDays:b,daeList:d,natal:P,basis:r,unified:a,dayEl:K,baseDayStem:U,show:{tenGod:q,twelveUnseong:H,twelveShinsal:B,shinsal:W,nabeum:X},shinsalSettings:{baseBranch:Q,era:Y,gaehwa:J},dayBoundaryRule:D}));const pe=FF({topic:y,subTopic:k,timeMode:w,teacherMode:S}),ye=(kv(z.join(`

`))??"").toString();return{header:ae,body:ye,guide:pe}}function nje(e){const{header:t,body:n,guide:r}=oH(e);return[t,"",n,"",r].join(`
`)}function zj(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),l=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${l}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const l=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=l.slice(0,2),d=l.slice(2,4);r=`${u}:${d}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function rje(e){const{header:t,body:n}=tH(e),r=e.relationMode==="couple"?zj(e.partnerMs??null):null,i=r?Br("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function ije(e){const{header:t,body:n}=oH(e),r=e.relationMode==="couple"?zj(e.partnerMs??null):null,i=r?Br("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function aje(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function oje(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function sje(e){return e?`    .
`:""}function lje(e,t){if(e!=="couple")return"";const n=zj(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function Xd(e){return Ie(e)}function cje(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function j5(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Ie(n??"");return i||(r<=2?"--":"")})}function uje(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=Xd(ct(t)||""),i=Xd(Et(t)||""),a=Xd(ht(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function dje(e,t){const n=j5(e),r=j5(t);return{solarKo:n,lunarKo:r}}function N5(e,t){if(!t)return e;const n=to(e[2]||"",-1);return[e[0],e[1],n,e[3]]}function DE(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function fje(e,t,n){return e?"solar":t?"lunar":"solar"}function hje(e,t,n,r,i,a,o,l){return DE(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,l)}function mje(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=Xd(ct(a)||""),l=Xd(Et(a)||""),u=Xd(ht(a,t)||"");return[o,l,u,""]}function pje(e,t){return t&&e?e.stem+e.branch:""}function gje(e,t,n){const i=[...Ij(e)];return n&&t&&t.length===2&&(i[3]=t),i}function bje(e){const t=L7(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=eA(t);return{percent:n,category:p7(n)}}function yje(e){const t=UF(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,l=a?Number(a[2]):1,u=1,d=a?a[3]:"",h=n>0?wje(n,o):i*10;return{gz:d,age:h,startYear:o,startMonth:l,startDay:u,endYear:o+10}})}function vje(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function xje(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function O5(e){return cje(e)}function wje(e,t){return t-e+1}function _je({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:l,input:u}){const{tone:d,friendMode:h,teacherMode:p,partnerId:b,mainCategory:y,subCategory:k,relationMode:w,activeTab:S,isMultiMode:j,multiTab:O,selectedDaeIdx:A,rangeControls:C,extraQuestions:D,sections:P}=u,I=vn(kt=>kt.list),{date:U,setDate:K}=Qr();_.useEffect(()=>{K(new Date)},[e.id,K]);const q=_.useMemo(()=>b?I.find(kt=>kt.id===b)??null:null,[b,I]),H=e.mingSikType??"/",B=_.useMemo(()=>U??new Date,[U]),W=_.useMemo(()=>uje(r,B,H),[r,B,H]),X=_.useMemo(()=>l?W:{dae:null,se:null,wol:null,il:null},[l,W]),Z=Fi(kt=>kt.manualHour),Y=Fi(kt=>kt.usePrevDay),J=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:Q,lunarKo:ce}=_.useMemo(()=>dje(t,n),[t,n]),ae=_.useMemo(()=>DE(Q,Z,J),[Q,Z,J]),z=_.useMemo(()=>DE(ce,Z,J),[ce,Z,J]),V=_.useMemo(()=>mje(e,H),[e,H]),ne=O5(ae),oe=O5(z),ue=fje(ne,oe),pe=_.useMemo(()=>hje(ue,ne,oe,ae,z,V,Z,J),[ue,ne,oe,ae,z,V,Z,J]),ye=_.useMemo(()=>N5(pe,Y),[pe,Y]),Oe=_.useMemo(()=>J&&Z?Z.stem+Z.branch:ye[3]||"",[Z,ye,J]),ie=pje(Z,J),Te=_.useMemo(()=>gje(e,ie,J),[e,ie,J]),xe=_.useMemo(()=>N5(Te,Y),[Te,Y]),se=l?S:"",ze=y==="love"||y==="compat",Ze=ze&&w==="couple"?q??null:null,Ce=ze?w:void 0,Be=_.useMemo(()=>tx({natal:xe,tab:se,chain:X,hourKey:Oe}),[xe,se,X,Oe]),{percent:De,category:Xe}=_.useMemo(()=>bje(xe),[xe]),gt=_.useMemo(()=>yje(e),[e]),Mt=_.useMemo(()=>vje(I??[],e.id),[I,e.id]),fe=_.useMemo(()=>A.map(kt=>gt[kt]).filter(kt=>!!kt),[A,gt]),Me=_.useMemo(()=>O===""?C.seYearsList:[],[O,C.seYearsList]),_e=_.useMemo(()=>O===""?C.wolMonthsList:[],[O,C.wolMonthsList]),Ne=_.useMemo(()=>O===""?C.ilDaysList:[],[O,C.ilDaysList]),Ue=_.useMemo(()=>e?ZAe({ms:e,natal:xe,chain:X,basis:i,tab:se,unified:Be,percent:De,category:Xe,topic:y,subTopic:k,relationMode:w,teacherMode:p,sections:P}):"",[e,i,a,se,X,Be,De,Xe,xe,y,k,w,Ze,p,P]),Je=_.useMemo(()=>!e||!j||!o?"":nje({ms:e,natal:xe,basis:i,includeTenGod:a,unified:Be,percent:De,category:Xe,selectedDaeList:fe,daeList:gt,seYears:Me,wolMonths:_e,ilDays:Ne,topic:y,subTopic:k,timeMode:"multi",teacherMode:p,sections:P}),[e,j,o,Me,fe,gt,_e,Ne,xe,i,a,Be,De,Xe,y,k,Ce,Ze,p,h,P]),lt=_.useMemo(()=>lje(w,q),[w,q]),Rt=j?Je:Ue,Rn=_.useMemo(()=>oje(d),[d]),ar=_.useMemo(()=>sje(h),[h]),Ji=_.useMemo(()=>Rt||lt?`${Rt}${lt}
${Rn}${ar}`:"",[Rn,ar,Rt,lt]),or=_.useMemo(()=>xje(Ji,D),[Ji,D]),on=_.useMemo(()=>e?j?ije({ms:e,natal:xe,basis:i,includeTenGod:a,unified:Be,percent:De,category:Xe,selectedDaeList:fe,daeList:gt,seYears:Me,wolMonths:_e,ilDays:Ne,topic:y,subTopic:k,timeMode:"multi",relationMode:Ce,partnerMs:Ze,teacherMode:p,sections:P}):rje({ms:e,natal:xe,chain:X,basis:i,tab:se,unified:Be,percent:De,category:Xe,topic:y,subTopic:k,relationMode:w,partnerMs:Ze,teacherMode:p,sections:P}):"",[e,j,xe,i,a,Be,De,Xe,fe,gt,Me,_e,Ne,y,k,w,Ce,Ze,p,h,P,X,se]),xr=_.useMemo(()=>{const kt=on.trim();if(kt)return kt;const Qi=aje(Rt).trim();return Qi||Rt.trim()},[on,Rt]);return{date:U,setDate:K,partnerMs:q,partnerOptions:Mt,daeList:gt,tabForLogic:se,baseText:Rt,basePrompt:Ji,finalText:or,infoOnlyText:xr,allowManualHour:J,activePillars:ye}}function C5(e,t=1200){const[n,r]=_.useState(!1),i=!!(e&&e.trim().length>0),a=_.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function Sje(e,t){const{copied:n,canCopy:r,onCopy:i}=C5(e),{copied:a,canCopy:o,onCopy:l}=C5(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:l}}function kje({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=vn(q=>q._rtUserId),u=mAe()??o??null,d=fn(q=>q.loaded),h=fn(q=>q.userId),p=fn(q=>q.plan),b=_.useMemo(()=>Sm(!u||!d||h!==u?"FREE":p??null),[u,d,h,p]),y=_.useMemo(()=>s2(b),[b]),k=y.canUseMultiMode,w=y.canUseLuckTabs,S=y.canUseAllPrompts?"full":"locked",j=bAe({msId:e.id,canUseMultiMode:k,canUseLuckTabs:w}),O=_je({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:k,canUseLuckTabs:w,input:j}),{copiedAll:A,copiedInfo:C,canCopyAll:D,canCopyInfo:P,onCopyAll:I,onCopyInfoOnly:U}=Sje(O.finalText,O.infoOnlyText);function K(q,H){j.setMainCategory(q),j.setSubCategory(H?.[0]?.key??"overview")}return{sections:j.sections,toggleSection:j.toggleSection,tone:j.tone,setTone:j.setTone,friendMode:j.friendMode,setFriendMode:j.setFriendMode,teacherMode:j.teacherMode,setTeacherMode:j.setTeacherMode,date:O.date,setDate:O.setDate,planTier:b,promptAccess:S,canUseMultiMode:k,canUseLuckTabs:w,partnerId:j.partnerId,setPartnerId:j.setPartnerId,partnerMs:O.partnerMs,mainCategory:j.mainCategory,subCategory:j.subCategory,setSubCategory:j.setSubCategory,relationMode:j.relationMode,setRelationMode:j.setRelationMode,activeTab:j.activeTab,setActiveTab:j.setActiveTab,isMultiMode:j.isMultiMode,setIsMultiMode:j.setIsMultiMode,multiTab:j.multiTab,setMultiTab:j.setMultiTab,selectedDaeIdx:j.selectedDaeIdx,handleToggleDae:j.handleToggleDae,rangeControls:j.rangeControls,partnerOptions:O.partnerOptions,daeList:O.daeList,tabForLogic:O.tabForLogic,baseText:O.baseText,basePrompt:O.basePrompt,finalText:O.finalText,infoOnlyText:O.infoOnlyText,copiedAll:A,copiedInfo:C,canCopyAll:S==="full"&&D,canCopyInfo:S==="full"&&P,onCopyAll:I,onCopyInfoOnly:U,handleMainCategoryChange:K,setQuestionDraft:j.setQuestionDraft,questionDraft:j.questionDraft,extraQuestions:j.extraQuestions,setExtraQuestions:j.setExtraQuestions,handleAddQuestion:j.handleAddQuestion,handleRemoveQuestion:j.handleRemoveQuestion,handleClearQuestions:j.handleClearQuestions,allowManualHour:O.allowManualHour,activePillars:O.activePillars}}function Eje({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=kje({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),l=w5[o.mainCategory];if(!e)return g.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",d=u?"    . ":void 0,h=!u&&o.canCopyInfo,p=!u&&o.canCopyAll;return g.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-2 desk:space-y-3",children:[u?g.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[g.jsx("div",{className:"text-lg font-semibold",children:"  "}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",g.jsx("br",{}),"    100   ! (  )"]})]})}):null,g.jsx(tAe,{}),g.jsx(nAe,{sections:o.sections,toggleSection:o.toggleSection}),g.jsx(rAe,{tone:o.tone,toneMeta:dAe,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:b=>o.setFriendMode(b.target.checked),teacherMode:o.teacherMode,setTeacherMode:b=>o.setTeacherMode(b.target.checked)}),g.jsx(iAe,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:hAe,currentSubList:l,onMainCategoryChange:b=>o.handleMainCategoryChange(b,w5[b]),onSubCategoryChange:o.setSubCategory}),g.jsx(aAe,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),g.jsx(oAe,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:b=>{!o.canUseMultiMode&&b||o.setIsMultiMode(b)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?g.jsx(lAe,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(b=>({gz:b.gz,age:b.age,startYear:b.startYear,endYear:b.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):g.jsx(sAe,{tabs:fAe,activeTab:o.tabForLogic,setActiveTab:b=>{!o.canUseLuckTabs&&b!==""||o.setActiveTab(b)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),g.jsx(cAe,{questionDraft:o.questionDraft,onChangeDraft:b=>o.setQuestionDraft(b.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:d}),g.jsx(uAe,{value:o.finalText,lockSelection:u}),g.jsx("div",{className:"flex justify-end",children:g.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[g.jsx("button",{type:"button",onClick:o.onCopyInfoOnly,disabled:!h,title:h?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",h?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedInfo?"bg-green-600 text-white border-green-600":h?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:o.copiedInfo?"":`  ${h?"":" "}`}),g.jsx("button",{type:"button",onClick:o.onCopyAll,disabled:!p,title:p?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",p?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedAll?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:o.copiedAll?"":`  ${p?"":" "}`})]})})]})}function Tje(){const[e,t]=_.useState(null),[n,r]=_.useState(!1),[i,a]=_.useState(!1),[o]=_.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function Aje(){const e=vn(r=>r.loading),t=xn(r=>r.loaded),n=fn(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const M5="app_session_started_at_ms",jje=7200*1e3;function Nje(){if(typeof window>"u")return null;try{return window.sessionStorage}catch{return null}}function Oje(){const e=Nje();if(!e)return Date.now();const t=e.getItem(M5),n=t?Number(t):NaN;if(!Number.isFinite(n)||n<=0){const r=Date.now();try{e.setItem(M5,String(r))}catch{}return r}return n}function Cje(e=Date.now()){const t=Oje();return Math.max(0,e-t)}function Mje(e,t=Date.now()){return Cje(t)>=e}async function Dje(e,t){const{data:n,error:r}=await Re.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function Pje(e,t,n){const{error:r}=await Re.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const Rje=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Gd(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(Gd).join(",")}]`:Rje(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${Gd(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function Lje(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function Ije(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=Gd(t.select(t.store.getState()));const o=Lje(async p=>{try{await Pje(e,t.dbKey,p),a=Gd(p)}catch(b){console.error(`[settings] save failed key=${t.dbKey}`,b)}},n),l=p=>{r=!0;try{t.apply(p),a=Gd(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||l(p)},d=async()=>{const p=await Dje(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const b=t.select(p);Gd(b)!==a&&o(b)});const h=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:d,applyRemote:u,stop:h}}function $je(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function yk(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Bje(e){_.useEffect(()=>{if(!e)return;const t=[];t.push(Ije(e,{dbKey:"promptCopy.sections",store:Sv,select:o=>o.sections,apply:o=>Sv.setState({sections:o}),validate:$je,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,l,u)=>{const d=r.get(o);d&&window.clearTimeout(d);const h=window.setTimeout(()=>{r.delete(o),u()},l);r.set(o,h)},a=Re.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},l=>{if(Mje(jje)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!yk(l))return;const u=l.new,d=l.old,h=w=>yk(w)&&typeof w.setting_key=="string"?w.setting_key:null,p=w=>yk(w)?w.value:null,b=h(u)??h(d);if(!b)return;const y=t.find(w=>w.dbKey===b);if(!y)return;const k=typeof l.eventType=="string"?l.eventType:"";if(k==="INSERT"||k==="UPDATE"){y.applyRemote(p(u));return}y.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(l)):o.onChange(l)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),Re.removeChannel(a)}},[e])}function zje({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){_.useEffect(()=>{const r=Re;let i=!1,a=null;const o=h=>{const p=h?.user?.id??null;t(!!h),e(p)},l=h=>{o(h),h&&p6(Date.now()),i||(i=!0,n(!0))};(async()=>{const{data:h,error:p}=await r.auth.getSession();if(p){l(null);return}if(h.session){l(h.session);return}a=window.setTimeout(()=>l(null),1200)})();const{data:{subscription:d}}=r.auth.onAuthStateChange((h,p)=>{a!==null&&(window.clearTimeout(a),a=null),l(p),p||vn.getState().stopRealtime()});return()=>{a!==null&&window.clearTimeout(a),d.unsubscribe()}},[n,t,e])}function Uje(e){zje({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),Bje(e.userId)}function Fje(e){const[t,n]=_.useState(()=>e.length>0?e[0].id:""),[r,i]=_.useState(!1),[a,o]=_.useState(!1),[l,u]=_.useState(null),[d,h]=_.useState(!0),[p,b]=_.useState(!1),[y,k]=_.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:l,setEditing:u,showToday:d,setShowToday:h,showCouple:p,setShowCouple:b,openCustom:y,setOpenCustom:k}}function Hje(e){const t=Qr(i=>i.date),n=Qr(i=>i.rule),r=Nu(e);return _.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=Qv(r,t),a=i>=0?r[i]?.gz??null:null,o=ct(t),l=Et(t),u=ht(t,n);return{dae:a,se:o,wol:l,il:u}},[e,r,t,n])}const Gje=e=>typeof e=="string"&&e.length>=2,Yje=e=>Array.isArray(e)&&e.length===4&&e.every(Gje);function qje({list:e,currentId:t,settings:n,emptyMs:r}){const i=_.useMemo(()=>e.find(b=>b.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,l=_.useMemo(()=>Ij(o),[o]),u=Hje(o),d=fn(b=>b.canAddMyeongsik(e.length).ok),h=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:l,chain:u,isValidPillars:Yje,canAdd:d,voidBasis:h,samjaeBasis:p}}function Kje({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:l,setShowCouple:u,setCurrentId:d,setEditing:h}){const{settings:p,saveToServer:b,loaded:y}=xn();_.useEffect(()=>{!r||!y||b()},[r,y,p,b]);const k=_.useCallback(()=>{if(!e){Pn.error("   1   .");return}i(!0)},[e,i]),w=_.useCallback(()=>{if(!e){Pn.error("   1   .");return}a(!0)},[e,a]),S=_.useCallback(D=>{d(D.id),o(!1),l(!1),u(!1);const P=new Date;P.setHours(12,0,0,0),Qr.getState().setDate(P),t&&n?.id===D.id&&(l(!1),u(!1),o(!1))},[n,t,d,o,l,u]),j=_.useCallback(D=>{h(D),d(D.id),o(!1),l(!1),u(!1)},[h,d,o,l,u]),O=_.useCallback(()=>{const D=vn.getState().list[0]?.id??"";d(D),l(!0),u(!1)},[d,l,u]),A=_.useCallback(D=>{d(D.id),l(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[d,l,u,o,i]),C=_.useCallback(D=>{d(D.id),l(!1),u(!1),o(!1)},[d,l,u,o]);return{openAdd:k,openCustomModal:w,handleSidebarView:S,handleSidebarEdit:j,handleSidebarDeleteView:O,handleWizardSave:A,handleCustomSave:C}}function Wje(){return g.jsx("div",{className:"pt-16 pb-24",children:g.jsxs("div",{className:"max-w-[640px] mx-auto px-4",children:[g.jsx("div",{className:"flex items-center justify-between gap-3 mb-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(WB,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-200"}),g.jsx("h2",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"  "})]})}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.   ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.  ",g.jsx("b",{children:""})," ",g.jsx("b",{children:""}),"   .   ,    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:"*"}),"   ",g.jsx("b",{children:" "})," ",g.jsx("b",{children:"8*"}),"  ",g.jsx("b",{children:"    "}),"      ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:" "}),"     ."]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.    . ",g.jsx("b",{children:"*"}),", ",g.jsx("b",{children:"8*"}),"    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:""})," (  8   -  )   ."]}),g.jsxs("p",{className:"mt-2",children:["(    ,    ",g.jsx("b",{children:" "})," .)"]}),g.jsx("p",{className:"mt-2",children:" .    .    ,   ( )     ."})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.     .         ,       ."}),g.jsx("p",{className:"mt-2",children:"    ,      ."}),g.jsxs("p",{className:"mt-2",children:["(   ",g.jsx("b",{children:" "}),"  ^^)",g.jsx("br",{}),g.jsx("a",{href:"https://5seasons.co.kr/",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"   !"})})]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.  ''   ?"}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.      ."}),g.jsx("p",{className:"mt-2",children:"          ^^"}),g.jsx("p",{className:"mt-2",children:g.jsx("a",{href:"https://yavares.tistory.com/345",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"  "})})})]})]})]})]})})}const sH="https://t1.daumcdn.net/kas/static/ba.min.js",Vje="//t1.daumcdn.net/kas/static/ba.min.js";let bm=null,ym=null;function lH(){return typeof window<"u"&&typeof document<"u"}function D5(e){return typeof e=="object"&&e!==null}function cH(){if(!lH())return!1;const e=window;if(!D5(e))return!1;const t=e.adfit;return D5(t)?typeof t.destroy=="function":!1}function uH(){return Array.from(document.querySelectorAll(`script[src="${sH}"], script[src="${Vje}"]`))}function dH(e){return e.getAttribute("data-adfit-scan")==="1"}function Zje(){const t=uH().filter(n=>!dH(n));if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode?.removeChild(r)}}function P5(){return document.body??document.head??document.documentElement}function vk(e,t){return new Promise((n,r)=>{let i=!1;const a=()=>{e.removeEventListener("load",u),e.removeEventListener("error",d)},o=()=>{i||(i=!0,a(),n())},l=()=>{i||(i=!0,a(),r(new Error("AdFit script load failed")))},u=()=>o(),d=()=>l();e.addEventListener("load",u),e.addEventListener("error",d),window.setTimeout(()=>{cH(),o()},t)})}function R5(e){const t=document.createElement("script");return t.async=!0,t.type="text/javascript",t.charset="utf-8",t.src=sH,e?t.setAttribute("data-adfit-scan","1"):t.setAttribute("data-adfit-managed","1"),t}function PE(e){return lH()?(e?.mode??"boot")==="boot"?bm||(bm=(async()=>{if(Zje(),cH())return{inserted:!1};const r=uH().filter(a=>!dH(a))[0];if(r)return await vk(r,2500),{inserted:!1};const i=R5(!1);return P5().appendChild(i),await vk(i,4e3),{inserted:!0}})().finally(()=>{bm=null}),bm):ym||(ym=(async()=>{const n=R5(!0);P5().appendChild(n);try{return await vk(n,4e3),{inserted:!0}}finally{n.parentNode?.removeChild(n)}})().finally(()=>{ym=null}),ym):Promise.resolve({inserted:!1})}function fH({enabled:e}){return _.useEffect(()=>{e&&PE({mode:"boot"})},[e]),null}function L5(e){return typeof e=="object"&&e!==null}function Xje(e){const t=window;if(!L5(t))return;const n=t.adfit;if(!L5(n))return;const r=n.destroy;if(typeof r=="function")try{r.call(n,e)}catch{}}function fu({adUnit:e,width:t,height:n,enabled:r=!0,isVisible:i=!0,className:a,wrapperStyle:o,reserveSpace:l=!0}){const u=_.useRef(!1),d=_.useRef(!1),h=_.useMemo(()=>({...l?{width:"100%",minHeight:n,display:"flex",justifyContent:"center",alignItems:"flex-start"}:{width:"100%"},...o}),[n,l,o]);return _.useEffect(()=>{if(!r||u.current)return;u.current=!0;let p=!1;return(async()=>{try{if(await PE({mode:"boot"}),p)return}catch{}})(),()=>{p=!0}},[r]),_.useEffect(()=>{if(!r||!i||d.current)return;d.current=!0;let p=!1;return(async()=>{try{if(await PE({mode:"scan"}),p)return}catch{}})(),()=>{p=!0}},[r,i]),_.useEffect(()=>()=>{Xje(e),u.current=!1,d.current=!1},[e]),r?g.jsx("div",{className:a,style:h,children:g.jsx("div",{style:l?{width:t,height:n}:void 0,children:g.jsx("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":e,"data-ad-width":String(t),"data-ad-height":String(n)})})}):null}function hH({enabled:e,adUnit:t,width:n,height:r,showAfterScrollY:i=180,rightPx:a=16,topPx:o=120,breakpointClassName:l="hidden desk:block"}){const[u,d]=_.useState(!1),[h,p]=_.useState(!1);return _.useEffect(()=>{if(!e){d(!1),p(!1);return}p(!0);let b=0;const y=()=>{b||(b=window.requestAnimationFrame(()=>{b=0;const k=window.scrollY||0;d(k>=i)}))};return y(),window.addEventListener("scroll",y,{passive:!0}),()=>{b&&window.cancelAnimationFrame(b),window.removeEventListener("scroll",y)}},[e,i]),e?g.jsx("div",{className:l,style:{position:"fixed",right:a,top:o,zIndex:60,pointerEvents:"none",visibility:u?"visible":"hidden",opacity:u?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:u?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx(fu,{enabled:h,isVisible:u,adUnit:t,width:n,height:r,wrapperStyle:{display:"flex",justifyContent:"center"}})})})}):null}function mH(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState(!1),[u,d]=_.useState(!1);_.useEffect(()=>{document.title=" - //";const y=window.setTimeout(()=>t(!0),50),k=window.setTimeout(()=>r(!0),250),w=window.setTimeout(()=>a(!0),450);return()=>{window.clearTimeout(y),window.clearTimeout(k),window.clearTimeout(w)}},[]);const h=()=>u?!0:(pa.error(`   
  .`),!1),p=async()=>{if(!h())return;const y=`${window.location.origin}/auth/callback`;console.log("[oauth] origin =",window.location.origin),console.log("[oauth] redirectTo =",y);const{data:k,error:w}=await Re.auth.signInWithOAuth({provider:"google",options:{redirectTo:y,skipBrowserRedirect:!0}});if(console.log("[oauth] authorize url =",k?.url),w){console.error("Google Login Error:",w),pa.error("   .");return}if(!k?.url){pa.error(" URL  .");return}window.location.assign(k.url)},b=async()=>{if(!h())return;const y=`${window.location.origin}/auth/callback`;console.log("[oauth] origin =",window.location.origin),console.log("[oauth] redirectTo =",y);const{data:k,error:w}=await Re.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:y,skipBrowserRedirect:!0}});if(console.log("[oauth] authorize url =",k?.url),w){console.error("Kakao Login Error:",w),pa.error("   .");return}if(!k?.url){pa.error(" URL  .");return}window.location.assign(k.url)};return g.jsxs("main",{className:`relative py-6 max-h-[70vh] overflow-auto bg-neutral-950 text-white transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[g.jsxs("header",{className:`transform transition-all duration-500 mb-8 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} text-center max-w-[680px]`,children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:""}),g.jsxs("p",{className:"text-sm text-neutral-300 leading-relaxed",children:["      /       .",g.jsx("br",{}),"   /     "]})]}),g.jsxs("section",{className:`w-full max-w-sm mx-auto rounded-2xl bg-neutral-900 p-4 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,"aria-label":"",children:[g.jsx("h2",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),g.jsxs("p",{className:"mb-5 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",g.jsx("br",{}),"      "]}),g.jsx("div",{className:"mb-5 space-y-2",children:g.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:u,onChange:()=>d(!u),className:"mt-[2px]"}),g.jsxs("span",{children:["  .",g.jsx("button",{type:"button",onClick:()=>l(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{type:"button",onClick:p,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),g.jsx("span",{children:"  "})]}),g.jsxs("button",{type:"button",onClick:b,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),g.jsx("span",{children:" "})]})]}),g.jsxs("div",{className:"mt-6 border-t border-neutral-800 pt-4 text-xs text-neutral-400 leading-relaxed",children:[g.jsx("p",{className:"font-semibold text-neutral-300 mb-2",children:"    "}),g.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[g.jsx("li",{children:" /  "}),g.jsx("li",{children:"    "}),g.jsx("li",{children:"/ (  )"})]}),g.jsx("p",{className:"mt-3 text-[11px] text-neutral-500",children:": unique950318@gmail.com   "})]})]}),g.jsx(v$,{position:"top-center",toastOptions:{duration:2e3}}),o&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>l(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:y=>y.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"( )     ,      ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   ,  (,  )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"      ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"           "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"          ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase        ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>l(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function Jje(e){switch(e){case"PERSIST_SAVE":return"    !";case"ADD_LIMIT":return"    !";case"HEADER":return"";default:return""}}function Qje(){const e=Ss(i=>i.open),t=Ss(i=>i.reason),n=Ss(i=>i.close),r=_.useMemo(()=>Jje(t),[t]);return _.useEffect(()=>{if(!e)return;const i=a=>{a.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,n]),_.useEffect(()=>{const{data:i}=Re.auth.onAuthStateChange((a,o)=>{o?.user&&(fn.getState().loadFromServer(),xn.getState().loadFromServer(),vn.getState().loadFromServer(),Ss.getState().close())});return()=>i.subscription.unsubscribe()},[]),e?g.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 flex items-center justify-center p-4",onClick:n,role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"w-full max-w-[520px] rounded-2xl bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 shadow-xl overflow-hidden",onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:r}),g.jsx("button",{type:"button",onClick:n,className:`w-8 h-8 rounded-full flex items-center justify-center
                       bg-neutral-100 hover:bg-neutral-200
                       dark:bg-neutral-800 dark:hover:bg-neutral-700
                       text-neutral-700 dark:text-neutral-200 cursor-pointer`,"aria-label":"",title:"",children:""})]}),g.jsx("div",{className:"p-4",children:g.jsx(mH,{})})]})}):null}function eNe(){const e=Ss(t=>t.openWith);return g.jsx("div",{className:"max-w-[640px] mx-auto px-3",children:g.jsxs("div",{className:`rounded-xl border border-amber-300/60 bg-amber-50 text-amber-950
                      dark:border-amber-500/30 dark:bg-amber-950/30 dark:text-amber-100
                      shadow-sm px-4 py-3 flex items-center justify-between gap-3`,children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-sm font-semibold truncate",children:"   "}),g.jsx("div",{className:"text-xs opacity-90 mt-0.5 leading-relaxed",children:" /   ."})]}),g.jsxs("button",{type:"button",onClick:()=>e("PERSIST_SAVE"),className:`shrink-0 inline-flex items-center gap-1.5
                     px-3 py-2 rounded-lg text-xs font-semibold
                     bg-amber-500 hover:bg-amber-600 text-white
                     border border-amber-600/30
                     cursor-pointer`,"aria-label":"",title:"",children:[g.jsx(VB,{size:16}),""]})]})})}const Uj="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";let vm=null;function Fj(){return typeof window<"u"&&typeof document<"u"}function pH(){return Fj()?Array.from(document.querySelectorAll('script[src*="pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]')):[]}function gH(e,t){const n=`client=${encodeURIComponent(t)}`;return e.includes(n)||e.includes(`client=${t}`)}function I5(e){return pH().some(n=>{const r=n.getAttribute("src")??"";return r.includes(Uj)&&gH(r,e)})}function xk(e){const t=pH().filter(n=>{const r=n.getAttribute("src")??"";return r.includes(Uj)&&gH(r,e)});if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode&&r.parentNode.removeChild(r)}}function tNe(e){const t=document.createElement("script");return t.async=!0,t.src=`${Uj}?client=${encodeURIComponent(e)}`,t.crossOrigin="anonymous",t}function nNe(e){return new Promise((t,n)=>{const r=()=>t(),i=()=>n(new Error("AdSense script failed to load"));e.addEventListener("load",r,{once:!0}),e.addEventListener("error",i,{once:!0})})}function rNe(e){return typeof e!="object"||e===null||!("push"in e)?!1:typeof e.push=="function"}async function $5(e){if(Fj()){if(I5(e)){xk(e);return}if(vm)return vm;vm=(async()=>{if(I5(e)){xk(e);return}const t=tNe(e);document.head.appendChild(t),await nNe(t),xk(e)})();try{await vm}finally{vm=null}}}function iNe(e={}){if(!Fj())return;const t=window.adsbygoogle;if(Array.isArray(t)){t.push(e);return}if(rNe(t)){t.push(e);return}const n=[];n.push(e),window.adsbygoogle=n}function aNe({enabled:e,isVisible:t,clientId:n,slotId:r,width:i,height:a,testMode:o=!1}){const l=_.useRef(!1),u=_.useRef(null);return _.useEffect(()=>{l.current=!1},[n,r,i,a]),_.useEffect(()=>{e&&$5(n).catch(()=>{})},[e,n]),_.useEffect(()=>{if(!e||!t||l.current)return;let d=!0;return(async()=>{try{if(await Promise.resolve(),!d||(await $5(n),!d))return;iNe({}),l.current=!0}catch{console.log()}})(),()=>{d=!1}},[e,t,n]),e?g.jsx("ins",{ref:u,className:"adsbygoogle",style:{display:"inline-block",width:i,height:a},"data-ad-client":n,"data-ad-slot":r,...o?{"data-adtest":"on"}:{}}):null}function bH({enabled:e,clientId:t,slotId:n,width:r,height:i,showAfterScrollY:a=180,side:o="left",sidePx:l=16,topPx:u=120,breakpointClassName:d="hidden desk:block"}){const[h,p]=_.useState(!1),[b,y]=_.useState(!1);return _.useEffect(()=>{if(!e){p(!1),y(!1);return}y(!0);let k=0;const w=()=>{k||(k=window.requestAnimationFrame(()=>{k=0;const S=window.scrollY||0;p(S>=a)}))};return w(),window.addEventListener("scroll",w,{passive:!0}),()=>{k&&window.cancelAnimationFrame(k),window.removeEventListener("scroll",w)}},[e,a]),e?g.jsx("div",{className:d,style:{position:"fixed",...o==="left"?{left:l}:{right:l},top:u,zIndex:60,pointerEvents:"none",visibility:h?"visible":"hidden",opacity:h?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:h?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsx(aNe,{enabled:b,isVisible:h,clientId:t,slotId:n,width:r,height:i})})})})}):null}const yH="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";function B5(e){return typeof e=="object"&&e!==null&&"push"in e&&typeof e.push=="function"}function oNe(){return document.querySelector(`script[src^="${yH}"]`)}async function z5(e){oNe()||await new Promise((n,r)=>{const i=document.createElement("script");i.async=!0,i.src=`${yH}?client=${encodeURIComponent(e)}`,i.crossOrigin="anonymous",i.onload=()=>n(),i.onerror=()=>r(new Error("Failed to load adsbygoogle.js")),document.head.appendChild(i)})}function sNe(){const e=window.adsbygoogle;if(B5(e)){e.push({});return}window.adsbygoogle||(window.adsbygoogle=[]);const t=window.adsbygoogle;B5(t)&&t.push({})}function lNe({enabled:e,clientId:t,slotId:n,heightPx:r=100,maxWidthPx:i=750,marginTopPx:a=0,fullWidthResponsive:o=!0,pushOnVisible:l=!0,testMode:u=!1,className:d,style:h}){const p=_.useRef(null),b=_.useRef(!1),y=_.useMemo(()=>`adsense_banner:${t}:${n}`,[t,n]),[k,w]=_.useState(!l);return _.useEffect(()=>{b.current=!1},[t,n]),_.useEffect(()=>{e&&z5(t).catch(()=>{})},[e,t]),_.useEffect(()=>{if(!e||!l)return;const S=p.current;if(!S)return;const j=new IntersectionObserver(O=>{const A=O[0];A&&A.isIntersecting&&w(!0)},{root:null,threshold:.05});return j.observe(S),()=>j.disconnect()},[e,l]),_.useEffect(()=>{if(!e||!k||b.current)return;let S=!0;return(async()=>{try{if(await z5(t),!S||(await Promise.resolve(),!S))return;sNe(),b.current=!0}catch{}})(),()=>{S=!1}},[e,k,t]),e?g.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:a,...h},className:d,children:g.jsx("ins",{ref:p,className:"adsbygoogle",style:{display:"block",width:"100%",height:`${r}px`,maxWidth:`${i}px`},"data-ad-client":t,"data-ad-slot":n,"data-full-width-responsive":o?"true":"false",...u?{"data-adtest":"on"}:{}},y)}):null}const cNe="DAN-GW4jrUdfiXklZ12U",uNe="DAN-CeRuC0yKzSAs5Gju",dNe="DAN-G16gewnPhZou1D9y",fNe="DAN-rdKe9ZODmrZR4hho",hNe="DAN-INfSKh1pW2cEtWNu",mNe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function Ob(){const e=Hr(),t=Jl(),n=Tje();Uje(n);const r=Aje(),i=p=>{if(typeof window>"u")return null;try{return window.sessionStorage.getItem(p)}catch{return null}},a=(p,b)=>{if(!(typeof window>"u"))try{window.sessionStorage.setItem(p,b)}catch{}},[o,l]=_.useState(!1),[u,d]=_.useState(()=>typeof window>"u"?!1:i("app_loading_shown_v1")==="1"),h=!n.authChecked||!r.entLoaded||!r.settingsLoaded;return _.useEffect(()=>{h||l(!0)},[h]),_.useEffect(()=>{n.authChecked&&(n.isLoggedIn||e.pathname==="/"||e.pathname==="/result"||t("/",{replace:!0}))},[n.authChecked,n.isLoggedIn,e.pathname,t]),_.useEffect(()=>{!u&&!o&&h&&(d(!0),a("app_loading_shown_v1","1"))},[u,o,h]),n.authChecked&&n.isLoggedIn&&n.adminMode?g.jsx(LF,{}):!o&&h&&!u?g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500 animate-pulse",children:n.authChecked?"  ...":"  ..."})}):g.jsx(pNe,{isLoggedIn:n.isLoggedIn})}function pNe({isLoggedIn:e}){const t=Hr(),n=Jl(),{list:r}=vn(),i=xn(I=>I.settings),a=Fje(r),o=qje({list:r,currentId:a.currentId,settings:i,emptyMs:mNe}),l=Kje({canAdd:o.canAdd,hasCurrent:o.hasCurrent,current:o.current,isLoggedIn:e,setWizardOpen:a.setWizardOpen,setOpenCustom:a.setOpenCustom,setShowSidebar:a.setShowSidebar,setShowToday:a.setShowToday,setShowCouple:a.setShowCouple,setCurrentId:a.setCurrentId,setEditing:a.setEditing}),[u,d]=_.useState(!1),[h,p]=_.useState(0);_.useEffect(()=>{a.editing&&d(!1)},[a.editing]),_.useEffect(()=>{const I=t.pathname;if(I==="/faq"){d(!0),a.setShowCouple(!1),a.setShowToday(!1);return}if(I==="/couple"){d(!1),a.setShowCouple(!0),a.setShowToday(!1);return}if(I==="/result"){d(!1),a.setShowCouple(!1),a.setShowToday(!1);return}d(!1),a.setShowCouple(!1),a.setShowToday(!0)},[a,t.pathname,a.setShowCouple,a.setShowToday]);const b=fn(I=>I.shouldShowAdsNow()),y=o.hasCurrent&&!a.showToday&&!a.showCouple&&!u&&!a.wizardOpen&&!a.editing,k=a.showToday||!o.hasCurrent&&!a.showCouple&&!u&&!a.wizardOpen&&!a.editing,w=!e&&o.hasCurrent&&y,S=!e&&!y,[j,O]=_.useState(!1),A=(...I)=>{d(!1),a.setShowToday(!1),a.setShowCouple(!1),n("/result",{replace:!1}),l.handleSidebarView(...I)},C=()=>{a.setOpenCustom(!1),p(I=>I+1)},D=I=>{d(!1),l.handleCustomSave(I)},P=I=>{d(!1),l.handleWizardSave(I),n("/result",{replace:!1})};return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(fH,{enabled:b}),b&&y&&g.jsx(bH,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(hH,{enabled:b,adUnit:hNe,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsx(Ide,{isLoggedIn:e,onOpenSidebar:()=>a.setShowSidebar(!0),onAddNew:l.openAdd,onOpenCustom:l.openCustomModal}),g.jsx(Qje,{}),j&&g.jsxs("div",{className:"fixed inset-0 z-[210] bg-black/70 flex items-center justify-center",children:[g.jsx("div",{className:"w-full max-w-[420px] max-h-[90dvh] overflow-auto rounded-2xl",children:g.jsx(mH,{})}),g.jsx("button",{className:"fixed top-4 right-4 text-white text-2xl",onClick:()=>O(!1),children:""})]}),g.jsx(eAe,{open:a.openCustom,onClose:C,onSave:D},h),g.jsx(v$,{position:"top-center"}),g.jsx(Efe,{open:a.showSidebar,onClose:()=>a.setShowSidebar(!1),onView:A,onAddNew:l.openAdd,onEdit:l.handleSidebarEdit,onDeleteView:l.handleSidebarDeleteView,isLoggedIn:e}),S&&g.jsx("div",{className:"absolute w-full left-0 mt-14 desk:mt-16 text-xs desk:text-base text-amber-500 dark:text-amber-400 text-center",children:" .    ."}),u&&g.jsx(Wje,{}),k&&g.jsx(rX,{}),a.wizardOpen&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:g.jsx(eie,{onSave:P,onClose:()=>a.setWizardOpen(!1)})})})]}),o.hasCurrent&&!a.showToday&&!a.showCouple&&!u&&g.jsxs("div",{className:"pt-16",children:[w&&g.jsx("div",{children:g.jsx(eNe,{})}),g.jsx("div",{className:"pb-4",children:g.jsx(use,{data:o.current,hourTable:o.current?.mingSikType??"/"})}),g.jsx(NTe,{ms:o.current}),g.jsx("div",{children:g.jsx(Lde,{data:o.current})}),b&&y&&i.showPromptBox&&g.jsx("div",{className:"max-w-[760px] mx-auto px-3 mt-6 mb-2",children:g.jsx(lNe,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"3868873416",heightPx:100,maxWidthPx:750,marginTopPx:10,fullWidthResponsive:!0,testMode:!1})}),i.showPromptBox&&g.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:g.jsx(Eje,{ms:o.current,natal:o.isValidPillars(o.natal)?o.natal:[],chain:o.chain,basis:{voidBasis:o.voidBasis,samjaeBasis:o.samjaeBasis},includeTenGod:!0,lunarPillars:[]})}),b&&y&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 pb-6",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(fu,{enabled:!0,adUnit:fNe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(fu,{enabled:!0,adUnit:dNe,width:320,height:50})})]})]}),a.showCouple&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(TTe,{people:r})}),b&&!y&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-1 mb-2",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(fu,{enabled:!0,adUnit:uNe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(fu,{enabled:!0,adUnit:cNe,width:320,height:50})})]}),a.editing&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(zfe,{item:a.editing,onClose:()=>a.setEditing(null)})})}),g.jsx(qde,{}),g.jsx(ATe,{})]})}function gNe(){const e=Hr(),[t,n]=_.useState(null),[r,i]=_.useState(null);return _.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),g.jsxs("div",{className:"p-4 text-white",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),g.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),g.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function bNe(){const e=Hr(),t=Jl(),[n,r]=_.useState("  ...");return _.useEffect(()=>{(async()=>{try{console.log("[auth-callback] search =",e.search),console.log("[auth-callback] hash =",e.hash);const a=new URLSearchParams(e.search),o=e.hash.startsWith("#")?e.hash.slice(1):e.hash,l=o.indexOf("?"),u=new URLSearchParams(l>=0?o.slice(l+1):o),d=k=>a.get(k)??u.get(k),h=d("error"),p=d("error_description");if(h){r(` : ${decodeURIComponent(p??h)}`);return}const b=d("code");if(!b){const k=d("access_token"),w=d("refresh_token");if(!k||!w){r(" code . (redirectTo/PKCE  )");return}const{error:S}=await Re.auth.setSession({access_token:k,refresh_token:w});if(S){r(`  : ${S.message}`);return}t("/",{replace:!0});return}const{error:y}=await Re.auth.exchangeCodeForSession(b);if(y){r(`  : ${y.message}`);return}t("/",{replace:!0})}catch(a){r(a instanceof Error?a.message:"   ")}})()},[e.search,t]),g.jsx("main",{className:"min-h-screen flex items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:n})})}function yNe({yinYang:e,changing:t,onClick:n,showChanging:r=!0}){return g.jsxs("button",{type:"button",onClick:n,className:["w-full select-none","rounded-xl px-3 py-2","border border-neutral-200 dark:border-neutral-800","bg-white hover:bg-neutral-50 dark:bg-neutral-900 dark:hover:bg-neutral-800","flex items-center gap-3",n?"cursor-pointer":"cursor-default"].join(" "),title:n?"  (6789)":void 0,children:[g.jsx("div",{className:"flex-1",children:e===1?g.jsx("div",{className:"h-3 rounded bg-neutral-900 dark:bg-neutral-100"}):g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"h-3 flex-1 rounded bg-neutral-900 dark:bg-neutral-100"}),g.jsx("div",{className:"h-3 flex-1 rounded bg-neutral-900 dark:bg-neutral-100"})]})}),r&&g.jsx("div",{className:"w-8 text-right text-sm font-medium text-neutral-700 dark:text-neutral-300",children:t?"":""})]})}function vNe(e){return e===6||e===9}function Hx(e){return e===7||e===9?1:0}function vH(e){return e===6?1:e===9?0:Hx(e)}function xNe(e){return e===6?7:e===7?8:e===8?9:6}function xH(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=t+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)>>>0;return t>>>0}function wH(e){let t=e>>>0;return()=>{t+=1831565813;let n=t;return n=Math.imul(n^n>>>15,n|1),n^=n+Math.imul(n^n>>>7,n|61),((n^n>>>14)>>>0)/4294967296}}function _H(){return new Date().toISOString()}function SH(){const e=Date.now().toString(36),t=Math.floor(Math.random()*1e9).toString(36);return`ich_${e}_${t}`}function kH(e){const t=[];for(let n=0;n<e.length;n+=1)vNe(e[n].value)&&t.push(n+1);return t}function RE(e){const t=()=>e()<.5?2:3,n=t(),r=t(),i=t(),a=n+r+i;return{value:a===6?6:a===7?7:a===8?8:9,source:"coin",coins:[n,r,i]}}function wNe(e){return e?[e.myeongSikId?`id=${e.myeongSikId}`:"",e.pillarsText?`pillars=${e.pillarsText}`:"",e.birthISO?`birth=${e.birthISO}`:"",e.tz?`tz=${e.tz}`:"",e.luck?.daeun?`daeun=${e.luck.daeun}`:"",e.luck?.seun?`seun=${e.luck.seun}`:"",e.luck?.wolun?`wolun=${e.luck.wolun}`:"",e.luck?.ilun?`ilun=${e.luck.ilun}`:""].filter(Boolean).join("|"):""}const Hj=["","","","","","","","","",""],Gj=["","","","","","","","","","","",""];function Gl(e,t){const n=e%t;return n<0?n+t:n}function Yj(e){const t=e-1984,n=Hj[Gl(t,10)],r=Gj[Gl(t,12)];return`${n}${r}`}function EH(e,t){if(t<1||t>12)throw new Error(`month must be 1..12, got ${t}`);const n=Gl(e-1984,10),r=n===0||n===5?2:n===1||n===6?4:n===2||n===7?6:n===3||n===8?8:0,i=t===1?1:t===12?0:t,a=Gl(i-2,12),o=Gl(r+a,10),l=Hj[o],u=Gj[i];return`${l}${u}`}function _Ne(e){const t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=Date.UTC(1984,0,31),a=Date.UTC(t,n,r),o=Math.floor((a-i)/864e5),l=Gl(o,60),u=Hj[Gl(l,10)],d=Gj[Gl(l,12)];return`${u}${d}`}function Ka(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function ga(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return null;const n=Number(t[1]),r=Number(t[2])-1,i=Number(t[3]);if(![n,r,i].every(o=>Number.isFinite(o)))return null;const a=new Date(n,r,i,9,0,0,0);return a.getFullYear()!==n||a.getMonth()!==r||a.getDate()!==i?null:a}function TH(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function Au(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),9,0,0,0)}function qj(e,t){return e.getTime()<=t.getTime()?{start:e,end:t}:{start:t,end:e}}function U5(e,t){return e*100+t}function SNe(e,t){const n=[];let r=e.getFullYear(),i=e.getMonth()+1;const a=U5(t.getFullYear(),t.getMonth()+1);for(;U5(r,i)<=a;)n.push({y:r,m1:i}),i+=1,i===13&&(i=1,r+=1);return n}function kNe(e,t=10){const n=ga(e.startYMD)??Au(),r=ga(e.endYMD)??Au(),{start:i,end:a}=qj(n,r),o=i.getFullYear(),l=a.getFullYear(),u=[];for(let d=o;d<=l&&!(u.length>=t);d+=1){const h=new Date(d,5,15,9,0,0,0);u.push({year:d,refDateYMD:Ka(h),seun:Yj(d)})}return u}function ENe(e,t=12,n=!1){const r=ga(e.startYMD)??Au(),i=ga(e.endYMD)??Au(),{start:a,end:o}=qj(r,i),l=SNe(a,o),u=[];for(const d of l){if(u.length>=t)break;if(n&&d.m1===1)continue;const h=new Date(d.y,d.m1-1,15,9,0,0,0),p=new Date(d.y,d.m1-1,15,12,0,0,0),b=ct(p)||Yj(d.y),y=Et(p)||EH(d.y,d.m1);u.push({year:d.y,month:d.m1,refDateYMD:Ka(h),seun:b,wolun:y})}return u}function TNe(e,t=7){const n=ga(e.startYMD)??Au(),r=ga(e.endYMD)??Au(),{start:i,end:a}=qj(n,r),o=[];let l=new Date(i);for(;l.getTime()<=a.getTime()&&!(o.length>=t);){const u=l.getFullYear(),d=l.getMonth()+1,h=new Date(u,d-1,l.getDate(),12,0,0,0),p=ct(h)||Yj(u),b=Et(h)||EH(u,d);o.push({dateYMD:Ka(l),seun:p,wolun:b,ilun:_Ne(l)}),l=TH(l,1)}return o}function AH(e,t){const n=ga(t.startYMD)??Au();if(e==="seun")return new Date(n.getFullYear(),5,15,9,0,0,0);if(e==="wolun"){const r=n.getFullYear(),i=n.getMonth()+1;return new Date(r,i-1,15,9,0,0,0)}return new Date(n.getFullYear(),n.getMonth(),n.getDate(),9,0,0,0)}function wk(e,t){const n=AH(e,t),r=Ka(n);return e==="seun"?{tab:e,baseDateYMD:r,seun:kNe(t,10),wolun:[],ilun:[]}:e==="wolun"?{tab:e,baseDateYMD:r,seun:[],wolun:ENe(t,12,!1),ilun:[]}:{tab:e,baseDateYMD:r,seun:[],wolun:[],ilun:TNe(t,7)}}function jH(e){return e===7||e===9?1:0}const ja={:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"111",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"110",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"101",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"100",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"011",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"010",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"001",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"000",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]}},ANe=[{n:1,ko:"",nameHanja:"",upper:"",lower:""},{n:2,ko:"",nameHanja:"",upper:"",lower:""},{n:3,ko:"",nameHanja:"",upper:"",lower:""},{n:4,ko:"",nameHanja:"",upper:"",lower:""},{n:5,ko:"",nameHanja:"",upper:"",lower:""},{n:6,ko:"",nameHanja:"",upper:"",lower:""},{n:7,ko:"",nameHanja:"",upper:"",lower:""},{n:8,ko:"",nameHanja:"",upper:"",lower:""},{n:9,ko:"",nameHanja:"",upper:"",lower:""},{n:10,ko:"",nameHanja:"",upper:"",lower:""},{n:11,ko:"",nameHanja:"",upper:"",lower:""},{n:12,ko:"",nameHanja:"",upper:"",lower:""},{n:13,ko:"",nameHanja:"",upper:"",lower:""},{n:14,ko:"",nameHanja:"",upper:"",lower:""},{n:15,ko:"",nameHanja:"",upper:"",lower:""},{n:16,ko:"",nameHanja:"",upper:"",lower:""},{n:17,ko:"",nameHanja:"",upper:"",lower:""},{n:18,ko:"",nameHanja:"",upper:"",lower:""},{n:19,ko:"",nameHanja:"",upper:"",lower:""},{n:20,ko:"",nameHanja:"",upper:"",lower:""},{n:21,ko:"",nameHanja:"",upper:"",lower:""},{n:22,ko:"",nameHanja:"",upper:"",lower:""},{n:23,ko:"",nameHanja:"",upper:"",lower:""},{n:24,ko:"",nameHanja:"",upper:"",lower:""},{n:25,ko:"",nameHanja:"",upper:"",lower:""},{n:26,ko:"",nameHanja:"",upper:"",lower:""},{n:27,ko:"",nameHanja:"",upper:"",lower:""},{n:28,ko:"",nameHanja:"",upper:"",lower:""},{n:29,ko:"",nameHanja:"",upper:"",lower:""},{n:30,ko:"",nameHanja:"",upper:"",lower:""},{n:31,ko:"",nameHanja:"",upper:"",lower:""},{n:32,ko:"",nameHanja:"",upper:"",lower:""},{n:33,ko:"",nameHanja:"",upper:"",lower:""},{n:34,ko:"",nameHanja:"",upper:"",lower:""},{n:35,ko:"",nameHanja:"",upper:"",lower:""},{n:36,ko:"",nameHanja:"",upper:"",lower:""},{n:37,ko:"",nameHanja:"",upper:"",lower:""},{n:38,ko:"",nameHanja:"",upper:"",lower:""},{n:39,ko:"",nameHanja:"",upper:"",lower:""},{n:40,ko:"",nameHanja:"",upper:"",lower:""},{n:41,ko:"",nameHanja:"",upper:"",lower:""},{n:42,ko:"",nameHanja:"",upper:"",lower:""},{n:43,ko:"",nameHanja:"",upper:"",lower:""},{n:44,ko:"",nameHanja:"",upper:"",lower:""},{n:45,ko:"",nameHanja:"",upper:"",lower:""},{n:46,ko:"",nameHanja:"",upper:"",lower:""},{n:47,ko:"",nameHanja:"",upper:"",lower:""},{n:48,ko:"",nameHanja:"",upper:"",lower:""},{n:49,ko:"",nameHanja:"",upper:"",lower:""},{n:50,ko:"",nameHanja:"",upper:"",lower:""},{n:51,ko:"",nameHanja:"",upper:"",lower:""},{n:52,ko:"",nameHanja:"",upper:"",lower:""},{n:53,ko:"",nameHanja:"",upper:"",lower:""},{n:54,ko:"",nameHanja:"",upper:"",lower:""},{n:55,ko:"",nameHanja:"",upper:"",lower:""},{n:56,ko:"",nameHanja:"",upper:"",lower:""},{n:57,ko:"",nameHanja:"",upper:"",lower:""},{n:58,ko:"",nameHanja:"",upper:"",lower:""},{n:59,ko:"",nameHanja:"",upper:"",lower:""},{n:60,ko:"",nameHanja:"",upper:"",lower:""},{n:61,ko:"",nameHanja:"",upper:"",lower:""},{n:62,ko:"",nameHanja:"",upper:"",lower:""},{n:63,ko:"",nameHanja:"",upper:"",lower:""},{n:64,ko:"",nameHanja:"",upper:"",lower:""}];function Tv(e){const t=Object.keys(ja);for(const n of t)if(ja[n].bitsBottomUp===e)return n;return null}function jNe(e,t){return`${ja[t].bitsBottomUp}${ja[e].bitsBottomUp}`}const NNe=(()=>{const e={};for(const t of ANe){const n=ja[t.upper],r=ja[t.lower],i=jNe(t.upper,t.lower);e[i]={number:t.n,titleKo:t.ko,nameHanja:t.nameHanja,titleHanja:`${n.symbolHanja}${r.symbolHanja}${t.nameHanja}`,upperKo:n.ko,lowerKo:r.ko,upperHanja:n.hanja,lowerHanja:r.hanja,upperSymbolHanja:n.symbolHanja,lowerSymbolHanja:r.symbolHanja,bitsBottomUp:i}}return e})();function Kj(e){const t=e.join(""),n=NNe[t];if(n)return n;const r=t.slice(0,3),i=t.slice(3,6),a=Tv(r),o=Tv(i),l=a?ja[a]:null,u=o?ja[o]:null;return{number:void 0,titleKo:"",nameHanja:"",titleHanja:u&&l?`${u.symbolHanja}${l.symbolHanja}`:"",upperKo:u?.ko,lowerKo:l?.ko,upperHanja:u?.hanja,lowerHanja:l?.hanja,upperSymbolHanja:u?.symbolHanja,lowerSymbolHanja:l?.symbolHanja,bitsBottomUp:t}}function LE(e){const t=e.map(n=>jH(n.value));return Kj(t)}const F5={:[1,44,33,12,20,23,35,14],:[29,60,3,63,49,55,36,7],:[52,22,26,41,38,10,61,53],:[51,16,40,32,46,48,28,17],:[57,9,37,42,25,21,27,18],:[30,56,50,64,4,59,6,13],:[2,24,19,11,34,43,5,8],:[58,47,45,31,39,15,62,54]};function ONe(e){return e===0?"pure":e===1?"1":e===2?"2":e===3?"3":e===4?"4":e===5?"5":e===6?"youhun":"guihun"}function CNe(e){return e==="pure"?6:e==="1"?1:e==="2"?2:e==="3"?3:e==="4"?4:e==="5"?5:e==="youhun"?4:3}function MNe(e){return(e+2)%6+1}function DNe(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""||e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":null}function H5(e,t){return e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""}function G5(e,t){return e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""}function PNe(e,t){return t===e?"":H5(t,e)?"":H5(e,t)?"":G5(t,e)?"":G5(e,t)?"":""}function RNe(e){const t=Object.keys(F5);for(const n of t){const r=F5[n].indexOf(e);if(r>=0)return{palace:n,stage:ONe(r)}}return null}function LNe(e){const t=e.join(""),n=t.slice(0,3),r=t.slice(3,6),i=Tv(n),a=Tv(r);if(!i||!a)return[];const o=ja[i],u=ja[a].naJiaUpperTopDown,d=o.naJiaLowerTopDown;return[...u,...d]}function IE(e){const t=e.map(k=>jH(k.value)),n=Kj(t),r=typeof n.number=="number"?n.number:null,i=LNe(t),a=r?RNe(r):null,o=a?.palace??null,l=o?ja[o].element:null,u=a?.stage??"pure",d=CNe(u),h=MNe(d),p=7-d,b=7-h,y=[];if(i.length===6&&l)for(const k of i){const w=DNe(k);if(!w){y.push("");continue}y.push(PNe(l,w))}return{leftTopDown:y.length?y:[],rightTopDown:i.length?i:[],markers:[{text:"",atLineTopDown:p},{text:"",atLineTopDown:b}],palace:o?{key:o,element:ja[o].element,stage:u}:void 0}}function _k(e){const t=wH(xH(e)),n=[];for(let r=0;r<6;r+=1)n.push(RE(t));return n}function Sk(e,t,n,r,i){return{id:SH(),kind:"iching_sixyao",createdAtISO:_H(),question:e,seedTextUsed:t,linesBottomUp:n,changingLines:kH(n),baseBitsBottomUp:n.map(a=>Hx(a.value)),changedBitsBottomUp:n.map(a=>vH(a.value)),saju:r??void 0,viewMeta:i}}function INe(e){const{periodTab:t,seunPayload:n,wolunPayload:r,ilunPayload:i,questionText:a,sajuSeedPart:o,saju:l,viewMeta:u}=e,d=[];return t==="seun"&&n?.seun?.length&&n.seun.forEach(h=>{const p=` ${h.year} (${h.seun}`,b=`${a}::${h.refDateYMD}`,y=o?`${b}::SAJU::${o}`:b,k=_k(y),w=Sk(a,y,k,l,u);d.push({key:`seun-${h.year}`,title:p,dateYMD:h.refDateYMD,record:w})}),t==="wolun"&&r?.wolun?.length&&r.wolun.forEach(h=>{const p=String(h.month).padStart(2,"0"),b=` ${h.year}-${p} (${h.seun} ${h.wolun}`,y=`${a}::${h.refDateYMD}`,k=o?`${y}::SAJU::${o}`:y,w=_k(k),S=Sk(a,k,w,l,u);d.push({key:`wolun-${h.year}-${p}`,title:b,dateYMD:h.refDateYMD,record:S})}),t==="ilun"&&i?.ilun?.length&&i.ilun.forEach(h=>{const p=` ${h.dateYMD} (${h.seun} ${h.wolun} ${h.ilun}`,b=`${a}::${h.dateYMD}`,y=o?`${b}::SAJU::${o}`:b,k=_k(y),w=Sk(a,y,k,l,u);d.push({key:`ilun-${h.dateYMD}`,title:p,dateYMD:h.dateYMD,record:w})}),d}function $Ne(e){if(!e)return"  ";const t=[e.name?`: ${e.name}`:"",e.gender?`: ${e.gender}`:"",e.pillarsText?`: ${e.pillarsText}`:""].filter(Boolean);return t.length?t.join(`
`):"  "}function BNe(e,t){if(!e||!e.luck)return e;const{daeun:n,seun:r,wolun:i,ilun:a}=e.luck;return{...e,luck:t==="seun"?{daeun:n,seun:r}:t==="wolun"?{daeun:n,seun:r,wolun:i}:{daeun:n,seun:r,wolun:i,ilun:a}}}function zNe(e){const{selectedCardText:t,ready:n,periodCards:r,finalQuestion:i,question:a,baseBits:o,changedBits:l,changingIndexes:u,lineValues:d,lines:h,saju:p,periodTab:b}=e,y=(i.trim()||a.trim()).trim(),k=y||"( )";if(t&&t.trim())return[` : ${k}`,"",t.trim()].join(`
`);if(!n&&r.length===0)return"";const w=o.join(""),S=l.join(""),j=u.length?u.join(", "):"",O=d.join(", "),A=LE(h),C=Kj(l),D=typeof A.number=="number"?String(A.number):"",P=A.titleKo||"",I=A.titleHanja||"?",U=A.nameHanja||"?",K=A.upperKo&&A.lowerKo?`${A.upperKo}/${A.lowerKo}`:"",q=A.upperHanja&&A.lowerHanja?`${A.upperHanja}/${A.lowerHanja}`:"",H=typeof C.number=="number"?String(C.number):"",B=C.upperKo&&C.lowerKo?`${C.upperKo}/${C.lowerKo}`:"",W=C.upperHanja&&C.lowerHanja?`${C.upperHanja}/${C.lowerHanja}`:"",X=IE(h),Z=X.leftTopDown.length?X.leftTopDown.join(" "):"()",Y=X.rightTopDown.length?X.rightTopDown.join(" "):"()",J=X.markers.length?X.markers.map(ne=>`${ne.text}${ne.atLineTopDown}`).join(", "):"()",Q=$Ne(p),ce=r.length>0?[" (  )",...r.flatMap((ne,oe)=>{const ue=LE(ne.record.linesBottomUp),pe=IE(ne.record.linesBottomUp),ye=ne.record.baseBitsBottomUp.join(""),Oe=ne.record.changedBitsBottomUp.join(""),ie=ne.record.changingLines.length?ne.record.changingLines.join(", "):"",Te=ne.record.linesBottomUp.map(Ce=>Ce.value).join(", "),xe=ue.titleKo||"",se=typeof ue.number=="number"?String(ue.number):"",ze=pe.leftTopDown.length?pe.leftTopDown.join(" "):"()",Ye=pe.rightTopDown.length?pe.rightTopDown.join(" "):"()",Ze=pe.markers.length?pe.markers.map(Ce=>`${Ce.text}${Ce.atLineTopDown}`).join(", "):"()";return[`${oe+1}. ${ne.title}`,`-  /: ${se}  ${xe}`,`-  (): ${ye}`,`-  (): ${Oe}`,`- : ${ie}`,`- (): ${Te}`,`- (): ${ze}`,`- (): ${Ye}`,`- ///: ${Ze}`]}),""]:[],ae=n&&h.length===6?[" ()",`-  : ${D}`,`- (): ${P}`,`- (): ${I} (${U})`,`- / : ${K} (${q})`,""," ()",`-  : ${H}`,`- / : ${B} (${W})`,""," ",`-  (): ${w}`,`-  (): ${S}`,`- : ${j}`,`- (): ${O}`,`- (): ${Z}`,`- (): ${Y}`,`- ///: ${J}`,""]:[" ","- /   ",""],z=n&&r.length===0,V=z?BNe(p??null,b):null;return[" / .        .","",`: ${k}`,"",...ae," ",Q,"",...z?["(JSON)",JSON.stringify(V??{},null,2),""]:[],"",...ce,"","-     ","-        ","-    "].join(`
`)}const Y5=[`1.  () 

 
 ()	( ,  : ,  : ) (() )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`2.  () 

 
 ()	( ,  : ,  : ) (() )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`3.  

  
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`4.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`5.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`6.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`7.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`8.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`9.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + () -  `,`10.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`11.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`12.  () 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`13.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`14.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`15.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`16.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`17.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`18.  

  
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`19.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`20.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`21.  

  
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`22.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`23.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`24.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + () -  `,`25.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`26.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`27.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`28.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`29.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`30.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + () -  
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`31.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`32.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`33.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`34.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`35.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + () -  
2() - () + ()
() - () +  +  + ()`,`36.  

  
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + () -  
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`37.  
 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`38.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + () -  
() - () +  +  + ()`,`39.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`40.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`41.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`42.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`43.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`44.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`45.  () 

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + () -  `,`46.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + () -  
5() - () +  + ()
4() - () +  + ()
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`47.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + () -  
2() - () + ()
() - () +  + ()`,`48.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`49.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + () -  `,`50.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + () -  `,`51.  () (() )  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`52. () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`53.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`54.  

 
 ()	( ,  : (),  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + () -  
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`55.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`56.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`57.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`58.  () (() ) 

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + () -  
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`59.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`60.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`61.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`62.  

 
 ()	( ,  : (),  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`63.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`64.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`];function UNe({saju:e,viewMeta:t,initialQuestion:n="",onBaseDateChange:r}){const[i,a]=_.useState(n),[o,l]=_.useState(""),[u,d]=_.useState("all"),[h,p]=_.useState("seun"),[b,y]=_.useState(()=>{const Pe=new Date,it=new Date(Pe.getFullYear(),0,1,9,0,0,0),Lt=new Date(Pe.getFullYear()+9,11,31,9,0,0,0);return{startYMD:Ka(it),endYMD:Ka(Lt)}}),[k,w]=_.useState(()=>{const Pe=new Date,it=new Date(Pe.getFullYear(),Pe.getMonth(),1,9,0,0,0),Lt=new Date(it);return Lt.setMonth(Lt.getMonth()+11),{startYMD:Ka(it),endYMD:Ka(Lt)}}),[S,j]=_.useState(()=>{const Pe=new Date,it=new Date(Pe.getFullYear(),Pe.getMonth(),Pe.getDate(),9,0,0,0),Lt=TH(it,6);return{startYMD:Ka(it),endYMD:Ka(Lt)}}),[O,A]=_.useState([]),[C,D]=_.useState(null),[P,I]=_.useState([]),[U,K]=_.useState(!1),[q,H]=_.useState(!1),[B,W]=_.useState(null),X=_.useRef(null),Z=_.useRef(null),Y=_.useRef(null);_.useEffect(()=>{a(n),l(n)},[n]),_.useEffect(()=>{I([])},[h,b.startYMD,b.endYMD,k.startYMD,k.endYMD,S.startYMD,S.endYMD]),_.useEffect(()=>{if(!B)return;const Pe=window.setTimeout(()=>W(null),2200);return()=>window.clearTimeout(Pe)},[B]);const J=_.useMemo(()=>{const Pe=ga(b.startYMD);if(Pe&&Pe.getMonth()===0){const it=new Date(Pe.getFullYear(),1,1,9,0,0,0);return{...b,startYMD:Ka(it)}}return b},[b]),Q=h,ce=_.useMemo(()=>Q?AH(Q,Q==="seun"?J:Q==="wolun"?k:S):new Date,[Q,S,J,k]);_.useEffect(()=>{r&&r(ce??null)},[ce,r]);const ae=_.useMemo(()=>wNe(e),[e]),z=_.useMemo(()=>`${o.trim()}::${ce.toISOString()}`,[ce,o]),V=_.useMemo(()=>ae?`${z}::SAJU::${ae}`:z,[z,ae]),ne=_.useMemo(()=>{const Pe=xH(V);return wH(Pe)},[V]),oe=_.useMemo(()=>h==="seun"?wk("seun",J):null,[h,J]),ue=_.useMemo(()=>h==="wolun"?wk("wolun",k):null,[h,k]),pe=_.useMemo(()=>h==="ilun"?wk("ilun",S):null,[h,S]),ye=_.useMemo(()=>{const Pe=ga(b.startYMD);return Pe?String(Pe.getFullYear()):""},[b.startYMD]),Oe=_.useMemo(()=>{const Pe=ga(b.endYMD);return Pe?String(Pe.getFullYear()):""},[b.endYMD]),ie=_.useMemo(()=>{const Pe=ga(k.startYMD);if(!Pe)return"";const it=String(Pe.getMonth()+1).padStart(2,"0");return`${Pe.getFullYear()}-${it}`},[k.startYMD]),Te=_.useMemo(()=>{const Pe=ga(k.endYMD);if(!Pe)return"";const it=String(Pe.getMonth()+1).padStart(2,"0");return`${Pe.getFullYear()}-${it}`},[k.endYMD]),xe=_.useMemo(()=>{if(h==="seun"){const Pe=oe?.seun[0];return Pe?` ${Pe.year} - ${Pe.seun}`:""}if(h==="wolun"){const Pe=ue?.wolun[0];if(!Pe)return"";const it=String(Pe.month).padStart(2,"0");return` ${Pe.year}-${it} - ${Pe.seun} ${Pe.wolun}`}if(h==="ilun"){const Pe=pe?.ilun[0];return Pe?` ${Pe.dateYMD} - ${Pe.seun} ${Pe.wolun} ${Pe.ilun}`:""}return""},[h,oe,ue,pe]),se=_.useCallback((Pe,it,Lt)=>{Pe(wr=>({...wr,[it]:Lt}))},[]),ze=_.useCallback((Pe,it)=>{if(!it)return;const Lt=Number(it);if(!Number.isFinite(Lt))return;const wr=Math.trunc(Lt);y(ni=>({...ni,[Pe]:`${wr}-06-15`}))},[]),Ye=_.useCallback((Pe,it)=>{if(!it)return;const Lt=/^(\d{4})-(\d{2})$/.exec(it);Lt&&w(wr=>({...wr,[Pe]:`${Lt[1]}-${Lt[2]}-15`}))},[]),Ze=O.length===6,Ce=_.useMemo(()=>O.map(Pe=>Hx(Pe.value)),[O]),Be=_.useMemo(()=>O.map(Pe=>vH(Pe.value)),[O]),De=_.useMemo(()=>kH(O),[O]),Xe=_.useMemo(()=>O.map(Pe=>Pe.value),[O]),gt=O.length>0||!!C,Mt=P.length>0,fe=o.trim().length>0,Me=!fe||q||Mt||Ze,_e=!fe||U||gt||Mt||q,Ne=_.useCallback(()=>{window.setTimeout(()=>{X.current?.scrollIntoView({behavior:"smooth",block:"start"})},50)},[]),Ue=_.useCallback(()=>{window.setTimeout(()=>{Z.current?.scrollIntoView({behavior:"smooth",block:"start"})},50)},[]),Je=_.useCallback(()=>{A([]),D(null),I([]),K(!1),H(!1),W(null)},[]),lt=_.useCallback(()=>o.trim()?!0:(alert("  !"),window.setTimeout(()=>{Y.current?.focus()},0),!1),[o]),Rt=_.useCallback(()=>{if(!lt()||Me)return;K(!0);let Pe=0;A(it=>it.length>=6?it:(Pe=it.length+1,[...it,RE(ne)])),window.setTimeout(()=>{if(K(!1),Pe>=6){Ne();return}Pe>0&&W(`${Pe}  !  ${Pe+1} ?`)},350)},[lt,Me,ne,Ne]),Rn=_.useCallback(()=>{if(!lt()||Me)return;K(!0);const Pe=[];for(let it=0;it<6;it+=1)Pe.push(RE(ne));A(Pe),window.setTimeout(()=>{K(!1),Ne()},350)},[lt,Me,ne,Ne]),ar=_.useMemo(()=>{if(O.length!==6)return"";const Pe=LE(O);if(typeof Pe.number!="number")return"";const it=Pe.number-1;return it<0||it>=Y5.length?"":Y5[it]??""},[O]),Ji=_.useCallback(Pe=>{A(it=>{if(Pe<0||Pe>=it.length)return it;const Lt=[...it],wr=Lt[Pe];return Lt[Pe]={value:xNe(wr.value),source:"manual"},Lt})},[]),or=_.useCallback(()=>{if(O.length!==6)return;const Pe=(o.trim()||i.trim()).trim(),it={id:SH(),kind:"iching_sixyao",createdAtISO:_H(),question:Pe,seedTextUsed:V,linesBottomUp:O,changingLines:De,baseBitsBottomUp:Ce,changedBitsBottomUp:Be,saju:e??void 0,viewMeta:t};D(it)},[Ce,Be,De,V,o,O,i,e,t]);_.useEffect(()=>{O.length===6&&or()},[or,O.length]);const on=_.useMemo(()=>[{value:7,source:"manual"}].concat(Array.from({length:5},()=>({value:7,source:"manual"}))),[]),xr=_.useCallback(()=>{if(!lt()||_e)return;H(!0);const Pe=(o.trim()||i.trim()).trim(),it=INe({periodTab:h,seunPayload:oe,wolunPayload:ue,ilunPayload:pe,questionText:Pe,sajuSeedPart:ae,saju:e,viewMeta:t});I(it),window.setTimeout(()=>{H(!1),Ue()},400)},[lt,_e,o,pe,h,i,e,ae,oe,t,ue,Ue]),kt=_.useMemo(()=>zNe({selectedCardText:ar,ready:Ze,periodCards:P,finalQuestion:o,question:i,baseBits:Ce,changedBits:Be,changingIndexes:De,lineValues:Xe,lines:O,saju:e,periodTab:h}),[ar,Ze,P,o,i,Ce,Be,De,Xe,O,e,ce,oe,ue,pe,h]),Qi=_.useCallback(async()=>{if(kt)try{await navigator.clipboard.writeText(kt),alert("  !")}catch{alert("  .   .")}},[kt]),zf=_.useMemo(()=>{if(!Ze)return null;const Pe=IE(O),it=Pe.leftTopDown.join(" "),Lt=Pe.rightTopDown.join(" "),wr=Pe.markers.map(ni=>`${ni.text}${ni.atLineTopDown}`).join(", ");return{liuQin:it,zhi:Lt,marks:wr}},[O,Ze]);return{saju:e,question:i,setQuestion:a,finalQuestion:o,setFinalQuestion:l,questionInputRef:Y,drawMode:u,setDrawMode:d,periodTab:h,setPeriodTab:p,seunRange:b,setSeunRange:y,wolunRange:k,setWolunRange:w,ilunRange:S,setIlunRange:j,seunStartYear:ye,seunEndYear:Oe,wolunStartYM:ie,wolunEndYM:Te,activePeriodLabel:xe,onRangeChange:se,onSeunYearChange:ze,onWolunMonthChange:Ye,ready:Ze,baseBits:Ce,changedBits:Be,changingIndexes:De,lineValues:Xe,autoSideSummary:zf,selectedCardText:ar,drawOne:Rt,drawAll:Rn,reset:Je,onEditLine:Ji,lines:O,record:C,periodCards:P,placeholderLines:on,copyPrompt:Qi,isDrawing:U,isPeriodDrawing:q,toast:B,disableSingleDraw:Me,disablePeriodDraw:_e,resultRef:X,periodCardsRef:Z,buildPeriodCards:xr}}const FNe="DAN-GW4jrUdfiXklZ12U",HNe="DAN-CeRuC0yKzSAs5Gju";function GNe(e){const{saju:t,question:n,setQuestion:r,finalQuestion:i,setFinalQuestion:a,questionInputRef:o,drawMode:l,setDrawMode:u,lines:d,isDrawing:h,disableSingleDraw:p,selectedCardText:b,drawOne:y,drawAll:k,reset:w,copyPrompt:S,toast:j,resultRef:O}=UNe(e),A=b?b.split(/\r?\n/):[],C=A[0]??"",D=A.slice(1).join("\\n").trim(),P=d.length?[...d].reverse():[],I=A.map(U=>U.trim()).map(U=>{const K=/^(|5|4|3|2|)\((|)\)\s*-\s*(.+)$/.exec(U);if(!K)return null;const q=K[1],H=K[2],B=//.test(K[3]),X=K[3].replace(/\s*-\s*\s*?/g,"").trim().split(" + ").map(Q=>Q.trim()).filter(Boolean),Z=X.filter(Q=>Q===""||Q===""||Q===""||Q===""),Y=X.find(Q=>/\([]\)/.test(Q))??"",J=X.find(Q=>/\(.+\)/.test(Q)&&Q!==Y)??"";return{label:q,yinYang:H,liuQin:J,zhi:Y,markers:Z,hasDonghyo:B}}).filter(Boolean);return g.jsxs("div",{className:"w-full max-w-[768px] mx-auto pb-12 desk:pb-4 p-4",children:[g.jsxs("div",{className:"rounded-2xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"   "}),g.jsx("div",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:"   ,     ."}),g.jsxs("div",{className:"mt-4 rounded-2xl border border-neutral-200 bg-neutral-50 p-3 dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),t?g.jsxs("div",{className:"mt-1 text-sm text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:":"})," ",t.name?t.name:" ",t.gender?`  ${t.gender}`:""]}),t.pillarsText?g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:":"})," ",t.pillarsText]}):null]}):g.jsx("div",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:"  ."})]}),g.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[g.jsxs("label",{className:"block",children:[g.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200",children:""}),g.jsx("textarea",{ref:o,value:n,onChange:U=>r(U.target.value),rows:3,className:"mt-1 w-full rounded-xl border border-neutral-200 bg-white px-3 py-2 text-sm outline-none focus:border-neutral-400 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100",placeholder:"      !"})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsx("button",{type:"button",onClick:()=>a(n.trim()),className:"rounded-xl border border-neutral-300 bg-white px-3 py-2 text-xs font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:" "}),g.jsxs("span",{children:[" : ",i.trim()?i:""]})]}),g.jsxs("div",{className:"rounded-2xl border border-neutral-200 bg-neutral-50 p-3 dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),g.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"drawMode",checked:l==="all",onChange:()=>u("all")})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"drawMode",checked:l==="step",onChange:()=>u("step")})," "]})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:l==="all"?k:y,disabled:p||h,className:"rounded-xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white hover:bg-neutral-800 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-neutral-100 dark:text-neutral-900 dark:hover:bg-neutral-200 cursor-pointer",children:l==="all"?" ":`1  (${d.length}/6)`}),g.jsx("button",{type:"button",onClick:w,className:"rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:""}),h?g.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsx("span",{children:" "}),g.jsx("span",{className:"animate-pulse",children:"..."})]}):null]})]})]}),g.jsxs("div",{className:"mt-4",ref:O,children:[g.jsxs("div",{className:"mb-3",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(fu,{enabled:!0,adUnit:HNe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(fu,{enabled:!0,adUnit:FNe,width:320,height:50})})]}),b?g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-gradient-to-b from-amber-50 to-white p-4 shadow-sm dark:border-neutral-800 dark:from-neutral-900 dark:to-neutral-950",children:g.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[g.jsxs("div",{className:"w-full md:w-[180px]",children:[g.jsx("div",{className:"rounded-xl border border-amber-200 bg-white px-3 py-2 text-sm font-semibold text-amber-900 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",children:C}),g.jsxs("div",{className:"mt-3 rounded-xl border border-amber-200 bg-white px-3 py-4 dark:border-neutral-700 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-300",children:" "}),g.jsx("div",{className:"mt-2 flex flex-col gap-2",children:P.map((U,K)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:6-K}),g.jsx(yNe,{yinYang:Hx(U.value),changing:!1,showChanging:!1})]},`line-${K}`))})]})]}),g.jsxs("div",{className:"flex-1 rounded-xl border border-amber-200 bg-white p-4 dark:border-neutral-700 dark:bg-neutral-900",children:[g.jsx("div",{className:"space-y-2",children:(I.length?I:[]).map(U=>g.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-amber-100 bg-amber-50/50 px-3 py-2 text-sm dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:[U.label," (",U.yinYang,")"]}),g.jsxs("div",{className:"text-xs text-neutral-700 dark:text-neutral-300",children:[U.liuQin||"-"," ",U.zhi?`  ${U.zhi}`:""]})]}),g.jsxs("div",{className:"flex flex-wrap gap-1 text-[10px] font-semibold text-amber-900 dark:text-neutral-200",children:[U.hasDonghyo&&g.jsx("span",{className:"rounded border border-red-200 bg-red-50 px-1.5 py-0.5 text-red-600 dark:border-red-900/40 dark:bg-red-950/40 dark:text-red-300",children:""}),U.markers.map(K=>g.jsx("span",{className:"rounded border border-amber-200 bg-white px-1.5 py-0.5 dark:border-neutral-700 dark:bg-neutral-900",children:K},`${U.label}-${K}`))]})]},U.label))}),!I.length&&g.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-sm text-neutral-800 dark:text-neutral-100",children:D})]})]})}):g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"   ."})]}),g.jsxs("div",{className:"mt-4 rounded-2xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),g.jsx("div",{className:"mt-1 text-xs text-neutral-600 dark:text-neutral-400",children:"   AI    ."}),b?g.jsx("button",{type:"button",onClick:S,className:"mt-3 w-full rounded-xl border border-neutral-300 bg-white px-3 py-2 text-xs font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:"AI   "}):g.jsx("div",{className:"mt-3 text-sm text-neutral-600 dark:text-neutral-400",children:"  ."})]}),j?g.jsx("div",{className:"fixed bottom-6 left-1/2 z-50 w-[90%] max-w-sm -translate-x-1/2",children:g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-white px-4 py-3 text-sm text-neutral-900 shadow-lg dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100",children:j})}):null]})}const YNe="DAN-INfSKh1pW2cEtWNu";function Cb(e){return!e?.stem||!e?.branch?"":`${e.stem}${e.branch}`}function qNe(e){const t=[e.year?`${e.year}`:"",e.month?`${e.month}`:"",e.day?`${e.day}`:"",e.hour?`${e.hour}`:""].filter(Boolean);return t.length?t.join(" "):""}function kk(e){if(typeof e!="string")return!1;const t=e.trim();return t===""||t===""||t===""||t==="self"||t===""||t===""}function KNe({current:e}){const t=Sy(h=>h.useDST),n=e.mingSikType,r=_.useMemo(()=>y2(e,t),[e,t]),[i,a]=_.useState(null),o=Qr(h=>h.date),l=Zv(e,n,i??o??void 0),u=_.useMemo(()=>{const h={year:Cb(r.year),month:Cb(r.month),day:Cb(r.day),hour:Cb(r.hour)},p=e.ganjiText?.trim()||e.ganji?.trim()||qNe(h),b={daeun:l.dae.gz||void 0,seun:l.se.gz||void 0,wolun:l.wol.gz||void 0,ilun:l.il.gz||void 0};return{name:e.name||void 0,gender:e.gender||void 0,pillarsText:p,pillars:h,luck:b}},[e,l,r]),d=_.useMemo(()=>({sourceRoute:"/iching",currentId:e.id,currentName:e.name??null}),[e.id,e.name]);return g.jsx("div",{className:"py-2",children:g.jsx(GNe,{saju:u,viewMeta:d,onBaseDateChange:a},e.id)})}function WNe(){const e=vn(w=>w.list),t=vn(w=>w.loading),n=vn(w=>w.currentId),r=vn(w=>w.setCurrentId),i=Jl(),a=_.useRef(!1),[o,l]=_.useState(!1),u=_.useRef(!1),d=fn(w=>w.shouldShowAdsNow()),h=_.useMemo(()=>e.find(S=>kk(S.relationship))?.id??null,[e]);_.useEffect(()=>{if(t||e.length===0)return;const w=h??e[0]?.id??null;if(!a.current){w&&n!==w&&r(w),a.current=!0;return}n&&!e.some(S=>S.id===n)&&w&&r(w)},[t,e,n,h,r]),_.useEffect(()=>{t&&l(!0)},[t]);const p=_.useMemo(()=>e.find(w=>w.id===n)??null,[e,n]),b=_.useMemo(()=>p||(e.find(S=>kk(S.relationship))??e[0]??null),[p,e]),y=_.useMemo(()=>{const w=e.find(S=>kk(S.relationship));return w?[w,...e.filter(S=>S.id!==w.id)]:e},[e]);_.useEffect(()=>{o&&(t||e.length>0||u.current||(u.current=!0,alert("   .  ."),i("/",{replace:!0})))},[o,e.length,t,i]),_.useEffect(()=>{let w=!0;Re.auth.getSession().then(({data:j})=>{w&&(j.session?.user||i("/",{replace:!0}))});const{data:S}=Re.auth.onAuthStateChange((j,O)=>{O?.user||i("/",{replace:!0})});return()=>{w=!1,S.subscription.unsubscribe()}},[i]);const k=_.useMemo(()=>n||h||(e[0]?.id??""),[n,h,e]);return g.jsxs("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-950",children:[g.jsx(fH,{enabled:d}),d&&g.jsx(bH,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(hH,{enabled:d,adUnit:YNe,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsxs("div",{className:"w-full max-w-[768px] mx-auto px-4 pt-4",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-xl font-bold text-neutral-900 dark:text-neutral-100",children:"   "}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"    ."})]}),g.jsx(qE,{to:"/",className:"rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800",children:""})]}),e.length>0&&g.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsx("label",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:" "}),g.jsxs("select",{className:"w-full sm:w-[320px] rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",value:k,onChange:w=>{const S=w.target.value;S&&r(S)},children:[g.jsx("option",{value:"",disabled:!0,children:""}),y.map(w=>g.jsx("option",{value:w.id,children:w.name?.trim()?w.name:" "},w.id))]})]})]}),t&&e.length===0&&g.jsx("div",{className:"w-full max-w-[768px] mx-auto px-4 py-10",children:g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-white p-4 text-sm text-neutral-600 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-400",children:" .."})}),b&&g.jsx(KNe,{current:b})]})}function VNe(e){return typeof e=="object"&&e!==null}function ZNe(e){if(!VNe(e))return null;const t=typeof e.ok=="boolean"?e.ok:void 0,n=typeof e.total_active_ms=="number"?e.total_active_ms:void 0,r=typeof e.upgraded_to_basic=="boolean"?e.upgraded_to_basic:void 0;return{ok:t,total_active_ms:n,upgraded_to_basic:r}}function NH({enabled:e=!0,intervalMs:t=6e4,path:n,onBasicUnlocked:r,onTotalActiveMs:i}){const a=_.useRef(!1),o=_.useRef(""),l=_.useRef(!1),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),p=_.useRef(0);return _.useEffect(()=>{o.current=n??""},[n]),_.useEffect(()=>{let b=null;return(async()=>{const{data:k}=await Re.auth.getSession();u.current=k.session?.user?.id??null;const S=Re.auth.onAuthStateChange((j,O)=>{u.current=O?.user?.id??null,l.current=!1}).data?.subscription;S&&typeof S.unsubscribe=="function"&&(b=()=>S.unsubscribe())})(),()=>{b&&b()}},[]),_.useEffect(()=>{if(!e)return;const b=async w=>{if(document.visibilityState!=="visible")return;const S=Date.now();if(!(w!=="init"&&S-p.current<1e4)&&(p.current=S,!a.current)){a.current=!0;try{if(!u.current)return;const O=o.current||null,{data:A,error:C}=await Re.rpc("ping_activity",{p_last_path:O});if(C)return;const D=ZNe(A);if(!D)return;typeof D.total_active_ms=="number"&&i?.(D.total_active_ms),D.upgraded_to_basic===!0&&!l.current&&(l.current=!0,r?.())}finally{a.current=!1}}};b("init");const y=Math.floor(Math.random()*5e3);h.current=window.setTimeout(()=>{b("interval"),d.current=window.setInterval(()=>void b("interval"),t)},y);const k=()=>{document.visibilityState==="visible"&&b("visible")};return document.addEventListener("visibilitychange",k),()=>{document.removeEventListener("visibilitychange",k),h.current!==null&&(window.clearTimeout(h.current),h.current=null),d.current!==null&&(window.clearInterval(d.current),d.current=null)}},[e,t,r,i]),null}function XNe(){const e=vn(a=>a.loadFromServer),t=vn(a=>a.migrateLocalToServer),n=xn(a=>a.loadFromServer),r=fn(a=>a.loadFromServer),i=_.useCallback(async()=>{await t(),await Promise.all([r(),n(),e()])},[t,r,n,e]);return _.useEffect(()=>{i();const{data:a}=Re.auth.onAuthStateChange(o=>{o==="TOKEN_REFRESHED"||o==="INITIAL_SESSION"||i()});return()=>{a.subscription.unsubscribe()}},[i]),null}function JNe(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function QNe(e,t){try{localStorage.setItem(e,String(t))}catch{}}function eOe(e){return e<=0?0:Math.floor(Math.random()*e)}function tOe({enabled:e=!0,href:t="https://open.kakao.com/o/sjBRz57h",hintTexts:n=["    !"," .",",  ."," ,   ,  !","  !  ! "],hideHintHours:r=24,cycleMs:i=4200,mobilePaddingX:a=0,bottomDockCssVarName:o="--bottom-dock"}){const l=_.useMemo(()=>"kakao_chat_hint_hide_until",[]),[u,d]=_.useState(!1),[h,p]=_.useState(()=>eOe(n.length)),b=_.useRef(null),y=_.useCallback(S=>{if(typeof document>"u")return;const j=`${Math.max(0,Math.floor(S))}px`;document.documentElement.style.setProperty(o,j)},[o]);if(_.useEffect(()=>{if(n.length<=0){p(0);return}p(S=>S%n.length)},[n.length]),_.useEffect(()=>{if(!e){d(!1);return}const S=JNe(l),j=Date.now();if(S>j){d(!1);return}const O=window.setTimeout(()=>d(!0),900);return()=>window.clearTimeout(O)},[e,l]),_.useEffect(()=>{if(!e||!u||n.length<=1)return;const S=window.setInterval(()=>{p(j=>j+1>=n.length?0:j+1)},i);return()=>window.clearInterval(S)},[e,u,n.length,i]),_.useEffect(()=>{if(!e||!u){y(0);return}const S=b.current;if(!S){y(0);return}const j=()=>{const O=Math.ceil(S.getBoundingClientRect().height);y(O)};if(j(),typeof ResizeObserver<"u"){const O=new ResizeObserver(j);return O.observe(S),()=>{O.disconnect(),y(0)}}return window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j),y(0)}},[e,u,y]),!e)return null;const k=()=>{QNe(l,Date.now()+r*60*60*1e3),d(!1),y(0)},w=n[h]??"";return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:`
        @keyframes hintFadeCycle {
          0%   { opacity: 0; transform: translate3d(0, 6px, 0); }
          14%  { opacity: 1; transform: translate3d(0, 0, 0); }
          78%  { opacity: 1; transform: translate3d(0, 0, 0); }
          100% { opacity: 0; transform: translate3d(0, -2px, 0); }
        }
      `}),u&&n.length>0?g.jsx("div",{ref:b,className:"desk:hidden fixed left-0 right-0 bottom-0 z-[99] pointer-events-none",style:{paddingLeft:a,paddingRight:a,paddingBottom:0},children:g.jsxs("div",{className:"pointer-events-auto w-full border border-neutral-700 bg-neutral-900/95 text-white shadow-lg",style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:10,padding:"4px 8px"},children:[g.jsx("div",{className:"min-w-0 text-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},title:w,children:w}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("button",{type:"button",onClick:k,"aria-label":" ",title:"",className:"w-8 h-8 rounded-full bg-neutral-800 border border-neutral-700 text-[14px] flex items-center justify-center hover:bg-neutral-700",children:g.jsx(cy,{})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`w-8 h-8 rounded-full bg-neutral-800 hover:bg-neutral-700 border border-neutral-700
                           flex items-center justify-center transition-colors`,children:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}):null,g.jsxs("div",{className:"hidden desk:block fixed right-5 bottom-5 z-[999]",children:[u&&n.length>0&&g.jsx("div",{className:"absolute bottom-14 right-0 w-max max-w-[260px]",children:g.jsxs("div",{className:"relative rounded-xl bg-neutral-900 text-white border border-neutral-700 shadow-lg px-3 py-2 text-xs whitespace-pre-line",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},children:[w,g.jsx("button",{type:"button",onClick:k,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-neutral-800 border border-neutral-700 text-[12px] flex items-center justify-center hover:bg-neutral-700 cursor-pointer","aria-label":" ",title:"",children:g.jsx(cy,{size:12})}),g.jsx("div",{className:"absolute -bottom-2 right-4 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-neutral-900"})]})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`flex items-center justify-center w-12 h-12 rounded-full shadow-lg
                     bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 transition-colors`,children:g.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}function nOe(e){const t=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],n=[];for(let r=0;r<e;r+=1)n.push({leftPct:Math.random()*100,size:6+Math.floor(Math.random()*8),delayMs:Math.floor(Math.random()*300),durationMs:1200+Math.floor(Math.random()*900),rotate:Math.floor(Math.random()*360),driftPx:-40+Math.floor(Math.random()*80),color:t[r%t.length]});return n}function rOe({open:e,onClose:t}){const n=_.useMemo(()=>nOe(48),[]);return _.useEffect(()=>{if(!e)return;const r=a=>{a.key==="Escape"&&t()};window.addEventListener("keydown",r);const i=window.setTimeout(()=>t(),6e3);return()=>{window.removeEventListener("keydown",r),window.clearTimeout(i)}},[e,t]),e?g.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center",children:[g.jsx("style",{children:`
        @keyframes confettiFall {
          0%   { transform: translate3d(var(--dx), -20px, 0) rotate(var(--rot)); opacity: 0; }
          10%  { opacity: 1; }
          100% { transform: translate3d(var(--dx), 560px, 0) rotate(calc(var(--rot) + 360deg)); opacity: 0; }
        }
        @keyframes pop {
          0% { transform: scale(0.98); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
      `}),g.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:n.map((r,i)=>{const a={position:"absolute",top:0,left:`${r.leftPct}%`,width:r.size,height:Math.max(8,r.size+6),background:r.color,borderRadius:2,transform:`rotate(${r.rotate}deg)`,animation:`confettiFall ${r.durationMs}ms ease-out ${r.delayMs}ms forwards`,"--dx":`${r.driftPx}px`,"--rot":`${r.rotate}deg`};return g.jsx("span",{style:a},i)})}),g.jsxs("div",{className:`relative w-[92%] max-w-[420px] rounded-2xl bg-white dark:bg-neutral-950
                   border border-neutral-200 dark:border-neutral-800 shadow-xl p-5`,style:{animation:"pop 160ms ease-out"},children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("div",{className:"text-xl font-extrabold text-neutral-900 dark:text-neutral-50",children:"BASIC  !"}),g.jsx("div",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:"     ! "})]}),g.jsx("div",{className:"mt-4 flex justify-center gap-2",children:g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-900 text-white hover:bg-neutral-800 cursor-pointer",children:""})})]})]}):null}function q5(e){if(typeof e!="string")return"FREE";const t=e.toUpperCase();return t==="BASIC"?"BASIC":t==="PRO"?"PRO":"FREE"}function iOe(){const e=Hr(),t=e.pathname+e.search,n=!e.pathname.startsWith("/admin")&&!e.pathname.startsWith("/impersonate")&&!e.pathname.startsWith("/auth/callback"),[r,i]=_.useState(!1),a=fn(b=>b.loaded),o=fn(b=>b.loading),l=fn(b=>b.userId),u=fn(b=>q5(b.plan)),d=_.useRef(!1);_.useEffect(()=>{n&&(a||o||fn.getState().loadFromServer())},[n,a,o]);const h=_.useCallback(async()=>{if(d.current)return;d.current=!0;const{data:b,error:y}=await Re.rpc("mark_basic_celebrated");if(y){console.warn("[basic celebration] rpc error:",y.message);return}b===!0&&i(!0)},[]);_.useEffect(()=>{n&&a&&l&&u==="BASIC"&&h()},[n,a,l,u,h]);const p=_.useCallback(()=>{(async()=>(await fn.getState().loadFromServer(),q5(fn.getState().plan)==="BASIC"&&(d.current=!1,await h())))()},[h]);return g.jsxs(g.Fragment,{children:[g.jsx(NH,{enabled:n,path:t,onBasicUnlocked:p}),g.jsx(tOe,{enabled:n}),g.jsx(rOe,{open:r,onClose:()=>i(!1)})]})}function aOe(e){return typeof e=="object"&&e!==null}function oOe(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!aOe(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}function sOe(){const e=Jl(),t=Hr(),n=_.useRef(!1);return _.useEffect(()=>{const r=async()=>{if(!n.current){n.current=!0;try{const{data:o}=await Re.auth.getSession(),l=o.session?.user?.id??null;if(!l)return;const{data:u,error:d}=await Re.rpc("get_my_account_status");if(!d){!!oOe(u)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0});return}const{data:h,error:p}=await Re.from("profiles").select("disabled_at").eq("user_id",l).maybeSingle();if(p)return;(h?.disabled_at??null)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0})}finally{n.current=!1}}};r();const{data:i}=Re.auth.onAuthStateChange(()=>{r()}),a=()=>{document.visibilityState==="visible"&&r()};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a),i.subscription.unsubscribe()}},[e,t.pathname]),null}function lOe(e){return typeof e=="object"&&e!==null}function cOe(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!lOe(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}const uOe=Go((e,t)=>({loaded:!1,loading:!1,userId:null,disabledAt:null,reset:()=>{e({loaded:!0,loading:!1,userId:null,disabledAt:null})},loadFromServer:async n=>{if(!t().loading){e({loading:!0,userId:n});try{const{data:i,error:a}=await Re.rpc("get_my_account_status");if(!a){const d=cOe(i);e({loaded:!0,loading:!1,disabledAt:d});return}const{data:o,error:l}=await Re.from("profiles").select("disabled_at").eq("user_id",n).maybeSingle();if(l){console.error("[accountStatus] load error:",l),e({loaded:!0,loading:!1,disabledAt:null});return}const u=o?.disabled_at??null;e({loaded:!0,loading:!1,disabledAt:typeof u=="string"?u:null})}catch(i){console.error("[accountStatus] exception:",i),e({loaded:!0,loading:!1,disabledAt:null})}}}}));function dOe(e){if(!e)return"-";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toLocaleString():e}function fOe(){const e=uOe(n=>n.disabledAt),t=_.useCallback(async()=>{try{await Re.auth.signOut(),window.location.href="/"}catch(n){console.error("signOut error:",n),window.location.href="/"}},[]);return g.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 text-white",children:g.jsxs("div",{className:"w-full max-w-[520px] bg-neutral-900 border border-neutral-700 rounded-xl p-6",children:[g.jsx("h1",{className:"text-2xl font-bold mb-3",children:" "}),g.jsxs("div",{className:"text-sm text-neutral-300 leading-6",children:["        .",g.jsx("span",{className:"font-semibold text-neutral-100",children:dOe(e)})]}),g.jsx("div",{className:"mt-5 p-3 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-300",children:"    ."}),g.jsxs("div",{className:"mt-6 flex gap-2",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-600 cursor-pointer",children:""})]})]})})}function hOe(){const e=Hr();return _.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[e.pathname]),g.jsxs(g.Fragment,{children:[g.jsx(XNe,{}),g.jsx(iOe,{}),g.jsx(sOe,{}),g.jsx(NH,{}),g.jsxs(WY,{children:[g.jsx(Ha,{path:"/auth/callback",element:g.jsx(bNe,{})}),g.jsx(Ha,{path:"/disabled",element:g.jsx(fOe,{})}),g.jsx(Ha,{path:"/iching",element:g.jsx(WNe,{})}),g.jsx(Ha,{path:"/",element:g.jsx(Ob,{})}),g.jsx(Ha,{path:"/faq",element:g.jsx(Ob,{})}),g.jsx(Ha,{path:"/couple",element:g.jsx(Ob,{})}),g.jsx(Ha,{path:"/result",element:g.jsx(Ob,{})}),g.jsx(Ha,{path:"/admin/*",element:g.jsx(LF,{})}),g.jsx(Ha,{path:"/impersonate",element:g.jsx(gNe,{})}),g.jsx(Ha,{path:"*",element:g.jsx(qY,{to:"/",replace:!0})})]})]})}eY.createRoot(document.getElementById("root")).render(g.jsx(bq,{children:g.jsx(hOe,{})}));
