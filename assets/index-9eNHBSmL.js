function o2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function hi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tp(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var bw={exports:{}},Nh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC;function BH(){if(oC)return Nh;oC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Nh.Fragment=t,Nh.jsx=n,Nh.jsxs=n,Nh}var sC;function zH(){return sC||(sC=1,bw.exports=BH()),bw.exports}var g=zH();const i$="harim.theme",tk="harim.settings.v1";function a$(){try{const e=localStorage.getItem(i$);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(tk);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function o$(e){try{localStorage.setItem(i$,e);const t=localStorage.getItem(tk),n=t?JSON.parse(t):{};localStorage.setItem(tk,JSON.stringify({...n,theme:e}))}catch{}}function s$(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=a$()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");s$(e)}catch{}})();var yw={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function UH(){if(lC)return st;lC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function T(B,W,ie){this.props=B,this.context=W,this.refs=_,this.updater=ie||S}T.prototype.isReactComponent={},T.prototype.setState=function(B,W){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,W,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=T.prototype;function j(B,W,ie){this.props=B,this.context=W,this.refs=_,this.updater=ie||S}var C=j.prototype=new N;C.constructor=j,w(C,T.prototype),C.isPureReactComponent=!0;var D=Array.isArray;function P(){}var $={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function Y(B,W,ie){var Q=ie.ref;return{$$typeof:e,type:B,key:W,ref:Q!==void 0?Q:null,props:ie}}function K(B,W){return Y(B.type,W,B.props)}function H(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function z(B){var W={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ie){return W[ie]})}var V=/\/+/g;function Z(B,W){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):W.toString(36)}function X(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(P,P):(B.status="pending",B.then(function(W){B.status==="pending"&&(B.status="fulfilled",B.value=W)},function(W){B.status==="pending"&&(B.status="rejected",B.reason=W)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function q(B,W,ie,Q,se){var he=typeof B;(he==="undefined"||he==="boolean")&&(B=null);var me=!1;if(B===null)me=!0;else switch(he){case"bigint":case"string":case"number":me=!0;break;case"object":switch(B.$$typeof){case e:case t:me=!0;break;case h:return me=B._init,q(me(B._payload),W,ie,Q,se)}}if(me)return se=se(B),me=Q===""?"."+Z(B,0):Q,D(se)?(ie="",me!=null&&(ie=me.replace(V,"$&/")+"/"),q(se,W,ie,"",function(Ee){return Ee})):se!=null&&(H(se)&&(se=K(se,ie+(se.key==null||B&&B.key===se.key?"":(""+se.key).replace(V,"$&/")+"/")+me)),W.push(se)),1;me=0;var Se=Q===""?".":Q+":";if(D(B))for(var re=0;re<B.length;re++)Q=B[re],he=Se+Z(Q,re),me+=q(Q,W,ie,he,se);else if(re=v(B),typeof re=="function")for(B=re.call(B),re=0;!(Q=B.next()).done;)Q=Q.value,he=Se+Z(Q,re++),me+=q(Q,W,ie,he,se);else if(he==="object"){if(typeof B.then=="function")return q(X(B),W,ie,Q,se);throw W=String(B),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return me}function J(B,W,ie){if(B==null)return B;var Q=[],se=0;return q(B,Q,"","",function(he){return W.call(ie,he,se++)}),Q}function ne(B){if(B._status===-1){var W=B._result;W=W(),W.then(function(ie){(B._status===0||B._status===-1)&&(B._status=1,B._result=ie)},function(ie){(B._status===0||B._status===-1)&&(B._status=2,B._result=ie)}),B._status===-1&&(B._status=0,B._result=W)}if(B._status===1)return B._result.default;throw B._result}var de=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},oe={map:J,forEach:function(B,W,ie){J(B,function(){W.apply(this,arguments)},ie)},count:function(B){var W=0;return J(B,function(){W++}),W},toArray:function(B){return J(B,function(W){return W})||[]},only:function(B){if(!H(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return st.Activity=p,st.Children=oe,st.Component=T,st.Fragment=n,st.Profiler=i,st.PureComponent=j,st.StrictMode=r,st.Suspense=u,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,st.__COMPILER_RUNTIME={__proto__:null,c:function(B){return $.H.useMemoCache(B)}},st.cache=function(B){return function(){return B.apply(null,arguments)}},st.cacheSignal=function(){return null},st.cloneElement=function(B,W,ie){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Q=w({},B.props),se=B.key;if(W!=null)for(he in W.key!==void 0&&(se=""+W.key),W)!F.call(W,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&W.ref===void 0||(Q[he]=W[he]);var he=arguments.length-2;if(he===1)Q.children=ie;else if(1<he){for(var me=Array(he),Se=0;Se<he;Se++)me[Se]=arguments[Se+2];Q.children=me}return Y(B.type,se,Q)},st.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},st.createElement=function(B,W,ie){var Q,se={},he=null;if(W!=null)for(Q in W.key!==void 0&&(he=""+W.key),W)F.call(W,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(se[Q]=W[Q]);var me=arguments.length-2;if(me===1)se.children=ie;else if(1<me){for(var Se=Array(me),re=0;re<me;re++)Se[re]=arguments[re+2];se.children=Se}if(B&&B.defaultProps)for(Q in me=B.defaultProps,me)se[Q]===void 0&&(se[Q]=me[Q]);return Y(B,he,se)},st.createRef=function(){return{current:null}},st.forwardRef=function(B){return{$$typeof:l,render:B}},st.isValidElement=H,st.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:ne}},st.memo=function(B,W){return{$$typeof:f,type:B,compare:W===void 0?null:W}},st.startTransition=function(B){var W=$.T,ie={};$.T=ie;try{var Q=B(),se=$.S;se!==null&&se(ie,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(P,de)}catch(he){de(he)}finally{W!==null&&ie.types!==null&&(W.types=ie.types),$.T=W}},st.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},st.use=function(B){return $.H.use(B)},st.useActionState=function(B,W,ie){return $.H.useActionState(B,W,ie)},st.useCallback=function(B,W){return $.H.useCallback(B,W)},st.useContext=function(B){return $.H.useContext(B)},st.useDebugValue=function(){},st.useDeferredValue=function(B,W){return $.H.useDeferredValue(B,W)},st.useEffect=function(B,W){return $.H.useEffect(B,W)},st.useEffectEvent=function(B){return $.H.useEffectEvent(B)},st.useId=function(){return $.H.useId()},st.useImperativeHandle=function(B,W,ie){return $.H.useImperativeHandle(B,W,ie)},st.useInsertionEffect=function(B,W){return $.H.useInsertionEffect(B,W)},st.useLayoutEffect=function(B,W){return $.H.useLayoutEffect(B,W)},st.useMemo=function(B,W){return $.H.useMemo(B,W)},st.useOptimistic=function(B,W){return $.H.useOptimistic(B,W)},st.useReducer=function(B,W,ie){return $.H.useReducer(B,W,ie)},st.useRef=function(B){return $.H.useRef(B)},st.useState=function(B){return $.H.useState(B)},st.useSyncExternalStore=function(B,W,ie){return $.H.useSyncExternalStore(B,W,ie)},st.useTransition=function(){return $.H.useTransition()},st.version="19.2.1",st}var cC;function of(){return cC||(cC=1,yw.exports=UH()),yw.exports}var k=of();const Wt=hi(k),FH=o2({__proto__:null,default:Wt},[k]);var vw={exports:{}},Ch={},xw={exports:{}},_w={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function HH(){return uC||(uC=1,(function(e){function t(q,J){var ne=q.length;q.push(J);e:for(;0<ne;){var de=ne-1>>>1,oe=q[de];if(0<i(oe,J))q[de]=J,q[ne]=oe,ne=de;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],ne=q.pop();if(ne!==J){q[0]=ne;e:for(var de=0,oe=q.length,B=oe>>>1;de<B;){var W=2*(de+1)-1,ie=q[W],Q=W+1,se=q[Q];if(0>i(ie,ne))Q<oe&&0>i(se,ie)?(q[de]=se,q[Q]=ne,de=Q):(q[de]=ie,q[W]=ne,de=W);else if(Q<oe&&0>i(se,ne))q[de]=se,q[Q]=ne,de=Q;else break e}}return J}function i(q,J){var ne=q.sortIndex-J.sortIndex;return ne!==0?ne:q.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],f=[],h=1,p=null,b=3,v=!1,S=!1,w=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function C(q){for(var J=n(f);J!==null;){if(J.callback===null)r(f);else if(J.startTime<=q)r(f),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(f)}}function D(q){if(w=!1,C(q),!S)if(n(u)!==null)S=!0,P||(P=!0,z());else{var J=n(f);J!==null&&X(D,J.startTime-q)}}var P=!1,$=-1,F=5,Y=-1;function K(){return _?!0:!(e.unstable_now()-Y<F)}function H(){if(_=!1,P){var q=e.unstable_now();Y=q;var J=!0;try{e:{S=!1,w&&(w=!1,N($),$=-1),v=!0;var ne=b;try{t:{for(C(q),p=n(u);p!==null&&!(p.expirationTime>q&&K());){var de=p.callback;if(typeof de=="function"){p.callback=null,b=p.priorityLevel;var oe=de(p.expirationTime<=q);if(q=e.unstable_now(),typeof oe=="function"){p.callback=oe,C(q),J=!0;break t}p===n(u)&&r(u),C(q)}else r(u);p=n(u)}if(p!==null)J=!0;else{var B=n(f);B!==null&&X(D,B.startTime-q),J=!1}}break e}finally{p=null,b=ne,v=!1}J=void 0}}finally{J?z():P=!1}}}var z;if(typeof j=="function")z=function(){j(H)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Z=V.port2;V.port1.onmessage=H,z=function(){Z.postMessage(null)}}else z=function(){T(H,0)};function X(q,J){$=T(function(){q(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(q){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var ne=b;b=J;try{return q()}finally{b=ne}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=b;b=q;try{return J()}finally{b=ne}},e.unstable_scheduleCallback=function(q,J,ne){var de=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?de+ne:de):ne=de,q){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ne+oe,q={id:h++,callback:J,priorityLevel:q,startTime:ne,expirationTime:oe,sortIndex:-1},ne>de?(q.sortIndex=ne,t(f,q),n(u)===null&&q===n(f)&&(w?(N($),$=-1):w=!0,X(D,ne-de))):(q.sortIndex=oe,t(u,q),S||v||(S=!0,P||(P=!0,z()))),q},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(q){var J=b;return function(){var ne=b;b=J;try{return q.apply(this,arguments)}finally{b=ne}}}})(_w)),_w}var dC;function GH(){return dC||(dC=1,xw.exports=HH()),xw.exports}var ww={exports:{}},Tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC;function qH(){if(fC)return Tr;fC=1;var e=of();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tr.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(u,f,null,h)},Tr.flushSync=function(u){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=h,r.d.f()}},Tr.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Tr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Tr.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:v}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:b,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Tr.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Tr.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Tr.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Tr.requestFormReset=function(u){r.d.r(u)},Tr.unstable_batchedUpdates=function(u,f){return u(f)},Tr.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},Tr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Tr.version="19.2.1",Tr}var hC;function l$(){if(hC)return ww.exports;hC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ww.exports=qH(),ww.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function YH(){if(mC)return Ch;mC=1;var e=GH(),t=of(),n=l$();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,m=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(m=c.return),s=c.return;while(s)}return c.tag===3?m:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var m=s,x=c;;){var A=m.return;if(A===null)break;var O=A.alternate;if(O===null){if(x=A.return,x!==null){m=x;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===m)return u(A),s;if(O===x)return u(A),c;O=O.sibling}throw Error(r(188))}if(m.return!==x.return)m=A,x=O;else{for(var I=!1,G=A.child;G;){if(G===m){I=!0,m=A,x=O;break}if(G===x){I=!0,x=A,m=O;break}G=G.sibling}if(!I){for(G=O.child;G;){if(G===m){I=!0,m=O,x=A;break}if(G===x){I=!0,x=O,m=A;break}G=G.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==x)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:c}function h(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=h(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function Z(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case T:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case Y:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case j:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case C:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return c=s.displayName||null,c!==null?c:Z(s.type)||"Memo";case F:c=s._payload,s=s._init;try{return Z(s(c))}catch{}}return null}var X=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},de=[],oe=-1;function B(s){return{current:s}}function W(s){0>oe||(s.current=de[oe],de[oe]=null,oe--)}function ie(s,c){oe++,de[oe]=s.current,s.current=c}var Q=B(null),se=B(null),he=B(null),me=B(null);function Se(s,c){switch(ie(he,c),ie(se,s),ie(Q,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?ON(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=ON(c),s=NN(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(Q),ie(Q,s)}function re(){W(Q),W(se),W(he)}function Ee(s){s.memoizedState!==null&&ie(me,s);var c=Q.current,m=NN(c,s.type);c!==m&&(ie(se,s),ie(Q,m))}function je(s){se.current===s&&(W(Q),W(se)),me.current===s&&(W(me),Ah._currentValue=ne)}var fe,Je;function Ke(s){if(fe===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);fe=c&&c[1]||"",Je=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+s+Je}var Ne=!1;function Ie(s,c){if(!s||Ne)return"";Ne=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ve){var ye=ve}Reflect.construct(s,[],Te)}else{try{Te.call()}catch(ve){ye=ve}s.call(Te.prototype)}}else{try{throw Error()}catch(ve){ye=ve}(Te=s())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ve){if(ve&&ye&&typeof ve.stack=="string")return[ve.stack,ye.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=x.DetermineComponentFrameRoot(),I=O[0],G=O[1];if(I&&G){var te=I.split(`
`),ge=G.split(`
`);for(A=x=0;x<te.length&&!te[x].includes("DetermineComponentFrameRoot");)x++;for(;A<ge.length&&!ge[A].includes("DetermineComponentFrameRoot");)A++;if(x===te.length||A===ge.length)for(x=te.length-1,A=ge.length-1;1<=x&&0<=A&&te[x]!==ge[A];)A--;for(;1<=x&&0<=A;x--,A--)if(te[x]!==ge[A]){if(x!==1||A!==1)do if(x--,A--,0>A||te[x]!==ge[A]){var we=`
`+te[x].replace(" at new "," at ");return s.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",s.displayName)),we}while(1<=x&&0<=A);break}}}finally{Ne=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?Ke(m):""}function We(s,c){switch(s.tag){case 26:case 27:case 5:return Ke(s.type);case 16:return Ke("Lazy");case 13:return s.child!==c&&c!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return Ie(s.type,!1);case 11:return Ie(s.type.render,!1);case 1:return Ie(s.type,!0);case 31:return Ke("Activity");default:return""}}function Oe(s){try{var c="",m=null;do c+=We(s,m),m=s,s=s.return;while(s);return c}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var De=Object.prototype.hasOwnProperty,Be=e.unstable_scheduleCallback,lt=e.unstable_cancelCallback,ue=e.unstable_shouldYield,Ce=e.unstable_requestPaint,$e=e.unstable_now,it=e.unstable_getCurrentPriorityLevel,Nt=e.unstable_ImmediatePriority,xt=e.unstable_UserBlockingPriority,Jn=e.unstable_NormalPriority,gi=e.unstable_LowPriority,bi=e.unstable_IdlePriority,Ls=e.log,Is=e.unstable_setDisableYieldValue,qt=null,mn=null;function yi(s){if(typeof Ls=="function"&&Is(s),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(qt,s)}catch{}}var Dr=Math.clz32?Math.clz32:Sx,Gl=Math.log,wx=Math.LN2;function Sx(s){return s>>>=0,s===0?32:31-(Gl(s)/wx|0)|0}var ql=256,Yl=262144,Kl=4194304;function Ro(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function wu(s,c,m){var x=s.pendingLanes;if(x===0)return 0;var A=0,O=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var G=x&134217727;return G!==0?(x=G&~O,x!==0?A=Ro(x):(I&=G,I!==0?A=Ro(I):m||(m=G&~s,m!==0&&(A=Ro(m))))):(G=x&~O,G!==0?A=Ro(G):I!==0?A=Ro(I):m||(m=x&~s,m!==0&&(A=Ro(m)))),A===0?0:c!==0&&c!==A&&(c&O)===0&&(O=A&-A,m=c&-c,O>=m||O===32&&(m&4194048)!==0)?c:A}function Wl(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function kx(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bp(){var s=Kl;return Kl<<=1,(Kl&62914560)===0&&(Kl=4194304),s}function jf(s){for(var c=[],m=0;31>m;m++)c.push(s);return c}function Lo(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ex(s,c,m,x,A,O){var I=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,ge=s.hiddenUpdates;for(m=I&~m;0<m;){var we=31-Dr(m),Te=1<<we;G[we]=0,te[we]=-1;var ye=ge[we];if(ye!==null)for(ge[we]=null,we=0;we<ye.length;we++){var ve=ye[we];ve!==null&&(ve.lane&=-536870913)}m&=~Te}x!==0&&zp(s,x,0),O!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=O&~(I&~c))}function zp(s,c,m){s.pendingLanes|=c,s.suspendedLanes&=~c;var x=31-Dr(c);s.entangledLanes|=c,s.entanglements[x]=s.entanglements[x]|1073741824|m&261930}function Up(s,c){var m=s.entangledLanes|=c;for(s=s.entanglements;m;){var x=31-Dr(m),A=1<<x;A&c|s[x]&c&&(s[x]|=c),m&=~A}}function Fp(s,c){var m=c&-c;return m=(m&42)!==0?1:Yr(m),(m&(s.suspendedLanes|c))!==0?0:m}function Yr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ge(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Of(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:QN(s.type))}function Nf(s,c){var m=J.p;try{return J.p=s,c()}finally{J.p=m}}var _a=Math.random().toString(36).slice(2),On="__reactFiber$"+_a,Qn="__reactProps$"+_a,Io="__reactContainer$"+_a,Wa="__reactEvents$"+_a,Hp="__reactListeners$"+_a,Ax="__reactHandles$"+_a,Gp="__reactResources$"+_a,Vl="__reactMarker$"+_a;function Cf(s){delete s[On],delete s[Qn],delete s[Wa],delete s[Hp],delete s[Ax]}function $o(s){var c=s[On];if(c)return c;for(var m=s.parentNode;m;){if(c=m[Io]||m[On]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(s=IN(s);s!==null;){if(m=s[On])return m;s=IN(s)}return c}s=m,m=s.parentNode}return null}function $s(s){if(s=s[On]||s[Io]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Va(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Bs(s){var c=s[Gp];return c||(c=s[Gp]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Nn(s){s[Vl]=!0}var qp=new Set,Yp={};function Bo(s,c){Za(s,c),Za(s+"Capture",c)}function Za(s,c){for(Yp[s]=c,s=0;s<c.length;s++)qp.add(c[s])}var Zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mf={},Df={};function Xl(s){return De.call(Df,s)?!0:De.call(Mf,s)?!1:Zl.test(s)?Df[s]=!0:(Mf[s]=!0,!1)}function ht(s,c,m){if(Xl(c))if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+m)}}function It(s,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+m)}}function Kr(s,c,m,x){if(x===null)s.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(c,m,""+x)}}function Un(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function zo(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Pf(s,c,m){var x=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var A=x.get,O=x.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return A.call(this)},set:function(I){m=""+I,O.call(this,I)}}),Object.defineProperty(s,c,{enumerable:x.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function ot(s){if(!s._valueTracker){var c=zo(s)?"checked":"value";s._valueTracker=Pf(s,c,""+s[c])}}function en(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return s&&(x=zo(s)?s.checked?"true":"false":s.value),s=x,s!==m?(c.setValue(s),!0):!1}function zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Su=/[\n"\\]/g;function Zt(s){return s.replace(Su,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Rf(s,c,m,x,A,O,I,G){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),c!=null?I==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Un(c)):s.value!==""+Un(c)&&(s.value=""+Un(c)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),c!=null?wa(s,I,Un(c)):m!=null?wa(s,I,Un(m)):x!=null&&s.removeAttribute("value"),A==null&&O!=null&&(s.defaultChecked=!!O),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+Un(G):s.removeAttribute("name")}function Jl(s,c,m,x,A,O,I,G){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.type=O),c!=null||m!=null){if(!(O!=="submit"&&O!=="reset"||c!=null)){ot(s);return}m=m!=null?""+Un(m):"",c=c!=null?""+Un(c):m,G||c===s.value||(s.value=c),s.defaultValue=c}x=x??A,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=G?s.checked:!!x,s.defaultChecked=!!x,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),ot(s)}function wa(s,c,m){c==="number"&&zs(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function Ut(s,c,m,x){if(s=s.options,c){c={};for(var A=0;A<m.length;A++)c["$"+m[A]]=!0;for(m=0;m<s.length;m++)A=c.hasOwnProperty("$"+s[m].value),s[m].selected!==A&&(s[m].selected=A),A&&x&&(s[m].defaultSelected=!0)}else{for(m=""+Un(m),c=null,A=0;A<s.length;A++){if(s[A].value===m){s[A].selected=!0,x&&(s[A].defaultSelected=!0);return}c!==null||s[A].disabled||(c=s[A])}c!==null&&(c.selected=!0)}}function Xa(s,c,m){if(c!=null&&(c=""+Un(c),c!==s.value&&(s.value=c),m==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=m!=null?""+Un(m):""}function Us(s,c,m,x){if(c==null){if(x!=null){if(m!=null)throw Error(r(92));if(X(x)){if(1<x.length)throw Error(r(93));x=x[0]}m=x}m==null&&(m=""),c=m}m=Un(c),s.defaultValue=m,x=s.textContent,x===m&&x!==""&&x!==null&&(s.value=x),ot(s)}function Yi(s,c){if(c){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=c;return}}s.textContent=c}var Lf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fs(s,c,m){var x=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":x?s.setProperty(c,m):typeof m!="number"||m===0||Lf.has(c)?c==="float"?s.cssFloat=m:s[c]=(""+m).trim():s[c]=m+"px"}function ku(s,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var A in c)x=c[A],c.hasOwnProperty(A)&&m[A]!==x&&Fs(s,A,x)}else for(var O in c)c.hasOwnProperty(O)&&Fs(s,O,c[O])}function Ql(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),If=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(s){return If.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Wr(){}var Au=null;function ec(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gs=null,rt=null;function vi(s){var c=$s(s);if(c&&(s=c.stateNode)){var m=s[Qn]||null;e:switch(s=c.stateNode,c.type){case"input":if(Rf(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Zt(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==s&&x.form===s.form){var A=x[Qn]||null;if(!A)throw Error(r(90));Rf(x,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<m.length;c++)x=m[c],x.form===s.form&&en(x)}break e;case"textarea":Xa(s,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Ut(s,!!m.multiple,c,!1)}}}var Ct=!1;function $f(s,c,m){if(Ct)return s(c,m);Ct=!0;try{var x=s(c);return x}finally{if(Ct=!1,(Gs!==null||rt!==null)&&(Fg(),Gs&&(c=Gs,s=rt,rt=Gs=null,vi(c),s)))for(c=0;c<s.length;c++)vi(s[c])}}function Uo(s,c){var m=s.stateNode;if(m===null)return null;var x=m[Qn]||null;if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=!1;if(xi)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){tc=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{tc=!1}var Ki=null,Fo=null,pn=null;function Ja(){if(pn)return pn;var s,c=Fo,m=c.length,x,A="value"in Ki?Ki.value:Ki.textContent,O=A.length;for(s=0;s<m&&c[s]===A[s];s++);var I=m-s;for(x=1;x<=I&&c[m-x]===A[O-x];x++);return pn=A.slice(s,1<x?1-x:void 0)}function nc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function rc(){return!0}function Kp(){return!1}function fr(s){function c(m,x,A,O,I){this._reactName=m,this._targetInst=A,this.type=x,this.nativeEvent=O,this.target=I,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(m=s[G],this[G]=m?m(O):O[G]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?rc:Kp,this.isPropagationStopped=Kp,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),c}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tu=fr(Sa),qs=p({},Sa,{view:0,detail:0}),bt=fr(qs),Bf,Pr,ka,ic=p({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ka&&(ka&&s.type==="mousemove"?(Bf=s.screenX-ka.screenX,Pr=s.screenY-ka.screenY):Pr=Bf=0,ka=s),Bf)},movementY:function(s){return"movementY"in s?s.movementY:Pr}}),Wp=fr(ic),zf=p({},ic,{dataTransfer:0}),Tx=fr(zf),Vp=p({},qs,{relatedTarget:0}),Uf=fr(Vp),jx=p({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ff=fr(jx),Ox=p({},Sa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wi=fr(Ox),Nx=p({},Sa,{data:0}),Hf=fr(Nx),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gf(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Xp[s])?!!c[s]:!1}function qf(){return Gf}var Jp=p({},qs,{key:function(s){if(s.key){var c=Qa[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=nc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Zp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qf,charCode:function(s){return s.type==="keypress"?nc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?nc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qp=fr(Jp),Cx=p({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eg=fr(Cx),Yf=p({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qf}),Mx=fr(Yf),tg=p({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),ng=fr(tg),ju=p({},ic,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ho=fr(ju),Dx=p({},Sa,{newState:0,oldState:0}),ac=fr(Dx),Vr=[9,13,27,32],Ou=xi&&"CompositionEvent"in window,Ys=null;xi&&"documentMode"in document&&(Ys=document.documentMode);var Px=xi&&"TextEvent"in window&&!Ys,Nu=xi&&(!Ou||Ys&&8<Ys&&11>=Ys),Cu=" ",rg=!1;function ig(s,c){switch(s){case"keyup":return Vr.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ks=!1;function wi(s,c){switch(s){case"compositionend":return Kf(c);case"keypress":return c.which!==32?null:(rg=!0,Cu);case"textInput":return s=c.data,s===Cu&&rg?null:s;default:return null}}function Ws(s,c){if(Ks)return s==="compositionend"||!Ou&&ig(s,c)?(s=Ja(),pn=Fo=Ki=null,Ks=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Nu&&c.locale!=="ko"?null:c.data;default:return null}}var Rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vi(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Rx[s.type]:c==="textarea"}function ag(s,c,m,x){Gs?rt?rt.push(x):rt=[x]:Gs=x,c=Vg(c,"onChange"),0<c.length&&(m=new Tu("onChange","change",null,m,x),s.push({event:m,listeners:c}))}var Zi=null,oc=null;function sc(s){SN(s,0)}function lc(s){var c=Va(s);if(en(c))return s}function cc(s,c){if(s==="change")return c}var og=!1;if(xi){var Xi;if(xi){var Vs="oninput"in document;if(!Vs){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),Vs=typeof sg.oninput=="function"}Xi=Vs}else Xi=!1;og=Xi&&(!document.documentMode||9<document.documentMode)}function Mu(){Zi&&(Zi.detachEvent("onpropertychange",lg),oc=Zi=null)}function lg(s){if(s.propertyName==="value"&&lc(oc)){var c=[];ag(c,oc,s,ec(s)),$f(sc,c)}}function Ea(s,c,m){s==="focusin"?(Mu(),Zi=c,oc=m,Zi.attachEvent("onpropertychange",lg)):s==="focusout"&&Mu()}function Lx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return lc(oc)}function Zs(s,c){if(s==="click")return lc(c)}function Ix(s,c){if(s==="input"||s==="change")return lc(c)}function Aa(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var er=typeof Object.is=="function"?Object.is:Aa;function Xs(s,c){if(er(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var m=Object.keys(s),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var A=m[x];if(!De.call(c,A)||!er(s[A],c[A]))return!1}return!0}function Du(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function uc(s,c){var m=Du(s);s=0;for(var x;m;){if(m.nodeType===3){if(x=s+m.textContent.length,s<=c&&x>=c)return{node:m,offset:c-s};s=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Du(m)}}function Pu(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Pu(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function dc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=zs(s.document);c instanceof s.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)s=c.contentWindow;else break;c=zs(s.document)}return c}function eo(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Ru=xi&&"documentMode"in document&&11>=document.documentMode,to=null,Lu=null,fc=null,Js=!1;function cg(s,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Js||to==null||to!==zs(x)||(x=to,"selectionStart"in x&&eo(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),fc&&Xs(fc,x)||(fc=x,x=Vg(Lu,"onSelect"),0<x.length&&(c=new Tu("onSelect","select",null,c,m),s.push({event:c,listeners:x}),c.target=to)))}function no(s,c){var m={};return m[s.toLowerCase()]=c.toLowerCase(),m["Webkit"+s]="webkit"+c,m["Moz"+s]="moz"+c,m}var Qs={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionrun:no("Transition","TransitionRun"),transitionstart:no("Transition","TransitionStart"),transitioncancel:no("Transition","TransitionCancel"),transitionend:no("Transition","TransitionEnd")},Iu={},ug={};xi&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function tr(s){if(Iu[s])return Iu[s];if(!Qs[s])return s;var c=Qs[s],m;for(m in c)if(c.hasOwnProperty(m)&&m in ug)return Iu[s]=c[m];return s}var hc=tr("animationend"),dg=tr("animationiteration"),mc=tr("animationstart"),$x=tr("transitionrun"),fg=tr("transitionstart"),Bx=tr("transitioncancel"),el=tr("transitionend"),hg=new Map,ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ro.push("scrollEnd");function Zr(s,c){hg.set(s,c),Bo(c,[s])}var pc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Xr=[],Er=0,$u=0;function gc(){for(var s=Er,c=$u=Er=0;c<s;){var m=Xr[c];Xr[c++]=null;var x=Xr[c];Xr[c++]=null;var A=Xr[c];Xr[c++]=null;var O=Xr[c];if(Xr[c++]=null,x!==null&&A!==null){var I=x.pending;I===null?A.next=A:(A.next=I.next,I.next=A),x.pending=A}O!==0&&tl(m,A,O)}}function io(s,c,m,x){Xr[Er++]=s,Xr[Er++]=c,Xr[Er++]=m,Xr[Er++]=x,$u|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function Wf(s,c,m,x){return io(s,c,m,x),bc(s)}function Ji(s,c){return io(s,null,null,c),bc(s)}function tl(s,c,m){s.lanes|=m;var x=s.alternate;x!==null&&(x.lanes|=m);for(var A=!1,O=s.return;O!==null;)O.childLanes|=m,x=O.alternate,x!==null&&(x.childLanes|=m),O.tag===22&&(s=O.stateNode,s===null||s._visibility&1||(A=!0)),s=O,O=O.return;return s.tag===3?(O=s.stateNode,A&&c!==null&&(A=31-Dr(m),s=O.hiddenUpdates,x=s[A],x===null?s[A]=[c]:x.push(c),c.lane=m|536870912),O):null}function bc(s){if(50<vh)throw vh=0,U_=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Go={};function zx(s,c,m,x){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,c,m,x){return new zx(s,c,m,x)}function Bu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qi(s,c){var m=s.alternate;return m===null?(m=Ar(s.tag,c,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=c,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,c=s.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function Vf(s,c){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,c=m.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function yc(s,c,m,x,A,O){var I=0;if(x=s,typeof s=="function")Bu(s)&&(I=1);else if(typeof s=="string")I=TH(s,m,Q.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Y:return s=Ar(31,m,c,A),s.elementType=Y,s.lanes=O,s;case w:return qo(m.children,A,O,c);case _:I=8,A|=24;break;case T:return s=Ar(12,m,c,A|2),s.elementType=T,s.lanes=O,s;case D:return s=Ar(13,m,c,A),s.elementType=D,s.lanes=O,s;case P:return s=Ar(19,m,c,A),s.elementType=P,s.lanes=O,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:I=10;break e;case N:I=9;break e;case C:I=11;break e;case $:I=14;break e;case F:I=16,x=null;break e}I=29,m=Error(r(130,s===null?"null":typeof s,"")),x=null}return c=Ar(I,m,c,A),c.elementType=s,c.type=x,c.lanes=O,c}function qo(s,c,m,x){return s=Ar(7,s,x,c),s.lanes=m,s}function zu(s,c,m){return s=Ar(6,s,null,c),s.lanes=m,s}function Zf(s){var c=Ar(18,null,null,0);return c.stateNode=s,c}function Xf(s,c,m){return c=Ar(4,s.children!==null?s.children:[],s.key,c),c.lanes=m,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var d=new WeakMap;function y(s,c){if(typeof s=="object"&&s!==null){var m=d.get(s);return m!==void 0?m:(c={value:s,source:c,stack:Oe(c)},d.set(s,c),c)}return{value:s,source:c,stack:Oe(c)}}var E=[],M=0,R=null,U=0,ee=[],ce=0,be=null,Ae=1,Le="";function Ye(s,c){E[M++]=U,E[M++]=R,R=s,U=c}function ut(s,c,m){ee[ce++]=Ae,ee[ce++]=Le,ee[ce++]=be,be=s;var x=Ae;s=Le;var A=32-Dr(x)-1;x&=~(1<<A),m+=1;var O=32-Dr(c)+A;if(30<O){var I=A-A%5;O=(x&(1<<I)-1).toString(32),x>>=I,A-=I,Ae=1<<32-Dr(c)+A|m<<A|x,Le=O+s}else Ae=1<<O|m<<A|x,Le=s}function Fn(s){s.return!==null&&(Ye(s,1),ut(s,1,0))}function gn(s){for(;s===R;)R=E[--M],E[M]=null,U=E[--M],E[M]=null;for(;s===be;)be=ee[--ce],ee[ce]=null,Le=ee[--ce],ee[ce]=null,Ae=ee[--ce],ee[ce]=null}function Rr(s,c){ee[ce++]=Ae,ee[ce++]=Le,ee[ce++]=be,Ae=c.id,Le=c.overflow,be=s}var St=null,kt=null,mt=!1,ao=null,Jr=!1,Uu=Error(r(519));function oo(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vc(y(c,s)),Uu}function Jf(s){var c=s.stateNode,m=s.type,x=s.memoizedProps;switch(c[On]=s,c[Qn]=x,m){case"dialog":gt("cancel",c),gt("close",c);break;case"iframe":case"object":case"embed":gt("load",c);break;case"video":case"audio":for(m=0;m<_h.length;m++)gt(_h[m],c);break;case"source":gt("error",c);break;case"img":case"image":case"link":gt("error",c),gt("load",c);break;case"details":gt("toggle",c);break;case"input":gt("invalid",c),Jl(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":gt("invalid",c);break;case"textarea":gt("invalid",c),Us(c,x.value,x.defaultValue,x.children)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||x.suppressHydrationWarning===!0||TN(c.textContent,m)?(x.popover!=null&&(gt("beforetoggle",c),gt("toggle",c)),x.onScroll!=null&&gt("scroll",c),x.onScrollEnd!=null&&gt("scrollend",c),x.onClick!=null&&(c.onclick=Wr),c=!0):c=!1,c||oo(s,!0)}function un(s){for(St=s.return;St;)switch(St.tag){case 5:case 31:case 13:Jr=!1;return;case 27:case 3:Jr=!0;return;default:St=St.return}}function Ta(s){if(s!==St)return!1;if(!mt)return un(s),mt=!0,!1;var c=s.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||nw(s.type,s.memoizedProps)),m=!m),m&&kt&&oo(s),un(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));kt=LN(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));kt=LN(s)}else c===27?(c=kt,pl(s.type)?(s=sw,sw=null,kt=s):kt=c):kt=St?ta(s.stateNode.nextSibling):null;return!0}function Yo(){kt=St=null,mt=!1}function Qf(){var s=ao;return s!==null&&(ni===null?ni=s:ni.push.apply(ni,s),ao=null),s}function vc(s){ao===null?ao=[s]:ao.push(s)}var xc=B(null),so=null,ja=null;function nl(s,c,m){ie(xc,c._currentValue),c._currentValue=m}function Ko(s){s._currentValue=xc.current,W(xc)}function Ux(s,c,m){for(;s!==null;){var x=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),s===m)break;s=s.return}}function Fx(s,c,m,x){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var O=A.dependencies;if(O!==null){var I=A.child;O=O.firstContext;e:for(;O!==null;){var G=O;O=A;for(var te=0;te<c.length;te++)if(G.context===c[te]){O.lanes|=m,G=O.alternate,G!==null&&(G.lanes|=m),Ux(O.return,m,s),x||(I=null);break e}O=G.next}}else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=m,O=I.alternate,O!==null&&(O.lanes|=m),Ux(I,m,s),I=null}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===s){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}}function Fu(s,c,m,x){s=null;for(var A=c,O=!1;A!==null;){if(!O){if((A.flags&524288)!==0)O=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var I=A.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var G=A.type;er(A.pendingProps.value,I.value)||(s!==null?s.push(G):s=[G])}}else if(A===me.current){if(I=A.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(Ah):s=[Ah])}A=A.return}s!==null&&Fx(c,s,m,x),c.flags|=262144}function mg(s){for(s=s.firstContext;s!==null;){if(!er(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function _c(s){so=s,ja=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hr(s){return fj(so,s)}function pg(s,c){return so===null&&_c(s),fj(s,c)}function fj(s,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},ja===null){if(s===null)throw Error(r(308));ja=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else ja=ja.next=c;return m}var SF=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(m,x){s.push(x)}};this.abort=function(){c.aborted=!0,s.forEach(function(m){return m()})}},kF=e.unstable_scheduleCallback,EF=e.unstable_NormalPriority,Cn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hx(){return{controller:new SF,data:new Map,refCount:0}}function eh(s){s.refCount--,s.refCount===0&&kF(EF,function(){s.controller.abort()})}var th=null,Gx=0,Hu=0,Gu=null;function AF(s,c){if(th===null){var m=th=[];Gx=0,Hu=K_(),Gu={status:"pending",value:void 0,then:function(x){m.push(x)}}}return Gx++,c.then(hj,hj),c}function hj(){if(--Gx===0&&th!==null){Gu!==null&&(Gu.status="fulfilled");var s=th;th=null,Hu=0,Gu=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function TF(s,c){var m=[],x={status:"pending",value:null,reason:null,then:function(A){m.push(A)}};return s.then(function(){x.status="fulfilled",x.value=c;for(var A=0;A<m.length;A++)(0,m[A])(c)},function(A){for(x.status="rejected",x.reason=A,A=0;A<m.length;A++)(0,m[A])(void 0)}),x}var mj=q.S;q.S=function(s,c){XO=$e(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&AF(s,c),mj!==null&&mj(s,c)};var wc=B(null);function qx(){var s=wc.current;return s!==null?s:Ft.pooledCache}function gg(s,c){c===null?ie(wc,wc.current):ie(wc,c.pool)}function pj(){var s=qx();return s===null?null:{parent:Cn._currentValue,pool:s}}var qu=Error(r(460)),Yx=Error(r(474)),bg=Error(r(542)),yg={then:function(){}};function gj(s){return s=s.status,s==="fulfilled"||s==="rejected"}function bj(s,c,m){switch(m=s[m],m===void 0?s.push(c):m!==c&&(c.then(Wr,Wr),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,vj(s),s;default:if(typeof c.status=="string")c.then(Wr,Wr);else{if(s=Ft,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(x){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=x}},function(x){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,vj(s),s}throw kc=c,qu}}function Sc(s){try{var c=s._init;return c(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(kc=m,qu):m}}var kc=null;function yj(){if(kc===null)throw Error(r(459));var s=kc;return kc=null,s}function vj(s){if(s===qu||s===bg)throw Error(r(483))}var Yu=null,nh=0;function vg(s){var c=nh;return nh+=1,Yu===null&&(Yu=[]),bj(Yu,s,c)}function rh(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function xg(s,c){throw c.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function xj(s){function c(le,ae){if(s){var pe=le.deletions;pe===null?(le.deletions=[ae],le.flags|=16):pe.push(ae)}}function m(le,ae){if(!s)return null;for(;ae!==null;)c(le,ae),ae=ae.sibling;return null}function x(le){for(var ae=new Map;le!==null;)le.key!==null?ae.set(le.key,le):ae.set(le.index,le),le=le.sibling;return ae}function A(le,ae){return le=Qi(le,ae),le.index=0,le.sibling=null,le}function O(le,ae,pe){return le.index=pe,s?(pe=le.alternate,pe!==null?(pe=pe.index,pe<ae?(le.flags|=67108866,ae):pe):(le.flags|=67108866,ae)):(le.flags|=1048576,ae)}function I(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function G(le,ae,pe,ke){return ae===null||ae.tag!==6?(ae=zu(pe,le.mode,ke),ae.return=le,ae):(ae=A(ae,pe),ae.return=le,ae)}function te(le,ae,pe,ke){var Qe=pe.type;return Qe===w?we(le,ae,pe.props.children,ke,pe.key):ae!==null&&(ae.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===F&&Sc(Qe)===ae.type)?(ae=A(ae,pe.props),rh(ae,pe),ae.return=le,ae):(ae=yc(pe.type,pe.key,pe.props,null,le.mode,ke),rh(ae,pe),ae.return=le,ae)}function ge(le,ae,pe,ke){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==pe.containerInfo||ae.stateNode.implementation!==pe.implementation?(ae=Xf(pe,le.mode,ke),ae.return=le,ae):(ae=A(ae,pe.children||[]),ae.return=le,ae)}function we(le,ae,pe,ke,Qe){return ae===null||ae.tag!==7?(ae=qo(pe,le.mode,ke,Qe),ae.return=le,ae):(ae=A(ae,pe),ae.return=le,ae)}function Te(le,ae,pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=zu(""+ae,le.mode,pe),ae.return=le,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return pe=yc(ae.type,ae.key,ae.props,null,le.mode,pe),rh(pe,ae),pe.return=le,pe;case S:return ae=Xf(ae,le.mode,pe),ae.return=le,ae;case F:return ae=Sc(ae),Te(le,ae,pe)}if(X(ae)||z(ae))return ae=qo(ae,le.mode,pe,null),ae.return=le,ae;if(typeof ae.then=="function")return Te(le,vg(ae),pe);if(ae.$$typeof===j)return Te(le,pg(le,ae),pe);xg(le,ae)}return null}function ye(le,ae,pe,ke){var Qe=ae!==null?ae.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Qe!==null?null:G(le,ae,""+pe,ke);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case v:return pe.key===Qe?te(le,ae,pe,ke):null;case S:return pe.key===Qe?ge(le,ae,pe,ke):null;case F:return pe=Sc(pe),ye(le,ae,pe,ke)}if(X(pe)||z(pe))return Qe!==null?null:we(le,ae,pe,ke,null);if(typeof pe.then=="function")return ye(le,ae,vg(pe),ke);if(pe.$$typeof===j)return ye(le,ae,pg(le,pe),ke);xg(le,pe)}return null}function ve(le,ae,pe,ke,Qe){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return le=le.get(pe)||null,G(ae,le,""+ke,Qe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case v:return le=le.get(ke.key===null?pe:ke.key)||null,te(ae,le,ke,Qe);case S:return le=le.get(ke.key===null?pe:ke.key)||null,ge(ae,le,ke,Qe);case F:return ke=Sc(ke),ve(le,ae,pe,ke,Qe)}if(X(ke)||z(ke))return le=le.get(pe)||null,we(ae,le,ke,Qe,null);if(typeof ke.then=="function")return ve(le,ae,pe,vg(ke),Qe);if(ke.$$typeof===j)return ve(le,ae,pe,pg(ae,ke),Qe);xg(ae,ke)}return null}function Ue(le,ae,pe,ke){for(var Qe=null,Et=null,He=ae,dt=ae=0,vt=null;He!==null&&dt<pe.length;dt++){He.index>dt?(vt=He,He=null):vt=He.sibling;var At=ye(le,He,pe[dt],ke);if(At===null){He===null&&(He=vt);break}s&&He&&At.alternate===null&&c(le,He),ae=O(At,ae,dt),Et===null?Qe=At:Et.sibling=At,Et=At,He=vt}if(dt===pe.length)return m(le,He),mt&&Ye(le,dt),Qe;if(He===null){for(;dt<pe.length;dt++)He=Te(le,pe[dt],ke),He!==null&&(ae=O(He,ae,dt),Et===null?Qe=He:Et.sibling=He,Et=He);return mt&&Ye(le,dt),Qe}for(He=x(He);dt<pe.length;dt++)vt=ve(He,le,dt,pe[dt],ke),vt!==null&&(s&&vt.alternate!==null&&He.delete(vt.key===null?dt:vt.key),ae=O(vt,ae,dt),Et===null?Qe=vt:Et.sibling=vt,Et=vt);return s&&He.forEach(function(xl){return c(le,xl)}),mt&&Ye(le,dt),Qe}function tt(le,ae,pe,ke){if(pe==null)throw Error(r(151));for(var Qe=null,Et=null,He=ae,dt=ae=0,vt=null,At=pe.next();He!==null&&!At.done;dt++,At=pe.next()){He.index>dt?(vt=He,He=null):vt=He.sibling;var xl=ye(le,He,At.value,ke);if(xl===null){He===null&&(He=vt);break}s&&He&&xl.alternate===null&&c(le,He),ae=O(xl,ae,dt),Et===null?Qe=xl:Et.sibling=xl,Et=xl,He=vt}if(At.done)return m(le,He),mt&&Ye(le,dt),Qe;if(He===null){for(;!At.done;dt++,At=pe.next())At=Te(le,At.value,ke),At!==null&&(ae=O(At,ae,dt),Et===null?Qe=At:Et.sibling=At,Et=At);return mt&&Ye(le,dt),Qe}for(He=x(He);!At.done;dt++,At=pe.next())At=ve(He,le,dt,At.value,ke),At!==null&&(s&&At.alternate!==null&&He.delete(At.key===null?dt:At.key),ae=O(At,ae,dt),Et===null?Qe=At:Et.sibling=At,Et=At);return s&&He.forEach(function($H){return c(le,$H)}),mt&&Ye(le,dt),Qe}function zt(le,ae,pe,ke){if(typeof pe=="object"&&pe!==null&&pe.type===w&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case v:e:{for(var Qe=pe.key;ae!==null;){if(ae.key===Qe){if(Qe=pe.type,Qe===w){if(ae.tag===7){m(le,ae.sibling),ke=A(ae,pe.props.children),ke.return=le,le=ke;break e}}else if(ae.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===F&&Sc(Qe)===ae.type){m(le,ae.sibling),ke=A(ae,pe.props),rh(ke,pe),ke.return=le,le=ke;break e}m(le,ae);break}else c(le,ae);ae=ae.sibling}pe.type===w?(ke=qo(pe.props.children,le.mode,ke,pe.key),ke.return=le,le=ke):(ke=yc(pe.type,pe.key,pe.props,null,le.mode,ke),rh(ke,pe),ke.return=le,le=ke)}return I(le);case S:e:{for(Qe=pe.key;ae!==null;){if(ae.key===Qe)if(ae.tag===4&&ae.stateNode.containerInfo===pe.containerInfo&&ae.stateNode.implementation===pe.implementation){m(le,ae.sibling),ke=A(ae,pe.children||[]),ke.return=le,le=ke;break e}else{m(le,ae);break}else c(le,ae);ae=ae.sibling}ke=Xf(pe,le.mode,ke),ke.return=le,le=ke}return I(le);case F:return pe=Sc(pe),zt(le,ae,pe,ke)}if(X(pe))return Ue(le,ae,pe,ke);if(z(pe)){if(Qe=z(pe),typeof Qe!="function")throw Error(r(150));return pe=Qe.call(pe),tt(le,ae,pe,ke)}if(typeof pe.then=="function")return zt(le,ae,vg(pe),ke);if(pe.$$typeof===j)return zt(le,ae,pg(le,pe),ke);xg(le,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ae!==null&&ae.tag===6?(m(le,ae.sibling),ke=A(ae,pe),ke.return=le,le=ke):(m(le,ae),ke=zu(pe,le.mode,ke),ke.return=le,le=ke),I(le)):m(le,ae)}return function(le,ae,pe,ke){try{nh=0;var Qe=zt(le,ae,pe,ke);return Yu=null,Qe}catch(He){if(He===qu||He===bg)throw He;var Et=Ar(29,He,null,le.mode);return Et.lanes=ke,Et.return=le,Et}finally{}}}var Ec=xj(!0),_j=xj(!1),rl=!1;function Kx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wx(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function il(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function al(s,c,m){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(jt&2)!==0){var A=x.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),x.pending=c,c=bc(s),tl(s,null,m),c}return io(s,x,c,m),bc(s)}function ih(s,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,Up(s,m)}}function Vx(s,c){var m=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var A=null,O=null;if(m=m.firstBaseUpdate,m!==null){do{var I={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};O===null?A=O=I:O=O.next=I,m=m.next}while(m!==null);O===null?A=O=c:O=O.next=c}else A=O=c;m={baseState:x.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:x.shared,callbacks:x.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=c:s.next=c,m.lastBaseUpdate=c}var Zx=!1;function ah(){if(Zx){var s=Gu;if(s!==null)throw s}}function oh(s,c,m,x){Zx=!1;var A=s.updateQueue;rl=!1;var O=A.firstBaseUpdate,I=A.lastBaseUpdate,G=A.shared.pending;if(G!==null){A.shared.pending=null;var te=G,ge=te.next;te.next=null,I===null?O=ge:I.next=ge,I=te;var we=s.alternate;we!==null&&(we=we.updateQueue,G=we.lastBaseUpdate,G!==I&&(G===null?we.firstBaseUpdate=ge:G.next=ge,we.lastBaseUpdate=te))}if(O!==null){var Te=A.baseState;I=0,we=ge=te=null,G=O;do{var ye=G.lane&-536870913,ve=ye!==G.lane;if(ve?(yt&ye)===ye:(x&ye)===ye){ye!==0&&ye===Hu&&(Zx=!0),we!==null&&(we=we.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Ue=s,tt=G;ye=c;var zt=m;switch(tt.tag){case 1:if(Ue=tt.payload,typeof Ue=="function"){Te=Ue.call(zt,Te,ye);break e}Te=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=tt.payload,ye=typeof Ue=="function"?Ue.call(zt,Te,ye):Ue,ye==null)break e;Te=p({},Te,ye);break e;case 2:rl=!0}}ye=G.callback,ye!==null&&(s.flags|=64,ve&&(s.flags|=8192),ve=A.callbacks,ve===null?A.callbacks=[ye]:ve.push(ye))}else ve={lane:ye,tag:G.tag,payload:G.payload,callback:G.callback,next:null},we===null?(ge=we=ve,te=Te):we=we.next=ve,I|=ye;if(G=G.next,G===null){if(G=A.shared.pending,G===null)break;ve=G,G=ve.next,ve.next=null,A.lastBaseUpdate=ve,A.shared.pending=null}}while(!0);we===null&&(te=Te),A.baseState=te,A.firstBaseUpdate=ge,A.lastBaseUpdate=we,O===null&&(A.shared.lanes=0),ul|=I,s.lanes=I,s.memoizedState=Te}}function wj(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function Sj(s,c){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)wj(m[s],c)}var Ku=B(null),_g=B(0);function kj(s,c){s=ns,ie(_g,s),ie(Ku,c),ns=s|c.baseLanes}function Xx(){ie(_g,ns),ie(Ku,Ku.current)}function Jx(){ns=_g.current,W(Ku),W(_g)}var Si=B(null),ea=null;function ol(s){var c=s.alternate;ie(Sn,Sn.current&1),ie(Si,s),ea===null&&(c===null||Ku.current!==null||c.memoizedState!==null)&&(ea=s)}function Qx(s){ie(Sn,Sn.current),ie(Si,s),ea===null&&(ea=s)}function Ej(s){s.tag===22?(ie(Sn,Sn.current),ie(Si,s),ea===null&&(ea=s)):sl()}function sl(){ie(Sn,Sn.current),ie(Si,Si.current)}function ki(s){W(Si),ea===s&&(ea=null),W(Sn)}var Sn=B(0);function wg(s){for(var c=s;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||aw(m)||ow(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Wo=0,ct=null,$t=null,Mn=null,Sg=!1,Wu=!1,Ac=!1,kg=0,sh=0,Vu=null,jF=0;function bn(){throw Error(r(321))}function e_(s,c){if(c===null)return!1;for(var m=0;m<c.length&&m<s.length;m++)if(!er(s[m],c[m]))return!1;return!0}function t_(s,c,m,x,A,O){return Wo=O,ct=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,q.H=s===null||s.memoizedState===null?lO:g_,Ac=!1,O=m(x,A),Ac=!1,Wu&&(O=Tj(c,m,x,A)),Aj(s),O}function Aj(s){q.H=uh;var c=$t!==null&&$t.next!==null;if(Wo=0,Mn=$t=ct=null,Sg=!1,sh=0,Vu=null,c)throw Error(r(300));s===null||Dn||(s=s.dependencies,s!==null&&mg(s)&&(Dn=!0))}function Tj(s,c,m,x){ct=s;var A=0;do{if(Wu&&(Vu=null),sh=0,Wu=!1,25<=A)throw Error(r(301));if(A+=1,Mn=$t=null,s.updateQueue!=null){var O=s.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}q.H=cO,O=c(m,x)}while(Wu);return O}function OF(){var s=q.H,c=s.useState()[0];return c=typeof c.then=="function"?lh(c):c,s=s.useState()[0],($t!==null?$t.memoizedState:null)!==s&&(ct.flags|=1024),c}function n_(){var s=kg!==0;return kg=0,s}function r_(s,c,m){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~m}function i_(s){if(Sg){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}Sg=!1}Wo=0,Mn=$t=ct=null,Wu=!1,sh=kg=0,Vu=null}function Lr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?ct.memoizedState=Mn=s:Mn=Mn.next=s,Mn}function kn(){if($t===null){var s=ct.alternate;s=s!==null?s.memoizedState:null}else s=$t.next;var c=Mn===null?ct.memoizedState:Mn.next;if(c!==null)Mn=c,$t=s;else{if(s===null)throw ct.alternate===null?Error(r(467)):Error(r(310));$t=s,s={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Mn===null?ct.memoizedState=Mn=s:Mn=Mn.next=s}return Mn}function Eg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lh(s){var c=sh;return sh+=1,Vu===null&&(Vu=[]),s=bj(Vu,s,c),c=ct,(Mn===null?c.memoizedState:Mn.next)===null&&(c=c.alternate,q.H=c===null||c.memoizedState===null?lO:g_),s}function Ag(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return lh(s);if(s.$$typeof===j)return hr(s)}throw Error(r(438,String(s)))}function a_(s){var c=null,m=ct.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var x=ct.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=Eg(),ct.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(s),x=0;x<s;x++)m[x]=K;return c.index++,m}function Vo(s,c){return typeof c=="function"?c(s):c}function Tg(s){var c=kn();return o_(c,$t,s)}function o_(s,c,m){var x=s.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=m;var A=s.baseQueue,O=x.pending;if(O!==null){if(A!==null){var I=A.next;A.next=O.next,O.next=I}c.baseQueue=A=O,x.pending=null}if(O=s.baseState,A===null)s.memoizedState=O;else{c=A.next;var G=I=null,te=null,ge=c,we=!1;do{var Te=ge.lane&-536870913;if(Te!==ge.lane?(yt&Te)===Te:(Wo&Te)===Te){var ye=ge.revertLane;if(ye===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),Te===Hu&&(we=!0);else if((Wo&ye)===ye){ge=ge.next,ye===Hu&&(we=!0);continue}else Te={lane:0,revertLane:ge.revertLane,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},te===null?(G=te=Te,I=O):te=te.next=Te,ct.lanes|=ye,ul|=ye;Te=ge.action,Ac&&m(O,Te),O=ge.hasEagerState?ge.eagerState:m(O,Te)}else ye={lane:Te,revertLane:ge.revertLane,gesture:ge.gesture,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},te===null?(G=te=ye,I=O):te=te.next=ye,ct.lanes|=Te,ul|=Te;ge=ge.next}while(ge!==null&&ge!==c);if(te===null?I=O:te.next=G,!er(O,s.memoizedState)&&(Dn=!0,we&&(m=Gu,m!==null)))throw m;s.memoizedState=O,s.baseState=I,s.baseQueue=te,x.lastRenderedState=O}return A===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function s_(s){var c=kn(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var x=m.dispatch,A=m.pending,O=c.memoizedState;if(A!==null){m.pending=null;var I=A=A.next;do O=s(O,I.action),I=I.next;while(I!==A);er(O,c.memoizedState)||(Dn=!0),c.memoizedState=O,c.baseQueue===null&&(c.baseState=O),m.lastRenderedState=O}return[O,x]}function jj(s,c,m){var x=ct,A=kn(),O=mt;if(O){if(m===void 0)throw Error(r(407));m=m()}else m=c();var I=!er(($t||A).memoizedState,m);if(I&&(A.memoizedState=m,Dn=!0),A=A.queue,u_(Cj.bind(null,x,A,s),[s]),A.getSnapshot!==c||I||Mn!==null&&Mn.memoizedState.tag&1){if(x.flags|=2048,Zu(9,{destroy:void 0},Nj.bind(null,x,A,m,c),null),Ft===null)throw Error(r(349));O||(Wo&127)!==0||Oj(x,c,m)}return m}function Oj(s,c,m){s.flags|=16384,s={getSnapshot:c,value:m},c=ct.updateQueue,c===null?(c=Eg(),ct.updateQueue=c,c.stores=[s]):(m=c.stores,m===null?c.stores=[s]:m.push(s))}function Nj(s,c,m,x){c.value=m,c.getSnapshot=x,Mj(c)&&Dj(s)}function Cj(s,c,m){return m(function(){Mj(c)&&Dj(s)})}function Mj(s){var c=s.getSnapshot;s=s.value;try{var m=c();return!er(s,m)}catch{return!0}}function Dj(s){var c=Ji(s,2);c!==null&&ri(c,s,2)}function l_(s){var c=Lr();if(typeof s=="function"){var m=s;if(s=m(),Ac){yi(!0);try{m()}finally{yi(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:s},c}function Pj(s,c,m,x){return s.baseState=m,o_(s,$t,typeof x=="function"?x:Vo)}function NF(s,c,m,x,A){if(Ng(s))throw Error(r(485));if(s=c.action,s!==null){var O={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){O.listeners.push(I)}};q.T!==null?m(!0):O.isTransition=!1,x(O),m=c.pending,m===null?(O.next=c.pending=O,Rj(c,O)):(O.next=m.next,c.pending=m.next=O)}}function Rj(s,c){var m=c.action,x=c.payload,A=s.state;if(c.isTransition){var O=q.T,I={};q.T=I;try{var G=m(A,x),te=q.S;te!==null&&te(I,G),Lj(s,c,G)}catch(ge){c_(s,c,ge)}finally{O!==null&&I.types!==null&&(O.types=I.types),q.T=O}}else try{O=m(A,x),Lj(s,c,O)}catch(ge){c_(s,c,ge)}}function Lj(s,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){Ij(s,c,x)},function(x){return c_(s,c,x)}):Ij(s,c,m)}function Ij(s,c,m){c.status="fulfilled",c.value=m,$j(c),s.state=m,c=s.pending,c!==null&&(m=c.next,m===c?s.pending=null:(m=m.next,c.next=m,Rj(s,m)))}function c_(s,c,m){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=m,$j(c),c=c.next;while(c!==x)}s.action=null}function $j(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function Bj(s,c){return c}function zj(s,c){if(mt){var m=Ft.formState;if(m!==null){e:{var x=ct;if(mt){if(kt){t:{for(var A=kt,O=Jr;A.nodeType!==8;){if(!O){A=null;break t}if(A=ta(A.nextSibling),A===null){A=null;break t}}O=A.data,A=O==="F!"||O==="F"?A:null}if(A){kt=ta(A.nextSibling),x=A.data==="F!";break e}}oo(x)}x=!1}x&&(c=m[0])}}return m=Lr(),m.memoizedState=m.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bj,lastRenderedState:c},m.queue=x,m=aO.bind(null,ct,x),x.dispatch=m,x=l_(!1),O=p_.bind(null,ct,!1,x.queue),x=Lr(),A={state:c,dispatch:null,action:s,pending:null},x.queue=A,m=NF.bind(null,ct,A,O,m),A.dispatch=m,x.memoizedState=s,[c,m,!1]}function Uj(s){var c=kn();return Fj(c,$t,s)}function Fj(s,c,m){if(c=o_(s,c,Bj)[0],s=Tg(Vo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=lh(c)}catch(I){throw I===qu?bg:I}else x=c;c=kn();var A=c.queue,O=A.dispatch;return m!==c.memoizedState&&(ct.flags|=2048,Zu(9,{destroy:void 0},CF.bind(null,A,m),null)),[x,O,s]}function CF(s,c){s.action=c}function Hj(s){var c=kn(),m=$t;if(m!==null)return Fj(c,m,s);kn(),c=c.memoizedState,m=kn();var x=m.queue.dispatch;return m.memoizedState=s,[c,x,!1]}function Zu(s,c,m,x){return s={tag:s,create:m,deps:x,inst:c,next:null},c=ct.updateQueue,c===null&&(c=Eg(),ct.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=s.next=s:(x=m.next,m.next=s,s.next=x,c.lastEffect=s),s}function Gj(){return kn().memoizedState}function jg(s,c,m,x){var A=Lr();ct.flags|=s,A.memoizedState=Zu(1|c,{destroy:void 0},m,x===void 0?null:x)}function Og(s,c,m,x){var A=kn();x=x===void 0?null:x;var O=A.memoizedState.inst;$t!==null&&x!==null&&e_(x,$t.memoizedState.deps)?A.memoizedState=Zu(c,O,m,x):(ct.flags|=s,A.memoizedState=Zu(1|c,O,m,x))}function qj(s,c){jg(8390656,8,s,c)}function u_(s,c){Og(2048,8,s,c)}function MF(s){ct.flags|=4;var c=ct.updateQueue;if(c===null)c=Eg(),ct.updateQueue=c,c.events=[s];else{var m=c.events;m===null?c.events=[s]:m.push(s)}}function Yj(s){var c=kn().memoizedState;return MF({ref:c,nextImpl:s}),function(){if((jt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function Kj(s,c){return Og(4,2,s,c)}function Wj(s,c){return Og(4,4,s,c)}function Vj(s,c){if(typeof c=="function"){s=s();var m=c(s);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function Zj(s,c,m){m=m!=null?m.concat([s]):null,Og(4,4,Vj.bind(null,c,s),m)}function d_(){}function Xj(s,c){var m=kn();c=c===void 0?null:c;var x=m.memoizedState;return c!==null&&e_(c,x[1])?x[0]:(m.memoizedState=[s,c],s)}function Jj(s,c){var m=kn();c=c===void 0?null:c;var x=m.memoizedState;if(c!==null&&e_(c,x[1]))return x[0];if(x=s(),Ac){yi(!0);try{s()}finally{yi(!1)}}return m.memoizedState=[x,c],x}function f_(s,c,m){return m===void 0||(Wo&1073741824)!==0&&(yt&261930)===0?s.memoizedState=c:(s.memoizedState=m,s=QO(),ct.lanes|=s,ul|=s,m)}function Qj(s,c,m,x){return er(m,c)?m:Ku.current!==null?(s=f_(s,m,x),er(s,c)||(Dn=!0),s):(Wo&42)===0||(Wo&1073741824)!==0&&(yt&261930)===0?(Dn=!0,s.memoizedState=m):(s=QO(),ct.lanes|=s,ul|=s,c)}function eO(s,c,m,x,A){var O=J.p;J.p=O!==0&&8>O?O:8;var I=q.T,G={};q.T=G,p_(s,!1,c,m);try{var te=A(),ge=q.S;if(ge!==null&&ge(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var we=TF(te,x);ch(s,c,we,Ti(s))}else ch(s,c,x,Ti(s))}catch(Te){ch(s,c,{then:function(){},status:"rejected",reason:Te},Ti())}finally{J.p=O,I!==null&&G.types!==null&&(I.types=G.types),q.T=I}}function DF(){}function h_(s,c,m,x){if(s.tag!==5)throw Error(r(476));var A=tO(s).queue;eO(s,A,c,ne,m===null?DF:function(){return nO(s),m(x)})}function tO(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:ne},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:m},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function nO(s){var c=tO(s);c.next===null&&(c=s.alternate.memoizedState),ch(s,c.next.queue,{},Ti())}function m_(){return hr(Ah)}function rO(){return kn().memoizedState}function iO(){return kn().memoizedState}function PF(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var m=Ti();s=il(m);var x=al(c,s,m);x!==null&&(ri(x,c,m),ih(x,c,m)),c={cache:Hx()},s.payload=c;return}c=c.return}}function RF(s,c,m){var x=Ti();m={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ng(s)?oO(c,m):(m=Wf(s,c,m,x),m!==null&&(ri(m,s,x),sO(m,c,x)))}function aO(s,c,m){var x=Ti();ch(s,c,m,x)}function ch(s,c,m,x){var A={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Ng(s))oO(c,A);else{var O=s.alternate;if(s.lanes===0&&(O===null||O.lanes===0)&&(O=c.lastRenderedReducer,O!==null))try{var I=c.lastRenderedState,G=O(I,m);if(A.hasEagerState=!0,A.eagerState=G,er(G,I))return io(s,c,A,0),Ft===null&&gc(),!1}catch{}finally{}if(m=Wf(s,c,A,x),m!==null)return ri(m,s,x),sO(m,c,x),!0}return!1}function p_(s,c,m,x){if(x={lane:2,revertLane:K_(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Ng(s)){if(c)throw Error(r(479))}else c=Wf(s,m,x,2),c!==null&&ri(c,s,2)}function Ng(s){var c=s.alternate;return s===ct||c!==null&&c===ct}function oO(s,c){Wu=Sg=!0;var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}function sO(s,c,m){if((m&4194048)!==0){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,Up(s,m)}}var uh={readContext:hr,use:Ag,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useInsertionEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useSyncExternalStore:bn,useId:bn,useHostTransitionStatus:bn,useFormState:bn,useActionState:bn,useOptimistic:bn,useMemoCache:bn,useCacheRefresh:bn};uh.useEffectEvent=bn;var lO={readContext:hr,use:Ag,useCallback:function(s,c){return Lr().memoizedState=[s,c===void 0?null:c],s},useContext:hr,useEffect:qj,useImperativeHandle:function(s,c,m){m=m!=null?m.concat([s]):null,jg(4194308,4,Vj.bind(null,c,s),m)},useLayoutEffect:function(s,c){return jg(4194308,4,s,c)},useInsertionEffect:function(s,c){jg(4,2,s,c)},useMemo:function(s,c){var m=Lr();c=c===void 0?null:c;var x=s();if(Ac){yi(!0);try{s()}finally{yi(!1)}}return m.memoizedState=[x,c],x},useReducer:function(s,c,m){var x=Lr();if(m!==void 0){var A=m(c);if(Ac){yi(!0);try{m(c)}finally{yi(!1)}}}else A=c;return x.memoizedState=x.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},x.queue=s,s=s.dispatch=RF.bind(null,ct,s),[x.memoizedState,s]},useRef:function(s){var c=Lr();return s={current:s},c.memoizedState=s},useState:function(s){s=l_(s);var c=s.queue,m=aO.bind(null,ct,c);return c.dispatch=m,[s.memoizedState,m]},useDebugValue:d_,useDeferredValue:function(s,c){var m=Lr();return f_(m,s,c)},useTransition:function(){var s=l_(!1);return s=eO.bind(null,ct,s.queue,!0,!1),Lr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,m){var x=ct,A=Lr();if(mt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),Ft===null)throw Error(r(349));(yt&127)!==0||Oj(x,c,m)}A.memoizedState=m;var O={value:m,getSnapshot:c};return A.queue=O,qj(Cj.bind(null,x,O,s),[s]),x.flags|=2048,Zu(9,{destroy:void 0},Nj.bind(null,x,O,m,c),null),m},useId:function(){var s=Lr(),c=Ft.identifierPrefix;if(mt){var m=Le,x=Ae;m=(x&~(1<<32-Dr(x)-1)).toString(32)+m,c="_"+c+"R_"+m,m=kg++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=jF++,c="_"+c+"r_"+m.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:m_,useFormState:zj,useActionState:zj,useOptimistic:function(s){var c=Lr();c.memoizedState=c.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=p_.bind(null,ct,!0,m),m.dispatch=c,[s,c]},useMemoCache:a_,useCacheRefresh:function(){return Lr().memoizedState=PF.bind(null,ct)},useEffectEvent:function(s){var c=Lr(),m={impl:s};return c.memoizedState=m,function(){if((jt&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},g_={readContext:hr,use:Ag,useCallback:Xj,useContext:hr,useEffect:u_,useImperativeHandle:Zj,useInsertionEffect:Kj,useLayoutEffect:Wj,useMemo:Jj,useReducer:Tg,useRef:Gj,useState:function(){return Tg(Vo)},useDebugValue:d_,useDeferredValue:function(s,c){var m=kn();return Qj(m,$t.memoizedState,s,c)},useTransition:function(){var s=Tg(Vo)[0],c=kn().memoizedState;return[typeof s=="boolean"?s:lh(s),c]},useSyncExternalStore:jj,useId:rO,useHostTransitionStatus:m_,useFormState:Uj,useActionState:Uj,useOptimistic:function(s,c){var m=kn();return Pj(m,$t,s,c)},useMemoCache:a_,useCacheRefresh:iO};g_.useEffectEvent=Yj;var cO={readContext:hr,use:Ag,useCallback:Xj,useContext:hr,useEffect:u_,useImperativeHandle:Zj,useInsertionEffect:Kj,useLayoutEffect:Wj,useMemo:Jj,useReducer:s_,useRef:Gj,useState:function(){return s_(Vo)},useDebugValue:d_,useDeferredValue:function(s,c){var m=kn();return $t===null?f_(m,s,c):Qj(m,$t.memoizedState,s,c)},useTransition:function(){var s=s_(Vo)[0],c=kn().memoizedState;return[typeof s=="boolean"?s:lh(s),c]},useSyncExternalStore:jj,useId:rO,useHostTransitionStatus:m_,useFormState:Hj,useActionState:Hj,useOptimistic:function(s,c){var m=kn();return $t!==null?Pj(m,$t,s,c):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:a_,useCacheRefresh:iO};cO.useEffectEvent=Yj;function b_(s,c,m,x){c=s.memoizedState,m=m(x,c),m=m==null?c:p({},c,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var y_={enqueueSetState:function(s,c,m){s=s._reactInternals;var x=Ti(),A=il(x);A.payload=c,m!=null&&(A.callback=m),c=al(s,A,x),c!==null&&(ri(c,s,x),ih(c,s,x))},enqueueReplaceState:function(s,c,m){s=s._reactInternals;var x=Ti(),A=il(x);A.tag=1,A.payload=c,m!=null&&(A.callback=m),c=al(s,A,x),c!==null&&(ri(c,s,x),ih(c,s,x))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var m=Ti(),x=il(m);x.tag=2,c!=null&&(x.callback=c),c=al(s,x,m),c!==null&&(ri(c,s,m),ih(c,s,m))}};function uO(s,c,m,x,A,O,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,O,I):c.prototype&&c.prototype.isPureReactComponent?!Xs(m,x)||!Xs(A,O):!0}function dO(s,c,m,x){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==s&&y_.enqueueReplaceState(c,c.state,null)}function Tc(s,c){var m=c;if("ref"in c){m={};for(var x in c)x!=="ref"&&(m[x]=c[x])}if(s=s.defaultProps){m===c&&(m=p({},m));for(var A in s)m[A]===void 0&&(m[A]=s[A])}return m}function fO(s){pc(s)}function hO(s){console.error(s)}function mO(s){pc(s)}function Cg(s,c){try{var m=s.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function pO(s,c,m){try{var x=s.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function v_(s,c,m){return m=il(m),m.tag=3,m.payload={element:null},m.callback=function(){Cg(s,c)},m}function gO(s){return s=il(s),s.tag=3,s}function bO(s,c,m,x){var A=m.type.getDerivedStateFromError;if(typeof A=="function"){var O=x.value;s.payload=function(){return A(O)},s.callback=function(){pO(c,m,x)}}var I=m.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){pO(c,m,x),typeof A!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var G=x.stack;this.componentDidCatch(x.value,{componentStack:G!==null?G:""})})}function LF(s,c,m,x,A){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=m.alternate,c!==null&&Fu(c,m,A,!0),m=Si.current,m!==null){switch(m.tag){case 31:case 13:return ea===null?Hg():m.alternate===null&&yn===0&&(yn=3),m.flags&=-257,m.flags|=65536,m.lanes=A,x===yg?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([x]):c.add(x),G_(s,x,A)),!1;case 22:return m.flags|=65536,x===yg?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([x]):m.add(x)),G_(s,x,A)),!1}throw Error(r(435,m.tag))}return G_(s,x,A),Hg(),!1}if(mt)return c=Si.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,x!==Uu&&(s=Error(r(422),{cause:x}),vc(y(s,m)))):(x!==Uu&&(c=Error(r(423),{cause:x}),vc(y(c,m))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,x=y(x,m),A=v_(s.stateNode,x,A),Vx(s,A),yn!==4&&(yn=2)),!1;var O=Error(r(520),{cause:x});if(O=y(O,m),yh===null?yh=[O]:yh.push(O),yn!==4&&(yn=2),c===null)return!0;x=y(x,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,s=A&-A,m.lanes|=s,s=v_(m.stateNode,x,s),Vx(m,s),!1;case 1:if(c=m.type,O=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(dl===null||!dl.has(O))))return m.flags|=65536,A&=-A,m.lanes|=A,A=gO(A),bO(A,s,m,x),Vx(m,A),!1}m=m.return}while(m!==null);return!1}var x_=Error(r(461)),Dn=!1;function mr(s,c,m,x){c.child=s===null?_j(c,null,m,x):Ec(c,s.child,m,x)}function yO(s,c,m,x,A){m=m.render;var O=c.ref;if("ref"in x){var I={};for(var G in x)G!=="ref"&&(I[G]=x[G])}else I=x;return _c(c),x=t_(s,c,m,I,O,A),G=n_(),s!==null&&!Dn?(r_(s,c,A),Zo(s,c,A)):(mt&&G&&Fn(c),c.flags|=1,mr(s,c,x,A),c.child)}function vO(s,c,m,x,A){if(s===null){var O=m.type;return typeof O=="function"&&!Bu(O)&&O.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=O,xO(s,c,O,x,A)):(s=yc(m.type,null,x,c,c.mode,A),s.ref=c.ref,s.return=c,c.child=s)}if(O=s.child,!j_(s,A)){var I=O.memoizedProps;if(m=m.compare,m=m!==null?m:Xs,m(I,x)&&s.ref===c.ref)return Zo(s,c,A)}return c.flags|=1,s=Qi(O,x),s.ref=c.ref,s.return=c,c.child=s}function xO(s,c,m,x,A){if(s!==null){var O=s.memoizedProps;if(Xs(O,x)&&s.ref===c.ref)if(Dn=!1,c.pendingProps=x=O,j_(s,A))(s.flags&131072)!==0&&(Dn=!0);else return c.lanes=s.lanes,Zo(s,c,A)}return __(s,c,m,x,A)}function _O(s,c,m,x){var A=x.children,O=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((c.flags&128)!==0){if(O=O!==null?O.baseLanes|m:m,s!==null){for(x=c.child=s.child,A=0;x!==null;)A=A|x.lanes|x.childLanes,x=x.sibling;x=A&~O}else x=0,c.child=null;return wO(s,c,O,m,x)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&gg(c,O!==null?O.cachePool:null),O!==null?kj(c,O):Xx(),Ej(c);else return x=c.lanes=536870912,wO(s,c,O!==null?O.baseLanes|m:m,m,x)}else O!==null?(gg(c,O.cachePool),kj(c,O),sl(),c.memoizedState=null):(s!==null&&gg(c,null),Xx(),sl());return mr(s,c,A,m),c.child}function dh(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function wO(s,c,m,x,A){var O=qx();return O=O===null?null:{parent:Cn._currentValue,pool:O},c.memoizedState={baseLanes:m,cachePool:O},s!==null&&gg(c,null),Xx(),Ej(c),s!==null&&Fu(s,c,x,!0),c.childLanes=A,null}function Mg(s,c){return c=Pg({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function SO(s,c,m){return Ec(c,s.child,null,m),s=Mg(c,c.pendingProps),s.flags|=2,ki(c),c.memoizedState=null,s}function IF(s,c,m){var x=c.pendingProps,A=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(mt){if(x.mode==="hidden")return s=Mg(c,x),c.lanes=536870912,dh(null,s);if(Qx(c),(s=kt)?(s=RN(s,Jr),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:be!==null?{id:Ae,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},m=Zf(s),m.return=c,c.child=m,St=c,kt=null)):s=null,s===null)throw oo(c);return c.lanes=536870912,null}return Mg(c,x)}var O=s.memoizedState;if(O!==null){var I=O.dehydrated;if(Qx(c),A)if(c.flags&256)c.flags&=-257,c=SO(s,c,m);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Dn||Fu(s,c,m,!1),A=(m&s.childLanes)!==0,Dn||A){if(x=Ft,x!==null&&(I=Fp(x,m),I!==0&&I!==O.retryLane))throw O.retryLane=I,Ji(s,I),ri(x,s,I),x_;Hg(),c=SO(s,c,m)}else s=O.treeContext,kt=ta(I.nextSibling),St=c,mt=!0,ao=null,Jr=!1,s!==null&&Rr(c,s),c=Mg(c,x),c.flags|=4096;return c}return s=Qi(s.child,{mode:x.mode,children:x.children}),s.ref=c.ref,c.child=s,s.return=c,s}function Dg(s,c){var m=c.ref;if(m===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(c.flags|=4194816)}}function __(s,c,m,x,A){return _c(c),m=t_(s,c,m,x,void 0,A),x=n_(),s!==null&&!Dn?(r_(s,c,A),Zo(s,c,A)):(mt&&x&&Fn(c),c.flags|=1,mr(s,c,m,A),c.child)}function kO(s,c,m,x,A,O){return _c(c),c.updateQueue=null,m=Tj(c,x,m,A),Aj(s),x=n_(),s!==null&&!Dn?(r_(s,c,O),Zo(s,c,O)):(mt&&x&&Fn(c),c.flags|=1,mr(s,c,m,O),c.child)}function EO(s,c,m,x,A){if(_c(c),c.stateNode===null){var O=Go,I=m.contextType;typeof I=="object"&&I!==null&&(O=hr(I)),O=new m(x,O),c.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=y_,c.stateNode=O,O._reactInternals=c,O=c.stateNode,O.props=x,O.state=c.memoizedState,O.refs={},Kx(c),I=m.contextType,O.context=typeof I=="object"&&I!==null?hr(I):Go,O.state=c.memoizedState,I=m.getDerivedStateFromProps,typeof I=="function"&&(b_(c,m,I,x),O.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(I=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),I!==O.state&&y_.enqueueReplaceState(O,O.state,null),oh(c,x,O,A),ah(),O.state=c.memoizedState),typeof O.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(s===null){O=c.stateNode;var G=c.memoizedProps,te=Tc(m,G);O.props=te;var ge=O.context,we=m.contextType;I=Go,typeof we=="object"&&we!==null&&(I=hr(we));var Te=m.getDerivedStateFromProps;we=typeof Te=="function"||typeof O.getSnapshotBeforeUpdate=="function",G=c.pendingProps!==G,we||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(G||ge!==I)&&dO(c,O,x,I),rl=!1;var ye=c.memoizedState;O.state=ye,oh(c,x,O,A),ah(),ge=c.memoizedState,G||ye!==ge||rl?(typeof Te=="function"&&(b_(c,m,Te,x),ge=c.memoizedState),(te=rl||uO(c,m,te,x,ye,ge,I))?(we||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(c.flags|=4194308)):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=ge),O.props=x,O.state=ge,O.context=I,x=te):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{O=c.stateNode,Wx(s,c),I=c.memoizedProps,we=Tc(m,I),O.props=we,Te=c.pendingProps,ye=O.context,ge=m.contextType,te=Go,typeof ge=="object"&&ge!==null&&(te=hr(ge)),G=m.getDerivedStateFromProps,(ge=typeof G=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(I!==Te||ye!==te)&&dO(c,O,x,te),rl=!1,ye=c.memoizedState,O.state=ye,oh(c,x,O,A),ah();var ve=c.memoizedState;I!==Te||ye!==ve||rl||s!==null&&s.dependencies!==null&&mg(s.dependencies)?(typeof G=="function"&&(b_(c,m,G,x),ve=c.memoizedState),(we=rl||uO(c,m,we,x,ye,ve,te)||s!==null&&s.dependencies!==null&&mg(s.dependencies))?(ge||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,ve,te),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,ve,te)),typeof O.componentDidUpdate=="function"&&(c.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof O.componentDidUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=ve),O.props=x,O.state=ve,O.context=te,x=we):(typeof O.componentDidUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(c.flags|=1024),x=!1)}return O=x,Dg(s,c),x=(c.flags&128)!==0,O||x?(O=c.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:O.render(),c.flags|=1,s!==null&&x?(c.child=Ec(c,s.child,null,A),c.child=Ec(c,null,m,A)):mr(s,c,m,A),c.memoizedState=O.state,s=c.child):s=Zo(s,c,A),s}function AO(s,c,m,x){return Yo(),c.flags|=256,mr(s,c,m,x),c.child}var w_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function S_(s){return{baseLanes:s,cachePool:pj()}}function k_(s,c,m){return s=s!==null?s.childLanes&~m:0,c&&(s|=Ai),s}function TO(s,c,m){var x=c.pendingProps,A=!1,O=(c.flags&128)!==0,I;if((I=O)||(I=s!==null&&s.memoizedState===null?!1:(Sn.current&2)!==0),I&&(A=!0,c.flags&=-129),I=(c.flags&32)!==0,c.flags&=-33,s===null){if(mt){if(A?ol(c):sl(),(s=kt)?(s=RN(s,Jr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:be!==null?{id:Ae,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},m=Zf(s),m.return=c,c.child=m,St=c,kt=null)):s=null,s===null)throw oo(c);return ow(s)?c.lanes=32:c.lanes=536870912,null}var G=x.children;return x=x.fallback,A?(sl(),A=c.mode,G=Pg({mode:"hidden",children:G},A),x=qo(x,A,m,null),G.return=c,x.return=c,G.sibling=x,c.child=G,x=c.child,x.memoizedState=S_(m),x.childLanes=k_(s,I,m),c.memoizedState=w_,dh(null,x)):(ol(c),E_(c,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(O)c.flags&256?(ol(c),c.flags&=-257,c=A_(s,c,m)):c.memoizedState!==null?(sl(),c.child=s.child,c.flags|=128,c=null):(sl(),G=x.fallback,A=c.mode,x=Pg({mode:"visible",children:x.children},A),G=qo(G,A,m,null),G.flags|=2,x.return=c,G.return=c,x.sibling=G,c.child=x,Ec(c,s.child,null,m),x=c.child,x.memoizedState=S_(m),x.childLanes=k_(s,I,m),c.memoizedState=w_,c=dh(null,x));else if(ol(c),ow(G)){if(I=G.nextSibling&&G.nextSibling.dataset,I)var ge=I.dgst;I=ge,x=Error(r(419)),x.stack="",x.digest=I,vc({value:x,source:null,stack:null}),c=A_(s,c,m)}else if(Dn||Fu(s,c,m,!1),I=(m&s.childLanes)!==0,Dn||I){if(I=Ft,I!==null&&(x=Fp(I,m),x!==0&&x!==te.retryLane))throw te.retryLane=x,Ji(s,x),ri(I,s,x),x_;aw(G)||Hg(),c=A_(s,c,m)}else aw(G)?(c.flags|=192,c.child=s.child,c=null):(s=te.treeContext,kt=ta(G.nextSibling),St=c,mt=!0,ao=null,Jr=!1,s!==null&&Rr(c,s),c=E_(c,x.children),c.flags|=4096);return c}return A?(sl(),G=x.fallback,A=c.mode,te=s.child,ge=te.sibling,x=Qi(te,{mode:"hidden",children:x.children}),x.subtreeFlags=te.subtreeFlags&65011712,ge!==null?G=Qi(ge,G):(G=qo(G,A,m,null),G.flags|=2),G.return=c,x.return=c,x.sibling=G,c.child=x,dh(null,x),x=c.child,G=s.child.memoizedState,G===null?G=S_(m):(A=G.cachePool,A!==null?(te=Cn._currentValue,A=A.parent!==te?{parent:te,pool:te}:A):A=pj(),G={baseLanes:G.baseLanes|m,cachePool:A}),x.memoizedState=G,x.childLanes=k_(s,I,m),c.memoizedState=w_,dh(s.child,x)):(ol(c),m=s.child,s=m.sibling,m=Qi(m,{mode:"visible",children:x.children}),m.return=c,m.sibling=null,s!==null&&(I=c.deletions,I===null?(c.deletions=[s],c.flags|=16):I.push(s)),c.child=m,c.memoizedState=null,m)}function E_(s,c){return c=Pg({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function Pg(s,c){return s=Ar(22,s,null,c),s.lanes=0,s}function A_(s,c,m){return Ec(c,s.child,null,m),s=E_(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function jO(s,c,m){s.lanes|=c;var x=s.alternate;x!==null&&(x.lanes|=c),Ux(s.return,c,m)}function T_(s,c,m,x,A,O){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:A,treeForkCount:O}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=x,I.tail=m,I.tailMode=A,I.treeForkCount=O)}function OO(s,c,m){var x=c.pendingProps,A=x.revealOrder,O=x.tail;x=x.children;var I=Sn.current,G=(I&2)!==0;if(G?(I=I&1|2,c.flags|=128):I&=1,ie(Sn,I),mr(s,c,x,m),x=mt?U:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&jO(s,m,c);else if(s.tag===19)jO(s,m,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(m=c.child,A=null;m!==null;)s=m.alternate,s!==null&&wg(s)===null&&(A=m),m=m.sibling;m=A,m===null?(A=c.child,c.child=null):(A=m.sibling,m.sibling=null),T_(c,!1,A,m,O,x);break;case"backwards":case"unstable_legacy-backwards":for(m=null,A=c.child,c.child=null;A!==null;){if(s=A.alternate,s!==null&&wg(s)===null){c.child=A;break}s=A.sibling,A.sibling=m,m=A,A=s}T_(c,!0,m,null,O,x);break;case"together":T_(c,!1,null,null,void 0,x);break;default:c.memoizedState=null}return c.child}function Zo(s,c,m){if(s!==null&&(c.dependencies=s.dependencies),ul|=c.lanes,(m&c.childLanes)===0)if(s!==null){if(Fu(s,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,m=Qi(s,s.pendingProps),c.child=m,m.return=c;s.sibling!==null;)s=s.sibling,m=m.sibling=Qi(s,s.pendingProps),m.return=c;m.sibling=null}return c.child}function j_(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&mg(s)))}function $F(s,c,m){switch(c.tag){case 3:Se(c,c.stateNode.containerInfo),nl(c,Cn,s.memoizedState.cache),Yo();break;case 27:case 5:Ee(c);break;case 4:Se(c,c.stateNode.containerInfo);break;case 10:nl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Qx(c),null;break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(ol(c),c.flags|=128,null):(m&c.child.childLanes)!==0?TO(s,c,m):(ol(c),s=Zo(s,c,m),s!==null?s.sibling:null);ol(c);break;case 19:var A=(s.flags&128)!==0;if(x=(m&c.childLanes)!==0,x||(Fu(s,c,m,!1),x=(m&c.childLanes)!==0),A){if(x)return OO(s,c,m);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ie(Sn,Sn.current),x)break;return null;case 22:return c.lanes=0,_O(s,c,m,c.pendingProps);case 24:nl(c,Cn,s.memoizedState.cache)}return Zo(s,c,m)}function NO(s,c,m){if(s!==null)if(s.memoizedProps!==c.pendingProps)Dn=!0;else{if(!j_(s,m)&&(c.flags&128)===0)return Dn=!1,$F(s,c,m);Dn=(s.flags&131072)!==0}else Dn=!1,mt&&(c.flags&1048576)!==0&&ut(c,U,c.index);switch(c.lanes=0,c.tag){case 16:e:{var x=c.pendingProps;if(s=Sc(c.elementType),c.type=s,typeof s=="function")Bu(s)?(x=Tc(s,x),c.tag=1,c=EO(null,c,s,x,m)):(c.tag=0,c=__(null,c,s,x,m));else{if(s!=null){var A=s.$$typeof;if(A===C){c.tag=11,c=yO(null,c,s,x,m);break e}else if(A===$){c.tag=14,c=vO(null,c,s,x,m);break e}}throw c=Z(s)||s,Error(r(306,c,""))}}return c;case 0:return __(s,c,c.type,c.pendingProps,m);case 1:return x=c.type,A=Tc(x,c.pendingProps),EO(s,c,x,A,m);case 3:e:{if(Se(c,c.stateNode.containerInfo),s===null)throw Error(r(387));x=c.pendingProps;var O=c.memoizedState;A=O.element,Wx(s,c),oh(c,x,null,m);var I=c.memoizedState;if(x=I.cache,nl(c,Cn,x),x!==O.cache&&Fx(c,[Cn],m,!0),ah(),x=I.element,O.isDehydrated)if(O={element:x,isDehydrated:!1,cache:I.cache},c.updateQueue.baseState=O,c.memoizedState=O,c.flags&256){c=AO(s,c,x,m);break e}else if(x!==A){A=y(Error(r(424)),c),vc(A),c=AO(s,c,x,m);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(kt=ta(s.firstChild),St=c,mt=!0,ao=null,Jr=!0,m=_j(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Yo(),x===A){c=Zo(s,c,m);break e}mr(s,c,x,m)}c=c.child}return c;case 26:return Dg(s,c),s===null?(m=UN(c.type,null,c.pendingProps,null))?c.memoizedState=m:mt||(m=c.type,s=c.pendingProps,x=Zg(he.current).createElement(m),x[On]=c,x[Qn]=s,pr(x,m,s),Nn(x),c.stateNode=x):c.memoizedState=UN(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return Ee(c),s===null&&mt&&(x=c.stateNode=$N(c.type,c.pendingProps,he.current),St=c,Jr=!0,A=kt,pl(c.type)?(sw=A,kt=ta(x.firstChild)):kt=A),mr(s,c,c.pendingProps.children,m),Dg(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&mt&&((A=x=kt)&&(x=mH(x,c.type,c.pendingProps,Jr),x!==null?(c.stateNode=x,St=c,kt=ta(x.firstChild),Jr=!1,A=!0):A=!1),A||oo(c)),Ee(c),A=c.type,O=c.pendingProps,I=s!==null?s.memoizedProps:null,x=O.children,nw(A,O)?x=null:I!==null&&nw(A,I)&&(c.flags|=32),c.memoizedState!==null&&(A=t_(s,c,OF,null,null,m),Ah._currentValue=A),Dg(s,c),mr(s,c,x,m),c.child;case 6:return s===null&&mt&&((s=m=kt)&&(m=pH(m,c.pendingProps,Jr),m!==null?(c.stateNode=m,St=c,kt=null,s=!0):s=!1),s||oo(c)),null;case 13:return TO(s,c,m);case 4:return Se(c,c.stateNode.containerInfo),x=c.pendingProps,s===null?c.child=Ec(c,null,x,m):mr(s,c,x,m),c.child;case 11:return yO(s,c,c.type,c.pendingProps,m);case 7:return mr(s,c,c.pendingProps,m),c.child;case 8:return mr(s,c,c.pendingProps.children,m),c.child;case 12:return mr(s,c,c.pendingProps.children,m),c.child;case 10:return x=c.pendingProps,nl(c,c.type,x.value),mr(s,c,x.children,m),c.child;case 9:return A=c.type._context,x=c.pendingProps.children,_c(c),A=hr(A),x=x(A),c.flags|=1,mr(s,c,x,m),c.child;case 14:return vO(s,c,c.type,c.pendingProps,m);case 15:return xO(s,c,c.type,c.pendingProps,m);case 19:return OO(s,c,m);case 31:return IF(s,c,m);case 22:return _O(s,c,m,c.pendingProps);case 24:return _c(c),x=hr(Cn),s===null?(A=qx(),A===null&&(A=Ft,O=Hx(),A.pooledCache=O,O.refCount++,O!==null&&(A.pooledCacheLanes|=m),A=O),c.memoizedState={parent:x,cache:A},Kx(c),nl(c,Cn,A)):((s.lanes&m)!==0&&(Wx(s,c),oh(c,null,null,m),ah()),A=s.memoizedState,O=c.memoizedState,A.parent!==x?(A={parent:x,cache:x},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),nl(c,Cn,x)):(x=O.cache,nl(c,Cn,x),x!==A.cache&&Fx(c,[Cn],m,!0))),mr(s,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Xo(s){s.flags|=4}function O_(s,c,m,x,A){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(rN())s.flags|=8192;else throw kc=yg,Yx}else s.flags&=-16777217}function CO(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!YN(c))if(rN())s.flags|=8192;else throw kc=yg,Yx}function Rg(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?Bp():536870912,s.lanes|=c,ed|=c)}function fh(s,c){if(!mt)switch(s.tailMode){case"hidden":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function Xt(s){var c=s.alternate!==null&&s.alternate.child===s.child,m=0,x=0;if(c)for(var A=s.child;A!==null;)m|=A.lanes|A.childLanes,x|=A.subtreeFlags&65011712,x|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)m|=A.lanes|A.childLanes,x|=A.subtreeFlags,x|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=x,s.childLanes=m,c}function BF(s,c,m){var x=c.pendingProps;switch(gn(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(c),null;case 1:return Xt(c),null;case 3:return m=c.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),Ko(Cn),re(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Ta(c)?Xo(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Qf())),Xt(c),null;case 26:var A=c.type,O=c.memoizedState;return s===null?(Xo(c),O!==null?(Xt(c),CO(c,O)):(Xt(c),O_(c,A,null,x,m))):O?O!==s.memoizedState?(Xo(c),Xt(c),CO(c,O)):(Xt(c),c.flags&=-16777217):(s=s.memoizedProps,s!==x&&Xo(c),Xt(c),O_(c,A,s,x,m)),null;case 27:if(je(c),m=he.current,A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&Xo(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}s=Q.current,Ta(c)?Jf(c):(s=$N(A,x,m),c.stateNode=s,Xo(c))}return Xt(c),null;case 5:if(je(c),A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&Xo(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}if(O=Q.current,Ta(c))Jf(c);else{var I=Zg(he.current);switch(O){case 1:O=I.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:O=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":O=I.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":O=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":O=I.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof x.is=="string"?I.createElement("select",{is:x.is}):I.createElement("select"),x.multiple?O.multiple=!0:x.size&&(O.size=x.size);break;default:O=typeof x.is=="string"?I.createElement(A,{is:x.is}):I.createElement(A)}}O[On]=c,O[Qn]=x;e:for(I=c.child;I!==null;){if(I.tag===5||I.tag===6)O.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===c)break e;for(;I.sibling===null;){if(I.return===null||I.return===c)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}c.stateNode=O;e:switch(pr(O,A,x),A){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&Xo(c)}}return Xt(c),O_(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,m),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==x&&Xo(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(s=he.current,Ta(c)){if(s=c.stateNode,m=c.memoizedProps,x=null,A=St,A!==null)switch(A.tag){case 27:case 5:x=A.memoizedProps}s[On]=c,s=!!(s.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||TN(s.nodeValue,m)),s||oo(c,!0)}else s=Zg(s).createTextNode(x),s[On]=c,c.stateNode=s}return Xt(c),null;case 31:if(m=c.memoizedState,s===null||s.memoizedState!==null){if(x=Ta(c),m!==null){if(s===null){if(!x)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[On]=c}else Yo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),s=!1}else m=Qf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return c.flags&256?(ki(c),c):(ki(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Xt(c),null;case 13:if(x=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=Ta(c),x!==null&&x.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[On]=c}else Yo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),A=!1}else A=Qf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(ki(c),c):(ki(c),null)}return ki(c),(c.flags&128)!==0?(c.lanes=m,c):(m=x!==null,s=s!==null&&s.memoizedState!==null,m&&(x=c.child,A=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(A=x.alternate.memoizedState.cachePool.pool),O=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(O=x.memoizedState.cachePool.pool),O!==A&&(x.flags|=2048)),m!==s&&m&&(c.child.flags|=8192),Rg(c,c.updateQueue),Xt(c),null);case 4:return re(),s===null&&X_(c.stateNode.containerInfo),Xt(c),null;case 10:return Ko(c.type),Xt(c),null;case 19:if(W(Sn),x=c.memoizedState,x===null)return Xt(c),null;if(A=(c.flags&128)!==0,O=x.rendering,O===null)if(A)fh(x,!1);else{if(yn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(O=wg(s),O!==null){for(c.flags|=128,fh(x,!1),s=O.updateQueue,c.updateQueue=s,Rg(c,s),c.subtreeFlags=0,s=m,m=c.child;m!==null;)Vf(m,s),m=m.sibling;return ie(Sn,Sn.current&1|2),mt&&Ye(c,x.treeForkCount),c.child}s=s.sibling}x.tail!==null&&$e()>zg&&(c.flags|=128,A=!0,fh(x,!1),c.lanes=4194304)}else{if(!A)if(s=wg(O),s!==null){if(c.flags|=128,A=!0,s=s.updateQueue,c.updateQueue=s,Rg(c,s),fh(x,!0),x.tail===null&&x.tailMode==="hidden"&&!O.alternate&&!mt)return Xt(c),null}else 2*$e()-x.renderingStartTime>zg&&m!==536870912&&(c.flags|=128,A=!0,fh(x,!1),c.lanes=4194304);x.isBackwards?(O.sibling=c.child,c.child=O):(s=x.last,s!==null?s.sibling=O:c.child=O,x.last=O)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=$e(),s.sibling=null,m=Sn.current,ie(Sn,A?m&1|2:m&1),mt&&Ye(c,x.treeForkCount),s):(Xt(c),null);case 22:case 23:return ki(c),Jx(),x=c.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(m&536870912)!==0&&(c.flags&128)===0&&(Xt(c),c.subtreeFlags&6&&(c.flags|=8192)):Xt(c),m=c.updateQueue,m!==null&&Rg(c,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==m&&(c.flags|=2048),s!==null&&W(wc),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Ko(Cn),Xt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function zF(s,c){switch(gn(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Ko(Cn),re(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return je(c),null;case 31:if(c.memoizedState!==null){if(ki(c),c.alternate===null)throw Error(r(340));Yo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(ki(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Yo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return W(Sn),null;case 4:return re(),null;case 10:return Ko(c.type),null;case 22:case 23:return ki(c),Jx(),s!==null&&W(wc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return Ko(Cn),null;case 25:return null;default:return null}}function MO(s,c){switch(gn(c),c.tag){case 3:Ko(Cn),re();break;case 26:case 27:case 5:je(c);break;case 4:re();break;case 31:c.memoizedState!==null&&ki(c);break;case 13:ki(c);break;case 19:W(Sn);break;case 10:Ko(c.type);break;case 22:case 23:ki(c),Jx(),s!==null&&W(wc);break;case 24:Ko(Cn)}}function hh(s,c){try{var m=c.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var A=x.next;m=A;do{if((m.tag&s)===s){x=void 0;var O=m.create,I=m.inst;x=O(),I.destroy=x}m=m.next}while(m!==A)}}catch(G){Rt(c,c.return,G)}}function ll(s,c,m){try{var x=c.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var O=A.next;x=O;do{if((x.tag&s)===s){var I=x.inst,G=I.destroy;if(G!==void 0){I.destroy=void 0,A=c;var te=m,ge=G;try{ge()}catch(we){Rt(A,te,we)}}}x=x.next}while(x!==O)}}catch(we){Rt(c,c.return,we)}}function DO(s){var c=s.updateQueue;if(c!==null){var m=s.stateNode;try{Sj(c,m)}catch(x){Rt(s,s.return,x)}}}function PO(s,c,m){m.props=Tc(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(x){Rt(s,c,x)}}function mh(s,c){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof m=="function"?s.refCleanup=m(x):m.current=x}}catch(A){Rt(s,c,A)}}function lo(s,c){var m=s.ref,x=s.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(A){Rt(s,c,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(A){Rt(s,c,A)}else m.current=null}function RO(s){var c=s.type,m=s.memoizedProps,x=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(A){Rt(s,s.return,A)}}function N_(s,c,m){try{var x=s.stateNode;lH(x,s.type,m,c),x[Qn]=c}catch(A){Rt(s,s.return,A)}}function LO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&pl(s.type)||s.tag===4}function C_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||LO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&pl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function M_(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(s),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Wr));else if(x!==4&&(x===27&&pl(s.type)&&(m=s.stateNode,c=null),s=s.child,s!==null))for(M_(s,c,m),s=s.sibling;s!==null;)M_(s,c,m),s=s.sibling}function Lg(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?m.insertBefore(s,c):m.appendChild(s);else if(x!==4&&(x===27&&pl(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(Lg(s,c,m),s=s.sibling;s!==null;)Lg(s,c,m),s=s.sibling}function IO(s){var c=s.stateNode,m=s.memoizedProps;try{for(var x=s.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);pr(c,x,m),c[On]=s,c[Qn]=m}catch(O){Rt(s,s.return,O)}}var Jo=!1,Pn=!1,D_=!1,$O=typeof WeakSet=="function"?WeakSet:Set,nr=null;function UF(s,c){if(s=s.containerInfo,ew=r0,s=dc(s),eo(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var A=x.anchorOffset,O=x.focusNode;x=x.focusOffset;try{m.nodeType,O.nodeType}catch{m=null;break e}var I=0,G=-1,te=-1,ge=0,we=0,Te=s,ye=null;t:for(;;){for(var ve;Te!==m||A!==0&&Te.nodeType!==3||(G=I+A),Te!==O||x!==0&&Te.nodeType!==3||(te=I+x),Te.nodeType===3&&(I+=Te.nodeValue.length),(ve=Te.firstChild)!==null;)ye=Te,Te=ve;for(;;){if(Te===s)break t;if(ye===m&&++ge===A&&(G=I),ye===O&&++we===x&&(te=I),(ve=Te.nextSibling)!==null)break;Te=ye,ye=Te.parentNode}Te=ve}m=G===-1||te===-1?null:{start:G,end:te}}else m=null}m=m||{start:0,end:0}}else m=null;for(tw={focusedElem:s,selectionRange:m},r0=!1,nr=c;nr!==null;)if(c=nr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,nr=s;else for(;nr!==null;){switch(c=nr,O=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)A=s[m],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&O!==null){s=void 0,m=c,A=O.memoizedProps,O=O.memoizedState,x=m.stateNode;try{var Ue=Tc(m.type,A);s=x.getSnapshotBeforeUpdate(Ue,O),x.__reactInternalSnapshotBeforeUpdate=s}catch(tt){Rt(m,m.return,tt)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,m=s.nodeType,m===9)iw(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":iw(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,nr=s;break}nr=c.return}}function BO(s,c,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:es(s,m),x&4&&hh(5,m);break;case 1:if(es(s,m),x&4)if(s=m.stateNode,c===null)try{s.componentDidMount()}catch(I){Rt(m,m.return,I)}else{var A=Tc(m.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(A,c,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Rt(m,m.return,I)}}x&64&&DO(m),x&512&&mh(m,m.return);break;case 3:if(es(s,m),x&64&&(s=m.updateQueue,s!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{Sj(s,c)}catch(I){Rt(m,m.return,I)}}break;case 27:c===null&&x&4&&IO(m);case 26:case 5:es(s,m),c===null&&x&4&&RO(m),x&512&&mh(m,m.return);break;case 12:es(s,m);break;case 31:es(s,m),x&4&&FO(s,m);break;case 13:es(s,m),x&4&&HO(s,m),x&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=ZF.bind(null,m),gH(s,m))));break;case 22:if(x=m.memoizedState!==null||Jo,!x){c=c!==null&&c.memoizedState!==null||Pn,A=Jo;var O=Pn;Jo=x,(Pn=c)&&!O?ts(s,m,(m.subtreeFlags&8772)!==0):es(s,m),Jo=A,Pn=O}break;case 30:break;default:es(s,m)}}function zO(s){var c=s.alternate;c!==null&&(s.alternate=null,zO(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Cf(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,Qr=!1;function Qo(s,c,m){for(m=m.child;m!==null;)UO(s,c,m),m=m.sibling}function UO(s,c,m){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(qt,m)}catch{}switch(m.tag){case 26:Pn||lo(m,c),Qo(s,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Pn||lo(m,c);var x=tn,A=Qr;pl(m.type)&&(tn=m.stateNode,Qr=!1),Qo(s,c,m),Sh(m.stateNode),tn=x,Qr=A;break;case 5:Pn||lo(m,c);case 6:if(x=tn,A=Qr,tn=null,Qo(s,c,m),tn=x,Qr=A,tn!==null)if(Qr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(m.stateNode)}catch(O){Rt(m,c,O)}else try{tn.removeChild(m.stateNode)}catch(O){Rt(m,c,O)}break;case 18:tn!==null&&(Qr?(s=tn,DN(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),ld(s)):DN(tn,m.stateNode));break;case 4:x=tn,A=Qr,tn=m.stateNode.containerInfo,Qr=!0,Qo(s,c,m),tn=x,Qr=A;break;case 0:case 11:case 14:case 15:ll(2,m,c),Pn||ll(4,m,c),Qo(s,c,m);break;case 1:Pn||(lo(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"&&PO(m,c,x)),Qo(s,c,m);break;case 21:Qo(s,c,m);break;case 22:Pn=(x=Pn)||m.memoizedState!==null,Qo(s,c,m),Pn=x;break;default:Qo(s,c,m)}}function FO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ld(s)}catch(m){Rt(c,c.return,m)}}}function HO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ld(s)}catch(m){Rt(c,c.return,m)}}function FF(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new $O),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new $O),c;default:throw Error(r(435,s.tag))}}function Ig(s,c){var m=FF(s);c.forEach(function(x){if(!m.has(x)){m.add(x);var A=XF.bind(null,s,x);x.then(A,A)}})}function ei(s,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var A=m[x],O=s,I=c,G=I;e:for(;G!==null;){switch(G.tag){case 27:if(pl(G.type)){tn=G.stateNode,Qr=!1;break e}break;case 5:tn=G.stateNode,Qr=!1;break e;case 3:case 4:tn=G.stateNode.containerInfo,Qr=!0;break e}G=G.return}if(tn===null)throw Error(r(160));UO(O,I,A),tn=null,Qr=!1,O=A.alternate,O!==null&&(O.return=null),A.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)GO(c,s),c=c.sibling}var Oa=null;function GO(s,c){var m=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ei(c,s),ti(s),x&4&&(ll(3,s,s.return),hh(3,s),ll(5,s,s.return));break;case 1:ei(c,s),ti(s),x&512&&(Pn||m===null||lo(m,m.return)),x&64&&Jo&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var A=Oa;if(ei(c,s),ti(s),x&512&&(Pn||m===null||lo(m,m.return)),x&4){var O=m!==null?m.memoizedState:null;if(x=s.memoizedState,m===null)if(x===null)if(s.stateNode===null){e:{x=s.type,m=s.memoizedProps,A=A.ownerDocument||A;t:switch(x){case"title":O=A.getElementsByTagName("title")[0],(!O||O[Vl]||O[On]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=A.createElement(x),A.head.insertBefore(O,A.querySelector("head > title"))),pr(O,x,m),O[On]=s,Nn(O),x=O;break e;case"link":var I=GN("link","href",A).get(x+(m.href||""));if(I){for(var G=0;G<I.length;G++)if(O=I[G],O.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&O.getAttribute("rel")===(m.rel==null?null:m.rel)&&O.getAttribute("title")===(m.title==null?null:m.title)&&O.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){I.splice(G,1);break t}}O=A.createElement(x),pr(O,x,m),A.head.appendChild(O);break;case"meta":if(I=GN("meta","content",A).get(x+(m.content||""))){for(G=0;G<I.length;G++)if(O=I[G],O.getAttribute("content")===(m.content==null?null:""+m.content)&&O.getAttribute("name")===(m.name==null?null:m.name)&&O.getAttribute("property")===(m.property==null?null:m.property)&&O.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&O.getAttribute("charset")===(m.charSet==null?null:m.charSet)){I.splice(G,1);break t}}O=A.createElement(x),pr(O,x,m),A.head.appendChild(O);break;default:throw Error(r(468,x))}O[On]=s,Nn(O),x=O}s.stateNode=x}else qN(A,s.type,s.stateNode);else s.stateNode=HN(A,x,s.memoizedProps);else O!==x?(O===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):O.count--,x===null?qN(A,s.type,s.stateNode):HN(A,x,s.memoizedProps)):x===null&&s.stateNode!==null&&N_(s,s.memoizedProps,m.memoizedProps)}break;case 27:ei(c,s),ti(s),x&512&&(Pn||m===null||lo(m,m.return)),m!==null&&x&4&&N_(s,s.memoizedProps,m.memoizedProps);break;case 5:if(ei(c,s),ti(s),x&512&&(Pn||m===null||lo(m,m.return)),s.flags&32){A=s.stateNode;try{Yi(A,"")}catch(Ue){Rt(s,s.return,Ue)}}x&4&&s.stateNode!=null&&(A=s.memoizedProps,N_(s,A,m!==null?m.memoizedProps:A)),x&1024&&(D_=!0);break;case 6:if(ei(c,s),ti(s),x&4){if(s.stateNode===null)throw Error(r(162));x=s.memoizedProps,m=s.stateNode;try{m.nodeValue=x}catch(Ue){Rt(s,s.return,Ue)}}break;case 3:if(Qg=null,A=Oa,Oa=Xg(c.containerInfo),ei(c,s),Oa=A,ti(s),x&4&&m!==null&&m.memoizedState.isDehydrated)try{ld(c.containerInfo)}catch(Ue){Rt(s,s.return,Ue)}D_&&(D_=!1,qO(s));break;case 4:x=Oa,Oa=Xg(s.stateNode.containerInfo),ei(c,s),ti(s),Oa=x;break;case 12:ei(c,s),ti(s);break;case 31:ei(c,s),ti(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Ig(s,x)));break;case 13:ei(c,s),ti(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Bg=$e()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Ig(s,x)));break;case 22:A=s.memoizedState!==null;var te=m!==null&&m.memoizedState!==null,ge=Jo,we=Pn;if(Jo=ge||A,Pn=we||te,ei(c,s),Pn=we,Jo=ge,ti(s),x&8192)e:for(c=s.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(m===null||te||Jo||Pn||jc(s)),m=null,c=s;;){if(c.tag===5||c.tag===26){if(m===null){te=m=c;try{if(O=te.stateNode,A)I=O.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{G=te.stateNode;var Te=te.memoizedProps.style,ye=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;G.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(Ue){Rt(te,te.return,Ue)}}}else if(c.tag===6){if(m===null){te=c;try{te.stateNode.nodeValue=A?"":te.memoizedProps}catch(Ue){Rt(te,te.return,Ue)}}}else if(c.tag===18){if(m===null){te=c;try{var ve=te.stateNode;A?PN(ve,!0):PN(te.stateNode,!1)}catch(Ue){Rt(te,te.return,Ue)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=s.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,Ig(s,m))));break;case 19:ei(c,s),ti(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Ig(s,x)));break;case 30:break;case 21:break;default:ei(c,s),ti(s)}}function ti(s){var c=s.flags;if(c&2){try{for(var m,x=s.return;x!==null;){if(LO(x)){m=x;break}x=x.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var A=m.stateNode,O=C_(s);Lg(s,O,A);break;case 5:var I=m.stateNode;m.flags&32&&(Yi(I,""),m.flags&=-33);var G=C_(s);Lg(s,G,I);break;case 3:case 4:var te=m.stateNode.containerInfo,ge=C_(s);M_(s,ge,te);break;default:throw Error(r(161))}}catch(we){Rt(s,s.return,we)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function qO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;qO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function es(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)BO(s,c.alternate,c),c=c.sibling}function jc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:ll(4,c,c.return),jc(c);break;case 1:lo(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&PO(c,c.return,m),jc(c);break;case 27:Sh(c.stateNode);case 26:case 5:lo(c,c.return),jc(c);break;case 22:c.memoizedState===null&&jc(c);break;case 30:jc(c);break;default:jc(c)}s=s.sibling}}function ts(s,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,A=s,O=c,I=O.flags;switch(O.tag){case 0:case 11:case 15:ts(A,O,m),hh(4,O);break;case 1:if(ts(A,O,m),x=O,A=x.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(ge){Rt(x,x.return,ge)}if(x=O,A=x.updateQueue,A!==null){var G=x.stateNode;try{var te=A.shared.hiddenCallbacks;if(te!==null)for(A.shared.hiddenCallbacks=null,A=0;A<te.length;A++)wj(te[A],G)}catch(ge){Rt(x,x.return,ge)}}m&&I&64&&DO(O),mh(O,O.return);break;case 27:IO(O);case 26:case 5:ts(A,O,m),m&&x===null&&I&4&&RO(O),mh(O,O.return);break;case 12:ts(A,O,m);break;case 31:ts(A,O,m),m&&I&4&&FO(A,O);break;case 13:ts(A,O,m),m&&I&4&&HO(A,O);break;case 22:O.memoizedState===null&&ts(A,O,m),mh(O,O.return);break;case 30:break;default:ts(A,O,m)}c=c.sibling}}function P_(s,c){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&eh(m))}function R_(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&eh(s))}function Na(s,c,m,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)YO(s,c,m,x),c=c.sibling}function YO(s,c,m,x){var A=c.flags;switch(c.tag){case 0:case 11:case 15:Na(s,c,m,x),A&2048&&hh(9,c);break;case 1:Na(s,c,m,x);break;case 3:Na(s,c,m,x),A&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&eh(s)));break;case 12:if(A&2048){Na(s,c,m,x),s=c.stateNode;try{var O=c.memoizedProps,I=O.id,G=O.onPostCommit;typeof G=="function"&&G(I,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Rt(c,c.return,te)}}else Na(s,c,m,x);break;case 31:Na(s,c,m,x);break;case 13:Na(s,c,m,x);break;case 23:break;case 22:O=c.stateNode,I=c.alternate,c.memoizedState!==null?O._visibility&2?Na(s,c,m,x):ph(s,c):O._visibility&2?Na(s,c,m,x):(O._visibility|=2,Xu(s,c,m,x,(c.subtreeFlags&10256)!==0||!1)),A&2048&&P_(I,c);break;case 24:Na(s,c,m,x),A&2048&&R_(c.alternate,c);break;default:Na(s,c,m,x)}}function Xu(s,c,m,x,A){for(A=A&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var O=s,I=c,G=m,te=x,ge=I.flags;switch(I.tag){case 0:case 11:case 15:Xu(O,I,G,te,A),hh(8,I);break;case 23:break;case 22:var we=I.stateNode;I.memoizedState!==null?we._visibility&2?Xu(O,I,G,te,A):ph(O,I):(we._visibility|=2,Xu(O,I,G,te,A)),A&&ge&2048&&P_(I.alternate,I);break;case 24:Xu(O,I,G,te,A),A&&ge&2048&&R_(I.alternate,I);break;default:Xu(O,I,G,te,A)}c=c.sibling}}function ph(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=s,x=c,A=x.flags;switch(x.tag){case 22:ph(m,x),A&2048&&P_(x.alternate,x);break;case 24:ph(m,x),A&2048&&R_(x.alternate,x);break;default:ph(m,x)}c=c.sibling}}var gh=8192;function Ju(s,c,m){if(s.subtreeFlags&gh)for(s=s.child;s!==null;)KO(s,c,m),s=s.sibling}function KO(s,c,m){switch(s.tag){case 26:Ju(s,c,m),s.flags&gh&&s.memoizedState!==null&&jH(m,Oa,s.memoizedState,s.memoizedProps);break;case 5:Ju(s,c,m);break;case 3:case 4:var x=Oa;Oa=Xg(s.stateNode.containerInfo),Ju(s,c,m),Oa=x;break;case 22:s.memoizedState===null&&(x=s.alternate,x!==null&&x.memoizedState!==null?(x=gh,gh=16777216,Ju(s,c,m),gh=x):Ju(s,c,m));break;default:Ju(s,c,m)}}function WO(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function bh(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];nr=x,ZO(x,s)}WO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)VO(s),s=s.sibling}function VO(s){switch(s.tag){case 0:case 11:case 15:bh(s),s.flags&2048&&ll(9,s,s.return);break;case 3:bh(s);break;case 12:bh(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,$g(s)):bh(s);break;default:bh(s)}}function $g(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];nr=x,ZO(x,s)}WO(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:ll(8,c,c.return),$g(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,$g(c));break;default:$g(c)}s=s.sibling}}function ZO(s,c){for(;nr!==null;){var m=nr;switch(m.tag){case 0:case 11:case 15:ll(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:eh(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,nr=x;else e:for(m=s;nr!==null;){x=nr;var A=x.sibling,O=x.return;if(zO(x),x===m){nr=null;break e}if(A!==null){A.return=O,nr=A;break e}nr=O}}}var HF={getCacheForType:function(s){var c=hr(Cn),m=c.data.get(s);return m===void 0&&(m=s(),c.data.set(s,m)),m},cacheSignal:function(){return hr(Cn).controller.signal}},GF=typeof WeakMap=="function"?WeakMap:Map,jt=0,Ft=null,pt=null,yt=0,Pt=0,Ei=null,cl=!1,Qu=!1,L_=!1,ns=0,yn=0,ul=0,Oc=0,I_=0,Ai=0,ed=0,yh=null,ni=null,$_=!1,Bg=0,XO=0,zg=1/0,Ug=null,dl=null,Hn=0,fl=null,td=null,rs=0,B_=0,z_=null,JO=null,vh=0,U_=null;function Ti(){return(jt&2)!==0&&yt!==0?yt&-yt:q.T!==null?K_():Of()}function QO(){if(Ai===0)if((yt&536870912)===0||mt){var s=Yl;Yl<<=1,(Yl&3932160)===0&&(Yl=262144),Ai=s}else Ai=536870912;return s=Si.current,s!==null&&(s.flags|=32),Ai}function ri(s,c,m){(s===Ft&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)&&(nd(s,0),hl(s,yt,Ai,!1)),Lo(s,m),((jt&2)===0||s!==Ft)&&(s===Ft&&((jt&2)===0&&(Oc|=m),yn===4&&hl(s,yt,Ai,!1)),co(s))}function eN(s,c,m){if((jt&6)!==0)throw Error(r(327));var x=!m&&(c&127)===0&&(c&s.expiredLanes)===0||Wl(s,c),A=x?KF(s,c):H_(s,c,!0),O=x;do{if(A===0){Qu&&!x&&hl(s,c,0,!1);break}else{if(m=s.current.alternate,O&&!qF(m)){A=H_(s,c,!1),O=!1;continue}if(A===2){if(O=c,s.errorRecoveryDisabledLanes&O)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){c=I;e:{var G=s;A=yh;var te=G.current.memoizedState.isDehydrated;if(te&&(nd(G,I).flags|=256),I=H_(G,I,!1),I!==2){if(L_&&!te){G.errorRecoveryDisabledLanes|=O,Oc|=O,A=4;break e}O=ni,ni=A,O!==null&&(ni===null?ni=O:ni.push.apply(ni,O))}A=I}if(O=!1,A!==2)continue}}if(A===1){nd(s,0),hl(s,c,0,!0);break}e:{switch(x=s,O=A,O){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:hl(x,c,Ai,!cl);break e;case 2:ni=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(A=Bg+300-$e(),10<A)){if(hl(x,c,Ai,!cl),wu(x,0,!0)!==0)break e;rs=c,x.timeoutHandle=CN(tN.bind(null,x,m,ni,Ug,$_,c,Ai,Oc,ed,cl,O,"Throttled",-0,0),A);break e}tN(x,m,ni,Ug,$_,c,Ai,Oc,ed,cl,O,null,-0,0)}}break}while(!0);co(s)}function tN(s,c,m,x,A,O,I,G,te,ge,we,Te,ye,ve){if(s.timeoutHandle=-1,Te=c.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wr},KO(c,O,Te);var Ue=(O&62914560)===O?Bg-$e():(O&4194048)===O?XO-$e():0;if(Ue=OH(Te,Ue),Ue!==null){rs=O,s.cancelPendingCommit=Ue(cN.bind(null,s,c,O,m,x,A,I,G,te,we,Te,null,ye,ve)),hl(s,O,I,!ge);return}}cN(s,c,O,m,x,A,I,G,te)}function qF(s){for(var c=s;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var A=m[x],O=A.getSnapshot;A=A.value;try{if(!er(O(),A))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function hl(s,c,m,x){c&=~I_,c&=~Oc,s.suspendedLanes|=c,s.pingedLanes&=~c,x&&(s.warmLanes|=c),x=s.expirationTimes;for(var A=c;0<A;){var O=31-Dr(A),I=1<<O;x[O]=-1,A&=~I}m!==0&&zp(s,m,c)}function Fg(){return(jt&6)===0?(xh(0),!1):!0}function F_(){if(pt!==null){if(Pt===0)var s=pt.return;else s=pt,ja=so=null,i_(s),Yu=null,nh=0,s=pt;for(;s!==null;)MO(s.alternate,s),s=s.return;pt=null}}function nd(s,c){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,dH(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),rs=0,F_(),Ft=s,pt=m=Qi(s.current,null),yt=c,Pt=0,Ei=null,cl=!1,Qu=Wl(s,c),L_=!1,ed=Ai=I_=Oc=ul=yn=0,ni=yh=null,$_=!1,(c&8)!==0&&(c|=c&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=c;0<x;){var A=31-Dr(x),O=1<<A;c|=s[A],x&=~O}return ns=c,gc(),m}function nN(s,c){ct=null,q.H=uh,c===qu||c===bg?(c=yj(),Pt=3):c===Yx?(c=yj(),Pt=4):Pt=c===x_?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ei=c,pt===null&&(yn=1,Cg(s,y(c,s.current)))}function rN(){var s=Si.current;return s===null?!0:(yt&4194048)===yt?ea===null:(yt&62914560)===yt||(yt&536870912)!==0?s===ea:!1}function iN(){var s=q.H;return q.H=uh,s===null?uh:s}function aN(){var s=q.A;return q.A=HF,s}function Hg(){yn=4,cl||(yt&4194048)!==yt&&Si.current!==null||(Qu=!0),(ul&134217727)===0&&(Oc&134217727)===0||Ft===null||hl(Ft,yt,Ai,!1)}function H_(s,c,m){var x=jt;jt|=2;var A=iN(),O=aN();(Ft!==s||yt!==c)&&(Ug=null,nd(s,c)),c=!1;var I=yn;e:do try{if(Pt!==0&&pt!==null){var G=pt,te=Ei;switch(Pt){case 8:F_(),I=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(c=!0);var ge=Pt;if(Pt=0,Ei=null,rd(s,G,te,ge),m&&Qu){I=0;break e}break;default:ge=Pt,Pt=0,Ei=null,rd(s,G,te,ge)}}YF(),I=yn;break}catch(we){nN(s,we)}while(!0);return c&&s.shellSuspendCounter++,ja=so=null,jt=x,q.H=A,q.A=O,pt===null&&(Ft=null,yt=0,gc()),I}function YF(){for(;pt!==null;)oN(pt)}function KF(s,c){var m=jt;jt|=2;var x=iN(),A=aN();Ft!==s||yt!==c?(Ug=null,zg=$e()+500,nd(s,c)):Qu=Wl(s,c);e:do try{if(Pt!==0&&pt!==null){c=pt;var O=Ei;t:switch(Pt){case 1:Pt=0,Ei=null,rd(s,c,O,1);break;case 2:case 9:if(gj(O)){Pt=0,Ei=null,sN(c);break}c=function(){Pt!==2&&Pt!==9||Ft!==s||(Pt=7),co(s)},O.then(c,c);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:gj(O)?(Pt=0,Ei=null,sN(c)):(Pt=0,Ei=null,rd(s,c,O,7));break;case 5:var I=null;switch(pt.tag){case 26:I=pt.memoizedState;case 5:case 27:var G=pt;if(I?YN(I):G.stateNode.complete){Pt=0,Ei=null;var te=G.sibling;if(te!==null)pt=te;else{var ge=G.return;ge!==null?(pt=ge,Gg(ge)):pt=null}break t}}Pt=0,Ei=null,rd(s,c,O,5);break;case 6:Pt=0,Ei=null,rd(s,c,O,6);break;case 8:F_(),yn=6;break e;default:throw Error(r(462))}}WF();break}catch(we){nN(s,we)}while(!0);return ja=so=null,q.H=x,q.A=A,jt=m,pt!==null?0:(Ft=null,yt=0,gc(),yn)}function WF(){for(;pt!==null&&!ue();)oN(pt)}function oN(s){var c=NO(s.alternate,s,ns);s.memoizedProps=s.pendingProps,c===null?Gg(s):pt=c}function sN(s){var c=s,m=c.alternate;switch(c.tag){case 15:case 0:c=kO(m,c,c.pendingProps,c.type,void 0,yt);break;case 11:c=kO(m,c,c.pendingProps,c.type.render,c.ref,yt);break;case 5:i_(c);default:MO(m,c),c=pt=Vf(c,ns),c=NO(m,c,ns)}s.memoizedProps=s.pendingProps,c===null?Gg(s):pt=c}function rd(s,c,m,x){ja=so=null,i_(c),Yu=null,nh=0;var A=c.return;try{if(LF(s,A,c,m,yt)){yn=1,Cg(s,y(m,s.current)),pt=null;return}}catch(O){if(A!==null)throw pt=A,O;yn=1,Cg(s,y(m,s.current)),pt=null;return}c.flags&32768?(mt||x===1?s=!0:Qu||(yt&536870912)!==0?s=!1:(cl=s=!0,(x===2||x===9||x===3||x===6)&&(x=Si.current,x!==null&&x.tag===13&&(x.flags|=16384))),lN(c,s)):Gg(c)}function Gg(s){var c=s;do{if((c.flags&32768)!==0){lN(c,cl);return}s=c.return;var m=BF(c.alternate,c,ns);if(m!==null){pt=m;return}if(c=c.sibling,c!==null){pt=c;return}pt=c=s}while(c!==null);yn===0&&(yn=5)}function lN(s,c){do{var m=zF(s.alternate,s);if(m!==null){m.flags&=32767,pt=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(s=s.sibling,s!==null)){pt=s;return}pt=s=m}while(s!==null);yn=6,pt=null}function cN(s,c,m,x,A,O,I,G,te){s.cancelPendingCommit=null;do qg();while(Hn!==0);if((jt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(O=c.lanes|c.childLanes,O|=$u,Ex(s,m,O,I,G,te),s===Ft&&(pt=Ft=null,yt=0),td=c,fl=s,rs=m,B_=O,z_=A,JO=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,JF(Jn,function(){return mN(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=q.T,q.T=null,A=J.p,J.p=2,I=jt,jt|=4;try{UF(s,c,m)}finally{jt=I,J.p=A,q.T=x}}Hn=1,uN(),dN(),fN()}}function uN(){if(Hn===1){Hn=0;var s=fl,c=td,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=q.T,q.T=null;var x=J.p;J.p=2;var A=jt;jt|=4;try{GO(c,s);var O=tw,I=dc(s.containerInfo),G=O.focusedElem,te=O.selectionRange;if(I!==G&&G&&G.ownerDocument&&Pu(G.ownerDocument.documentElement,G)){if(te!==null&&eo(G)){var ge=te.start,we=te.end;if(we===void 0&&(we=ge),"selectionStart"in G)G.selectionStart=ge,G.selectionEnd=Math.min(we,G.value.length);else{var Te=G.ownerDocument||document,ye=Te&&Te.defaultView||window;if(ye.getSelection){var ve=ye.getSelection(),Ue=G.textContent.length,tt=Math.min(te.start,Ue),zt=te.end===void 0?tt:Math.min(te.end,Ue);!ve.extend&&tt>zt&&(I=zt,zt=tt,tt=I);var le=uc(G,tt),ae=uc(G,zt);if(le&&ae&&(ve.rangeCount!==1||ve.anchorNode!==le.node||ve.anchorOffset!==le.offset||ve.focusNode!==ae.node||ve.focusOffset!==ae.offset)){var pe=Te.createRange();pe.setStart(le.node,le.offset),ve.removeAllRanges(),tt>zt?(ve.addRange(pe),ve.extend(ae.node,ae.offset)):(pe.setEnd(ae.node,ae.offset),ve.addRange(pe))}}}}for(Te=[],ve=G;ve=ve.parentNode;)ve.nodeType===1&&Te.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Te.length;G++){var ke=Te[G];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}r0=!!ew,tw=ew=null}finally{jt=A,J.p=x,q.T=m}}s.current=c,Hn=2}}function dN(){if(Hn===2){Hn=0;var s=fl,c=td,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=q.T,q.T=null;var x=J.p;J.p=2;var A=jt;jt|=4;try{BO(s,c.alternate,c)}finally{jt=A,J.p=x,q.T=m}}Hn=3}}function fN(){if(Hn===4||Hn===3){Hn=0,Ce();var s=fl,c=td,m=rs,x=JO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Hn=5:(Hn=0,td=fl=null,hN(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(dl=null),Ge(m),c=c.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(qt,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=q.T,A=J.p,J.p=2,q.T=null;try{for(var O=s.onRecoverableError,I=0;I<x.length;I++){var G=x[I];O(G.value,{componentStack:G.stack})}}finally{q.T=c,J.p=A}}(rs&3)!==0&&qg(),co(s),A=s.pendingLanes,(m&261930)!==0&&(A&42)!==0?s===U_?vh++:(vh=0,U_=s):vh=0,xh(0)}}function hN(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,eh(c)))}function qg(){return uN(),dN(),fN(),mN()}function mN(){if(Hn!==5)return!1;var s=fl,c=B_;B_=0;var m=Ge(rs),x=q.T,A=J.p;try{J.p=32>m?32:m,q.T=null,m=z_,z_=null;var O=fl,I=rs;if(Hn=0,td=fl=null,rs=0,(jt&6)!==0)throw Error(r(331));var G=jt;if(jt|=4,VO(O.current),YO(O,O.current,I,m),jt=G,xh(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(qt,O)}catch{}return!0}finally{J.p=A,q.T=x,hN(s,c)}}function pN(s,c,m){c=y(m,c),c=v_(s.stateNode,c,2),s=al(s,c,2),s!==null&&(Lo(s,2),co(s))}function Rt(s,c,m){if(s.tag===3)pN(s,s,m);else for(;c!==null;){if(c.tag===3){pN(c,s,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(dl===null||!dl.has(x))){s=y(m,s),m=gO(2),x=al(c,m,2),x!==null&&(bO(m,x,c,s),Lo(x,2),co(x));break}}c=c.return}}function G_(s,c,m){var x=s.pingCache;if(x===null){x=s.pingCache=new GF;var A=new Set;x.set(c,A)}else A=x.get(c),A===void 0&&(A=new Set,x.set(c,A));A.has(m)||(L_=!0,A.add(m),s=VF.bind(null,s,c,m),c.then(s,s))}function VF(s,c,m){var x=s.pingCache;x!==null&&x.delete(c),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,Ft===s&&(yt&m)===m&&(yn===4||yn===3&&(yt&62914560)===yt&&300>$e()-Bg?(jt&2)===0&&nd(s,0):I_|=m,ed===yt&&(ed=0)),co(s)}function gN(s,c){c===0&&(c=Bp()),s=Ji(s,c),s!==null&&(Lo(s,c),co(s))}function ZF(s){var c=s.memoizedState,m=0;c!==null&&(m=c.retryLane),gN(s,m)}function XF(s,c){var m=0;switch(s.tag){case 31:case 13:var x=s.stateNode,A=s.memoizedState;A!==null&&(m=A.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(c),gN(s,m)}function JF(s,c){return Be(s,c)}var Yg=null,id=null,q_=!1,Kg=!1,Y_=!1,ml=0;function co(s){s!==id&&s.next===null&&(id===null?Yg=id=s:id=id.next=s),Kg=!0,q_||(q_=!0,eH())}function xh(s,c){if(!Y_&&Kg){Y_=!0;do for(var m=!1,x=Yg;x!==null;){if(s!==0){var A=x.pendingLanes;if(A===0)var O=0;else{var I=x.suspendedLanes,G=x.pingedLanes;O=(1<<31-Dr(42|s)+1)-1,O&=A&~(I&~G),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(m=!0,xN(x,O))}else O=yt,O=wu(x,x===Ft?O:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(O&3)===0||Wl(x,O)||(m=!0,xN(x,O));x=x.next}while(m);Y_=!1}}function QF(){bN()}function bN(){Kg=q_=!1;var s=0;ml!==0&&uH()&&(s=ml);for(var c=$e(),m=null,x=Yg;x!==null;){var A=x.next,O=yN(x,c);O===0?(x.next=null,m===null?Yg=A:m.next=A,A===null&&(id=m)):(m=x,(s!==0||(O&3)!==0)&&(Kg=!0)),x=A}Hn!==0&&Hn!==5||xh(s),ml!==0&&(ml=0)}function yN(s,c){for(var m=s.suspendedLanes,x=s.pingedLanes,A=s.expirationTimes,O=s.pendingLanes&-62914561;0<O;){var I=31-Dr(O),G=1<<I,te=A[I];te===-1?((G&m)===0||(G&x)!==0)&&(A[I]=kx(G,c)):te<=c&&(s.expiredLanes|=G),O&=~G}if(c=Ft,m=yt,m=wu(s,s===c?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,m===0||s===c&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&lt(x),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||Wl(s,m)){if(c=m&-m,c===s.callbackPriority)return c;switch(x!==null&&lt(x),Ge(m)){case 2:case 8:m=xt;break;case 32:m=Jn;break;case 268435456:m=bi;break;default:m=Jn}return x=vN.bind(null,s),m=Be(m,x),s.callbackPriority=c,s.callbackNode=m,c}return x!==null&&x!==null&&lt(x),s.callbackPriority=2,s.callbackNode=null,2}function vN(s,c){if(Hn!==0&&Hn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(qg()&&s.callbackNode!==m)return null;var x=yt;return x=wu(s,s===Ft?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(eN(s,x,c),yN(s,$e()),s.callbackNode!=null&&s.callbackNode===m?vN.bind(null,s):null)}function xN(s,c){if(qg())return null;eN(s,c,!0)}function eH(){fH(function(){(jt&6)!==0?Be(Nt,QF):bN()})}function K_(){if(ml===0){var s=Hu;s===0&&(s=ql,ql<<=1,(ql&261888)===0&&(ql=256)),ml=s}return ml}function _N(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Hs(""+s)}function wN(s,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,s.id&&m.setAttribute("form",s.id),c.parentNode.insertBefore(m,c),s=new FormData(s),m.parentNode.removeChild(m),s}function tH(s,c,m,x,A){if(c==="submit"&&m&&m.stateNode===A){var O=_N((A[Qn]||null).action),I=x.submitter;I&&(c=(c=I[Qn]||null)?_N(c.formAction):I.getAttribute("formAction"),c!==null&&(O=c,I=null));var G=new Tu("action","action",null,x,A);s.push({event:G,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(ml!==0){var te=I?wN(A,I):new FormData(A);h_(m,{pending:!0,data:te,method:A.method,action:O},null,te)}}else typeof O=="function"&&(G.preventDefault(),te=I?wN(A,I):new FormData(A),h_(m,{pending:!0,data:te,method:A.method,action:O},O,te))},currentTarget:A}]})}}for(var W_=0;W_<ro.length;W_++){var V_=ro[W_],nH=V_.toLowerCase(),rH=V_[0].toUpperCase()+V_.slice(1);Zr(nH,"on"+rH)}Zr(hc,"onAnimationEnd"),Zr(dg,"onAnimationIteration"),Zr(mc,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr($x,"onTransitionRun"),Zr(fg,"onTransitionStart"),Zr(Bx,"onTransitionCancel"),Zr(el,"onTransitionEnd"),Za("onMouseEnter",["mouseout","mouseover"]),Za("onMouseLeave",["mouseout","mouseover"]),Za("onPointerEnter",["pointerout","pointerover"]),Za("onPointerLeave",["pointerout","pointerover"]),Bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_h));function SN(s,c){c=(c&4)!==0;for(var m=0;m<s.length;m++){var x=s[m],A=x.event;x=x.listeners;e:{var O=void 0;if(c)for(var I=x.length-1;0<=I;I--){var G=x[I],te=G.instance,ge=G.currentTarget;if(G=G.listener,te!==O&&A.isPropagationStopped())break e;O=G,A.currentTarget=ge;try{O(A)}catch(we){pc(we)}A.currentTarget=null,O=te}else for(I=0;I<x.length;I++){if(G=x[I],te=G.instance,ge=G.currentTarget,G=G.listener,te!==O&&A.isPropagationStopped())break e;O=G,A.currentTarget=ge;try{O(A)}catch(we){pc(we)}A.currentTarget=null,O=te}}}}function gt(s,c){var m=c[Wa];m===void 0&&(m=c[Wa]=new Set);var x=s+"__bubble";m.has(x)||(kN(c,s,2,!1),m.add(x))}function Z_(s,c,m){var x=0;c&&(x|=4),kN(m,s,x,c)}var Wg="_reactListening"+Math.random().toString(36).slice(2);function X_(s){if(!s[Wg]){s[Wg]=!0,qp.forEach(function(m){m!=="selectionchange"&&(iH.has(m)||Z_(m,!1,s),Z_(m,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Wg]||(c[Wg]=!0,Z_("selectionchange",!1,c))}}function kN(s,c,m,x){switch(QN(c)){case 2:var A=MH;break;case 8:A=DH;break;default:A=fw}m=A.bind(null,c,m,s),A=void 0,!tc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),x?A!==void 0?s.addEventListener(c,m,{capture:!0,passive:A}):s.addEventListener(c,m,!0):A!==void 0?s.addEventListener(c,m,{passive:A}):s.addEventListener(c,m,!1)}function J_(s,c,m,x,A){var O=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var I=x.tag;if(I===3||I===4){var G=x.stateNode.containerInfo;if(G===A)break;if(I===4)for(I=x.return;I!==null;){var te=I.tag;if((te===3||te===4)&&I.stateNode.containerInfo===A)return;I=I.return}for(;G!==null;){if(I=$o(G),I===null)return;if(te=I.tag,te===5||te===6||te===26||te===27){x=O=I;continue e}G=G.parentNode}}x=x.return}$f(function(){var ge=O,we=ec(m),Te=[];e:{var ye=hg.get(s);if(ye!==void 0){var ve=Tu,Ue=s;switch(s){case"keypress":if(nc(m)===0)break e;case"keydown":case"keyup":ve=Qp;break;case"focusin":Ue="focus",ve=Uf;break;case"focusout":Ue="blur",ve=Uf;break;case"beforeblur":case"afterblur":ve=Uf;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Wp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Tx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Mx;break;case hc:case dg:case mc:ve=Ff;break;case el:ve=ng;break;case"scroll":case"scrollend":ve=bt;break;case"wheel":ve=Ho;break;case"copy":case"cut":case"paste":ve=Wi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=eg;break;case"toggle":case"beforetoggle":ve=ac}var tt=(c&4)!==0,zt=!tt&&(s==="scroll"||s==="scrollend"),le=tt?ye!==null?ye+"Capture":null:ye;tt=[];for(var ae=ge,pe;ae!==null;){var ke=ae;if(pe=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||pe===null||le===null||(ke=Uo(ae,le),ke!=null&&tt.push(wh(ae,ke,pe))),zt)break;ae=ae.return}0<tt.length&&(ye=new ve(ye,Ue,null,m,we),Te.push({event:ye,listeners:tt}))}}if((c&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",ye&&m!==Au&&(Ue=m.relatedTarget||m.fromElement)&&($o(Ue)||Ue[Io]))break e;if((ve||ye)&&(ye=we.window===we?we:(ye=we.ownerDocument)?ye.defaultView||ye.parentWindow:window,ve?(Ue=m.relatedTarget||m.toElement,ve=ge,Ue=Ue?$o(Ue):null,Ue!==null&&(zt=a(Ue),tt=Ue.tag,Ue!==zt||tt!==5&&tt!==27&&tt!==6)&&(Ue=null)):(ve=null,Ue=ge),ve!==Ue)){if(tt=Wp,ke="onMouseLeave",le="onMouseEnter",ae="mouse",(s==="pointerout"||s==="pointerover")&&(tt=eg,ke="onPointerLeave",le="onPointerEnter",ae="pointer"),zt=ve==null?ye:Va(ve),pe=Ue==null?ye:Va(Ue),ye=new tt(ke,ae+"leave",ve,m,we),ye.target=zt,ye.relatedTarget=pe,ke=null,$o(we)===ge&&(tt=new tt(le,ae+"enter",Ue,m,we),tt.target=pe,tt.relatedTarget=zt,ke=tt),zt=ke,ve&&Ue)t:{for(tt=aH,le=ve,ae=Ue,pe=0,ke=le;ke;ke=tt(ke))pe++;ke=0;for(var Qe=ae;Qe;Qe=tt(Qe))ke++;for(;0<pe-ke;)le=tt(le),pe--;for(;0<ke-pe;)ae=tt(ae),ke--;for(;pe--;){if(le===ae||ae!==null&&le===ae.alternate){tt=le;break t}le=tt(le),ae=tt(ae)}tt=null}else tt=null;ve!==null&&EN(Te,ye,ve,tt,!1),Ue!==null&&zt!==null&&EN(Te,zt,Ue,tt,!0)}}e:{if(ye=ge?Va(ge):window,ve=ye.nodeName&&ye.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ye.type==="file")var Et=cc;else if(Vi(ye))if(og)Et=Ix;else{Et=Lx;var He=Ea}else ve=ye.nodeName,!ve||ve.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?ge&&Ql(ge.elementType)&&(Et=cc):Et=Zs;if(Et&&(Et=Et(s,ge))){ag(Te,Et,m,we);break e}He&&He(s,ye,ge),s==="focusout"&&ge&&ye.type==="number"&&ge.memoizedProps.value!=null&&wa(ye,"number",ye.value)}switch(He=ge?Va(ge):window,s){case"focusin":(Vi(He)||He.contentEditable==="true")&&(to=He,Lu=ge,fc=null);break;case"focusout":fc=Lu=to=null;break;case"mousedown":Js=!0;break;case"contextmenu":case"mouseup":case"dragend":Js=!1,cg(Te,m,we);break;case"selectionchange":if(Ru)break;case"keydown":case"keyup":cg(Te,m,we)}var dt;if(Ou)e:{switch(s){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else Ks?ig(s,m)&&(vt="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(vt="onCompositionStart");vt&&(Nu&&m.locale!=="ko"&&(Ks||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Ks&&(dt=Ja()):(Ki=we,Fo="value"in Ki?Ki.value:Ki.textContent,Ks=!0)),He=Vg(ge,vt),0<He.length&&(vt=new Hf(vt,s,null,m,we),Te.push({event:vt,listeners:He}),dt?vt.data=dt:(dt=Kf(m),dt!==null&&(vt.data=dt)))),(dt=Px?wi(s,m):Ws(s,m))&&(vt=Vg(ge,"onBeforeInput"),0<vt.length&&(He=new Hf("onBeforeInput","beforeinput",null,m,we),Te.push({event:He,listeners:vt}),He.data=dt)),tH(Te,s,ge,m,we)}SN(Te,c)})}function wh(s,c,m){return{instance:s,listener:c,currentTarget:m}}function Vg(s,c){for(var m=c+"Capture",x=[];s!==null;){var A=s,O=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||O===null||(A=Uo(s,m),A!=null&&x.unshift(wh(s,A,O)),A=Uo(s,c),A!=null&&x.push(wh(s,A,O))),s.tag===3)return x;s=s.return}return[]}function aH(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function EN(s,c,m,x,A){for(var O=c._reactName,I=[];m!==null&&m!==x;){var G=m,te=G.alternate,ge=G.stateNode;if(G=G.tag,te!==null&&te===x)break;G!==5&&G!==26&&G!==27||ge===null||(te=ge,A?(ge=Uo(m,O),ge!=null&&I.unshift(wh(m,ge,te))):A||(ge=Uo(m,O),ge!=null&&I.push(wh(m,ge,te)))),m=m.return}I.length!==0&&s.push({event:c,listeners:I})}var oH=/\r\n?/g,sH=/\u0000|\uFFFD/g;function AN(s){return(typeof s=="string"?s:""+s).replace(oH,`
`).replace(sH,"")}function TN(s,c){return c=AN(c),AN(s)===c}function Bt(s,c,m,x,A,O){switch(m){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||Yi(s,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&Yi(s,""+x);break;case"className":It(s,"class",x);break;case"tabIndex":It(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":It(s,m,x);break;case"style":ku(s,x,O);break;case"data":if(c!=="object"){It(s,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||m!=="href")){s.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Hs(""+x),s.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(m==="formAction"?(c!=="input"&&Bt(s,c,"name",A.name,A,null),Bt(s,c,"formEncType",A.formEncType,A,null),Bt(s,c,"formMethod",A.formMethod,A,null),Bt(s,c,"formTarget",A.formTarget,A,null)):(Bt(s,c,"encType",A.encType,A,null),Bt(s,c,"method",A.method,A,null),Bt(s,c,"target",A.target,A,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Hs(""+x),s.setAttribute(m,x);break;case"onClick":x!=null&&(s.onclick=Wr);break;case"onScroll":x!=null&&gt("scroll",s);break;case"onScrollEnd":x!=null&&gt("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}m=Hs(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""+x):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":x===!0?s.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,x):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(m,x):s.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(m):s.setAttribute(m,x);break;case"popover":gt("beforetoggle",s),gt("toggle",s),ht(s,"popover",x);break;case"xlinkActuate":Kr(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Kr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Kr(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Kr(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Kr(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Kr(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Kr(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Kr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Kr(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":ht(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Eu.get(m)||m,ht(s,m,x))}}function Q_(s,c,m,x,A,O){switch(m){case"style":ku(s,x,O);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof x=="string"?Yi(s,x):(typeof x=="number"||typeof x=="bigint")&&Yi(s,""+x);break;case"onScroll":x!=null&&gt("scroll",s);break;case"onScrollEnd":x!=null&&gt("scrollend",s);break;case"onClick":x!=null&&(s.onclick=Wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yp.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(A=m.endsWith("Capture"),c=m.slice(2,A?m.length-7:void 0),O=s[Qn]||null,O=O!=null?O[m]:null,typeof O=="function"&&s.removeEventListener(c,O,A),typeof x=="function")){typeof O!="function"&&O!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(c,x,A);break e}m in s?s[m]=x:x===!0?s.setAttribute(m,""):ht(s,m,x)}}}function pr(s,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",s),gt("load",s);var x=!1,A=!1,O;for(O in m)if(m.hasOwnProperty(O)){var I=m[O];if(I!=null)switch(O){case"src":x=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Bt(s,c,O,I,m,null)}}A&&Bt(s,c,"srcSet",m.srcSet,m,null),x&&Bt(s,c,"src",m.src,m,null);return;case"input":gt("invalid",s);var G=O=I=A=null,te=null,ge=null;for(x in m)if(m.hasOwnProperty(x)){var we=m[x];if(we!=null)switch(x){case"name":A=we;break;case"type":I=we;break;case"checked":te=we;break;case"defaultChecked":ge=we;break;case"value":O=we;break;case"defaultValue":G=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,c));break;default:Bt(s,c,x,we,m,null)}}Jl(s,O,G,te,ge,I,A,!1);return;case"select":gt("invalid",s),x=I=O=null;for(A in m)if(m.hasOwnProperty(A)&&(G=m[A],G!=null))switch(A){case"value":O=G;break;case"defaultValue":I=G;break;case"multiple":x=G;default:Bt(s,c,A,G,m,null)}c=O,m=I,s.multiple=!!x,c!=null?Ut(s,!!x,c,!1):m!=null&&Ut(s,!!x,m,!0);return;case"textarea":gt("invalid",s),O=A=x=null;for(I in m)if(m.hasOwnProperty(I)&&(G=m[I],G!=null))switch(I){case"value":x=G;break;case"defaultValue":A=G;break;case"children":O=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Bt(s,c,I,G,m,null)}Us(s,x,A,O);return;case"option":for(te in m)if(m.hasOwnProperty(te)&&(x=m[te],x!=null))switch(te){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Bt(s,c,te,x,m,null)}return;case"dialog":gt("beforetoggle",s),gt("toggle",s),gt("cancel",s),gt("close",s);break;case"iframe":case"object":gt("load",s);break;case"video":case"audio":for(x=0;x<_h.length;x++)gt(_h[x],s);break;case"image":gt("error",s),gt("load",s);break;case"details":gt("toggle",s);break;case"embed":case"source":case"link":gt("error",s),gt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in m)if(m.hasOwnProperty(ge)&&(x=m[ge],x!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Bt(s,c,ge,x,m,null)}return;default:if(Ql(c)){for(we in m)m.hasOwnProperty(we)&&(x=m[we],x!==void 0&&Q_(s,c,we,x,m,void 0));return}}for(G in m)m.hasOwnProperty(G)&&(x=m[G],x!=null&&Bt(s,c,G,x,m,null))}function lH(s,c,m,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,O=null,I=null,G=null,te=null,ge=null,we=null;for(ve in m){var Te=m[ve];if(m.hasOwnProperty(ve)&&Te!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":te=Te;default:x.hasOwnProperty(ve)||Bt(s,c,ve,null,x,Te)}}for(var ye in x){var ve=x[ye];if(Te=m[ye],x.hasOwnProperty(ye)&&(ve!=null||Te!=null))switch(ye){case"type":O=ve;break;case"name":A=ve;break;case"checked":ge=ve;break;case"defaultChecked":we=ve;break;case"value":I=ve;break;case"defaultValue":G=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,c));break;default:ve!==Te&&Bt(s,c,ye,ve,x,Te)}}Rf(s,I,G,te,ge,we,O,A);return;case"select":ve=I=G=ye=null;for(O in m)if(te=m[O],m.hasOwnProperty(O)&&te!=null)switch(O){case"value":break;case"multiple":ve=te;default:x.hasOwnProperty(O)||Bt(s,c,O,null,x,te)}for(A in x)if(O=x[A],te=m[A],x.hasOwnProperty(A)&&(O!=null||te!=null))switch(A){case"value":ye=O;break;case"defaultValue":G=O;break;case"multiple":I=O;default:O!==te&&Bt(s,c,A,O,x,te)}c=G,m=I,x=ve,ye!=null?Ut(s,!!m,ye,!1):!!x!=!!m&&(c!=null?Ut(s,!!m,c,!0):Ut(s,!!m,m?[]:"",!1));return;case"textarea":ve=ye=null;for(G in m)if(A=m[G],m.hasOwnProperty(G)&&A!=null&&!x.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Bt(s,c,G,null,x,A)}for(I in x)if(A=x[I],O=m[I],x.hasOwnProperty(I)&&(A!=null||O!=null))switch(I){case"value":ye=A;break;case"defaultValue":ve=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==O&&Bt(s,c,I,A,x,O)}Xa(s,ye,ve);return;case"option":for(var Ue in m)if(ye=m[Ue],m.hasOwnProperty(Ue)&&ye!=null&&!x.hasOwnProperty(Ue))switch(Ue){case"selected":s.selected=!1;break;default:Bt(s,c,Ue,null,x,ye)}for(te in x)if(ye=x[te],ve=m[te],x.hasOwnProperty(te)&&ye!==ve&&(ye!=null||ve!=null))switch(te){case"selected":s.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:Bt(s,c,te,ye,x,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in m)ye=m[tt],m.hasOwnProperty(tt)&&ye!=null&&!x.hasOwnProperty(tt)&&Bt(s,c,tt,null,x,ye);for(ge in x)if(ye=x[ge],ve=m[ge],x.hasOwnProperty(ge)&&ye!==ve&&(ye!=null||ve!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,c));break;default:Bt(s,c,ge,ye,x,ve)}return;default:if(Ql(c)){for(var zt in m)ye=m[zt],m.hasOwnProperty(zt)&&ye!==void 0&&!x.hasOwnProperty(zt)&&Q_(s,c,zt,void 0,x,ye);for(we in x)ye=x[we],ve=m[we],!x.hasOwnProperty(we)||ye===ve||ye===void 0&&ve===void 0||Q_(s,c,we,ye,x,ve);return}}for(var le in m)ye=m[le],m.hasOwnProperty(le)&&ye!=null&&!x.hasOwnProperty(le)&&Bt(s,c,le,null,x,ye);for(Te in x)ye=x[Te],ve=m[Te],!x.hasOwnProperty(Te)||ye===ve||ye==null&&ve==null||Bt(s,c,Te,ye,x,ve)}function jN(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cH(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,m=performance.getEntriesByType("resource"),x=0;x<m.length;x++){var A=m[x],O=A.transferSize,I=A.initiatorType,G=A.duration;if(O&&G&&jN(I)){for(I=0,G=A.responseEnd,x+=1;x<m.length;x++){var te=m[x],ge=te.startTime;if(ge>G)break;var we=te.transferSize,Te=te.initiatorType;we&&jN(Te)&&(te=te.responseEnd,I+=we*(te<G?1:(G-ge)/(te-ge)))}if(--x,c+=8*(O+I)/(A.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ew=null,tw=null;function Zg(s){return s.nodeType===9?s:s.ownerDocument}function ON(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NN(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function nw(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var rw=null;function uH(){var s=window.event;return s&&s.type==="popstate"?s===rw?!1:(rw=s,!0):(rw=null,!1)}var CN=typeof setTimeout=="function"?setTimeout:void 0,dH=typeof clearTimeout=="function"?clearTimeout:void 0,MN=typeof Promise=="function"?Promise:void 0,fH=typeof queueMicrotask=="function"?queueMicrotask:typeof MN<"u"?function(s){return MN.resolve(null).then(s).catch(hH)}:CN;function hH(s){setTimeout(function(){throw s})}function pl(s){return s==="head"}function DN(s,c){var m=c,x=0;do{var A=m.nextSibling;if(s.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"||m==="/&"){if(x===0){s.removeChild(A),ld(c);return}x--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")x++;else if(m==="html")Sh(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,Sh(m);for(var O=m.firstChild;O;){var I=O.nextSibling,G=O.nodeName;O[Vl]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&O.rel.toLowerCase()==="stylesheet"||m.removeChild(O),O=I}}else m==="body"&&Sh(s.ownerDocument.body);m=A}while(m);ld(c)}function PN(s,c){var m=s;s=0;do{var x=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),x&&x.nodeType===8)if(m=x.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=x}while(m)}function iw(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":iw(m),Cf(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function mH(s,c,m,x){for(;s.nodeType===1;){var A=m;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[Vl])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(O=s.getAttribute("rel"),O==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(O!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(O=s.getAttribute("src"),(O!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&O&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var O=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===O)return s}else return s;if(s=ta(s.nextSibling),s===null)break}return null}function pH(s,c,m){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=ta(s.nextSibling),s===null))return null;return s}function RN(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ta(s.nextSibling),s===null))return null;return s}function aw(s){return s.data==="$?"||s.data==="$~"}function ow(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function gH(s,c){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||m.readyState!=="loading")c();else{var x=function(){c(),m.removeEventListener("DOMContentLoaded",x)};m.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function ta(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var sw=null;function LN(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(c===0)return ta(s.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}s=s.nextSibling}return null}function IN(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return s;c--}else m!=="/$"&&m!=="/&"||c++}s=s.previousSibling}return null}function $N(s,c,m){switch(c=Zg(m),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Sh(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Cf(s)}var na=new Map,BN=new Set;function Xg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var is=J.d;J.d={f:bH,r:yH,D:vH,C:xH,L:_H,m:wH,X:kH,S:SH,M:EH};function bH(){var s=is.f(),c=Fg();return s||c}function yH(s){var c=$s(s);c!==null&&c.tag===5&&c.type==="form"?nO(c):is.r(s)}var ad=typeof document>"u"?null:document;function zN(s,c,m){var x=ad;if(x&&typeof c=="string"&&c){var A=Zt(c);A='link[rel="'+s+'"][href="'+A+'"]',typeof m=="string"&&(A+='[crossorigin="'+m+'"]'),BN.has(A)||(BN.add(A),s={rel:s,crossOrigin:m,href:c},x.querySelector(A)===null&&(c=x.createElement("link"),pr(c,"link",s),Nn(c),x.head.appendChild(c)))}}function vH(s){is.D(s),zN("dns-prefetch",s,null)}function xH(s,c){is.C(s,c),zN("preconnect",s,c)}function _H(s,c,m){is.L(s,c,m);var x=ad;if(x&&s&&c){var A='link[rel="preload"][as="'+Zt(c)+'"]';c==="image"&&m&&m.imageSrcSet?(A+='[imagesrcset="'+Zt(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(A+='[imagesizes="'+Zt(m.imageSizes)+'"]')):A+='[href="'+Zt(s)+'"]';var O=A;switch(c){case"style":O=od(s);break;case"script":O=sd(s)}na.has(O)||(s=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:s,as:c},m),na.set(O,s),x.querySelector(A)!==null||c==="style"&&x.querySelector(kh(O))||c==="script"&&x.querySelector(Eh(O))||(c=x.createElement("link"),pr(c,"link",s),Nn(c),x.head.appendChild(c)))}}function wH(s,c){is.m(s,c);var m=ad;if(m&&s){var x=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+Zt(x)+'"][href="'+Zt(s)+'"]',O=A;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=sd(s)}if(!na.has(O)&&(s=p({rel:"modulepreload",href:s},c),na.set(O,s),m.querySelector(A)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Eh(O)))return}x=m.createElement("link"),pr(x,"link",s),Nn(x),m.head.appendChild(x)}}}function SH(s,c,m){is.S(s,c,m);var x=ad;if(x&&s){var A=Bs(x).hoistableStyles,O=od(s);c=c||"default";var I=A.get(O);if(!I){var G={loading:0,preload:null};if(I=x.querySelector(kh(O)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},m),(m=na.get(O))&&lw(s,m);var te=I=x.createElement("link");Nn(te),pr(te,"link",s),te._p=new Promise(function(ge,we){te.onload=ge,te.onerror=we}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Jg(I,c,x)}I={type:"stylesheet",instance:I,count:1,state:G},A.set(O,I)}}}function kH(s,c){is.X(s,c);var m=ad;if(m&&s){var x=Bs(m).hoistableScripts,A=sd(s),O=x.get(A);O||(O=m.querySelector(Eh(A)),O||(s=p({src:s,async:!0},c),(c=na.get(A))&&cw(s,c),O=m.createElement("script"),Nn(O),pr(O,"link",s),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(A,O))}}function EH(s,c){is.M(s,c);var m=ad;if(m&&s){var x=Bs(m).hoistableScripts,A=sd(s),O=x.get(A);O||(O=m.querySelector(Eh(A)),O||(s=p({src:s,async:!0,type:"module"},c),(c=na.get(A))&&cw(s,c),O=m.createElement("script"),Nn(O),pr(O,"link",s),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(A,O))}}function UN(s,c,m,x){var A=(A=he.current)?Xg(A):null;if(!A)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=od(m.href),m=Bs(A).hoistableStyles,x=m.get(c),x||(x={type:"style",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=od(m.href);var O=Bs(A).hoistableStyles,I=O.get(s);if(I||(A=A.ownerDocument||A,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(s,I),(O=A.querySelector(kh(s)))&&!O._p&&(I.instance=O,I.state.loading=5),na.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},na.set(s,m),O||AH(A,s,m,I.state))),c&&x===null)throw Error(r(528,""));return I}if(c&&x!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=sd(m),m=Bs(A).hoistableScripts,x=m.get(c),x||(x={type:"script",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function od(s){return'href="'+Zt(s)+'"'}function kh(s){return'link[rel="stylesheet"]['+s+"]"}function FN(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function AH(s,c,m,x){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=s.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),pr(c,"link",m),Nn(c),s.head.appendChild(c))}function sd(s){return'[src="'+Zt(s)+'"]'}function Eh(s){return"script[async]"+s}function HN(s,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var x=s.querySelector('style[data-href~="'+Zt(m.href)+'"]');if(x)return c.instance=x,Nn(x),x;var A=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),Nn(x),pr(x,"style",A),Jg(x,m.precedence,s),c.instance=x;case"stylesheet":A=od(m.href);var O=s.querySelector(kh(A));if(O)return c.state.loading|=4,c.instance=O,Nn(O),O;x=FN(m),(A=na.get(A))&&lw(x,A),O=(s.ownerDocument||s).createElement("link"),Nn(O);var I=O;return I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),pr(O,"link",x),c.state.loading|=4,Jg(O,m.precedence,s),c.instance=O;case"script":return O=sd(m.src),(A=s.querySelector(Eh(O)))?(c.instance=A,Nn(A),A):(x=m,(A=na.get(O))&&(x=p({},m),cw(x,A)),s=s.ownerDocument||s,A=s.createElement("script"),Nn(A),pr(A,"link",x),s.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,Jg(x,m.precedence,s));return c.instance}function Jg(s,c,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=x.length?x[x.length-1]:null,O=A,I=0;I<x.length;I++){var G=x[I];if(G.dataset.precedence===c)O=G;else if(O!==A)break}O?O.parentNode.insertBefore(s,O.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(s,c.firstChild))}function lw(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function cw(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var Qg=null;function GN(s,c,m){if(Qg===null){var x=new Map,A=Qg=new Map;A.set(m,x)}else A=Qg,x=A.get(m),x||(x=new Map,A.set(m,x));if(x.has(s))return x;for(x.set(s,null),m=m.getElementsByTagName(s),A=0;A<m.length;A++){var O=m[A];if(!(O[Vl]||O[On]||s==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var I=O.getAttribute(c)||"";I=s+I;var G=x.get(I);G?G.push(O):x.set(I,[O])}}return x}function qN(s,c,m){s=s.ownerDocument||s,s.head.insertBefore(m,c==="title"?s.querySelector("head > title"):null)}function TH(s,c,m){if(m===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function YN(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function jH(s,c,m,x){if(m.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var A=od(x.href),O=c.querySelector(kh(A));if(O){c=O._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=e0.bind(s),c.then(s,s)),m.state.loading|=4,m.instance=O,Nn(O);return}O=c.ownerDocument||c,x=FN(x),(A=na.get(A))&&lw(x,A),O=O.createElement("link"),Nn(O);var I=O;I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),pr(O,"link",x),m.instance=O}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=e0.bind(s),c.addEventListener("load",m),c.addEventListener("error",m))}}var uw=0;function OH(s,c){return s.stylesheets&&s.count===0&&n0(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var x=setTimeout(function(){if(s.stylesheets&&n0(s,s.stylesheets),s.unsuspend){var O=s.unsuspend;s.unsuspend=null,O()}},6e4+c);0<s.imgBytes&&uw===0&&(uw=62500*cH());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&n0(s,s.stylesheets),s.unsuspend)){var O=s.unsuspend;s.unsuspend=null,O()}},(s.imgBytes>uw?50:800)+c);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(x),clearTimeout(A)}}:null}function e0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)n0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var t0=null;function n0(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,t0=new Map,c.forEach(NH,s),t0=null,e0.call(s))}function NH(s,c){if(!(c.state.loading&4)){var m=t0.get(s);if(m)var x=m.get(null);else{m=new Map,t0.set(s,m);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<A.length;O++){var I=A[O];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(m.set(I.dataset.precedence,I),x=I)}x&&m.set(null,x)}A=c.instance,I=A.getAttribute("data-precedence"),O=m.get(I)||x,O===x&&m.set(null,A),m.set(I,A),this.count++,x=e0.bind(this),A.addEventListener("load",x),A.addEventListener("error",x),O?O.parentNode.insertBefore(A,O.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),c.state.loading|=4}}var Ah={$$typeof:j,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function CH(s,c,m,x,A,O,I,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.hiddenUpdates=jf(null),this.identifierPrefix=x,this.onUncaughtError=A,this.onCaughtError=O,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function KN(s,c,m,x,A,O,I,G,te,ge,we,Te){return s=new CH(s,c,m,I,te,ge,we,Te,G),c=1,O===!0&&(c|=24),O=Ar(3,null,null,c),s.current=O,O.stateNode=s,c=Hx(),c.refCount++,s.pooledCache=c,c.refCount++,O.memoizedState={element:x,isDehydrated:m,cache:c},Kx(O),s}function WN(s){return s?(s=Go,s):Go}function VN(s,c,m,x,A,O){A=WN(A),x.context===null?x.context=A:x.pendingContext=A,x=il(c),x.payload={element:m},O=O===void 0?null:O,O!==null&&(x.callback=O),m=al(s,x,c),m!==null&&(ri(m,s,c),ih(m,s,c))}function ZN(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<c?m:c}}function dw(s,c){ZN(s,c),(s=s.alternate)&&ZN(s,c)}function XN(s){if(s.tag===13||s.tag===31){var c=Ji(s,67108864);c!==null&&ri(c,s,67108864),dw(s,67108864)}}function JN(s){if(s.tag===13||s.tag===31){var c=Ti();c=Yr(c);var m=Ji(s,c);m!==null&&ri(m,s,c),dw(s,c)}}var r0=!0;function MH(s,c,m,x){var A=q.T;q.T=null;var O=J.p;try{J.p=2,fw(s,c,m,x)}finally{J.p=O,q.T=A}}function DH(s,c,m,x){var A=q.T;q.T=null;var O=J.p;try{J.p=8,fw(s,c,m,x)}finally{J.p=O,q.T=A}}function fw(s,c,m,x){if(r0){var A=hw(x);if(A===null)J_(s,c,x,i0,m),eC(s,x);else if(RH(A,s,c,m,x))x.stopPropagation();else if(eC(s,x),c&4&&-1<PH.indexOf(s)){for(;A!==null;){var O=$s(A);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var I=Ro(O.pendingLanes);if(I!==0){var G=O;for(G.pendingLanes|=2,G.entangledLanes|=2;I;){var te=1<<31-Dr(I);G.entanglements[1]|=te,I&=~te}co(O),(jt&6)===0&&(zg=$e()+500,xh(0))}}break;case 31:case 13:G=Ji(O,2),G!==null&&ri(G,O,2),Fg(),dw(O,2)}if(O=hw(x),O===null&&J_(s,c,x,i0,m),O===A)break;A=O}A!==null&&x.stopPropagation()}else J_(s,c,x,null,m)}}function hw(s){return s=ec(s),mw(s)}var i0=null;function mw(s){if(i0=null,s=$o(s),s!==null){var c=a(s);if(c===null)s=null;else{var m=c.tag;if(m===13){if(s=o(c),s!==null)return s;s=null}else if(m===31){if(s=l(c),s!==null)return s;s=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return i0=s,null}function QN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case Nt:return 2;case xt:return 8;case Jn:case gi:return 32;case bi:return 268435456;default:return 32}default:return 32}}var pw=!1,gl=null,bl=null,yl=null,Th=new Map,jh=new Map,vl=[],PH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eC(s,c){switch(s){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":bl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":Th.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":jh.delete(c.pointerId)}}function Oh(s,c,m,x,A,O){return s===null||s.nativeEvent!==O?(s={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:O,targetContainers:[A]},c!==null&&(c=$s(c),c!==null&&XN(c)),s):(s.eventSystemFlags|=x,c=s.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),s)}function RH(s,c,m,x,A){switch(c){case"focusin":return gl=Oh(gl,s,c,m,x,A),!0;case"dragenter":return bl=Oh(bl,s,c,m,x,A),!0;case"mouseover":return yl=Oh(yl,s,c,m,x,A),!0;case"pointerover":var O=A.pointerId;return Th.set(O,Oh(Th.get(O)||null,s,c,m,x,A)),!0;case"gotpointercapture":return O=A.pointerId,jh.set(O,Oh(jh.get(O)||null,s,c,m,x,A)),!0}return!1}function tC(s){var c=$o(s.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=o(m),c!==null){s.blockedOn=c,Nf(s.priority,function(){JN(m)});return}}else if(c===31){if(c=l(m),c!==null){s.blockedOn=c,Nf(s.priority,function(){JN(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function a0(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var m=hw(s.nativeEvent);if(m===null){m=s.nativeEvent;var x=new m.constructor(m.type,m);Au=x,m.target.dispatchEvent(x),Au=null}else return c=$s(m),c!==null&&XN(c),s.blockedOn=m,!1;c.shift()}return!0}function nC(s,c,m){a0(s)&&m.delete(c)}function LH(){pw=!1,gl!==null&&a0(gl)&&(gl=null),bl!==null&&a0(bl)&&(bl=null),yl!==null&&a0(yl)&&(yl=null),Th.forEach(nC),jh.forEach(nC)}function o0(s,c){s.blockedOn===c&&(s.blockedOn=null,pw||(pw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LH)))}var s0=null;function rC(s){s0!==s&&(s0=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){s0===s&&(s0=null);for(var c=0;c<s.length;c+=3){var m=s[c],x=s[c+1],A=s[c+2];if(typeof x!="function"){if(mw(x||m)===null)continue;break}var O=$s(m);O!==null&&(s.splice(c,3),c-=3,h_(O,{pending:!0,data:A,method:m.method,action:x},x,A))}}))}function ld(s){function c(te){return o0(te,s)}gl!==null&&o0(gl,s),bl!==null&&o0(bl,s),yl!==null&&o0(yl,s),Th.forEach(c),jh.forEach(c);for(var m=0;m<vl.length;m++){var x=vl[m];x.blockedOn===s&&(x.blockedOn=null)}for(;0<vl.length&&(m=vl[0],m.blockedOn===null);)tC(m),m.blockedOn===null&&vl.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var A=m[x],O=m[x+1],I=A[Qn]||null;if(typeof O=="function")I||rC(m);else if(I){var G=null;if(O&&O.hasAttribute("formAction")){if(A=O,I=O[Qn]||null)G=I.formAction;else if(mw(A)!==null)continue}else G=I.action;typeof G=="function"?m[x+1]=G:(m.splice(x,3),x-=3),rC(m)}}}function iC(){function s(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(I){return A=I})},focusReset:"manual",scroll:"manual"})}function c(){A!==null&&(A(),A=null),x||setTimeout(m,20)}function m(){if(!x&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){x=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),A!==null&&(A(),A=null)}}}function gw(s){this._internalRoot=s}l0.prototype.render=gw.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,x=Ti();VN(m,x,s,c,null,null)},l0.prototype.unmount=gw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;VN(s.current,2,null,s,null,null),Fg(),c[Io]=null}};function l0(s){this._internalRoot=s}l0.prototype.unstable_scheduleHydration=function(s){if(s){var c=Of();s={blockedOn:null,target:s,priority:c};for(var m=0;m<vl.length&&c!==0&&c<vl[m].priority;m++);vl.splice(m,0,s),m===0&&tC(s)}};var aC=t.version;if(aC!=="19.2.1")throw Error(r(527,aC,"19.2.1"));J.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(c),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var IH={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var c0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!c0.isDisabled&&c0.supportsFiber)try{qt=c0.inject(IH),mn=c0}catch{}}return Ch.createRoot=function(s,c){if(!i(s))throw Error(r(299));var m=!1,x="",A=fO,O=hO,I=mO;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),c=KN(s,1,!1,null,null,m,x,null,A,O,I,iC),s[Io]=c.current,X_(s),new gw(c)},Ch.hydrateRoot=function(s,c,m){if(!i(s))throw Error(r(299));var x=!1,A="",O=fO,I=hO,G=mO,te=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onUncaughtError!==void 0&&(O=m.onUncaughtError),m.onCaughtError!==void 0&&(I=m.onCaughtError),m.onRecoverableError!==void 0&&(G=m.onRecoverableError),m.formState!==void 0&&(te=m.formState)),c=KN(s,1,!0,c,m??null,x,A,te,O,I,G,iC),c.context=WN(null),m=c.current,x=Ti(),x=Yr(x),A=il(x),A.callback=null,al(m,A,x),m=x,c.current.lanes=m,Lo(c,m),co(c),s[Io]=c.current,X_(s),new l0(c)},Ch.version="19.2.1",Ch}var pC;function KH(){if(pC)return vw.exports;pC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vw.exports=YH(),vw.exports}var WH=KH();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gC="popstate";function VH(e={}){function t(i,a){let{pathname:o="/",search:l="",hash:u=""}=bu(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),nk("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");l=f===-1?u:u.slice(0,f)}return l+"#"+(typeof a=="string"?a:wm(a))}function r(i,a){zi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return XH(t,n,r,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZH(){return Math.random().toString(36).substring(2,10)}function bC(e,t){return{usr:e.state,key:e.key,idx:t}}function nk(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bu(t):t,state:n,key:t&&t.key||r||ZH()}}function wm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function XH(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",u=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let _=h(),T=_==null?null:_-f;f=_,u&&u({action:l,location:w.location,delta:T})}function b(_,T){l="PUSH";let N=nk(w.location,_,T);n&&n(N,_),f=h()+1;let j=bC(N,f),C=w.createHref(N);try{o.pushState(j,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(C)}a&&u&&u({action:l,location:w.location,delta:1})}function v(_,T){l="REPLACE";let N=nk(w.location,_,T);n&&n(N,_),f=h();let j=bC(N,f),C=w.createHref(N);o.replaceState(j,"",C),a&&u&&u({action:l,location:w.location,delta:0})}function S(_){return JH(_)}let w={get action(){return l},get location(){return e(i,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(gC,p),u=_,()=>{i.removeEventListener(gC,p),u=null}},createHref(_){return t(i,_)},createURL:S,encodeLocation(_){let T=S(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:v,go(_){return o.go(_)}};return w}function JH(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ln(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:wm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function c$(e,t,n="/"){return QH(e,t,n,!1)}function QH(e,t,n,r){let i=typeof t=="string"?bu(t):t,a=ys(i.pathname||"/",n);if(a==null)return null;let o=u$(e);eG(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let f=dG(a);l=cG(o[u],f,r)}return l}function u$(e,t=[],n=[],r="",i=!1){let a=(o,l,u=i,f)=>{let h={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;ln(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=ps([r,h.relativePath]),b=n.concat(h);o.children&&o.children.length>0&&(ln(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),u$(o.children,t,b,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:sG(p,o.index),routesMeta:b})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let u of d$(o.path))a(o,l,!0,u)}),t}function d$(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=d$(r.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function eG(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lG(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var tG=/^:[\w-]+$/,nG=3,rG=2,iG=1,aG=10,oG=-2,yC=e=>e==="*";function sG(e,t){let n=e.split("/"),r=n.length;return n.some(yC)&&(r+=oG),t&&(r+=rG),n.filter(i=>!yC(i)).reduce((i,a)=>i+(tG.test(a)?nG:a===""?iG:aG),r)}function lG(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function cG(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],f=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=Cb({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),b=u.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=Cb({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ps([a,p.pathname]),pathnameBase:gG(ps([a,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(a=ps([a,p.pathnameBase]))}return o}function Cb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=uG(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},b)=>{if(h==="*"){let S=l[b]||"";o=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const v=l[b];return p&&!v?f[h]=void 0:f[h]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function uG(e,t=!1,n=!0){zi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function dG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ys(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var fG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hG=e=>fG.test(e);function mG(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bu(e):e,a;if(n)if(hG(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),zi(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=vC(n.substring(1),"/"):a=vC(n,t)}else a=t;return{pathname:a,search:bG(r),hash:yG(i)}}function vC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sw(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pG(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function s2(e){let t=pG(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function l2(e,t,n,r=!1){let i;typeof e=="string"?i=bu(e):(i={...e},ln(!i.pathname||!i.pathname.includes("?"),Sw("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),Sw("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),Sw("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}l=p>=0?t[p]:"/"}let u=mG(i,l),f=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var ps=e=>e.join("/").replace(/\/\/+/g,"/"),gG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function xG(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var f$=["POST","PUT","PATCH","DELETE"];new Set(f$);var _G=["GET",...f$];new Set(_G);var sf=k.createContext(null);sf.displayName="DataRouter";var av=k.createContext(null);av.displayName="DataRouterState";k.createContext(!1);var h$=k.createContext({isTransitioning:!1});h$.displayName="ViewTransition";var wG=k.createContext(new Map);wG.displayName="Fetchers";var SG=k.createContext(null);SG.displayName="Await";var ya=k.createContext(null);ya.displayName="Navigation";var np=k.createContext(null);np.displayName="Location";var Co=k.createContext({outlet:null,matches:[],isDataRoute:!1});Co.displayName="Route";var c2=k.createContext(null);c2.displayName="RouteError";function kG(e,{relative:t}={}){ln(lf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(ya),{hash:i,pathname:a,search:o}=rp(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:ps([n,a])),r.createHref({pathname:l,search:o,hash:i})}function lf(){return k.useContext(np)!=null}function Hi(){return ln(lf(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(np).location}var m$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p$(e){k.useContext(ya).static||k.useLayoutEffect(e)}function ov(){let{isDataRoute:e}=k.useContext(Co);return e?IG():EG()}function EG(){ln(lf(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(sf),{basename:t,navigator:n}=k.useContext(ya),{matches:r}=k.useContext(Co),{pathname:i}=Hi(),a=JSON.stringify(s2(r)),o=k.useRef(!1);return p$(()=>{o.current=!0}),k.useCallback((u,f={})=>{if(zi(o.current,m$),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=l2(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ps([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,a,i,e])}k.createContext(null);function rp(e,{relative:t}={}){let{matches:n}=k.useContext(Co),{pathname:r}=Hi(),i=JSON.stringify(s2(n));return k.useMemo(()=>l2(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function AG(e,t){return g$(e,t)}function g$(e,t,n,r,i){ln(lf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=k.useContext(ya),{matches:o}=k.useContext(Co),l=o[o.length-1],u=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let N=p&&p.path||"";b$(f,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let b=Hi(),v;if(t){let N=typeof t=="string"?bu(t):t;ln(h==="/"||N.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),v=N}else v=b;let S=v.pathname||"/",w=S;if(h!=="/"){let N=h.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=c$(e,{pathname:w});zi(p||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),zi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=CG(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:ps([h,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:ps([h,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,n,r,i);return t&&T?k.createElement(np.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function TG(){let e=LG(),t=vG(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:a},"ErrorBoundary")," or"," ",k.createElement("code",{style:a},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:i},n):null,o)}var jG=k.createElement(TG,null),OG=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(Co.Provider,{value:this.props.routeContext},k.createElement(c2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NG({routeContext:e,match:t,children:n}){let r=k.useContext(sf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Co.Provider,{value:e},n)}function CG(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);ln(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:b,errors:v}=n,S=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||S){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=n&&r?(h,p)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:xG(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,b)=>{let v,S=!1,w=null,_=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||jG,l&&(u<0&&b===0?(b$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,_=null):u===b&&(S=!0,_=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,b+1)),N=()=>{let j;return v?j=w:S?j=_:p.route.Component?j=k.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,k.createElement(NG,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?k.createElement(OG,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):N()},null)}function u2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MG(e){let t=k.useContext(sf);return ln(t,u2(e)),t}function DG(e){let t=k.useContext(av);return ln(t,u2(e)),t}function PG(e){let t=k.useContext(Co);return ln(t,u2(e)),t}function d2(e){let t=PG(e),n=t.matches[t.matches.length-1];return ln(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function RG(){return d2("useRouteId")}function LG(){let e=k.useContext(c2),t=DG("useRouteError"),n=d2("useRouteError");return e!==void 0?e:t.errors?.[n]}function IG(){let{router:e}=MG("useNavigate"),t=d2("useNavigate"),n=k.useRef(!1);return p$(()=>{n.current=!0}),k.useCallback(async(i,a={})=>{zi(n.current,m$),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var xC={};function b$(e,t,n){!t&&!xC[e]&&(xC[e]=!0,zi(!1,n))}k.memo($G);function $G({routes:e,future:t,state:n,unstable_onError:r}){return g$(e,void 0,n,r,t)}function BG({to:e,replace:t,state:n,relative:r}){ln(lf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=k.useContext(ya);zi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=k.useContext(Co),{pathname:o}=Hi(),l=ov(),u=l2(e,s2(a),o,r==="path"),f=JSON.stringify(u);return k.useEffect(()=>{l(JSON.parse(f),{replace:t,state:n,relative:r})},[l,f,r,t,n]),null}function Bc(e){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zG({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){ln(!lf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[l,i,a,o]);typeof n=="string"&&(n=bu(n));let{pathname:f="/",search:h="",hash:p="",state:b=null,key:v="default"}=n,S=k.useMemo(()=>{let w=ys(f,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:b,key:v},navigationType:r}},[l,f,h,p,b,v,r]);return zi(S!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:k.createElement(ya.Provider,{value:u},k.createElement(np.Provider,{children:t,value:S}))}function UG({children:e,location:t}){return AG(rk(e),t)}function rk(e,t=[]){let n=[];return k.Children.forEach(e,(r,i)=>{if(!k.isValidElement(r))return;let a=[...t,i];if(r.type===k.Fragment){n.push.apply(n,rk(r.props.children,a));return}ln(r.type===Bc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=rk(r.props.children,a)),n.push(o)}),n}var mb="get",pb="application/x-www-form-urlencoded";function sv(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function FG(e){return sv(e)&&e.tagName.toLowerCase()==="button"}function HG(e){return sv(e)&&e.tagName.toLowerCase()==="form"}function GG(e){return sv(e)&&e.tagName.toLowerCase()==="input"}function qG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YG(e,t){return e.button===0&&(!t||t==="_self")&&!qG(e)}var u0=null;function KG(){if(u0===null)try{new FormData(document.createElement("form"),0),u0=!1}catch{u0=!0}return u0}var WG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kw(e){return e!=null&&!WG.has(e)?(zi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pb}"`),null):e}function VG(e,t){let n,r,i,a,o;if(HG(e)){let l=e.getAttribute("action");r=l?ys(l,t):null,n=e.getAttribute("method")||mb,i=kw(e.getAttribute("enctype"))||pb,a=new FormData(e)}else if(FG(e)||GG(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?ys(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||mb,i=kw(e.getAttribute("formenctype"))||kw(l.getAttribute("enctype"))||pb,a=new FormData(l,e),!KG()){let{name:f,type:h,value:p}=e;if(h==="image"){let b=f?`${f}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else f&&a.append(f,p)}}else{if(sv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mb,r=null,i=pb,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function f2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ZG(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&ys(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function XG(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JG(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function QG(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await XG(a,n);return o.links?o.links():[]}return[]}));return rq(r.flat(1).filter(JG).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function _C(e,t,n,r,i,a){let o=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,l=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,f)=>o(u,f)||l(u,f)):a==="data"?t.filter((u,f)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function eq(e,t,{includeHydrateFallback:n}={}){return tq(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function tq(e){return[...new Set(e)]}function nq(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function rq(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(nq(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function y$(){let e=k.useContext(sf);return f2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function iq(){let e=k.useContext(av);return f2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var h2=k.createContext(void 0);h2.displayName="FrameworkContext";function v$(){let e=k.useContext(h2);return f2(e,"You must render this element inside a <HydratedRouter> element"),e}function aq(e,t){let n=k.useContext(h2),[r,i]=k.useState(!1),[a,o]=k.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=t,b=k.useRef(null);k.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=T=>{T.forEach(N=>{o(N.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[e]),k.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let v=()=>{i(!0)},S=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,b,{}]:[a,b,{onFocus:Mh(l,v),onBlur:Mh(u,S),onMouseEnter:Mh(f,v),onMouseLeave:Mh(h,S),onTouchStart:Mh(p,v)}]:[!1,b,{}]}function Mh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function oq({page:e,...t}){let{router:n}=y$(),r=k.useMemo(()=>c$(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?k.createElement(lq,{page:e,matches:r,...t}):null}function sq(e){let{manifest:t,routeModules:n}=v$(),[r,i]=k.useState([]);return k.useEffect(()=>{let a=!1;return QG(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function lq({page:e,matches:t,...n}){let r=Hi(),{manifest:i,routeModules:a}=v$(),{basename:o}=y$(),{loaderData:l,matches:u}=iq(),f=k.useMemo(()=>_C(e,t,u,i,r,"data"),[e,t,u,i,r]),h=k.useMemo(()=>_C(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=k.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,w=!1;if(t.forEach(T=>{let N=i.routes[T.route.id];!N||!N.hasLoader||(!f.some(j=>j.route.id===T.route.id)&&T.route.id in l&&a[T.route.id]?.shouldRevalidate||N.hasClientLoader?w=!0:S.add(T.route.id))}),S.size===0)return[];let _=ZG(e,o,"data");return w&&S.size>0&&_.searchParams.set("_routes",t.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[_.pathname+_.search]},[o,l,r,i,f,t,e,a]),b=k.useMemo(()=>eq(h,i),[h,i]),v=sq(h);return k.createElement(k.Fragment,null,p.map(S=>k.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>k.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),v.map(({key:S,link:w})=>k.createElement("link",{key:S,nonce:n.nonce,...w})))}function cq(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var x$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x$&&(window.__reactRouterVersion="7.10.1")}catch{}function uq({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=k.useRef();i.current==null&&(i.current=VH({window:r,v5Compat:!0}));let a=i.current,[o,l]=k.useState({action:a.action,location:a.location}),u=k.useCallback(f=>{n===!1?l(f):k.startTransition(()=>l(f))},[n]);return k.useLayoutEffect(()=>a.listen(u),[a,u]),k.createElement(zG,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var _$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w$=k.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:u,to:f,preventScrollReset:h,viewTransition:p,...b},v){let{basename:S,unstable_useTransitions:w}=k.useContext(ya),_=typeof f=="string"&&_$.test(f),T,N=!1;if(typeof f=="string"&&_&&(T=f,x$))try{let K=new URL(window.location.href),H=f.startsWith("//")?new URL(K.protocol+f):new URL(f),z=ys(H.pathname,S);H.origin===K.origin&&z!=null?f=z+H.search+H.hash:N=!0}catch{zi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=kG(f,{relative:i}),[C,D,P]=aq(r,b),$=mq(f,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p,unstable_useTransitions:w});function F(K){t&&t(K),K.defaultPrevented||$(K)}let Y=k.createElement("a",{...b,...P,href:T||j,onClick:N||a?t:F,ref:cq(v,D),target:u,"data-discover":!_&&n==="render"?"true":void 0});return C&&!_?k.createElement(k.Fragment,null,Y,k.createElement(oq,{page:j})):Y});w$.displayName="Link";var dq=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:u,...f},h){let p=rp(o,{relative:f.relative}),b=Hi(),v=k.useContext(av),{navigator:S,basename:w}=k.useContext(ya),_=v!=null&&vq(p)&&l===!0,T=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,N=b.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(N=N.toLowerCase(),j=j?j.toLowerCase():null,T=T.toLowerCase()),j&&w&&(j=ys(j,w)||j);const C=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=N===T||!i&&N.startsWith(T)&&N.charAt(C)==="/",P=j!=null&&(j===T||!i&&j.startsWith(T)&&j.charAt(T.length)==="/"),$={isActive:D,isPending:P,isTransitioning:_},F=D?t:void 0,Y;typeof r=="function"?Y=r($):Y=[r,D?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a($):a;return k.createElement(w$,{...f,"aria-current":F,className:Y,ref:h,style:K,to:o,viewTransition:l},typeof u=="function"?u($):u)});dq.displayName="NavLink";var fq=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=mb,action:l,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:p,...b},v)=>{let{unstable_useTransitions:S}=k.useContext(ya),w=bq(),_=yq(l,{relative:f}),T=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&_$.test(l),j=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let D=C.nativeEvent.submitter,P=D?.getAttribute("formmethod")||o,$=()=>w(D||C.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:p});S&&n!==!1?k.startTransition(()=>$()):$()};return k.createElement("form",{ref:v,method:T,action:_,onSubmit:r?u:j,...b,"data-discover":!N&&e==="render"?"true":void 0})});fq.displayName="Form";function hq(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S$(e){let t=k.useContext(sf);return ln(t,hq(e)),t}function mq(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:l}={}){let u=ov(),f=Hi(),h=rp(e,{relative:a});return k.useCallback(p=>{if(YG(p,t)){p.preventDefault();let b=n!==void 0?n:wm(f)===wm(h),v=()=>u(e,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:o});l?k.startTransition(()=>v()):v()}},[f,u,h,n,r,t,e,i,a,o,l])}var pq=0,gq=()=>`__${String(++pq)}__`;function bq(){let{router:e}=S$("useSubmit"),{basename:t}=k.useContext(ya),n=RG(),r=e.fetch,i=e.navigate;return k.useCallback(async(a,o={})=>{let{action:l,method:u,encType:f,formData:h,body:p}=VG(a,t);if(o.navigate===!1){let b=o.fetcherKey||gq();await r(b,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await i(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function yq(e,{relative:t}={}){let{basename:n}=k.useContext(ya),r=k.useContext(Co);ln(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...rp(e||".",{relative:t})},o=Hi();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ps([n,a.pathname])),wm(a)}function vq(e,{relative:t}={}){let n=k.useContext(h$);ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=S$("useViewTransitionState"),i=rp(e,{relative:t});if(!n.isTransitioning)return!1;let a=ys(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ys(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Cb(i.pathname,o)!=null||Cb(i.pathname,a)!=null}var yu=l$();const xq=hi(yu);let _q={data:""},wq=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||_q,Sq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,kq=/\/\*[^]*?\*\/|  +/g,wC=/\n+/g,kl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?kl(o,a):a+"{"+kl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=kl(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=kl.p?kl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},as={},k$=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+k$(e[n]);return t}return e},Eq=(e,t,n,r,i)=>{let a=k$(e),o=as[a]||(as[a]=(u=>{let f=0,h=11;for(;f<u.length;)h=101*h+u.charCodeAt(f++)>>>0;return"go"+h})(a));if(!as[o]){let u=a!==e?e:(f=>{let h,p,b=[{}];for(;h=Sq.exec(f.replace(kq,""));)h[4]?b.shift():h[3]?(p=h[3].replace(wC," ").trim(),b.unshift(b[0][p]=b[0][p]||{})):b[0][h[1]]=h[2].replace(wC," ").trim();return b[0]})(e);as[o]=kl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&as.g?as.g:null;return n&&(as.g=as[o]),((u,f,h,p)=>{p?f.data=f.data.replace(p,u):f.data.indexOf(u)===-1&&(f.data=h?u+f.data:f.data+u)})(as[o],t,r,l),o},Aq=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":kl(l,""):l===!1?"":l}return r+i+(o??"")},"");function lv(e){let t=this||{},n=e.call?e(t.p):e;return Eq(n.unshift?n.raw?Aq(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,wq(t.target),t.g,t.o,t.k)}let E$,ik,ak;lv.bind({g:1});let vs=lv.bind({k:1});function Tq(e,t,n,r){kl.p=t,E$=e,ik=n,ak=r}function Bl(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),u=l.className||i.className;n.p=Object.assign({theme:ik&&ik()},l),n.o=/ *go\d+/.test(u),l.className=lv.apply(n,r)+(u?" "+u:"");let f=e;return e[0]&&(f=l.as||e,delete l.as),ak&&f[0]&&ak(l),E$(f,l)}return i}}var jq=e=>typeof e=="function",Mb=(e,t)=>jq(e)?e(t):e,Oq=(()=>{let e=0;return()=>(++e).toString()})(),A$=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Nq=20,m2="default",T$=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return T$(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},gb=[],j$={toasts:[],pausedAt:void 0,settings:{toastLimit:Nq}},xo={},O$=(e,t=m2)=>{xo[t]=T$(xo[t]||j$,e),gb.forEach(([n,r])=>{n===t&&r(xo[t])})},N$=e=>Object.keys(xo).forEach(t=>O$(e,t)),Cq=e=>Object.keys(xo).find(t=>xo[t].toasts.some(n=>n.id===e)),cv=(e=m2)=>t=>{O$(t,e)},Mq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Dq=(e={},t=m2)=>{let[n,r]=k.useState(xo[t]||j$),i=k.useRef(xo[t]);k.useEffect(()=>(i.current!==xo[t]&&r(xo[t]),gb.push([t,r]),()=>{let o=gb.findIndex(([l])=>l===t);o>-1&&gb.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,u,f;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||Mq[o.type],style:{...e.style,...(f=e[o.type])==null?void 0:f.style,...o.style}}});return{...n,toasts:a}},Pq=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||Oq()}),ip=e=>(t,n)=>{let r=Pq(t,e,n);return cv(r.toasterId||Cq(r.id))({type:2,toast:r}),r.id},Tn=(e,t)=>ip("blank")(e,t);Tn.error=ip("error");Tn.success=ip("success");Tn.loading=ip("loading");Tn.custom=ip("custom");Tn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?cv(t)(n):N$(n)};Tn.dismissAll=e=>Tn.dismiss(void 0,e);Tn.remove=(e,t)=>{let n={type:4,toastId:e};t?cv(t)(n):N$(n)};Tn.removeAll=e=>Tn.remove(void 0,e);Tn.promise=(e,t,n)=>{let r=Tn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Mb(t.success,i):void 0;return a?Tn.success(a,{id:r,...n,...n?.success}):Tn.dismiss(r),i}).catch(i=>{let a=t.error?Mb(t.error,i):void 0;a?Tn.error(a,{id:r,...n,...n?.error}):Tn.dismiss(r)}),e};var Rq=1e3,Lq=(e,t="default")=>{let{toasts:n,pausedAt:r}=Dq(e,t),i=k.useRef(new Map).current,a=k.useCallback((p,b=Rq)=>{if(i.has(p))return;let v=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},b);i.set(p,v)},[]);k.useEffect(()=>{if(r)return;let p=Date.now(),b=n.map(v=>{if(v.duration===1/0)return;let S=(v.duration||0)+v.pauseDuration-(p-v.createdAt);if(S<0){v.visible&&Tn.dismiss(v.id);return}return setTimeout(()=>Tn.dismiss(v.id,t),S)});return()=>{b.forEach(v=>v&&clearTimeout(v))}},[n,r,t]);let o=k.useCallback(cv(t),[t]),l=k.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=k.useCallback((p,b)=>{o({type:1,toast:{id:p,height:b}})},[o]),f=k.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=k.useCallback((p,b)=>{let{reverseOrder:v=!1,gutter:S=8,defaultPosition:w}=b||{},_=n.filter(j=>(j.position||w)===(p.position||w)&&j.height),T=_.findIndex(j=>j.id===p.id),N=_.filter((j,C)=>C<T&&j.visible).length;return _.filter(j=>j.visible).slice(...v?[N+1]:[0,N]).reduce((j,C)=>j+(C.height||0)+S,0)},[n]);return k.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let b=i.get(p.id);b&&(clearTimeout(b),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:f,calculateOffset:h}}},Iq=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$q=vs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bq=vs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,zq=Bl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Iq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$q} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Bq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Uq=vs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Fq=Bl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Uq} 1s linear infinite;
`,Hq=vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Gq=vs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,qq=Bl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Hq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Gq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Yq=Bl("div")`
  position: absolute;
`,Kq=Bl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Wq=vs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vq=Bl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Wq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Zq=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?k.createElement(Vq,null,t):t:n==="blank"?null:k.createElement(Kq,null,k.createElement(Fq,{...r}),n!=="loading"&&k.createElement(Yq,null,n==="error"?k.createElement(zq,{...r}):k.createElement(qq,{...r})))},Xq=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Jq=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Qq="0%{opacity:0;} 100%{opacity:1;}",eY="0%{opacity:1;} 100%{opacity:0;}",tY=Bl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,nY=Bl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,rY=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=A$()?[Qq,eY]:[Xq(n),Jq(n)];return{animation:t?`${vs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${vs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},iY=k.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?rY(e.position||t||"top-center",e.visible):{opacity:0},a=k.createElement(Zq,{toast:e}),o=k.createElement(nY,{...e.ariaProps},Mb(e.message,e));return k.createElement(tY,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):k.createElement(k.Fragment,null,a,o))});Tq(k.createElement);var aY=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=k.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return k.createElement("div",{ref:a,className:t,style:n},i)},oY=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:A$()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},sY=lv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,d0=16,C$=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:f}=Lq(n,a);return k.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:d0,left:d0,right:d0,bottom:d0,pointerEvents:"none",...o},className:l,onMouseEnter:f.startPause,onMouseLeave:f.endPause},u.map(h=>{let p=h.position||t,b=f.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),v=oY(p,b);return k.createElement(aY,{id:h.id,key:h.id,onHeightUpdate:f.updateHeight,className:h.visible?sY:"",style:v},h.type==="custom"?Mb(h.message,h):i?i(h):k.createElement(iY,{toast:h,position:p}))}))},_o=Tn;function lY(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),l=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+l+o-1524.5}const cY=864e5;function uY(e){const t=(e-24405875e-1)*cY;return new Date(t)}function dY(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function fY(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),l=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*l)+n;let f=l-1;f>12&&(f-=12);let h=a-4715;return f>2&&(h-=1),[h,f,u]}const mm=Math.PI,Kc=mm/180,hY=180/mm,mY=86400;function pY(e){return e%=360,e<0?e+360:e}function gY(e,t){return(e-t+540)%360-180}function SC(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function bY(e){const[t,n]=fY(e);return e+dY(t,Math.round(n))/mY}function kC(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,l,u]of e[i])a+=o*Math.cos(l+u*t);n+=a*r,r*=t}return n*1e-8}function yY(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*Kc,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*Kc,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*Kc,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*Kc,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*Kc,l=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,f=0;for(const[h,p,b,v,S,w,_,T,N]of l){const j=h*n+p*r+b*i+v*a+S*o;u+=(w+_*t)*Math.sin(j),f+=(T+N*t)*Math.cos(j)}return u*=1e-4,f*=1e-4,{dpsi:u,deps:f}}function f0(e){const t=bY(e),n=(t-2451545)/365250,r=kC(EC.L,n),i=kC(EC.R,n);let a=r+mm;a>2*mm&&(a-=2*mm);const{dpsi:o}=yY(t),l=o/3600*Kc,u=20.4898/(3600*i),f=a+l-u*Kc;return pY(f*hY)}function _n(e,t,n){const r=(t%360+360)%360,i=lY(e,1,1),a=f0(i);let o=r-a;o<0&&(o+=360);let l=i+o/.98564736;const u=1e-6,f=5e-6;for(let b=0;b<25;b++){const v=f0(l),S=gY(r,v);if(Math.abs(S)<u)break;const w=f0(l+f),_=f0(l-f),T=SC(w,v),N=SC(_,v),j=(T-N)/(2*f);l+=S/j}const h=uY(l),p=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),0,0);if(Number.isFinite(n)){const b=n/15-9;if(Math.abs(b)>1e-12)return new Date(p.getTime()+b*36e5)}return p}const EC={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},vY=(e,t)=>(e%t+t)%t,M$=(e,t)=>(e%t+t)%t,D$=e=>e instanceof Date&&!Number.isNaN(e.getTime()),AC=new Map;function P$(e,t=127.5){const n=`${e}@${t}`,r=AC.get(n);if(r)return r;const i=_n(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return AC.set(n,i),i}function R$(e,t=127.5){if(!D$(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=P$(n,t),i=e<r?n-1:n,a=vY(i-4,60);return{useYear:i,index60Num:a}}const Hr=["","","","","","","","","",""],ui=["","","","","","","","","","","",""],ok={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Ka={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},xY=["","","","","","","","","",""],_Y=["","","","","","","","","","","",""],wY=["","","","","","","","","","","","","","","","","","","",""],SY=["","","","","","","","","","","","","","","","","","","","","","","",""],Fd=new Set(Hr),Sm=new Set(ui),Bn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Kn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},p2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Db=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],kY={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},EY={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function at(e,t=127.5){const{index60Num:n}=R$(e,t);return p2[n]}function AY(e,t=127.5){return(at(e,t)||"").charAt(0)}const TY=[2,4,6,8,0,2,4,6,8,0];function jY(e,t=127.5){const n=new Array(12);return n[0]=P$(e,t),n[1]=_n(e,345,t),n[2]=_n(e,15,t),n[3]=_n(e,45,t),n[4]=_n(e,75,t),n[5]=_n(e,105,t),n[6]=_n(e,135,t),n[7]=_n(e,165,t),n[8]=_n(e,195,t),n[9]=_n(e,225,t),n[10]=_n(e,255,t),n[11]=_n(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function OY(e,t=127.5){const{useYear:n}=R$(e,t),r=jY(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function NY(e,t=127.5){const n=AY(e,t),r=ok..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return TY[r]}function CY(e,t,n=127.5){return(NY(e,n)+(t-1))%10}function _t(e,t=127.5){if(!D$(e))return"";const{monthIndex:n}=OY(e,t),r=(2+(n-1))%12,i=ok.[r],a=CY(e,n,t);return ok.[a]+i}const Pb={JDN:2445731,idx:0};function L$(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),l=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+l-1524.5}function MY(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=RY(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function DY(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function ft(e,t){const n=MY(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=L$(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=M$(a-Pb.JDN+Pb.idx,60),l=p2[o];if(!l)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return l}function PY(e,t){const n=new Date(e),r=DY(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=L$(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),l=M$(o-Pb.JDN+Pb.idx,60),u=p2[l];if(!u)throw new Error(`getDayGanZhi: idx=${l} out of range (jdn=${o}, jd=${a})`);return u}function RY(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Db.length;n+=1){const{branch:r,start:i,end:a}=Db[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function LY(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Db.length;n+=1){const{branch:r,start:i,end:a}=Db[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function IY(e,t,n,r){const i=Hr.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),Hr[a]}function Fa(e,t,n){e instanceof Date||(e=new Date(e));const r=LY(e),i=ui.indexOf(r),o=(n??ft(e,t)).charAt(0);return IY(e,o,i,t)+r}const TC=e=>{let t;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const b=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,b))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=t=e(r,i,l);return l},$Y=(e=>e?TC(e):TC),BY=e=>e;function zY(e,t=BY){const n=Wt.useSyncExternalStore(e.subscribe,Wt.useCallback(()=>t(e.getState()),[e,t]),Wt.useCallback(()=>t(e.getInitialState()),[e,t]));return Wt.useDebugValue(n),n}const jC=e=>{const t=$Y(e),n=r=>zY(t,r);return Object.assign(n,t),n},Mo=(e=>e?jC(e):jC);function UY(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const sk=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return sk(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return sk(r)(n)}}}},FY=(e,t)=>(n,r,i)=>{let a={storage:UY(()=>localStorage),partialize:w=>w,version:0,merge:(w,_)=>({..._,...w}),...t},o=!1;const l=new Set,u=new Set;let f=a.storage;if(!f)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const h=()=>{const w=a.partialize({...r()});return f.setItem(a.name,{state:w,version:a.version})},p=i.setState;i.setState=(w,_)=>(p(w,_),h());const b=e((...w)=>(n(...w),h()),r,i);i.getInitialState=()=>b;let v;const S=()=>{var w,_;if(!f)return;o=!1,l.forEach(N=>{var j;return N((j=r())!=null?j:b)});const T=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(w=r())!=null?w:b))||void 0;return sk(f.getItem.bind(f))(a.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==a.version){if(a.migrate){const j=a.migrate(N.state,N.version);return j instanceof Promise?j.then(C=>[!0,C]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var j;const[C,D]=N;if(v=a.merge(D,(j=r())!=null?j:b),n(v,!0),C)return h()}).then(()=>{T?.(v,void 0),v=r(),o=!0,u.forEach(N=>N(v))}).catch(N=>{T?.(void 0,N)})};return i.persist={setOptions:w=>{a={...a,...w},w.storage&&(f=w.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>S(),hasHydrated:()=>o,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},a.skipHydration||S(),v||b},I$=FY;var os={},h0={},lk=function(e,t){return lk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},lk(e,t)};function $$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");lk(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Rb=function(){return Rb=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Rb.apply(this,arguments)};function cf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function B$(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function z$(e,t){return function(n,r){t(n,r,e)}}function U$(e,t,n,r,i,a){function o(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,h=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),p,b=!1,v=n.length-1;v>=0;v--){var S={};for(var w in r)S[w]=w==="access"?{}:r[w];for(var w in r.access)S.access[w]=r.access[w];S.addInitializer=function(T){if(b)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(T||null))};var _=(0,n[v])(l==="accessor"?{get:h.get,set:h.set}:h[u],S);if(l==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(p=o(_.get))&&(h.get=p),(p=o(_.set))&&(h.set=p),(p=o(_.init))&&i.unshift(p)}else(p=o(_))&&(l==="field"?i.unshift(p):h[u]=p)}f&&Object.defineProperty(f,r.name,h),b=!0}function F$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function H$(e){return typeof e=="symbol"?e:"".concat(e)}function G$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function q$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Fe(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{f(r.next(h))}catch(p){o(p)}}function u(h){try{f(r.throw(h))}catch(p){o(p)}}function f(h){h.done?a(h.value):i(h.value).then(l,u)}f((r=r.apply(e,t||[])).next())})}function Y$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(h){return u([f,h])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(h){f=[6,h],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var uv=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function K$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&uv(t,e,n)}function Lb(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g2(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function W$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g2(arguments[t]));return e}function V$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,i++)r[i]=a[o];return r}function Z$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Hd(e){return this instanceof Hd?(this.v=e,this):new Hd(e)}function X$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(S){return Promise.resolve(S).then(v,p)}}function l(v,S){r[v]&&(i[v]=function(w){return new Promise(function(_,T){a.push([v,w,_,T])>1||u(v,w)})},S&&(i[v]=S(i[v])))}function u(v,S){try{f(r[v](S))}catch(w){b(a[0][3],w)}}function f(v){v.value instanceof Hd?Promise.resolve(v.value.v).then(h,p):b(a[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function b(v,S){v(S),a.shift(),a.length&&u(a[0][0],a[0][1])}}function J$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:Hd(e[i](o)),done:!1}:a?a(o):o}:a}}function Q$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Lb=="function"?Lb(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(l,u){o=e[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(f){a({value:f,done:l})},o)}}function eB(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var HY=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},ck=function(e){return ck=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},ck(e)};function tB(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=ck(e),r=0;r<n.length;r++)n[r]!=="default"&&uv(t,e,n[r]);return HY(t,e),t}function nB(e){return e&&e.__esModule?e:{default:e}}function rB(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function iB(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function aB(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function oB(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var GY=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function sB(e){function t(a){e.error=e.hasError?new GY(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function lB(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const qY={__extends:$$,__assign:Rb,__rest:cf,__decorate:B$,__param:z$,__esDecorate:U$,__runInitializers:F$,__propKey:H$,__setFunctionName:G$,__metadata:q$,__awaiter:Fe,__generator:Y$,__createBinding:uv,__exportStar:K$,__values:Lb,__read:g2,__spread:W$,__spreadArrays:V$,__spreadArray:Z$,__await:Hd,__asyncGenerator:X$,__asyncDelegator:J$,__asyncValues:Q$,__makeTemplateObject:eB,__importStar:tB,__importDefault:nB,__classPrivateFieldGet:rB,__classPrivateFieldSet:iB,__classPrivateFieldIn:aB,__addDisposableResource:oB,__disposeResources:sB,__rewriteRelativeImportExtension:lB},YY=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:oB,get __assign(){return Rb},__asyncDelegator:J$,__asyncGenerator:X$,__asyncValues:Q$,__await:Hd,__awaiter:Fe,__classPrivateFieldGet:rB,__classPrivateFieldIn:aB,__classPrivateFieldSet:iB,__createBinding:uv,__decorate:B$,__disposeResources:sB,__esDecorate:U$,__exportStar:K$,__extends:$$,__generator:Y$,__importDefault:nB,__importStar:tB,__makeTemplateObject:eB,__metadata:q$,__param:z$,__propKey:H$,__read:g2,__rest:cf,__rewriteRelativeImportExtension:lB,__runInitializers:F$,__setFunctionName:G$,__spread:W$,__spreadArray:Z$,__spreadArrays:V$,__values:Lb,default:qY},Symbol.toStringTag,{value:"Module"})),KY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let dv=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},cB=class extends dv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},uk=class extends dv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},dk=class extends dv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Ib;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ib||(Ib={}));class WY{constructor(t,{headers:n={},customFetch:r,region:i=Ib.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=KY(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Fe(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:u,body:f,signal:h,timeout:p}=r;let b={},{region:v}=r;v||(v=this.region);const S=new URL(`${this.url}/${n}`);v&&v!=="any"&&(b["x-region"]=v,S.searchParams.set("forceFunctionRegion",v));let w;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(b["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(b["Content-Type"]="application/json",w=JSON.stringify(f)):w=f;let _=h;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),h?(_=o.signal,h.addEventListener("abort",()=>o.abort())):_=o.signal);const T=yield this.fetch(S.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),l),body:w,signal:_}).catch(D=>{throw new cB(D)}),N=T.headers.get("x-relay-error");if(N&&N==="true")throw new uk(T);if(!T.ok)throw new dk(T);let j=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return j==="application/json"?C=yield T.json():j==="application/octet-stream"||j==="application/pdf"?C=yield T.blob():j==="text/event-stream"?C=T:j==="multipart/form-data"?C=yield T.formData():C=yield T.text(),{data:C,error:null,response:T}}catch(l){return{data:null,error:l,response:l instanceof dk||l instanceof uk?l.context:void 0}}finally{a&&clearTimeout(a)}})}}const VY=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ib},FunctionsClient:WY,FunctionsError:dv,FunctionsFetchError:cB,FunctionsHttpError:dk,FunctionsRelayError:uk},Symbol.toStringTag,{value:"Module"})),uB=tp(VY);var jr={};const uf=tp(YY);var m0={},p0={},g0={},b0={},y0={},v0={},OC;function dB(){if(OC)return v0;OC=1,Object.defineProperty(v0,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return v0.default=e,v0}var NC;function fB(){if(NC)return y0;NC=1,Object.defineProperty(y0,"__esModule",{value:!0});const t=uf.__importDefault(dB());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,h,p,b;let v=null,S=null,w=null,_=u.status,T=u.statusText;if(u.ok){if(this.method!=="HEAD"){const D=await u.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=D:S=JSON.parse(D))}const j=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");j&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(v={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,w=null,_=406,T="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const j=await u.text();try{v=JSON.parse(j),Array.isArray(v)&&u.status===404&&(S=[],v=null,_=200,T="OK")}catch{u.status===404&&j===""?(_=204,T="No Content"):v={message:j}}if(v&&this.isMaybeSingle&&(!((b=v?.details)===null||b===void 0)&&b.includes("0 rows"))&&(v=null,_=200,T="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:S,count:w,status:_,statusText:T}});return this.shouldThrowOnError||(l=l.catch(u=>{var f,h,p,b,v,S;let w="";const _=u?.cause;if(_){const T=(f=_?.message)!==null&&f!==void 0?f:"",N=(h=_?.code)!==null&&h!==void 0?h:"";w=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,w+=`

Caused by: ${(b=_?.name)!==null&&b!==void 0?b:"Error"}: ${T}`,N&&(w+=` (${N})`),_?.stack&&(w+=`
${_.stack}`)}else w=(v=u?.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(S=u?.name)!==null&&S!==void 0?S:"FetchError"}: ${u?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}};return y0.default=n,y0}var CC;function hB(){if(CC)return b0;CC=1,Object.defineProperty(b0,"__esModule",{value:!0});const t=uf.__importDefault(fB());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:f="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),b=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${b}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return b0.default=n,b0}var MC;function b2(){if(MC)return g0;MC=1,Object.defineProperty(g0,"__esModule",{value:!0});const t=uf.__importDefault(hB()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${f}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}};return g0.default=r,g0}var DC;function mB(){if(DC)return p0;DC=1,Object.defineProperty(p0,"__esModule",{value:!0});const t=uf.__importDefault(b2());let n=class{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},u=o?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((b,v)=>b.concat(Object.keys(v)),[]);if(p.length>0){const b=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return p0.default=n,p0}var PC;function ZY(){if(PC)return m0;PC=1,Object.defineProperty(m0,"__esModule",{value:!0});const e=uf,t=e.__importDefault(mB()),n=e.__importDefault(b2());let r=class pB{constructor(a,{headers:o={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new pB(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:u=!1,count:f}={}){var h;let p;const b=new URL(`${this.url}/rpc/${a}`);let v;l||u?(p=l?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{b.searchParams.append(w,_)})):(p="POST",v=o);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new n.default({method:p,url:b,headers:S,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return m0.default=r,m0}var RC;function gB(){if(RC)return jr;RC=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.PostgrestError=jr.PostgrestBuilder=jr.PostgrestTransformBuilder=jr.PostgrestFilterBuilder=jr.PostgrestQueryBuilder=jr.PostgrestClient=void 0;const e=uf,t=e.__importDefault(ZY());jr.PostgrestClient=t.default;const n=e.__importDefault(mB());jr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(b2());jr.PostgrestFilterBuilder=r.default;const i=e.__importDefault(hB());jr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(fB());jr.PostgrestBuilder=a.default;const o=e.__importDefault(dB());return jr.PostgrestError=o.default,jr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},jr}class bB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const XY="2.86.2",JY=`realtime-js/${XY}`,yB="1.0.0",QY="2.0.0",LC=yB,fk=1e4,eK=1e3,tK=100;var Wc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wc||(Wc={}));var Ln;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ln||(Ln={}));var Pa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pa||(Pa={}));var hk;(function(e){e.websocket="websocket"})(hk||(hk={}));var Vc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vc||(Vc={}));class nK{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+f.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+b);let S=new DataView(v),w=0;S.setUint8(w++,this.KINDS.userBroadcastPush),S.setUint8(w++,u.length),S.setUint8(w++,l.length),S.setUint8(w++,o.length),S.setUint8(w++,f.length),S.setUint8(w++,p.length),S.setUint8(w++,n),Array.from(u,T=>S.setUint8(w++,T.charCodeAt(0))),Array.from(l,T=>S.setUint8(w++,T.charCodeAt(0))),Array.from(o,T=>S.setUint8(w++,T.charCodeAt(0))),Array.from(f,T=>S.setUint8(w++,T.charCodeAt(0))),Array.from(p,T=>S.setUint8(w++,T.charCodeAt(0)));var _=new Uint8Array(v.byteLength+r.byteLength);return _.set(new Uint8Array(v),0),_.set(new Uint8Array(r),v.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,u]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(t.slice(u,u+i));u=u+i;const h=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const b=t.slice(u,t.byteLength),v=l===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,S={type:this.BROADCAST_EVENT,event:h,payload:v};return o>0&&(S.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class vB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const IC=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=rK(o,e,t,i),a),{}):{}},rK=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?xB(a,o):mk(o)},xB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return sK(t,n)}switch(e){case Yt.bool:return iK(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return aK(t);case Yt.json:case Yt.jsonb:return oK(t);case Yt.timestamp:return lK(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return mk(t);default:return mk(t)}},mk=e=>e,iK=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},aK=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},oK=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},sK=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>xB(t,l))}return e},lK=e=>typeof e=="string"?e.replace(" ","T"):e,_B=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ew{constructor(t,n,r={},i=fk){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pk||(pk={}));let wB=class bb{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bb.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=bb.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=bb.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(a,(f,h)=>{o[f]||(u[f]=h)}),this.map(o,(f,h)=>{const p=a[f];if(p){const b=h.map(_=>_.presence_ref),v=p.map(_=>_.presence_ref),S=h.filter(_=>v.indexOf(_.presence_ref)<0),w=p.filter(_=>b.indexOf(_.presence_ref)<0);S.length>0&&(l[f]=S),w.length>0&&(u[f]=w)}else l[f]=h}),this.syncDiff(a,{joins:l,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,u)=>{var f;const h=(f=t[l])!==null&&f!==void 0?f:[];if(t[l]=this.cloneDeep(u),h.length>0){const p=t[l].map(v=>v.presence_ref),b=h.filter(v=>p.indexOf(v.presence_ref)<0);t[l].unshift(...b)}r(l,h,u)}),this.map(o,(l,u)=>{let f=t[l];if(!f)return;const h=u.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),t[l]=f,i(l,f,u),f.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var gk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gk||(gk={}));var Pd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pd||(Pd={}));var po;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(po||(po={}));const cK=Ln;let SB=class kB{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ew(this,Pa.join,this.params,this.timeout),this.rejoinTimer=new vB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ln.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new wB(this),this.broadcastEndpointURL=_B(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ln.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Pd.PRESENCE]&&this.bindings[Pd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},b={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(po.CHANNEL_ERROR,v)),this._onClose(()=>t?.(po.CLOSED)),this.updateJoinPayload(Object.assign({config:b},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var S;if(this.socket.setAuth(),v===void 0){t?.(po.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(S=w?.length)!==null&&S!==void 0?S:0,T=[];for(let N=0;N<_;N++){const j=w[N],{filter:{event:C,schema:D,table:P,filter:$}}=j,F=v&&v[N];if(F&&F.event===C&&F.schema===D&&F.table===P&&F.filter===$)T.push(Object.assign(Object.assign({},j),{id:F.id}));else{this.unsubscribe(),this.state=Ln.errored,t?.(po.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(po.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ln.errored,t?.(po.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(po.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ln.joined&&t===Pd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const f=await l.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ln.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ew(this,Pa.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ln.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ew(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>tK){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:f,join:h}=Pa;if(r&&[l,u,f,h].indexOf(o)>=0&&r!==this._joinRef())return;let b=this._onMessage(o,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var S,w,_;return((S=v.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(w=v.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(b,r)):(a=this.bindings[o])===null||a===void 0||a.filter(v=>{var S,w,_,T,N,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const C=v.id,D=(S=v.filter)===null||S===void 0?void 0:S.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(D==="*"||D?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(N=(T=v?.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return C==="*"||C===((j=n?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:w,table:_,commit_timestamp:T,type:N,errors:j}=S;b=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:T,eventType:N,new:{},old:{},errors:j}),this._getPayloadRecords(S))}v.callback(b,r)})}_isClosed(){return this.state===Ln.closed}_isJoined(){return this.state===Ln.joined}_isJoining(){return this.state===Ln.joining}_isLeaving(){return this.state===Ln.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&kB.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pa.close,{},t)}_onError(t){this._on(Pa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ln.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=IC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=IC(t.columns,t.old_record)),n}};const Aw=()=>{},x0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uK=[1e3,2e3,5e3,1e4],dK=1e4,fK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let hK=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fk,this.transport=null,this.heartbeatIntervalMs=x0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Aw,this.ref=0,this.reconnectTimer=null,this.vsn=LC,this.logger=Aw,this.conn=null,this.sendBuffer=[],this.serializer=new nK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${hk.websocket}`,this.httpEndpoint=_B(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wc.connecting:return Vc.Connecting;case Wc.open:return Vc.Open;case Wc.closing:return Vc.Closing;default:return Vc.Closed}}isConnected(){return this.connectionState()===Vc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new SB(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(eK,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},x0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wc.open||this.conn.readyState===Wc.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([fK],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:JY};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Pa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new vB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},x0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,u,f,h,p,b,v;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:fk,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:x0.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:Aw,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:LC,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(S=>uK[S-1]||dK),this.vsn){case yB:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((S,w)=>w(JSON.stringify(S))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((S,w)=>w(JSON.parse(S)));break;case QY:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const mK=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:cK,get REALTIME_LISTEN_TYPES(){return Pd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return gk},get REALTIME_PRESENCE_LISTEN_EVENTS(){return pk},get REALTIME_SUBSCRIBE_STATES(){return po},RealtimeChannel:SB,RealtimeClient:hK,RealtimePresence:wB,WebSocketFactory:bB},Symbol.toStringTag,{value:"Module"})),EB=tp(mK);class ap extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class AB extends ap{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $b extends ap{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const y2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pK=()=>Response,bk=e=>{if(Array.isArray(e))return e.map(n=>bk(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=bk(r)}),t},gK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bK=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Tw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},yK=(e,t,n)=>Fe(void 0,void 0,void 0,function*(){const r=yield pK();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new AB(Tw(i),a,o))}).catch(i=>{t(new $b(Tw(i),i))}):t(new $b(Tw(e),e))}),vK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(gK(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function op(e,t,n,r,i,a){return Fe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,vK(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>yK(u,l,r))})})}function km(e,t,n,r){return Fe(this,void 0,void 0,function*(){return op(e,"GET",t,n,r)})}function Da(e,t,n,r,i){return Fe(this,void 0,void 0,function*(){return op(e,"POST",t,r,i,n)})}function yk(e,t,n,r,i){return Fe(this,void 0,void 0,function*(){return op(e,"PUT",t,r,i,n)})}function xK(e,t,n,r){return Fe(this,void 0,void 0,function*(){return op(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function v2(e,t,n,r,i){return Fe(this,void 0,void 0,function*(){return op(e,"DELETE",t,r,i,n)})}class _K{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Fe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}var TB;class wK{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[TB]="BlobDownloadBuilder",this.promise=null}asStream(){return new _K(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Fe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}TB=Symbol.toStringTag;const SK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$C={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kK{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=y2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Fe(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},$C),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),p=yield(t=="PUT"?yk:Da)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Fe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const f=Object.assign({upsert:$C.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const p=yield yk(this.fetch,l.toString(),u,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(nn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Fe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Da(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new ap("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Fe(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Fe(this,void 0,void 0,function*(){try{return{data:{path:(yield Da(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Fe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Da(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Fe(this,void 0,void 0,function*(){try{const i=yield Da(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),u=()=>km(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new wK(u,this.shouldThrowOnError)}info(t){return Fe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield km(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:bk(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}exists(t){return Fe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield xK(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r)&&r instanceof $b){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${f}`)}}}remove(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield v2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Fe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},SK),n),{prefix:t||""});return{data:yield Da(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Fe(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Da(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const jB="2.86.2",OB={"X-Client-Info":`storage-js/${jB}`};class EK{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},OB),n),this.fetch=y2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Fe(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield km(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}getBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield km(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}createBucket(t){return Fe(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Fe(this,void 0,void 0,function*(){try{return{data:yield yk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield v2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Em=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function AK(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function TK(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function jK(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=AK(e.baseUrl,r,i),u=await TK(e.auth),f=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),h=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),b=p&&h?JSON.parse(h):h;if(!f.ok){const v=p?b:void 0,S=v?.error;throw new Em(S?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:S?.type,icebergCode:S?.code,details:v})}return{status:f.status,headers:f.headers,data:b}}}}function _0(e){return e.join("")}var OK=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:_0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_0(e.namespace)}`}),!0}catch(t){if(t instanceof Em&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Em&&n.status===409)return;throw n}}};function cd(e){return e.join("")}var NK=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cd(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cd(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cd(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cd(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cd(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cd(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Em&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Em&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},CK=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=jK({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new OK(this.client,t),this.tableOps=new NK(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class NB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},OB),n),this.fetch=y2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Fe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield km(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield v2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}from(t){if(!bK(t))throw new ap("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new CK({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Fe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const x2={"X-Client-Info":`storage-js/${jB}`,"Content-Type":"application/json"};class _2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function li(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class yb extends _2{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class CB extends _2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var vk;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(vk||(vk={}));const fv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),MK=()=>Response,MB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},DK=e=>Array.from(new Float32Array(e)),PK=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},BC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RK=(e,t,n)=>Fe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";t(new yb(BC(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new yb(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new yb(l,i,o))}}else t(new CB(BC(e),e))}),LK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(MB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function IK(e,t,n,r,i,a){return Fe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,LK(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>RK(u,l,r))})})}function Di(e,t,n,r,i){return Fe(this,void 0,void 0,function*(){return IK(e,"POST",t,r,i,n)})}class DB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},x2),n),this.fetch=fv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Fe(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}listIndexes(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}}class PB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},x2),n),this.fetch=fv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Di(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}getVectors(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}listVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Di(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}queryVectors(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Di(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}}class RB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},x2),n),this.fetch=fv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}getBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}listBuckets(){return Fe(this,arguments,void 0,function*(t={}){try{return{data:yield Di(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}}class LB extends RB{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new IB(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Fe(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Fe(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Fe(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Fe(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class IB extends DB{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Fe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Fe(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Fe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Fe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new $B(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class $B extends PB{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Fe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Fe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Fe(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Fe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Fe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $K extends EK{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new kK(this.url,this.headers,t,this.fetch)}get vectors(){return new LB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new NB(this.url+"/iceberg",this.headers,this.fetch)}}const BK=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:NB,StorageApiError:AB,StorageClient:$K,StorageError:ap,StorageUnknownError:$b,StorageVectorsApiError:yb,StorageVectorsClient:LB,StorageVectorsError:_2,get StorageVectorsErrorCode(){return vk},StorageVectorsUnknownError:CB,VectorBucketApi:RB,VectorBucketScope:IB,VectorDataApi:PB,VectorIndexApi:DB,VectorIndexScope:$B,isPlainObject:MB,isStorageError:nn,isStorageVectorsError:li,normalizeToFloat32:DK,resolveFetch:fv,resolveResponse:MK,validateVectorDimension:PK},Symbol.toStringTag,{value:"Module"})),zK=tp(BK);var jw={},Dh={},zC;function UK(){return zC||(zC=1,Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.version=void 0,Dh.version="2.86.2"),Dh}var UC;function FK(){return UC||(UC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=UK();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(jw)),jw}var Ow={},FC;function HK(){return FC||(FC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const l=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(f,h)=>{var p;const b=(p=await a())!==null&&p!==void 0?p:i;let v=new u(h?.headers);return v.has("apikey")||v.set("apikey",i),v.has("Authorization")||v.set("Authorization",`Bearer ${b}`),l(f,Object.assign(Object.assign({},h),{headers:v}))}};e.fetchWithAuth=r})(Ow)),Ow}var ss={},HC;function GK(){if(HC)return ss;HC=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.isBrowser=void 0,ss.uuid=e,ss.ensureTrailingSlash=t,ss.applySettingDefaults=r,ss.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,l=a=="x"?o:o&3|8;return l.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";ss.isBrowser=n;function r(a,o){var l,u;const{db:f,auth:h,realtime:p,global:b}=a,{db:v,auth:S,realtime:w,global:_}=o,T={db:Object.assign(Object.assign({},v),f),auth:Object.assign(Object.assign({},S),h),realtime:Object.assign(Object.assign({},w),p),storage:{},global:Object.assign(Object.assign(Object.assign({},_),b),{headers:Object.assign(Object.assign({},(l=_?.headers)!==null&&l!==void 0?l:{}),(u=b?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?T.accessToken=a.accessToken:delete T.accessToken,T}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ss}var Ph={};const BB="2.86.2",Sd=30*1e3,xk=3,Nw=xk*Sd,qK="http://localhost:9999",YK="supabase.auth.token",KK={"X-Client-Info":`gotrue-js/${BB}`},_k="X-Supabase-Api-Version",zB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,VK=600*1e3;let Gd=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let UB=class extends Gd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function FB(e){return qe(e)&&e.name==="AuthApiError"}let El=class extends Gd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Ts=class extends Gd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ii=class extends Ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function HB(e){return qe(e)&&e.name==="AuthSessionMissingError"}let zc=class extends Ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},am=class extends Ts{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},om=class extends Ts{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function GB(e){return qe(e)&&e.name==="AuthImplicitGrantRedirectError"}let wk=class extends Ts{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Bb=class extends Ts{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function vb(e){return qe(e)&&e.name==="AuthRetryableFetchError"}let Sk=class extends Ts{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function ZK(e){return qe(e)&&e.name==="AuthWeakPasswordError"}let zb=class extends Ts{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ub="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),GC=` 	
\r=`.split(""),XK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<GC.length;t+=1)e[GC[t].charCodeAt(0)]=-2;for(let t=0;t<Ub.length;t+=1)e[Ub[t].charCodeAt(0)]=t;return e})();function qC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ub[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ub[r]),t.queuedBits-=6}}function qB(e,t,n){const r=XK[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function YC(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{eW(o,r,n)};for(let o=0;o<e.length;o+=1)qB(e.charCodeAt(o),i,a);return t.join("")}function JK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function QK(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}JK(r,t)}}function eW(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Rd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)qB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function tW(e){const t=[];return QK(e,n=>t.push(n)),new Uint8Array(t)}function Jc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>qC(i,n,r)),qC(null,n,r),t.join("")}function nW(e){return Math.round(Date.now()/1e3)+e}function rW(){return Symbol("auth-callback")}const yr=()=>typeof window<"u"&&typeof document<"u",Nc={tested:!1,writable:!1},YB=()=>{if(!yr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nc.tested)return Nc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Nc.tested=!0,Nc.writable=!0}catch{Nc.tested=!0,Nc.writable=!1}return Nc.writable};function iW(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const KB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",kd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Cc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gr=async(e,t)=>{await e.removeItem(t)};class hv{constructor(){this.promise=new hv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}hv.promiseConstructor=Promise;function Cw(e){const t=e.split(".");if(t.length!==3)throw new zb("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!WK.test(t[r]))throw new zb("JWT not in base64url format");return{header:JSON.parse(YC(t[0])),payload:JSON.parse(YC(t[1])),signature:Rd(t[2]),raw:{header:t[0],payload:t[1]}}}async function oW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sW(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function lW(e){return("0"+e.toString(16)).substr(-2)}function cW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,lW).join("")}async function uW(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function dW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await uW(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ud(e,t,n=!1){const r=cW();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await kd(e,`${t}-code-verifier`,i);const a=await dW(r);return[a,r===a?"plain":"s256"]}const fW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hW(e){const t=e.headers.get(_k);if(!t||!t.match(fW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function mW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function pW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dd(e){if(!gW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bW(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function KC(e){return JSON.parse(JSON.stringify(e))}const Uc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yW=[502,503,504];async function WC(e){var t;if(!aW(e))throw new Bb(Uc(e),0);if(yW.includes(e.status))throw new Bb(Uc(e),e.status);let n;try{n=await e.json()}catch(a){throw new El(Uc(a),a)}let r;const i=hW(e);if(i&&i.getTime()>=zB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Sk(Uc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ii}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Sk(Uc(n),e.status,n.weak_password.reasons);throw new UB(Uc(n),e.status||500,r)}const vW=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function nt(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[_k]||(a[_k]=zB["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await xW(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function xW(e,t,n,r,i,a){const o=vW(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Bb(Uc(u),0)}if(l.ok||await WC(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await WC(u)}}function Ma(e){var t;let n=null;SW(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=nW(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function VC(e){const t=Ma(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Al(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _W(e){return{data:e,error:null}}function wW(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=cf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function ZC(e){return e}function SW(e){return e.access_token&&e.refresh_token&&e.expires_in}const xb=["global","local","others"];let w2=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=KB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=xb[0]){if(xb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xb.join(", ")}`);try{return await nt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Al})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=cf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:wW,redirectTo:n?.redirectTo})}catch(n){if(qe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Al})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,u;try{const f={nextPage:null,lastPage:0,total:0},h=await nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:ZC});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=w}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(qe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){dd(t);try{return await nt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Al})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){dd(t);try{return await nt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Al})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){dd(t);try{return await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Al})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){dd(t.userId);try{const{data:n,error:r}=await nt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){dd(t.userId),dd(t.id);try{return{data:await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,u;try{const f={nextPage:null,lastPage:0,total:0},h=await nt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:ZC});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=w}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(qe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await nt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await nt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await nt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}};function XC(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Fc={debug:!!(globalThis&&YB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class S2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let WB=class extends S2{};class kW extends S2{}async function VB(e,t,n){Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new WB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const JC={};async function EW(e,t,n){var r;const i=(r=JC[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new kW(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return JC[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function AW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ZB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function TW(e){return parseInt(e,16)}function jW(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function OW(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:u,resources:f,scheme:h,uri:p,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=ZB(e.address),S=h?`${h}://${r}`:r,w=e.statement?`${e.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${v}

${w}`;let T=`URI: ${p}
Version: ${b}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),l&&(T+=`
Not Before: ${l.toISOString()}`),u&&(T+=`
Request ID: ${u}`),f){let N=`
Resources:`;for(const j of f){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);N+=`
- ${j}`}T+=N}return`${_}
${T}`}class In extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Fb extends In{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function NW({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new In({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new In({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new In({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new In({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new In({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new In({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new In({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new In({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(XB(o)){if(a.rp.id!==o)return new In({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new In({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new In({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new In({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new In({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function CW({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new In({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new In({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(XB(r)){if(n.rpId!==r)return new In({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new In({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new In({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new In({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class MW{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const DW=new MW;function PW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=cf(e,["challenge","user","excludeCredentials"]),a=Rd(t).buffer,o=Object.assign(Object.assign({},n),{id:Rd(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:Rd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function RW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=cf(e,["challenge","allowCredentials"]),i=Rd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Rd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function LW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Jc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Jc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function IW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Jc(new Uint8Array(i.authenticatorData)),clientDataJSON:Jc(new Uint8Array(i.clientDataJSON)),signature:Jc(new Uint8Array(i.signature)),userHandle:i.userHandle?Jc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function QC(){var e,t;return!!(yr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function $W(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fb("Browser returned unexpected credential type",t)}:{data:null,error:new Fb("Empty credential response",t)}}catch(t){return{data:null,error:NW({error:t,options:e})}}}async function BW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fb("Browser returned unexpected credential type",t)}:{data:null,error:new Fb("Empty credential response",t)}}catch(t){return{data:null,error:CW({error:t,options:e})}}}const zW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},UW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hb(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=Hb(l,o):r[a]=Hb(o)}else r[a]=o}return r}function FW(e,t){return Hb(zW,e,t||{})}function HW(e,t){return Hb(UW,e,t||{})}class GW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=i??DW.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=FW(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:p}=await $W({publicKey:f,signal:u});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=HW(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:p}=await BW(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:u}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return qe(o)?{data:null,error:o}:{data:null,error:new El("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Gd("rpId is required for WebAuthn authentication")};try{if(!QC())return{data:null,error:new El("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return qe(o)?{data:null,error:o}:{data:null,error:new El("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Gd("rpId is required for WebAuthn registration")};try{if(!QC())return{data:null,error:new El("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(o){return qe(o)?{data:null,error:o}:{data:null,error:new El("Unexpected error in register",o)}}}}AW();const qW={url:qK,storageKey:YK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function eM(e,t,n){return await n()}const fd={};let k2=class kk{get jwks(){var t,n;return(n=(t=fd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){fd[this.storageKey]=Object.assign(Object.assign({},fd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=fd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){fd[this.storageKey]=Object.assign(Object.assign({},fd[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},qW),t);if(this.storageKey=a.storageKey,this.instanceID=(n=kk.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,kk.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&yr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new w2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=KB(a.fetch),this.lock=a.lock||eM,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:yr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=VB:this.lock=eM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new GW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:YB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=XC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=XC(this.memoryStorage)),yr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${BB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(yr()&&(n=iW(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),yr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),GB(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return qe(n)?this._returnResult({error:n}):this._returnResult({error:new El("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ma}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:p,options:b}=t;let v=null,S=null;this.flowType==="pkce"&&([v,S]=await ud(this.storage,this.storageKey)),a=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:h,password:p,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:v,code_challenge_method:S},xform:Ma})}else if("phone"in t){const{phone:h,password:p,options:b}=t;a=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ma})}else throw new am("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await gr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:VC})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:VC})}else throw new am("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new zc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,u,f,h,p,b;let v,S;if("message"in t)v=t.message,S=t.signature;else{const{chain:w,wallet:_,statement:T,options:N}=t;let j;if(yr())if(typeof _=="object")j=_;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")j=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=_}const C=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),D=await j.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=ZB(D[0]);let $=(r=N?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const Y=await j.request({method:"eth_chainId"});$=TW(Y)}const F={domain:C.host,address:P,statement:T,uri:C.href,version:"1",chainId:$,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=OW(F),S=await j.request({method:"personal_sign",params:[jW(v),P]})}try{const{data:w,error:_}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:S},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ma});if(_)throw _;if(!w||!w.session||!w.user){const T=new zc;return this._returnResult({data:{user:null,session:null},error:T})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(qe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,i,a,o,l,u,f,h,p,b,v;let S,w;if("message"in t)S=t.message,w=t.signature;else{const{chain:_,wallet:T,statement:N,options:j}=t;let C;if(yr())if(typeof T=="object")C=T;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=T}const D=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),N?{statement:N}:null));let $;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")$=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)$=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)S=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),w=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${D.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=j?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((u=j?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((f=j?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((p=(h=j?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...j.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(S),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:_,error:T}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Jc(w)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ma});if(T)throw T;if(!_||!_.session||!_.user){const N=new zc;return this._returnResult({data:{user:null,session:null},error:N})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:T})}catch(_){if(qe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await Cc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ma});if(await gr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new zc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),qe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ma}),{data:u,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const h=new zc;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:u}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await ud(this.storage,this.storageKey));const{error:p}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:f,error:h}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new am("You must provide either an email or phone number.")}catch(l){if(await gr(this.storage,`${this.storageKey}-code-verifier`),qe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ma});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,f=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await ud(this.storage,this.storageKey));const f=await nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:_W});return!((a=f.data)===null||a===void 0)&&a.url&&yr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(l){if(await gr(this.storage,`${this.storageKey}-code-verifier`),qe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ii;const{error:i}=await nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(qe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await nt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await nt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new am("You must provide either an email or phone number and a type")}catch(n){if(qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Cc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Nw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Cc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Mw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=bW(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Al}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ii}:await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Al})})}catch(n){if(qe(n))return HB(n)&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ii;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await ud(this.storage,this.storageKey));const{data:f,error:h}=await nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Al});if(h)throw h;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await gr(this.storage,`${this.storageKey}-code-verifier`),qe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ii;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Cw(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ii;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!yr())throw new om("No browser detected.");if(t.error||t.error_description||t.error_code)throw new om(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new wk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new om("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wk("No code detected.");const{data:N,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:f}=t;if(!a||!l||!o||!f)throw new om("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let b=h+p;u&&(b=parseInt(u));const v=b-h;v*1e3<=Sd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const S=b-p;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,h);const{data:w,error:_}=await this._getUser(a);if(_)throw _;const T={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:b,refresh_token:o,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(r){if(qe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Cc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(FB(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=rW(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ud(this.storage,this.storageKey,!0));try{return await nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),qe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,u,f,h;const{data:p,error:b}=a;if(b)throw b;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await nt(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return yr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(qe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:u,access_token:f,nonce:h}=t,p=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ma}),{data:b,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new zc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:v}))}catch(i){if(await gr(this.storage,`${this.storageKey}-code-verifier`),qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await nt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await sW(async i=>(i>0&&await oW(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ma})),(i,a)=>{const o=200*Math.pow(2,i);return a&&vb(a)&&Date.now()+o-r<Sd})}catch(r){if(this._debug(n,"error",r),qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Cc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Cc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await kd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Mw()}else if(i&&!i.user&&!i.user){const o=await Cc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await gr(this.storage,this.storageKey+"-user"),await kd(this.storage,this.storageKey,i)):i.user=Mw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Nw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Nw}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),vb(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ii;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new hv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ii;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),qe(a)){const o={data:null,error:a};return vb(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await kd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=KC(i);await kd(this.storage,this.storageKey,a)}else{const i=KC(n);await kd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gr(this.storage,this.storageKey),await gr(this.storage,this.storageKey+"-code-verifier"),await gr(this.storage,this.storageKey+"-user"),this.userStorage&&await gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Sd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Sd}ms, refresh threshold is ${xk} ticks`),i<=xk&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof S2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await ud(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await nt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:f}=await nt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?LW(t.webauthn.credential_response):IW(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:PW(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:RW(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Cw(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await nt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ii})})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ii});const o=await nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&yr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ii});const o=await nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&yr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await nt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ii})})}catch(t){if(qe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await nt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ii})})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+VK>i)return r;const{data:a,error:o}=await nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:S}=await this.getSession();if(S||!v.session)return this._returnResult({data:null,error:S});r=v.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:u}}=Cw(r);n?.allowExpired||mW(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:a,header:i,signature:o},error:null}}const h=pW(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,tW(`${l}.${u}`)))throw new zb("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}};k2.nextInstanceID={};const YW=w2,KW=k2,WW=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:YW,AuthApiError:UB,AuthClient:KW,AuthError:Gd,AuthImplicitGrantRedirectError:om,AuthInvalidCredentialsError:am,AuthInvalidJwtError:zb,AuthInvalidTokenResponseError:zc,AuthPKCEGrantCodeExchangeError:wk,AuthRetryableFetchError:Bb,AuthSessionMissingError:ii,AuthUnknownError:El,AuthWeakPasswordError:Sk,CustomAuthError:Ts,GoTrueAdminApi:w2,GoTrueClient:k2,NavigatorLockAcquireTimeoutError:WB,SIGN_OUT_SCOPES:xb,isAuthApiError:FB,isAuthError:qe,isAuthImplicitGrantRedirectError:GB,isAuthRetryableFetchError:vb,isAuthSessionMissingError:HB,isAuthWeakPasswordError:ZK,lockInternals:Fc,navigatorLock:VB,processLock:EW},Symbol.toStringTag,{value:"Module"})),JB=tp(WW);var tM;function VW(){if(tM)return Ph;tM=1,Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.SupabaseAuthClient=void 0;const e=JB;let t=class extends e.AuthClient{constructor(r){super(r)}};return Ph.SupabaseAuthClient=t,Ph}var nM;function rM(){if(nM)return h0;nM=1,Object.defineProperty(h0,"__esModule",{value:!0});const e=uB,t=gB(),n=EB,r=zK,i=FK(),a=HK(),o=GK(),l=VW();class u{constructor(h,p,b){var v,S,w;this.supabaseUrl=h,this.supabaseKey=p;const _=(0,o.validateSupabaseUrl)(h);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const T=`sb-${_.hostname.split(".")[0]}-auth-token`,N={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:T}),global:i.DEFAULT_GLOBAL_OPTIONS},j=(0,o.applySettingDefaults)(b??{},N);this.storageKey=(v=j.auth.storageKey)!==null&&v!==void 0?v:"",this.headers=(S=j.global.headers)!==null&&S!==void 0?S:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(C,D)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(D)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((w=j.auth)!==null&&w!==void 0?w:{},this.headers,j.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.accessToken&&this.accessToken().then(C=>this.realtime.setAuth(C)).catch(C=>console.warn("Failed to set initial Realtime auth token:",C)),this.rest=new t.PostgrestClient(new URL("rest/v1",_).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),j.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,p={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,p,b)}channel(h,p={config:{}}){return this.realtime.channel(h,p)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,p;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(p=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:v,userStorage:S,storageKey:w,flowType:_,lock:T,debug:N,throwOnError:j},C,D){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),C),storageKey:w,autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:v,userStorage:S,flowType:_,lock:T,debug:N,throwOnError:j,fetch:D,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,b)=>{this._handleTokenChanged(p,"CLIENT",b?.access_token)})}_handleTokenChanged(h,p,b){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return h0.default=u,h0}var iM;function ZW(){return iM||(iM=1,(function(e){var t=os&&os.__createBinding||(Object.create?(function(h,p,b,v){v===void 0&&(v=b);var S=Object.getOwnPropertyDescriptor(p,b);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(h,v,S)}):(function(h,p,b,v){v===void 0&&(v=b),h[v]=p[b]})),n=os&&os.__exportStar||function(h,p){for(var b in h)b!=="default"&&!Object.prototype.hasOwnProperty.call(p,b)&&t(p,h,b)},r=os&&os.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(rM());n(JB,e);var a=gB();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=uB;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(EB,e);var l=rM();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const u=(h,p,b)=>new i.default(h,p,b);e.createClient=u;function f(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const p=h.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(os)),os}var QB=ZW();const e5=hi(QB),XW=o2({__proto__:null,default:e5},[QB]),{PostgrestError:aOe,FunctionsHttpError:oOe,FunctionsFetchError:sOe,FunctionsRelayError:lOe,FunctionsError:cOe,FunctionRegion:uOe,SupabaseClient:dOe,createClient:JW,GoTrueAdminApi:fOe,GoTrueClient:hOe,AuthAdminApi:mOe,AuthClient:pOe,navigatorLock:gOe,NavigatorLockAcquireTimeoutError:bOe,lockInternals:yOe,processLock:vOe,SIGN_OUT_SCOPES:xOe,AuthError:_Oe,AuthApiError:wOe,AuthUnknownError:SOe,CustomAuthError:kOe,AuthSessionMissingError:EOe,AuthInvalidTokenResponseError:AOe,AuthInvalidCredentialsError:TOe,AuthImplicitGrantRedirectError:jOe,AuthPKCEGrantCodeExchangeError:OOe,AuthRetryableFetchError:NOe,AuthWeakPasswordError:COe,AuthInvalidJwtError:MOe,isAuthError:DOe,isAuthApiError:POe,isAuthSessionMissingError:ROe,isAuthImplicitGrantRedirectError:LOe,isAuthRetryableFetchError:IOe,isAuthWeakPasswordError:$Oe,RealtimePresence:BOe,RealtimeChannel:zOe,RealtimeClient:UOe,REALTIME_LISTEN_TYPES:FOe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:HOe,REALTIME_PRESENCE_LISTEN_EVENTS:GOe,REALTIME_SUBSCRIBE_STATES:qOe,REALTIME_CHANNEL_STATES:YOe}=e5||XW,QW="https://jouhybyquybxbnqztxum.supabase.co",eV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",Me=JW(QW,eV,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),t5="settings_v1",Ek=()=>{try{typeof window<"u"&&window.localStorage.removeItem(t5)}catch{}},Qc={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},aM=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],tV=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&aM.includes(r)):[],n=aM.filter(r=>!t.includes(r));return[...t,...n]},Ld=e=>({...Qc,...e,sectionOrder:tV(e.sectionOrder)}),nV=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Ld(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Ld(n.settings)}}return Ld(e??{})},rV=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};Ek();const jn=Mo()(I$((e,t)=>({settings:Qc,syncing:!1,loaded:!1,setSettings:n=>e({settings:Ld(n)}),setKey:(n,r)=>e({settings:Ld({...t().settings,[n]:r})}),reset:()=>e({settings:Qc,loaded:!0}),loadFromServer:async n=>{const r=t();if(!r.syncing&&!(!n?.force&&r.loaded))try{e({syncing:!0}),Ek();const{data:i,error:a}=await Me.auth.getUser(),o=i?.user??null;if(a||!o){e({settings:Qc,syncing:!1,loaded:!0});return}const l=t();!n?.force&&l.loaded&&l.syncing;const{data:u,error:f}=await Me.from("user_settings").select("payload").eq("user_id",o.id).maybeSingle();if(!u&&!f&&await Me.from("user_settings").upsert({user_id:o.id,payload:{}}),f&&f.code!=="PGRST116"){console.error("loadFromServer(settings) error:",f),e({syncing:!1,loaded:!0});return}if(u?.payload){const h=nV(u.payload);e({settings:h,syncing:!1,loaded:!0}),rV(u.payload)&&await Me.from("user_settings").upsert({user_id:o.id,payload:h,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(i){console.error("loadFromServer(settings) exception:",i),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),Ek();const{data:r,error:i}=await Me.auth.getUser(),a=r?.user??null;if(i||!a){e({syncing:!1,loaded:!0,settings:Qc});return}const o=Ld(t().settings),{error:l}=await Me.from("user_settings").upsert({user_id:a.id,payload:o,updated_at:new Date().toISOString()});l&&console.error("saveToServer(settings) error:",l),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1,loaded:!0})}}}),{name:t5,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function Ak(e){const t=Hr.indexOf(e);if(t!==-1)return Hr[t];const n=Ka..indexOf(e);return n!==-1?Hr[n]:null}function n5(e){const t=ui.indexOf(e);if(t!==-1)return ui[t];const n=Ka..indexOf(e);return n!==-1?ui[n]:null}function oM(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Ui(e,t,n){if(t==="stem"){const r=Ak(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=Hr.indexOf(r),a=i>=0?xY[i]:void 0;return oM(a,n)}else{const r=n5(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=ui.indexOf(r),a=i>=0?_Y[i]:void 0;return oM(a,n)}}function ma(e,t){const n=Ak(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=Ak(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return kY[n][r]}if(t.branch){const r=n5(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return EY[n][r]}throw new Error("getSipSin: stem or branch required")}const mv={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},pv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function r5({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?pv:mv)[e]??[],l=n==="main"?[o[2]]:o,u=i==="white",f=u?"text-white":"text-neutral-800 dark:text-white",h=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:l.map((b,v)=>b==="(-)"||a?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${h} ${f} rounded text-center text-nowrap`,children:"(-) ()"},v):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${h} ${f} rounded text-center text-nowrap 
            ${n==="main"||v===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[b," (",ma(t,{stem:b}),")"]},v))})}const sp=Mo(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),i5=Object.fromEntries(Object.entries(Bn).map(([e,t])=>[t,e])),a5=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),iV=new Set(Object.keys(Bn)),aV=new Set(Object.keys(Kn)),oV=new Set(["","","","","","","","","",""]),sV=new Set(["","","","","","","","","","","",""]);function di(e,t,n){return n===""?t==="stem"?Bn[e]??e:Kn[e]??e:t==="stem"?i5[e]??e:a5[e]??e}function sM(e){const t=i5[e]??e;return iV.has(t)?t:""}function lV(e){const t=a5[e]??e;return aV.has(t)?t:""}function gv(e){if(Fd.has(e))return e;const t=Bn[e]??e;return Fd.has(t)?t:""}function E2(e){if(Sm.has(e))return e;const t=Kn[e]??e;return Sm.has(t)?t:""}function Ha(e,t){return t==="stem"?oV.has(e):sV.has(e)}function Ad({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:l=!1,size:u="sm",variant:f="auto",isUnknownTime:h=!1}){const{manualHour:p}=sp(),b=h&&!p,v=t.charAt(0),S=t.charAt(1),w=di(v,"stem",r.charType),_=di(S,"branch",r.charType),T=sM(v),N=lV(S),j=sM(n),C=E2(S),D=gv(n),P=r.showSipSin?ma(j,{stem:T}):null,$=!o&&r.showSipSin?ma(j,{branch:N}):null,F=r.thinEum&&Ha(v,"stem")?"font-thin":"font-bold",Y=r.thinEum&&Ha(S,"branch")?"font-thin":"font-bold",K={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},H=!l&&!!r.hiddenStem,z=r.hiddenStem==="regular"?"main":"all",V=r.hiddenStemMode==="hgc"?"hgc":"classic",Z=f==="white",X=Z?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",q=Z?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",J=Z?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",ne=Z?"text-neutral-500":"text-neutral-400",de=Z?"text-neutral-500":"text-neutral-400",{settings:oe}=jn(),B=b?`bg-white ${J}`:`${Ui(T,"stem",oe)} ${J}`,W=b?`bg-white ${J}`:`${Ui(N,"branch",oe)} ${J}`,ie=b?"text-black":oe.difficultyMode?oe.theme==="light"?"text-neutral-900":"text-black":"text-white",Q=b?"text-black":oe.difficultyMode?oe.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${X}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${q} text-nowrap`,children:e}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[P&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ne} text-nowrap`,children:h&&!p?"-":P}),g.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${ie} ${F}`,children:b?"-":w})}),g.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${W}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${Q} ${Y}`,children:b?"-":_})}),H&&g.jsx(r5,{branch:C,dayStem:D,mode:z,mapping:V,isUnknownTime:h&&!p&&(e===""||e==="")}),$&&g.jsx("div",{className:`text-[10px] desk:text-xs ${de}`,children:h&&!p?"-":$}),r.showSibiUnseong&&g.jsx("div",{className:`text-[10px] desk:text-xs ${de} text-nowrap`,children:h&&!p?"-":i||""}),r.showSibiSinsal&&g.jsx("div",{className:`text-[10px] desk:text-xs ${de} text-nowrap`,children:h&&!p?"-":a||""})]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uV=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),lM=e=>{const t=uV(e);return t.charAt(0).toUpperCase()+t.slice(1)},o5=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),dV=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>k.createElement("svg",{ref:u,...fV,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:o5("lucide",i),...!a&&!dV(l)&&{"aria-hidden":"true"},...l},[...o.map(([f,h])=>k.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=(e,t)=>{const n=k.forwardRef(({className:r,...i},a)=>k.createElement(hV,{ref:a,iconNode:t,className:o5(`lucide-${cV(lM(e))}`,`lucide-${e}`,r),...i}));return n.displayName=lM(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pV=Mr("chevron-down",mV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bV=Mr("chevron-up",gV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s5=Mr("circle-question-mark",yV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xV=Mr("circle-x",vV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],wV=Mr("heart-handshake",_V);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],kV=Mr("house",SV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],AV=Mr("info",EV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],A2=Mr("log-in",TV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],l5=Mr("log-out",jV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],NV=Mr("menu",OV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],MV=Mr("plus",CV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PV=Mr("settings",DV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],LV=Mr("square-user",RV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],c5=Mr("star",IV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],BV=Mr("user-plus",$V);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gb=Mr("x",zV);function UV(){const[e,t]=k.useState(!1);return g.jsx("div",{className:"z-[60] pointer-events-none mt-2",children:g.jsx("div",{className:"max-w-[700px] w-full mx-auto pb-2 pointer-events-auto",children:g.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/90 backdrop-blur shadow-sm dark:border-neutral-800 dark:bg-neutral-950/80",children:[g.jsxs("button",{type:"button",onClick:()=>t(n=>!n),className:"w-full flex flex-col desk:flex-row items-center justify-between gap-2 px-3 py-2 cursor-pointer",children:[g.jsx("div",{className:"flex items-center gap-2 min-w-0",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(AV,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300 hidden desk:block"}),g.jsx("span",{className:"text-xs text-neutral-700 dark:text-neutral-200",children:"         ."})]})}),g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:e?"":""})]}),e&&g.jsx("div",{className:"px-3 pb-3",children:g.jsxs("div",{className:"text-[12px] leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{className:"mt-1 text-neutral-500 dark:text-neutral-400",children:"  /     ."}),g.jsx("p",{children:g.jsx("a",{href:"https://yavares.tistory.com/1013",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"     !"})})})]})})]})})})}const FV=new Set(Ka.);function HV(e){return Fd.has(e)?e:FV.has(e)?Bn[e]:""}function GV(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function qV({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,l=t.showSipSin&&!n;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,f)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},f))}),l&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function YV(){const e=jn(_=>_.settings),[t,n]=k.useState(new Date),[r,i]=k.useState(!0),[a,o]=k.useState("/"),[l,u]=k.useState(!1),[f,h]=k.useState(null);k.useEffect(()=>{if(!r)return;const _=setInterval(()=>n(new Date),1e3);return()=>clearInterval(_)},[r]),k.useEffect(()=>{let _=!0;const T=async()=>{const{data:C}=await Me.auth.getSession(),D=C.session?.user?.id;if(!D){_&&h(null);return}const{data:P,error:$}=await Me.from("user_activity").select("total_active_ms").eq("user_id",D).maybeSingle();if($){_&&h(null);return}const F=P?.total_active_ms;_&&h(typeof F=="number"?F:null)};T();const N=window.setInterval(()=>void T(),6e4),j=()=>{document.visibilityState==="visible"&&T()};return document.addEventListener("visibilitychange",j),()=>{_=!1,window.clearInterval(N),document.removeEventListener("visibilitychange",j)}},[]);const p=at(t),b=_t(t),v=ft(t,a),S=Fa(t,"/"),w=HV(v.charAt(0));return g.jsx("div",{className:"flex justify-center items-center pt-16 desk:mt-12 w-full h-auto desk:h-[calc(100dvh_-_212px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("div",{className:"mb-3 text-xs desk:text-sm text-neutral-600 dark:text-neutral-300",children:["  :"," ",g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:GV(f)})]}),g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",VV(t)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:a,onChange:_=>o(_.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"",children:" ( 23)"}),g.jsx("option",{value:"/",children:"/ ()"}),g.jsx("option",{value:"",children:" ( 3)"})]}),g.jsx("button",{onClick:()=>u(_=>!_),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                          ${l?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[l?g.jsx(qV,{label:"",settings:e,hideBranchSipSin:!0}):g.jsx(Ad,{label:"",gz:S,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Ad,{label:"",gz:v,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Ad,{label:"",gz:b,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Ad,{label:"",gz:p,dayStem:w,settings:e,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"datetime-local",value:KV(t),disabled:r,onChange:_=>{const T=WV(_.target.value);T&&n(T)},className:`h-30 rounded px-3 py-1 text-sm transition-colors
                          bg-white dark:bg-neutral-900
                          border border-neutral-300 dark:border-neutral-700
                          text-neutral-900 dark:text-neutral-100
                          focus:outline-none focus:ring-2 focus:ring-amber-500/40
                          ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),g.jsx(UV,{})]})})}function KV(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function WV(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,l]=n.split(":").map(Number),u=new Date(r,i-1,a,o,l);return Number.isNaN(u.getTime())?null:u}function VV(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function ZV({placeholderText:e,value:t}){const[n,r]=k.useState(e),[i,a]=k.useState(!1),[o,l]=k.useState(t??""),u=k.useRef(null),f=k.useRef(null),h=k.useRef(null),p=k.useRef(null);return k.useEffect(()=>{t!==void 0&&l(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:l,nameRef:u,latRef:f,lonRef:h,triggerBtnRef:p}}var sm={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var XV=sm.exports,cM;function JV(){return cM||(cM=1,(function(e,t){(function(n,r){r(t)})(XV,(function(n){var r="1.9.4";function i(d){var y,E,M,R;for(E=1,M=arguments.length;E<M;E++){R=arguments[E];for(y in R)d[y]=R[y]}return d}var a=Object.create||(function(){function d(){}return function(y){return d.prototype=y,new d}})();function o(d,y){var E=Array.prototype.slice;if(d.bind)return d.bind.apply(d,E.call(arguments,1));var M=E.call(arguments,2);return function(){return d.apply(y,M.length?M.concat(E.call(arguments)):arguments)}}var l=0;function u(d){return"_leaflet_id"in d||(d._leaflet_id=++l),d._leaflet_id}function f(d,y,E){var M,R,U,ee;return ee=function(){M=!1,R&&(U.apply(E,R),R=!1)},U=function(){M?R=arguments:(d.apply(E,arguments),setTimeout(ee,y),M=!0)},U}function h(d,y,E){var M=y[1],R=y[0],U=M-R;return d===M&&E?d:((d-R)%U+U)%U+R}function p(){return!1}function b(d,y){if(y===!1)return d;var E=Math.pow(10,y===void 0?6:y);return Math.round(d*E)/E}function v(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function S(d){return v(d).split(/\s+/)}function w(d,y){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var E in y)d.options[E]=y[E];return d.options}function _(d,y,E){var M=[];for(var R in d)M.push(encodeURIComponent(E?R.toUpperCase():R)+"="+encodeURIComponent(d[R]));return(!y||y.indexOf("?")===-1?"?":"&")+M.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function N(d,y){return d.replace(T,function(E,M){var R=y[M];if(R===void 0)throw new Error("No value provided for variable "+E);return typeof R=="function"&&(R=R(y)),R})}var j=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function C(d,y){for(var E=0;E<d.length;E++)if(d[E]===y)return E;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var $=0;function F(d){var y=+new Date,E=Math.max(0,16-(y-$));return $=y+E,window.setTimeout(d,E)}var Y=window.requestAnimationFrame||P("RequestAnimationFrame")||F,K=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function H(d,y,E){if(E&&Y===F)d.call(y);else return Y.call(window,o(d,y))}function z(d){d&&K.call(window,d)}var V={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:u,throttle:f,wrapNum:h,falseFn:p,formatNum:b,trim:v,splitWords:S,setOptions:w,getParamString:_,template:N,isArray:j,indexOf:C,emptyImageUrl:D,requestFn:Y,cancelFn:K,requestAnimFrame:H,cancelAnimFrame:z};function Z(){}Z.extend=function(d){var y=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=y.__super__=this.prototype,M=a(E);M.constructor=y,y.prototype=M;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(y[R]=this[R]);return d.statics&&i(y,d.statics),d.includes&&(X(d.includes),i.apply(null,[M].concat(d.includes))),i(M,d),delete M.statics,delete M.includes,M.options&&(M.options=E.options?a(E.options):{},i(M.options,d.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var U=0,ee=M._initHooks.length;U<ee;U++)M._initHooks[U].call(this)}},y},Z.include=function(d){var y=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=y,this.mergeOptions(d.options)),this},Z.mergeOptions=function(d){return i(this.prototype.options,d),this},Z.addInitHook=function(d){var y=Array.prototype.slice.call(arguments,1),E=typeof d=="function"?d:function(){this[d].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function X(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=j(d)?d:[d];for(var y=0;y<d.length;y++)d[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(d,y,E){if(typeof d=="object")for(var M in d)this._on(M,d[M],y);else{d=S(d);for(var R=0,U=d.length;R<U;R++)this._on(d[R],y,E)}return this},off:function(d,y,E){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var M in d)this._off(M,d[M],y);else{d=S(d);for(var R=arguments.length===1,U=0,ee=d.length;U<ee;U++)R?this._off(d[U]):this._off(d[U],y,E)}return this},_on:function(d,y,E,M){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(d,y,E)===!1){E===this&&(E=void 0);var R={fn:y,ctx:E};M&&(R.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(R)}},_off:function(d,y,E){var M,R,U;if(this._events&&(M=this._events[d],!!M)){if(arguments.length===1){if(this._firingCount)for(R=0,U=M.length;R<U;R++)M[R].fn=p;delete this._events[d];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var ee=this._listens(d,y,E);if(ee!==!1){var ce=M[ee];this._firingCount&&(ce.fn=p,this._events[d]=M=M.slice()),M.splice(ee,1)}}},fire:function(d,y,E){if(!this.listens(d,E))return this;var M=i({},y,{type:d,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var R=this._events[d];if(R){this._firingCount=this._firingCount+1||1;for(var U=0,ee=R.length;U<ee;U++){var ce=R[U],be=ce.fn;ce.once&&this.off(d,be,ce.ctx),be.call(ce.ctx||this,M)}this._firingCount--}}return E&&this._propagateEvent(M),this},listens:function(d,y,E,M){typeof d!="string"&&console.warn('"string" type argument expected');var R=y;typeof y!="function"&&(M=!!y,R=void 0,E=void 0);var U=this._events&&this._events[d];if(U&&U.length&&this._listens(d,R,E)!==!1)return!0;if(M){for(var ee in this._eventParents)if(this._eventParents[ee].listens(d,y,E,M))return!0}return!1},_listens:function(d,y,E){if(!this._events)return!1;var M=this._events[d]||[];if(!y)return!!M.length;E===this&&(E=void 0);for(var R=0,U=M.length;R<U;R++)if(M[R].fn===y&&M[R].ctx===E)return R;return!1},once:function(d,y,E){if(typeof d=="object")for(var M in d)this._on(M,d[M],y,!0);else{d=S(d);for(var R=0,U=d.length;R<U;R++)this._on(d[R],y,E,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[u(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[u(d)],this},_propagateEvent:function(d){for(var y in this._eventParents)this._eventParents[y].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var J=Z.extend(q);function ne(d,y,E){this.x=E?Math.round(d):d,this.y=E?Math.round(y):y}var de=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(d){return this.clone()._add(oe(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(oe(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new ne(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new ne(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=de(this.x),this.y=de(this.y),this},distanceTo:function(d){d=oe(d);var y=d.x-this.x,E=d.y-this.y;return Math.sqrt(y*y+E*E)},equals:function(d){return d=oe(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=oe(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function oe(d,y,E){return d instanceof ne?d:j(d)?new ne(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new ne(d.x,d.y):new ne(d,y,E)}function B(d,y){if(d)for(var E=y?[d,y]:d,M=0,R=E.length;M<R;M++)this.extend(E[M])}B.prototype={extend:function(d){var y,E;if(!d)return this;if(d instanceof ne||typeof d[0]=="number"||"x"in d)y=E=oe(d);else if(d=W(d),y=d.min,E=d.max,!y||!E)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=E.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(d){return oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return oe(this.min.x,this.max.y)},getTopRight:function(){return oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var y,E;return typeof d[0]=="number"||d instanceof ne?d=oe(d):d=W(d),d instanceof B?(y=d.min,E=d.max):y=E=d,y.x>=this.min.x&&E.x<=this.max.x&&y.y>=this.min.y&&E.y<=this.max.y},intersects:function(d){d=W(d);var y=this.min,E=this.max,M=d.min,R=d.max,U=R.x>=y.x&&M.x<=E.x,ee=R.y>=y.y&&M.y<=E.y;return U&&ee},overlaps:function(d){d=W(d);var y=this.min,E=this.max,M=d.min,R=d.max,U=R.x>y.x&&M.x<E.x,ee=R.y>y.y&&M.y<E.y;return U&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var y=this.min,E=this.max,M=Math.abs(y.x-E.x)*d,R=Math.abs(y.y-E.y)*d;return W(oe(y.x-M,y.y-R),oe(E.x+M,E.y+R))},equals:function(d){return d?(d=W(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function W(d,y){return!d||d instanceof B?d:new B(d,y)}function ie(d,y){if(d)for(var E=y?[d,y]:d,M=0,R=E.length;M<R;M++)this.extend(E[M])}ie.prototype={extend:function(d){var y=this._southWest,E=this._northEast,M,R;if(d instanceof se)M=d,R=d;else if(d instanceof ie){if(M=d._southWest,R=d._northEast,!M||!R)return this}else return d?this.extend(he(d)||Q(d)):this;return!y&&!E?(this._southWest=new se(M.lat,M.lng),this._northEast=new se(R.lat,R.lng)):(y.lat=Math.min(M.lat,y.lat),y.lng=Math.min(M.lng,y.lng),E.lat=Math.max(R.lat,E.lat),E.lng=Math.max(R.lng,E.lng)),this},pad:function(d){var y=this._southWest,E=this._northEast,M=Math.abs(y.lat-E.lat)*d,R=Math.abs(y.lng-E.lng)*d;return new ie(new se(y.lat-M,y.lng-R),new se(E.lat+M,E.lng+R))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof se||"lat"in d?d=he(d):d=Q(d);var y=this._southWest,E=this._northEast,M,R;return d instanceof ie?(M=d.getSouthWest(),R=d.getNorthEast()):M=R=d,M.lat>=y.lat&&R.lat<=E.lat&&M.lng>=y.lng&&R.lng<=E.lng},intersects:function(d){d=Q(d);var y=this._southWest,E=this._northEast,M=d.getSouthWest(),R=d.getNorthEast(),U=R.lat>=y.lat&&M.lat<=E.lat,ee=R.lng>=y.lng&&M.lng<=E.lng;return U&&ee},overlaps:function(d){d=Q(d);var y=this._southWest,E=this._northEast,M=d.getSouthWest(),R=d.getNorthEast(),U=R.lat>y.lat&&M.lat<E.lat,ee=R.lng>y.lng&&M.lng<E.lng;return U&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,y){return d?(d=Q(d),this._southWest.equals(d.getSouthWest(),y)&&this._northEast.equals(d.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Q(d,y){return d instanceof ie?d:new ie(d,y)}function se(d,y,E){if(isNaN(d)||isNaN(y))throw new Error("Invalid LatLng object: ("+d+", "+y+")");this.lat=+d,this.lng=+y,E!==void 0&&(this.alt=+E)}se.prototype={equals:function(d,y){if(!d)return!1;d=he(d);var E=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return E<=(y===void 0?1e-9:y)},toString:function(d){return"LatLng("+b(this.lat,d)+", "+b(this.lng,d)+")"},distanceTo:function(d){return Se.distance(this,he(d))},wrap:function(){return Se.wrapLatLng(this)},toBounds:function(d){var y=180*d/40075017,E=y/Math.cos(Math.PI/180*this.lat);return Q([this.lat-y,this.lng-E],[this.lat+y,this.lng+E])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function he(d,y,E){return d instanceof se?d:j(d)&&typeof d[0]!="object"?d.length===3?new se(d[0],d[1],d[2]):d.length===2?new se(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new se(d.lat,"lng"in d?d.lng:d.lon,d.alt):y===void 0?null:new se(d,y,E)}var me={latLngToPoint:function(d,y){var E=this.projection.project(d),M=this.scale(y);return this.transformation._transform(E,M)},pointToLatLng:function(d,y){var E=this.scale(y),M=this.transformation.untransform(d,E);return this.projection.unproject(M)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var y=this.projection.bounds,E=this.scale(d),M=this.transformation.transform(y.min,E),R=this.transformation.transform(y.max,E);return new B(M,R)},infinite:!1,wrapLatLng:function(d){var y=this.wrapLng?h(d.lng,this.wrapLng,!0):d.lng,E=this.wrapLat?h(d.lat,this.wrapLat,!0):d.lat,M=d.alt;return new se(E,y,M)},wrapLatLngBounds:function(d){var y=d.getCenter(),E=this.wrapLatLng(y),M=y.lat-E.lat,R=y.lng-E.lng;if(M===0&&R===0)return d;var U=d.getSouthWest(),ee=d.getNorthEast(),ce=new se(U.lat-M,U.lng-R),be=new se(ee.lat-M,ee.lng-R);return new ie(ce,be)}},Se=i({},me,{wrapLng:[-180,180],R:6371e3,distance:function(d,y){var E=Math.PI/180,M=d.lat*E,R=y.lat*E,U=Math.sin((y.lat-d.lat)*E/2),ee=Math.sin((y.lng-d.lng)*E/2),ce=U*U+Math.cos(M)*Math.cos(R)*ee*ee,be=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*be}}),re=6378137,Ee={R:re,MAX_LATITUDE:85.0511287798,project:function(d){var y=Math.PI/180,E=this.MAX_LATITUDE,M=Math.max(Math.min(E,d.lat),-E),R=Math.sin(M*y);return new ne(this.R*d.lng*y,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(d){var y=180/Math.PI;return new se((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*y,d.x*y/this.R)},bounds:(function(){var d=re*Math.PI;return new B([-d,-d],[d,d])})()};function je(d,y,E,M){if(j(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=y,this._c=E,this._d=M}je.prototype={transform:function(d,y){return this._transform(d.clone(),y)},_transform:function(d,y){return y=y||1,d.x=y*(this._a*d.x+this._b),d.y=y*(this._c*d.y+this._d),d},untransform:function(d,y){return y=y||1,new ne((d.x/y-this._b)/this._a,(d.y/y-this._d)/this._c)}};function fe(d,y,E,M){return new je(d,y,E,M)}var Je=i({},Se,{code:"EPSG:3857",projection:Ee,transformation:(function(){var d=.5/(Math.PI*Ee.R);return fe(d,.5,-d,.5)})()}),Ke=i({},Je,{code:"EPSG:900913"});function Ne(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function Ie(d,y){var E="",M,R,U,ee,ce,be;for(M=0,U=d.length;M<U;M++){for(ce=d[M],R=0,ee=ce.length;R<ee;R++)be=ce[R],E+=(R?"L":"M")+be.x+" "+be.y;E+=y?Ge.svg?"z":"x":""}return E||"M0 0"}var We=document.documentElement.style,Oe="ActiveXObject"in window,De=Oe&&!document.addEventListener,Be="msLaunchUri"in navigator&&!("documentMode"in document),lt=Yr("webkit"),ue=Yr("android"),Ce=Yr("android 2")||Yr("android 3"),$e=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),it=ue&&Yr("Google")&&$e<537&&!("AudioNode"in window),Nt=!!window.opera,xt=!Be&&Yr("chrome"),Jn=Yr("gecko")&&!lt&&!Nt&&!Oe,gi=!xt&&Yr("safari"),bi=Yr("phantom"),Ls="OTransition"in We,Is=navigator.platform.indexOf("Win")===0,qt=Oe&&"transition"in We,mn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ce,yi="MozPerspective"in We,Dr=!window.L_DISABLE_3D&&(qt||mn||yi)&&!Ls&&!bi,Gl=typeof orientation<"u"||Yr("mobile"),wx=Gl&&lt,Sx=Gl&&mn,ql=!window.PointerEvent&&window.MSPointerEvent,Yl=!!(window.PointerEvent||ql),Kl="ontouchstart"in window||!!window.TouchEvent,Ro=!window.L_NO_TOUCH&&(Kl||Yl),wu=Gl&&Nt,Wl=Gl&&Jn,kx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Bp=(function(){var d=!1;try{var y=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,y),window.removeEventListener("testPassiveEventSupport",p,y)}catch{}return d})(),jf=(function(){return!!document.createElement("canvas").getContext})(),Lo=!!(document.createElementNS&&Ne("svg").createSVGRect),Ex=!!Lo&&(function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),zp=!Lo&&(function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var y=d.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),Up=navigator.platform.indexOf("Mac")===0,Fp=navigator.platform.indexOf("Linux")===0;function Yr(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var Ge={ie:Oe,ielt9:De,edge:Be,webkit:lt,android:ue,android23:Ce,androidStock:it,opera:Nt,chrome:xt,gecko:Jn,safari:gi,phantom:bi,opera12:Ls,win:Is,ie3d:qt,webkit3d:mn,gecko3d:yi,any3d:Dr,mobile:Gl,mobileWebkit:wx,mobileWebkit3d:Sx,msPointer:ql,pointer:Yl,touch:Ro,touchNative:Kl,mobileOpera:wu,mobileGecko:Wl,retina:kx,passiveEvents:Bp,canvas:jf,svg:Lo,vml:zp,inlineSvg:Ex,mac:Up,linux:Fp},Of=Ge.msPointer?"MSPointerDown":"pointerdown",Nf=Ge.msPointer?"MSPointerMove":"pointermove",_a=Ge.msPointer?"MSPointerUp":"pointerup",On=Ge.msPointer?"MSPointerCancel":"pointercancel",Qn={touchstart:Of,touchmove:Nf,touchend:_a,touchcancel:On},Io={touchstart:Bs,touchmove:Va,touchend:Va,touchcancel:Va},Wa={},Hp=!1;function Ax(d,y,E){return y==="touchstart"&&$s(),Io[y]?(E=Io[y].bind(this,E),d.addEventListener(Qn[y],E,!1),E):(console.warn("wrong event specified:",y),p)}function Gp(d,y,E){if(!Qn[y]){console.warn("wrong event specified:",y);return}d.removeEventListener(Qn[y],E,!1)}function Vl(d){Wa[d.pointerId]=d}function Cf(d){Wa[d.pointerId]&&(Wa[d.pointerId]=d)}function $o(d){delete Wa[d.pointerId]}function $s(){Hp||(document.addEventListener(Of,Vl,!0),document.addEventListener(Nf,Cf,!0),document.addEventListener(_a,$o,!0),document.addEventListener(On,$o,!0),Hp=!0)}function Va(d,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var E in Wa)y.touches.push(Wa[E]);y.changedTouches=[y],d(y)}}function Bs(d,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&pn(y),Va(d,y)}function Nn(d){var y={},E,M;for(M in d)E=d[M],y[M]=E&&E.bind?E.bind(d):E;return d=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var qp=200;function Yp(d,y){d.addEventListener("dblclick",y);var E=0,M;function R(U){if(U.detail!==1){M=U.detail;return}if(!(U.pointerType==="mouse"||U.sourceCapabilities&&!U.sourceCapabilities.firesTouchEvents)){var ee=nc(U);if(!(ee.some(function(be){return be instanceof HTMLLabelElement&&be.attributes.for})&&!ee.some(function(be){return be instanceof HTMLInputElement||be instanceof HTMLSelectElement}))){var ce=Date.now();ce-E<=qp?(M++,M===2&&y(Nn(U))):M=1,E=ce}}}return d.addEventListener("click",R),{dblclick:y,simDblclick:R}}function Bo(d,y){d.removeEventListener("dblclick",y.dblclick),d.removeEventListener("click",y.simDblclick)}var Za=Jl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zl=Jl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Mf=Zl==="webkitTransition"||Zl==="OTransition"?Zl+"End":"transitionend";function Df(d){return typeof d=="string"?document.getElementById(d):d}function Xl(d,y){var E=d.style[y]||d.currentStyle&&d.currentStyle[y];if((!E||E==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(d,null);E=M?M[y]:null}return E==="auto"?null:E}function ht(d,y,E){var M=document.createElement(d);return M.className=y||"",E&&E.appendChild(M),M}function It(d){var y=d.parentNode;y&&y.removeChild(d)}function Kr(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function Un(d){var y=d.parentNode;y&&y.lastChild!==d&&y.appendChild(d)}function zo(d){var y=d.parentNode;y&&y.firstChild!==d&&y.insertBefore(d,y.firstChild)}function Pf(d,y){if(d.classList!==void 0)return d.classList.contains(y);var E=Su(d);return E.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(E)}function ot(d,y){if(d.classList!==void 0)for(var E=S(y),M=0,R=E.length;M<R;M++)d.classList.add(E[M]);else if(!Pf(d,y)){var U=Su(d);zs(d,(U?U+" ":"")+y)}}function en(d,y){d.classList!==void 0?d.classList.remove(y):zs(d,v((" "+Su(d)+" ").replace(" "+y+" "," ")))}function zs(d,y){d.className.baseVal===void 0?d.className=y:d.className.baseVal=y}function Su(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function Zt(d,y){"opacity"in d.style?d.style.opacity=y:"filter"in d.style&&Rf(d,y)}function Rf(d,y){var E=!1,M="DXImageTransform.Microsoft.Alpha";try{E=d.filters.item(M)}catch{if(y===1)return}y=Math.round(y*100),E?(E.Enabled=y!==100,E.Opacity=y):d.style.filter+=" progid:"+M+"(opacity="+y+")"}function Jl(d){for(var y=document.documentElement.style,E=0;E<d.length;E++)if(d[E]in y)return d[E];return!1}function wa(d,y,E){var M=y||new ne(0,0);d.style[Za]=(Ge.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(E?" scale("+E+")":"")}function Ut(d,y){d._leaflet_pos=y,Ge.any3d?wa(d,y):(d.style.left=y.x+"px",d.style.top=y.y+"px")}function Xa(d){return d._leaflet_pos||new ne(0,0)}var Us,Yi,Lf;if("onselectstart"in document)Us=function(){rt(window,"selectstart",pn)},Yi=function(){Ct(window,"selectstart",pn)};else{var Fs=Jl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Us=function(){if(Fs){var d=document.documentElement.style;Lf=d[Fs],d[Fs]="none"}},Yi=function(){Fs&&(document.documentElement.style[Fs]=Lf,Lf=void 0)}}function ku(){rt(window,"dragstart",pn)}function Ql(){Ct(window,"dragstart",pn)}var Eu,If;function Hs(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Wr(),Eu=d,If=d.style.outlineStyle,d.style.outlineStyle="none",rt(window,"keydown",Wr))}function Wr(){Eu&&(Eu.style.outlineStyle=If,Eu=void 0,If=void 0,Ct(window,"keydown",Wr))}function Au(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function ec(d){var y=d.getBoundingClientRect();return{x:y.width/d.offsetWidth||1,y:y.height/d.offsetHeight||1,boundingClientRect:y}}var Gs={__proto__:null,TRANSFORM:Za,TRANSITION:Zl,TRANSITION_END:Mf,get:Df,getStyle:Xl,create:ht,remove:It,empty:Kr,toFront:Un,toBack:zo,hasClass:Pf,addClass:ot,removeClass:en,setClass:zs,getClass:Su,setOpacity:Zt,testProp:Jl,setTransform:wa,setPosition:Ut,getPosition:Xa,get disableTextSelection(){return Us},get enableTextSelection(){return Yi},disableImageDrag:ku,enableImageDrag:Ql,preventOutline:Hs,restoreOutline:Wr,getSizedParentNode:Au,getScale:ec};function rt(d,y,E,M){if(y&&typeof y=="object")for(var R in y)xi(d,R,y[R],E);else{y=S(y);for(var U=0,ee=y.length;U<ee;U++)xi(d,y[U],E,M)}return this}var vi="_leaflet_events";function Ct(d,y,E,M){if(arguments.length===1)$f(d),delete d[vi];else if(y&&typeof y=="object")for(var R in y)tc(d,R,y[R],E);else if(y=S(y),arguments.length===2)$f(d,function(ce){return C(y,ce)!==-1});else for(var U=0,ee=y.length;U<ee;U++)tc(d,y[U],E,M);return this}function $f(d,y){for(var E in d[vi]){var M=E.split(/\d/)[0];(!y||y(M))&&tc(d,M,null,null,E)}}var Uo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xi(d,y,E,M){var R=y+u(E)+(M?"_"+u(M):"");if(d[vi]&&d[vi][R])return this;var U=function(ce){return E.call(M||d,ce||window.event)},ee=U;!Ge.touchNative&&Ge.pointer&&y.indexOf("touch")===0?U=Ax(d,y,U):Ge.touch&&y==="dblclick"?U=Yp(d,U):"addEventListener"in d?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?d.addEventListener(Uo[y]||y,U,Ge.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(U=function(ce){ce=ce||window.event,Sa(d,ce)&&ee(ce)},d.addEventListener(Uo[y],U,!1)):d.addEventListener(y,ee,!1):d.attachEvent("on"+y,U),d[vi]=d[vi]||{},d[vi][R]=U}function tc(d,y,E,M,R){R=R||y+u(E)+(M?"_"+u(M):"");var U=d[vi]&&d[vi][R];if(!U)return this;!Ge.touchNative&&Ge.pointer&&y.indexOf("touch")===0?Gp(d,y,U):Ge.touch&&y==="dblclick"?Bo(d,U):"removeEventListener"in d?d.removeEventListener(Uo[y]||y,U,!1):d.detachEvent("on"+y,U),d[vi][R]=null}function _i(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function Ki(d){return xi(d,"wheel",_i),this}function Fo(d){return rt(d,"mousedown touchstart dblclick contextmenu",_i),d._leaflet_disable_click=!0,this}function pn(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Ja(d){return pn(d),_i(d),this}function nc(d){if(d.composedPath)return d.composedPath();for(var y=[],E=d.target;E;)y.push(E),E=E.parentNode;return y}function rc(d,y){if(!y)return new ne(d.clientX,d.clientY);var E=ec(y),M=E.boundingClientRect;return new ne((d.clientX-M.left)/E.x-y.clientLeft,(d.clientY-M.top)/E.y-y.clientTop)}var Kp=Ge.linux&&Ge.chrome?window.devicePixelRatio:Ge.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function fr(d){return Ge.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Kp:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Sa(d,y){var E=y.relatedTarget;if(!E)return!0;try{for(;E&&E!==d;)E=E.parentNode}catch{return!1}return E!==d}var Tu={__proto__:null,on:rt,off:Ct,stopPropagation:_i,disableScrollPropagation:Ki,disableClickPropagation:Fo,preventDefault:pn,stop:Ja,getPropagationPath:nc,getMousePosition:rc,getWheelDelta:fr,isExternalTarget:Sa,addListener:rt,removeListener:Ct},qs=J.extend({run:function(d,y,E,M){this.stop(),this._el=d,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=Xa(d),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(d){var y=+new Date-this._startTime,E=this._duration*1e3;y<E?this._runFrame(this._easeOut(y/E),d):(this._runFrame(1),this._complete())},_runFrame:function(d,y){var E=this._startPos.add(this._offset.multiplyBy(d));y&&E._round(),Ut(this._el,E),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),bt=J.extend({options:{crs:Je,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,y){y=w(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(he(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zl&&Ge.any3d&&!Ge.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),rt(this._proxy,Mf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,y,E){if(y=y===void 0?this._zoom:this._limitZoom(y),d=this._limitCenter(he(d),y,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var M=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,y,E.zoom):this._tryAnimatedPan(d,E.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(d,y,E.pan&&E.pan.noMoveStart),this},setZoom:function(d,y){return this._loaded?this.setView(this.getCenter(),d,{zoom:y}):(this._zoom=d,this)},zoomIn:function(d,y){return d=d||(Ge.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,y)},zoomOut:function(d,y){return d=d||(Ge.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,y)},setZoomAround:function(d,y,E){var M=this.getZoomScale(y),R=this.getSize().divideBy(2),U=d instanceof ne?d:this.latLngToContainerPoint(d),ee=U.subtract(R).multiplyBy(1-1/M),ce=this.containerPointToLatLng(R.add(ee));return this.setView(ce,y,{zoom:E})},_getBoundsCenterZoom:function(d,y){y=y||{},d=d.getBounds?d.getBounds():Q(d);var E=oe(y.paddingTopLeft||y.padding||[0,0]),M=oe(y.paddingBottomRight||y.padding||[0,0]),R=this.getBoundsZoom(d,!1,E.add(M));if(R=typeof y.maxZoom=="number"?Math.min(y.maxZoom,R):R,R===1/0)return{center:d.getCenter(),zoom:R};var U=M.subtract(E).divideBy(2),ee=this.project(d.getSouthWest(),R),ce=this.project(d.getNorthEast(),R),be=this.unproject(ee.add(ce).divideBy(2).add(U),R);return{center:be,zoom:R}},fitBounds:function(d,y){if(d=Q(d),!d.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(d,y);return this.setView(E.center,E.zoom,y)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,y){return this.setView(d,this._zoom,{pan:y})},panBy:function(d,y){if(d=oe(d).round(),y=y||{},!d.x&&!d.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){ot(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,E,y.duration||.25,y.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,y,E){if(E=E||{},E.animate===!1||!Ge.any3d)return this.setView(d,y,E);this._stop();var M=this.project(this.getCenter()),R=this.project(d),U=this.getSize(),ee=this._zoom;d=he(d),y=y===void 0?ee:y;var ce=Math.max(U.x,U.y),be=ce*this.getZoomScale(ee,y),Ae=R.distanceTo(M)||1,Le=1.42,Ye=Le*Le;function ut(un){var Ta=un?-1:1,Yo=un?be:ce,Qf=be*be-ce*ce+Ta*Ye*Ye*Ae*Ae,vc=2*Yo*Ye*Ae,xc=Qf/vc,so=Math.sqrt(xc*xc+1)-xc,ja=so<1e-9?-18:Math.log(so);return ja}function Fn(un){return(Math.exp(un)-Math.exp(-un))/2}function gn(un){return(Math.exp(un)+Math.exp(-un))/2}function Rr(un){return Fn(un)/gn(un)}var St=ut(0);function kt(un){return ce*(gn(St)/gn(St+Le*un))}function mt(un){return ce*(gn(St)*Rr(St+Le*un)-Fn(St))/Ye}function ao(un){return 1-Math.pow(1-un,1.5)}var Jr=Date.now(),Uu=(ut(1)-St)/Le,oo=E.duration?1e3*E.duration:1e3*Uu*.8;function Jf(){var un=(Date.now()-Jr)/oo,Ta=ao(un)*Uu;un<=1?(this._flyToFrame=H(Jf,this),this._move(this.unproject(M.add(R.subtract(M).multiplyBy(mt(Ta)/Ae)),ee),this.getScaleZoom(ce/kt(Ta),ee),{flyTo:!0})):this._move(d,y)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),Jf.call(this),this},flyToBounds:function(d,y){var E=this._getBoundsCenterZoom(d,y);return this.flyTo(E.center,E.zoom,y)},setMaxBounds:function(d){return d=Q(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var y=this.options.minZoom;return this.options.minZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var y=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,y){this._enforcingBounds=!0;var E=this.getCenter(),M=this._limitCenter(E,this._zoom,Q(d));return E.equals(M)||this.panTo(M,y),this._enforcingBounds=!1,this},panInside:function(d,y){y=y||{};var E=oe(y.paddingTopLeft||y.padding||[0,0]),M=oe(y.paddingBottomRight||y.padding||[0,0]),R=this.project(this.getCenter()),U=this.project(d),ee=this.getPixelBounds(),ce=W([ee.min.add(E),ee.max.subtract(M)]),be=ce.getSize();if(!ce.contains(U)){this._enforcingBounds=!0;var Ae=U.subtract(ce.getCenter()),Le=ce.extend(U).getSize().subtract(be);R.x+=Ae.x<0?-Le.x:Le.x,R.y+=Ae.y<0?-Le.y:Le.y,this.panTo(this.unproject(R),y),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),M=y.divideBy(2).round(),R=E.divideBy(2).round(),U=M.subtract(R);return!U.x&&!U.y?this:(d.animate&&d.pan?this.panBy(U):(d.pan&&this._rawPanBy(U),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,E,d):navigator.geolocation.getCurrentPosition(y,E,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var y=d.code,E=d.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var y=d.coords.latitude,E=d.coords.longitude,M=new se(y,E),R=M.toBounds(d.coords.accuracy*2),U=this._locateOptions;if(U.setView){var ee=this.getBoundsZoom(R);this.setView(M,U.maxZoom?Math.min(ee,U.maxZoom):ee)}var ce={latlng:M,bounds:R,timestamp:d.timestamp};for(var be in d.coords)typeof d.coords[be]=="number"&&(ce[be]=d.coords[be]);this.fire("locationfound",ce)}},addHandler:function(d,y){if(!y)return this;var E=this[d]=new y(this);return this._handlers.push(E),this.options[d]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),It(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)It(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,y){var E="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),M=ht("div",E,y||this._mapPane);return d&&(this._panes[d]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),y=this.unproject(d.getBottomLeft()),E=this.unproject(d.getTopRight());return new ie(y,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,y,E){d=Q(d),E=oe(E||[0,0]);var M=this.getZoom()||0,R=this.getMinZoom(),U=this.getMaxZoom(),ee=d.getNorthWest(),ce=d.getSouthEast(),be=this.getSize().subtract(E),Ae=W(this.project(ce,M),this.project(ee,M)).getSize(),Le=Ge.any3d?this.options.zoomSnap:1,Ye=be.x/Ae.x,ut=be.y/Ae.y,Fn=y?Math.max(Ye,ut):Math.min(Ye,ut);return M=this.getScaleZoom(Fn,M),Le&&(M=Math.round(M/(Le/100))*(Le/100),M=y?Math.ceil(M/Le)*Le:Math.floor(M/Le)*Le),Math.max(R,Math.min(U,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,y){var E=this._getTopLeftPoint(d,y);return new B(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,y){var E=this.options.crs;return y=y===void 0?this._zoom:y,E.scale(d)/E.scale(y)},getScaleZoom:function(d,y){var E=this.options.crs;y=y===void 0?this._zoom:y;var M=E.zoom(d*E.scale(y));return isNaN(M)?1/0:M},project:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(he(d),y)},unproject:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(oe(d),y)},layerPointToLatLng:function(d){var y=oe(d).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(d){var y=this.project(he(d))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(he(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(Q(d))},distance:function(d,y){return this.options.crs.distance(he(d),he(y))},containerPointToLayerPoint:function(d){return oe(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return oe(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var y=this.containerPointToLayerPoint(oe(d));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(d)))},mouseEventToContainerPoint:function(d){return rc(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var y=this._container=Df(d);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");rt(y,"scroll",this._onScroll,this),this._containerId=u(y)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ge.any3d,ot(d,"leaflet-container"+(Ge.touch?" leaflet-touch":"")+(Ge.retina?" leaflet-retina":"")+(Ge.ielt9?" leaflet-oldie":"")+(Ge.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=Xl(d,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ot(d.markerPane,"leaflet-zoom-hide"),ot(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,y,E){Ut(this._mapPane,new ne(0,0));var M=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var R=this._zoom!==y;this._moveStart(R,E)._move(d,y)._moveEnd(R),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(d,y){return d&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(d,y,E,M){y===void 0&&(y=this._zoom);var R=this._zoom!==y;return this._zoom=y,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),M?E&&E.pinch&&this.fire("zoom",E):((R||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Ut(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[u(this._container)]=this;var y=d?Ct:rt;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),Ge.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,y){for(var E=[],M,R=y==="mouseout"||y==="mouseover",U=d.target||d.srcElement,ee=!1;U;){if(M=this._targets[u(U)],M&&(y==="click"||y==="preclick")&&this._draggableMoved(M)){ee=!0;break}if(M&&M.listens(y,!0)&&(R&&!Sa(U,d)||(E.push(M),R))||U===this._container)break;U=U.parentNode}return!E.length&&!ee&&!R&&this.listens(y,!0)&&(E=[this]),E},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var y=d.target||d.srcElement;if(!(!this._loaded||y._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(y))){var E=d.type;E==="mousedown"&&Hs(y),this._fireDOMEvent(d,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,y,E){if(d.type==="click"){var M=i({},d);M.type="preclick",this._fireDOMEvent(M,M.type,E)}var R=this._findEventTargets(d,y);if(E){for(var U=[],ee=0;ee<E.length;ee++)E[ee].listens(y,!0)&&U.push(E[ee]);R=U.concat(R)}if(R.length){y==="contextmenu"&&pn(d);var ce=R[0],be={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var Ae=ce.getLatLng&&(!ce._radius||ce._radius<=10);be.containerPoint=Ae?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(d),be.layerPoint=this.containerPointToLayerPoint(be.containerPoint),be.latlng=Ae?ce.getLatLng():this.layerPointToLatLng(be.layerPoint)}for(ee=0;ee<R.length;ee++)if(R[ee].fire(y,be,!0),be.originalEvent._stopped||R[ee].options.bubblingMouseEvents===!1&&C(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,y=this._handlers.length;d<y;d++)this._handlers[d].disable()},whenReady:function(d,y){return this._loaded?d.call(y||this,{target:this}):this.on("load",d,y),this},_getMapPanePos:function(){return Xa(this._mapPane)||new ne(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,y){var E=d&&y!==void 0?this._getNewPixelOrigin(d,y):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,y){var E=this.getSize()._divideBy(2);return this.project(d,y)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,y,E){var M=this._getNewPixelOrigin(E,y);return this.project(d,y)._subtract(M)},_latLngBoundsToNewLayerBounds:function(d,y,E){var M=this._getNewPixelOrigin(E,y);return W([this.project(d.getSouthWest(),y)._subtract(M),this.project(d.getNorthWest(),y)._subtract(M),this.project(d.getSouthEast(),y)._subtract(M),this.project(d.getNorthEast(),y)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,y,E){if(!E)return d;var M=this.project(d,y),R=this.getSize().divideBy(2),U=new B(M.subtract(R),M.add(R)),ee=this._getBoundsOffset(U,E,y);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?d:this.unproject(M.add(ee),y)},_limitOffset:function(d,y){if(!y)return d;var E=this.getPixelBounds(),M=new B(E.min.add(d),E.max.add(d));return d.add(this._getBoundsOffset(M,y))},_getBoundsOffset:function(d,y,E){var M=W(this.project(y.getNorthEast(),E),this.project(y.getSouthWest(),E)),R=M.min.subtract(d.min),U=M.max.subtract(d.max),ee=this._rebound(R.x,-U.x),ce=this._rebound(R.y,-U.y);return new ne(ee,ce)},_rebound:function(d,y){return d+y>0?Math.round(d-y)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(y))},_limitZoom:function(d){var y=this.getMinZoom(),E=this.getMaxZoom(),M=Ge.any3d?this.options.zoomSnap:1;return M&&(d=Math.round(d/M)*M),Math.max(y,Math.min(E,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){en(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,y){var E=this._getCenterOffset(d)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,y),!0)},_createAnimProxy:function(){var d=this._proxy=ht("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(y){var E=Za,M=this._proxy.style[E];wa(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),M===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){It(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),y=this.getZoom();wa(this._proxy,this.project(d,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,y,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(y),R=this._getCenterOffset(d)._divideBy(1-1/M);return E.animate!==!0&&!this.getSize().contains(R)?!1:(H(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(d,y,!0)},this),!0)},_animateZoom:function(d,y,E,M){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=y,ot(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:y,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&en(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Bf(d,y){return new bt(d,y)}var Pr=Z.extend({options:{position:"topright"},initialize:function(d){w(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var y=this._map;return y&&y.removeControl(this),this.options.position=d,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var y=this._container=this.onAdd(d),E=this.getPosition(),M=d._controlCorners[E];return ot(y,"leaflet-control"),E.indexOf("bottom")!==-1?M.insertBefore(y,M.firstChild):M.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(It(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),ka=function(d){return new Pr(d)};bt.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},y="leaflet-",E=this._controlContainer=ht("div",y+"control-container",this._container);function M(R,U){var ee=y+R+" "+y+U;d[R+U]=ht("div",ee,E)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)It(this._controlCorners[d]);It(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ic=Pr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,y,E,M){return E<M?-1:M<E?1:0}},initialize:function(d,y,E){w(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in d)this._addLayer(d[M],M);for(M in y)this._addLayer(y[M],M,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return Pr.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,y){return this._addLayer(d,y),this._map?this._update():this},addOverlay:function(d,y){return this._addLayer(d,y,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var y=this._getLayer(u(d));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){ot(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(ot(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):en(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return en(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",y=this._container=ht("div",d),E=this.options.collapsed;y.setAttribute("aria-haspopup",!0),Fo(y),Ki(y);var M=this._section=ht("section",d+"-list");E&&(this._map.on("click",this.collapse,this),rt(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=ht("a",d+"-toggle",y);R.href="#",R.title="Layers",R.setAttribute("role","button"),rt(R,{keydown:function(U){U.keyCode===13&&this._expandSafely()},click:function(U){pn(U),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=ht("div",d+"-base",M),this._separator=ht("div",d+"-separator",M),this._overlaysList=ht("div",d+"-overlays",M),y.appendChild(M)},_getLayer:function(d){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&u(this._layers[y].layer)===d)return this._layers[y]},_addLayer:function(d,y,E){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:y,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(M,R){return this.options.sortFunction(M.layer,R.layer,M.name,R.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Kr(this._baseLayersList),Kr(this._overlaysList),this._layerControlInputs=[];var d,y,E,M,R=0;for(E=0;E<this._layers.length;E++)M=this._layers[E],this._addItem(M),y=y||M.overlay,d=d||!M.overlay,R+=M.overlay?0:1;return this.options.hideSingleBase&&(d=d&&R>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=y&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var y=this._getLayer(u(d.target)),E=y.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;E&&this._map.fire(E,y)},_createRadioElement:function(d,y){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(y?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=E,M.firstChild},_addItem:function(d){var y=document.createElement("label"),E=this._map.hasLayer(d.layer),M;d.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=E):M=this._createRadioElement("leaflet-base-layers_"+u(this),E),this._layerControlInputs.push(M),M.layerId=u(d.layer),rt(M,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+d.name;var U=document.createElement("span");y.appendChild(U),U.appendChild(M),U.appendChild(R);var ee=d.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,y,E,M=[],R=[];this._handlingClick=!0;for(var U=d.length-1;U>=0;U--)y=d[U],E=this._getLayer(y.layerId).layer,y.checked?M.push(E):y.checked||R.push(E);for(U=0;U<R.length;U++)this._map.hasLayer(R[U])&&this._map.removeLayer(R[U]);for(U=0;U<M.length;U++)this._map.hasLayer(M[U])||this._map.addLayer(M[U]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,y,E,M=this._map.getZoom(),R=d.length-1;R>=0;R--)y=d[R],E=this._getLayer(y.layerId).layer,y.disabled=E.options.minZoom!==void 0&&M<E.options.minZoom||E.options.maxZoom!==void 0&&M>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,rt(d,"click",pn),this.expand();var y=this;setTimeout(function(){Ct(d,"click",pn),y._preventClick=!1})}}),Wp=function(d,y,E){return new ic(d,y,E)},zf=Pr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var y="leaflet-control-zoom",E=ht("div",y+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,y+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,y+"-out",E,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,y,E,M,R){var U=ht("a",E,M);return U.innerHTML=d,U.href="#",U.title=y,U.setAttribute("role","button"),U.setAttribute("aria-label",y),Fo(U),rt(U,"click",Ja),rt(U,"click",R,this),rt(U,"click",this._refocusOnMap,this),U},_updateDisabled:function(){var d=this._map,y="leaflet-disabled";en(this._zoomInButton,y),en(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(ot(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(ot(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});bt.mergeOptions({zoomControl:!0}),bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new zf,this.addControl(this.zoomControl))});var Tx=function(d){return new zf(d)},Vp=Pr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var y="leaflet-control-scale",E=ht("div",y),M=this.options;return this._addScales(M,y+"-line",E),d.on(M.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),E},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,y,E){d.metric&&(this._mScale=ht("div",y,E)),d.imperial&&(this._iScale=ht("div",y,E))},_update:function(){var d=this._map,y=d.getSize().y/2,E=d.distance(d.containerPointToLatLng([0,y]),d.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(E)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var y=this._getRoundNum(d),E=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,E,y/d)},_updateImperial:function(d){var y=d*3.2808399,E,M,R;y>5280?(E=y/5280,M=this._getRoundNum(E),this._updateScale(this._iScale,M+" mi",M/E)):(R=this._getRoundNum(y),this._updateScale(this._iScale,R+" ft",R/y))},_updateScale:function(d,y,E){d.style.width=Math.round(this.options.maxWidth*E)+"px",d.innerHTML=y},_getRoundNum:function(d){var y=Math.pow(10,(Math.floor(d)+"").length-1),E=d/y;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,y*E}}),Uf=function(d){return new Vp(d)},jx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ff=Pr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ge.inlineSvg?jx+" ":"")+"Leaflet</a>"},initialize:function(d){w(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=ht("div","leaflet-control-attribution"),Fo(this._container);for(var y in d._layers)d._layers[y].getAttribution&&this.addAttribution(d._layers[y].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var y in this._attributions)this._attributions[y]&&d.push(y);var E=[];this.options.prefix&&E.push(this.options.prefix),d.length&&E.push(d.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});bt.mergeOptions({attributionControl:!0}),bt.addInitHook(function(){this.options.attributionControl&&new Ff().addTo(this)});var Ox=function(d){return new Ff(d)};Pr.Layers=ic,Pr.Zoom=zf,Pr.Scale=Vp,Pr.Attribution=Ff,ka.layers=Wp,ka.zoom=Tx,ka.scale=Uf,ka.attribution=Ox;var Wi=Z.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wi.addTo=function(d,y){return d.addHandler(y,this),this};var Nx={Events:q},Hf=Ge.touch?"touchstart mousedown":"mousedown",Qa=J.extend({options:{clickTolerance:3},initialize:function(d,y,E,M){w(this,M),this._element=d,this._dragStartTarget=y||d,this._preventOutline=E},enable:function(){this._enabled||(rt(this._dragStartTarget,Hf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qa._dragging===this&&this.finishDrag(!0),Ct(this._dragStartTarget,Hf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Pf(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Qa._dragging===this&&this.finishDrag();return}if(!(Qa._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Qa._dragging=this,this._preventOutline&&Hs(this._element),ku(),Us(),!this._moving)){this.fire("down");var y=d.touches?d.touches[0]:d,E=Au(this._element);this._startPoint=new ne(y.clientX,y.clientY),this._startPos=Xa(this._element),this._parentScale=ec(E);var M=d.type==="mousedown";rt(document,M?"mousemove":"touchmove",this._onMove,this),rt(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var y=d.touches&&d.touches.length===1?d.touches[0]:d,E=new ne(y.clientX,y.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,pn(d),this._moved||(this.fire("dragstart"),this._moved=!0,ot(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ot(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Ut(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){en(document.body,"leaflet-dragging"),this._lastTarget&&(en(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ct(document,"mousemove touchmove",this._onMove,this),Ct(document,"mouseup touchend touchcancel",this._onUp,this),Ql(),Yi();var y=this._moved&&this._moving;this._moving=!1,Qa._dragging=!1,y&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function Zp(d,y,E){var M,R=[1,4,2,8],U,ee,ce,be,Ae,Le,Ye,ut;for(U=0,Le=d.length;U<Le;U++)d[U]._code=Ho(d[U],y);for(ce=0;ce<4;ce++){for(Ye=R[ce],M=[],U=0,Le=d.length,ee=Le-1;U<Le;ee=U++)be=d[U],Ae=d[ee],be._code&Ye?Ae._code&Ye||(ut=ju(Ae,be,Ye,y,E),ut._code=Ho(ut,y),M.push(ut)):(Ae._code&Ye&&(ut=ju(Ae,be,Ye,y,E),ut._code=Ho(ut,y),M.push(ut)),M.push(be));d=M}return d}function Xp(d,y){var E,M,R,U,ee,ce,be,Ae,Le;if(!d||d.length===0)throw new Error("latlngs not passed");Vr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Ye=he([0,0]),ut=Q(d),Fn=ut.getNorthWest().distanceTo(ut.getSouthWest())*ut.getNorthEast().distanceTo(ut.getNorthWest());Fn<1700&&(Ye=Gf(d));var gn=d.length,Rr=[];for(E=0;E<gn;E++){var St=he(d[E]);Rr.push(y.project(he([St.lat-Ye.lat,St.lng-Ye.lng])))}for(ce=be=Ae=0,E=0,M=gn-1;E<gn;M=E++)R=Rr[E],U=Rr[M],ee=R.y*U.x-U.y*R.x,be+=(R.x+U.x)*ee,Ae+=(R.y+U.y)*ee,ce+=ee*3;ce===0?Le=Rr[0]:Le=[be/ce,Ae/ce];var kt=y.unproject(oe(Le));return he([kt.lat+Ye.lat,kt.lng+Ye.lng])}function Gf(d){for(var y=0,E=0,M=0,R=0;R<d.length;R++){var U=he(d[R]);y+=U.lat,E+=U.lng,M++}return he([y/M,E/M])}var qf={__proto__:null,clipPolygon:Zp,polygonCenter:Xp,centroid:Gf};function Jp(d,y){if(!y||!d.length)return d.slice();var E=y*y;return d=Mx(d,E),d=eg(d,E),d}function Qp(d,y,E){return Math.sqrt(ac(d,y,E,!0))}function Cx(d,y,E){return ac(d,y,E)}function eg(d,y){var E=d.length,M=typeof Uint8Array<"u"?Uint8Array:Array,R=new M(E);R[0]=R[E-1]=1,Yf(d,R,y,0,E-1);var U,ee=[];for(U=0;U<E;U++)R[U]&&ee.push(d[U]);return ee}function Yf(d,y,E,M,R){var U=0,ee,ce,be;for(ce=M+1;ce<=R-1;ce++)be=ac(d[ce],d[M],d[R],!0),be>U&&(ee=ce,U=be);U>E&&(y[ee]=1,Yf(d,y,E,M,ee),Yf(d,y,E,ee,R))}function Mx(d,y){for(var E=[d[0]],M=1,R=0,U=d.length;M<U;M++)Dx(d[M],d[R])>y&&(E.push(d[M]),R=M);return R<U-1&&E.push(d[U-1]),E}var tg;function ng(d,y,E,M,R){var U=M?tg:Ho(d,E),ee=Ho(y,E),ce,be,Ae;for(tg=ee;;){if(!(U|ee))return[d,y];if(U&ee)return!1;ce=U||ee,be=ju(d,y,ce,E,R),Ae=Ho(be,E),ce===U?(d=be,U=Ae):(y=be,ee=Ae)}}function ju(d,y,E,M,R){var U=y.x-d.x,ee=y.y-d.y,ce=M.min,be=M.max,Ae,Le;return E&8?(Ae=d.x+U*(be.y-d.y)/ee,Le=be.y):E&4?(Ae=d.x+U*(ce.y-d.y)/ee,Le=ce.y):E&2?(Ae=be.x,Le=d.y+ee*(be.x-d.x)/U):E&1&&(Ae=ce.x,Le=d.y+ee*(ce.x-d.x)/U),new ne(Ae,Le,R)}function Ho(d,y){var E=0;return d.x<y.min.x?E|=1:d.x>y.max.x&&(E|=2),d.y<y.min.y?E|=4:d.y>y.max.y&&(E|=8),E}function Dx(d,y){var E=y.x-d.x,M=y.y-d.y;return E*E+M*M}function ac(d,y,E,M){var R=y.x,U=y.y,ee=E.x-R,ce=E.y-U,be=ee*ee+ce*ce,Ae;return be>0&&(Ae=((d.x-R)*ee+(d.y-U)*ce)/be,Ae>1?(R=E.x,U=E.y):Ae>0&&(R+=ee*Ae,U+=ce*Ae)),ee=d.x-R,ce=d.y-U,M?ee*ee+ce*ce:new ne(R,U)}function Vr(d){return!j(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function Ou(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vr(d)}function Ys(d,y){var E,M,R,U,ee,ce,be,Ae;if(!d||d.length===0)throw new Error("latlngs not passed");Vr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Le=he([0,0]),Ye=Q(d),ut=Ye.getNorthWest().distanceTo(Ye.getSouthWest())*Ye.getNorthEast().distanceTo(Ye.getNorthWest());ut<1700&&(Le=Gf(d));var Fn=d.length,gn=[];for(E=0;E<Fn;E++){var Rr=he(d[E]);gn.push(y.project(he([Rr.lat-Le.lat,Rr.lng-Le.lng])))}for(E=0,M=0;E<Fn-1;E++)M+=gn[E].distanceTo(gn[E+1])/2;if(M===0)Ae=gn[0];else for(E=0,U=0;E<Fn-1;E++)if(ee=gn[E],ce=gn[E+1],R=ee.distanceTo(ce),U+=R,U>M){be=(U-M)/R,Ae=[ce.x-be*(ce.x-ee.x),ce.y-be*(ce.y-ee.y)];break}var St=y.unproject(oe(Ae));return he([St.lat+Le.lat,St.lng+Le.lng])}var Px={__proto__:null,simplify:Jp,pointToSegmentDistance:Qp,closestPointOnSegment:Cx,clipSegment:ng,_getEdgeIntersection:ju,_getBitCode:Ho,_sqClosestPointOnSegment:ac,isFlat:Vr,_flat:Ou,polylineCenter:Ys},Nu={project:function(d){return new ne(d.lng,d.lat)},unproject:function(d){return new se(d.y,d.x)},bounds:new B([-180,-90],[180,90])},Cu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var y=Math.PI/180,E=this.R,M=d.lat*y,R=this.R_MINOR/E,U=Math.sqrt(1-R*R),ee=U*Math.sin(M),ce=Math.tan(Math.PI/4-M/2)/Math.pow((1-ee)/(1+ee),U/2);return M=-E*Math.log(Math.max(ce,1e-10)),new ne(d.lng*y*E,M)},unproject:function(d){for(var y=180/Math.PI,E=this.R,M=this.R_MINOR/E,R=Math.sqrt(1-M*M),U=Math.exp(-d.y/E),ee=Math.PI/2-2*Math.atan(U),ce=0,be=.1,Ae;ce<15&&Math.abs(be)>1e-7;ce++)Ae=R*Math.sin(ee),Ae=Math.pow((1-Ae)/(1+Ae),R/2),be=Math.PI/2-2*Math.atan(U*Ae)-ee,ee+=be;return new se(ee*y,d.x*y/E)}},rg={__proto__:null,LonLat:Nu,Mercator:Cu,SphericalMercator:Ee},ig=i({},Se,{code:"EPSG:3395",projection:Cu,transformation:(function(){var d=.5/(Math.PI*Cu.R);return fe(d,.5,-d,.5)})()}),Kf=i({},Se,{code:"EPSG:4326",projection:Nu,transformation:fe(1/180,1,-1/180,.5)}),Ks=i({},me,{projection:Nu,transformation:fe(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,y){var E=y.lng-d.lng,M=y.lat-d.lat;return Math.sqrt(E*E+M*M)},infinite:!0});me.Earth=Se,me.EPSG3395=ig,me.EPSG3857=Je,me.EPSG900913=Ke,me.EPSG4326=Kf,me.Simple=Ks;var wi=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[u(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[u(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var y=d.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var E=this.getEvents();y.on(E,this),this.once("remove",function(){y.off(E,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});bt.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var y=u(d);return this._layers[y]?this:(this._layers[y]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var y=u(d);return this._layers[y]?(this._loaded&&d.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return u(d)in this._layers},eachLayer:function(d,y){for(var E in this._layers)d.call(y,this._layers[E]);return this},_addLayers:function(d){d=d?j(d)?d:[d]:[];for(var y=0,E=d.length;y<E;y++)this.addLayer(d[y])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[u(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var y=u(d);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,y=-1/0,E=this._getZoomSpan();for(var M in this._zoomBoundLayers){var R=this._zoomBoundLayers[M].options;d=R.minZoom===void 0?d:Math.min(d,R.minZoom),y=R.maxZoom===void 0?y:Math.max(y,R.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=d===1/0?void 0:d,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ws=wi.extend({initialize:function(d,y){w(this,y),this._layers={};var E,M;if(d)for(E=0,M=d.length;E<M;E++)this.addLayer(d[E])},addLayer:function(d){var y=this.getLayerId(d);return this._layers[y]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var y=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(d){var y=typeof d=="number"?d:this.getLayerId(d);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var y=Array.prototype.slice.call(arguments,1),E,M;for(E in this._layers)M=this._layers[E],M[d]&&M[d].apply(M,y);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,y){for(var E in this._layers)d.call(y,this._layers[E]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return u(d)}}),Rx=function(d,y){return new Ws(d,y)},Vi=Ws.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),Ws.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),Ws.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new ie;for(var y in this._layers){var E=this._layers[y];d.extend(E.getBounds?E.getBounds():E.getLatLng())}return d}}),ag=function(d,y){return new Vi(d,y)},Zi=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){w(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,y){var E=this._getIconUrl(d);if(!E){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(E,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(M,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(d,y){var E=this.options,M=E[y+"Size"];typeof M=="number"&&(M=[M,M]);var R=oe(M),U=oe(y==="shadow"&&E.shadowAnchor||E.iconAnchor||R&&R.divideBy(2,!0));d.className="leaflet-marker-"+y+" "+(E.className||""),U&&(d.style.marginLeft=-U.x+"px",d.style.marginTop=-U.y+"px"),R&&(d.style.width=R.x+"px",d.style.height=R.y+"px")},_createImg:function(d,y){return y=y||document.createElement("img"),y.src=d,y},_getIconUrl:function(d){return Ge.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function oc(d){return new Zi(d)}var sc=Zi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof sc.imagePath!="string"&&(sc.imagePath=this._detectIconPath()),(this.options.imagePath||sc.imagePath)+Zi.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var y=function(E,M,R){var U=M.exec(E);return U&&U[R]};return d=y(d,/^url\((['"])?(.+)\1\)$/,2),d&&y(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=ht("div","leaflet-default-icon-path",document.body),y=Xl(d,"background-image")||Xl(d,"backgroundImage");if(document.body.removeChild(d),y=this._stripUrl(y),y)return y;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),lc=Wi.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Qa(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ot(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&en(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var y=this._marker,E=y._map,M=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,U=Xa(y._icon),ee=E.getPixelBounds(),ce=E.getPixelOrigin(),be=W(ee.min._subtract(ce).add(R),ee.max._subtract(ce).subtract(R));if(!be.contains(U)){var Ae=oe((Math.max(be.max.x,U.x)-be.max.x)/(ee.max.x-be.max.x)-(Math.min(be.min.x,U.x)-be.min.x)/(ee.min.x-be.min.x),(Math.max(be.max.y,U.y)-be.max.y)/(ee.max.y-be.max.y)-(Math.min(be.min.y,U.y)-be.min.y)/(ee.min.y-be.min.y)).multiplyBy(M);E.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Ut(y._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=H(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,d)))},_onDrag:function(d){var y=this._marker,E=y._shadow,M=Xa(y._icon),R=y._map.layerPointToLatLng(M);E&&Ut(E,M),y._latlng=R,d.latlng=R,d.oldLatLng=this._oldLatLng,y.fire("move",d).fire("drag",d)},_onDragEnd:function(d){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),cc=wi.extend({options:{icon:new sc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,y){w(this,y),this._latlng=he(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var y=this._latlng;return this._latlng=he(d),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=d.icon.createIcon(this._icon),M=!1;E!==this._icon&&(this._icon&&this._removeIcon(),M=!0,d.title&&(E.title=d.title),E.tagName==="IMG"&&(E.alt=d.alt||"")),ot(E,y),d.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&rt(E,"focus",this._panOnFocus,this);var R=d.icon.createShadow(this._shadow),U=!1;R!==this._shadow&&(this._removeShadow(),U=!0),R&&(ot(R,y),R.alt=""),this._shadow=R,d.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&U&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(this._icon,"focus",this._panOnFocus,this),It(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&It(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Ut(this._icon,d),this._shadow&&Ut(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(ot(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),lc)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new lc(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&Zt(this._icon,d),this._shadow&&Zt(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var y=this.options.icon.options,E=y.iconSize?oe(y.iconSize):oe(0,0),M=y.iconAnchor?oe(y.iconAnchor):oe(0,0);d.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:E.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function og(d,y){return new cc(d,y)}var Xi=wi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return w(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vs=Xi.extend({options:{fill:!0,radius:10},initialize:function(d,y){w(this,y),this._latlng=he(d),this._radius=this.options.radius},setLatLng:function(d){var y=this._latlng;return this._latlng=he(d),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var y=d&&d.radius||this._radius;return Xi.prototype.setStyle.call(this,d),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,y=this._radiusY||d,E=this._clickTolerance(),M=[d+E,y+E];this._pxBounds=new B(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function sg(d,y){return new Vs(d,y)}var Mu=Vs.extend({initialize:function(d,y,E){if(typeof y=="number"&&(y=i({},E,{radius:y})),w(this,y),this._latlng=he(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Xi.prototype.setStyle,_project:function(){var d=this._latlng.lng,y=this._latlng.lat,E=this._map,M=E.options.crs;if(M.distance===Se.distance){var R=Math.PI/180,U=this._mRadius/Se.R/R,ee=E.project([y+U,d]),ce=E.project([y-U,d]),be=ee.add(ce).divideBy(2),Ae=E.unproject(be).lat,Le=Math.acos((Math.cos(U*R)-Math.sin(y*R)*Math.sin(Ae*R))/(Math.cos(y*R)*Math.cos(Ae*R)))/R;(isNaN(Le)||Le===0)&&(Le=U/Math.cos(Math.PI/180*y)),this._point=be.subtract(E.getPixelOrigin()),this._radius=isNaN(Le)?0:be.x-E.project([Ae,d-Le]).x,this._radiusY=be.y-ee.y}else{var Ye=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(Ye).x}this._updateBounds()}});function lg(d,y,E){return new Mu(d,y,E)}var Ea=Xi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,y){w(this,y),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var y=1/0,E=null,M=ac,R,U,ee=0,ce=this._parts.length;ee<ce;ee++)for(var be=this._parts[ee],Ae=1,Le=be.length;Ae<Le;Ae++){R=be[Ae-1],U=be[Ae];var Ye=M(d,R,U,!0);Ye<y&&(y=Ye,E=M(d,R,U))}return E&&(E.distance=Math.sqrt(y)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ys(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,y){return y=y||this._defaultShape(),d=he(d),y.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new ie,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return Vr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var y=[],E=Vr(d),M=0,R=d.length;M<R;M++)E?(y[M]=he(d[M]),this._bounds.extend(y[M])):y[M]=this._convertLatLngs(d[M]);return y},_project:function(){var d=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),y=new ne(d,d);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(d,y,E){var M=d[0]instanceof se,R=d.length,U,ee;if(M){for(ee=[],U=0;U<R;U++)ee[U]=this._map.latLngToLayerPoint(d[U]),E.extend(ee[U]);y.push(ee)}else for(U=0;U<R;U++)this._projectLatlngs(d[U],y,E)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,E,M,R,U,ee,ce,be;for(E=0,R=0,U=this._rings.length;E<U;E++)for(be=this._rings[E],M=0,ee=be.length;M<ee-1;M++)ce=ng(be[M],be[M+1],d,M,!0),ce&&(y[R]=y[R]||[],y[R].push(ce[0]),(ce[1]!==be[M+1]||M===ee-2)&&(y[R].push(ce[1]),R++))}},_simplifyPoints:function(){for(var d=this._parts,y=this.options.smoothFactor,E=0,M=d.length;E<M;E++)d[E]=Jp(d[E],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,y){var E,M,R,U,ee,ce,be=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(E=0,U=this._parts.length;E<U;E++)for(ce=this._parts[E],M=0,ee=ce.length,R=ee-1;M<ee;R=M++)if(!(!y&&M===0)&&Qp(d,ce[R],ce[M])<=be)return!0;return!1}});function Lx(d,y){return new Ea(d,y)}Ea._flat=Ou;var Zs=Ea.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var y=Ea.prototype._convertLatLngs.call(this,d),E=y.length;return E>=2&&y[0]instanceof se&&y[0].equals(y[E-1])&&y.pop(),y},_setLatLngs:function(d){Ea.prototype._setLatLngs.call(this,d),Vr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,y=this.options.weight,E=new ne(y,y);if(d=new B(d.min.subtract(E),d.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,R=this._rings.length,U;M<R;M++)U=Zp(this._rings[M],d,!0),U.length&&this._parts.push(U)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var y=!1,E,M,R,U,ee,ce,be,Ae;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(U=0,be=this._parts.length;U<be;U++)for(E=this._parts[U],ee=0,Ae=E.length,ce=Ae-1;ee<Ae;ce=ee++)M=E[ee],R=E[ce],M.y>d.y!=R.y>d.y&&d.x<(R.x-M.x)*(d.y-M.y)/(R.y-M.y)+M.x&&(y=!y);return y||Ea.prototype._containsPoint.call(this,d,!0)}});function Ix(d,y){return new Zs(d,y)}var Aa=Vi.extend({initialize:function(d,y){w(this,y),this._layers={},d&&this.addData(d)},addData:function(d){var y=j(d)?d:d.features,E,M,R;if(y){for(E=0,M=y.length;E<M;E++)R=y[E],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var U=this.options;if(U.filter&&!U.filter(d))return this;var ee=er(d,U);return ee?(ee.feature=Ru(d),ee.defaultOptions=ee.options,this.resetStyle(ee),U.onEachFeature&&U.onEachFeature(d,ee),this.addLayer(ee)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(y){this._setLayerStyle(y,d)},this)},_setLayerStyle:function(d,y){d.setStyle&&(typeof y=="function"&&(y=y(d.feature)),d.setStyle(y))}});function er(d,y){var E=d.type==="Feature"?d.geometry:d,M=E?E.coordinates:null,R=[],U=y&&y.pointToLayer,ee=y&&y.coordsToLatLng||Du,ce,be,Ae,Le;if(!M&&!E)return null;switch(E.type){case"Point":return ce=ee(M),Xs(U,d,ce,y);case"MultiPoint":for(Ae=0,Le=M.length;Ae<Le;Ae++)ce=ee(M[Ae]),R.push(Xs(U,d,ce,y));return new Vi(R);case"LineString":case"MultiLineString":return be=uc(M,E.type==="LineString"?0:1,ee),new Ea(be,y);case"Polygon":case"MultiPolygon":return be=uc(M,E.type==="Polygon"?1:2,ee),new Zs(be,y);case"GeometryCollection":for(Ae=0,Le=E.geometries.length;Ae<Le;Ae++){var Ye=er({geometry:E.geometries[Ae],type:"Feature",properties:d.properties},y);Ye&&R.push(Ye)}return new Vi(R);case"FeatureCollection":for(Ae=0,Le=E.features.length;Ae<Le;Ae++){var ut=er(E.features[Ae],y);ut&&R.push(ut)}return new Vi(R);default:throw new Error("Invalid GeoJSON object.")}}function Xs(d,y,E,M){return d?d(y,E):new cc(E,M&&M.markersInheritOptions&&M)}function Du(d){return new se(d[1],d[0],d[2])}function uc(d,y,E){for(var M=[],R=0,U=d.length,ee;R<U;R++)ee=y?uc(d[R],y-1,E):(E||Du)(d[R]),M.push(ee);return M}function Pu(d,y){return d=he(d),d.alt!==void 0?[b(d.lng,y),b(d.lat,y),b(d.alt,y)]:[b(d.lng,y),b(d.lat,y)]}function dc(d,y,E,M){for(var R=[],U=0,ee=d.length;U<ee;U++)R.push(y?dc(d[U],Vr(d[U])?0:y-1,E,M):Pu(d[U],M));return!y&&E&&R.length>0&&R.push(R[0].slice()),R}function eo(d,y){return d.feature?i({},d.feature,{geometry:y}):Ru(y)}function Ru(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var to={toGeoJSON:function(d){return eo(this,{type:"Point",coordinates:Pu(this.getLatLng(),d)})}};cc.include(to),Mu.include(to),Vs.include(to),Ea.include({toGeoJSON:function(d){var y=!Vr(this._latlngs),E=dc(this._latlngs,y?1:0,!1,d);return eo(this,{type:(y?"Multi":"")+"LineString",coordinates:E})}}),Zs.include({toGeoJSON:function(d){var y=!Vr(this._latlngs),E=y&&!Vr(this._latlngs[0]),M=dc(this._latlngs,E?2:y?1:0,!0,d);return y||(M=[M]),eo(this,{type:(E?"Multi":"")+"Polygon",coordinates:M})}}),Ws.include({toMultiPoint:function(d){var y=[];return this.eachLayer(function(E){y.push(E.toGeoJSON(d).geometry.coordinates)}),eo(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(d){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(d);var E=y==="GeometryCollection",M=[];return this.eachLayer(function(R){if(R.toGeoJSON){var U=R.toGeoJSON(d);if(E)M.push(U.geometry);else{var ee=Ru(U);ee.type==="FeatureCollection"?M.push.apply(M,ee.features):M.push(ee)}}}),E?eo(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function Lu(d,y){return new Aa(d,y)}var fc=Lu,Js=wi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,y,E){this._url=d,this._bounds=Q(y),w(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ot(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){It(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&Un(this._image),this},bringToBack:function(){return this._map&&zo(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=Q(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",y=this._image=d?this._url:ht("img");if(ot(y,"leaflet-image-layer"),this._zoomAnimated&&ot(y,"leaflet-zoom-animated"),this.options.className&&ot(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(d){var y=this._map.getZoomScale(d.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;wa(this._image,E,y)},_reset:function(){var d=this._image,y=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=y.getSize();Ut(d,y.min),d.style.width=E.x+"px",d.style.height=E.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),cg=function(d,y,E){return new Js(d,y,E)},no=Js.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",y=this._image=d?this._url:ht("video");if(ot(y,"leaflet-image-layer"),this._zoomAnimated&&ot(y,"leaflet-zoom-animated"),this.options.className&&ot(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onloadeddata=o(this.fire,this,"load"),d){for(var E=y.getElementsByTagName("source"),M=[],R=0;R<E.length;R++)M.push(E[R].src);this._url=E.length>0?M:[y.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var U=0;U<this._url.length;U++){var ee=ht("source");ee.src=this._url[U],y.appendChild(ee)}}});function Qs(d,y,E){return new no(d,y,E)}var Iu=Js.extend({_initImage:function(){var d=this._image=this._url;ot(d,"leaflet-image-layer"),this._zoomAnimated&&ot(d,"leaflet-zoom-animated"),this.options.className&&ot(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function ug(d,y,E){return new Iu(d,y,E)}var tr=wi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,y){d&&(d instanceof se||j(d))?(this._latlng=he(d),w(this,y)):(w(this,d),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(ot(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(o(It,void 0,this._container),200)):It(this._container),this.options.interactive&&(en(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=he(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Un(this._container),this},bringToBack:function(){return this._map&&zo(this._container),this},_prepareOpen:function(d){var y=this._source;if(!y._map)return!1;if(y instanceof Vi){y=null;var E=this._source._layers;for(var M in E)if(E[M]._map){y=E[M];break}if(!y)return!1;this._source=y}if(!d)if(y.getCenter)d=y.getCenter();else if(y.getLatLng)d=y.getLatLng();else if(y.getBounds)d=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")d.innerHTML=y;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),y=oe(this.options.offset),E=this._getAnchor();this._zoomAnimated?Ut(this._container,d.add(E)):y=y.add(d).add(E);var M=this._containerBottom=-y.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=M+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});bt.include({_initOverlay:function(d,y,E,M){var R=y;return R instanceof d||(R=new d(M).setContent(y)),E&&R.setLatLng(E),R}}),wi.include({_initOverlay:function(d,y,E,M){var R=E;return R instanceof d?(w(R,M),R._source=this):(R=y&&!M?y:new d(M,this),R.setContent(E)),R}});var hc=tr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,tr.prototype.openOn.call(this,d)},onAdd:function(d){tr.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xi||this._source.on("preclick",_i))},onRemove:function(d){tr.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xi||this._source.off("preclick",_i))},getEvents:function(){var d=tr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",y=this._container=ht("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=ht("div",d+"-content-wrapper",y);if(this._contentNode=ht("div",d+"-content",E),Fo(y),Ki(this._contentNode),rt(y,"contextmenu",_i),this._tipContainer=ht("div",d+"-tip-container",y),this._tip=ht("div",d+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=ht("a",d+"-close-button",y);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',rt(M,"click",function(R){pn(R),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,y=d.style;y.width="",y.whiteSpace="nowrap";var E=d.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),y.width=E+1+"px",y.whiteSpace="",y.height="";var M=d.offsetHeight,R=this.options.maxHeight,U="leaflet-popup-scrolled";R&&M>R?(y.height=R+"px",ot(d,U)):en(d,U),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),E=this._getAnchor();Ut(this._container,y.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,y=parseInt(Xl(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+y,M=this._containerWidth,R=new ne(this._containerLeft,-E-this._containerBottom);R._add(Xa(this._container));var U=d.layerPointToContainerPoint(R),ee=oe(this.options.autoPanPadding),ce=oe(this.options.autoPanPaddingTopLeft||ee),be=oe(this.options.autoPanPaddingBottomRight||ee),Ae=d.getSize(),Le=0,Ye=0;U.x+M+be.x>Ae.x&&(Le=U.x+M-Ae.x+be.x),U.x-Le-ce.x<0&&(Le=U.x-ce.x),U.y+E+be.y>Ae.y&&(Ye=U.y+E-Ae.y+be.y),U.y-Ye-ce.y<0&&(Ye=U.y-ce.y),(Le||Ye)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Le,Ye]))}},_getAnchor:function(){return oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),dg=function(d,y){return new hc(d,y)};bt.mergeOptions({closePopupOnClick:!0}),bt.include({openPopup:function(d,y,E){return this._initOverlay(hc,d,y,E).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),wi.include({bindPopup:function(d,y){return this._popup=this._initOverlay(hc,this._popup,d,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Vi||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Ja(d);var y=d.layer||d.target;if(this._popup._source===y&&!(y instanceof Xi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=y,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var mc=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){tr.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){tr.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=tr.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",y=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ht("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var y,E,M=this._map,R=this._container,U=M.latLngToContainerPoint(M.getCenter()),ee=M.layerPointToContainerPoint(d),ce=this.options.direction,be=R.offsetWidth,Ae=R.offsetHeight,Le=oe(this.options.offset),Ye=this._getAnchor();ce==="top"?(y=be/2,E=Ae):ce==="bottom"?(y=be/2,E=0):ce==="center"?(y=be/2,E=Ae/2):ce==="right"?(y=0,E=Ae/2):ce==="left"?(y=be,E=Ae/2):ee.x<U.x?(ce="right",y=0,E=Ae/2):(ce="left",y=be+(Le.x+Ye.x)*2,E=Ae/2),d=d.subtract(oe(y,E,!0)).add(Le).add(Ye),en(R,"leaflet-tooltip-right"),en(R,"leaflet-tooltip-left"),en(R,"leaflet-tooltip-top"),en(R,"leaflet-tooltip-bottom"),ot(R,"leaflet-tooltip-"+ce),Ut(R,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&Zt(this._container,d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(y)},_getAnchor:function(){return oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$x=function(d,y){return new mc(d,y)};bt.include({openTooltip:function(d,y,E){return this._initOverlay(mc,d,y,E).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),wi.include({bindTooltip:function(d,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(mc,this._tooltip,d,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var y=d?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[y](E),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Vi||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&(rt(y,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),rt(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var y=d.latlng,E,M;this._tooltip.options.sticky&&d.originalEvent&&(E=this._map.mouseEventToContainerPoint(d.originalEvent),M=this._map.containerPointToLayerPoint(E),y=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(y)}});var fg=Zi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var y=d&&d.tagName==="DIV"?d:document.createElement("div"),E=this.options;if(E.html instanceof Element?(Kr(y),y.appendChild(E.html)):y.innerHTML=E.html!==!1?E.html:"",E.bgPos){var M=oe(E.bgPos);y.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function Bx(d){return new fg(d)}Zi.Default=sc;var el=wi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ge.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){w(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),It(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Un(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof ne?d:new ne(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var y=this.getPane().children,E=-d(-1/0,1/0),M=0,R=y.length,U;M<R;M++)U=y[M].style.zIndex,y[M]!==this._container&&U&&(E=d(E,+U));isFinite(E)&&(this.options.zIndex=E+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ge.ielt9){Zt(this._container,this.options.opacity);var d=+new Date,y=!1,E=!1;for(var M in this._tiles){var R=this._tiles[M];if(!(!R.current||!R.loaded)){var U=Math.min(1,(d-R.loaded)/200);Zt(R.el,U),U<1?y=!0:(R.active?E=!0:this._onOpaqueTile(R),R.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),y&&(z(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ht("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,y=this.options.maxZoom;if(d!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===d?(this._levels[E].el.style.zIndex=y-Math.abs(d-E),this._onUpdateLevel(E)):(It(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var M=this._levels[d],R=this._map;return M||(M=this._levels[d]={},M.el=ht("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=y,M.origin=R.project(R.unproject(R.getPixelOrigin()),d).round(),M.zoom=d,this._setZoomTransform(M,R.getCenter(),R.getZoom()),p(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,y,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)y=this._tiles[d],y.retain=y.current;for(d in this._tiles)if(y=this._tiles[d],y.current&&!y.active){var M=y.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var y in this._tiles)this._tiles[y].coords.z===d&&this._removeTile(y)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)It(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,y,E,M){var R=Math.floor(d/2),U=Math.floor(y/2),ee=E-1,ce=new ne(+R,+U);ce.z=+ee;var be=this._tileCoordsToKey(ce),Ae=this._tiles[be];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),ee>M?this._retainParent(R,U,ee,M):!1)},_retainChildren:function(d,y,E,M){for(var R=2*d;R<2*d+2;R++)for(var U=2*y;U<2*y+2;U++){var ee=new ne(R,U);ee.z=E+1;var ce=this._tileCoordsToKey(ee),be=this._tiles[ce];if(be&&be.active){be.retain=!0;continue}else be&&be.loaded&&(be.retain=!0);E+1<M&&this._retainChildren(R,U,E+1,M)}},_resetView:function(d){var y=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var y=this.options;return y.minNativeZoom!==void 0&&d<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<d?y.maxNativeZoom:d},_setView:function(d,y,E,M){var R=Math.round(y);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var U=this.options.updateWhenZooming&&R!==this._tileZoom;(!M||U)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(d),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(d,y)},_setZoomTransforms:function(d,y){for(var E in this._levels)this._setZoomTransform(this._levels[E],d,y)},_setZoomTransform:function(d,y,E){var M=this._map.getZoomScale(E,d.zoom),R=d.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(y,E)).round();Ge.any3d?wa(d.el,R,M):Ut(d.el,R)},_resetGrid:function(){var d=this._map,y=d.options.crs,E=this._tileSize=this.getTileSize(),M=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,y.wrapLng[0]],M).x/E.x),Math.ceil(d.project([0,y.wrapLng[1]],M).x/E.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([y.wrapLat[0],0],M).y/E.x),Math.ceil(d.project([y.wrapLat[1],0],M).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var y=this._map,E=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),M=y.getZoomScale(E,this._tileZoom),R=y.project(d,this._tileZoom).floor(),U=y.getSize().divideBy(M*2);return new B(R.subtract(U),R.add(U))},_update:function(d){var y=this._map;if(y){var E=this._clampZoom(y.getZoom());if(d===void 0&&(d=y.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(d),R=this._pxBoundsToTileRange(M),U=R.getCenter(),ee=[],ce=this.options.keepBuffer,be=new B(R.getBottomLeft().subtract([ce,-ce]),R.getTopRight().add([ce,-ce]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Le=this._tiles[Ae].coords;(Le.z!==this._tileZoom||!be.contains(new ne(Le.x,Le.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(d,E);return}for(var Ye=R.min.y;Ye<=R.max.y;Ye++)for(var ut=R.min.x;ut<=R.max.x;ut++){var Fn=new ne(ut,Ye);if(Fn.z=this._tileZoom,!!this._isValidTile(Fn)){var gn=this._tiles[this._tileCoordsToKey(Fn)];gn?gn.current=!0:ee.push(Fn)}}if(ee.sort(function(St,kt){return St.distanceTo(U)-kt.distanceTo(U)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Rr=document.createDocumentFragment();for(ut=0;ut<ee.length;ut++)this._addTile(ee[ut],Rr);this._level.el.appendChild(Rr)}}}},_isValidTile:function(d){var y=this._map.options.crs;if(!y.infinite){var E=this._globalTileRange;if(!y.wrapLng&&(d.x<E.min.x||d.x>E.max.x)||!y.wrapLat&&(d.y<E.min.y||d.y>E.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(d);return Q(this.options.bounds).overlaps(M)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var y=this._map,E=this.getTileSize(),M=d.scaleBy(E),R=M.add(E),U=y.unproject(M,d.z),ee=y.unproject(R,d.z);return[U,ee]},_tileCoordsToBounds:function(d){var y=this._tileCoordsToNwSe(d),E=new ie(y[0],y[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var y=d.split(":"),E=new ne(+y[0],+y[1]);return E.z=+y[2],E},_removeTile:function(d){var y=this._tiles[d];y&&(It(y.el),delete this._tiles[d],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){ot(d,"leaflet-tile");var y=this.getTileSize();d.style.width=y.x+"px",d.style.height=y.y+"px",d.onselectstart=p,d.onmousemove=p,Ge.ielt9&&this.options.opacity<1&&Zt(d,this.options.opacity)},_addTile:function(d,y){var E=this._getTilePos(d),M=this._tileCoordsToKey(d),R=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(R),this.createTile.length<2&&H(o(this._tileReady,this,d,null,R)),Ut(R,E),this._tiles[M]={el:R,coords:d,current:!0},y.appendChild(R),this.fire("tileloadstart",{tile:R,coords:d})},_tileReady:function(d,y,E){y&&this.fire("tileerror",{error:y,tile:E,coords:d});var M=this._tileCoordsToKey(d);E=this._tiles[M],E&&(E.loaded=+new Date,this._map._fadeAnimated?(Zt(E.el,0),z(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),y||(ot(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ge.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var y=new ne(this._wrapX?h(d.x,this._wrapX):d.x,this._wrapY?h(d.y,this._wrapY):d.y);return y.z=d.z,y},_pxBoundsToTileRange:function(d){var y=this.getTileSize();return new B(d.min.unscaleBy(y).floor(),d.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function hg(d){return new el(d)}var ro=el.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,y){this._url=d,y=w(this,y),y.detectRetina&&Ge.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,y){return this._url===d&&y===void 0&&(y=!0),this._url=d,y||this.redraw(),this},createTile:function(d,y){var E=document.createElement("img");return rt(E,"load",o(this._tileOnLoad,this,y,E)),rt(E,"error",o(this._tileOnError,this,y,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(d),E},getTileUrl:function(d){var y={r:Ge.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-d.y;this.options.tms&&(y.y=E),y["-y"]=E}return N(this._url,i(y,this.options))},_tileOnLoad:function(d,y){Ge.ielt9?setTimeout(o(d,this,null,y),0):d(null,y)},_tileOnError:function(d,y,E){var M=this.options.errorTileUrl;M&&y.getAttribute("src")!==M&&(y.src=M),d(E,y)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,y=this.options.maxZoom,E=this.options.zoomReverse,M=this.options.zoomOffset;return E&&(d=y-d),d+M},_getSubdomain:function(d){var y=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var d,y;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(y=this._tiles[d].el,y.onload=p,y.onerror=p,!y.complete)){y.src=D;var E=this._tiles[d].coords;It(y),delete this._tiles[d],this.fire("tileabort",{tile:y,coords:E})}},_removeTile:function(d){var y=this._tiles[d];if(y)return y.el.setAttribute("src",D),el.prototype._removeTile.call(this,d)},_tileReady:function(d,y,E){if(!(!this._map||E&&E.getAttribute("src")===D))return el.prototype._tileReady.call(this,d,y,E)}});function Zr(d,y){return new ro(d,y)}var pc=ro.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,y){this._url=d;var E=i({},this.defaultWmsParams);for(var M in y)M in this.options||(E[M]=y[M]);y=w(this,y);var R=y.detectRetina&&Ge.retina?2:1,U=this.getTileSize();E.width=U.x*R,E.height=U.y*R,this.wmsParams=E},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,ro.prototype.onAdd.call(this,d)},getTileUrl:function(d){var y=this._tileCoordsToNwSe(d),E=this._crs,M=W(E.project(y[0]),E.project(y[1])),R=M.min,U=M.max,ee=(this._wmsVersion>=1.3&&this._crs===Kf?[R.y,R.x,U.y,U.x]:[R.x,R.y,U.x,U.y]).join(","),ce=ro.prototype.getTileUrl.call(this,d);return ce+_(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(d,y){return i(this.wmsParams,d),y||this.redraw(),this}});function Xr(d,y){return new pc(d,y)}ro.WMS=pc,Zr.wms=Xr;var Er=wi.extend({options:{padding:.1},initialize:function(d){w(this,d),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ot(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,y){var E=this._map.getZoomScale(y,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,y),U=M.multiplyBy(-E).add(R).subtract(this._map._getNewPixelOrigin(d,y));Ge.any3d?wa(this._container,U,E):Ut(this._container,U)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,y=this._map.getSize(),E=this._map.containerPointToLayerPoint(y.multiplyBy(-d)).round();this._bounds=new B(E,E.add(y.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$u=Er.extend({options:{tolerance:0},getEvents:function(){var d=Er.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Er.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");rt(d,"mousemove",this._onMouseMove,this),rt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),rt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,It(this._container),Ct(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var y in this._layers)d=this._layers[y],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Er.prototype._update.call(this);var d=this._bounds,y=this._container,E=d.getSize(),M=Ge.retina?2:1;Ut(y,d.min),y.width=M*E.x,y.height=M*E.y,y.style.width=E.x+"px",y.style.height=E.y+"px",Ge.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){Er.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[u(d)]=d;var y=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var y=d._order,E=y.next,M=y.prev;E?E.prev=M:this._drawLast=M,M?M.next=E:this._drawFirst=E,delete d._order,delete this._layers[u(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var y=d.options.dashArray.split(/[, ]+/),E=[],M,R;for(R=0;R<y.length;R++){if(M=Number(y[R]),isNaN(M))return;E.push(M)}d.options._dashArray=E}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var y=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(d._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(d._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var y=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,y=this._redrawBounds;if(this._ctx.save(),y){var E=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)d=M.layer,(!y||d._pxBounds&&d._pxBounds.intersects(y))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,y){if(this._drawing){var E,M,R,U,ee=d._parts,ce=ee.length,be=this._ctx;if(ce){for(be.beginPath(),E=0;E<ce;E++){for(M=0,R=ee[E].length;M<R;M++)U=ee[E][M],be[M?"lineTo":"moveTo"](U.x,U.y);y&&be.closePath()}this._fillStroke(be,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var y=d._point,E=this._ctx,M=Math.max(Math.round(d._radius),1),R=(Math.max(Math.round(d._radiusY),1)||M)/M;R!==1&&(E.save(),E.scale(1,R)),E.beginPath(),E.arc(y.x,y.y/R,M,0,Math.PI*2,!1),R!==1&&E.restore(),this._fillStroke(E,d)}},_fillStroke:function(d,y){var E=y.options;E.fill&&(d.globalAlpha=E.fillOpacity,d.fillStyle=E.fillColor||E.color,d.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(d.setLineDash&&d.setLineDash(y.options&&y.options._dashArray||[]),d.globalAlpha=E.opacity,d.lineWidth=E.weight,d.strokeStyle=E.color,d.lineCap=E.lineCap,d.lineJoin=E.lineJoin,d.stroke())},_onClick:function(d){for(var y=this._map.mouseEventToLayerPoint(d),E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(y)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(E))&&(M=E);this._fireEvent(M?[M]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,y)}},_handleMouseOut:function(d){var y=this._hoveredLayer;y&&(en(this._container,"leaflet-interactive"),this._fireEvent([y],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,y){if(!this._mouseHoverThrottled){for(var E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(y)&&(M=E);M!==this._hoveredLayer&&(this._handleMouseOut(d),M&&(ot(this._container,"leaflet-interactive"),this._fireEvent([M],d,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,y,E){this._map._fireDOMEvent(y,E||y.type,d)},_bringToFront:function(d){var y=d._order;if(y){var E=y.next,M=y.prev;if(E)E.prev=M;else return;M?M.next=E:E&&(this._drawFirst=E),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(d)}},_bringToBack:function(d){var y=d._order;if(y){var E=y.next,M=y.prev;if(M)M.next=E;else return;E?E.prev=M:M&&(this._drawLast=M),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(d)}}});function gc(d){return Ge.canvas?new $u(d):null}var io=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Wf={_initContainer:function(){this._container=ht("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Er.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var y=d._container=io("shape");ot(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",d._path=io("path"),y.appendChild(d._path),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){var y=d._container;this._container.appendChild(y),d.options.interactive&&d.addInteractiveTarget(y)},_removePath:function(d){var y=d._container;It(y),d.removeInteractiveTarget(y),delete this._layers[u(d)]},_updateStyle:function(d){var y=d._stroke,E=d._fill,M=d.options,R=d._container;R.stroked=!!M.stroke,R.filled=!!M.fill,M.stroke?(y||(y=d._stroke=io("stroke")),R.appendChild(y),y.weight=M.weight+"px",y.color=M.color,y.opacity=M.opacity,M.dashArray?y.dashStyle=j(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=M.lineCap.replace("butt","flat"),y.joinstyle=M.lineJoin):y&&(R.removeChild(y),d._stroke=null),M.fill?(E||(E=d._fill=io("fill")),R.appendChild(E),E.color=M.fillColor||M.color,E.opacity=M.fillOpacity):E&&(R.removeChild(E),d._fill=null)},_updateCircle:function(d){var y=d._point.round(),E=Math.round(d._radius),M=Math.round(d._radiusY||E);this._setPath(d,d._empty()?"M0 0":"AL "+y.x+","+y.y+" "+E+","+M+" 0,"+65535*360)},_setPath:function(d,y){d._path.v=y},_bringToFront:function(d){Un(d._container)},_bringToBack:function(d){zo(d._container)}},Ji=Ge.vml?io:Ne,tl=Er.extend({_initContainer:function(){this._container=Ji("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ji("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){It(this._container),Ct(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Er.prototype._update.call(this);var d=this._bounds,y=d.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,E.setAttribute("width",y.x),E.setAttribute("height",y.y)),Ut(E,d.min),E.setAttribute("viewBox",[d.min.x,d.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(d){var y=d._path=Ji("path");d.options.className&&ot(y,d.options.className),d.options.interactive&&ot(y,"leaflet-interactive"),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){It(d._path),d.removeInteractiveTarget(d._path),delete this._layers[u(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var y=d._path,E=d.options;y&&(E.stroke?(y.setAttribute("stroke",E.color),y.setAttribute("stroke-opacity",E.opacity),y.setAttribute("stroke-width",E.weight),y.setAttribute("stroke-linecap",E.lineCap),y.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?y.setAttribute("stroke-dasharray",E.dashArray):y.removeAttribute("stroke-dasharray"),E.dashOffset?y.setAttribute("stroke-dashoffset",E.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),E.fill?(y.setAttribute("fill",E.fillColor||E.color),y.setAttribute("fill-opacity",E.fillOpacity),y.setAttribute("fill-rule",E.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(d,y){this._setPath(d,Ie(d._parts,y))},_updateCircle:function(d){var y=d._point,E=Math.max(Math.round(d._radius),1),M=Math.max(Math.round(d._radiusY),1)||E,R="a"+E+","+M+" 0 1,0 ",U=d._empty()?"M0 0":"M"+(y.x-E)+","+y.y+R+E*2+",0 "+R+-E*2+",0 ";this._setPath(d,U)},_setPath:function(d,y){d._path.setAttribute("d",y)},_bringToFront:function(d){Un(d._path)},_bringToBack:function(d){zo(d._path)}});Ge.vml&&tl.include(Wf);function bc(d){return Ge.svg||Ge.vml?new tl(d):null}bt.include({getRenderer:function(d){var y=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var y=this._paneRenderers[d];return y===void 0&&(y=this._createRenderer({pane:d}),this._paneRenderers[d]=y),y},_createRenderer:function(d){return this.options.preferCanvas&&gc(d)||bc(d)}});var Go=Zs.extend({initialize:function(d,y){Zs.prototype.initialize.call(this,this._boundsToLatLngs(d),y)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=Q(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function zx(d,y){return new Go(d,y)}tl.create=Ji,tl.pointsToPath=Ie,Aa.geometryToLayer=er,Aa.coordsToLatLng=Du,Aa.coordsToLatLngs=uc,Aa.latLngToCoords=Pu,Aa.latLngsToCoords=dc,Aa.getFeature=eo,Aa.asFeature=Ru,bt.mergeOptions({boxZoom:!0});var Ar=Wi.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){rt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){It(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Us(),ku(),this._startPoint=this._map.mouseEventToContainerPoint(d),rt(document,{contextmenu:Ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=ht("div","leaflet-zoom-box",this._container),ot(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var y=new B(this._point,this._startPoint),E=y.getSize();Ut(this._box,y.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(It(this._box),en(this._container,"leaflet-crosshair")),Yi(),Ql(),Ct(document,{contextmenu:Ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});bt.addInitHook("addHandler","boxZoom",Ar),bt.mergeOptions({doubleClickZoom:!0});var Bu=Wi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var y=this._map,E=y.getZoom(),M=y.options.zoomDelta,R=d.originalEvent.shiftKey?E-M:E+M;y.options.doubleClickZoom==="center"?y.setZoom(R):y.setZoomAround(d.containerPoint,R)}});bt.addInitHook("addHandler","doubleClickZoom",Bu),bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qi=Wi.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Qa(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}ot(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){en(this._map._container,"leaflet-grab"),en(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=Q(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var y=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(y),this._prunePositions(y)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,y){return d-(d-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;d.x<y.min.x&&(d.x=this._viscousLimit(d.x,y.min.x)),d.y<y.min.y&&(d.y=this._viscousLimit(d.y,y.min.y)),d.x>y.max.x&&(d.x=this._viscousLimit(d.x,y.max.x)),d.y>y.max.y&&(d.y=this._viscousLimit(d.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,y=Math.round(d/2),E=this._initialWorldOffset,M=this._draggable._newPos.x,R=(M-y+E)%d+y-E,U=(M+y+E)%d-y-E,ee=Math.abs(R+E)<Math.abs(U+E)?R:U;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(d){var y=this._map,E=y.options,M=!E.inertia||d.noInertia||this._times.length<2;if(y.fire("dragend",d),M)y.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),U=(this._lastTime-this._times[0])/1e3,ee=E.easeLinearity,ce=R.multiplyBy(ee/U),be=ce.distanceTo([0,0]),Ae=Math.min(E.inertiaMaxSpeed,be),Le=ce.multiplyBy(Ae/be),Ye=Ae/(E.inertiaDeceleration*ee),ut=Le.multiplyBy(-Ye/2).round();!ut.x&&!ut.y?y.fire("moveend"):(ut=y._limitOffset(ut,y.options.maxBounds),H(function(){y.panBy(ut,{duration:Ye,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});bt.addInitHook("addHandler","dragging",Qi),bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Vf=Wi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),rt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ct(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,y=document.documentElement,E=d.scrollTop||y.scrollTop,M=d.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(M,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var y=this._panKeys={},E=this.keyCodes,M,R;for(M=0,R=E.left.length;M<R;M++)y[E.left[M]]=[-1*d,0];for(M=0,R=E.right.length;M<R;M++)y[E.right[M]]=[d,0];for(M=0,R=E.down.length;M<R;M++)y[E.down[M]]=[0,d];for(M=0,R=E.up.length;M<R;M++)y[E.up[M]]=[0,-1*d]},_setZoomDelta:function(d){var y=this._zoomKeys={},E=this.keyCodes,M,R;for(M=0,R=E.zoomIn.length;M<R;M++)y[E.zoomIn[M]]=d;for(M=0,R=E.zoomOut.length;M<R;M++)y[E.zoomOut[M]]=-d},_addHooks:function(){rt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var y=d.keyCode,E=this._map,M;if(y in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(M=this._panKeys[y],d.shiftKey&&(M=oe(M).multiplyBy(3)),E.options.maxBounds&&(M=E._limitOffset(oe(M),E.options.maxBounds)),E.options.worldCopyJump){var R=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(M)));E.panTo(R)}else E.panBy(M)}else if(y in this._zoomKeys)E.setZoom(E.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;Ja(d)}}});bt.addInitHook("addHandler","keyboard",Vf),bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yc=Wi.extend({addHooks:function(){rt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var y=fr(d),E=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var M=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),M),Ja(d)},_performZoom:function(){var d=this._map,y=d.getZoom(),E=this._map.options.zoomSnap||0;d._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,U=E?Math.ceil(R/E)*E:R,ee=d._limitZoom(y+(this._delta>0?U:-U))-y;this._delta=0,this._startTime=null,ee&&(d.options.scrollWheelZoom==="center"?d.setZoom(y+ee):d.setZoomAround(this._lastMousePos,y+ee))}});bt.addInitHook("addHandler","scrollWheelZoom",yc);var qo=600;bt.mergeOptions({tapHold:Ge.touchNative&&Ge.safari&&Ge.mobile,tapTolerance:15});var zu=Wi.extend({addHooks:function(){rt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var y=d.touches[0];this._startPos=this._newPos=new ne(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(rt(document,"touchend",pn),rt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),qo),rt(document,"touchend touchcancel contextmenu",this._cancel,this),rt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){Ct(document,"touchend",pn),Ct(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)},_onMove:function(d){var y=d.touches[0];this._newPos=new ne(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,y){var E=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});E._simulated=!0,y.target.dispatchEvent(E)}});bt.addInitHook("addHandler","tapHold",zu),bt.mergeOptions({touchZoom:Ge.touch,bounceAtZoomLimits:!0});var Zf=Wi.extend({addHooks:function(){ot(this._map._container,"leaflet-touch-zoom"),rt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){en(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var y=this._map;if(!(!d.touches||d.touches.length!==2||y._animatingZoom||this._zooming)){var E=y.mouseEventToContainerPoint(d.touches[0]),M=y.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(E.add(M)._divideBy(2))),this._startDist=E.distanceTo(M),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),rt(document,"touchmove",this._onTouchMove,this),rt(document,"touchend touchcancel",this._onTouchEnd,this),pn(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var y=this._map,E=y.mouseEventToContainerPoint(d.touches[0]),M=y.mouseEventToContainerPoint(d.touches[1]),R=E.distanceTo(M)/this._startDist;if(this._zoom=y.getScaleZoom(R,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&R<1||this._zoom>y.getMaxZoom()&&R>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var U=E._add(M)._divideBy(2)._subtract(this._centerPoint);if(R===1&&U.x===0&&U.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(U),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var ee=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(ee,this,!0),pn(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});bt.addInitHook("addHandler","touchZoom",Zf),bt.BoxZoom=Ar,bt.DoubleClickZoom=Bu,bt.Drag=Qi,bt.Keyboard=Vf,bt.ScrollWheelZoom=yc,bt.TapHold=zu,bt.TouchZoom=Zf,n.Bounds=B,n.Browser=Ge,n.CRS=me,n.Canvas=$u,n.Circle=Mu,n.CircleMarker=Vs,n.Class=Z,n.Control=Pr,n.DivIcon=fg,n.DivOverlay=tr,n.DomEvent=Tu,n.DomUtil=Gs,n.Draggable=Qa,n.Evented=J,n.FeatureGroup=Vi,n.GeoJSON=Aa,n.GridLayer=el,n.Handler=Wi,n.Icon=Zi,n.ImageOverlay=Js,n.LatLng=se,n.LatLngBounds=ie,n.Layer=wi,n.LayerGroup=Ws,n.LineUtil=Px,n.Map=bt,n.Marker=cc,n.Mixin=Nx,n.Path=Xi,n.Point=ne,n.PolyUtil=qf,n.Polygon=Zs,n.Polyline=Ea,n.Popup=hc,n.PosAnimation=qs,n.Projection=rg,n.Rectangle=Go,n.Renderer=Er,n.SVG=tl,n.SVGOverlay=Iu,n.TileLayer=ro,n.Tooltip=mc,n.Transformation=je,n.Util=V,n.VideoOverlay=no,n.bind=o,n.bounds=W,n.canvas=gc,n.circle=lg,n.circleMarker=sg,n.control=ka,n.divIcon=Bx,n.extend=i,n.featureGroup=ag,n.geoJSON=Lu,n.geoJson=fc,n.gridLayer=hg,n.icon=oc,n.imageOverlay=cg,n.latLng=he,n.latLngBounds=Q,n.layerGroup=Rx,n.map=Bf,n.marker=og,n.point=oe,n.polygon=Ix,n.polyline=Lx,n.popup=dg,n.rectangle=zx,n.setOptions=w,n.stamp=u,n.svg=bc,n.svgOverlay=ug,n.tileLayer=Zr,n.tooltip=$x,n.transformation=fe,n.version=r,n.videoOverlay=Qs;var Xf=window.L;n.noConflict=function(){return window.L=Xf,this},window.L=n}))})(sm,sm.exports)),sm.exports}var QV=JV();const Dw=hi(QV),w0=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Mc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function eZ(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:l,mapId:u}=e.ids,f=e.initialCenter??{lat:37.5665,lon:126.978},h=Mc(n),p=Mc(t),b=Mc(r),v=Mc(a),S=Mc(o),w=Mc(l),_=i?Mc(i):null;let T=null,N=null,j=null;const C=z=>z.code==="Space"||z.key===" "||z.key==="Spacebar"||z.key==="Space",D=z=>{C(z)&&document.activeElement!==S&&(z.preventDefault(),z.stopPropagation(),S.focus())},P=()=>{b.style.display="flex",T?setTimeout(()=>T?.invalidateSize(),200):setTimeout(()=>{T=Dw.map(u,{keyboard:!1}).setView([f.lat,f.lon],11),Dw.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(T),T.invalidateSize()},0),b.addEventListener("keydown",D,!0),b.addEventListener("keyup",D,!0),S.focus()},$=()=>{b.style.display="none",S.value="",w.innerHTML="",j&&(window.clearTimeout(j),j=null),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0)},F=z=>{const V=z.dataset.name??"",Z=Number(z.dataset.lat??""),X=Number(z.dataset.lon??"");!Number.isFinite(Z)||!Number.isFinite(X)||!T||(N?N.setLatLng([Z,X]):N=Dw.marker([Z,X]).addTo(T),T.flyTo([Z,X],14,{duration:.5}),h.value=V,h.dataset.lat=String(Z),h.dataset.lon=String(X),e.onSelected?.({name:V,lat:Z,lon:X}),w.innerHTML="",$())},Y=()=>{j&&window.clearTimeout(j);const z=S.value.trim();if(!z){w.innerHTML="";return}j=window.setTimeout(async()=>{try{const V="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(z),Z=await fetch(V,{headers:{Accept:"application/json"}});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const X=await Z.json();if(!Array.isArray(X)||X.length===0){w.innerHTML='<li style="padding:8px"> </li>';return}const q=X.slice(0,12).map((J,ne)=>{const de=J.display_name.split(",").slice(0,3).map(W=>W.trim()).join("  "),oe="padding:8px;cursor:pointer;outline:none;",B=ne===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${w0(de)}"
                    data-lat="${w0(J.lat)}"
                    data-lon="${w0(J.lon)}"
                    data-active="${ne===0?"1":"0"}"
                    style="${oe}${B}"
                  >${w0(de)}</li>`}).join("");w.innerHTML=q}catch(V){console.error(V),w.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},K=z=>{const V=z.target;V.tagName==="LI"&&F(V)},H=z=>{if(z.key==="Enter"){const V=w.querySelector('li[data-active="1"]')??w.querySelector("li");V&&F(V)}};return p.addEventListener("click",P),v.addEventListener("click",$),_&&_.addEventListener("click",$),S.addEventListener("input",Y),S.addEventListener("keydown",H),w.addEventListener("click",K),()=>{p.removeEventListener("click",P),v.removeEventListener("click",$),_&&_.removeEventListener("click",$),S.removeEventListener("input",Y),S.removeEventListener("keydown",H),w.removeEventListener("click",K),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0),j&&(window.clearTimeout(j),j=null),T&&(T.remove(),T=null)}}function hd(){return document.getElementById("suggestions")}function _b(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function Pw(e,t){const n=_b(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const tZ='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function nZ({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:l,onSelect:u}){k.useEffect(()=>{if(!e)return;const f=eZ({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:j=>{n(""),r(j.name),i.current&&(i.current.value=j.name),a.current&&(a.current.value=String(j.lat)),o.current&&(o.current.value=String(j.lon)),u?.(j),t(!1)}}),h=document.getElementById("inputBirthPlaceBtn");h&&h.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const b=document.getElementById("searchBox"),v=hd();setTimeout(()=>b?.focus(),0);const S=j=>{if(j.key==="Escape"){j.preventDefault(),t(!1);return}if(j.key!=="Tab")return;const C=hd();if(C&&C.contains(document.activeElement))return;const D=Array.from(p.querySelectorAll(tZ)).filter(Y=>!Y.hasAttribute("disabled")&&Y.tabIndex!==-1);if(D.length===0)return;const P=D[0],$=D[D.length-1],F=document.activeElement;j.shiftKey?(F===P||!p.contains(F))&&(j.preventDefault(),$.focus()):(F===$||!p.contains(F))&&(j.preventDefault(),P.focus())};p.addEventListener("keydown",S);const w=j=>{if(j.key!=="ArrowDown")return;const C=hd();!C||_b(C).length===0||j.preventDefault()};b?.addEventListener("keydown",w);const _=j=>{if(j.target.value.trim()===""){const D=hd();D&&(D.innerHTML="")}};b?.addEventListener("input",_);const T=j=>{const C=hd();if(!C)return;const D=_b(C);if(D.length===0)return;const P=document.activeElement,$=P?D.indexOf(P):-1;if($===-1)return;const F=Y=>{j.preventDefault(),Pw(C,$+Y)};switch(j.key){case"Tab":j.preventDefault(),F(j.shiftKey?-1:1);break;case"ArrowDown":j.preventDefault(),F(1);break;case"ArrowUp":j.preventDefault(),F(-1);break;case"Home":j.preventDefault(),Pw(C,0);break;case"End":j.preventDefault(),Pw(C,D.length-1);break;case"Enter":case" ":j.preventDefault(),P.click();break;case"Backspace":j.preventDefault(),C.innerHTML="",b?.focus();break}j.stopPropagation()};let N=null;return v&&(v.addEventListener("keydown",T),N=new MutationObserver(()=>{const j=hd();!j||_b(j).length}),N.observe(v,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",S),b?.removeEventListener("keydown",w),b?.removeEventListener("input",_),v&&v.removeEventListener("keydown",T),N?.disconnect(),f?.()}},[e,u,n,r,t,i,a,o]),k.useEffect(()=>{e||setTimeout(()=>l.current?.focus(),0)},[e,l])}function u5({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=ZV({placeholderText:t,value:r});return nZ({...i,onSelect:e}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),g.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),g.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),g.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"   ."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"       ."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function ar(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",uM=rZ,Rw=()=>Math.random().toString(36).substring(7).split("").join("."),iZ={INIT:`@@redux/INIT${Rw()}`,REPLACE:`@@redux/REPLACE${Rw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Rw()}`},qb=iZ;function T2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function j2(e,t,n){if(typeof e!="function")throw new Error(ar(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ar(1));return n(j2)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,u=!1;function f(){o===a&&(o=new Map,a.forEach((_,T)=>{o.set(T,_)}))}function h(){if(u)throw new Error(ar(3));return i}function p(_){if(typeof _!="function")throw new Error(ar(4));if(u)throw new Error(ar(5));let T=!0;f();const N=l++;return o.set(N,_),function(){if(T){if(u)throw new Error(ar(6));T=!1,f(),o.delete(N),a=null}}}function b(_){if(!T2(_))throw new Error(ar(7));if(typeof _.type>"u")throw new Error(ar(8));if(typeof _.type!="string")throw new Error(ar(17));if(u)throw new Error(ar(9));try{u=!0,i=r(i,_)}finally{u=!1}return(a=o).forEach(N=>{N()}),_}function v(_){if(typeof _!="function")throw new Error(ar(10));r=_,b({type:qb.REPLACE})}function S(){const _=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(ar(11));function N(){const C=T;C.next&&C.next(h())}return N(),{unsubscribe:_(N)}},[uM](){return this}}}return b({type:qb.INIT}),{dispatch:b,subscribe:p,getState:h,replaceReducer:v,[uM]:S}}function aZ(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:qb.INIT})>"u")throw new Error(ar(12));if(typeof n(void 0,{type:qb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ar(13))})}function d5(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{aZ(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],b=n[p],v=o[p],S=b(v,l);if(typeof S>"u")throw l&&l.type,new Error(ar(14));f[p]=S,u=u||S!==v}return u=u||r.length!==Object.keys(o).length,u?f:o}}function dM(e,t){return function(...n){return t(e.apply(this,n))}}function fM(e,t){if(typeof e=="function")return dM(e,t);if(typeof e!="object"||e===null)throw new Error(ar(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=dM(i,t))}return n}function Am(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function f5(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ar(15))};const o={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},l=e.map(u=>u(o));return a=Am(...l)(i.dispatch),{...i,dispatch:a}}}function h5(e){return T2(e)&&"type"in e&&typeof e.type=="string"}var Lw={exports:{}},Iw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hM;function oZ(){if(hM)return Iw;hM=1;var e=of();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Iw.useSyncExternalStoreWithSelector=function(u,f,h,p,b){var v=i(null);if(v.current===null){var S={hasValue:!1,value:null};v.current=S}else S=v.current;v=o(function(){function _(D){if(!T){if(T=!0,N=D,D=p(D),b!==void 0&&S.hasValue){var P=S.value;if(b(P,D))return j=P}return j=D}if(P=j,n(N,D))return P;var $=p(D);return b!==void 0&&b(P,$)?(N=D,P):(N=D,j=$)}var T=!1,N,j,C=h===void 0?null:h;return[function(){return _(f())},C===null?void 0:function(){return _(C())}]},[f,h,p,b]);var w=r(u,v[0],v[1]);return a(function(){S.hasValue=!0,S.value=w},[w]),l(w),w},Iw}var mM;function sZ(){return mM||(mM=1,Lw.exports=oZ()),Lw.exports}sZ();var lZ=k.version.startsWith("19"),cZ=Symbol.for(lZ?"react.transitional.element":"react.element"),uZ=Symbol.for("react.portal"),dZ=Symbol.for("react.fragment"),fZ=Symbol.for("react.strict_mode"),hZ=Symbol.for("react.profiler"),mZ=Symbol.for("react.consumer"),pZ=Symbol.for("react.context"),m5=Symbol.for("react.forward_ref"),gZ=Symbol.for("react.suspense"),bZ=Symbol.for("react.suspense_list"),O2=Symbol.for("react.memo"),yZ=Symbol.for("react.lazy"),vZ=m5,xZ=O2;function _Z(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case cZ:switch(e=e.type,e){case dZ:case hZ:case fZ:case gZ:case bZ:return e;default:switch(e=e&&e.$$typeof,e){case pZ:case m5:case yZ:case O2:return e;case mZ:return e;default:return t}}case uZ:return t}}}function wZ(e){return _Z(e)===O2}function SZ(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,u,f,h,p,b;function v(N,j){return u=N,f=j,h=e(u,f),p=t(r,f),b=n(h,p,f),l=!0,b}function S(){return h=e(u,f),t.dependsOnOwnProps&&(p=t(r,f)),b=n(h,p,f),b}function w(){return e.dependsOnOwnProps&&(h=e(u,f)),t.dependsOnOwnProps&&(p=t(r,f)),b=n(h,p,f),b}function _(){const N=e(u,f),j=!o(N,h);return h=N,j&&(b=n(h,p,f)),b}function T(N,j){const C=!a(j,f),D=!i(N,u,j,f);return u=N,f=j,C&&D?S():C?w():D?_():b}return function(j,C){return l?T(j,C):v(j,C)}}function kZ(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),l=r(e,i);return SZ(a,o,l,e,i)}function EZ(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function Tk(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function pM(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function p5(e,t){return function(r,{displayName:i}){const a=function(l,u){return a.dependsOnOwnProps?a.mapToProps(l,u):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,u){a.mapToProps=e,a.dependsOnOwnProps=pM(e);let f=a(l,u);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=pM(f),f=a(l,u)),f},a}}function N2(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function AZ(e){return e&&typeof e=="object"?Tk(t=>EZ(e,t)):e?typeof e=="function"?p5(e):N2(e,"mapDispatchToProps"):Tk(t=>({dispatch:t}))}function TZ(e){return e?typeof e=="function"?p5(e):N2(e,"mapStateToProps"):Tk(()=>({}))}function jZ(e,t,n){return{...n,...e,...t}}function OZ(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,f,h){const p=e(u,f,h);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function NZ(e){return e?typeof e=="function"?OZ(e):N2(e,"mergeProps"):()=>jZ}function CZ(e){e()}function MZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){CZ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var gM={notify(){},get:()=>[]};function g5(e,t){let n,r=gM,i=0,a=!1;function o(w){h();const _=r.subscribe(w);let T=!1;return()=>{T||(T=!0,_(),p())}}function l(){r.notify()}function u(){S.onStateChange&&S.onStateChange()}function f(){return a}function h(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=MZ())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=gM)}function b(){a||(a=!0,h())}function v(){a&&(a=!1,p())}const S={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:b,tryUnsubscribe:v,getListeners:()=>r};return S}var DZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PZ=DZ(),RZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",LZ=RZ(),IZ=()=>PZ||LZ?k.useLayoutEffect:k.useEffect,Yb=IZ();function bM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function wb(e,t){if(bM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!bM(e[n[i]],t[n[i]]))return!1;return!0}var $Z={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},BZ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},b5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},UZ={[vZ]:zZ,[xZ]:b5};function yM(e){return wZ(e)?b5:UZ[e.$$typeof]||$Z}var FZ=Object.defineProperty,HZ=Object.getOwnPropertyNames,vM=Object.getOwnPropertySymbols,GZ=Object.getOwnPropertyDescriptor,qZ=Object.getPrototypeOf,xM=Object.prototype;function jk(e,t){if(typeof t!="string"){if(xM){const a=qZ(t);a&&a!==xM&&jk(e,a)}let n=HZ(t);vM&&(n=n.concat(vM(t)));const r=yM(e),i=yM(t);for(let a=0;a<n.length;++a){const o=n[a];if(!BZ[o]&&!(i&&i[o])&&!(r&&r[o])){const l=GZ(t,o);try{FZ(e,o,l)}catch{}}}}return e}var YZ=Symbol.for("react-redux-context"),KZ=typeof globalThis<"u"?globalThis:{};function WZ(){if(!k.createContext)return{};const e=KZ[YZ]??=new Map;let t=e.get(k.createContext);return t||(t=k.createContext(null),e.set(k.createContext,t)),t}var y5=WZ(),VZ=[null,null];function ZZ(e,t,n){Yb(()=>e(...t),n)}function XZ(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function JZ(e,t,n,r,i,a,o,l,u,f,h){if(!e)return()=>{};let p=!1,b=null;const v=()=>{if(p||!l.current)return;const w=t.getState();let _,T;try{_=r(w,i.current)}catch(N){T=N,b=N}T||(b=null),_===a.current?o.current||f():(a.current=_,u.current=_,o.current=!0,h())};return n.onStateChange=v,n.trySubscribe(),v(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,b)throw b}}function QZ(e,t){return e===t}function eX(e,t,n,{pure:r,areStatesEqual:i=QZ,areOwnPropsEqual:a=wb,areStatePropsEqual:o=wb,areMergedPropsEqual:l=wb,forwardRef:u=!1,context:f=y5}={}){const h=f,p=TZ(e),b=AZ(t),v=NZ(n),S=!!e;return _=>{const T=_.displayName||_.name||"Component",N=`Connect(${T})`,j={shouldHandleStateChanges:S,displayName:N,wrappedComponentName:T,WrappedComponent:_,initMapStateToProps:p,initMapDispatchToProps:b,initMergeProps:v,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function C($){const[F,Y,K]=k.useMemo(()=>{const{reactReduxForwardedRef:fe,...Je}=$;return[$.context,fe,Je]},[$]),H=k.useMemo(()=>{let fe=h;return F?.Consumer,fe},[F,h]),z=k.useContext(H),V=!!$.store&&!!$.store.getState&&!!$.store.dispatch,Z=!!z&&!!z.store,X=V?$.store:z.store,q=Z?z.getServerState:X.getState,J=k.useMemo(()=>kZ(X.dispatch,j),[X]),[ne,de]=k.useMemo(()=>{if(!S)return VZ;const fe=g5(X,V?void 0:z.subscription),Je=fe.notifyNestedSubs.bind(fe);return[fe,Je]},[X,V,z]),oe=k.useMemo(()=>V?z:{...z,subscription:ne},[V,z,ne]),B=k.useRef(void 0),W=k.useRef(K),ie=k.useRef(void 0),Q=k.useRef(!1),se=k.useRef(!1),he=k.useRef(void 0);Yb(()=>(se.current=!0,()=>{se.current=!1}),[]);const me=k.useMemo(()=>()=>ie.current&&K===W.current?ie.current:J(X.getState(),K),[X,K]),Se=k.useMemo(()=>Je=>ne?JZ(S,X,ne,J,W,B,Q,se,ie,de,Je):()=>{},[ne]);ZZ(XZ,[W,B,Q,K,ie,de]);let re;try{re=k.useSyncExternalStore(Se,me,q?()=>J(q(),K):me)}catch(fe){throw he.current&&(fe.message+=`
The error may be correlated with this previous error:
${he.current.stack}

`),fe}Yb(()=>{he.current=void 0,ie.current=void 0,B.current=re});const Ee=k.useMemo(()=>k.createElement(_,{...re,ref:Y}),[Y,_,re]);return k.useMemo(()=>S?k.createElement(H.Provider,{value:oe},Ee):Ee,[H,Ee,oe])}const P=k.memo(C);if(P.WrappedComponent=_,P.displayName=C.displayName=N,u){const F=k.forwardRef(function(K,H){return k.createElement(P,{...K,reactReduxForwardedRef:H})});return F.displayName=N,F.WrappedComponent=_,jk(F,_)}return jk(P,_)}}var v5=eX;function tX(e){const{children:t,context:n,serverState:r,store:i}=e,a=k.useMemo(()=>{const u=g5(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=k.useMemo(()=>i.getState(),[i]);Yb(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||y5;return k.createElement(l.Provider,{value:a},t)}var x5=tX,nX="Invariant failed";function rX(e,t){throw new Error(nX)}var za=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},C2=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},_M=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},iX=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},$w={top:0,right:0,bottom:0,left:0},M2=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?$w:r,a=t.border,o=a===void 0?$w:a,l=t.padding,u=l===void 0?$w:l,f=za(C2(n,i)),h=za(_M(n,o)),p=za(_M(h,u));return{marginBox:f,borderBox:za(n),paddingBox:h,contentBox:p,margin:i,border:o,padding:u}},ra=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&rX(),i},aX=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Kb=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=iX(r,n);return M2({borderBox:l,border:i,margin:a,padding:o})},Wb=function(t,n){return n===void 0&&(n=aX()),Kb(t,n)},_5=function(t,n){var r={top:ra(n.marginTop),right:ra(n.marginRight),bottom:ra(n.marginBottom),left:ra(n.marginLeft)},i={top:ra(n.paddingTop),right:ra(n.paddingRight),bottom:ra(n.paddingBottom),left:ra(n.paddingLeft)},a={top:ra(n.borderTopWidth),right:ra(n.borderRightWidth),bottom:ra(n.borderBottomWidth),left:ra(n.borderLeftWidth)};return M2({borderBox:t,margin:r,padding:i,border:a})},w5=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return _5(n,r)},Tm=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vb.apply(null,arguments)}function S5(e,t){}S5.bind(null,"warn");S5.bind(null,"error");function Ol(){}function oX(e,t){return{...e,...t}}function sa(e,t,n){const r=t.map(i=>{const a=oX(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const sX="Invariant failed";class Zb extends Error{}Zb.prototype.toString=function(){return this.message};function Pe(e,t){throw new Zb(sX)}class lX extends Wt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Ol,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Zb&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=sa(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Zb){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const cX=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Xb=e=>e+1,uX=e=>`
  You have lifted an item in position ${Xb(e.source.index)}
`,k5=(e,t)=>{const n=e.droppableId===t.droppableId,r=Xb(e.index),i=Xb(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},E5=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,dX=e=>{const t=e.destination;if(t)return k5(e.source,t);const n=e.combine;return n?E5(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},wM=e=>`
  The item has returned to its starting position
  of ${Xb(e.index)}
`,fX=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${wM(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${k5(e.source,t)}
    `:n?`
      You have dropped the item.
      ${E5(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${wM(e.source)}
  `},Sb={dragHandleUsageInstructions:cX,onDragStart:uX,onDragUpdate:dX,onDragEnd:fX};function hX(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function A5(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!hX(e[n],t[n]))return!1;return!0}function wt(e,t){const n=k.useState(()=>({inputs:t,result:e()}))[0],r=k.useRef(!0),i=k.useRef(n),o=r.current||!!(t&&i.current.inputs&&A5(t,i.current.inputs))?i.current:{inputs:t,result:e()};return k.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Ze(e,t){return wt(()=>e,t)}const cr={x:0,y:0},vr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ri=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Nl=(e,t)=>e.x===t.x&&e.y===t.y,df=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),lu=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},jm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),SM=(e,t)=>Math.min(...t.map(n=>jm(e,n))),T5=e=>t=>({x:e(t.x),y:e(t.y)});var mX=(e,t)=>{const n=za({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const lp=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),kM=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],pX={top:0,right:0,bottom:0,left:0},gX=(e,t)=>t?lp(e,t.scroll.diff.displacement):e,bX=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,yX=(e,t)=>t&&t.shouldClipSubject?mX(t.pageMarginBox,e):za(e);var qd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=gX(e.marginBox,r),a=bX(i,n,t),o=yX(a,r);return{page:e,withPlaceholder:t,active:o}},D2=(e,t)=>{e.frame||Pe();const n=e.frame,r=Ri(t,n.scroll.initial),i=df(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=qd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function lr(e,t=A5){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const j5=lr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),O5=lr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),bv=lr(e=>Object.values(e)),vX=lr(e=>Object.values(e));var ff=lr((e,t)=>vX(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function P2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function yv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var vv=lr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),xX=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!P2(i))return null;function o(v){const S={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return{...i,at:S}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?o(u):null;const f=vv(t,r);if(!u){if(!f.length)return null;const v=f[f.length-1];return o(v.descriptor.id)}const h=f.findIndex(v=>v.descriptor.id===u);h===-1&&Pe();const p=h-1;if(p<0)return null;const b=f[p];return o(b.descriptor.id)},hf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const N5={point:cr,value:0},Om={invisible:{},visible:{},all:[]},_X={displaced:Om,displacedBy:N5,at:null};var fa=(e,t)=>n=>e<=n&&n<=t,C5=e=>{const t=fa(e.top,e.bottom),n=fa(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right;return u&&f?!0:u&&o||f&&a}},wX=e=>{const t=fa(e.top,e.bottom),n=fa(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const R2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},M5={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var SX=e=>t=>{const n=fa(t.top,t.bottom),r=fa(t.left,t.right);return i=>e===R2?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const kX=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:cr;return lp(e,n)},EX=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,AX=(e,t,n)=>n(t)(e),L2=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?kX(e,t):e;return EX(a,t,i)&&AX(a,n,i)},TX=e=>L2({...e,isVisibleThroughFrameFn:C5}),D5=e=>L2({...e,isVisibleThroughFrameFn:wX}),jX=e=>L2({...e,isVisibleThroughFrameFn:SX(e.destination.axis)}),OX=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function NX(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return za(C2(n,r))}function Nm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,u){const f=NX(u,n),h=u.descriptor.id;if(l.all.push(h),!TX({target:f,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const b=OX(h,a,i),v={draggableId:h,shouldAnimate:b};return l.visible[h]=v,l},{all:[],visible:{},invisible:{}})}function CX(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function EM({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=CX(e,{inHomeList:t});return{displaced:Om,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Jb({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const u=hf(e,n);if(o==null)return EM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const f=t.find(S=>S.descriptor.index===o);if(!f)return EM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const h=vv(e,t),p=t.indexOf(f),b=h.slice(p);return{displaced:Nm({afterDragging:b,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Dl(e,t){return!!t.effected[e]}var MX=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return Dl(a,i)?e?l:l-1:e?l+1:l},DX=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return a<o||a>u?null:a},PX=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:u})=>{const f=o.at;if(f||Pe(),f.type==="REORDER"){const p=DX({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:a});return p==null?null:Jb({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})}const h=MX({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:f.combine,afterCritical:u});return h==null?null:Jb({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},RX=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Dl(n,t)?i?cr:df(r.point):i?r.point:cr},LX=({afterCritical:e,impact:t,draggables:n})=>{const r=yv(t);r||Pe();const i=r.draggableId,a=n[i].page.borderBox.center,o=RX({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return vr(a,o)};const P5=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,IX=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,I2=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,AM=({axis:e,moveRelativeTo:t,isMoving:n})=>lu(e.line,t.marginBox[e.end]+P5(e,n),I2(e,t.marginBox,n)),TM=({axis:e,moveRelativeTo:t,isMoving:n})=>lu(e.line,t.marginBox[e.start]-IX(e,n),I2(e,t.marginBox,n)),$X=({axis:e,moveInto:t,isMoving:n})=>lu(e.line,t.contentBox[e.start]+P5(e,n),I2(e,t.contentBox,n));var BX=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=ff(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return $X({axis:l,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:f}=e,h=u.all[0];if(h){const b=n[h];if(Dl(h,i))return TM({axis:l,moveRelativeTo:b.page,isMoving:o});const v=Kb(b.page,f.point);return TM({axis:l,moveRelativeTo:v,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Dl(p.descriptor.id,i)){const b=Kb(p.page,df(i.displacedBy.point));return AM({axis:l,moveRelativeTo:b,isMoving:o})}return AM({axis:l,moveRelativeTo:p.page,isMoving:o})},Ok=(e,t)=>{const n=e.frame;return n?vr(t,n.scroll.diff.displacement):t};const zX=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?BX({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):LX({impact:e,draggables:r,afterCritical:i})};var xv=e=>{const t=zX(e),n=e.droppable;return n?Ok(n,t):t},R5=(e,t)=>{const n=Ri(t,e.scroll.initial),r=df(n);return{frame:za({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function jM(e,t){return e.map(n=>t[n])}function UX(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var FX=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=R5(t,vr(t.scroll.current,i)),o=n.frame?D2(n,vr(n.frame.scroll.current,i)):n,l=e.displaced,u=Nm({afterDragging:jM(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),f=Nm({afterDragging:jM(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},p={},b=[l,u,f];return l.all.forEach(S=>{const w=UX(S,b);if(w){p[S]=w;return}h[S]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:p}}},HX=(e,t)=>vr(e.scroll.diff.displacement,t),$2=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=HX(n,e),i=Ri(r,t.page.borderBox.center);return vr(t.client.borderBox.center,i)},L5=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Ri(n,e.page.borderBox.center),u={target:lp(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?jX(u):D5(u)},GX=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const f=ff(n.descriptor.id,r),h=hf(t,n),p=xX({isMovingForward:e,draggable:t,destination:n,insideDestination:f,previousImpact:i})||PX({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const b=xv({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(L5({draggable:t,destination:n,newPageBorderBoxCenter:b,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:$2({pageBorderBoxCenter:b,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const S=Ri(b,o),w=FX({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:S});return{clientSelection:l,impact:w,scrollJumpRequest:S}};const Ir=e=>{const t=e.subject.active;return t||Pe(),t};var qX=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=fa(a[o.start],a[o.end]),u=bv(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>C5(i.frame)(Ir(h))).filter(h=>{const p=Ir(h);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const p=Ir(h),b=fa(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||b(a[o.start])||b(a[o.end])}).sort((h,p)=>{const b=Ir(h)[o.crossAxisStart],v=Ir(p)[o.crossAxisStart];return e?b-v:v-b}).filter((h,p,b)=>Ir(h)[o.crossAxisStart]===Ir(b[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const f=u.filter(h=>fa(Ir(h)[o.start],Ir(h)[o.end])(t[o.line]));return f.length===1?f[0]:f.length>1?f.sort((h,p)=>Ir(h)[o.start]-Ir(p)[o.start])[0]:u.sort((h,p)=>{const b=SM(t,kM(Ir(h))),v=SM(t,kM(Ir(p)));return b!==v?b-v:Ir(h)[o.start]-Ir(p)[o.start]})[0]};const OM=(e,t)=>{const n=e.page.borderBox.center;return Dl(e.descriptor.id,t)?Ri(n,t.displacedBy.point):n},YX=(e,t)=>{const n=e.page.borderBox;return Dl(e.descriptor.id,t)?lp(n,df(t.displacedBy.point)):n};var KX=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>D5({target:YX(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const u=jm(e,Ok(n,OM(o,i))),f=jm(e,Ok(n,OM(l,i)));return u<f?-1:f<u?1:o.descriptor.index-l.descriptor.index})[0]||null,cp=lr(function(t,n){const r=n[t.line];return{value:r,point:lu(t.line,r)}});const WX=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return lu(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=ff(e.descriptor.id,n).reduce((f,h)=>f+h.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:lu(r.line,u)},I5=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),$5=(e,t,n)=>{const r=e.frame;hf(t,e)&&Pe(),e.subject.withPlaceholder&&Pe();const i=cp(e.axis,t.displaceBy).point,a=WX(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=qd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?vr(r.scroll.max,a):r.scroll.max,u=I5(r,l),f=qd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:f,frame:u}},VX=e=>{const t=e.subject.withPlaceholder;t||Pe();const n=e.frame;if(!n){const o=qd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Pe();const i=I5(n,r),a=qd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var ZX=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:Om,displacedBy:N5,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},b=xv({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:l}),v=hf(r,a)?a:$5(a,r,i);return L5({draggable:r,destination:v,newPageBorderBoxCenter:b,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],f=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),h=cp(a.axis,r.displaceBy);return Jb({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:h,last:Om,index:f})},XX=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const u=qX({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const f=ff(u.descriptor.id,i),h=KX({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:f,afterCritical:l}),p=ZX({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:f,viewport:o,afterCritical:l});if(!p)return null;const b=xv({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:$2({pageBorderBoxCenter:b,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Ii=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const JX=(e,t)=>{const n=Ii(e);return n?t[n]:null};var QX=({state:e,type:t})=>{const n=JX(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:p,droppables:b}=e.dimensions;return l?GX({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:f,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):XX({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:f,isOver:a,draggables:p,droppables:b,viewport:e.viewport,afterCritical:e.afterCritical})};function Hc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function B5(e){const t=fa(e.top,e.bottom),n=fa(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function eJ(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function tJ({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,l=lu(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:jm(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function nJ({pageBorderBox:e,draggable:t,droppables:n}){const r=bv(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!eJ(e,a))return!1;if(B5(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],u=e[o.crossAxisStart],f=e[o.crossAxisEnd],h=fa(a[o.crossAxisStart],a[o.crossAxisEnd]),p=h(u),b=h(f);return!p&&!b?!0:p?u<l:f>l});return r.length?r.length===1?r[0].descriptor.id:tJ({pageBorderBox:e,draggable:t,candidates:r}):null}const z5=(e,t)=>za(lp(e,t));var rJ=(e,t)=>{const n=e.frame;return n?z5(t,n.scroll.diff.value):t};function U5({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function iJ({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var aJ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=n.axis,u=cp(n.axis,t.displaceBy),f=u.value,h=e[l.start],p=e[l.end],v=vv(t,r).find(w=>{const _=w.descriptor.id,T=w.page.borderBox.center[l.line],N=Dl(_,o),j=U5({displaced:i,id:_});return N?j?p<=T:h<T-f:j?p<=T+f:h<T})||null,S=iJ({draggable:t,closest:v,inHomeList:hf(t,n)});return Jb({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:S})};const oJ=4;var sJ=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=cp(r.axis,e.displaceBy),u=l.value,f=t[o.start],h=t[o.end],b=vv(e,i).find(S=>{const w=S.descriptor.id,_=S.page.borderBox,N=_[o.size]/oJ,j=Dl(w,a),C=U5({displaced:n.displaced,id:w});return j?C?h>_[o.start]+N&&h<_[o.end]-N:f>_[o.start]-u+N&&f<_[o.end]-u-N:C?h>_[o.start]+u+N&&h<_[o.end]+u-N:f>_[o.start]+N&&f<_[o.end]-N});return b?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:b.descriptor.id,droppableId:r.descriptor.id}}}:null},F5=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=z5(t.page.borderBox,e),u=nJ({pageBorderBox:l,draggable:t,droppables:r});if(!u)return _X;const f=r[u],h=ff(f.descriptor.id,n),p=rJ(f,l);return sJ({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:f,insideDestination:h,afterCritical:o})||aJ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},B2=(e,t)=>({...e,[t.descriptor.id]:t});const lJ=({previousImpact:e,impact:t,droppables:n})=>{const r=Ii(e),i=Ii(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=VX(a);return B2(n,o)};var cJ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=lJ({previousImpact:r,impact:i,droppables:n}),o=Ii(i);if(!o)return a;const l=n[o];if(hf(e,l)||l.subject.withPlaceholder)return a;const u=$5(l,e,t);return B2(a,u)},pm=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,f=Ri(u,e.initial.client.selection),h={offset:f,selection:u,borderBoxCenter:vr(e.initial.client.borderBoxCenter,f)},p={selection:vr(h.selection,o.scroll.current),borderBoxCenter:vr(h.borderBoxCenter,o.scroll.current),offset:vr(h.offset,o.scroll.diff.value)},b={client:h,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:b};const v=l.draggables[e.critical.draggable.id],S=i||F5({pageOffset:p.offset,draggable:v,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),w=cJ({draggable:v,impact:S,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:b,dimensions:{draggables:l.draggables,droppables:w},impact:S,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function uJ(e,t){return e.map(n=>t[n])}var H5=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=uJ(a.all,n),l=Nm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},G5=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=xv({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return $2({pageBorderBoxCenter:o,draggable:t,viewport:i})},q5=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Pe();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,u=o[e.critical.draggable.id],f=Ii(r);f||Pe();const h=l[f],p=H5({impact:r,viewport:i,destination:h,draggables:o}),b=G5({impact:p,draggable:u,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return pm({impact:p,clientSelection:b,state:e,dimensions:a,viewport:i})},dJ=e=>({index:e.index,droppableId:e.droppableId}),Y5=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=cp(t.axis,e.displaceBy),a=ff(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Pe();const l=a.slice(o+1),u=l.reduce((b,v)=>(b[v.descriptor.id]=!0,b),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:Nm({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:dJ(e.descriptor)}},afterCritical:f}},fJ=(e,t)=>({draggables:e.draggables,droppables:B2(e.droppables,t)}),hJ=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Kb(e.client,t),i=Wb(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},mJ=e=>{const t=e.frame;return t||Pe(),t},pJ=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=mJ(o).scroll.diff.value,f=vr(r,u);return hJ({draggable:i,offset:f,initialWindowScroll:n.scroll.initial})})},gJ=({state:e,published:t})=>{const n=t.modified.map(T=>{const N=e.dimensions.droppables[T.droppableId];return D2(N,T.scroll)}),r={...e.dimensions.droppables,...j5(n)},i=O5(pJ({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(T=>{delete a[T]});const o={droppables:r,draggables:a},l=Ii(e.impact),u=l?o.droppables[l]:null,f=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:b}=Y5({draggable:f,home:h,draggables:a,viewport:e.viewport}),v=u&&u.isCombineEnabled?e.impact:p,S=F5({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:v,viewport:e.viewport,afterCritical:b}),w={...e,phase:"DRAGGING",impact:S,onLiftImpact:p,dimensions:o,afterCritical:b,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Nk=e=>e.movementMode==="SNAP",Bw=(e,t,n)=>{const r=fJ(e.dimensions,t);return!Nk(e)||n?pm({state:e,dimensions:r}):q5({state:e,dimensions:r})};function zw(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const NM={phase:"IDLE",completed:null,shouldFlush:!1};var bJ=(e=NM,t)=>{if(t.type==="FLUSH")return{...NM,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Pe();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],f={selection:r,borderBoxCenter:l.client.borderBox.center,offset:cr},h={client:f,page:{selection:vr(f.selection,i.scroll.initial),borderBoxCenter:vr(f.selection,i.scroll.initial),offset:vr(f.selection,i.scroll.diff.value)}},p=bv(a.droppables).every(w=>!w.isFixedOnPage),{impact:b,afterCritical:v}=Y5({draggable:l,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:p,impact:b,afterCritical:v,onLiftImpact:b,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Pe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Pe(),gJ({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Hc(e)||Pe();const{client:n}=t.payload;return Nl(n,e.current.client.selection)?e:pm({state:e,clientSelection:n,impact:Nk(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return zw(e);Hc(e)||Pe();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=D2(i,r);return Bw(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Hc(e)||Pe();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isEnabled===r&&Pe();const a={...i,isEnabled:r};return Bw(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Hc(e)||Pe();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isCombineEnabled===r&&Pe();const a={...i,isCombineEnabled:r};return Bw(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Hc(e)||Pe(),e.isWindowScrollAllowed||Pe();const n=t.payload.newScroll;if(Nl(e.viewport.scroll.current,n))return zw(e);const r=R5(e.viewport,n);return Nk(e)?q5({state:e,viewport:r}):pm({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Hc(e))return e;const n=t.payload.maxScroll;if(Nl(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Pe();const n=QX({state:e,type:t.type});return n?pm({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Pe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Pe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Dt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const yJ=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),vJ=e=>({type:"LIFT",payload:e}),xJ=e=>({type:"INITIAL_PUBLISH",payload:e}),_J=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),wJ=()=>({type:"COLLECTION_STARTING",payload:null}),SJ=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),kJ=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),EJ=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),K5=e=>({type:"MOVE",payload:e}),AJ=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),TJ=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),jJ=()=>({type:"MOVE_UP",payload:null}),OJ=()=>({type:"MOVE_DOWN",payload:null}),NJ=()=>({type:"MOVE_RIGHT",payload:null}),CJ=()=>({type:"MOVE_LEFT",payload:null}),z2=()=>({type:"FLUSH",payload:null}),MJ=e=>({type:"DROP_ANIMATE",payload:e}),U2=e=>({type:"DROP_COMPLETE",payload:e}),W5=e=>({type:"DROP",payload:e}),DJ=e=>({type:"DROP_PENDING",payload:e}),V5=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var PJ=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Dt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(U2({completed:u.completed})),t().phase!=="IDLE"&&Pe(),n(z2()),n(yJ({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:b,viewport:v}=e.startPublishing(h);n(xJ({critical:p,dimensions:b,clientSelection:o,movementMode:l,viewport:v}))},RJ=e=>()=>t=>n=>{Dt(n,"INITIAL_PUBLISH")&&e.dragging(),Dt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Dt(n,"FLUSH")||Dt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const F2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Cm={opacity:{drop:0,combining:.7},scale:{drop:.75}},Z5={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Dc=`${Z5.outOfTheWay}s ${F2.outOfTheWay}`,gm={fluid:`opacity ${Dc}`,snap:`transform ${Dc}, opacity ${Dc}`,drop:e=>{const t=`${e}s ${F2.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Dc}`,placeholder:`height ${Dc}, width ${Dc}, margin ${Dc}`},CM=e=>Nl(e,cr)?void 0:`translate(${e.x}px, ${e.y}px)`,Ck={moveTo:CM,drop:(e,t)=>{const n=CM(e);if(n)return t?`${n} scale(${Cm.scale.drop})`:n}},{minDropTime:Mk,maxDropTime:X5}=Z5,LJ=X5-Mk,MM=1500,IJ=.6;var $J=({current:e,destination:t,reason:n})=>{const r=jm(e,t);if(r<=0)return Mk;if(r>=MM)return X5;const i=r/MM,a=Mk+LJ*i,o=n==="CANCEL"?a*IJ:a;return Number(o.toFixed(2))},BJ=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,l=Ii(e),u=l?o[l]:null,f=o[t.descriptor.droppableId],h=G5({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||f,viewport:r});return Ri(h,t.client.borderBox.center)},zJ=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:H5({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Om},didDropInsideDroppable:!0};const UJ=({getState:e,dispatch:t})=>n=>r=>{if(!Dt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(DJ({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Pe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Pe();const l=i.critical,u=i.dimensions,f=u.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=zJ({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),b=p?P2(h):null,v=p?yv(h):null,S={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:f.descriptor.id,type:f.descriptor.type,source:S,reason:a,mode:i.movementMode,destination:b,combine:v},_=BJ({impact:h,draggable:f,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),T={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:h};if(!(!Nl(i.current.client.offset,_)||!!w.combine)){t(U2({completed:T}));return}const j=$J({current:i.current.client.offset,destination:_,reason:a});t(MJ({newHomeClientOffset:_,dropDuration:j,completed:T}))};var J5=()=>({x:window.pageXOffset,y:window.pageYOffset});function FJ(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function HJ({onWindowScroll:e}){function t(){e(J5())}const n=Tm(t),r=FJ(n);let i=Ol;function a(){return i!==Ol}function o(){a()&&Pe(),i=sa(window,[r])}function l(){a()||Pe(),n.cancel(),i(),i=Ol}return{start:o,stop:l,isActive:a}}const GJ=e=>Dt(e,"DROP_COMPLETE")||Dt(e,"DROP_ANIMATE")||Dt(e,"FLUSH"),qJ=e=>{const t=HJ({onWindowScroll:n=>{e.dispatch(AJ({newScroll:n}))}});return n=>r=>{!t.isActive()&&Dt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&GJ(r)&&t.stop(),n(r)}};var YJ=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},KJ=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&Pe();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const WJ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,VJ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,ZJ=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Rh=(e,t)=>{t()},S0=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Uw(e,t,n,r){if(!e){n(r(t));return}const i=YJ(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var XJ=(e,t)=>{const n=KJ();let r=null;const i=(p,b)=>{r&&Pe(),Rh("onBeforeCapture",()=>{const v=e().onBeforeCapture;v&&v({draggableId:p,mode:b})})},a=(p,b)=>{r&&Pe(),Rh("onBeforeDragStart",()=>{const v=e().onBeforeDragStart;v&&v(S0(p,b))})},o=(p,b)=>{r&&Pe();const v=S0(p,b);r={mode:b,lastCritical:p,lastLocation:v.source,lastCombine:null},n.add(()=>{Rh("onDragStart",()=>Uw(e().onDragStart,v,t,Sb.onDragStart))})},l=(p,b)=>{const v=P2(b),S=yv(b);r||Pe();const w=!ZJ(p,r.lastCritical);w&&(r.lastCritical=p);const _=!WJ(r.lastLocation,v);_&&(r.lastLocation=v);const T=!VJ(r.lastCombine,S);if(T&&(r.lastCombine=S),!w&&!_&&!T)return;const N={...S0(p,r.mode),combine:S,destination:v};n.add(()=>{Rh("onDragUpdate",()=>Uw(e().onDragUpdate,N,t,Sb.onDragUpdate))})},u=()=>{r||Pe(),n.flush()},f=p=>{r||Pe(),r=null,Rh("onDragEnd",()=>Uw(e().onDragEnd,p,t,Sb.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:u,drop:f,abort:()=>{if(!r)return;const p={...S0(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};f(p)}}},JJ=(e,t)=>{const n=XJ(e,t);return r=>i=>a=>{if(Dt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Dt(a,"INITIAL_PUBLISH")){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),i(a),n.start(l,a.payload.movementMode);return}if(Dt(a,"DROP_COMPLETE")){const l=a.payload.completed.result;n.flush(),i(a),n.drop(l);return}if(i(a),Dt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const QJ=e=>t=>n=>{if(!Dt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Pe(),e.dispatch(U2({completed:r.completed}))},eQ=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Dt(a,"FLUSH")||Dt(a,"DROP_COMPLETE")||Dt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Dt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(V5())}};n=requestAnimationFrame(()=>{n=null,t=sa(window,[o])})}};var tQ=e=>()=>t=>n=>{(Dt(n,"DROP_COMPLETE")||Dt(n,"FLUSH")||Dt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},nQ=e=>{let t=!1;return()=>n=>r=>{if(Dt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Dt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Dt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const rQ=e=>Dt(e,"DROP_COMPLETE")||Dt(e,"DROP_ANIMATE")||Dt(e,"FLUSH");var iQ=e=>t=>n=>r=>{if(rQ(r)){e.stop(),n(r);return}if(Dt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Pe(),e.start(i);return}n(r),e.scroll(t.getState())};const aQ=e=>t=>n=>{if(t(n),!Dt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(W5({reason:r.reason})))},oQ=Am;var sQ=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>j2(bJ,oQ(f5(RJ(n),tQ(e),PJ(e),UJ,QJ,eQ,aQ,iQ(a),qJ,nQ(t),JJ(r,i))));const Fw=()=>({additions:{},removals:{},modified:{}});function lQ({registry:e,callbacks:t}){let n=Fw(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:f,modified:h}=n,p=Object.keys(u).map(S=>e.draggable.getById(S).getDimension(cr)).sort((S,w)=>S.descriptor.index-w.descriptor.index),b=Object.keys(h).map(S=>{const _=e.droppable.getById(S).callbacks.getScrollWhileDragging();return{droppableId:S,scroll:_}}),v={additions:p,removals:Object.keys(f),modified:b};n=Fw(),t.publish(v)}))};return{add:u=>{const f=u.descriptor.id;n.additions[f]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},remove:u=>{const f=u.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Fw())}}}var Q5=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Ri({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},e4=()=>{const e=document.documentElement;return e||Pe(),e},t4=()=>{const e=e4();return Q5({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},cQ=()=>{const e=J5(),t=t4(),n=e.y,r=e.x,i=e4(),a=i.clientWidth,o=i.clientHeight,l=r+a,u=n+o;return{frame:za({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:cr,displacement:cr}}}},uQ=({critical:e,scrollOptions:t,registry:n})=>{const r=cQ(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:O5(l),droppables:j5(o)},critical:e,viewport:r}};function DM(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var dQ=(e,t)=>{let n=null;const r=lQ({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(b,v)=>{e.droppable.exists(b)||Pe(),n&&t.updateDroppableIsEnabled({id:b,isEnabled:v})},a=(b,v)=>{n&&(e.droppable.exists(b)||Pe(),t.updateDroppableIsCombineEnabled({id:b,isCombineEnabled:v}))},o=(b,v)=>{n&&(e.droppable.exists(b)||Pe(),t.updateDroppableScroll({id:b,newScroll:v}))},l=(b,v)=>{n&&e.droppable.getById(b).callbacks.scroll(v)},u=()=>{if(!n)return;r.stop();const b=n.critical.droppable;e.droppable.getAllByType(b.type).forEach(v=>v.callbacks.dragStopped()),n.unsubscribe(),n=null},f=b=>{n||Pe();const v=n.critical.draggable;b.type==="ADDITION"&&DM(e,v,b.value)&&r.add(b.value),b.type==="REMOVAL"&&DM(e,v,b.value)&&r.remove(b.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:b=>{n&&Pe();const v=e.draggable.getById(b.draggableId),S=e.droppable.getById(v.descriptor.droppableId),w={draggable:v.descriptor,droppable:S.descriptor},_=e.subscribe(f);return n={critical:w,unsubscribe:_},uQ({critical:w,registry:e,scrollOptions:b.scrollOptions})},stopPublishing:u}},n4=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",fQ=e=>{window.scrollBy(e.x,e.y)};const hQ=lr(e=>bv(e).filter(t=>!(!t.isEnabled||!t.frame))),mQ=(e,t)=>hQ(t).find(r=>(r.frame||Pe(),B5(r.frame.pageMarginBox)(e)))||null;var pQ=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return mQ(e,n)};const Mm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var gQ=(e,t,n=()=>Mm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},r4=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},H2=1,bQ=(e,t,n=()=>Mm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return H2;const a=1-r4({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},yQ=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,f=Date.now()-o;if(f>=a)return e;if(f<i)return H2;const h=r4({startOfRange:i,endOfRange:l,current:f}),p=e*r.ease(h);return Math.ceil(p)},PM=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=bQ(e,t,i);return a===0?0:r?Math.max(yQ(a,n,i),H2):a},RM=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=gQ(e,r,a);return t[r.end]<t[r.start]?PM({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*PM({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},vQ=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const xQ=T5(e=>e===0?0:e);var i4=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=RM({container:t,distanceToEdges:o,dragStartTime:e,axis:R2,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=RM({container:t,distanceToEdges:o,dragStartTime:e,axis:M5,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=xQ({x:u,y:l});if(Nl(f,cr))return null;const h=vQ({container:t,subject:n,proposedScroll:f});return h?Nl(h,cr)?null:h:null};const _Q=T5(e=>e===0?0:e>0?1:-1),G2=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=vr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Nl(a,cr)?null:a}})(),a4=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=_Q(n),a=G2({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},q2=(e,t)=>a4({current:e.scroll.current,max:e.scroll.max,change:t}),wQ=(e,t)=>{if(!q2(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return G2({current:r,max:n,change:t})},Y2=(e,t)=>{const n=e.frame;return n?a4({current:n.scroll.current,max:n.scroll.max,change:t}):!1},SQ=(e,t)=>{const n=e.frame;return!n||!Y2(e,t)?null:G2({current:n.scroll.current,max:n.scroll.max,change:t})};var kQ=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=i4({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&q2(e,o)?o:null},EQ=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=i4({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&Y2(e,l)?l:null},LM=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,b=kQ({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(b){r(b);return}}const f=pQ({center:o,destination:Ii(e.impact),droppables:e.dimensions.droppables});if(!f)return;const h=EQ({dragStartTime:t,droppable:f,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(f.descriptor.id,h)},AQ=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Mm})=>{const r=Tm(e),i=Tm(t);let a=null;const o=f=>{a||Pe();const{shouldUseTimeDampening:h,dragStartTime:p}=a;LM({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:f=>{a&&Pe();const h=Date.now();let p=!1;const b=()=>{p=!0};LM({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:b,scrollDroppable:b,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:p},p&&o(f)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},TQ=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const f=vr(l.current.client.selection,u);e({client:f})},i=(l,u)=>{if(!Y2(l,u))return u;const f=SQ(l,u);if(!f)return t(l.descriptor.id,u),null;const h=Ri(u,f);return t(l.descriptor.id,h),Ri(u,h)},a=(l,u,f)=>{if(!l||!q2(u,f))return f;const h=wQ(u,f);if(!h)return n(f),null;const p=Ri(f,h);return n(p),Ri(f,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const f=Ii(l.impact);f||Pe();const h=i(l.dimensions.droppables[f],u);if(!h)return;const p=l.viewport,b=a(l.isWindowScrollAllowed,p,h);b&&r(l,b)}},jQ=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=AQ({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=TQ({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const Yd="data-rfd",Kd=(()=>{const e=`${Yd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Dk=(()=>{const e=`${Yd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),OQ=(()=>{const e=`${Yd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),IM={contextId:`${Yd}-scroll-container-context-id`},NQ=e=>t=>`[${t}="${e}"]`,Lh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),CQ="pointer-events: none;";var MQ=e=>{const t=NQ(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Kd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:CQ,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${gm.outOfTheWay};
    `;return{selector:t(Dk.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(OQ.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Lh(o,"always"),resting:Lh(o,"resting"),dragging:Lh(o,"dragging"),dropAnimating:Lh(o,"dropAnimating"),userCancel:Lh(o,"userCancel")}};const $i=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k.useLayoutEffect:k.useEffect,Hw=()=>{const e=document.querySelector("head");return e||Pe(),e},$M=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function DQ(e,t){const n=wt(()=>MQ(e),[e]),r=k.useRef(null),i=k.useRef(null),a=Ze(lr(p=>{const b=i.current;b||Pe(),b.textContent=p}),[]),o=Ze(p=>{const b=r.current;b||Pe(),b.textContent=p},[]);$i(()=>{!r.current&&!i.current||Pe();const p=$M(t),b=$M(t);return r.current=p,i.current=b,p.setAttribute(`${Yd}-always`,e),b.setAttribute(`${Yd}-dynamic`,e),Hw().appendChild(p),Hw().appendChild(b),o(n.always),a(n.resting),()=>{const v=S=>{const w=S.current;w||Pe(),Hw().removeChild(w),S.current=null};v(r),v(i)}},[t,o,a,n.always,n.resting,e]);const l=Ze(()=>a(n.dragging),[a,n.dragging]),u=Ze(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),f=Ze(()=>{i.current&&a(n.resting)},[a,n.resting]);return wt(()=>({dragging:l,dropping:u,resting:f}),[l,u,f])}function o4(e,t){return Array.from(e.querySelectorAll(t))}var s4=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function _v(e){return e instanceof s4(e).HTMLElement}function PQ(e,t){const n=`[${Kd.contextId}="${e}"]`,r=o4(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Kd.draggableId)===t);return!i||!_v(i)?null:i}function RQ(e){const t=k.useRef({}),n=k.useRef(null),r=k.useRef(null),i=k.useRef(!1),a=Ze(function(b,v){const S={id:b,focus:v};return t.current[b]=S,function(){const _=t.current;_[b]!==S&&delete _[b]}},[]),o=Ze(function(b){const v=PQ(e,b);v&&v!==document.activeElement&&v.focus()},[e]),l=Ze(function(b,v){n.current===b&&(n.current=v)},[]),u=Ze(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const b=n.current;b&&o(b)}))},[o]),f=Ze(function(b){n.current=null;const v=document.activeElement;v&&v.getAttribute(Kd.draggableId)===b&&(n.current=b)},[]);return $i(()=>(i.current=!0,function(){i.current=!1;const b=r.current;b&&cancelAnimationFrame(b)}),[]),wt(()=>({register:a,tryRecordFocus:f,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[a,f,u,l])}function LQ(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const v=t.indexOf(p);v!==-1&&t.splice(v,1)}}function r(p){t.length&&t.forEach(b=>b(p))}function i(p){return e.draggables[p]||null}function a(p){const b=i(p);return b||Pe(),b}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,b)=>{const v=e.draggables[b.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[b.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const b=p.descriptor.id,v=i(b);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[b],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(b=>b.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const b=l(p);return b||Pe(),b}const f={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const b=l(p.descriptor.id);b&&p.uniqueId===b.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(b=>b.descriptor.type===p)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:f,subscribe:n,clean:h}}function IQ(){const e=wt(LQ,[]);return k.useEffect(()=>function(){e.clean()},[e]),e}var K2=Wt.createContext(null),Qb=()=>{const e=document.body;return e||Pe(),e};const $Q={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},BQ=e=>`rfd-announcement-${e}`;function zQ(e){const t=wt(()=>BQ(e),[e]),n=k.useRef(null);return k.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Vb(a.style,$Q),Qb().appendChild(a),function(){setTimeout(function(){const u=Qb();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Ze(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const UQ={separator:"::"};function W2(e,t=UQ){const n=Wt.useId();return wt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function FQ({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function HQ({contextId:e,text:t}){const n=W2("hidden-text",{separator:"-"}),r=wt(()=>FQ({contextId:e,uniqueId:n}),[n,e]);return k.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Qb().appendChild(a),function(){const l=Qb();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var wv=Wt.createContext(null);function l4(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),t}function GQ(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Pe();const l={abandon:o};return e=l,l}function i(){e||Pe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Dm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const qQ=9,YQ=13,V2=27,c4=32,KQ=33,WQ=34,VQ=35,ZQ=36,XQ=37,JQ=38,QQ=39,eee=40,tee={[YQ]:!0,[qQ]:!0};var u4=e=>{tee[e.keyCode]&&e.preventDefault()};const Sv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),d4=0,BM=5;function nee(e,t){return Math.abs(t.x-e.x)>=BM||Math.abs(t.y-e.y)>=BM}const zM={type:"IDLE"};function ree({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==d4)return;const u={x:o,y:l},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(u);return}f.type!=="PENDING"&&Pe();const h=f.point;if(!nee(h,u))return;i.preventDefault();const p=f.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===V2){i.preventDefault(),e();return}u4(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Pe(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Sv,fn:e}]}function iee(e){const t=k.useRef(zM),n=k.useRef(Ol),r=wt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==d4||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const b=e.findClosestDraggableId(p);if(!b)return;const v=e.tryGetLock(b,o,{sourceEvent:p});if(!v)return;p.preventDefault();const S={x:p.clientX,y:p.clientY};n.current(),f(v,S)}}),[e]),i=wt(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const b=e.findOptionsForDraggable(p);b&&(b.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}),[e]),a=Ze(function(){const p={passive:!1,capture:!0};n.current=sa(window,[i,r],p)},[i,r]),o=Ze(()=>{t.current.type!=="IDLE"&&(t.current=zM,n.current(),a())},[a]),l=Ze(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=Ze(function(){const p={capture:!0,passive:!1},b=ree({cancel:l,completed:o,getPhase:()=>t.current,setPhase:v=>{t.current=v}});n.current=sa(window,b,p)},[l,o]),f=Ze(function(p,b){t.current.type!=="IDLE"&&Pe(),t.current={type:"PENDING",point:b,actions:p},u()},[u]);$i(function(){return a(),function(){n.current()}},[a])}function aee(){}const oee={[WQ]:!0,[KQ]:!0,[ZQ]:!0,[VQ]:!0};function see(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===V2){i.preventDefault(),n();return}if(i.keyCode===c4){i.preventDefault(),r();return}if(i.keyCode===eee){i.preventDefault(),e.moveDown();return}if(i.keyCode===JQ){i.preventDefault(),e.moveUp();return}if(i.keyCode===QQ){i.preventDefault(),e.moveRight();return}if(i.keyCode===XQ){i.preventDefault(),e.moveLeft();return}if(oee[i.keyCode]){i.preventDefault();return}u4(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Sv,fn:n}]}function lee(e){const t=k.useRef(aee),n=wt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==c4)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let u=!0;const f=l.snapLift();t.current();function h(){u||Pe(),u=!1,t.current(),r()}t.current=sa(window,see(f,h),{capture:!0,passive:!1})}}),[e]),r=Ze(function(){const a={passive:!1,capture:!0};t.current=sa(window,[n],a)},[n]);$i(function(){return r(),function(){t.current()}},[r])}const Gw={type:"IDLE"},cee=120,uee=.15;function dee({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===V2&&n.preventDefault(),e()}},{eventName:Sv,fn:e}]}function fee({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Pe();const a=r.touches[0];if(!a||!(a.force>=uee))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Sv,fn:e}]}function hee(e){const t=k.useRef(Gw),n=k.useRef(Ol),r=Ze(function(){return t.current},[]),i=Ze(function(v){t.current=v},[]),a=wt(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const S=e.findClosestDraggableId(v);if(!S)return;const w=e.tryGetLock(S,l,{sourceEvent:v});if(!w)return;const _=v.touches[0],{clientX:T,clientY:N}=_,j={x:T,y:N};n.current(),p(w,j)}}),[e]),o=Ze(function(){const v={capture:!0,passive:!1};n.current=sa(window,[a],v)},[a]),l=Ze(()=>{const b=t.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),i(Gw),n.current(),o())},[o,i]),u=Ze(()=>{const b=t.current;l(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[l]),f=Ze(function(){const v={capture:!0,passive:!1},S={cancel:u,completed:l,getPhase:r},w=sa(window,fee(S),v),_=sa(window,dee(S),v);n.current=function(){w(),_()}},[u,r,l]),h=Ze(function(){const v=r();v.type!=="PENDING"&&Pe();const S=v.actions.fluidLift(v.point);i({type:"DRAGGING",actions:S,hasMoved:!1})},[r,i]),p=Ze(function(v,S){r().type!=="IDLE"&&Pe();const w=setTimeout(h,cee);i({type:"PENDING",point:S,actions:v,longPressTimerId:w}),f()},[f,r,i,h]);$i(function(){return o(),function(){n.current();const S=r();S.type==="PENDING"&&(clearTimeout(S.longPressTimerId),i(Gw))}},[r,o,i]),$i(function(){return sa(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const mee=["input","button","textarea","select","option","optgroup","video","audio"];function f4(e,t){if(t==null)return!1;if(mee.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:f4(e,t.parentElement)}function pee(e,t){const n=t.target;return _v(n)?f4(e,n):!1}var gee=e=>za(e.getBoundingClientRect()).center;function bee(e){return e instanceof s4(e).Element}const yee=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function h4(e,t){return e==null?null:e[yee](t)?e:h4(e.parentElement,t)}function vee(e,t){return e.closest?e.closest(t):h4(e,t)}function xee(e){return`[${Kd.contextId}="${e}"]`}function _ee(e,t){const n=t.target;if(!bee(n))return null;const r=xee(e),i=vee(n,r);return!i||!_v(i)?null:i}function wee(e,t){const n=_ee(e,t);return n?n.getAttribute(Kd.draggableId):null}function See(e,t){const n=`[${Dk.contextId}="${e}"]`,i=o4(document,n).find(a=>a.getAttribute(Dk.id)===t);return!i||!_v(i)?null:i}function kee(e){e.preventDefault()}function k0({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function m4({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!n4(t.getState(),r))}function Eee({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!m4({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),f=See(t,u.descriptor.id);if(!f||o&&!u.options.canDragInteractiveElements&&pee(f,o))return null;const h=e.claim(a||Ol);let p="PRE_DRAG";function b(){return u.options.shouldRespectForcePress}function v(){return e.isActive(h)}function S(D,P){k0({expected:D,phase:p,isLockActive:v,shouldWarn:!0})&&n.dispatch(P())}const w=S.bind(null,"DRAGGING");function _(D){function P(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(P(),Pe()),n.dispatch(vJ(D.liftActionArgs)),p="DRAGGING";function $(F,Y={shouldBlockNextClick:!1}){if(D.cleanup(),Y.shouldBlockNextClick){const K=sa(window,[{eventName:"click",fn:kee,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(K)}P(),n.dispatch(W5({reason:F}))}return{isActive:()=>k0({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:b,drop:F=>$("DROP",F),cancel:F=>$("CANCEL",F),...D.actions}}function T(D){const P=Tm(F=>{w(()=>K5({client:F}))});return{..._({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function N(){const D={moveUp:()=>w(jJ),moveRight:()=>w(NJ),moveDown:()=>w(OJ),moveLeft:()=>w(CJ)};return _({liftActionArgs:{id:i,clientSelection:gee(f),movementMode:"SNAP"},cleanup:Ol,actions:D})}function j(){k0({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0})&&e.release()}return{isActive:()=>k0({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:b,fluidLift:T,snapLift:N,abort:j}}const Aee=[iee,lee,hee];function Tee({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?Aee:[],...r||[]],o=k.useState(()=>GQ())[0],l=Ze(function(_,T){Dm(_)&&!Dm(T)&&o.tryAbandon()},[o]);$i(function(){let _=t.getState();return t.subscribe(()=>{const N=t.getState();l(_,N),_=N})},[o,t,l]),$i(()=>o.tryAbandon,[o.tryAbandon]);const u=Ze(w=>m4({lockAPI:o,registry:n,store:t,draggableId:w}),[o,n,t]),f=Ze((w,_,T)=>Eee({lockAPI:o,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:_||null,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null}),[e,o,n,t]),h=Ze(w=>wee(e,w),[e]),p=Ze(w=>{const _=n.draggable.findById(w);return _?_.options:null},[n.draggable]),b=Ze(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(z2()))},[o,t]),v=Ze(()=>o.isClaimed(),[o]),S=wt(()=>({canGetLock:u,tryGetLock:f,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:b,isLockClaimed:v}),[u,f,h,p,b,v]);for(let w=0;w<a.length;w++)a[w](S)}const jee=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};yu.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Oee=e=>({...Mm,...e.autoScrollerOptions,durationDampening:{...Mm.durationDampening,...e.autoScrollerOptions}});function Ih(e){return e.current||Pe(),e.current}function Nee(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=k.useRef(null),l=l4(e),u=Ze(()=>jee(l.current),[l]),f=Ze(()=>Oee(l.current),[l]),h=zQ(t),p=HQ({contextId:t,text:a}),b=DQ(t,i),v=Ze(K=>{Ih(o).dispatch(K)},[]),S=wt(()=>fM({publishWhileDragging:_J,updateDroppableScroll:SJ,updateDroppableIsEnabled:kJ,updateDroppableIsCombineEnabled:EJ,collectionStarting:wJ},v),[v]),w=IQ(),_=wt(()=>dQ(w,S),[w,S]),T=wt(()=>jQ({scrollWindow:fQ,scrollDroppable:_.scrollDroppable,getAutoScrollerOptions:f,...fM({move:K5},v)}),[_.scrollDroppable,v,f]),N=RQ(t),j=wt(()=>sQ({announce:h,autoScroller:T,dimensionMarshal:_,focusMarshal:N,getResponders:u,styleMarshal:b}),[h,T,_,N,u,b]);o.current=j;const C=Ze(()=>{const K=Ih(o);K.getState().phase!=="IDLE"&&K.dispatch(z2())},[]),D=Ze(()=>{const K=Ih(o).getState();return K.phase==="DROP_ANIMATING"?!0:K.phase==="IDLE"?!1:K.isDragging},[]),P=wt(()=>({isDragging:D,tryAbort:C}),[D,C]);n(P);const $=Ze(K=>n4(Ih(o).getState(),K),[]),F=Ze(()=>Hc(Ih(o).getState()),[]),Y=wt(()=>({marshal:_,focus:N,contextId:t,canLift:$,isMovementAllowed:F,dragHandleUsageInstructionsId:p,registry:w}),[t,_,p,N,$,F,w]);return Tee({contextId:t,store:j,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),k.useEffect(()=>C,[C]),Wt.createElement(wv.Provider,{value:Y},Wt.createElement(x5,{context:K2,store:j},e.children))}function Cee(){return Wt.useId()}function up(e){const t=Cee(),n=e.dragHandleUsageInstructions||Sb.dragHandleUsageInstructions;return Wt.createElement(lX,null,r=>Wt.createElement(Nee,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const UM={dragging:5e3,dropAnimating:4500},Mee=(e,t)=>t?gm.drop(t.duration):e?gm.snap:gm.fluid,Dee=(e,t)=>{if(e)return t?Cm.opacity.drop:Cm.opacity.combining},Pee=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Ree(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=Pee(e),u=!!a,f=u?Ck.drop(r,o):Ck.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Mee(l,a),transform:f,opacity:Dee(o,u),zIndex:u?UM.dropAnimating:UM.dragging,pointerEvents:"none"}}function Lee(e){return{transform:Ck.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Iee(e){return e.type==="DRAGGING"?Ree(e):Lee(e)}function $ee(e,t,n=cr){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=_5(i,r),o=Wb(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:a,page:o}}function Bee(e){const t=W2("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,u=wt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),f=Ze(v=>{const S=i();return S||Pe(),$ee(n,S,v)},[n,i]),h=wt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:f}),[n,f,u,t]),p=k.useRef(h),b=k.useRef(!0);$i(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),$i(()=>{if(b.current){b.current=!1;return}const v=p.current;p.current=h,r.draggable.update(h,v)},[h,r.draggable])}var Z2=Wt.createContext(null);function ey(e){const t=k.useContext(e);return t||Pe(),t}function zee(e){e.preventDefault()}const Uee=e=>{const t=k.useRef(null),n=Ze((P=null)=>{t.current=P},[]),r=Ze(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=ey(wv),{type:l,droppableId:u}=ey(Z2),f=wt(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:h,draggableId:p,isEnabled:b,shouldRespectForcePress:v,canDragInteractiveElements:S,isClone:w,mapped:_,dropAnimationFinished:T}=e;if(!w){const P=wt(()=>({descriptor:f,registry:o,getDraggableRef:r,canDragInteractiveElements:S,shouldRespectForcePress:v,isEnabled:b}),[f,o,r,S,v,b]);Bee(P)}const N=wt(()=>b?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:zee}:null,[i,a,p,b]),j=Ze(P=>{_.type==="DRAGGING"&&_.dropping&&P.propertyName==="transform"&&yu.flushSync(T)},[T,_]),C=wt(()=>{const P=Iee(_),$=_.type==="DRAGGING"&&_.dropping?j:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:P,onTransitionEnd:$},dragHandleProps:N}},[i,N,p,_,j,n]),D=wt(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return Wt.createElement(Wt.Fragment,null,h(C,_.snapshot,D))};var p4=(e,t)=>e===t,g4=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Fee=e=>e.combine?e.combine.draggableId:null,Hee=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Gee(){const e=lr((i,a)=>({x:i,y:a})),t=lr((i,a,o=null,l=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),n=lr((i,a,o,l,u=null,f=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:f,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,u,f,null)}}));return(i,a)=>{if(Dm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],u=Ii(i.impact),f=Hee(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,l,a.isClone,u,f,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,u=i.dimensions.draggables[a.draggableId],f=o.result,h=f.mode,p=g4(f),b=Fee(f),S={duration:i.dropDuration,curve:F2.drop,moveTo:i.newHomeClientOffset,opacity:b?Cm.opacity.drop:null,scale:b?Cm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:S,draggingOver:p,combineWith:b,mode:h,forceShouldAnimate:null,snapshot:t(h,l,p,b,S)}}}return null}}function b4(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const qee={mapped:{type:"SECONDARY",offset:cr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:b4(null)}};function Yee(){const e=lr((o,l)=>({x:o,y:l})),t=lr(b4),n=lr((o,l=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=o=>o?n(cr,o,!0):null,i=(o,l,u,f)=>{const h=u.displaced.visible[o],p=!!(f.inVirtualList&&f.effected[o]),b=yv(u),v=b&&b.draggableId===o?l:null;if(!h){if(!p)return r(v);if(u.displaced.invisible[o])return null;const _=df(f.displacedBy.point),T=e(_.x,_.y);return n(T,v,!0)}if(p)return r(v);const S=u.displacedBy.point,w=e(S.x,S.y);return n(w,v,h.shouldAnimate)};return(o,l)=>{if(Dm(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const Kee=()=>{const e=Gee(),t=Yee();return(r,i)=>e(r,i)||t(r,i)||qee},Wee={dropAnimationFinished:V5},Vee=v5(Kee,Wee,null,{context:K2,areStatePropsEqual:p4})(Uee);function y4(e){return ey(Z2).isUsingCloneFor===e.draggableId&&!e.isClone?null:Wt.createElement(Vee,e)}function mf(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Wt.createElement(y4,Vb({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const v4=e=>t=>e===t,Zee=v4("scroll"),Xee=v4("auto"),FM=(e,t)=>t(e.overflowX)||t(e.overflowY),Jee=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return FM(n,Zee)||FM(n,Xee)},Qee=()=>!1,x4=e=>e==null?null:e===document.body?Qee()?e:null:e===document.documentElement?null:Jee(e)?e:x4(e.parentElement);var Pk=e=>({x:e.scrollLeft,y:e.scrollTop});const _4=e=>e?window.getComputedStyle(e).position==="fixed"?!0:_4(e.parentElement):!1;var ete=e=>{const t=x4(e),n=_4(e);return{closestScrollable:t,isFixedOnPage:n}},tte=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:b,client:v}=l,S=Q5({scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:v,scrollSize:b,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:S,diff:{value:cr,displacement:cr}}}})(),f=i==="vertical"?R2:M5,h=qd({page:o,withPlaceholder:null,axis:f,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:f,isEnabled:t,client:a,page:o,frame:u,subject:h}};const nte=(e,t)=>{const n=w5(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=C2({top:r,right:o,bottom:a,left:i},n.border);return M2({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var rte=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const u=n.closestScrollable,f=nte(e,u),h=Wb(f,r),p=(()=>{if(!u)return null;const v=w5(u),S={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:Wb(v,r),scroll:Pk(u),scrollSize:S,shouldClipSubject:l}})();return tte({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:h,closest:p})};const ite={passive:!1},ate={passive:!0};var HM=e=>e.shouldPublishImmediately?ite:ate;const E0=e=>e&&e.env.closestScrollable||null;function ote(e){const t=k.useRef(null),n=ey(wv),r=W2("droppable"),{registry:i,marshal:a}=n,o=l4(e),l=wt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=k.useRef(l),f=wt(()=>lr((C,D)=>{t.current||Pe();const P={x:C,y:D};a.updateDroppableScroll(l.id,P)}),[l.id,a]),h=Ze(()=>{const C=t.current;return!C||!C.env.closestScrollable?cr:Pk(C.env.closestScrollable)},[]),p=Ze(()=>{const C=h();f(C.x,C.y)},[h,f]),b=wt(()=>Tm(p),[p]),v=Ze(()=>{const C=t.current,D=E0(C);if(C&&D||Pe(),C.scrollOptions.shouldPublishImmediately){p();return}b()},[b,p]),S=Ze((C,D)=>{t.current&&Pe();const P=o.current,$=P.getDroppableRef();$||Pe();const F=ete($),Y={ref:$,descriptor:l,env:F,scrollOptions:D};t.current=Y;const K=rte({ref:$,descriptor:l,env:F,windowScroll:C,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),H=F.closestScrollable;return H&&(H.setAttribute(IM.contextId,n.contextId),H.addEventListener("scroll",v,HM(Y.scrollOptions))),K},[n.contextId,l,v,o]),w=Ze(()=>{const C=t.current,D=E0(C);return C&&D||Pe(),Pk(D)},[]),_=Ze(()=>{const C=t.current;C||Pe();const D=E0(C);t.current=null,D&&(b.cancel(),D.removeAttribute(IM.contextId),D.removeEventListener("scroll",v,HM(C.scrollOptions)))},[v,b]),T=Ze(C=>{const D=t.current;D||Pe();const P=E0(D);P||Pe(),P.scrollTop+=C.y,P.scrollLeft+=C.x},[]),N=wt(()=>({getDimensionAndWatchScroll:S,getScrollWhileDragging:w,dragStopped:_,scroll:T}),[_,S,w,T]),j=wt(()=>({uniqueId:r,descriptor:l,callbacks:N}),[N,l,r]);$i(()=>(u.current=j.descriptor,i.droppable.register(j),()=>{t.current&&_(),i.droppable.unregister(j)}),[N,l,_,j,a,i.droppable]),$i(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),$i(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function qw(){}const GM={width:0,height:0,margin:pX},ste=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?GM:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},lte=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=ste({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?gm.placeholder:null}},cte=e=>{const t=k.useRef(null),n=Ze(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,u]=k.useState(e.animate==="open");k.useEffect(()=>l?r!=="open"?(n(),u(!1),qw):t.current?qw:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):qw,[r,l,n]);const f=Ze(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=lte({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return Wt.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:f,ref:e.innerRef})};var ute=Wt.memo(cte);class dte extends Wt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const fte=e=>{const t=k.useContext(wv);t||Pe();const{contextId:n,isMovementAllowed:r}=t,i=k.useRef(null),a=k.useRef(null),{children:o,droppableId:l,type:u,mode:f,direction:h,ignoreContainerClipping:p,isDropDisabled:b,isCombineEnabled:v,snapshot:S,useClone:w,updateViewportMaxScroll:_,getContainerForClone:T}=e,N=Ze(()=>i.current,[]),j=Ze((H=null)=>{i.current=H},[]);Ze(()=>a.current,[]);const C=Ze((H=null)=>{a.current=H},[]),D=Ze(()=>{r()&&_({maxScroll:t4()})},[r,_]);ote({droppableId:l,type:u,mode:f,direction:h,isDropDisabled:b,isCombineEnabled:v,ignoreContainerClipping:p,getDroppableRef:N});const P=wt(()=>Wt.createElement(dte,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:H,data:z,animate:V})=>Wt.createElement(ute,{placeholder:z,onClose:H,innerRef:C,animate:V,contextId:n,onTransitionEnd:D})),[n,D,e.placeholder,e.shouldAnimatePlaceholder,C]),$=wt(()=>({innerRef:j,placeholder:P,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,P,j]),F=w?w.dragging.draggableId:null,Y=wt(()=>({droppableId:l,type:u,isUsingCloneFor:F}),[l,F,u]);function K(){if(!w)return null;const{dragging:H,render:z}=w,V=Wt.createElement(y4,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Z,X)=>z(Z,X,H));return xq.createPortal(V,T())}return Wt.createElement(Z2.Provider,{value:Y},o($,S),K())};function hte(){return document.body||Pe(),document.body}const qM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:hte},w4=e=>{let t={...e},n;for(n in qM)e[n]===void 0&&(t={...t,[n]:qM[n]});return t},Yw=(e,t)=>e===t.droppable.type,YM=(e,t)=>t.draggables[e.draggable.id],mte=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=lr(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=lr((a,o,l,u,f,h)=>{const p=f.descriptor.id;if(f.descriptor.droppableId===a){const S=h?{render:h,dragging:n(f.descriptor)}:null,w={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:S}}if(!o)return t;if(!u)return e;const v={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(a,o)=>{const l=w4(o),u=l.droppableId,f=l.type,h=!l.isDropDisabled,p=l.renderClone;if(Dm(a)){const b=a.critical;if(!Yw(f,b))return t;const v=YM(b,a.dimensions),S=Ii(a.impact)===u;return r(u,h,S,S,v,p)}if(a.phase==="DROP_ANIMATING"){const b=a.completed;if(!Yw(f,b.critical))return t;const v=YM(b.critical,a.dimensions);return r(u,h,g4(b.result)===u,Ii(b.impact)===u,v,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const b=a.completed;if(!Yw(f,b.critical))return t;const v=Ii(b.impact)===u,S=!!(b.impact.at&&b.impact.at.type==="COMBINE"),w=b.critical.droppable.id===u;return v?S?e:t:w?e:t}return t}},pte={updateViewportMaxScroll:TJ},pf=v5(mte,pte,(e,t,n)=>({...w4(n),...e,...t}),{context:K2,areStatePropsEqual:p4})(fte),gte={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Pm(e,t,n){const r=gte[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function bte(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),l=e.getUTCSeconds(),u=(a-12)/24+o/1440+l/86400,f=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(f)-.032077*Math.sin(f)-.014615*Math.cos(2*f)-.040849*Math.sin(2*f))}function yte(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function dp(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=yte(i),o=4*(i-a),l=bte(r);return new Date(r.getTime()+(o+l)*60*1e3)}function S4(e){return e.replace(/\D/g,"")}function vte(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function xte(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function gf(e){const t=S4(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return vte(n,r,i)?{y:n,m:r,d:i}:null}function fp(e){const t=e.trim();if(!t||t==="")return null;const n=S4(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return xte(r,i)?{hh:r,mm:i}:null}function kv(e){const t=e.trim(),n=gf(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function Ev(e){const t=e.trim();if(t==="")return"";const n=fp(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var kb={exports:{}},_te=kb.exports,KM;function wte(){return KM||(KM=1,(function(e,t){(function(n,r){e.exports=r()})(_te,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,l){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(l){return l&&l.__esModule?l:{default:l}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(V){return V&&V.__esModule?V:{default:V}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),l=a(o),u=i(3),f=a(u),h=i(4),p=a(h),b=i(5),v=a(b),S=i(6),w=a(S),_=i(7),T=a(_),N=i(8),j=a(N),C=i(9),D=a(C),P=i(10),$=a(P),F=i(11),Y=a(F),K=i(12),H=a(K),z={lunarInfo:l.default,solarMonth:f.default,gan:p.default,zhi:v.default,animals:w.default,lunarTerm:T.default,lTermInfo:j.default,nStr1:D.default,nStr2:$.default,nStr3:Y.default,nStr4:H.default,lYearDays:function(V){var Z,X=348;for(Z=32768;Z>8;Z>>=1)X+=z.lunarInfo[V-1900]&Z?1:0;return X+z.leapDays(V)},leapMonth:function(V){return 15&z.lunarInfo[V-1900]},leapDays:function(V){return z.leapMonth(V)?65536&z.lunarInfo[V-1900]?30:29:0},monthDays:function(V,Z){return Z>12||Z<1?-1:z.lunarInfo[V-1900]&65536>>Z?30:29},solarDays:function(V,Z){if(Z>12||Z<1)return-1;var X=Z-1;return X==1?V%4==0&&V%100!=0||V%400==0?29:28:z.solarMonth[X]},toGanZhi:function(V){return z.gan[V%10]+z.zhi[V%12]},getTerm:function(V,Z){if(V<1900||V>2100||Z<1||Z>24)return-1;var X=z.lTermInfo[V-1900],q=[parseInt("0x"+X.substr(0,5)).toString(),parseInt("0x"+X.substr(5,5)).toString(),parseInt("0x"+X.substr(10,5)).toString(),parseInt("0x"+X.substr(15,5)).toString(),parseInt("0x"+X.substr(20,5)).toString(),parseInt("0x"+X.substr(25,5)).toString()],J=[q[0].substr(0,1),q[0].substr(1,2),q[0].substr(3,1),q[0].substr(4,2),q[1].substr(0,1),q[1].substr(1,2),q[1].substr(3,1),q[1].substr(4,2),q[2].substr(0,1),q[2].substr(1,2),q[2].substr(3,1),q[2].substr(4,2),q[3].substr(0,1),q[3].substr(1,2),q[3].substr(3,1),q[3].substr(4,2),q[4].substr(0,1),q[4].substr(1,2),q[4].substr(3,1),q[4].substr(4,2),q[5].substr(0,1),q[5].substr(1,2),q[5].substr(3,1),q[5].substr(4,2)];return parseInt(J[Z-1])},toChinaYear:function(V){var Z=parseInt(V/1e3),X=parseInt(V%1e3/100),q=parseInt(V%100/10),J=V%10;return z.nStr4[Z]+z.nStr4[X]+z.nStr4[q]+z.nStr4[J]+""},toChinaMonth:function(V){if(V>12||V<1)return-1;var Z=z.nStr3[V-1];return Z+=""},toChinaDay:function(V){var Z;switch(V){case 10:Z="";break;case 20:Z="";break;case 30:Z="";break;default:Z=z.nStr2[Math.floor(V/10)],Z+=z.nStr1[V%10]}return Z},getAnimal:function(V){return z.animals[(V-4)%12]},solar2lunar:function(de,oe,B){if(de<1900||de>2100||de==1900&&oe==1&&B<31)return-1;if(de)var q=new Date(de,parseInt(oe)-1,B);else var q=new Date;var J,Se=0,ne=0,de=q.getFullYear(),oe=q.getMonth()+1,B=q.getDate(),W=(Date.UTC(q.getFullYear(),q.getMonth(),q.getDate())-Date.UTC(1900,0,31))/864e5;for(J=1900;J<2101&&W>0;J++)ne=z.lYearDays(J),W-=ne;W<0&&(W+=ne,J--);var ie=new Date,Q=!1;ie.getFullYear()==de&&ie.getMonth()+1==oe&&ie.getDate()==B&&(Q=!0);var se=q.getDay(),he=z.nStr1[se];se==0&&(se=7);var me=J,Se=z.leapMonth(J),re=!1;for(J=1;J<13&&W>0;J++)Se>0&&J==Se+1&&re==0?(--J,re=!0,ne=z.leapDays(me)):ne=z.monthDays(me,J),re==1&&J==Se+1&&(re=!1),W-=ne;W==0&&Se>0&&J==Se+1&&(re?re=!1:(re=!0,--J)),W<0&&(W+=ne,--J);var Ee=J,je=W+1,fe=oe-1,Je=z.getTerm(de,3),Ke=z.toGanZhi(de-4),Ne=new Date(de,1,Je).getTime();new Date(de,fe,B).getTime()<Ne&&(Ke=z.toGanZhi(de-5));var Ie=z.getTerm(de,2*oe-1),We=z.getTerm(de,2*oe),Oe=z.toGanZhi(12*(de-1900)+oe+11);B>=Ie&&(Oe=z.toGanZhi(12*(de-1900)+oe+12));var De=!1,Be="";Ie==B&&(De=!0,Be=z.lunarTerm[2*oe-2]),We==B&&(De=!0,Be=z.lunarTerm[2*oe-1]);var lt=Date.UTC(de,fe,1,0,0,0,0)/864e5+25567+10,ue=z.toGanZhi(lt+B-1);return{lYear:me,lMonth:Ee,lDay:je,animal:z.getAnimal(me),yearCn:z.toChinaYear(me),monthCn:(re&&Se===Ee?"":"")+z.toChinaMonth(Ee),dayCn:z.toChinaDay(je),cYear:de,cMonth:oe,cDay:B,gzYear:Ke,gzMonth:Oe,gzDay:ue,isToday:Q,isLeap:re,nWeek:se,ncWeek:""+he,isTerm:De,term:Be}},lunar2solar:function(V,Z,X,q){var J=z.leapMonth(V);if(z.leapDays(V),q&&J!=Z||V==2100&&Z==12&&X>1||V==1900&&Z==1&&X<31)return-1;var ne=z.monthDays(V,Z);if(V<1900||V>2100||X>ne)return-1;for(var de=0,oe=1900;oe<V;oe++)de+=z.lYearDays(oe);for(var B=0,W=!1,oe=1;oe<Z;oe++)B=z.leapMonth(V),W||B<=oe&&B>0&&(de+=z.leapDays(V),W=!0),de+=z.monthDays(V,oe);q&&(de+=ne);var ie=Date.UTC(1900,1,30,0,0,0),Q=new Date(864e5*(de+X-31)+ie),se=Q.getUTCFullYear(),he=Q.getUTCMonth()+1,me=Q.getUTCDate();return z.solar2lunar(se,he,me)}};r.default=z,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(kb)),kb.exports}var k4=wte();const Ste=hi(k4),kte=o2({__proto__:null,default:Ste},[k4]);function X2(e){return typeof e=="object"&&e!==null}function Ete(e){return X2(e)&&"default"in e}function Ate(e){return X2(e)&&typeof e.lunar2solar=="function"}function Tte(e){if(!X2(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function jte(e){const t=Ete(e)?e.default:e;if(!Ate(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const l=t.lunar2solar(r,i,a,o);return Tte(l)}}}const Ote=jte(kte);function Gi(e,t,n,r=4,i=0){const a=Ote.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const WM=e=>e<10?`0${e}`:`${e}`;function hp(e){if(e.calendarType!=="lunar")return e;const t=gf(e.birthDay??"");if(!t)return e;try{const n=Gi(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${WM(i)}${WM(a)}`,calendarType:"solar"}}catch{return e}}function J2(e){const t=e.mingSikType??"/",n=gf(e.birthDay??"");if(!n){const C=e.corrected instanceof Date?e.corrected:new Date(NaN),D=typeof e.ganji=="string"?e.ganji:"",P=typeof e.ganjiText=="string"?e.ganjiText:D,$=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:C,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:D,ganjiText:P,dayStem:$}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const C=Gi(r,i,a,0,0);r=C.getFullYear(),i=C.getMonth()+1,a=C.getDate()}catch{}const o=fp(e.birthTime??""),l=!e.birthTime||e.birthTime===""||!o,u=l?4:o.hh,f=l?30:o.mm,h=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,f,0,0),b=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",v=dp(p,h,b),S=l?"":v.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),w=at(v,h),_=_t(v,h),T=ft(v,t),N=l?null:Fa(v,t),j=[` : ${w} ${_} ${T}`,N?`${N}`:null].filter(Boolean).join(" ");return{corrected:v,correctedLocal:S,ganji:j,ganjiText:j,dayStem:T.charAt(0)}}function VM(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function mp(e){return(typeof e=="string"?e.trim():"")===""?"":""}function ZM(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function Nte(e){const t=ZM(e.ganjiText)??ZM(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=mp(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function Rm(e){const t={...e,birthDay:kv(e.birthDay??""),birthTime:e.birthTime===""?"":Ev(e.birthTime??""),gender:mp(e.gender),dateObj:VM(e.dateObj,new Date),corrected:VM(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=J2(t),r={...t,...n};return{...r,dir:Nte(r)}}function Cte(e){return e===""||e==="/"||e===""?e:"/"}function Mte(e){return e==="lunar"?"lunar":"solar"}function Dte(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function Pte(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function Q2(e,t){const r=kv(typeof e=="string"?e:""),i=gf(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Gi(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function eA(e,t){if(t)return{ok:!0,value:""};const r=Ev(typeof e=="string"?e:"");return fp(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function E4(e,t){const n=t?.requireName??!1,r=Pte(e.name,n);if(!r.ok)return r;const i=Mte(e.calendarType),a=Q2(e.birthDay,i);if(!a.ok)return a;const o=eA(e.birthTime,e.unknownTime);if(!o.ok)return o;const l=Cte(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:mp(e.gender),sortOrder:e.sortOrder,birthPlace:Dte(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:l,DayChangeRule:l===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:Rm(u)}}function Pl(e,t=0){const n=hp(e),r=gf(n.birthDay??"");if(!r)throw new Error(`Invalid date: ${e.birthDay}`);const i=fp(n.birthTime??""),a=i?i.hh:0,o=i?i.mm:0,l=new Date(r.y,r.m-1,r.d,a,o,0,0);if(Number.isNaN(l.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const u=!n.birthPlace||typeof n.birthPlace=="object"&&n.birthPlace.name==="",f=n.birthPlace?.lon??127.5,h=dp(l,f,u);return t!==0?new Date(h.getTime()+t*60*1e3):h}function Rte(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Zc(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),l=a.localeCompare(o);return l!==0?l:t.id.localeCompare(n.id)})}function Rk(e){if(!Rte(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function A4(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:kv(e.birth_day??""),birthTime:Ev(e.birth_time??""),gender:mp(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return Rm(i)}function Lte(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function XM(e,t){const n=kv(e.birthDay??""),r=Ev(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:mp(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const Lk="hm_session_started_at_ms",Ite=7200*1e3;function T4(){return typeof window>"u"?null:window.localStorage}function $te(){const e=T4();if(!e)return Date.now();const t=e.getItem(Lk),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(Lk,String(r)),r}function Bte(e=Date.now()){const t=T4();if(t)try{t.setItem(Lk,String(e))}catch{}}function zte(e=Date.now()){const t=$te();return e-t>=Ite}const A0="myeongsik-list";function Ute(e){try{return JSON.parse(e)}catch{return null}}async function Fte(e){if(typeof window>"u")return;const t=window.localStorage.getItem(A0);if(!t)return;const n=Ute(t);if(!n){window.localStorage.removeItem(A0);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(A0);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),l=new Set(o.map(f=>f.id)),u=i.filter(f=>!!f&&typeof f.id=="string"&&f.id.trim()!==""&&!l.has(f.id));for(const f of u)await e.upsertOne(a.id,f);window.localStorage.removeItem(A0)}const Hte=250;function Gte(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function qte(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function Yte(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const l=n;if(n=null,l.key&&l.key===i){l.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),l.resolve();continue}await e.upsertOrderPatch(u.id,l.list),i=l.key,l.resolve()}}finally{r=!1}}}qte(()=>{a()});function o(l,u){const f=Gte(l);if(f&&f===i&&!n)return Promise.resolve();if(n)n.key=f,n.list=l;else{let h;const p=new Promise(b=>{h=b});n={key:f,list:l,promise:p,resolve:h}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},Hte),n.promise)}return{queue:o,flushNow:a}}const sr="__UNASSIGNED__",Kte=[" ",""],Cl=e=>typeof e=="string"?e.trim():"",j4=e=>Kte.includes(e);function Td(e,t){const n=[],r=[];for(const i of e){const a=Cl(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function Av(e,t){const n=new Set(t.map(o=>Cl(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,l)=>{i[o]||(i[o]=[]),i[o].push(l)};for(const o of e){const l=String(o.id??"");if(!l||r.has(l))continue;r.add(l);const u=Cl(o.folder),f=!u||j4(u)?sr:n.has(u)?u:sr;a(f,o)}i[sr]||(i[sr]=[]);for(const o of t){const l=Cl(o);l&&(i[l]||(i[l]=[]))}return i}function tA(e,t){const n=[];for(const i of t){const a=Cl(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[sr];return Array.isArray(r)&&r.length&&n.push(...r),n}function Wte(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=Av(t,n),o=r.droppableId===sr?sr:r.droppableId,l=i.droppableId===sr?sr:i.droppableId,u=[...a[o]??[]],f=o===l?u:[...a[l]??[]],h=u[r.index];if(!h)return{nextList:t,changedIds:[]};u.splice(r.index,1);const b=o!==l&&l===sr,v=Math.max(0,Math.min(i.index,f.length)),S=b?f.length:v;o===l?u.splice(S,0,h):f.splice(S,0,h);const w=String(h.id),_=new Set([w]),T={...h,folder:l===sr?"":l};return a[o]=u,a[l]=o===l?u:f,a[l]=(a[l]??[]).map(N=>String(N.id)===w?T:N),{nextList:tA(a,n),changedIds:Array.from(_)}}function Vte(e){const{list:t,orderedFolders:n,targetId:r,nextFolder:i}=e,a=Av(t,n),o=[...n.map(T=>Cl(T)),sr].filter(Boolean);let l=null,u=-1;for(const T of o){const j=(a[T]??[]).findIndex(C=>String(C.id)===r);if(j>=0){l=T,u=j;break}}if(!l||u<0)return{nextList:t,changedIds:[]};const f=[...a[l]??[]],h=f[u];if(!h)return{nextList:t,changedIds:[]};f.splice(u,1);const p=Cl(i),b=!p||j4(p)?sr:p,v=l!==b,S=v?[...a[b]??[]]:f,w=String(h.id),_={...h,folder:b===sr?"":b};return v?S.push(_):f.splice(u,0,_),a[l]=f,a[b]=v?S:f,{nextList:tA(a,n),changedIds:[w]}}function Zte(e){const{list:t,targetId:n,orderedFolders:r}=e,i=Av(t,r);let a=null,o=null;const l=[...r.map(v=>Cl(v)),sr].filter(Boolean);for(const v of l){const S=i[v]??[],w=S.findIndex(_=>String(_.id)===n);if(w>=0){a=v,o=S[w]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],f=u.findIndex(v=>String(v.id)===n);if(f<0)return{nextList:t,nextItem:null};const h=u[f],p=!h.favorite,b={...h,favorite:p};return u.splice(f,1),p?u.unshift(b):u.push(b),i[a]=u,{nextList:tA(i,r),nextItem:b}}function Xte(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[],a=[],o=[];for(const l of t){if((l.folder??"").trim()!==r){a.push(l);continue}i.push(String(l.id)),o.push({...l,folder:""})}return{nextList:[...a,...o],changedIds:i}}function O4(e){return e.trim().length>0}const $h=e=>e.toLowerCase().replace(/\s+/g," ").trim(),Jte=e=>e.replace(/\D/g,""),Qte=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=Jte(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},ene=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},tne=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},JM=(e,t,n)=>{const r=$h(t);if(!r)return!0;const i=$h(typeof e.name=="string"?e.name:""),a=Qte(e).map($h),o=ene(e).map($h),l=tne(e).map($h),u=h=>h.includes(r),f=h=>h.some(u);switch(n){case"name":return u(i);case"birth":return f(a);case"ganji":return f(o);case"memo":return f(l);case"all":default:return u(i)||f(a)||f(o)||f(l)}};function nne(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!O4(t)){const f={};for(const h of r){const p=typeof h=="string"?h.trim():"";p&&(f[p]=i[p]??[])}return{filteredGrouped:f,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((h,p)=>h+(i[p]?.length??0),0)}}const o={};let l=0;for(const f of r){const h=typeof f=="string"?f.trim():"";if(!h)continue;const b=(i[h]??[]).filter(v=>JM(v,t,n));o[h]=b,l+=b.length}const u=(a??[]).filter(f=>JM(f,t,n));return l+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:l}}function rne(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??sr).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??sr).toString(),index:e.destinationIndex}}}function ine(e,t){const n=String(t.eventType??""),r=Rk(t.new),i=Rk(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(f=>f.id!==a.id);const o=A4(a),u=e.some(f=>f.id===o.id)?e.map(f=>f.id===o.id?o:f):[...e,o];return Zc(u)}async function ane(e){if(!e)return;const t=Me;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function one(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function sne(){return{async getUser(){const{data:e,error:t}=await Me.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await Me.from("myeongsik").select(one()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>Rk(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=XM(t,e),{error:r}=await Me.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=XM(n,e),{error:i}=await Me.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await Me.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>Lte(i,e)),{error:r}=await Me.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=Me.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await ane(r)}}}}}function lne(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function lm(e){if(!e)return"FREE";const t=lne(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function Ik(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const T0={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function cne(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function QM(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function eD(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function une(e){return e?e.can_use_myo_viewer===!0:!1}async function dne(e){const{data:t,error:n}=await Me.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const on=Mo((e,t)=>({loaded:!1,loading:!1,userId:null,...T0,reset:()=>{e({loaded:!1,loading:!1,userId:null,...T0})},loadFromServer:async n=>{if(!t().loading){e({loading:!0});try{const{data:i,error:a}=await Me.auth.getUser(),o=i.user?.id??null;if(a||!o){e({...T0,loaded:!0,userId:null});return}const l=t();if(!n?.force&&l.loaded&&l.userId===o)return;const u=await dne(o);if(!u){const N=Ik("FREE");e({loaded:!0,userId:o,plan:"FREE",maxMyeongsik:N.maxMyeongsik===null?9999:N.maxMyeongsik,canManageMyeongsik:N.canManageMyeongsik,canUseLuckTabs:N.canUseLuckTabs,canUseMultiMode:N.canUseMultiMode,canUseAllPrompts:N.canUseAllPrompts,canUseAdvancedReport:N.canUseAdvancedReport,canRemoveAds:N.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const f=QM(u.starts_at??null),h=QM(u.expires_at??null),p=eD(f,h),b=lm(u.plan??null),v=p?b:"FREE",S=Ik(v),w=S.maxMyeongsik===null?9999:S.maxMyeongsik,_=cne(u.max_myeongsik,w),T=Math.max(1,Math.max(_,w));e({loaded:!0,userId:o,plan:v,maxMyeongsik:T,canManageMyeongsik:S.canManageMyeongsik,canUseLuckTabs:S.canUseLuckTabs,canUseMultiMode:S.canUseMultiMode,canUseAllPrompts:S.canUseAllPrompts,canUseAdvancedReport:S.canUseAdvancedReport,canRemoveAds:S.canRemoveAds,canUseMyoViewer:une(u),startsAt:f,expiresAt:h})}catch(i){console.error("loadFromServer(entitlements) exception:",i),e({...T0,loaded:!0,userId:null})}finally{e({loading:!1})}}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return eD(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,l=Math.floor(a/60),u=l%24,f=Math.floor(l/24),h=[];return f>0&&h.push(`${f}`),u>0&&h.push(`${u}`),f===0&&o>0&&h.push(`${o}`),h.length===0&&h.push(`${i}`),h.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),nA="guest_myeongsik_v1";function N4(e){return typeof e=="object"&&e!==null}function $k(e,t){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const n=Number(e);if(Number.isFinite(n))return n}return t}function Oi(e,t=""){return typeof e=="string"?e:t}function fne(e,t=!1){return typeof e=="boolean"?e:t}function hne(e){return N4(e)?{name:Oi(e.name,""),lat:$k(e.lat,0),lon:$k(e.lon,0)}:{name:"",lat:0,lon:0}}function mne(e){return{id:e.id,sortOrder:typeof e.sortOrder=="number"?e.sortOrder:1,name:e.name??"",birthDay:e.birthDay??"",birthTime:e.birthTime??"",gender:e.gender??"",birthPlace:e.birthPlace??{name:"",lat:0,lon:0},relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:e.mingSikType??"/",DayChangeRule:e.DayChangeRule??"",favorite:!!e.favorite,calendarType:e.calendarType??"solar",dir:e.dir??"forward"}}function pne(e){if(!N4(e))return null;const t={id:Oi(e.id,""),sortOrder:$k(e.sortOrder,1),name:Oi(e.name,""),birthDay:Oi(e.birthDay,""),birthTime:Oi(e.birthTime,""),gender:Oi(e.gender,""),birthPlace:hne(e.birthPlace),relationship:Oi(e.relationship,""),memo:Oi(e.memo,""),folder:Oi(e.folder,""),mingSikType:Oi(e.mingSikType,"/"),DayChangeRule:Oi(e.DayChangeRule,""),favorite:fne(e.favorite,!1),calendarType:Oi(e.calendarType,"solar"),dir:Oi(e.dir,"forward")};return t.id?Rm(t):null}function C4(){try{const e=localStorage.getItem(nA);if(!e)return[];const t=JSON.parse(e);if(!Array.isArray(t))return[];const n=t.map(pne).filter(r=>r!==null);return Zc(n)}catch{return[]}}function _l(e){try{const t=e.map(mne);localStorage.setItem(nA,JSON.stringify(t))}catch{}}function M4(){try{localStorage.removeItem(nA)}catch{}}const wo=Mo(e=>({open:!1,reason:"HEADER",openWith:t=>e({open:!0,reason:t}),close:()=>e({open:!1})})),Rn=sne(),gne=Yte(Rn);function Pc(){const t=on.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function bne(e){const n=on.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}async function tD(e){const t=C4();if(t.length)try{for(const n of t)await Rn.upsertOne(e,n);M4()}catch(n){console.warn("[myeongsik] migrateGuestListToServerIfAny failed:",n)}}const wr=Mo((e,t)=>({loading:!1,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(zte()){Bte(Date.now()),window.location.reload();return}const n=await Rn.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Rn.subscribe(n.id,i=>{e(a=>({list:ine(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{e({loading:!0});try{const n=await Rn.getUser();if(!n){const l=C4(),u=l[0]?.id??null;e({list:l,currentId:u}),await t().stopRealtime();return}await tD(n.id);const r=await Rn.fetchRows(n.id),i=Zc(r.map(A4)),a=t().currentId,o=a&&i.some(l=>l.id===a)?a:i[0]?.id??null;e({list:i,currentId:o}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}},migrateLocalToServer:async()=>{try{await Fte(Rn);const n=await Rn.getUser();n&&await tD(n.id)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Rn.getUser(),i=t().list.length;if(!bne(i)){r||wo.getState().openWith("ADD_LIMIT");return}const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},l=Rm(o),u=t().list,f=Zc([...u,l]),h=t().currentId??l.id;if(e({list:f,currentId:h}),!r){_l(f),f.length===1&&wo.getState().openWith("PERSIST_SAVE");return}await Rn.upsertOne(r.id,l)},update:async(n,r)=>{const i=await Rn.getUser();if(i&&!Pc())return;const a=t().list.find(u=>u.id===n);if(!a)return;const o=Rm({...a,...r}),l=Zc(t().list.map(u=>u.id===n?o:u));if(e({list:l}),!i){_l(l);return}await Rn.updateOne(i.id,n,o)},remove:async n=>{const r=await Rn.getUser();if(r&&!Pc())return;const a=t().list.filter(l=>l.id!==n),o=t().currentId===n?a[0]?.id??null:t().currentId;if(e({list:a,currentId:o}),!r){_l(a);return}await Rn.softDelete(n)},moveItemByDnD:async n=>{const r=t().list,i=rne(n),o=Wte({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o});const l=await Rn.getUser();if(l&&!Pc()){e({list:r});return}if(!l){_l(o);return}await t().reorder(o)},applyNextList:async n=>{const r=t().list;e({list:n});const i=await Rn.getUser();if(i&&!Pc()){e({list:r});return}if(!i){_l(n);return}await t().reorder(n)},toggleFavoriteWithReorder:async(n,r)=>{const i=await Rn.getUser();if(i&&!Pc())return;const o=Zte({list:t().list,targetId:n,orderedFolders:r}).nextList;if(e({list:o}),!i){_l(o);return}await t().reorder(o)},unsetFolderForFolder:async n=>{const r=await Rn.getUser();if(r&&!Pc())return;const i=(n??"").trim();if(!i)return;const a=t().list,o=Xte({list:a,folderName:i}),l=Zc(o.nextList),u=new Set(o.changedIds);if(u.size===0)return;if(e({list:l}),!r){_l(l);return}const f=l.filter(h=>u.has(h.id));await Rn.upsertOrderPatch(r.id,f)},reorder:async n=>{const r=await Rn.getUser();if(r&&!Pc())return;const i=n.map((o,l)=>({...o,sortOrder:l+1})),a=Zc(i);if(e({list:a}),!r){_l(a);return}await gne.queue(a)},clear:()=>{e({currentId:null,list:[]}),M4()}})),nD="__custom__",rD=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],D4=({value:e,onChange:t})=>{const[n,r]=k.useState(rD),[i,a]=k.useState(""),[o,l]=k.useState(!1),[u,f]=k.useState(""),[h,p]=k.useState(!1),{list:b}=wr(),S=(e??i??"").trim()==="",_=b.some(D=>(D.relationship??"").trim()==="")&&!S?n.filter(D=>D.value!==""):n;k.useEffect(()=>{e!==void 0&&a(e)},[e]);const T=D=>{const P=D.target.value;P===nD?(l(!0),a(""),t?.("")):(l(!1),f(""),a(P),t?.(P))};k.useEffect(()=>{const D=localStorage.getItem("relationshipOptions");D&&r(JSON.parse(D))},[]),k.useEffect(()=>{(async()=>{const{data:{user:P},error:$}=await Me.auth.getUser();if($||!P)return;const{data:F,error:Y}=await Me.from("user_settings").select("payload").eq("user_id",P.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const K=F?.payload?.relationshipOptions;if(!Array.isArray(K))return;const H=K.map(z=>z&&typeof z=="object"&&typeof z.value=="string"&&typeof z.label=="string"?{value:z.value,label:z.label}:typeof z=="string"?{value:z,label:z}:null).filter(z=>!!z);H.length&&r(z=>{const V=new Set,Z=[...H,...z,...rD].filter(X=>V.has(X.value)?!1:(V.add(X.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(Z)),Z})})()},[]),k.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:P},error:$}=await Me.auth.getUser();if($||!P)return;const{data:F,error:Y}=await Me.from("user_settings").select("payload").eq("user_id",P.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const K={...F?.payload??{},relationshipOptions:n},{error:H}=await Me.from("user_settings").upsert({user_id:P.id,payload:K,updated_at:new Date().toISOString()});H&&console.error("save relationships settings error",H.message)})()},[n]);const N=()=>{const D=u.trim();if(!D)return;const P={value:D,label:D};r($=>[...$,P]),a(D),t?.(D),f(""),l(!1)},j=D=>{r(n.filter(P=>P.value!==D)),i===D&&a("")},C=D=>{if(!D.destination)return;const P=Array.from(n),[$]=P.splice(D.source.index,1);P.splice(D.destination.index,0,$),r(P)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:T,children:[g.jsx("option",{value:"",hidden:!0,children:""}),_.map(D=>g.jsx("option",{value:D.value,children:D.label},D.value)),g.jsx("option",{value:nD,children:" "})]}),g.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),o&&!h&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:" ",value:u,onChange:D=>f(D.target.value)}),g.jsx("button",{type:"button",onClick:N,className:"btn_style",children:""})]}),h&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:" "}),g.jsx(up,{onDragEnd:C,children:g.jsx(pf,{droppableId:"relList",children:D=>g.jsxs("ul",{ref:D.innerRef,...D.droppableProps,className:"space-y-1",children:[n.map((P,$)=>g.jsx(mf,{draggableId:P.value,index:$,children:F=>g.jsxs("li",{ref:F.innerRef,...F.draggableProps,...F.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:P.label}),g.jsx("button",{type:"button",className:"text-red-500",onClick:()=>j(P.value),children:""})]})},P.value)),D.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},fn=" ",P4=["","","","","",""],R4="ms_folders",L4="ms_folder_order",iD="ms_folder_favs",Bk="ms_disabled_presets",Rl="myeoun:folder-updated";function ru(e){if(e!==fn)return e||void 0}function Tv(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function rA(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function yne(){const e=Tv(Bk);return P4.filter(t=>!e.includes(t))}function iA(){return Tv(R4)}function aA(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];rA(R4,t),typeof window<"u"&&window.dispatchEvent(new Event(Rl))}function ty(){const e=yne(),t=iA(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function vne(){return[fn,...ty()]}function I4(e){const t=e.trim();if(!t||t===fn)return;const n=iA();if(n.includes(t))return;const r=[...n,t];aA(r)}function xne(e){const t=iA(),n=t.filter(r=>r!==e);n.length!==t.length&&aA(n)}function _ne(e){const t=Tv(Bk);if(t.includes(e))return;const n=[...t,e];rA(Bk,n),typeof window<"u"&&window.dispatchEvent(new Event(Rl))}function ny(){return Tv(L4)}function jd(e){rA(L4,e),typeof window<"u"&&window.dispatchEvent(new Event(Rl))}function bm(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function wne(e){return Array.from(new Set(e))}function j0(e){const t=e.filter(n=>n!==fn);return{rest:t,withUnassigned:[fn,...t]}}function Sne(e,t){return bm(t,e)}function kne({value:e,onChange:t}){const[n,r]=k.useState([fn]),[i,a]=k.useState(!1),[o,l]=k.useState(""),[u,f]=k.useState(!1),h=k.useCallback(async _=>{const{data:{user:T},error:N}=await Me.auth.getUser();if(N||!T)return;const j=_.map((D,P)=>({user_id:T.id,folder_name:D,sort_order:P+1,updated_at:new Date().toISOString()})),{error:C}=await Me.from("user_folder_order").upsert(j,{onConflict:"user_id,folder_name"});C&&console.error("save folder order error",C.message)},[]),p=k.useCallback(()=>{if(typeof window>"u")return;const _=wne(vne()),T=_.includes(fn)?_:[fn,..._],{rest:N}=j0(T),j=ny(),C=Sne(j,N),D=[fn,...C];r(D),j.length===C.length&&j.every(($,F)=>$===C[F])||(jd(C),h(C))},[h]);k.useEffect(()=>{if(p(),typeof window<"u"){const _=()=>p();return window.addEventListener(Rl,_),()=>window.removeEventListener(Rl,_)}},[p]);const b=k.useMemo(()=>e||fn,[e]),v=_=>{const{rest:T}=j0(_);jd(T),h(T)},S=_=>{const{source:T,destination:N}=_;if(!N||N.index===T.index)return;const{rest:j}=j0(n),C=Array.from(j),[D]=C.splice(T.index,1);C.splice(N.index,0,D);const P=[fn,...C];r(P),v(P)},w=_=>{const T=ru(_);T&&(I4(T),p())};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":b,onChange:_=>{const T=_.target.value;if(T==="__custom__"){a(!0),t(void 0);return}a(!1),t(ru(T))},children:[n.map(_=>g.jsx("option",{value:_,children:_},_)),g.jsx("option",{value:"__custom__",children:"+   "})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>f(_=>!_),children:u?" ":" "})]}),i&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const _=o.trim();_&&(w(_),t(ru(_)),a(!1),l(""))},children:""})]}),u&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:""}),g.jsxs("span",{className:"flex-1 px-2",children:[fn," ()"]})]}),g.jsx(up,{onDragEnd:S,children:g.jsx(pf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:_=>g.jsxs("ul",{ref:_.innerRef,..._.droppableProps,className:"space-y-1",children:[j0(n).rest.map((T,N)=>g.jsx(mf,{draggableId:T,index:N,children:j=>g.jsxs("li",{ref:j.innerRef,...j.draggableProps,...j.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:T})]})},T)),_.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['   "',fn,'" .      .']})]})}function $4({message:e,onClose:t,ms:n=2e3}){return k.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const aD=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Ene=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Ane=["","/",""],Tne=["",""],B4={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function jne(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function One(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function Nne(){const[e,t]=k.useState(0),[n,r]=k.useState({...B4}),[i,a]=k.useState(null),[o,l]=k.useState(!1),[u,f]=k.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:f}}function Cne({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){k.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function Mne(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Gi(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function Dne(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):fn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function Pne({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=aD[r],a=k.useMemo(()=>Mne(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:aD,currentStep:i,lunarPreview:a,displayValue:l=>Dne(l,e,t,n),CALENDAR_OPTIONS:Ene,MING_OPTIONS:Ane,GENDER_OPTIONS:Tne,nextIndex:jne,focusById:One,isDST:Pm}}function Rne(){return{add:wr(t=>t.add)}}const br=[];for(let e=0;e<256;++e)br.push((e+256).toString(16).slice(1));function Lne(e,t=0){return(br[e[t+0]]+br[e[t+1]]+br[e[t+2]]+br[e[t+3]]+"-"+br[e[t+4]]+br[e[t+5]]+"-"+br[e[t+6]]+br[e[t+7]]+"-"+br[e[t+8]]+br[e[t+9]]+"-"+br[e[t+10]]+br[e[t+11]]+br[e[t+12]]+br[e[t+13]]+br[e[t+14]]+br[e[t+15]]).toLowerCase()}let Kw;const Ine=new Uint8Array(16);function $ne(){if(!Kw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Kw=crypto.getRandomValues.bind(crypto)}return Kw(Ine)}const Bne=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oD={randomUUID:Bne};function z4(e,t,n){if(oD.randomUUID&&!e)return oD.randomUUID();e=e||{};const r=e.random??e.rng?.()??$ne();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Lne(r)}function zne(e,t,n){const r=ru(e.folder);return E4({id:z4(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function Une(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=Q2(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=eA(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function Fne({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:f,setToast:h,onSave:p}){const{add:b}=Rne(),v=k.useCallback(()=>{const w=Une(a,e,o,u);if(!w.ok){h(w.message??" .");return}if(w.nextForm&&(t(w.nextForm),w.message&&h(w.message)),n<i-1){r(n+1);return}const _=zne(e,o,u);if(!_.ok){h(_.message);return}const T=_.value;b(T),p(T),h(" !"),t({...B4}),l(!1),f(!1),r(0)},[a,e,o,u,h,t,n,i,r,b,p,l,f]),S=k.useCallback(w=>{if(w.key!=="Enter")return;const _=w.target,T=_.getAttribute("role");if(T==="radio"||T==="checkbox")return;const N=document.getElementById("mapModal");if(N&&N.contains(_))return;const j=_.tagName.toLowerCase(),C=_ instanceof HTMLInputElement?_.type:"";if(j==="textarea"){if(w.shiftKey)return;w.preventDefault(),v();return}if(C==="radio"||C==="checkbox"){w.preventDefault(),_ instanceof HTMLInputElement&&_.click();return}j==="button"&&_.type!=="submit"||(w.preventDefault(),v())},[v]);return{handleNext:v,handleFormKeyDown:S}}function Hne({onSave:e}){const t=Nne(),n=Pne({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});Cne({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=Fne({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function Gne({onSave:e,onClose:t}){const n=Hne({onSave:e});return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&g.jsx($4,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>g.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:r.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[g.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:l=>{if(l.stopPropagation(),l.key===" "||l.key==="Enter"){l.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(l.key))return;l.preventDefault();const f=n.CALENDAR_OPTIONS.findIndex(b=>b.value===n.form.calendarType),h=n.nextIndex(f<0?0:f,n.CALENDAR_OPTIONS.length,l.key),p=n.CALENDAR_OPTIONS[h].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[h].id}_lbl`)},onClick:l=>{l.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",f=n.MING_OPTIONS.indexOf(u),h=n.nextIndex(f,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[h];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",f=n.GENDER_OPTIONS.indexOf(u),h=n.nextIndex(f,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[h];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(u5,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&g.jsx(D4,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&g.jsx(kne,{value:ru(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var O0={},sD;function qne(){if(sD)return O0;sD=1,O0.match=a,O0.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(h,p){return o(h).some(function(b){var v=b.inverse,S=b.type==="all"||p.type===b.type;if(S&&v||!(S||v))return!1;var w=b.expressions.every(function(_){var T=_.feature,N=_.modifier,j=_.value,C=p[T];if(!C)return!1;switch(T){case"orientation":case"scan":return C.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=f(j),C=f(C);break;case"resolution":j=u(j),C=u(C);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=l(j),C=l(C);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,C=parseInt(C,10)||0;break}switch(N){case"min":return C>=j;case"max":return C<=j;default:return C===j}});return w&&!v||!w&&v})}function o(h){return h.split(",").map(function(p){p=p.trim();var b=p.match(e),v=b[1],S=b[2],w=b[3]||"",_={};return _.inverse=!!v&&v.toLowerCase()==="not",_.type=S?S.toLowerCase():"all",w=w.match(/\([^\)]+\)/g)||[],_.expressions=w.map(function(T){var N=T.match(t),j=N[1].toLowerCase().match(n);return{modifier:j[1],feature:j[2],value:N[2]}}),_})}function l(h){var p=Number(h),b;return p||(b=h.match(/^(\d+)\s*\/\s*(\d+)$/),p=b[1]/b[2]),p}function u(h){var p=parseFloat(h),b=String(h).match(i)[1];switch(b){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function f(h){var p=parseFloat(h),b=String(h).match(r)[1];switch(b){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return O0}var Ww,lD;function Yne(){if(lD)return Ww;lD=1;var e=qne().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var l=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=f,this.removeListener=h,this.dispose=b;function f(v){u&&u.addListener(v)}function h(v){u&&u.removeListener(v)}function p(v){l.matches=v.matches,l.media=v.media}function b(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return Ww=r,Ww}var Kne=Yne();const Wne=hi(Kne);var Vne=/[A-Z]/g,Zne=/^ms-/,Vw={};function Xne(e){return"-"+e.toLowerCase()}function U4(e){if(Vw.hasOwnProperty(e))return Vw[e];var t=e.replace(Vne,Xne);return Vw[e]=Zne.test(t)?"-"+t:t}function Jne(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var Zw={exports:{}},Xw,cD;function Qne(){if(cD)return Xw;cD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xw=e,Xw}var Jw,uD;function ere(){if(uD)return Jw;uD=1;var e=Qne();function t(){}function n(){}return n.resetWarningCache=t,Jw=function(){function r(o,l,u,f,h,p){if(p!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Jw}var dD;function tre(){return dD||(dD=1,Zw.exports=ere()()),Zw.exports}var nre=tre();const Ot=hi(nre),Br=Ot.oneOfType([Ot.string,Ot.number]),F4={all:Ot.bool,grid:Ot.bool,aural:Ot.bool,braille:Ot.bool,handheld:Ot.bool,print:Ot.bool,projection:Ot.bool,screen:Ot.bool,tty:Ot.bool,tv:Ot.bool,embossed:Ot.bool},rre={orientation:Ot.oneOf(["portrait","landscape"]),scan:Ot.oneOf(["progressive","interlace"]),aspectRatio:Ot.string,deviceAspectRatio:Ot.string,height:Br,deviceHeight:Br,width:Br,deviceWidth:Br,color:Ot.bool,colorIndex:Ot.bool,monochrome:Ot.bool,resolution:Br,type:Object.keys(F4)},{type:KOe,...ire}=rre,are={minAspectRatio:Ot.string,maxAspectRatio:Ot.string,minDeviceAspectRatio:Ot.string,maxDeviceAspectRatio:Ot.string,minHeight:Br,maxHeight:Br,minDeviceHeight:Br,maxDeviceHeight:Br,minWidth:Br,maxWidth:Br,minDeviceWidth:Br,maxDeviceWidth:Br,minColor:Ot.number,maxColor:Ot.number,minColorIndex:Ot.number,maxColorIndex:Ot.number,minMonochrome:Ot.number,maxMonochrome:Ot.number,minResolution:Br,maxResolution:Br,...ire},ore={...F4,...are};var sre={all:ore};const lre=e=>`not ${e}`,cre=(e,t)=>{const n=U4(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?lre(n):`(${n}: ${t})`},ure=e=>e.join(" and "),dre=e=>{const t=[];return Object.keys(sre.all).forEach(n=>{const r=e[n];r!=null&&t.push(cre(n,r))}),ure(t)},fre=k.createContext(void 0),hre=e=>e.query||dre(e),fD=e=>e?Object.keys(e).reduce((n,r)=>(n[U4(r)]=e[r],n),{}):void 0,H4=()=>{const e=k.useRef(!1);return k.useEffect(()=>{e.current=!0},[]),e.current},mre=e=>{const t=k.useContext(fre),n=()=>fD(e)||fD(t),[r,i]=k.useState(n);return k.useEffect(()=>{const a=n();Jne(r,a)||i(a)},[e,t]),r},pre=e=>{const t=()=>hre(e),[n,r]=k.useState(t);return k.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},gre=(e,t)=>{const n=()=>Wne(e,t||{},!!t),[r,i]=k.useState(n),a=H4();return k.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},bre=e=>{const[t,n]=k.useState(e.matches);return k.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},yre=(e,t,n)=>{const r=mre(t),i=pre(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=gre(i,r),o=bre(a);return H4(),k.useEffect(()=>{},[o]),k.useEffect(()=>()=>{a&&a.dispose()},[]),o},G4={Classic:"",Modern:""};function Do(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function vre(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function xre(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function _re(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function wre(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function Po(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?vre(t,n):xre(t,n):i?_re(t,n):wre(t,n)}const fi=Mo()(I$((e,t)=>{const n=new Date,r="/",i=127.5,a=0,o=(b,v)=>v?new Date(b.getTime()+v*60*1e3):b,l=i,u=o(n,a),f=at(u,l),h=_t(u,l),p=ft(u,r);return{date:n,scope:"",rule:r,lon:i,dstOffsetMinutes:a,yearGZ:f,monthGZ:h,dayGZ:p,setDate:b=>{const{rule:v,lon:S,dstOffsetMinutes:w}=t(),_=typeof S=="number"?S:void 0,T=o(b,w);e({date:b,yearGZ:at(T,_),monthGZ:_t(T,_),dayGZ:ft(T,v)})},resetDate:()=>{const{rule:b,lon:v,dstOffsetMinutes:S}=t(),w=new Date,_=typeof v=="number"?v:void 0,T=o(w,S);e({date:w,yearGZ:at(T,_),monthGZ:_t(T,_),dayGZ:ft(T,b)})},resetMonth:()=>{const{lon:b,dstOffsetMinutes:v}=t(),S=new Date,w=typeof b=="number"?b:void 0,_=o(S,v);e({date:S,monthGZ:_t(_,w)})},setScope:b=>e({scope:b}),setRule:b=>{const{date:v,lon:S,dstOffsetMinutes:w}=t(),_=typeof S=="number"?S:void 0,T=o(v,w);e({rule:b,yearGZ:at(T,_),monthGZ:_t(T,_),dayGZ:ft(T,b)})},setLon:b=>{const{date:v,rule:S,dstOffsetMinutes:w}=t(),_=typeof b=="number"?b:void 0,T=o(v,w);e({lon:b,yearGZ:at(T,_),monthGZ:_t(T,_),dayGZ:ft(T,S)})},setDstOffsetMinutes:b=>{const{date:v,rule:S,lon:w}=t(),_=typeof w=="number"?w:void 0,T=o(v,b);e({dstOffsetMinutes:b,yearGZ:at(T,_),monthGZ:_t(T,_),dayGZ:ft(T,S)})},setFromEvent:(b,v)=>{const{rule:S,lon:w,dstOffsetMinutes:_}=t(),T=typeof w=="number"?w:void 0,N=o(b.at,_);e({date:b.at,scope:v,yearGZ:at(N,T),monthGZ:_t(N,T),dayGZ:ft(N,S)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),Sre=60*1e3,kre=60*Sre,Ere=24*kre,Are=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},zk=e=>{const t=new Date(e);return t.setSeconds(0,0),t},Tre={DAY:Ere},ha=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(l=>({name:l.name,date:_n(t,l.deg)})).concat([{name:r.name,date:_n(t+1,r.deg)},{name:"",date:_n(t+1,285)}]),a=_n(t,315),o=_n(t+1,315);return i.filter(l=>l.date>=a&&l.date<o).sort((l,u)=>l.date.getTime()-u.date.getTime())},q4=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${Hr[t%10]}${ui[t%12]}`);return e})(),jre=e=>{const t=q4.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},ry=(e,t,n=1)=>{const r=jre(e),i=t==="forward"?n:-n;return q4[(r+i+60*1e3)%60]},Ore=(e,t,n)=>{const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const o=new Date(a);o.setHours(i+2,0,0,0);const l=e.getTime()-a.getTime(),u=o.getTime()-e.getTime();return t==="backward"?l:u},Y4=(e,t,n,r=120,i="/")=>{const a=zk(e),o=Ore(a,n,i),l=zk(new Date(a.getTime()+o*120)),u=Are(e,r).getTime(),f=[];let h=ry(t,n,1);for(let p=l.getTime();p<=u;p+=10*Tre.DAY)f.push({at:new Date(p),gz:h}),h=ry(h,n,1);return{firstChange:l,events:f}},K4=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},W4=(e,t,n,r)=>{const i=K4(r,n);let a=t;const o=[];for(const l of e.events){const u=l.gz.charAt(1);i(u)&&(a=ry(a,n,1),o.push({at:l.at,gz:a}))}return{events:o}},Nre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Cre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Mre=e=>Nre[e]??("".includes(e)?e:null),Dre=e=>Cre[e]??("".includes(e)?e:null),hD=e=>{const t=Mre(e[0]),n=Dre(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`},Pre=e=>Math.floor((e.getHours()+1)%24/2),Qw=e=>["","","","","","","","","","","",""][Pre(e)],Rre=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=Hr.indexOf(r),o=ui.indexOf(i),l=t==="forward"?n:-n,u=(a+l%10+10)%10,f=(o+l%12+12)%12;return Hr[u]+ui[f]},pp=(e,t,n,r=120,i)=>{const a=ha(e).sort((w,_)=>w.date.getTime()-_.date.getTime());let o;if(n==="forward"){const w=a.findIndex(_=>_.date>=e);w>=0&&(o=a[w].date)}else{const w=a.filter(_=>_.date<=e);w.length&&(o=w[w.length-1].date)}const l=(w,_)=>{const T=Qw(w),N={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},j=N[T],C=(j+2)%24,D=new Date(w);if(D.setSeconds(0,0),n==="backward"&&_){const $=Qw(_),F=N[$],Y=new Date(_);return Y.setHours(F,0,0,0),Y}if(n==="forward"&&_){const $=Qw(_),F=N[$],Y=new Date(_);if(Y.setHours(F,0,0,0),Y>D)return Y}const P=new Date(D);return n==="forward"?(P.setHours(C,0,0,0),P<=D&&P.setDate(P.getDate()+1)):(P.setHours(j,0,0,0),P>=D&&P.setDate(P.getDate()-1)),P},u=hD(_t(e,127.5)),f=l(e,o),h=Math.floor(n==="forward"?(f.getTime()-e.getTime())/6e4:(e.getTime()-f.getTime())/6e4),p=Math.round(h/120*(14400*60*1e3));let b=new Date(e.getTime()+p);try{const w=hD(_t(e,i));(n==="forward"&&u!==w||n==="backward"&&u!==w)&&(b=new Date(e.getTime()+6e4))}catch{}const v=r/10,S=[];for(let w=0;w<v;w+=1){const _=new Date(b);_.setFullYear(_.getFullYear()+w*10),_.setSeconds(0,0);const T=Rre(t,n,w+1);S.push({at:_,gz:T})}return{natalMonthPillar:t,firstChange:b,mPillars:[],events:S}},Lre=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},V4=(e,t,n,r,i)=>{const a=K4(r,n);let o=t;const l=[];for(const u of e.events){const f=u.gz.charAt(1);a(f)&&(o=ry(o,n,1),l.push({at:u.at,gz:o,age:Lre(i,u.at)}))}return{events:l}},Ire=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},jv=(e,t)=>{const n=Ire(e),r=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",i=dp(n,e.birthPlace?.lon??null,r),a=t?.dstOffsetMinutes??0,o=a!==0?new Date(i.getTime()+a*60*1e3):i;return zk(o)},oA=(e,t,n)=>{const r=e.birthPlace?.lon??127.5,i=jv(e,n),a=ft(i,t),o=Fa(i,t,a.charAt(0));return{year:at(i,r),month:_t(i,r),day:a,hour:o}},$re=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${Hr[t%10]}${ui[t%12]}`);return e})(),Bre=e=>$re.indexOf(e),e1=e=>{if(Bre(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function zre(e,t="/",n=0){const r=k.useMemo(()=>hp(e),[e]),i=k.useMemo(()=>jv(r,{dstOffsetMinutes:n}),[r,n]),a=k.useMemo(()=>oA(r,t,{dstOffsetMinutes:n}),[r,t,n]);return k.useMemo(()=>{const o=pp(i,a.month,r.dir,120,r?.birthPlace?.lon??127.5),l=new Date;function u(C,D){let P=null;const $=D.getTime();for(const F of C)if(F.at.getTime()<=$)P=F;else break;return P}const f=u(o.events,l)?.gz??a.month,h=e1(f),p=l.getFullYear(),b=_n(p,315),S=b&&l>=b?p:p-1,w=at(new Date(S,1,10,0,0,0),127.5),_=e1(w),T=_t(l,127.5),N=e1(T),j=[];return N&&j.push({key:"wolun",label:"",data:N}),_&&j.push({key:"seun",label:"",data:_}),h&&j.push({key:"daeun",label:"",data:h}),j},[i,r.dir,a.month,r.birthPlace?.lon])}function vu(e,t="/",n=100,r=0){const i=k.useMemo(()=>hp(e),[e]),a=k.useMemo(()=>jv(i,{dstOffsetMinutes:r}),[i,r]),o=k.useMemo(()=>oA(i,t,{dstOffsetMinutes:r}),[i,t,r]),l=(u,f)=>{const h=f.getFullYear()-u.getFullYear(),p=f.getMonth()-u.getMonth(),b=f.getDate()-u.getDate(),v=p<0||p===0&&b<0?h-1:h;return Math.max(0,v)};return k.useMemo(()=>pp(a,o.month,i.dir,n,i.birthPlace?.lon??127.5).events.map(f=>({...f,age:l(a,f.at)})),[a,o.month,i.dir,n,i.birthPlace?.lon])}function t1(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function Ure(e,t){if(!Array.isArray(e)||e.length===0||!t1(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],l=n[a+1];if(!t1(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!l||t1(l.at)&&t.getTime()<l.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function sA(e,t,n,r){const{date:i,rule:a,lon:o}=fi(),l=k.useMemo(()=>n??i??new Date,[n,i]),u=r?.dstOffsetMinutes??0,f=vu(e,e?.mingSikType,100,u),h=u!==0?new Date(l.getTime()+u*60*1e3):l,{gz:p}=Ure(f,h);return k.useMemo(()=>{try{const b=o??e?.birthPlace?.lon??127.5,v=a??e?.mingSikType??t??"/";return{dae:{gz:p,at:h},se:{gz:at(h,b),at:h},wol:{gz:_t(h,b),at:h},il:{gz:ft(h,v),at:h}}}catch{const b=new Date;return{dae:{gz:"",at:b},se:{gz:"",at:b},wol:{gz:"",at:b},il:{gz:"",at:b}}}},[l,a,o,e,t,p])}const Uk=Mo(e=>({useDST:!1,setUseDST:t=>e({useDST:t}),toggleDST:()=>e(t=>({useDST:!t.useDST}))})),zl=()=>Uk(e=>e.useDST?-60:0),dn=["","","",""],si={year:0,month:1,day:2,hour:3},mD=["","","",""],Id="",gp=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],Z4=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],pD=[{name:"",members:["","",""]},{name:"",members:["","",""]}],Fre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Fk={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Re(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=Fre[r[1]]??r[1],a=Fk[r[2]]??r[2];return`${i}${a}`}return""}const iy=e=>e&&e.length>=1?e[0]:"",Ci=e=>e&&e.length>=2?e[1]:"",lA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],cA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],uA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],dA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],fA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],hA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],mA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],pA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],gA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],bA=[{pair:["",""],label:""}],yA=new Set(["","","",""]),ay=new Set(["","","",""]),vA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],X4=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function ai(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function Kt(e,t){e.includes(t)||e.push(t)}const Hre=e=>[...e].sort((t,n)=>t-n).map(t=>dn[t]).join("X"),gD=(e,t)=>e===0&&t===3||e===3&&t===0;function Gre(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function qre(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const J4=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function Yre(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const Kre=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function Wre(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function Q4(e){for(const t of Kre){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!Yre(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=Wre(e.jijiHyeong),e}function Vre(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function Zre(e,t){for(const n of gp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function bD(e,t,n){const r=Vre(e,n);if(r<0){Kt(e,t);return}const a=(e[r]??"").includes(Id),o=t.includes(Id);a&&!o&&(e[r]=t)}function xA(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(b=>iy(b)),l=i.map(b=>Ci(b));function u(b,v){if(b===v)return;const S=o[b],w=o[v];if(!S||!w)return;const _=ai(lA,S,w);_&&Kt(a.cheonganHap,`#${dn[b]}X${dn[v]}_${_}`);const T=ai(cA,S,w);T&&Kt(a.cheonganChung,`#${dn[b]}X${dn[v]}_${T}`)}u(si.year,si.month),u(si.month,si.day),u(si.day,si.hour);function f(b,v,S,w,_=!0){const T=[],N=[];for(let C=0;C<4;C++)l[C]===b&&T.push(C),l[C]===v&&N.push(C);const j=Gre(T,N);for(const[C,D]of j){const P=gD(C,D),$=`#${dn[C]}X${dn[D]}_${S}${P?Id:""}`;if(P){Kt(w,$);continue}_?bD(w,$,S):Kt(w,$)}}const h=(b,v)=>{for(const{pair:[S,w],label:_}of b)f(S,w,_,v)};h(uA,a.jijiYukhap),h(dA,a.jijiChung),h(fA,a.jijiPa),h(hA,a.jijiHae),h(mA,a.jijiWonjin),h(pA,a.jijiGwimun);for(const b of gp){if(!b.members.every(T=>l.includes(T)))continue;const S=[];for(let T=0;T<4;T++)b.members.includes(l[T])&&S.push(T);const w=S.includes(si.year)&&S.includes(si.hour),_=Hre(S);Kt(a.jijiSamhap,`#${_}_${b.name}${w?Id:""}`)}for(const{pair:[b,v],label:S}of X4)Zre(b,v)&&f(b,v,S,a.jijiBanhap,!1);for(const{pair:[b,v],label:S}of gA)f(b,v,S,a.jijiHyeong);for(const{pair:[b,v],label:S}of bA)f(b,v,S,a.jijiHyeong);for(const b of yA){const v=l.map((S,w)=>S===b?w:-1).filter(S=>S>=0);if(!(v.length<2))for(const[S,w]of qre(v)){const _=gD(S,w),T=`#${dn[S]}X${dn[w]}_${b}${_?Id:""}`;bD(a.jijiHyeong,T,`${b}`)}}for(const{pair:[b,v],label:S}of vA)f(b,v,S,a.amhap);if(n)for(let b=0;b<4;b++){const v=i[b]??"";if(v.length<2)continue;const S=`${v[0]}${v[1]}`;ay.has(S)&&Kt(a.ganjiAmhap,`#${J4(dn[b])}_${S}`)}const p=Q4(a);if(r)for(const b of Object.keys(p)){if(b==="title")continue;const v=p[b];Array.isArray(v)&&v.length===0&&(p[b]=["#"])}return p}function Xre(e,t){return e===si.year&&t===si.hour||e===si.hour&&t===si.year}function Jre(e,t){for(const n of gp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function Qre(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),l=Math.max(i,a),u=`${o}-${l}`;r.has(u)||(r.add(u),n.push([o,l]))}return n}function Tl(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Re(e.natal[0]??""),Re(e.natal[1]??""),Re(e.natal[2]??""),Re(e.natal[3]??"")],a=[Re(e.daewoon??""),Re(e.sewoon??""),Re(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},l=r.map(p=>{const b=Ci(p??"");return Fk[b]??b});for(const{pair:[p,b],label:v}of X4){if(!Jre(p,b))continue;const S=[],w=[];for(let T=0;T<4;T++)l[T]===p&&S.push(T),l[T]===b&&w.push(T);const _=Qre(S,w);for(const[T,N]of _){const j=Xre(T,N),C=`#${dn[T]}X${dn[N]}_${v}${j?Id:""}`;Kt(o.jijiBanhap,C)}}if(n&&a)for(let p=0;p<4;p++){const b=r[p]??"";if(b.length<2)continue;const v=`${b[0]}${b[1]}`;ay.has(v)&&Kt(o.ganjiAmhap,`#${J4(dn[p])}_${v}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let f=!1,h=!1;for(const[p,b]of u){if(!b)continue;const v=Re(b);if(!v||v.length<2)continue;const S=iy(v),w=Ci(v);{const T=`${S}${w}`;ay.has(T)&&Kt(o.ganjiAmhap,`#${p}_${T}`)}for(let T=0;T<4;T++){const N=r[T]??"";if(N.length<2)continue;const j=dn[T],C=iy(N),D=Ci(N),P=ai(lA,S,C);P&&Kt(o.cheonganHap,`#${p}X${j}_${P}`);const $=ai(cA,S,C);$&&Kt(o.cheonganChung,`#${p}X${j}_${$}`);const F=ai(uA,w,D);F&&Kt(o.jijiYukhap,`#${p}X${j}_${F}`);const Y=ai(dA,w,D);Y&&Kt(o.jijiChung,`#${p}X${j}_${Y}`);const K=ai(fA,w,D);K&&Kt(o.jijiPa,`#${p}X${j}_${K}`);const H=ai(hA,w,D);H&&Kt(o.jijiHae,`#${p}X${j}_${H}`);const z=ai(mA,w,D);z&&Kt(o.jijiWonjin,`#${p}X${j}_${z}`);const V=ai(pA,w,D);V&&Kt(o.jijiGwimun,`#${p}X${j}_${V}`);const Z=ai(gA,w,D);if(Z)Kt(o.jijiHyeong,`#${p}X${j}_${Z}`);else{const q=ai(bA,w,D);q?Kt(o.jijiHyeong,`#${p}X${j}_${q}`):w===D&&yA.has(w)&&Kt(o.jijiHyeong,`#${p}X${j}_${w}${D}`)}const X=ai(vA,w,D);X&&Kt(o.amhap,`#${p}X${j}_${X}`)}for(const T of gp){if(!T.members.includes(w))continue;const N=T.members.filter(C=>C!==w),j=l.map((C,D)=>({b:C,pos:dn[D]})).filter(C=>C.b&&N.includes(C.b));if(new Set(j.map(C=>C.b)).size===2){const[C,D]=j.map(P=>P.pos).sort((P,$)=>dn.indexOf(P)-dn.indexOf($));Kt(o.jijiSamhap,`#${p}X${C}X${D}_(${T.name})`)}}for(const T of pD){if(!T.members.includes(w))continue;const N=T.members.filter(C=>C!==w),j=l.map((C,D)=>({b:C,pos:dn[D]})).filter(C=>C.b&&N.includes(C.b));if(new Set(j.map(C=>C.b)).size===2){const[C,D]=j.map(P=>P.pos).sort((P,$)=>dn.indexOf(P)-dn.indexOf($));Kt(o.jijiHyeong,`#${p}X${C}X${D}_${T.name}`),T.name===""&&(f=!0),T.name===""&&(h=!0)}}const _=[...r.map((T,N)=>({b:Fk[Ci(T)]??Ci(T),pos:dn[N]}))];for(const T of Z4){const N=_.filter(j=>T.members.includes(j.b));if(new Set(N.map(j=>j.b)).size===3){const j=N.map(C=>C.pos).join("X");Kt(o.jijiBanghap,`#${j}_(${T.name})`)}}}{const p=[],b=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[v,S]of b){const w=Re(S??"");w.length>=2&&p.push({kind:v,b:Ci(w)})}if(p.length>=2){const v=r.map((S,w)=>({pos:dn[w],b:Ci(S)}));for(const S of pD)for(let w=0;w<p.length;w++)for(let _=w+1;_<p.length;_++){const T=p[w],N=p[_];for(const j of v){const C=new Set([j.b,T.b,N.b]);if(C.size===3&&S.members.every(D=>C.has(D))){const D=[T.kind,N.kind].sort(($,F)=>mD.indexOf($)-mD.indexOf(F)).join("X"),P=`${j.pos}X${D}`;Kt(o.jijiHyeong,`#${P}_${S.name}`),S.name===""&&(f=!0),S.name===""&&(h=!0)}}}}}return(f||h)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(f&&/(||)/.test(p)||h&&/(||)/.test(p)))),Q4(eie(o))}function eie(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const tie={:"",:"",:"",:"",:""},yD={:"",:"",:"",:"",:""},nie={:"",:"",:"",:"",:""},rie={:"",:"",:"",:"",:""},iie={:.15,:.1,:-.15,:-.2,:-.25};function aie(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function oie(e){const t=e.includes(si.month),n=aie(si.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function sie(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function lie(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],o=a.map(h=>Ci(h)).filter(Boolean),l=[],u={...t},f=(h,p)=>{const b=[];for(let T=0;T<a.length;T++){const N=Ci(a[T]??"");p.members.includes(N)&&b.push(T)}if(!p.members.every(T=>o.includes(T)))return;const S=oie(b),w=p.out,_=yD[w];sie(u,_,w,S),l.push({type:h,name:p.name,out:p.out,strength:S})};if(i)for(const h of gp)f("",h);if(r)for(const h of Z4)f("",h);return{applied:l,score:u,strengthAdj:iie,shengNext:tie,shengPrev:yD,ke:nie,keInv:rie}}function oy(e){return dn[e]}function vD(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=Re(e[r]??""),a=iy(i),o=Ci(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Bh(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${oy(i)}X${oy(a)}_${e}`);return r}function cie(e,t){const n=vD(e),r=vD(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(l,u)=>{l.includes(u)||l.push(u)};for(const{pair:[l,u],label:f}of lA){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Bh(f,h,p))a(i.,b)}for(const{pair:[l,u],label:f}of cA){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Bh(f,h,p))a(i.,b)}const o=(l,u)=>{const f=Array.from(n.branchPos.keys()),h=Array.from(r.branchPos.keys());for(const p of f)for(const b of h){const v=ai(u,p,b);if(!v)continue;const S=n.branchPos.get(p)??[],w=r.branchPos.get(b)??[];for(const _ of Bh(v,S,w))a(i[l],_)}};o("",uA),o("",dA),o("",fA),o("",hA),o("",mA),o("",pA),o("",gA),o("",bA);for(const l of yA){const u=n.branchPos.get(l)??[],f=r.branchPos.get(l)??[];if(!(!u.length||!f.length))for(const h of Bh(`${l}`,u,f))a(i.,h)}for(const{label:l,pair:[u,f]}of vA){const h=[...n.branchPos.get(u)??[],...n.branchPos.get(f)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(f)??[]];if(!(!h.length||!p.length))for(const b of Bh(l,h,p))a(i.,b)}{const l=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const f of l)for(const h of u){const p=n.stemPos.get(f)??[],b=r.stemPos.get(h)??[];for(const v of p){const S=Ci(Re(e[v]??"")),w=`${f}${S}`;if(ay.has(w))for(const _ of b){const T=Ci(Re(t[_]??""));`${h}${T}`===w&&a(i.,`#${oy(v)}X${oy(_)}_${w}`)}}}}return i}const e6=new Set(Object.keys(Bn)),t6=new Set(Object.keys(Kn)),uie=e=>e.slice(0,1),die=e=>e.slice(-1);function fs(e){return Fd.has(e)?e:e6.has(e)?Bn[e]??e:e}function Sr(e){return Sm.has(e)?e:t6.has(e)?Kn[e]??e:e}function go(e){return fs(uie(e))}function Ht(e){return Sr(die(e))}function fie(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Fd.has(i)||e6.has(i))&&(n=fs(i)),(Sm.has(i)||t6.has(i))&&(r=Sr(i));return n&&r?{stem:n,branch:r}:null}function hie(e){return e.map(Ht)}function N0(e,t,n="classic"){const r=go(t),i=Ht(t),a=(n==="hgc"?pv:mv)[i]??[];return[r,...a].includes(e)}const Hk=[["",""],["",""],["",""],["",""],["",""],["",""]],Gk=[["",""],["",""],["",""],["",""],["",""],["",""]],mie=new Set(["","","",""]),n6=[["",""],["",""]],pie=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function ym(e,t,n){const r=Sr(t),i=Sr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function xD(e,t,n){const r=Sr(t),i=Sr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function sy(e){for(const t of pie)if(t.set.has(e))return t.voids;return null}function qk(e){const t=Sr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const Gn={2:4,1:3,3:2,0:1},Od={1:4,2:3,0:2,3:1},_e={year:0,month:1,day:2,hour:3};function gie(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const cu=e=>e===0?"":e===1?"":e===2?"":"",bf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",bie=(e,t)=>`#X${cu(t)}_${e}`,$d=(e,t,n)=>t===_e.month&&n===_e.day?`#X_${e}`:t===_e.year&&n===_e.month?`#X_${e}`:t===_e.year&&n===_e.day?`#X_${e}`:t===_e.month&&n===_e.hour?`#X_${e}`:t===_e.day&&n===_e.hour?`#X_${e}`:`#${cu(t)}X${cu(n)}_${e}`,C0=(e,t)=>`#${cu(t)}_${e}`,r6=(e,t)=>`#X${cu(t)}_${e}`,yie=(e,t)=>`#(${e==="day"?"":""})X${cu(t)}_`,md=e=>`#_${e}`,pd=(e,t)=>`#X${bf(t)}_${e}`,zh=(e,t)=>`#X${bf(t)}_${e}`,n1=(e,t,n)=>`#${cu(n)}X${bf(t)}_${e}`,vie=(e,t)=>`#(${t==="day"?"":""})_${bf(e)}_`,xie=(e,t)=>`#(${t==="day"?"":""})X${bf(e)}_`,_D=(e,t)=>`#X${bf(e)}_${t}`;function Yk(e,t){const n=Sr(e),r=[_e.day,_e.month,_e.hour,_e.year];for(const i of r)if(Ht(t[i])===n)return{pos:i,weight:Gn[i]??0};return null}function _A(e,t,n){return Ht(t[n])===Sr(e)?{pos:n,weight:Gn[n]}:null}function _ie(e,t){const n=fs(e),r=[_e.day,_e.month,_e.hour,_e.year];for(const i of r)if(go(t[i])===n)return{pos:i,weight:Gn[i]??0};return null}const wie=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Sr(t.trim())).filter(Boolean),cn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[fs(t),wie(n)])),Sie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),i6=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Eie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Aie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),a6=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Oie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Die=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),o6=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Pie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Rie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wD=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Lie=cn({:"",:"",:"",:""}),Iie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),SD=cn({:"",:"",:""}),kD=cn({:"",:"",:""}),$ie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),s6=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),l6=cn({:"",:"",:"",:"",:"",:"",:""}),Bie=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Sr(t.trim())).filter(Boolean),va=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Sr(t),(Array.isArray(n)?n:[n]).map(r=>Sr(r))])),Ov=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Sr(t),Bie(n)])),c6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},u6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},d6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},f6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ED=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Uie=Ov({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Fie=Ov({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hie=Ov({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Gie=Ov({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qie=va({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),Yie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vie=va({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),h6=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Sr(t),(Array.isArray(n)?n:[n]).map(r=>Sr(r))])),eae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),m6=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),p6=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),iae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),aae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),oae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),g6=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),cae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),uae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),dae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),mae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),b6=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),pae=g6,gae=m6,bae=b6,yae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),vae=p6,xae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_ae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function bp(e,t){e.push(t)}function r1(e,t,n,r,i=0){const a=Od[n]>=Od[r]?n:r;e.push({name:$d(t,n,r),weight:Gn[a]+i,pos:a})}function Sae(e,t,n,r,i){const a=Ht(e[_e.year]),o=t[a];if(!o)return;const l=n==="MONTH"?[_e.month]:n==="DAY"?[_e.day]:n==="HOUR"?[_e.hour]:[_e.year,_e.month,_e.day,_e.hour];for(const u of o)for(const f of l){const h=_A(u,e,f);h&&bp(i,{name:$d(r,_e.year,f),weight:h.weight,pos:f})}}function kae(e,t,n,r){const i=Ht(e[_e.month]),a=t[i];if(!a)return;const o=fs(a),l=_ie(o,e);l&&bp(r,{name:r6(n,l.pos),weight:l.weight,pos:l.pos})}function AD(e,t,n,r,i="ALL"){const a=Ht(e[_e.month]),o=t[a];if(!o)return;const l=i==="YEAR"?[_e.year]:i==="DAY"?[_e.day]:i==="HOUR"?[_e.hour]:i==="DAY_HOUR"?[_e.day,_e.hour]:[_e.year,_e.month,_e.day,_e.hour];for(const u of o)for(const f of l){const h=_A(u,e,f);if(!h)continue;const p=f===_e.month?`#_${n}`:r6(n,f);bp(r,{name:p,weight:h.weight,pos:f})}}function TD(e,t,n,r){const i=Ht(e[_e.month]),a=t[i];if(!a)return;const o=e[_e.day];a.includes(o)&&bp(r,{name:$d(n,_e.month,_e.day),weight:Gn[_e.day],pos:_e.day})}function jD(e,t,n,r,i){const a=go(e[_e.day]),o=t[a];if(!o)return;const l=i==="DAY"?[_e.day]:i==="HOUR"?[_e.hour]:[_e.year,_e.month,_e.day,_e.hour];for(const u of o)for(const f of l){const h=_A(u,e,f);h&&bp(r,{name:bie(n,f),weight:h.weight,pos:f})}}function Eae({natal:e,daewoon:t,basis:n}){const r=go(e[_e.day]),i=Ht(e[_e.day]),a=Ht(e[_e.month]),o=Ht(e[_e.year]),l=hie(e),u=[],f=[],h=[[eae,"MONTH",""],[m6,"DAY",""],[nae,"MONTH",""],[rae,"MONTH",""],[iae,"ALL",""],[aae,"HOUR",""],[oae,"ALL",""],[sae,"ALL",""],[lae,"ALL",""],[g6,"ALL",""],[cae,"ALL",""],[uae,"ALL",""],[dae,"ALL",""],[fae,"ALL",""],[hae,"ALL",""],[mae,"ALL",""],[b6,"ALL",""],[pae,"ALL",""],[gae,"ALL",""],[bae,"ALL",""],[yae,"ALL",""],[vae,"ALL",""],[xae,"ALL",""],[_ae,"ALL",""],[wae,"ALL",""]];for(const[C,D,P]of h)Sae(e,C,D,P,f);const p=[[c6,""],[u6,""],[d6,""],[f6,""]];for(const[C,D]of p)kae(e,C,D,u);const b=[[zie,"","ALL"],[ED,"","YEAR"],[ED,"","DAY"],[qie,"","ALL"],[Yie,"","ALL"],[Kie,"","ALL"],[Wie,"","ALL"],[Vie,"","ALL"]];for(const[C,D,P]of b)AD(e,C,D,f,P);const v=[[h6,"","ALL"],[Zie,"","DAY_HOUR"],[Xie,"","DAY_HOUR"],[Jie,"","ALL"],[Qie,"","ALL"]];for(const[C,D,P]of v)AD(e,C,D,u,P);const S=[[Uie,""],[Gie,""]];for(const[C,D]of S)TD(e,C,D,u);const w=[[Fie,""],[Hie,""]];for(const[C,D]of w)TD(e,C,D,f);const _=[[Sie,"","ALL"],[i6,"","ALL"],[kie,"","ALL"],[Eie,"","ALL"],[Aie,"","ALL"],[Tie,"","ALL"],[jie,"","ALL"],[a6,"","ALL"],[Oie,"","ALL"],[Nie,"","ALL"],[Cie,"","ALL"],[Mie,"","ALL"],[Die,"","ALL"],[$ie,"","ALL"]];for(const[C,D,P]of _)jD(e,C,D,u,P);const T=[[o6,"","ALL"],[Pie,"","ALL"],[Rie,"","ALL"],[wD,"","DAY"],[wD,"","HOUR"],[SD,"","DAY"],[SD,"","HOUR"],[kD,"","DAY"],[kD,"","HOUR"],[Lie,"","DAY"],[Iie,"","ALL"],[s6,"","ALL"]];for(const[C,D,P]of T)jD(e,C,D,f,P);if(new Set(["","","",""]).has(e[_e.day])){f.push({name:md(""),weight:Gn[_e.day],pos:_e.day});for(const D of[_e.year,_e.month,_e.hour])e[D]===e[_e.day]&&f.push({name:C0("",D),weight:Gn[D],pos:D})}{const C=l6[r];if(C)for(const D of[_e.year,_e.month,_e.day,_e.hour]){const P=go(e[D]),$=Ht(e[D]);P===r&&C.includes($)&&f.push({name:C0("",D),weight:Gn[D],pos:D})}}for(const[C,D]of n6){const P=Yk(C,e),$=Yk(D,e);P&&$&&r1(f,"",P.pos,$.pos)}{const C=new Set(["",""]),D=new Set(["","","",""]);for(let P=0;P<=3;P++){const $=go(e[P]),F=Ht(e[P]);(C.has($)||D.has(F))&&f.push({name:C0("",P),weight:Gn[P],pos:P})}}{const C=e[_e.hour],D=($,F)=>$.includes(r)&&F.includes(C);(D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""]))&&f.push({name:md(""),weight:Gn[_e.hour],pos:_e.hour})}["","","",""].every(C=>l.includes(C))&&u.push({name:md(""),weight:Gn[_e.day],pos:_e.day});{const C=e[_e.day],D=e[_e.hour];(C===""&&D===""||C===""&&D==="")&&f.push({name:$d("",_e.day,_e.hour),weight:Gn[_e.hour],pos:_e.hour})}{const C=Ht(e[_e.year]),D=new Set(l.slice(1)),P=(F,Y)=>F.every(K=>D.has(K))&&C===Y;(P(["","",""],"")||P(["","",""],"")||P(["","",""],"")||P(["","",""],""))&&u.push({name:md(""),weight:Gn[_e.day],pos:_e.day})}(e[_e.day]===""||e[_e.day]==="")&&u.push({name:md(""),weight:Gn[_e.day],pos:_e.day});{const D={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];D&&e.some($=>Ht($)===D.rok)&&go(e[_e.hour])===D.maStem&&u.push({name:$d("",_e.day,_e.hour),weight:Gn[_e.hour],pos:_e.hour})}{const C=Ht(e[_e.hour]),P={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(P){const $=i===P.rok,F=C===P.ma,Y=N0(P.rokStem,e[_e.day],"classic")||N0(P.rokStem,e[_e.hour],"classic"),K=N0(P.maStem,e[_e.day],"classic")||N0(P.maStem,e[_e.hour],"classic");$&&F&&(Y||K)&&u.push({name:$d("",_e.day,_e.hour),weight:Gn[_e.hour],pos:_e.hour})}}{const C=new Set(["","","","","",""]),D=e.map(go),P=e.map(Ht),$=D.concat(P).filter(H=>C.has(H)).length,F=t?go(t):"",Y=t?Ht(t):"",K=C.has(F)||C.has(Y);($>=4||$===3&&K)&&f.push({name:md(""),weight:Gn[_e.day],pos:_e.day})}{const C=new Set(["",""]),D=new Set(["",""]);for(let P=0;P<=3;P++){const $=go(e[P]),F=Ht(e[P]);(C.has($)||D.has(F))&&f.push({name:C0("",P),weight:Gn[P],pos:P})}}{const C=[[_e.year,_e.month],[_e.year,_e.day],[_e.month,_e.day],[_e.month,_e.hour],[_e.day,_e.hour]];for(const[D,P]of C){const $=Ht(e[D]),F=Ht(e[P]);if(ym(Hk,$,F)){const Y=xD(Hk,$,F);r1(f,`${Y}`,D,P)}}}{const C=[[_e.year,_e.month,0],[_e.month,_e.day,1],[_e.month,_e.hour,0],[_e.day,_e.hour,0]];for(const[D,P,$]of C){const F=Ht(e[D]),Y=Ht(e[P]);if(ym(Gk,F,Y)){const K=xD(Gk,F,Y),H=($?1:0)+(mie.has(F+Y)?1:0);r1(f,`${K}`,D,P,H)}}}const N=sy(e[_e.day]),j=sy(e[_e.year]);{const C=(n?.voidBasis??"day")==="day"?N:j;if(C){const[D,P]=C.map(Sr);for(const $ of[_e.year,_e.month,_e.day,_e.hour]){const F=Ht(e[$]);(F===D||F===P)&&f.push({name:yie(n?.voidBasis??"day",$),weight:Gn[$],pos:$})}}}return{goodPos:u,badPos:f,dayVoid:N,yearVoid:j,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l}}function M0({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l,dayVoid:u,yearVoid:f,basis:h}){const p=[],b=[],v=(N,j)=>{N.includes(j)||N.push(j)},S=fie(t??null);if(!S)return{good:p,bad:b};const w=S.branch,_=S.stem;fs(c6[a]??"")===_&&v(p,zh("",e)),fs(u6[a]??"")===_&&v(p,zh("",e)),fs(d6[a]??"")===_&&v(p,zh("",e)),fs(f6[a]??"")===_&&v(p,zh("",e)),h6[a]?.includes(w)&&v(p,zh("",e)),i6[r]?.includes(w)&&v(p,pd("",e)),a6[r]?.includes(w)&&v(p,pd("",e)),o6[r]?.includes(w)&&v(b,pd("",e)),s6[r]?.includes(w)&&v(b,pd("",e)),l6[r]?.includes(w)&&v(b,pd("",e)),e==="se"&&(tae[o]?.includes(w)&&v(b,_D(e,"")),p6[o]?.includes(w)&&v(b,_D(e,"")));for(const N of l)if(ym(n6,w,N)){const j=Yk(N,n)?.pos;j!==void 0&&v(b,n1("",e,j));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(w)&&v(b,pd("",e));const T=(h?.voidBasis??"day")==="day"?u:f;T&&(w===T[0]||w===T[1])&&v(b,vie(e,h?.voidBasis??"day"));for(let N=0;N<=3;N++){const j=Ht(n[N]);ym(Hk,w,j)&&v(b,n1("",e,N)),ym(Gk,w,j)&&v(b,n1("",e,N))}if(e==="se"){const N=(h?.samjaeBasis??"day")==="day"?i:o,j=N?qk(N):null;j&&j.includes(w)&&v(b,xie(e,h?.samjaeBasis??"day"))}return{good:p,bad:b}}const Aae=/^#(|||)X\1_/,Tae=e=>Aae.test(e);function OD(e){const t=new Map;for(const n of e){if(Tae(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function jae(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const Oae=new Set(["",""]);function Nae(e){return Oae.has(e)?!0:e.endsWith("")||e.endsWith("")}function ND(e){const t=new Map;for(const r of e){const i=jae(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(Nae(r))n.push(...i);else{const a=i.sort((o,l)=>Od[o.pos]!==Od[l.pos]?Od[l.pos]-Od[o.pos]:l.weight-o.weight)[0];n.push(a)}return n}function CD(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=gie;for(const i of e)n[r(i.pos)].push(i.name);return n}function Wd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:l,dayVoid:u,yearVoid:f,dStem:h,dBranch:p,mBranch:b,yBranch:v,branches:S}=Eae({natal:e,daewoon:t,basis:a}),w=ND(OD(o)),_=ND(OD(l)),T=CD(w),N=CD(_),j=M0({src:"dae",luck:t??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:v,branches:S,dayVoid:u,yearVoid:f,basis:a}),C=M0({src:"se",luck:n??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:v,branches:S,dayVoid:u,yearVoid:f,basis:a}),D=M0({src:"wol",luck:r??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:v,branches:S,dayVoid:u,yearVoid:f,basis:a}),P=M0({src:"il",luck:i??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:v,branches:S,dayVoid:u,yearVoid:f,basis:a});return{good:{...T,dae:j.good,se:C.good,wolun:D.good,ilun:P.good},bad:{...N,dae:j.bad,se:C.bad,wolun:D.bad,ilun:P.bad},meta:{voidPair:{day:sy(e[_e.day])??void 0,year:sy(e[_e.year])??void 0},samjaeYears:{day:qk(Ht(e[_e.day]))??void 0,year:qk(Ht(e[_e.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Cae(e){return typeof e=="object"&&e!==null}function yf(e){const t=G4;return Cae(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const MD=["","","","","","","","","",""],Mae=["","","","","","","","","","","",""],Dae=["","","","","","","","","","","",""];function Pae(e){const t=gv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function Rae(e,t){const n=Pae(e);return(t?Dae:Mae).map((i,a)=>`${MD[(n+a)%10]??MD[0]}${i}`)}function vm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function DD(e){return e<10?`0${e}`:`${e}`}function Kk(e){return`${DD(e.getHours())}:${DD(e.getMinutes())}`}function wA(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function PD(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||wA(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Lae(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":Kk(i)}const RD=["","/",""],Iae="/";function y6(e,t){return e&&RD.includes(e)?e:t&&RD.includes(t)?t:Iae}function LD(e){return e===""}function $ae(e){return e===""?"":""}function Bae(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const zae=e=>e instanceof Date&&!Number.isNaN(e.getTime());function ID(e,t){const n=wA(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const j=Gi(r,i,a);r=j.getFullYear(),i=j.getMonth()+1,a=j.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),l=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,l,0,0),f=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,h=f?127.5:e.birthPlace.lon,p=zae(e.corrected);let b;p?b=e.corrected:f?b=u:b=dp(u,h,n);const v=t?new Date(b.getTime()-3600*1e3):b,S=y6(e.mingSikType),w=at(v,h),_=_t(v,h),T=ft(v,S),N=n?null:Fa(v,S);return{corrected:v,year:{stem:w.charAt(0),branch:w.charAt(1)},month:{stem:_.charAt(0),branch:_.charAt(1)},day:{stem:T.charAt(0),branch:T.charAt(1)},hour:N?{stem:N.charAt(0),branch:N.charAt(1)}:null}}const Uae=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],Fae=(()=>{const e={};for(const t of Uae){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),Hae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Gae(e,t){const n=`${gv(e)}${E2(t)}`;return Fae[n]??null}function qae(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function Yae(e){switch(Hae[E2(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function Kae({stem:e,branch:t}){const n=Gae(e,t);if(!n)return null;const r=qae(n.elem);return g.jsx("span",{className:`inline-block mt-1 px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function $D({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=jn(),o=Ui(e,t,a),l=di(e,t,n),u=Ha(e,t),f=r&&u?"font-thin":"font-bold",h=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${h}`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${f} `,children:l})})}function v6({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:v="regular",highlightedStem:S=!1,highlightedBranch:w=!1}){const _=v==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",T=v==="compact"?"py-2":"p-2";return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:`${_} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),g.jsx("div",{className:`${T} flex flex-col items-center gap-1`,children:t?g.jsxs(g.Fragment,{children:[a&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ma(n,{stem:t.stem})}),g.jsx($D,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:S}),g.jsx($D,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:w}),g.jsx(r5,{branch:t.branch,dayStem:n,mode:f,mapping:h}),(o||l||u)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&g.jsx("div",{children:p(t.branch)}),l&&g.jsx("div",{children:b(t.branch)}),u&&g.jsx(Kae,{stem:t.stem,branch:t.branch})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const Wae=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function Vae({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,daeGz:v,seGz:S,wolGz:w,highlightMap:_={}}){const T=t?"regular":"compact",N=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",j="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",C=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",D=t?`grid gap-2 p-3 ${N}`:`grid gap-1 p-0 ${N}`;return g.jsxs("div",{className:j,children:[g.jsx("div",{className:C,children:g.jsx("b",{children:""})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:D,children:e.map(P=>{const $=Wae(P,v,S,w),F=_[P.key]??{stem:!1,branch:!1};return g.jsx(v6,{title:P.label,data:$,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:T,highlightedStem:F.stem,highlightedBranch:F.branch},P.key)})})})]})}function Zae({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,highlightMap:v={}}){const S=t?"regular":"compact",w=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",_=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:w,children:g.jsx("b",{children:""})}),g.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:g.jsx("div",{className:_,children:e.map(T=>{const N=v[T.key]??{stem:!1,branch:!1};return g.jsx(v6,{title:T.label,data:T.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:S,highlightedStem:N.stem,highlightedBranch:N.branch},T.key)})})})]})}function Xae({hourCandidates:e,useInsi:t,onToggleRule:n,manualHour:r,onSelectHour:i}){return g.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),g.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "})]}),g.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(a=>{const o=a.charAt(0),l=a.charAt(1),u=r?.stem===o&&r?.branch===l;return g.jsx("button",{onClick:()=>i(o,l),className:`p-2 text-xs rounded border cursor-pointer ${u?Yae(l):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${a} ( )`,children:a},a)})})]})}function Jae(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const Uh={:{title:"()",kind:"",oneLine:"   .",bullets:["  ,  / ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:" : //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:" /   ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" /.   ."},:{title:"()",kind:"",oneLine:"  .   ."},:{title:"()",kind:"",oneLine:" /    ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /."},:{title:"",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" : ."}};function Qae(e){const t=Jae(e),n=Uh[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(Uh[r])return Uh[r]}else{const r=`${t}`;if(Uh[r])return Uh[r]}return{title:t||"",kind:"",oneLine:" "}}function eoe(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function uo({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const l=Wk(n,ly),u=Wk(r,ly),f=i||l.length>0,h=i||u.length>0;return!i&&l.length===0&&u.length===0?null:g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[f&&g.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),g.jsx(BD,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),g.jsxs("div",{children:[h&&g.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),g.jsx(BD,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function BD({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=Wk(e,ly);return a.length===0?n?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,l)=>{const u=`${t}-${l}`;return g.jsx(toe,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function toe({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=Qae(e),o=a?eoe(a):"",l=ly(e),u=k.useRef(null),f=k.useRef(null),[h,p]=k.useState("center");return k.useLayoutEffect(()=>{if(!i)return;const b=f.current;if(!b)return;const v=b.getBoundingClientRect(),w=Math.min(300,window.innerWidth-16*2),_=v.left,T=window.innerWidth-v.right;T<w/2&&_>T?p("right"):_<w/2&&T>_?p("left"):p("center")},[i]),k.useLayoutEffect(()=>{if(!i)return;const b=v=>{const S=v.target;!u.current||S&&u.current.contains(S)||r(null)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[i,r]),g.jsxs("div",{ref:u,className:"relative",children:[g.jsx("button",{ref:f,type:"button",onClick:()=>r(i?null:t),className:["px-2 py-1 text-[12px] desk:text-[11px] text-center  rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:l,children:l}),a&&i&&g.jsx("div",{className:["absolute top-full mt-2 z-50",h==="left"?"left-0":h==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:g.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function ly(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function Wk(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function noe({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:u,etcShinsalBad:f}){const[h,p]=k.useState(!0),[b,v]=k.useState(!0),[S,w]=k.useState(null);return g.jsxs(g.Fragment,{children:[o&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>p(_=>!_),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",h?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:h?"":""})]}),h&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 pl-1 mb-2",children:"     ."}),n.length===0?g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 pt-2 desk:pt-0 order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(fo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&g.jsx(fo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&g.jsx(fo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&g.jsx(fo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&g.jsx(fo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&g.jsx(fo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2 desk:pl-0 desk:border-t-0 desk:border-l-0",children:[g.jsx(fo,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),g.jsx(fo,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),g.jsx(fo,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),g.jsx(fo,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),l&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>v(_=>!_),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",b?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:b?"":""})]}),b&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pl-1 text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),zD(u)||zD(f)?g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(uo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:S,setOpenTagKey:w},"luck-wol"),t>=2&&g.jsx(uo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:S,setOpenTagKey:w},"luck-se"),t>=1&&g.jsx(uo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:S,setOpenTagKey:w},"luck-dae")]:[t>=1&&g.jsx(uo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:S,setOpenTagKey:w},"luck-dae"),t>=2&&g.jsx(uo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:S,setOpenTagKey:w},"luck-se"),t>=3&&g.jsx(uo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:S,setOpenTagKey:w},"luck-wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[g.jsx(uo,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:f.natal.hour,isDesktop:e,openTagKey:S,setOpenTagKey:w}),g.jsx(uo,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:f.natal.day,isDesktop:e,openTagKey:S,setOpenTagKey:w}),g.jsx(uo,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:f.natal.month,isDesktop:e,openTagKey:S,setOpenTagKey:w}),g.jsx(uo,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:f.natal.year,isDesktop:e,openTagKey:S,setOpenTagKey:w})]})]}):g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function fo({title:e,tags:t,activeTag:n,onToggle:r}){return g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return g.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-2 py-1 text-[12px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:roe(i)},i)})})]})}function roe(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function zD(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function UD(e){return String(e).padStart(2,"0")}function ioe(e,t,n){if(!e||e.length<8)return PD(e,t);const r=PD(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),l=Gi(i,a,o);return` ${`${l.getFullYear()}.${UD(l.getMonth()+1)}.${UD(l.getDate())}`} ( ${r})`}catch{return` ${r}`}}function aoe({data:e,hourTable:t}){const{date:n,setDstOffsetMinutes:r}=fi(),i=jn(Oe=>Oe.settings),a=i.showNabeum??!0,o=i.showRelationBox??!0,l=i.showEtcShinsal??!0,u=y6(e.mingSikType,t),f=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:h,solarM:p,solarD:b}=k.useMemo(()=>{let Oe=Number(e.birthDay?.slice(0,4)??2e3),De=Number(e.birthDay?.slice(4,6)??1),Be=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const lt=Gi(Oe,De,Be);Oe=lt.getFullYear(),De=lt.getMonth()+1,Be=lt.getDate()}return{solarY:Oe,solarM:De,solarD:Be}},[e.birthDay,e.calendarType]),v=Uk(Oe=>Oe.useDST),S=Uk(Oe=>Oe.setUseDST);k.useEffect(()=>{h&&p&&b&&S(Pm(h,p,b))},[h,p,b]),k.useEffect(()=>{r(v?-60:0)},[v,r]);const w=wA(e.birthTime),[_,T]=k.useState(()=>ID(e,v));k.useEffect(()=>{T(ID(e,v))},[e,v]);const N=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,j=_.day.stem,[C,D]=k.useState(null),[P,$]=k.useState(()=>LD(e.mingSikType));k.useEffect(()=>{D(null),$(LD(e.mingSikType))},[N,e.mingSikType]),k.useEffect(()=>{je(null)},[N]);const F=k.useMemo(()=>Rae(j,P),[P,j]),Y=C??_.hour,K=sp(Oe=>Oe.setManualHour),H=(Oe,De)=>{const Be={stem:Oe,branch:De};D(Be),K(Be)},z=$ae(i.sinsalBase)===""?_.day.branch:_.year.branch,V=Oe=>i.showSibiUnseong?Do(j,Oe):null,Z=Oe=>i.showSibiSinsal?Po({baseBranch:z,targetBranch:Oe,era:yf(i.sinsalMode),gaehwa:i.sinsalBloom}):null,X=v?-60:0,q=zre(e,u,X),J=yre({query:"(min-width: 992px)"}),ne=i.hiddenStem==="regular"?"main":"all",de=Bae(i.exposure),oe=de===0?[]:q.filter(Oe=>(Oe.key==="daeun"?1:Oe.key==="seun"?2:3)<=de),B=Pm(h,p,b),W=()=>S(!v),ie=k.useMemo(()=>{const Oe=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??""));return Number.isNaN(Oe.getTime())?_.corrected:Oe},[e.corrected,_.corrected]),Q=k.useMemo(()=>ie&&(B&&v?new Date(ie.getTime()-3600*1e3):ie),[ie,B,v]),se=k.useMemo(()=>{const Oe=B&&v?"":e.correctedLocal;return Lae(Oe,Q??new Date,w)},[e.correctedLocal,Q,w,B,v]),he=sA(e,t,n,{dstOffsetMinutes:X}),me=he.dae.gz,Se=he.se.gz,re=he.wol.gz,[Ee,je]=k.useState(null),fe=k.useMemo(()=>{const Oe=De=>De?.stem&&De?.branch?`${De.stem}${De.branch}`:"";return Tl({natal:[Oe(_.year),Oe(_.month),Oe(_.day),Oe(Y)],daewoon:me??void 0,sewoon:Se??void 0,wolwoon:re??void 0})},[_,Y,me,Se,re]),Je=k.useMemo(()=>{const Oe=[...fe.cheonganHap,...fe.cheonganChung,...fe.jijiSamhap,...fe.jijiBanhap,...fe.jijiBanghap,...fe.jijiYukhap,...fe.jijiChung,...fe.jijiHyeong,...fe.jijiPa,...fe.jijiHae,...fe.amhap,...fe.ganjiAmhap].filter(De=>De&&De!=="#");return Array.from(new Set(Oe))},[fe]),Ke=k.useMemo(()=>{const Oe=(Be,lt)=>{Be.includes(lt)||Be.push(lt)},De={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const Be of Je){const ue=(Be.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);ue.includes("")&&Oe(De.luck.wol,Be),ue.includes("")&&Oe(De.luck.se,Be),ue.includes("")&&Oe(De.luck.dae,Be),ue.includes("")&&Oe(De.natal.hour,Be),ue.includes("")&&Oe(De.natal.day,Be),ue.includes("")&&Oe(De.natal.month,Be),ue.includes("")&&Oe(De.natal.year,Be)}return De},[Je]),Ne=k.useMemo(()=>{const Oe=lt=>lt?.stem&&lt?.branch?`${lt.stem}${lt.branch}`:"",De=Wd({natal:[Oe(_.year),Oe(_.month),Oe(_.day),Oe(Y)],daewoon:me??void 0,sewoon:Se??void 0,wolwoon:re??void 0}),Be=lt=>Array.from(new Set(lt.filter(ue=>ue&&ue!=="#")));return{good:{natal:{hour:Be(De.good.si??[]),day:Be(De.good.il??[]),month:Be(De.good.wol??[]),year:Be(De.good.yeon??[])},luck:{dae:Be(De.good.dae??[]),se:Be(De.good.se??[]),wol:Be(De.good.wolun??[])}},bad:{natal:{hour:Be(De.bad.si??[]),day:Be(De.bad.il??[]),month:Be(De.bad.wol??[]),year:Be(De.bad.yeon??[])},luck:{dae:Be(De.bad.dae??[]),se:Be(De.bad.se??[]),wol:Be(De.bad.wolun??[])}}}},[_,Y,me,Se,re]),Ie=k.useMemo(()=>{const Oe={},De=(Be,lt)=>{for(const ue of Be)Oe[ue]=lt};return De(fe.cheonganHap,"stem"),De(fe.cheonganChung,"stem"),De(fe.jijiSamhap,"branch"),De(fe.jijiBanhap,"branch"),De(fe.jijiBanghap,"branch"),De(fe.jijiYukhap,"branch"),De(fe.jijiChung,"branch"),De(fe.jijiHyeong,"branch"),De(fe.jijiPa,"branch"),De(fe.jijiHae,"branch"),De(fe.amhap,"branch"),De(fe.ganjiAmhap,"both"),Oe},[fe]),We=k.useMemo(()=>{if(!Ee)return{};const Oe=Ie[Ee]??"branch",Be=(Ee.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),lt={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},ue={};for(const Ce of Be){const $e=lt[Ce];if(!$e)continue;const it=ue[$e]??{stem:!1,branch:!1};Oe==="stem"?it.stem=!0:(Oe==="branch"||(it.stem=!0),it.branch=!0),ue[$e]=it}return ue},[Ee,Ie]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),B&&g.jsxs("button",{onClick:W,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${v?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",v?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[ioe(e.birthDay,e.birthTime,e.calendarType)," : ",se]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",f.toFixed(2),"  ",u," "]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${oe.length===0?"grid-cols-1":oe.length===1?"grid-cols-[2fr_8fr]":oe.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[oe.length>0&&g.jsx(Vae,{cards:oe,isDesktop:J,dayStem:j,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:ne,hiddenStemMode:i.hiddenStemMode,calcUnseong:V,calcShinsal:Z,daeGz:me,seGz:Se,wolGz:re,highlightMap:We}),g.jsx(Zae,{isDesktop:J,dayStem:j,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:ne,hiddenStemMode:i.hiddenStemMode,calcUnseong:V,calcShinsal:Z,highlightMap:We,pillars:[{key:"hour",label:"",data:Y},{key:"day",label:"",data:_.day},{key:"month",label:"",data:_.month},{key:"year",label:"",data:_.year}]})]}),g.jsx(noe,{isDesktop:J,exposureLevel:de,relationChips:Je,relationByPillar:Ke,activeRelationTag:Ee,onToggleRelationTag:je,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:Ne.good,etcShinsalBad:Ne.bad}),w&&g.jsx(Xae,{hourCandidates:F,useInsi:P,onToggleRule:()=>$(Oe=>!Oe),manualHour:C,onSelectHour:H})]})}function Nv(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const l=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=l&&a<u)return o}return 0}const ooe=!1,FD=e=>e<10?`0${e}`:`${e}`;function Cv(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),l=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const f of l){const h=t[f];if(typeof h=="boolean"){u=h;break}if(typeof h=="number"){u=h===1;break}if(typeof h=="string"){u=h==="1"||h.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Gi(i,a,o,0,0),h=`${f.getFullYear()}${FD(f.getMonth()+1)}${FD(f.getDate())}`;return{...e,birthDay:h,calendarType:"solar"}}catch{return e}return e}function soe({data:e}){const t=zl(),n=vu(e,e.mingSikType,100,t),r=k.useMemo(()=>{const P=Cv(e);return Pl(P,t)},[e,t]),i=k.useMemo(()=>{const P=e.mingSikType??"/";return ft(r,P).charAt(0)},[r,e.mingSikType]),{date:a,setFromEvent:o}=fi(),l=k.useMemo(()=>Nv(n,a),[n,a]),u=jn(P=>P.settings),{charType:f,thinEum:h,showSipSin:p,showSibiUnseong:b,showSibiSinsal:v,sinsalBase:S,sinsalMode:w,sinsalBloom:_}=u,T=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,N=e.mingSikType??"/",j=S===""?ft(r,N).charAt(1):at(r,T).charAt(1),C=P=>b?Do(i,P):null,D=P=>v?Po({baseBranch:j,targetBranch:P,era:yf(w),gaehwa:!!_}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:n.map((P,$)=>{const F=P.gz.charAt(0),Y=P.gz.charAt(1),K=loe(r,P.at),H=$===l,z=di(F,"stem",f),V=di(Y,"branch",f),Z=Ha(F,"stem"),X=Ha(Y,"branch"),q=h&&Z?"font-thin":"font-bold",J=h&&X?"font-thin":"font-bold",ne=C(Y),de=D(Y);return g.jsxs("div",{onClick:()=>o(P,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${H?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${P.gz}  ${P.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:K}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[p&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(i,{stem:F})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(F,"stem",u)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${q}`,children:z})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(Y,"branch",u)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${J}`,children:V})}),p&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(i,{branch:Y})}),(b||v)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[b&&g.jsx("div",{children:ne}),v&&g.jsx("div",{children:de})]})]})]},`${P.gz}-${$}`)})})]})}function loe(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function Mv(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setDate(u.getDate()+1),u.setHours(4,30,0,0),u}return t}function i1(e){return new Date(e,6,2,12,0,0,0)}function coe(e,t){return t-e+1}function uoe({data:e,list:t,onSelect:n}){const r=jn(F=>F.settings),{date:i,setFromEvent:a}=fi(),o=zl(),[l,u]=k.useState(()=>t);k.useEffect(()=>{t&&t.length>0&&u(t)},[t]);const f=Pl(e,o),h=k.useMemo(()=>Mv(e,f),[e,f]),p=k.useMemo(()=>h.getFullYear(),[h]),b=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,v=k.useMemo(()=>{if(!i)return[];const F=i.getFullYear(),Y=i1(F),K=at(Y,b);return[{at:Y,gz:K}]},[i,b]),S=t.length>0?t:l.length>0?l:v,w=k.useMemo(()=>[...S].sort((F,Y)=>F.at.getTime()-Y.at.getTime()),[S]),_=k.useMemo(()=>{if(w.length===0)return 0;const F=Nv(w,i);return F<0?0:F>=w.length?w.length-1:F},[w,i]),[T,N]=k.useState(null);k.useEffect(()=>{N(null)},[i,w]);const j=T??_,C=k.useMemo(()=>{const F=Cv(e);return Pl(F,o)},[e,o]),D=e.mingSikType??"/",P=k.useMemo(()=>ft(C,D).charAt(0),[C,D]),$=k.useMemo(()=>r.sinsalBase===""?ft(h,D).charAt(1):at(h,b).charAt(1),[h,D,b,r.sinsalBase]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map((F,Y)=>{const K=F.at.getFullYear(),H=i1(K),z=at(H,b),V=z.charAt(0),Z=z.charAt(1),X=Y===j,q=di(V,"stem",r.charType),J=di(Z,"branch",r.charType),ne=Ha(V,"stem"),de=Ha(Z,"branch"),oe=r.thinEum&&ne?"font-thin":"font-bold",B=r.thinEum&&de?"font-thin":"font-bold",W=r.showSibiUnseong?Do(P,Z):null,ie=r.showSibiSinsal?Po({baseBranch:$,targetBranch:Z,era:yf(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,Q=coe(p,K);return g.jsxs("div",{onClick:()=>{if(Y===0){N(Y);return}N(Y);const se=i1(K),he=at(se,b);a({at:se,gz:he},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(K)):Promise.resolve().then(()=>n(K)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${X?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${z}  ${F.at.toLocaleDateString()}  ${Q}`,children:[g.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[Q,""]}),g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:K}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(P,{stem:V})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ui(V,"stem",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${oe}`,children:q})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ui(Z,"branch",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${B}`,children:J})}),r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(P,{branch:Z})}),(r.showSibiUnseong||r.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&W&&g.jsx("div",{children:W}),r.showSibiSinsal&&ie&&g.jsx("div",{children:ie})]})]})]},`${K}-${F.gz||Y}`)})})]})}const doe=new Set(["","","","","","","","","","","",""]);function foe(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...ha(new Date(n-1,5,15,12,0))??[],...ha(new Date(n,5,15,12,0))??[],...ha(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,f)=>u.date.getTime()-f.date.getTime()).filter(u=>doe.has(u.name));let a=i.findIndex((u,f)=>i[f].date<=t&&t<i[f+1]?.date);a<0&&(a=0);const o=i[a],l=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(l.date.getFullYear(),l.date.getMonth(),l.date.getDate(),0,0,0,0),cur:o,next:l}}const hoe=new Set(["","","","","","","","","","","",""]);function moe(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function poe(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function a1(e){return new Date(e,5,15,12,0,0,0)}function goe(e){const n=[...ha(a1(e-1))??[],...ha(a1(e))??[],...ha(a1(e+1))??[]].map(l=>({name:String(l.name),date:new Date(l.date)})).sort((l,u)=>l.date.getTime()-u.date.getTime()).filter(l=>hoe.has(l.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(l=>l.name===""&&l.date>=r&&l.date<i);if(a===-1)return[];const o=[];for(let l=0;l<12;l++){const u=n[a+l];if(!u)break;const f=new Date(u.date),h=moe(f);o.push({name:u.name,termAt:f,at00:h})}return o}function boe({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=jn(T=>T.settings),a=zl(),o=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,l=Pl(e,a),u=k.useMemo(()=>Mv(e,l),[e,l]),f=k.useMemo(()=>{const T=Cv(e);return Pl(T,a)},[e,a]),h=e.mingSikType??"/",p=k.useMemo(()=>ft(f,h).charAt(0),[f,h]),b=i.sinsalBase===""?ft(u,h).charAt(1):at(u,o).charAt(1),v=k.useMemo(()=>t?goe(t).map(N=>{const j=N.termAt,C=new Date(N.termAt.getTime()+1860*1e3),D=_t(C,o);return{at:j,gz:D,term:N.name,termAt:N.termAt}}):[],[t,o]),{date:S,setFromEvent:w}=fi(),_=Nv(v,S);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:v.map((T,N)=>{const j=T.gz.charAt(0),C=T.gz.charAt(1),D=`${poe(T.at)}`,P=N===_,$=di(j,"stem",i.charType),F=di(C,"branch",i.charType),Y=Ha(j,"stem"),K=Ha(C,"branch"),H=i.thinEum&&Y?"font-thin":"font-bold",z=i.thinEum&&K?"font-thin":"font-bold",V=i.showSibiUnseong?Do(p,C):null,Z=i.showSibiSinsal?Po({baseBranch:b,targetBranch:C,era:yf(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{r(T.at);const X=new Date(T.at),{start:q}=foe(X);n?.(q.getFullYear(),q.getMonth()),w({at:X,gz:_t(X,o)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${P?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${T.term}   ${T.gz}  ${T.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:D}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(p,{stem:j})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(j,"stem",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${H}`,children:$})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(C,"branch",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${z}`,children:F})}),i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(p,{branch:C})}),(i.showSibiUnseong||i.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&V&&g.jsx("div",{children:V}),i.showSibiSinsal&&Z&&g.jsx("div",{children:Z})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:T.term})]})]},`${T.term}-${T.at.toISOString()}`)})})]})}function yoe(){const e=jn(r=>r.settings),{date:t,setFromEvent:n}=fi();return{settings:e,pickedDate:t,setFromEvent:n}}const voe=(e,t)=>new Date(e,t,15,12,0,0,0),Vk=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},xoe=new Set(["","","","","","","","","","","",""]),x6=e=>[...ha(new Date(e-1,5,15,12,0))??[],...ha(new Date(e,5,15,12,0))??[],...ha(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),_oe=e=>{const t=x6(e.getFullYear()),n=t.filter(o=>xoe.has(o.name));if(n.length<12){const o=t.findIndex(f=>f.date>e),l=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(l.date),end:new Date(u.date),cur:l,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},woe=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function Soe({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i=0,settings:a,pickedDate:o}){const l=a.ilunRule||"/",u=k.useMemo(()=>{const Y=Cv(e);return Pl(Y,i)},[e,i]),f=k.useMemo(()=>u?ft(u,l).charAt(0):void 0,[u,l]),h=k.useMemo(()=>e?Pl(e,i):null,[e,i]),p=k.useMemo(()=>e&&h?Mv(e,h):null,[e,h]),b=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,v=e&&p?a.sinsalBase===""?ft(p,l).charAt(1):at(p,b).charAt(1):null,S=k.useMemo(()=>voe(t,n),[t,n]),w=k.useMemo(()=>o?Vk(new Date(o)):null,[o]),_=k.useMemo(()=>r?Vk(r):null,[r]),T=k.useMemo(()=>w??_??S,[w,_,S]),{start:N,end:j,cur:C,next:D}=k.useMemo(()=>_oe(T),[T]),P=k.useMemo(()=>{const Y=[],K=new Date(N);for(;K<j;)Y.push(new Date(K)),K.setDate(K.getDate()+1);return Y},[N,j]),$=k.useMemo(()=>{const Y=x6(T.getFullYear()),K=Y.filter(z=>z.date>=N&&z.date<j),H=Y.find(z=>z.date>=j);return H?[...K,H]:K},[T,N,j]),F=k.useMemo(()=>{const Y=[];let K=[];const H=new Date(N).getDay();for(let z=0;z<H;z+=1)K.push(null);for(const z of P)K.length===7&&(Y.push(K),K=[]),K.push(z);for(;K.length<7;)K.push(null);return Y.push(K),Y},[P,N]);return{rule:l,dayStem:f,baseBranch:v,pickerNoon:w,termMarks:$,weeks:F,cur:C??null,next:D??null}}function koe({setFromEvent:e}){return{handleDayClick:k.useCallback(n=>{e({at:n},"")},[e])}}function Eoe({data:e,year:t,month:n,selectedMonth:r}){const i=zl(),a=yoe(),o=Soe({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i,settings:a.settings,pickedDate:a.pickedDate}),l=koe({setFromEvent:a.setFromEvent});return g.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[o.cur?.name?g.jsxs(g.Fragment,{children:[o.cur.name," "," ~ ",o.next?.name??""]}):`${t} ${n}`,o.termMarks.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",o.termMarks.map((u,f)=>g.jsxs("span",{children:[u.name," ",woe(u.date),f<o.termMarks.length-1?"  ":""]},`${u.name}_${u.date.getTime()}_${f}`)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(u=>g.jsx("div",{className:"py-1",children:u},u))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:o.weeks.map((u,f)=>u.map((h,p)=>{if(!h)return g.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800"},`${f}-${p}`);const b=Vk(h),v=new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0),S=new Date,w=b.getFullYear()===S.getFullYear()&&b.getMonth()===S.getMonth()&&b.getDate()===S.getDate(),T=!!o.pickerNoon&&b.getFullYear()===o.pickerNoon.getFullYear()&&b.getMonth()===o.pickerNoon.getMonth()&&b.getDate()===o.pickerNoon.getDate()||!o.pickerNoon&&w,N=i!==0?new Date(v.getTime()+i*60*1e3):v,j=PY(N,o.rule),C=j.charAt(0),D=j.charAt(1),P=di(C,"stem",a.settings.charType),$=di(D,"branch",a.settings.charType),F=a.settings.thinEum&&Ha(C,"stem")?"font-thin":"font-bold",Y=a.settings.thinEum&&Ha(D,"branch")?"font-thin":"font-bold",K=!!o.dayStem&&a.settings.showSipSin,H=!!o.dayStem&&a.settings.showSibiUnseong,z=!!o.dayStem&&o.baseBranch!=null&&a.settings.showSibiSinsal,V=K?ma(o.dayStem,{stem:C}):"",Z=K?ma(o.dayStem,{branch:D}):"",X=H?Do(o.dayStem,D):"",q=z?Po({baseBranch:o.baseBranch,targetBranch:D,era:yf(a.settings.sinsalMode),gaehwa:!!a.settings.sinsalBloom}):"",J=o.termMarks.find(ne=>ne.date.getFullYear()===b.getFullYear()&&ne.date.getMonth()===b.getMonth()&&ne.date.getDate()===b.getDate());return g.jsxs("div",{onClick:()=>l.handleDayClick(v),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${T?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${j} (${b.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:b.getDate()}),J&&g.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:J.name})]}),K&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:V}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ui(C,"stem",a.settings)}`,children:g.jsx("span",{className:F,children:P})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ui(D,"branch",a.settings)}`,children:g.jsx("span",{className:Y,children:$})}),K&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:Z}),(H||z)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[H&&X&&g.jsx("div",{children:X}),z&&q&&g.jsx("div",{children:q})]})]},h.toISOString())}))})]})}function HD(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=_n(a,315);let l=a;new Date<o&&(l=a-1);const f=at(new Date(l,1,10));i.push({at:o,gz:f})}return i}function Aoe({data:e}){const t=zl(),n=vu(e,e.mingSikType,100,t),[r,i]=k.useState(null),[a,o]=k.useState(null),[l,u]=k.useState("il"),[f,h]=k.useState(null);k.useEffect(()=>{if(!n.length)return;const w=new Date,_=n.findIndex((T,N)=>{const j=n[N+1]?.at;return w>=T.at&&(!j||w<j)});_!==-1&&i(_)},[n]),k.useEffect(()=>{if(r===null)return;const w=n[r],_=n[r+1];if(!w)return;const T=HD(w,_),N=new Date;T.findIndex((C,D)=>{const P=T[D+1]?.at;return N>=C.at&&(!P||N<P)})!==-1&&o({year:N.getFullYear(),month:N.getMonth()})},[r,n]);const p=sA(e,void 0,void 0,{dstOffsetMinutes:t}),{date:b}=fi(),v=b.getMonth()+1===1?b.getFullYear()-1:b.getFullYear(),S=k.useMemo(()=>{if(!p?.dae?.gz)return[];const w=n.findIndex((N,j)=>{const C=n[j+1]?.at;return p.dae.at>=N.at&&(!C||p.dae.at<C)});if(w===-1)return[];const _=n[w],T=n[w+1];return HD(_,T)},[n,p?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(soe,{data:e}),l==="se"||l==="wol"||l==="il"?g.jsx(uoe,{data:e,list:S,onSelect:()=>{u("wol")}}):null,l==="wol"||l==="il"?g.jsx(boe,{data:e,activeYear:v,onSelect:(w,_)=>{o({year:w,month:_}),u("il")},onSelectMonth:h}):null,l==="il"&&a&&g.jsx(Eoe,{data:e,year:a.year,month:a.month+1,selectedMonth:f})]})}const Toe=new Set(wY),joe=new Set(SY);function GD(e){return typeof e=="string"&&e.length>=2&&Toe.has(e[0])&&joe.has(e[1])}function ji(e,...t){if(GD(e))return e;for(const n of t)if(GD(n))return n;return""}const Ooe={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function D0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function Noe({data:e}){const t=jn(V=>V.settings),{manualHour:n}=sp(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:l}=t,{date:u}=fi(),f=zl(),h=e.mingSikType??"/",p=e.DayChangeRule??(e.mingSikType===""?"":""),b=k.useMemo(()=>hp(e),[e]),v=k.useMemo(()=>jv(b,{dstOffsetMinutes:f}),[b,f]),S=k.useMemo(()=>oA(b,h,{dstOffsetMinutes:f}),[b,f,h]),w=k.useMemo(()=>gv(S.day?.charAt(0)??""),[S.day]),_=!e.birthTime||e.birthTime==="",T=k.useMemo(()=>Y4(v,S.hour,e.dir??"forward",120,h),[v,S.hour,e.dir,h]),N=k.useMemo(()=>W4(T,S.day,e.dir??"forward",p),[T,S.day,e.dir,p]),j=k.useMemo(()=>pp(v,S.month,e.dir??"forward",120,b.birthPlace?.lon??127.5),[v,S.month,e.dir,b.birthPlace?.lon]),C=k.useMemo(()=>V4(j,S.year,e.dir??"forward",p,v),[j,S.year,e.dir,v,p]),D=k.useMemo(()=>{const V=T?.events?.[0];return V?{at:V.at,from:ji(S.hour),to:ji(V.gz)}:null},[T?.events,S.hour]),P=k.useMemo(()=>{const V=j?.events?.[0];return j?.firstChange?{at:j.firstChange,from:ji(S.month),to:ji(V?.gz??S.month)}:null},[j?.firstChange,j?.events,S.month]),$=k.useMemo(()=>{const V=_?n?n.stem+n.branch:"":ji(D0(T.events,u)?.gz,S.hour);let Z;if(_&&n){const X=u.getFullYear(),q=u.getMonth(),J=u.getDate(),ne=Ooe[n.branch]??0,de=new Date(X,q,J,ne,0),oe=ft(de,h);Z=ji(oe,S.day)}else Z=ji(D0(N.events,u)?.gz,S.day);return{si:V,il:Z,wl:ji(D0(j.events,u)?.gz,S.month),yn:ji(D0(C.events,u)?.gz,S.year)}},[u,T.events,N.events,j.events,C.events,S,_,n,e.mingSikType,h]),F=k.useMemo(()=>({si:ji(Fa(u,h)),il:ji(ft(u,h)),wl:ji(_t(u)),yn:ji(at(u))}),[u,h]),Y=k.useMemo(()=>a===""?S.day.charAt(1):S.year.charAt(1),[a,S.day,S.year]),K=k.useMemo(()=>yf(o),[o]),H=V=>{if(!V)return{unseong:"",shinsal:""};const Z=di(w,"stem",""),X=di(V.charAt(1),"branch",""),q=di(Y,"branch","");return{unseong:r&&Do(Z,X)||"",shinsal:i&&Po({baseBranch:q,targetBranch:X,era:K,gaehwa:!!l})||""}},z=(V,Z,X="myoun")=>{const q=Z,{unseong:J,shinsal:ne}=Z?H(Z):{unseong:"",shinsal:""},de=X==="myoun"&&_&&(V===""||V==="");return g.jsx(Ad,{label:V,gz:q,dayStem:w,settings:t,unseongText:Z?J:"",shinsalText:Z?ne:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:de},`${X}-${V}`)};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",vm(v),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[z("",$.si,"myoun"),z("",$.il,"myoun"),z("",$.wl,"myoun"),z("",$.yn,"myoun")]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[z("",F.si,"live"),z("",F.il,"live"),z("",F.wl,"live"),z("",F.yn,"live")]})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"  "}),g.jsxs("div",{children:[":"," ",D?`${vm(D.at)} (${D.from}  ${D.to})`:" "]}),g.jsxs("div",{children:[":"," ",P?`${vm(P.at)} (${P.from}  ${P.to})`:" "]})]})]})}const qD=["","","","","","","","","",""],Coe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Moe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Doe={:"",:"",:"",:"",:""},Poe={:"",:"",:"",:"",:""},Roe={:"",:"",:"",:"",:""},Loe={:"",:"",:"",:"",:""};function Ioe(e,t){switch(e){case"":return t;case"":return Doe[t];case"":return Roe[t];case"":return Loe[t];case"":return Poe[t];default:return t}}function $oe({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:o}){const l=i,u=a,f=l/2,h=u/2,p=Math.min(l,u)*.37,b=k.useMemo(()=>{const j=(r??"").charAt(0);return Moe[j]??null},[r]),v=j=>Math.PI/2+2*-Math.PI*j/5,S=k.useMemo(()=>e.map((j,C)=>({...j,x:f+p*Math.cos(v(C)),y:h-p*Math.sin(v(C))})),[e,f,h,p]),[w,_]=k.useState(0),T=k.useRef(""),N=k.useMemo(()=>{const j=e.map(P=>`${P.name}:${P.value}`).join(","),C=qD.map(P=>`${P}:${t?.[P]??0}`).join(","),D=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[o??"",j,C,D,r??""].join("||")},[o,e,t,r,n]);return k.useEffect(()=>{N!==T.current&&(T.current=N,_(j=>j+1))},[N]),g.jsx("div",{className:"w-full",children:g.jsxs("svg",{width:l,height:u,className:"mx-auto pt-2",children:[S.map((j,C)=>{const D=S[(C+2)%5];return g.jsx("line",{x1:j.x,y1:j.y,x2:D.x,y2:D.y,stroke:"#94a3b8",strokeWidth:1},`line-${C}`)}),S.map((j,C)=>{const D=S[(C+1)%5],P=(j.x+D.x)/2,$=(j.y+D.y)/2,F=P-f,Y=$-h,K=1.5,H=f+F*K,z=h+Y*K;return g.jsx("path",{d:`M${j.x},${j.y} Q${H},${z} ${D.x},${D.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${C}`)}),g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:g.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),S.map(j=>{const C=j.name,D=b?Ioe(C,b):null,P=D?qD.filter($=>Coe[$]===D).map($=>[$,t?.[$]??0]):[];return g.jsxs("g",{transform:`translate(${j.x},${j.y})`,children:[g.jsx("circle",{r:33,fill:j.color??"#334155",opacity:j.value===0?.7:1}),g.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[j.name," ",j.value]}),P.map(([$,F],Y)=>g.jsxs("text",{textAnchor:"middle",dy:8+Y*11,fontSize:10,className:"fill-white",children:[$," ",Math.round(F)]},$))]},`${j.name}-${j.value}`)})]},w)})}const Boe=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function SA(e){return Math.max(0,Math.min(100,e))}function _6(e){const t=SA(e);return Boe.find(r=>t>=r.min&&t<r.max)?.name??""}const zoe=[10,20,35,45,55,65,80];function Uoe({value:e}){const t=k.useMemo(()=>SA(e),[e]),n=k.useMemo(()=>_6(t),[t]);return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:""}),g.jsx("span",{children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[zoe.map(r=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}function Fh(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ia({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,l=t.length>0?t:["#"],u=o?l.filter(p=>p!=="#"):l,h=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:h,children:e}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Fh(p,"natal"),children:p},`natal-${b}`)),n.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Fh(p,"dae"),children:p},`dae-${b}`)),r.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Fh(p,"se"),children:p},`se-${b}`)),i.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Fh(p,"wol"),children:p},`wol-${b}`)),a.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Fh(p,"il"),children:p},`il-${b}`))]})]})}function Zk(e){return Array.isArray(e)?e:[]}function P0(e,t){const n=new Set(Zk(e));return Zk(t).filter(i=>!n.has(i))}function Foe({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=xA(e),l=Tl({natal:e}),u=t?Tl({natal:e,daewoon:t}):l,f=n?Tl({natal:e,daewoon:t,sewoon:n}):u,h=r?Tl({natal:e,daewoon:t,sewoon:n,wolwoon:r}):f,p=i?Tl({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):h,b=w=>({natal:Zk(o[w]),dae:P0(l[w],u[w]),se:P0(u[w],f[w]),wol:P0(f[w],h[w]),il:P0(h[w],p[w])}),v={cheonganHap:b("cheonganHap"),cheonganChung:b("cheonganChung"),jijiSamhap:b("jijiSamhap"),jijiBanhap:b("jijiBanhap"),jijiBanghap:b("jijiBanghap"),jijiYukhap:b("jijiYukhap"),amhap:b("amhap"),ganjiAmhap:b("ganjiAmhap"),jijiChung:b("jijiChung"),jijiHyeong:b("jijiHyeong"),jijiPa:b("jijiPa"),jijiHae:b("jijiHae")},S=w=>a===""?{natal:w.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:w.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:""}),g.jsx(ia,{label:"",...S(v.cheonganHap)}),g.jsx(ia,{label:"",...S(v.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(ia,{label:"",...S(v.jijiSamhap)}),g.jsx(ia,{label:"",...S(v.jijiBanhap)}),g.jsx(ia,{label:"",...S(v.jijiBanghap)}),g.jsx(ia,{label:"",...S(v.jijiYukhap)}),g.jsx(ia,{label:"",...S(v.amhap)}),g.jsx(ia,{label:"",...S(v.ganjiAmhap)}),g.jsx(ia,{label:"",...S(v.jijiChung)}),g.jsx(ia,{label:"",...S(v.jijiHyeong)}),g.jsx(ia,{label:"",...S(v.jijiPa)}),g.jsx(ia,{label:"",...S(v.jijiHae)})]})}function Hoe(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Goe({items:e,source:t}){const n=e.length>0?e:["#"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Hoe(r,t),children:r},`${t}-${i}-${r}`))})}function YD({title:e,rows:t}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:i,children:n.label}),g.jsx(Goe,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function qoe({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=jn(),[l,u]=k.useState(""),[f,h]=k.useState("");k.useEffect(()=>{o.sinsalBase===""?(u(""),h("")):(u(""),h(""))},[o.sinsalBase]);const p=k.useMemo(()=>({voidBasis:l===""?"day":"year",samjaeBasis:f===""?"day":"year"}),[l,f]),b=k.useMemo(()=>Wd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:v,bad:S,meta:w}=b,_=K=>K.map(H=>H==="#"?H:` ${H}`),T=(K,H)=>{const z=["natal"];return H===""&&z.push("natal"),H===""&&z.push("natal","dae"),H===""&&z.push("natal","dae","se"),H===""&&z.push("natal","dae","se","wol"),H===""&&z.push("natal","dae","se","wol","il"),K.filter(V=>z.includes(V.source))},N=[{label:"",items:_(v.si),source:"natal"},{label:"",items:_(v.il),source:"natal"},{label:"",items:_(v.wol),source:"natal"},{label:"",items:_(v.yeon),source:"natal"},{label:"",items:v.dae,source:"dae"},{label:"",items:v.se,source:"se"},{label:"",items:v.wolun,source:"wol"},{label:"",items:v.ilun,source:"il"}],j=[{label:"",items:_(S.si),source:"natal"},{label:"",items:_(S.il),source:"natal"},{label:"",items:_(S.wol),source:"natal"},{label:"",items:_(S.yeon),source:"natal"},{label:"",items:S.dae,source:"dae"},{label:"",items:S.se,source:"se"},{label:"",items:S.wolun,source:"wol"},{label:"",items:S.ilun,source:"il"}],C=T(N,a),D=T(j,a),P=w.voidPair.day?`(${w.voidPair.day.join("")})`:"()",$=w.voidPair.year?`(${w.voidPair.year.join("")})`:"()",F=w.samjaeYears.day?`(${w.samjaeYears.day.join("")})`:"()",Y=w.samjaeYears.year?`(${w.samjaeYears.year.join("")})`:"()";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:l,onChange:K=>u(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:P}),g.jsx("option",{value:"",children:$})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:f,onChange:K=>h(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:F}),g.jsx("option",{value:"",children:Y})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(YD,{title:"()",rows:C}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(YD,{title:"()",rows:D})]})]})}const la={year:0,month:1,day:2,hour:3},w6={[la.year]:.3,[la.month]:.5,[la.day]:.3,[la.hour]:.3},S6={[la.year]:.15,[la.month]:.2,[la.day]:0,[la.hour]:.15},Yoe=e=>Sm.has(e)?e:Kn[e]??e,Koe=e=>Fd.has(e)?e:Bn[e]??e,Woe=e=>typeof e=="string"&&e.length>=2?Yoe(e.slice(-1)):"",Voe=e=>typeof e=="string"&&e.length>=1?Koe(e.slice(0,1)):"",vn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),Zoe={:vn(2,0,.5,2),:vn(2,0,0,2),:vn(2,0,0,2),:vn(0,2,2,0),:vn(0,2,2,0),:vn(0,2,1,2),:vn(0,2,2,.5),:vn(0,2,2,0),:vn(0,2,2,1),:vn(2,0,0,2),:vn(2,0,0,2),:vn(2,0,1,1)},Xoe={:vn(0,1,1,0),:vn(0,1,1,0),:vn(0,2,2,0),:vn(0,2,2,0),:vn(0,0,1,0),:vn(0,0,0,1),:vn(1,0,0,1),:vn(1,0,0,1),:vn(2,0,0,2),:vn(2,0,0,2)},KD=e=>Math.max(0,Math.min(100,e));function WD(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function Joe(e){let t=0,n=0,r=0,i=0;return[la.year,la.month,la.day,la.hour].forEach(a=>{const o=Zoe[Woe(e[a])],l=Xoe[Voe(e[a])],u=w6[a],f=S6[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),f>0&&l&&(t+=l.han*f,n+=l.nan*f,r+=l.jo*f,i+=l.seup*f)}),{han:t,nan:n,jo:r,seup:i}}function Qoe(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function ese(e){const t=Qoe(e);return k.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=Joe(t),o=WD(n,r),l=WD(a,i);return{hanNanPct:KD(o),joSeupPct:KD(l),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:w6,stem:S6}}},[t])}function VD({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=k.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),o=[10,20,35,45,55,65,80];return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:n}),g.jsx("span",{children:r}),g.jsx("span",{children:i})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[o.map(l=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${l}%`},title:`${l}%`},l)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function tse({natal:e}){const{hanNanPct:t,joSeupPct:n}=ese(e);return g.jsxs("div",{className:"flex gap-2",children:[g.jsx(VD,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),g.jsx(VD,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const zr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ra={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},nse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},cy={:"",:"",:"",:"",:""},k6={:"",:"",:"",:"",:""},Lm={:"",:"",:"",:"",:""},E6={:"",:"",:"",:"",:""},rse={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},ise={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function kA(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function A6(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function EA(e){return e==="hgc"?ise:rse}const ase={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},o1={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},T6={:"",:"",:"",:"",:""},j6={:"",:"",:"",:""},ose=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],sse=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],lse={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Ve=(e,t)=>`${e}${t}`,Ni=(e,t,n)=>`${e}${t}${n}`,cse={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},ZD={[Ve("","")]:[""],[Ve("","")]:["",""],[Ve("","")]:["",""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:["",""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:["",""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""],[Ve("","")]:[""]},XD={[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:["",""]},use={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function ca(e){return["","","","",""].includes(e)}function dse(e){return["","","","","",""].includes(e)}const s1=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,oa=e=>e&&e.length>=1?e.charAt(0):"",En=e=>e&&e.length>=2?e.charAt(1):"",fse=e=>Array.from(new Set(e));function hse(e,t){const n=ase[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function mse(e){return zr[e]??""}function La(e,t){const n=zr[e],r=zr[t];if(!n||!r)return"";let i;r===n?i="":r===cy[n]?i="":r===Lm[n]?i="":r===E6[n]?i="":r===k6[n]?i="":i="";const a=ca(e)===ca(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function pse(e,t){const n=zr[e],r=Ra[t];if(!n||!r)return"";let i;r===n?i="":r===cy[n]?i="":r===Lm[n]?i="":r===E6[n]?i="":r===k6[n]?i="":i="";const a=dse(t)===ca(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function gse(e){return{:"",:"",:"",:"",:""}[e]??""}function Xk(e,t){const n=mse(e),r=ca(e);let i;t===n?i="":cy[n]===t?i="":cy[t]===n?i="":Lm[n]===t?i="":Lm[t]===n?i="":i="";const a=r===ca(gse(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const bse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},yse=e=>/^(|||||||||)$/.test(e);function vse(e){return e?yse(e)?e:bse[e]??"":""}function R0(e){return vse(oa(e))}function xse(e){return e?.charAt(0)??""}function _se(e){return e?.charAt(1)??""}function wse(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),l=ue=>(ue?.length??0)>=1?ue.charAt(0):"",u=ue=>(ue?.length??0)>=2?ue.charAt(1):"",f=[r,i,a,o].map(l).filter(Boolean),h=new Set(Object.keys(Ra)),p=[r,i,a,o].map(u).filter(ue=>!!ue&&h.has(ue)),b=l(a),v=lse[b]??!1,S=new Set,w=t==="classic"?mv:pv,_=new Set(["","","","","","","","","",""]),T=ue=>(w[ue]??[]).filter(Ce=>_.has(Ce)),N=(ue,Ce)=>{const $e=Ra[Ce];return $e?Xk(ue,$e):null},j={:0,:0,:0,:0,:0};for(const ue of f){const Ce=zr[ue];Ce&&(j[Ce]+=10)}const C=[];for(const ue of p){const Ce=nse[ue];Ce&&C.push(Ce);const $e=Ra[ue];$e&&(j[$e]+=6)}const P=[...f,...C].map(ue=>La(b,ue)),$={:["",""],:["",""],:["",""],:["",""],:["",""]},F=ue=>P.filter(Ce=>Ce===ue).length,Y=ue=>P.filter(Ce=>$[ue].includes(Ce)).length,K=p[1],H=!!b&&use[b]===K,z=n.elementPercent100;z.>=20&&z.>=20&&z.>=15&&S.add("");const V=[r,i,a,o].filter(Boolean),Z=[];for(const ue of V){const Ce=ue.charAt(0),$e=ue.charAt(1);Z.push(La(b,Ce)),Z.push(N(b,$e))}const X=(ue,Ce)=>{const $e=(it,Nt)=>!!it&&!!Nt&&ue.includes(it)&&Ce.includes(Nt)||Ce.includes(it)&&ue.includes(Nt);for(let it=0;it+1<Z.length;it+=2)if($e(Z[it],Z[it+1]))return!0;return!1},q=ue=>Z.some(Ce=>!!Ce&&ue.includes(Ce)),J=F("")+F(""),ne=F(""),de=Y(""),oe=Y(""),B=X(["",""],["",""]);if((ne>=1||J>=2)&&de>=1&&J>de&&oe<=1&&B&&S.add(""),q($.)&&q($.)&&X($.,$.)){const ue=P.includes("");S.add(ue?"":"")}Y("")>=2&&Y("")>=2&&Math.abs(Y("")-Y(""))<=1&&Y("")<=1&&Y("")<=1&&S.add("");const W=F(""),ie=F(""),Q=F("")+F(""),se=F("")+F(""),he=Y("");ie>=2&&Q>=1&&j.+j.>=20&&S.add(""),ie>=2&&se>=1&&j.+j.>=20&&S.add(""),ie>=2&&se>=1&&j.+j.>=20&&X([""],["",""])&&he<=1&&S.add(""),W>=2&&se>=1&&j.+j.>=20&&X([""],["",""])&&he<=1&&S.add("");const me=(ue,Ce)=>{const $e=zr[ue],it=Ra[Ce];return!!$e&&!!it&&$e===it},Se=[r,i,a,o].filter(Boolean),re=u(a),Ee=me(b,re),je=Se.map(ue=>ue.charAt(0)).filter(ue=>["",""].includes(La(b,ue)));let fe=!1;for(const ue of Se){const Ce=ue.charAt(0),$e=ue.charAt(1);if(je.includes(Ce)&&me(Ce,$e)){fe=!0;break}}Ee&&fe&&S.add(""),Y("")>=3&&Y("")>=.5*(Y("")+Y("")+Y("")+Y(""))&&S.add(""),Y("")>=3&&Y("")>=.5*(Y("")+Y("")+Y("")+Y(""))&&S.add(""),Y("")>=3&&Y("")>=1&&S.add(""),Y("")>=3&&Y("")+Y("")<=1&&S.add("");const Je=F("");Y("")+Y("")>=2&&Je===1&&Y("")>=1&&S.add(""),Je>=2&&Q+Y("")>=3&&S.add("");const Ke=W+ie;(W>=2||Ke>=2)&&se>=1&&Ke>se&&S.add(""),ie>=2&&se>=1&&Ke>se&&S.add("");const Ne=F(""),Ie=F("");Ne>=2&&Je+Ie>=1&&S.add(""),Ne>=2&&Je+Ie===0&&S.add(""),v&&Ne>=2&&Je>=1&&S.add(""),!v&&Ne>=2&&Je>=1&&S.add(""),F("")>=2&&F("")>=1&&S.add(""),F("")>=1&&F("")>=1&&X([""],[""])&&S.add(""),H&&Je>=1&&Y("")+Y("")>=2&&S.add("");const We=[u(r),u(i),u(a),u(o)].filter(Boolean),Oe=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),De=new Set(Oe.map(ue=>La(b,ue))),Be=new Set(We.flatMap(ue=>{const Ce=Ra[ue];return Ce?[Xk(b,Ce)]:[]})),lt=new Set(We.flatMap(ue=>T(ue).map(Ce=>La(b,Ce))));return["","","","",""].forEach(ue=>{const Ce=$[ue],$e=Ce.some(xt=>De.has(xt)),it=Ce.some(xt=>Be.has(xt)),Nt=Ce.some(xt=>lt.has(xt));!$e&&!it&&!Nt?S.add(`${ue}`):!$e&&!it&&Nt&&S.add(`${ue}`)}),Array.from(S)}const Sse=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=oa(n),i=En(n),a=zr[r],o=Ra[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function kse(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,l,u]=(t??[]).slice(0,4),f=[oa(a),oa(o),oa(l),oa(u)].filter(Boolean),h=[En(a),En(o),En(l),En(u)].filter(Boolean),p=zr[n],b=f.map(ue=>La(n,ue)),v=[],S=ue=>f.filter(Ce=>Ce===ue).length,w=ue=>h.filter(Ce=>Ce===ue).length,_=ue=>ue.every(Ce=>h.includes(Ce)),T=ue=>b.some(Ce=>ue.includes(Ce)),N=oa(o),j=ue=>ca(ue),C=()=>{const ue=f.map(Ce=>zr[Ce]);return ue.length===4&&ue.every(Ce=>Ce===ue[0])},D=()=>{if(f.length!==4)return!1;const ue=f.map(j),Ce=ue[0]&&!ue[1]&&ue[2]&&!ue[3],$e=!ue[0]&&ue[1]&&!ue[2]&&ue[3];return Ce||$e};ca(n)&&T6[n]===r&&v.push("");const P=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[ue,Ce]of P)if(n===ue&&r===Ce){v.push("");break}!ca(n)&&j6[n]===r&&v.push("");const $=o1[n];$&&En(l)===$&&p===Ra[En(l)]&&v.push(""),$&&En(u)===$&&p===Ra[En(u)]&&v.push("");const F=[a,o,l,u].map(xse),Y=[a,o,l,u].map(_se);for(const ue of F);for(const ue of Y);const K=i==="hgc"?pv:mv;function H(ue){return(K[ue]??[]).filter(Ce=>["","","","","","","","","",""].includes(Ce))}const z=[a,o,l,u].filter(Boolean),Z=z.flatMap(ue=>[ue.charAt(0),ue.charAt(1)]).flatMap(ue=>{try{if(["","","","","","","","","",""].includes(ue))return[La(n,ue)];if(["","","","","","","","","","","",""].includes(ue)){const Ce=pse(n,ue),$e=H(ue).map(it=>La(n,it));return[Ce,...$e]}return[]}catch{return[]}}),X=ue=>Z.some(Ce=>ue.includes(Ce)),q=(ue,Ce)=>{const $e=[],it=[];for(const xt of z){const Jn=xt.charAt(0),gi=xt.charAt(1);$e.push(La(n,Jn));const bi=Ra[gi];bi?it.push(Xk(n,bi)):it.push(null)}const Nt=(xt,Jn)=>!!xt&&!!Jn&&(ue.includes(xt)&&Ce.includes(Jn)||Ce.includes(xt)&&ue.includes(Jn));for(let xt=0;xt<$e.length;xt++)if(Nt($e[xt],it[xt]))return!0;for(let xt=0;xt<$e.length-1;xt++)if(Nt($e[xt],$e[xt+1])||Nt(it[xt],it[xt+1]))return!0;return!1},J={:["",""],:["",""],:["",""],:["",""]};X([...J.])&&X([...J.])&&q([...J.],[...J.])&&v.push(""),X([...J.])&&X([...J.])&&q([...J.],[...J.])&&v.push("");const ne=ue=>b.filter(Ce=>ue.includes(Ce)).length,de=ne(["",""]),oe=ne([""]),B=ne([""]),W=ne(["",""]),ie=ne(["",""]),Q=ne(["",""]);oe>=1&&de>=1&&de>=oe&&B<=oe&&v.push("");const se=ne([""]);se>=1&&W>=1&&se>=W&&v.push(""),b.includes("")&&W>=1&&v.push("");const me=Sse(t),Se=Object.entries(me).sort((ue,Ce)=>Ce[1]-ue[1]),re=Se[0];if(re&&re[1]>=60&&v.push(`(${re[0]})`),Se.length>=2){const[ue,Ce]=Se[0],[,$e]=Se[1];Ce>=75&&Ce-$e>=12&&p!==ue&&v.push(`(${ue})`)}for(const ue of ose){const Ce=f.includes(ue.a),$e=f.includes(ue.b);if(!Ce||!$e)continue;const it=ue.to,Nt=me[it]??0,xt=zr[ue.a],Jn=zr[ue.b],gi=Math.max(me[xt]??0,me[Jn]??0),bi=Ra[r]===it,Is=Object.entries(me).sort((mn,yi)=>yi[1]-mn[1])[0]?.[0]===it;let qt=!1;Nt>=60&&(bi||Is)&&gi<=20&&Nt-gi>=20&&(v.push(`(${it})`),qt=!0),!qt&&Nt>=50&&(bi||Is)&&gi<=25&&(v.push(`(${it})`),qt=!0),!qt&&Nt>=35&&v.push(`(${it})`)}const Ee=`${oa(u)}${En(u)}`;["",""].includes(n)&&["","",""].includes(Ee)&&v.push(""),["","","",""].includes(En(u))&&v.push(""),["",""].includes(n)&&(En(l)===""||En(o)==="")&&!h.includes("")&&v.push("");const je=f.some(ue=>ue===""||ue===""),fe=h.some(ue=>ue===""||ue==="");["",""].includes(En(l))&&!je&&!fe&&v.push(""),["","",""].every(ue=>f.includes(ue))&&v.push(""),["","",""].every(ue=>f.includes(ue))&&v.push(""),["","",""].every(ue=>f.includes(ue))&&v.push("");const Je=Object.values(me).sort((ue,Ce)=>Ce-ue);Je.length>=3&&Je[0]-Je[2]<=8&&Je[0]+Je[1]+Je[2]>=80&&v.push(""),ie>=1&&Q>=1&&Math.abs(ie-Q)<=1&&v.push(""),_(["","","",""])&&v.push(""),_(["","","",""])&&v.push(""),_(["","","",""])&&v.push(""),h.length===4&&h.every(ue=>ue===h[0])&&v.push(""),f.length===4&&C()&&D()&&v.push(""),t.every(ue=>ue&&ue===t[0])&&v.push(""),f.length===4&&f.every(ue=>ue===f[0])&&h.length===4&&h.every(ue=>ue===h[0])&&v.push(""),de>=1&&(En(l)===o1[n]||En(u)===o1[n])&&v.push(""),S("")>=3&&_(["","",""])&&["","",""].includes(En(l))&&v.push("");const Ne=n===""||n==="",Ie=[["","",""],["","",""]],We=[["","",""],["","",""]];Ne&&(Ie.some(ue=>_(ue))||We.some(ue=>_(ue)))&&v.push("");const Oe=new Set(["","","","","",""]),De=`${oa(l)}${En(l)}`;if(Oe.has(De)&&w("")>=2&&(T(["",""])||h.includes("")||h.includes("")||T(["",""])||v.push("")),new Set(["","","","","",""]).has(De)&&w("")>=2&&h.includes("")&&v.push(""),n===""&&`${oa(u)}${En(u)}`==""){const ue=La(n,N);!["","","",""].includes(ue)&&T(["",""])&&!h.includes("")&&!h.includes("")&&v.push("")}return new Set(["","",""]).has(De)&&`${oa(u)}${En(u)}`==""&&!h.includes("")&&!T(["",""])&&v.push(""),De===""&&w("")+w("")>=2&&v.push(""),(De===""||De==="")&&w("")>=2&&!T(["",""])&&!h.includes("")&&v.push(""),n===""&&_(["","",""])&&v.push(""),De===""&&`${oa(u)}${En(u)}`==""&&v.push(""),fse(v)}function Ese(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function Ase(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const JD=1e3*60*60*24;function L0(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function Tse(e){let t=ha(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=ha(r)}return t}function jse(e){const t=cse[e];return Array.isArray(t)&&t.length>0?t[0]:null}function Ose(e,t){const n=jse(e);if(!n)return null;const r=Tse(t),i=r.findIndex(f=>f.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const l=Math.floor((L0(t)-L0(a))/JD)+1,u=o?Math.max(1,Math.floor((L0(o)-L0(a))/JD)):30;return{dayIdx:l<1?1:l,spanDays:u}}function Nse(e){return(e.?.w??0)+(e.?.w??0)+e..w}function Cse(e,t,n){const r=Math.max(1,Nse(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,l=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+l?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function O6(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:l,mapping:u}=e,f=[],h=A6(u),p=EA(h);if(!kA(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const b=p[n];if(!b)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const v={:b.?{stem:s1(b..stem),w:b..w}:void 0,:b.?{stem:s1(b..stem),w:b..w}:void 0,:{stem:s1(b..stem),w:b..w}},S=v..stem;let w=S;const _=Ose(n,r);if(["","","",""].includes(n)&&hse(n,o)&&v.)w=v..stem,f.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(_){const z=Cse(v,_.dayIdx,_.spanDays);w=z.stem,f.push({kind:"BUNIL_PICK",from:z.from})}else w=S,f.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function T(z,V){if(!z)return!1;if(V.includes(z))return!0;const Z=zr[z];return Z?V.some(X=>zr[X]===Z):!1}let N="";w&&T(w,a)&&!l?.(w)?(N=w,f.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):w&&l?.(w)&&f.push({kind:"NEUTRALIZED"});const j=N||S;let C="";const D=zr[j];if(D){const z=Object.entries(Lm).find(([,V])=>V===D)?.[0]??null;z&&(C=Object.entries(zr).find(([Z,X])=>X===z&&ca(Z)===ca(j))?.[0]??"")}let P="-";const $=La(t,j),F=sse.some(([z,V])=>z===t&&V===n),Y=ca(t)&&T6[t]===n,K=!ca(t)&&j6[t]===n;$===""||$===""?F?(P="",f.push({kind:"EX_GEONLOK"})):Y?(P="",f.push({kind:"EX_YANGIN"})):K?(P="",f.push({kind:"EX_WOLGEOP"})):f.push({kind:"EX_EXCLUDED_BIGEOP"}):P=Ase($);const H=kse({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:S,:w,:N||"-",:j||"-",:C||"-",:P,:H,reason:Ese(f),reasonTokens:f}}function Mse(e){const[t,n,r,i]=e,a=R0(i),o=R0(r),l=R0(n),u=R0(t),f=[],h=[[a,o],[o,l],[l,u]];for(const[b,v]of h){if(!b||!v)continue;const S=Ve(b,v),w=ZD[S];w?.length&&f.push(...w);const _=Ve(v,b);if(_!==S){const T=ZD[_];T?.length&&f.push(...T)}}const p=[[a,o,l],[o,l,u]];for(const[b,v,S]of p){if(!b||!v||!S)continue;const w=Ni(b,v,S),_=XD[w];_?.length&&f.push(..._);const T=Ni(S,v,b);if(T!==w){const N=XD[T];N?.length&&f.push(...N)}}return Array.from(new Set(f))}const Dse=["","","","",""];function Pse(e){return Dse.includes(e)}function Rse(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function Hh(e,t){if(!t)return e;const n=(Pse(t),t);return`${e}(${n})`}const Lse={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},Ise={:e=>({title:Hh("",e),short:"     ."}),:e=>({title:Hh("",e),short:"   ."}),:e=>({title:Hh("",e),short:"   ."}),:e=>({title:Hh("",e),short:"    ."}),:e=>({title:Hh("",e),short:"    ."})};function $se(e){const{base:t,inner:n}=Rse(e);return t===""||t===""||t===""||t===""||t===""?Ise[t](n):Lse[t]}function Bse(e){const t=$se(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const zse=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),QD={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function Use(e){if(zse(QD,e))return QD[e]}const eP={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},Fse={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function Hse(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function Gse(e,t){return e===""?{title:`${t}`,short:`${eP[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${eP[t]}()     .`,hint:" X /  O"}}function qse(e){const t=Hse(e);return t?Gse(t.kind,t.group):Fse[e]}function Yse(e){const t=qse(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Kse={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function Wse(e){return Kse[e]?.text}const Vse=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},Zse={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},Xse={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},Jse=e=>e.replace(/^\s*:\s*/,"").trim();function Qse(e){const t=Jse(e);return Xse[t]}function ele(e){const t=Zse[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${Vse(e.from)})`}:t}function tle(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:o,mapping:l,unified:u}=e,[f,h,p,b]=t,v=Q=>Q&&Q.length>=1?Q.charAt(0):"",S=Q=>Q&&Q.length>=2?Q.charAt(1):"",w=S(h),_=v(p),T=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,N=[v(f),v(h),v(p),v(b)].filter(Q=>!!(Q&&Q.length===1)),j=[S(f),S(p),S(b)].filter(Q=>!!(Q&&Q.length===1)),C=O6({dayStem:_,monthBranch:w,date:T,pillars:t,emittedStems:i??N,otherBranches:a??j,isNeutralized:o,mapping:l}),D=C.reasonTokens??[],P=C.reason??[],$=[` : ${C.||"-"}`,` : ${C.||"-"}`,` : ${C.||"-"}`,` : ${C.||"-"}`,` : ${C.||"-"}`],F=[` : ${C.||"-"}`],Y=Array.isArray(C.)&&C..length>0?C..map(Q=>` : ${Q}`):[" : -"],K=Mse(t),H=[...K.length?K.map(Q=>`${Q}`):[]],V=[...wse(t,l,u)],Z=({text:Q,color:se})=>{const he={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return g.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${he[se]}`,title:Q,children:Q})},X=({children:Q})=>g.jsx("li",{className:"!flex flex-wrap gap-1 p-1 rounded-sm",children:Q}),[q,J]=k.useState(null),ne=({text:Q})=>{const se=Q.replace(/^\s*:\s*/,"").trim(),he=k.useMemo(()=>Bse(se),[se]),me=`outer:${se}`,Se=q===me;return he?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>J(Se?null:me),className:"inline-flex cursor-pointer",title:he,children:g.jsx(Z,{text:Q,color:"blue"})}),Se&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:he})]}):g.jsx(Z,{text:Q,color:"blue"})},de=({text:Q})=>{const se=Q.trim(),he=k.useMemo(()=>Use(se),[se]),me=`mulsang:${se}`,Se=q===me;return he?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>J(Se?null:me),className:"inline-flex cursor-pointer",title:he,children:g.jsx(Z,{text:Q,color:"green"})}),Se&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:he})]}):g.jsx(Z,{text:Q,color:"green"})},oe=({text:Q})=>{const se=Q.trim(),he=k.useMemo(()=>Yse(se),[se]),me=`structure:${se}`,Se=q===me;return he?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>J(Se?null:me),className:"inline-flex cursor-pointer",title:he,children:g.jsx(Z,{text:Q,color:"red"})}),Se&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:he})]}):g.jsx(Z,{text:Q,color:"red"})},B=({text:Q,color:se})=>{const he=Q.trim(),me=he.split(":")[0]?.trim()??he,Se=k.useMemo(()=>Wse(me),[me]),re=`term:${me}`,Ee=q===re;return Se?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>J(Ee?null:re),className:"inline-flex cursor-pointer",title:Se,children:g.jsx(Z,{text:Q,color:se})}),Ee&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:Se})]}):g.jsx(Z,{text:Q,color:se})},W=({text:Q})=>{const se=k.useMemo(()=>Qse(Q),[Q]),he=`naegyeok:${Q}`,me=q===he;return se?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>J(me?null:he),className:"inline-flex cursor-pointer",title:se.text,children:g.jsx(Z,{text:Q,color:"amber"})}),me&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:se.text})]}):g.jsx(Z,{text:Q,color:"amber"})},ie=({token:Q,fallback:se,idx:he})=>{const me=ele(Q),Se=me?.title??se,re=me?.text??se,Ee=`reason:${Q.kind}:${"from"in Q?Q.from:""}:${he}`,je=q===Ee;return g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>J(je?null:Ee),className:"inline-flex cursor-pointer",title:re,children:g.jsx(Z,{text:Se,color:"amber"})}),je&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:re})]})};return g.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${$.join(",")}|${F.join(",")}|${Y.join(",")}`,children:[g.jsx("div",{className:"font-bold text-base",children:"   "}),g.jsx("div",{className:"text-xs text-amber-500 dark:text-amber-400 mb-2",children:"*        ."}),g.jsxs("ul",{className:"space-y-1",children:[g.jsx(X,{children:$.map(Q=>g.jsx(B,{text:Q,color:"violet"},Q))}),g.jsx(X,{children:F.map(Q=>g.jsx(W,{text:Q},Q))}),g.jsx(X,{children:Y.map(Q=>g.jsx(ne,{text:Q},Q))}),g.jsx(X,{children:H.map(Q=>g.jsx(de,{text:Q},Q))}),g.jsx(X,{children:V.map(Q=>g.jsx(oe,{text:Q},Q))})]}),D.length>0?g.jsxs("div",{className:"mt-2",children:[g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}),g.jsx("div",{className:"mt-1",children:g.jsx(X,{children:D.map((Q,se)=>g.jsx(ie,{token:Q,fallback:P[se]??Q.kind,idx:se},`${Q.kind}-${se}`))})})]}):C.reason.length>0?g.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[": ",C.reason.join(" / ")]}):null]})}const nle=Object.fromEntries(Ka..map((e,t)=>[e,Hr[t]])),rle=Object.fromEntries(Hr.map((e,t)=>[e,Ka.[t]])),ile=Object.fromEntries(Ka..map((e,t)=>[e,ui[t]])),ale=Object.fromEntries(ui.map((e,t)=>[e,Ka.[t]])),ole=e=>nle[e]??e,sle=e=>ile[e]??e,lle=e=>rle[e]??e,cle=e=>ale[e]??e;function ule(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?ole(n):lle(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function AA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?sle(n):cle(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const dle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},fle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},N6={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},hle={...N6,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},tP=ule(dle),nP=AA(fle);AA(N6);AA(hle);const mle=["","","","",""];function ple(){const[e,t]=k.useState("   "),[n,r]=k.useState(""),[i,a]=k.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const gle={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},ble={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function C6(e){const t=ble[e]??"";return gle[t]}const yle=Object.fromEntries(Ka..map((e,t)=>[e,Hr[t]])),vle=Object.fromEntries(Hr.map((e,t)=>[e,Ka.[t]])),xle=Object.fromEntries(Ka..map((e,t)=>[e,ui[t]])),_le=Object.fromEntries(ui.map((e,t)=>[e,Ka.[t]])),wle=e=>yle[e]??e,Sle=e=>xle[e]??e,kle=e=>vle[e]??e,Ele=e=>_le[e]??e;function M6(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${wle(r)}${Sle(i)}`:`${kle(r)}${Ele(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const D6={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},Ale={...D6,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Tle=M6(D6),jle=M6(Ale),Ole={:"",:"",:"",:"",:""},Nle={:"",:"",:"",:"",:""},Cle={:"",:"",:"",:"",:""},Mle={:"",:"",:"",:"",:""},Dle=e=>Bn[e]??e,Ple=e=>Kn[e]??e;function P6(e){return!e||e.length<2?"":`${Dle(e[0])}${Ple(e[1])}`}const R6=e=>e&&e.length>=1?e[0]:"",L6=e=>e&&e.length>=2?e[1]:"";function I6(e){return{:e,:Ole[e],:Nle[e],:Cle[e],:Mle[e]}}const $6={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function Rle(e,t){const n=(e??[]).slice(0,4).map(P6);if(n.length!==4||n.some(b=>b.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=R6(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(b=>L6(b)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},l=$6[r]??[],u=a[1];l.includes(u)&&(o..=!0,o..=!0);const f=a[2];l.includes(f)&&(o..=!0,o..=!0);const h=I6(i).,p=t[h]??0;return o..=p>=30,{flags:o,monthBranch:u,dayEl:i}}function B6(e,t){const n=(e??[]).slice(0,4).map(P6);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const S={:!1,:!1,:!1};return{flags:{:{...S},:{...S},:{...S},:{...S},:{...S},:{...S},:{...S},:{...S},:{...S},:{...S}},monthBranch:"",dayEl:""}}const r=R6(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(S=>L6(S)),o={:!1,:!1,:!1},l={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=$6[r]??[],f=a[1];u.includes(f)&&(l..=!0,l..=!0,l..=!0,l..=!0);const h=a[2];u.includes(h)&&(l..=!0,l..=!0,l..=!0,l..=!0);const p=I6(i).;return(t[p]??0)>=30&&(l..=!0,l..=!0,l..=!0,l..=!0),{flags:l,monthBranch:f,dayEl:i}}const Lle=Object.fromEntries(Object.entries(Bn).map(([e,t])=>[t,e])),Ile=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),$le=e=>Bn[e]??e,Ble=e=>Kn[e]??e;function zle(e){return!e||e.length<2?"":`${$le(e[0])}${Ble(e[1])}`}function Rc(e){return tP[e]??tP[Lle[e]??""]}function Lc(e){return nP[e]??nP[Ile[e]??""]}const l1=["year","month","day","hour"],Ule={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Fle={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},Hle=new Set(["","","","",""]),Gle=new Set(["","","","","",""]),qle=new Set(["","","",""]),c1=e=>Hle.has(e)?"":"",u1=e=>{const t=Gle.has(e)?"":"";return qle.has(e)?t===""?"":"":t};function rP(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.floor(l+.5)),i=100-r.reduce((l,u)=>l+u,0);if(i===0)return r;const a=n.map((l,u)=>({i:u,frac:l-Math.floor(l+.5)})).sort((l,u)=>u.frac-l.frac),o=r.slice();if(i>0)for(let l=0;l<i;l++)o[a[l].i]+=1;else for(let l=0;l<-i;l++)o[a[a.length-1-l].i]-=1;return o}function Yle(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const I0={:.15,:.1,:-.15,:-.2,:-.25},xs={:"",:"",:"",:"",:""},uu={:"",:"",:"",:"",:""},Ao={:"",:"",:"",:"",:""},Dv={:"",:"",:"",:"",:""};function $0(e,t){return e===t?"":xs[t]===e?"":xs[e]===t?"":Ao[e]===t?"":Ao[t]===e?"":""}const Ic=e=>e&&e.length>=1?e[0]:"",$c=e=>e&&e.length>=2?e[1]:"";function Kle(e,t){const n=e.reduce((u,f)=>u+f,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,f)=>u+f,0);const o=r.map((u,f)=>({i:f,frac:u-Math.floor(u)})).sort((u,f)=>f.frac-u.frac),l=i.slice();for(let u=0;u<o.length&&a>0;u++)l[o[u].i]+=1,a-=1;return l}function iP(e,t){switch(e){case"":return t;case"":return xs[t];case"":return Ao[t];case"":return Dv[t];case"":return uu[t];default:return t}}const aP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Wle=["","","","",""],Vle={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},oP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},Zle={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function Xle(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function Jle(e){const t=Wle.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...oP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...Vle},PerTenGodSub:{...oP},elementScoreRaw:e,deukFlags:{...Zle},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function Qle(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function Jk(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:l}=e,u=o==="modern"?Ule:Fle,f=r==="classic"?jle:Tle,h={:0,:0,:0,:0,:0},p={},b=(t??[]).slice(0,4).map(zle);if(!Xle(b))return Jle(h);const{dayStem:v,dayEl:S}=Qle(b,n),w=[{val:0},{val:0},{val:0},{val:0}],_=[[],[],[],[]];for(const B of b){if(!B)continue;const W=B.charAt(0),ie=B.charAt(1);p[W]=(p[W]??0)+50;const Q=aP[ie];Q&&(p[Q]=(p[Q]??0)+50)}for(let B=0;B<4;B++){const W=b[B];if(!W||W.length<2)continue;const ie=l1[B],Q=Ic(W),se=$c(W),he=u[ie],me=Rc(Q);me&&(h[me]+=he.stem,w[B]={stem:Q,el:me,pol:c1(Q),val:he.stem});const Se=Lc(se);Se&&(h[Se]+=he.branch,_[B].push({el:Se,pol:u1(se),val:he.branch}))}for(let B=0;B<4;B++){const W=b[B];if(!W||W.length<2)continue;const ie=l1[B],Q=f[W]??0;if(Q===0)continue;const se=Ic(W),he=Rc(se);if(!he)continue;const me=u[ie].stem*Q;h[he]+=me,w[B].val+=me}for(let B=0;B<4;B++){const W=b[B];if(!W||W.length<2)continue;const ie=$c(W),Q=Lc(ie);if(!Q)continue;const se=u[l1[B]].branch,he=u1(ie);let me=0;const Se=[B];B-1>=0&&Se.push(B-1),B+1<=3&&Se.push(B+1),B-2>=0&&Se.push(B-2),B+2<=3&&Se.push(B+2);const re=Array.from(new Set(Se));for(const Ee of re){if(!b[Ee]||b[Ee].length<2)continue;const je=Ic(b[Ee]),fe=Rc(je);if(!fe||fe!==Q)continue;const Je=c1(je)===he,Ke=Math.abs(Ee-B),Ne=Yle(Ke,Je);me+=se*Ne}me!==0&&(h[Q]+=me,_[B].push({el:Q,pol:he,val:me}))}for(let B=0;B<4;B++){const W=b[B];if(!W||W.length<2)continue;const ie=Ic(W),Q=Rc(ie);if(!Q)continue;let se=0;const he=$c(b[B]),me=Lc(he);me&&(se+=I0[$0(Q,me)]);const Se=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Ee of Se){const je=Ic(b[Ee]),fe=Rc(je);fe&&(se+=I0[$0(Q,fe)])}const re=w[B].val;if(re!==0&&se!==0){const Ee=Math.round(re*(1+se)*10)/10,je=Ee-re;h[Q]+=je,w[B].val=Ee}}for(let B=0;B<4;B++){const W=b[B];if(!W||W.length<2)continue;const ie=$c(W),Q=Lc(ie);if(!Q)continue;let se=0;const he=Ic(b[B]),me=Rc(he);me&&(se+=I0[$0(Q,me)]);const Se=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Ee of Se){if(!b[Ee]||b[Ee].length<2)continue;const je=$c(b[Ee]),fe=Lc(je);fe&&(se+=I0[$0(Q,fe)])}const re=_[B].reduce((Ee,je)=>Ee+je.val,0);if(re!==0&&se!==0){const je=Math.round(re*(1+se)*10)/10-re;h[Q]+=je,_[B].length>0&&(_[B][0].val+=je)}}a&&lie(b,h);const T={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},N=[];if(!(!l||l.tab==="")){let B=function(W,ie){const Q=W?Re(W):"";if(!Q||Q.length<2)return;const se=Ic(Q),he=$c(Q),me=Rc(se),Se=Lc(he),re=Math.max(1,(h.??0)+(h.??0)+(h.??0)+(h.??0)+(h.??0)),Ee=T[ie];if(me){const je=Math.round(re*Ee.stem);h[me]+=je,N.push({stem:se,el:me,pol:c1(se),val:je})}if(Se){const je=Math.round(re*Ee.branch);h[Se]+=je,N.push({el:Se,pol:u1(he),val:je})}};B(l.dae,"dae"),(l.tab===""||l.tab===""||l.tab==="")&&B(l.se,"se"),(l.tab===""||l.tab==="")&&B(l.wol,"wol"),l.tab===""&&B(l.il,"il")}const j={:0,:0,:0,:0,:0};Object.entries(h).forEach(([B,W])=>{const ie=Y(B,S);j[ie]+=W});const C=["","","","",""],D=rP(C.map(B=>j[B])),P=C6(v),$=C.map((B,W)=>({name:B,value:D[W],color:P[B]})),F={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function Y(B,W){return B===W?"":xs[W]===B?"":Ao[W]===B?"":Ao[B]===W?"":uu[W]===B?"":""}function K(B,W){switch(Y(B,S)){case"":F.+=W*.5,F.+=W*.5;break;case"":F.+=W*.5,F.+=W*.5;break;case"":F.+=W*.5,F.+=W*.5;break;case"":F.+=W*.5,F.+=W*.5;break;case"":F.+=W*.5,F.+=W*.5;break}}Object.entries(h).forEach(([B,W])=>{W>0&&K(B,W)});const H={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const B of C){const W=$.find(Se=>Se.name===B)?.value??0,ie=H[B].a,Q=H[B].b,se=F[ie]??0,he=F[Q]??0,me=se+he;if(me>0){const Se=Math.floor(W*se/me+.5),re=W-Se;H[B].aVal=Se,H[B].bVal=re}else H[B].aVal=Math.floor(W/2+.5),H[B].bVal=W-H[B].aVal}const{flags:z}=Rle(b,h),V={};w.forEach(B=>{if(B.stem&&B.el&&B.val){const W=`${B.stem}${B.el}`;V[W]=(V[W]??0)+B.val}});for(let B=0;B<4;B++){const W=b[B];if(!W||W.length<2)continue;const ie=$c(W),Q=aP[ie],se=Lc(ie);if(!Q||!se)continue;const he=`${Q}${se}`,me=_[B].reduce((Se,re)=>Se+re.val,0);V[he]=(V[he]??0)+me}const Z=["","","","","","","","","",""],X={};Z.forEach(B=>{X[B]=0}),C.forEach(B=>{const W=$.find(re=>re.name===B)?.value??0,ie=iP(B,S),Q=Object.entries(V).filter(([re])=>re.endsWith(ie)),se=Q.map(([re])=>re),he=Q.map(([,re])=>re),me=Math.max(0,Math.round(W*10)),Se=Kle(he.length?he:[1,1],me);if(se.length===2)X[se[0]]=(Se[0]??Math.round(me/2))/10,X[se[1]]=(Se[1]??me-(Se[0]??0))/10;else if(se.length===1)X[se[0]]=me/10;else{const re=ie===""?["",""]:ie===""?["",""]:ie===""?["",""]:ie===""?["",""]:["",""],Ee=Math.floor(me/2),je=me-Ee;X[re[0]]+=Ee/10,X[re[1]]+=je/10}});const q=["","","","",""],J={:0,:0,:0,:0,:0};for(const B of $){const W=iP(B.name,S);J[W]+=B.value}const ne=rP(q.map(B=>J[B])),de={:ne[0],:ne[1],:ne[2],:ne[3],:ne[4]};return i&&console.log({elementScore:h,totals:$,perTenGod:H,perStemRaw:V,perStemElementScaled:X,elementPercent100:de}),{overlay:{totalsSub:F,perStemAugBare:V,perStemAugFull:X},totals:$,perTenGod:H,PerTenGodSub:F,stemScoreRaw:p,elementScoreRaw:h,deukFlags:z,perStemElement:V,perStemElementScaled:X,elementPercent100:de}}const B0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ece=["","","","",""];function sP(e){return ece.includes(e)}const tce={:"",:"",:"",:"",:""},nce={:"",:"",:"",:"",:""},rce={:"",:"",:"",:"",:""},ice={:"",:"",:"",:"",:""},Qk={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ace=["","","","","","","","","",""],oce={natal:50,dae:30,se:20,wol:7,il:3};function uy(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Bn[t])return Bn[t];if(["","","","","","","","","","","",""].includes(t))return B0[t]??null;if(Kn[t])return B0[Kn[t]]??null;const n=t.charAt(0);return Bn[n]?Bn[n]:["","","","","","","","","",""].includes(n)?n:Kn[n]?B0[Kn[n]]??null:["","","","","","","","","","","",""].includes(n)?B0[n]??null:null}function sce(e,t){const n=Qk[e],r=Qk[t];if(!n||!r)return"";let i;r===n?i="":r===tce[n]?i="":r===nce[n]?i="":r===rce[n]?i="":r===ice[n]?i="":i="";const a=sP(e)===sP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function dy(e){const t=Object.entries(e),n=t.reduce((f,[,h])=>f+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,h])=>[f,(h>0?h:0)*100/n]),i=r.map(([f,h])=>[f,Math.round(h)]);let a=i.reduce((f,[,h])=>f+h,0);const o=r.map(([f,h])=>[f,h-Math.round(h)]).sort((f,h)=>h[1]-f[1]),l=Object.fromEntries(i.map(([f,h])=>[f,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function lP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=uy(r);if(!a)continue;const o=sce(t,a);n[o]+=i}return dy(n)}function lce(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function cP(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=uy(n);i&&(t[i]=(t[i]??0)+r)}return t}function uP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of ace){const i=Qk[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function dP(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function cce(e,t){const n=t?.dae?z0(t.dae):{},r=t?.se?z0(t.se):{},i=t?.wol?z0(t.wol):{},a=t?.il?z0(t.il):{},o={},l=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:f,bare:h}of l){const p=oce[f];if(!h||Object.keys(h).length===0)continue;const b=dy(h);for(const[v,S]of Object.entries(b))o[v]=(o[v]??0)+S*p}const u=Object.values(o).reduce((f,h)=>f+h,0);if(u>0)for(const f of Object.keys(o))o[f]=o[f]/u*100;return o}function uce(e){if(!e)return[];const t=uy(e.charAt(0)),n=uy(e.charAt(1));return[t,n].filter(Boolean)}function z0(e){const t=uce(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Pv(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Re(t[0]??""),Re(t[1]??""),Re(t[2]??""),Re(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:l,hiddenStem:u}=Qc,f=l==="classic"?"classic":"hgc",h=r?{tab:n,dae:r.dae?Re(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Re(r.se):void 0,wol:(n===""||n==="")&&r.wol?Re(r.wol):void 0,il:n===""&&r.il?Re(r.il):void 0}:{tab:n},p=Jk({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:h}),b=Jk({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),v=cP(p.perStemElementScaled),S=n===""?v:cce(v,r),w=dy(S),_=lP(S,o),T=lce(_),N=uP(w),j=cP(b.perStemElementScaled),C=lP(j,o),D=dy(j),P=uP(D);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:w,perTenGodSub:_,perTenGod:T,overlay:{totalsSub:_,perStemAugBare:S,perStemAugFull:N},natalFixed:{elementScoreRaw:dP(b.elementScoreRaw),elementPercent100:dP(b.elementPercent100),totalsSub:C,overlay:{totalsSub:C,perStemAugBare:j,perStemAugFull:P}}}}const bo=["","","","",""],Ll={:0,:0,:0,:0,:0},dce=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],fce={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},d1=24,hce=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],fy=20;Object.fromEntries(Object.entries(Bn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e]));const z6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},mce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function U6(e){return Math.max(0,Math.min(100,e))}function Vd(e,t,n){return Math.max(t,Math.min(n,e))}function pce(e){const t=U6(e);return dce.find(n=>t>=n.min&&t<n.max)?.name??""}function gce(e){const t=e?.[2]?.charAt(0)??"";return z6[t]??null}function bce(e){return(e?.[1]?.charAt(1)??"")||null}function F6(e){return Dv[e]}function yce(e){return e?{peer:e,resource:uu[e],leak:xs[e],wealth:Ao[e],officer:F6(e)}:null}function vce(e){const t={...Ll};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=z6[r],o=mce[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function xce(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...Ll};return bo.forEach(r=>{n[r]=e[r]/t*100}),n}function _ce(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return U6((n("")+n(""))/t*100)}function wce(e,t){return!e||!t?null:t===e?"":xs[e]===t?"":Ao[e]===t?"":F6(e)===t?"":uu[e]===t?"":null}function Sce(e){for(const[t,n]of hce)if(e>=t)return n;return 1}const fP=(e,t)=>Vd((fy-(t[e]??0))/fy,0,1),hP=(e,t)=>Vd(((t[e]??0)-fy)/fy,0,1);function kce(e,t,n,r){const i=wce(e,n);if(!e||!i)return 0;const a=Vd((50-t)/50,0,1),o=Vd((t-50)/50,0,1),l=fP(n,r),u=hP(n,r),f=fP(e,r),h=hP(e,r),p=6.5;let b=0;if(a>0)switch(i){case"":b=+(.3+.4*f+.15*l)*a;break;case"":b=+(.18+.45*f)*a;break;case"":b=-(.08+.2*(1-l)+.1*h)*a;break;case"":b=-(.22+.25*(1-l)+.1*(1-f))*a;break;case"":b=-(.35+.25*(1-l)+.1*(1-f))*a;break}else if(o>0)switch(i){case"":b=-(.25+.25*(1-l)+.2*h)*o;break;case"":b=-(.28+.2*h)*o;break;case"":b=+(.18+.2*l+.15*h)*o;break;case"":b=+(.22+.25*l+.1*h)*o;break;case"":b=+(.2+.2*l)*o;break}else switch(i){case"":b=.08*(f+l);break;case"":b=.05*f-.03*h;break;case"":b=.02*l-.02*u;break;case"":b=.01*l-.06*u;break;case"":b=-.05*(1-l);break}return Math.round(p*b*10)/10}function Ece(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...Ll};if(r){const o=xs[e],l=Ao[e],u=Dv[e];a[o]+=28,a[l]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(l)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=uu[e],l=e;a[o]+=28,a[l]+=22,n.get(o)?.push(":     "),n.get(l)?.push(":     ")}return a}function mP(e,t){if(!e)return{...Ll};const n=fce[e]??{temp:"mild",wet:"normal"},r={...Ll};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function pP(e,t){const n={...Ll};for(const r of bo){const i=Ao[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=xs[r],l=Math.round(a*.35);l>0&&(n[o]+=l,t.get(o)?.push(`: ${r}${i} `))}return n}function gP(e,t){const n={...Ll},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const U0=()=>new Map(bo.map(e=>[e,[]]));function Zd(e,t){const n=gce(e),r=bce(e),i=vce(e),a=xce(i);let o=_ce(t);if(o==null)if(!n)o=50;else{const H=n,z=uu[n],V=Object.values(i).reduce((Z,X)=>Z+X,0)||1;o=Math.min(100,Math.max(0,((i[H]??0)+(i[z]??0))/V*100))}const l=pce(o),u={...Ll},f=U0();if(n){const H=Ece(n,l,f);bo.forEach(z=>{u[z]+=H[z]??0})}const h=mP(r,f);bo.forEach(H=>{u[H]+=h[H]??0});const p=pP(i,f);bo.forEach(H=>{u[H]+=p[H]??0});const b=gP(i,f);bo.forEach(H=>{u[H]+=b[H]??0});const v=yce(n),S={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const H of t)S[H.name]=H.value;if(o>=45&&o<=55&&v){const H=S.>=30||S.>=Math.max(S.,S.,S.,S.)+5;o<=50?(u[v.resource]+=14,f.get(v.resource)?.push(": -"),u[v.peer]+=10,f.get(v.peer)?.push(": -"),u[v.leak]+=6,f.get(v.leak)?.push(": -"),u[v.wealth]+=3,f.get(v.wealth)?.push(": -"),H&&(u[v.officer]=Math.round(u[v.officer]*.8*10)/10,f.get(v.officer)?.push(":   "))):(u[v.leak]+=14,f.get(v.leak)?.push(": -"),u[v.wealth]+=10,f.get(v.wealth)?.push(": -"),u[v.officer]+=6,f.get(v.officer)?.push(": -"),u[v.resource]+=3,f.get(v.resource)?.push(": -"))}bo.forEach(H=>{const z=kce(n,o,H,a);u[H]=Vd(Math.round((u[H]+z)*10)/10,0,999)});const _=o<50;bo.forEach(H=>{const z=a[H]??0,V=_&&n===H;if(z>=d1&&!V){const Z=Sce(z);u[H]=Math.round(u[H]*Z*10)/10;const X=Math.min(14,Math.max(0,Math.ceil((z-d1)*.5)));X>0&&(u[H]=Vd(u[H]-X,0,999)),f.get(H)?.push(" ()")}});const T={:[],:[],:[],:[],:[]};if(n){const H=xs[n],z=Ao[n],V=Dv[n],Z=n,X=uu[n];T[H].push(""),T[z].push(""),T[V].push(""),T[Z].push(""),T[X].push("")}const N={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},j=H=>{const z=a[H]??0;return z>=d1&&!(_&&n===H)?z>=55?4:z>=45?3:2:N[H]?0:1},C=mP(r,U0()),D=pP(i,U0()),P=gP(i,U0()),$=bo.map(H=>({element:H,score:Math.round(u[H]*10)/10,via:Ace(H,C,D,P),reasons:(f.get(H)??[]).slice(),tenGodHints:T[H]})).sort((H,z)=>{const V=j(H.element),Z=j(z.element);return V!==Z?V-Z:z.score!==H.score?z.score-H.score:H.element.localeCompare(z.element)}),F=Tce(l,C,D,P),Y={:0,:0,:0,:0,:0},K=t?t.reduce((H,z)=>(H[z.name]=z.value,H),{...Y}):void 0;return{chosenType:F,ordered:$,debug:{band:l,overallPct:o,elementScore:i,tenGodTotals:K,monthBranch:r??void 0}}}function Ace(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Tce(e,t,n,r){if(["","","",""].includes(e))return"";const a=f=>Object.values(f).reduce((h,p)=>h+p,0),o=a(t),l=a(n),u=a(r);return o>Math.max(l,u)?"":l>=u?"":""}function jce(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.round(l));let a=100-r.reduce((l,u)=>l+u,0);const o=n.map((l,u)=>({i:u,f:l-Math.round(l)})).sort((l,u)=>u.f-l.f);for(let l=0;l<o.length&&a>0;l++)r[o[l].i]+=1,a-=1;return r}const bP=["","","","",""];function Oce(e,t){const n=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],{elementScoreRaw:r}=Jk({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=bP.map(l=>r[l]??0),a=jce(i),o={:0,:0,:0,:0,:0};return bP.forEach((l,u)=>{o[l]=a[u]}),o}function H6(e,t){const n=Oce(e,t),r=Re(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},l=n[a]??0,u=n[o[a]]??0;return l+u*.7}const Xd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},G6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},F0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Nce=["","","","",""];function yP(e){return Nce.includes(e)}const Cce={:"",:"",:"",:"",:""},Mce={:"",:"",:"",:"",:""},Dce={:"",:"",:"",:"",:""},Pce={:"",:"",:"",:"",:""};function Im(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Bn[t])return Bn[t];if(["","","","","","","","","","","",""].includes(t))return F0[t]??null;if(Kn[t])return F0[Kn[t]]??null;const n=t.charAt(0);return Bn[n]?Bn[n]:["","","","","","","","","",""].includes(n)?n:Kn[n]?F0[Kn[n]]??null:["","","","","","","","","","","",""].includes(n)?F0[n]??null:null}function Rce(e,t){const n=Xd[e],r=Xd[t];if(!n||!r)return"";let i;r===n?i="":r===Cce[n]?i="":r===Mce[n]?i="":r===Dce[n]?i="":r===Pce[n]?i="":i="";const a=yP(e)===yP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Lce(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function Rv(e){const t=Object.entries(e),n=t.reduce((f,[,h])=>f+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,h])=>[f,(h>0?h:0)*100/n]),i=r.map(([f,h])=>[f,Math.floor(h)]);let a=i.reduce((f,[,h])=>f+h,0);const o=r.map(([f,h])=>[f,h-Math.floor(h)]).sort((f,h)=>h[1]-f[1]),l=Object.fromEntries(i.map(([f,h])=>[f,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function Ice(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=Xd[Im(n)];i&&r>0&&(t[i]+=r)}return Rv(t)}function $ce(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Im(r);if(!a)continue;const o=Rce(t,a);n[o]+=i}return n}function Bce(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Lce(n);t[i]+=r}return Rv(t)}function vP(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function q6(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=Xd[i.charAt(0)];if(a&&(r[a]=!0),n){const o=G6[i.charAt(1)];o&&(r[o]=!0)}}return r}function Y6(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=Xd[n.charAt(0)],i=G6[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function f1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const zce=["","","","","","","","","",""];function Uce(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Im(n);i&&(t[i]=(t[i]??0)+r)}return t}function Fce(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of zce){const i=Xd[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const Hce={natal:50,dae:30,se:20,wol:7,il:3};function Gce(e){const t={};for(const{kind:r,bare:i}of e){const a=Hce[r]??0;if(a<=0)continue;const o=Rv(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function qce(e){if(!e)return[];const t=Im(e.charAt(0)),n=Im(e.charAt(1));return[t,n].filter(Boolean)}function H0(e){const t=qce(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const eE=["","","","",""];function Yce(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function Kce(e,t){const n=eE.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),l=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:l}}function TA(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function Wce(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function xP(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function Vce(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,l=e[a]??0;if(o<20||l<20)continue;let u=null,f=null;if(xP(i)===a)u=i,f=a;else if(xP(a)===i)u=a,f=i;else continue;const h=Wce(u),p=`${u}()${f}    ${h}( )`;r.push({a:i,b:a,controller:u,controlled:f,mediator:h,reason:p})}return r}function jA(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function Gh(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":    0"]}):e}function qh(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,l=r(a.elNorm)?1:0;if(o!==l)return l-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function Zce(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),l=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:l.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(f=>({element:f.el,elNorm:f.el,score:jA(f.base,t[f.el]??0),reasons:[f.why,` ${f.el}  ${Math.round(t[f.el]??0)}%`]}))}function Xce(e){const t=Vce(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,l=Math.min(a,o),u=95+Math.round(l/2),f=n.get(i.mediator),h=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];f?n.set(i.mediator,{score:Math.max(f.score,u),reasons:[...f.reasons,...h]}):n.set(i.mediator,{score:u,reasons:h})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:jA(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function Jce(e,t){let n="",r=e.??0;for(const f of eE){const h=e[f]??0;h<r&&(r=h,n=f)}const i=eE.some(f=>!t[f]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const l=jA((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:l,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function OA(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,l=qh(Gh(t,i,a),i,a),u=qh(Gh(Zce(n,r),i,a),i,a),f=Yce(n),h=Kce(r,i),p=f==="WINTER"||f==="SUMMER"?.85:.55,b=1.25,v=Xce(r),S=qh(Gh(v.items,i,a),i,a),w=Jce(r,i),_=qh(Gh(w.items,i,a),i,a),T=Array.isArray(o)?o:[],N=T.length>0,j=qh(Gh(T,i,a),i,a),C=z=>Math.max(0,...z.map(V=>Number.isFinite(V.score)?V.score:0)),P=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:b,applicable:l.length>0,note:"1.  /()  ",candidates:l},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:f==="WINTER"?"2. ()   ":f==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:v.applicable,note:v.note,candidates:S},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:w.applicable,note:w.note,candidates:_},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:N,note:N?"/     ( )":"  (//  )",candidates:j}].map(z=>{const V=C(z.candidates),Z=z.candidates[0];let X=0;if(z.applicable&&Z){if(X=Z.score*z.weight,z.kind==="EOKBU"&&!h.balancedPresent){const q=Math.min(35,Math.round(h.spread*.9));X+=q}z.kind==="EOKBU"&&h.balancedPresent&&(X*=.75),Z.elNorm&&!i[Z.elNorm]&&(X*=.25)}return{...z,maxScore:V,fitScore:Math.round(X),finalScore:Math.round(X)}}).sort((z,V)=>z.priority-V.priority),$=[...P].filter(z=>z.applicable&&z.candidates.length>0).sort((z,V)=>V.fitScore!==z.fitScore?V.fitScore-z.fitScore:z.priority-V.priority)[0],F=Math.max(0,...P.map(z=>z.fitScore)),Y=$?.kind??null,K=P.map(z=>{if(!Y)return z;if(z.kind===Y){const V=z.fitScore<F?F+1:z.fitScore;return{...z,finalScore:V}}return{...z,finalScore:z.fitScore}}),H=Y?K.find(z=>z.kind===Y)??null:null;return{bestKind:Y,best:H,groups:K}}const Qce={:"",:"",:"",:"",:""},eue={:"",:"",:"",:"",:""},tue={:"",:"",:"",:"",:""},nue={:"",:"",:"",:"",:""};function h1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function rue(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function iue(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function aue(e,t){switch(t){case"":return e;case"":return Qce[e];case"":return tue[e];case"":return nue[e];case"":return eue[e]}}function oue(e,t){const n=new Map,r=(u,f,h)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:f,reasons:[h]});return}p.score=Math.max(p.score,f),p.reasons=p.reasons.includes(h)?p.reasons:[...p.reasons,h]},i=h1(t),a=rue(e.);if(i&&a){const u=iue(a),f=aue(i,u);r(f,92,` ${e.}  ${u} (${f})`)}const o=h1(e.);o&&r(o,86,` ${e.}  (${o})`);const l=h1(e.);return l&&r(l,70,` ${e.}  (${l})`),Array.from(n.values()).sort((u,f)=>f.score-u.score)}const Yh=e=>e&&e.length>=1?e.charAt(0):"",G0=e=>e&&e.length>=2?e.charAt(1):"";function sue(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function lue({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:l,monthGZ:u,dayGZ:f}=fi(),h=k.useMemo(()=>Re(l),[l]),p=k.useMemo(()=>Re(u),[u]),b=k.useMemo(()=>Re(f),[f]),v=vu(e,e?.mingSikType),S=k.useMemo(()=>{if(!v?.length)return 0;const Ne=v.findIndex((Ie,We)=>{const Oe=v[We+1]?.at;return o>=Ie.at&&(!Oe||o<Oe)});return Ne!==-1?Ne:o<v[0].at?0:v.length-1},[v,o]),w=k.useMemo(()=>{const Ne=r??v?.[S]?.gz??"";return Re(Ne)||null},[r,v,S]),{manualHour:_}=sp(),T=e.mingSikType??"/",N=k.useMemo(()=>vP(t),[t]),j=k.useMemo(()=>vP(n),[n]),C=k.useMemo(()=>{const Ne=[...N];return(!Ne[3]||Ne[3]===""||Ne[3]==="--")&&_&&(Ne[3]=_.stem+_.branch),Ne},[N,_]),D=k.useMemo(()=>{const Ne=[...j];return(!Ne[3]||Ne[3]===""||Ne[3]==="--")&&_&&(Ne[3]=_.stem+_.branch),Ne},[j,_]),P=k.useMemo(()=>{const Ne=Number(e.birthDay?.slice(0,4)),Ie=Number(e.birthDay?.slice(4,6)),We=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(Ne)||!Number.isFinite(Ie)||!Number.isFinite(We))return null;const Oe=new Date(Ne,Ie-1,We,12,0,0,0),De=Re(at(Oe)||""),Be=Re(_t(Oe)||""),lt=Re(ft(Oe,T)||"");return[De,Be,lt,""]},[e.birthDay,T]),$=f1(C),F=f1(D),K=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?F?"lunar":$?"solar":"lunar":$?"solar":F?"lunar":"solar",H=k.useMemo(()=>{const Ie=[...K==="lunar"?F?D:$?C:P??["","","",""]:$?C:F?D:P??["","","",""]];return(!Ie[3]||Ie[3]===""||Ie[3]==="--")&&_&&(Ie[3]=_.stem+_.branch),Ie[3]==="--"&&(Ie[3]=""),Ie},[K,$,F,C,D,P,_]),z=k.useMemo(()=>Yh(H[2]??""),[H]),V=k.useMemo(()=>G0(H[1]??""),[H]),Z=k.useMemo(()=>sue(e.birthDay),[e.birthDay]),X=k.useMemo(()=>_?_.stem+_.branch:H[3]||"",[_,H]),q=k.useMemo(()=>({dae:i!==""?w??null:null,se:i===""||i===""||i===""?h??null:null,wol:i===""||i===""?p??null:null,il:i===""?b??null:null}),[i,w,h,p,b]),J=k.useMemo(()=>Pv({natal:H,tab:i,chain:q,hourKey:X}),[H,i,q,X]),ne=k.useMemo(()=>{if(!J)return null;const Ne=Uce(J.perStemElementScaled),Ie=q.dae?H0(q.dae):{},We=q.se?H0(q.se):{},Oe=q.wol?H0(q.wol):{},De=q.il?H0(q.il):{},Be=Gce([{kind:"natal",bare:Ne},{kind:"dae",bare:Ie},{kind:"se",bare:We},{kind:"wol",bare:Oe},{kind:"il",bare:De}]),lt=Rv(Be),ue=Fce(lt),Ce=$ce(Be,J.dayStem),$e=Bce(Ce),it=Ice(Be);return{perStemAugBare:Be,perStemAugFull:ue,elemPct100:it,totalsMain:$e,totalsSub:Ce}},[J,q]),de=k.useMemo(()=>q6(H,{includeBranches:!0}),[H]),oe=k.useMemo(()=>["","","","",""].some(Ne=>!de[Ne]),[de]),B=ne?.elemPct100??J?.elementPercent100??Y6(H),W=k.useMemo(()=>{if(!J||!ne)return[];const Ne=C6(J.dayStem);return Object.entries(ne.totalsMain).map(([Ie,We])=>({name:Ie,value:We,color:Ne[Ie]}))},[J,ne]),ie=ne?.elemPct100??{:0,:0,:0,:0,:0},Q=ne?.totalsSub??null,se=k.useMemo(()=>[i,w??"",h??"",p??"",b??"",o?.toISOString?.()??"",X].join("|"),[i,w,h,p,b,o,X]),he=k.useMemo(()=>{const Ne=Q?Object.entries(Q).sort(([We],[Oe])=>We.localeCompare(Oe)).map(([We,Oe])=>`${We}:${Oe}`).join(","):"none",Ie=W.map(We=>`${We.name}:${We.value}`).join(",");return`${se}||${H.join("")}||${Ie}||${Ne}`},[se,H,W,Q]),me=typeof Zd=="function"?Zd(H,J?.totals):null,Se=k.useMemo(()=>(me?.ordered??[]).map(Ie=>{const We=Ie.element??"",Oe=/||wood/i.test(We)?"":/||fire/i.test(We)?"":/||earth/i.test(We)?"":/||metal/i.test(We)?"":/||water/i.test(We)?"":null,De=typeof Ie.score=="number"?Ie.score:Oe?B[Oe]??0:0,Be=Array.isArray(Ie.reasons)?Ie.reasons:[];return{element:We,elNorm:Oe,score:De,reasons:Be}}),[me,B]),re=k.useMemo(()=>Se.map(Ne=>({element:Ne.element,elNorm:Ne.elNorm,score:Ne.score,reasons:Ne.reasons})),[Se]),Ee=k.useMemo(()=>{if(!z||!V)return[];const[Ne,Ie,We,Oe]=H,De=[Yh(Ne),Yh(Ie),Yh(We),Yh(Oe)].filter(Boolean),Be=[G0(Ne),G0(We),G0(Oe)].filter(Boolean),lt=O6({dayStem:z,monthBranch:V,date:Z,pillars:H,emittedStems:De,otherBranches:Be}),ue=oue(lt,z),Ce=$e=>/||wood/i.test($e)?"":/||fire/i.test($e)?"":/||earth/i.test($e)?"":/||metal/i.test($e)?"":/||water/i.test($e)?"":null;return(ue??[]).map($e=>({element:$e.element,elNorm:Ce($e.element),score:Number.isFinite($e.score)?$e.score:0,reasons:Array.isArray($e.reasons)?$e.reasons:[]}))},[H,z,V,Z]),je=k.useMemo(()=>{const Ne=H[1]||"";return OA({eokbuList:re,monthGz:Ne,elemPct:B,presentMap:de,demoteAbsent:a,gyeokgukList:Ee})},[H,re,B,de,a,Ee]),fe=k.useMemo(()=>{const Ne=je.best;return Ne?.candidates?.length?Ne.candidates.map(Ie=>({element:Ie.element,elNorm:Ie.elNorm,score:Ie.score,reasons:Ie.reasons})):Se},[je,Se]),Je=k.useMemo(()=>Math.max(0,...fe.map(Ne=>Number.isFinite(Ne.score)?Ne.score:0)),[fe]),Ke=k.useMemo(()=>H6(H,{criteriaMode:"modern",useHarmonyOverlay:!0}),[H]);return{seGz:h,wolGz:p,ilGz:b,daewoonGz:w,activePillars:H,chain:q,unified:J,overlay:ne,chartData:W,elementPct:ie,tenSubTotals100:Q,hourKeyForUi:X,revKey:he,yongshinMulti:je,yongshinRecommend:je,yongshinList:fe,maxScore:Je,hasAbsent:oe,dayElementPercent:Ke,isValidActive:f1(H)}}function cue(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function uue(e){const t=new Date(e,1,15,12,0,0,0);return Re(at(t)||"")}function due(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=TA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const fue={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function hy(e){return fue[e]??null}function hue(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=EA(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",l=hy(a);if(l&&(n[l]=!0),kA(o)){const u=r[o],f=[u.,u.,u.].filter(Boolean);for(const h of f){const p=hy(h.stem);p&&h.w>0&&(n[p]=!0)}}}return n}function mue(e,t){const n=EA(t),r={:0,:0,:0,:0,:0};for(const o of e){const l=o?.charAt(0)??"",u=o?.charAt(1)??"",f=hy(l);if(f&&(r[f]+=50),kA(u)){const h=n[u],p=[h.,h.,h.].filter(Boolean),b=p.reduce((S,w)=>S+(Number.isFinite(w.w)?w.w:0),0),v=b>0?b:1;for(const S of p){const w=hy(S.stem);w&&(r[w]+=50*S.w/v)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function pue(e,t,n){return e||mue(t,n)}function gue(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,l=k.useMemo(()=>A6(o),[o]),u=vu(t,t?.mingSikType),f=k.useMemo(()=>Array.isArray(u)?u.filter(cue).slice(0,10):[],[u]),[h,p]=k.useState(0),[b,v]=k.useState(0),S=Math.max(0,Math.min(f.length-1,h)),w=f[S]??null,_=k.useMemo(()=>{if(!w)return[];const Y=w.at.getFullYear();return Array.from({length:10},(K,H)=>{const z=Y+H;return{year:z,gz:uue(z)}})},[w]),T=b==null?null:Math.max(0,Math.min(_.length-1,b)),N=T==null?null:_[T]??null,j=k.useMemo(()=>hue(n,l),[n,l]),C=k.useMemo(()=>["","","","",""].some(Y=>!j[Y]),[j]),D=k.useMemo(()=>{const Y=w?Re(w.gz):null,K=N?Re(N.gz):null;return{dae:Y||null,se:K||null,wol:null,il:null}},[w,N]),P=k.useMemo(()=>D.se?"":"",[D.se]),$=k.useMemo(()=>{const Y=w?`${w.at.getFullYear()}~ ${Re(w.gz)}`:" -",K=N?` / ${N.year} ${Re(N.gz)}`:"";return`${Y}${K}`},[w,N]),F=k.useMemo(()=>{if(!w)return null;const Y=Pv({natal:n,tab:P,chain:D,hourKey:r}),K=pue(Y?.elementPercent100,n,l),H=typeof Zd=="function"?Zd(n,Y?.totals):null,z=due(H,K);return OA({eokbuList:z,monthGz:n[1]||"",elemPct:K,presentMap:j,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[w,n,P,D,r,j,i,a,l]);return{daeIndex:S,setDaeIndex:p,seIndex:T,setSeIndex:v,dae10:f,se10:_,chain:D,tab:P,label:$,recommend:F,presentMap:j,hasAbsent:C}}const bue={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function tE(e){return e?bue[e]??e:""}function yue(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function vue(e){const t=new Date(e,1,15,12,0,0,0);return Re(at(t)||"")}function m1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?TA(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,l=r&&i?`${tE(r)}:${i}`:r?`${tE(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:l,result:e}}function xue(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=TA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function _P(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:l}=e,u=Pv({natal:t,tab:i,chain:r,hourKey:n}),f=u?.elementPercent100??Y6(t),h=typeof Zd=="function"?Zd(t,u?.totals):null,p=xue(h,f);return OA({eokbuList:p,monthGz:t[1]||"",elemPct:f,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(l)?l:null})}function _ue(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const yo=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=g.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?g.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function wP({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?g.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(yo,{text:`: ${tE(t.kind)}`,tone:"pick"}),g.jsx(yo,{text:` ${t.fitScore}`}),n[0]?.element?g.jsx(yo,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?g.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>g.jsx("li",{className:"text-xs",children:g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(yo,{text:`${i+1} ${r.element}`}),g.jsx(yo,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>g.jsx(yo,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function wue(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=k.useMemo(()=>q6(n,{includeBranches:!0}),[n]),l=vu(t,t?.mingSikType),u=k.useMemo(()=>Array.isArray(l)?l.filter(yue).slice(0,10):[],[l]),f=k.useMemo(()=>m1(a),[a]),[h,p]=k.useState(null),b=w=>p(_=>_===w?null:w),v=k.useMemo(()=>u.map((w,_)=>{const T=Re(w.gz)||"",j=_P({pillars:n,hourKey:r,chain:{dae:T||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),C=m1(j),D=w.at.getFullYear(),P=Array.from({length:10},(H,z)=>{const V=D+z,Z=vue(V),q=_P({pillars:n,hourKey:r,chain:{dae:T||null,se:Z||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),J=m1(q);return{year:V,snap:J}}),F=_ue(P).filter(H=>H.snap.top1ElNorm!==C.top1ElNorm),Y=C.top1ElNorm!==f.top1ElNorm,K=Y||F.length>0;return{idx:_,dae:w,daeLabel:`${D}~ ${T||""}`,daeSnap:C,daeDiffFromNatal:Y,segDiffOnly:F,hasAnyChange:K}}).filter(w=>w.hasAnyChange),[u,n,r,i,o,f.top1ElNorm]),S=k.useMemo(()=>v.some(w=>w.hasAnyChange),[v]);return g.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  "}),g.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",f.label," /  ",f.fit]})]}),S?g.jsx("div",{className:"space-y-3",children:v.map(w=>{const _=`dae:${w.idx}`,T=h===_;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(yo,{text:` ${w.daeLabel}`,tone:"base"}),g.jsx(yo,{text:` ${w.daeSnap.label} ( ${w.daeSnap.fit})`,tone:w.daeDiffFromNatal?"diff":"base",onClick:()=>b(_),title:" (top3) "}),w.daeDiffFromNatal?g.jsx(yo,{text:" ",tone:"diff"}):null]}),w.segDiffOnly.length?g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.segDiffOnly.map((N,j)=>{const C=`seg:${w.idx}:${j}`,D=h===C,P=N.fromYear===N.toYear?`${N.fromYear}`:`${N.fromYear}~${N.toYear}`;return g.jsxs("div",{className:"inline-flex flex-col",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx(yo,{text:` ${P}  ${N.snap.label} ( ${N.snap.fit})`,tone:"diff",onClick:()=>b(C),title:" (top3) "})}),D?g.jsx(wP,{snap:N.snap}):null]},C)})}):null,T?g.jsx(wP,{snap:w.daeSnap}):null]},_)})}):g.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}function Sue(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(2,Math.min(100,n))}%`}function kue(e){return e.slice(0,3)}const xm=({text:e,tone:t="base"})=>{const n=t==="best"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300";return g.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full border border-transparent ${n}`,children:e})};function Eue({g:e,isBest:t}){const n=kue(e.candidates);return g.jsxs("details",{open:t,className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[g.jsx("summary",{className:"list-none cursor-pointer px-3 py-2 flex flex-col gap-2",children:g.jsxs("div",{className:"flex flex-wrap items-start gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[e.marker," ",e.title]}),g.jsx("span",{className:"max-w-[62%] text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:e.note}),!e.applicable&&g.jsx(xm,{text:" "}),t&&g.jsx(xm,{text:" ",tone:"best"}),g.jsx(xm,{text:` ${e.fitScore}`})]})}),g.jsx("div",{className:"px-3 pb-3 pt-1",children:n.length===0?g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}):g.jsx("ul",{className:"space-y-2",children:n.map((r,i)=>g.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[i+1,""]}),g.jsx("span",{className:"text-sm font-semibold",children:r.element})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:g.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:Sue(r.score??0,e.maxScore)},title:` ${r.score}`})}),g.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(r.reasons??[]).slice(0,6).map((a,o)=>g.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:a},o))})]})]},`${e.kind}-${r.elNorm??r.element}-${i}`))})})]})}function Aue({best:e}){const t=e?.candidates?.[0]??null;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 p-3 bg-white/60 dark:bg-neutral-950/20",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:" "}),g.jsx("div",{className:"text-sm font-semibold",children:e?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"mr-1",children:e.marker}),e.title]}):""}),t?.element?g.jsx(xm,{text:`1: ${t.element}`}):null,e?.fitScore!=null?g.jsx(xm,{text:` ${e.fitScore}`}):null]}),e?.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed whitespace-normal break-words",children:e.note}):null]})}function Tue({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a}){const o=e,l=gue({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a});return g.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-4",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  ()"}),l.hasAbsent?g.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:["*   ",i?" ( ON)":""]}):null]}),g.jsx(Aue,{best:o.best}),g.jsx("div",{className:"space-y-2",children:o.groups.map(u=>g.jsx(Eue,{g:u,isBest:o.bestKind===u.kind},u.kind))})]}),g.jsx(wue,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})]})}const SP=e=>e<10?`0${e}`:`${e}`;function jue(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Gi(i,a,o),u=`${l.getFullYear()}${SP(l.getMonth()+1)}${SP(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function Oue(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const Nue=["  ","   ","","",""];function Cue(e){return e==="  "||e===""}function Mue({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=jn(p=>p.settings),a=ple(),o=jue(e),l=Oue(o.birthDay)||void 0,u=on(p=>p.canUseAdvancedReportNow()),f=lue({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),h=k.useMemo(()=>"    100   ! (  )",[]);return f.isValidActive?g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:mle.map(p=>g.jsx("button",{onClick:()=>a.setBlendTab(p),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(a.blendTab===p?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:p},p))}),g.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:Nue.map(p=>{const b=!u&&Cue(p),v=a.bigTab===p;return g.jsxs("button",{title:b?h:void 0,onClick:()=>a.setBigTab(p),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(b?"opacity-60 ":"")+(v?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:[p,b?" ":""]},p)})}),a.bigTab===""&&g.jsx(Foe,{pillars:f.activePillars,daewoon:f.daewoonGz||void 0,sewoon:f.seGz||void 0,wolwoon:f.wolGz||void 0,ilwoon:f.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab==="   "&&g.jsxs("div",{className:"space-y-4",children:[g.jsx($oe,{data:f.chartData,revKey:f.revKey,perStemElementScaled:f.overlay?.perStemAugFull,elementPercent:f.elementPct,dayStem:f.activePillars[2]?.charAt(0)??null},`pentagon-${f.revKey}`),g.jsx(Uoe,{value:f.dayElementPercent}),g.jsx(tse,{natal:f.activePillars})]}),a.bigTab===""&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:""}),"   .   100  !"]}),a.bigTab===""&&u&&g.jsx(Tue,{recommend:f.yongshinMulti,data:o,pillars:f.activePillars,hourKey:f.hourKeyForUi,demoteAbsent:a.demoteAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab===""&&g.jsx(qoe,{pillars:f.activePillars,daewoon:f.daewoonGz||void 0,sewoon:f.seGz||void 0,wolwoon:f.wolGz||void 0,ilwoon:f.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab==="  "&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:"  "}),"   .   100  !"]}),a.bigTab==="  "&&u&&g.jsx(tle,{unified:f.unified,pillars:f.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:l},`gyeok-${a.blendTab}-${f.hourKeyForUi}`)]}):g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const q0=e=>typeof e=="string"&&e.length>=2,Due=e=>!Array.isArray(e)||e.length!==4?!1:q0(e[0])&&q0(e[1])&&q0(e[2])&&(e[3]===""||q0(e[3]));function Pue({data:e}){const[t,n]=k.useState("un"),r=zl(),i=on(f=>f.canUseMyoViewerNow());k.useEffect(()=>{t==="myoun"&&!i&&n("un")},[t,i]);const a=k.useMemo(()=>{try{const f=hp(e);return Pl(f,r)}catch{return new Date}},[e,r]),o=k.useMemo(()=>Mv(e,a),[e,a]),l=!e.birthTime||e.birthTime==="",u=k.useMemo(()=>{try{const f=at(o,e.birthPlace?.lon),h=_t(o,e.birthPlace?.lon),p=ft(o,e.mingSikType),b=l?"":Fa(o,e.mingSikType);return[f,h,p,b]}catch{return[]}},[o,e?.mingSikType,e?.birthPlace?.lon,l]);return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),i?g.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,g.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&g.jsx(Aoe,{data:e}),t==="myoun"&&i&&g.jsx(Noe,{data:e}),t==="report"&&g.jsx(Mue,{data:e,pillars:Due(u)?u:[]})]})}function Rue({onOpenSidebar:e,onAddNew:t,onOpenCustom:n,isLoggedIn:r}){const i=wr(C=>C.list.length),a=on(C=>C.canAddMyeongsik),[o,l]=k.useState(!1);k.useEffect(()=>{let C=!0;Me.auth.getSession().then(({data:P})=>{C&&l(!!P.session?.user)});const{data:D}=Me.auth.onAuthStateChange((P,$)=>{l(!!$?.user)});return()=>{C=!1,D.subscription.unsubscribe()}},[]);const u=r||o,f=a(i),h=!f.ok,p=h?f.message:"",b=()=>{if(h){_o(p||"   ");return}t()},v=()=>{if(h){_o(p||"   ");return}n()},S=()=>{wo.getState().openWith("HEADER")},w=async()=>{const{error:C}=await Me.auth.signOut();if(C){console.error(C),_o("  ");return}_o(" ")},_="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",T="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",N="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",j="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(NV,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("button",{type:"button",onClick:b,"aria-label":" ",disabled:h,title:" ",className:`${_} ${h?j:T}`,children:[g.jsx(BV,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),g.jsxs("button",{type:"button",onClick:v,"aria-label":"  ",disabled:h,title:"  ",className:`${_} ${h?j:N}`,children:[g.jsx(LV,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),u?g.jsx("button",{type:"button",onClick:w,"aria-label":"",title:"",className:"inline-flex items-center gap-1 text-xs cursor-pointer text-neutral-700 dark:text-neutral-200 hover:text-purple-600 dark:hover:text-purple-400",children:g.jsx("ins",{children:""})}):g.jsx("button",{type:"button",onClick:S,"aria-label":"",title:"",className:"text-xs cursor-pointer",children:g.jsx("ins",{children:""})})]})]})})}function Lue(e){k.useEffect(()=>{const t=e??a$()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");s$(t),e&&o$(e)},[e])}const K6=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Iue(e){return typeof e=="string"&&K6.includes(e)}function nE(e){const t=Array.isArray(e)?e.filter(Iue):[],n=K6.filter(r=>!t.includes(r));return[...t,...n]}function rE(e){return{...Qc,...e,sectionOrder:nE(e.sectionOrder)}}function $ue(e,t){return e.theme??t.theme??"dark"}function Bue({open:e,settings:t}){const n=k.useMemo(()=>nE(t.sectionOrder),[t.sectionOrder]),r=k.useMemo(()=>rE(t),[t]),[i,a]=k.useState(n),[o,l]=k.useState(r),[u,f]=k.useState(null),[h,p]=k.useState(!1);return k.useEffect(()=>{if(!e||h)return;const v=nE(t.sectionOrder);l({...rE(t),sectionOrder:v}),a(v),p(!1)},[e,t,h]),{order:i,setOrder:a,localSettings:o,setLocalSettings:l,updateSetting:(v,S)=>{l(w=>{const _={...w,[v]:S};return p(!0),_})},toastMessage:u,setToastMessage:f,dirty:h,setDirty:p}}function zue(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function W6(e){o$(e)}function Uue({setSettings:e,saveToServer:t}){return{applyChanges:k.useCallback(async(r,i,a)=>{const o={...rE(r),sectionOrder:i};zue(),k.startTransition(()=>{e(o)}),o.theme&&W6(o.theme),a(),t(!0)},[e,t])}}function Fue({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=jn(),a=Bue({open:e,settings:n}),o=Uue({setSettings:r,saveToServer:i}),l=()=>a.setToastMessage(null),u=$ue(a.localSettings,n);Lue(u),k.useEffect(()=>{W6(u)},[u]);const f=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},h=b=>{const{destination:v,source:S}=b;if(!v||v.index===S.index)return;const w=Array.from(a.order),[_]=w.splice(S.index,1);w.splice(v.index,0,_),a.setOrder(w)},p=b=>{switch(b){case"theme":return g.jsx(Ca,{title:"",children:g.jsx(Hue,{value:a.localSettings.theme??"dark",onChange:v=>a.updateSetting("theme",v)})});case"hiddenStem":return g.jsx(Ca,{title:"  ",children:g.jsx(gd,{value:a.localSettings.hiddenStem,onChange:v=>a.updateSetting("hiddenStem",v),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return g.jsx(Ca,{title:" ",children:g.jsx(gd,{value:a.localSettings.hiddenStemMode,onChange:v=>a.updateSetting("hiddenStemMode",v),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return g.jsx(Ca,{title:"",children:g.jsx(gd,{value:a.localSettings.sinsalMode,onChange:v=>a.updateSetting("sinsalMode",v),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return g.jsx(Ca,{title:"",children:g.jsx(gd,{value:a.localSettings.sinsalBase,onChange:v=>a.updateSetting("sinsalBase",v),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return g.jsx(Ca,{title:" ",children:g.jsx(ho,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:v=>a.updateSetting("sinsalBloom",v)})});case"exposure":return g.jsx(Ca,{title:" ",children:g.jsx(gd,{value:a.localSettings.exposure,onChange:v=>a.updateSetting("exposure",v),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return g.jsx(Ca,{title:" ",children:g.jsx(gd,{value:a.localSettings.charType,onChange:v=>a.updateSetting("charType",v),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return g.jsx(Ca,{title:" ",children:g.jsx(ho,{label:" ",checked:!!a.localSettings.thinEum,onChange:v=>a.updateSetting("thinEum",v)})});case"visibility":return g.jsx(Ca,{title:" ",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[g.jsx(ho,{label:" ",checked:!!a.localSettings.showSipSin,onChange:v=>a.updateSetting("showSipSin",v)}),g.jsx(ho,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:v=>a.updateSetting("showSibiUnseong",v)}),g.jsx(ho,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:v=>a.updateSetting("showSibiSinsal",v)}),g.jsx(ho,{label:" ",checked:!!a.localSettings.showNabeum,onChange:v=>a.updateSetting("showNabeum",v)}),g.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:v=>a.updateSetting("showEtcShinsal",v)}),g.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:v=>a.updateSetting("showRelationBox",v)}),g.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:v=>a.updateSetting("showPromptBox",v)})]})});case"difficultyMode":return g.jsx(Ca,{title:" UP ver.",children:g.jsx(ho,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:v=>a.updateSetting("difficultyMode",v)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:""}),g.jsx("button",{onClick:f,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]}),e&&g.jsx(up,{onDragEnd:h,children:g.jsx(pf,{droppableId:"settings-sections",children:b=>g.jsxs("ul",{ref:b.innerRef,...b.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((v,S)=>g.jsx(mf,{draggableId:v,index:S,children:w=>g.jsxs("li",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),g.jsx("div",{className:"flex-1 min-w-0",children:p(v)})]})},v)),b.placeholder]})})})]}),a.toastMessage&&g.jsx($4,{message:a.toastMessage,onClose:l,ms:1800})]})}function Hue({value:e,onChange:t}){const n=e==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:n?"":""})]})}function Ca({title:e,children:t}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),g.jsx("div",{className:"flex justify-center",children:t})]})}function gd({value:e,onChange:t,options:n}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return g.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function ho({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[g.jsx("span",{children:e}),g.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-indigo-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-indigo-600"})]})}function Gue({onShowToday:e,onShowCouple:t,onShowFaq:n}){const[r,i]=k.useState(!1),[a,o]=k.useState(!1),[l,u]=k.useState(!1),[f,h]=k.useState(!1);k.useEffect(()=>{let T=!0;Me.auth.getSession().then(({data:j})=>{T&&h(!!j.session?.user)});const{data:N}=Me.auth.onAuthStateChange((j,C)=>{h(!!C?.user)});return()=>{T=!1,N.subscription.unsubscribe()}},[]);const p=f;k.useEffect(()=>{!p&&l&&u(!1)},[p,l]);const b=()=>{wo.getState().openWith("BOTTOM_NAV")},v=async()=>{if(!a){o(!0);try{const{error:T}=await Me.auth.signOut();if(T)throw T;window.location.reload()}catch(T){console.error(T),alert(" .  ."),o(!1)}}},_={bottom:"var(--bottom-dock, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] px-2 box-border left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",style:_,children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(bd,{icon:g.jsx(kV,{size:22}),label:" ",onClick:e}),g.jsx(bd,{icon:g.jsx(wV,{size:22}),label:"",onClick:t}),g.jsx(bd,{icon:g.jsx(s5,{size:22}),label:"FAQ",onClick:n}),g.jsx(bd,{icon:g.jsx(PV,{size:22}),label:"",onClick:()=>i(!0)}),p?g.jsx(bd,{icon:g.jsx(l5,{size:22}),label:"",onClick:()=>u(!0),disabled:a}):g.jsx(bd,{icon:g.jsx(A2,{size:22}),label:"",onClick:b})]})}),g.jsx(Fue,{open:r,onClose:()=>i(!1)}),p&&l&&g.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>u(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:T=>T.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>u(!1),children:""}),g.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{u(!1),v()},children:""})]})]})})]})}function bd({icon:e,label:t,onClick:n,disabled:r}){return g.jsxs("button",{onClick:n,disabled:r,className:"flex flex-1 flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,g.jsx("span",{className:"mt-1",children:t})]})}const V6=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),my=e=>V6(e).join(""),que=()=>{const[e,t]=k.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(iD);return u?JSON.parse(u):{}}catch{return{}}});k.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(iD,JSON.stringify(e))}catch{}},[e]);const[n,r]=k.useState({}),[i,a]=k.useState(""),[o,l]=k.useState(()=>{const u=ty(),f=ny(),h=f.length?bm(u,f):u;return Td(h,e)});return k.useEffect(()=>{l(u=>{const f=Td(u,e);return my(f)===my(u)?u:f})},[e]),k.useEffect(()=>{r(u=>{const f={...u};for(const h of o)f[h]===void 0&&(f[h]=!0);return f})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:l}},Yue=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=k.useMemo(()=>{const i=Av(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[sr]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},Kh=async()=>{const{data:e,error:t}=await Me.auth.getUser();return t||!e.user?null:e.user.id},Kue=async e=>{const{data:t,error:n}=await Me.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},Wue=async e=>{const{data:t,error:n}=await Me.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},Vue=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await Me.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await Me.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},Zue=async(e,t)=>{const{error:n}=await Me.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},Xue=async(e,t)=>{const{error:n}=await Me.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Jue=async(e,t)=>{const{error:n}=await Me.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Que=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=k.useState(!1),o=k.useRef(e),l=k.useRef(!1),u=k.useRef(!1);k.useEffect(()=>{o.current=e},[e]),k.useEffect(()=>{(async()=>{if(i)return;const N=await Kh();if(!N)return;try{if(!u.current){const $=await Kue(N);$.disabled&&(u.current=!0),$.error?console.error("load custom folders from server error:",$.error):$.data.length&&aA($.data)}}catch($){console.error("load custom folders exception:",$)}const j=await Wue(N);if(j.error){console.error("load folder order from server error:",j.error),a(!0);return}const C=ty(),D=j.data,P=D.length?bm(C,D):bm(C,ny());n(Td(P,o.current)),D.length&&jd(D),a(!0)})()},[i,n]);const f=k.useCallback(async T=>{const N=await Kh();if(!N)return;const j=await Vue(N,T);j.error&&console.error("save folder order to server error:",j.error)},[]),h=k.useRef(null),p=k.useRef(null),b=k.useRef(""),v=k.useCallback((T,N)=>{const j=V6(T),C=my(j);if(C&&C===b.current)return;h.current=j;const D=async()=>{const P=h.current;if(h.current=null,!P)return;const $=my(P);$&&$===b.current||(await f(P),b.current=$)};if(N?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),D();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,D()},300)},[f]);k.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const T=h.current;h.current=null,T&&T.length&&f(T)},[f]),k.useEffect(()=>{if(typeof window>"u")return;const T=()=>{if(l.current){l.current=!1;return}const N=ty(),j=ny(),C=j.length?bm(N,j):N;n(Td(C,o.current))};return window.addEventListener(Rl,T),()=>window.removeEventListener(Rl,T)},[n]);const S=k.useCallback(T=>{const{source:N,destination:j,type:C}=T;if(!j||C!=="FOLDER")return;const D=N.index,P=j.index;D!==P&&n($=>{if(!$.length)return $;const F=[...$],[Y]=F.splice(D,1);F.splice(P,0,Y);const K=Td(F,o.current);return l.current=!0,jd(K),v(K),K})},[v,n]),w=k.useCallback(T=>{const N=T.trim();!N||N===fn||(I4(N),(async()=>{if(u.current)return;const j=await Kh();if(!j)return;const C=await Xue(j,N);C.disabled&&(u.current=!0),C.error&&console.error("save custom folder error:",C.error)})(),n(j=>{if(j.includes(N))return j;const C=[...j,N],D=Td(C,o.current);return jd(D),v(D,{immediate:!0}),D}))},[v,n]),_=k.useCallback(T=>{r(T),t(N=>{const j={...N};return delete j[T],j}),n(N=>{const j=N.filter(C=>C!==T);return jd(j),v(j,{immediate:!0}),(async()=>{const C=await Kh();if(!C)return;const D=await Zue(C,T);D.error&&console.error("delete folder order entry error:",D.error)})(),j}),P4.includes(T)?_ne(T):(xne(T),(async()=>{if(u.current)return;const N=await Kh();if(!N)return;const j=await Jue(N,T);j.disabled&&(u.current=!0),j.error&&console.error("delete custom folder error:",j.error)})())},[v,t,n,r]);return{handleDragEnd:S,createFolder:w,deleteFolder:_,UNASSIGNED_LABEL:fn}};function ede(e,t){const n=que(),r=Yue({list:e,orderedFolders:n.orderedFolders}),i=Que({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function tde({onClose:e,onAddNew:t,isLoggedIn:n,onLogin:r}){const i=wr(p=>p.list.length),o=on(p=>p.canAddMyeongsik)(i),l=!o.ok,u=l?o.message:"",f=()=>{if(l){_o(u||"   ");return}t()},h=async()=>{const{error:p}=await Me.auth.signOut();if(p){console.error(p),_o("  ");return}_o(" ")};return g.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{className:"flex items-center gap-2",children:[n?g.jsxs("button",{type:"button",onClick:h,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(l5,{size:16})," "]}):g.jsxs("button",{type:"button",onClick:r,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(A2,{size:16})," "]}),g.jsxs("button",{type:"button",onClick:f,disabled:l,title:u,className:l?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[g.jsx(MV,{size:16}),"  ",l?"":""]}),g.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:g.jsx(Gb,{size:22})})]})]})}function nde({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return g.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[g.jsx("option",{value:"name",children:""}),g.jsx("option",{value:"ganji",children:""}),g.jsx("option",{value:"birth",children:""})]}),g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&g.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:g.jsx(xV,{size:16})})]}),i&&g.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function rde({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:e,onChange:i=>t(i.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:i=>i.stopPropagation()}),g.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:i=>{i.stopPropagation(),n()},children:""})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:r?"   .":"/      ."})]})}function kP({droppableId:e,items:t,isDropDisabled:n,className:r}){return g.jsx(pf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>g.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function ide({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:l,onDelete:u,inner:f}){return g.jsx(mf,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:h=>g.jsxs("div",{ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?g.jsx(bV,{size:16}):g.jsx(pV,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:e})]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:g.jsx(c5,{size:16,fill:r?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?f:null]})},`folder-${e}`)}const ade=()=>({canManage:on(()=>!0)}),$m="";function ode(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===$m?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function sde(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(l=>o.some(u=>l.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function EP(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function lde(e,t){const n=gf(e),r=fp(t);if(!n||!r)return null;const i=new Date(n.y,n.m-1,n.d,r.hh,r.mm,0,0),a=new Date(i.getTime()-3600*1e3),o=String(a.getFullYear()).padStart(4,"0"),l=String(a.getMonth()+1).padStart(2,"0"),u=String(a.getDate()).padStart(2,"0"),f=String(a.getHours()).padStart(2,"0"),h=String(a.getMinutes()).padStart(2,"0");return{birthDay:`${o}${l}${u}`,birthTime:`${f}${h}`}}function cde(e){const t=EP(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Pm(r,i,a)||!e.birthTime||e.birthTime===$m)return t;const o=lde(n,e.birthTime);if(!o)return t;const l=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(l.getTime()))return t;const u=new Date(l.getTime()-3600*1e3),f=J2({...e,birthDay:o.birthDay,birthTime:o.birthTime,corrected:u});return EP({...e,...f})}function ude(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function dde(e,t){return Number.isNaN(e)?0:t-e+1}function fde(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function hde(e){return e===""?"":e===""?"":e??""}function mde(e){const t=e.trim(),n=/^(\d{1,2}):(\d{2})$/.exec(t);if(!n)return null;const r=Number(n[1]),i=Number(n[2]);if(!Number.isFinite(r)||!Number.isFinite(i)||r<0||r>23||i<0||i>59)return null;const a=r-1<0?23:r-1;return`${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`}function pde(e,t){if(t)return $m;const n=String(e.birthDay??"").trim(),r=String(e.correctedLocal??"").trim(),i=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??"")),a=!Number.isNaN(i.getTime()),o=r||(a?Kk(i):"");if(!/^\d{8}$/.test(n))return o;const l=Number(n.slice(0,4)),u=Number(n.slice(4,6)),f=Number(n.slice(6,8));if(!Pm(l,u,f)||!e.birthTime||e.birthTime===$m)return o;if(a){const p=new Date(i.getTime()-36e5);return Kk(p)}return mde(r)??o}function gde({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=cde(e),o=sde(e.birthPlace?.name),l=e.relationship?.trim()?e.relationship:" ",u=hde(e.gender),f=!e.birthTime||e.birthTime===$m,h=pde(e,f),p=!!(o||h),b=ode(e.birthDay,e.birthTime),v=e.calendarType==="lunar"?"":"",S=ude(e.birthDay),w=dde(S,new Date().getFullYear()),_=!!(e.memo&&e.memo.trim()!==""),T=t?" ":" ",N=e.mingSikType??"/",j=r?" ":"::",C=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:j,ganji:a,placeDisplay:o,relationshipLabel:l,genderLabel:u,birthDisplay:b,calendarLabel:v,correctedLabel:h,showMetaLine:p,showMemo:_,memoToggleLabel:T,age:w,mingSikTypeValue:N,favoriteLabel:C,editLabel:"",deleteLabel:"",getDragStyle:fde}}const bde=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:l,onToggleFavorite:u})=>{const f=k.useCallback(_=>{_?.stopPropagation(),n(e.id)},[n,e.id]),h=k.useCallback(_=>{_?.stopPropagation(),a(e)},[a,e]),p=k.useCallback(_=>{_?.stopPropagation(),o(e)},[o,e]),b=k.useCallback(_=>{_?.stopPropagation(),l(e)},[l,e]),v=k.useCallback(_=>{_?.stopPropagation(),u(e.id)},[u,e.id]),S=k.useCallback(_=>{const T=_===t?void 0:_;r(e.id,T)},[r,e.id,t]),w=k.useCallback(_=>{i(e,_)},[i,e]);return{handleToggleMemo:f,handleView:h,handleEdit:p,handleDelete:b,handleToggleFavorite:v,handleFolderChange:S,handleMingSikTypeChange:w}};function AP({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,memoOpen:a,onToggleMemo:o,onChangeFolder:l,onChangeMingSikType:u,onView:f,onEdit:h,onDelete:p,onToggleFavorite:b}){ade();const v=gde({m:e,memoOpen:a,isDragDisabled:i}),S=bde({m:e,unassignedLabel:r,onToggleMemo:o,onChangeFolder:l,onChangeMingSikType:u,onView:f,onEdit:h,onDelete:p,onToggleFavorite:b});return g.jsx(mf,{draggableId:v.keyId,index:t,isDragDisabled:i,children:w=>g.jsx("li",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,style:w.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",v.age," ",v.genderLabel,")"]}),g.jsx("span",{className:"opacity-40",children:""}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:v.relationshipLabel}),g.jsx("span",{className:"ml-auto opacity-50 select-none",children:v.dragHandleLabel})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[v.birthDisplay,", ",v.calendarLabel]}),v.showMetaLine&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[v.placeDisplay,v.correctedLabel&&g.jsxs("span",{className:"opacity-70",children:["  ",v.correctedLabel]})]}),v.ganji&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:v.ganji}),v.showMemo&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:S.handleToggleMemo,children:v.memoToggleLabel}),g.jsx("div",{className:a?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:_=>_.stopPropagation(),onChange:_=>{_.stopPropagation(),S.handleFolderChange(_.target.value)},children:[r,...n].map(_=>g.jsx("option",{value:_,children:_},_))}),g.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:v.mingSikTypeValue,onClick:_=>_.stopPropagation(),onChange:_=>{_.stopPropagation(),S.handleMingSikTypeChange(_.target.value)},children:[g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"/",children:"/"}),g.jsx("option",{value:"",children:""})]})]}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{type:"button",onClick:S.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),g.jsx("button",{type:"button",title:"",onClick:S.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:v.editLabel}),g.jsx("button",{type:"button",title:"",onClick:S.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:v.deleteLabel}),g.jsx("button",{type:"button",title:v.favoriteLabel,onClick:S.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":v.favoriteLabel,children:g.jsx(c5,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},v.keyId)}const yde="list:__unassigned__",vde=e=>`list:${e}`,TP=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},xde=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=O4(e),{filteredUnassigned:o,filteredGrouped:l,totalMatches:u}=k.useMemo(()=>nne({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:l,totalMatches:u}},_de=({list:e,orderedFolders:t})=>{const[n,r]=k.useState(""),[i,a]=k.useState("name"),[o,l]=k.useState({}),u=k.useRef(null),f=k.useRef(null);return k.useEffect(()=>{if(f.current==null)return;const b=u.current;b&&(b.scrollTop=f.current,f.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:b=>{l(v=>({...v,[b]:!v[b]}))},scrollRef:u,stashScrollTop:()=>{const b=u.current;b&&(f.current=b.scrollTop)}}},jP=()=>{typeof window>"u"||window.dispatchEvent(new Event(Rl))},wde=({list:e,orderedFolders:t,isFiltering:n,handleFolderDragEnd:r,moveItemByDnD:i,applyNextList:a,update:o,remove:l,onView:u,onClose:f,onDeleteView:h,folderFavMap:p,setFolderFavMap:b,setFolderOpenMap:v,createFolder:S,deleteFolder:w,newFolderName:_,setNewFolderName:T,stashScrollTop:N})=>{const j=k.useCallback((z,V)=>{const{nextList:Z}=Vte({list:e,orderedFolders:t,targetId:z,nextFolder:V??""});a(Z)},[e,t,a]),C=k.useCallback((z,V)=>{const Z={...z,mingSikType:V},X=J2(Z);o(z.id,{mingSikType:V,...X}),u({...Z,...X}),f()},[o,u,f]),D=k.useCallback(z=>{u(z),f()},[u,f]),P=k.useCallback(z=>{confirm(`'${z.name}'  ?`)&&(l(z.id),h&&h())},[l,h]),$=k.useCallback(()=>{const z=_.trim();z&&(S(z),T(""),jP())},[_,S,T]),F=k.useCallback(z=>{if(p[z]){alert(`'${z}'   .
   .`);return}confirm(`'${z}'  ?
(   )`)&&(w(z),jP())},[p,w]),Y=k.useCallback(z=>{v(V=>({...V,[z]:!V[z]}))},[v]),K=k.useCallback(z=>{b(V=>({...V,[z]:!V[z]}))},[b]);return{handleDrop:k.useCallback(z=>{const{type:V,source:Z,destination:X,draggableId:q}=z;if(X&&!n){if(N(),V==="FOLDER"){r(z);return}if(V==="ITEM"){if(!q.replace(/^item:/,""))return;const ne=TP(Z.droppableId),de=TP(X.droppableId);i({orderedFolders:t,sourceFolder:ne,sourceIndex:Z.index,destinationFolder:de,destinationIndex:X.index})}}},[n,N,r,i,t]),changeFolder:j,changeMingSikType:C,viewAndClose:D,requestDelete:P,createFolderAndNotify:$,requestDeleteFolder:F,toggleFolderOpen:Y,toggleFolderFavorite:K}};function Sde({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a,isLoggedIn:o}){const[l,u]=k.useState(!1),{list:f,remove:h,update:p,moveItemByDnD:b,toggleFavoriteWithReorder:v,unsetFolderForFolder:S,applyNextList:w}=wr(),{folderFavMap:_,setFolderFavMap:T,folderOpenMap:N,setFolderOpenMap:j,newFolderName:C,setNewFolderName:D,orderedFolders:P,grouped:$,unassignedItems:F,handleDragEnd:Y,createFolder:K,deleteFolder:H,UNASSIGNED_LABEL:z}=ede(f,{unsetFolderForFolder:S}),V=_de({list:f,orderedFolders:P}),{isFiltering:Z,filteredUnassigned:X,filteredGrouped:q,totalMatches:J}=xde({search:V.search,searchMode:V.searchMode,orderedFolders:P,unassignedItems:F,grouped:$}),ne=wde({list:f,applyNextList:w,orderedFolders:P,isFiltering:Z,handleFolderDragEnd:Y,moveItemByDnD:b,update:p,remove:h,onView:n,onClose:t,onDeleteView:a,folderFavMap:_,setFolderFavMap:T,setFolderOpenMap:j,createFolder:K,deleteFolder:H,newFolderName:C,setNewFolderName:D,stashScrollTop:V.stashScrollTop}),de=()=>{u(!0)},oe=W=>{yu.flushSync(()=>{u(!1),ne.handleDrop(W)})},B=()=>{wo.getState().openWith("HEADER")};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-100 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-101 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[g.jsx(tde,{onClose:t,onAddNew:()=>{r(),t()},onLogin:()=>{B()},isLoggedIn:o}),g.jsx(up,{onBeforeDragStart:de,onDragEnd:oe,children:g.jsxs("div",{ref:V.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:l?"none":"pan-y"},children:[g.jsx(nde,{search:V.search,setSearch:V.setSearch,searchMode:V.searchMode,setSearchMode:V.setSearchMode,isFiltering:Z,totalMatches:J}),g.jsx(rde,{newFolderName:C,setNewFolderName:D,isFiltering:Z,onCreate:ne.createFolderAndNotify}),g.jsx(kP,{droppableId:yde,isDropDisabled:Z,className:"mb-6",items:X.map((W,ie)=>g.jsx(AP,{m:W,index:ie,orderedFolders:P,unassignedLabel:z,isDragDisabled:Z,memoOpen:!!V.memoOpenMap[W.id],onToggleMemo:V.toggleMemo,onChangeFolder:ne.changeFolder,onChangeMingSikType:ne.changeMingSikType,onView:ne.viewAndClose,onEdit:Q=>i(Q),onDelete:ne.requestDelete,onToggleFavorite:Q=>void v(Q,P)},W.id))}),g.jsx(pf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:Z,children:W=>g.jsxs("div",{ref:W.innerRef,...W.droppableProps,children:[P.map((ie,Q)=>{const se=vde(ie),he=q[ie]||[],me=!!N[ie],Se=!!_[ie];return g.jsx(ide,{folderName:ie,folderIndex:Q,isOpen:me,isFavorite:Se,itemCount:he.length,isDragDisabled:Z,onToggleOpen:()=>ne.toggleFolderOpen(ie),onToggleFavorite:()=>ne.toggleFolderFavorite(ie),onDelete:()=>ne.requestDeleteFolder(ie),inner:g.jsx(kP,{droppableId:se,isDropDisabled:Z,className:"mt-2",items:he.map((re,Ee)=>g.jsx(AP,{m:re,index:Ee,orderedFolders:P,unassignedLabel:z,isDragDisabled:Z,memoOpen:!!V.memoOpenMap[re.id],onToggleMemo:V.toggleMemo,onChangeFolder:ne.changeFolder,onChangeMingSikType:ne.changeMingSikType,onView:ne.viewAndClose,onEdit:je=>i(je),onDelete:ne.requestDelete,onToggleFavorite:je=>void v(je,P)},re.id))})},`folder-${ie}`)}),W.placeholder]})})]})})]})]})}function OP(e){return{...e,calendarType:e.calendarType??"solar"}}function NP(e){return!e.birthTime||e.birthTime===""}function CP(e){return!e.birthPlace||e.birthPlace.name===""}function kde(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Gi(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${l}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const Z6="ms_folders";function Ede(){try{const e=JSON.parse(localStorage.getItem(Z6)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function Ade(e){localStorage.setItem(Z6,JSON.stringify(e))}function Tde(e){const[t,n]=k.useState(!1),[r,i]=k.useState(()=>OP(e)),[a,o]=k.useState(NP(e)),[l,u]=k.useState(CP(e)),[f,h]=k.useState([]);return k.useEffect(()=>{h(Ede())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(v,S)=>{i(w=>({...w,[v]:S}))},unknownTime:a,setUnknownTime:o,unknownPlace:l,setUnknownPlace:u,customFolders:f,setCustomFolders:h,resetForm:()=>{i(OP(e)),o(NP(e)),u(CP(e))}}}const X6=["","","","","",""];function jde(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...X6,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[fn,...i]}function Ode({list:e,customFolders:t,form:n}){const r=k.useMemo(()=>jde(e,t),[e,t]),i=k.useMemo(()=>kde(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function Nde(e,t,n){if(!e.name||e.name.trim()==="")return" .";const r=Q2(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=eA(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"   '' .":null:i.message}function Cde({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:l,onClose:u,onSaved:f}){return{save:()=>{const b=Nde(t,n,r);if(b){alert(b);return}const v=ru(t.folder===fn?void 0:t.folder),S=E4({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:v,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!S.ok){alert(S.message);return}const w={...e,...S.value};if(w.folder&&!X6.includes(w.folder)&&!i.includes(w.folder)){const _=[...i,w.folder];a(_),Ade(_)}o(e.id,w),f?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&l(e.id)}}}const p1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Mde="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",Dde="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",ls="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",Pde="text-xs text-neutral-500 dark:text-neutral-400",Y0="accent-violet-600 dark:accent-violet-400",MP="accent-violet-600 dark:accent-violet-400",Lv="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Rde=`${Lv} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,Lde=`${Lv} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,DP=`${Lv} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,Ide=`${Lv} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function $de({item:e,onClose:t}){const{list:n,update:r,remove:i}=wr(),a=Tde(e),o=Ode({list:n,customFolders:a.customFolders,form:a.form}),l=Cde({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{children:[g.jsx("label",{className:ls,children:""}),g.jsx("input",{className:p1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:ls,children:" (YYYYMMDD)"}),g.jsx("input",{className:p1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Y0,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Y0,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&g.jsx("span",{className:Pde,children:o.lunarPreview})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ls,children:"  (HHMM)"}),g.jsx("input",{className:`${p1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:MP,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:ls,children:" "}),g.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const f=`editor_ming_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Y0,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:f}),g.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:ls,children:""}),g.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const f=`editor_gender_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Y0,name:"gender",value:u,checked:a.form.gender===u,onChange:h=>a.updateForm("gender",h.target.value),id:f}),g.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ls,children:" "}),g.jsx(u5,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:MP,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ls,children:""}),g.jsx(D4,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),g.jsxs("div",{children:[g.jsx("label",{className:ls,children:""}),g.jsx("select",{className:Mde,value:a.form.folder??fn,onChange:u=>{const f=u.target.value;f===fn?a.updateForm("folder",void 0):a.updateForm("folder",f)},children:o.folderOptions.map(u=>g.jsx("option",{value:u===fn?fn:u,children:u},u))})]}),g.jsxs("div",{children:[g.jsx("label",{className:ls,children:""}),g.jsx("textarea",{className:Dde,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:DP,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),g.jsx("button",{className:Ide,onClick:l.save,children:""})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:Rde,onClick:()=>a.setIsEditing(!0),children:""}),g.jsx("button",{className:Lde,onClick:l.removeThis,children:""}),t&&g.jsx("button",{className:DP,onClick:t,children:""})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:[": ",e.gender]}),g.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),g.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),g.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),g.jsxs("div",{children:[": ",e.relationship||"-"]}),g.jsxs("div",{children:[": ",e.folder??fn]})]}),e.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function Bde({children:e}){const t=Hi(),[n,r]=k.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return g.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[g.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[g.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[g.jsx("span",{className:"desk:block hidden",children:""}),g.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),g.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return g.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),g.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[g.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[g.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),g.jsx("div",{className:"font-semibold",children:" "}),g.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),g.jsx("div",{className:"flex-1",children:e})]})]})}function zde(){const[e,t]=k.useState(null),[n,r]=k.useState(!0);return k.useEffect(()=>{(async()=>{const{data:a}=await Me.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:l}=await Me.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(l?.role??null),r(!1)})()},[]),{role:e,loading:n}}function Ude({allow:e,children:t}){const{role:n,loading:r}=zde();return r?g.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?g.jsx("div",{className:"text-red-400 p-6",children:" ."}):g.jsx(g.Fragment,{children:t})}function J6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=J6(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=J6(e))&&(r&&(r+=" "),r+=t);return r}var Fde=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function NA(e){if(typeof e!="string")return!1;var t=Fde;return t.includes(e)}var Hde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Gde=new Set(Hde);function Q6(e){return typeof e!="string"?!1:Gde.has(e)}function e7(e){return typeof e=="string"&&e.startsWith("data-")}function Ga(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Q6(n)||e7(n))&&(t[n]=e[n]);return t}function Iv(e){if(e==null)return null;if(k.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ga(t)}return typeof e=="object"&&!Array.isArray(e)?Ga(e):null}function pa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Q6(n)||e7(n)||NA(n))&&(t[n]=e[n]);return t}function qde(e){return e==null?null:k.isValidElement(e)?pa(e.props):typeof e=="object"&&!Array.isArray(e)?pa(e):null}var Yde=["children","width","height","viewBox","className","style","title","desc"];function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iE.apply(null,arguments)}function Kde(e,t){if(e==null)return{};var n,r,i=Wde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var t7=k.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:f}=e,h=Kde(e,Yde),p=a||{width:r,height:i,x:0,y:0},b=Qt("recharts-surface",o);return k.createElement("svg",iE({},pa(h),{className:b,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),k.createElement("title",null,u),k.createElement("desc",null,f),n)}),Vde=["children","className"];function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aE.apply(null,arguments)}function Zde(e,t){if(e==null)return{};var n,r,i=Xde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var To=k.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Zde(e,Vde),a=Qt("recharts-layer",r);return k.createElement("g",aE({className:a},pa(i),{ref:t}),n)}),Jde=k.createContext(null);function xn(e){return function(){return e}}const oE=Math.PI,sE=2*oE,Gc=1e-6,Qde=sE-Gc;function n7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function efe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return n7;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class tfe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?n7:efe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-t,f=i-n,h=o-t,p=l-n,b=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>Gc)if(!(Math.abs(p*u-f*h)>Gc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-o,S=i-l,w=u*u+f*f,_=v*v+S*S,T=Math.sqrt(w),N=Math.sqrt(b),j=a*Math.tan((oE-Math.acos((w+b-_)/(2*T*N)))/2),C=j/N,D=j/T;Math.abs(C-1)>Gc&&this._append`L${t+C*h},${n+C*p}`,this._append`A${a},${a},0,0,${+(p*v>h*S)},${this._x1=t+D*u},${this._y1=n+D*f}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),f=t+l,h=n+u,p=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Gc||Math.abs(this._y1-h)>Gc)&&this._append`L${f},${h}`,r&&(b<0&&(b=b%sE+sE),b>Qde?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:b>Gc&&this._append`A${r},${r},0,${+(b>=oE)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function r7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new tfe(t)}function CA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function i7(e){this._context=e}i7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $v(e){return new i7(e)}function a7(e){return e[0]}function o7(e){return e[1]}function s7(e,t){var n=xn(!0),r=null,i=$v,a=null,o=r7(l);e=typeof e=="function"?e:e===void 0?a7:xn(e),t=typeof t=="function"?t:t===void 0?o7:xn(t);function l(u){var f,h=(u=CA(u)).length,p,b=!1,v;for(r==null&&(a=i(v=o())),f=0;f<=h;++f)!(f<h&&n(p=u[f],f,u))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+e(p,f,u),+t(p,f,u));if(v)return a=null,v+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:xn(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:xn(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:xn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function K0(e,t,n){var r=null,i=xn(!0),a=null,o=$v,l=null,u=r7(f);e=typeof e=="function"?e:e===void 0?a7:xn(+e),t=typeof t=="function"?t:xn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?o7:xn(+n);function f(p){var b,v,S,w=(p=CA(p)).length,_,T=!1,N,j=new Array(w),C=new Array(w);for(a==null&&(l=o(N=u())),b=0;b<=w;++b){if(!(b<w&&i(_=p[b],b,p))===T)if(T=!T)v=b,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=b-1;S>=v;--S)l.point(j[S],C[S]);l.lineEnd(),l.areaEnd()}T&&(j[b]=+e(_,b,p),C[b]=+t(_,b,p),l.point(r?+r(_,b,p):j[b],n?+n(_,b,p):C[b]))}if(N)return l=null,N+""||null}function h(){return s7().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:xn(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:xn(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:xn(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),f):a},f}class l7{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function nfe(e){return new l7(e,!0)}function rfe(e){return new l7(e,!1)}function py(){}function gy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function c7(e){this._context=e}c7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ife(e){return new c7(e)}function u7(e){this._context=e}u7.prototype={areaStart:py,areaEnd:py,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:gy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function afe(e){return new u7(e)}function d7(e){this._context=e}d7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ofe(e){return new d7(e)}function f7(e){this._context=e}f7.prototype={areaStart:py,areaEnd:py,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sfe(e){return new f7(e)}function PP(e){return e<0?-1:1}function RP(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(PP(a)+PP(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function LP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function g1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function by(e){this._context=e}by.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:g1(this,this._t0,LP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,g1(this,LP(this,n=RP(this,e,t)),n);break;default:g1(this,this._t0,n=RP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function h7(e){this._context=new m7(e)}(h7.prototype=Object.create(by.prototype)).point=function(e,t){by.prototype.point.call(this,t,e)};function m7(e){this._context=e}m7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function lfe(e){return new by(e)}function cfe(e){return new h7(e)}function p7(e){this._context=e}p7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=IP(e),i=IP(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function IP(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function ufe(e){return new p7(e)}function Bv(e,t){this._context=e,this._t=t}Bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function dfe(e){return new Bv(e,.5)}function ffe(e){return new Bv(e,0)}function hfe(e){return new Bv(e,1)}function Jd(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function mfe(e,t){return e[t]}function pfe(e){const t=[];return t.key=e,t}function gfe(){var e=xn([]),t=lE,n=Jd,r=mfe;function i(a){var o=Array.from(e.apply(this,arguments),pfe),l,u=o.length,f=-1,h;for(const p of a)for(l=0,++f;l<u;++l)(o[l][f]=[0,+r(p,o[l].key,f,a)]).data=p;for(l=0,h=CA(t(o));l<u;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:xn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?lE:typeof a=="function"?a:xn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Jd,i):n},i}function bfe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Jd(e,t)}}function yfe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Jd(e,t)}}function vfe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,f=0;l<o;++l){for(var h=e[t[l]],p=h[r][1]||0,b=h[r-1][1]||0,v=(p-b)/2,S=0;S<l;++S){var w=e[t[S]],_=w[r][1]||0,T=w[r-1][1]||0;v+=_-T}u+=p,f+=v*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,Jd(e,t)}}var b1={},y1={},$P;function xfe(){return $P||($P=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(y1)),y1}var v1={},BP;function g7(){return BP||(BP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(v1)),v1}var x1={},zP;function MA(){return zP||(zP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(x1)),x1}var _1={},w1={},UP;function _fe(){return UP||(UP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(w1)),w1}var FP;function DA(){return FP||(FP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_fe(),n=MA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];f?p==="\\"&&l+1<o?(l++,u+=i[l]):p===f?f="":u+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}e.toPath=r})(_1)),_1}var HP;function PA(){return HP||(HP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xfe(),n=g7(),r=MA(),i=DA();function a(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?f:h}default:{if(Array.isArray(u))return o(l,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?f:h}}}function o(l,u,f){if(u.length===0)return f;let h=l;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return f;h=h[u[p]]}return h===void 0?f:h}e.get=a})(b1)),b1}var S1,GP;function wfe(){return GP||(GP=1,S1=PA().get),S1}var Sfe=wfe();const zv=hi(Sfe);var ua=e=>e===0?0:e>0?1:-1,qa=e=>typeof e=="number"&&e!=+e,_s=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Xe=e=>(typeof e=="number"||e instanceof Number)&&!qa(e),jo=e=>Xe(e)||typeof e=="string",kfe=0,Bm=e=>{var t=++kfe;return"".concat(e||"").concat(t)},Il=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&typeof t!="string")return r;var a;if(_s(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return qa(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},b7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function vo(e,t,n){return Xe(e)&&Xe(t)?e+n*(t-e):t}function y7(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):zv(r,t))===n)}var _r=e=>e===null||typeof e>"u",RA=e=>_r(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Efe(e){return e!=null}function yp(){}var v7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,LA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(k.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{NA(i)&&(r[i]=(a=>n[i](n,a)))}),r},Afe=(e,t,n)=>r=>(e(t,n,r),null),Tfe=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];NA(i)&&typeof a=="function"&&(r||(r={}),r[i]=Afe(a,t,n))}),r};function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(n),!0).forEach(function(r){Ofe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ofe(e,t,n){return(t=Nfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nfe(e){var t=Cfe(e,"string");return typeof t=="symbol"?t:t+""}function Cfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qi(e,t){var n=jfe({},e),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var k1={},E1={},YP;function Mfe(){return YP||(YP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(E1)),E1}var A1={},KP;function x7(){return KP||(KP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(A1)),A1}var T1={},j1={},O1={},WP;function Dfe(){return WP||(WP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(O1)),O1}var VP;function IA(){return VP||(VP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dfe();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(j1)),j1}var N1={},ZP;function Pfe(){return ZP||(ZP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(N1)),N1}var XP;function Rfe(){return XP||(XP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IA(),n=Pfe();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(T1)),T1}var C1={},M1={},JP;function Lfe(){return JP||(JP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(M1)),M1}var D1={},P1={},R1={},L1={},QP;function _7(){return QP||(QP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(L1)),L1}var I1={},eR;function w7(){return eR||(eR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(I1)),I1}var $1={},tR;function S7(){return tR||(tR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})($1)),$1}var nR;function Ife(){return nR||(nR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_7(),n=w7(),r=S7();function i(h,p,b){return typeof b!="function"?i(h,p,()=>{}):a(h,p,function v(S,w,_,T,N,j){const C=b(S,w,_,T,N,j);return C!==void 0?!!C:a(S,w,v,j)},new Map)}function a(h,p,b,v){if(p===h)return!0;switch(typeof p){case"object":return o(h,p,b,v);case"function":return Object.keys(p).length>0?a(h,{...p},b,v):r.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function o(h,p,b,v){if(p==null)return!0;if(Array.isArray(p))return u(h,p,b,v);if(p instanceof Map)return l(h,p,b,v);if(p instanceof Set)return f(h,p,b,v);const S=Object.keys(p);if(h==null)return S.length===0;if(S.length===0)return!0;if(v?.has(p))return v.get(p)===h;v?.set(p,h);try{for(let w=0;w<S.length;w++){const _=S[w];if(!n.isPrimitive(h)&&!(_ in h)||p[_]===void 0&&h[_]!==void 0||p[_]===null&&h[_]!==null||!b(h[_],p[_],_,h,p,v))return!1}return!0}finally{v?.delete(p)}}function l(h,p,b,v){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,w]of p.entries()){const _=h.get(S);if(b(_,w,S,h,p,v)===!1)return!1}return!0}function u(h,p,b,v){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let w=0;w<p.length;w++){const _=p[w];let T=!1;for(let N=0;N<h.length;N++){if(S.has(N))continue;const j=h[N];let C=!1;if(b(j,_,w,h,p,v)&&(C=!0),C){S.add(N),T=!0;break}}if(!T)return!1}return!0}function f(h,p,b,v){return p.size===0?!0:h instanceof Set?u([...h],[...p],b,v):!1}e.isMatchWith=i,e.isSetMatch=f})(R1)),R1}var rR;function k7(){return rR||(rR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ife();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(P1)),P1}var B1={},z1={},U1={},iR;function $fe(){return iR||(iR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(U1)),U1}var F1={},aR;function E7(){return aR||(aR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(F1)),F1}var H1={},oR;function A7(){return oR||(oR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",b="[object ArrayBuffer]",v="[object Object]",S="[object Error]",w="[object DataView]",_="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",C="[object BigUint64Array]",D="[object Int8Array]",P="[object Int16Array]",$="[object Int32Array]",F="[object BigInt64Array]",Y="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=F,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=S,e.float32ArrayTag=Y,e.float64ArrayTag=K,e.functionTag=p,e.int16ArrayTag=P,e.int32ArrayTag=$,e.int8ArrayTag=D,e.mapTag=u,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=N,e.uint32ArrayTag=j,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=T})(H1)),H1}var G1={},sR;function Bfe(){return sR||(sR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(G1)),G1}var lR;function T7(){return lR||(lR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$fe(),n=E7(),r=A7(),i=w7(),a=Bfe();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,b,v=new Map,S=void 0){const w=S?.(h,p,b,v);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(v.has(h))return v.get(h);if(Array.isArray(h)){const _=new Array(h.length);v.set(h,_);for(let T=0;T<h.length;T++)_[T]=l(h[T],T,b,v,S);return Object.hasOwn(h,"index")&&(_.index=h.index),Object.hasOwn(h,"input")&&(_.input=h.input),_}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const _=new RegExp(h.source,h.flags);return _.lastIndex=h.lastIndex,_}if(h instanceof Map){const _=new Map;v.set(h,_);for(const[T,N]of h)_.set(T,l(N,T,b,v,S));return _}if(h instanceof Set){const _=new Set;v.set(h,_);for(const T of h)_.add(l(T,void 0,b,v,S));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const _=new(Object.getPrototypeOf(h)).constructor(h.length);v.set(h,_);for(let T=0;T<h.length;T++)_[T]=l(h[T],T,b,v,S);return _}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const _=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return v.set(h,_),u(_,h,b,v,S),_}if(typeof File<"u"&&h instanceof File){const _=new File([h],h.name,{type:h.type});return v.set(h,_),u(_,h,b,v,S),_}if(typeof Blob<"u"&&h instanceof Blob){const _=new Blob([h],{type:h.type});return v.set(h,_),u(_,h,b,v,S),_}if(h instanceof Error){const _=new h.constructor;return v.set(h,_),_.message=h.message,_.name=h.name,_.stack=h.stack,_.cause=h.cause,u(_,h,b,v,S),_}if(h instanceof Boolean){const _=new Boolean(h.valueOf());return v.set(h,_),u(_,h,b,v,S),_}if(h instanceof Number){const _=new Number(h.valueOf());return v.set(h,_),u(_,h,b,v,S),_}if(h instanceof String){const _=new String(h.valueOf());return v.set(h,_),u(_,h,b,v,S),_}if(typeof h=="object"&&f(h)){const _=Object.create(Object.getPrototypeOf(h));return v.set(h,_),u(_,h,b,v,S),_}return h}function u(h,p,b=h,v,S){const w=[...Object.keys(p),...t.getSymbols(p)];for(let _=0;_<w.length;_++){const T=w[_],N=Object.getOwnPropertyDescriptor(h,T);(N==null||N.writable)&&(h[T]=l(p[T],T,b,v,S))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(z1)),z1}var cR;function zfe(){return cR||(cR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T7();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(B1)),B1}var uR;function Ufe(){return uR||(uR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k7(),n=zfe();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(D1)),D1}var q1={},Y1={},K1={},dR;function Ffe(){return dR||(dR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T7(),n=A7();function r(i,a){return t.cloneDeepWith(i,(o,l,u,f)=>{const h=a?.(o,l,u,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(K1)),K1}var fR;function Hfe(){return fR||(fR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ffe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Y1)),Y1}var W1={},V1={},hR;function j7(){return hR||(hR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(V1)),V1}var Z1={},mR;function Gfe(){return mR||(mR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E7();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Z1)),Z1}var pR;function qfe(){return pR||(pR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g7(),n=j7(),r=Gfe(),i=DA();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let f=o;for(let h=0;h<u.length;h++){const p=u[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(W1)),W1}var gR;function Yfe(){return gR||(gR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k7(),n=MA(),r=Hfe(),i=PA(),a=qfe();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(f){const h=i.get(f,l);return h===void 0?a.has(f,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})(q1)),q1}var bR;function Kfe(){return bR||(bR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x7(),n=Lfe(),r=Ufe(),i=Yfe();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(C1)),C1}var yR;function Wfe(){return yR||(yR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mfe(),n=x7(),r=Rfe(),i=Kfe();function a(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(k1)),k1}var X1,vR;function Vfe(){return vR||(vR=1,X1=Wfe().uniqBy),X1}var Zfe=Vfe();const xR=hi(Zfe);function Xfe(e,t,n){return t===!0?xR(e,n):typeof t=="function"?xR(e,t):e}var J1={exports:{}},Q1={},eS={exports:{}},tS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R;function Jfe(){if(_R)return tS;_R=1;var e=of();function t(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(p,b){var v=b(),S=r({inst:{value:v,getSnapshot:b}}),w=S[0].inst,_=S[1];return a(function(){w.value=v,w.getSnapshot=b,u(w)&&_({inst:w})},[p,v,b]),i(function(){return u(w)&&_({inst:w}),p(function(){u(w)&&_({inst:w})})},[p]),o(v),v}function u(p){var b=p.getSnapshot;p=p.value;try{var v=b();return!n(p,v)}catch{return!0}}function f(p,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return tS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,tS}var wR;function Qfe(){return wR||(wR=1,eS.exports=Jfe()),eS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SR;function ehe(){if(SR)return Q1;SR=1;var e=of(),t=Qfe();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Q1.useSyncExternalStoreWithSelector=function(f,h,p,b,v){var S=a(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=l(function(){function T(P){if(!N){if(N=!0,j=P,P=b(P),v!==void 0&&w.hasValue){var $=w.value;if(v($,P))return C=$}return C=P}if($=C,r(j,P))return $;var F=b(P);return v!==void 0&&v($,F)?(j=P,$):(j=P,C=F)}var N=!1,j,C,D=p===void 0?null:p;return[function(){return T(h())},D===null?void 0:function(){return T(D())}]},[h,p,b,v]);var _=i(f,S[0],S[1]);return o(function(){w.hasValue=!0,w.value=_},[_]),u(_),_},Q1}var kR;function the(){return kR||(kR=1,J1.exports=ehe()),J1.exports}var nhe=the(),$A=k.createContext(null),rhe=e=>e,ur=()=>{var e=k.useContext($A);return e?e.store.dispatch:rhe},Eb=()=>{},ihe=()=>Eb,ahe=(e,t)=>e===t;function et(e){var t=k.useContext($A);return nhe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ihe,t?t.store.getState:Eb,t?t.store.getState:Eb,t?e:Eb,ahe)}function ohe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function she(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function lhe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var ER=e=>Array.isArray(e)?e:[e];function che(e){const t=Array.isArray(e[0])?e[0]:e;return lhe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function uhe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var dhe=class{constructor(e){this.value=e}deref(){return this.value}},fhe=typeof WeakRef<"u"?WeakRef:dhe,hhe=0,AR=1;function W0(){return{s:hhe,v:void 0,o:null,p:null}}function O7(e,t={}){let n=W0();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let l=n;const{length:u}=arguments;for(let p=0,b=u;p<b;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let S=l.o;S===null&&(l.o=S=new WeakMap);const w=S.get(v);w===void 0?(l=W0(),S.set(v,l)):l=w}else{let S=l.p;S===null&&(l.p=S=new Map);const w=S.get(v);w===void 0?(l=W0(),S.set(v,l)):l=w}}const f=l;let h;if(l.s===AR)h=l.v;else if(h=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new fhe(h):h}return f.s=AR,f.v=h,h}return o.clearCache=()=>{n=W0(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function mhe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,l,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),ohe(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...u},{memoize:p,memoizeOptions:b=[],argsMemoize:v=O7,argsMemoizeOptions:S=[]}=h,w=ER(b),_=ER(S),T=che(i),N=p(function(){return a++,f.apply(null,arguments)},...w),j=v(function(){o++;const D=uhe(T,arguments);return l=N.apply(null,D),l},..._);return Object.assign(j,{resultFunc:f,memoizedResultFunc:N,dependencies:T,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var xe=mhe(O7),phe=Object.assign((e,t=xe)=>{she(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>phe}),nS={},rS={},iS={},TR;function ghe(){return TR||(TR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(iS)),iS}var aS={},oS={},jR;function N7(){return jR||(jR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(oS)),oS}var OR;function bhe(){return OR||(OR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N7(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(aS)),aS}var NR;function yhe(){return NR||(NR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ghe(),n=bhe(),r=DA();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const f=(v,S)=>{let w=v;for(let _=0;_<S.length&&w!=null;++_)w=w[S[_]];return w},h=(v,S)=>S==null||v==null?S:typeof v=="object"&&"key"in v?Object.hasOwn(S,v.key)?S[v.key]:f(S,v.path):typeof v=="function"?v(S):Array.isArray(v)?f(S,v):typeof S=="object"?S[v]:S,p=o.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:p.map(S=>h(S,v))})).slice().sort((v,S)=>{for(let w=0;w<p.length;w++){const _=t.compareValues(v.criteria[w],S.criteria[w],l[w]);if(_!==0)return _}return 0}).map(v=>v.original)}e.orderBy=i})(rS)),rS}var sS={},CR;function vhe(){return CR||(CR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let f=0;f<l.length;f++){const h=l[f];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}e.flatten=t})(sS)),sS}var lS={},MR;function C7(){return MR||(MR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j7(),n=IA(),r=_7(),i=S7();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}e.isIterateeCall=a})(lS)),lS}var DR;function xhe(){return DR||(DR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yhe(),n=vhe(),r=C7();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(nS)),nS}var cS,PR;function _he(){return PR||(PR=1,cS=xhe().sortBy),cS}var whe=_he();const Uv=hi(whe);var M7=e=>e.legend.settings,She=e=>e.legend.size,khe=e=>e.legend.payload;xe([khe,M7],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Uv(r,n):r});var V0=1;function Ehe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=k.useState({height:0,left:0,top:0,width:0}),r=k.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>V0||Math.abs(o.left-t.left)>V0||Math.abs(o.top-t.top)>V0||Math.abs(o.width-t.width)>V0)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var D7=Symbol.for("immer-nothing"),RR=Symbol.for("immer-draftable"),Gr=Symbol.for("immer-state");function Ia(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Li=Object,Qd=Li.getPrototypeOf,yy="constructor",Fv="prototype",cE="configurable",vy="enumerable",Ab="writable",zm="value",ws=e=>!!e&&!!e[Gr];function Ya(e){return e?P7(e)||Hv(e)||!!e[RR]||!!e[yy]?.[RR]||Gv(e)||qv(e):!1}var Ahe=Li[Fv][yy].toString(),LR=new WeakMap;function P7(e){if(!e||!BA(e))return!1;const t=Qd(e);if(t===null||t===Li[Fv])return!0;const n=Li.hasOwnProperty.call(t,yy)&&t[yy];if(n===Object)return!0;if(!Ed(n))return!1;let r=LR.get(n);return r===void 0&&(r=Function.toString.call(n),LR.set(n,r)),r===Ahe}function vp(e,t,n=!0){xp(e)===0?(n?Reflect.ownKeys(e):Li.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function xp(e){const t=e[Gr];return t?t.type_:Hv(e)?1:Gv(e)?2:qv(e)?3:0}var IR=(e,t,n=xp(e))=>n===2?e.has(t):Li[Fv].hasOwnProperty.call(e,t),uE=(e,t,n=xp(e))=>n===2?e.get(t):e[t],xy=(e,t,n,r=xp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function The(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Hv=Array.isArray,Gv=e=>e instanceof Map,qv=e=>e instanceof Set,BA=e=>typeof e=="object",Ed=e=>typeof e=="function",uS=e=>typeof e=="boolean",cs=e=>e.copy_||e.base_,zA=e=>e.modified_?e.copy_:e.base_;function dE(e,t){if(Gv(e))return new Map(e);if(qv(e))return new Set(e);if(Hv(e))return Array[Fv].slice.call(e);const n=P7(e);if(t===!0||t==="class_only"&&!n){const r=Li.getOwnPropertyDescriptors(e);delete r[Gr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[Ab]===!1&&(l[Ab]=!0,l[cE]=!0),(l.get||l.set)&&(r[o]={[cE]:!0,[Ab]:!0,[vy]:l[vy],[zm]:e[o]})}return Li.create(Qd(e),r)}else{const r=Qd(e);if(r!==null&&n)return{...e};const i=Li.create(r);return Li.assign(i,e)}}function UA(e,t=!1){return Yv(e)||ws(e)||!Ya(e)||(xp(e)>1&&Li.defineProperties(e,{set:Z0,add:Z0,clear:Z0,delete:Z0}),Li.freeze(e),t&&vp(e,(n,r)=>{UA(r,!0)},!1)),e}function jhe(){Ia(2)}var Z0={[zm]:jhe};function Yv(e){return e===null||!BA(e)?!0:Li.isFrozen(e)}var _y="MapSet",fE="Patches",R7={};function ef(e){const t=R7[e];return t||Ia(0,e),t}var Ohe=e=>!!R7[e],Um,L7=()=>Um,Nhe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Ohe(_y)?ef(_y):void 0});function $R(e,t){t&&(e.patchPlugin_=ef(fE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hE(e){mE(e),e.drafts_.forEach(Che),e.drafts_=null}function mE(e){e===Um&&(Um=e.parent_)}var BR=e=>Um=Nhe(Um,e);function Che(e){const t=e[Gr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Gr].modified_&&(hE(t),Ia(4)),Ya(e)&&(e=UR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Gr].base_,e,t)}else e=UR(t,n);return Mhe(t,e,!0),hE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==D7?e:void 0}function UR(e,t){if(Yv(t))return t;const n=t[Gr];if(!n)return FA(t,e.handledSet_,e);if(!Kv(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);B7(n,e)}return n.copy_}function Mhe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&UA(t,n)}function I7(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Kv=(e,t)=>e.scope_===t,Dhe=[];function $7(e,t,n,r){const i=cs(e),a=e.type_;if(r!==void 0&&uE(i,r,a)===t){xy(i,r,n,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;vp(i,(u,f)=>{if(ws(f)){const h=l.get(f)||[];h.push(u),l.set(f,h)}})}const o=e.draftLocations_.get(t)??Dhe;for(const l of o)xy(i,l,n,a)}function Phe(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!Kv(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=zA(a);$7(e,a.draft_??a,o,n),B7(a,i)})}function B7(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}I7(e)}}function Rhe(e,t,n){const{scope_:r}=e;if(ws(n)){const i=n[Gr];Kv(i,r)&&i.callbacks_.push(function(){Tb(e);const o=zA(i);$7(e,n,o,t)})}else Ya(n)&&e.callbacks_.push(function(){const a=cs(e);uE(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&FA(uE(e.copy_,t,e.type_),r.handledSet_,r)})}function FA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ws(e)||t.has(e)||!Ya(e)||Yv(e)||(t.add(e),vp(e,(r,i)=>{if(ws(i)){const a=i[Gr];if(Kv(a,n)){const o=zA(a);xy(e,r,o,e.type_),I7(a)}}else Ya(i)&&FA(i,t,n)})),e}function Lhe(e,t){const n=Hv(e),r={type_:n?1:0,scope_:t?t.scope_:L7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=HA;n&&(i=[r],a=Fm);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var HA={get(e,t){if(t===Gr)return e;const n=cs(e);if(!IR(n,t,e.type_))return Ihe(e,n,t);const r=n[t];if(e.finalized_||!Ya(r))return r;if(r===dS(e.base_,t)){Tb(e);const i=e.type_===1?+t:t,a=gE(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in cs(e)},ownKeys(e){return Reflect.ownKeys(cs(e))},set(e,t,n){const r=z7(cs(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=dS(cs(e),t),a=i?.[Gr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(The(n,i)&&(n!==void 0||IR(e.base_,t,e.type_)))return!0;Tb(e),pE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Rhe(e,t,n)),!0},deleteProperty(e,t){return Tb(e),dS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),pE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=cs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Ab]:!0,[cE]:e.type_!==1||t!=="length",[vy]:r[vy],[zm]:n[t]}},defineProperty(){Ia(11)},getPrototypeOf(e){return Qd(e.base_)},setPrototypeOf(){Ia(12)}},Fm={};vp(HA,(e,t)=>{Fm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Fm.deleteProperty=function(e,t){return Fm.set.call(this,e,t,void 0)};Fm.set=function(e,t,n){return HA.set.call(this,e[0],t,n,e[0])};function dS(e,t){const n=e[Gr];return(n?cs(n):e)[t]}function Ihe(e,t,n){const r=z7(t,n);return r?zm in r?r[zm]:r.get?.call(e.draft_):void 0}function z7(e,t){if(!(t in e))return;let n=Qd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Qd(n)}}function pE(e){e.modified_||(e.modified_=!0,e.parent_&&pE(e.parent_))}function Tb(e){e.copy_||(e.assigned_=new Map,e.copy_=dE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $he=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ed(n)&&!Ed(r)){const o=r;r=n;const l=this;return function(f=o,...h){return l.produce(f,p=>r.call(this,p,...h))}}Ed(r)||Ia(6),i!==void 0&&!Ed(i)&&Ia(7);let a;if(Ya(n)){const o=BR(this),l=gE(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?hE(o):mE(o)}return $R(o,i),zR(a,o)}else if(!n||!BA(n)){if(a=r(n),a===void 0&&(a=n),a===D7&&(a=void 0),this.autoFreeze_&&UA(a,!0),i){const o=[],l=[];ef(fE).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Ia(1,n)},this.produceWithPatches=(n,r)=>{if(Ed(n))return(l,...u)=>this.produceWithPatches(l,f=>n(f,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},uS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),uS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),uS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ya(t)||Ia(8),ws(t)&&(t=Ua(t));const n=BR(this),r=gE(n,t,void 0);return r[Gr].isManual_=!0,mE(n),r}finishDraft(t,n){const r=t&&t[Gr];(!r||!r.isManual_)&&Ia(9);const{scope_:i}=r;return $R(i,n),zR(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=ef(fE).applyPatches_;return ws(t)?i(t,n):this.produce(t,a=>i(a,n))}};function gE(e,t,n,r){const[i,a]=Gv(t)?ef(_y).proxyMap_(t,n):qv(t)?ef(_y).proxySet_(t,n):Lhe(t,n);return(n?.scope_??L7()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Phe(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=u;a.modified_&&f&&f.generatePatches_(a,[],u)}),i}function Ua(e){return ws(e)||Ia(10,e),U7(e)}function U7(e){if(!Ya(e)||Yv(e))return e;const t=e[Gr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=dE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=dE(e,!0);return vp(n,(i,a)=>{xy(n,i,U7(a))},r),t&&(t.finalized_=!1),n}var Bhe=new $he,F7=Bhe.produce;function H7(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var zhe=H7(),Uhe=H7,Fhe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Am:Am.apply(null,arguments)};function ga(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Bi(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>h5(r)&&r.type===e,n}var G7=class cm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,cm.prototype)}static get[Symbol.species](){return cm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new cm(...t[0].concat(this)):new cm(...t.concat(this))}};function FR(e){return Ya(e)?F7(e,()=>{}):e}function X0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Hhe(e){return typeof e=="boolean"}var Ghe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new G7;return n&&(Hhe(n)?o.push(zhe):o.push(Uhe(n.extraArgument))),o},q7="RTK_autoBatch",an=()=>e=>({payload:e,meta:{[q7]:!0}}),HR=e=>t=>{setTimeout(t,e)},Y7=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HR(10):e.type==="callback"?e.queueNotification:HR(e.timeout),f=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),b=r.subscribe(p);return l.add(h),()=>{b(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[q7],a=!i,a&&(o||(o=!0,u(f))),r.dispatch(h)}finally{i=!0}}})},qhe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new G7(e);return r&&i.push(Y7(typeof r=="object"?r:void 0)),i};function Yhe(e){const t=Ghe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(T2(n))l=d5(n);else throw new Error(Bi(1));let u;typeof r=="function"?u=r(t):u=t();let f=Am;i&&(f=Fhe({trace:!1,...typeof i=="object"&&i}));const h=f5(...u),p=qhe(h);let b=typeof o=="function"?o(p):p();const v=f(...b);return j2(l,a,v)}function K7(e){const t={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Bi(28));if(l in t)throw new Error(Bi(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Khe(e){return typeof e=="function"}function Whe(e,t){let[n,r,i]=K7(t),a;if(Khe(e))a=()=>FR(e());else{const l=FR(e);a=()=>l}function o(l=a(),u){let f=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(ws(h)){const v=p(h,u);return v===void 0?h:v}else{if(Ya(h))return F7(h,b=>p(b,u));{const b=p(h,u);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},l)}return o.getInitialState=a,o}var Vhe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Zhe=(e=21)=>{let t="",n=e;for(;n--;)t+=Vhe[Math.random()*64|0];return t},Xhe=Symbol.for("rtk-slice-createasyncthunk");function Jhe(e,t){return`${e}/${t}`}function Qhe({creators:e}={}){const t=e?.asyncThunk?.[Xhe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Bi(11));const o=(typeof r.reducers=="function"?r.reducers(tme()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(j,C){const D=typeof j=="string"?j:j.type;if(!D)throw new Error(Bi(12));if(D in u.sliceCaseReducersByType)throw new Error(Bi(13));return u.sliceCaseReducersByType[D]=C,f},addMatcher(j,C){return u.sliceMatchers.push({matcher:j,reducer:C}),f},exposeAction(j,C){return u.actionCreators[j]=C,f},exposeCaseReducer(j,C){return u.sliceCaseReducersByName[j]=C,f}};l.forEach(j=>{const C=o[j],D={reducerName:j,type:Jhe(i,j),createNotation:typeof r.reducers=="function"};rme(C)?ame(D,C,f,t):nme(D,C,f)});function h(){const[j={},C=[],D=void 0]=typeof r.extraReducers=="function"?K7(r.extraReducers):[r.extraReducers],P={...j,...u.sliceCaseReducersByType};return Whe(r.initialState,$=>{for(let F in P)$.addCase(F,P[F]);for(let F of u.sliceMatchers)$.addMatcher(F.matcher,F.reducer);for(let F of C)$.addMatcher(F.matcher,F.reducer);D&&$.addDefaultCase(D)})}const p=j=>j,b=new Map,v=new WeakMap;let S;function w(j,C){return S||(S=h()),S(j,C)}function _(){return S||(S=h()),S.getInitialState()}function T(j,C=!1){function D($){let F=$[j];return typeof F>"u"&&C&&(F=X0(v,D,_)),F}function P($=p){const F=X0(b,C,()=>new WeakMap);return X0(F,$,()=>{const Y={};for(const[K,H]of Object.entries(r.selectors??{}))Y[K]=eme(H,$,()=>X0(v,$,_),C);return Y})}return{reducerPath:j,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const N={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...T(a),injectInto(j,{reducerPath:C,...D}={}){const P=C??a;return j.inject({reducerPath:P,reducer:w},D),{...N,...T(P,!0)}}};return N}}function eme(e,t,n,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var mi=Qhe();function tme(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function nme({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!ime(r))throw new Error(Bi(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ga(e,o):ga(e))}function rme(e){return e._reducerDefinitionType==="asyncThunk"}function ime(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ame({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Bi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:f,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:o||J0,pending:l||J0,rejected:u||J0,settled:f||J0})}function J0(){}var ome="task",W7="listener",V7="completed",GA="cancelled",sme=`task-${GA}`,lme=`task-${V7}`,bE=`${W7}-${GA}`,cme=`${W7}-${V7}`,Wv=class{constructor(e){this.code=e,this.message=`${ome} ${GA} (reason: ${e})`}name="TaskAbortError";message},qA=(e,t)=>{if(typeof e!="function")throw new TypeError(Bi(32))},wy=()=>{},Z7=(e,t=wy)=>(e.catch(t),e),X7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),iu=e=>{if(e.aborted)throw new Wv(e.reason)};function J7(e,t){let n=wy;return new Promise((r,i)=>{const a=()=>i(new Wv(e.reason));if(e.aborted){a();return}n=X7(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=wy})}var ume=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Wv?"cancelled":"rejected",error:n}}finally{t?.()}},Sy=e=>t=>Z7(J7(e,t).then(n=>(iu(e),n))),Q7=e=>{const t=Sy(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Bd}=Object,GR={},Vv="listenerMiddleware",dme=(e,t)=>{const n=r=>X7(e,()=>r.abort(e.reason));return(r,i)=>{qA(r);const a=new AbortController;n(a);const o=ume(async()=>{iu(e),iu(a.signal);const l=await r({pause:Sy(a.signal),delay:Q7(a.signal),signal:a.signal});return iu(a.signal),l},()=>a.abort(lme));return i?.autoJoin&&t.push(o.catch(wy)),{result:Sy(e)(o),cancel(){a.abort(sme)}}}},fme=(e,t)=>{const n=async(r,i)=>{iu(t);let a=()=>{};const l=[new Promise((u,f)=>{let h=e({predicate:r,effect:(p,b)=>{b.unsubscribe(),u([p,b.getState(),b.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await J7(t,Promise.race(l));return iu(t),u}finally{a()}};return(r,i)=>Z7(n(r,i))},e9=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ga(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Bi(21));return qA(a),{predicate:i,type:t,effect:a}},t9=Bd(e=>{const{type:t,predicate:n,effect:r}=e9(e);return{id:Zhe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Bi(22))}}},{withTypes:()=>t9}),qR=(e,t)=>{const{type:n,effect:r,predicate:i}=e9(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},yE=e=>{e.pending.forEach(t=>{t.abort(bE)})},hme=(e,t)=>()=>{for(const n of t.keys())yE(n);e.clear()},YR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},n9=Bd(ga(`${Vv}/add`),{withTypes:()=>n9}),mme=ga(`${Vv}/removeAll`),r9=Bd(ga(`${Vv}/remove`),{withTypes:()=>r9}),pme=(...e)=>{console.error(`${Vv}/error`,...e)},_p=(e={})=>{const t=new Map,n=new Map,r=v=>{const S=n.get(v)??0;n.set(v,S+1)},i=v=>{const S=n.get(v)??1;S===1?n.delete(v):n.set(v,S-1)},{extra:a,onError:o=pme}=e;qA(o);const l=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),S=>{v.unsubscribe(),S?.cancelActive&&yE(v)}),u=v=>{const S=qR(t,v)??t9(v);return l(S)};Bd(u,{withTypes:()=>u});const f=v=>{const S=qR(t,v);return S&&(S.unsubscribe(),v.cancelActive&&yE(S)),!!S};Bd(f,{withTypes:()=>f});const h=async(v,S,w,_)=>{const T=new AbortController,N=fme(u,T.signal),j=[];try{v.pending.add(T),r(v),await Promise.resolve(v.effect(S,Bd({},w,{getOriginalState:_,condition:(C,D)=>N(C,D).then(Boolean),take:N,delay:Q7(T.signal),pause:Sy(T.signal),extra:a,signal:T.signal,fork:dme(T.signal,j),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((C,D,P)=>{C!==T&&(C.abort(bE),P.delete(C))})},cancel:()=>{T.abort(bE),v.pending.delete(T)},throwIfCancelled:()=>{iu(T.signal)}})))}catch(C){C instanceof Wv||YR(o,C,{raisedBy:"effect"})}finally{await Promise.all(j),T.abort(cme),i(v),v.pending.delete(T)}},p=hme(t,n);return{middleware:v=>S=>w=>{if(!h5(w))return S(w);if(n9.match(w))return u(w.payload);if(mme.match(w)){p();return}if(r9.match(w))return f(w.payload);let _=v.getState();const T=()=>{if(_===GR)throw new Error(Bi(23));return _};let N;try{if(N=S(w),t.size>0){const j=v.getState(),C=Array.from(t.values());for(const D of C){let P=!1;try{P=D.predicate(w,j,_)}catch($){P=!1,YR(o,$,{raisedBy:"predicate"})}P&&h(D,w,v,T)}}}finally{_=GR}return N},startListening:u,stopListening:f,clearListeners:p}};function Bi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gme={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},i9=mi({name:"chartLayout",initialState:gme,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:bme,setLayout:yme,setChartSize:vme,setScale:xme}=i9.actions,_me=i9.reducer;function a9(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(r){wme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wme(e,t,n){return(t=Sme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sme(e){var t=kme(e,"string");return typeof t=="symbol"?t:t+""}function kme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cr(e,t,n){return _r(e)||_r(t)?n:jo(t)?zv(e,t,n):typeof t=="function"?t(e):n}var Eme=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&Xe(e[a]))return Nd(Nd({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&Xe(e[o]))return Nd(Nd({},e),{},{[o]:e[o]+(i||0)})}return e},js=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",o9=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(n),o},s9=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:b,axisType:v}=e;if(!o)return null;var S=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/S:0;if(w=v==="angleAxis"&&a&&a.length>=2?ua(a[0]-a[1])*2*w:w,p||b){var _=(p||b||[]).map((T,N)=>{var j=r?r.indexOf(T):T;return{coordinate:o(j)+w,value:T,offset:w,index:N}});return _.filter(T=>!qa(T.coordinate))}return u&&f?f.map((T,N)=>({coordinate:o(T)+w,value:T,index:N,offset:w})):o.ticks&&h!=null?o.ticks(h).map((T,N)=>({coordinate:o(T)+w,value:T,offset:w,index:N})):o.domain().map((T,N)=>({coordinate:o(T)+w,value:r?r[T]:T,index:N,offset:w}))},WR=1e-4,Ame=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-WR,a=Math.max(r[0],r[1])+WR,o=e(t[0]),l=e(t[n-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},Tme=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var l=qa(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},jme=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=qa(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Ome={sign:Tme,expand:bfe,none:Jd,silhouette:yfe,wiggle:vfe,positive:jme},Nme=(e,t,n)=>{var r=Ome[n],i=gfe().keys(t).value((a,o)=>Number(Cr(a,o,0))).order(lE).offset(r);return i(e)};function Cme(e){return e==null?void 0:String(e)}function VR(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!_r(i[t.dataKey])){var l=y7(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Cr(i,_r(o)?t.dataKey:o);return _r(u)?null:t.scale(u)}var Mme=e=>{var t=e.flat(2).filter(Xe);return[Math.min(...t),Math.max(...t)]},Dme=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Pme=(e,t,n)=>{if(e!=null)return Dme(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,l=o.reduce((u,f)=>{var h=a9(f,t,n),p=Mme(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},ZR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ky=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Uv(t,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],f=i[o-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function JR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Nd(Nd({},t),{},{dataKey:n,payload:r,value:i,name:a})}function l9(e,t){if(e)return String(e);if(typeof t=="string")return t}var Rme=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Lme=(e,t)=>t==="centric"?e.angle:e.radius,Os=e=>e.layout.width,Ns=e=>e.layout.height,Ime=e=>e.layout.scale,c9=e=>e.layout.margin,Zv=xe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Xv=xe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),$me="data-recharts-item-index",Bme="data-recharts-item-data-key",wp=60;function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(r){zme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zme(e,t,n){return(t=Ume(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ume(e){var t=Fme(e,"string");return typeof t=="symbol"?t:t+""}function Fme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hme=e=>e.brush.height;function Gme(e){var t=Xv(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:wp;return n+i}return n},0)}function qme(e){var t=Xv(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:wp;return n+i}return n},0)}function Yme(e){var t=Zv(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Kme(e){var t=Zv(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var kr=xe([Os,Ns,c9,Hme,Gme,qme,Yme,Kme,M7,She],(e,t,n,r,i,a,o,l,u,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},b=Q0(Q0({},p),h),v=b.bottom;b.bottom+=r,b=Eme(b,u,f);var S=e-b.left-b.right,w=t-b.top-b.bottom;return Q0(Q0({brushBottom:v},b),{},{width:Math.max(S,0),height:Math.max(w,0)})}),Wme=xe(kr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),u9=xe(Os,Ns,(e,t)=>({x:0,y:0,width:e,height:t})),Vme=k.createContext(null),pi=()=>k.useContext(Vme)!=null,Jv=e=>e.brush,Qv=xe([Jv,kr,c9],(e,t,n)=>({height:e.height,x:Xe(e.x)?e.x:t.left,y:Xe(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Xe(e.width)?e.width:t.width})),fS={},hS={},mS={},eL;function Zme(){return eL||(eL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{f&&h(),w()};let b=null;const v=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{S(),o=void 0,l=null},_=()=>{h()},T=function(...N){if(i?.aborted)return;o=this,l=N;const j=b==null;v(),u&&j&&h()};return T.schedule=v,T.cancel=w,T.flush=_,i?.addEventListener("abort",w,{once:!0}),T}e.debounce=t})(mS)),mS}var tL;function Xme(){return tL||(tL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zme();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let h,p=null;const b=t.debounce(function(...w){h=r.apply(this,w),p=null},i,{edges:f}),v=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,w),p=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,w),h)},S=()=>(b.flush(),h);return v.cancel=b.cancel,v.flush=S,v}e.debounce=n})(hS)),hS}var nL;function Jme(){return nL||(nL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xme();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})(fS)),fS}var pS,rL;function Qme(){return rL||(rL=1,pS=Jme().throttle),pS}var epe=Qme();const tpe=hi(epe);var Ey=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},d9=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=_s(r)?e:Number(r),u=_s(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},npe={width:0,height:0,overflow:"visible"},rpe={width:0,overflowX:"visible"},ipe={height:0,overflowY:"visible"},ape={},ope=e=>{var{width:t,height:n}=e,r=_s(t),i=_s(n);return r&&i?npe:r?rpe:i?ipe:ape};function spe(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function wn(e){return Number.isFinite(e)}function Oo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vE.apply(null,arguments)}function iL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iL(Object(n),!0).forEach(function(r){lpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lpe(e,t,n){return(t=cpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cpe(e){var t=upe(e,"string");return typeof t=="symbol"?t:t+""}function upe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f9=k.createContext({width:-1,height:-1});function dpe(e){return Oo(e.width)&&Oo(e.height)}function h9(e){var{children:t,width:n,height:r}=e,i=k.useMemo(()=>({width:n,height:r}),[n,r]);return dpe(i)?k.createElement(f9.Provider,{value:i},t):null}var YA=()=>k.useContext(f9),fpe=k.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:f,debounce:h=0,id:p,className:b,onResize:v,style:S={}}=e,w=k.useRef(null),_=k.useRef();_.current=v,k.useImperativeHandle(t,()=>w.current);var[T,N]=k.useState({containerWidth:r.width,containerHeight:r.height}),j=k.useCallback((F,Y)=>{N(K=>{var H=Math.round(F),z=Math.round(Y);return K.containerWidth===H&&K.containerHeight===z?K:{containerWidth:H,containerHeight:z}})},[]);k.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return yp;var F=z=>{var V,{width:Z,height:X}=z[0].contentRect;j(Z,X),(V=_.current)===null||V===void 0||V.call(_,Z,X)};h>0&&(F=tpe(F,h,{trailing:!0,leading:!1}));var Y=new ResizeObserver(F),{width:K,height:H}=w.current.getBoundingClientRect();return j(K,H),Y.observe(w.current),()=>{Y.disconnect()}},[j,h]);var{containerWidth:C,containerHeight:D}=T;Ey(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:$}=d9(C,D,{width:i,height:a,aspect:n,maxHeight:u});return Ey(P!=null&&P>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,$,i,a,o,l,n),k.createElement("div",{id:p?"".concat(p):void 0,className:Qt("recharts-responsive-container",b),style:aL(aL({},S),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:w},k.createElement("div",{style:ope({width:i,height:a})},k.createElement(h9,{width:P,height:$},f)))}),hpe=k.forwardRef((e,t)=>{var n=YA();if(Oo(n.width)&&Oo(n.height))return e.children;var{width:r,height:i}=spe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=d9(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Xe(a)&&Xe(o)?k.createElement(h9,{width:a,height:o},e.children):k.createElement(fpe,vE({},e,{width:r,height:i,ref:t}))});function m9(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ex=()=>{var e,t=pi(),n=et(Wme),r=et(Qv),i=(e=et(Jv))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},mpe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},p9=()=>{var e;return(e=et(kr))!==null&&e!==void 0?e:mpe},g9=()=>et(Os),b9=()=>et(Ns),Vt=e=>e.layout.layoutType,Sp=()=>et(Vt),ppe=()=>{var e=Sp();if(e==="horizontal"||e==="vertical")return e},gpe=()=>{var e=Sp();return e!==void 0},tx=e=>{var t=ur(),n=pi(),{width:r,height:i}=e,a=YA(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),k.useEffect(()=>{!n&&Oo(o)&&Oo(l)&&t(vme({width:o,height:l}))},[t,n,o,l]),null},y9=Symbol.for("immer-nothing"),oL=Symbol.for("immer-draftable"),Fi=Symbol.for("immer-state");function $a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Hm=Object.getPrototypeOf;function tf(e){return!!e&&!!e[Fi]}function du(e){return e?v9(e)||Array.isArray(e)||!!e[oL]||!!e.constructor?.[oL]||kp(e)||rx(e):!1}var bpe=Object.prototype.constructor.toString(),sL=new WeakMap;function v9(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=sL.get(n);return r===void 0&&(r=Function.toString.call(n),sL.set(n,r)),r===bpe}function Ay(e,t,n=!0){nx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function nx(e){const t=e[Fi];return t?t.type_:Array.isArray(e)?1:kp(e)?2:rx(e)?3:0}function xE(e,t){return nx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function x9(e,t,n){const r=nx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function ype(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function kp(e){return e instanceof Map}function rx(e){return e instanceof Set}function qc(e){return e.copy_||e.base_}function _E(e,t){if(kp(e))return new Map(e);if(rx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=v9(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Fi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Hm(e),r)}else{const r=Hm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function KA(e,t=!1){return ix(e)||tf(e)||!du(e)||(nx(e)>1&&Object.defineProperties(e,{set:eb,add:eb,clear:eb,delete:eb}),Object.freeze(e),t&&Object.values(e).forEach(n=>KA(n,!0))),e}function vpe(){$a(2)}var eb={value:vpe};function ix(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var xpe={};function fu(e){const t=xpe[e];return t||$a(0,e),t}var Gm;function _9(){return Gm}function _pe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lL(e,t){t&&(fu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function wE(e){SE(e),e.drafts_.forEach(wpe),e.drafts_=null}function SE(e){e===Gm&&(Gm=e.parent_)}function cL(e){return Gm=_pe(Gm,e)}function wpe(e){const t=e[Fi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function uL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Fi].modified_&&(wE(t),$a(4)),du(e)&&(e=Ty(t,e),t.parent_||jy(t,e)),t.patches_&&fu("Patches").generateReplacementPatches_(n[Fi].base_,e,t.patches_,t.inversePatches_)):e=Ty(t,n,[]),wE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==y9?e:void 0}function Ty(e,t,n){if(ix(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Fi];if(!i)return Ay(t,(a,o)=>dL(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return jy(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),Ay(o,(u,f)=>dL(e,i,a,u,f,n,l),r),jy(e,a,!1),n&&e.patches_&&fu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function dL(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=ix(i);if(!(l&&!o)){if(tf(i)){const u=a&&t&&t.type_!==3&&!xE(t.assigned_,r)?a.concat(r):void 0,f=Ty(e,i,u);if(x9(n,r,f),tf(f))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(du(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Ty(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(kp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&jy(e,i)}}}function jy(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&KA(t,n)}function Spe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:_9(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=WA;n&&(i=[r],a=qm);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var WA={get(e,t){if(t===Fi)return e;const n=qc(e);if(!xE(n,t))return kpe(e,n,t);const r=n[t];return e.finalized_||!du(r)?r:r===gS(e.base_,t)?(bS(e),e.copy_[t]=EE(r,e)):r},has(e,t){return t in qc(e)},ownKeys(e){return Reflect.ownKeys(qc(e))},set(e,t,n){const r=w9(qc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=gS(qc(e),t),a=i?.[Fi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(ype(n,i)&&(n!==void 0||xE(e.base_,t)))return!0;bS(e),kE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return gS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,bS(e),kE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=qc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){$a(11)},getPrototypeOf(e){return Hm(e.base_)},setPrototypeOf(){$a(12)}},qm={};Ay(WA,(e,t)=>{qm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});qm.deleteProperty=function(e,t){return qm.set.call(this,e,t,void 0)};qm.set=function(e,t,n){return WA.set.call(this,e[0],t,n,e[0])};function gS(e,t){const n=e[Fi];return(n?qc(n):e)[t]}function kpe(e,t,n){const r=w9(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function w9(e,t){if(!(t in e))return;let n=Hm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Hm(n)}}function kE(e){e.modified_||(e.modified_=!0,e.parent_&&kE(e.parent_))}function bS(e){e.copy_||(e.copy_=_E(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Epe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...f){return o.produce(u,h=>n.call(this,h,...f))}}typeof n!="function"&&$a(6),r!==void 0&&typeof r!="function"&&$a(7);let i;if(du(t)){const a=cL(this),o=EE(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?wE(a):SE(a)}return lL(a,r),uL(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===y9&&(i=void 0),this.autoFreeze_&&KA(i,!0),r){const a=[],o=[];fu("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else $a(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){du(e)||$a(8),tf(e)&&(e=Ape(e));const t=cL(this),n=EE(e,void 0);return n[Fi].isManual_=!0,SE(t),n}finishDraft(e,t){const n=e&&e[Fi];(!n||!n.isManual_)&&$a(9);const{scope_:r}=n;return lL(r,t),uL(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=fu("Patches").applyPatches_;return tf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function EE(e,t){const n=kp(e)?fu("MapSet").proxyMap_(e,t):rx(e)?fu("MapSet").proxySet_(e,t):Spe(e,t);return(t?t.scope_:_9()).drafts_.push(n),n}function Ape(e){return tf(e)||$a(10,e),S9(e)}function S9(e){if(!du(e)||ix(e))return e;const t=e[Fi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=_E(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=_E(e,!0);return Ay(n,(i,a)=>{x9(n,i,S9(a))},r),t&&(t.finalized_=!1),n}var Tpe=new Epe;Tpe.produce;var jpe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},k9=mi({name:"legend",initialState:jpe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:an()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:an()},removeLegendPayload:{reducer(e,t){var n=Ua(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:an()}}}),{setLegendSize:VOe,setLegendSettings:ZOe,addLegendPayload:Ope,replaceLegendPayload:Npe,removeLegendPayload:Cpe}=k9.actions,Mpe=k9.reducer;function AE(){return AE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AE.apply(null,arguments)}function fL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(n),!0).forEach(function(r){Dpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dpe(e,t,n){return(t=Ppe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ppe(e){var t=Rpe(e,"string");return typeof t=="symbol"?t:t+""}function Rpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lpe(e){return Array.isArray(e)&&jo(e[0])&&jo(e[1])?e.join(" ~ "):e}var Ipe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:b=!1}=e,v=()=>{if(a&&a.length){var D={padding:0,margin:0},P=(l?Uv(a,l):a).map(($,F)=>{if($.type==="none")return null;var Y=$.formatter||o||Lpe,{value:K,name:H}=$,z=K,V=H;if(Y){var Z=Y(K,H,$,F,a);if(Array.isArray(Z))[z,V]=Z;else if(Z!=null)z=Z;else return null}var X=yS({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:X},jo(V)?k.createElement("span",{className:"recharts-tooltip-item-name"},V):null,jo(V)?k.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,k.createElement("span",{className:"recharts-tooltip-item-value"},z),k.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:D},P)}return null},S=yS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=yS({margin:0},i),_=!_r(h),T=_?h:"",N=Qt("recharts-default-tooltip",u),j=Qt("recharts-tooltip-label",f);_&&p&&a!==void 0&&a!==null&&(T=p(h,a));var C=b?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",AE({className:N,style:S},C),k.createElement("p",{className:j,style:w},k.isValidElement(T)?T:"".concat(T)),v())},Wh="recharts-tooltip-wrapper",$pe={visibility:"hidden"};function Bpe(e){var{coordinate:t,translateX:n,translateY:r}=e;return Qt(Wh,{["".concat(Wh,"-right")]:Xe(n)&&t&&Xe(t.x)&&n>=t.x,["".concat(Wh,"-left")]:Xe(n)&&t&&Xe(t.x)&&n<t.x,["".concat(Wh,"-bottom")]:Xe(r)&&t&&Xe(t.y)&&r>=t.y,["".concat(Wh,"-top")]:Xe(r)&&t&&Xe(t.y)&&r<t.y})}function hL(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=e;if(a&&Xe(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?h:p;var b=u[r];if(b==null)return 0;if(o[r]){var v=h,S=b;return v<S?Math.max(p,b):Math.max(h,b)}if(f==null)return 0;var w=p+l,_=b+f;return w>_?Math.max(h,b):Math.max(p,b)}function zpe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Upe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,f,h,p;return o.height>0&&o.width>0&&n?(h=hL({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=hL({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=zpe({translateX:h,translateY:p,useTranslate3d:l})):f=$pe,{cssProperties:f,cssClasses:Bpe({translateX:h,translateY:p,coordinate:n})}}function mL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mL(Object(n),!0).forEach(function(r){TE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TE(e,t,n){return(t=Fpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fpe(e){var t=Hpe(e,"string");return typeof t=="symbol"?t:t+""}function Hpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Gpe extends k.PureComponent{constructor(){super(...arguments),TE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),TE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:f,position:h,reverseDirection:p,useTranslate3d:b,viewBox:v,wrapperStyle:S,lastBoundingBox:w,innerRef:_,hasPortalFromProps:T}=this.props,{cssClasses:N,cssProperties:j}=Upe({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:v}),C=T?{}:tb(tb({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),D=tb(tb({},C),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},S);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:D,ref:_},a)}}var E9=()=>{var e;return(e=et(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function jE(){return jE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jE.apply(null,arguments)}function pL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(n),!0).forEach(function(r){qpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qpe(e,t,n){return(t=Ype(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ype(e){var t=Kpe(e,"string");return typeof t=="symbol"?t:t+""}function Kpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bL={curveBasisClosed:afe,curveBasisOpen:ofe,curveBasis:ife,curveBumpX:nfe,curveBumpY:rfe,curveLinearClosed:sfe,curveLinear:$v,curveMonotoneX:lfe,curveMonotoneY:cfe,curveNatural:ufe,curveStep:dfe,curveStepAfter:hfe,curveStepBefore:ffe},Oy=e=>wn(e.x)&&wn(e.y),yL=e=>e.base!=null&&Oy(e.base)&&Oy(e),Vh=e=>e.x,Zh=e=>e.y,Wpe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(RA(e));return(n==="curveMonotone"||n==="curveBump")&&t?bL["".concat(n).concat(t==="vertical"?"Y":"X")]:bL[n]||$v},Vpe=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=Wpe(t,i),l=a?n.filter(Oy):n,u;if(Array.isArray(r)){var f=n.map((v,S)=>gL(gL({},v),{},{base:r[S]}));i==="vertical"?u=K0().y(Zh).x1(Vh).x0(v=>v.base.x):u=K0().x(Vh).y1(Zh).y0(v=>v.base.y);var h=u.defined(yL).curve(o),p=a?f.filter(yL):f;return h(p)}i==="vertical"&&Xe(r)?u=K0().y(Zh).x1(Vh).x0(r):Xe(r)?u=K0().x(Vh).y1(Zh).y0(r):u=s7().x(Vh).y(Zh);var b=u.defined(Oy).curve(o);return b(l)},jb=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Vpe(e):r;return k.createElement("path",jE({},Ga(e),LA(e),{className:Qt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Zpe=["x","y","top","left","width","height","className"];function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OE.apply(null,arguments)}function vL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xpe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(n),!0).forEach(function(r){Jpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jpe(e,t,n){return(t=Qpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qpe(e){var t=ege(e,"string");return typeof t=="symbol"?t:t+""}function ege(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tge(e,t){if(e==null)return{};var n,r,i=nge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rge=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),ige=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=tge(e,Zpe),f=Xpe({x:t,y:n,top:r,left:i,width:a,height:o},u);return!Xe(t)||!Xe(n)||!Xe(a)||!Xe(o)||!Xe(r)||!Xe(i)?null:k.createElement("path",OE({},pa(f),{className:Qt("recharts-cross",l),d:rge(t,n,a,o,r,i)}))};function age(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function xL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _L(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(n),!0).forEach(function(r){oge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oge(e,t,n){return(t=sge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sge(e){var t=lge(e,"string");return typeof t=="symbol"?t:t+""}function lge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cge=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),uge=(e,t,n)=>e.map(r=>"".concat(cge(r)," ").concat(t,"ms ").concat(n)).join(","),dge=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ym=(e,t)=>Object.keys(t).reduce((n,r)=>_L(_L({},n),{},{[r]:e(r,t[r])}),{});function wL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wL(Object(n),!0).forEach(function(r){fge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fge(e,t,n){return(t=hge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hge(e){var t=mge(e,"string");return typeof t=="symbol"?t:t+""}function mge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ny=(e,t,n)=>e+(t-e)*n,NE=e=>{var{from:t,to:n}=e;return t!==n},A9=(e,t,n)=>{var r=Ym((i,a)=>{if(NE(a)){var[o,l]=e(a.from,a.to,a.velocity);return Yn(Yn({},a),{},{from:o,velocity:l})}return a},t);return n<1?Ym((i,a)=>NE(a)?Yn(Yn({},a),{},{velocity:Ny(a.velocity,r[i].velocity,n),from:Ny(a.from,r[i].from,n)}):a,t):A9(e,r,n-1)};function pge(e,t,n,r,i,a){var o,l=r.reduce((b,v)=>Yn(Yn({},b),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>Ym((b,v)=>v.from,l),f=()=>!Object.values(l).filter(NE).length,h=null,p=b=>{o||(o=b);var v=b-o,S=v/n.dt;l=A9(n,l,S),i(Yn(Yn(Yn({},e),t),u())),o=b,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var b;(b=h)===null||b===void 0||b()})}function gge(e,t,n,r,i,a,o){var l=null,u=i.reduce((p,b)=>Yn(Yn({},p),{},{[b]:[e[b],t[b]]}),{}),f,h=p=>{f||(f=p);var b=(p-f)/r,v=Ym((w,_)=>Ny(..._,n(b)),u);if(a(Yn(Yn(Yn({},e),t),v)),b<1)l=o.setTimeout(h);else{var S=Ym((w,_)=>Ny(..._,n(1)),u);a(Yn(Yn(Yn({},e),t),S))}};return()=>(l=o.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const bge=(e,t,n,r,i,a)=>{var o=dge(e,t);return n==null?()=>(i(Yn(Yn({},e),t)),()=>{}):n.isStepper===!0?pge(e,t,n,o,i,a):gge(e,t,n,r,o,i,a)};var Cy=1e-4,T9=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],j9=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),SL=(e,t)=>n=>{var r=T9(e,t);return j9(r,n)},yge=(e,t)=>n=>{var r=T9(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return j9(i,n)},vge=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},xge=(e,t,n,r)=>{var i=SL(e,n),a=SL(t,r),o=yge(e,n),l=f=>f>1?1:f<0?0:f,u=f=>{for(var h=f>1?1:f,p=h,b=0;b<8;++b){var v=i(p)-h,S=o(p);if(Math.abs(v-h)<Cy||S<Cy)return a(p);p=l(p-v/S)}return a(p)};return u.isStepper=!1,u},kL=function(){return xge(...vge(...arguments))},_ge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,l,u)=>{var f=-(o-l)*n,h=u*r,p=u+(f-h)*i/1e3,b=u*i/1e3+o;return Math.abs(b-l)<Cy&&Math.abs(p)<Cy?[l,0]:[b,p]};return a.isStepper=!0,a.dt=i,a},wge=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kL(e);case"spring":return _ge();default:if(e.split("(")[0]==="cubic-bezier")return kL(e)}return typeof e=="function"?e:null};function Sge(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...f]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,f),u);return}a(u),i=e.setTimeout(a.bind(null,f));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class kge{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Ege(){return Sge(new kge)}var Age=k.createContext(Ege);function Tge(e,t){var n=k.useContext(Age);return k.useMemo(()=>t??n(e),[e,t,n])}var jge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),vf={devToolsEnabled:!1,isSsr:jge()},Oge={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},EL={t:0},vS={t:1};function O9(e){var t=qi(e,Oge),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:f}=t,h=n==="auto"?!vf.isSsr:n,p=Tge(t.animationId,t.animationManager),[b,v]=k.useState(h?EL:vS),S=k.useRef(null);return k.useEffect(()=>{h||v(vS)},[h]),k.useEffect(()=>{if(!h||!r)return yp;var w=bge(EL,vS,wge(a),i,v,p.getTimeoutController()),_=()=>{S.current=w()};return p.start([u,o,_,i,l]),()=>{p.stop(),S.current&&S.current(),l()}},[h,r,i,a,o,u,l,p]),f(b.t)}function N9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=k.useRef(Bm(t)),r=k.useRef(e);return r.current!==e&&(n.current=Bm(t),r.current=e),n.current}var Nge=["radius"],Cge=["radius"];function AL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(n),!0).forEach(function(r){Mge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mge(e,t,n){return(t=Dge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dge(e){var t=Pge(e,"string");return typeof t=="symbol"?t:t+""}function Pge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(null,arguments)}function jL(e,t){if(e==null)return{};var n,r,i=Rge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OL=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,b=4;p<b;p++)h[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),f+="L ".concat(e+n-l*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*h[1])),f+="L ".concat(e+n,",").concat(t+r-o*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(t+r)),f+="L ".concat(e+l*h[3],",").concat(t+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);f="M ".concat(e,",").concat(t+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(t,`
            L `).concat(e+n-l*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*v,`
            L `).concat(e+n,",").concat(t+r-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-l*v,",").concat(t+r,`
            L `).concat(e+l*v,",").concat(t+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*v," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},NL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lge=e=>{var t=qi(e,NL),n=k.useRef(null),[r,i]=k.useState(-1);k.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:f,className:h}=t,{animationEasing:p,animationDuration:b,animationBegin:v,isAnimationActive:S,isUpdateAnimationActive:w}=t,_=k.useRef(l),T=k.useRef(u),N=k.useRef(a),j=k.useRef(o),C=k.useMemo(()=>({x:a,y:o,width:l,height:u,radius:f}),[a,o,l,u,f]),D=N9(C,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var P=Qt("recharts-rectangle",h);if(!w){var $=pa(t),{radius:F}=$,Y=jL($,Nge);return k.createElement("path",My({},Y,{radius:typeof f=="number"?f:void 0,className:P,d:OL(a,o,l,u,f)}))}var K=_.current,H=T.current,z=N.current,V=j.current,Z="0px ".concat(r===-1?1:r,"px"),X="".concat(r,"px 0px"),q=uge(["strokeDasharray"],b,typeof p=="string"?p:NL.animationEasing);return k.createElement(O9,{animationId:D,key:D,canBegin:r>0,duration:b,easing:p,isActive:w,begin:v},J=>{var ne=vo(K,l,J),de=vo(H,u,J),oe=vo(z,a,J),B=vo(V,o,J);n.current&&(_.current=ne,T.current=de,N.current=oe,j.current=B);var W;S?J>0?W={transition:q,strokeDasharray:X}:W={strokeDasharray:Z}:W={strokeDasharray:X};var ie=pa(t),{radius:Q}=ie,se=jL(ie,Cge);return k.createElement("path",My({},se,{radius:typeof f=="number"?f:void 0,className:P,d:OL(oe,B,ne,de,f),ref:n,style:TL(TL({},W),t.style)}))})};function CL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ML(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CL(Object(n),!0).forEach(function(r){Ige(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ige(e,t,n){return(t=$ge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ge(e){var t=Bge(e,"string");return typeof t=="symbol"?t:t+""}function Bge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dy=Math.PI/180,zge=e=>e*180/Math.PI,xr=(e,t,n,r)=>({x:e+Math.cos(-Dy*r)*n,y:t+Math.sin(-Dy*r)*n}),Uge=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Fge=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Hge=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Fge({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:zge(u),angleInRadian:u}},Gge=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},qge=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},Yge=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Hge({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:f}=Gge(t),h=a,p;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=u}return p?ML(ML({},t),{},{radius:i,angle:qge(h,t)}):null};function C9(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=xr(t,n,r,i),l=xr(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function CE(){return CE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CE.apply(null,arguments)}var Kge=(e,t)=>{var n=ua(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},nb=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,f=l*(o?1:-1)+r,h=Math.asin(l/f)/Dy,p=u?i:i+a*h,b=xr(t,n,f,p),v=xr(t,n,r,p),S=u?i-a*h:i,w=xr(t,n,f*Math.cos(h*Dy),S);return{center:b,circleTangency:v,lineTangency:w,theta:h}},M9=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,l=Kge(a,o),u=a+l,f=xr(t,n,i,a),h=xr(t,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=xr(t,n,r,a),v=xr(t,n,r,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(b.x,",").concat(b.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Wge=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:f}=e,h=ua(f-u),{circleTangency:p,lineTangency:b,theta:v}=nb({cx:t,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:S,lineTangency:w,theta:_}=nb({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:l}),T=l?Math.abs(u-f):Math.abs(u-f)-v-_;if(T<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):M9({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var N="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:C,theta:D}=nb({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:P,lineTangency:$,theta:F}=nb({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),Y=l?Math.abs(u-f):Math.abs(u-f)-D-F;if(Y<0&&a===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Y>180),",").concat(+(h>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},Vge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Zge=e=>{var t=qi(e,Vge),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h,className:p}=t;if(a<i||f===h)return null;var b=Qt("recharts-sector",p),v=a-i,S=Il(o,v,0,!0),w;return S>0&&Math.abs(f-h)<360?w=Wge({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(S,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}):w=M9({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),k.createElement("path",CE({},pa(t),{className:b,d:w}))};function Xge(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(v7(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=xr(r,i,a,l),f=xr(r,i,o,l);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return C9(t)}}var xS={},_S={},wS={},DL;function Jge(){return DL||(DL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N7();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(wS)),wS}var PL;function Qge(){return PL||(PL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jge();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(_S)),_S}var RL;function e0e(){return RL||(RL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C7(),n=Qge();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=i,i+=o;return u}e.range=r})(xS)),xS}var SS,LL;function t0e(){return LL||(LL=1,SS=e0e().range),SS}var n0e=t0e();const D9=hi(n0e);function Ml(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function r0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VA(e){let t,n,r;e.length!==2?(t=Ml,n=(l,u)=>Ml(e(l),u),r=(l,u)=>e(l)-u):(t=e===Ml||e===r0e?e:i0e,n=e,r=e);function i(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<0?f=p+1:h=p}while(f<h)}return f}function a(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<=0?f=p+1:h=p}while(f<h)}return f}function o(l,u,f=0,h=l.length){const p=i(l,u,f,h-1);return p>f&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:o,right:a}}function i0e(){return 0}function P9(e){return e===null?NaN:+e}function*a0e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const o0e=VA(Ml),Ep=o0e.right;VA(P9).center;class IL extends Map{constructor(t,n=c0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get($L(this,t))}has(t){return super.has($L(this,t))}set(t,n){return super.set(s0e(this,t),n)}delete(t){return super.delete(l0e(this,t))}}function $L({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function s0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function l0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function c0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function u0e(e=Ml){if(e===Ml)return R9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function R9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const d0e=Math.sqrt(50),f0e=Math.sqrt(10),h0e=Math.sqrt(2);function Py(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=d0e?10:a>=f0e?5:a>=h0e?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*o,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=n&&n<2?Py(e,t,n*2):[l,u,f]}function ME(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Py(t,e,n):Py(e,t,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)u[f]=(a-f)/-o;else for(let f=0;f<l;++f)u[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(i+f)/-o;else for(let f=0;f<l;++f)u[f]=(i+f)*o;return u}function DE(e,t,n){return t=+t,e=+e,n=+n,Py(e,t,n)[2]}function PE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?DE(t,e,n):DE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function BL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function zL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function L9(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?R9:u0e(i);r>n;){if(r-n>600){const u=r-n+1,f=t-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*p*(u-p)/u)*(f-u/2<0?-1:1),v=Math.max(n,Math.floor(t-f*p/u+b)),S=Math.min(r,Math.floor(t+(u-f)*p/u+b));L9(e,t,v,S,i)}const a=e[t];let o=n,l=r;for(Xh(e,n,t),i(e[r],a)>0&&Xh(e,n,r);o<l;){for(Xh(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Xh(e,n,l):(++l,Xh(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Xh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function m0e(e,t,n){if(e=Float64Array.from(a0e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return zL(e);if(t>=1)return BL(e);var r,i=(r-1)*t,a=Math.floor(i),o=BL(L9(e,a).subarray(0,a+1)),l=zL(e.subarray(a+1));return o+(l-o)*(i-a)}}function p0e(e,t,n=P9){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function g0e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function xa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const RE=Symbol("implicit");function ZA(){var e=new IL,t=[],n=[],r=RE;function i(a){let o=e.get(a);if(o===void 0){if(r!==RE)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new IL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ZA(t,n).unknown(r)},xa.apply(i,arguments),i}function XA(){var e=ZA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,u=0,f=0,h=.5;delete e.unknown;function p(){var b=t().length,v=i<r,S=v?i:r,w=v?r:i;a=(w-S)/Math.max(1,b-u+f*2),l&&(a=Math.floor(a)),S+=(w-S-a*(b-u))*h,o=a*(1-u),l&&(S=Math.round(S),o=Math.round(o));var _=g0e(b).map(function(T){return S+a*T});return n(v?_.reverse():_)}return e.domain=function(b){return arguments.length?(t(b),p()):t()},e.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(b){return arguments.length?(l=!!b,p()):l},e.padding=function(b){return arguments.length?(u=Math.min(1,f=+b),p()):u},e.paddingInner=function(b){return arguments.length?(u=Math.min(1,b),p()):u},e.paddingOuter=function(b){return arguments.length?(f=+b,p()):f},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),p()):h},e.copy=function(){return XA(t(),[r,i]).round(l).paddingInner(u).paddingOuter(f).align(h)},xa.apply(p(),arguments)}function I9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return I9(t())},e}function b0e(){return I9(XA.apply(null,arguments).paddingInner(1))}function JA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $9(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ap(){}var Km=.7,Ry=1/Km,zd="\\s*([+-]?\\d+)\\s*",Wm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y0e=/^#([0-9a-f]{3,8})$/,v0e=new RegExp(`^rgb\\(${zd},${zd},${zd}\\)$`),x0e=new RegExp(`^rgb\\(${Eo},${Eo},${Eo}\\)$`),_0e=new RegExp(`^rgba\\(${zd},${zd},${zd},${Wm}\\)$`),w0e=new RegExp(`^rgba\\(${Eo},${Eo},${Eo},${Wm}\\)$`),S0e=new RegExp(`^hsl\\(${Wm},${Eo},${Eo}\\)$`),k0e=new RegExp(`^hsla\\(${Wm},${Eo},${Eo},${Wm}\\)$`),UL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JA(Ap,Vm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:FL,formatHex:FL,formatHex8:E0e,formatHsl:A0e,formatRgb:HL,toString:HL});function FL(){return this.rgb().formatHex()}function E0e(){return this.rgb().formatHex8()}function A0e(){return B9(this).formatHsl()}function HL(){return this.rgb().formatRgb()}function Vm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=y0e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?GL(t):n===3?new ci(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=v0e.exec(e))?new ci(t[1],t[2],t[3],1):(t=x0e.exec(e))?new ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_0e.exec(e))?rb(t[1],t[2],t[3],t[4]):(t=w0e.exec(e))?rb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=S0e.exec(e))?KL(t[1],t[2]/100,t[3]/100,1):(t=k0e.exec(e))?KL(t[1],t[2]/100,t[3]/100,t[4]):UL.hasOwnProperty(e)?GL(UL[e]):e==="transparent"?new ci(NaN,NaN,NaN,0):null}function GL(e){return new ci(e>>16&255,e>>8&255,e&255,1)}function rb(e,t,n,r){return r<=0&&(e=t=n=NaN),new ci(e,t,n,r)}function T0e(e){return e instanceof Ap||(e=Vm(e)),e?(e=e.rgb(),new ci(e.r,e.g,e.b,e.opacity)):new ci}function LE(e,t,n,r){return arguments.length===1?T0e(e):new ci(e,t,n,r??1)}function ci(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}JA(ci,LE,$9(Ap,{brighter(e){return e=e==null?Ry:Math.pow(Ry,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Km:Math.pow(Km,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ci(au(this.r),au(this.g),au(this.b),Ly(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qL,formatHex:qL,formatHex8:j0e,formatRgb:YL,toString:YL}));function qL(){return`#${eu(this.r)}${eu(this.g)}${eu(this.b)}`}function j0e(){return`#${eu(this.r)}${eu(this.g)}${eu(this.b)}${eu((isNaN(this.opacity)?1:this.opacity)*255)}`}function YL(){const e=Ly(this.opacity);return`${e===1?"rgb(":"rgba("}${au(this.r)}, ${au(this.g)}, ${au(this.b)}${e===1?")":`, ${e})`}`}function Ly(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function au(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eu(e){return e=au(e),(e<16?"0":"")+e.toString(16)}function KL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ba(e,t,n,r)}function B9(e){if(e instanceof Ba)return new Ba(e.h,e.s,e.l,e.opacity);if(e instanceof Ap||(e=Vm(e)),!e)return new Ba;if(e instanceof Ba)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Ba(o,l,u,e.opacity)}function O0e(e,t,n,r){return arguments.length===1?B9(e):new Ba(e,t,n,r??1)}function Ba(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}JA(Ba,O0e,$9(Ap,{brighter(e){return e=e==null?Ry:Math.pow(Ry,e),new Ba(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Km:Math.pow(Km,e),new Ba(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ci(kS(e>=240?e-240:e+120,i,r),kS(e,i,r),kS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ba(WL(this.h),ib(this.s),ib(this.l),Ly(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ly(this.opacity);return`${e===1?"hsl(":"hsla("}${WL(this.h)}, ${ib(this.s)*100}%, ${ib(this.l)*100}%${e===1?")":`, ${e})`}`}}));function WL(e){return e=(e||0)%360,e<0?e+360:e}function ib(e){return Math.max(0,Math.min(1,e||0))}function kS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const QA=e=>()=>e;function N0e(e,t){return function(n){return e+n*t}}function C0e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function M0e(e){return(e=+e)==1?z9:function(t,n){return n-t?C0e(t,n,e):QA(isNaN(t)?n:t)}}function z9(e,t){var n=t-e;return n?N0e(e,n):QA(isNaN(e)?t:e)}const VL=(function e(t){var n=M0e(t);function r(i,a){var o=n((i=LE(i)).r,(a=LE(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),f=z9(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return r.gamma=e,r})(1);function D0e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function P0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function R0e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=xf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function L0e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Iy(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function I0e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=xf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var IE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ES=new RegExp(IE.source,"g");function $0e(e){return function(){return e}}function B0e(e){return function(t){return e(t)+""}}function z0e(e,t){var n=IE.lastIndex=ES.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=IE.exec(e))&&(i=ES.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Iy(r,i)})),n=ES.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?B0e(u[0].x):$0e(t):(t=u.length,function(f){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(f);return l.join("")})}function xf(e,t){var n=typeof t,r;return t==null||n==="boolean"?QA(t):(n==="number"?Iy:n==="string"?(r=Vm(t))?(t=r,VL):z0e:t instanceof Vm?VL:t instanceof Date?L0e:P0e(t)?D0e:Array.isArray(t)?R0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?I0e:Iy)(e,t)}function eT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function U0e(e,t){t===void 0&&(t=e,e=xf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function F0e(e){return function(){return e}}function $y(e){return+e}var ZL=[0,1];function Ur(e){return e}function $E(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:F0e(isNaN(t)?NaN:.5)}function H0e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function G0e(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=$E(i,r),a=n(o,a)):(r=$E(r,i),a=n(a,o)),function(l){return a(r(l))}}function q0e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=$E(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var u=Ep(e,l,1,r)-1;return a[u](i[u](l))}}function Tp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ax(){var e=ZL,t=ZL,n=xf,r,i,a,o=Ur,l,u,f;function h(){var b=Math.min(e.length,t.length);return o!==Ur&&(o=H0e(e[0],e[b-1])),l=b>2?q0e:G0e,u=f=null,p}function p(b){return b==null||isNaN(b=+b)?a:(u||(u=l(e.map(r),t,n)))(r(o(b)))}return p.invert=function(b){return o(i((f||(f=l(t,e.map(r),Iy)))(b)))},p.domain=function(b){return arguments.length?(e=Array.from(b,$y),h()):e.slice()},p.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},p.rangeRound=function(b){return t=Array.from(b),n=eT,h()},p.clamp=function(b){return arguments.length?(o=b?!0:Ur,h()):o!==Ur},p.interpolate=function(b){return arguments.length?(n=b,h()):n},p.unknown=function(b){return arguments.length?(a=b,p):a},function(b,v){return r=b,i=v,h()}}function tT(){return ax()(Ur,Ur)}function Y0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function By(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function nf(e){return e=By(Math.abs(e)),e?e[1]:NaN}function K0e(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function W0e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var V0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zm(e){if(!(t=V0e.exec(e)))throw new Error("invalid format: "+e);var t;return new nT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zm.prototype=nT.prototype;function nT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Z0e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var U9;function X0e(e,t){var n=By(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(U9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+By(e,Math.max(0,t+a-1))[0]}function XL(e,t){var n=By(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const JL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Y0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XL(e*100,t),r:XL,s:X0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function QL(e){return e}var eI=Array.prototype.map,tI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function J0e(e){var t=e.grouping===void 0||e.thousands===void 0?QL:K0e(eI.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?QL:W0e(eI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Zm(p);var b=p.fill,v=p.align,S=p.sign,w=p.symbol,_=p.zero,T=p.width,N=p.comma,j=p.precision,C=p.trim,D=p.type;D==="n"?(N=!0,D="g"):JL[D]||(j===void 0&&(j=12),C=!0,D="g"),(_||b==="0"&&v==="=")&&(_=!0,b="0",v="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",$=w==="$"?r:/[%p]/.test(D)?o:"",F=JL[D],Y=/[defgprs%]/.test(D);j=j===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function K(H){var z=P,V=$,Z,X,q;if(D==="c")V=F(H)+V,H="";else{H=+H;var J=H<0||1/H<0;if(H=isNaN(H)?u:F(Math.abs(H),j),C&&(H=Z0e(H)),J&&+H==0&&S!=="+"&&(J=!1),z=(J?S==="("?S:l:S==="-"||S==="("?"":S)+z,V=(D==="s"?tI[8+U9/3]:"")+V+(J&&S==="("?")":""),Y){for(Z=-1,X=H.length;++Z<X;)if(q=H.charCodeAt(Z),48>q||q>57){V=(q===46?i+H.slice(Z+1):H.slice(Z))+V,H=H.slice(0,Z);break}}}N&&!_&&(H=t(H,1/0));var ne=z.length+H.length+V.length,de=ne<T?new Array(T-ne+1).join(b):"";switch(N&&_&&(H=t(de+H,de.length?T-V.length:1/0),de=""),v){case"<":H=z+H+V+de;break;case"=":H=z+de+H+V;break;case"^":H=de.slice(0,ne=de.length>>1)+z+H+V+de.slice(ne);break;default:H=de+z+H+V;break}return a(H)}return K.toString=function(){return p+""},K}function h(p,b){var v=f((p=Zm(p),p.type="f",p)),S=Math.max(-8,Math.min(8,Math.floor(nf(b)/3)))*3,w=Math.pow(10,-S),_=tI[8+S/3];return function(T){return v(w*T)+_}}return{format:f,formatPrefix:h}}var ab,rT,F9;Q0e({thousands:",",grouping:[3],currency:["$",""]});function Q0e(e){return ab=J0e(e),rT=ab.format,F9=ab.formatPrefix,ab}function ebe(e){return Math.max(0,-nf(Math.abs(e)))}function tbe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nf(t)/3)))*3-nf(Math.abs(e)))}function nbe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nf(t)-nf(e))+1}function H9(e,t,n,r){var i=PE(e,t,n),a;switch(r=Zm(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=tbe(i,o))&&(r.precision=a),F9(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=nbe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=ebe(i))&&(r.precision=a-(r.type==="%")*2);break}}return rT(r)}function Ul(e){var t=e.domain;return e.ticks=function(n){var r=t();return ME(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return H9(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],u,f,h=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=DE(o,l,n),f===u)return r[i]=o,r[a]=l,t(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function G9(){var e=tT();return e.copy=function(){return Tp(e,G9())},xa.apply(e,arguments),Ul(e)}function q9(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,$y),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return q9(e).unknown(t)},e=arguments.length?Array.from(e,$y):[0,1],Ul(n)}function Y9(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function nI(e){return Math.log(e)}function rI(e){return Math.exp(e)}function rbe(e){return-Math.log(-e)}function ibe(e){return-Math.exp(-e)}function abe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function obe(e){return e===10?abe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function sbe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iI(e){return(t,n)=>-e(-t,n)}function iT(e){const t=e(nI,rI),n=t.domain;let r=10,i,a;function o(){return i=sbe(r),a=obe(r),n()[0]<0?(i=iI(i),a=iI(a),e(rbe,ibe)):e(nI,rI),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const u=n();let f=u[0],h=u[u.length-1];const p=h<f;p&&([f,h]=[h,f]);let b=i(f),v=i(h),S,w;const _=l==null?10:+l;let T=[];if(!(r%1)&&v-b<_){if(b=Math.floor(b),v=Math.ceil(v),f>0){for(;b<=v;++b)for(S=1;S<r;++S)if(w=b<0?S/a(-b):S*a(b),!(w<f)){if(w>h)break;T.push(w)}}else for(;b<=v;++b)for(S=r-1;S>=1;--S)if(w=b>0?S/a(-b):S*a(b),!(w<f)){if(w>h)break;T.push(w)}T.length*2<_&&(T=ME(f,h,_))}else T=ME(b,v,Math.min(v-b,_)).map(a);return p?T.reverse():T},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Zm(u)).precision==null&&(u.trim=!0),u=rT(u)),l===1/0)return u;const f=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?u(h):""}},t.nice=()=>n(Y9(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function K9(){const e=iT(ax()).domain([1,10]);return e.copy=()=>Tp(e,K9()).base(e.base()),xa.apply(e,arguments),e}function aI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function aT(e){var t=1,n=e(aI(t),oI(t));return n.constant=function(r){return arguments.length?e(aI(t=+r),oI(t)):t},Ul(n)}function W9(){var e=aT(ax());return e.copy=function(){return Tp(e,W9()).constant(e.constant())},xa.apply(e,arguments)}function sI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lbe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cbe(e){return e<0?-e*e:e*e}function oT(e){var t=e(Ur,Ur),n=1;function r(){return n===1?e(Ur,Ur):n===.5?e(lbe,cbe):e(sI(n),sI(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ul(t)}function sT(){var e=oT(ax());return e.copy=function(){return Tp(e,sT()).exponent(e.exponent())},xa.apply(e,arguments),e}function ube(){return sT.apply(null,arguments).exponent(.5)}function lI(e){return Math.sign(e)*e*e}function dbe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function V9(){var e=tT(),t=[0,1],n=!1,r;function i(a){var o=dbe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(lI(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,$y)).map(lI)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return V9(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},xa.apply(i,arguments),Ul(i)}function Z9(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=p0e(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Ep(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ml),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Z9().domain(e).range(t).unknown(r)},xa.apply(a,arguments)}function X9(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[Ep(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return X9().domain([e,t]).range(i).unknown(a)},xa.apply(Ul(o),arguments)}function J9(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Ep(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return J9().domain(e).range(t).unknown(n)},xa.apply(i,arguments)}const AS=new Date,TS=new Date;function Wn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let f;do u.push(f=new Date(+a)),t(a,l),e(a);while(f<a&&a<o);return u},i.filter=a=>Wn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(AS.setTime(+a),TS.setTime(+o),e(AS),e(TS),Math.floor(n(AS,TS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const zy=Wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):zy);zy.range;const hs=1e3,da=hs*60,ms=da*60,Ss=ms*24,lT=Ss*7,cI=Ss*30,jS=Ss*365,tu=Wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getUTCSeconds());tu.range;const cT=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hs)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getMinutes());cT.range;const uT=Wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getUTCMinutes());uT.range;const dT=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hs-e.getMinutes()*da)},(e,t)=>{e.setTime(+e+t*ms)},(e,t)=>(t-e)/ms,e=>e.getHours());dT.range;const fT=Wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ms)},(e,t)=>(t-e)/ms,e=>e.getUTCHours());fT.range;const jp=Wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*da)/Ss,e=>e.getDate()-1);jp.range;const ox=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ss,e=>e.getUTCDate()-1);ox.range;const Q9=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ss,e=>Math.floor(e/Ss));Q9.range;function xu(e){return Wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*da)/lT)}const sx=xu(0),Uy=xu(1),fbe=xu(2),hbe=xu(3),rf=xu(4),mbe=xu(5),pbe=xu(6);sx.range;Uy.range;fbe.range;hbe.range;rf.range;mbe.range;pbe.range;function _u(e){return Wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/lT)}const lx=_u(0),Fy=_u(1),gbe=_u(2),bbe=_u(3),af=_u(4),ybe=_u(5),vbe=_u(6);lx.range;Fy.range;gbe.range;bbe.range;af.range;ybe.range;vbe.range;const hT=Wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hT.range;const mT=Wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mT.range;const ks=Wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ks.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ks.range;const Es=Wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Es.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Es.range;function ez(e,t,n,r,i,a){const o=[[tu,1,hs],[tu,5,5*hs],[tu,15,15*hs],[tu,30,30*hs],[a,1,da],[a,5,5*da],[a,15,15*da],[a,30,30*da],[i,1,ms],[i,3,3*ms],[i,6,6*ms],[i,12,12*ms],[r,1,Ss],[r,2,2*Ss],[n,1,lT],[t,1,cI],[t,3,3*cI],[e,1,jS]];function l(f,h,p){const b=h<f;b&&([f,h]=[h,f]);const v=p&&typeof p.range=="function"?p:u(f,h,p),S=v?v.range(f,+h+1):[];return b?S.reverse():S}function u(f,h,p){const b=Math.abs(h-f)/p,v=VA(([,,_])=>_).right(o,b);if(v===o.length)return e.every(PE(f/jS,h/jS,p));if(v===0)return zy.every(Math.max(PE(f,h,p),1));const[S,w]=o[b/o[v-1][2]<o[v][2]/b?v-1:v];return S.every(w)}return[l,u]}const[xbe,_be]=ez(Es,mT,lx,Q9,fT,uT),[wbe,Sbe]=ez(ks,hT,sx,jp,dT,cT);function OS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function NS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function kbe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,f=Qh(i),h=em(i),p=Qh(a),b=em(a),v=Qh(o),S=em(o),w=Qh(l),_=em(l),T=Qh(u),N=em(u),j={a:J,A:ne,b:de,B:oe,c:null,d:pI,e:pI,f:Kbe,g:rye,G:aye,H:Gbe,I:qbe,j:Ybe,L:tz,m:Wbe,M:Vbe,p:B,q:W,Q:yI,s:vI,S:Zbe,u:Xbe,U:Jbe,V:Qbe,w:eye,W:tye,x:null,X:null,y:nye,Y:iye,Z:oye,"%":bI},C={a:ie,A:Q,b:se,B:he,c:null,d:gI,e:gI,f:uye,g:xye,G:wye,H:sye,I:lye,j:cye,L:rz,m:dye,M:fye,p:me,q:Se,Q:yI,s:vI,S:hye,u:mye,U:pye,V:gye,w:bye,W:yye,x:null,X:null,y:vye,Y:_ye,Z:Sye,"%":bI},D={a:K,A:H,b:z,B:V,c:Z,d:hI,e:hI,f:zbe,g:fI,G:dI,H:mI,I:mI,j:Lbe,L:Bbe,m:Rbe,M:Ibe,p:Y,q:Pbe,Q:Fbe,s:Hbe,S:$be,u:Obe,U:Nbe,V:Cbe,w:jbe,W:Mbe,x:X,X:q,y:fI,Y:dI,Z:Dbe,"%":Ube};j.x=P(n,j),j.X=P(r,j),j.c=P(t,j),C.x=P(n,C),C.X=P(r,C),C.c=P(t,C);function P(re,Ee){return function(je){var fe=[],Je=-1,Ke=0,Ne=re.length,Ie,We,Oe;for(je instanceof Date||(je=new Date(+je));++Je<Ne;)re.charCodeAt(Je)===37&&(fe.push(re.slice(Ke,Je)),(We=uI[Ie=re.charAt(++Je)])!=null?Ie=re.charAt(++Je):We=Ie==="e"?" ":"0",(Oe=Ee[Ie])&&(Ie=Oe(je,We)),fe.push(Ie),Ke=Je+1);return fe.push(re.slice(Ke,Je)),fe.join("")}}function $(re,Ee){return function(je){var fe=Jh(1900,void 0,1),Je=F(fe,re,je+="",0),Ke,Ne;if(Je!=je.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Ee&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Ke=NS(Jh(fe.y,0,1)),Ne=Ke.getUTCDay(),Ke=Ne>4||Ne===0?Fy.ceil(Ke):Fy(Ke),Ke=ox.offset(Ke,(fe.V-1)*7),fe.y=Ke.getUTCFullYear(),fe.m=Ke.getUTCMonth(),fe.d=Ke.getUTCDate()+(fe.w+6)%7):(Ke=OS(Jh(fe.y,0,1)),Ne=Ke.getDay(),Ke=Ne>4||Ne===0?Uy.ceil(Ke):Uy(Ke),Ke=jp.offset(Ke,(fe.V-1)*7),fe.y=Ke.getFullYear(),fe.m=Ke.getMonth(),fe.d=Ke.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Ne="Z"in fe?NS(Jh(fe.y,0,1)).getUTCDay():OS(Jh(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Ne+5)%7:fe.w+fe.U*7-(Ne+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,NS(fe)):OS(fe)}}function F(re,Ee,je,fe){for(var Je=0,Ke=Ee.length,Ne=je.length,Ie,We;Je<Ke;){if(fe>=Ne)return-1;if(Ie=Ee.charCodeAt(Je++),Ie===37){if(Ie=Ee.charAt(Je++),We=D[Ie in uI?Ee.charAt(Je++):Ie],!We||(fe=We(re,je,fe))<0)return-1}else if(Ie!=je.charCodeAt(fe++))return-1}return fe}function Y(re,Ee,je){var fe=f.exec(Ee.slice(je));return fe?(re.p=h.get(fe[0].toLowerCase()),je+fe[0].length):-1}function K(re,Ee,je){var fe=v.exec(Ee.slice(je));return fe?(re.w=S.get(fe[0].toLowerCase()),je+fe[0].length):-1}function H(re,Ee,je){var fe=p.exec(Ee.slice(je));return fe?(re.w=b.get(fe[0].toLowerCase()),je+fe[0].length):-1}function z(re,Ee,je){var fe=T.exec(Ee.slice(je));return fe?(re.m=N.get(fe[0].toLowerCase()),je+fe[0].length):-1}function V(re,Ee,je){var fe=w.exec(Ee.slice(je));return fe?(re.m=_.get(fe[0].toLowerCase()),je+fe[0].length):-1}function Z(re,Ee,je){return F(re,t,Ee,je)}function X(re,Ee,je){return F(re,n,Ee,je)}function q(re,Ee,je){return F(re,r,Ee,je)}function J(re){return o[re.getDay()]}function ne(re){return a[re.getDay()]}function de(re){return u[re.getMonth()]}function oe(re){return l[re.getMonth()]}function B(re){return i[+(re.getHours()>=12)]}function W(re){return 1+~~(re.getMonth()/3)}function ie(re){return o[re.getUTCDay()]}function Q(re){return a[re.getUTCDay()]}function se(re){return u[re.getUTCMonth()]}function he(re){return l[re.getUTCMonth()]}function me(re){return i[+(re.getUTCHours()>=12)]}function Se(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Ee=P(re+="",j);return Ee.toString=function(){return re},Ee},parse:function(re){var Ee=$(re+="",!1);return Ee.toString=function(){return re},Ee},utcFormat:function(re){var Ee=P(re+="",C);return Ee.toString=function(){return re},Ee},utcParse:function(re){var Ee=$(re+="",!0);return Ee.toString=function(){return re},Ee}}}var uI={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,Ebe=/^%/,Abe=/[\\^$*+?|[\]().{}]/g;function Tt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Tbe(e){return e.replace(Abe,"\\$&")}function Qh(e){return new RegExp("^(?:"+e.map(Tbe).join("|")+")","i")}function em(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function jbe(e,t,n){var r=dr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Obe(e,t,n){var r=dr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Nbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Cbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Mbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function dI(e,t,n){var r=dr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function fI(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Dbe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Pbe(e,t,n){var r=dr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Rbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function hI(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Lbe(e,t,n){var r=dr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function mI(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ibe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function $be(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Bbe(e,t,n){var r=dr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function zbe(e,t,n){var r=dr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ube(e,t,n){var r=Ebe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Fbe(e,t,n){var r=dr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Hbe(e,t,n){var r=dr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function pI(e,t){return Tt(e.getDate(),t,2)}function Gbe(e,t){return Tt(e.getHours(),t,2)}function qbe(e,t){return Tt(e.getHours()%12||12,t,2)}function Ybe(e,t){return Tt(1+jp.count(ks(e),e),t,3)}function tz(e,t){return Tt(e.getMilliseconds(),t,3)}function Kbe(e,t){return tz(e,t)+"000"}function Wbe(e,t){return Tt(e.getMonth()+1,t,2)}function Vbe(e,t){return Tt(e.getMinutes(),t,2)}function Zbe(e,t){return Tt(e.getSeconds(),t,2)}function Xbe(e){var t=e.getDay();return t===0?7:t}function Jbe(e,t){return Tt(sx.count(ks(e)-1,e),t,2)}function nz(e){var t=e.getDay();return t>=4||t===0?rf(e):rf.ceil(e)}function Qbe(e,t){return e=nz(e),Tt(rf.count(ks(e),e)+(ks(e).getDay()===4),t,2)}function eye(e){return e.getDay()}function tye(e,t){return Tt(Uy.count(ks(e)-1,e),t,2)}function nye(e,t){return Tt(e.getFullYear()%100,t,2)}function rye(e,t){return e=nz(e),Tt(e.getFullYear()%100,t,2)}function iye(e,t){return Tt(e.getFullYear()%1e4,t,4)}function aye(e,t){var n=e.getDay();return e=n>=4||n===0?rf(e):rf.ceil(e),Tt(e.getFullYear()%1e4,t,4)}function oye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tt(t/60|0,"0",2)+Tt(t%60,"0",2)}function gI(e,t){return Tt(e.getUTCDate(),t,2)}function sye(e,t){return Tt(e.getUTCHours(),t,2)}function lye(e,t){return Tt(e.getUTCHours()%12||12,t,2)}function cye(e,t){return Tt(1+ox.count(Es(e),e),t,3)}function rz(e,t){return Tt(e.getUTCMilliseconds(),t,3)}function uye(e,t){return rz(e,t)+"000"}function dye(e,t){return Tt(e.getUTCMonth()+1,t,2)}function fye(e,t){return Tt(e.getUTCMinutes(),t,2)}function hye(e,t){return Tt(e.getUTCSeconds(),t,2)}function mye(e){var t=e.getUTCDay();return t===0?7:t}function pye(e,t){return Tt(lx.count(Es(e)-1,e),t,2)}function iz(e){var t=e.getUTCDay();return t>=4||t===0?af(e):af.ceil(e)}function gye(e,t){return e=iz(e),Tt(af.count(Es(e),e)+(Es(e).getUTCDay()===4),t,2)}function bye(e){return e.getUTCDay()}function yye(e,t){return Tt(Fy.count(Es(e)-1,e),t,2)}function vye(e,t){return Tt(e.getUTCFullYear()%100,t,2)}function xye(e,t){return e=iz(e),Tt(e.getUTCFullYear()%100,t,2)}function _ye(e,t){return Tt(e.getUTCFullYear()%1e4,t,4)}function wye(e,t){var n=e.getUTCDay();return e=n>=4||n===0?af(e):af.ceil(e),Tt(e.getUTCFullYear()%1e4,t,4)}function Sye(){return"+0000"}function bI(){return"%"}function yI(e){return+e}function vI(e){return Math.floor(+e/1e3)}var yd,az,oz;kye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kye(e){return yd=kbe(e),az=yd.format,yd.parse,oz=yd.utcFormat,yd.utcParse,yd}function Eye(e){return new Date(e)}function Aye(e){return e instanceof Date?+e:+new Date(+e)}function pT(e,t,n,r,i,a,o,l,u,f){var h=tT(),p=h.invert,b=h.domain,v=f(".%L"),S=f(":%S"),w=f("%I:%M"),_=f("%I %p"),T=f("%a %d"),N=f("%b %d"),j=f("%B"),C=f("%Y");function D(P){return(u(P)<P?v:l(P)<P?S:o(P)<P?w:a(P)<P?_:r(P)<P?i(P)<P?T:N:n(P)<P?j:C)(P)}return h.invert=function(P){return new Date(p(P))},h.domain=function(P){return arguments.length?b(Array.from(P,Aye)):b().map(Eye)},h.ticks=function(P){var $=b();return e($[0],$[$.length-1],P??10)},h.tickFormat=function(P,$){return $==null?D:f($)},h.nice=function(P){var $=b();return(!P||typeof P.range!="function")&&(P=t($[0],$[$.length-1],P??10)),P?b(Y9($,P)):h},h.copy=function(){return Tp(h,pT(e,t,n,r,i,a,o,l,u,f))},h}function Tye(){return xa.apply(pT(wbe,Sbe,ks,hT,sx,jp,dT,cT,tu,az).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jye(){return xa.apply(pT(xbe,_be,Es,mT,lx,ox,fT,uT,tu,oz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cx(){var e=0,t=1,n,r,i,a,o=Ur,l=!1,u;function f(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(o=p,f):o};function h(p){return function(b){var v,S;return arguments.length?([v,S]=b,o=p(v,S),f):[o(0),o(1)]}}return f.range=h(xf),f.rangeRound=h(eT),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Fl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sz(){var e=Ul(cx()(Ur));return e.copy=function(){return Fl(e,sz())},Cs.apply(e,arguments)}function lz(){var e=iT(cx()).domain([1,10]);return e.copy=function(){return Fl(e,lz()).base(e.base())},Cs.apply(e,arguments)}function cz(){var e=aT(cx());return e.copy=function(){return Fl(e,cz()).constant(e.constant())},Cs.apply(e,arguments)}function gT(){var e=oT(cx());return e.copy=function(){return Fl(e,gT()).exponent(e.exponent())},Cs.apply(e,arguments)}function Oye(){return gT.apply(null,arguments).exponent(.5)}function uz(){var e=[],t=Ur;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ep(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ml),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>m0e(e,a/r))},n.copy=function(){return uz(t).domain(e)},Cs.apply(n,arguments)}function ux(){var e=0,t=.5,n=1,r=1,i,a,o,l,u,f=Ur,h,p=!1,b;function v(w){return isNaN(w=+w)?b:(w=.5+((w=+h(w))-a)*(r*w<r*a?l:u),f(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,n]=w,i=h(e=+e),a=h(t=+t),o=h(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,v):[e,t,n]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(f=w,v):f};function S(w){return function(_){var T,N,j;return arguments.length?([T,N,j]=_,f=U0e(w,[T,N,j]),v):[f(0),f(.5),f(1)]}}return v.range=S(xf),v.rangeRound=S(eT),v.unknown=function(w){return arguments.length?(b=w,v):b},function(w){return h=w,i=w(e),a=w(t),o=w(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,v}}function dz(){var e=Ul(ux()(Ur));return e.copy=function(){return Fl(e,dz())},Cs.apply(e,arguments)}function fz(){var e=iT(ux()).domain([.1,1,10]);return e.copy=function(){return Fl(e,fz()).base(e.base())},Cs.apply(e,arguments)}function hz(){var e=aT(ux());return e.copy=function(){return Fl(e,hz()).constant(e.constant())},Cs.apply(e,arguments)}function bT(){var e=oT(ux());return e.copy=function(){return Fl(e,bT()).exponent(e.exponent())},Cs.apply(e,arguments)}function Nye(){return bT.apply(null,arguments).exponent(.5)}const um=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:XA,scaleDiverging:dz,scaleDivergingLog:fz,scaleDivergingPow:bT,scaleDivergingSqrt:Nye,scaleDivergingSymlog:hz,scaleIdentity:q9,scaleImplicit:RE,scaleLinear:G9,scaleLog:K9,scaleOrdinal:ZA,scalePoint:b0e,scalePow:sT,scaleQuantile:Z9,scaleQuantize:X9,scaleRadial:V9,scaleSequential:sz,scaleSequentialLog:lz,scaleSequentialPow:gT,scaleSequentialQuantile:uz,scaleSequentialSqrt:Oye,scaleSequentialSymlog:cz,scaleSqrt:ube,scaleSymlog:W9,scaleThreshold:J9,scaleTime:Tye,scaleUtc:jye,tickFormat:H9},Symbol.toStringTag,{value:"Module"}));var Hl=e=>e.chartData,Cye=xe([Hl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),yT=(e,t,n,r)=>r?Cye(e):Hl(e);function $l(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(wn(t)&&wn(n))return!0}return!1}function xI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function mz(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(wn(n))i=n;else if(typeof n=="function")return;if(wn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if($l(o))return o}}function Mye(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if($l(r))return xI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Xe(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&ZR.test(i)){var u=ZR.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[0]-f}}else o=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(Xe(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&XR.test(a)){var h=XR.exec(a);if(h==null||t==null)l=void 0;else{var p=+h[1];l=t[1]+p}}else l=t?.[1];var b=[o,l];if($l(b))return t==null?b:xI(b,t,n)}}}var _f=1e9,Dye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xT,sn=!0,ba="[DecimalError] ",ou=ba+"Invalid argument: ",vT=ba+"Exponent out of range: ",wf=Math.floor,Yc=Math.pow,Pye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,or=1e7,Jt=7,pz=9007199254740991,Hy=wf(pz/Jt),ze={};ze.absoluteValue=ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ze.comparedTo=ze.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Jt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ze.dividedBy=ze.div=function(e){return gs(this,new this.constructor(e))};ze.dividedToIntegerBy=ze.idiv=function(e){var t=this,n=t.constructor;return Gt(gs(t,new n(e),0,1),n.precision)};ze.equals=ze.eq=function(e){return!this.cmp(e)};ze.exponent=function(){return zn(this)};ze.greaterThan=ze.gt=function(e){return this.cmp(e)>0};ze.greaterThanOrEqualTo=ze.gte=function(e){return this.cmp(e)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(e){return this.cmp(e)<0};ze.lessThanOrEqualTo=ze.lte=function(e){return this.cmp(e)<1};ze.logarithm=ze.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Pi))throw Error(ba+"NaN");if(n.s<1)throw Error(ba+(n.s?"NaN":"-Infinity"));return n.eq(Pi)?new r(0):(sn=!1,t=gs(Xm(n,a),Xm(e,a),a),sn=!0,Gt(t,i))};ze.minus=ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yz(t,e):gz(t,(e.s=-e.s,e))};ze.modulo=ze.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ba+"NaN");return n.s?(sn=!1,t=gs(n,e,0,1).times(e),sn=!0,n.minus(t)):Gt(new r(n),i)};ze.naturalExponential=ze.exp=function(){return bz(this)};ze.naturalLogarithm=ze.ln=function(){return Xm(this)};ze.negated=ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ze.plus=ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gz(t,e):yz(t,(e.s=-e.s,e))};ze.precision=ze.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ou+e);if(t=zn(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ze.squareRoot=ze.sqrt=function(){var e,t,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ba+"NaN")}for(e=zn(l),sn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=So(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=wf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(gs(l,a,o+2)).times(.5),So(a.d).slice(0,o)===(t=So(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Gt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return sn=!0,Gt(r,n)};ze.times=ze.mul=function(e){var t,n,r,i,a,o,l,u,f,h=this,p=h.constructor,b=h.d,v=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,u=b.length,f=v.length,u<f&&(a=b,b=v,v=a,o=u,u=f,f=o),a=[],o=u+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+v[r]*b[i-r-1]+t,a[i--]=l%or|0,t=l/or|0;a[i]=(a[i]+t)%or|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,sn?Gt(e,p.precision):e};ze.toDecimalPlaces=ze.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(No(e,0,_f),t===void 0?t=r.rounding:No(t,0,8),Gt(n,e+zn(n)+1,t))};ze.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=hu(r,!0):(No(e,0,_f),t===void 0?t=i.rounding:No(t,0,8),r=Gt(new i(r),e+1,t),n=hu(r,!0,e+1)),n};ze.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?hu(i):(No(e,0,_f),t===void 0?t=a.rounding:No(t,0,8),r=Gt(new a(i),e+zn(i)+1,t),n=hu(r.abs(),!1,e+zn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ze.toInteger=ze.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),zn(e)+1,t.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(e){var t,n,r,i,a,o,l=this,u=l.constructor,f=12,h=+(e=new u(e));if(!e.s)return new u(Pi);if(l=new u(l),!l.s){if(e.s<1)throw Error(ba+"Infinity");return l}if(l.eq(Pi))return l;if(r=u.precision,e.eq(Pi))return Gt(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=h<0?-h:h)<=pz){for(i=new u(Pi),t=Math.ceil(r/Jt+4),sn=!1;n%2&&(i=i.times(l),wI(i.d,t)),n=wf(n/2),n!==0;)l=l.times(l),wI(l.d,t);return sn=!0,e.s<0?new u(Pi).div(i):Gt(i,r)}}else if(a<0)throw Error(ba+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,sn=!1,i=e.times(Xm(l,r+f)),sn=!0,i=bz(i),i.s=a,i};ze.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=zn(i),r=hu(i,n<=a.toExpNeg||n>=a.toExpPos)):(No(e,1,_f),t===void 0?t=a.rounding:No(t,0,8),i=Gt(new a(i),e,t),n=zn(i),r=hu(i,e<=n||n<=a.toExpNeg,e)),r};ze.toSignificantDigits=ze.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(No(e,1,_f),t===void 0?t=r.rounding:No(t,0,8)),Gt(new r(n),e,t)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zn(e),n=e.constructor;return hu(e,t<=n.toExpNeg||t>=n.toExpPos)};function gz(e,t){var n,r,i,a,o,l,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),sn?Gt(t,p):t;if(u=e.d,f=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=f.length):(r=f,i=o,l=u.length),o=Math.ceil(p/Jt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=f.length,l-a<0&&(a=l,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/or|0,u[a]%=or;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,sn?Gt(t,p):t}function No(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ou+e)}function So(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Jt-r.length,n&&(a+=wl(n)),a+=r;o=e[t],r=o+"",n=Jt-r.length,n&&(a+=wl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var gs=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%or|0,o=a/or|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*or+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,f,h,p,b,v,S,w,_,T,N,j,C,D,P,$,F,Y=r.constructor,K=r.s==i.s?1:-1,H=r.d,z=i.d;if(!r.s)return new Y(r);if(!i.s)throw Error(ba+"Division by zero");for(u=r.e-i.e,$=z.length,D=H.length,v=new Y(K),S=v.d=[],f=0;z[f]==(H[f]||0);)++f;if(z[f]>(H[f]||0)&&--u,a==null?N=a=Y.precision:o?N=a+(zn(r)-zn(i))+1:N=a,N<0)return new Y(0);if(N=N/Jt+2|0,f=0,$==1)for(h=0,z=z[0],N++;(f<D||h)&&N--;f++)j=h*or+(H[f]||0),S[f]=j/z|0,h=j%z|0;else{for(h=or/(z[0]+1)|0,h>1&&(z=e(z,h),H=e(H,h),$=z.length,D=H.length),C=$,w=H.slice(0,$),_=w.length;_<$;)w[_++]=0;F=z.slice(),F.unshift(0),P=z[0],z[1]>=or/2&&++P;do h=0,l=t(z,w,$,_),l<0?(T=w[0],$!=_&&(T=T*or+(w[1]||0)),h=T/P|0,h>1?(h>=or&&(h=or-1),p=e(z,h),b=p.length,_=w.length,l=t(p,w,b,_),l==1&&(h--,n(p,$<b?F:z,b))):(h==0&&(l=h=1),p=z.slice()),b=p.length,b<_&&p.unshift(0),n(w,p,_),l==-1&&(_=w.length,l=t(z,w,$,_),l<1&&(h++,n(w,$<_?F:z,_))),_=w.length):l===0&&(h++,w=[0]),S[f++]=h,l&&w[0]?w[_++]=H[C]||0:(w=[H[C]],_=1);while((C++<D||w[0]!==void 0)&&N--)}return S[0]||S.shift(),v.e=u,Gt(v,o?a+zn(v)+1:a)}})();function bz(e,t){var n,r,i,a,o,l,u=0,f=0,h=e.constructor,p=h.precision;if(zn(e)>16)throw Error(vT+zn(e));if(!e.s)return new h(Pi);for(sn=!1,l=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(Yc(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new h(Pi),h.precision=l;;){if(i=Gt(i.times(e),l),n=n.times(++u),o=a.plus(gs(i,n,l)),So(o.d).slice(0,l)===So(a.d).slice(0,l)){for(;f--;)a=Gt(a.times(a),l);return h.precision=p,t==null?(sn=!0,Gt(a,p)):a}a=o}}function zn(e){for(var t=e.e*Jt,n=e.d[0];n>=10;n/=10)t++;return t}function CS(e,t,n){if(t>e.LN10.sd())throw sn=!0,n&&(e.precision=n),Error(ba+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function wl(e){for(var t="";e--;)t+="0";return t}function Xm(e,t){var n,r,i,a,o,l,u,f,h,p=1,b=10,v=e,S=v.d,w=v.constructor,_=w.precision;if(v.s<1)throw Error(ba+(v.s?"NaN":"-Infinity"));if(v.eq(Pi))return new w(0);if(t==null?(sn=!1,f=_):f=t,v.eq(10))return t==null&&(sn=!0),CS(w,f);if(f+=b,w.precision=f,n=So(S),r=n.charAt(0),a=zn(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=So(v.d),r=n.charAt(0),p++;a=zn(v),r>1?(v=new w("0."+n),a++):v=new w(r+"."+n.slice(1))}else return u=CS(w,f+2,_).times(a+""),v=Xm(new w(r+"."+n.slice(1)),f-b).plus(u),w.precision=_,t==null?(sn=!0,Gt(v,_)):v;for(l=o=v=gs(v.minus(Pi),v.plus(Pi),f),h=Gt(v.times(v),f),i=3;;){if(o=Gt(o.times(h),f),u=l.plus(gs(o,new w(i),f)),So(u.d).slice(0,f)===So(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(CS(w,f+2,_).times(a+""))),l=gs(l,new w(p),f),w.precision=_,t==null?(sn=!0,Gt(l,_)):l;l=u,i+=2}}function _I(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=wf(n/Jt),e.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Jt;r<i;)e.d.push(+t.slice(r,r+=Jt));t=t.slice(r),r=Jt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),sn&&(e.e>Hy||e.e<-Hy))throw Error(vT+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,n){var r,i,a,o,l,u,f,h,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Jt,i=t,f=p[h=0];else{if(h=Math.ceil((r+1)/Jt),a=p.length,h>=a)return e;for(f=a=p[h],o=1;a>=10;a/=10)o++;r%=Jt,i=r-Jt+o}if(n!==void 0&&(a=Yc(10,o-i-1),l=f/a%10|0,u=t<0||p[h+1]!==void 0||f%a,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?f/Yc(10,o-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=zn(e),p.length=1,t=t-a-1,p[0]=Yc(10,(Jt-t%Jt)%Jt),e.e=wf(-t/Jt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Yc(10,Jt-r),p[h]=i>0?(f/Yc(10,o-i)%Yc(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==or&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=or)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(sn&&(e.e>Hy||e.e<-Hy))throw Error(vT+zn(e));return e}function yz(e,t){var n,r,i,a,o,l,u,f,h,p,b=e.constructor,v=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),sn?Gt(t,v):t;if(u=e.d,p=t.d,r=t.e,f=e.e,u=u.slice(),o=f-r,o){for(h=o<0,h?(n=u,o=-o,l=p.length):(n=p,r=f,l=u.length),i=Math.max(Math.ceil(v/Jt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}o=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=or-1;--u[a],u[i]+=or}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,sn?Gt(t,v):t):new b(0)}function hu(e,t,n){var r,i=zn(e),a=So(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+wl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+wl(-i-1)+a,n&&(r=n-o)>0&&(a+=wl(r))):i>=o?(a+=wl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+wl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=wl(r))),e.s<0?"-"+a:a}function wI(e,t){if(e.length>t)return e.length=t,!0}function vz(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ou+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return _I(o,a.toString())}else if(typeof a!="string")throw Error(ou+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Pye.test(a))_I(o,a);else throw Error(ou+a)}if(i.prototype=ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=vz,i.config=i.set=Rye,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Rye(e){if(!e||typeof e!="object")throw Error(ba+"Object expected");var t,n,r,i=["precision",1,_f,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(wf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ou+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ou+n+": "+r);return this}var xT=vz(Dye);Pi=new xT(1);const Lt=xT;var Lye=e=>e,xz={},_z=e=>e===xz,SI=e=>function t(){return arguments.length===0||arguments.length===1&&_z(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},wz=(e,t)=>e===1?t:SI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==xz).length;return a>=e?t(...r):wz(e-a,SI(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var f=r.map(h=>_z(h)?l.shift():h);return t(...f,...l)}))}),Iye=e=>wz(e.length,e),BE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},$ye=Iye((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Bye=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Lye;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},zE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function Sz(e){var t;return e===0?t=1:t=Math.floor(new Lt(e).abs().log(10).toNumber())+1,t}function kz(e,t,n){for(var r=new Lt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Ez=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},Az=(e,t,n)=>{if(e.lte(0))return new Lt(0);var r=Sz(e.toNumber()),i=new Lt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new Lt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return t?new Lt(u.toNumber()):new Lt(Math.ceil(u.toNumber()))},zye=(e,t,n)=>{var r=new Lt(1),i=new Lt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Lt(10).pow(Sz(e)-1),i=new Lt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Lt(Math.floor(e)))}else e===0?i=new Lt(Math.floor((t-1)/2)):n||(i=new Lt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Bye($ye(u=>i.add(new Lt(u-o).mul(r)).toNumber()),BE);return l(0,t)},Tz=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var o=Az(new Lt(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new Lt(0):(l=new Lt(t).add(n).div(2),l=l.sub(new Lt(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),f=Math.ceil(new Lt(n).sub(l).div(o).toNumber()),h=u+f+1;return h>r?Tz(t,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,u=n>0?u:u+(r-h)),{step:o,tickMin:l.sub(new Lt(u).mul(o)),tickMax:l.add(new Lt(f).mul(o))})},Uye=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=Ez([n,r]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...BE(0,i-1).map(()=>1/0)]:[...BE(0,i-1).map(()=>-1/0),u];return n>r?zE(f):f}if(l===u)return zye(l,i,a);var{step:h,tickMin:p,tickMax:b}=Tz(l,u,o,a,0),v=kz(p,b.add(new Lt(.1).mul(h)),h);return n>r?zE(v):v},Fye=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=Ez([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),f=Az(new Lt(l).sub(o).div(u-1),a,0),h=[...kz(new Lt(o),new Lt(l),f),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?zE(h):h},Hye=e=>e.rootProps.barCategoryGap,dx=e=>e.rootProps.stackOffset,jz=e=>e.rootProps.reverseStackOrder,_T=e=>e.options.chartName,wT=e=>e.rootProps.syncId,Oz=e=>e.rootProps.syncMethod,ST=e=>e.options.eventEmitter,Gye=e=>e.rootProps.baseValue,Fr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},us={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Mi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},fx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},qye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:us.angleAxisId,includeHidden:!1,name:void 0,reversed:us.reversed,scale:us.scale,tick:us.tick,tickCount:void 0,ticks:void 0,type:us.type,unit:void 0},Yye={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:Mi.type,unit:void 0},Kye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:us.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:us.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:us.scale,tick:us.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Wye={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:"category",unit:void 0},kT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Kye:qye,ET=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Wye:Yye,hx=e=>e.polarOptions,AT=xe([Os,Ns,kr],Uge),Nz=xe([hx,AT],(e,t)=>{if(e!=null)return Il(e.innerRadius,t,0)}),Cz=xe([hx,AT],(e,t)=>{if(e!=null)return Il(e.outerRadius,t,t*.8)}),Vye=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Mz=xe([hx],Vye);xe([kT,Mz],fx);var Dz=xe([AT,Nz,Cz],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});xe([ET,Dz],fx);var Pz=xe([Vt,hx,Nz,Cz,Os,Ns],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:f}=t;return{cx:Il(o,i,i/2),cy:Il(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Vn=(e,t)=>t,mx=(e,t,n)=>n;function TT(e){return e?.id}function Rz(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var h=TT(l);f.forEach((p,b)=>{var v=a==null||i?b:String(Cr(p,a,null)),S=Cr(p,l.dataKey,0),w;o.has(v)?w=o.get(v):w={},Object.assign(w,{[h]:S}),o.set(v,w)})}}),Array.from(o.values())}function jT(e){return e.stackId!=null&&e.dataKey!=null}var px=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function gx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Zye(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Zn=e=>{var t=Vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Sf=e=>e.tooltip.settings.axisId;function kI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(n),!0).forEach(function(r){Xye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xye(e,t,n){return(t=Jye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jye(e){var t=Qye(e,"string");return typeof t=="symbol"?t:t+""}function Qye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UE=[0,"auto"],rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Lz=(e,t)=>e.cartesianAxis.xAxis[t],Ms=(e,t)=>{var n=Lz(e,t);return n??rr},ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:UE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:wp},Iz=(e,t)=>e.cartesianAxis.yAxis[t],Ds=(e,t)=>{var n=Iz(e,t);return n??ir},eve={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},OT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??eve},qr=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return Ds(e,n);case"zAxis":return OT(e,n);case"angleAxis":return kT(e,n);case"radiusAxis":return ET(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},tve=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return Ds(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Op=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return Ds(e,n);case"angleAxis":return kT(e,n);case"radiusAxis":return ET(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},$z=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Bz(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var zz=e=>e.graphicalItems.cartesianItems,nve=xe([Vn,mx],Bz),Uz=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Np=xe([zz,qr,nve],Uz,{memoizeOptions:{resultEqualityCheck:gx}}),Fz=xe([Np],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(jT)),Hz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),rve=xe([Np],Hz),Gz=e=>e.map(t=>t.data).filter(Boolean).flat(1),ive=xe([Np],Gz,{memoizeOptions:{resultEqualityCheck:gx}}),qz=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},NT=xe([ive,yT],qz),Yz=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Cr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Cr(i,r)}))):e.map(r=>({value:r})),bx=xe([NT,qr,Np],Yz);function Kz(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ob(e){if(jo(e)||e instanceof Date){var t=Number(e);if(wn(t))return t}}function EI(e){if(Array.isArray(e)){var t=[Ob(e[0]),Ob(e[1])];return $l(t)?t:void 0}var n=Ob(e);if(n!=null)return[n,n]}function As(e){return e.map(Ob).filter(Efe)}function ave(e,t,n){return!n||typeof t!="number"||qa(t)?[]:n.length?As(n.flatMap(r=>{var i=Cr(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!wn(a)||!wn(o)))return[t-a,t+o]})):[]}var Xn=e=>{var t=Zn(e),n=Sf(e);return Op(e,t,n)},Cp=xe([Xn],e=>e?.dataKey),ove=xe([Fz,yT,Xn],Rz),Wz=(e,t,n,r)=>{var i={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,f=r?[...u].reverse():u,h=f.map(TT);return[l,{stackedData:Nme(e,h,n),graphicalItems:f}]}))},FE=xe([ove,Fz,dx,jz],Wz),Vz=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=Pme(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},sve=xe([qr],e=>e.allowDataOverflow),CT=e=>{var t;if(e==null||!("domain"in e))return UE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=As(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:UE},Zz=xe([qr],CT),Xz=xe([Zz,sve],mz),lve=xe([FE,Hl,Vn,Xz],Vz,{memoizeOptions:{resultEqualityCheck:px}}),MT=e=>e.errorBars,cve=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Kz(n,r)),qy=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},Jz=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var f,h,p=(f=r[u.id])===null||f===void 0?void 0:f.filter(T=>Kz(i,T)),b=Cr(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),v=ave(l,b,p);if(v.length>=2){var S=Math.min(...v),w=Math.max(...v);(a==null||S<a)&&(a=S),(o==null||w>o)&&(o=w)}var _=EI(b);_!=null&&(a=a==null?_[0]:Math.min(a,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=EI(Cr(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),wn(a)&&wn(o))return[a,o]},uve=xe([NT,qr,rve,MT,Vn],Jz,{memoizeOptions:{resultEqualityCheck:px}});function dve(e){var{value:t}=e;if(jo(t)||t instanceof Date)return t}var fve=(e,t,n)=>{var r=e.map(dve).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&b7(r))?D9(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Qz=e=>e.referenceElements.dots,kf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),hve=xe([Qz,Vn,mx],kf),e8=e=>e.referenceElements.areas,mve=xe([e8,Vn,mx],kf),t8=e=>e.referenceElements.lines,pve=xe([t8,Vn,mx],kf),n8=(e,t)=>{var n=As(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gve=xe(hve,Vn,n8),r8=(e,t)=>{var n=As(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bve=xe([mve,Vn],r8);function yve(e){var t;if(e.x!=null)return As([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:As(n)}function vve(e){var t;if(e.y!=null)return As([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:As(n)}var i8=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?yve(r):vve(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xve=xe([pve,Vn],i8),_ve=xe(gve,xve,bve,(e,t,n)=>qy(e,n,t)),a8=(e,t,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",f=u?qy(r,a,i):qy(a,i);return Mye(t,f,e.allowDataOverflow)},wve=xe([qr,Zz,Xz,lve,uve,_ve,Vt,Vn],a8,{memoizeOptions:{resultEqualityCheck:px}}),Sve=[0,1],o8=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,f=js(t,a);if(f&&l==null){var h;return D9(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?fve(r,e,f):i==="expand"?Sve:o}},DT=xe([qr,Vt,NT,bx,dx,Vn,wve],o8),s8=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(RA(a));return l in um?l:"point"}}},Mp=xe([qr,Vt,$z,_T,Vn],s8);function kve(e){if(e!=null){if(e in um)return um[e]();var t="scale".concat(RA(e));if(t in um)return um[t]()}}function PT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=kve(t);if(i!=null){var a=i.domain(n).range(r);return Ame(a),a}}}var l8=(e,t,n)=>{var r=CT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&$l(e))return Uye(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$l(e))return Fye(e,t.tickCount,t.allowDecimals)}},RT=xe([DT,Op,Mp],l8),c8=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&$l(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},Eve=xe([qr,DT,RT,Vn],c8),Ave=xe(bx,qr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(As(e.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),u8=xe(Ave,Vt,Hye,kr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!wn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Il(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),Tve=(e,t)=>{var n=Ms(e,t);return n==null||typeof n.padding!="string"?0:u8(e,"xAxis",t,n.padding)},jve=(e,t)=>{var n=Ds(e,t);return n==null||typeof n.padding!="string"?0:u8(e,"yAxis",t,n.padding)},Ove=xe(Ms,Tve,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Nve=xe(Ds,jve,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Cve=xe([kr,Ove,Qv,Jv,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Mve=xe([kr,Vt,Nve,Qv,Jv,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Dp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Cve(e,n,r);case"yAxis":return Mve(e,n,r);case"zAxis":return(i=OT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Mz(e);case"radiusAxis":return Dz(e,n);default:return}},d8=xe([qr,Dp],fx),Ef=xe([qr,Mp,Eve,d8],PT);xe([Np,MT,Vn],cve);function f8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var yx=(e,t)=>t,vx=(e,t,n)=>n,Dve=xe(Zv,yx,vx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(f8)),Pve=xe(Xv,yx,vx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(f8)),h8=(e,t)=>({width:e.width,height:t.height}),Rve=(e,t)=>{var n=typeof t.width=="number"?t.width:wp;return{width:n,height:e.height}},Lve=xe(kr,Ms,h8),Ive=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},$ve=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Bve=xe(Ns,kr,Dve,yx,vx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=h8(t,l);o==null&&(o=Ive(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),a}),zve=xe(Os,kr,Pve,yx,vx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=Rve(t,l);o==null&&(o=$ve(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),a}),Uve=(e,t)=>{var n=Ms(e,t);if(n!=null)return Bve(e,n.orientation,n.mirror)},Fve=xe([kr,Ms,Uve,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Hve=(e,t)=>{var n=Ds(e,t);if(n!=null)return zve(e,n.orientation,n.mirror)},Gve=xe([kr,Ds,Hve,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),qve=xe(kr,Ds,(e,t)=>{var n=typeof t.width=="number"?t.width:wp;return{width:n,height:e.height}}),m8=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=js(e,r),u=t.map(f=>f.value);if(o&&l&&a==="category"&&i&&b7(u))return u}},LT=xe([Vt,bx,qr,Vn],m8),p8=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=js(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},IT=xe([Vt,bx,Op,Vn],p8),AI=xe([Vt,tve,Mp,Ef,LT,IT,Dp,RT,Vn],(e,t,n,r,i,a,o,l,u)=>{if(t!=null){var f=js(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:o,realScaleType:n,scale:r}}}),Yve=(e,t,n,r,i,a,o,l,u)=>{if(!(t==null||r==null)){var f=js(e,u),{type:h,ticks:p,tickCount:b}=t,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/v:0;S=u==="angleAxis"&&a!=null&&a.length>=2?ua(a[0]-a[1])*2*S:S;var w=p||i;if(w){var _=w.map((T,N)=>{var j=o?o.indexOf(T):T;return{index:N,coordinate:r(j)+S,value:T,offset:S}});return _.filter(T=>wn(T.coordinate))}return f&&l?l.map((T,N)=>({coordinate:r(T)+S,value:T,index:N,offset:S})).filter(T=>wn(T.coordinate)):r.ticks?r.ticks(b).map(T=>({coordinate:r(T)+S,value:T,offset:S})):r.domain().map((T,N)=>({coordinate:r(T)+S,value:o?o[T]:T,index:N,offset:S}))}},g8=xe([Vt,Op,Mp,Ef,RT,Dp,LT,IT,Vn],Yve),Kve=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=js(e,o),{tickCount:u}=t,f=0;return f=o==="angleAxis"&&r?.length>=2?ua(r[0]-r[1])*2*f:f,l&&a?a.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},b8=xe([Vt,Op,Ef,Dp,LT,IT,Vn],Kve),y8=xe(qr,Ef,(e,t)=>{if(!(e==null||t==null))return Gy(Gy({},e),{},{scale:t})}),Wve=xe([qr,Mp,DT,d8],PT);xe((e,t,n)=>OT(e,n),Wve,(e,t)=>{if(!(e==null||t==null))return Gy(Gy({},e),{},{scale:t})});var Vve=xe([Vt,Zv,Xv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),v8=e=>e.options.defaultTooltipEventType,x8=e=>e.options.validateTooltipEventTypes;function _8(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function $T(e,t){var n=v8(e),r=x8(e);return _8(t,n,r)}function Zve(e){return et(t=>$T(t,e))}var w8=(e,t)=>{var n,r=Number(t);if(!(qa(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Xve=e=>e.tooltip.settings,jl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Jve={itemInteraction:{click:jl,hover:jl},axisInteraction:{click:jl,hover:jl},keyboardInteraction:jl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},S8=mi({name:"tooltip",initialState:Jve,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:an()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:an()},removeTooltipEntrySettings:{reducer(e,t){var n=Ua(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:an()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Qve,replaceTooltipEntrySettings:exe,removeTooltipEntrySettings:txe,setTooltipSettingsState:nxe,setActiveMouseOverItemIndex:rxe,mouseLeaveItem:XOe,mouseLeaveChart:k8,setActiveClickItemIndex:JOe,setMouseOverAxisIndex:E8,setMouseClickAxisIndex:ixe,setSyncInteraction:HE,setKeyboardInteraction:GE}=S8.actions,axe=S8.reducer;function TI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ob(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(n),!0).forEach(function(r){oxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oxe(e,t,n){return(t=sxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sxe(e){var t=lxe(e,"string");return typeof t=="symbol"?t:t+""}function lxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cxe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function uxe(e){return e.index!=null}var A8=(e,t,n,r)=>{if(t==null)return jl;var i=cxe(e,t,n);if(i==null)return jl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(uxe(i)){if(a)return ob(ob({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return ob(ob({},jl),{},{coordinate:i.coordinate})};function dxe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function fxe(e,t){var n=dxe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function hxe(e,t,n){if(n==null||t==null)return!0;var r=Cr(e,t);return r==null||!$l(n)?!0:fxe(r,n)}var BT=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!wn(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),f=t[u];return f==null||hxe(f,n,r)?String(u):null},T8=(e,t,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],f=u==null?void 0:l(u.positions,a);if(f!=null)return f;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},j8=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Pp=e=>e.options.tooltipPayloadSearcher,Af=e=>e.tooltip;function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(r){mxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mxe(e,t,n){return(t=pxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pxe(e){var t=gxe(e,"string");return typeof t=="symbol"?t:t+""}function gxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bxe(e,t){return e??t}var O8=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:h}=n,p=[];return e.reduce((b,v)=>{var S,{dataDefinedOnItem:w,settings:_}=v,T=bxe(w,l),N=Array.isArray(T)?a9(T,f,h):T,j=(S=_?.dataKey)!==null&&S!==void 0?S:r,C=_?.nameKey,D;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&o==="axis"?D=y7(N,r,i):D=a(N,t,u,C),Array.isArray(D))D.forEach($=>{var F=OI(OI({},_),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});b.push(JR({tooltipEntrySettings:F,dataKey:$.dataKey,payload:$.payload,value:Cr($.payload,$.dataKey),name:$.name}))});else{var P;b.push(JR({tooltipEntrySettings:_,dataKey:j,payload:D,value:Cr(D,j),name:(P=Cr(D,C))!==null&&P!==void 0?P:_?.name}))}return b},p)}},zT=xe([Xn,Vt,$z,_T,Zn],s8),yxe=xe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),vxe=xe([Zn,Sf],Bz),Rp=xe([yxe,Xn,vxe],Uz,{memoizeOptions:{resultEqualityCheck:gx}}),xxe=xe([Rp],e=>e.filter(jT)),_xe=xe([Rp],Gz,{memoizeOptions:{resultEqualityCheck:gx}}),Tf=xe([_xe,Hl],qz),wxe=xe([xxe,Hl,Xn],Rz),UT=xe([Tf,Xn,Rp],Yz),N8=xe([Xn],CT),Sxe=xe([Xn],e=>e.allowDataOverflow),C8=xe([N8,Sxe],mz),kxe=xe([Rp],e=>e.filter(jT)),Exe=xe([wxe,kxe,dx,jz],Wz),Axe=xe([Exe,Hl,Zn,C8],Vz),Txe=xe([Rp],Hz),jxe=xe([Tf,Xn,Txe,MT,Zn],Jz,{memoizeOptions:{resultEqualityCheck:px}}),Oxe=xe([Qz,Zn,Sf],kf),Nxe=xe([Oxe,Zn],n8),Cxe=xe([e8,Zn,Sf],kf),Mxe=xe([Cxe,Zn],r8),Dxe=xe([t8,Zn,Sf],kf),Pxe=xe([Dxe,Zn],i8),Rxe=xe([Nxe,Pxe,Mxe],qy),Lxe=xe([Xn,N8,C8,Axe,jxe,Rxe,Vt,Zn],a8),Lp=xe([Xn,Vt,Tf,UT,dx,Zn,Lxe],o8),Ixe=xe([Lp,Xn,zT],l8),$xe=xe([Xn,Lp,Ixe,Zn],c8),M8=e=>{var t=Zn(e),n=Sf(e),r=!1;return Dp(e,t,n,r)},D8=xe([Xn,M8],fx),P8=xe([Xn,zT,$xe,D8],PT),Bxe=xe([Vt,UT,Xn,Zn],m8),zxe=xe([Vt,UT,Xn,Zn],p8),Uxe=(e,t,n,r,i,a,o,l)=>{if(t){var{type:u}=t,f=js(e,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?ua(i[0]-i[1])*2*p:p,f&&o?o.map((b,v)=>({coordinate:r(b)+p,value:b,index:v,offset:p})):r.domain().map((b,v)=>({coordinate:r(b)+p,value:a?a[b]:b,index:v,offset:p}))}}},Ps=xe([Vt,Xn,zT,P8,M8,Bxe,zxe,Zn],Uxe),FT=xe([v8,x8,Xve],(e,t,n)=>_8(n.shared,e,t)),R8=e=>e.tooltip.settings.trigger,HT=e=>e.tooltip.settings.defaultIndex,Ip=xe([Af,FT,R8,HT],A8),Jm=xe([Ip,Tf,Cp,Lp],BT),L8=xe([Ps,Jm],w8),Fxe=xe([Ip],e=>{if(e)return e.dataKey});xe([Ip],e=>{if(e)return e.graphicalItemId});var I8=xe([Af,FT,R8,HT],j8),Hxe=xe([Os,Ns,Vt,kr,Ps,HT,I8,Pp],T8),Gxe=xe([Ip,Hxe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),qxe=xe([Ip],e=>e.active),Yxe=xe([I8,Jm,Hl,Cp,L8,Pp,FT],O8),Kxe=xe([Yxe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(n),!0).forEach(function(r){Wxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wxe(e,t,n){return(t=Vxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vxe(e){var t=Zxe(e,"string");return typeof t=="symbol"?t:t+""}function Zxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xxe=()=>et(Xn),Jxe=()=>{var e=Xxe(),t=et(Ps),n=et(P8);return ky(!e||!n?void 0:CI(CI({},e),{},{scale:n}),t)};function MI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(n),!0).forEach(function(r){Qxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qxe(e,t,n){return(t=e_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e_e(e){var t=t_e(e,"string");return typeof t=="symbol"?t:t+""}function t_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n_e=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},r_e=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return vd(vd(vd({},r),xr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return vd(vd(vd({},r),xr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function i_e(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var $8=(e,t,n,r,i)=>{var a,o=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,b=void 0;if(ua(h-f)!==ua(p-h)){var v=[];if(ua(p-h)===ua(i[1]-i[0])){b=p;var S=h+i[1]-i[0];v[0]=Math.min(S,(S+f)/2),v[1]=Math.max(S,(S+f)/2)}else{b=f;var w=p+i[1]-i[0];v[0]=Math.min(h,(w+h)/2),v[1]=Math.max(h,(w+h)/2)}var _=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>_[0]&&e<=_[1]||e>=v[0]&&e<=v[1]){({index:o}=n[u]);break}}else{var T=Math.min(f,p),N=Math.max(f,p);if(e>(T+h)/2&&e<=(N+h)/2){({index:o}=n[u]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},B8=()=>et(_T),GT=(e,t)=>t,z8=(e,t,n)=>n,qT=(e,t,n,r)=>r,a_e=xe(Ps,e=>Uv(e,t=>t.coordinate)),YT=xe([Af,GT,z8,qT],A8),KT=xe([YT,Tf,Cp,Lp],BT),o_e=(e,t,n)=>{if(t!=null){var r=Af(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},U8=xe([Af,GT,z8,qT],j8),Yy=xe([Os,Ns,Vt,kr,Ps,qT,U8,Pp],T8),s_e=xe([YT,Yy],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),F8=xe([Ps,KT],w8),l_e=xe([U8,KT,Hl,Cp,F8,Pp,GT],O8),c_e=xe([YT,KT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),u_e=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&i_e(e,o)){var l=Rme(e,t),u=$8(l,a,i,n,r),f=n_e(t,i,u,e);return{activeIndex:String(u),activeCoordinate:f}}},d_e=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var l=Yge(e,n);if(l){var u=Lme(l,t),f=$8(u,o,a,r,i),h=r_e(t,a,f,l);return{activeIndex:String(f),activeCoordinate:h}}}},f_e=(e,t,n,r,i,a,o,l)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?u_e(e,t,r,i,a,o,l):d_e(e,t,n,r,i,a,o)},h_e=xe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),m_e=xe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Fr)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Zye}});function DI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(n),!0).forEach(function(r){p_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p_e(e,t,n){return(t=g_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g_e(e){var t=b_e(e,"string");return typeof t=="symbol"?t:t+""}function b_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y_e={},v_e={zIndexMap:Object.values(Fr).reduce((e,t)=>PI(PI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),y_e)},x_e=new Set(Object.values(Fr));function __e(e){return x_e.has(e)}var H8=mi({name:"zIndex",initialState:v_e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:an()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!__e(n)&&delete e.zIndexMap[n])},prepare:an()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:an()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:an()}}}),{registerZIndexPortal:w_e,unregisterZIndexPortal:S_e,registerZIndexPortalId:k_e,unregisterZIndexPortalId:E_e}=H8.actions,A_e=H8.reducer;function Rs(e){var{zIndex:t,children:n}=e,r=gpe(),i=r&&t!==void 0&&t!==0,a=pi(),o=ur();k.useLayoutEffect(()=>i?(o(w_e({zIndex:t})),()=>{o(S_e({zIndex:t}))}):yp,[o,t,i]);var l=et(f=>h_e(f,t,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?yu.createPortal(n,u):null}function qE(){return qE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qE.apply(null,arguments)}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){T_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T_e(e,t,n){return(t=j_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j_e(e){var t=O_e(e,"string");return typeof t=="symbol"?t:t+""}function O_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N_e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return k.isValidElement(t)?k.cloneElement(t,r):k.createElement(n,r)}function C_e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:f,chartName:h}=e,p=n,b=r,v=i;if(!u||!p||h!=="ScatterChart"&&f!=="axis")return null;var S,w,_;if(h==="ScatterChart")S=p,w=ige,_=Fr.cursorLine;else if(h==="BarChart")S=age(l,p,a,o),w=Lge,_=Fr.cursorRectangle;else if(l==="radial"&&v7(p)){var{cx:T,cy:N,radius:j,startAngle:C,endAngle:D}=C9(p);S={cx:T,cy:N,startAngle:C,endAngle:D,innerRadius:j,outerRadius:j},w=Zge,_=Fr.cursorLine}else S={points:Xge(l,p,a)},w=jb,_=Fr.cursorLine;var P=typeof u=="object"&&"className"in u?u.className:void 0,$=sb(sb(sb(sb({stroke:"#ccc",pointerEvents:"none"},a),S),Iv(u)),{},{payload:b,payloadIndex:v,className:Qt("recharts-tooltip-cursor",P)});return k.createElement(Rs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},k.createElement(N_e,{cursor:u,cursorComp:w,cursorProps:$}))}function M_e(e){var t=Jxe(),n=p9(),r=Sp(),i=B8();return t==null||n==null||r==null||i==null?null:k.createElement(C_e,qE({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var G8=k.createContext(null),D_e=()=>k.useContext(G8),MS={exports:{}},LI;function P_e(){return LI||(LI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function a(u,f,h,p,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,p||u,b),S=n?n+f:f;return u._events[S]?u._events[S].fn?u._events[S]=[u._events[S],v]:u._events[S].push(v):(u._events[S]=v,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)t.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,v=p.length,S=new Array(v);b<v;b++)S[b]=p[b].fn;return S},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,b,v,S){var w=n?n+f:f;if(!this._events[w])return!1;var _=this._events[w],T=arguments.length,N,j;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),T){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,p),!0;case 4:return _.fn.call(_.context,h,p,b),!0;case 5:return _.fn.call(_.context,h,p,b,v),!0;case 6:return _.fn.call(_.context,h,p,b,v,S),!0}for(j=1,N=new Array(T-1);j<T;j++)N[j-1]=arguments[j];_.fn.apply(_.context,N)}else{var C=_.length,D;for(j=0;j<C;j++)switch(_[j].once&&this.removeListener(f,_[j].fn,void 0,!0),T){case 1:_[j].fn.call(_[j].context);break;case 2:_[j].fn.call(_[j].context,h);break;case 3:_[j].fn.call(_[j].context,h,p);break;case 4:_[j].fn.call(_[j].context,h,p,b);break;default:if(!N)for(D=1,N=new Array(T-1);D<T;D++)N[D-1]=arguments[D];_[j].fn.apply(_[j].context,N)}}return!0},l.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,b){var v=n?n+f:f;if(!this._events[v])return this;if(!h)return o(this,v),this;var S=this._events[v];if(S.fn)S.fn===h&&(!b||S.once)&&(!p||S.context===p)&&o(this,v);else{for(var w=0,_=[],T=S.length;w<T;w++)(S[w].fn!==h||b&&!S[w].once||p&&S[w].context!==p)&&_.push(S[w]);_.length?this._events[v]=_.length===1?_[0]:_:o(this,v)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(MS)),MS.exports}var R_e=P_e();const L_e=hi(R_e);var Qm=new L_e,YE="recharts.syncEvent.tooltip",II="recharts.syncEvent.brush";function I_e(e,t){if(t){var n=Number.parseInt(t,10);if(!qa(n))return e?.[n]}}var $_e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},q8=mi({name:"options",initialState:$_e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),B_e=q8.reducer,{createEventEmitter:z_e}=q8.actions;function U_e(e){return e.tooltip.syncInteraction}var F_e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Y8=mi({name:"chartData",initialState:F_e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:$I,setDataStartEndIndexes:H_e,setComputedData:QOe}=Y8.actions,G_e=Y8.reducer,q_e=["x","y"];function BI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(n),!0).forEach(function(r){Y_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y_e(e,t,n){return(t=K_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K_e(e){var t=W_e(e,"string");return typeof t=="symbol"?t:t+""}function W_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V_e(e,t){if(e==null)return{};var n,r,i=Z_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Z_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function X_e(){var e=et(wT),t=et(ST),n=ur(),r=et(Oz),i=et(Ps),a=Sp(),o=ex(),l=et(u=>u.rootProps.className);k.useEffect(()=>{if(e==null)return yp;var u=(f,h,p)=>{if(t!==p&&e===f){if(r==="index"){var b;if(o&&h!==null&&h!==void 0&&(b=h.payload)!==null&&b!==void 0&&b.coordinate&&h.payload.sourceViewBox){var v=h.payload.coordinate,{x:S,y:w}=v,_=V_e(v,q_e),{x:T,y:N,width:j,height:C}=h.payload.sourceViewBox,D=xd(xd({},_),{},{x:o.x+(j?(S-T)/j:0)*o.width,y:o.y+(C?(w-N)/C:0)*o.height});n(xd(xd({},h),{},{payload:xd(xd({},h.payload),{},{coordinate:D})}))}else n(h);return}if(i!=null){var P;if(typeof r=="function"){var $={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},F=r(i,$);P=i[F]}else r==="value"&&(P=i.find(q=>String(q.value)===h.payload.label));var{coordinate:Y}=h.payload;if(P==null||h.payload.active===!1||Y==null||o==null){n(HE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:H}=Y,z=Math.min(K,o.x+o.width),V=Math.min(H,o.y+o.height),Z={x:a==="horizontal"?P.coordinate:z,y:a==="horizontal"?V:P.coordinate},X=HE({active:h.payload.active,coordinate:Z,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(X)}}};return Qm.on(YE,u),()=>{Qm.off(YE,u)}},[l,n,t,e,r,i,a,o])}function J_e(){var e=et(wT),t=et(ST),n=ur();k.useEffect(()=>{if(e==null)return yp;var r=(i,a,o)=>{t!==o&&e===i&&n(H_e(a))};return Qm.on(II,r),()=>{Qm.off(II,r)}},[n,t,e])}function Q_e(){var e=ur();k.useEffect(()=>{e(z_e())},[e]),X_e(),J_e()}function ewe(e,t,n,r,i,a){var o=et(v=>o_e(v,e,t)),l=et(ST),u=et(wT),f=et(Oz),h=et(U_e),p=h?.active,b=ex();k.useEffect(()=>{if(!p&&u!=null&&l!=null){var v=HE({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});Qm.emit(YE,u,v,l)}},[p,n,o,i,r,l,u,f,a,b])}function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(n),!0).forEach(function(r){twe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function twe(e,t,n){return(t=nwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nwe(e){var t=rwe(e,"string");return typeof t=="symbol"?t:t+""}function rwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iwe(e){return e.dataKey}function awe(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(Ipe,t)}var FI=[],owe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function swe(e){var t,n,r=qi(e,owe),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:b,position:v,reverseDirection:S,useTranslate3d:w,wrapperStyle:_,cursor:T,shared:N,trigger:j,defaultIndex:C,portal:D,axisId:P}=r,$=ur(),F=typeof C=="number"?String(C):C;k.useEffect(()=>{$(nxe({shared:N,trigger:j,axisId:P,active:i,defaultIndex:F}))},[$,N,j,P,i,F]);var Y=ex(),K=E9(),H=Zve(N),{activeIndex:z,isActive:V}=(t=et(me=>c_e(me,H,j,F)))!==null&&t!==void 0?t:{},Z=et(me=>l_e(me,H,j,F)),X=et(me=>F8(me,H,j,F)),q=et(me=>s_e(me,H,j,F)),J=Z,ne=D_e(),de=(n=i??V)!==null&&n!==void 0?n:!1,[oe,B]=Ehe([J,de]),W=H==="axis"?X:void 0;ewe(H,j,q,W,z,de);var ie=D??ne;if(ie==null||Y==null||H==null)return null;var Q=J??FI;de||(Q=FI),f&&Q.length&&(Q=Xfe(Q.filter(me=>me.value!=null&&(me.hide!==!0||r.includeHidden)),b,iwe));var se=Q.length>0,he=k.createElement(Gpe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:de,coordinate:q,hasPayload:se,offset:p,position:v,reverseDirection:S,useTranslate3d:w,viewBox:Y,wrapperStyle:_,lastBoundingBox:oe,innerRef:B,hasPortalFromProps:!!D},awe(u,UI(UI({},r),{},{payload:Q,label:W,active:de,activeIndex:z,coordinate:q,accessibilityLayer:K})));return k.createElement(k.Fragment,null,yu.createPortal(he,ie),de&&k.createElement(M_e,{cursor:T,tooltipEventType:H,coordinate:q,payload:Q,index:z}))}function lwe(e,t,n){return(t=cwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cwe(e){var t=uwe(e,"string");return typeof t=="symbol"?t:t+""}function uwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class dwe{constructor(t){lwe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fwe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(r){hwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hwe(e,t,n){return(t=mwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mwe(e){var t=pwe(e,"string");return typeof t=="symbol"?t:t+""}function pwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gwe={cacheSize:2e3,enableCache:!0},K8=fwe({},gwe),GI=new dwe(K8.cacheSize),bwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qI="recharts_measurement_span";function ywe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var YI=(e,t)=>{try{var n=document.getElementById(qI);n||(n=document.createElement("span"),n.setAttribute("id",qI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,bwe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},_m=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vf.isSsr)return{width:0,height:0};if(!K8.enableCache)return YI(t,n);var r=ywe(t,n),i=GI.get(r);if(i)return i;var a=YI(t,n);return GI.set(r,a),a},KI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,W8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_we=Object.keys(W8),Cd="NaN";function wwe(e,t){return e*W8[t]}class oi{static parse(t){var n,[,r,i]=(n=xwe.exec(t))!==null&&n!==void 0?n:[];return new oi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,qa(t)&&(this.unit=""),n!==""&&!vwe.test(n)&&(this.num=NaN,this.unit=""),_we.includes(n)&&(this.num=wwe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new oi(NaN,""):new oi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new oi(NaN,""):new oi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new oi(NaN,""):new oi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new oi(NaN,""):new oi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qa(this.num)}}function V8(e){if(e.includes(Cd))return Cd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=KI.exec(t))!==null&&n!==void 0?n:[],o=oi.parse(r??""),l=oi.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Cd;t=t.replace(KI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,p,b]=(f=WI.exec(t))!==null&&f!==void 0?f:[],v=oi.parse(h??""),S=oi.parse(b??""),w=p==="+"?v.add(S):v.subtract(S);if(w.isNaN())return Cd;t=t.replace(WI,w.toString())}return t}var VI=/\(([^()]*)\)/;function Swe(e){for(var t=e,n;(n=VI.exec(t))!=null;){var[,r]=n;t=t.replace(VI,V8(r))}return t}function kwe(e){var t=e.replace(/\s+/g,"");return t=Swe(t),t=V8(t),t}function Ewe(e){try{return kwe(e)}catch{return Cd}}function DS(e){var t=Ewe(e.slice(5,-1));return t===Cd?"":t}var Awe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Twe=["dx","dy","angle","className","breakAll"];function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KE.apply(null,arguments)}function ZI(e,t){if(e==null)return{};var n,r,i=jwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Z8=/[ \f\n\r\t\v\u2028\u2029]+/,X8=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];_r(t)||(n?i=t.toString().split(""):i=t.toString().split(Z8));var a=i.map(l=>({word:l,width:_m(l,r).width})),o=n?0:_m("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function Owe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var J8=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(o),u.width+=l+n;else{var f={words:[o],width:l};i.push(f)}return i},[]),Q8=e=>e.reduce((t,n)=>t.width>n.width?t:n),Nwe="",XI=(e,t,n,r,i,a,o,l)=>{var u=e.slice(0,t),f=X8({breakAll:n,style:r,children:u+Nwe});if(!f)return[!1,[]];var h=J8(f.wordsWithComputedWidth,a,o,l),p=h.length>i||Q8(h).width>Number(a);return[p,h]},Cwe=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,f=Xe(a),h=String(o),p=J8(t,r,n,i);if(!f||i)return p;var b=p.length>a||Q8(p).width>Number(r);if(!b)return p;for(var v=0,S=h.length-1,w=0,_;v<=S&&w<=h.length-1;){var T=Math.floor((v+S)/2),N=T-1,[j,C]=XI(h,N,u,l,a,r,n,i),[D]=XI(h,T,u,l,a,r,n,i);if(!j&&!D&&(v=T+1),j&&D&&(S=T-1),!j&&D){_=C;break}w++}return _||p},JI=e=>{var t=_r(e)?[]:e.toString().split(Z8);return[{words:t,width:void 0}]},Mwe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!vf.isSsr){var l,u,f=X8({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;l=h,u=p}else return JI(r);return Cwe({breakAll:a,children:r,maxLines:o,style:i},l,u,t,!!n)}return JI(r)},eU="#808080",Dwe={angle:0,breakAll:!1,capHeight:"0.71em",fill:eU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},WT=k.forwardRef((e,t)=>{var n=qi(e,Dwe),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:f,verticalAnchor:h}=n,p=ZI(n,Awe),b=k.useMemo(()=>Mwe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:S,angle:w,className:_,breakAll:T}=p,N=ZI(p,Twe);if(!jo(r)||!jo(i)||b.length===0)return null;var j=Number(r)+(Xe(v)?v:0),C=Number(i)+(Xe(S)?S:0);if(!wn(j)||!wn(C))return null;var D;switch(h){case"start":D=DS("calc(".concat(o,")"));break;case"middle":D=DS("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:D=DS("calc(".concat(b.length-1," * -").concat(a,")"));break}var P=[];if(u){var $=b[0].width,{width:F}=p;P.push("scale(".concat(Xe(F)&&Xe($)?F/$:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(j,", ").concat(C,")")),P.length&&(N.transform=P.join(" ")),k.createElement("text",KE({},pa(N),{ref:t,x:j,y:C,className:Qt("recharts-text",_),textAnchor:f,fill:l.includes("url")?eU:l}),b.map((Y,K)=>{var H=Y.words.join(T?"":" ");return k.createElement("tspan",{x:j,dy:K===0?D:a,key:"".concat(H,"-").concat(K)},H)}))});WT.displayName="Text";var Pwe=["labelRef"];function Rwe(e,t){if(e==null)return{};var n,r,i=Lwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(n),!0).forEach(function(r){Iwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iwe(e,t,n){return(t=$we(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $we(e){var t=Bwe(e,"string");return typeof t=="symbol"?t:t+""}function Bwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ds.apply(null,arguments)}var tU=k.createContext(null),zwe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=e,u=k.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return k.createElement(tU.Provider,{value:u},l)},nU=()=>{var e=k.useContext(tU),t=ex();return e||m9(t)},Uwe=k.createContext(null),Fwe=()=>{var e=k.useContext(Uwe),t=et(Pz);return e||t},Hwe=e=>{var{value:t,formatter:n}=e,r=_r(e.children)?t:e.children;return typeof n=="function"?n(r):r},VT=e=>e!=null&&typeof e=="function",Gwe=(e,t)=>{var n=ua(t-e),r=Math.min(Math.abs(t-e),360);return n*r},qwe=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:f,outerRadius:h,startAngle:p,endAngle:b,clockWise:v}=i,S=(f+h)/2,w=Gwe(p,b),_=w>=0?1:-1,T,N;switch(t){case"insideStart":T=p+_*a,N=v;break;case"insideEnd":T=b-_*a,N=!v;break;case"end":T=b+_*a,N=v;break;default:throw new Error("Unsupported position ".concat(t))}N=w<=0?N:!N;var j=xr(l,u,S,T),C=xr(l,u,S,T+(N?1:-1)*359),D="M".concat(j.x,",").concat(j.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),P=_r(e.id)?Bm("recharts-radial-line-"):e.id;return k.createElement("text",ds({},r,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",o)}),k.createElement("defs",null,k.createElement("path",{id:P,d:D})),k.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Ywe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,f=(l+u)/2;if(n==="outside"){var{x:h,y:p}=xr(r,i,o+t,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+o)/2,{x:v,y:S}=xr(r,i,b,f);return{x:v,y:S,textAnchor:"middle",verticalAnchor:"middle"}},WE=e=>"cx"in e&&Xe(e.cx),Kwe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!WE(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:f,height:h}=t,p=o,b=o+(u-f)/2,v=(p+b)/2,S=(u+f)/2,w=p+u/2,_=h>=0?1:-1,T=_*r,N=_>0?"end":"start",j=_>0?"start":"end",C=u>=0?1:-1,D=C*r,P=C>0?"end":"start",$=C>0?"start":"end";if(i==="top"){var F={x:p+u/2,y:l-T,textAnchor:"middle",verticalAnchor:N};return An(An({},F),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var Y={x:b+f/2,y:l+h+T,textAnchor:"middle",verticalAnchor:j};return An(An({},Y),a?{height:Math.max(a.y+a.height-(l+h),0),width:f}:{})}if(i==="left"){var K={x:v-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"};return An(An({},K),a?{width:Math.max(K.x-a.x,0),height:h}:{})}if(i==="right"){var H={x:v+S+D,y:l+h/2,textAnchor:$,verticalAnchor:"middle"};return An(An({},H),a?{width:Math.max(a.x+a.width-H.x,0),height:h}:{})}var z=a?{width:S,height:h}:{};return i==="insideLeft"?An({x:v+D,y:l+h/2,textAnchor:$,verticalAnchor:"middle"},z):i==="insideRight"?An({x:v+S-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"},z):i==="insideTop"?An({x:p+u/2,y:l+T,textAnchor:"middle",verticalAnchor:j},z):i==="insideBottom"?An({x:b+f/2,y:l+h-T,textAnchor:"middle",verticalAnchor:N},z):i==="insideTopLeft"?An({x:p+D,y:l+T,textAnchor:$,verticalAnchor:j},z):i==="insideTopRight"?An({x:p+u-D,y:l+T,textAnchor:P,verticalAnchor:j},z):i==="insideBottomLeft"?An({x:b+D,y:l+h-T,textAnchor:$,verticalAnchor:N},z):i==="insideBottomRight"?An({x:b+f-D,y:l+h-T,textAnchor:P,verticalAnchor:N},z):i&&typeof i=="object"&&(Xe(i.x)||_s(i.x))&&(Xe(i.y)||_s(i.y))?An({x:o+Il(i.x,S),y:l+Il(i.y,h),textAnchor:"end",verticalAnchor:"end"},z):An({x:w,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},z)},Wwe={angle:0,offset:5,zIndex:Fr.label,position:"middle",textBreakAll:!1};function Sl(e){var t=qi(e,Wwe),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:f}=t,h=Fwe(),p=nU(),b=r==="center"?p:h??p,v,S,w;if(n==null?v=b:WE(n)?v=n:v=m9(n),!v||_r(i)&&_r(a)&&!k.isValidElement(o)&&typeof o!="function")return null;var _=An(An({},t),{},{viewBox:v});if(k.isValidElement(o)){var{labelRef:T}=_,N=Rwe(_,Pwe);return k.cloneElement(o,N)}if(typeof o=="function"){if(S=k.createElement(o,_),k.isValidElement(S))return S}else S=Hwe(t);var j=pa(t);if(WE(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return qwe(t,r,S,j,v);w=Ywe(v,t.offset,t.position)}else w=Kwe(t,v);return k.createElement(Rs,{zIndex:t.zIndex},k.createElement(WT,ds({ref:f,className:Qt("recharts-label",l)},j,w,{textAnchor:Owe(j.textAnchor)?j.textAnchor:w.textAnchor,breakAll:u}),S))}Sl.displayName="Label";var Vwe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?k.createElement(Sl,ds({key:"label-implicit"},r)):jo(e)?k.createElement(Sl,ds({key:"label-implicit",value:e},r)):k.isValidElement(e)?e.type===Sl?k.cloneElement(e,An({key:"label-implicit"},r)):k.createElement(Sl,ds({key:"label-implicit",content:e},r)):VT(e)?k.createElement(Sl,ds({key:"label-implicit",content:e},r)):e&&typeof e=="object"?k.createElement(Sl,ds({},e,{key:"label-implicit"},r)):null};function Zwe(e){var{label:t,labelRef:n}=e,r=nU();return Vwe(t,r,n)||null}var PS={},RS={},e3;function Xwe(){return e3||(e3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(RS)),RS}var LS={},t3;function Jwe(){return t3||(t3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(LS)),LS}var n3;function Qwe(){return n3||(n3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xwe(),n=Jwe(),r=IA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(PS)),PS}var IS,r3;function e1e(){return r3||(r3=1,IS=Qwe().last),IS}var t1e=e1e();const n1e=hi(t1e);var r1e=["valueAccessor"],i1e=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ky.apply(null,arguments)}function i3(e,t){if(e==null)return{};var n,r,i=a1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var o1e=e=>Array.isArray(e.value)?n1e(e.value):e.value,rU=k.createContext(void 0),s1e=rU.Provider,iU=k.createContext(void 0);iU.Provider;function l1e(){return k.useContext(rU)}function c1e(){return k.useContext(iU)}function Nb(e){var{valueAccessor:t=o1e}=e,n=i3(e,r1e),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=i3(n,i1e),f=l1e(),h=c1e(),p=f||h;return!p||!p.length?null:k.createElement(Rs,{zIndex:l??Fr.label},k.createElement(To,{className:"recharts-label-list"},p.map((b,v)=>{var S,w=_r(r)?t(b,v):Cr(b&&b.payload,r),_=_r(a)?{}:{id:"".concat(a,"-").concat(v)};return k.createElement(Sl,Ky({key:"label-".concat(v)},pa(b),u,_,{fill:(S=n.fill)!==null&&S!==void 0?S:b.fill,parentViewBox:b.parentViewBox,value:w,textBreakAll:o,viewBox:b.viewBox,index:v,zIndex:0}))})))}Nb.displayName="LabelList";function u1e(e){var{label:t}=e;return t?t===!0?k.createElement(Nb,{key:"labelList-implicit"}):k.isValidElement(t)||VT(t)?k.createElement(Nb,{key:"labelList-implicit",content:t}):typeof t=="object"?k.createElement(Nb,Ky({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VE.apply(null,arguments)}var aU=e=>{var{cx:t,cy:n,r,className:i}=e,a=Qt("recharts-dot",i);return Xe(t)&&Xe(n)&&Xe(r)?k.createElement("circle",VE({},Ga(e),LA(e),{className:a,cx:t,cy:n,r})):null},d1e={radiusAxis:{},angleAxis:{}},oU=mi({name:"polarAxis",initialState:d1e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:eNe,removeRadiusAxis:tNe,addAngleAxis:nNe,removeAngleAxis:rNe}=oU.actions,f1e=oU.reducer,$S={exports:{}},Mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3;function h1e(){if(a3)return Mt;a3=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,b=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,S=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,_=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,N=e?Symbol.for("react.scope"):60119;function j(D){if(typeof D=="object"&&D!==null){var P=D.$$typeof;switch(P){case t:switch(D=D.type,D){case u:case f:case r:case a:case i:case p:return D;default:switch(D=D&&D.$$typeof,D){case l:case h:case S:case v:case o:return D;default:return P}}case n:return P}}}function C(D){return j(D)===f}return Mt.AsyncMode=u,Mt.ConcurrentMode=f,Mt.ContextConsumer=l,Mt.ContextProvider=o,Mt.Element=t,Mt.ForwardRef=h,Mt.Fragment=r,Mt.Lazy=S,Mt.Memo=v,Mt.Portal=n,Mt.Profiler=a,Mt.StrictMode=i,Mt.Suspense=p,Mt.isAsyncMode=function(D){return C(D)||j(D)===u},Mt.isConcurrentMode=C,Mt.isContextConsumer=function(D){return j(D)===l},Mt.isContextProvider=function(D){return j(D)===o},Mt.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},Mt.isForwardRef=function(D){return j(D)===h},Mt.isFragment=function(D){return j(D)===r},Mt.isLazy=function(D){return j(D)===S},Mt.isMemo=function(D){return j(D)===v},Mt.isPortal=function(D){return j(D)===n},Mt.isProfiler=function(D){return j(D)===a},Mt.isStrictMode=function(D){return j(D)===i},Mt.isSuspense=function(D){return j(D)===p},Mt.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===f||D===a||D===i||D===p||D===b||typeof D=="object"&&D!==null&&(D.$$typeof===S||D.$$typeof===v||D.$$typeof===o||D.$$typeof===l||D.$$typeof===h||D.$$typeof===_||D.$$typeof===T||D.$$typeof===N||D.$$typeof===w)},Mt.typeOf=j,Mt}var o3;function m1e(){return o3||(o3=1,$S.exports=h1e()),$S.exports}m1e();var sU=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function p1e(e){var{tooltipEntrySettings:t}=e,n=ur(),r=pi(),i=k.useRef(null);return k.useLayoutEffect(()=>{r||(i.current===null?n(Qve(t)):i.current!==t&&n(exe({prev:i.current,next:t})),i.current=t)},[t,n,r]),k.useLayoutEffect(()=>()=>{i.current&&(n(txe(i.current)),i.current=null)},[n]),null}function g1e(e){var{legendPayload:t}=e,n=ur(),r=pi(),i=k.useRef(null);return k.useLayoutEffect(()=>{r||(i.current===null?n(Ope(t)):i.current!==t&&n(Npe({prev:i.current,next:t})),i.current=t)},[n,r,t]),k.useLayoutEffect(()=>()=>{i.current&&(n(Cpe(i.current)),i.current=null)},[n]),null}var BS,b1e=()=>{var[e]=k.useState(()=>Bm("uid-"));return e},y1e=(BS=FH.useId)!==null&&BS!==void 0?BS:b1e;function lU(e,t){var n=y1e();return t||(e?"".concat(e,"-").concat(n):n)}var v1e=k.createContext(void 0),x1e=e=>{var{id:t,type:n,children:r}=e,i=lU("recharts-".concat(n),t);return k.createElement(v1e.Provider,{value:i},r(i))},_1e={cartesianItems:[],polarItems:[]},cU=mi({name:"graphicalItems",initialState:_1e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:an()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:an()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ua(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:an()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:an()},removePolarGraphicalItem:{reducer(e,t){var n=Ua(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:an()}}}),{addCartesianGraphicalItem:w1e,replaceCartesianGraphicalItem:S1e,removeCartesianGraphicalItem:k1e,addPolarGraphicalItem:iNe,removePolarGraphicalItem:aNe}=cU.actions,E1e=cU.reducer,A1e=e=>{var t=ur(),n=k.useRef(null);return k.useLayoutEffect(()=>{n.current===null?t(w1e(e)):n.current!==e&&t(S1e({prev:n.current,next:e})),n.current=e},[t,e]),k.useLayoutEffect(()=>()=>{n.current&&(t(k1e(n.current)),n.current=null)},[t]),null},T1e=k.memo(A1e),j1e=["points"];function s3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(n),!0).forEach(function(r){O1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O1e(e,t,n){return(t=N1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N1e(e){var t=C1e(e,"string");return typeof t=="symbol"?t:t+""}function C1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wy.apply(null,arguments)}function M1e(e,t){if(e==null)return{};var n,r,i=D1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function D1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function P1e(e){var{option:t,dotProps:n,className:r}=e;if(k.isValidElement(t))return k.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Qt(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,l=M1e(a,j1e);return k.createElement(aU,Wy({},l,{className:i}))}function R1e(e,t){return e==null?!1:t?!0:e.length===1}function L1e(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:f=Fr.scatter}=e;if(!R1e(t,n))return null;var h=sU(n),p=qde(n),b=t.map((S,w)=>{var _,T,N=zS(zS(zS({r:3},o),p),{},{index:w,cx:(_=S.x)!==null&&_!==void 0?_:void 0,cy:(T=S.y)!==null&&T!==void 0?T:void 0,dataKey:a,value:S.value,payload:S.payload,points:t});return k.createElement(P1e,{key:"dot-".concat(w),option:n,dotProps:N,className:i})}),v={};return l&&u!=null&&(v.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),k.createElement(Rs,{zIndex:f},k.createElement(To,Wy({className:r},v),b))}function l3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function c3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(n),!0).forEach(function(r){I1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I1e(e,t,n){return(t=$1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $1e(e){var t=B1e(e,"string");return typeof t=="symbol"?t:t+""}function B1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z1e={xAxis:{},yAxis:{},zAxis:{}},uU=mi({name:"cartesianAxis",initialState:z1e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:an()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:an()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:an()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:an()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:an()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:an()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:an()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:an()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:an()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=c3(c3({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:U1e,replaceXAxis:F1e,removeXAxis:H1e,addYAxis:G1e,replaceYAxis:q1e,removeYAxis:Y1e,addZAxis:oNe,replaceZAxis:sNe,removeZAxis:lNe,updateYAxisWidth:K1e}=uU.actions,W1e=uU.reducer,V1e=xe([kr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Z1e=xe([V1e,Os,Ns],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),ZT=()=>et(Z1e),X1e=()=>et(Kxe);function u3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function US(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(n),!0).forEach(function(r){J1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J1e(e,t,n){return(t=Q1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q1e(e){var t=eSe(e,"string");return typeof t=="symbol"?t:t+""}function eSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tSe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=US(US(US({},l),Iv(i)),LA(i)),f;return k.isValidElement(i)?f=k.cloneElement(i,u):typeof i=="function"?f=i(u):f=k.createElement(aU,u),k.createElement(To,{className:"recharts-active-dot",clipPath:o},f)};function d3(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Fr.activeDot}=e,l=et(Jm),u=X1e();if(t==null||u==null)return null;var f=t.find(h=>u.includes(h.payload));return _r(f)?null:k.createElement(Rs,{zIndex:o},k.createElement(tSe,{point:f,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var nSe={},dU=mi({name:"errorBars",initialState:nSe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:cNe,replaceErrorBar:uNe,removeErrorBar:dNe}=dU.actions,rSe=dU.reducer;function fU(e,t){var n,r,i=et(f=>Ms(f,e)),a=et(f=>Ds(f,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:rr.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ir.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function iSe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=ZT(),{needClipX:a,needClipY:o,needClip:l}=fU(t,n);if(!l||!i)return null;var{x:u,y:f,width:h,height:p}=i;return k.createElement("clipPath",{id:"clipPath-".concat(r)},k.createElement("rect",{x:a?u:u-h/2,y:o?f:f-p/2,width:a?h:h*2,height:o?p:p*2}))}var aSe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function oSe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function XT(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(aSe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!wb(e[r],t[r]))return!1}else if(!oSe(e[r],t[r]))return!1;return!0}var sSe=e=>{var{chartData:t}=e,n=ur(),r=pi();return k.useEffect(()=>r?()=>{}:(n($I(t)),()=>{n($I(void 0))}),[t,n,r]),null},f3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},hU=mi({name:"brush",initialState:f3,reducers:{setBrushSettings(e,t){return t.payload==null?f3:t.payload}}}),{setBrushSettings:fNe}=hU.actions,lSe=hU.reducer;function cSe(e,t,n){return(t=uSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uSe(e){var t=dSe(e,"string");return typeof t=="symbol"?t:t+""}function dSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JT{static create(t){return new JT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}cSe(JT,"EPS",1e-4);function fSe(e){return(e%180+180)%180}var hSe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=fSe(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},mSe={dots:[],areas:[],lines:[]},mU=mi({name:"referenceElements",initialState:mSe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ua(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ua(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ua(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:hNe,removeDot:mNe,addArea:pNe,removeArea:gNe,addLine:bNe,removeLine:yNe}=mU.actions,pSe=mU.reducer,gSe=k.createContext(void 0),bSe=e=>{var{children:t}=e,[n]=k.useState("".concat(Bm("recharts"),"-clip")),r=ZT();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return k.createElement(gSe.Provider,{value:n},k.createElement("defs",null,k.createElement("clipPath",{id:n},k.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function pU(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function ySe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return hSe(r,n)}function vSe(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function Vy(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function xSe(e,t){return pU(e,t+1)}function _Se(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=t,u=0,f=1,h=o,p=function(){var S=r?.[u];if(S===void 0)return{v:pU(r,f)};var w=u,_,T=()=>(_===void 0&&(_=n(S,w)),_),N=S.coordinate,j=u===0||Vy(e,N,T,h,l);j||(u=0,h=o,f+=1),j&&(h=N+e*(T()/2+i),u+=f)},b;f<=a.length;)if(b=p(),b)return b.v;return[]}function h3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(n),!0).forEach(function(r){wSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wSe(e,t,n){return(t=SSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SSe(e){var t=kSe(e,"string");return typeof t=="symbol"?t:t+""}function kSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ESe(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,f=function(b){var v=a[b],S,w=()=>(S===void 0&&(S=n(v,b)),S);if(b===o-1){var _=e*(v.coordinate+e*w()/2-u);a[b]=v=Or(Or({},v),{},{tickCoord:_>0?v.coordinate-_*e:v.coordinate})}else a[b]=v=Or(Or({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var T=Vy(e,v.tickCoord,w,l,u);T&&(u=v.tickCoord-e*(w()/2+i),a[b]=Or(Or({},v),{},{isShow:!0}))}},h=o-1;h>=0;h--)f(h);return a}function ASe(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:f}=t;if(a){var h=r[l-1],p=n(h,l-1),b=e*(h.coordinate+e*p/2-f);if(o[l-1]=h=Or(Or({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate}),h.tickCoord!=null){var v=Vy(e,h.tickCoord,()=>p,u,f);v&&(f=h.tickCoord-e*(p/2+i),o[l-1]=Or(Or({},h),{},{isShow:!0}))}}for(var S=a?l-1:l,w=function(N){var j=o[N],C,D=()=>(C===void 0&&(C=n(j,N)),C);if(N===0){var P=e*(j.coordinate-e*D()/2-u);o[N]=j=Or(Or({},j),{},{tickCoord:P<0?j.coordinate-P*e:j.coordinate})}else o[N]=j=Or(Or({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var $=Vy(e,j.tickCoord,D,u,f);$&&(u=j.tickCoord+e*(D()/2+i),o[N]=Or(Or({},j),{},{isShow:!0}))}},_=0;_<S;_++)w(_);return o}function QT(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:f,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(Xe(u)||vf.isSsr){var b;return(b=xSe(i,Xe(u)?u:0))!==null&&b!==void 0?b:[]}var v=[],S=l==="top"||l==="bottom"?"width":"height",w=h&&S==="width"?_m(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=(j,C)=>{var D=typeof f=="function"?f(j.value,C):j.value;return S==="width"?ySe(_m(D,{fontSize:t,letterSpacing:n}),w,p):_m(D,{fontSize:t,letterSpacing:n})[S]},T=i.length>=2?ua(i[1].coordinate-i[0].coordinate):1,N=vSe(a,T,S);return u==="equidistantPreserveStart"?_Se(T,N,_,i,o):(u==="preserveStart"||u==="preserveStartEnd"?v=ASe(T,N,_,i,o,u==="preserveStartEnd"):v=ESe(T,N,_,i,o),v.filter(j=>j.isShow))}var TSe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,f=o+u+l+(n?r:0);return Math.round(f)}return 0},jSe=["axisLine","width","height","className","hide","ticks","axisType"];function OSe(e,t){if(e==null)return{};var n,r,i=NSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(null,arguments)}function m3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(n),!0).forEach(function(r){CSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CSe(e,t,n){return(t=MSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MSe(e){var t=DSe(e,"string");return typeof t=="symbol"?t:t+""}function DSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Fr.axis};function PSe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var f=$n($n($n({},u),Ga(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);f=$n($n({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=$n($n({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return k.createElement("line",mu({},f,{className:Qt("recharts-cartesian-axis-line",zv(l,"className"))}))}function RSe(e,t,n,r,i,a,o,l,u){var f,h,p,b,v,S,w=l?-1:1,_=e.tickSize||o,T=Xe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=h=e.coordinate,b=n+ +!l*i,p=b-w*_,S=p-w*u,v=T;break;case"left":p=b=e.coordinate,h=t+ +!l*r,f=h-w*_,v=f-w*u,S=T;break;case"right":p=b=e.coordinate,h=t+ +l*r,f=h+w*_,v=f+w*u,S=T;break;default:f=h=e.coordinate,b=n+ +l*i,p=b+w*_,S=p+w*u,v=T;break}return{line:{x1:f,y1:p,x2:h,y2:b},tick:{x:v,y:S}}}function LSe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ISe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $Se(e){var{option:t,tickProps:n,value:r}=e,i,a=Qt(n.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(t))i=k.cloneElement(t,$n($n({},n),{},{className:a}));else if(typeof t=="function")i=t($n($n({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Qt(o,t?.className)),i=k.createElement(WT,mu({},n,{className:o}),r)}return i}var BSe=k.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:f,orientation:h,mirror:p,x:b,y:v,width:S,height:w,tickSize:_,tickMargin:T,fontSize:N,letterSpacing:j,getTicksConfig:C,events:D,axisType:P}=e,$=QT($n($n({},C),{},{ticks:n}),N,j),F=LSe(h,p),Y=ISe(h,p),K=Ga(C),H=Iv(r),z={};typeof i=="object"&&(z=i);var V=$n($n({},K),{},{fill:"none"},z),Z=$.map(J=>$n({entry:J},RSe(J,b,v,S,w,h,_,p,T))),X=Z.map(J=>{var{entry:ne,line:de}=J;return k.createElement(To,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},i&&k.createElement("line",mu({},V,de,{className:Qt("recharts-cartesian-axis-tick-line",zv(i,"className"))})))}),q=Z.map((J,ne)=>{var{entry:de,tick:oe}=J,B=$n($n($n($n({textAnchor:F,verticalAnchor:Y},K),{},{stroke:"none",fill:a},H),oe),{},{index:ne,payload:de,visibleTicksCount:$.length,tickFormatter:o,padding:u},f);return k.createElement(To,mu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(de.value,"-").concat(de.coordinate,"-").concat(de.tickCoord)},Tfe(D,de,ne)),r&&k.createElement($Se,{option:r,tickProps:B,value:"".concat(typeof o=="function"?o(de.value,ne):de.value).concat(l||"")}))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},q.length>0&&k.createElement(Rs,{zIndex:Fr.label},k.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},q)),X.length>0&&k.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},X))}),zSe=k.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=e,f=OSe(e,jSe),[h,p]=k.useState(""),[b,v]=k.useState(""),S=k.useRef(null);k.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return TSe({ticks:S.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=k.useCallback(_=>{if(_){var T=_.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=T;var N=T[0];if(N){var j=window.getComputedStyle(N),C=j.fontSize,D=j.letterSpacing;(C!==h||D!==b)&&(p(C),v(D))}}},[h,b]);return o||r!=null&&r<=0||i!=null&&i<=0?null:k.createElement(Rs,{zIndex:e.zIndex},k.createElement(To,{className:Qt("recharts-cartesian-axis",a)},k.createElement(PSe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ga(e)}),k.createElement(BSe,{ref:w,axisType:u,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),k.createElement(zwe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},k.createElement(Zwe,{label:e.label,labelRef:e.labelRef}),e.children)))}),ej=k.forwardRef((e,t)=>{var n=qi(e,bs);return k.createElement(zSe,mu({},n,{ref:t}))});ej.displayName="CartesianAxis";var USe=["x1","y1","x2","y2","key"],FSe=["offset"],HSe=["xAxisId","yAxisId"],GSe=["xAxisId","yAxisId"];function p3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(n),!0).forEach(function(r){qSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qSe(e,t,n){return(t=YSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YSe(e){var t=KSe(e,"string");return typeof t=="symbol"?t:t+""}function KSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nu.apply(null,arguments)}function Zy(e,t){if(e==null)return{};var n,r,i=WSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VSe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=e;return k.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function gU(e){var{option:t,lineItemProps:n}=e,r;if(k.isValidElement(t))r=k.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:f}=n,h=Zy(n,USe),p=(i=Ga(h))!==null&&i!==void 0?i:{},{offset:b}=p,v=Zy(p,FSe);r=k.createElement("line",nu({},v,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:f}))}return r}function ZSe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Zy(e,HSe),u=i.map((f,h)=>{var p=Nr(Nr({},l),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(h),index:h});return k.createElement(gU,{key:"line-".concat(h),option:r,lineItemProps:p})});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function XSe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Zy(e,GSe),u=i.map((f,h)=>{var p=Nr(Nr({},l),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(h),index:h});return k.createElement(gU,{option:r,lineItemProps:p,key:"line-".concat(h)})});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function JSe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==f[0]&&f.unshift(0);var h=f.map((p,b)=>{var v=!f[b+1],S=v?i+o-p:f[b+1]-p;if(S<=0)return null;var w=b%t.length;return k.createElement("rect",{key:"react-".concat(b),y:p,x:r,height:S,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function QSe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==f[0]&&f.unshift(0);var h=f.map((p,b)=>{var v=!f[b+1],S=v?i+o-p:f[b+1]-p;if(S<=0)return null;var w=b%n.length;return k.createElement("rect",{key:"react-".concat(b),x:p,y:a,width:S,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var eke=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return o9(QT(Nr(Nr(Nr({},bs),n),{},{ticks:s9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},tke=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return o9(QT(Nr(Nr(Nr({},bs),n),{},{ticks:s9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},nke={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Fr.grid};function bU(e){var t=g9(),n=b9(),r=p9(),i=Nr(Nr({},qi(e,nke)),{},{x:Xe(e.x)?e.x:r.left,y:Xe(e.y)?e.y:r.top,width:Xe(e.width)?e.width:r.width,height:Xe(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:f,height:h,syncWithTicks:p,horizontalValues:b,verticalValues:v}=i,S=pi(),w=et(Y=>AI(Y,"xAxis",a,S)),_=et(Y=>AI(Y,"yAxis",o,S));if(!Oo(f)||!Oo(h)||!Xe(l)||!Xe(u))return null;var T=i.verticalCoordinatesGenerator||eke,N=i.horizontalCoordinatesGenerator||tke,{horizontalPoints:j,verticalPoints:C}=i;if((!j||!j.length)&&typeof N=="function"){var D=b&&b.length,P=N({yAxis:_?Nr(Nr({},_),{},{ticks:D?b:_.ticks}):void 0,width:t??f,height:n??h,offset:r},D?!0:p);Ey(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(j=P)}if((!C||!C.length)&&typeof T=="function"){var $=v&&v.length,F=T({xAxis:w?Nr(Nr({},w),{},{ticks:$?v:w.ticks}):void 0,width:t??f,height:n??h,offset:r},$?!0:p);Ey(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(C=F)}return k.createElement(Rs,{zIndex:i.zIndex},k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(VSe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),k.createElement(JSe,nu({},i,{horizontalPoints:j})),k.createElement(QSe,nu({},i,{verticalPoints:C})),k.createElement(ZSe,nu({},i,{offset:r,horizontalPoints:j,xAxis:w,yAxis:_})),k.createElement(XSe,nu({},i,{offset:r,verticalPoints:C,xAxis:w,yAxis:_}))))}bU.displayName="CartesianGrid";function rke(e){var t=Iv(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var yU=(e,t,n,r)=>y8(e,"xAxis",t,r),vU=(e,t,n,r)=>b8(e,"xAxis",t,r),xU=(e,t,n,r)=>y8(e,"yAxis",n,r),_U=(e,t,n,r)=>b8(e,"yAxis",n,r),ike=xe([Vt,yU,xU,vU,_U],(e,t,n,r,i)=>js(e,"xAxis")?ky(t,r,!1):ky(n,i,!1)),ake=(e,t,n,r,i)=>i,wU=xe([zz,ake],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),oke=(e,t,n,r,i)=>{var a,o=wU(e,t,n,r,i);if(o!=null){var l=Vt(e),u=js(l,"xAxis"),f;if(u?f=FE(e,"yAxis",n,r):f=FE(e,"xAxis",t,r),f!=null){var{stackId:h}=o,p=TT(o);if(!(h==null||p==null)){var b=(a=f[h])===null||a===void 0?void 0:a.stackedData;return b?.find(v=>v.key===p)}}}},ske=xe([Vt,yU,xU,vU,_U,oke,yT,ike,wU,Gye],(e,t,n,r,i,a,o,l,u,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:b}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:v}=u,S;if(v&&v.length>0?S=v:S=h?.slice(p,b+1),S!=null)return Ake({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:S,chartBaseValue:f,bandSize:l})}}),lke=["id"],cke=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(null,arguments)}function SU(e,t){if(e==null)return{};var n,r,i=uke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function g3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(n),!0).forEach(function(r){dke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dke(e,t,n){return(t=fke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fke(e){var t=hke(e,"string");return typeof t=="symbol"?t:t+""}function hke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xy(e,t){return e&&e!=="none"?e:t}var mke=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Xy(r,i),value:l9(n,t),payload:e}]},pke=k.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:f}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:l9(o,t),hide:l,type:f,color:Xy(r,a),unit:u}};return k.createElement(p1e,{tooltipEntrySettings:h})});function gke(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,l=Ga(r);return k.createElement(L1e,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:t})}function bke(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Md(Md({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return k.createElement(s1e,{value:t?i:void 0},n)}function b3(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:l,stroke:u,connectNulls:f,isRange:h}=a,{id:p}=a,b=SU(a,lke),v=Ga(b),S=pa(b);return k.createElement(k.Fragment,null,t?.length>1&&k.createElement(To,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},k.createElement(jb,su({},S,{id:p,points:t,connectNulls:f,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&k.createElement(jb,su({},v,{className:"recharts-area-curve",layout:o,type:l,connectNulls:f,fill:"none",points:t})),u!=="none"&&h&&k.createElement(jb,su({},v,{className:"recharts-area-curve",layout:o,type:l,connectNulls:f,fill:"none",points:n}))),k.createElement(gke,{points:t,props:b,clipPathId:i}))}function yke(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!wn(a)||!wn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.x||0));return Xe(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.x||0),u)),Xe(u)?k.createElement("rect",{x:0,y:a<o?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function vke(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!wn(a)||!wn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.y||0));return Xe(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.y||0),u)),Xe(u)?k.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function xke(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?k.createElement(yke,{alpha:t,points:r,baseLine:i,strokeWidth:a}):k.createElement(vke,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function _ke(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:l,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:p,onAnimationStart:b,onAnimationEnd:v}=r,S=k.useMemo(()=>({points:o,baseLine:l}),[o,l]),w=N9(S,"recharts-area-"),_=ppe(),[T,N]=k.useState(!1),j=!T,C=k.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),D=k.useCallback(()=>{typeof b=="function"&&b(),N(!0)},[b]);if(_==null)return null;var P=i.current,$=a.current;return k.createElement(bke,{showLabels:j,points:o},r.children,k.createElement(O9,{animationId:w,begin:f,duration:h,isActive:u,easing:p,onAnimationEnd:C,onAnimationStart:D,key:w},F=>{if(P){var Y=P.length/o.length,K=F===1?o:o.map((z,V)=>{var Z=Math.floor(V*Y);if(P[Z]){var X=P[Z];return Md(Md({},z),{},{x:vo(X.x,z.x,F),y:vo(X.y,z.y,F)})}return z}),H;return Xe(l)?H=vo($,l,F):_r(l)||qa(l)?H=vo($,0,F):H=l.map((z,V)=>{var Z=Math.floor(V*Y);if(Array.isArray($)&&$[Z]){var X=$[Z];return Md(Md({},z),{},{x:vo(X.x,z.x,F),y:vo(X.y,z.y,F)})}return z}),F>0&&(i.current=K,a.current=H),k.createElement(b3,{points:K,baseLine:H,needClip:t,clipPathId:n,props:r})}return F>0&&(i.current=o,a.current=l),k.createElement(To,null,u&&k.createElement("defs",null,k.createElement("clipPath",{id:"animationClipPath-".concat(n)},k.createElement(xke,{alpha:F,points:o,baseLine:l,layout:_,strokeWidth:r.strokeWidth}))),k.createElement(To,{clipPath:"url(#animationClipPath-".concat(n,")")},k.createElement(b3,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),k.createElement(u1e,{label:r.label}))}function wke(e){var{needClip:t,clipPathId:n,props:r}=e,i=k.useRef(null),a=k.useRef();return k.createElement(_ke,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Ske extends k.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:f,width:h,height:p,id:b,baseLine:v,zIndex:S}=this.props;if(t)return null;var w=Qt("recharts-area",i),_=b,{r:T,strokeWidth:N}=rke(n),j=sU(n),C=T*2+N,D=l?"url(#clipPath-".concat(j?"":"dots-").concat(_,")"):void 0;return k.createElement(Rs,{zIndex:S},k.createElement(To,{className:w},l&&k.createElement("defs",null,k.createElement(iSe,{clipPathId:_,xAxisId:u,yAxisId:f}),!j&&k.createElement("clipPath",{id:"clipPath-dots-".concat(_)},k.createElement("rect",{x:o-C/2,y:a-C/2,width:h+C,height:p+C}))),k.createElement(wke,{needClip:l,clipPathId:_,props:this.props})),k.createElement(d3,{points:r,mainColor:Xy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(v)&&k.createElement(d3,{points:v,mainColor:Xy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var kU={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Fr.area};function kke(e){var t,n=qi(e,kU),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:f,fillOpacity:h,hide:p,isAnimationActive:b,legendType:v,stroke:S,xAxisId:w,yAxisId:_}=n,T=SU(n,cke),N=Sp(),j=B8(),{needClip:C}=fU(w,_),D=pi(),{points:P,isRange:$,baseLine:F}=(t=et(Z=>ske(Z,w,_,D,e.id)))!==null&&t!==void 0?t:{},Y=ZT();if(N!=="horizontal"&&N!=="vertical"||Y==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:K,width:H,x:z,y:V}=Y;return!P||!P.length?null:k.createElement(Ske,su({},T,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:F,connectNulls:l,dot:u,fill:f,fillOpacity:h,height:K,hide:p,layout:N,isAnimationActive:b==="auto"?!vf.isSsr:b,isRange:$,legendType:v,needClip:C,points:P,stroke:S,width:H,left:z,top:V,xAxisId:w,yAxisId:_}))}var Eke=(e,t,n,r,i)=>{var a=n??t;if(Xe(a))return a;var o=e==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),f=Math.min(l[0],l[1]);return a==="dataMin"?f:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function Ake(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:f,dataStartIndex:h,xAxisTicks:p,yAxisTicks:b,bandSize:v}=e,S=i&&i.length,w=Eke(a,o,n,l,u),_=a==="horizontal",T=!1,N=f.map((C,D)=>{var P;S?P=i[h+D]:(P=Cr(C,r),Array.isArray(P)?T=!0:P=[w,P]);var $=P[1]==null||S&&!t&&Cr(C,r)==null;return _?{x:VR({axis:l,ticks:p,bandSize:v,entry:C,index:D}),y:$?null:u.scale(P[1]),value:P,payload:C}:{x:$?null:l.scale(P[1]),y:VR({axis:u,ticks:b,bandSize:v,entry:C,index:D}),value:P,payload:C}}),j;return S||T?j=N.map(C=>{var D=Array.isArray(C.value)?C.value[0]:null;return _?{x:C.x,y:D!=null&&C.y!=null?u.scale(D):null,payload:C.payload}:{x:D!=null?l.scale(D):null,y:C.y,payload:C.payload}}):j=_?u.scale(w):l.scale(w),{points:N,baseLine:j,isRange:T}}function Tke(e){var t=qi(e,kU),n=pi();return k.createElement(x1e,{id:t.id,type:"area"},r=>k.createElement(k.Fragment,null,k.createElement(g1e,{legendPayload:mke(t)}),k.createElement(pke,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),k.createElement(T1e,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Cme(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),k.createElement(kke,su({},t,{id:r}))))}var EU=k.memo(Tke,XT);EU.displayName="Area";var jke=["domain","range"],Oke=["domain","range"];function y3(e,t){if(e==null)return{};var n,r,i=Nke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function v3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function AU(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=y3(e,jke),{domain:a,range:o}=t,l=y3(t,Oke);return!v3(n,a)||!v3(r,o)?!1:XT(i,l)}var Cke=["dangerouslySetInnerHTML","ticks"],Mke=["id"];function ZE(){return ZE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZE.apply(null,arguments)}function x3(e,t){if(e==null)return{};var n,r,i=Dke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Pke(e){var t=ur(),n=k.useRef(null);return k.useLayoutEffect(()=>{n.current===null?t(U1e(e)):n.current!==e&&t(F1e({prev:n.current,next:e})),n.current=e},[e,t]),k.useLayoutEffect(()=>()=>{n.current&&(t(H1e(n.current)),n.current=null)},[t]),null}var Rke=e=>{var{xAxisId:t,className:n}=e,r=et(u9),i=pi(),a="xAxis",o=et(_=>Ef(_,a,t,i)),l=et(_=>g8(_,a,t,i)),u=et(_=>Lve(_,t)),f=et(_=>Fve(_,t)),h=et(_=>Lz(_,t));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:b}=e,v=x3(e,Cke),{id:S}=h,w=x3(h,Mke);return k.createElement(ej,ZE({},v,w,{scale:o,x:f.x,y:f.y,width:u.width,height:u.height,className:Qt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},Lke={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:bs.axisLine,height:rr.height,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:bs.tickLine,tickSize:bs.tickSize,type:rr.type,xAxisId:0},Ike=e=>{var t=qi(e,Lke);return k.createElement(k.Fragment,null,k.createElement(Pke,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),k.createElement(Rke,t))},TU=k.memo(Ike,AU);TU.displayName="XAxis";var $ke=["dangerouslySetInnerHTML","ticks"],Bke=["id"];function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XE.apply(null,arguments)}function _3(e,t){if(e==null)return{};var n,r,i=zke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Uke(e){var t=ur(),n=k.useRef(null);return k.useLayoutEffect(()=>{n.current===null?t(G1e(e)):n.current!==e&&t(q1e({prev:n.current,next:e})),n.current=e},[e,t]),k.useLayoutEffect(()=>()=>{n.current&&(t(Y1e(n.current)),n.current=null)},[t]),null}var Fke=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=k.useRef(null),o=k.useRef(null),l=et(u9),u=pi(),f=ur(),h="yAxis",p=et(D=>Ef(D,h,t,u)),b=et(D=>qve(D,t)),v=et(D=>Gve(D,t)),S=et(D=>g8(D,h,t,u)),w=et(D=>Iz(D,t));if(k.useLayoutEffect(()=>{if(!(r!=="auto"||!b||VT(i)||k.isValidElement(i)||w==null)){var D=a.current;if(D){var P=D.getCalculatedWidth();Math.round(b.width)!==Math.round(P)&&f(K1e({id:t,width:P}))}}},[S,b,f,i,t,r,w]),b==null||v==null||w==null)return null;var{dangerouslySetInnerHTML:_,ticks:T}=e,N=_3(e,$ke),{id:j}=w,C=_3(w,Bke);return k.createElement(ej,XE({},N,C,{ref:a,labelRef:o,scale:p,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:Qt("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:S,axisType:h}))},Hke={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,angle:ir.angle,axisLine:bs.axisLine,hide:!1,includeHidden:ir.includeHidden,interval:ir.interval,minTickGap:ir.minTickGap,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tick:ir.tick,tickCount:ir.tickCount,tickLine:bs.tickLine,tickSize:bs.tickSize,type:ir.type,width:ir.width,yAxisId:0},Gke=e=>{var t=qi(e,Hke);return k.createElement(k.Fragment,null,k.createElement(Uke,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),k.createElement(Fke,t))},jU=k.memo(Gke,AU);jU.displayName="YAxis";var qke=(e,t)=>t,tj=xe([qke,Vt,Pz,Zn,D8,Ps,a_e,kr],f_e),nj=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},OU=ga("mouseClick"),NU=_p();NU.startListening({actionCreator:OU,effect:(e,t)=>{var n=e.payload,r=tj(t.getState(),nj(n));r?.activeIndex!=null&&t.dispatch(ixe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var JE=ga("mouseMove"),CU=_p(),lb=null;CU.startListening({actionCreator:JE,effect:(e,t)=>{var n=e.payload;lb!==null&&cancelAnimationFrame(lb);var r=nj(n);lb=requestAnimationFrame(()=>{var i=t.getState(),a=$T(i,i.tooltip.settings.shared);if(a==="axis"){var o=tj(i,r);o?.activeIndex!=null?t.dispatch(E8({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(k8())}lb=null})}});var w3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},MU=mi({name:"rootProps",initialState:w3,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:w3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Yke=MU.reducer,{updateOptions:Kke}=MU.actions,DU=mi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:vNe}=DU.actions,Wke=DU.reducer,PU=ga("keyDown"),RU=ga("focus"),rj=_p();rj.startListening({actionCreator:PU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=BT(i,Tf(n),Cp(n),Lp(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=Ps(n);if(a==="Enter"){var f=Yy(n,"axis","hover",String(i.index));t.dispatch(GE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=Vve(n),p=h==="left-to-right"?1:-1,b=a==="ArrowRight"?1:-1,v=l+b*p;if(!(u==null||v>=u.length||v<0)){var S=Yy(n,"axis","hover",String(v));t.dispatch(GE({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}}});rj.startListening({actionCreator:RU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Yy(n,"axis","hover",String(a));t.dispatch(GE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var aa=ga("externalEvent"),LU=_p(),FS=new Map;LU.startListening({actionCreator:aa,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=FS.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:Gxe(l),activeDataKey:Fxe(l),activeIndex:Jm(l),activeLabel:L8(l),activeTooltipIndex:Jm(l),isTooltipActive:qxe(l)};n(u,r)}finally{FS.delete(i)}});FS.set(i,o)}}});var Vke=xe([Af],e=>e.tooltipItemPayloads),Zke=xe([Vke,Pp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),IU=ga("touchMove"),$U=_p();$U.startListening({actionCreator:IU,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=$T(r,r.tooltip.settings.shared);if(i==="axis"){var a=tj(r,nj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(E8({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute($me),h=(o=u.getAttribute(Bme))!==null&&o!==void 0?o:void 0,p=Zke(t.getState(),f,h);t.dispatch(rxe({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}}});var Xke=d5({brush:lSe,cartesianAxis:W1e,chartData:G_e,errorBars:rSe,graphicalItems:E1e,layout:_me,legend:Mpe,options:B_e,polarAxis:f1e,polarOptions:Wke,referenceElements:pSe,rootProps:Yke,tooltip:axe,zIndex:A_e}),Jke=function(t){return Yhe({reducer:Xke,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([NU.middleware,CU.middleware,rj.middleware,LU.middleware,$U.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(Y7({type:"raf"}))},devTools:vf.devToolsEnabled})};function Qke(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=pi(),a=k.useRef(null);if(i)return n;a.current==null&&(a.current=Jke(t));var o=$A;return k.createElement(x5,{context:o,store:a.current},n)}function eEe(e){var{layout:t,margin:n}=e,r=ur(),i=pi();return k.useEffect(()=>{i||(r(yme(t)),r(bme(n)))},[r,i,t,n]),null}var tEe=k.memo(eEe,XT);function nEe(e){var t=ur();return k.useEffect(()=>{t(Kke(e))},[t,e]),null}function S3(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=lU("".concat(r).concat(t)),a=ur();return k.useLayoutEffect(()=>(a(k_e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(E_e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),k.createElement("g",{tabIndex:-1,id:i})}function k3(e){var{children:t,isPanorama:n}=e,r=et(m_e);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return k.createElement(k.Fragment,null,i.map(o=>k.createElement(S3,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>k.createElement(S3,{key:o,zIndex:o,isPanorama:n})))}var rEe=["children"];function iEe(e,t){if(e==null)return{};var n,r,i=aEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jy.apply(null,arguments)}var oEe={width:"100%",height:"100%",display:"block"},sEe=k.forwardRef((e,t)=>{var n=g9(),r=b9(),i=E9();if(!Oo(n)||!Oo(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,f,h;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),k.createElement(t7,Jy({},o,{title:l,desc:u,role:h,tabIndex:f,width:n,height:r,style:oEe,ref:t}),a)}),lEe=e=>{var{children:t}=e,n=et(Qv);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return k.createElement(t7,{width:r,height:i,x:o,y:a},t)},E3=k.forwardRef((e,t)=>{var{children:n}=e,r=iEe(e,rEe),i=pi();return i?k.createElement(lEe,null,k.createElement(k3,{isPanorama:!0},n)):k.createElement(sEe,Jy({ref:t},r),k.createElement(k3,{isPanorama:!1},n))});function cEe(){var e=ur(),[t,n]=k.useState(null),r=et(Ime);return k.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;wn(a)&&a!==r&&e(xme(a))}},[t,e,r]),n}function A3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(n),!0).forEach(function(r){dEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dEe(e,t,n){return(t=fEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fEe(e){var t=hEe(e,"string");return typeof t=="symbol"?t:t+""}function hEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pu.apply(null,arguments)}var mEe=()=>(Q_e(),null);function Qy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var pEe=k.forwardRef((e,t)=>{var n,r,i=k.useRef(null),[a,o]=k.useState({containerWidth:Qy((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Qy((r=e.style)===null||r===void 0?void 0:r.height)}),l=k.useCallback((f,h)=>{o(p=>{var b=Math.round(f),v=Math.round(h);return p.containerWidth===b&&p.containerHeight===v?p:{containerWidth:b,containerHeight:v}})},[]),u=k.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();l(h,p);var b=S=>{var{width:w,height:_}=S[0].contentRect;l(w,_)},v=new ResizeObserver(b);v.observe(f),i.current=v}},[t,l]);return k.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[l]),k.createElement(k.Fragment,null,k.createElement(tx,{width:a.containerWidth,height:a.containerHeight}),k.createElement("div",pu({ref:u},e)))}),gEe=k.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=k.useState({containerWidth:Qy(n),containerHeight:Qy(r)}),o=k.useCallback((u,f)=>{a(h=>{var p=Math.round(u),b=Math.round(f);return h.containerWidth===p&&h.containerHeight===b?h:{containerWidth:p,containerHeight:b}})},[]),l=k.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();o(f,h)}},[t,o]);return k.createElement(k.Fragment,null,k.createElement(tx,{width:i.containerWidth,height:i.containerHeight}),k.createElement("div",pu({ref:l},e)))}),bEe=k.forwardRef((e,t)=>{var{width:n,height:r}=e;return k.createElement(k.Fragment,null,k.createElement(tx,{width:n,height:r}),k.createElement("div",pu({ref:t},e)))}),yEe=k.forwardRef((e,t)=>{var{width:n,height:r}=e;return _s(n)||_s(r)?k.createElement(gEe,pu({},e,{ref:t})):k.createElement(bEe,pu({},e,{ref:t}))});function vEe(e){return e===!0?pEe:yEe}var xEe=k.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:b,onTouchEnd:v,onTouchMove:S,onTouchStart:w,style:_,width:T,responsive:N,dispatchTouchEvents:j=!0}=e,C=k.useRef(null),D=ur(),[P,$]=k.useState(null),[F,Y]=k.useState(null),K=cEe(),H=YA(),z=H?.width>0?H.width:T,V=H?.height>0?H.height:i,Z=k.useCallback(re=>{K(re),typeof t=="function"&&t(re),$(re),Y(re),re!=null&&(C.current=re)},[K,t,$,Y]),X=k.useCallback(re=>{D(OU(re)),D(aa({handler:a,reactEvent:re}))},[D,a]),q=k.useCallback(re=>{D(JE(re)),D(aa({handler:f,reactEvent:re}))},[D,f]),J=k.useCallback(re=>{D(k8()),D(aa({handler:h,reactEvent:re}))},[D,h]),ne=k.useCallback(re=>{D(JE(re)),D(aa({handler:p,reactEvent:re}))},[D,p]),de=k.useCallback(()=>{D(RU())},[D]),oe=k.useCallback(re=>{D(PU(re.key))},[D]),B=k.useCallback(re=>{D(aa({handler:o,reactEvent:re}))},[D,o]),W=k.useCallback(re=>{D(aa({handler:l,reactEvent:re}))},[D,l]),ie=k.useCallback(re=>{D(aa({handler:u,reactEvent:re}))},[D,u]),Q=k.useCallback(re=>{D(aa({handler:b,reactEvent:re}))},[D,b]),se=k.useCallback(re=>{D(aa({handler:w,reactEvent:re}))},[D,w]),he=k.useCallback(re=>{j&&D(IU(re)),D(aa({handler:S,reactEvent:re}))},[D,j,S]),me=k.useCallback(re=>{D(aa({handler:v,reactEvent:re}))},[D,v]),Se=vEe(N);return k.createElement(G8.Provider,{value:P},k.createElement(Jde.Provider,{value:F},k.createElement(Se,{width:z??_?.width,height:V??_?.height,className:Qt("recharts-wrapper",r),style:uEe({position:"relative",cursor:"default",width:z,height:V},_),onClick:X,onContextMenu:B,onDoubleClick:W,onFocus:de,onKeyDown:oe,onMouseDown:ie,onMouseEnter:q,onMouseLeave:J,onMouseMove:ne,onMouseUp:Q,onTouchEnd:me,onTouchMove:he,onTouchStart:se,ref:Z},k.createElement(mEe,null),n)))}),_Ee=["width","height","responsive","children","className","style","compact","title","desc"];function wEe(e,t){if(e==null)return{};var n,r,i=SEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kEe=k.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:f,desc:h}=e,p=wEe(e,_Ee),b=Ga(p);return u?k.createElement(k.Fragment,null,k.createElement(tx,{width:n,height:r}),k.createElement(E3,{otherAttributes:b,title:f,desc:h},a)):k.createElement(xEe,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},k.createElement(E3,{otherAttributes:b,title:f,desc:h,ref:t},k.createElement(bSe,null,a)))});function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QE.apply(null,arguments)}var EEe={top:5,right:5,bottom:5,left:5},AEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:EEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},TEe=k.forwardRef(function(t,n){var r,i=qi(t.categoricalChartProps,AEe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return k.createElement(Qke,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},k.createElement(sSe,{chartData:f.data}),k.createElement(tEe,{layout:i.layout,margin:i.margin}),k.createElement(nEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),k.createElement(kEe,QE({},i,{ref:n})))}),jEe=["axis"],OEe=k.forwardRef((e,t)=>k.createElement(TEe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jEe,tooltipPayloadSearcher:I_e,categoricalChartProps:e,ref:t}));function BU(e){return typeof e=="object"&&e!==null}function Xc(e,t=0){return typeof e=="number"&&Number.isFinite(e)?e:t}function NEe(e,t=""){return typeof e=="string"?e:t}function CEe(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){if(!BU(n))continue;const r=NEe(n.day),i=Xc(n.dau),a=Xc(n.total_active_ms);r&&t.push({day:r,dau:i,total_active_ms:a})}return t}function MEe(e){return BU(e)?{online_now:Xc(e.online_now),active_today:Xc(e.active_today),active_7d:Xc(e.active_7d),active_30d:Xc(e.active_30d),active_365d:Xc(e.active_365d),series:CEe(e.series)}:null}function DEe(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function T3(){const[e,t]=k.useState(30),[n,r]=k.useState(null),[i,a]=k.useState(0),[o,l]=k.useState(!1),[u,f]=k.useState(""),h=k.useRef(!1),p=k.useRef(!1),b=k.useCallback(async()=>{if(!h.current){h.current=!0,l(!0),f("");try{const{data:_,error:T}=await Me.rpc("admin_dashboard_stats",{p_days:e});if(T){f(T.message||"RPC error"),r(null);return}const N=MEe(_);if(!N){f("   ( )"),r(null);return}r(N),a(N.online_now)}finally{l(!1),h.current=!1}}},[e]),v=k.useCallback(async()=>{if(!p.current){p.current=!0;try{const{data:_,error:T}=await Me.rpc("admin_online_now");if(T)return;const N=typeof _=="number"?_:typeof _=="string"?Number(_):0;Number.isFinite(N)&&a(N)}finally{p.current=!1}}},[]);k.useEffect(()=>{b()},[b]),k.useEffect(()=>{v();const _=window.setInterval(()=>void v(),3e4);return()=>window.clearInterval(_)},[v]),k.useEffect(()=>{const _=window.setInterval(()=>void b(),3e5);return()=>window.clearInterval(_)},[b]);const S=k.useMemo(()=>n?.series??[],[n]),w=k.useMemo(()=>S.reduce((_,T)=>_+(T.total_active_ms||0),0),[S]);return g.jsx(Ude,{allow:["admin","operator","viewer"],children:g.jsxs("div",{className:"p-6 text-white",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:e,onChange:_=>{const T=Number(_.target.value);(T===30||T===60||T===90)&&t(T)},className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",title:"DAU  ",children:[g.jsx("option",{value:30,children:" 30"}),g.jsx("option",{value:60,children:" 60"}),g.jsx("option",{value:90,children:" 90"})]}),g.jsx("button",{type:"button",onClick:()=>void b(),className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer text-sm",children:""})]})]}),u?g.jsx("div",{className:"text-red-400 mb-3",children:u}):null,o?g.jsx("div",{className:"text-neutral-300 mb-3",children:"Loading..."}):null,g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-10",children:[g.jsx(tm,{label:" ",value:i}),g.jsx(tm,{label:" (DAU)",value:n?.active_today??0}),g.jsx(tm,{label:" 7 ",value:n?.active_7d??0}),g.jsx(tm,{label:" 30 ",value:n?.active_30d??0}),g.jsx(tm,{label:" 1 ",value:n?.active_365d??0})]}),g.jsxs("section",{className:"mb-10",children:[g.jsxs("div",{className:"flex items-end justify-between gap-3 mb-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"DAU "}),g.jsx("div",{className:"text-xs text-neutral-400",children:"(     )"})]}),g.jsx(PEe,{data:S})]}),g.jsxs("section",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"   ()"}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"series.total_active_ms  (day    )"}),g.jsx("div",{className:"text-2xl font-bold mt-1",children:DEe(w)})]})]})]})})}function tm({label:e,value:t}){return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-neutral-400 text-sm",children:e}),g.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function PEe({data:e}){return g.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:g.jsx(hpe,{width:"100%",height:"100%",children:g.jsxs(OEe,{data:e,children:[g.jsx(bU,{strokeDasharray:"3 3"}),g.jsx(TU,{dataKey:"day"}),g.jsx(jU,{}),g.jsx(swe,{formatter:(t,n)=>n==="dau"?[t,"DAU"]:[t,n]}),g.jsx(EU,{type:"monotone",dataKey:"dau"})]})})})}function REe(){const[e,t]=k.useState(""),[n,r]=k.useState("ACTIVE"),[i,a]=k.useState("LAST_SEEN_DESC"),[o,l]=k.useState(1),[u,f]=k.useState({});return{search:e,setSearch:t,tab:n,setTab:r,sort:i,setSort:a,page:o,setPage:l,draftByUser:u,setDraftByUser:f,setDraft:(p,b)=>{f(v=>{const S=v[p]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1};return{...v,[p]:{...S,...b}}})}}}const e2=20;function LEe(e){return typeof e=="object"&&e!==null}function mo(e){return typeof e=="string"?e:null}function j3(e){return typeof e=="boolean"?e:null}function HS(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e);return Number.isFinite(t)?t:null}return null}function zU(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function IEe(e){return zU(e)?e:null}function $Ee(e){if(!LEe(e))return null;const t=mo(e.user_id);return t?{user_id:t,name:mo(e.name),nickname:mo(e.nickname),email:mo(e.email),disabled_at:mo(e.disabled_at),created_at:mo(e.created_at),plan:IEe(e.plan),starts_at:mo(e.starts_at),expires_at:mo(e.expires_at),can_use_myo_viewer:j3(e.can_use_myo_viewer),myeongsik_count:HS(e.myeongsik_count),last_seen_at:mo(e.last_seen_at),last_path:mo(e.last_path),total_active_ms:HS(e.total_active_ms),online:j3(e.online),total_count:HS(e.total_count)}:null}function O3(e){const t=(e??"").trim();return t.length?t:null}function UU(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return!1;const n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i)||r<1||r>12)return!1;const a=new Date(Date.UTC(n,r-1,i));return a.getUTCFullYear()===n&&a.getUTCMonth()===r-1&&a.getUTCDate()===i}function BEe(e,t){if(!UU(e))throw new Error(`   : ${e}`);const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error(`   : ${e}`);const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=new Date(Date.UTC(r,i-1,a));o.setUTCDate(o.getUTCDate()+t);const l=String(o.getUTCFullYear()).padStart(4,"0"),u=String(o.getUTCMonth()+1).padStart(2,"0"),f=String(o.getUTCDate()).padStart(2,"0");return`${l}-${u}-${f}`}function N3(e){if(!UU(e))throw new Error(`   : ${e}`);return`${e}T00:00:00.000Z`}function zEe(e){return typeof e=="object"&&e!==null}function UEe(e,t){if(console.error(e,t),zEe(t)&&console.error(`${e} fields`,{message:t.message,code:t.code,details:t.details,hint:t.hint}),typeof t=="object"&&t!==null)try{console.error(`${e} ownKeys`,Object.getOwnPropertyNames(t))}catch{}try{console.error(`${e} json`,JSON.stringify(t))}catch{}}function FEe(){const[e,t]=k.useState([]),[n,r]=k.useState(0),[i,a]=k.useState(!1),[o,l]=k.useState(null),u=k.useCallback(async h=>{const{search:p,tab:b,sort:v,page:S}=h;a(!0),l(null);try{const w=Math.max(0,(Math.max(1,S)-1)*e2),{data:_,error:T}=await Me.rpc("admin_list_users",{p_search:p&&p.trim()?p.trim():null,p_tab:b,p_sort:v,p_limit:e2,p_offset:w});if(T)throw T;const j=(Array.isArray(_)?_:[]).map($Ee).filter(C=>C!==null);t(j),r(j[0]?.total_count??0)}catch(w){t([]),r(0),l(w instanceof Error?w.message:"  ")}finally{a(!1)}},[]),f=k.useCallback(async(h,p,b,v)=>{if(p){l(null),b(h,{saving:!0});try{if(!zU(p.plan))throw new Error(`  : ${String(p.plan)}`);const S=O3(p.startDate),w=O3(p.endDate),_=S?N3(S):null,T=w?N3(BEe(w,1)):null;if(_&&T){const C=Date.parse(_),D=Date.parse(T);if(!Number.isFinite(C)||!Number.isFinite(D))throw new Error("  ");if(D<=C)throw new Error("  .")}const N={p_target_user_id:h,p_plan:p.plan,p_can_use_myo_viewer:p.myoViewer==="ON",p_starts_at:_,p_expires_at:T},{error:j}=await Me.rpc("admin_set_user_entitlements",N);if(j)throw UEe("admin_set_user_entitlements error",j),j;b(h,{saving:!1,lastSavedAt:Date.now()}),await v()}catch(S){throw b(h,{saving:!1}),l(S instanceof Error?S.message:" "),S}}},[]);return{rows:e,totalCount:n,loading:i,error:o,setError:l,fetchList:u,saveEntitlements:f}}const FU=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function HEe(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function GEe(e){const t=e??"FREE";return FU.find(n=>n.value===t)?.label??String(t)}function qEe(e){if(!e)return" ";const t=Date.parse(e);if(!Number.isFinite(t))return" ";const n=Date.now()-t,r=Math.floor(n/1e3);if(r<15)return"";if(r<60)return`${r} `;const i=Math.floor(r/60);if(i<60)return`${i} `;const a=Math.floor(i/60);return a<24?`${a} `:`${Math.floor(a/24)} `}function C3(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function ev(e){if(!e)return"";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toISOString().slice(0,10):""}function YEe(e,t){const n=ev(e),r=ev(t);return!n&&!r?" ":n&&!r?`${n} ~`:!n&&r?`~ ${r}`:`${n} ~ ${r}`}function KEe(e,t){const n={...e};for(const r of t){const i=r.plan??"FREE",a=ev(r.starts_at),o=ev(r.expires_at),l=r.can_use_myo_viewer===!0?"ON":"OFF",u=n[r.user_id];if(!u){n[r.user_id]={plan:i,startDate:a,endDate:o,myoViewer:l,saving:!1};continue}u.saving||(u.plan!==i||u.startDate!==a||u.endDate!==o||u.myoViewer!==l)&&(n[r.user_id]={...u,plan:i,startDate:a,endDate:o,myoViewer:l})}return n}function WEe(){const e=REe(),{search:t,setSearch:n,tab:r,setTab:i,sort:a,setSort:o,page:l,setPage:u,draftByUser:f,setDraftByUser:h,setDraft:p}=e,{rows:b,totalCount:v,loading:S,error:w,fetchList:_,saveEntitlements:T}=FEe(),N=k.useMemo(()=>Math.max(1,Math.ceil(v/e2)),[v]);return k.useEffect(()=>{u(1)},[r,a]),k.useEffect(()=>{_({search:t,tab:r,sort:a,page:l})},[_,t,r,a,l]),k.useEffect(()=>{l>N&&u(N)},[l,N,u]),k.useEffect(()=>{h(j=>KEe(j,b))},[b,h]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-center mb-4",children:[g.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm",placeholder:"Search (name, email, userId...)",value:t,onChange:j=>{n(j.target.value),u(1)}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:r,onChange:j=>{const C=j.target.value;i(C==="DISABLED"?"DISABLED":C==="ALL"?"ALL":"ACTIVE")},children:[g.jsx("option",{value:"ACTIVE",children:""}),g.jsx("option",{value:"DISABLED",children:""}),g.jsx("option",{value:"ALL",children:""})]}),g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:a,onChange:j=>{const C=j.target.value;(C==="LAST_SEEN_DESC"||C==="LAST_SEEN_ASC"||C==="CREATED_DESC"||C==="CREATED_ASC"||C==="PLAN_DESC"||C==="ONLINE_ACTIVE_MS_DESC"||C==="TOTAL_ACTIVE_MS_DESC")&&o(C)},children:[g.jsx("option",{value:"LAST_SEEN_DESC",children:" "}),g.jsx("option",{value:"CREATED_DESC",children:" "}),g.jsx("option",{value:"PLAN_DESC",children:""}),g.jsx("option",{value:"ONLINE_ACTIVE_MS_DESC",children:"+"}),g.jsx("option",{value:"TOTAL_ACTIVE_MS_DESC",children:""}),g.jsx("option",{value:"LAST_SEEN_ASC",children:" "}),g.jsx("option",{value:"CREATED_ASC",children:" "})]})]})]}),w&&g.jsx("div",{className:"text-red-400 mb-2",children:w}),S&&g.jsx("div",{children:"Loading..."}),g.jsx("div",{className:"space-y-3",children:b.map(j=>{const C=j.name||j.nickname||"(no profile)",D=j.email||"",P=f[j.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:void 0},$=Date.now(),F=(j.starts_at?Date.parse(j.starts_at)<=$:!0)&&(j.expires_at?Date.parse(j.expires_at)>$:!0),Y=j.plan??"FREE",K=F?Y:"FREE",H=j.can_use_myo_viewer===!0?"ON":"OFF",z=j.last_seen_at??null,V=j.online===!0,Z=j.total_active_ms??null;return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[g.jsxs("div",{className:"font-semibold text-lg flex flex-col desk:flex-row item-start desk:items-center justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0 flex flex-col desk:flex-row item-start desk:items-center gap-2",children:[g.jsx("span",{className:"text-nowrap mr-1",children:C}),D?g.jsxs("span",{className:"text-sm text-neutral-400",children:["(",D,")"]}):null,g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsxs("span",{className:`text-[11px] px-2 py-0.5 rounded-full border ${V?"bg-emerald-900/40 border-emerald-700 text-emerald-300":"bg-neutral-800 border-neutral-700 text-neutral-300"}`,title:z?new Date(z).toLocaleString():" ",children:[V?"":"","  ",qEe(z)]}),g.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full border bg-neutral-800 border-neutral-700 text-neutral-300",title:" ",children:[" ",C3(Z)]})]})]}),g.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:j.user_id})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",j.myeongsik_count??0,"",z?g.jsxs(g.Fragment,{children:["    ",new Date(z).toLocaleString()]}):g.jsx(g.Fragment,{children:"     "}),g.jsxs(g.Fragment,{children:["   ",C3(Z)]})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",GEe(K),"  ",YEe(j.starts_at,j.expires_at),"    ",H,!F&&j.plan&&j.plan!=="FREE"?" ()":""]}),g.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsxs("div",{className:"mb-1",children:[g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:X=>p(j.user_id,{startDate:X.target.value})}),g.jsx("span",{className:"text-neutral-500 mx-1",children:"~"}),g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:X=>p(j.user_id,{endDate:X.target.value})})]}),g.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:X=>{const q=X.target.value;HEe(q)&&p(j.user_id,{plan:q})},children:FU.map(X=>g.jsx("option",{value:X.value,children:X.label},X.value))}),g.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:X=>p(j.user_id,{myoViewer:X.target.value==="ON"?"ON":"OFF"}),children:[g.jsx("option",{value:"ON",children:"  ON"}),g.jsx("option",{value:"OFF",children:"  OFF"})]}),g.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void T(j.user_id,P,e.setDraft,()=>_({search:t,tab:r,sort:a,page:l})),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),g.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${j.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt!=null?g.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},j.user_id)})}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{disabled:l<=1,onClick:()=>u(j=>j-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),g.jsxs("span",{children:[l," / ",N," ( ",v,")"]}),g.jsx("button",{disabled:l>=N,onClick:()=>u(j=>j+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function VEe(){const[e,t]=k.useState(null),[n,r]=k.useState([]),[i,a]=k.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function ZEe(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function ij({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Me.auth.getSession()).data.session?.user?.id;a&&await Me.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const XEe=async e=>{const{data:t}=await Me.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},JEe=async e=>{const{data:t}=await Me.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},QEe=async e=>{await Me.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},e2e=async(e,t)=>{await Me.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},t2e=async e=>{await Me.from("profiles").update({disabled_at:null}).eq("user_id",e),await Me.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await ij({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},n2e=async e=>{await Me.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await ij({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},M3=async(e,t,n)=>{const{error:r}=await Me.rpc("admin_set_myeongsik_deleted",{p_target_user_id:e,p_myeongsik_id:t,p_deleted_at:n});if(r)throw console.error("admin_set_myeongsik_deleted error:",{message:r.message,details:r.details,hint:r.hint,code:r.code}),r;await ij({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function r2e(e,t){if(t&&typeof t=="object"){const n=t;console.error(e,{message:n.message,details:n.details,hint:n.hint,code:n.code});return}console.error(e,t)}function i2e({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=k.useCallback(async()=>{const _=await XEe(e);n(_)},[e,n]),o=k.useCallback(async()=>{const _=await JEe(e);r(_)},[e,r]);k.useEffect(()=>{a(),o()},[a,o]);const l=k.useCallback(async()=>{if(e){i(!0);try{await QEe(e),await a()}catch(_){throw console.error("handleCreateProfile failed:",_),_}finally{i(!1)}}},[e,i,a]),u=k.useCallback(async()=>{if(e&&t){i(!0);try{await e2e(e,t),await a()}catch(_){throw console.error("handleSaveProfile failed:",_),_}finally{i(!1)}}},[e,t,i,a]),f=k.useCallback(async()=>{if(e&&t){i(!0);try{const _=t.disabled_at==null,{data:T,error:N}=await Me.rpc("admin_set_profile_disabled",{p_target_user_id:e,p_disabled:_});if(N)throw r2e("admin_set_profile_disabled error:",N),N;n({...t,disabled_at:typeof T=="string"?T:null})}finally{i(!1)}}},[e,t,n,i]),h=k.useCallback(async()=>{if(e){i(!0);try{await t2e(e),await a(),await o()}catch(_){throw console.error("handleRestoreAccount failed:",_),_}finally{i(!1)}}},[e,i,a,o]),p=k.useCallback(async()=>{if(e){i(!0);try{await n2e(e),await o()}catch(_){throw console.error("handleRestoreAllMyeongsik failed:",_),_}finally{i(!1)}}},[e,i,o]),b=k.useCallback(async _=>{if(e&&_){i(!0);try{await M3(e,_,null),await o()}catch(T){throw console.error("handleRestoreMyeongsik failed:",T),T}finally{i(!1)}}},[e,i,o]),v=k.useCallback(_=>{const T=typeof window<"u"?window.location.origin:"",N=_?`${T}/impersonate?userId=${e}&myeongsikId=${_}`:`${T}/impersonate?userId=${e}`;window.open(N,"_blank")},[e]),S=k.useCallback(async(_,T)=>{if(!e||!_)return;const N=T?null:new Date().toISOString();i(!0);try{await M3(e,_,N),await o()}catch(j){throw console.error("toggleDeleteMyeongsik failed:",j),j}finally{i(!1)}},[e,i,o]),w=k.useCallback(_=>{window.location.href=_},[]);return{handleCreateProfile:l,handleSaveProfile:u,toggleDisable:f,handleRestoreAccount:h,handleRestoreAllMyeongsik:p,handleRestoreMyeongsik:b,handleViewAsUser:v,toggleDeleteMyeongsik:S,goTo:w}}function a2e({params:e}){const t=e.userId,n=VEe(),r=ZEe(n.profile),i=i2e({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),g.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[g.jsx("div",{className:"flex items-center justify-between mb-3",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:""}),g.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&g.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Email"}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:" "}),g.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&g.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" + "}),g.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-semibold",children:" "}),g.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>g.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),g.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-"," "," ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{className:"text-nowrap px-2 py-1 border border-emerald-500 text-emerald-100 rounded cursor-pointer text-xs",onClick:()=>i.handleRestoreMyeongsik(a.id),disabled:n.saving,children:"  "})})]})},a.id)),n.myeongsikList.length===0&&g.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function o2e({open:e,onClose:t,children:n}){return e?g.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[g.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),g.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const D3=50;function s2e(){const[e,t]=k.useState(null),[n,r]=k.useState(!1),[i,a]=k.useState([]),[o,l]=k.useState(1),[u,f]=k.useState("all"),[h,p]=k.useState("all"),[b,v]=k.useState("30"),[S,w]=k.useState(""),[_,T]=k.useState(!1),N=k.useCallback(async C=>{await Me.from("audit_logs").delete().eq("id",C),a(D=>D.filter(P=>P.id!==C))},[]),j=k.useCallback(async()=>{T(!0);const C=new Date;b!=="all"&&C.setDate(C.getDate()-Number(b));let D=Me.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*D3,o*D3-1);b!=="all"&&(D=D.gte("created_at",C.toISOString())),u!=="all"&&(D=D.eq("action",u)),h!=="all"&&(D=D.eq("actor_admin_id",h));const{data:P}=await D;let $=P||[];if(S.trim()!==""){const F=S.toLowerCase();$=$.filter(Y=>(JSON.stringify(Y).toLowerCase()+(Y.payload?JSON.stringify(Y.payload).toLowerCase():"")).includes(F))}a($),T(!1)},[o,u,h,b,S]);return k.useEffect(()=>{j()},[j]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),g.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:C=>f(C.target.value),children:[g.jsx("option",{value:"all",children:" Action"}),g.jsx("option",{value:"delete_myeongsik",children:" "}),g.jsx("option",{value:"restore_myeongsik",children:" "}),g.jsx("option",{value:"update_profile",children:" "}),g.jsx("option",{value:"impersonate_user",children:""})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:h,onChange:C=>p(C.target.value),children:[g.jsx("option",{value:"all",children:" "}),g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"system",children:"System"})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:b,onChange:C=>v(C.target.value),children:[g.jsx("option",{value:"1",children:"24"}),g.jsx("option",{value:"7",children:"7"}),g.jsx("option",{value:"30",children:"30"}),g.jsx("option",{value:"all",children:""})]}),g.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:S,onChange:C=>w(C.target.value)})]}),_?g.jsx("div",{children:"Loading..."}):i.map(C=>g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(C),r(!0)},children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("div",{className:"font-semibold text-lg",children:C.action}),g.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:D=>{D.stopPropagation(),N(C.id)},children:""})]}),g.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[g.jsxs("div",{children:["Actor: ",C.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",C.target_user_id||"-"]}),g.jsxs("div",{children:["Target Record: ",C.target_record_id||"-"]}),g.jsxs("div",{children:["Time: ",new Date(C.created_at).toLocaleString()]})]}),C.payload&&g.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(C.payload,null,2)})]},C.id)),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>l(C=>C-1),children:" "}),g.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>l(C=>C+1),children:" "})]}),g.jsx(o2e,{open:n,onClose:()=>r(!1),children:e&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),g.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[g.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),g.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),g.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),g.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const l2e="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function HU(){const[e,t]=k.useState(!1),[n,r]=k.useState(!1);if(k.useEffect(()=>{(async()=>{const{data:l}=await Me.auth.getUser(),u=l.user?.id;r(!!u&&l2e.includes(u)),t(!0)})()},[]),!e)return g.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return g.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=g.jsx(T3,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=g.jsx(a2e,{params:{userId:o}})}else i.startsWith("/admin/user")?a=g.jsx(WEe,{}):i.startsWith("/admin/logs")?a=g.jsx(s2e,{}):i.startsWith("/admin/dashboard")&&(a=g.jsx(T3,{}));return g.jsx(Bde,{children:a})}function c2e({pillarsA:e,pillarsB:t}){const n=cie(e,t);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const u2e=["","","","","","","","","",""],d2e=["","","","","","","","","",""],f2e=["","","","","","","","","","","",""],h2e=["","","","","","","","","","","",""],m2e=new Set([...u2e,...d2e]),p2e=new Set([...f2e,...h2e]);function g2e(e){return typeof e=="object"&&e!==null}function P3(e){return typeof e=="string"&&e.length>=2&&m2e.has(e[0])&&p2e.has(e[1])}function rn(e,...t){if(P3(e))return e;for(const n of t)if(P3(n))return n;return""}function cb(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function b2e(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function R3(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,l=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(l.getTime())?null:l}function tv(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function y2e(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function xx(e){const{y:t,m:n,d:r,hh:i,mm:a}=y2e(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),l=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Gi(t,n,r,l,u):new Date(t,n-1,r,l,u)}function v2e(e){const t=xx(e);return`${tv(e)}-${t.toISOString()}`}function _d(e){const t=e;return typeof t.id=="string"&&t.id?t.id:v2e(e)}function x2e(e){return g2e(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function _2e(e){const t=G4;return x2e(t)?e==="classic"?t.Classic:t.Modern:e}function w2e(e){if(!e)return"";const t=e,n=l=>typeof t[l]=="string"?String(t[l]).trim().toLowerCase():null,r=l=>typeof t[l]=="boolean"?t[l]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(l=>!!l);for(const l of i){if(["","","male","m","boy","man"].includes(l))return"";if(["","","female","f","girl","woman"].includes(l))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const GS="people_picker_order_v1";function S2e(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function L3({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=k.useState("");k.useEffect(()=>{e||a("")},[e]);const o=k.useMemo(()=>t.map(_d),[t]),l=k.useMemo(()=>new Set(o),[o]),[u,f]=k.useState([]);k.useEffect(()=>{const w=localStorage.getItem(GS),_=w?JSON.parse(w):[],T=_.filter(j=>l.has(j)),N=[...T,...o.filter(j=>!T.includes(j))];f(N),JSON.stringify(N)!==JSON.stringify(_)&&localStorage.setItem(GS,JSON.stringify(N))},[o,l]);const h=w=>{f(w),localStorage.setItem(GS,JSON.stringify(w))},p=k.useMemo(()=>{const w=new Map(t.map(j=>[_d(j),j])),_=[];for(const j of u){const C=w.get(j);C&&_.push(C)}w.forEach((j,C)=>{u.includes(C)||_.push(j)});const T=[],N=[];for(const j of _)(typeof j.relationship=="string"?j.relationship.trim():"")===""?T.push(j):N.push(j);return[...T,...N]},[t,u]),b=k.useMemo(()=>{const w=i.trim().toLowerCase();return w?p.filter(_=>{const T=typeof _.relationship=="string"?_.relationship.trim():"";return`${tv(_)} ${T}`.toLowerCase().includes(w)}):p},[p,i]),v=i.trim()==="",S=w=>{const{destination:_,source:T}=w;if(!_||!v||_.index===T.index)return;const N=b.map(_d),j=S2e(N,T.index,_.index),D=p.map(_d).filter($=>!N.includes($)),P=[...j,...D].filter(($,F,Y)=>Y.indexOf($)===F);h(P)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),g.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),g.jsxs("div",{className:"mb-3",children:[g.jsx("input",{value:i,onChange:w=>a(w.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),g.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),g.jsx(up,{onDragEnd:S,children:g.jsx(pf,{droppableId:"people-picker",children:w=>g.jsxs("ul",{className:"space-y-2",ref:w.innerRef,...w.droppableProps,children:[b.map((_,T)=>{const N=xx(_),j=typeof _.relationship=="string"?_.relationship.trim():"",C=j||" ",D=tv(_),P=j&&D===" "?j:D;return g.jsx(mf,{draggableId:_d(_),index:T,isDragDisabled:!v,children:$=>g.jsx("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:g.jsxs("button",{onClick:()=>n(_),className:"flex-1 text-left cursor-pointer",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[g.jsx("span",{children:P}),g.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${j?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:C})]}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:vm(N)})]})})},_d(_))}),w.placeholder]})})})]})]})}function qS({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:l,sinsalMode:u,sinsalBloom:f}){const h=w=>{const _=o.showSibiUnseong?Do(a,w):"",T=o.showSibiSinsal?Po({baseBranch:l,targetBranch:w,era:_2e(u),gaehwa:!!f}):"";return{unseongText:_||void 0,shinsalText:T||void 0}},p=rn(t).charAt(1),b=rn(n).charAt(1),v=rn(r).charAt(1),S=rn(i).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",rn(t),p],["",rn(n),b],["",rn(r),v],["",rn(i),S]].map(([w,_,T])=>{const{unseongText:N,shinsalText:j}=h(T);return g.jsx(Ad,{label:w,gz:_,dayStem:a,settings:jn.getState().settings,unseongText:N,shinsalText:j,hideBranchSipSin:!0,size:"sm"},`${e}-${w}`)})})]})}function wd({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=jn(P=>P.settings),o=k.useMemo(()=>t?xx(t):null,[t]),l="/",u=rn(o?Fa(o,l):void 0),f=rn(o?ft(o,l):void 0),h=rn(o?_t(o):void 0),p=rn(o?at(o):void 0),b=k.useMemo(()=>f.charAt(0)||"",[f]),v=o,S=k.useMemo(()=>{const P=t?.birthPlace;return!P||P.name===""||!P.lon?127.5:P.lon},[t]),w=t?.mingSikType??l,_=k.useMemo(()=>{const P=v?ft(v,w).charAt(1):f.charAt(1)||"",$=v?at(v,S).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?P:$},[a.sinsalBase,v,w,S,f,p]),T=k.useMemo(()=>{if(n!==""||!o||!t)return null;try{const P=Y4(o,u,t.dir,120,t.mingSikType),$=W4(P,f,t.dir,t.DayChangeRule),F=pp(o,h,t.dir,120,t?.birthPlace?.lon??127.5),Y=V4(F,p,t.dir,t.DayChangeRule,o),K=r;return{si:rn(cb(P.events,K)?.gz,u),il:rn(cb($.events,K)?.gz,f),wl:rn(cb(F.events,K)?.gz,h),yn:rn(cb(Y.events,K)?.gz,p)}}catch{return null}},[n,o,u,f,h,p,r,t]),N=k.useMemo(()=>{if(n!=="")return null;const P=r;return{si:rn(Fa(P,l)),il:rn(ft(P,l)),wl:rn(_t(P)),yn:rn(at(P))}},[n,r]),j=t?tv(t):"",C=o?vm(o):"",D=t?w2e(t):"";return t?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:j}),D&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",D]}),C&&g.jsx("span",{className:"block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:C})]}),n===""&&g.jsx(qS,{label:"",gzHour:u,gzDay:f,gzMonth:h,gzYear:p,dayStem:b,cardSettings:a,sinsalBaseBranch:_,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&T&&g.jsx(qS,{label:"",gzHour:T.si,gzDay:T.il,gzMonth:T.wl,gzYear:T.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:_,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&N&&g.jsx(qS,{label:"",gzHour:N.si,gzDay:N.il,gzMonth:N.wl,gzYear:N.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:_,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function k2e({people:e=[]}){const[t,n]=k.useState(),[r,i]=k.useState(),[a,o]=k.useState(!1),[l,u]=k.useState(!1),f=k.useRef(new Date),[h,p]=k.useState(()=>b2e(f.current)),b=k.useRef(R3(h)??f.current),v=k.useMemo(()=>{const C=R3(h);return C&&(b.current=C),b.current},[h]),[S,w]=k.useState(!1),[_,T]=k.useState(!1);function N(C){if(!C)return["","","",""];try{const D=xx(C),P="/",$={hour:rn(Fa(D,P)),day:rn(ft(D,P)),month:rn(_t(D)),year:rn(at(D))};return[$.year,$.month,$.day,$.hour]}catch{return["","","",""]}}const j=on(C=>C.canUseMyoViewerNow());return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[j?g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:a,onChange:C=>o(C.target.checked),className:"accent-indigo-500"})," "]}):null,g.jsx("button",{onClick:()=>u(C=>!C),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(wd,{label:" A",data:t,mode:"",effectiveDate:v,onPick:()=>w(!0)}),g.jsx(wd,{label:" B",data:r,mode:"",effectiveDate:v,onPick:()=>T(!0)}),a&&t&&g.jsx(wd,{label:" A",data:t,mode:"",effectiveDate:v,onPick:()=>w(!0)}),a&&r&&g.jsx(wd,{label:" B",data:r,mode:"",effectiveDate:v,onPick:()=>T(!0)}),l&&t&&g.jsx(wd,{label:" A",data:t,mode:"",effectiveDate:v,onPick:()=>w(!0)}),l&&r&&g.jsx(wd,{label:" B",data:r,mode:"",effectiveDate:v,onPick:()=>T(!0)})]}),t&&r&&g.jsx("div",{className:"mt-4",children:g.jsx(c2e,{pillarsA:N(t),pillarsB:N(r)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),g.jsx("input",{type:"datetime-local",value:h,onChange:C=>p(C.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(L3,{open:S,list:e||[],onSelect:C=>{n(C),w(!1)},onClose:()=>w(!1)}),g.jsx(L3,{open:_,list:e||[],onSelect:C=>{i(C),T(!1)},onClose:()=>T(!1)})]})}function E2e(){const[e,t]=k.useState(!1),[n,r]=k.useState(!1),i=async()=>{try{const{data:{user:a}}=await Me.auth.getUser();if(!a){alert("  .");return}const o=a.id,l=new Date().toISOString();await Me.from("profiles").update({disabled_at:l}).eq("id",o),await Me.from("myeongsik").update({deleted_at:l}).eq("user_id",o),await Me.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return g.jsxs(g.Fragment,{children:[g.jsxs("footer",{className:"py-8 pb-[calc(64px+env(safe-area-inset-bottom,0px)+var(--bottom-dock,0px))] px-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),g.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[g.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),g.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"     ,    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   (, )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"    /  ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"         "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"   3  ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),g.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",g.jsx("br",{}),"    ."]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),g.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function A2e(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function YS(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);if(!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12)return null;const l=new Date(i,a,0).getDate();return o<1||o>l?null:{y:i,m:a,d:o}}function I3(e,t,n){return e<t?t:e>n?n:e}function GU({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31",className:i="px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}){const a=k.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),o=k.useMemo(()=>A2e(a),[a]),[l,u]=k.useState(o);k.useEffect(()=>{u(o)},[o]);const f=h=>{if(!YS(h))return;const b=I3(h,n,r),{y:v,m:S,d:w}=YS(b),_=a.getHours(),T=a.getMinutes(),N=a.getSeconds(),j=a.getMilliseconds(),C=new Date(v,S-1,w,_,T,N,j);Number.isNaN(C.getTime())||t(C)};return g.jsx("input",{type:"date",value:l,min:n,max:r,onChange:h=>{const p=h.target.value;u(p),p&&f(p)},onBlur:()=>{if(!l||!YS(l)){u(o);return}const h=I3(l,n,r);h!==l&&(u(h),f(h))},className:i,"aria-label":" "})}function T2e({ms:e}){const{date:t,setDate:n}=fi(),r=zl(),i=k.useMemo(()=>{const f=typeof e.id=="string"?e.id:"";if(f)return f;const h=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",p=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",h,p].filter(Boolean).join("|")},[e]);k.useEffect(()=>{n(new Date)},[i]);const a=sA(e,void 0,void 0,{dstOffsetMinutes:r}),o=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,l=k.useMemo(()=>{const f=typeof e.ganji=="string"?e.ganji:"",h=a?.dae?.gz?`${a.dae.gz}`:null,p=a?.se?.gz?`${a.se.gz}`:null,b=a?.wol?.gz?`${a.wol.gz}`:null,v=[h,p,b].filter(Boolean).join(" ");return[f,v].filter(Boolean).join(" + ")},[e.ganji,a]),u=f=>{n(f)};return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto mb-4 px-2 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[l&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:l}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),g.jsx(GU,{date:o,onChange:u,min:"1900-01-01",max:"2100-12-31"})]})})]})}function j2e({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:l}){return g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"/"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:" "}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>l("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>l("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function O2e({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),l=t===i;return g.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",l?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function N2e({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""})]})}),g.jsx("tbody",{children:e.map((i,a)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),g.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:i.date}),g.jsx("td",{className:"p-1 text-center",children:i.year}),g.jsx("td",{className:"p-1 text-center",children:i.month}),g.jsx("td",{className:"p-1 text-center",children:i.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,l)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:o.branch})},l))})}),g.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function C2e({toast:e,showToast4:t,searchToast:n,error:r}){return g.jsxs(g.Fragment,{children:[e&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",g.jsx("br",{}),"   ."]})}),r&&g.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function M2e({choices:e,onChoose:t}){return!e||e.length===0?null:g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"  ."}),g.jsx("div",{className:"flex gap-2",children:e.map(n=>g.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const aj=["","","","","","","","","",""],$p=["","","","","","","","","","","",""],D2e={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},qU=["","","","","","","","","","","",""],P2e=$p,R2e=qU,L2e=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],I2e={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$2e={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function ep(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=D2e[n],i=qU.indexOf(t),a=(r+(i>=0?i:0))%10;return aj[a]}function _x(e,t){const n=t===""?P2e:R2e,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=$p.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=aj[(r+a)%10],l=n[a];i[l]=`${o}${l}`}return i}const B2e={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function z2e(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function U2e({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?g.jsxs("div",{className:"w-full",children:[n&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:aj.map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ui(o,"stem",a)}`,children:o},o))})]}),r&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:$p.filter(o=>{const l=z2e(e),u=t[l];return u?$2e[o]===I2e[u]:!0}).map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ui(o,"branch",a)}`,children:o},o))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function F2e(){const[e,t]=k.useState({}),[n,r]=k.useState(null),[i,a]=k.useState(null),[o,l]=k.useState(!0),[u,f]=k.useState(!0),[h,p]=k.useState(""),[b,v]=k.useState("male"),[S,w]=k.useState(null),[_,T]=k.useState(!1),[N,j]=k.useState(null),[C,D]=k.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[P,$]=k.useState(!1),[F,Y]=k.useState(null),[K,H]=k.useState(null),[z,V]=k.useState(!1),[Z,X]=k.useState(!1),q=J=>{H(J),setTimeout(()=>H(null),1800)};return k.useEffect(()=>{if(!z)return;const J=setTimeout(()=>V(!1),2e3);return()=>clearTimeout(J)},[z]),k.useEffect(()=>{if(!Z)return;const J=setTimeout(()=>X(!1),2e3);return()=>clearTimeout(J)},[Z]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:f,hourRule:h,setHourRule:p,gender:b,setGender:v,results:S,setResults:w,searching:_,setSearching:T,selectedRow:N,setSelectedRow:j,form:C,setForm:D,unknownPlace:P,setUnknownPlace:$,error:F,setError:Y,toast:K,showToast4:z,setShowToast:V,searchToast:Z,setSearchToast:X,showToast:q}}function YU(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function $3(e,t){return $p.filter(n=>ep(e,n)===t)}function B3(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=$3(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=ep(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=$3(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=ep(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function H2e(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=_x(i.dayStem,r),o=u=>Object.entries(a).find(([,f])=>f.startsWith(u)),l=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=l(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=l(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function G2e(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?ep(e.yearStem,e.monthBranch)!==e.monthStem:!1}function q2e(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=_x(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function KS(e,t,n){const i=_x(e,t)[n];return i?i.slice(0,1):null}function Y2e({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:f,hourRule:h,setHourRule:p,setResults:b,setError:v,showToast:S}){const w=o||u,_=!!(e.yearStem&&e.yearBranch),T=!!(e.dayStem&&e.dayBranch),N=!w||_||T,j=!!n&&n.endsWith("Stem"),C=!!n&&n.endsWith("Branch"),D=k.useMemo(()=>YU(e),[e]);return k.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const z=KS(e.dayStem,h,e.hourBranch);z&&t(V=>({...V,hourStem:z}))}},[h,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:w,canEnterOthers:N,activeIsStem:j,activeIsBranch:C,filledAll:D,monthBranchChoices:i,handleSelect:z=>{if(!n)return;if(!N&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){v("/      ."),setTimeout(()=>v(null),1500);return}let Z={...e,[n]:z};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const J=B3(Z,n,o);Z=J.next,a(J.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(Z=H2e(Z,n,u,h));let X=!1;G2e(Z,o)&&(l(!1),X=!0),q2e(Z,u,h)&&(f(!1),X=!0),X&&S("/  .  ."),t(Z),b(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const J={...Z};if(J.yearStem&&J.yearBranch&&!J.monthStem){r("monthStem");return}if(J.monthStem&&J.monthBranch&&!J.dayStem){r("dayStem");return}if(J.dayStem&&J.dayBranch&&!J.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:z=>{let V={...e,monthBranch:z};a(null),V=B3(V,"monthBranch",o).next,t(V),r("dayStem")},clearAll:()=>{t({}),b(null),v(null),r(null),a(null)},onToggleWoldu:z=>{b(null),z&&t(V=>{const Z={...V};return Z.yearStem&&Z.monthBranch&&(Z.monthStem=ep(Z.yearStem,Z.monthBranch)),Z}),l(z)},onToggleSiju:z=>{b(null),z&&t(V=>{const Z={...V};if(Z.dayStem&&Z.hourBranch){const X=KS(Z.dayStem,h,Z.hourBranch);X&&(Z.hourStem=X)}return Z}),f(z)},onChangeHourRule:z=>{if(b(null),p(z),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const V=KS(e.dayStem,z,e.hourBranch);V&&t(Z=>({...Z,hourStem:V}))}}}}function K2e(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,l=t!==null?n?.filter((K,H)=>H===t)??[]:[];if(l.length===0)return{error:"  ."};const u=l[0],f=i===""?"/":"",[h,p,b]=u.date.split("-").map(Number);let v=0,S=0;if(u.hourSlots.length>0){const K=u.hourSlots[0].branch,H=B2e[K];H&&(v=H.hh,S=H.mi)}const w=new Date(h,p-1,b,v,S),_=w,T="",N=r==="male"?"":"",j=W2e(u.year.charAt(0),N),C=at(_,127.5),D=_t(_,127.5),P=ft(_,f),$=Fa(_,f),F=[`: ${C} ${D} ${P}`,$?`${$}`:null].filter(Boolean).join(" ");return{payload:{id:z4(),name:"",birthDay:`${h}${String(p).padStart(2,"0")}${String(b).padStart(2,"0")}`,birthTime:`${String(v).padStart(2,"0")}${String(S).padStart(2,"0")}`,gender:N,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:ru(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:F,dayStem:u.day.charAt(0),dateObj:w,corrected:_,correctedLocal:T,dir:j,favorite:!1}}}function W2e(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function V2e(e){wr.getState().add(e)}function Z2e(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,l=`${e.hourStem}${e.hourBranch}`,u=[],f=new Date(1900,0,1,12,0,0),h=new Date(2100,11,31,12,0,0);for(let p=f.getTime();p<=h.getTime();p+=24*3600*1e3){const b=new Date(p),v=at(b);if(v!==i)continue;const S=_t(b);if(S!==a)continue;const w=ft(b,n);if(w!==o)continue;const _=_x(e.dayStem,t),T=[];for(let N=0;N<12;N++){const j=$p[N];_[j]===l&&T.push({branch:j,time:L2e[N]})}if(T.length!==0&&(u.push({date:`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`,year:v,month:S,day:w,hour:l,hourSlots:T}),u.length>=r))break}return u}function X2e({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:l,setSearching:u,setError:f,setSearchToast:h,setForm:p,setUnknownPlace:b,showToast:v,onSave:S,onClose:w}){return{doSearch:()=>{if(l(null),f(null),!YU(e)){f(" 4  .");return}u(!0);try{const j=Z2e(e,t,t===""?"/":"");j.length===0&&f("  . (: 1900~2100)"),l(j)}catch(N){N instanceof Error?f(N.message):f(String(N))}finally{u(!1)}},handleSave:()=>{const N=K2e({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in N){h(!0);return}yu.flushSync(()=>{V2e(N.payload)}),S(N.payload),v(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),b(!1),w()}}}function J2e({open:e,onClose:t,onSave:n}){const{settings:r}=jn(),i=F2e(),a=Y2e({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=X2e({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:g.jsx(Gb,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),g.jsx(j2e,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",g.jsx("br",{}),g.jsx("b",{children:""}),"  ",g.jsx("b",{children:""})," ."]}),g.jsx(O2e,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),g.jsx(M2e,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:g.jsx(U2e,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:g.jsx(N2e,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),g.jsx(C2e,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function Q2e(){return g.jsx("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:g.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "})})}function eAe({sections:e,toggleSection:t}){return g.jsxs("div",{className:"mt-3 border-t pt-2",children:[g.jsxs("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["   ",g.jsx("span",{className:"text-amber-500",children:"(TIP.  AI  . ex.,  )"})]}),g.jsx("p",{className:"text-amber-500",children:"      . (     .)"}),g.jsx("p",{className:"text-amber-500",children:" AI     .  ,   ."}),g.jsx("p",{className:"text-amber-500",children:"  AI ,    .  ."})]}),g.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function tAe({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return g.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[g.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),g.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(l=>g.jsx("button",{type:"button",onClick:()=>n(l),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===l?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[l].label},l))}),g.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function nAe({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>g.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&g.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))})]})}function rAe({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?g.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:" "}),g.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[g.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),g.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:"  "}),g.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:" "}),a.map(o=>g.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function iAe({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),g.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function aAe({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[g.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const l=!a&&o!=="",u=!l&&t===o;return g.jsxs("button",{type:"button",onClick:()=>{l||n(o)},disabled:l,title:l?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",l?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":l?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",l?"":""]},o)})}),g.jsx(GU,{date:r,onChange:i})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsx("p",{children:"      ."}),g.jsx("p",{children:"     ."}),g.jsx("p",{children:"      ."})]})]})}function oAe({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:l,onSeEndChange:u,onSeStartBlur:f,onSeEndBlur:h,seYearsCount:p,wolStartDate:b,wolEndDate:v,onWolStartChange:S,onWolEndChange:w,onWolStartBlur:_,onWolEndBlur:T,wolMonthsCount:N,ilStartDate:j,ilEndDate:C,onIlStartChange:D,onIlEndChange:P,onIlStartBlur:$,onIlEndBlur:F,ilDaysCount:Y}){return g.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[g.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(K=>g.jsx("button",{type:"button",onClick:()=>t(K),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===K?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:K},K))}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),g.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((K,H)=>g.jsxs("button",{type:"button",onClick:()=>i(H),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(H)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[g.jsx("div",{className:"font-mono",children:K.gz}),g.jsxs("div",{className:"text-[10px] opacity-80",children:[K.age," (",K.startYear,"~",K.endYear,")"]})]},H))})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"number",value:a,onChange:K=>l(Number(K.target.value)),onBlur:f,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"number",value:o,onChange:K=>u(Number(K.target.value)),onBlur:h,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"month",value:b,onChange:K=>S(K.target.value),onBlur:_,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"month",value:v,onChange:K=>w(K.target.value),onBlur:T,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",N,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 7)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"date",value:j,onChange:K=>D(K.target.value),onBlur:$,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"date",value:C,onChange:K=>P(K.target.value),onBlur:F,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",Y,""]})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsxs("p",{children:[" ",e,"   ."]}),g.jsx("p",{children:"    ."})]})]})}function sAe({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:l}){const u=l?" ":"";return g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&g.jsx("button",{type:"button",onClick:i,disabled:o,title:o?l:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),g.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?l:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),g.jsxs("div",{className:"mb-4 text-center",children:[g.jsx("button",{type:"button",onClick:n,disabled:o,title:o?l:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&g.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&g.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((f,h)=>g.jsxs("li",{className:"flex gap-1 items-start",children:[g.jsxs("span",{className:"shrink-0",children:[h+1,"."]}),g.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:f}),g.jsx("button",{type:"button",onClick:()=>a(h),disabled:o,title:o?l:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},h))})]})}function lAe({value:e,lockSelection:t=!1}){const[n,r]=k.useState(!1);return t?g.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:"   "}):g.jsxs("div",{children:[g.jsxs("div",{className:"relative",children:[g.jsx("textarea",{readOnly:!0,value:e,placeholder:"   ",className:["w-full text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 resize-none transition-[height] duration-200","desk:h-[270px] desk:overflow-y-auto",n?"h-[270px] overflow-y-auto pointer-events-auto":"h-[150px] overflow-hidden pointer-events-none desk:pointer-events-auto"].join(" ")}),!n&&g.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-10 rounded-b-md bg-gradient-to-t from-white/95 dark:from-neutral-800/95 to-transparent"})]}),g.jsx("div",{className:"mt-2 mb-3 flex justify-center desk:hidden",children:g.jsx("button",{type:"button",onClick:()=>r(i=>!i),className:"px-3 py-1 rounded-full border text-xs bg-white text-neutral-700 border-neutral-300 dark:bg-neutral-900 dark:text-neutral-200 dark:border-neutral-700",children:n?"":""})})]})}const cAe={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},uAe=["","","","",""],dAe={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},z3={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function fAe(){const[e,t]=k.useState(null);return k.useEffect(()=>{let n=!0;return Me.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const hAe={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},nv=Mo(e=>({sections:hAe,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),WS=1e3*60*60*24;function VS(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function ub(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function db(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function U3(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function F3(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function mAe(){const e=new Date().getFullYear(),[t,n]=k.useState(e),[r,i]=k.useState(e),[a,o]=k.useState(()=>F3()),[l,u]=k.useState(()=>F3()),[f,h]=k.useState(()=>U3()),[p,b]=k.useState(()=>U3()),v=X=>{n(X)},S=X=>{i(X)},w=()=>{const X=t;let q=r;q<X&&(q=X),q-X>9&&(q=X+9),i(q)},_=()=>{let X=t;const q=r;q<X&&(X=q),q-X>9&&(X=q-9),n(X)},T=k.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const X=r-t+1;return X>0?X:0},[t,r]),N=k.useMemo(()=>{const X=[];if(!Number.isFinite(t)||!Number.isFinite(r))return X;for(let q=t;q<=r&&X.length<10;q++)X.push(q);return X},[t,r]),j=X=>{o(X)},C=X=>{u(X)},D=()=>{const[X,q]=a.split("-").map(Number),[J,ne]=l.split("-").map(Number),de=new Date(X,q-1),oe=new Date(J,ne-1);if(oe<de){u(ub(de));return}if(VS(de,oe)>11){const W=new Date(de);W.setMonth(de.getMonth()+11),u(ub(W))}},P=()=>{const[X,q]=a.split("-").map(Number),[J,ne]=l.split("-").map(Number),de=new Date(X,q-1),oe=new Date(J,ne-1);if(oe<de){o(ub(oe));return}if(VS(de,oe)>11){const W=new Date(oe);W.setMonth(oe.getMonth()-11),o(ub(W))}},$=k.useMemo(()=>{const[X,q]=(a||"").split("-").map(Number),[J,ne]=(l||"").split("-").map(Number);if(!Number.isFinite(X)||!Number.isFinite(q)||!Number.isFinite(J)||!Number.isFinite(ne))return 0;const de=new Date(X,q-1,1),oe=new Date(J,ne-1,1),B=VS(de,oe)+1;return B>0?B:0},[a,l]),F=k.useMemo(()=>{const X=[],[q,J]=a.split("-").map(Number),[ne,de]=l.split("-").map(Number),oe=new Date(q,J-1),B=new Date(ne,de-1);if(Number.isNaN(oe.getTime())||Number.isNaN(B.getTime()))return X;for(;oe<=B&&X.length<12;)X.push(`${oe.getFullYear()}-${String(oe.getMonth()+1).padStart(2,"0")}`),oe.setMonth(oe.getMonth()+1);return X},[a,l]),Y=X=>{h(X)},K=X=>{b(X)},H=()=>{if(!f||!p)return;const[X,q,J]=f.split("-").map(Number),[ne,de,oe]=p.split("-").map(Number),B=new Date(X,q-1,J,4,0,0),W=new Date(ne,de-1,oe,4,0,0);if(W<B){b(db(B));return}if(Math.floor((W.getTime()-B.getTime())/WS)>7){const Q=new Date(B);Q.setDate(B.getDate()+6),b(db(Q))}},z=()=>{if(!f||!p)return;const[X,q,J]=f.split("-").map(Number),[ne,de,oe]=p.split("-").map(Number),B=new Date(X,q-1,J,4,0,0),W=new Date(ne,de-1,oe,4,0,0);if(B>W){h(db(W));return}if(Math.floor((W.getTime()-B.getTime())/WS)>7){const Q=new Date(W);Q.setDate(W.getDate()-6),h(db(Q))}},V=k.useMemo(()=>{const[X,q,J]=(f||"").split("-").map(Number),[ne,de,oe]=(p||"").split("-").map(Number);if(!Number.isFinite(X)||!Number.isFinite(q)||!Number.isFinite(J)||!Number.isFinite(ne)||!Number.isFinite(de)||!Number.isFinite(oe))return 0;const B=new Date(X,q-1,J,4,0,0),W=new Date(ne,de-1,oe,4,0,0),ie=Math.floor((W.getTime()-B.getTime())/WS)+1;return ie>0?ie:0},[f,p]),Z=k.useMemo(()=>{const X=[],[q,J,ne]=f.split("-").map(Number),[de,oe,B]=p.split("-").map(Number),W=new Date(q,J-1,ne,4,0,0),ie=new Date(de,oe-1,B,4,0,0);if(Number.isNaN(W.getTime())||Number.isNaN(ie.getTime()))return X;const Q=new Date(W);for(;Q<=ie&&X.length<31;){const se=Q.getFullYear(),he=String(Q.getMonth()+1).padStart(2,"0"),me=String(Q.getDate()).padStart(2,"0");X.push(`${se}-${he}-${me}`),Q.setDate(Q.getDate()+1)}return X},[f,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:l,ilStartDate:f,ilEndDate:p,onSeStartChange:v,onSeEndChange:S,onSeStartBlur:w,onSeEndBlur:_,onWolStartChange:j,onWolEndChange:C,onWolStartBlur:D,onWolEndBlur:P,onIlStartChange:Y,onIlEndChange:K,onIlStartBlur:H,onIlEndBlur:z,seYearsCount:T,wolMonthsCount:$,ilDaysCount:V,seYearsList:N,wolMonthsList:F,ilDaysList:Z}}function pAe({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=nv(oe=>oe.sections),i=nv(oe=>oe.toggleSection),[a,o]=k.useState("analysis"),[l,u]=k.useState(!1),[f,h]=k.useState(!1),[p,b]=k.useState(""),[v,S]=k.useState("personality"),[w,_]=k.useState("overview"),[T,N]=k.useState("solo"),[j,C]=k.useState(""),[D,P]=k.useState(!1),[$,F]=k.useState(""),[Y,K]=k.useState([]),[H,z]=k.useState(""),[V,Z]=k.useState([]),X=mAe();k.useEffect(()=>{v!=="love"&&v!=="compat"&&(N("solo"),b(""))},[v]),k.useEffect(()=>{!t&&D&&P(!1)},[t,D]),k.useEffect(()=>{!n&&j!==""&&C("")},[n,j]),k.useEffect(()=>{$!==""&&K([])},[$]),k.useEffect(()=>{z(""),Z([])},[e]);function q(){const oe=H.trim();oe&&(Z(B=>[...B,oe]),z(""))}function J(oe){Z(B=>B.filter((W,ie)=>ie!==oe))}function ne(){Z([])}function de(oe){K(B=>B.includes(oe)?B.filter(W=>W!==oe):[...B,oe])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:l,setFriendMode:u,teacherMode:f,setTeacherMode:h,partnerId:p,setPartnerId:b,mainCategory:v,setMainCategory:S,subCategory:w,setSubCategory:_,relationMode:T,setRelationMode:N,activeTab:j,setActiveTab:C,isMultiMode:D,setIsMultiMode:P,multiTab:$,setMultiTab:F,selectedDaeIdx:Y,setSelectedDaeIdx:K,handleToggleDae:de,rangeControls:X,questionDraft:H,setQuestionDraft:z,extraQuestions:V,setExtraQuestions:Z,handleAddQuestion:q,handleRemoveQuestion:J,handleClearQuestions:ne}}const KU=Mo(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function oj(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const j=Gi(t,n,r);t=j.getFullYear(),n=j.getMonth()+1,r=j.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),l=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,f=dp(l,u,i),h=e.mingSikType??"/",p=at(f,u),b=_t(f,u),v=ft(f,h),S=i?null:Fa(f,h),w=Re(p),_=Re(b),T=Re(v),N=S?Re(S):"";return[w,_,T,N]}function WU(e){const t=new Date(e.corrected),n=oj(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",l=o&&a||!o&&!a?"forward":"backward",u=pp(t,n[1],l,120,e.birthPlace?.lon??127.5),f=u.firstChange;if(!f)return[];const h=[];let p=Re(u.events[0]?.gz??n[1]);for(let b=0;b<10;b++){const v=new Date(f);if(v.setFullYear(v.getFullYear()+b*10),b>0){const S=u.events[b];S&&(p=Re(S.gz))}h.push(`${v.getFullYear()} ${String(v.getMonth()+1).padStart(2,"0")} ${p}  `)}return h}const gAe=["- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    .","-      ,    ."],bAe=["- :     . ////  .","- :  ,  .    . //   .","- : ~  //     .    .","- , /      , ////   .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""," ","-  .  /  /  ","-   =  . 1~2 "];function yAe(e,t){e.push("### ()");const n=t?bAe:gAe;e.push(...n)}function vAe(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function xAe(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...l)=>e.push(...l);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."):o("","## ()","-  /  .","-         .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function _Ae(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function wAe(e,t){xAe(e,t)||_Ae(e,t)}function SAe(e){return e==="multi"?"multi":"single"}function VU(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const l=SAe(r),u=[],f=o===!0;return yAe(u,f),t==="etc"||(vAe(u,{mode:l,tab:i,isStudyTone:f}),wAe(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:f})),u.join(`
`)}const kAe=!1,H3=e=>e<10?`0${e}`:`${e}`;function EAe(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Gi(i,a,o,0,0),u=`${l.getFullYear()}${H3(l.getMonth()+1)}${H3(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const dm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},fm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},gu={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},fb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},AAe=["","","","",""];function G3(e){return AAe.includes(e)}const ZU={:"",:"",:"",:"",:""},XU={:"",:"",:"",:"",:""},JU={:"",:"",:"",:"",:""},QU={:"",:"",:"",:"",:""};function t2(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(dm[t])return dm[t];if(["","","","","","","","","","","",""].includes(t))return fb[t]??null;if(fm[t])return fb[fm[t]]??null;const n=t.charAt(0);return dm[n]?dm[n]:["","","","","","","","","",""].includes(n)?n:fm[n]?fb[fm[n]]??null:["","","","","","","","","","","",""].includes(n)?fb[n]??null:null}function TAe(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=t2(n);i&&(t[i]=(t[i]??0)+r)}return t}function jAe(e){if(!e)return[];const t=t2(e.charAt(0)),n=t2(e.charAt(1));return[t,n].filter(Boolean)}function hb(e){const t=jAe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function OAe(e,t){const n=gu[e],r=gu[t];if(!n||!r)return"";let i;r===n?i="":r===ZU[n]?i="":r===XU[n]?i="":r===JU[n]?i="":r===QU[n]?i="":i="";const a=G3(e)===G3(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function eF(e,t){return t===e?"":t===ZU[e]?"":t===XU[e]?"":t===JU[e]?"":t===QU[e]?"":""}function tF(e){const t=Object.entries(e),n=t.reduce((f,[,h])=>f+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,h])=>[f,(h>0?h:0)*100/n]),i=r.map(([f,h])=>[f,Math.floor(h)]);let a=i.reduce((f,[,h])=>f+h,0);const o=r.map(([f,h])=>[f,h-Math.floor(h)]).sort((f,h)=>h[1]-f[1]),l=Object.fromEntries(i.map(([f,h])=>[f,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}const NAe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},CAe=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=dm[t]??t,i=fm[n]??n;return`${r}${i}`},sj=e=>{const t=CAe(e),n=NAe[t];return n?{...n,code:t}:null};function nF(e,t){const n=EAe(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let l="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),f=String(n.corrected.getMinutes()).padStart(2,"0");l=t?"":`${u}:${f}`}return`${i} ${a} ${o}  ${l}`}function MAe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=gu[n];i&&(t[i]+=r)}return t}function DAe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=OAe(t,r);n[a]+=i}return n}function PAe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const RAe={natal:50,dae:30,se:20,wol:7,il:3};function LAe(e){const t={};for(const{kind:r,bare:i}of e){const a=RAe[r]??0;if(a<=0)continue;const o=tF(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function rF(e,t,n){const r=TAe(e.perStemElementScaled),i=t!==""&&n?.dae?hb(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?hb(n.se):{},o=(t===""||t==="")&&n?.wol?hb(n.wol):{},l=t===""&&n?.il?hb(n.il):{},u=LAe([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:l}]),f=tF(u),h=MAe(f),p=DAe(f,e.dayStem),b=PAe(p);return{perStemAugBare:f,elementPercent:h,totalsSub:p,totalsMain:b}}function iF(e){return!e.birthTime||e.birthTime===""}function aF(e,t){return t[3]?["","","",""]:["","",""]}function IAe(e,t){return e.map((n,r)=>t[r]??"")}const $Ae=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function rv(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>rv(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if($Ae(e)){const t={};for(const[n,r]of Object.entries(e)){const i=rv(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function BAe(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function zAe(e,t){const n=rv(e);if(n===void 0)return"";const r=BAe(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function oF(e,t,n){const r=zAe(t,n);return r.trim()?`## ${e}
${r}`:""}const qn=(e,t)=>oF(e,t,"plain"),$r=(e,t)=>oF(e,t,"fenced"),UAe=(e,t)=>{if(!e)return{};const n=t,r=l=>{if(!l)return;const u={};for(const[f,h]of Object.entries(l)){if(!Array.isArray(h))continue;const p=h.filter(b=>typeof b=="string"&&b.includes(n));p.length>0&&(u[f]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},FAe=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function n2(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${eF(t,n)})`,r]))}function HAe(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let l=0;l<r.length;l++){const u=n[l]??"";u&&a.push({kind:"natal",pos:r[l],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function GAe(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${Re(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${Re(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${Re(t.wol)}`),e===""&&t.il&&n.push(`:${Re(t.il)}`),n.length>0?n.join(" / "):"()"}function sF(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:l,category:u,topic:f,subTopic:h,relationMode:p,teacherMode:b,sections:v}=e,S=v?.tenGod??!0,w=v?.twelveUnseong??!0,_=v?.twelveShinsal??!0,T=v?.shinsal??!0,N=v?.nabeum??!0,j=iF(t),C=Re(n[3]??""),D=!!C,P=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),C],$=WU(t).slice(0,10),F=Tl({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),Y=Wd({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:K,shinsalGaehwa:H,shinsalBase:z}=KU.getState(),V=z===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",Z=rF(o,a,r),X=Z.elementPercent,q=Z.totalsSub,{flags:J}=B6(P,o.elementScoreRaw),ne=`${u} (${l.toFixed(1)}%)  ${[` ${J..||J..||J..||J..?"":""}`,` ${J..||J..||J..||J..?"":""}`,` ${J..||J..?"":""}`].join(", ")}`,de=aF(t,P),oe=o.dayStem,B=gu[oe]??gu[o.dayStem]??"",W=[` : ${t.name??""} (${nF(t,j)}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(D?` ${P[3]}`:""),`: ${GAe(a,r)}`].join(`
`),ie=[];ie.push($r("  (10)",$)),ie.push($r("",ne)),ie.push($r("(  )",n2(o.natalFixed.elementPercent100,B))),a!==""&&ie.push($r(`(=${a})`,n2(X,B))),S&&(ie.push($r(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ie.push($r(` ( 10=${a} 100)`,q)));const Q=HAe({tab:a,natal:P,posLabels:de,chain:r});if(w){const re=Q.map(({pos:Ee,gz:je})=>({pos:Ee,gz:je,unseong:Do(P[2]?.charAt(0)??"",je.charAt(1))}));ie.push($r("(+ )",re))}if(_){const re=Q.map(({pos:Ee,gz:je})=>({pos:Ee,gz:je,shinsal:Po({baseBranch:V,targetBranch:je.charAt(1),era:K,gaehwa:H})}));ie.push($r("(+  )",re))}if(N){const re=[];for(const Ee of Q){const je=sj(Ee.gz);if(!je){Ee.kind==="natal"&&re.push({pos:Ee.pos,gz:Ee.gz,nabeum:null});continue}re.push({pos:Ee.pos,gz:Ee.gz,nabeum:je.name,element:je.element,code:je.code})}ie.push($r("(+ )",re))}if(ie.push($r("()",xA(de.map((re,Ee)=>P[Ee]??"")))),ie.push($r("( :  )",F)),T)if(a===""){const re=Wd({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ie.push($r("( )",{good:re.good,bad:re.bad,meta:re.meta}))}else ie.push($r(`( =${a})`,Y));const se=ie.filter(re=>re&&re.trim().length>0).join(`

`),he=VU({topic:f,subTopic:h,timeMode:"single",tab:a,relationMode:p,teacherMode:b}),me=["-----","  ","","1.       (////)  .","2.  ,        ."];he&&me.push("","  ( )",he);const Se=me.join(`
`);return{header:W,body:se,guide:Se}}function qAe(e){const{header:t,body:n,guide:r}=sF(e);return[t,n,r].join(`

`)}function ko(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:l,unified:u,dayEl:f,baseDayStem:h,show:p,shinsalSettings:b,harmonyMode:v="scope",includeBasicInfo:S=!0}=e,w=rF(u,t,i),_=Tl({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),T=p.shinsal?Wd({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:l}):null,N=p.nabeum?sj(r):null,j=p.twelveUnseong?Do(h,r.charAt(1)):null,C=p.twelveShinsal?Po({baseBranch:b.baseBranch,targetBranch:r.charAt(1),era:b.era,gaehwa:b.gaehwa}):null,D=v==="full"?_:FAe(_,t);return{...S?{:n,:r}:{},:n2(w.elementPercent,f),...p.tenGod?{:w.totalsSub}:{},:D,...p.shinsal?{:UAe(T,t)}:{},...p.nabeum?{:N?{gz:r,nabeum:N.name,element:N.element,code:N.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:j}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:C}}:{}}}function YAe(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f}=e;if(n.length===0||t.length===0)return[];const h=[];for(const p of t){const b={dae:p.gz,se:null,wol:null,il:null},v=ko({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:b,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"full",includeBasicInfo:!1});h.push(qn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,v))}return h.filter(p=>p.trim().length>0)}function lj(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function lF(e,t){const n=e[t],r=e[t+1];return r?lj(r):new Date(n.endYear+1,0,1)}function cF(e,t,n,r){return e<r&&t>n}function uF(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=lj(l),f=lF(e,o);cF(u,f,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function dF(e,t){return uF(e,t,t)}function iv(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=lj(l),f=lF(e,o);cF(u,f,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function r2(e,t){if(!Number.isInteger(t)||t<1||t>12)throw new RangeError(`findSeForMonthPairs: month must be 1..12, got ${t}`);const n=new Date(e,t-1,1,0,0,0,0),r=new Date(e,t,1,0,0,0,0),i=_n(e,315),a=[],o=u=>{const f=at(new Date(u,5,15,12,0,0,0)),h=Re(f||"");h&&(a.some(p=>p.useYear===u&&p.gz===h)||a.push({useYear:u,gz:h}))};return n<i&&i<r?(o(e-1),o(e)):r<=i?o(e-1):o(e),a}function KAe(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const h=Array.from(new Set(t)).sort((w,_)=>w-_),p=[],b=h[0],v=h[h.length-1],S=uF(n,b,v);if(S.length>0){const w=b,_=at(new Date(w,5,15,12,0,0)),T=Re(_||""),N={:S.map(j=>{const C={dae:j.gz,se:T||null,wol:null,il:null};return ko({scope:"",infoText:`${j.age} ${j.gz} (${j.startYear}~${j.endYear})`,gz:j.gz,chain:C,natal:r,relationArgs:{daewoon:j.gz,sewoon:T||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};p.push(qn("",N))}for(const w of h){const _=new Date(w,5,15,12,0,0),T=at(_),N=dF(n,w),j=N.length>0?N[0]:null,C=Re(T||""),D=w,P={dae:j?j.gz:null,se:C||null,wol:null,il:null},$=ko({scope:"",infoText:`${D} ${C}`,gz:C,chain:P,natal:r,relationArgs:{daewoon:j?.gz,sewoon:C||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn(` ${D}`,{:$}))}return p.filter(w=>w.trim().length>0)}function ZS(e){return String(e).padStart(2,"0")}function WAe(e,t){const n=new Date(e,t-1,1,12,0,0,0),r=new Date(e,t,1,12,0,0,0),i=_n(e,315),a=r2(e,t);if(!(n<i&&i<r)){const S=a[a.length-1]??(()=>{const w=Re(at(new Date(e,5,15,12,0,0,0))||"");return{useYear:e,gz:w}})();return[{label:`${e}-${ZS(t)}`,repDate:new Date(e,t-1,15,12,0,0,0),se:S}]}const l=1440*60*1e3,u=new Date(i.getTime()-l);u.setHours(12,0,0,0);const f=new Date(i.getTime()+l);f.setHours(12,0,0,0);const h=a.find(S=>S.useYear===e-1)??a[0],p=a.find(S=>S.useYear===e)??a[a.length-1],b=h??{useYear:e-1,gz:Re(at(new Date(e-1,5,15,12,0,0,0))||"")},v=p??{useYear:e,gz:Re(at(new Date(e,5,15,12,0,0,0))||"")};return[{label:`${e}-${ZS(t)}()`,repDate:u,se:b},{label:`${e}-${ZS(t)}()`,repDate:f,se:v}]}function VAe(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const h=[],p=[],b=new Map;for(const N of t){const[j,C]=N.split("-").map(Number),D=iv(n,j,C);for(const $ of D)p.some(F=>F.gz===$.gz&&F.startYear===$.startYear)||p.push($);const P=r2(j,C);for(const $ of P){const F=`${$.useYear}:${$.gz}`;b.has(F)||b.set(F,{year:$.useYear,month:C,gz:$.gz})}}const[v,S]=t[0].split("-").map(Number),w=r2(v,S),_=w[w.length-1]?.gz??Re(at(new Date(v,5,15,12,0,0,0))||"");if(p.length>0){const N={:p.map(j=>{const C={dae:j.gz,se:_||null,wol:null,il:null};return ko({scope:"",infoText:`${j.age} ${j.gz} (${j.startYear}~${j.endYear})`,gz:j.gz,chain:C,natal:r,relationArgs:{daewoon:j.gz,sewoon:_||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(qn("",N))}const T=Array.from(b.keys()).sort((N,j)=>{const C=Number(N.split(":")[0]),D=Number(j.split(":")[0]);return C-D});if(T.length>0){const N={:T.map(j=>{const C=b.get(j),D=C.year,P=C.gz,F=dF(n,D)[0]??p[0]??null,Y={dae:F?F.gz:null,se:P,wol:null,il:null};return ko({scope:"",infoText:`${D} ${P}`,gz:P,chain:Y,natal:r,relationArgs:{daewoon:F?.gz,sewoon:P,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(qn("",N))}for(const N of t){const[j,C]=N.split("-").map(Number),D=iv(n,j,C),P=D.length>0?D[0]:null,F=WAe(j,C).map(Y=>{const K=_t(Y.repDate),H=Re(K||""),z={dae:P?P.gz:null,se:Y.se.gz||null,wol:H,il:null};return ko({scope:"",infoText:`${Y.label} ${H}  ${Y.se.useYear} ${Y.se.gz}`,gz:H,chain:z,natal:r,relationArgs:{daewoon:P?.gz,sewoon:Y.se.gz||void 0,wolwoon:H,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})});h.push(qn(` ${N}`,{:F}))}return h.filter(N=>N.trim().length>0)}function XS(e){const t=e.getFullYear(),n=_n(t,315),r=e<n?t-1:t,i=at(new Date(r,5,15,12,0,0,0)),a=Re(i||"");return{useYear:r,gz:a}}function ZAe(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,dayBoundaryRule:h}=e;if(t.length===0)return[];const p=[],[b,v,S]=t[0].split("-").map(Number),w=new Date(b,v-1,S,4,0),_=new Date(b,v-1,S,12,0);if(!Number.isNaN(w.getTime())){const T=iv(n,b,v),N=T.length>0?T[0]:null,j=[];for(const K of t){const[H,z,V]=K.split("-").map(Number),Z=new Date(H,z-1,V,12,0),X=new Date(H,z-1,V,4,0);if(Number.isNaN(Z.getTime())||Number.isNaN(X.getTime()))continue;const q=XS(Z),J=Re(_t(Z)||""),ne=Re(ft(X,h)||""),de=`${q.useYear}|${q.gz}|${J}`;j.some(oe=>oe.key===de)||j.push({key:de,repDateStr:K,seYear:q.useYear,seGZ:q.gz,wolGZ:J,ilGZ:ne})}const C=Re(ft(w,h)||""),D=Re(_t(_)||""),P=XS(_),$=j.length>0?j:[{key:`${P.useYear}|${P.gz}|${D}`,repDateStr:t[0],seYear:P.useYear,seGZ:P.gz,wolGZ:D,ilGZ:C}];if(N){const K=$[$.length-1],H={dae:N.gz,se:K.seGZ,wol:K.wolGZ,il:K.ilGZ},z=ko({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:H,natal:r,relationArgs:{daewoon:N.gz,sewoon:K.seGZ,wolwoon:K.wolGZ,ilwoon:K.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn("",z))}const F=$.filter(K=>K.seGZ.trim().length>0).map(K=>{const H={dae:N?N.gz:null,se:K.seGZ,wol:K.wolGZ,il:K.ilGZ};return ko({scope:"",infoText:`${K.seYear} ${K.seGZ} (${K.repDateStr} )`,gz:K.seGZ,chain:H,natal:r,relationArgs:{daewoon:N?.gz,sewoon:K.seGZ,wolwoon:K.wolGZ,ilwoon:K.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})});F.length>0&&p.push(qn("",{:F}));const Y=$.filter(K=>K.wolGZ.trim().length>0).map(K=>{const H={dae:N?N.gz:null,se:K.seGZ,wol:K.wolGZ,il:K.ilGZ};return ko({scope:"",infoText:`${K.repDateStr} ${K.wolGZ}`,gz:K.wolGZ,chain:H,natal:r,relationArgs:{daewoon:N?.gz,sewoon:K.seGZ,wolwoon:K.wolGZ,ilwoon:K.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})});Y.length>0&&p.push(qn("",{:Y}))}for(const T of t){const[N,j,C]=T.split("-").map(Number),D=new Date(N,j-1,C,4,0),P=new Date(N,j-1,C,12,0);if(Number.isNaN(D.getTime())||Number.isNaN(P.getTime()))continue;const $=iv(n,N,j),F=$.length>0?$[0]:null,K=XS(P).gz,H=_t(P),z=Re(H||""),V=ft(D,h),Z=Re(V||""),X={dae:F?F.gz:null,se:K||null,wol:z,il:Z},q=ko({scope:"",infoText:`${T} ${Z}`,gz:Z,chain:X,natal:r,relationArgs:{daewoon:F?.gz,sewoon:K||void 0,wolwoon:z||void 0,ilwoon:Z||void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn(` ${T}`,{:q}))}return p.filter(T=>T.trim().length>0)}function fF(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:l,selectedDaeList:u,daeList:f,seYears:h,wolMonths:p,ilDays:b,topic:v,subTopic:S,timeMode:w,teacherMode:_,sections:T}=e,N=iF(t),j=Re(n[3]??""),C=!!j,D=t.mingSikType??"/",P=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),j],$=aF(t,P),F=P[2]?.charAt(0)??"",Y=gu[F]??gu[a.dayStem]??"",K=!!i&&(T?.tenGod??!0),H=T?.twelveUnseong??!0,z=T?.twelveShinsal??!0,V=T?.shinsal??!0,Z=T?.nabeum??!0,{shinsalBase:X,shinsalEra:q,shinsalGaehwa:J}=KU.getState(),ne=X===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",de=nF(t,N),oe=[` : ${t.name??""} (${de}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(C?` ${P[3]}`:"")].join(`
`),B=[],{flags:W}=B6(P,a.elementScoreRaw),ie=`${l} (${o.toFixed(1)}%)  ${[` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`].join("  ")}`;if(B.push(qn("",ie)),B.push(qn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([me,Se])=>[`${me}(${eF(Y,me)})`,Se])))),K&&B.push(qn(" ( 10 100)",a.natalFixed.totalsSub)),H){const me=Object.fromEntries($.map((Se,re)=>[Se,Do(F,(P[re]??"").charAt(1))]));B.push(qn("()",me))}if(z){const me=Object.fromEntries($.map((Se,re)=>[Se,Po({baseBranch:ne,targetBranch:(P[re]??"").charAt(1),era:q,gaehwa:J})]));B.push(qn("()",me))}B.push(qn("//",W));const Q=xA(IAe($,P));if(B.push(qn("()",Q)),V){const me=Wd({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});B.push(qn("()",me))}if(Z){const me=Object.fromEntries($.map((Se,re)=>{const Ee=P[re]??"",je=sj(Ee);return[Se,je?{gz:Ee,nabeum:je.name,element:je.element,code:je.code}:null]}));B.push(qn("()",me))}f.length>0&&u.length>0&&B.push(...YAe({selectedDaeList:u,daeList:f,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:F,show:{tenGod:K,twelveUnseong:H,twelveShinsal:z,shinsal:V,nabeum:Z},shinsalSettings:{baseBranch:ne,era:q,gaehwa:J}})),h.length>0&&B.push(...KAe({seYears:h,daeList:f,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:F,show:{tenGod:K,twelveUnseong:H,twelveShinsal:z,shinsal:V,nabeum:Z},shinsalSettings:{baseBranch:ne,era:q,gaehwa:J}})),p.length>0&&B.push(...VAe({wolMonths:p,daeList:f,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:F,show:{tenGod:K,twelveUnseong:H,twelveShinsal:z,shinsal:V,nabeum:Z},shinsalSettings:{baseBranch:ne,era:q,gaehwa:J}})),b.length>0&&B.push(...ZAe({ilDays:b,daeList:f,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:F,show:{tenGod:K,twelveUnseong:H,twelveShinsal:z,shinsal:V,nabeum:Z},shinsalSettings:{baseBranch:ne,era:q,gaehwa:J},dayBoundaryRule:D}));const se=VU({topic:v,subTopic:S,timeMode:w,teacherMode:_}),he=(rv(B.join(`

`))??"").toString();return{header:oe,body:he,guide:se}}function XAe(e){const{header:t,body:n,guide:r}=fF(e);return[t,"",n,"",r].join(`
`)}function cj(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),l=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${l}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const l=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=l.slice(0,2),f=l.slice(2,4);r=`${u}:${f}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function JAe(e){const{header:t,body:n}=sF(e),r=e.relationMode==="couple"?cj(e.partnerMs??null):null,i=r?$r("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function QAe(e){const{header:t,body:n}=fF(e),r=e.relationMode==="couple"?cj(e.partnerMs??null):null,i=r?$r("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function eTe(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function tTe(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function nTe(e){return e?`    .
`:""}function rTe(e,t){if(e!=="couple")return"";const n=cj(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function Ud(e){return Re(e)}function iTe(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function q3(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function aTe(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=Ud(at(t)||""),i=Ud(_t(t)||""),a=Ud(ft(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function oTe(e,t){const n=q3(e),r=q3(t);return{solarKo:n,lunarKo:r}}function i2(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function sTe(e,t,n){return e?"solar":t?"lunar":"solar"}function lTe(e,t,n,r,i,a,o,l){return i2(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,l)}function cTe(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=Ud(at(a)||""),l=Ud(_t(a)||""),u=Ud(ft(a,t)||"");return[o,l,u,""]}function uTe(e,t){return t&&e?e.stem+e.branch:""}function dTe(e,t,n){const i=[...oj(e)];return n&&t&&t.length===2&&(i[3]=t),i}function fTe(e){const t=H6(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=SA(t);return{percent:n,category:_6(n)}}function hTe(e){const t=WU(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,l=a?Number(a[2]):1,u=1,f=a?a[3]:"",h=n>0?gTe(n,o):i*10;return{gz:f,age:h,startYear:o,startMonth:l,startDay:u,endYear:o+10}})}function mTe(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function pTe(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function Y3(e){return iTe(e)}function gTe(e,t){return t-e+1}function bTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:l,input:u}){const{tone:f,friendMode:h,teacherMode:p,partnerId:b,mainCategory:v,subCategory:S,relationMode:w,activeTab:_,isMultiMode:T,multiTab:N,selectedDaeIdx:j,rangeControls:C,extraQuestions:D,sections:P}=u,$=wr(qt=>qt.list),{date:F,setDate:Y}=fi();k.useEffect(()=>{Y(new Date)},[e.id,Y]);const K=k.useMemo(()=>b?$.find(qt=>qt.id===b)??null:null,[b,$]),H=e.mingSikType??"/",z=k.useMemo(()=>F??new Date,[F]),V=k.useMemo(()=>aTe(r,z,H),[r,z,H]),Z=k.useMemo(()=>l?V:{dae:null,se:null,wol:null,il:null},[l,V]),X=sp(qt=>qt.manualHour),q=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:J,lunarKo:ne}=k.useMemo(()=>oTe(t,n),[t,n]),de=k.useMemo(()=>i2(J,X,q),[J,X,q]),oe=k.useMemo(()=>i2(ne,X,q),[ne,X,q]),B=k.useMemo(()=>cTe(e,H),[e,H]),W=Y3(de),ie=Y3(oe),Q=sTe(W,ie),se=k.useMemo(()=>lTe(Q,W,ie,de,oe,B,X,q),[Q,W,ie,de,oe,B,X,q]),he=k.useMemo(()=>q&&X?X.stem+X.branch:se[3]||"",[X,se,q]),me=uTe(X,q),Se=k.useMemo(()=>dTe(e,me,q),[e,me,q]),re=l?_:"",Ee=v==="love"||v==="compat",fe=Ee&&w==="couple"?K??null:null,Je=Ee?w:void 0,Ke=k.useMemo(()=>Pv({natal:Se,tab:re,chain:Z,hourKey:he}),[Se,re,Z,he]),{percent:Ne,category:Ie}=k.useMemo(()=>fTe(Se),[Se]),We=k.useMemo(()=>hTe(e),[e]),Oe=k.useMemo(()=>mTe($??[],e.id),[$,e.id]),De=k.useMemo(()=>j.map(qt=>We[qt]).filter(qt=>!!qt),[j,We]),Be=k.useMemo(()=>N===""?C.seYearsList:[],[N,C.seYearsList]),lt=k.useMemo(()=>N===""?C.wolMonthsList:[],[N,C.wolMonthsList]),ue=k.useMemo(()=>N===""?C.ilDaysList:[],[N,C.ilDaysList]),Ce=k.useMemo(()=>e?qAe({ms:e,natal:Se,chain:Z,basis:i,tab:re,unified:Ke,percent:Ne,category:Ie,topic:v,subTopic:S,relationMode:w,teacherMode:p,sections:P}):"",[e,i,a,re,Z,Ke,Ne,Ie,Se,v,S,w,fe,p,P]),$e=k.useMemo(()=>!e||!T||!o?"":XAe({ms:e,natal:Se,basis:i,includeTenGod:a,unified:Ke,percent:Ne,category:Ie,selectedDaeList:De,daeList:We,seYears:Be,wolMonths:lt,ilDays:ue,topic:v,subTopic:S,timeMode:"multi",teacherMode:p,sections:P}),[e,T,o,Be,De,We,lt,ue,Se,i,a,Ke,Ne,Ie,v,S,Je,fe,p,h,P]),it=k.useMemo(()=>rTe(w,K),[w,K]),Nt=T?$e:Ce,xt=k.useMemo(()=>tTe(f),[f]),Jn=k.useMemo(()=>nTe(h),[h]),gi=k.useMemo(()=>Nt||it?`${Nt}${it}
${xt}${Jn}`:"",[xt,Jn,Nt,it]),bi=k.useMemo(()=>pTe(gi,D),[gi,D]),Ls=k.useMemo(()=>e?T?QAe({ms:e,natal:Se,basis:i,includeTenGod:a,unified:Ke,percent:Ne,category:Ie,selectedDaeList:De,daeList:We,seYears:Be,wolMonths:lt,ilDays:ue,topic:v,subTopic:S,timeMode:"multi",relationMode:Je,partnerMs:fe,teacherMode:p,sections:P}):JAe({ms:e,natal:Se,chain:Z,basis:i,tab:re,unified:Ke,percent:Ne,category:Ie,topic:v,subTopic:S,relationMode:w,partnerMs:fe,teacherMode:p,sections:P}):"",[e,T,Se,i,a,Ke,Ne,Ie,De,We,Be,lt,ue,v,S,w,Je,fe,p,h,P,Z,re]),Is=k.useMemo(()=>{const qt=Ls.trim();if(qt)return qt;const mn=eTe(Nt).trim();return mn||Nt.trim()},[Ls,Nt]);return{date:F,setDate:Y,partnerMs:K,partnerOptions:Oe,daeList:We,tabForLogic:re,baseText:Nt,basePrompt:gi,finalText:bi,infoOnlyText:Is,allowManualHour:q,activePillars:se}}function K3(e,t=1200){const[n,r]=k.useState(!1),i=!!(e&&e.trim().length>0),a=k.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function yTe(e,t){const{copied:n,canCopy:r,onCopy:i}=K3(e),{copied:a,canCopy:o,onCopy:l}=K3(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:l}}function vTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=wr(K=>K._rtUserId),u=fAe()??o??null,f=on(K=>K.loaded),h=on(K=>K.userId),p=on(K=>K.plan),b=k.useMemo(()=>lm(!u||!f||h!==u?"FREE":p??null),[u,f,h,p]),v=k.useMemo(()=>Ik(b),[b]),S=v.canUseMultiMode,w=v.canUseLuckTabs,_=v.canUseAllPrompts?"full":"locked",T=pAe({msId:e.id,canUseMultiMode:S,canUseLuckTabs:w}),N=bTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:S,canUseLuckTabs:w,input:T}),{copiedAll:j,copiedInfo:C,canCopyAll:D,canCopyInfo:P,onCopyAll:$,onCopyInfoOnly:F}=yTe(N.finalText,N.infoOnlyText);function Y(K,H){T.setMainCategory(K),T.setSubCategory(H?.[0]?.key??"overview")}return{sections:T.sections,toggleSection:T.toggleSection,tone:T.tone,setTone:T.setTone,friendMode:T.friendMode,setFriendMode:T.setFriendMode,teacherMode:T.teacherMode,setTeacherMode:T.setTeacherMode,date:N.date,setDate:N.setDate,planTier:b,promptAccess:_,canUseMultiMode:S,canUseLuckTabs:w,partnerId:T.partnerId,setPartnerId:T.setPartnerId,partnerMs:N.partnerMs,mainCategory:T.mainCategory,subCategory:T.subCategory,setSubCategory:T.setSubCategory,relationMode:T.relationMode,setRelationMode:T.setRelationMode,activeTab:T.activeTab,setActiveTab:T.setActiveTab,isMultiMode:T.isMultiMode,setIsMultiMode:T.setIsMultiMode,multiTab:T.multiTab,setMultiTab:T.setMultiTab,selectedDaeIdx:T.selectedDaeIdx,handleToggleDae:T.handleToggleDae,rangeControls:T.rangeControls,partnerOptions:N.partnerOptions,daeList:N.daeList,tabForLogic:N.tabForLogic,baseText:N.baseText,basePrompt:N.basePrompt,finalText:N.finalText,infoOnlyText:N.infoOnlyText,copiedAll:j,copiedInfo:C,canCopyAll:_==="full"&&D,canCopyInfo:_==="full"&&P,onCopyAll:$,onCopyInfoOnly:F,handleMainCategoryChange:Y,setQuestionDraft:T.setQuestionDraft,questionDraft:T.questionDraft,extraQuestions:T.extraQuestions,setExtraQuestions:T.setExtraQuestions,handleAddQuestion:T.handleAddQuestion,handleRemoveQuestion:T.handleRemoveQuestion,handleClearQuestions:T.handleClearQuestions,allowManualHour:N.allowManualHour,activePillars:N.activePillars}}function xTe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=vTe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),l=z3[o.mainCategory];if(!e)return g.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",f=u?"    . ":void 0,h=!u&&o.canCopyInfo,p=!u&&o.canCopyAll;return g.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-2 desk:space-y-3",children:[u?g.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[g.jsx("div",{className:"text-lg font-semibold",children:"  "}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",g.jsx("br",{}),"    100   ! (  )"]})]})}):null,g.jsx(Q2e,{}),g.jsx(eAe,{sections:o.sections,toggleSection:o.toggleSection}),g.jsx(tAe,{tone:o.tone,toneMeta:cAe,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:b=>o.setFriendMode(b.target.checked),teacherMode:o.teacherMode,setTeacherMode:b=>o.setTeacherMode(b.target.checked)}),g.jsx(nAe,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:dAe,currentSubList:l,onMainCategoryChange:b=>o.handleMainCategoryChange(b,z3[b]),onSubCategoryChange:o.setSubCategory}),g.jsx(rAe,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),g.jsx(iAe,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:b=>{!o.canUseMultiMode&&b||o.setIsMultiMode(b)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?g.jsx(oAe,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(b=>({gz:b.gz,age:b.age,startYear:b.startYear,endYear:b.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):g.jsx(aAe,{tabs:uAe,activeTab:o.tabForLogic,setActiveTab:b=>{!o.canUseLuckTabs&&b!==""||o.setActiveTab(b)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),g.jsx(sAe,{questionDraft:o.questionDraft,onChangeDraft:b=>o.setQuestionDraft(b.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:f}),g.jsx(lAe,{value:o.finalText,lockSelection:u}),g.jsx("div",{className:"flex justify-end",children:g.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[g.jsx("button",{type:"button",onClick:o.onCopyInfoOnly,disabled:!h,title:h?void 0:f,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",h?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedInfo?"bg-green-600 text-white border-green-600":h?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:o.copiedInfo?"":`  ${h?"":" "}`}),g.jsx("button",{type:"button",onClick:o.onCopyAll,disabled:!p,title:p?void 0:f,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",p?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedAll?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:o.copiedAll?"":`  ${p?"":" "}`})]})})]})}function _Te(){const[e,t]=k.useState(null),[n,r]=k.useState(!1),[i,a]=k.useState(!1),[o]=k.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function wTe(){const e=wr(r=>r.loading),t=jn(r=>r.loaded),n=on(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const W3="app_session_started_at_ms",STe=7200*1e3;function kTe(){const e=sessionStorage.getItem(W3),t=e?Number(e):NaN;if(!Number.isFinite(t)||t<=0){const n=Date.now();return sessionStorage.setItem(W3,String(n)),n}return t}function ETe(e=Date.now()){const t=kTe();return Math.max(0,e-t)}function ATe(e,t=Date.now()){return ETe(t)>=e}async function TTe(e,t){const{data:n,error:r}=await Me.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function jTe(e,t,n){const{error:r}=await Me.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const OTe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Dd(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(Dd).join(",")}]`:OTe(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${Dd(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function NTe(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function CTe(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=Dd(t.select(t.store.getState()));const o=NTe(async p=>{try{await jTe(e,t.dbKey,p),a=Dd(p)}catch(b){console.error(`[settings] save failed key=${t.dbKey}`,b)}},n),l=p=>{r=!0;try{t.apply(p),a=Dd(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||l(p)},f=async()=>{const p=await TTe(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const b=t.select(p);Dd(b)!==a&&o(b)});const h=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:f,applyRemote:u,stop:h}}function MTe(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function JS(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function DTe(e){k.useEffect(()=>{if(!e)return;const t=[];t.push(CTe(e,{dbKey:"promptCopy.sections",store:nv,select:o=>o.sections,apply:o=>nv.setState({sections:o}),validate:MTe,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,l,u)=>{const f=r.get(o);f&&window.clearTimeout(f);const h=window.setTimeout(()=>{r.delete(o),u()},l);r.set(o,h)},a=Me.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},l=>{if(ATe(STe)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!JS(l))return;const u=l.new,f=l.old,h=w=>JS(w)&&typeof w.setting_key=="string"?w.setting_key:null,p=w=>JS(w)?w.value:null,b=h(u)??h(f);if(!b)return;const v=t.find(w=>w.dbKey===b);if(!v)return;const S=typeof l.eventType=="string"?l.eventType:"";if(S==="INSERT"||S==="UPDATE"){v.applyRemote(p(u));return}v.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(l)):o.onChange(l)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),Me.removeChannel(a)}},[e])}function PTe({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){k.useEffect(()=>{const r=Me;(async()=>{const{data:o,error:l}=await r.auth.getSession();if(l){t(!1),e(null),n(!0);return}const u=o.session?.user?.id??null;t(!!o.session),e(u),n(!0)})();const{data:{subscription:a}}=r.auth.onAuthStateChange((o,l)=>{const u=l?.user?.id??null;t(!!l),e(u),n(!0),l||wr.getState().stopRealtime()});return()=>{a.unsubscribe()}},[n,t,e])}function RTe(e){PTe({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),DTe(e.userId);const t=k.useRef(null),n=wr(o=>o.migrateLocalToServer),r=wr(o=>o.loadFromServer),i=jn(o=>o.loadFromServer),a=on(o=>o.loadFromServer);k.useEffect(()=>{if(!e.isLoggedIn||!e.userId){t.current=null;return}t.current!==e.userId&&(t.current=e.userId,(async()=>(await a(),await n(),await r(),await i()))())},[e.isLoggedIn,e.userId,a,n,r,i])}function LTe(e){const[t,n]=k.useState(()=>e.length>0?e[0].id:""),[r,i]=k.useState(!1),[a,o]=k.useState(!1),[l,u]=k.useState(null),[f,h]=k.useState(!0),[p,b]=k.useState(!1),[v,S]=k.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:l,setEditing:u,showToday:f,setShowToday:h,showCouple:p,setShowCouple:b,openCustom:v,setOpenCustom:S}}function ITe(e){const t=fi(i=>i.date),n=fi(i=>i.rule),r=vu(e);return k.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=Nv(r,t),a=i>=0?r[i]?.gz??null:null,o=at(t),l=_t(t),u=ft(t,n);return{dae:a,se:o,wol:l,il:u}},[e,r,t,n])}const $Te=e=>typeof e=="string"&&e.length>=2,BTe=e=>Array.isArray(e)&&e.length===4&&e.every($Te);function zTe({list:e,currentId:t,settings:n,emptyMs:r}){const i=k.useMemo(()=>e.find(b=>b.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,l=k.useMemo(()=>oj(o),[o]),u=ITe(o),f=on(b=>b.canAddMyeongsik(e.length).ok),h=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:l,chain:u,isValidPillars:BTe,canAdd:f,voidBasis:h,samjaeBasis:p}}function UTe({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:l,setShowCouple:u,setCurrentId:f,setEditing:h}){const{settings:p,saveToServer:b,loaded:v}=jn();k.useEffect(()=>{!r||!v||b()},[r,v,p,b]);const S=k.useCallback(()=>{if(!e){Tn.error("   1   .");return}i(!0)},[e,i]),w=k.useCallback(()=>{if(!e){Tn.error("   1   .");return}a(!0)},[e,a]),_=k.useCallback(D=>{f(D.id),o(!1),l(!1),u(!1);const P=new Date;P.setHours(12,0,0,0),fi.getState().setDate(P),t&&n?.id===D.id&&(l(!1),u(!1),o(!1))},[n,t,f,o,l,u]),T=k.useCallback(D=>{h(D),f(D.id),o(!1),l(!1),u(!1)},[h,f,o,l,u]),N=k.useCallback(()=>{const D=wr.getState().list[0]?.id??"";f(D),l(!0),u(!1)},[f,l,u]),j=k.useCallback(D=>{f(D.id),l(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[f,l,u,o,i]),C=k.useCallback(D=>{f(D.id),l(!1),u(!1),o(!1)},[f,l,u,o]);return{openAdd:S,openCustomModal:w,handleSidebarView:_,handleSidebarEdit:T,handleSidebarDeleteView:N,handleWizardSave:j,handleCustomSave:C}}function FTe(){return g.jsx("div",{className:"pt-16 pb-24",children:g.jsxs("div",{className:"max-w-[640px] mx-auto px-4",children:[g.jsx("div",{className:"flex items-center justify-between gap-3 mb-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(s5,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-200"}),g.jsx("h2",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"  "})]})}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.   ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.  ",g.jsx("b",{children:""})," ",g.jsx("b",{children:""}),"   .   ,    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:"*"}),"   ",g.jsx("b",{children:" "})," ",g.jsx("b",{children:"8*"}),"  ",g.jsx("b",{children:"   "}),"      ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:" "}),"     ."]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.    . ",g.jsx("b",{children:"*"}),", ",g.jsx("b",{children:"8*"}),"    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:""})," (  8   -  )   ."]}),g.jsxs("p",{className:"mt-2",children:["(    ,    ",g.jsx("b",{children:" "})," .)"]}),g.jsx("p",{className:"mt-2",children:" .    .    ,   ( )     ."})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.     .         ,       ."}),g.jsx("p",{className:"mt-2",children:"    ,      ."}),g.jsxs("p",{className:"mt-2",children:["(   ",g.jsx("b",{children:" "}),"  ^^)",g.jsx("br",{}),g.jsx("a",{href:"https://5seasons.co.kr/",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"   !"})})]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.  ''   ?"}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.      ."}),g.jsx("p",{className:"mt-2",children:"          ^^"}),g.jsx("p",{className:"mt-2",children:g.jsx("a",{href:"https://yavares.tistory.com/345",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"  "})})})]})]})]})]})})}const hF="https://t1.daumcdn.net/kas/static/ba.min.js",HTe="//t1.daumcdn.net/kas/static/ba.min.js";let nm=null,rm=null;function mF(){return typeof window<"u"&&typeof document<"u"}function V3(e){return typeof e=="object"&&e!==null}function pF(){if(!mF())return!1;const e=window;if(!V3(e))return!1;const t=e.adfit;return V3(t)?typeof t.destroy=="function":!1}function gF(){return Array.from(document.querySelectorAll(`script[src="${hF}"], script[src="${HTe}"]`))}function bF(e){return e.getAttribute("data-adfit-scan")==="1"}function GTe(){const t=gF().filter(n=>!bF(n));if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode?.removeChild(r)}}function Z3(){return document.body??document.head??document.documentElement}function QS(e,t){return new Promise((n,r)=>{let i=!1;const a=()=>{e.removeEventListener("load",u),e.removeEventListener("error",f)},o=()=>{i||(i=!0,a(),n())},l=()=>{i||(i=!0,a(),r(new Error("AdFit script load failed")))},u=()=>o(),f=()=>l();e.addEventListener("load",u),e.addEventListener("error",f),window.setTimeout(()=>{pF(),o()},t)})}function X3(e){const t=document.createElement("script");return t.async=!0,t.type="text/javascript",t.charset="utf-8",t.src=hF,e?t.setAttribute("data-adfit-scan","1"):t.setAttribute("data-adfit-managed","1"),t}function a2(e){return mF()?(e?.mode??"boot")==="boot"?nm||(nm=(async()=>{if(GTe(),pF())return{inserted:!1};const r=gF().filter(a=>!bF(a))[0];if(r)return await QS(r,2500),{inserted:!1};const i=X3(!1);return Z3().appendChild(i),await QS(i,4e3),{inserted:!0}})().finally(()=>{nm=null}),nm):rm||(rm=(async()=>{const n=X3(!0);Z3().appendChild(n);try{return await QS(n,4e3),{inserted:!0}}finally{n.parentNode?.removeChild(n)}})().finally(()=>{rm=null}),rm):Promise.resolve({inserted:!1})}function qTe({enabled:e}){return k.useEffect(()=>{e&&a2({mode:"boot"})},[e]),null}function J3(e){return typeof e=="object"&&e!==null}function YTe(e){const t=window;if(!J3(t))return;const n=t.adfit;if(!J3(n))return;const r=n.destroy;if(typeof r=="function")try{r.call(n,e)}catch{}}function hm({adUnit:e,width:t,height:n,enabled:r=!0,isVisible:i=!0,className:a,wrapperStyle:o,reserveSpace:l=!0}){const u=k.useRef(!1),f=k.useRef(!1),h=k.useMemo(()=>({...l?{width:"100%",minHeight:n,display:"flex",justifyContent:"center",alignItems:"flex-start"}:{width:"100%"},...o}),[n,l,o]);return k.useEffect(()=>{if(!r||u.current)return;u.current=!0;let p=!1;return(async()=>{try{if(await a2({mode:"boot"}),p)return}catch{}})(),()=>{p=!0}},[r]),k.useEffect(()=>{if(!r||!i||f.current)return;f.current=!0;let p=!1;return(async()=>{try{if(await a2({mode:"scan"}),p)return}catch{}})(),()=>{p=!0}},[r,i]),k.useEffect(()=>()=>{YTe(e),u.current=!1,f.current=!1},[e]),r?g.jsx("div",{className:a,style:h,children:g.jsx("div",{style:l?{width:t,height:n}:void 0,children:g.jsx("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":e,"data-ad-width":String(t),"data-ad-height":String(n)})})}):null}function KTe({enabled:e,adUnit:t,width:n,height:r,showAfterScrollY:i=180,rightPx:a=16,topPx:o=120,breakpointClassName:l="hidden desk:block"}){const[u,f]=k.useState(!1),[h,p]=k.useState(!1);return k.useEffect(()=>{if(!e){f(!1),p(!1);return}p(!0);let b=0;const v=()=>{b||(b=window.requestAnimationFrame(()=>{b=0;const S=window.scrollY||0;f(S>=i)}))};return v(),window.addEventListener("scroll",v,{passive:!0}),()=>{b&&window.cancelAnimationFrame(b),window.removeEventListener("scroll",v)}},[e,i]),e?g.jsx("div",{className:l,style:{position:"fixed",right:a,top:o,zIndex:60,pointerEvents:"none",visibility:u?"visible":"hidden",opacity:u?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:u?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx(hm,{enabled:h,isVisible:u,adUnit:t,width:n,height:r,wrapperStyle:{display:"flex",justifyContent:"center"}})})})}):null}function yF(){const[e,t]=k.useState(!1),[n,r]=k.useState(!1),[i,a]=k.useState(!1),[o,l]=k.useState(!1),[u,f]=k.useState(!1);k.useEffect(()=>{document.title=" - //";const v=window.setTimeout(()=>t(!0),50),S=window.setTimeout(()=>r(!0),250),w=window.setTimeout(()=>a(!0),450);return()=>{window.clearTimeout(v),window.clearTimeout(S),window.clearTimeout(w)}},[]);const h=()=>u?!0:(_o.error(`   
  .`),!1),p=async()=>{if(!h())return;const{error:v}=await Me.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});v&&(console.error("Google Login Error:",v),_o.error("   ."))},b=async()=>{if(!h())return;const{error:v}=await Me.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:`${window.location.origin}/`}});v&&(console.error("Kakao Login Error:",v),_o.error("   ."))};return g.jsxs("main",{className:`relative py-6 max-h-[70vh] overflow-auto bg-neutral-950 text-white transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[g.jsxs("header",{className:`transform transition-all duration-500 mb-8 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} text-center max-w-[680px]`,children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:""}),g.jsxs("p",{className:"text-sm text-neutral-300 leading-relaxed",children:["      /       .",g.jsx("br",{}),"   /     "]})]}),g.jsxs("section",{className:`w-full max-w-sm mx-auto rounded-2xl bg-neutral-900 p-4 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,"aria-label":"",children:[g.jsx("h2",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),g.jsxs("p",{className:"mb-5 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",g.jsx("br",{}),"      "]}),g.jsx("div",{className:"mb-5 space-y-2",children:g.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:u,onChange:()=>f(!u),className:"mt-[2px]"}),g.jsxs("span",{children:["  .",g.jsx("button",{type:"button",onClick:()=>l(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{type:"button",onClick:p,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),g.jsx("span",{children:"  "})]}),g.jsxs("button",{type:"button",onClick:b,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),g.jsx("span",{children:" "})]})]}),g.jsxs("div",{className:"mt-6 border-t border-neutral-800 pt-4 text-xs text-neutral-400 leading-relaxed",children:[g.jsx("p",{className:"font-semibold text-neutral-300 mb-2",children:"    "}),g.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[g.jsx("li",{children:" /  "}),g.jsx("li",{children:"    "}),g.jsx("li",{children:"/ (  )"})]}),g.jsx("p",{className:"mt-3 text-[11px] text-neutral-500",children:": unique950318@gmail.com   "})]})]}),g.jsx(C$,{position:"top-center",toastOptions:{duration:2e3}}),o&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>l(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:v=>v.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"( )     ,      ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   ,  (,  )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"      ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"           "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"          ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase        ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>l(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function WTe(e){switch(e){case"PERSIST_SAVE":return"    !";case"ADD_LIMIT":return"    !";case"HEADER":return"";default:return""}}function VTe(){const e=wo(i=>i.open),t=wo(i=>i.reason),n=wo(i=>i.close),r=k.useMemo(()=>WTe(t),[t]);return k.useEffect(()=>{if(!e)return;const i=a=>{a.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,n]),k.useEffect(()=>{const{data:i}=Me.auth.onAuthStateChange((a,o)=>{o?.user&&(on.getState().loadFromServer(),jn.getState().loadFromServer(),wr.getState().loadFromServer(),wo.getState().close())});return()=>i.subscription.unsubscribe()},[]),e?g.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 flex items-center justify-center p-4",onClick:n,role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"w-full max-w-[520px] rounded-2xl bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 shadow-xl overflow-hidden",onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:r}),g.jsx("button",{type:"button",onClick:n,className:`w-8 h-8 rounded-full flex items-center justify-center
                       bg-neutral-100 hover:bg-neutral-200
                       dark:bg-neutral-800 dark:hover:bg-neutral-700
                       text-neutral-700 dark:text-neutral-200 cursor-pointer`,"aria-label":"",title:"",children:""})]}),g.jsx("div",{className:"p-4",children:g.jsx(yF,{})})]})}):null}function ZTe(){const e=wo(t=>t.openWith);return g.jsx("div",{className:"max-w-[640px] mx-auto px-3",children:g.jsxs("div",{className:`rounded-xl border border-amber-300/60 bg-amber-50 text-amber-950
                      dark:border-amber-500/30 dark:bg-amber-950/30 dark:text-amber-100
                      shadow-sm px-4 py-3 flex items-center justify-between gap-3`,children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-sm font-semibold truncate",children:"   "}),g.jsx("div",{className:"text-xs opacity-90 mt-0.5 leading-relaxed",children:" /   ."})]}),g.jsxs("button",{type:"button",onClick:()=>e("PERSIST_SAVE"),className:`shrink-0 inline-flex items-center gap-1.5
                     px-3 py-2 rounded-lg text-xs font-semibold
                     bg-amber-500 hover:bg-amber-600 text-white
                     border border-amber-600/30
                     cursor-pointer`,"aria-label":"",title:"",children:[g.jsx(A2,{size:16}),""]})]})})}const uj="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";let im=null;function dj(){return typeof window<"u"&&typeof document<"u"}function vF(){return dj()?Array.from(document.querySelectorAll('script[src*="pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]')):[]}function xF(e,t){const n=`client=${encodeURIComponent(t)}`;return e.includes(n)||e.includes(`client=${t}`)}function Q3(e){return vF().some(n=>{const r=n.getAttribute("src")??"";return r.includes(uj)&&xF(r,e)})}function ek(e){const t=vF().filter(n=>{const r=n.getAttribute("src")??"";return r.includes(uj)&&xF(r,e)});if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode&&r.parentNode.removeChild(r)}}function XTe(e){const t=document.createElement("script");return t.async=!0,t.src=`${uj}?client=${encodeURIComponent(e)}`,t.crossOrigin="anonymous",t}function JTe(e){return new Promise((t,n)=>{const r=()=>t(),i=()=>n(new Error("AdSense script failed to load"));e.addEventListener("load",r,{once:!0}),e.addEventListener("error",i,{once:!0})})}function QTe(e){return typeof e!="object"||e===null||!("push"in e)?!1:typeof e.push=="function"}async function e$(e){if(dj()){if(Q3(e)){ek(e);return}if(im)return im;im=(async()=>{if(Q3(e)){ek(e);return}const t=XTe(e);document.head.appendChild(t),await JTe(t),ek(e)})();try{await im}finally{im=null}}}function eje(e={}){if(!dj())return;const t=window.adsbygoogle;if(Array.isArray(t)){t.push(e);return}if(QTe(t)){t.push(e);return}const n=[];n.push(e),window.adsbygoogle=n}function tje({enabled:e,isVisible:t,clientId:n,slotId:r,width:i,height:a,testMode:o=!1}){const l=k.useRef(!1),u=k.useRef(null);return k.useEffect(()=>{l.current=!1},[n,r,i,a]),k.useEffect(()=>{e&&e$(n).catch(()=>{})},[e,n]),k.useEffect(()=>{if(!e||!t||l.current)return;let f=!0;return(async()=>{try{if(await Promise.resolve(),!f||(await e$(n),!f))return;eje({}),l.current=!0}catch{console.log()}})(),()=>{f=!1}},[e,t,n]),e?g.jsx("ins",{ref:u,className:"adsbygoogle",style:{display:"inline-block",width:i,height:a},"data-ad-client":n,"data-ad-slot":r,...o?{"data-adtest":"on"}:{}}):null}function nje({enabled:e,clientId:t,slotId:n,width:r,height:i,showAfterScrollY:a=180,side:o="left",sidePx:l=16,topPx:u=120,breakpointClassName:f="hidden desk:block"}){const[h,p]=k.useState(!1),[b,v]=k.useState(!1);return k.useEffect(()=>{if(!e){p(!1),v(!1);return}v(!0);let S=0;const w=()=>{S||(S=window.requestAnimationFrame(()=>{S=0;const _=window.scrollY||0;p(_>=a)}))};return w(),window.addEventListener("scroll",w,{passive:!0}),()=>{S&&window.cancelAnimationFrame(S),window.removeEventListener("scroll",w)}},[e,a]),e?g.jsx("div",{className:f,style:{position:"fixed",...o==="left"?{left:l}:{right:l},top:u,zIndex:60,pointerEvents:"none",visibility:h?"visible":"hidden",opacity:h?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:h?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsx(tje,{enabled:b,isVisible:h,clientId:t,slotId:n,width:r,height:i})})})})}):null}const _F="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";function t$(e){return typeof e=="object"&&e!==null&&"push"in e&&typeof e.push=="function"}function rje(){return document.querySelector(`script[src^="${_F}"]`)}async function n$(e){rje()||await new Promise((n,r)=>{const i=document.createElement("script");i.async=!0,i.src=`${_F}?client=${encodeURIComponent(e)}`,i.crossOrigin="anonymous",i.onload=()=>n(),i.onerror=()=>r(new Error("Failed to load adsbygoogle.js")),document.head.appendChild(i)})}function ije(){const e=window.adsbygoogle;if(t$(e)){e.push({});return}window.adsbygoogle||(window.adsbygoogle=[]);const t=window.adsbygoogle;t$(t)&&t.push({})}function aje({enabled:e,clientId:t,slotId:n,heightPx:r=100,maxWidthPx:i=750,marginTopPx:a=0,fullWidthResponsive:o=!0,pushOnVisible:l=!0,testMode:u=!1,className:f,style:h}){const p=k.useRef(null),b=k.useRef(!1),v=k.useMemo(()=>`adsense_banner:${t}:${n}`,[t,n]),[S,w]=k.useState(!l);return k.useEffect(()=>{b.current=!1},[t,n]),k.useEffect(()=>{e&&n$(t).catch(()=>{})},[e,t]),k.useEffect(()=>{if(!e||!l)return;const _=p.current;if(!_)return;const T=new IntersectionObserver(N=>{const j=N[0];j&&j.isIntersecting&&w(!0)},{root:null,threshold:.05});return T.observe(_),()=>T.disconnect()},[e,l]),k.useEffect(()=>{if(!e||!S||b.current)return;let _=!0;return(async()=>{try{if(await n$(t),!_||(await Promise.resolve(),!_))return;ije(),b.current=!0}catch{}})(),()=>{_=!1}},[e,S,t]),e?g.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:a,...h},className:f,children:g.jsx("ins",{ref:p,className:"adsbygoogle",style:{display:"block",width:"100%",height:`${r}px`,maxWidth:`${i}px`},"data-ad-client":t,"data-ad-slot":n,"data-full-width-responsive":o?"true":"false",...u?{"data-adtest":"on"}:{}},v)}):null}const oje="DAN-GW4jrUdfiXklZ12U",sje="DAN-CeRuC0yKzSAs5Gju",lje="DAN-G16gewnPhZou1D9y",cje="DAN-rdKe9ZODmrZR4hho",uje="DAN-INfSKh1pW2cEtWNu",dje={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function fje(){const e=_Te();RTe(e);const t=wTe();return e.authChecked?e.isLoggedIn&&e.adminMode?g.jsx(HU,{}):e.isLoggedIn&&(!t.entLoaded||!t.settingsLoaded)?g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):g.jsx(hje,{isLoggedIn:e.isLoggedIn}):g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:"   ..."})})}function hje({isLoggedIn:e}){const{list:t}=wr(),n=jn(_=>_.settings),r=LTe(t),i=zTe({list:t,currentId:r.currentId,settings:n,emptyMs:dje}),a=UTe({canAdd:i.canAdd,hasCurrent:i.hasCurrent,current:i.current,isLoggedIn:e,setWizardOpen:r.setWizardOpen,setOpenCustom:r.setOpenCustom,setShowSidebar:r.setShowSidebar,setShowToday:r.setShowToday,setShowCouple:r.setShowCouple,setCurrentId:r.setCurrentId,setEditing:r.setEditing}),[o,l]=k.useState(!1);k.useEffect(()=>{(r.wizardOpen||r.editing)&&l(!1)},[r.wizardOpen,r.editing]);const u=on(_=>_.shouldShowAdsNow()),f=i.hasCurrent&&!r.showToday&&!r.showCouple&&!o&&!r.wizardOpen&&!r.editing,h=r.showToday||!i.hasCurrent&&!r.showCouple&&!o&&!r.wizardOpen&&!r.editing,p=!e&&i.hasCurrent&&f,b=!e&&!f,[v,S]=k.useState(!1),w=(..._)=>{l(!1),r.setShowToday(!1),r.setShowCouple(!1),a.handleSidebarView(..._)};return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(qTe,{enabled:u}),u&&f&&g.jsx(nje,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(KTe,{enabled:u,adUnit:uje,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsx(Rue,{isLoggedIn:e,onOpenSidebar:()=>r.setShowSidebar(!0),onAddNew:a.openAdd,onOpenCustom:a.openCustomModal}),g.jsx(VTe,{}),v&&g.jsxs("div",{className:"fixed inset-0 z-[210] bg-black/70 flex items-center justify-center",children:[g.jsx("div",{className:"w-full max-w-[420px] max-h-[90dvh] overflow-auto rounded-2xl",children:g.jsx(yF,{})}),g.jsx("button",{className:"fixed top-4 right-4 text-white text-2xl",onClick:()=>S(!1),children:""})]}),g.jsx(J2e,{open:r.openCustom,onClose:()=>r.setOpenCustom(!1),onSave:a.handleCustomSave}),g.jsx(C$,{position:"top-center"}),g.jsx(Sde,{open:r.showSidebar,onClose:()=>r.setShowSidebar(!1),onView:w,onAddNew:a.openAdd,onEdit:a.handleSidebarEdit,onDeleteView:a.handleSidebarDeleteView,isLoggedIn:e}),b&&g.jsx("div",{className:"absolute w-full left-0 mt-14 desk:mt-16 text-xs desk:text-base text-amber-500 dark:text-amber-400 text-center",children:" .    ."}),o&&g.jsx(FTe,{}),h&&g.jsx(YV,{}),r.wizardOpen&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:g.jsx(Gne,{onSave:a.handleWizardSave,onClose:()=>r.setWizardOpen(!1)})})})]}),i.hasCurrent&&!r.showToday&&!r.showCouple&&!o&&g.jsxs("div",{className:"pt-16",children:[p&&g.jsx("div",{children:g.jsx(ZTe,{})}),g.jsx("div",{className:"pb-4",children:g.jsx(aoe,{data:i.current,hourTable:i.current?.mingSikType??"/"})}),g.jsx(T2e,{ms:i.current}),g.jsx("div",{children:g.jsx(Pue,{data:i.current})}),u&&f&&n.showPromptBox&&g.jsx("div",{className:"max-w-[760px] mx-auto px-3 mt-6 mb-2",children:g.jsx(aje,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"3868873416",heightPx:100,maxWidthPx:750,marginTopPx:10,fullWidthResponsive:!0,testMode:!1})}),n.showPromptBox&&g.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:g.jsx(xTe,{ms:i.current,natal:i.isValidPillars(i.natal)?i.natal:[],chain:i.chain,basis:{voidBasis:i.voidBasis,samjaeBasis:i.samjaeBasis},includeTenGod:!0,lunarPillars:[]})}),u&&f&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 pb-6",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(hm,{enabled:!0,adUnit:cje,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(hm,{enabled:!0,adUnit:lje,width:320,height:50})})]})]}),r.showCouple&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(k2e,{people:t})}),u&&!f&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-1 mb-2",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(hm,{enabled:!0,adUnit:sje,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(hm,{enabled:!0,adUnit:oje,width:320,height:50})})]}),r.editing&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx($de,{item:r.editing,onClose:()=>r.setEditing(null)})})}),g.jsx(Gue,{onShowToday:()=>{l(!1),r.setShowToday(!0),r.setShowCouple(!1)},onShowCouple:()=>{l(!1),r.setShowCouple(!0),r.setShowToday(!1)},onShowFaq:()=>{r.setShowToday(!1),r.setShowCouple(!1),l(!0)}}),g.jsx(E2e,{})]})}function mje(){const e=Hi(),[t,n]=k.useState(null),[r,i]=k.useState(null);return k.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),g.jsxs("div",{className:"p-4 text-white",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),g.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),g.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function pje(){const e=Hi(),t=ov(),[n,r]=k.useState("  ...");return k.useEffect(()=>{(async()=>{try{const a=new URLSearchParams(e.search),o=a.get("error"),l=a.get("error_description");if(o){r(` : ${decodeURIComponent(l??o)}`);return}const u=a.get("code");if(!u){r(" code . (redirectTo/PKCE  )");return}const{error:f}=await Me.auth.exchangeCodeForSession(u);if(f){r(`  : ${f.message}`);return}t("/",{replace:!0})}catch(a){r(a instanceof Error?a.message:"   ")}})()},[e.search,t]),g.jsx("main",{className:"min-h-screen flex items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:n})})}function gje(e){return typeof e=="object"&&e!==null}function bje(e){if(!gje(e))return null;const t=typeof e.ok=="boolean"?e.ok:void 0,n=typeof e.total_active_ms=="number"?e.total_active_ms:void 0,r=typeof e.upgraded_to_basic=="boolean"?e.upgraded_to_basic:void 0;return{ok:t,total_active_ms:n,upgraded_to_basic:r}}function wF({enabled:e=!0,intervalMs:t=6e4,path:n,onBasicUnlocked:r,onTotalActiveMs:i}){const a=k.useRef(!1),o=k.useRef(""),l=k.useRef(!1),u=k.useRef(null),f=k.useRef(null),h=k.useRef(null),p=k.useRef(0);return k.useEffect(()=>{o.current=n??""},[n]),k.useEffect(()=>{let b=null;return(async()=>{const{data:S}=await Me.auth.getSession();u.current=S.session?.user?.id??null;const _=Me.auth.onAuthStateChange((T,N)=>{u.current=N?.user?.id??null,l.current=!1}).data?.subscription;_&&typeof _.unsubscribe=="function"&&(b=()=>_.unsubscribe())})(),()=>{b&&b()}},[]),k.useEffect(()=>{if(!e)return;const b=async w=>{if(document.visibilityState!=="visible")return;const _=Date.now();if(!(w!=="init"&&_-p.current<1e4)&&(p.current=_,!a.current)){a.current=!0;try{if(!u.current)return;const N=o.current||null,{data:j,error:C}=await Me.rpc("ping_activity",{p_last_path:N});if(C)return;const D=bje(j);if(!D)return;typeof D.total_active_ms=="number"&&i?.(D.total_active_ms),D.upgraded_to_basic===!0&&!l.current&&(l.current=!0,r?.())}finally{a.current=!1}}};b("init");const v=Math.floor(Math.random()*5e3);h.current=window.setTimeout(()=>{b("interval"),f.current=window.setInterval(()=>void b("interval"),t)},v);const S=()=>{document.visibilityState==="visible"&&b("visible")};return document.addEventListener("visibilitychange",S),()=>{document.removeEventListener("visibilitychange",S),h.current!==null&&(window.clearTimeout(h.current),h.current=null),f.current!==null&&(window.clearInterval(f.current),f.current=null)}},[e,t,r,i]),null}function yje(){const e=wr(i=>i.loadFromServer),t=jn(i=>i.loadFromServer),n=on(i=>i.loadFromServer),r=k.useCallback(()=>{n(),t(),e()},[n,t,e]);return k.useEffect(()=>{r();const{data:i}=Me.auth.onAuthStateChange(()=>{r()});return()=>{i.subscription.unsubscribe()}},[r]),null}function vje(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function xje(e,t){try{localStorage.setItem(e,String(t))}catch{}}function _je(e){return e<=0?0:Math.floor(Math.random()*e)}function wje({enabled:e=!0,href:t="https://open.kakao.com/o/sjBRz57h",hintTexts:n=["    !"," .",",  ."," ,   ,  !","  !  ! "],hideHintHours:r=24,cycleMs:i=4200,mobilePaddingX:a=0,bottomDockCssVarName:o="--bottom-dock"}){const l=k.useMemo(()=>"kakao_chat_hint_hide_until",[]),[u,f]=k.useState(!1),[h,p]=k.useState(()=>_je(n.length)),b=k.useRef(null),v=k.useCallback(_=>{if(typeof document>"u")return;const T=`${Math.max(0,Math.floor(_))}px`;document.documentElement.style.setProperty(o,T)},[o]);if(k.useEffect(()=>{if(n.length<=0){p(0);return}p(_=>_%n.length)},[n.length]),k.useEffect(()=>{if(!e){f(!1);return}const _=vje(l),T=Date.now();if(_>T){f(!1);return}const N=window.setTimeout(()=>f(!0),900);return()=>window.clearTimeout(N)},[e,l]),k.useEffect(()=>{if(!e||!u||n.length<=1)return;const _=window.setInterval(()=>{p(T=>T+1>=n.length?0:T+1)},i);return()=>window.clearInterval(_)},[e,u,n.length,i]),k.useEffect(()=>{if(!e||!u){v(0);return}const _=b.current;if(!_){v(0);return}const T=()=>{const N=Math.ceil(_.getBoundingClientRect().height);v(N)};if(T(),typeof ResizeObserver<"u"){const N=new ResizeObserver(T);return N.observe(_),()=>{N.disconnect(),v(0)}}return window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T),v(0)}},[e,u,v]),!e)return null;const S=()=>{xje(l,Date.now()+r*60*60*1e3),f(!1),v(0)},w=n[h]??"";return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:`
        @keyframes hintFadeCycle {
          0%   { opacity: 0; transform: translate3d(0, 6px, 0); }
          14%  { opacity: 1; transform: translate3d(0, 0, 0); }
          78%  { opacity: 1; transform: translate3d(0, 0, 0); }
          100% { opacity: 0; transform: translate3d(0, -2px, 0); }
        }
      `}),u&&n.length>0?g.jsx("div",{ref:b,className:"desk:hidden fixed left-0 right-0 bottom-0 z-[99] pointer-events-none",style:{paddingLeft:a,paddingRight:a,paddingBottom:0},children:g.jsxs("div",{className:"pointer-events-auto w-full border border-neutral-700 bg-neutral-900/95 text-white shadow-lg",style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:10,padding:"4px 8px"},children:[g.jsx("div",{className:"min-w-0 text-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},title:w,children:w}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("button",{type:"button",onClick:S,"aria-label":" ",title:"",className:"w-8 h-8 rounded-full bg-neutral-800 border border-neutral-700 text-[14px] flex items-center justify-center hover:bg-neutral-700",children:g.jsx(Gb,{})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`w-8 h-8 rounded-full bg-neutral-800 hover:bg-neutral-700 border border-neutral-700
                           flex items-center justify-center transition-colors`,children:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}):null,g.jsxs("div",{className:"hidden desk:block fixed right-5 bottom-5 z-[999]",children:[u&&n.length>0&&g.jsx("div",{className:"absolute bottom-14 right-0 w-max max-w-[260px]",children:g.jsxs("div",{className:"relative rounded-xl bg-neutral-900 text-white border border-neutral-700 shadow-lg px-3 py-2 text-xs whitespace-pre-line",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},children:[w,g.jsx("button",{type:"button",onClick:S,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-neutral-800 border border-neutral-700 text-[12px] flex items-center justify-center hover:bg-neutral-700 cursor-pointer","aria-label":" ",title:"",children:g.jsx(Gb,{size:12})}),g.jsx("div",{className:"absolute -bottom-2 right-4 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-neutral-900"})]})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`flex items-center justify-center w-12 h-12 rounded-full shadow-lg
                     bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 transition-colors`,children:g.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}function Sje(e){const t=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],n=[];for(let r=0;r<e;r+=1)n.push({leftPct:Math.random()*100,size:6+Math.floor(Math.random()*8),delayMs:Math.floor(Math.random()*300),durationMs:1200+Math.floor(Math.random()*900),rotate:Math.floor(Math.random()*360),driftPx:-40+Math.floor(Math.random()*80),color:t[r%t.length]});return n}function kje({open:e,onClose:t}){const n=k.useMemo(()=>Sje(48),[]);return k.useEffect(()=>{if(!e)return;const r=a=>{a.key==="Escape"&&t()};window.addEventListener("keydown",r);const i=window.setTimeout(()=>t(),6e3);return()=>{window.removeEventListener("keydown",r),window.clearTimeout(i)}},[e,t]),e?g.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center",children:[g.jsx("style",{children:`
        @keyframes confettiFall {
          0%   { transform: translate3d(var(--dx), -20px, 0) rotate(var(--rot)); opacity: 0; }
          10%  { opacity: 1; }
          100% { transform: translate3d(var(--dx), 560px, 0) rotate(calc(var(--rot) + 360deg)); opacity: 0; }
        }
        @keyframes pop {
          0% { transform: scale(0.98); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
      `}),g.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:n.map((r,i)=>{const a={position:"absolute",top:0,left:`${r.leftPct}%`,width:r.size,height:Math.max(8,r.size+6),background:r.color,borderRadius:2,transform:`rotate(${r.rotate}deg)`,animation:`confettiFall ${r.durationMs}ms ease-out ${r.delayMs}ms forwards`,"--dx":`${r.driftPx}px`,"--rot":`${r.rotate}deg`};return g.jsx("span",{style:a},i)})}),g.jsxs("div",{className:`relative w-[92%] max-w-[420px] rounded-2xl bg-white dark:bg-neutral-950
                   border border-neutral-200 dark:border-neutral-800 shadow-xl p-5`,style:{animation:"pop 160ms ease-out"},children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("div",{className:"text-xl font-extrabold text-neutral-900 dark:text-neutral-50",children:"BASIC  !"}),g.jsx("div",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:"     ! "})]}),g.jsx("div",{className:"mt-4 flex justify-center gap-2",children:g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-900 text-white hover:bg-neutral-800 cursor-pointer",children:""})})]})]}):null}function r$(e){if(typeof e!="string")return"FREE";const t=e.toUpperCase();return t==="BASIC"?"BASIC":t==="PRO"?"PRO":"FREE"}function Eje(){const e=Hi(),t=e.pathname+e.search,n=!e.pathname.startsWith("/admin")&&!e.pathname.startsWith("/impersonate")&&!e.pathname.startsWith("/auth/callback"),[r,i]=k.useState(!1),a=on(b=>b.loaded),o=on(b=>b.loading),l=on(b=>b.userId),u=on(b=>r$(b.plan)),f=k.useRef(!1);k.useEffect(()=>{n&&(a||o||on.getState().loadFromServer())},[n,a,o]);const h=k.useCallback(async()=>{if(f.current)return;f.current=!0;const{data:b,error:v}=await Me.rpc("mark_basic_celebrated");if(v){console.warn("[basic celebration] rpc error:",v.message);return}b===!0&&i(!0)},[]);k.useEffect(()=>{n&&a&&l&&u==="BASIC"&&h()},[n,a,l,u,h]);const p=k.useCallback(()=>{(async()=>(await on.getState().loadFromServer(),r$(on.getState().plan)==="BASIC"&&(f.current=!1,await h())))()},[h]);return g.jsxs(g.Fragment,{children:[g.jsx(wF,{enabled:n,path:t,onBasicUnlocked:p}),g.jsx(wje,{enabled:n}),g.jsx(kje,{open:r,onClose:()=>i(!1)})]})}function Aje(e){return typeof e=="object"&&e!==null}function Tje(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!Aje(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}function jje(){const e=ov(),t=Hi(),n=k.useRef(!1);return k.useEffect(()=>{const r=async()=>{if(!n.current){n.current=!0;try{const{data:o}=await Me.auth.getSession(),l=o.session?.user?.id??null;if(!l)return;const{data:u,error:f}=await Me.rpc("get_my_account_status");if(!f){!!Tje(u)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0});return}const{data:h,error:p}=await Me.from("profiles").select("disabled_at").eq("user_id",l).maybeSingle();if(p)return;(h?.disabled_at??null)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0})}finally{n.current=!1}}};r();const{data:i}=Me.auth.onAuthStateChange(()=>{r()}),a=()=>{document.visibilityState==="visible"&&r()};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a),i.subscription.unsubscribe()}},[e,t.pathname]),null}function Oje(e){return typeof e=="object"&&e!==null}function Nje(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!Oje(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}const Cje=Mo((e,t)=>({loaded:!1,loading:!1,userId:null,disabledAt:null,reset:()=>{e({loaded:!0,loading:!1,userId:null,disabledAt:null})},loadFromServer:async n=>{if(!t().loading){e({loading:!0,userId:n});try{const{data:i,error:a}=await Me.rpc("get_my_account_status");if(!a){const f=Nje(i);e({loaded:!0,loading:!1,disabledAt:f});return}const{data:o,error:l}=await Me.from("profiles").select("disabled_at").eq("user_id",n).maybeSingle();if(l){console.error("[accountStatus] load error:",l),e({loaded:!0,loading:!1,disabledAt:null});return}const u=o?.disabled_at??null;e({loaded:!0,loading:!1,disabledAt:typeof u=="string"?u:null})}catch(i){console.error("[accountStatus] exception:",i),e({loaded:!0,loading:!1,disabledAt:null})}}}}));function Mje(e){if(!e)return"-";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toLocaleString():e}function Dje(){const e=Cje(n=>n.disabledAt),t=k.useCallback(async()=>{try{await Me.auth.signOut(),window.location.href="/"}catch(n){console.error("signOut error:",n),window.location.href="/"}},[]);return g.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 text-white",children:g.jsxs("div",{className:"w-full max-w-[520px] bg-neutral-900 border border-neutral-700 rounded-xl p-6",children:[g.jsx("h1",{className:"text-2xl font-bold mb-3",children:" "}),g.jsxs("div",{className:"text-sm text-neutral-300 leading-6",children:["        .",g.jsx("span",{className:"font-semibold text-neutral-100",children:Mje(e)})]}),g.jsx("div",{className:"mt-5 p-3 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-300",children:"    ."}),g.jsxs("div",{className:"mt-6 flex gap-2",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-600 cursor-pointer",children:""})]})]})})}function Pje(){return g.jsxs(g.Fragment,{children:[g.jsx(yje,{}),g.jsx(Eje,{}),g.jsx(jje,{}),g.jsx(wF,{}),g.jsxs(UG,{children:[g.jsx(Bc,{path:"/auth/callback",element:g.jsx(pje,{})}),g.jsx(Bc,{path:"/disabled",element:g.jsx(Dje,{})}),g.jsx(Bc,{path:"/",element:g.jsx(fje,{})}),g.jsx(Bc,{path:"/admin",element:g.jsx(HU,{})}),g.jsx(Bc,{path:"/impersonate",element:g.jsx(mje,{})}),g.jsx(Bc,{path:"*",element:g.jsx(BG,{to:"/",replace:!0})})]})]})}WH.createRoot(document.getElementById("root")).render(g.jsx(k.StrictMode,{children:g.jsx(uq,{children:g.jsx(Pje,{})})}));
