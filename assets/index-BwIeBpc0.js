function zk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fm(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var cw={exports:{}},wh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN;function VF(){if(IN)return wh;IN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return wh.Fragment=t,wh.jsx=n,wh.jsxs=n,wh}var $N;function ZF(){return $N||($N=1,cw.exports=VF()),cw.exports}var x=ZF();const A3="harim.theme",US="harim.settings.v1";function T3(){try{const e=localStorage.getItem(A3);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(US);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function O3(e){try{localStorage.setItem(A3,e);const t=localStorage.getItem(US),n=t?JSON.parse(t):{};localStorage.setItem(US,JSON.stringify({...n,theme:e}))}catch{}}function j3(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=T3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");j3(e)}catch{}})();var uw={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BN;function XF(){if(BN)return rt;BN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function T(B,W,ae){this.props=B,this.context=W,this.refs=E,this.updater=ae||w}T.prototype.isReactComponent={},T.prototype.setState=function(B,W){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,W,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=T.prototype;function O(B,W,ae){this.props=B,this.context=W,this.refs=E,this.updater=ae||w}var P=O.prototype=new N;P.constructor=O,_(P,T.prototype),P.isPureReactComponent=!0;var M=Array.isArray;function D(){}var $={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function q(B,W,ae){var V=ae.ref;return{$$typeof:e,type:B,key:W,ref:V!==void 0?V:null,props:ae}}function K(B,W){return q(B.type,W,B.props)}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function z(B){var W={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ae){return W[ae]})}var Z=/\/+/g;function Q(B,W){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):W.toString(36)}function J(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(D,D):(B.status="pending",B.then(function(W){B.status==="pending"&&(B.status="fulfilled",B.value=W)},function(W){B.status==="pending"&&(B.status="rejected",B.reason=W)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Y(B,W,ae,V,oe){var me=typeof B;(me==="undefined"||me==="boolean")&&(B=null);var pe=!1;if(B===null)pe=!0;else switch(me){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(B.$$typeof){case e:case t:pe=!0;break;case m:return pe=B._init,Y(pe(B._payload),W,ae,V,oe)}}if(pe)return oe=oe(B),pe=V===""?"."+Q(B,0):V,M(oe)?(ae="",pe!=null&&(ae=pe.replace(Z,"$&/")+"/"),Y(oe,W,ae,"",function(Oe){return Oe})):oe!=null&&(F(oe)&&(oe=K(oe,ae+(oe.key==null||B&&B.key===oe.key?"":(""+oe.key).replace(Z,"$&/")+"/")+pe)),W.push(oe)),1;pe=0;var be=V===""?".":V+":";if(M(B))for(var ne=0;ne<B.length;ne++)V=B[ne],me=be+Q(V,ne),pe+=Y(V,W,ae,me,oe);else if(ne=v(B),typeof ne=="function")for(B=ne.call(B),ne=0;!(V=B.next()).done;)V=V.value,me=be+Q(V,ne++),pe+=Y(V,W,ae,me,oe);else if(me==="object"){if(typeof B.then=="function")return Y(J(B),W,ae,V,oe);throw W=String(B),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return pe}function X(B,W,ae){if(B==null)return B;var V=[],oe=0;return Y(B,V,"","",function(me){return W.call(ae,me,oe++)}),V}function re(B){if(B._status===-1){var W=B._result;W=W(),W.then(function(ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=ae)},function(ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=ae)}),B._status===-1&&(B._status=0,B._result=W)}if(B._status===1)return B._result.default;throw B._result}var ue=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},se={map:X,forEach:function(B,W,ae){X(B,function(){W.apply(this,arguments)},ae)},count:function(B){var W=0;return X(B,function(){W++}),W},toArray:function(B){return X(B,function(W){return W})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return rt.Activity=p,rt.Children=se,rt.Component=T,rt.Fragment=n,rt.Profiler=i,rt.PureComponent=O,rt.StrictMode=r,rt.Suspense=u,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,rt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return $.H.useMemoCache(B)}},rt.cache=function(B){return function(){return B.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(B,W,ae){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var V=_({},B.props),oe=B.key;if(W!=null)for(me in W.key!==void 0&&(oe=""+W.key),W)!H.call(W,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&W.ref===void 0||(V[me]=W[me]);var me=arguments.length-2;if(me===1)V.children=ae;else if(1<me){for(var pe=Array(me),be=0;be<me;be++)pe[be]=arguments[be+2];V.children=pe}return q(B.type,oe,V)},rt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},rt.createElement=function(B,W,ae){var V,oe={},me=null;if(W!=null)for(V in W.key!==void 0&&(me=""+W.key),W)H.call(W,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(oe[V]=W[V]);var pe=arguments.length-2;if(pe===1)oe.children=ae;else if(1<pe){for(var be=Array(pe),ne=0;ne<pe;ne++)be[ne]=arguments[ne+2];oe.children=be}if(B&&B.defaultProps)for(V in pe=B.defaultProps,pe)oe[V]===void 0&&(oe[V]=pe[V]);return q(B,me,oe)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(B){return{$$typeof:c,render:B}},rt.isValidElement=F,rt.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:re}},rt.memo=function(B,W){return{$$typeof:f,type:B,compare:W===void 0?null:W}},rt.startTransition=function(B){var W=$.T,ae={};$.T=ae;try{var V=B(),oe=$.S;oe!==null&&oe(ae,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(D,ue)}catch(me){ue(me)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),$.T=W}},rt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},rt.use=function(B){return $.H.use(B)},rt.useActionState=function(B,W,ae){return $.H.useActionState(B,W,ae)},rt.useCallback=function(B,W){return $.H.useCallback(B,W)},rt.useContext=function(B){return $.H.useContext(B)},rt.useDebugValue=function(){},rt.useDeferredValue=function(B,W){return $.H.useDeferredValue(B,W)},rt.useEffect=function(B,W){return $.H.useEffect(B,W)},rt.useEffectEvent=function(B){return $.H.useEffectEvent(B)},rt.useId=function(){return $.H.useId()},rt.useImperativeHandle=function(B,W,ae){return $.H.useImperativeHandle(B,W,ae)},rt.useInsertionEffect=function(B,W){return $.H.useInsertionEffect(B,W)},rt.useLayoutEffect=function(B,W){return $.H.useLayoutEffect(B,W)},rt.useMemo=function(B,W){return $.H.useMemo(B,W)},rt.useOptimistic=function(B,W){return $.H.useOptimistic(B,W)},rt.useReducer=function(B,W,ae){return $.H.useReducer(B,W,ae)},rt.useRef=function(B){return $.H.useRef(B)},rt.useState=function(B){return $.H.useState(B)},rt.useSyncExternalStore=function(B,W,ae){return $.H.useSyncExternalStore(B,W,ae)},rt.useTransition=function(){return $.H.useTransition()},rt.version="19.2.1",rt}var zN;function Xd(){return zN||(zN=1,uw.exports=XF()),uw.exports}var S=Xd();const Wt=di(S),JF=zk({__proto__:null,default:Wt},[S]);var dw={exports:{}},Sh={},fw={exports:{}},hw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN;function QF(){return UN||(UN=1,(function(e){function t(Y,X){var re=Y.length;Y.push(X);e:for(;0<re;){var ue=re-1>>>1,se=Y[ue];if(0<i(se,X))Y[ue]=X,Y[re]=se,re=ue;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var X=Y[0],re=Y.pop();if(re!==X){Y[0]=re;e:for(var ue=0,se=Y.length,B=se>>>1;ue<B;){var W=2*(ue+1)-1,ae=Y[W],V=W+1,oe=Y[V];if(0>i(ae,re))V<se&&0>i(oe,ae)?(Y[ue]=oe,Y[V]=re,ue=V):(Y[ue]=ae,Y[W]=re,ue=W);else if(V<se&&0>i(oe,re))Y[ue]=oe,Y[V]=re,ue=V;else break e}}return X}function i(Y,X){var re=Y.sortIndex-X.sortIndex;return re!==0?re:Y.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],f=[],m=1,p=null,g=3,v=!1,w=!1,_=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(Y){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=Y)r(f),X.sortIndex=X.expirationTime,t(u,X);else break;X=n(f)}}function M(Y){if(_=!1,P(Y),!w)if(n(u)!==null)w=!0,D||(D=!0,z());else{var X=n(f);X!==null&&J(M,X.startTime-Y)}}var D=!1,$=-1,H=5,q=-1;function K(){return E?!0:!(e.unstable_now()-q<H)}function F(){if(E=!1,D){var Y=e.unstable_now();q=Y;var X=!0;try{e:{w=!1,_&&(_=!1,N($),$=-1),v=!0;var re=g;try{t:{for(P(Y),p=n(u);p!==null&&!(p.expirationTime>Y&&K());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var se=ue(p.expirationTime<=Y);if(Y=e.unstable_now(),typeof se=="function"){p.callback=se,P(Y),X=!0;break t}p===n(u)&&r(u),P(Y)}else r(u);p=n(u)}if(p!==null)X=!0;else{var B=n(f);B!==null&&J(M,B.startTime-Y),X=!1}}break e}finally{p=null,g=re,v=!1}X=void 0}}finally{X?z():D=!1}}}var z;if(typeof O=="function")z=function(){O(F)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Q=Z.port2;Z.port1.onmessage=F,z=function(){Q.postMessage(null)}}else z=function(){T(F,0)};function J(Y,X){$=T(function(){Y(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var re=g;g=X;try{return Y()}finally{g=re}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(Y,X){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=g;g=Y;try{return X()}finally{g=re}},e.unstable_scheduleCallback=function(Y,X,re){var ue=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ue+re:ue):re=ue,Y){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=re+se,Y={id:m++,callback:X,priorityLevel:Y,startTime:re,expirationTime:se,sortIndex:-1},re>ue?(Y.sortIndex=re,t(f,Y),n(u)===null&&Y===n(f)&&(_?(N($),$=-1):_=!0,J(M,re-ue))):(Y.sortIndex=se,t(u,Y),w||v||(w=!0,D||(D=!0,z()))),Y},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(Y){var X=g;return function(){var re=g;g=X;try{return Y.apply(this,arguments)}finally{g=re}}}})(hw)),hw}var FN;function eH(){return FN||(FN=1,fw.exports=QF()),fw.exports}var mw={exports:{}},Sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HN;function tH(){if(HN)return Sr;HN=1;var e=Xd();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:m}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sr.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(u,f,null,m)},Sr.flushSync=function(u){var f=o.T,m=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=m,r.d.f()}},Sr.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Sr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Sr.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):m==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Sr.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Sr.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(u,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Sr.preloadModule=function(u,f){if(typeof u=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Sr.requestFormReset=function(u){r.d.r(u)},Sr.unstable_batchedUpdates=function(u,f){return u(f)},Sr.useFormState=function(u,f,m){return o.H.useFormState(u,f,m)},Sr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Sr.version="19.2.1",Sr}var GN;function N3(){if(GN)return mw.exports;GN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mw.exports=tH(),mw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qN;function nH(){if(qN)return Sh;qN=1;var e=eH(),t=Xd(),n=N3();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,b=l;;){var A=h.return;if(A===null)break;var j=A.alternate;if(j===null){if(b=A.return,b!==null){h=b;continue}break}if(A.child===j.child){for(j=A.child;j;){if(j===h)return u(A),s;if(j===b)return u(A),l;j=j.sibling}throw Error(r(188))}if(h.return!==b.return)h=A,b=j;else{for(var I=!1,G=A.child;G;){if(G===h){I=!0,h=A,b=j;break}if(G===b){I=!0,b=A,h=j;break}G=G.sibling}if(!I){for(G=j.child;G;){if(G===h){I=!0,h=j,b=A;break}if(G===b){I=!0,b=j,h=A;break}G=G.sibling}if(!I)throw Error(r(189))}}if(h.alternate!==b)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function m(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=m(s),l!==null)return l;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Symbol.for("react.client.reference");function Q(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case O:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case P:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return l=s.displayName||null,l!==null?l:Q(s.type)||"Memo";case H:l=s._payload,s=s._init;try{return Q(s(l))}catch{}}return null}var J=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ue=[],se=-1;function B(s){return{current:s}}function W(s){0>se||(s.current=ue[se],ue[se]=null,se--)}function ae(s,l){se++,ue[se]=s.current,s.current=l}var V=B(null),oe=B(null),me=B(null),pe=B(null);function be(s,l){switch(ae(me,l),ae(oe,s),ae(V,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?oN(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=oN(l),s=sN(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(V),ae(V,s)}function ne(){W(V),W(oe),W(me)}function Oe(s){s.memoizedState!==null&&ae(pe,s);var l=V.current,h=sN(l,s.type);l!==h&&(ae(oe,s),ae(V,h))}function Ce(s){oe.current===s&&(W(V),W(oe)),pe.current===s&&(W(pe),bh._currentValue=re)}var ve,Ze;function Ne(s){if(ve===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);ve=l&&l[1]||"",Ze=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+s+Ze}var _e=!1;function je(s,l){if(!s||_e)return"";_e=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(l){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(xe){var ye=xe}Reflect.construct(s,[],Te)}else{try{Te.call()}catch(xe){ye=xe}s.call(Te.prototype)}}else{try{throw Error()}catch(xe){ye=xe}(Te=s())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(xe){if(xe&&ye&&typeof xe.stack=="string")return[xe.stack,ye.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=b.DetermineComponentFrameRoot(),I=j[0],G=j[1];if(I&&G){var te=I.split(`
`),he=G.split(`
`);for(A=b=0;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;for(;A<he.length&&!he[A].includes("DetermineComponentFrameRoot");)A++;if(b===te.length||A===he.length)for(b=te.length-1,A=he.length-1;1<=b&&0<=A&&te[b]!==he[A];)A--;for(;1<=b&&0<=A;b--,A--)if(te[b]!==he[A]){if(b!==1||A!==1)do if(b--,A--,0>A||te[b]!==he[A]){var Ee=`
`+te[b].replace(" at new "," at ");return s.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",s.displayName)),Ee}while(1<=b&&0<=A);break}}}finally{_e=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Ne(h):""}function Ie(s,l){switch(s.tag){case 26:case 27:case 5:return Ne(s.type);case 16:return Ne("Lazy");case 13:return s.child!==l&&l!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return je(s.type,!1);case 11:return je(s.type.render,!1);case 1:return je(s.type,!0);case 31:return Ne("Activity");default:return""}}function Ve(s){try{var l="",h=null;do l+=Ie(s,h),h=s,s=s.return;while(s);return l}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var bt=Object.prototype.hasOwnProperty,xt=e.unstable_scheduleCallback,Pt=e.unstable_cancelCallback,fe=e.unstable_shouldYield,Me=e.unstable_requestPaint,Be=e.unstable_now,lt=e.unstable_getCurrentPriorityLevel,jt=e.unstable_ImmediatePriority,yt=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,mi=e.unstable_LowPriority,pi=e.unstable_IdlePriority,Cs=e.log,Ms=e.unstable_setDisableYieldValue,qt=null,hn=null;function gi(s){if(typeof Cs=="function"&&Ms(s),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(qt,s)}catch{}}var Or=Math.clz32?Math.clz32:px,Ll=Math.log,mx=Math.LN2;function px(s){return s>>>=0,s===0?32:31-(Ll(s)/mx|0)|0}var Il=256,$l=262144,Bl=4194304;function No(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function cu(s,l,h){var b=s.pendingLanes;if(b===0)return 0;var A=0,j=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var G=b&134217727;return G!==0?(b=G&~j,b!==0?A=No(b):(I&=G,I!==0?A=No(I):h||(h=G&~s,h!==0&&(A=No(h))))):(G=b&~j,G!==0?A=No(G):I!==0?A=No(I):h||(h=b&~s,h!==0&&(A=No(h)))),A===0?0:l!==0&&l!==A&&(l&j)===0&&(j=A&-A,h=l&-l,j>=h||j===32&&(h&4194048)!==0)?l:A}function zl(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function gx(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ap(){var s=Bl;return Bl<<=1,(Bl&62914560)===0&&(Bl=4194304),s}function xf(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function Co(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function yx(s,l,h,b,A,j){var I=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,he=s.hiddenUpdates;for(h=I&~h;0<h;){var Ee=31-Or(h),Te=1<<Ee;G[Ee]=0,te[Ee]=-1;var ye=he[Ee];if(ye!==null)for(he[Ee]=null,Ee=0;Ee<ye.length;Ee++){var xe=ye[Ee];xe!==null&&(xe.lane&=-536870913)}h&=~Te}b!==0&&Tp(s,b,0),j!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=j&~(I&~l))}function Tp(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var b=31-Or(l);s.entangledLanes|=l,s.entanglements[b]=s.entanglements[b]|1073741824|h&261930}function Op(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var b=31-Or(h),A=1<<b;A&l|s[b]&l&&(s[b]|=l),h&=~A}}function jp(s,l){var h=l&-l;return h=(h&42)!==0?1:Fr(h),(h&(s.suspendedLanes|l))!==0?0:h}function Fr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function He(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function _f(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:NN(s.type))}function wf(s,l){var h=X.p;try{return X.p=s,l()}finally{X.p=h}}var va=Math.random().toString(36).slice(2),An="__reactFiber$"+va,Xn="__reactProps$"+va,Mo="__reactContainer$"+va,Ka="__reactEvents$"+va,Np="__reactListeners$"+va,bx="__reactHandles$"+va,Cp="__reactResources$"+va,Ul="__reactMarker$"+va;function Sf(s){delete s[An],delete s[Xn],delete s[Ka],delete s[Np],delete s[bx]}function Po(s){var l=s[An];if(l)return l;for(var h=s.parentNode;h;){if(l=h[Mo]||h[An]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=mN(s);s!==null;){if(h=s[An])return h;s=mN(s)}return l}s=h,h=s.parentNode}return null}function Ps(s){if(s=s[An]||s[Mo]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Wa(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Ds(s){var l=s[Cp];return l||(l=s[Cp]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Tn(s){s[Ul]=!0}var Mp=new Set,Pp={};function Do(s,l){Va(s,l),Va(s+"Capture",l)}function Va(s,l){for(Pp[s]=l,s=0;s<l.length;s++)Mp.add(l[s])}var Fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ef={},kf={};function Hl(s){return bt.call(kf,s)?!0:bt.call(Ef,s)?!1:Fl.test(s)?kf[s]=!0:(Ef[s]=!0,!1)}function ct(s,l,h){if(Hl(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var b=l.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function It(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function Hr(s,l,h,b){if(b===null)s.removeAttribute(h);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+b)}}function In(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ro(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Af(s,l,h){var b=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var A=b.get,j=b.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return A.call(this)},set:function(I){h=""+I,j.call(this,I)}}),Object.defineProperty(s,l,{enumerable:b.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function nt(s){if(!s._valueTracker){var l=Ro(s)?"checked":"value";s._valueTracker=Af(s,l,""+s[l])}}function en(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),b="";return s&&(b=Ro(s)?s.checked?"true":"false":s.value),s=b,s!==h?(l.setValue(s),!0):!1}function Rs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var uu=/[\n"\\]/g;function Zt(s){return s.replace(uu,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Tf(s,l,h,b,A,j,I,G){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),l!=null?I==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+In(l)):s.value!==""+In(l)&&(s.value=""+In(l)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),l!=null?xa(s,I,In(l)):h!=null?xa(s,I,In(h)):b!=null&&s.removeAttribute("value"),A==null&&j!=null&&(s.defaultChecked=!!j),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+In(G):s.removeAttribute("name")}function Gl(s,l,h,b,A,j,I,G){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(s.type=j),l!=null||h!=null){if(!(j!=="submit"&&j!=="reset"||l!=null)){nt(s);return}h=h!=null?""+In(h):"",l=l!=null?""+In(l):h,G||l===s.value||(s.value=l),s.defaultValue=l}b=b??A,b=typeof b!="function"&&typeof b!="symbol"&&!!b,s.checked=G?s.checked:!!b,s.defaultChecked=!!b,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),nt(s)}function xa(s,l,h){l==="number"&&Rs(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function Ut(s,l,h,b){if(s=s.options,l){l={};for(var A=0;A<h.length;A++)l["$"+h[A]]=!0;for(h=0;h<s.length;h++)A=l.hasOwnProperty("$"+s[h].value),s[h].selected!==A&&(s[h].selected=A),A&&b&&(s[h].defaultSelected=!0)}else{for(h=""+In(h),l=null,A=0;A<s.length;A++){if(s[A].value===h){s[A].selected=!0,b&&(s[A].defaultSelected=!0);return}l!==null||s[A].disabled||(l=s[A])}l!==null&&(l.selected=!0)}}function Za(s,l,h){if(l!=null&&(l=""+In(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+In(h):""}function Ls(s,l,h,b){if(l==null){if(b!=null){if(h!=null)throw Error(r(92));if(J(b)){if(1<b.length)throw Error(r(93));b=b[0]}h=b}h==null&&(h=""),l=h}h=In(l),s.defaultValue=h,b=s.textContent,b===h&&b!==""&&b!==null&&(s.value=b),nt(s)}function Gi(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Of=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Is(s,l,h){var b=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?b?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":b?s.setProperty(l,h):typeof h!="number"||h===0||Of.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function du(s,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,h!=null){for(var b in h)!h.hasOwnProperty(b)||l!=null&&l.hasOwnProperty(b)||(b.indexOf("--")===0?s.setProperty(b,""):b==="float"?s.cssFloat="":s[b]="");for(var A in l)b=l[A],l.hasOwnProperty(A)&&h[A]!==b&&Is(s,A,b)}else for(var j in l)l.hasOwnProperty(j)&&Is(s,j,l[j])}function ql(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(s){return jf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Gr(){}var hu=null;function Yl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Bs=null,tt=null;function yi(s){var l=Ps(s);if(l&&(s=l.stateNode)){var h=s[Xn]||null;e:switch(s=l.stateNode,l.type){case"input":if(Tf(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Zt(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var b=h[l];if(b!==s&&b.form===s.form){var A=b[Xn]||null;if(!A)throw Error(r(90));Tf(b,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(l=0;l<h.length;l++)b=h[l],b.form===s.form&&en(b)}break e;case"textarea":Za(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&Ut(s,!!h.multiple,l,!1)}}}var Nt=!1;function Nf(s,l,h){if(Nt)return s(l,h);Nt=!0;try{var b=s(l);return b}finally{if(Nt=!1,(Bs!==null||tt!==null)&&(jg(),Bs&&(l=Bs,s=tt,tt=Bs=null,yi(l),s)))for(l=0;l<s.length;l++)yi(s[l])}}function Lo(s,l){var h=s.stateNode;if(h===null)return null;var b=h[Xn]||null;if(b===null)return null;h=b[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(s=s.type,b=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!b;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=!1;if(bi)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{Kl=!1}var qi=null,Io=null,mn=null;function Xa(){if(mn)return mn;var s,l=Io,h=l.length,b,A="value"in qi?qi.value:qi.textContent,j=A.length;for(s=0;s<h&&l[s]===A[s];s++);var I=h-s;for(b=1;b<=I&&l[h-b]===A[j-b];b++);return mn=A.slice(s,1<b?1-b:void 0)}function Wl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Vl(){return!0}function Dp(){return!1}function cr(s){function l(h,b,A,j,I){this._reactName=h,this._targetInst=A,this.type=b,this.nativeEvent=j,this.target=I,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(h=s[G],this[G]=h?h(j):j[G]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Vl:Dp,this.isPropagationStopped=Dp,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),l}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=cr(_a),zs=p({},_a,{view:0,detail:0}),ht=cr(zs),Cf,jr,wa,Zl=p({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wa&&(wa&&s.type==="mousemove"?(Cf=s.screenX-wa.screenX,jr=s.screenY-wa.screenY):jr=Cf=0,wa=s),Cf)},movementY:function(s){return"movementY"in s?s.movementY:jr}}),Rp=cr(Zl),Mf=p({},Zl,{dataTransfer:0}),vx=cr(Mf),Lp=p({},zs,{relatedTarget:0}),Pf=cr(Lp),xx=p({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),Df=cr(xx),_x=p({},_a,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Yi=cr(_x),wx=p({},_a,{data:0}),Rf=cr(wx),Ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lf(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=$p[s])?!!l[s]:!1}function If(){return Lf}var Bp=p({},zs,{key:function(s){if(s.key){var l=Ja[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Wl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ip[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(s){return s.type==="keypress"?Wl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),zp=cr(Bp),Sx=p({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Up=cr(Sx),$f=p({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),Ex=cr($f),Fp=p({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hp=cr(Fp),pu=p({},Zl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$o=cr(pu),kx=p({},_a,{newState:0,oldState:0}),Xl=cr(kx),qr=[9,13,27,32],gu=bi&&"CompositionEvent"in window,Us=null;bi&&"documentMode"in document&&(Us=document.documentMode);var Ax=bi&&"TextEvent"in window&&!Us,yu=bi&&(!gu||Us&&8<Us&&11>=Us),bu=" ",Gp=!1;function qp(s,l){switch(s){case"keyup":return qr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fs=!1;function xi(s,l){switch(s){case"compositionend":return Bf(l);case"keypress":return l.which!==32?null:(Gp=!0,bu);case"textInput":return s=l.data,s===bu&&Gp?null:s;default:return null}}function Hs(s,l){if(Fs)return s==="compositionend"||!gu&&qp(s,l)?(s=Xa(),mn=Io=qi=null,Fs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return yu&&l.locale!=="ko"?null:l.data;default:return null}}var Tx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ki(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Tx[s.type]:l==="textarea"}function Yp(s,l,h,b){Bs?tt?tt.push(b):tt=[b]:Bs=b,l=Lg(l,"onChange"),0<l.length&&(h=new mu("onChange","change",null,h,b),s.push({event:h,listeners:l}))}var Wi=null,Jl=null;function Ql(s){eN(s,0)}function ec(s){var l=Wa(s);if(en(l))return s}function tc(s,l){if(s==="change")return l}var Kp=!1;if(bi){var Vi;if(bi){var Gs="oninput"in document;if(!Gs){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),Gs=typeof Wp.oninput=="function"}Vi=Gs}else Vi=!1;Kp=Vi&&(!document.documentMode||9<document.documentMode)}function vu(){Wi&&(Wi.detachEvent("onpropertychange",Vp),Jl=Wi=null)}function Vp(s){if(s.propertyName==="value"&&ec(Jl)){var l=[];Yp(l,Jl,s,Yl(s)),Nf(Ql,l)}}function Sa(s,l,h){s==="focusin"?(vu(),Wi=l,Jl=h,Wi.attachEvent("onpropertychange",Vp)):s==="focusout"&&vu()}function Ox(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ec(Jl)}function qs(s,l){if(s==="click")return ec(l)}function jx(s,l){if(s==="input"||s==="change")return ec(l)}function Ea(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Jn=typeof Object.is=="function"?Object.is:Ea;function Ys(s,l){if(Jn(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),b=Object.keys(l);if(h.length!==b.length)return!1;for(b=0;b<h.length;b++){var A=h[b];if(!bt.call(l,A)||!Jn(s[A],l[A]))return!1}return!0}function xu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nc(s,l){var h=xu(s);s=0;for(var b;h;){if(h.nodeType===3){if(b=s+h.textContent.length,s<=l&&b>=l)return{node:h,offset:l-s};s=b}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=xu(h)}}function _u(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?_u(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function rc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Rs(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=Rs(s.document)}return l}function Qa(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var wu=bi&&"documentMode"in document&&11>=document.documentMode,eo=null,Su=null,ic=null,Ks=!1;function Zp(s,l,h){var b=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ks||eo==null||eo!==Rs(b)||(b=eo,"selectionStart"in b&&Qa(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),ic&&Ys(ic,b)||(ic=b,b=Lg(Su,"onSelect"),0<b.length&&(l=new mu("onSelect","select",null,l,h),s.push({event:l,listeners:b}),l.target=eo)))}function to(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var Ws={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionrun:to("Transition","TransitionRun"),transitionstart:to("Transition","TransitionStart"),transitioncancel:to("Transition","TransitionCancel"),transitionend:to("Transition","TransitionEnd")},Eu={},Xp={};bi&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function Qn(s){if(Eu[s])return Eu[s];if(!Ws[s])return s;var l=Ws[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in Xp)return Eu[s]=l[h];return s}var ac=Qn("animationend"),Jp=Qn("animationiteration"),oc=Qn("animationstart"),Nx=Qn("transitionrun"),Qp=Qn("transitionstart"),Cx=Qn("transitioncancel"),Vs=Qn("transitionend"),eg=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function Yr(s,l){eg.set(s,l),Do(l,[s])}var sc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Kr=[],_r=0,ku=0;function lc(){for(var s=_r,l=ku=_r=0;l<s;){var h=Kr[l];Kr[l++]=null;var b=Kr[l];Kr[l++]=null;var A=Kr[l];Kr[l++]=null;var j=Kr[l];if(Kr[l++]=null,b!==null&&A!==null){var I=b.pending;I===null?A.next=A:(A.next=I.next,I.next=A),b.pending=A}j!==0&&Zs(h,A,j)}}function ro(s,l,h,b){Kr[_r++]=s,Kr[_r++]=l,Kr[_r++]=h,Kr[_r++]=b,ku|=b,s.lanes|=b,s=s.alternate,s!==null&&(s.lanes|=b)}function zf(s,l,h,b){return ro(s,l,h,b),cc(s)}function Zi(s,l){return ro(s,null,null,l),cc(s)}function Zs(s,l,h){s.lanes|=h;var b=s.alternate;b!==null&&(b.lanes|=h);for(var A=!1,j=s.return;j!==null;)j.childLanes|=h,b=j.alternate,b!==null&&(b.childLanes|=h),j.tag===22&&(s=j.stateNode,s===null||s._visibility&1||(A=!0)),s=j,j=j.return;return s.tag===3?(j=s.stateNode,A&&l!==null&&(A=31-Or(h),s=j.hiddenUpdates,b=s[A],b===null?s[A]=[l]:b.push(l),l.lane=h|536870912),j):null}function cc(s){if(50<dh)throw dh=0,P_=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Bo={};function Mx(s,l,h,b){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(s,l,h,b){return new Mx(s,l,h,b)}function Au(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Xi(s,l){var h=s.alternate;return h===null?(h=wr(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function Uf(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function uc(s,l,h,b,A,j){var I=0;if(b=s,typeof s=="function")Au(s)&&(I=1);else if(typeof s=="string")I=IF(s,h,V.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case q:return s=wr(31,h,l,A),s.elementType=q,s.lanes=j,s;case _:return zo(h.children,A,j,l);case E:I=8,A|=24;break;case T:return s=wr(12,h,l,A|2),s.elementType=T,s.lanes=j,s;case M:return s=wr(13,h,l,A),s.elementType=M,s.lanes=j,s;case D:return s=wr(19,h,l,A),s.elementType=D,s.lanes=j,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:I=10;break e;case N:I=9;break e;case P:I=11;break e;case $:I=14;break e;case H:I=16,b=null;break e}I=29,h=Error(r(130,s===null?"null":typeof s,"")),b=null}return l=wr(I,h,l,A),l.elementType=s,l.type=b,l.lanes=j,l}function zo(s,l,h,b){return s=wr(7,s,b,l),s.lanes=h,s}function Tu(s,l,h){return s=wr(6,s,null,l),s.lanes=h,s}function Ff(s){var l=wr(18,null,null,0);return l.stateNode=s,l}function Hf(s,l,h){return l=wr(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var d=new WeakMap;function y(s,l){if(typeof s=="object"&&s!==null){var h=d.get(s);return h!==void 0?h:(l={value:s,source:l,stack:Ve(l)},d.set(s,l),l)}return{value:s,source:l,stack:Ve(l)}}var k=[],C=0,R=null,U=0,ee=[],ce=0,ge=null,Ae=1,Re="";function qe(s,l){k[C++]=U,k[C++]=R,R=s,U=l}function ot(s,l,h){ee[ce++]=Ae,ee[ce++]=Re,ee[ce++]=ge,ge=s;var b=Ae;s=Re;var A=32-Or(b)-1;b&=~(1<<A),h+=1;var j=32-Or(l)+A;if(30<j){var I=A-A%5;j=(b&(1<<I)-1).toString(32),b>>=I,A-=I,Ae=1<<32-Or(l)+A|h<<A|b,Re=j+s}else Ae=1<<j|h<<A|b,Re=s}function $n(s){s.return!==null&&(qe(s,1),ot(s,1,0))}function pn(s){for(;s===R;)R=k[--C],k[C]=null,U=k[--C],k[C]=null;for(;s===ge;)ge=ee[--ce],ee[ce]=null,Re=ee[--ce],ee[ce]=null,Ae=ee[--ce],ee[ce]=null}function Nr(s,l){ee[ce++]=Ae,ee[ce++]=Re,ee[ce++]=ge,Ae=l.id,Re=l.overflow,ge=s}var _t=null,wt=null,ut=!1,io=null,Wr=!1,Ou=Error(r(519));function ao(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dc(y(l,s)),Ou}function Gf(s){var l=s.stateNode,h=s.type,b=s.memoizedProps;switch(l[An]=s,l[Xn]=b,h){case"dialog":ft("cancel",l),ft("close",l);break;case"iframe":case"object":case"embed":ft("load",l);break;case"video":case"audio":for(h=0;h<hh.length;h++)ft(hh[h],l);break;case"source":ft("error",l);break;case"img":case"image":case"link":ft("error",l),ft("load",l);break;case"details":ft("toggle",l);break;case"input":ft("invalid",l),Gl(l,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":ft("invalid",l);break;case"textarea":ft("invalid",l),Ls(l,b.value,b.defaultValue,b.children)}h=b.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||b.suppressHydrationWarning===!0||iN(l.textContent,h)?(b.popover!=null&&(ft("beforetoggle",l),ft("toggle",l)),b.onScroll!=null&&ft("scroll",l),b.onScrollEnd!=null&&ft("scrollend",l),b.onClick!=null&&(l.onclick=Gr),l=!0):l=!1,l||ao(s,!0)}function cn(s){for(_t=s.return;_t;)switch(_t.tag){case 5:case 31:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:_t=_t.return}}function ka(s){if(s!==_t)return!1;if(!ut)return cn(s),ut=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||W_(s.type,s.memoizedProps)),h=!h),h&&wt&&ao(s),cn(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=hN(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=hN(s)}else l===27?(l=wt,ul(s.type)?(s=Q_,Q_=null,wt=s):wt=l):wt=_t?Qi(s.stateNode.nextSibling):null;return!0}function Uo(){wt=_t=null,ut=!1}function qf(){var s=io;return s!==null&&(Jr===null?Jr=s:Jr.push.apply(Jr,s),io=null),s}function dc(s){io===null?io=[s]:io.push(s)}var fc=B(null),oo=null,Aa=null;function Xs(s,l,h){ae(fc,l._currentValue),l._currentValue=h}function Fo(s){s._currentValue=fc.current,W(fc)}function Px(s,l,h){for(;s!==null;){var b=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,b!==null&&(b.childLanes|=l)):b!==null&&(b.childLanes&l)!==l&&(b.childLanes|=l),s===h)break;s=s.return}}function Dx(s,l,h,b){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var j=A.dependencies;if(j!==null){var I=A.child;j=j.firstContext;e:for(;j!==null;){var G=j;j=A;for(var te=0;te<l.length;te++)if(G.context===l[te]){j.lanes|=h,G=j.alternate,G!==null&&(G.lanes|=h),Px(j.return,h,s),b||(I=null);break e}j=G.next}}else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=h,j=I.alternate,j!==null&&(j.lanes|=h),Px(I,h,s),I=null}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===s){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}}function ju(s,l,h,b){s=null;for(var A=l,j=!1;A!==null;){if(!j){if((A.flags&524288)!==0)j=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var I=A.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var G=A.type;Jn(A.pendingProps.value,I.value)||(s!==null?s.push(G):s=[G])}}else if(A===pe.current){if(I=A.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(bh):s=[bh])}A=A.return}s!==null&&Dx(l,s,h,b),l.flags|=262144}function tg(s){for(s=s.firstContext;s!==null;){if(!Jn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function hc(s){oo=s,Aa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ur(s){return HT(oo,s)}function ng(s,l){return oo===null&&hc(s),HT(s,l)}function HT(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Aa===null){if(s===null)throw Error(r(308));Aa=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Aa=Aa.next=l;return h}var PU=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,b){s.push(b)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},DU=e.unstable_scheduleCallback,RU=e.unstable_NormalPriority,On={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rx(){return{controller:new PU,data:new Map,refCount:0}}function Yf(s){s.refCount--,s.refCount===0&&DU(RU,function(){s.controller.abort()})}var Kf=null,Lx=0,Nu=0,Cu=null;function LU(s,l){if(Kf===null){var h=Kf=[];Lx=0,Nu=B_(),Cu={status:"pending",value:void 0,then:function(b){h.push(b)}}}return Lx++,l.then(GT,GT),l}function GT(){if(--Lx===0&&Kf!==null){Cu!==null&&(Cu.status="fulfilled");var s=Kf;Kf=null,Nu=0,Cu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function IU(s,l){var h=[],b={status:"pending",value:null,reason:null,then:function(A){h.push(A)}};return s.then(function(){b.status="fulfilled",b.value=l;for(var A=0;A<h.length;A++)(0,h[A])(l)},function(A){for(b.status="rejected",b.reason=A,A=0;A<h.length;A++)(0,h[A])(void 0)}),b}var qT=Y.S;Y.S=function(s,l){Oj=Be(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&LU(s,l),qT!==null&&qT(s,l)};var mc=B(null);function Ix(){var s=mc.current;return s!==null?s:Ft.pooledCache}function rg(s,l){l===null?ae(mc,mc.current):ae(mc,l.pool)}function YT(){var s=Ix();return s===null?null:{parent:On._currentValue,pool:s}}var Mu=Error(r(460)),$x=Error(r(474)),ig=Error(r(542)),ag={then:function(){}};function KT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function WT(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(Gr,Gr),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,ZT(s),s;default:if(typeof l.status=="string")l.then(Gr,Gr);else{if(s=Ft,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(b){if(l.status==="pending"){var A=l;A.status="fulfilled",A.value=b}},function(b){if(l.status==="pending"){var A=l;A.status="rejected",A.reason=b}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,ZT(s),s}throw gc=l,Mu}}function pc(s){try{var l=s._init;return l(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(gc=h,Mu):h}}var gc=null;function VT(){if(gc===null)throw Error(r(459));var s=gc;return gc=null,s}function ZT(s){if(s===Mu||s===ig)throw Error(r(483))}var Pu=null,Wf=0;function og(s){var l=Wf;return Wf+=1,Pu===null&&(Pu=[]),WT(Pu,s,l)}function Vf(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function sg(s,l){throw l.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function XT(s){function l(le,ie){if(s){var de=le.deletions;de===null?(le.deletions=[ie],le.flags|=16):de.push(ie)}}function h(le,ie){if(!s)return null;for(;ie!==null;)l(le,ie),ie=ie.sibling;return null}function b(le){for(var ie=new Map;le!==null;)le.key!==null?ie.set(le.key,le):ie.set(le.index,le),le=le.sibling;return ie}function A(le,ie){return le=Xi(le,ie),le.index=0,le.sibling=null,le}function j(le,ie,de){return le.index=de,s?(de=le.alternate,de!==null?(de=de.index,de<ie?(le.flags|=67108866,ie):de):(le.flags|=67108866,ie)):(le.flags|=1048576,ie)}function I(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function G(le,ie,de,ke){return ie===null||ie.tag!==6?(ie=Tu(de,le.mode,ke),ie.return=le,ie):(ie=A(ie,de),ie.return=le,ie)}function te(le,ie,de,ke){var Xe=de.type;return Xe===_?Ee(le,ie,de.props.children,ke,de.key):ie!==null&&(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&pc(Xe)===ie.type)?(ie=A(ie,de.props),Vf(ie,de),ie.return=le,ie):(ie=uc(de.type,de.key,de.props,null,le.mode,ke),Vf(ie,de),ie.return=le,ie)}function he(le,ie,de,ke){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=Hf(de,le.mode,ke),ie.return=le,ie):(ie=A(ie,de.children||[]),ie.return=le,ie)}function Ee(le,ie,de,ke,Xe){return ie===null||ie.tag!==7?(ie=zo(de,le.mode,ke,Xe),ie.return=le,ie):(ie=A(ie,de),ie.return=le,ie)}function Te(le,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Tu(""+ie,le.mode,de),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return de=uc(ie.type,ie.key,ie.props,null,le.mode,de),Vf(de,ie),de.return=le,de;case w:return ie=Hf(ie,le.mode,de),ie.return=le,ie;case H:return ie=pc(ie),Te(le,ie,de)}if(J(ie)||z(ie))return ie=zo(ie,le.mode,de,null),ie.return=le,ie;if(typeof ie.then=="function")return Te(le,og(ie),de);if(ie.$$typeof===O)return Te(le,ng(le,ie),de);sg(le,ie)}return null}function ye(le,ie,de,ke){var Xe=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Xe!==null?null:G(le,ie,""+de,ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case v:return de.key===Xe?te(le,ie,de,ke):null;case w:return de.key===Xe?he(le,ie,de,ke):null;case H:return de=pc(de),ye(le,ie,de,ke)}if(J(de)||z(de))return Xe!==null?null:Ee(le,ie,de,ke,null);if(typeof de.then=="function")return ye(le,ie,og(de),ke);if(de.$$typeof===O)return ye(le,ie,ng(le,de),ke);sg(le,de)}return null}function xe(le,ie,de,ke,Xe){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return le=le.get(de)||null,G(ie,le,""+ke,Xe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case v:return le=le.get(ke.key===null?de:ke.key)||null,te(ie,le,ke,Xe);case w:return le=le.get(ke.key===null?de:ke.key)||null,he(ie,le,ke,Xe);case H:return ke=pc(ke),xe(le,ie,de,ke,Xe)}if(J(ke)||z(ke))return le=le.get(de)||null,Ee(ie,le,ke,Xe,null);if(typeof ke.then=="function")return xe(le,ie,de,og(ke),Xe);if(ke.$$typeof===O)return xe(le,ie,de,ng(ie,ke),Xe);sg(ie,ke)}return null}function ze(le,ie,de,ke){for(var Xe=null,St=null,Fe=ie,st=ie=0,pt=null;Fe!==null&&st<de.length;st++){Fe.index>st?(pt=Fe,Fe=null):pt=Fe.sibling;var Et=ye(le,Fe,de[st],ke);if(Et===null){Fe===null&&(Fe=pt);break}s&&Fe&&Et.alternate===null&&l(le,Fe),ie=j(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et,Fe=pt}if(st===de.length)return h(le,Fe),ut&&qe(le,st),Xe;if(Fe===null){for(;st<de.length;st++)Fe=Te(le,de[st],ke),Fe!==null&&(ie=j(Fe,ie,st),St===null?Xe=Fe:St.sibling=Fe,St=Fe);return ut&&qe(le,st),Xe}for(Fe=b(Fe);st<de.length;st++)pt=xe(Fe,le,st,de[st],ke),pt!==null&&(s&&pt.alternate!==null&&Fe.delete(pt.key===null?st:pt.key),ie=j(pt,ie,st),St===null?Xe=pt:St.sibling=pt,St=pt);return s&&Fe.forEach(function(pl){return l(le,pl)}),ut&&qe(le,st),Xe}function Qe(le,ie,de,ke){if(de==null)throw Error(r(151));for(var Xe=null,St=null,Fe=ie,st=ie=0,pt=null,Et=de.next();Fe!==null&&!Et.done;st++,Et=de.next()){Fe.index>st?(pt=Fe,Fe=null):pt=Fe.sibling;var pl=ye(le,Fe,Et.value,ke);if(pl===null){Fe===null&&(Fe=pt);break}s&&Fe&&pl.alternate===null&&l(le,Fe),ie=j(pl,ie,st),St===null?Xe=pl:St.sibling=pl,St=pl,Fe=pt}if(Et.done)return h(le,Fe),ut&&qe(le,st),Xe;if(Fe===null){for(;!Et.done;st++,Et=de.next())Et=Te(le,Et.value,ke),Et!==null&&(ie=j(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et);return ut&&qe(le,st),Xe}for(Fe=b(Fe);!Et.done;st++,Et=de.next())Et=xe(Fe,le,st,Et.value,ke),Et!==null&&(s&&Et.alternate!==null&&Fe.delete(Et.key===null?st:Et.key),ie=j(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et);return s&&Fe.forEach(function(WF){return l(le,WF)}),ut&&qe(le,st),Xe}function zt(le,ie,de,ke){if(typeof de=="object"&&de!==null&&de.type===_&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case v:e:{for(var Xe=de.key;ie!==null;){if(ie.key===Xe){if(Xe=de.type,Xe===_){if(ie.tag===7){h(le,ie.sibling),ke=A(ie,de.props.children),ke.return=le,le=ke;break e}}else if(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&pc(Xe)===ie.type){h(le,ie.sibling),ke=A(ie,de.props),Vf(ke,de),ke.return=le,le=ke;break e}h(le,ie);break}else l(le,ie);ie=ie.sibling}de.type===_?(ke=zo(de.props.children,le.mode,ke,de.key),ke.return=le,le=ke):(ke=uc(de.type,de.key,de.props,null,le.mode,ke),Vf(ke,de),ke.return=le,le=ke)}return I(le);case w:e:{for(Xe=de.key;ie!==null;){if(ie.key===Xe)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){h(le,ie.sibling),ke=A(ie,de.children||[]),ke.return=le,le=ke;break e}else{h(le,ie);break}else l(le,ie);ie=ie.sibling}ke=Hf(de,le.mode,ke),ke.return=le,le=ke}return I(le);case H:return de=pc(de),zt(le,ie,de,ke)}if(J(de))return ze(le,ie,de,ke);if(z(de)){if(Xe=z(de),typeof Xe!="function")throw Error(r(150));return de=Xe.call(de),Qe(le,ie,de,ke)}if(typeof de.then=="function")return zt(le,ie,og(de),ke);if(de.$$typeof===O)return zt(le,ie,ng(le,de),ke);sg(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ie!==null&&ie.tag===6?(h(le,ie.sibling),ke=A(ie,de),ke.return=le,le=ke):(h(le,ie),ke=Tu(de,le.mode,ke),ke.return=le,le=ke),I(le)):h(le,ie)}return function(le,ie,de,ke){try{Wf=0;var Xe=zt(le,ie,de,ke);return Pu=null,Xe}catch(Fe){if(Fe===Mu||Fe===ig)throw Fe;var St=wr(29,Fe,null,le.mode);return St.lanes=ke,St.return=le,St}finally{}}}var yc=XT(!0),JT=XT(!1),Js=!1;function Bx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zx(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Qs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function el(s,l,h){var b=s.updateQueue;if(b===null)return null;if(b=b.shared,(Tt&2)!==0){var A=b.pending;return A===null?l.next=l:(l.next=A.next,A.next=l),b.pending=l,l=cc(s),Zs(s,null,h),l}return ro(s,b,l,h),cc(s)}function Zf(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var b=l.lanes;b&=s.pendingLanes,h|=b,l.lanes=h,Op(s,h)}}function Ux(s,l){var h=s.updateQueue,b=s.alternate;if(b!==null&&(b=b.updateQueue,h===b)){var A=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var I={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};j===null?A=j=I:j=j.next=I,h=h.next}while(h!==null);j===null?A=j=l:j=j.next=l}else A=j=l;h={baseState:b.baseState,firstBaseUpdate:A,lastBaseUpdate:j,shared:b.shared,callbacks:b.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var Fx=!1;function Xf(){if(Fx){var s=Cu;if(s!==null)throw s}}function Jf(s,l,h,b){Fx=!1;var A=s.updateQueue;Js=!1;var j=A.firstBaseUpdate,I=A.lastBaseUpdate,G=A.shared.pending;if(G!==null){A.shared.pending=null;var te=G,he=te.next;te.next=null,I===null?j=he:I.next=he,I=te;var Ee=s.alternate;Ee!==null&&(Ee=Ee.updateQueue,G=Ee.lastBaseUpdate,G!==I&&(G===null?Ee.firstBaseUpdate=he:G.next=he,Ee.lastBaseUpdate=te))}if(j!==null){var Te=A.baseState;I=0,Ee=he=te=null,G=j;do{var ye=G.lane&-536870913,xe=ye!==G.lane;if(xe?(mt&ye)===ye:(b&ye)===ye){ye!==0&&ye===Nu&&(Fx=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ze=s,Qe=G;ye=l;var zt=h;switch(Qe.tag){case 1:if(ze=Qe.payload,typeof ze=="function"){Te=ze.call(zt,Te,ye);break e}Te=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Qe.payload,ye=typeof ze=="function"?ze.call(zt,Te,ye):ze,ye==null)break e;Te=p({},Te,ye);break e;case 2:Js=!0}}ye=G.callback,ye!==null&&(s.flags|=64,xe&&(s.flags|=8192),xe=A.callbacks,xe===null?A.callbacks=[ye]:xe.push(ye))}else xe={lane:ye,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ee===null?(he=Ee=xe,te=Te):Ee=Ee.next=xe,I|=ye;if(G=G.next,G===null){if(G=A.shared.pending,G===null)break;xe=G,G=xe.next,xe.next=null,A.lastBaseUpdate=xe,A.shared.pending=null}}while(!0);Ee===null&&(te=Te),A.baseState=te,A.firstBaseUpdate=he,A.lastBaseUpdate=Ee,j===null&&(A.shared.lanes=0),al|=I,s.lanes=I,s.memoizedState=Te}}function QT(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function eO(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)QT(h[s],l)}var Du=B(null),lg=B(0);function tO(s,l){s=Xo,ae(lg,s),ae(Du,l),Xo=s|l.baseLanes}function Hx(){ae(lg,Xo),ae(Du,Du.current)}function Gx(){Xo=lg.current,W(Du),W(lg)}var _i=B(null),Ji=null;function tl(s){var l=s.alternate;ae(_n,_n.current&1),ae(_i,s),Ji===null&&(l===null||Du.current!==null||l.memoizedState!==null)&&(Ji=s)}function qx(s){ae(_n,_n.current),ae(_i,s),Ji===null&&(Ji=s)}function nO(s){s.tag===22?(ae(_n,_n.current),ae(_i,s),Ji===null&&(Ji=s)):nl()}function nl(){ae(_n,_n.current),ae(_i,_i.current)}function wi(s){W(_i),Ji===s&&(Ji=null),W(_n)}var _n=B(0);function cg(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||X_(h)||J_(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ho=0,it=null,$t=null,jn=null,ug=!1,Ru=!1,bc=!1,dg=0,Qf=0,Lu=null,$U=0;function gn(){throw Error(r(321))}function Yx(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!Jn(s[h],l[h]))return!1;return!0}function Kx(s,l,h,b,A,j){return Ho=j,it=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Y.H=s===null||s.memoizedState===null?BO:l_,bc=!1,j=h(b,A),bc=!1,Ru&&(j=iO(l,h,b,A)),rO(s),j}function rO(s){Y.H=nh;var l=$t!==null&&$t.next!==null;if(Ho=0,jn=$t=it=null,ug=!1,Qf=0,Lu=null,l)throw Error(r(300));s===null||Nn||(s=s.dependencies,s!==null&&tg(s)&&(Nn=!0))}function iO(s,l,h,b){it=s;var A=0;do{if(Ru&&(Lu=null),Qf=0,Ru=!1,25<=A)throw Error(r(301));if(A+=1,jn=$t=null,s.updateQueue!=null){var j=s.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}Y.H=zO,j=l(h,b)}while(Ru);return j}function BU(){var s=Y.H,l=s.useState()[0];return l=typeof l.then=="function"?eh(l):l,s=s.useState()[0],($t!==null?$t.memoizedState:null)!==s&&(it.flags|=1024),l}function Wx(){var s=dg!==0;return dg=0,s}function Vx(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function Zx(s){if(ug){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ug=!1}Ho=0,jn=$t=it=null,Ru=!1,Qf=dg=0,Lu=null}function Cr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?it.memoizedState=jn=s:jn=jn.next=s,jn}function wn(){if($t===null){var s=it.alternate;s=s!==null?s.memoizedState:null}else s=$t.next;var l=jn===null?it.memoizedState:jn.next;if(l!==null)jn=l,$t=s;else{if(s===null)throw it.alternate===null?Error(r(467)):Error(r(310));$t=s,s={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},jn===null?it.memoizedState=jn=s:jn=jn.next=s}return jn}function fg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eh(s){var l=Qf;return Qf+=1,Lu===null&&(Lu=[]),s=WT(Lu,s,l),l=it,(jn===null?l.memoizedState:jn.next)===null&&(l=l.alternate,Y.H=l===null||l.memoizedState===null?BO:l_),s}function hg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return eh(s);if(s.$$typeof===O)return ur(s)}throw Error(r(438,String(s)))}function Xx(s){var l=null,h=it.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var b=it.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(l={data:b.data.map(function(A){return A.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=fg(),it.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),b=0;b<s;b++)h[b]=K;return l.index++,h}function Go(s,l){return typeof l=="function"?l(s):l}function mg(s){var l=wn();return Jx(l,$t,s)}function Jx(s,l,h){var b=s.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var A=s.baseQueue,j=b.pending;if(j!==null){if(A!==null){var I=A.next;A.next=j.next,j.next=I}l.baseQueue=A=j,b.pending=null}if(j=s.baseState,A===null)s.memoizedState=j;else{l=A.next;var G=I=null,te=null,he=l,Ee=!1;do{var Te=he.lane&-536870913;if(Te!==he.lane?(mt&Te)===Te:(Ho&Te)===Te){var ye=he.revertLane;if(ye===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Te===Nu&&(Ee=!0);else if((Ho&ye)===ye){he=he.next,ye===Nu&&(Ee=!0);continue}else Te={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},te===null?(G=te=Te,I=j):te=te.next=Te,it.lanes|=ye,al|=ye;Te=he.action,bc&&h(j,Te),j=he.hasEagerState?he.eagerState:h(j,Te)}else ye={lane:Te,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},te===null?(G=te=ye,I=j):te=te.next=ye,it.lanes|=Te,al|=Te;he=he.next}while(he!==null&&he!==l);if(te===null?I=j:te.next=G,!Jn(j,s.memoizedState)&&(Nn=!0,Ee&&(h=Cu,h!==null)))throw h;s.memoizedState=j,s.baseState=I,s.baseQueue=te,b.lastRenderedState=j}return A===null&&(b.lanes=0),[s.memoizedState,b.dispatch]}function Qx(s){var l=wn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var b=h.dispatch,A=h.pending,j=l.memoizedState;if(A!==null){h.pending=null;var I=A=A.next;do j=s(j,I.action),I=I.next;while(I!==A);Jn(j,l.memoizedState)||(Nn=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),h.lastRenderedState=j}return[j,b]}function aO(s,l,h){var b=it,A=wn(),j=ut;if(j){if(h===void 0)throw Error(r(407));h=h()}else h=l();var I=!Jn(($t||A).memoizedState,h);if(I&&(A.memoizedState=h,Nn=!0),A=A.queue,n_(lO.bind(null,b,A,s),[s]),A.getSnapshot!==l||I||jn!==null&&jn.memoizedState.tag&1){if(b.flags|=2048,Iu(9,{destroy:void 0},sO.bind(null,b,A,h,l),null),Ft===null)throw Error(r(349));j||(Ho&127)!==0||oO(b,l,h)}return h}function oO(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=it.updateQueue,l===null?(l=fg(),it.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function sO(s,l,h,b){l.value=h,l.getSnapshot=b,cO(l)&&uO(s)}function lO(s,l,h){return h(function(){cO(l)&&uO(s)})}function cO(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!Jn(s,h)}catch{return!0}}function uO(s){var l=Zi(s,2);l!==null&&Qr(l,s,2)}function e_(s){var l=Cr();if(typeof s=="function"){var h=s;if(s=h(),bc){gi(!0);try{h()}finally{gi(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:s},l}function dO(s,l,h,b){return s.baseState=h,Jx(s,$t,typeof b=="function"?b:Go)}function zU(s,l,h,b,A){if(yg(s))throw Error(r(485));if(s=l.action,s!==null){var j={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){j.listeners.push(I)}};Y.T!==null?h(!0):j.isTransition=!1,b(j),h=l.pending,h===null?(j.next=l.pending=j,fO(l,j)):(j.next=h.next,l.pending=h.next=j)}}function fO(s,l){var h=l.action,b=l.payload,A=s.state;if(l.isTransition){var j=Y.T,I={};Y.T=I;try{var G=h(A,b),te=Y.S;te!==null&&te(I,G),hO(s,l,G)}catch(he){t_(s,l,he)}finally{j!==null&&I.types!==null&&(j.types=I.types),Y.T=j}}else try{j=h(A,b),hO(s,l,j)}catch(he){t_(s,l,he)}}function hO(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(b){mO(s,l,b)},function(b){return t_(s,l,b)}):mO(s,l,h)}function mO(s,l,h){l.status="fulfilled",l.value=h,pO(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,fO(s,h)))}function t_(s,l,h){var b=s.pending;if(s.pending=null,b!==null){b=b.next;do l.status="rejected",l.reason=h,pO(l),l=l.next;while(l!==b)}s.action=null}function pO(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function gO(s,l){return l}function yO(s,l){if(ut){var h=Ft.formState;if(h!==null){e:{var b=it;if(ut){if(wt){t:{for(var A=wt,j=Wr;A.nodeType!==8;){if(!j){A=null;break t}if(A=Qi(A.nextSibling),A===null){A=null;break t}}j=A.data,A=j==="F!"||j==="F"?A:null}if(A){wt=Qi(A.nextSibling),b=A.data==="F!";break e}}ao(b)}b=!1}b&&(l=h[0])}}return h=Cr(),h.memoizedState=h.baseState=l,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gO,lastRenderedState:l},h.queue=b,h=LO.bind(null,it,b),b.dispatch=h,b=e_(!1),j=s_.bind(null,it,!1,b.queue),b=Cr(),A={state:l,dispatch:null,action:s,pending:null},b.queue=A,h=zU.bind(null,it,A,j,h),A.dispatch=h,b.memoizedState=s,[l,h,!1]}function bO(s){var l=wn();return vO(l,$t,s)}function vO(s,l,h){if(l=Jx(s,l,gO)[0],s=mg(Go)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var b=eh(l)}catch(I){throw I===Mu?ig:I}else b=l;l=wn();var A=l.queue,j=A.dispatch;return h!==l.memoizedState&&(it.flags|=2048,Iu(9,{destroy:void 0},UU.bind(null,A,h),null)),[b,j,s]}function UU(s,l){s.action=l}function xO(s){var l=wn(),h=$t;if(h!==null)return vO(l,h,s);wn(),l=l.memoizedState,h=wn();var b=h.queue.dispatch;return h.memoizedState=s,[l,b,!1]}function Iu(s,l,h,b){return s={tag:s,create:h,deps:b,inst:l,next:null},l=it.updateQueue,l===null&&(l=fg(),it.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(b=h.next,h.next=s,s.next=b,l.lastEffect=s),s}function _O(){return wn().memoizedState}function pg(s,l,h,b){var A=Cr();it.flags|=s,A.memoizedState=Iu(1|l,{destroy:void 0},h,b===void 0?null:b)}function gg(s,l,h,b){var A=wn();b=b===void 0?null:b;var j=A.memoizedState.inst;$t!==null&&b!==null&&Yx(b,$t.memoizedState.deps)?A.memoizedState=Iu(l,j,h,b):(it.flags|=s,A.memoizedState=Iu(1|l,j,h,b))}function wO(s,l){pg(8390656,8,s,l)}function n_(s,l){gg(2048,8,s,l)}function FU(s){it.flags|=4;var l=it.updateQueue;if(l===null)l=fg(),it.updateQueue=l,l.events=[s];else{var h=l.events;h===null?l.events=[s]:h.push(s)}}function SO(s){var l=wn().memoizedState;return FU({ref:l,nextImpl:s}),function(){if((Tt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function EO(s,l){return gg(4,2,s,l)}function kO(s,l){return gg(4,4,s,l)}function AO(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function TO(s,l,h){h=h!=null?h.concat([s]):null,gg(4,4,AO.bind(null,l,s),h)}function r_(){}function OO(s,l){var h=wn();l=l===void 0?null:l;var b=h.memoizedState;return l!==null&&Yx(l,b[1])?b[0]:(h.memoizedState=[s,l],s)}function jO(s,l){var h=wn();l=l===void 0?null:l;var b=h.memoizedState;if(l!==null&&Yx(l,b[1]))return b[0];if(b=s(),bc){gi(!0);try{s()}finally{gi(!1)}}return h.memoizedState=[b,l],b}function i_(s,l,h){return h===void 0||(Ho&1073741824)!==0&&(mt&261930)===0?s.memoizedState=l:(s.memoizedState=h,s=Nj(),it.lanes|=s,al|=s,h)}function NO(s,l,h,b){return Jn(h,l)?h:Du.current!==null?(s=i_(s,h,b),Jn(s,l)||(Nn=!0),s):(Ho&42)===0||(Ho&1073741824)!==0&&(mt&261930)===0?(Nn=!0,s.memoizedState=h):(s=Nj(),it.lanes|=s,al|=s,l)}function CO(s,l,h,b,A){var j=X.p;X.p=j!==0&&8>j?j:8;var I=Y.T,G={};Y.T=G,s_(s,!1,l,h);try{var te=A(),he=Y.S;if(he!==null&&he(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Ee=IU(te,b);th(s,l,Ee,ki(s))}else th(s,l,b,ki(s))}catch(Te){th(s,l,{then:function(){},status:"rejected",reason:Te},ki())}finally{X.p=j,I!==null&&G.types!==null&&(I.types=G.types),Y.T=I}}function HU(){}function a_(s,l,h,b){if(s.tag!==5)throw Error(r(476));var A=MO(s).queue;CO(s,A,l,re,h===null?HU:function(){return PO(s),h(b)})}function MO(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:re},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function PO(s){var l=MO(s);l.next===null&&(l=s.alternate.memoizedState),th(s,l.next.queue,{},ki())}function o_(){return ur(bh)}function DO(){return wn().memoizedState}function RO(){return wn().memoizedState}function GU(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=ki();s=Qs(h);var b=el(l,s,h);b!==null&&(Qr(b,l,h),Zf(b,l,h)),l={cache:Rx()},s.payload=l;return}l=l.return}}function qU(s,l,h){var b=ki();h={lane:b,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},yg(s)?IO(l,h):(h=zf(s,l,h,b),h!==null&&(Qr(h,s,b),$O(h,l,b)))}function LO(s,l,h){var b=ki();th(s,l,h,b)}function th(s,l,h,b){var A={lane:b,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(yg(s))IO(l,A);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var I=l.lastRenderedState,G=j(I,h);if(A.hasEagerState=!0,A.eagerState=G,Jn(G,I))return ro(s,l,A,0),Ft===null&&lc(),!1}catch{}finally{}if(h=zf(s,l,A,b),h!==null)return Qr(h,s,b),$O(h,l,b),!0}return!1}function s_(s,l,h,b){if(b={lane:2,revertLane:B_(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},yg(s)){if(l)throw Error(r(479))}else l=zf(s,h,b,2),l!==null&&Qr(l,s,2)}function yg(s){var l=s.alternate;return s===it||l!==null&&l===it}function IO(s,l){Ru=ug=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function $O(s,l,h){if((h&4194048)!==0){var b=l.lanes;b&=s.pendingLanes,h|=b,l.lanes=h,Op(s,h)}}var nh={readContext:ur,use:hg,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn};nh.useEffectEvent=gn;var BO={readContext:ur,use:hg,useCallback:function(s,l){return Cr().memoizedState=[s,l===void 0?null:l],s},useContext:ur,useEffect:wO,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,pg(4194308,4,AO.bind(null,l,s),h)},useLayoutEffect:function(s,l){return pg(4194308,4,s,l)},useInsertionEffect:function(s,l){pg(4,2,s,l)},useMemo:function(s,l){var h=Cr();l=l===void 0?null:l;var b=s();if(bc){gi(!0);try{s()}finally{gi(!1)}}return h.memoizedState=[b,l],b},useReducer:function(s,l,h){var b=Cr();if(h!==void 0){var A=h(l);if(bc){gi(!0);try{h(l)}finally{gi(!1)}}}else A=l;return b.memoizedState=b.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},b.queue=s,s=s.dispatch=qU.bind(null,it,s),[b.memoizedState,s]},useRef:function(s){var l=Cr();return s={current:s},l.memoizedState=s},useState:function(s){s=e_(s);var l=s.queue,h=LO.bind(null,it,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:r_,useDeferredValue:function(s,l){var h=Cr();return i_(h,s,l)},useTransition:function(){var s=e_(!1);return s=CO.bind(null,it,s.queue,!0,!1),Cr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var b=it,A=Cr();if(ut){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),Ft===null)throw Error(r(349));(mt&127)!==0||oO(b,l,h)}A.memoizedState=h;var j={value:h,getSnapshot:l};return A.queue=j,wO(lO.bind(null,b,j,s),[s]),b.flags|=2048,Iu(9,{destroy:void 0},sO.bind(null,b,j,h,l),null),h},useId:function(){var s=Cr(),l=Ft.identifierPrefix;if(ut){var h=Re,b=Ae;h=(b&~(1<<32-Or(b)-1)).toString(32)+h,l="_"+l+"R_"+h,h=dg++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=$U++,l="_"+l+"r_"+h.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:o_,useFormState:yO,useActionState:yO,useOptimistic:function(s){var l=Cr();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=s_.bind(null,it,!0,h),h.dispatch=l,[s,l]},useMemoCache:Xx,useCacheRefresh:function(){return Cr().memoizedState=GU.bind(null,it)},useEffectEvent:function(s){var l=Cr(),h={impl:s};return l.memoizedState=h,function(){if((Tt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},l_={readContext:ur,use:hg,useCallback:OO,useContext:ur,useEffect:n_,useImperativeHandle:TO,useInsertionEffect:EO,useLayoutEffect:kO,useMemo:jO,useReducer:mg,useRef:_O,useState:function(){return mg(Go)},useDebugValue:r_,useDeferredValue:function(s,l){var h=wn();return NO(h,$t.memoizedState,s,l)},useTransition:function(){var s=mg(Go)[0],l=wn().memoizedState;return[typeof s=="boolean"?s:eh(s),l]},useSyncExternalStore:aO,useId:DO,useHostTransitionStatus:o_,useFormState:bO,useActionState:bO,useOptimistic:function(s,l){var h=wn();return dO(h,$t,s,l)},useMemoCache:Xx,useCacheRefresh:RO};l_.useEffectEvent=SO;var zO={readContext:ur,use:hg,useCallback:OO,useContext:ur,useEffect:n_,useImperativeHandle:TO,useInsertionEffect:EO,useLayoutEffect:kO,useMemo:jO,useReducer:Qx,useRef:_O,useState:function(){return Qx(Go)},useDebugValue:r_,useDeferredValue:function(s,l){var h=wn();return $t===null?i_(h,s,l):NO(h,$t.memoizedState,s,l)},useTransition:function(){var s=Qx(Go)[0],l=wn().memoizedState;return[typeof s=="boolean"?s:eh(s),l]},useSyncExternalStore:aO,useId:DO,useHostTransitionStatus:o_,useFormState:xO,useActionState:xO,useOptimistic:function(s,l){var h=wn();return $t!==null?dO(h,$t,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Xx,useCacheRefresh:RO};zO.useEffectEvent=SO;function c_(s,l,h,b){l=s.memoizedState,h=h(b,l),h=h==null?l:p({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var u_={enqueueSetState:function(s,l,h){s=s._reactInternals;var b=ki(),A=Qs(b);A.payload=l,h!=null&&(A.callback=h),l=el(s,A,b),l!==null&&(Qr(l,s,b),Zf(l,s,b))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var b=ki(),A=Qs(b);A.tag=1,A.payload=l,h!=null&&(A.callback=h),l=el(s,A,b),l!==null&&(Qr(l,s,b),Zf(l,s,b))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=ki(),b=Qs(h);b.tag=2,l!=null&&(b.callback=l),l=el(s,b,h),l!==null&&(Qr(l,s,h),Zf(l,s,h))}};function UO(s,l,h,b,A,j,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(b,j,I):l.prototype&&l.prototype.isPureReactComponent?!Ys(h,b)||!Ys(A,j):!0}function FO(s,l,h,b){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,b),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,b),l.state!==s&&u_.enqueueReplaceState(l,l.state,null)}function vc(s,l){var h=l;if("ref"in l){h={};for(var b in l)b!=="ref"&&(h[b]=l[b])}if(s=s.defaultProps){h===l&&(h=p({},h));for(var A in s)h[A]===void 0&&(h[A]=s[A])}return h}function HO(s){sc(s)}function GO(s){console.error(s)}function qO(s){sc(s)}function bg(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(b){setTimeout(function(){throw b})}}function YO(s,l,h){try{var b=s.onCaughtError;b(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function d_(s,l,h){return h=Qs(h),h.tag=3,h.payload={element:null},h.callback=function(){bg(s,l)},h}function KO(s){return s=Qs(s),s.tag=3,s}function WO(s,l,h,b){var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var j=b.value;s.payload=function(){return A(j)},s.callback=function(){YO(l,h,b)}}var I=h.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){YO(l,h,b),typeof A!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var G=b.stack;this.componentDidCatch(b.value,{componentStack:G!==null?G:""})})}function YU(s,l,h,b,A){if(h.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(l=h.alternate,l!==null&&ju(l,h,A,!0),h=_i.current,h!==null){switch(h.tag){case 31:case 13:return Ji===null?Ng():h.alternate===null&&yn===0&&(yn=3),h.flags&=-257,h.flags|=65536,h.lanes=A,b===ag?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([b]):l.add(b),L_(s,b,A)),!1;case 22:return h.flags|=65536,b===ag?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([b])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([b]):h.add(b)),L_(s,b,A)),!1}throw Error(r(435,h.tag))}return L_(s,b,A),Ng(),!1}if(ut)return l=_i.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=A,b!==Ou&&(s=Error(r(422),{cause:b}),dc(y(s,h)))):(b!==Ou&&(l=Error(r(423),{cause:b}),dc(y(l,h))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,b=y(b,h),A=d_(s.stateNode,b,A),Ux(s,A),yn!==4&&(yn=2)),!1;var j=Error(r(520),{cause:b});if(j=y(j,h),uh===null?uh=[j]:uh.push(j),yn!==4&&(yn=2),l===null)return!0;b=y(b,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=A&-A,h.lanes|=s,s=d_(h.stateNode,b,s),Ux(h,s),!1;case 1:if(l=h.type,j=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ol===null||!ol.has(j))))return h.flags|=65536,A&=-A,h.lanes|=A,A=KO(A),WO(A,s,h,b),Ux(h,A),!1}h=h.return}while(h!==null);return!1}var f_=Error(r(461)),Nn=!1;function dr(s,l,h,b){l.child=s===null?JT(l,null,h,b):yc(l,s.child,h,b)}function VO(s,l,h,b,A){h=h.render;var j=l.ref;if("ref"in b){var I={};for(var G in b)G!=="ref"&&(I[G]=b[G])}else I=b;return hc(l),b=Kx(s,l,h,I,j,A),G=Wx(),s!==null&&!Nn?(Vx(s,l,A),qo(s,l,A)):(ut&&G&&$n(l),l.flags|=1,dr(s,l,b,A),l.child)}function ZO(s,l,h,b,A){if(s===null){var j=h.type;return typeof j=="function"&&!Au(j)&&j.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=j,XO(s,l,j,b,A)):(s=uc(h.type,null,b,l,l.mode,A),s.ref=l.ref,s.return=l,l.child=s)}if(j=s.child,!x_(s,A)){var I=j.memoizedProps;if(h=h.compare,h=h!==null?h:Ys,h(I,b)&&s.ref===l.ref)return qo(s,l,A)}return l.flags|=1,s=Xi(j,b),s.ref=l.ref,s.return=l,l.child=s}function XO(s,l,h,b,A){if(s!==null){var j=s.memoizedProps;if(Ys(j,b)&&s.ref===l.ref)if(Nn=!1,l.pendingProps=b=j,x_(s,A))(s.flags&131072)!==0&&(Nn=!0);else return l.lanes=s.lanes,qo(s,l,A)}return h_(s,l,h,b,A)}function JO(s,l,h,b){var A=b.children,j=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((l.flags&128)!==0){if(j=j!==null?j.baseLanes|h:h,s!==null){for(b=l.child=s.child,A=0;b!==null;)A=A|b.lanes|b.childLanes,b=b.sibling;b=A&~j}else b=0,l.child=null;return QO(s,l,j,h,b)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&rg(l,j!==null?j.cachePool:null),j!==null?tO(l,j):Hx(),nO(l);else return b=l.lanes=536870912,QO(s,l,j!==null?j.baseLanes|h:h,h,b)}else j!==null?(rg(l,j.cachePool),tO(l,j),nl(),l.memoizedState=null):(s!==null&&rg(l,null),Hx(),nl());return dr(s,l,A,h),l.child}function rh(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function QO(s,l,h,b,A){var j=Ix();return j=j===null?null:{parent:On._currentValue,pool:j},l.memoizedState={baseLanes:h,cachePool:j},s!==null&&rg(l,null),Hx(),nO(l),s!==null&&ju(s,l,b,!0),l.childLanes=A,null}function vg(s,l){return l=_g({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function ej(s,l,h){return yc(l,s.child,null,h),s=vg(l,l.pendingProps),s.flags|=2,wi(l),l.memoizedState=null,s}function KU(s,l,h){var b=l.pendingProps,A=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(ut){if(b.mode==="hidden")return s=vg(l,b),l.lanes=536870912,rh(null,s);if(qx(l),(s=wt)?(s=fN(s,Wr),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Re}:null,retryLane:536870912,hydrationErrors:null},h=Ff(s),h.return=l,l.child=h,_t=l,wt=null)):s=null,s===null)throw ao(l);return l.lanes=536870912,null}return vg(l,b)}var j=s.memoizedState;if(j!==null){var I=j.dehydrated;if(qx(l),A)if(l.flags&256)l.flags&=-257,l=ej(s,l,h);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(Nn||ju(s,l,h,!1),A=(h&s.childLanes)!==0,Nn||A){if(b=Ft,b!==null&&(I=jp(b,h),I!==0&&I!==j.retryLane))throw j.retryLane=I,Zi(s,I),Qr(b,s,I),f_;Ng(),l=ej(s,l,h)}else s=j.treeContext,wt=Qi(I.nextSibling),_t=l,ut=!0,io=null,Wr=!1,s!==null&&Nr(l,s),l=vg(l,b),l.flags|=4096;return l}return s=Xi(s.child,{mode:b.mode,children:b.children}),s.ref=l.ref,l.child=s,s.return=l,s}function xg(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function h_(s,l,h,b,A){return hc(l),h=Kx(s,l,h,b,void 0,A),b=Wx(),s!==null&&!Nn?(Vx(s,l,A),qo(s,l,A)):(ut&&b&&$n(l),l.flags|=1,dr(s,l,h,A),l.child)}function tj(s,l,h,b,A,j){return hc(l),l.updateQueue=null,h=iO(l,b,h,A),rO(s),b=Wx(),s!==null&&!Nn?(Vx(s,l,j),qo(s,l,j)):(ut&&b&&$n(l),l.flags|=1,dr(s,l,h,j),l.child)}function nj(s,l,h,b,A){if(hc(l),l.stateNode===null){var j=Bo,I=h.contextType;typeof I=="object"&&I!==null&&(j=ur(I)),j=new h(b,j),l.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=u_,l.stateNode=j,j._reactInternals=l,j=l.stateNode,j.props=b,j.state=l.memoizedState,j.refs={},Bx(l),I=h.contextType,j.context=typeof I=="object"&&I!==null?ur(I):Bo,j.state=l.memoizedState,I=h.getDerivedStateFromProps,typeof I=="function"&&(c_(l,h,I,b),j.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(I=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),I!==j.state&&u_.enqueueReplaceState(j,j.state,null),Jf(l,b,j,A),Xf(),j.state=l.memoizedState),typeof j.componentDidMount=="function"&&(l.flags|=4194308),b=!0}else if(s===null){j=l.stateNode;var G=l.memoizedProps,te=vc(h,G);j.props=te;var he=j.context,Ee=h.contextType;I=Bo,typeof Ee=="object"&&Ee!==null&&(I=ur(Ee));var Te=h.getDerivedStateFromProps;Ee=typeof Te=="function"||typeof j.getSnapshotBeforeUpdate=="function",G=l.pendingProps!==G,Ee||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(G||he!==I)&&FO(l,j,b,I),Js=!1;var ye=l.memoizedState;j.state=ye,Jf(l,b,j,A),Xf(),he=l.memoizedState,G||ye!==he||Js?(typeof Te=="function"&&(c_(l,h,Te,b),he=l.memoizedState),(te=Js||UO(l,h,te,b,ye,he,I))?(Ee||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=b,l.memoizedState=he),j.props=b,j.state=he,j.context=I,b=te):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),b=!1)}else{j=l.stateNode,zx(s,l),I=l.memoizedProps,Ee=vc(h,I),j.props=Ee,Te=l.pendingProps,ye=j.context,he=h.contextType,te=Bo,typeof he=="object"&&he!==null&&(te=ur(he)),G=h.getDerivedStateFromProps,(he=typeof G=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(I!==Te||ye!==te)&&FO(l,j,b,te),Js=!1,ye=l.memoizedState,j.state=ye,Jf(l,b,j,A),Xf();var xe=l.memoizedState;I!==Te||ye!==xe||Js||s!==null&&s.dependencies!==null&&tg(s.dependencies)?(typeof G=="function"&&(c_(l,h,G,b),xe=l.memoizedState),(Ee=Js||UO(l,h,Ee,b,ye,xe,te)||s!==null&&s.dependencies!==null&&tg(s.dependencies))?(he||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(b,xe,te),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(b,xe,te)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=1024),l.memoizedProps=b,l.memoizedState=xe),j.props=b,j.state=xe,j.context=te,b=Ee):(typeof j.componentDidUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=1024),b=!1)}return j=b,xg(s,l),b=(l.flags&128)!==0,j||b?(j=l.stateNode,h=b&&typeof h.getDerivedStateFromError!="function"?null:j.render(),l.flags|=1,s!==null&&b?(l.child=yc(l,s.child,null,A),l.child=yc(l,null,h,A)):dr(s,l,h,A),l.memoizedState=j.state,s=l.child):s=qo(s,l,A),s}function rj(s,l,h,b){return Uo(),l.flags|=256,dr(s,l,h,b),l.child}var m_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function p_(s){return{baseLanes:s,cachePool:YT()}}function g_(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=Ei),s}function ij(s,l,h){var b=l.pendingProps,A=!1,j=(l.flags&128)!==0,I;if((I=j)||(I=s!==null&&s.memoizedState===null?!1:(_n.current&2)!==0),I&&(A=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,s===null){if(ut){if(A?tl(l):nl(),(s=wt)?(s=fN(s,Wr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Re}:null,retryLane:536870912,hydrationErrors:null},h=Ff(s),h.return=l,l.child=h,_t=l,wt=null)):s=null,s===null)throw ao(l);return J_(s)?l.lanes=32:l.lanes=536870912,null}var G=b.children;return b=b.fallback,A?(nl(),A=l.mode,G=_g({mode:"hidden",children:G},A),b=zo(b,A,h,null),G.return=l,b.return=l,G.sibling=b,l.child=G,b=l.child,b.memoizedState=p_(h),b.childLanes=g_(s,I,h),l.memoizedState=m_,rh(null,b)):(tl(l),y_(l,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(j)l.flags&256?(tl(l),l.flags&=-257,l=b_(s,l,h)):l.memoizedState!==null?(nl(),l.child=s.child,l.flags|=128,l=null):(nl(),G=b.fallback,A=l.mode,b=_g({mode:"visible",children:b.children},A),G=zo(G,A,h,null),G.flags|=2,b.return=l,G.return=l,b.sibling=G,l.child=b,yc(l,s.child,null,h),b=l.child,b.memoizedState=p_(h),b.childLanes=g_(s,I,h),l.memoizedState=m_,l=rh(null,b));else if(tl(l),J_(G)){if(I=G.nextSibling&&G.nextSibling.dataset,I)var he=I.dgst;I=he,b=Error(r(419)),b.stack="",b.digest=I,dc({value:b,source:null,stack:null}),l=b_(s,l,h)}else if(Nn||ju(s,l,h,!1),I=(h&s.childLanes)!==0,Nn||I){if(I=Ft,I!==null&&(b=jp(I,h),b!==0&&b!==te.retryLane))throw te.retryLane=b,Zi(s,b),Qr(I,s,b),f_;X_(G)||Ng(),l=b_(s,l,h)}else X_(G)?(l.flags|=192,l.child=s.child,l=null):(s=te.treeContext,wt=Qi(G.nextSibling),_t=l,ut=!0,io=null,Wr=!1,s!==null&&Nr(l,s),l=y_(l,b.children),l.flags|=4096);return l}return A?(nl(),G=b.fallback,A=l.mode,te=s.child,he=te.sibling,b=Xi(te,{mode:"hidden",children:b.children}),b.subtreeFlags=te.subtreeFlags&65011712,he!==null?G=Xi(he,G):(G=zo(G,A,h,null),G.flags|=2),G.return=l,b.return=l,b.sibling=G,l.child=b,rh(null,b),b=l.child,G=s.child.memoizedState,G===null?G=p_(h):(A=G.cachePool,A!==null?(te=On._currentValue,A=A.parent!==te?{parent:te,pool:te}:A):A=YT(),G={baseLanes:G.baseLanes|h,cachePool:A}),b.memoizedState=G,b.childLanes=g_(s,I,h),l.memoizedState=m_,rh(s.child,b)):(tl(l),h=s.child,s=h.sibling,h=Xi(h,{mode:"visible",children:b.children}),h.return=l,h.sibling=null,s!==null&&(I=l.deletions,I===null?(l.deletions=[s],l.flags|=16):I.push(s)),l.child=h,l.memoizedState=null,h)}function y_(s,l){return l=_g({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function _g(s,l){return s=wr(22,s,null,l),s.lanes=0,s}function b_(s,l,h){return yc(l,s.child,null,h),s=y_(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function aj(s,l,h){s.lanes|=l;var b=s.alternate;b!==null&&(b.lanes|=l),Px(s.return,l,h)}function v_(s,l,h,b,A,j){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:b,tail:h,tailMode:A,treeForkCount:j}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=b,I.tail=h,I.tailMode=A,I.treeForkCount=j)}function oj(s,l,h){var b=l.pendingProps,A=b.revealOrder,j=b.tail;b=b.children;var I=_n.current,G=(I&2)!==0;if(G?(I=I&1|2,l.flags|=128):I&=1,ae(_n,I),dr(s,l,b,h),b=ut?U:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&aj(s,h,l);else if(s.tag===19)aj(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(h=l.child,A=null;h!==null;)s=h.alternate,s!==null&&cg(s)===null&&(A=h),h=h.sibling;h=A,h===null?(A=l.child,l.child=null):(A=h.sibling,h.sibling=null),v_(l,!1,A,h,j,b);break;case"backwards":case"unstable_legacy-backwards":for(h=null,A=l.child,l.child=null;A!==null;){if(s=A.alternate,s!==null&&cg(s)===null){l.child=A;break}s=A.sibling,A.sibling=h,h=A,A=s}v_(l,!0,h,null,j,b);break;case"together":v_(l,!1,null,null,void 0,b);break;default:l.memoizedState=null}return l.child}function qo(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),al|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(ju(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=Xi(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=Xi(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function x_(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&tg(s)))}function WU(s,l,h){switch(l.tag){case 3:be(l,l.stateNode.containerInfo),Xs(l,On,s.memoizedState.cache),Uo();break;case 27:case 5:Oe(l);break;case 4:be(l,l.stateNode.containerInfo);break;case 10:Xs(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,qx(l),null;break;case 13:var b=l.memoizedState;if(b!==null)return b.dehydrated!==null?(tl(l),l.flags|=128,null):(h&l.child.childLanes)!==0?ij(s,l,h):(tl(l),s=qo(s,l,h),s!==null?s.sibling:null);tl(l);break;case 19:var A=(s.flags&128)!==0;if(b=(h&l.childLanes)!==0,b||(ju(s,l,h,!1),b=(h&l.childLanes)!==0),A){if(b)return oj(s,l,h);l.flags|=128}if(A=l.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ae(_n,_n.current),b)break;return null;case 22:return l.lanes=0,JO(s,l,h,l.pendingProps);case 24:Xs(l,On,s.memoizedState.cache)}return qo(s,l,h)}function sj(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)Nn=!0;else{if(!x_(s,h)&&(l.flags&128)===0)return Nn=!1,WU(s,l,h);Nn=(s.flags&131072)!==0}else Nn=!1,ut&&(l.flags&1048576)!==0&&ot(l,U,l.index);switch(l.lanes=0,l.tag){case 16:e:{var b=l.pendingProps;if(s=pc(l.elementType),l.type=s,typeof s=="function")Au(s)?(b=vc(s,b),l.tag=1,l=nj(null,l,s,b,h)):(l.tag=0,l=h_(null,l,s,b,h));else{if(s!=null){var A=s.$$typeof;if(A===P){l.tag=11,l=VO(null,l,s,b,h);break e}else if(A===$){l.tag=14,l=ZO(null,l,s,b,h);break e}}throw l=Q(s)||s,Error(r(306,l,""))}}return l;case 0:return h_(s,l,l.type,l.pendingProps,h);case 1:return b=l.type,A=vc(b,l.pendingProps),nj(s,l,b,A,h);case 3:e:{if(be(l,l.stateNode.containerInfo),s===null)throw Error(r(387));b=l.pendingProps;var j=l.memoizedState;A=j.element,zx(s,l),Jf(l,b,null,h);var I=l.memoizedState;if(b=I.cache,Xs(l,On,b),b!==j.cache&&Dx(l,[On],h,!0),Xf(),b=I.element,j.isDehydrated)if(j={element:b,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){l=rj(s,l,b,h);break e}else if(b!==A){A=y(Error(r(424)),l),dc(A),l=rj(s,l,b,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(wt=Qi(s.firstChild),_t=l,ut=!0,io=null,Wr=!0,h=JT(l,null,b,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Uo(),b===A){l=qo(s,l,h);break e}dr(s,l,b,h)}l=l.child}return l;case 26:return xg(s,l),s===null?(h=bN(l.type,null,l.pendingProps,null))?l.memoizedState=h:ut||(h=l.type,s=l.pendingProps,b=Ig(me.current).createElement(h),b[An]=l,b[Xn]=s,fr(b,h,s),Tn(b),l.stateNode=b):l.memoizedState=bN(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Oe(l),s===null&&ut&&(b=l.stateNode=pN(l.type,l.pendingProps,me.current),_t=l,Wr=!0,A=wt,ul(l.type)?(Q_=A,wt=Qi(b.firstChild)):wt=A),dr(s,l,l.pendingProps.children,h),xg(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&ut&&((A=b=wt)&&(b=EF(b,l.type,l.pendingProps,Wr),b!==null?(l.stateNode=b,_t=l,wt=Qi(b.firstChild),Wr=!1,A=!0):A=!1),A||ao(l)),Oe(l),A=l.type,j=l.pendingProps,I=s!==null?s.memoizedProps:null,b=j.children,W_(A,j)?b=null:I!==null&&W_(A,I)&&(l.flags|=32),l.memoizedState!==null&&(A=Kx(s,l,BU,null,null,h),bh._currentValue=A),xg(s,l),dr(s,l,b,h),l.child;case 6:return s===null&&ut&&((s=h=wt)&&(h=kF(h,l.pendingProps,Wr),h!==null?(l.stateNode=h,_t=l,wt=null,s=!0):s=!1),s||ao(l)),null;case 13:return ij(s,l,h);case 4:return be(l,l.stateNode.containerInfo),b=l.pendingProps,s===null?l.child=yc(l,null,b,h):dr(s,l,b,h),l.child;case 11:return VO(s,l,l.type,l.pendingProps,h);case 7:return dr(s,l,l.pendingProps,h),l.child;case 8:return dr(s,l,l.pendingProps.children,h),l.child;case 12:return dr(s,l,l.pendingProps.children,h),l.child;case 10:return b=l.pendingProps,Xs(l,l.type,b.value),dr(s,l,b.children,h),l.child;case 9:return A=l.type._context,b=l.pendingProps.children,hc(l),A=ur(A),b=b(A),l.flags|=1,dr(s,l,b,h),l.child;case 14:return ZO(s,l,l.type,l.pendingProps,h);case 15:return XO(s,l,l.type,l.pendingProps,h);case 19:return oj(s,l,h);case 31:return KU(s,l,h);case 22:return JO(s,l,h,l.pendingProps);case 24:return hc(l),b=ur(On),s===null?(A=Ix(),A===null&&(A=Ft,j=Rx(),A.pooledCache=j,j.refCount++,j!==null&&(A.pooledCacheLanes|=h),A=j),l.memoizedState={parent:b,cache:A},Bx(l),Xs(l,On,A)):((s.lanes&h)!==0&&(zx(s,l),Jf(l,null,null,h),Xf()),A=s.memoizedState,j=l.memoizedState,A.parent!==b?(A={parent:b,cache:b},l.memoizedState=A,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=A),Xs(l,On,b)):(b=j.cache,Xs(l,On,b),b!==A.cache&&Dx(l,[On],h,!0))),dr(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Yo(s){s.flags|=4}function __(s,l,h,b,A){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(Dj())s.flags|=8192;else throw gc=ag,$x}else s.flags&=-16777217}function lj(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!SN(l))if(Dj())s.flags|=8192;else throw gc=ag,$x}function wg(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Ap():536870912,s.lanes|=l,Uu|=l)}function ih(s,l){if(!ut)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:b.sibling=null}}function Xt(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,b=0;if(l)for(var A=s.child;A!==null;)h|=A.lanes|A.childLanes,b|=A.subtreeFlags&65011712,b|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)h|=A.lanes|A.childLanes,b|=A.subtreeFlags,b|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=b,s.childLanes=h,l}function VU(s,l,h){var b=l.pendingProps;switch(pn(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(l),null;case 1:return Xt(l),null;case 3:return h=l.stateNode,b=null,s!==null&&(b=s.memoizedState.cache),l.memoizedState.cache!==b&&(l.flags|=2048),Fo(On),ne(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(ka(l)?Yo(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,qf())),Xt(l),null;case 26:var A=l.type,j=l.memoizedState;return s===null?(Yo(l),j!==null?(Xt(l),lj(l,j)):(Xt(l),__(l,A,null,b,h))):j?j!==s.memoizedState?(Yo(l),Xt(l),lj(l,j)):(Xt(l),l.flags&=-16777217):(s=s.memoizedProps,s!==b&&Yo(l),Xt(l),__(l,A,s,b,h)),null;case 27:if(Ce(l),h=me.current,A=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==b&&Yo(l);else{if(!b){if(l.stateNode===null)throw Error(r(166));return Xt(l),null}s=V.current,ka(l)?Gf(l):(s=pN(A,b,h),l.stateNode=s,Yo(l))}return Xt(l),null;case 5:if(Ce(l),A=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==b&&Yo(l);else{if(!b){if(l.stateNode===null)throw Error(r(166));return Xt(l),null}if(j=V.current,ka(l))Gf(l);else{var I=Ig(me.current);switch(j){case 1:j=I.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:j=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":j=I.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":j=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":j=I.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof b.is=="string"?I.createElement("select",{is:b.is}):I.createElement("select"),b.multiple?j.multiple=!0:b.size&&(j.size=b.size);break;default:j=typeof b.is=="string"?I.createElement(A,{is:b.is}):I.createElement(A)}}j[An]=l,j[Xn]=b;e:for(I=l.child;I!==null;){if(I.tag===5||I.tag===6)j.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===l)break e;for(;I.sibling===null;){if(I.return===null||I.return===l)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}l.stateNode=j;e:switch(fr(j,A,b),A){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Yo(l)}}return Xt(l),__(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,h),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==b&&Yo(l);else{if(typeof b!="string"&&l.stateNode===null)throw Error(r(166));if(s=me.current,ka(l)){if(s=l.stateNode,h=l.memoizedProps,b=null,A=_t,A!==null)switch(A.tag){case 27:case 5:b=A.memoizedProps}s[An]=l,s=!!(s.nodeValue===h||b!==null&&b.suppressHydrationWarning===!0||iN(s.nodeValue,h)),s||ao(l,!0)}else s=Ig(s).createTextNode(b),s[An]=l,l.stateNode=s}return Xt(l),null;case 31:if(h=l.memoizedState,s===null||s.memoizedState!==null){if(b=ka(l),h!==null){if(s===null){if(!b)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[An]=l}else Uo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xt(l),s=!1}else h=qf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return l.flags&256?(wi(l),l):(wi(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Xt(l),null;case 13:if(b=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=ka(l),b!==null&&b.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[An]=l}else Uo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xt(l),A=!1}else A=qf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return l.flags&256?(wi(l),l):(wi(l),null)}return wi(l),(l.flags&128)!==0?(l.lanes=h,l):(h=b!==null,s=s!==null&&s.memoizedState!==null,h&&(b=l.child,A=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(A=b.alternate.memoizedState.cachePool.pool),j=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(j=b.memoizedState.cachePool.pool),j!==A&&(b.flags|=2048)),h!==s&&h&&(l.child.flags|=8192),wg(l,l.updateQueue),Xt(l),null);case 4:return ne(),s===null&&H_(l.stateNode.containerInfo),Xt(l),null;case 10:return Fo(l.type),Xt(l),null;case 19:if(W(_n),b=l.memoizedState,b===null)return Xt(l),null;if(A=(l.flags&128)!==0,j=b.rendering,j===null)if(A)ih(b,!1);else{if(yn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(j=cg(s),j!==null){for(l.flags|=128,ih(b,!1),s=j.updateQueue,l.updateQueue=s,wg(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)Uf(h,s),h=h.sibling;return ae(_n,_n.current&1|2),ut&&qe(l,b.treeForkCount),l.child}s=s.sibling}b.tail!==null&&Be()>Tg&&(l.flags|=128,A=!0,ih(b,!1),l.lanes=4194304)}else{if(!A)if(s=cg(j),s!==null){if(l.flags|=128,A=!0,s=s.updateQueue,l.updateQueue=s,wg(l,s),ih(b,!0),b.tail===null&&b.tailMode==="hidden"&&!j.alternate&&!ut)return Xt(l),null}else 2*Be()-b.renderingStartTime>Tg&&h!==536870912&&(l.flags|=128,A=!0,ih(b,!1),l.lanes=4194304);b.isBackwards?(j.sibling=l.child,l.child=j):(s=b.last,s!==null?s.sibling=j:l.child=j,b.last=j)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=Be(),s.sibling=null,h=_n.current,ae(_n,A?h&1|2:h&1),ut&&qe(l,b.treeForkCount),s):(Xt(l),null);case 22:case 23:return wi(l),Gx(),b=l.memoizedState!==null,s!==null?s.memoizedState!==null!==b&&(l.flags|=8192):b&&(l.flags|=8192),b?(h&536870912)!==0&&(l.flags&128)===0&&(Xt(l),l.subtreeFlags&6&&(l.flags|=8192)):Xt(l),h=l.updateQueue,h!==null&&wg(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),b=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(b=l.memoizedState.cachePool.pool),b!==h&&(l.flags|=2048),s!==null&&W(mc),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Fo(On),Xt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function ZU(s,l){switch(pn(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Fo(On),ne(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ce(l),null;case 31:if(l.memoizedState!==null){if(wi(l),l.alternate===null)throw Error(r(340));Uo()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(wi(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Uo()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return W(_n),null;case 4:return ne(),null;case 10:return Fo(l.type),null;case 22:case 23:return wi(l),Gx(),s!==null&&W(mc),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Fo(On),null;case 25:return null;default:return null}}function cj(s,l){switch(pn(l),l.tag){case 3:Fo(On),ne();break;case 26:case 27:case 5:Ce(l);break;case 4:ne();break;case 31:l.memoizedState!==null&&wi(l);break;case 13:wi(l);break;case 19:W(_n);break;case 10:Fo(l.type);break;case 22:case 23:wi(l),Gx(),s!==null&&W(mc);break;case 24:Fo(On)}}function ah(s,l){try{var h=l.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var A=b.next;h=A;do{if((h.tag&s)===s){b=void 0;var j=h.create,I=h.inst;b=j(),I.destroy=b}h=h.next}while(h!==A)}}catch(G){Rt(l,l.return,G)}}function rl(s,l,h){try{var b=l.updateQueue,A=b!==null?b.lastEffect:null;if(A!==null){var j=A.next;b=j;do{if((b.tag&s)===s){var I=b.inst,G=I.destroy;if(G!==void 0){I.destroy=void 0,A=l;var te=h,he=G;try{he()}catch(Ee){Rt(A,te,Ee)}}}b=b.next}while(b!==j)}}catch(Ee){Rt(l,l.return,Ee)}}function uj(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{eO(l,h)}catch(b){Rt(s,s.return,b)}}}function dj(s,l,h){h.props=vc(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(b){Rt(s,l,b)}}function oh(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var b=s.stateNode;break;case 30:b=s.stateNode;break;default:b=s.stateNode}typeof h=="function"?s.refCleanup=h(b):h.current=b}}catch(A){Rt(s,l,A)}}function so(s,l){var h=s.ref,b=s.refCleanup;if(h!==null)if(typeof b=="function")try{b()}catch(A){Rt(s,l,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(A){Rt(s,l,A)}else h.current=null}function fj(s){var l=s.type,h=s.memoizedProps,b=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&b.focus();break e;case"img":h.src?b.src=h.src:h.srcSet&&(b.srcset=h.srcSet)}}catch(A){Rt(s,s.return,A)}}function w_(s,l,h){try{var b=s.stateNode;bF(b,s.type,h,l),b[Xn]=l}catch(A){Rt(s,s.return,A)}}function hj(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ul(s.type)||s.tag===4}function S_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||hj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ul(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function E_(s,l,h){var b=s.tag;if(b===5||b===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Gr));else if(b!==4&&(b===27&&ul(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(E_(s,l,h),s=s.sibling;s!==null;)E_(s,l,h),s=s.sibling}function Sg(s,l,h){var b=s.tag;if(b===5||b===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(b!==4&&(b===27&&ul(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Sg(s,l,h),s=s.sibling;s!==null;)Sg(s,l,h),s=s.sibling}function mj(s){var l=s.stateNode,h=s.memoizedProps;try{for(var b=s.type,A=l.attributes;A.length;)l.removeAttributeNode(A[0]);fr(l,b,h),l[An]=s,l[Xn]=h}catch(j){Rt(s,s.return,j)}}var Ko=!1,Cn=!1,k_=!1,pj=typeof WeakSet=="function"?WeakSet:Set,er=null;function XU(s,l){if(s=s.containerInfo,Y_=Gg,s=rc(s),Qa(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var b=h.getSelection&&h.getSelection();if(b&&b.rangeCount!==0){h=b.anchorNode;var A=b.anchorOffset,j=b.focusNode;b=b.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var I=0,G=-1,te=-1,he=0,Ee=0,Te=s,ye=null;t:for(;;){for(var xe;Te!==h||A!==0&&Te.nodeType!==3||(G=I+A),Te!==j||b!==0&&Te.nodeType!==3||(te=I+b),Te.nodeType===3&&(I+=Te.nodeValue.length),(xe=Te.firstChild)!==null;)ye=Te,Te=xe;for(;;){if(Te===s)break t;if(ye===h&&++he===A&&(G=I),ye===j&&++Ee===b&&(te=I),(xe=Te.nextSibling)!==null)break;Te=ye,ye=Te.parentNode}Te=xe}h=G===-1||te===-1?null:{start:G,end:te}}else h=null}h=h||{start:0,end:0}}else h=null;for(K_={focusedElem:s,selectionRange:h},Gg=!1,er=l;er!==null;)if(l=er,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,er=s;else for(;er!==null;){switch(l=er,j=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)A=s[h],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&j!==null){s=void 0,h=l,A=j.memoizedProps,j=j.memoizedState,b=h.stateNode;try{var ze=vc(h.type,A);s=b.getSnapshotBeforeUpdate(ze,j),b.__reactInternalSnapshotBeforeUpdate=s}catch(Qe){Rt(h,h.return,Qe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)Z_(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Z_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,er=s;break}er=l.return}}function gj(s,l,h){var b=h.flags;switch(h.tag){case 0:case 11:case 15:Vo(s,h),b&4&&ah(5,h);break;case 1:if(Vo(s,h),b&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(I){Rt(h,h.return,I)}else{var A=vc(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(A,l,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Rt(h,h.return,I)}}b&64&&uj(h),b&512&&oh(h,h.return);break;case 3:if(Vo(s,h),b&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{eO(s,l)}catch(I){Rt(h,h.return,I)}}break;case 27:l===null&&b&4&&mj(h);case 26:case 5:Vo(s,h),l===null&&b&4&&fj(h),b&512&&oh(h,h.return);break;case 12:Vo(s,h);break;case 31:Vo(s,h),b&4&&vj(s,h);break;case 13:Vo(s,h),b&4&&xj(s,h),b&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=oF.bind(null,h),AF(s,h))));break;case 22:if(b=h.memoizedState!==null||Ko,!b){l=l!==null&&l.memoizedState!==null||Cn,A=Ko;var j=Cn;Ko=b,(Cn=l)&&!j?Zo(s,h,(h.subtreeFlags&8772)!==0):Vo(s,h),Ko=A,Cn=j}break;case 30:break;default:Vo(s,h)}}function yj(s){var l=s.alternate;l!==null&&(s.alternate=null,yj(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Sf(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,Vr=!1;function Wo(s,l,h){for(h=h.child;h!==null;)bj(s,l,h),h=h.sibling}function bj(s,l,h){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(qt,h)}catch{}switch(h.tag){case 26:Cn||so(h,l),Wo(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Cn||so(h,l);var b=tn,A=Vr;ul(h.type)&&(tn=h.stateNode,Vr=!1),Wo(s,l,h),ph(h.stateNode),tn=b,Vr=A;break;case 5:Cn||so(h,l);case 6:if(b=tn,A=Vr,tn=null,Wo(s,l,h),tn=b,Vr=A,tn!==null)if(Vr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(h.stateNode)}catch(j){Rt(h,l,j)}else try{tn.removeChild(h.stateNode)}catch(j){Rt(h,l,j)}break;case 18:tn!==null&&(Vr?(s=tn,uN(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Vu(s)):uN(tn,h.stateNode));break;case 4:b=tn,A=Vr,tn=h.stateNode.containerInfo,Vr=!0,Wo(s,l,h),tn=b,Vr=A;break;case 0:case 11:case 14:case 15:rl(2,h,l),Cn||rl(4,h,l),Wo(s,l,h);break;case 1:Cn||(so(h,l),b=h.stateNode,typeof b.componentWillUnmount=="function"&&dj(h,l,b)),Wo(s,l,h);break;case 21:Wo(s,l,h);break;case 22:Cn=(b=Cn)||h.memoizedState!==null,Wo(s,l,h),Cn=b;break;default:Wo(s,l,h)}}function vj(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Vu(s)}catch(h){Rt(l,l.return,h)}}}function xj(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Vu(s)}catch(h){Rt(l,l.return,h)}}function JU(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new pj),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new pj),l;default:throw Error(r(435,s.tag))}}function Eg(s,l){var h=JU(s);l.forEach(function(b){if(!h.has(b)){h.add(b);var A=sF.bind(null,s,b);b.then(A,A)}})}function Zr(s,l){var h=l.deletions;if(h!==null)for(var b=0;b<h.length;b++){var A=h[b],j=s,I=l,G=I;e:for(;G!==null;){switch(G.tag){case 27:if(ul(G.type)){tn=G.stateNode,Vr=!1;break e}break;case 5:tn=G.stateNode,Vr=!1;break e;case 3:case 4:tn=G.stateNode.containerInfo,Vr=!0;break e}G=G.return}if(tn===null)throw Error(r(160));bj(j,I,A),tn=null,Vr=!1,j=A.alternate,j!==null&&(j.return=null),A.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)_j(l,s),l=l.sibling}var Ta=null;function _j(s,l){var h=s.alternate,b=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Zr(l,s),Xr(s),b&4&&(rl(3,s,s.return),ah(3,s),rl(5,s,s.return));break;case 1:Zr(l,s),Xr(s),b&512&&(Cn||h===null||so(h,h.return)),b&64&&Ko&&(s=s.updateQueue,s!==null&&(b=s.callbacks,b!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?b:h.concat(b))));break;case 26:var A=Ta;if(Zr(l,s),Xr(s),b&512&&(Cn||h===null||so(h,h.return)),b&4){var j=h!==null?h.memoizedState:null;if(b=s.memoizedState,h===null)if(b===null)if(s.stateNode===null){e:{b=s.type,h=s.memoizedProps,A=A.ownerDocument||A;t:switch(b){case"title":j=A.getElementsByTagName("title")[0],(!j||j[Ul]||j[An]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=A.createElement(b),A.head.insertBefore(j,A.querySelector("head > title"))),fr(j,b,h),j[An]=s,Tn(j),b=j;break e;case"link":var I=_N("link","href",A).get(b+(h.href||""));if(I){for(var G=0;G<I.length;G++)if(j=I[G],j.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&j.getAttribute("rel")===(h.rel==null?null:h.rel)&&j.getAttribute("title")===(h.title==null?null:h.title)&&j.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){I.splice(G,1);break t}}j=A.createElement(b),fr(j,b,h),A.head.appendChild(j);break;case"meta":if(I=_N("meta","content",A).get(b+(h.content||""))){for(G=0;G<I.length;G++)if(j=I[G],j.getAttribute("content")===(h.content==null?null:""+h.content)&&j.getAttribute("name")===(h.name==null?null:h.name)&&j.getAttribute("property")===(h.property==null?null:h.property)&&j.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&j.getAttribute("charset")===(h.charSet==null?null:h.charSet)){I.splice(G,1);break t}}j=A.createElement(b),fr(j,b,h),A.head.appendChild(j);break;default:throw Error(r(468,b))}j[An]=s,Tn(j),b=j}s.stateNode=b}else wN(A,s.type,s.stateNode);else s.stateNode=xN(A,b,s.memoizedProps);else j!==b?(j===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):j.count--,b===null?wN(A,s.type,s.stateNode):xN(A,b,s.memoizedProps)):b===null&&s.stateNode!==null&&w_(s,s.memoizedProps,h.memoizedProps)}break;case 27:Zr(l,s),Xr(s),b&512&&(Cn||h===null||so(h,h.return)),h!==null&&b&4&&w_(s,s.memoizedProps,h.memoizedProps);break;case 5:if(Zr(l,s),Xr(s),b&512&&(Cn||h===null||so(h,h.return)),s.flags&32){A=s.stateNode;try{Gi(A,"")}catch(ze){Rt(s,s.return,ze)}}b&4&&s.stateNode!=null&&(A=s.memoizedProps,w_(s,A,h!==null?h.memoizedProps:A)),b&1024&&(k_=!0);break;case 6:if(Zr(l,s),Xr(s),b&4){if(s.stateNode===null)throw Error(r(162));b=s.memoizedProps,h=s.stateNode;try{h.nodeValue=b}catch(ze){Rt(s,s.return,ze)}}break;case 3:if(zg=null,A=Ta,Ta=$g(l.containerInfo),Zr(l,s),Ta=A,Xr(s),b&4&&h!==null&&h.memoizedState.isDehydrated)try{Vu(l.containerInfo)}catch(ze){Rt(s,s.return,ze)}k_&&(k_=!1,wj(s));break;case 4:b=Ta,Ta=$g(s.stateNode.containerInfo),Zr(l,s),Xr(s),Ta=b;break;case 12:Zr(l,s),Xr(s);break;case 31:Zr(l,s),Xr(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,Eg(s,b)));break;case 13:Zr(l,s),Xr(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Ag=Be()),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,Eg(s,b)));break;case 22:A=s.memoizedState!==null;var te=h!==null&&h.memoizedState!==null,he=Ko,Ee=Cn;if(Ko=he||A,Cn=Ee||te,Zr(l,s),Cn=Ee,Ko=he,Xr(s),b&8192)e:for(l=s.stateNode,l._visibility=A?l._visibility&-2:l._visibility|1,A&&(h===null||te||Ko||Cn||xc(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){te=h=l;try{if(j=te.stateNode,A)I=j.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{G=te.stateNode;var Te=te.memoizedProps.style,ye=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;G.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(ze){Rt(te,te.return,ze)}}}else if(l.tag===6){if(h===null){te=l;try{te.stateNode.nodeValue=A?"":te.memoizedProps}catch(ze){Rt(te,te.return,ze)}}}else if(l.tag===18){if(h===null){te=l;try{var xe=te.stateNode;A?dN(xe,!0):dN(te.stateNode,!1)}catch(ze){Rt(te,te.return,ze)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}b&4&&(b=s.updateQueue,b!==null&&(h=b.retryQueue,h!==null&&(b.retryQueue=null,Eg(s,h))));break;case 19:Zr(l,s),Xr(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,Eg(s,b)));break;case 30:break;case 21:break;default:Zr(l,s),Xr(s)}}function Xr(s){var l=s.flags;if(l&2){try{for(var h,b=s.return;b!==null;){if(hj(b)){h=b;break}b=b.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var A=h.stateNode,j=S_(s);Sg(s,j,A);break;case 5:var I=h.stateNode;h.flags&32&&(Gi(I,""),h.flags&=-33);var G=S_(s);Sg(s,G,I);break;case 3:case 4:var te=h.stateNode.containerInfo,he=S_(s);E_(s,he,te);break;default:throw Error(r(161))}}catch(Ee){Rt(s,s.return,Ee)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function wj(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;wj(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Vo(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)gj(s,l.alternate,l),l=l.sibling}function xc(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:rl(4,l,l.return),xc(l);break;case 1:so(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&dj(l,l.return,h),xc(l);break;case 27:ph(l.stateNode);case 26:case 5:so(l,l.return),xc(l);break;case 22:l.memoizedState===null&&xc(l);break;case 30:xc(l);break;default:xc(l)}s=s.sibling}}function Zo(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var b=l.alternate,A=s,j=l,I=j.flags;switch(j.tag){case 0:case 11:case 15:Zo(A,j,h),ah(4,j);break;case 1:if(Zo(A,j,h),b=j,A=b.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(he){Rt(b,b.return,he)}if(b=j,A=b.updateQueue,A!==null){var G=b.stateNode;try{var te=A.shared.hiddenCallbacks;if(te!==null)for(A.shared.hiddenCallbacks=null,A=0;A<te.length;A++)QT(te[A],G)}catch(he){Rt(b,b.return,he)}}h&&I&64&&uj(j),oh(j,j.return);break;case 27:mj(j);case 26:case 5:Zo(A,j,h),h&&b===null&&I&4&&fj(j),oh(j,j.return);break;case 12:Zo(A,j,h);break;case 31:Zo(A,j,h),h&&I&4&&vj(A,j);break;case 13:Zo(A,j,h),h&&I&4&&xj(A,j);break;case 22:j.memoizedState===null&&Zo(A,j,h),oh(j,j.return);break;case 30:break;default:Zo(A,j,h)}l=l.sibling}}function A_(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Yf(h))}function T_(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Yf(s))}function Oa(s,l,h,b){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Sj(s,l,h,b),l=l.sibling}function Sj(s,l,h,b){var A=l.flags;switch(l.tag){case 0:case 11:case 15:Oa(s,l,h,b),A&2048&&ah(9,l);break;case 1:Oa(s,l,h,b);break;case 3:Oa(s,l,h,b),A&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Yf(s)));break;case 12:if(A&2048){Oa(s,l,h,b),s=l.stateNode;try{var j=l.memoizedProps,I=j.id,G=j.onPostCommit;typeof G=="function"&&G(I,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Rt(l,l.return,te)}}else Oa(s,l,h,b);break;case 31:Oa(s,l,h,b);break;case 13:Oa(s,l,h,b);break;case 23:break;case 22:j=l.stateNode,I=l.alternate,l.memoizedState!==null?j._visibility&2?Oa(s,l,h,b):sh(s,l):j._visibility&2?Oa(s,l,h,b):(j._visibility|=2,$u(s,l,h,b,(l.subtreeFlags&10256)!==0||!1)),A&2048&&A_(I,l);break;case 24:Oa(s,l,h,b),A&2048&&T_(l.alternate,l);break;default:Oa(s,l,h,b)}}function $u(s,l,h,b,A){for(A=A&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var j=s,I=l,G=h,te=b,he=I.flags;switch(I.tag){case 0:case 11:case 15:$u(j,I,G,te,A),ah(8,I);break;case 23:break;case 22:var Ee=I.stateNode;I.memoizedState!==null?Ee._visibility&2?$u(j,I,G,te,A):sh(j,I):(Ee._visibility|=2,$u(j,I,G,te,A)),A&&he&2048&&A_(I.alternate,I);break;case 24:$u(j,I,G,te,A),A&&he&2048&&T_(I.alternate,I);break;default:$u(j,I,G,te,A)}l=l.sibling}}function sh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,b=l,A=b.flags;switch(b.tag){case 22:sh(h,b),A&2048&&A_(b.alternate,b);break;case 24:sh(h,b),A&2048&&T_(b.alternate,b);break;default:sh(h,b)}l=l.sibling}}var lh=8192;function Bu(s,l,h){if(s.subtreeFlags&lh)for(s=s.child;s!==null;)Ej(s,l,h),s=s.sibling}function Ej(s,l,h){switch(s.tag){case 26:Bu(s,l,h),s.flags&lh&&s.memoizedState!==null&&$F(h,Ta,s.memoizedState,s.memoizedProps);break;case 5:Bu(s,l,h);break;case 3:case 4:var b=Ta;Ta=$g(s.stateNode.containerInfo),Bu(s,l,h),Ta=b;break;case 22:s.memoizedState===null&&(b=s.alternate,b!==null&&b.memoizedState!==null?(b=lh,lh=16777216,Bu(s,l,h),lh=b):Bu(s,l,h));break;default:Bu(s,l,h)}}function kj(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function ch(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var b=l[h];er=b,Tj(b,s)}kj(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Aj(s),s=s.sibling}function Aj(s){switch(s.tag){case 0:case 11:case 15:ch(s),s.flags&2048&&rl(9,s,s.return);break;case 3:ch(s);break;case 12:ch(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,kg(s)):ch(s);break;default:ch(s)}}function kg(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var b=l[h];er=b,Tj(b,s)}kj(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:rl(8,l,l.return),kg(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,kg(l));break;default:kg(l)}s=s.sibling}}function Tj(s,l){for(;er!==null;){var h=er;switch(h.tag){case 0:case 11:case 15:rl(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var b=h.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Yf(h.memoizedState.cache)}if(b=h.child,b!==null)b.return=h,er=b;else e:for(h=s;er!==null;){b=er;var A=b.sibling,j=b.return;if(yj(b),b===h){er=null;break e}if(A!==null){A.return=j,er=A;break e}er=j}}}var QU={getCacheForType:function(s){var l=ur(On),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h},cacheSignal:function(){return ur(On).controller.signal}},eF=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ft=null,dt=null,mt=0,Dt=0,Si=null,il=!1,zu=!1,O_=!1,Xo=0,yn=0,al=0,_c=0,j_=0,Ei=0,Uu=0,uh=null,Jr=null,N_=!1,Ag=0,Oj=0,Tg=1/0,Og=null,ol=null,Bn=0,sl=null,Fu=null,Jo=0,C_=0,M_=null,jj=null,dh=0,P_=null;function ki(){return(Tt&2)!==0&&mt!==0?mt&-mt:Y.T!==null?B_():_f()}function Nj(){if(Ei===0)if((mt&536870912)===0||ut){var s=$l;$l<<=1,($l&3932160)===0&&($l=262144),Ei=s}else Ei=536870912;return s=_i.current,s!==null&&(s.flags|=32),Ei}function Qr(s,l,h){(s===Ft&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)&&(Hu(s,0),ll(s,mt,Ei,!1)),Co(s,h),((Tt&2)===0||s!==Ft)&&(s===Ft&&((Tt&2)===0&&(_c|=h),yn===4&&ll(s,mt,Ei,!1)),lo(s))}function Cj(s,l,h){if((Tt&6)!==0)throw Error(r(327));var b=!h&&(l&127)===0&&(l&s.expiredLanes)===0||zl(s,l),A=b?rF(s,l):R_(s,l,!0),j=b;do{if(A===0){zu&&!b&&ll(s,l,0,!1);break}else{if(h=s.current.alternate,j&&!tF(h)){A=R_(s,l,!1),j=!1;continue}if(A===2){if(j=l,s.errorRecoveryDisabledLanes&j)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var G=s;A=uh;var te=G.current.memoizedState.isDehydrated;if(te&&(Hu(G,I).flags|=256),I=R_(G,I,!1),I!==2){if(O_&&!te){G.errorRecoveryDisabledLanes|=j,_c|=j,A=4;break e}j=Jr,Jr=A,j!==null&&(Jr===null?Jr=j:Jr.push.apply(Jr,j))}A=I}if(j=!1,A!==2)continue}}if(A===1){Hu(s,0),ll(s,l,0,!0);break}e:{switch(b=s,j=A,j){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ll(b,l,Ei,!il);break e;case 2:Jr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(A=Ag+300-Be(),10<A)){if(ll(b,l,Ei,!il),cu(b,0,!0)!==0)break e;Jo=l,b.timeoutHandle=lN(Mj.bind(null,b,h,Jr,Og,N_,l,Ei,_c,Uu,il,j,"Throttled",-0,0),A);break e}Mj(b,h,Jr,Og,N_,l,Ei,_c,Uu,il,j,null,-0,0)}}break}while(!0);lo(s)}function Mj(s,l,h,b,A,j,I,G,te,he,Ee,Te,ye,xe){if(s.timeoutHandle=-1,Te=l.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gr},Ej(l,j,Te);var ze=(j&62914560)===j?Ag-Be():(j&4194048)===j?Oj-Be():0;if(ze=BF(Te,ze),ze!==null){Jo=j,s.cancelPendingCommit=ze(zj.bind(null,s,l,j,h,b,A,I,G,te,Ee,Te,null,ye,xe)),ll(s,j,I,!he);return}}zj(s,l,j,h,b,A,I,G,te)}function tF(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var b=0;b<h.length;b++){var A=h[b],j=A.getSnapshot;A=A.value;try{if(!Jn(j(),A))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ll(s,l,h,b){l&=~j_,l&=~_c,s.suspendedLanes|=l,s.pingedLanes&=~l,b&&(s.warmLanes|=l),b=s.expirationTimes;for(var A=l;0<A;){var j=31-Or(A),I=1<<j;b[j]=-1,A&=~I}h!==0&&Tp(s,h,l)}function jg(){return(Tt&6)===0?(fh(0),!1):!0}function D_(){if(dt!==null){if(Dt===0)var s=dt.return;else s=dt,Aa=oo=null,Zx(s),Pu=null,Wf=0,s=dt;for(;s!==null;)cj(s.alternate,s),s=s.return;dt=null}}function Hu(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,_F(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Jo=0,D_(),Ft=s,dt=h=Xi(s.current,null),mt=l,Dt=0,Si=null,il=!1,zu=zl(s,l),O_=!1,Uu=Ei=j_=_c=al=yn=0,Jr=uh=null,N_=!1,(l&8)!==0&&(l|=l&32);var b=s.entangledLanes;if(b!==0)for(s=s.entanglements,b&=l;0<b;){var A=31-Or(b),j=1<<A;l|=s[A],b&=~j}return Xo=l,lc(),h}function Pj(s,l){it=null,Y.H=nh,l===Mu||l===ig?(l=VT(),Dt=3):l===$x?(l=VT(),Dt=4):Dt=l===f_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Si=l,dt===null&&(yn=1,bg(s,y(l,s.current)))}function Dj(){var s=_i.current;return s===null?!0:(mt&4194048)===mt?Ji===null:(mt&62914560)===mt||(mt&536870912)!==0?s===Ji:!1}function Rj(){var s=Y.H;return Y.H=nh,s===null?nh:s}function Lj(){var s=Y.A;return Y.A=QU,s}function Ng(){yn=4,il||(mt&4194048)!==mt&&_i.current!==null||(zu=!0),(al&134217727)===0&&(_c&134217727)===0||Ft===null||ll(Ft,mt,Ei,!1)}function R_(s,l,h){var b=Tt;Tt|=2;var A=Rj(),j=Lj();(Ft!==s||mt!==l)&&(Og=null,Hu(s,l)),l=!1;var I=yn;e:do try{if(Dt!==0&&dt!==null){var G=dt,te=Si;switch(Dt){case 8:D_(),I=6;break e;case 3:case 2:case 9:case 6:_i.current===null&&(l=!0);var he=Dt;if(Dt=0,Si=null,Gu(s,G,te,he),h&&zu){I=0;break e}break;default:he=Dt,Dt=0,Si=null,Gu(s,G,te,he)}}nF(),I=yn;break}catch(Ee){Pj(s,Ee)}while(!0);return l&&s.shellSuspendCounter++,Aa=oo=null,Tt=b,Y.H=A,Y.A=j,dt===null&&(Ft=null,mt=0,lc()),I}function nF(){for(;dt!==null;)Ij(dt)}function rF(s,l){var h=Tt;Tt|=2;var b=Rj(),A=Lj();Ft!==s||mt!==l?(Og=null,Tg=Be()+500,Hu(s,l)):zu=zl(s,l);e:do try{if(Dt!==0&&dt!==null){l=dt;var j=Si;t:switch(Dt){case 1:Dt=0,Si=null,Gu(s,l,j,1);break;case 2:case 9:if(KT(j)){Dt=0,Si=null,$j(l);break}l=function(){Dt!==2&&Dt!==9||Ft!==s||(Dt=7),lo(s)},j.then(l,l);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:KT(j)?(Dt=0,Si=null,$j(l)):(Dt=0,Si=null,Gu(s,l,j,7));break;case 5:var I=null;switch(dt.tag){case 26:I=dt.memoizedState;case 5:case 27:var G=dt;if(I?SN(I):G.stateNode.complete){Dt=0,Si=null;var te=G.sibling;if(te!==null)dt=te;else{var he=G.return;he!==null?(dt=he,Cg(he)):dt=null}break t}}Dt=0,Si=null,Gu(s,l,j,5);break;case 6:Dt=0,Si=null,Gu(s,l,j,6);break;case 8:D_(),yn=6;break e;default:throw Error(r(462))}}iF();break}catch(Ee){Pj(s,Ee)}while(!0);return Aa=oo=null,Y.H=b,Y.A=A,Tt=h,dt!==null?0:(Ft=null,mt=0,lc(),yn)}function iF(){for(;dt!==null&&!fe();)Ij(dt)}function Ij(s){var l=sj(s.alternate,s,Xo);s.memoizedProps=s.pendingProps,l===null?Cg(s):dt=l}function $j(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=tj(h,l,l.pendingProps,l.type,void 0,mt);break;case 11:l=tj(h,l,l.pendingProps,l.type.render,l.ref,mt);break;case 5:Zx(l);default:cj(h,l),l=dt=Uf(l,Xo),l=sj(h,l,Xo)}s.memoizedProps=s.pendingProps,l===null?Cg(s):dt=l}function Gu(s,l,h,b){Aa=oo=null,Zx(l),Pu=null,Wf=0;var A=l.return;try{if(YU(s,A,l,h,mt)){yn=1,bg(s,y(h,s.current)),dt=null;return}}catch(j){if(A!==null)throw dt=A,j;yn=1,bg(s,y(h,s.current)),dt=null;return}l.flags&32768?(ut||b===1?s=!0:zu||(mt&536870912)!==0?s=!1:(il=s=!0,(b===2||b===9||b===3||b===6)&&(b=_i.current,b!==null&&b.tag===13&&(b.flags|=16384))),Bj(l,s)):Cg(l)}function Cg(s){var l=s;do{if((l.flags&32768)!==0){Bj(l,il);return}s=l.return;var h=VU(l.alternate,l,Xo);if(h!==null){dt=h;return}if(l=l.sibling,l!==null){dt=l;return}dt=l=s}while(l!==null);yn===0&&(yn=5)}function Bj(s,l){do{var h=ZU(s.alternate,s);if(h!==null){h.flags&=32767,dt=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){dt=s;return}dt=s=h}while(s!==null);yn=6,dt=null}function zj(s,l,h,b,A,j,I,G,te){s.cancelPendingCommit=null;do Mg();while(Bn!==0);if((Tt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(j=l.lanes|l.childLanes,j|=ku,yx(s,h,j,I,G,te),s===Ft&&(dt=Ft=null,mt=0),Fu=l,sl=s,Jo=h,C_=j,M_=A,jj=b,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lF(Zn,function(){return qj(),null})):(s.callbackNode=null,s.callbackPriority=0),b=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||b){b=Y.T,Y.T=null,A=X.p,X.p=2,I=Tt,Tt|=4;try{XU(s,l,h)}finally{Tt=I,X.p=A,Y.T=b}}Bn=1,Uj(),Fj(),Hj()}}function Uj(){if(Bn===1){Bn=0;var s=sl,l=Fu,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null;var b=X.p;X.p=2;var A=Tt;Tt|=4;try{_j(l,s);var j=K_,I=rc(s.containerInfo),G=j.focusedElem,te=j.selectionRange;if(I!==G&&G&&G.ownerDocument&&_u(G.ownerDocument.documentElement,G)){if(te!==null&&Qa(G)){var he=te.start,Ee=te.end;if(Ee===void 0&&(Ee=he),"selectionStart"in G)G.selectionStart=he,G.selectionEnd=Math.min(Ee,G.value.length);else{var Te=G.ownerDocument||document,ye=Te&&Te.defaultView||window;if(ye.getSelection){var xe=ye.getSelection(),ze=G.textContent.length,Qe=Math.min(te.start,ze),zt=te.end===void 0?Qe:Math.min(te.end,ze);!xe.extend&&Qe>zt&&(I=zt,zt=Qe,Qe=I);var le=nc(G,Qe),ie=nc(G,zt);if(le&&ie&&(xe.rangeCount!==1||xe.anchorNode!==le.node||xe.anchorOffset!==le.offset||xe.focusNode!==ie.node||xe.focusOffset!==ie.offset)){var de=Te.createRange();de.setStart(le.node,le.offset),xe.removeAllRanges(),Qe>zt?(xe.addRange(de),xe.extend(ie.node,ie.offset)):(de.setEnd(ie.node,ie.offset),xe.addRange(de))}}}}for(Te=[],xe=G;xe=xe.parentNode;)xe.nodeType===1&&Te.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Te.length;G++){var ke=Te[G];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Gg=!!Y_,K_=Y_=null}finally{Tt=A,X.p=b,Y.T=h}}s.current=l,Bn=2}}function Fj(){if(Bn===2){Bn=0;var s=sl,l=Fu,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=Y.T,Y.T=null;var b=X.p;X.p=2;var A=Tt;Tt|=4;try{gj(s,l.alternate,l)}finally{Tt=A,X.p=b,Y.T=h}}Bn=3}}function Hj(){if(Bn===4||Bn===3){Bn=0,Me();var s=sl,l=Fu,h=Jo,b=jj;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Bn=5:(Bn=0,Fu=sl=null,Gj(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(ol=null),He(h),l=l.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(qt,l,void 0,(l.current.flags&128)===128)}catch{}if(b!==null){l=Y.T,A=X.p,X.p=2,Y.T=null;try{for(var j=s.onRecoverableError,I=0;I<b.length;I++){var G=b[I];j(G.value,{componentStack:G.stack})}}finally{Y.T=l,X.p=A}}(Jo&3)!==0&&Mg(),lo(s),A=s.pendingLanes,(h&261930)!==0&&(A&42)!==0?s===P_?dh++:(dh=0,P_=s):dh=0,fh(0)}}function Gj(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Yf(l)))}function Mg(){return Uj(),Fj(),Hj(),qj()}function qj(){if(Bn!==5)return!1;var s=sl,l=C_;C_=0;var h=He(Jo),b=Y.T,A=X.p;try{X.p=32>h?32:h,Y.T=null,h=M_,M_=null;var j=sl,I=Jo;if(Bn=0,Fu=sl=null,Jo=0,(Tt&6)!==0)throw Error(r(331));var G=Tt;if(Tt|=4,Aj(j.current),Sj(j,j.current,I,h),Tt=G,fh(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(qt,j)}catch{}return!0}finally{X.p=A,Y.T=b,Gj(s,l)}}function Yj(s,l,h){l=y(h,l),l=d_(s.stateNode,l,2),s=el(s,l,2),s!==null&&(Co(s,2),lo(s))}function Rt(s,l,h){if(s.tag===3)Yj(s,s,h);else for(;l!==null;){if(l.tag===3){Yj(l,s,h);break}else if(l.tag===1){var b=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(ol===null||!ol.has(b))){s=y(h,s),h=KO(2),b=el(l,h,2),b!==null&&(WO(h,b,l,s),Co(b,2),lo(b));break}}l=l.return}}function L_(s,l,h){var b=s.pingCache;if(b===null){b=s.pingCache=new eF;var A=new Set;b.set(l,A)}else A=b.get(l),A===void 0&&(A=new Set,b.set(l,A));A.has(h)||(O_=!0,A.add(h),s=aF.bind(null,s,l,h),l.then(s,s))}function aF(s,l,h){var b=s.pingCache;b!==null&&b.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,Ft===s&&(mt&h)===h&&(yn===4||yn===3&&(mt&62914560)===mt&&300>Be()-Ag?(Tt&2)===0&&Hu(s,0):j_|=h,Uu===mt&&(Uu=0)),lo(s)}function Kj(s,l){l===0&&(l=Ap()),s=Zi(s,l),s!==null&&(Co(s,l),lo(s))}function oF(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),Kj(s,h)}function sF(s,l){var h=0;switch(s.tag){case 31:case 13:var b=s.stateNode,A=s.memoizedState;A!==null&&(h=A.retryLane);break;case 19:b=s.stateNode;break;case 22:b=s.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(l),Kj(s,h)}function lF(s,l){return xt(s,l)}var Pg=null,qu=null,I_=!1,Dg=!1,$_=!1,cl=0;function lo(s){s!==qu&&s.next===null&&(qu===null?Pg=qu=s:qu=qu.next=s),Dg=!0,I_||(I_=!0,uF())}function fh(s,l){if(!$_&&Dg){$_=!0;do for(var h=!1,b=Pg;b!==null;){if(s!==0){var A=b.pendingLanes;if(A===0)var j=0;else{var I=b.suspendedLanes,G=b.pingedLanes;j=(1<<31-Or(42|s)+1)-1,j&=A&~(I&~G),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(h=!0,Xj(b,j))}else j=mt,j=cu(b,b===Ft?j:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(j&3)===0||zl(b,j)||(h=!0,Xj(b,j));b=b.next}while(h);$_=!1}}function cF(){Wj()}function Wj(){Dg=I_=!1;var s=0;cl!==0&&xF()&&(s=cl);for(var l=Be(),h=null,b=Pg;b!==null;){var A=b.next,j=Vj(b,l);j===0?(b.next=null,h===null?Pg=A:h.next=A,A===null&&(qu=h)):(h=b,(s!==0||(j&3)!==0)&&(Dg=!0)),b=A}Bn!==0&&Bn!==5||fh(s),cl!==0&&(cl=0)}function Vj(s,l){for(var h=s.suspendedLanes,b=s.pingedLanes,A=s.expirationTimes,j=s.pendingLanes&-62914561;0<j;){var I=31-Or(j),G=1<<I,te=A[I];te===-1?((G&h)===0||(G&b)!==0)&&(A[I]=gx(G,l)):te<=l&&(s.expiredLanes|=G),j&=~G}if(l=Ft,h=mt,h=cu(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b=s.callbackNode,h===0||s===l&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)return b!==null&&b!==null&&Pt(b),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||zl(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(b!==null&&Pt(b),He(h)){case 2:case 8:h=yt;break;case 32:h=Zn;break;case 268435456:h=pi;break;default:h=Zn}return b=Zj.bind(null,s),h=xt(h,b),s.callbackPriority=l,s.callbackNode=h,l}return b!==null&&b!==null&&Pt(b),s.callbackPriority=2,s.callbackNode=null,2}function Zj(s,l){if(Bn!==0&&Bn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(Mg()&&s.callbackNode!==h)return null;var b=mt;return b=cu(s,s===Ft?b:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b===0?null:(Cj(s,b,l),Vj(s,Be()),s.callbackNode!=null&&s.callbackNode===h?Zj.bind(null,s):null)}function Xj(s,l){if(Mg())return null;Cj(s,l,!0)}function uF(){wF(function(){(Tt&6)!==0?xt(jt,cF):Wj()})}function B_(){if(cl===0){var s=Nu;s===0&&(s=Il,Il<<=1,(Il&261888)===0&&(Il=256)),cl=s}return cl}function Jj(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:$s(""+s)}function Qj(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function dF(s,l,h,b,A){if(l==="submit"&&h&&h.stateNode===A){var j=Jj((A[Xn]||null).action),I=b.submitter;I&&(l=(l=I[Xn]||null)?Jj(l.formAction):I.getAttribute("formAction"),l!==null&&(j=l,I=null));var G=new mu("action","action",null,b,A);s.push({event:G,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(cl!==0){var te=I?Qj(A,I):new FormData(A);a_(h,{pending:!0,data:te,method:A.method,action:j},null,te)}}else typeof j=="function"&&(G.preventDefault(),te=I?Qj(A,I):new FormData(A),a_(h,{pending:!0,data:te,method:A.method,action:j},j,te))},currentTarget:A}]})}}for(var z_=0;z_<no.length;z_++){var U_=no[z_],fF=U_.toLowerCase(),hF=U_[0].toUpperCase()+U_.slice(1);Yr(fF,"on"+hF)}Yr(ac,"onAnimationEnd"),Yr(Jp,"onAnimationIteration"),Yr(oc,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(Nx,"onTransitionRun"),Yr(Qp,"onTransitionStart"),Yr(Cx,"onTransitionCancel"),Yr(Vs,"onTransitionEnd"),Va("onMouseEnter",["mouseout","mouseover"]),Va("onMouseLeave",["mouseout","mouseover"]),Va("onPointerEnter",["pointerout","pointerover"]),Va("onPointerLeave",["pointerout","pointerover"]),Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Do("onBeforeInput",["compositionend","keypress","textInput","paste"]),Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hh));function eN(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var b=s[h],A=b.event;b=b.listeners;e:{var j=void 0;if(l)for(var I=b.length-1;0<=I;I--){var G=b[I],te=G.instance,he=G.currentTarget;if(G=G.listener,te!==j&&A.isPropagationStopped())break e;j=G,A.currentTarget=he;try{j(A)}catch(Ee){sc(Ee)}A.currentTarget=null,j=te}else for(I=0;I<b.length;I++){if(G=b[I],te=G.instance,he=G.currentTarget,G=G.listener,te!==j&&A.isPropagationStopped())break e;j=G,A.currentTarget=he;try{j(A)}catch(Ee){sc(Ee)}A.currentTarget=null,j=te}}}}function ft(s,l){var h=l[Ka];h===void 0&&(h=l[Ka]=new Set);var b=s+"__bubble";h.has(b)||(tN(l,s,2,!1),h.add(b))}function F_(s,l,h){var b=0;l&&(b|=4),tN(h,s,b,l)}var Rg="_reactListening"+Math.random().toString(36).slice(2);function H_(s){if(!s[Rg]){s[Rg]=!0,Mp.forEach(function(h){h!=="selectionchange"&&(mF.has(h)||F_(h,!1,s),F_(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Rg]||(l[Rg]=!0,F_("selectionchange",!1,l))}}function tN(s,l,h,b){switch(NN(l)){case 2:var A=FF;break;case 8:A=HF;break;default:A=iw}h=A.bind(null,l,h,s),A=void 0,!Kl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(A=!0),b?A!==void 0?s.addEventListener(l,h,{capture:!0,passive:A}):s.addEventListener(l,h,!0):A!==void 0?s.addEventListener(l,h,{passive:A}):s.addEventListener(l,h,!1)}function G_(s,l,h,b,A){var j=b;if((l&1)===0&&(l&2)===0&&b!==null)e:for(;;){if(b===null)return;var I=b.tag;if(I===3||I===4){var G=b.stateNode.containerInfo;if(G===A)break;if(I===4)for(I=b.return;I!==null;){var te=I.tag;if((te===3||te===4)&&I.stateNode.containerInfo===A)return;I=I.return}for(;G!==null;){if(I=Po(G),I===null)return;if(te=I.tag,te===5||te===6||te===26||te===27){b=j=I;continue e}G=G.parentNode}}b=b.return}Nf(function(){var he=j,Ee=Yl(h),Te=[];e:{var ye=eg.get(s);if(ye!==void 0){var xe=mu,ze=s;switch(s){case"keypress":if(Wl(h)===0)break e;case"keydown":case"keyup":xe=zp;break;case"focusin":ze="focus",xe=Pf;break;case"focusout":ze="blur",xe=Pf;break;case"beforeblur":case"afterblur":xe=Pf;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=vx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=Ex;break;case ac:case Jp:case oc:xe=Df;break;case Vs:xe=Hp;break;case"scroll":case"scrollend":xe=ht;break;case"wheel":xe=$o;break;case"copy":case"cut":case"paste":xe=Yi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Up;break;case"toggle":case"beforetoggle":xe=Xl}var Qe=(l&4)!==0,zt=!Qe&&(s==="scroll"||s==="scrollend"),le=Qe?ye!==null?ye+"Capture":null:ye;Qe=[];for(var ie=he,de;ie!==null;){var ke=ie;if(de=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||de===null||le===null||(ke=Lo(ie,le),ke!=null&&Qe.push(mh(ie,ke,de))),zt)break;ie=ie.return}0<Qe.length&&(ye=new xe(ye,ze,null,h,Ee),Te.push({event:ye,listeners:Qe}))}}if((l&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",ye&&h!==hu&&(ze=h.relatedTarget||h.fromElement)&&(Po(ze)||ze[Mo]))break e;if((xe||ye)&&(ye=Ee.window===Ee?Ee:(ye=Ee.ownerDocument)?ye.defaultView||ye.parentWindow:window,xe?(ze=h.relatedTarget||h.toElement,xe=he,ze=ze?Po(ze):null,ze!==null&&(zt=a(ze),Qe=ze.tag,ze!==zt||Qe!==5&&Qe!==27&&Qe!==6)&&(ze=null)):(xe=null,ze=he),xe!==ze)){if(Qe=Rp,ke="onMouseLeave",le="onMouseEnter",ie="mouse",(s==="pointerout"||s==="pointerover")&&(Qe=Up,ke="onPointerLeave",le="onPointerEnter",ie="pointer"),zt=xe==null?ye:Wa(xe),de=ze==null?ye:Wa(ze),ye=new Qe(ke,ie+"leave",xe,h,Ee),ye.target=zt,ye.relatedTarget=de,ke=null,Po(Ee)===he&&(Qe=new Qe(le,ie+"enter",ze,h,Ee),Qe.target=de,Qe.relatedTarget=zt,ke=Qe),zt=ke,xe&&ze)t:{for(Qe=pF,le=xe,ie=ze,de=0,ke=le;ke;ke=Qe(ke))de++;ke=0;for(var Xe=ie;Xe;Xe=Qe(Xe))ke++;for(;0<de-ke;)le=Qe(le),de--;for(;0<ke-de;)ie=Qe(ie),ke--;for(;de--;){if(le===ie||ie!==null&&le===ie.alternate){Qe=le;break t}le=Qe(le),ie=Qe(ie)}Qe=null}else Qe=null;xe!==null&&nN(Te,ye,xe,Qe,!1),ze!==null&&zt!==null&&nN(Te,zt,ze,Qe,!0)}}e:{if(ye=he?Wa(he):window,xe=ye.nodeName&&ye.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ye.type==="file")var St=tc;else if(Ki(ye))if(Kp)St=jx;else{St=Ox;var Fe=Sa}else xe=ye.nodeName,!xe||xe.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?he&&ql(he.elementType)&&(St=tc):St=qs;if(St&&(St=St(s,he))){Yp(Te,St,h,Ee);break e}Fe&&Fe(s,ye,he),s==="focusout"&&he&&ye.type==="number"&&he.memoizedProps.value!=null&&xa(ye,"number",ye.value)}switch(Fe=he?Wa(he):window,s){case"focusin":(Ki(Fe)||Fe.contentEditable==="true")&&(eo=Fe,Su=he,ic=null);break;case"focusout":ic=Su=eo=null;break;case"mousedown":Ks=!0;break;case"contextmenu":case"mouseup":case"dragend":Ks=!1,Zp(Te,h,Ee);break;case"selectionchange":if(wu)break;case"keydown":case"keyup":Zp(Te,h,Ee)}var st;if(gu)e:{switch(s){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Fs?qp(s,h)&&(pt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(pt="onCompositionStart");pt&&(yu&&h.locale!=="ko"&&(Fs||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Fs&&(st=Xa()):(qi=Ee,Io="value"in qi?qi.value:qi.textContent,Fs=!0)),Fe=Lg(he,pt),0<Fe.length&&(pt=new Rf(pt,s,null,h,Ee),Te.push({event:pt,listeners:Fe}),st?pt.data=st:(st=Bf(h),st!==null&&(pt.data=st)))),(st=Ax?xi(s,h):Hs(s,h))&&(pt=Lg(he,"onBeforeInput"),0<pt.length&&(Fe=new Rf("onBeforeInput","beforeinput",null,h,Ee),Te.push({event:Fe,listeners:pt}),Fe.data=st)),dF(Te,s,he,h,Ee)}eN(Te,l)})}function mh(s,l,h){return{instance:s,listener:l,currentTarget:h}}function Lg(s,l){for(var h=l+"Capture",b=[];s!==null;){var A=s,j=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||j===null||(A=Lo(s,h),A!=null&&b.unshift(mh(s,A,j)),A=Lo(s,l),A!=null&&b.push(mh(s,A,j))),s.tag===3)return b;s=s.return}return[]}function pF(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function nN(s,l,h,b,A){for(var j=l._reactName,I=[];h!==null&&h!==b;){var G=h,te=G.alternate,he=G.stateNode;if(G=G.tag,te!==null&&te===b)break;G!==5&&G!==26&&G!==27||he===null||(te=he,A?(he=Lo(h,j),he!=null&&I.unshift(mh(h,he,te))):A||(he=Lo(h,j),he!=null&&I.push(mh(h,he,te)))),h=h.return}I.length!==0&&s.push({event:l,listeners:I})}var gF=/\r\n?/g,yF=/\u0000|\uFFFD/g;function rN(s){return(typeof s=="string"?s:""+s).replace(gF,`
`).replace(yF,"")}function iN(s,l){return l=rN(l),rN(s)===l}function Bt(s,l,h,b,A,j){switch(h){case"children":typeof b=="string"?l==="body"||l==="textarea"&&b===""||Gi(s,b):(typeof b=="number"||typeof b=="bigint")&&l!=="body"&&Gi(s,""+b);break;case"className":It(s,"class",b);break;case"tabIndex":It(s,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":It(s,h,b);break;case"style":du(s,b,j);break;case"data":if(l!=="object"){It(s,"data",b);break}case"src":case"href":if(b===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(h);break}b=$s(""+b),s.setAttribute(h,b);break;case"action":case"formAction":if(typeof b=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(h==="formAction"?(l!=="input"&&Bt(s,l,"name",A.name,A,null),Bt(s,l,"formEncType",A.formEncType,A,null),Bt(s,l,"formMethod",A.formMethod,A,null),Bt(s,l,"formTarget",A.formTarget,A,null)):(Bt(s,l,"encType",A.encType,A,null),Bt(s,l,"method",A.method,A,null),Bt(s,l,"target",A.target,A,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(h);break}b=$s(""+b),s.setAttribute(h,b);break;case"onClick":b!=null&&(s.onclick=Gr);break;case"onScroll":b!=null&&ft("scroll",s);break;case"onScrollEnd":b!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":s.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){s.removeAttribute("xlink:href");break}h=$s(""+b),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,""+b):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":b===!0?s.setAttribute(h,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,b):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?s.setAttribute(h,b):s.removeAttribute(h);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?s.removeAttribute(h):s.setAttribute(h,b);break;case"popover":ft("beforetoggle",s),ft("toggle",s),ct(s,"popover",b);break;case"xlinkActuate":Hr(s,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Hr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Hr(s,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Hr(s,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Hr(s,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Hr(s,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Hr(s,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Hr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Hr(s,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":ct(s,"is",b);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=fu.get(h)||h,ct(s,h,b))}}function q_(s,l,h,b,A,j){switch(h){case"style":du(s,b,j);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof b=="string"?Gi(s,b):(typeof b=="number"||typeof b=="bigint")&&Gi(s,""+b);break;case"onScroll":b!=null&&ft("scroll",s);break;case"onScrollEnd":b!=null&&ft("scrollend",s);break;case"onClick":b!=null&&(s.onclick=Gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pp.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(A=h.endsWith("Capture"),l=h.slice(2,A?h.length-7:void 0),j=s[Xn]||null,j=j!=null?j[h]:null,typeof j=="function"&&s.removeEventListener(l,j,A),typeof b=="function")){typeof j!="function"&&j!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,b,A);break e}h in s?s[h]=b:b===!0?s.setAttribute(h,""):ct(s,h,b)}}}function fr(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var b=!1,A=!1,j;for(j in h)if(h.hasOwnProperty(j)){var I=h[j];if(I!=null)switch(j){case"src":b=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Bt(s,l,j,I,h,null)}}A&&Bt(s,l,"srcSet",h.srcSet,h,null),b&&Bt(s,l,"src",h.src,h,null);return;case"input":ft("invalid",s);var G=j=I=A=null,te=null,he=null;for(b in h)if(h.hasOwnProperty(b)){var Ee=h[b];if(Ee!=null)switch(b){case"name":A=Ee;break;case"type":I=Ee;break;case"checked":te=Ee;break;case"defaultChecked":he=Ee;break;case"value":j=Ee;break;case"defaultValue":G=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,l));break;default:Bt(s,l,b,Ee,h,null)}}Gl(s,j,G,te,he,I,A,!1);return;case"select":ft("invalid",s),b=I=j=null;for(A in h)if(h.hasOwnProperty(A)&&(G=h[A],G!=null))switch(A){case"value":j=G;break;case"defaultValue":I=G;break;case"multiple":b=G;default:Bt(s,l,A,G,h,null)}l=j,h=I,s.multiple=!!b,l!=null?Ut(s,!!b,l,!1):h!=null&&Ut(s,!!b,h,!0);return;case"textarea":ft("invalid",s),j=A=b=null;for(I in h)if(h.hasOwnProperty(I)&&(G=h[I],G!=null))switch(I){case"value":b=G;break;case"defaultValue":A=G;break;case"children":j=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Bt(s,l,I,G,h,null)}Ls(s,b,A,j);return;case"option":for(te in h)if(h.hasOwnProperty(te)&&(b=h[te],b!=null))switch(te){case"selected":s.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Bt(s,l,te,b,h,null)}return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(b=0;b<hh.length;b++)ft(hh[b],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in h)if(h.hasOwnProperty(he)&&(b=h[he],b!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Bt(s,l,he,b,h,null)}return;default:if(ql(l)){for(Ee in h)h.hasOwnProperty(Ee)&&(b=h[Ee],b!==void 0&&q_(s,l,Ee,b,h,void 0));return}}for(G in h)h.hasOwnProperty(G)&&(b=h[G],b!=null&&Bt(s,l,G,b,h,null))}function bF(s,l,h,b){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,j=null,I=null,G=null,te=null,he=null,Ee=null;for(xe in h){var Te=h[xe];if(h.hasOwnProperty(xe)&&Te!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":te=Te;default:b.hasOwnProperty(xe)||Bt(s,l,xe,null,b,Te)}}for(var ye in b){var xe=b[ye];if(Te=h[ye],b.hasOwnProperty(ye)&&(xe!=null||Te!=null))switch(ye){case"type":j=xe;break;case"name":A=xe;break;case"checked":he=xe;break;case"defaultChecked":Ee=xe;break;case"value":I=xe;break;case"defaultValue":G=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,l));break;default:xe!==Te&&Bt(s,l,ye,xe,b,Te)}}Tf(s,I,G,te,he,Ee,j,A);return;case"select":xe=I=G=ye=null;for(j in h)if(te=h[j],h.hasOwnProperty(j)&&te!=null)switch(j){case"value":break;case"multiple":xe=te;default:b.hasOwnProperty(j)||Bt(s,l,j,null,b,te)}for(A in b)if(j=b[A],te=h[A],b.hasOwnProperty(A)&&(j!=null||te!=null))switch(A){case"value":ye=j;break;case"defaultValue":G=j;break;case"multiple":I=j;default:j!==te&&Bt(s,l,A,j,b,te)}l=G,h=I,b=xe,ye!=null?Ut(s,!!h,ye,!1):!!b!=!!h&&(l!=null?Ut(s,!!h,l,!0):Ut(s,!!h,h?[]:"",!1));return;case"textarea":xe=ye=null;for(G in h)if(A=h[G],h.hasOwnProperty(G)&&A!=null&&!b.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Bt(s,l,G,null,b,A)}for(I in b)if(A=b[I],j=h[I],b.hasOwnProperty(I)&&(A!=null||j!=null))switch(I){case"value":ye=A;break;case"defaultValue":xe=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==j&&Bt(s,l,I,A,b,j)}Za(s,ye,xe);return;case"option":for(var ze in h)if(ye=h[ze],h.hasOwnProperty(ze)&&ye!=null&&!b.hasOwnProperty(ze))switch(ze){case"selected":s.selected=!1;break;default:Bt(s,l,ze,null,b,ye)}for(te in b)if(ye=b[te],xe=h[te],b.hasOwnProperty(te)&&ye!==xe&&(ye!=null||xe!=null))switch(te){case"selected":s.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:Bt(s,l,te,ye,b,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in h)ye=h[Qe],h.hasOwnProperty(Qe)&&ye!=null&&!b.hasOwnProperty(Qe)&&Bt(s,l,Qe,null,b,ye);for(he in b)if(ye=b[he],xe=h[he],b.hasOwnProperty(he)&&ye!==xe&&(ye!=null||xe!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,l));break;default:Bt(s,l,he,ye,b,xe)}return;default:if(ql(l)){for(var zt in h)ye=h[zt],h.hasOwnProperty(zt)&&ye!==void 0&&!b.hasOwnProperty(zt)&&q_(s,l,zt,void 0,b,ye);for(Ee in b)ye=b[Ee],xe=h[Ee],!b.hasOwnProperty(Ee)||ye===xe||ye===void 0&&xe===void 0||q_(s,l,Ee,ye,b,xe);return}}for(var le in h)ye=h[le],h.hasOwnProperty(le)&&ye!=null&&!b.hasOwnProperty(le)&&Bt(s,l,le,null,b,ye);for(Te in b)ye=b[Te],xe=h[Te],!b.hasOwnProperty(Te)||ye===xe||ye==null&&xe==null||Bt(s,l,Te,ye,b,xe)}function aN(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vF(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,h=performance.getEntriesByType("resource"),b=0;b<h.length;b++){var A=h[b],j=A.transferSize,I=A.initiatorType,G=A.duration;if(j&&G&&aN(I)){for(I=0,G=A.responseEnd,b+=1;b<h.length;b++){var te=h[b],he=te.startTime;if(he>G)break;var Ee=te.transferSize,Te=te.initiatorType;Ee&&aN(Te)&&(te=te.responseEnd,I+=Ee*(te<G?1:(G-he)/(te-he)))}if(--b,l+=8*(j+I)/(A.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Y_=null,K_=null;function Ig(s){return s.nodeType===9?s:s.ownerDocument}function oN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sN(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function W_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var V_=null;function xF(){var s=window.event;return s&&s.type==="popstate"?s===V_?!1:(V_=s,!0):(V_=null,!1)}var lN=typeof setTimeout=="function"?setTimeout:void 0,_F=typeof clearTimeout=="function"?clearTimeout:void 0,cN=typeof Promise=="function"?Promise:void 0,wF=typeof queueMicrotask=="function"?queueMicrotask:typeof cN<"u"?function(s){return cN.resolve(null).then(s).catch(SF)}:lN;function SF(s){setTimeout(function(){throw s})}function ul(s){return s==="head"}function uN(s,l){var h=l,b=0;do{var A=h.nextSibling;if(s.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"||h==="/&"){if(b===0){s.removeChild(A),Vu(l);return}b--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")b++;else if(h==="html")ph(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,ph(h);for(var j=h.firstChild;j;){var I=j.nextSibling,G=j.nodeName;j[Ul]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&j.rel.toLowerCase()==="stylesheet"||h.removeChild(j),j=I}}else h==="body"&&ph(s.ownerDocument.body);h=A}while(h);Vu(l)}function dN(s,l){var h=s;s=0;do{var b=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=b}while(h)}function Z_(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Z_(h),Sf(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function EF(s,l,h,b){for(;s.nodeType===1;){var A=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!b&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(b){if(!s[Ul])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(j=s.getAttribute("rel"),j==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(j!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(j=s.getAttribute("src"),(j!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&j&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var j=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===j)return s}else return s;if(s=Qi(s.nextSibling),s===null)break}return null}function kF(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Qi(s.nextSibling),s===null))return null;return s}function fN(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Qi(s.nextSibling),s===null))return null;return s}function X_(s){return s.data==="$?"||s.data==="$~"}function J_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function AF(s,l){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||h.readyState!=="loading")l();else{var b=function(){l(),h.removeEventListener("DOMContentLoaded",b)};h.addEventListener("DOMContentLoaded",b),s._reactRetry=b}}function Qi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var Q_=null;function hN(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(l===0)return Qi(s.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}s=s.nextSibling}return null}function mN(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return s;l--}else h!=="/$"&&h!=="/&"||l++}s=s.previousSibling}return null}function pN(s,l,h){switch(l=Ig(h),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function ph(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Sf(s)}var ea=new Map,gN=new Set;function $g(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Qo=X.d;X.d={f:TF,r:OF,D:jF,C:NF,L:CF,m:MF,X:DF,S:PF,M:RF};function TF(){var s=Qo.f(),l=jg();return s||l}function OF(s){var l=Ps(s);l!==null&&l.tag===5&&l.type==="form"?PO(l):Qo.r(s)}var Yu=typeof document>"u"?null:document;function yN(s,l,h){var b=Yu;if(b&&typeof l=="string"&&l){var A=Zt(l);A='link[rel="'+s+'"][href="'+A+'"]',typeof h=="string"&&(A+='[crossorigin="'+h+'"]'),gN.has(A)||(gN.add(A),s={rel:s,crossOrigin:h,href:l},b.querySelector(A)===null&&(l=b.createElement("link"),fr(l,"link",s),Tn(l),b.head.appendChild(l)))}}function jF(s){Qo.D(s),yN("dns-prefetch",s,null)}function NF(s,l){Qo.C(s,l),yN("preconnect",s,l)}function CF(s,l,h){Qo.L(s,l,h);var b=Yu;if(b&&s&&l){var A='link[rel="preload"][as="'+Zt(l)+'"]';l==="image"&&h&&h.imageSrcSet?(A+='[imagesrcset="'+Zt(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(A+='[imagesizes="'+Zt(h.imageSizes)+'"]')):A+='[href="'+Zt(s)+'"]';var j=A;switch(l){case"style":j=Ku(s);break;case"script":j=Wu(s)}ea.has(j)||(s=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),ea.set(j,s),b.querySelector(A)!==null||l==="style"&&b.querySelector(gh(j))||l==="script"&&b.querySelector(yh(j))||(l=b.createElement("link"),fr(l,"link",s),Tn(l),b.head.appendChild(l)))}}function MF(s,l){Qo.m(s,l);var h=Yu;if(h&&s){var b=l&&typeof l.as=="string"?l.as:"script",A='link[rel="modulepreload"][as="'+Zt(b)+'"][href="'+Zt(s)+'"]',j=A;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Wu(s)}if(!ea.has(j)&&(s=p({rel:"modulepreload",href:s},l),ea.set(j,s),h.querySelector(A)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(yh(j)))return}b=h.createElement("link"),fr(b,"link",s),Tn(b),h.head.appendChild(b)}}}function PF(s,l,h){Qo.S(s,l,h);var b=Yu;if(b&&s){var A=Ds(b).hoistableStyles,j=Ku(s);l=l||"default";var I=A.get(j);if(!I){var G={loading:0,preload:null};if(I=b.querySelector(gh(j)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":l},h),(h=ea.get(j))&&ew(s,h);var te=I=b.createElement("link");Tn(te),fr(te,"link",s),te._p=new Promise(function(he,Ee){te.onload=he,te.onerror=Ee}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Bg(I,l,b)}I={type:"stylesheet",instance:I,count:1,state:G},A.set(j,I)}}}function DF(s,l){Qo.X(s,l);var h=Yu;if(h&&s){var b=Ds(h).hoistableScripts,A=Wu(s),j=b.get(A);j||(j=h.querySelector(yh(A)),j||(s=p({src:s,async:!0},l),(l=ea.get(A))&&tw(s,l),j=h.createElement("script"),Tn(j),fr(j,"link",s),h.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},b.set(A,j))}}function RF(s,l){Qo.M(s,l);var h=Yu;if(h&&s){var b=Ds(h).hoistableScripts,A=Wu(s),j=b.get(A);j||(j=h.querySelector(yh(A)),j||(s=p({src:s,async:!0,type:"module"},l),(l=ea.get(A))&&tw(s,l),j=h.createElement("script"),Tn(j),fr(j,"link",s),h.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},b.set(A,j))}}function bN(s,l,h,b){var A=(A=me.current)?$g(A):null;if(!A)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Ku(h.href),h=Ds(A).hoistableStyles,b=h.get(l),b||(b={type:"style",instance:null,count:0,state:null},h.set(l,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Ku(h.href);var j=Ds(A).hoistableStyles,I=j.get(s);if(I||(A=A.ownerDocument||A,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(s,I),(j=A.querySelector(gh(s)))&&!j._p&&(I.instance=j,I.state.loading=5),ea.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ea.set(s,h),j||LF(A,s,h,I.state))),l&&b===null)throw Error(r(528,""));return I}if(l&&b!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Wu(h),h=Ds(A).hoistableScripts,b=h.get(l),b||(b={type:"script",instance:null,count:0,state:null},h.set(l,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Ku(s){return'href="'+Zt(s)+'"'}function gh(s){return'link[rel="stylesheet"]['+s+"]"}function vN(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function LF(s,l,h,b){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?b.loading=1:(l=s.createElement("link"),b.preload=l,l.addEventListener("load",function(){return b.loading|=1}),l.addEventListener("error",function(){return b.loading|=2}),fr(l,"link",h),Tn(l),s.head.appendChild(l))}function Wu(s){return'[src="'+Zt(s)+'"]'}function yh(s){return"script[async]"+s}function xN(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var b=s.querySelector('style[data-href~="'+Zt(h.href)+'"]');if(b)return l.instance=b,Tn(b),b;var A=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return b=(s.ownerDocument||s).createElement("style"),Tn(b),fr(b,"style",A),Bg(b,h.precedence,s),l.instance=b;case"stylesheet":A=Ku(h.href);var j=s.querySelector(gh(A));if(j)return l.state.loading|=4,l.instance=j,Tn(j),j;b=vN(h),(A=ea.get(A))&&ew(b,A),j=(s.ownerDocument||s).createElement("link"),Tn(j);var I=j;return I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),fr(j,"link",b),l.state.loading|=4,Bg(j,h.precedence,s),l.instance=j;case"script":return j=Wu(h.src),(A=s.querySelector(yh(j)))?(l.instance=A,Tn(A),A):(b=h,(A=ea.get(j))&&(b=p({},h),tw(b,A)),s=s.ownerDocument||s,A=s.createElement("script"),Tn(A),fr(A,"link",b),s.head.appendChild(A),l.instance=A);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(b=l.instance,l.state.loading|=4,Bg(b,h.precedence,s));return l.instance}function Bg(s,l,h){for(var b=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=b.length?b[b.length-1]:null,j=A,I=0;I<b.length;I++){var G=b[I];if(G.dataset.precedence===l)j=G;else if(j!==A)break}j?j.parentNode.insertBefore(s,j.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function ew(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function tw(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var zg=null;function _N(s,l,h){if(zg===null){var b=new Map,A=zg=new Map;A.set(h,b)}else A=zg,b=A.get(h),b||(b=new Map,A.set(h,b));if(b.has(s))return b;for(b.set(s,null),h=h.getElementsByTagName(s),A=0;A<h.length;A++){var j=h[A];if(!(j[Ul]||j[An]||s==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var I=j.getAttribute(l)||"";I=s+I;var G=b.get(I);G?G.push(j):b.set(I,[j])}}return b}function wN(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function IF(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function SN(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function $F(s,l,h,b){if(h.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var A=Ku(b.href),j=l.querySelector(gh(A));if(j){l=j._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Ug.bind(s),l.then(s,s)),h.state.loading|=4,h.instance=j,Tn(j);return}j=l.ownerDocument||l,b=vN(b),(A=ea.get(A))&&ew(b,A),j=j.createElement("link"),Tn(j);var I=j;I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),fr(j,"link",b),h.instance=j}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=Ug.bind(s),l.addEventListener("load",h),l.addEventListener("error",h))}}var nw=0;function BF(s,l){return s.stylesheets&&s.count===0&&Hg(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var b=setTimeout(function(){if(s.stylesheets&&Hg(s,s.stylesheets),s.unsuspend){var j=s.unsuspend;s.unsuspend=null,j()}},6e4+l);0<s.imgBytes&&nw===0&&(nw=62500*vF());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Hg(s,s.stylesheets),s.unsuspend)){var j=s.unsuspend;s.unsuspend=null,j()}},(s.imgBytes>nw?50:800)+l);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(b),clearTimeout(A)}}:null}function Ug(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Fg=null;function Hg(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Fg=new Map,l.forEach(zF,s),Fg=null,Ug.call(s))}function zF(s,l){if(!(l.state.loading&4)){var h=Fg.get(s);if(h)var b=h.get(null);else{h=new Map,Fg.set(s,h);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<A.length;j++){var I=A[j];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(h.set(I.dataset.precedence,I),b=I)}b&&h.set(null,b)}A=l.instance,I=A.getAttribute("data-precedence"),j=h.get(I)||b,j===b&&h.set(null,A),h.set(I,A),this.count++,b=Ug.bind(this),A.addEventListener("load",b),A.addEventListener("error",b),j?j.parentNode.insertBefore(A,j.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),l.state.loading|=4}}var bh={$$typeof:O,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function UF(s,l,h,b,A,j,I,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xf(0),this.hiddenUpdates=xf(null),this.identifierPrefix=b,this.onUncaughtError=A,this.onCaughtError=j,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function EN(s,l,h,b,A,j,I,G,te,he,Ee,Te){return s=new UF(s,l,h,I,te,he,Ee,Te,G),l=1,j===!0&&(l|=24),j=wr(3,null,null,l),s.current=j,j.stateNode=s,l=Rx(),l.refCount++,s.pooledCache=l,l.refCount++,j.memoizedState={element:b,isDehydrated:h,cache:l},Bx(j),s}function kN(s){return s?(s=Bo,s):Bo}function AN(s,l,h,b,A,j){A=kN(A),b.context===null?b.context=A:b.pendingContext=A,b=Qs(l),b.payload={element:h},j=j===void 0?null:j,j!==null&&(b.callback=j),h=el(s,b,l),h!==null&&(Qr(h,s,l),Zf(h,s,l))}function TN(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function rw(s,l){TN(s,l),(s=s.alternate)&&TN(s,l)}function ON(s){if(s.tag===13||s.tag===31){var l=Zi(s,67108864);l!==null&&Qr(l,s,67108864),rw(s,67108864)}}function jN(s){if(s.tag===13||s.tag===31){var l=ki();l=Fr(l);var h=Zi(s,l);h!==null&&Qr(h,s,l),rw(s,l)}}var Gg=!0;function FF(s,l,h,b){var A=Y.T;Y.T=null;var j=X.p;try{X.p=2,iw(s,l,h,b)}finally{X.p=j,Y.T=A}}function HF(s,l,h,b){var A=Y.T;Y.T=null;var j=X.p;try{X.p=8,iw(s,l,h,b)}finally{X.p=j,Y.T=A}}function iw(s,l,h,b){if(Gg){var A=aw(b);if(A===null)G_(s,l,b,qg,h),CN(s,b);else if(qF(A,s,l,h,b))b.stopPropagation();else if(CN(s,b),l&4&&-1<GF.indexOf(s)){for(;A!==null;){var j=Ps(A);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var I=No(j.pendingLanes);if(I!==0){var G=j;for(G.pendingLanes|=2,G.entangledLanes|=2;I;){var te=1<<31-Or(I);G.entanglements[1]|=te,I&=~te}lo(j),(Tt&6)===0&&(Tg=Be()+500,fh(0))}}break;case 31:case 13:G=Zi(j,2),G!==null&&Qr(G,j,2),jg(),rw(j,2)}if(j=aw(b),j===null&&G_(s,l,b,qg,h),j===A)break;A=j}A!==null&&b.stopPropagation()}else G_(s,l,b,null,h)}}function aw(s){return s=Yl(s),ow(s)}var qg=null;function ow(s){if(qg=null,s=Po(s),s!==null){var l=a(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=o(l),s!==null)return s;s=null}else if(h===31){if(s=c(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return qg=s,null}function NN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case jt:return 2;case yt:return 8;case Zn:case mi:return 32;case pi:return 268435456;default:return 32}default:return 32}}var sw=!1,dl=null,fl=null,hl=null,vh=new Map,xh=new Map,ml=[],GF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CN(s,l){switch(s){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":vh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(l.pointerId)}}function _h(s,l,h,b,A,j){return s===null||s.nativeEvent!==j?(s={blockedOn:l,domEventName:h,eventSystemFlags:b,nativeEvent:j,targetContainers:[A]},l!==null&&(l=Ps(l),l!==null&&ON(l)),s):(s.eventSystemFlags|=b,l=s.targetContainers,A!==null&&l.indexOf(A)===-1&&l.push(A),s)}function qF(s,l,h,b,A){switch(l){case"focusin":return dl=_h(dl,s,l,h,b,A),!0;case"dragenter":return fl=_h(fl,s,l,h,b,A),!0;case"mouseover":return hl=_h(hl,s,l,h,b,A),!0;case"pointerover":var j=A.pointerId;return vh.set(j,_h(vh.get(j)||null,s,l,h,b,A)),!0;case"gotpointercapture":return j=A.pointerId,xh.set(j,_h(xh.get(j)||null,s,l,h,b,A)),!0}return!1}function MN(s){var l=Po(s.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){s.blockedOn=l,wf(s.priority,function(){jN(h)});return}}else if(l===31){if(l=c(h),l!==null){s.blockedOn=l,wf(s.priority,function(){jN(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yg(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=aw(s.nativeEvent);if(h===null){h=s.nativeEvent;var b=new h.constructor(h.type,h);hu=b,h.target.dispatchEvent(b),hu=null}else return l=Ps(h),l!==null&&ON(l),s.blockedOn=h,!1;l.shift()}return!0}function PN(s,l,h){Yg(s)&&h.delete(l)}function YF(){sw=!1,dl!==null&&Yg(dl)&&(dl=null),fl!==null&&Yg(fl)&&(fl=null),hl!==null&&Yg(hl)&&(hl=null),vh.forEach(PN),xh.forEach(PN)}function Kg(s,l){s.blockedOn===l&&(s.blockedOn=null,sw||(sw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YF)))}var Wg=null;function DN(s){Wg!==s&&(Wg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Wg===s&&(Wg=null);for(var l=0;l<s.length;l+=3){var h=s[l],b=s[l+1],A=s[l+2];if(typeof b!="function"){if(ow(b||h)===null)continue;break}var j=Ps(h);j!==null&&(s.splice(l,3),l-=3,a_(j,{pending:!0,data:A,method:h.method,action:b},b,A))}}))}function Vu(s){function l(te){return Kg(te,s)}dl!==null&&Kg(dl,s),fl!==null&&Kg(fl,s),hl!==null&&Kg(hl,s),vh.forEach(l),xh.forEach(l);for(var h=0;h<ml.length;h++){var b=ml[h];b.blockedOn===s&&(b.blockedOn=null)}for(;0<ml.length&&(h=ml[0],h.blockedOn===null);)MN(h),h.blockedOn===null&&ml.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(b=0;b<h.length;b+=3){var A=h[b],j=h[b+1],I=A[Xn]||null;if(typeof j=="function")I||DN(h);else if(I){var G=null;if(j&&j.hasAttribute("formAction")){if(A=j,I=j[Xn]||null)G=I.formAction;else if(ow(A)!==null)continue}else G=I.action;typeof G=="function"?h[b+1]=G:(h.splice(b,3),b-=3),DN(h)}}}function RN(){function s(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(I){return A=I})},focusReset:"manual",scroll:"manual"})}function l(){A!==null&&(A(),A=null),b||setTimeout(h,20)}function h(){if(!b&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){b=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),A!==null&&(A(),A=null)}}}function lw(s){this._internalRoot=s}Vg.prototype.render=lw.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,b=ki();AN(h,b,s,l,null,null)},Vg.prototype.unmount=lw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;AN(s.current,2,null,s,null,null),jg(),l[Mo]=null}};function Vg(s){this._internalRoot=s}Vg.prototype.unstable_scheduleHydration=function(s){if(s){var l=_f();s={blockedOn:null,target:s,priority:l};for(var h=0;h<ml.length&&l!==0&&l<ml[h].priority;h++);ml.splice(h,0,s),h===0&&MN(s)}};var LN=t.version;if(LN!=="19.2.1")throw Error(r(527,LN,"19.2.1"));X.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var KF={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zg.isDisabled&&Zg.supportsFiber)try{qt=Zg.inject(KF),hn=Zg}catch{}}return Sh.createRoot=function(s,l){if(!i(s))throw Error(r(299));var h=!1,b="",A=HO,j=GO,I=qO;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onUncaughtError!==void 0&&(A=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),l=EN(s,1,!1,null,null,h,b,null,A,j,I,RN),s[Mo]=l.current,H_(s),new lw(l)},Sh.hydrateRoot=function(s,l,h){if(!i(s))throw Error(r(299));var b=!1,A="",j=HO,I=GO,G=qO,te=null;return h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(j=h.onUncaughtError),h.onCaughtError!==void 0&&(I=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError),h.formState!==void 0&&(te=h.formState)),l=EN(s,1,!0,l,h??null,b,A,te,j,I,G,RN),l.context=kN(null),h=l.current,b=ki(),b=Fr(b),A=Qs(b),A.callback=null,el(h,A,b),h=b,l.current.lanes=h,Co(l,h),lo(l),s[Mo]=l.current,H_(s),new Vg(l)},Sh.version="19.2.1",Sh}var YN;function rH(){if(YN)return dw.exports;YN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dw.exports=nH(),dw.exports}var iH=rH();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var KN="popstate";function aH(e={}){function t(i,a){let{pathname:o="/",search:c="",hash:u=""}=iu(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),FS("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");c=f===-1?u:u.slice(0,f)}return c+"#"+(typeof a=="string"?a:dm(a))}function r(i,a){$i(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return sH(t,n,r,e)}function sn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $i(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oH(){return Math.random().toString(36).substring(2,10)}function WN(e,t){return{usr:e.state,key:e.key,idx:t}}function FS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?iu(t):t,state:n,key:t&&t.key||r||oH()}}function dm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function iu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function sH(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",u=null,f=m();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function m(){return(o.state||{idx:null}).idx}function p(){c="POP";let E=m(),T=E==null?null:E-f;f=E,u&&u({action:c,location:_.location,delta:T})}function g(E,T){c="PUSH";let N=FS(_.location,E,T);n&&n(N,E),f=m()+1;let O=WN(N,f),P=_.createHref(N);try{o.pushState(O,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}a&&u&&u({action:c,location:_.location,delta:1})}function v(E,T){c="REPLACE";let N=FS(_.location,E,T);n&&n(N,E),f=m();let O=WN(N,f),P=_.createHref(N);o.replaceState(O,"",P),a&&u&&u({action:c,location:_.location,delta:0})}function w(E){return lH(E)}let _={get action(){return c},get location(){return e(i,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(KN,p),u=E,()=>{i.removeEventListener(KN,p),u=null}},createHref(E){return t(i,E)},createURL:w,encodeLocation(E){let T=w(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:v,go(E){return o.go(E)}};return _}function lH(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),sn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:dm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function C3(e,t,n="/"){return cH(e,t,n,!1)}function cH(e,t,n,r){let i=typeof t=="string"?iu(t):t,a=hs(i.pathname||"/",n);if(a==null)return null;let o=M3(e);uH(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=_H(a);c=vH(o[u],f,r)}return c}function M3(e,t=[],n=[],r="",i=!1){let a=(o,c,u=i,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&u)return;sn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=us([r,m.relativePath]),g=n.concat(m);o.children&&o.children.length>0&&(sn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),M3(o.children,t,g,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:yH(p,o.index),routesMeta:g})};return e.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))a(o,c);else for(let u of P3(o.path))a(o,c,!0,u)}),t}function P3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=P3(r.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function uH(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:bH(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dH=/^:[\w-]+$/,fH=3,hH=2,mH=1,pH=10,gH=-2,VN=e=>e==="*";function yH(e,t){let n=e.split("/"),r=n.length;return n.some(VN)&&(r+=gH),t&&(r+=hH),n.filter(i=>!VN(i)).reduce((i,a)=>i+(dH.test(a)?fH:a===""?mH:pH),r)}function bH(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function vH(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",p=xy({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),g=u.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=xy({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:us([a,p.pathname]),pathnameBase:AH(us([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=us([a,p.pathnameBase]))}return o}function xy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=xH(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},g)=>{if(m==="*"){let w=c[g]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const v=c[g];return p&&!v?f[m]=void 0:f[m]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function xH(e,t=!1,n=!0){$i(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function _H(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $i(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var wH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SH=e=>wH.test(e);function EH(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?iu(e):e,a;if(n)if(SH(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),$i(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=ZN(n.substring(1),"/"):a=ZN(n,t)}else a=t;return{pathname:a,search:TH(r),hash:OH(i)}}function ZN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function pw(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Uk(e){let t=kH(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Fk(e,t,n,r=!1){let i;typeof e=="string"?i=iu(e):(i={...e},sn(!i.pathname||!i.pathname.includes("?"),pw("?","pathname","search",i)),sn(!i.pathname||!i.pathname.includes("#"),pw("#","pathname","hash",i)),sn(!i.search||!i.search.includes("#"),pw("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}c=p>=0?t[p]:"/"}let u=EH(i,c),f=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}var us=e=>e.join("/").replace(/\/\/+/g,"/"),AH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),TH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function NH(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var D3=["POST","PUT","PATCH","DELETE"];new Set(D3);var CH=["GET",...D3];new Set(CH);var Jd=S.createContext(null);Jd.displayName="DataRouter";var Xb=S.createContext(null);Xb.displayName="DataRouterState";S.createContext(!1);var R3=S.createContext({isTransitioning:!1});R3.displayName="ViewTransition";var MH=S.createContext(new Map);MH.displayName="Fetchers";var PH=S.createContext(null);PH.displayName="Await";var ga=S.createContext(null);ga.displayName="Navigation";var Hm=S.createContext(null);Hm.displayName="Location";var To=S.createContext({outlet:null,matches:[],isDataRoute:!1});To.displayName="Route";var Hk=S.createContext(null);Hk.displayName="RouteError";function DH(e,{relative:t}={}){sn(Qd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(ga),{hash:i,pathname:a,search:o}=Gm(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:us([n,a])),r.createHref({pathname:c,search:o,hash:i})}function Qd(){return S.useContext(Hm)!=null}function qa(){return sn(Qd(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Hm).location}var L3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I3(e){S.useContext(ga).static||S.useLayoutEffect(e)}function Gk(){let{isDataRoute:e}=S.useContext(To);return e?KH():RH()}function RH(){sn(Qd(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Jd),{basename:t,navigator:n}=S.useContext(ga),{matches:r}=S.useContext(To),{pathname:i}=qa(),a=JSON.stringify(Uk(r)),o=S.useRef(!1);return I3(()=>{o.current=!0}),S.useCallback((u,f={})=>{if($i(o.current,L3),!o.current)return;if(typeof u=="number"){n.go(u);return}let m=Fk(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:us([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,a,i,e])}S.createContext(null);function Gm(e,{relative:t}={}){let{matches:n}=S.useContext(To),{pathname:r}=qa(),i=JSON.stringify(Uk(n));return S.useMemo(()=>Fk(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function LH(e,t){return $3(e,t)}function $3(e,t,n,r,i){sn(Qd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(ga),{matches:o}=S.useContext(To),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let N=p&&p.path||"";B3(f,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=qa(),v;if(t){let N=typeof t=="string"?iu(t):t;sn(m==="/"||N.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${N.pathname}" was given in the \`location\` prop.`),v=N}else v=g;let w=v.pathname||"/",_=w;if(m!=="/"){let N=m.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=C3(e,{pathname:_});$i(p||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),$i(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=UH(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:us([m,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:us([m,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,n,r,i);return t&&T?S.createElement(Hm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function IH(){let e=YH(),t=jH(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,o)}var $H=S.createElement(IH,null),BH=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(To.Provider,{value:this.props.routeContext},S.createElement(Hk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zH({routeContext:e,match:t,children:n}){let r=S.useContext(Jd);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(To.Provider,{value:e},n)}function UH(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let m=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);sn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,u=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:g,errors:v}=n,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:NH(n.matches),errorInfo:p})}:void 0;return a.reduceRight((m,p,g)=>{let v,w=!1,_=null,E=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,_=p.route.errorElement||$H,c&&(u<0&&g===0?(B3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):u===g&&(w=!0,E=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,g+1)),N=()=>{let O;return v?O=_:w?O=E:p.route.Component?O=S.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=m,S.createElement(zH,{match:p,routeContext:{outlet:m,matches:T,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?S.createElement(BH,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):N()},null)}function qk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FH(e){let t=S.useContext(Jd);return sn(t,qk(e)),t}function HH(e){let t=S.useContext(Xb);return sn(t,qk(e)),t}function GH(e){let t=S.useContext(To);return sn(t,qk(e)),t}function Yk(e){let t=GH(e),n=t.matches[t.matches.length-1];return sn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function qH(){return Yk("useRouteId")}function YH(){let e=S.useContext(Hk),t=HH("useRouteError"),n=Yk("useRouteError");return e!==void 0?e:t.errors?.[n]}function KH(){let{router:e}=FH("useNavigate"),t=Yk("useNavigate"),n=S.useRef(!1);return I3(()=>{n.current=!0}),S.useCallback(async(i,a={})=>{$i(n.current,L3),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var XN={};function B3(e,t,n){!t&&!XN[e]&&(XN[e]=!0,$i(!1,n))}S.memo(WH);function WH({routes:e,future:t,state:n,unstable_onError:r}){return $3(e,void 0,n,r,t)}function VH({to:e,replace:t,state:n,relative:r}){sn(Qd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(ga);$i(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=S.useContext(To),{pathname:o}=qa(),c=Gk(),u=Fk(e,Uk(a),o,r==="path"),f=JSON.stringify(u);return S.useEffect(()=>{c(JSON.parse(f),{replace:t,state:n,relative:r})},[c,f,r,t,n]),null}function ud(e){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZH({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){sn(!Qd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[c,i,a,o]);typeof n=="string"&&(n=iu(n));let{pathname:f="/",search:m="",hash:p="",state:g=null,key:v="default"}=n,w=S.useMemo(()=>{let _=hs(f,c);return _==null?null:{location:{pathname:_,search:m,hash:p,state:g,key:v},navigationType:r}},[c,f,m,p,g,v,r]);return $i(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:S.createElement(ga.Provider,{value:u},S.createElement(Hm.Provider,{children:t,value:w}))}function XH({children:e,location:t}){return LH(HS(e),t)}function HS(e,t=[]){let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let a=[...t,i];if(r.type===S.Fragment){n.push.apply(n,HS(r.props.children,a));return}sn(r.type===ud,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=HS(r.props.children,a)),n.push(o)}),n}var ry="get",iy="application/x-www-form-urlencoded";function Jb(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function JH(e){return Jb(e)&&e.tagName.toLowerCase()==="button"}function QH(e){return Jb(e)&&e.tagName.toLowerCase()==="form"}function eG(e){return Jb(e)&&e.tagName.toLowerCase()==="input"}function tG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nG(e,t){return e.button===0&&(!t||t==="_self")&&!tG(e)}var Xg=null;function rG(){if(Xg===null)try{new FormData(document.createElement("form"),0),Xg=!1}catch{Xg=!0}return Xg}var iG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gw(e){return e!=null&&!iG.has(e)?($i(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${iy}"`),null):e}function aG(e,t){let n,r,i,a,o;if(QH(e)){let c=e.getAttribute("action");r=c?hs(c,t):null,n=e.getAttribute("method")||ry,i=gw(e.getAttribute("enctype"))||iy,a=new FormData(e)}else if(JH(e)||eG(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(r=u?hs(u,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||ry,i=gw(e.getAttribute("formenctype"))||gw(c.getAttribute("enctype"))||iy,a=new FormData(c,e),!rG()){let{name:f,type:m,value:p}=e;if(m==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,p)}}else{if(Jb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ry,r=null,i=iy,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kk(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function oG(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&hs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function sG(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lG(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function cG(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await sG(a,n);return o.links?o.links():[]}return[]}));return hG(r.flat(1).filter(lG).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function JN(e,t,n,r,i,a){let o=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,f)=>o(u,f)||c(u,f)):a==="data"?t.filter((u,f)=>{let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(o(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function uG(e,t,{includeHydrateFallback:n}={}){return dG(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function dG(e){return[...new Set(e)]}function fG(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function hG(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(fG(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function z3(){let e=S.useContext(Jd);return Kk(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function mG(){let e=S.useContext(Xb);return Kk(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Wk=S.createContext(void 0);Wk.displayName="FrameworkContext";function U3(){let e=S.useContext(Wk);return Kk(e,"You must render this element inside a <HydratedRouter> element"),e}function pG(e,t){let n=S.useContext(Wk),[r,i]=S.useState(!1),[a,o]=S.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,g=S.useRef(null);S.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=T=>{T.forEach(N=>{o(N.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[e]),S.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let v=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:Eh(c,v),onBlur:Eh(u,w),onMouseEnter:Eh(f,v),onMouseLeave:Eh(m,w),onTouchStart:Eh(p,v)}]:[!1,g,{}]}function Eh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function gG({page:e,...t}){let{router:n}=z3(),r=S.useMemo(()=>C3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(bG,{page:e,matches:r,...t}):null}function yG(e){let{manifest:t,routeModules:n}=U3(),[r,i]=S.useState([]);return S.useEffect(()=>{let a=!1;return cG(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function bG({page:e,matches:t,...n}){let r=qa(),{manifest:i,routeModules:a}=U3(),{basename:o}=z3(),{loaderData:c,matches:u}=mG(),f=S.useMemo(()=>JN(e,t,u,i,r,"data"),[e,t,u,i,r]),m=S.useMemo(()=>JN(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(t.forEach(T=>{let N=i.routes[T.route.id];!N||!N.hasLoader||(!f.some(O=>O.route.id===T.route.id)&&T.route.id in c&&a[T.route.id]?.shouldRevalidate||N.hasClientLoader?_=!0:w.add(T.route.id))}),w.size===0)return[];let E=oG(e,o,"data");return _&&w.size>0&&E.searchParams.set("_routes",t.filter(T=>w.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[o,c,r,i,f,t,e,a]),g=S.useMemo(()=>uG(m,i),[m,i]),v=yG(m);return S.createElement(S.Fragment,null,p.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:_})=>S.createElement("link",{key:w,nonce:n.nonce,..._})))}function vG(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var F3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F3&&(window.__reactRouterVersion="7.10.1")}catch{}function xG({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=S.useRef();i.current==null&&(i.current=aH({window:r,v5Compat:!0}));let a=i.current,[o,c]=S.useState({action:a.action,location:a.location}),u=S.useCallback(f=>{n===!1?c(f):S.startTransition(()=>c(f))},[n]);return S.useLayoutEffect(()=>a.listen(u),[a,u]),S.createElement(ZH,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var H3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G3=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:u,to:f,preventScrollReset:m,viewTransition:p,...g},v){let{basename:w,unstable_useTransitions:_}=S.useContext(ga),E=typeof f=="string"&&H3.test(f),T,N=!1;if(typeof f=="string"&&E&&(T=f,F3))try{let K=new URL(window.location.href),F=f.startsWith("//")?new URL(K.protocol+f):new URL(f),z=hs(F.pathname,w);F.origin===K.origin&&z!=null?f=z+F.search+F.hash:N=!0}catch{$i(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=DH(f,{relative:i}),[P,M,D]=pG(r,g),$=EG(f,{replace:o,state:c,target:u,preventScrollReset:m,relative:i,viewTransition:p,unstable_useTransitions:_});function H(K){t&&t(K),K.defaultPrevented||$(K)}let q=S.createElement("a",{...g,...D,href:T||O,onClick:N||a?t:H,ref:vG(v,M),target:u,"data-discover":!E&&n==="render"?"true":void 0});return P&&!E?S.createElement(S.Fragment,null,q,S.createElement(gG,{page:O})):q});G3.displayName="Link";var _G=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:u,...f},m){let p=Gm(o,{relative:f.relative}),g=qa(),v=S.useContext(Xb),{navigator:w,basename:_}=S.useContext(ga),E=v!=null&&jG(p)&&c===!0,T=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,N=g.pathname,O=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(N=N.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&_&&(O=hs(O,_)||O);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let M=N===T||!i&&N.startsWith(T)&&N.charAt(P)==="/",D=O!=null&&(O===T||!i&&O.startsWith(T)&&O.charAt(T.length)==="/"),$={isActive:M,isPending:D,isTransitioning:E},H=M?t:void 0,q;typeof r=="function"?q=r($):q=[r,M?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a($):a;return S.createElement(G3,{...f,"aria-current":H,className:q,ref:m,style:K,to:o,viewTransition:c},typeof u=="function"?u($):u)});_G.displayName="NavLink";var wG=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=ry,action:c,onSubmit:u,relative:f,preventScrollReset:m,viewTransition:p,...g},v)=>{let{unstable_useTransitions:w}=S.useContext(ga),_=TG(),E=OG(c,{relative:f}),T=o.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&H3.test(c),O=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let M=P.nativeEvent.submitter,D=M?.getAttribute("formmethod")||o,$=()=>_(M||P.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:p});w&&n!==!1?S.startTransition(()=>$()):$()};return S.createElement("form",{ref:v,method:T,action:E,onSubmit:r?u:O,...g,"data-discover":!N&&e==="render"?"true":void 0})});wG.displayName="Form";function SG(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q3(e){let t=S.useContext(Jd);return sn(t,SG(e)),t}function EG(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:c}={}){let u=Gk(),f=qa(),m=Gm(e,{relative:a});return S.useCallback(p=>{if(nG(p,t)){p.preventDefault();let g=n!==void 0?n:dm(f)===dm(m),v=()=>u(e,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:o});c?S.startTransition(()=>v()):v()}},[f,u,m,n,r,t,e,i,a,o,c])}var kG=0,AG=()=>`__${String(++kG)}__`;function TG(){let{router:e}=q3("useSubmit"),{basename:t}=S.useContext(ga),n=qH(),r=e.fetch,i=e.navigate;return S.useCallback(async(a,o={})=>{let{action:c,method:u,encType:f,formData:m,body:p}=aG(a,t);if(o.navigate===!1){let g=o.fetcherKey||AG();await r(g,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await i(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function OG(e,{relative:t}={}){let{basename:n}=S.useContext(ga),r=S.useContext(To);sn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Gm(e||".",{relative:t})},o=qa();if(e==null){a.search=o.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(m=>m==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();a.search=m?`?${m}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:us([n,a.pathname])),dm(a)}function jG(e,{relative:t}={}){let n=S.useContext(R3);sn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=q3("useViewTransitionState"),i=Gm(e,{relative:t});if(!n.isTransitioning)return!1;let a=hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xy(i.pathname,o)!=null||xy(i.pathname,a)!=null}var ef=N3();const NG=di(ef);let CG={data:""},MG=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||CG,PG=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,DG=/\/\*[^]*?\*\/|  +/g,QN=/\n+/g,bl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?bl(o,a):a+"{"+bl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=bl(o,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=bl.p?bl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},es={},Y3=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Y3(e[n]);return t}return e},RG=(e,t,n,r,i)=>{let a=Y3(e),o=es[a]||(es[a]=(u=>{let f=0,m=11;for(;f<u.length;)m=101*m+u.charCodeAt(f++)>>>0;return"go"+m})(a));if(!es[o]){let u=a!==e?e:(f=>{let m,p,g=[{}];for(;m=PG.exec(f.replace(DG,""));)m[4]?g.shift():m[3]?(p=m[3].replace(QN," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][m[1]]=m[2].replace(QN," ").trim();return g[0]})(e);es[o]=bl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let c=n&&es.g?es.g:null;return n&&(es.g=es[o]),((u,f,m,p)=>{p?f.data=f.data.replace(p,u):f.data.indexOf(u)===-1&&(f.data=m?u+f.data:f.data+u)})(es[o],t,r,c),o},LG=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let c=o(n),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=u?"."+u:c&&typeof c=="object"?c.props?"":bl(c,""):c===!1?"":c}return r+i+(o??"")},"");function Qb(e){let t=this||{},n=e.call?e(t.p):e;return RG(n.unshift?n.raw?LG(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,MG(t.target),t.g,t.o,t.k)}let K3,GS,qS;Qb.bind({g:1});let ms=Qb.bind({k:1});function IG(e,t,n,r){bl.p=t,K3=e,GS=n,qS=r}function Ml(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let c=Object.assign({},a),u=c.className||i.className;n.p=Object.assign({theme:GS&&GS()},c),n.o=/ *go\d+/.test(u),c.className=Qb.apply(n,r)+(u?" "+u:"");let f=e;return e[0]&&(f=c.as||e,delete c.as),qS&&f[0]&&qS(c),K3(f,c)}return i}}var $G=e=>typeof e=="function",_y=(e,t)=>$G(e)?e(t):e,BG=(()=>{let e=0;return()=>(++e).toString()})(),W3=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),zG=20,Vk="default",V3=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return V3(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},ay=[],Z3={toasts:[],pausedAt:void 0,settings:{toastLimit:zG}},bo={},X3=(e,t=Vk)=>{bo[t]=V3(bo[t]||Z3,e),ay.forEach(([n,r])=>{n===t&&r(bo[t])})},J3=e=>Object.keys(bo).forEach(t=>X3(e,t)),UG=e=>Object.keys(bo).find(t=>bo[t].toasts.some(n=>n.id===e)),ev=(e=Vk)=>t=>{X3(t,e)},FG={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},HG=(e={},t=Vk)=>{let[n,r]=S.useState(bo[t]||Z3),i=S.useRef(bo[t]);S.useEffect(()=>(i.current!==bo[t]&&r(bo[t]),ay.push([t,r]),()=>{let o=ay.findIndex(([c])=>c===t);o>-1&&ay.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var c,u,f;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((c=e[o.type])==null?void 0:c.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||FG[o.type],style:{...e.style,...(f=e[o.type])==null?void 0:f.style,...o.style}}});return{...n,toasts:a}},GG=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||BG()}),qm=e=>(t,n)=>{let r=GG(t,e,n);return ev(r.toasterId||UG(r.id))({type:2,toast:r}),r.id},kn=(e,t)=>qm("blank")(e,t);kn.error=qm("error");kn.success=qm("success");kn.loading=qm("loading");kn.custom=qm("custom");kn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?ev(t)(n):J3(n)};kn.dismissAll=e=>kn.dismiss(void 0,e);kn.remove=(e,t)=>{let n={type:4,toastId:e};t?ev(t)(n):J3(n)};kn.removeAll=e=>kn.remove(void 0,e);kn.promise=(e,t,n)=>{let r=kn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?_y(t.success,i):void 0;return a?kn.success(a,{id:r,...n,...n?.success}):kn.dismiss(r),i}).catch(i=>{let a=t.error?_y(t.error,i):void 0;a?kn.error(a,{id:r,...n,...n?.error}):kn.dismiss(r)}),e};var qG=1e3,YG=(e,t="default")=>{let{toasts:n,pausedAt:r}=HG(e,t),i=S.useRef(new Map).current,a=S.useCallback((p,g=qG)=>{if(i.has(p))return;let v=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},g);i.set(p,v)},[]);S.useEffect(()=>{if(r)return;let p=Date.now(),g=n.map(v=>{if(v.duration===1/0)return;let w=(v.duration||0)+v.pauseDuration-(p-v.createdAt);if(w<0){v.visible&&kn.dismiss(v.id);return}return setTimeout(()=>kn.dismiss(v.id,t),w)});return()=>{g.forEach(v=>v&&clearTimeout(v))}},[n,r,t]);let o=S.useCallback(ev(t),[t]),c=S.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=S.useCallback((p,g)=>{o({type:1,toast:{id:p,height:g}})},[o]),f=S.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),m=S.useCallback((p,g)=>{let{reverseOrder:v=!1,gutter:w=8,defaultPosition:_}=g||{},E=n.filter(O=>(O.position||_)===(p.position||_)&&O.height),T=E.findIndex(O=>O.id===p.id),N=E.filter((O,P)=>P<T&&O.visible).length;return E.filter(O=>O.visible).slice(...v?[N+1]:[0,N]).reduce((O,P)=>O+(P.height||0)+w,0)},[n]);return S.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let g=i.get(p.id);g&&(clearTimeout(g),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:c,endPause:f,calculateOffset:m}}},KG=ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,WG=ms`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VG=ms`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ZG=Ml("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${KG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${WG} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${VG} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,XG=ms`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,JG=Ml("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${XG} 1s linear infinite;
`,QG=ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,eq=ms`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tq=Ml("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${eq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nq=Ml("div")`
  position: absolute;
`,rq=Ml("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,iq=ms`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aq=Ml("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${iq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,oq=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?S.createElement(aq,null,t):t:n==="blank"?null:S.createElement(rq,null,S.createElement(JG,{...r}),n!=="loading"&&S.createElement(nq,null,n==="error"?S.createElement(ZG,{...r}):S.createElement(tq,{...r})))},sq=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,lq=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,cq="0%{opacity:0;} 100%{opacity:1;}",uq="0%{opacity:1;} 100%{opacity:0;}",dq=Ml("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,fq=Ml("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hq=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=W3()?[cq,uq]:[sq(n),lq(n)];return{animation:t?`${ms(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ms(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},mq=S.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?hq(e.position||t||"top-center",e.visible):{opacity:0},a=S.createElement(oq,{toast:e}),o=S.createElement(fq,{...e.ariaProps},_y(e.message,e));return S.createElement(dq,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):S.createElement(S.Fragment,null,a,o))});IG(S.createElement);var pq=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=S.useCallback(o=>{if(o){let c=()=>{let u=o.getBoundingClientRect().height;r(e,u)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return S.createElement("div",{ref:a,className:t,style:n},i)},gq=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:W3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},yq=Qb`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Jg=16,Q3=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:c})=>{let{toasts:u,handlers:f}=YG(n,a);return S.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Jg,left:Jg,right:Jg,bottom:Jg,pointerEvents:"none",...o},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},u.map(m=>{let p=m.position||t,g=f.calculateOffset(m,{reverseOrder:e,gutter:r,defaultPosition:t}),v=gq(p,g);return S.createElement(pq,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?yq:"",style:v},m.type==="custom"?_y(m.message,m):i?i(m):S.createElement(mq,{toast:m,position:p}))}))},Ed=kn;function bq(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),c=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+c+o-1524.5}const vq=864e5;function xq(e){const t=(e-24405875e-1)*vq;return new Date(t)}function _q(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function wq(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),c=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*c)+n;let f=c-1;f>12&&(f-=12);let m=a-4715;return f>2&&(m-=1),[m,f,u]}const rm=Math.PI,Ic=rm/180,Sq=180/rm,Eq=86400;function kq(e){return e%=360,e<0?e+360:e}function Aq(e,t){return(e-t+540)%360-180}function eC(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function Tq(e){const[t,n]=wq(e);return e+_q(t,Math.round(n))/Eq}function tC(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,c,u]of e[i])a+=o*Math.cos(c+u*t);n+=a*r,r*=t}return n*1e-8}function Oq(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*Ic,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*Ic,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*Ic,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*Ic,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*Ic,c=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,f=0;for(const[m,p,g,v,w,_,E,T,N]of c){const O=m*n+p*r+g*i+v*a+w*o;u+=(_+E*t)*Math.sin(O),f+=(T+N*t)*Math.cos(O)}return u*=1e-4,f*=1e-4,{dpsi:u,deps:f}}function Qg(e){const t=Tq(e),n=(t-2451545)/365250,r=tC(nC.L,n),i=tC(nC.R,n);let a=r+rm;a>2*rm&&(a-=2*rm);const{dpsi:o}=Oq(t),c=o/3600*Ic,u=20.4898/(3600*i),f=a+c-u*Ic;return kq(f*Sq)}function Un(e,t,n){const r=(t%360+360)%360,i=bq(e,1,1),a=Qg(i);let o=r-a;o<0&&(o+=360);let c=i+o/.98564736;const u=1e-6,f=5e-6;for(let g=0;g<25;g++){const v=Qg(c),w=Aq(r,v);if(Math.abs(w)<u)break;const _=Qg(c+f),E=Qg(c-f),T=eC(_,v),N=eC(E,v),O=(T-N)/(2*f);c+=w/O}const m=xq(c),p=new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),0,0);if(Number.isFinite(n)){const g=n/15-9;if(Math.abs(g)>1e-12)return new Date(p.getTime()+g*36e5)}return p}const nC={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},jq=(e,t)=>(e%t+t)%t,e$=(e,t)=>(e%t+t)%t,t$=e=>e instanceof Date&&!Number.isNaN(e.getTime()),rC=new Map;function n$(e,t=127.5){const n=`${e}@${t}`,r=rC.get(n);if(r)return r;const i=Un(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return rC.set(n,i),i}function r$(e,t=127.5){if(!t$(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=n$(n,t),i=e<r?n-1:n,a=jq(i-4,60);return{useYear:i,index60Num:a}}const $r=["","","","","","","","","",""],si=["","","","","","","","","","","",""],YS={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Ya={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Nq=["","","","","","","","","",""],Cq=["","","","","","","","","","","",""],Mq=["","","","","","","","","","","","","","","","","","","",""],Pq=["","","","","","","","","","","","","","","","","","","","","","","",""],Dd=new Set($r),fm=new Set(si),Rn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Gn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Zk=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],wy=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],Dq={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},Rq={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function at(e,t=127.5){const{index60Num:n}=r$(e,t);return Zk[n]}function Lq(e,t=127.5){return(at(e,t)||"").charAt(0)}const Iq=[2,4,6,8,0,2,4,6,8,0];function $q(e,t=127.5){const n=new Array(12);return n[0]=n$(e,t),n[1]=Un(e,345,t),n[2]=Un(e,15,t),n[3]=Un(e,45,t),n[4]=Un(e,75,t),n[5]=Un(e,105,t),n[6]=Un(e,135,t),n[7]=Un(e,165,t),n[8]=Un(e,195,t),n[9]=Un(e,225,t),n[10]=Un(e,255,t),n[11]=Un(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function Bq(e,t=127.5){const{useYear:n}=r$(e,t),r=$q(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function zq(e,t=127.5){const n=Lq(e,t),r=YS..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return Iq[r]}function Uq(e,t,n=127.5){return(zq(e,n)+(t-1))%10}function kt(e,t=127.5){if(!t$(e))return"";const{monthIndex:n}=Bq(e,t),r=(2+(n-1))%12,i=YS.[r],a=Uq(e,n,t);return YS.[a]+i}const Sy={JDN:2445731,idx:0};function i$(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),c=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+c-1524.5}function Fq(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=qq(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function Hq(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function gt(e,t){const n=Fq(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=i$(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=e$(a-Sy.JDN+Sy.idx,60),c=Zk[o];if(!c)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return c}function Gq(e,t){const n=new Date(e),r=Hq(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=i$(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),c=e$(o-Sy.JDN+Sy.idx,60),u=Zk[c];if(!u)throw new Error(`getDayGanZhi: idx=${c} out of range (jdn=${o}, jd=${a})`);return u}function qq(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<wy.length;n+=1){const{branch:r,start:i,end:a}=wy[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function Yq(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<wy.length;n+=1){const{branch:r,start:i,end:a}=wy[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function Kq(e,t,n,r){const i=$r.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),$r[a]}function za(e,t,n){e instanceof Date||(e=new Date(e));const r=Yq(e),i=si.indexOf(r),o=(n??gt(e,t)).charAt(0);return Kq(e,o,i,t)+r}const iC=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const g=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,g))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=t=e(r,i,c);return c},Wq=(e=>e?iC(e):iC),Vq=e=>e;function Zq(e,t=Vq){const n=Wt.useSyncExternalStore(e.subscribe,Wt.useCallback(()=>t(e.getState()),[e,t]),Wt.useCallback(()=>t(e.getInitialState()),[e,t]));return Wt.useDebugValue(n),n}const aC=e=>{const t=Wq(e),n=r=>Zq(t,r);return Object.assign(n,t),n},au=(e=>e?aC(e):aC);function Xq(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),c=(a=n.getItem(i))!=null?a:null;return c instanceof Promise?c.then(o):o(c)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const KS=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return KS(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return KS(r)(n)}}}},Jq=(e,t)=>(n,r,i)=>{let a={storage:Xq(()=>localStorage),partialize:_=>_,version:0,merge:(_,E)=>({...E,..._}),...t},o=!1;const c=new Set,u=new Set;let f=a.storage;if(!f)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(..._)},r,i);const m=()=>{const _=a.partialize({...r()});return f.setItem(a.name,{state:_,version:a.version})},p=i.setState;i.setState=(_,E)=>(p(_,E),m());const g=e((..._)=>(n(..._),m()),r,i);i.getInitialState=()=>g;let v;const w=()=>{var _,E;if(!f)return;o=!1,c.forEach(N=>{var O;return N((O=r())!=null?O:g)});const T=((E=a.onRehydrateStorage)==null?void 0:E.call(a,(_=r())!=null?_:g))||void 0;return KS(f.getItem.bind(f))(a.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==a.version){if(a.migrate){const O=a.migrate(N.state,N.version);return O instanceof Promise?O.then(P=>[!0,P]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var O;const[P,M]=N;if(v=a.merge(M,(O=r())!=null?O:g),n(v,!0),P)return m()}).then(()=>{T?.(v,void 0),v=r(),o=!0,u.forEach(N=>N(v))}).catch(N=>{T?.(void 0,N)})};return i.persist={setOptions:_=>{a={...a,..._},_.storage&&(f=_.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:_=>(c.add(_),()=>{c.delete(_)}),onFinishHydration:_=>(u.add(_),()=>{u.delete(_)})},a.skipHydration||w(),v||g},a$=Jq;var ts={},e0={},WS=function(e,t){return WS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},WS(e,t)};function o$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");WS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ey=function(){return Ey=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ey.apply(this,arguments)};function tf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function s$(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l$(e,t){return function(n,r){t(n,r,e)}}function c$(e,t,n,r,i,a){function o(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var c=r.kind,u=c==="getter"?"get":c==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),p,g=!1,v=n.length-1;v>=0;v--){var w={};for(var _ in r)w[_]=_==="access"?{}:r[_];for(var _ in r.access)w.access[_]=r.access[_];w.addInitializer=function(T){if(g)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(T||null))};var E=(0,n[v])(c==="accessor"?{get:m.get,set:m.set}:m[u],w);if(c==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(p=o(E.get))&&(m.get=p),(p=o(E.set))&&(m.set=p),(p=o(E.init))&&i.unshift(p)}else(p=o(E))&&(c==="field"?i.unshift(p):m[u]=p)}f&&Object.defineProperty(f,r.name,m),g=!0}function u$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function d$(e){return typeof e=="symbol"?e:"".concat(e)}function f$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function h$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ue(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(m){try{f(r.next(m))}catch(p){o(p)}}function u(m){try{f(r.throw(m))}catch(p){o(p)}}function f(m){m.done?a(m.value):i(m.value).then(c,u)}f((r=r.apply(e,t||[])).next())})}function m$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(m){return u([f,m])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var tv=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function p$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&tv(t,e,n)}function ky(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xk(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function g$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Xk(arguments[t]));return e}function y$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,c=a.length;o<c;o++,i++)r[i]=a[o];return r}function b$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Rd(e){return this instanceof Rd?(this.v=e,this):new Rd(e)}function v$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(w){return Promise.resolve(w).then(v,p)}}function c(v,w){r[v]&&(i[v]=function(_){return new Promise(function(E,T){a.push([v,_,E,T])>1||u(v,_)})},w&&(i[v]=w(i[v])))}function u(v,w){try{f(r[v](w))}catch(_){g(a[0][3],_)}}function f(v){v.value instanceof Rd?Promise.resolve(v.value.v).then(m,p):g(a[0][2],v)}function m(v){u("next",v)}function p(v){u("throw",v)}function g(v,w){v(w),a.shift(),a.length&&u(a[0][0],a[0][1])}}function x$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:Rd(e[i](o)),done:!1}:a?a(o):o}:a}}function _$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ky=="function"?ky(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(c,u){o=e[a](o),i(c,u,o.done,o.value)})}}function i(a,o,c,u){Promise.resolve(u).then(function(f){a({value:f,done:c})},o)}}function w$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Qq=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},VS=function(e){return VS=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},VS(e)};function S$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=VS(e),r=0;r<n.length;r++)n[r]!=="default"&&tv(t,e,n[r]);return Qq(t,e),t}function E$(e){return e&&e.__esModule?e:{default:e}}function k$(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function A$(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function T$(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function O$(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var eY=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function j$(e){function t(a){e.error=e.hasError?new eY(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function N$(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const tY={__extends:o$,__assign:Ey,__rest:tf,__decorate:s$,__param:l$,__esDecorate:c$,__runInitializers:u$,__propKey:d$,__setFunctionName:f$,__metadata:h$,__awaiter:Ue,__generator:m$,__createBinding:tv,__exportStar:p$,__values:ky,__read:Xk,__spread:g$,__spreadArrays:y$,__spreadArray:b$,__await:Rd,__asyncGenerator:v$,__asyncDelegator:x$,__asyncValues:_$,__makeTemplateObject:w$,__importStar:S$,__importDefault:E$,__classPrivateFieldGet:k$,__classPrivateFieldSet:A$,__classPrivateFieldIn:T$,__addDisposableResource:O$,__disposeResources:j$,__rewriteRelativeImportExtension:N$},nY=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:O$,get __assign(){return Ey},__asyncDelegator:x$,__asyncGenerator:v$,__asyncValues:_$,__await:Rd,__awaiter:Ue,__classPrivateFieldGet:k$,__classPrivateFieldIn:T$,__classPrivateFieldSet:A$,__createBinding:tv,__decorate:s$,__disposeResources:j$,__esDecorate:c$,__exportStar:p$,__extends:o$,__generator:m$,__importDefault:E$,__importStar:S$,__makeTemplateObject:w$,__metadata:h$,__param:l$,__propKey:d$,__read:Xk,__rest:tf,__rewriteRelativeImportExtension:N$,__runInitializers:u$,__setFunctionName:f$,__spread:g$,__spreadArray:b$,__spreadArrays:y$,__values:ky,default:tY},Symbol.toStringTag,{value:"Module"})),rY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let nv=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},C$=class extends nv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},ZS=class extends nv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},XS=class extends nv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Ay;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ay||(Ay={}));class iY{constructor(t,{headers:n={},customFetch:r,region:i=Ay.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=rY(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ue(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:c,method:u,body:f,signal:m,timeout:p}=r;let g={},{region:v}=r;v||(v=this.region);const w=new URL(`${this.url}/${n}`);v&&v!=="any"&&(g["x-region"]=v,w.searchParams.set("forceFunctionRegion",v));let _;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",_=f):typeof f=="string"?(g["Content-Type"]="text/plain",_=f):typeof FormData<"u"&&f instanceof FormData?_=f:(g["Content-Type"]="application/json",_=JSON.stringify(f)):_=f;let E=m;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),m?(E=o.signal,m.addEventListener("abort",()=>o.abort())):E=o.signal);const T=yield this.fetch(w.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:_,signal:E}).catch(M=>{throw new C$(M)}),N=T.headers.get("x-relay-error");if(N&&N==="true")throw new ZS(T);if(!T.ok)throw new XS(T);let O=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return O==="application/json"?P=yield T.json():O==="application/octet-stream"||O==="application/pdf"?P=yield T.blob():O==="text/event-stream"?P=T:O==="multipart/form-data"?P=yield T.formData():P=yield T.text(),{data:P,error:null,response:T}}catch(c){return{data:null,error:c,response:c instanceof XS||c instanceof ZS?c.context:void 0}}finally{a&&clearTimeout(a)}})}}const aY=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ay},FunctionsClient:iY,FunctionsError:nv,FunctionsFetchError:C$,FunctionsHttpError:XS,FunctionsRelayError:ZS},Symbol.toStringTag,{value:"Module"})),M$=Fm(aY);var Er={};const nf=Fm(nY);var t0={},n0={},r0={},i0={},a0={},o0={},oC;function P$(){if(oC)return o0;oC=1,Object.defineProperty(o0,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return o0.default=e,o0}var sC;function D$(){if(sC)return a0;sC=1,Object.defineProperty(a0,"__esModule",{value:!0});const t=nf.__importDefault(P$());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,m,p,g;let v=null,w=null,_=null,E=u.status,T=u.statusText;if(u.ok){if(this.method!=="HEAD"){const M=await u.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?w=M:w=JSON.parse(M))}const O=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),P=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");O&&P&&P.length>1&&(_=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(v={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,E=406,T="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const O=await u.text();try{v=JSON.parse(O),Array.isArray(v)&&u.status===404&&(w=[],v=null,E=200,T="OK")}catch{u.status===404&&O===""?(E=204,T="No Content"):v={message:O}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,E=200,T="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:w,count:_,status:E,statusText:T}});return this.shouldThrowOnError||(c=c.catch(u=>{var f,m,p,g,v,w;let _="";const E=u?.cause;if(E){const T=(f=E?.message)!==null&&f!==void 0?f:"",N=(m=E?.code)!==null&&m!==void 0?m:"";_=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,_+=`

Caused by: ${(g=E?.name)!==null&&g!==void 0?g:"Error"}: ${T}`,N&&(_+=` (${N})`),E?.stack&&(_+=`
${E.stack}`)}else _=(v=u?.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(w=u?.name)!==null&&w!==void 0?w:"FetchError"}: ${u?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}};return a0.default=n,a0}var lC;function R$(){if(lC)return i0;lC=1,Object.defineProperty(i0,"__esModule",{value:!0});const t=nf.__importDefault(D$());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const f=u?`${u}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:f="text"}={}){var m;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${g}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return i0.default=n,i0}var cC;function Jk(){if(cC)return r0;cC=1,Object.defineProperty(r0,"__esModule",{value:!0});const t=nf.__importDefault(R$()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const c=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:c,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${f}fts${m}.${o}`),this}match(a){return Object.entries(a).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(a,o,c){return this.url.searchParams.append(a,`not.${o}.${c}`),this}or(a,{foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,c){return this.url.searchParams.append(a,`${o}.${c}`),this}};return r0.default=r,r0}var uC;function L$(){if(uC)return n0;uC=1,Object.defineProperty(n0,"__esModule",{value:!0});const t=nf.__importDefault(Jk());let n=class{constructor(i,{headers:a={},schema:o,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=c}select(i,a){const{head:o=!1,count:c}=a??{},u=o?"HEAD":"GET";let f=!1;const m=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var c;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var o;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return n0.default=n,n0}var dC;function oY(){if(dC)return t0;dC=1,Object.defineProperty(t0,"__esModule",{value:!0});const e=nf,t=e.__importDefault(L$()),n=e.__importDefault(Jk());let r=class I${constructor(a,{headers:o={},schema:c,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=c,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new I$(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:c=!1,get:u=!1,count:f}={}){var m;let p;const g=new URL(`${this.url}/rpc/${a}`);let v;c||u?(p=c?"HEAD":"GET",Object.entries(o).filter(([_,E])=>E!==void 0).map(([_,E])=>[_,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([_,E])=>{g.searchParams.append(_,E)})):(p="POST",v=o);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new n.default({method:p,url:g,headers:w,schema:this.schemaName,body:v,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return t0.default=r,t0}var fC;function $$(){if(fC)return Er;fC=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const e=nf,t=e.__importDefault(oY());Er.PostgrestClient=t.default;const n=e.__importDefault(L$());Er.PostgrestQueryBuilder=n.default;const r=e.__importDefault(Jk());Er.PostgrestFilterBuilder=r.default;const i=e.__importDefault(R$());Er.PostgrestTransformBuilder=i.default;const a=e.__importDefault(D$());Er.PostgrestBuilder=a.default;const o=e.__importDefault(P$());return Er.PostgrestError=o.default,Er.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Er}class B${constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const sY="2.86.2",lY=`realtime-js/${sY}`,z$="1.0.0",cY="2.0.0",hC=z$,JS=1e4,uY=1e3,dY=100;var $c;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($c||($c={}));var Mn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mn||(Mn={}));var Ma;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ma||(Ma={}));var QS;(function(e){e.websocket="websocket"})(QS||(QS={}));var Bc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Bc||(Bc={}));class fY{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,c=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+c.length+o.length+f.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let w=new DataView(v),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,u.length),w.setUint8(_++,c.length),w.setUint8(_++,o.length),w.setUint8(_++,f.length),w.setUint8(_++,p.length),w.setUint8(_++,n),Array.from(u,T=>w.setUint8(_++,T.charCodeAt(0))),Array.from(c,T=>w.setUint8(_++,T.charCodeAt(0))),Array.from(o,T=>w.setUint8(_++,T.charCodeAt(0))),Array.from(f,T=>w.setUint8(_++,T.charCodeAt(0))),Array.from(p,T=>w.setUint8(_++,T.charCodeAt(0)));var E=new Uint8Array(v.byteLength+r.byteLength);return E.set(new Uint8Array(v),0),E.set(new Uint8Array(r),v.byteLength),E.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,c,u]=r;return n({join_ref:i,ref:a,topic:o,event:c,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),c=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(t.slice(u,u+i));u=u+i;const m=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const g=t.slice(u,t.byteLength),v=c===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,w={type:this.BROADCAST_EVENT,event:m,payload:v};return o>0&&(w.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class U${constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const mC=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=hY(o,e,t,i),a),{}):{}},hY=(e,t,n,r)=>{const i=t.find(c=>c.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?F$(a,o):eE(o)},F$=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return yY(t,n)}switch(e){case Yt.bool:return mY(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return pY(t);case Yt.json:case Yt.jsonb:return gY(t);case Yt.timestamp:return bY(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return eE(t);default:return eE(t)}},eE=e=>e,mY=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},pY=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},yY=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>F$(t,c))}return e},bY=e=>typeof e=="string"?e.replace(" ","T"):e,H$=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class yw{constructor(t,n,r={},i=JS){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var tE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(tE||(tE={}));let G$=class oy{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oy.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=oy.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=oy.syncDiff(this.state,i,a,o),c())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),c={},u={};return this.map(a,(f,m)=>{o[f]||(u[f]=m)}),this.map(o,(f,m)=>{const p=a[f];if(p){const g=m.map(E=>E.presence_ref),v=p.map(E=>E.presence_ref),w=m.filter(E=>v.indexOf(E.presence_ref)<0),_=p.filter(E=>g.indexOf(E.presence_ref)<0);w.length>0&&(c[f]=w),_.length>0&&(u[f]=_)}else c[f]=m}),this.syncDiff(a,{joins:c,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,u)=>{var f;const m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(u),m.length>0){const p=t[c].map(v=>v.presence_ref),g=m.filter(v=>p.indexOf(v.presence_ref)<0);t[c].unshift(...g)}r(c,m,u)}),this.map(o,(c,u)=>{let f=t[c];if(!f)return;const m=u.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=f,i(c,f,u),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var nE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(nE||(nE={}));var kd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(kd||(kd={}));var ho;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ho||(ho={}));const vY=Mn;let q$=class Y${constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yw(this,Ma.join,this.params,this.timeout),this.rejoinTimer=new U$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ma.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new G$(this),this.broadcastEndpointURL=H$(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Mn.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[kd.PRESENCE]&&this.bindings[kd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},g={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(ho.CHANNEL_ERROR,v)),this._onClose(()=>t?.(ho.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){t?.(ho.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(w=_?.length)!==null&&w!==void 0?w:0,T=[];for(let N=0;N<E;N++){const O=_[N],{filter:{event:P,schema:M,table:D,filter:$}}=O,H=v&&v[N];if(H&&H.event===P&&H.schema===M&&H.table===D&&H.filter===$)T.push(Object.assign(Object.assign({},O),{id:H.id}));else{this.unsubscribe(),this.state=Mn.errored,t?.(ho.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(ho.SUBSCRIBED);return}}).receive("error",v=>{this.state=Mn.errored,t?.(ho.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(ho.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Mn.joined&&t===kd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const f=await c.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,u;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ma.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new yw(this,Ma.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new yw(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>dY){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:c,error:u,leave:f,join:m}=Ma;if(r&&[c,u,f,m].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var w,_,E;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((E=(_=v.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(v=>v.callback(g,r)):(a=this.bindings[o])===null||a===void 0||a.filter(v=>{var w,_,E,T,N,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const P=v.id,M=(w=v.filter)===null||w===void 0?void 0:w.event;return P&&((_=n.ids)===null||_===void 0?void 0:_.includes(P))&&(M==="*"||M?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const P=(N=(T=v?.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return P==="*"||P===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:_,table:E,commit_timestamp:T,type:N,errors:O}=w;g=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:T,eventType:N,new:{},old:{},errors:O}),this._getPayloadRecords(w))}v.callback(g,r)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Y$.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ma.close,{},t)}_onError(t){this._on(Ma.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=mC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=mC(t.columns,t.old_record)),n}};const bw=()=>{},s0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xY=[1e3,2e3,5e3,1e4],_Y=1e4,wY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let SY=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=JS,this.transport=null,this.heartbeatIntervalMs=s0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bw,this.ref=0,this.reconnectTimer=null,this.vsn=hC,this.logger=bw,this.conn=null,this.sendBuffer=[],this.serializer=new fY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${QS.websocket}`,this.httpEndpoint=H$(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=B$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $c.connecting:return Bc.Connecting;case $c.open:return Bc.Open;case $c.closing:return Bc.Closing;default:return Bc.Closed}}isConnected(){return this.connectionState()===Bc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new q$(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(uY,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},s0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,c=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===$c.open||this.conn.readyState===$c.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ma.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([wY],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:lY};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ma.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new U$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},s0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,c,u,f,m,p,g,v;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:JS,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:s0.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:bw,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:hC,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(w=>xY[w-1]||_Y),this.vsn){case z$:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((w,_)=>_(JSON.stringify(w))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((w,_)=>_(JSON.parse(w)));break;case cY:this.encode=(g=t?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const EY=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:vY,get REALTIME_LISTEN_TYPES(){return kd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return nE},get REALTIME_PRESENCE_LISTEN_EVENTS(){return tE},get REALTIME_SUBSCRIBE_STATES(){return ho},RealtimeChannel:q$,RealtimeClient:SY,RealtimePresence:G$,WebSocketFactory:B$},Symbol.toStringTag,{value:"Module"})),K$=Fm(EY);class Ym extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class W$ extends Ym{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ty extends Ym{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Qk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kY=()=>Response,rE=e=>{if(Array.isArray(e))return e.map(n=>rE(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=rE(r)}),t},AY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},TY=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),vw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},OY=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){const r=yield kY();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new W$(vw(i),a,o))}).catch(i=>{t(new Ty(vw(i),i))}):t(new Ty(vw(e),e))}),jY=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(AY(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Km(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,jY(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>OY(u,c,r))})})}function hm(e,t,n,r){return Ue(this,void 0,void 0,function*(){return Km(e,"GET",t,n,r)})}function Ca(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return Km(e,"POST",t,r,i,n)})}function iE(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return Km(e,"PUT",t,r,i,n)})}function NY(e,t,n,r){return Ue(this,void 0,void 0,function*(){return Km(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function eA(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return Km(e,"DELETE",t,r,i,n)})}class CY{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}var V$;class MY{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[V$]="BlobDownloadBuilder",this.promise=null}asStream(){return new CY(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}V$=Symbol.toStringTag;const PY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class DY{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Qk(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ue(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},pC),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const f=this._removeEmptyFolders(n),m=this._getFinalPath(f),p=yield(t=="PUT"?iE:Ca)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let u;const f=Object.assign({upsert:pC.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield iE(this.fetch,c.toString(),u,{headers:m});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(nn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Ca(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),c=o.searchParams.get("token");if(!c)throw new Ym("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Ca(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ca(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=yield Ca(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",c=this._getFinalPath(t),u=()=>hm(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new MY(u,this.shouldThrowOnError)}info(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield hm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:rE(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}exists(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield NY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r)&&r instanceof Ty){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const c=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield eA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},PY),n),{prefix:t||""});return{data:yield Ca(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ue(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ca(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Z$="2.86.2",X$={"X-Client-Info":`storage-js/${Z$}`};class RY{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X$),n),this.fetch=Qk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield hm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield hm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ue(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ca(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield iE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield eA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var mm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function LY(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function IY(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function $Y(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const c=LY(e.baseUrl,r,i),u=await IY(e.auth),f=await t(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),m=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),g=p&&m?JSON.parse(m):m;if(!f.ok){const v=p?g:void 0,w=v?.error;throw new mm(w?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:w?.type,icebergCode:w?.code,details:v})}return{status:f.status,headers:f.headers,data:g}}}}function l0(e){return e.join("")}var BY=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:l0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${l0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${l0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${l0(e.namespace)}`}),!0}catch(t){if(t instanceof mm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof mm&&n.status===409)return;throw n}}};function Zu(e){return e.join("")}var zY=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof mm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof mm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},UY=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=$Y({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new BY(this.client,t),this.tableOps=new zY(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class J${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X$),n),this.fetch=Qk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield hm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield eA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}from(t){if(!TY(t))throw new Ym("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new UY({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ue(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const tA={"X-Client-Info":`storage-js/${Z$}`,"Content-Type":"application/json"};class nA extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ii(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class sy extends nA{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Q$ extends nA{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var aE;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(aE||(aE={}));const rv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),FY=()=>Response,eB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},HY=e=>Array.from(new Float32Array(e)),GY=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},gC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qY=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const c=o?.statusCode||o?.code||i+"";t(new sy(gC(o),i,c))}).catch(()=>{const o=i+"",c=a.statusText||`HTTP ${i} error`;t(new sy(c,i,o))});else{const o=i+"",c=a.statusText||`HTTP ${i} error`;t(new sy(c,i,o))}}else t(new Q$(gC(e),e))}),YY=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(eB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function KY(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,YY(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>qY(u,c,r))})})}function Ci(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return KY(e,"POST",t,r,i,n)})}class tB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tA),n),this.fetch=rv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ci(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ci(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}}class nB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tA),n),this.fetch=rv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ci(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}listVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ci(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ci(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}}class rB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tA),n),this.fetch=rv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ci(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}listBuckets(){return Ue(this,arguments,void 0,function*(t={}){try{return{data:yield Ci(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ci(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}}class iB extends rB{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new aB(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ue(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ue(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ue(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ue(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class aB extends tB{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ue(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ue(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ue(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ue(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new oB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class oB extends nB{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ue(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ue(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ue(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ue(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ue(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class WY extends RY{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new DY(this.url,this.headers,t,this.fetch)}get vectors(){return new iB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new J$(this.url+"/iceberg",this.headers,this.fetch)}}const VY=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:J$,StorageApiError:W$,StorageClient:WY,StorageError:Ym,StorageUnknownError:Ty,StorageVectorsApiError:sy,StorageVectorsClient:iB,StorageVectorsError:nA,get StorageVectorsErrorCode(){return aE},StorageVectorsUnknownError:Q$,VectorBucketApi:rB,VectorBucketScope:aB,VectorDataApi:nB,VectorIndexApi:tB,VectorIndexScope:oB,isPlainObject:eB,isStorageError:nn,isStorageVectorsError:ii,normalizeToFloat32:HY,resolveFetch:rv,resolveResponse:FY,validateVectorDimension:GY},Symbol.toStringTag,{value:"Module"})),ZY=Fm(VY);var xw={},kh={},yC;function XY(){return yC||(yC=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.version=void 0,kh.version="2.86.2"),kh}var bC;function JY(){return bC||(bC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=XY();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(xw)),xw}var _w={},vC;function QY(){return vC||(vC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const c=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(f,m)=>{var p;const g=(p=await a())!==null&&p!==void 0?p:i;let v=new u(m?.headers);return v.has("apikey")||v.set("apikey",i),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),c(f,Object.assign(Object.assign({},m),{headers:v}))}};e.fetchWithAuth=r})(_w)),_w}var ns={},xC;function eK(){if(xC)return ns;xC=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.isBrowser=void 0,ns.uuid=e,ns.ensureTrailingSlash=t,ns.applySettingDefaults=r,ns.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,c=a=="x"?o:o&3|8;return c.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";ns.isBrowser=n;function r(a,o){var c,u;const{db:f,auth:m,realtime:p,global:g}=a,{db:v,auth:w,realtime:_,global:E}=o,T={db:Object.assign(Object.assign({},v),f),auth:Object.assign(Object.assign({},w),m),realtime:Object.assign(Object.assign({},_),p),storage:{},global:Object.assign(Object.assign(Object.assign({},E),g),{headers:Object.assign(Object.assign({},(c=E?.headers)!==null&&c!==void 0?c:{}),(u=g?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?T.accessToken=a.accessToken:delete T.accessToken,T}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ns}var Ah={};const sB="2.86.2",dd=30*1e3,oE=3,ww=oE*dd,tK="http://localhost:9999",nK="supabase.auth.token",rK={"X-Client-Info":`gotrue-js/${sB}`},sE="X-Supabase-Api-Version",lB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aK=600*1e3;let Ld=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let cB=class extends Ld{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function uB(e){return Ge(e)&&e.name==="AuthApiError"}let vl=class extends Ld{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},ws=class extends Ld{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ei=class extends ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function dB(e){return Ge(e)&&e.name==="AuthSessionMissingError"}let Nc=class extends ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Vh=class extends ws{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Zh=class extends ws{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function fB(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}let lE=class extends ws{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Oy=class extends ws{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function ly(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}let cE=class extends ws{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function oK(e){return Ge(e)&&e.name==="AuthWeakPasswordError"}let jy=class extends ws{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ny="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_C=` 	
\r=`.split(""),sK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_C.length;t+=1)e[_C[t].charCodeAt(0)]=-2;for(let t=0;t<Ny.length;t+=1)e[Ny[t].charCodeAt(0)]=t;return e})();function wC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ny[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ny[r]),t.queuedBits-=6}}function hB(e,t,n){const r=sK[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function SC(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{uK(o,r,n)};for(let o=0;o<e.length;o+=1)hB(e.charCodeAt(o),i,a);return t.join("")}function lK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function cK(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}lK(r,t)}}function uK(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ad(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)hB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function dK(e){const t=[];return cK(e,n=>t.push(n)),new Uint8Array(t)}function zc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>wC(i,n,r)),wC(null,n,r),t.join("")}function fK(e){return Math.round(Date.now()/1e3)+e}function hK(){return Symbol("auth-callback")}const pr=()=>typeof window<"u"&&typeof document<"u",wc={tested:!1,writable:!1},mB=()=>{if(!pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wc.tested)return wc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wc.tested=!0,wc.writable=!0}catch{wc.tested=!0,wc.writable=!1}return wc.writable};function mK(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const pB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Sc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hr=async(e,t)=>{await e.removeItem(t)};class iv{constructor(){this.promise=new iv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}iv.promiseConstructor=Promise;function Sw(e){const t=e.split(".");if(t.length!==3)throw new jy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!iK.test(t[r]))throw new jy("JWT not in base64url format");return{header:JSON.parse(SC(t[0])),payload:JSON.parse(SC(t[1])),signature:Ad(t[2]),raw:{header:t[0],payload:t[1]}}}async function gK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yK(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function bK(e){return("0"+e.toString(16)).substr(-2)}function vK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,bK).join("")}async function xK(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function _K(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await xK(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xu(e,t,n=!1){const r=vK();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await fd(e,`${t}-code-verifier`,i);const a=await _K(r);return[a,r===a?"plain":"s256"]}const wK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SK(e){const t=e.headers.get(sE);if(!t||!t.match(wK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function EK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ju(e){if(!AK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ew(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function TK(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function EC(e){return JSON.parse(JSON.stringify(e))}const Cc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OK=[502,503,504];async function kC(e){var t;if(!pK(e))throw new Oy(Cc(e),0);if(OK.includes(e.status))throw new Oy(Cc(e),e.status);let n;try{n=await e.json()}catch(a){throw new vl(Cc(a),a)}let r;const i=SK(e);if(i&&i.getTime()>=lB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new cE(Cc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ei}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new cE(Cc(n),e.status,n.weak_password.reasons);throw new cB(Cc(n),e.status||500,r)}const jK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function et(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[sE]||(a[sE]=lB["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await NK(e,t,n+c,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function NK(e,t,n,r,i,a){const o=jK(t,r,i,a);let c;try{c=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Oy(Cc(u),0)}if(c.ok||await kC(c),r?.noResolveJson)return c;try{return await c.json()}catch(u){await kC(u)}}function Na(e){var t;let n=null;PK(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=fK(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function AC(e){const t=Na(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function CK(e){return{data:e,error:null}}function MK(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=tf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function TC(e){return e}function PK(e){return e.access_token&&e.refresh_token&&e.expires_in}const cy=["global","local","others"];let rA=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=pB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=cy[0]){if(cy.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cy.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=tf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:MK,redirectTo:n?.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xl})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,c,u;try{const f={nextPage:null,lastPage:0,total:0},m=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:TC});if(m.error)throw m.error;const p=await m.json(),g=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);f[`${E}Page`]=_}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ge(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Ju(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xl})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ju(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ju(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ju(t.userId);try{const{data:n,error:r}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ju(t.userId),Ju(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,c,u;try{const f={nextPage:null,lastPage:0,total:0},m=await et(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:TC});if(m.error)throw m.error;const p=await m.json(),g=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);f[`${E}Page`]=_}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ge(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await et(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await et(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await et(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}};function OC(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Mc={debug:!!(globalThis&&mB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let gB=class extends iA{};class DK extends iA{}async function yB(e,t,n){Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const jC={};async function RK(e,t,n){var r;const i=(r=jC[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,c)=>{setTimeout(()=>{c(new DK(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return jC[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function LK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function IK(e){return parseInt(e,16)}function $K(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function BK(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:c,requestId:u,resources:f,scheme:m,uri:p,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=bB(e.address),w=m?`${m}://${r}`:r,_=e.statement?`${e.statement}
`:"",E=`${w} wants you to sign in with your Ethereum account:
${v}

${_}`;let T=`URI: ${p}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),c&&(T+=`
Not Before: ${c.toISOString()}`),u&&(T+=`
Request ID: ${u}`),f){let N=`
Resources:`;for(const O of f){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);N+=`
- ${O}`}T+=N}return`${E}
${T}`}class Pn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Cy extends Pn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function zK({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Pn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Pn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Pn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(vB(o)){if(a.rp.id!==o)return new Pn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Pn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function UK({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(vB(r)){if(n.rpId!==r)return new Pn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class FK{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const HK=new FK;function GK(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=tf(e,["challenge","user","excludeCredentials"]),a=Ad(t).buffer,o=Object.assign(Object.assign({},n),{id:Ad(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];c.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:Ad(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function qK(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=tf(e,["challenge","allowCredentials"]),i=Ad(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},c),{id:Ad(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function YK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:zc(new Uint8Array(e.response.attestationObject)),clientDataJSON:zc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function KK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:zc(new Uint8Array(i.authenticatorData)),clientDataJSON:zc(new Uint8Array(i.clientDataJSON)),signature:zc(new Uint8Array(i.signature)),userHandle:i.userHandle?zc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function NC(){var e,t;return!!(pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function WK(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cy("Browser returned unexpected credential type",t)}:{data:null,error:new Cy("Empty credential response",t)}}catch(t){return{data:null,error:zK({error:t,options:e})}}}async function VK(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cy("Browser returned unexpected credential type",t)}:{data:null,error:new Cy("Empty credential response",t)}}catch(t){return{data:null,error:UK({error:t,options:e})}}}const ZK={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},XK={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function My(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const c=r[a];t(c)?r[a]=My(c,o):r[a]=My(o)}else r[a]=o}return r}function JK(e,t){return My(ZK,e,t||{})}function QK(e,t){return My(XK,e,t||{})}class eW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:c};const u=i??HK.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=JK(o.webauthn.credential_options.publicKey,a?.create),{data:m,error:p}=await WK({publicKey:f,signal:u});return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=QK(o.webauthn.credential_options.publicKey,a?.request),{data:m,error:p}=await VK(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:u}));return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new vl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Ld("rpId is required for WebAuthn authentication")};try{if(!NC())return{data:null,error:new vl("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new vl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Ld("rpId is required for WebAuthn registration")};try{if(!NC())return{data:null,error:new vl("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:u,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new vl("Unexpected error in register",o)}}}}LK();const tW={url:tK,storageKey:nK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function CC(e,t,n){return await n()}const Qu={};let aA=class uE{get jwks(){var t,n;return(n=(t=Qu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Qu[this.storageKey]=Object.assign(Object.assign({},Qu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Qu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qu[this.storageKey]=Object.assign(Object.assign({},Qu[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},tW),t);if(this.storageKey=a.storageKey,this.instanceID=(n=uE.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,uE.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&pr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new rA({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=pB(a.fetch),this.lock=a.lock||CC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:pr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=yB:this.lock=CC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:mB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=OC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=OC(this.memoryStorage)),pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(pr()&&(n=mK(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),pr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),fB(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ge(n)?this._returnResult({error:n}):this._returnResult({error:new vl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Na}),{data:o,error:c}=a;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:m,password:p,options:g}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Xu(this.storage,this.storageKey)),a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:m,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:w},xform:Na})}else if("phone"in t){const{phone:m,password:p,options:g}=t;a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Na})}else throw new Vh("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return await hr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:c}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:AC})}else if("phone"in t){const{phone:a,password:o,options:c}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:AC})}else throw new Vh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Nc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,c,u,f,m,p,g;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:_,wallet:E,statement:T,options:N}=t;let O;if(pr())if(typeof E=="object")O=E;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")O=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const P=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),M=await O.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=bB(M[0]);let $=(r=N?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const q=await O.request({method:"eth_chainId"});$=IK(q)}const H={domain:P.host,address:D,statement:T,uri:P.href,version:"1",chainId:$,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=BK(H),w=await O.request({method:"personal_sign",params:[$K(v),D]})}try{const{data:_,error:E}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Na});if(E)throw E;if(!_||!_.session||!_.user){const T=new Nc;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(Ge(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var n,r,i,a,o,c,u,f,m,p,g,v;let w,_;if("message"in t)w=t.message,_=t.signature;else{const{chain:E,wallet:T,statement:N,options:O}=t;let P;if(pr())if(typeof T=="object")P=T;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))P=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=T}const M=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const D=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),N?{statement:N}:null));let $;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")$=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)$=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)w=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),_=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${M.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=O?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((o=O?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(m=O?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const D=await P.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=D}}try{const{data:E,error:T}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:zc(_)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Na});if(T)throw T;if(!E||!E.session||!E.user){const N=new Nc;return this._returnResult({data:{user:null,session:null},error:N})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(Ge(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Na});if(await hr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const c=new Nc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,c=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Na}),{data:u,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const m=new Nc;return this._returnResult({data:{user:null,session:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:c,options:u}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Xu(this.storage,this.storageKey));const{error:p}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:u}=t,{data:f,error:m}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Vh("You must provide either an email or phone number.")}catch(c){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:c}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Na});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,f=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Xu(this.storage,this.storageKey));const f=await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:CK});return!((a=f.data)===null||a===void 0)&&a.url&&pr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ei;const{error:i}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:c}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new Vh("You must provide either an email or phone number and a type")}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Sc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ww:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Sc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Ew()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=TK(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xl}):await this._useSession(async n=>{var r,i,a;const{data:o,error:c}=n;if(c)throw c;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ei}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:xl})})}catch(n){if(Ge(n))return dB(n)&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ei;const o=i.session;let c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=await Xu(this.storage,this.storageKey));const{data:f,error:m}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:xl});if(m)throw m;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ei;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Sw(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:c}=n;if(c)throw c;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ei;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!pr())throw new Zh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lE("No code detected.");const{data:N,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:c,expires_at:u,token_type:f}=t;if(!a||!c||!o||!f)throw new Zh("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let g=m+p;u&&(g=parseInt(u));const v=g-m;v*1e3<=dd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const w=g-p;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,m);const{data:_,error:E}=await this._getUser(a);if(E)throw E;const T={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:g,refresh_token:o,token_type:f,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(uB(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=hK(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Xu(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,c,u,f,m;const{data:p,error:g}=a;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return pr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:c,token:u,access_token:f,nonce:m}=t,p=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:u,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Na}),{data:g,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Nc}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(i){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await yK(async i=>(i>0&&await gK(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Na})),(i,a)=>{const o=200*Math.pow(2,i);return a&&ly(a)&&Date.now()+o-r<dd})}catch(r){if(this._debug(n,"error",r),Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),pr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Sc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Sc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await fd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Ew()}else if(i&&!i.user&&!i.user){const o=await Sc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await hr(this.storage,this.storageKey+"-user"),await fd(this.storage,this.storageKey,i)):i.user=Ew()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ww;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${ww}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ly(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new iv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ei;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Ge(a)){const o={data:null,error:a};return ly(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await hr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await fd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=EC(i);await fd(this.storage,this.storageKey,a)}else{const i=EC(n);await fd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await hr(this.storage,this.storageKey),await hr(this.storage,this.storageKey+"-code-verifier"),await hr(this.storage,this.storageKey+"-user"),this.userStorage&&await hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/dd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${dd}ms, refresh threshold is ${oE} ticks`),i<=oE&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof iA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Xu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:f}=await et(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?YK(t.webauthn.credential_response):KK(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:u}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:GK(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:qK(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Sw(r.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await et(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ei})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ei});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&pr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ei});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&pr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await et(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ei})})}catch(t){if(Ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await et(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ei})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+aK>i)return r;const{data:a,error:o}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return this._returnResult({data:null,error:w});r=v.session.access_token}const{header:i,payload:a,signature:o,raw:{header:c,payload:u}}=Sw(r);n?.allowExpired||EK(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:a,header:i,signature:o},error:null}}const m=kK(i.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,o,dK(`${c}.${u}`)))throw new jy("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}};aA.nextInstanceID={};const nW=rA,rW=aA,iW=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:nW,AuthApiError:cB,AuthClient:rW,AuthError:Ld,AuthImplicitGrantRedirectError:Zh,AuthInvalidCredentialsError:Vh,AuthInvalidJwtError:jy,AuthInvalidTokenResponseError:Nc,AuthPKCEGrantCodeExchangeError:lE,AuthRetryableFetchError:Oy,AuthSessionMissingError:ei,AuthUnknownError:vl,AuthWeakPasswordError:cE,CustomAuthError:ws,GoTrueAdminApi:rA,GoTrueClient:aA,NavigatorLockAcquireTimeoutError:gB,SIGN_OUT_SCOPES:cy,isAuthApiError:uB,isAuthError:Ge,isAuthImplicitGrantRedirectError:fB,isAuthRetryableFetchError:ly,isAuthSessionMissingError:dB,isAuthWeakPasswordError:oK,lockInternals:Mc,navigatorLock:yB,processLock:RK},Symbol.toStringTag,{value:"Module"})),xB=Fm(iW);var MC;function aW(){if(MC)return Ah;MC=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.SupabaseAuthClient=void 0;const e=xB;let t=class extends e.AuthClient{constructor(r){super(r)}};return Ah.SupabaseAuthClient=t,Ah}var PC;function DC(){if(PC)return e0;PC=1,Object.defineProperty(e0,"__esModule",{value:!0});const e=M$,t=$$(),n=K$,r=ZY,i=JY(),a=QY(),o=eK(),c=aW();class u{constructor(m,p,g){var v,w,_;this.supabaseUrl=m,this.supabaseKey=p;const E=(0,o.validateSupabaseUrl)(m);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",E),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",E),this.storageUrl=new URL("storage/v1",E),this.functionsUrl=new URL("functions/v1",E);const T=`sb-${E.hostname.split(".")[0]}-auth-token`,N={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:T}),global:i.DEFAULT_GLOBAL_OPTIONS},O=(0,o.applySettingDefaults)(g??{},N);this.storageKey=(v=O.auth.storageKey)!==null&&v!==void 0?v:"",this.headers=(w=O.global.headers)!==null&&w!==void 0?w:{},O.accessToken?(this.accessToken=O.accessToken,this.auth=new Proxy({},{get:(P,M)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(M)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((_=O.auth)!==null&&_!==void 0?_:{},this.headers,O.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),O.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},O.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new t.PostgrestClient(new URL("rest/v1",E).href,{headers:this.headers,schema:O.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,g?.storage),O.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,p={},g={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,p,g)}channel(m,p={config:{}}){return this.realtime.channel(m,p)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,p;if(this.accessToken)return await this.accessToken();const{data:g}=await this.auth.getSession();return(p=(m=g.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:p,detectSessionInUrl:g,storage:v,userStorage:w,storageKey:_,flowType:E,lock:T,debug:N,throwOnError:O},P,M){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),P),storageKey:_,autoRefreshToken:m,persistSession:p,detectSessionInUrl:g,storage:v,userStorage:w,flowType:E,lock:T,debug:N,throwOnError:O,fetch:M,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,g)=>{this._handleTokenChanged(p,"CLIENT",g?.access_token)})}_handleTokenChanged(m,p,g){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==g?(this.changedAccessToken=g,this.realtime.setAuth(g)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return e0.default=u,e0}var RC;function oW(){return RC||(RC=1,(function(e){var t=ts&&ts.__createBinding||(Object.create?(function(m,p,g,v){v===void 0&&(v=g);var w=Object.getOwnPropertyDescriptor(p,g);(!w||("get"in w?!p.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(m,v,w)}):(function(m,p,g,v){v===void 0&&(v=g),m[v]=p[g]})),n=ts&&ts.__exportStar||function(m,p){for(var g in m)g!=="default"&&!Object.prototype.hasOwnProperty.call(p,g)&&t(p,m,g)},r=ts&&ts.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(DC());n(xB,e);var a=$$();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=M$;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(K$,e);var c=DC();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(c).default}});const u=(m,p,g)=>new i.default(m,p,g);e.createClient=u;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const p=m.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ts)),ts}var _B=oW();const wB=di(_B),sW=zk({__proto__:null,default:wB},[_B]),{PostgrestError:CTe,FunctionsHttpError:MTe,FunctionsFetchError:PTe,FunctionsRelayError:DTe,FunctionsError:RTe,FunctionRegion:LTe,SupabaseClient:ITe,createClient:lW,GoTrueAdminApi:$Te,GoTrueClient:BTe,AuthAdminApi:zTe,AuthClient:UTe,navigatorLock:FTe,NavigatorLockAcquireTimeoutError:HTe,lockInternals:GTe,processLock:qTe,SIGN_OUT_SCOPES:YTe,AuthError:KTe,AuthApiError:WTe,AuthUnknownError:VTe,CustomAuthError:ZTe,AuthSessionMissingError:XTe,AuthInvalidTokenResponseError:JTe,AuthInvalidCredentialsError:QTe,AuthImplicitGrantRedirectError:eOe,AuthPKCEGrantCodeExchangeError:tOe,AuthRetryableFetchError:nOe,AuthWeakPasswordError:rOe,AuthInvalidJwtError:iOe,isAuthError:aOe,isAuthApiError:oOe,isAuthSessionMissingError:sOe,isAuthImplicitGrantRedirectError:lOe,isAuthRetryableFetchError:cOe,isAuthWeakPasswordError:uOe,RealtimePresence:dOe,RealtimeChannel:fOe,RealtimeClient:hOe,REALTIME_LISTEN_TYPES:mOe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:pOe,REALTIME_PRESENCE_LISTEN_EVENTS:gOe,REALTIME_SUBSCRIBE_STATES:yOe,REALTIME_CHANNEL_STATES:bOe}=wB||sW,cW="https://jouhybyquybxbnqztxum.supabase.co",uW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",Le=lW(cW,uW,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),SB="settings_v1",dE=()=>{try{typeof window<"u"&&window.localStorage.removeItem(SB)}catch{}},pm={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},LC=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],dW=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&LC.includes(r)):[],n=LC.filter(r=>!t.includes(r));return[...t,...n]},Td=e=>({...pm,...e,sectionOrder:dW(e.sectionOrder)}),fW=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Td(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Td(n.settings)}}return Td(e??{})},hW=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};dE();const qn=au()(a$((e,t)=>({settings:pm,syncing:!1,loaded:!1,setSettings:n=>e({settings:Td(n)}),setKey:(n,r)=>e({settings:Td({...t().settings,[n]:r})}),reset:()=>e({settings:pm}),loadFromServer:async()=>{try{e({syncing:!0}),dE();const{data:{user:n},error:r}=await Le.auth.getUser();if(r||!n){e({syncing:!1,loaded:!1});return}const{data:i,error:a}=await Le.from("user_settings").select("payload").eq("user_id",n.id).maybeSingle();if(i||await Le.from("user_settings").upsert({user_id:n.id,payload:{}}),a&&a.code!=="PGRST116"){console.error("loadFromServer(settings) error:",a),e({syncing:!1,loaded:!0});return}if(i?.payload){const o=fW(i.payload);e({settings:o,syncing:!1,loaded:!0}),hW(i.payload)&&await Le.from("user_settings").upsert({user_id:n.id,payload:o,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(n){console.error("loadFromServer(settings) exception:",n),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),dE();const{data:{user:r},error:i}=await Le.auth.getUser();if(i||!r){e({syncing:!1});return}const a=Td(t().settings),{error:o}=await Le.from("user_settings").upsert({user_id:r.id,payload:a,updated_at:new Date().toISOString()});o&&console.error("saveToServer(settings) error:",o),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1})}}}),{name:SB,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function fE(e){const t=$r.indexOf(e);if(t!==-1)return $r[t];const n=Ya..indexOf(e);return n!==-1?$r[n]:null}function EB(e){const t=si.indexOf(e);if(t!==-1)return si[t];const n=Ya..indexOf(e);return n!==-1?si[n]:null}function IC(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Bi(e,t,n){if(t==="stem"){const r=fE(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=$r.indexOf(r),a=i>=0?Nq[i]:void 0;return IC(a,n)}else{const r=EB(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=si.indexOf(r),a=i>=0?Cq[i]:void 0;return IC(a,n)}}function fa(e,t){const n=fE(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=fE(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return Dq[n][r]}if(t.branch){const r=EB(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return Rq[n][r]}throw new Error("getSipSin: stem or branch required")}const av={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},ov={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function kB({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?ov:av)[e]??[],c=n==="main"?[o[2]]:o,u=i==="white",f=u?"text-white":"text-neutral-800 dark:text-white",m=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return x.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:c.map((g,v)=>g==="(-)"||a?x.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap`,children:"(-) ()"},v):x.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap 
            ${n==="main"||v===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[g," (",fa(t,{stem:g}),")"]},v))})}const Wm=au(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),AB=Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e])),TB=Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e])),mW=new Set(Object.keys(Rn)),pW=new Set(Object.keys(Gn)),gW=new Set(["","","","","","","","","",""]),yW=new Set(["","","","","","","","","","","",""]);function li(e,t,n){return n===""?t==="stem"?Rn[e]??e:Gn[e]??e:t==="stem"?AB[e]??e:TB[e]??e}function $C(e){const t=AB[e]??e;return mW.has(t)?t:""}function bW(e){const t=TB[e]??e;return pW.has(t)?t:""}function sv(e){if(Dd.has(e))return e;const t=Rn[e]??e;return Dd.has(t)?t:""}function oA(e){if(fm.has(e))return e;const t=Gn[e]??e;return fm.has(t)?t:""}function Ua(e,t){return t==="stem"?gW.has(e):yW.has(e)}function pd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:c=!1,size:u="sm",variant:f="auto",isUnknownTime:m=!1}){const{manualHour:p}=Wm(),g=m&&!p,v=t.charAt(0),w=t.charAt(1),_=li(v,"stem",r.charType),E=li(w,"branch",r.charType),T=$C(v),N=bW(w),O=$C(n),P=oA(w),M=sv(n),D=r.showSipSin?fa(O,{stem:T}):null,$=!o&&r.showSipSin?fa(O,{branch:N}):null,H=r.thinEum&&Ua(v,"stem")?"font-thin":"font-bold",q=r.thinEum&&Ua(w,"branch")?"font-thin":"font-bold",K={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},F=!c&&!!r.hiddenStem,z=r.hiddenStem==="regular"?"main":"all",Z=r.hiddenStemMode==="hgc"?"hgc":"classic",Q=f==="white",J=Q?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",Y=Q?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",X=Q?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",re=Q?"text-neutral-500":"text-neutral-400",ue=Q?"text-neutral-500":"text-neutral-400",{settings:se}=qn(),B=g?`bg-white ${X}`:`${Bi(T,"stem",se)} ${X}`,W=g?`bg-white ${X}`:`${Bi(N,"branch",se)} ${X}`,ae=g?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white",V=g?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white";return x.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${J}`,children:[x.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${Y} text-nowrap`,children:e}),x.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[D&&x.jsx("div",{className:`text-[10px] desk:text-xs ${re} text-nowrap`,children:m&&!p?"-":D}),x.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:x.jsx("span",{className:`text-2xl md:text-3xl ${ae} ${H}`,children:g?"-":_})}),x.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${W}`,children:x.jsx("span",{className:`text-2xl md:text-3xl ${V} ${q}`,children:g?"-":E})}),F&&x.jsx(kB,{branch:P,dayStem:M,mode:z,mapping:Z,isUnknownTime:m&&!p&&(e===""||e==="")}),$&&x.jsx("div",{className:`text-[10px] desk:text-xs ${ue}`,children:m&&!p?"-":$}),r.showSibiUnseong&&x.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:m&&!p?"-":i||""}),r.showSibiSinsal&&x.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:m&&!p?"-":a||""})]})]})}const vW=new Set(Ya.);function xW(e){return Dd.has(e)?e:vW.has(e)?Rn[e]:""}function _W({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,c=t.showSipSin&&!n;return x.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[x.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),x.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&x.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:x.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:x.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&x.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,f)=>x.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},f))}),c&&x.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function wW(){const e=qn(w=>w.settings),[t,n]=S.useState(new Date),[r,i]=S.useState(!0),[a,o]=S.useState("/"),[c,u]=S.useState(!1);S.useEffect(()=>{if(!r)return;const w=setInterval(()=>n(new Date),1e3);return()=>clearInterval(w)},[r]);const f=at(t),m=kt(t),p=gt(t,a),g=za(t,"/"),v=xW(p.charAt(0));return x.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:x.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[x.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[x.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",x.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",kW(t)]})]}),x.jsxs("div",{className:"flex gap-2 items-center",children:[x.jsxs("select",{value:a,onChange:w=>o(w.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[x.jsx("option",{value:"",children:" ( 23)"}),x.jsx("option",{value:"/",children:"/ ()"}),x.jsx("option",{value:"",children:" ( 3)"})]}),x.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),x.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[c?x.jsx(_W,{label:"",settings:e,hideBranchSipSin:!0}):x.jsx(pd,{label:"",gz:g,dayStem:v,settings:e,hideBranchSipSin:!0}),x.jsx(pd,{label:"",gz:p,dayStem:v,settings:e,hideBranchSipSin:!0}),x.jsx(pd,{label:"",gz:m,dayStem:v,settings:e,hideBranchSipSin:!0}),x.jsx(pd,{label:"",gz:f,dayStem:v,settings:e,hideBranchSipSin:!0})]}),x.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[x.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),x.jsx("input",{type:"datetime-local",value:SW(t),disabled:r,onChange:w=>{const _=EW(w.target.value);_&&n(_)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),x.jsx("button",{onClick:()=>u(w=>!w),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${c?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:c?" ":" "})]})]})})}function SW(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function EW(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,c]=n.split(":").map(Number),u=new Date(r,i-1,a,o,c);return Number.isNaN(u.getTime())?null:u}function kW(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function AW({placeholderText:e,value:t}){const[n,r]=S.useState(e),[i,a]=S.useState(!1),[o,c]=S.useState(t??""),u=S.useRef(null),f=S.useRef(null),m=S.useRef(null),p=S.useRef(null);return S.useEffect(()=>{t!==void 0&&c(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:c,nameRef:u,latRef:f,lonRef:m,triggerBtnRef:p}}var Xh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var TW=Xh.exports,BC;function OW(){return BC||(BC=1,(function(e,t){(function(n,r){r(t)})(TW,(function(n){var r="1.9.4";function i(d){var y,k,C,R;for(k=1,C=arguments.length;k<C;k++){R=arguments[k];for(y in R)d[y]=R[y]}return d}var a=Object.create||(function(){function d(){}return function(y){return d.prototype=y,new d}})();function o(d,y){var k=Array.prototype.slice;if(d.bind)return d.bind.apply(d,k.call(arguments,1));var C=k.call(arguments,2);return function(){return d.apply(y,C.length?C.concat(k.call(arguments)):arguments)}}var c=0;function u(d){return"_leaflet_id"in d||(d._leaflet_id=++c),d._leaflet_id}function f(d,y,k){var C,R,U,ee;return ee=function(){C=!1,R&&(U.apply(k,R),R=!1)},U=function(){C?R=arguments:(d.apply(k,arguments),setTimeout(ee,y),C=!0)},U}function m(d,y,k){var C=y[1],R=y[0],U=C-R;return d===C&&k?d:((d-R)%U+U)%U+R}function p(){return!1}function g(d,y){if(y===!1)return d;var k=Math.pow(10,y===void 0?6:y);return Math.round(d*k)/k}function v(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function w(d){return v(d).split(/\s+/)}function _(d,y){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var k in y)d.options[k]=y[k];return d.options}function E(d,y,k){var C=[];for(var R in d)C.push(encodeURIComponent(k?R.toUpperCase():R)+"="+encodeURIComponent(d[R]));return(!y||y.indexOf("?")===-1?"?":"&")+C.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function N(d,y){return d.replace(T,function(k,C){var R=y[C];if(R===void 0)throw new Error("No value provided for variable "+k);return typeof R=="function"&&(R=R(y)),R})}var O=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function P(d,y){for(var k=0;k<d.length;k++)if(d[k]===y)return k;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var $=0;function H(d){var y=+new Date,k=Math.max(0,16-(y-$));return $=y+k,window.setTimeout(d,k)}var q=window.requestAnimationFrame||D("RequestAnimationFrame")||H,K=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function F(d,y,k){if(k&&q===H)d.call(y);else return q.call(window,o(d,y))}function z(d){d&&K.call(window,d)}var Z={__proto__:null,extend:i,create:a,bind:o,get lastId(){return c},stamp:u,throttle:f,wrapNum:m,falseFn:p,formatNum:g,trim:v,splitWords:w,setOptions:_,getParamString:E,template:N,isArray:O,indexOf:P,emptyImageUrl:M,requestFn:q,cancelFn:K,requestAnimFrame:F,cancelAnimFrame:z};function Q(){}Q.extend=function(d){var y=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},k=y.__super__=this.prototype,C=a(k);C.constructor=y,y.prototype=C;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(y[R]=this[R]);return d.statics&&i(y,d.statics),d.includes&&(J(d.includes),i.apply(null,[C].concat(d.includes))),i(C,d),delete C.statics,delete C.includes,C.options&&(C.options=k.options?a(k.options):{},i(C.options,d.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){k.callInitHooks&&k.callInitHooks.call(this),this._initHooksCalled=!0;for(var U=0,ee=C._initHooks.length;U<ee;U++)C._initHooks[U].call(this)}},y},Q.include=function(d){var y=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=y,this.mergeOptions(d.options)),this},Q.mergeOptions=function(d){return i(this.prototype.options,d),this},Q.addInitHook=function(d){var y=Array.prototype.slice.call(arguments,1),k=typeof d=="function"?d:function(){this[d].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(k),this};function J(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=O(d)?d:[d];for(var y=0;y<d.length;y++)d[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(d,y,k){if(typeof d=="object")for(var C in d)this._on(C,d[C],y);else{d=w(d);for(var R=0,U=d.length;R<U;R++)this._on(d[R],y,k)}return this},off:function(d,y,k){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var C in d)this._off(C,d[C],y);else{d=w(d);for(var R=arguments.length===1,U=0,ee=d.length;U<ee;U++)R?this._off(d[U]):this._off(d[U],y,k)}return this},_on:function(d,y,k,C){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(d,y,k)===!1){k===this&&(k=void 0);var R={fn:y,ctx:k};C&&(R.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(R)}},_off:function(d,y,k){var C,R,U;if(this._events&&(C=this._events[d],!!C)){if(arguments.length===1){if(this._firingCount)for(R=0,U=C.length;R<U;R++)C[R].fn=p;delete this._events[d];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var ee=this._listens(d,y,k);if(ee!==!1){var ce=C[ee];this._firingCount&&(ce.fn=p,this._events[d]=C=C.slice()),C.splice(ee,1)}}},fire:function(d,y,k){if(!this.listens(d,k))return this;var C=i({},y,{type:d,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var R=this._events[d];if(R){this._firingCount=this._firingCount+1||1;for(var U=0,ee=R.length;U<ee;U++){var ce=R[U],ge=ce.fn;ce.once&&this.off(d,ge,ce.ctx),ge.call(ce.ctx||this,C)}this._firingCount--}}return k&&this._propagateEvent(C),this},listens:function(d,y,k,C){typeof d!="string"&&console.warn('"string" type argument expected');var R=y;typeof y!="function"&&(C=!!y,R=void 0,k=void 0);var U=this._events&&this._events[d];if(U&&U.length&&this._listens(d,R,k)!==!1)return!0;if(C){for(var ee in this._eventParents)if(this._eventParents[ee].listens(d,y,k,C))return!0}return!1},_listens:function(d,y,k){if(!this._events)return!1;var C=this._events[d]||[];if(!y)return!!C.length;k===this&&(k=void 0);for(var R=0,U=C.length;R<U;R++)if(C[R].fn===y&&C[R].ctx===k)return R;return!1},once:function(d,y,k){if(typeof d=="object")for(var C in d)this._on(C,d[C],y,!0);else{d=w(d);for(var R=0,U=d.length;R<U;R++)this._on(d[R],y,k,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[u(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[u(d)],this},_propagateEvent:function(d){for(var y in this._eventParents)this._eventParents[y].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var X=Q.extend(Y);function re(d,y,k){this.x=k?Math.round(d):d,this.y=k?Math.round(y):y}var ue=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(d){return this.clone()._add(se(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(se(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new re(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new re(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(d){d=se(d);var y=d.x-this.x,k=d.y-this.y;return Math.sqrt(y*y+k*k)},equals:function(d){return d=se(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=se(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function se(d,y,k){return d instanceof re?d:O(d)?new re(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new re(d.x,d.y):new re(d,y,k)}function B(d,y){if(d)for(var k=y?[d,y]:d,C=0,R=k.length;C<R;C++)this.extend(k[C])}B.prototype={extend:function(d){var y,k;if(!d)return this;if(d instanceof re||typeof d[0]=="number"||"x"in d)y=k=se(d);else if(d=W(d),y=d.min,k=d.max,!y||!k)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=k.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(k.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(k.y,this.max.y)),this},getCenter:function(d){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var y,k;return typeof d[0]=="number"||d instanceof re?d=se(d):d=W(d),d instanceof B?(y=d.min,k=d.max):y=k=d,y.x>=this.min.x&&k.x<=this.max.x&&y.y>=this.min.y&&k.y<=this.max.y},intersects:function(d){d=W(d);var y=this.min,k=this.max,C=d.min,R=d.max,U=R.x>=y.x&&C.x<=k.x,ee=R.y>=y.y&&C.y<=k.y;return U&&ee},overlaps:function(d){d=W(d);var y=this.min,k=this.max,C=d.min,R=d.max,U=R.x>y.x&&C.x<k.x,ee=R.y>y.y&&C.y<k.y;return U&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var y=this.min,k=this.max,C=Math.abs(y.x-k.x)*d,R=Math.abs(y.y-k.y)*d;return W(se(y.x-C,y.y-R),se(k.x+C,k.y+R))},equals:function(d){return d?(d=W(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function W(d,y){return!d||d instanceof B?d:new B(d,y)}function ae(d,y){if(d)for(var k=y?[d,y]:d,C=0,R=k.length;C<R;C++)this.extend(k[C])}ae.prototype={extend:function(d){var y=this._southWest,k=this._northEast,C,R;if(d instanceof oe)C=d,R=d;else if(d instanceof ae){if(C=d._southWest,R=d._northEast,!C||!R)return this}else return d?this.extend(me(d)||V(d)):this;return!y&&!k?(this._southWest=new oe(C.lat,C.lng),this._northEast=new oe(R.lat,R.lng)):(y.lat=Math.min(C.lat,y.lat),y.lng=Math.min(C.lng,y.lng),k.lat=Math.max(R.lat,k.lat),k.lng=Math.max(R.lng,k.lng)),this},pad:function(d){var y=this._southWest,k=this._northEast,C=Math.abs(y.lat-k.lat)*d,R=Math.abs(y.lng-k.lng)*d;return new ae(new oe(y.lat-C,y.lng-R),new oe(k.lat+C,k.lng+R))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof oe||"lat"in d?d=me(d):d=V(d);var y=this._southWest,k=this._northEast,C,R;return d instanceof ae?(C=d.getSouthWest(),R=d.getNorthEast()):C=R=d,C.lat>=y.lat&&R.lat<=k.lat&&C.lng>=y.lng&&R.lng<=k.lng},intersects:function(d){d=V(d);var y=this._southWest,k=this._northEast,C=d.getSouthWest(),R=d.getNorthEast(),U=R.lat>=y.lat&&C.lat<=k.lat,ee=R.lng>=y.lng&&C.lng<=k.lng;return U&&ee},overlaps:function(d){d=V(d);var y=this._southWest,k=this._northEast,C=d.getSouthWest(),R=d.getNorthEast(),U=R.lat>y.lat&&C.lat<k.lat,ee=R.lng>y.lng&&C.lng<k.lng;return U&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,y){return d?(d=V(d),this._southWest.equals(d.getSouthWest(),y)&&this._northEast.equals(d.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function V(d,y){return d instanceof ae?d:new ae(d,y)}function oe(d,y,k){if(isNaN(d)||isNaN(y))throw new Error("Invalid LatLng object: ("+d+", "+y+")");this.lat=+d,this.lng=+y,k!==void 0&&(this.alt=+k)}oe.prototype={equals:function(d,y){if(!d)return!1;d=me(d);var k=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return k<=(y===void 0?1e-9:y)},toString:function(d){return"LatLng("+g(this.lat,d)+", "+g(this.lng,d)+")"},distanceTo:function(d){return be.distance(this,me(d))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(d){var y=180*d/40075017,k=y/Math.cos(Math.PI/180*this.lat);return V([this.lat-y,this.lng-k],[this.lat+y,this.lng+k])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function me(d,y,k){return d instanceof oe?d:O(d)&&typeof d[0]!="object"?d.length===3?new oe(d[0],d[1],d[2]):d.length===2?new oe(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new oe(d.lat,"lng"in d?d.lng:d.lon,d.alt):y===void 0?null:new oe(d,y,k)}var pe={latLngToPoint:function(d,y){var k=this.projection.project(d),C=this.scale(y);return this.transformation._transform(k,C)},pointToLatLng:function(d,y){var k=this.scale(y),C=this.transformation.untransform(d,k);return this.projection.unproject(C)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var y=this.projection.bounds,k=this.scale(d),C=this.transformation.transform(y.min,k),R=this.transformation.transform(y.max,k);return new B(C,R)},infinite:!1,wrapLatLng:function(d){var y=this.wrapLng?m(d.lng,this.wrapLng,!0):d.lng,k=this.wrapLat?m(d.lat,this.wrapLat,!0):d.lat,C=d.alt;return new oe(k,y,C)},wrapLatLngBounds:function(d){var y=d.getCenter(),k=this.wrapLatLng(y),C=y.lat-k.lat,R=y.lng-k.lng;if(C===0&&R===0)return d;var U=d.getSouthWest(),ee=d.getNorthEast(),ce=new oe(U.lat-C,U.lng-R),ge=new oe(ee.lat-C,ee.lng-R);return new ae(ce,ge)}},be=i({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(d,y){var k=Math.PI/180,C=d.lat*k,R=y.lat*k,U=Math.sin((y.lat-d.lat)*k/2),ee=Math.sin((y.lng-d.lng)*k/2),ce=U*U+Math.cos(C)*Math.cos(R)*ee*ee,ge=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*ge}}),ne=6378137,Oe={R:ne,MAX_LATITUDE:85.0511287798,project:function(d){var y=Math.PI/180,k=this.MAX_LATITUDE,C=Math.max(Math.min(k,d.lat),-k),R=Math.sin(C*y);return new re(this.R*d.lng*y,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(d){var y=180/Math.PI;return new oe((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*y,d.x*y/this.R)},bounds:(function(){var d=ne*Math.PI;return new B([-d,-d],[d,d])})()};function Ce(d,y,k,C){if(O(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=y,this._c=k,this._d=C}Ce.prototype={transform:function(d,y){return this._transform(d.clone(),y)},_transform:function(d,y){return y=y||1,d.x=y*(this._a*d.x+this._b),d.y=y*(this._c*d.y+this._d),d},untransform:function(d,y){return y=y||1,new re((d.x/y-this._b)/this._a,(d.y/y-this._d)/this._c)}};function ve(d,y,k,C){return new Ce(d,y,k,C)}var Ze=i({},be,{code:"EPSG:3857",projection:Oe,transformation:(function(){var d=.5/(Math.PI*Oe.R);return ve(d,.5,-d,.5)})()}),Ne=i({},Ze,{code:"EPSG:900913"});function _e(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function je(d,y){var k="",C,R,U,ee,ce,ge;for(C=0,U=d.length;C<U;C++){for(ce=d[C],R=0,ee=ce.length;R<ee;R++)ge=ce[R],k+=(R?"L":"M")+ge.x+" "+ge.y;k+=y?He.svg?"z":"x":""}return k||"M0 0"}var Ie=document.documentElement.style,Ve="ActiveXObject"in window,bt=Ve&&!document.addEventListener,xt="msLaunchUri"in navigator&&!("documentMode"in document),Pt=Fr("webkit"),fe=Fr("android"),Me=Fr("android 2")||Fr("android 3"),Be=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=fe&&Fr("Google")&&Be<537&&!("AudioNode"in window),jt=!!window.opera,yt=!xt&&Fr("chrome"),Zn=Fr("gecko")&&!Pt&&!jt&&!Ve,mi=!yt&&Fr("safari"),pi=Fr("phantom"),Cs="OTransition"in Ie,Ms=navigator.platform.indexOf("Win")===0,qt=Ve&&"transition"in Ie,hn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Me,gi="MozPerspective"in Ie,Or=!window.L_DISABLE_3D&&(qt||hn||gi)&&!Cs&&!pi,Ll=typeof orientation<"u"||Fr("mobile"),mx=Ll&&Pt,px=Ll&&hn,Il=!window.PointerEvent&&window.MSPointerEvent,$l=!!(window.PointerEvent||Il),Bl="ontouchstart"in window||!!window.TouchEvent,No=!window.L_NO_TOUCH&&(Bl||$l),cu=Ll&&jt,zl=Ll&&Zn,gx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ap=(function(){var d=!1;try{var y=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,y),window.removeEventListener("testPassiveEventSupport",p,y)}catch{}return d})(),xf=(function(){return!!document.createElement("canvas").getContext})(),Co=!!(document.createElementNS&&_e("svg").createSVGRect),yx=!!Co&&(function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Tp=!Co&&(function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var y=d.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),Op=navigator.platform.indexOf("Mac")===0,jp=navigator.platform.indexOf("Linux")===0;function Fr(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var He={ie:Ve,ielt9:bt,edge:xt,webkit:Pt,android:fe,android23:Me,androidStock:lt,opera:jt,chrome:yt,gecko:Zn,safari:mi,phantom:pi,opera12:Cs,win:Ms,ie3d:qt,webkit3d:hn,gecko3d:gi,any3d:Or,mobile:Ll,mobileWebkit:mx,mobileWebkit3d:px,msPointer:Il,pointer:$l,touch:No,touchNative:Bl,mobileOpera:cu,mobileGecko:zl,retina:gx,passiveEvents:Ap,canvas:xf,svg:Co,vml:Tp,inlineSvg:yx,mac:Op,linux:jp},_f=He.msPointer?"MSPointerDown":"pointerdown",wf=He.msPointer?"MSPointerMove":"pointermove",va=He.msPointer?"MSPointerUp":"pointerup",An=He.msPointer?"MSPointerCancel":"pointercancel",Xn={touchstart:_f,touchmove:wf,touchend:va,touchcancel:An},Mo={touchstart:Ds,touchmove:Wa,touchend:Wa,touchcancel:Wa},Ka={},Np=!1;function bx(d,y,k){return y==="touchstart"&&Ps(),Mo[y]?(k=Mo[y].bind(this,k),d.addEventListener(Xn[y],k,!1),k):(console.warn("wrong event specified:",y),p)}function Cp(d,y,k){if(!Xn[y]){console.warn("wrong event specified:",y);return}d.removeEventListener(Xn[y],k,!1)}function Ul(d){Ka[d.pointerId]=d}function Sf(d){Ka[d.pointerId]&&(Ka[d.pointerId]=d)}function Po(d){delete Ka[d.pointerId]}function Ps(){Np||(document.addEventListener(_f,Ul,!0),document.addEventListener(wf,Sf,!0),document.addEventListener(va,Po,!0),document.addEventListener(An,Po,!0),Np=!0)}function Wa(d,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var k in Ka)y.touches.push(Ka[k]);y.changedTouches=[y],d(y)}}function Ds(d,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&mn(y),Wa(d,y)}function Tn(d){var y={},k,C;for(C in d)k=d[C],y[C]=k&&k.bind?k.bind(d):k;return d=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var Mp=200;function Pp(d,y){d.addEventListener("dblclick",y);var k=0,C;function R(U){if(U.detail!==1){C=U.detail;return}if(!(U.pointerType==="mouse"||U.sourceCapabilities&&!U.sourceCapabilities.firesTouchEvents)){var ee=Wl(U);if(!(ee.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!ee.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var ce=Date.now();ce-k<=Mp?(C++,C===2&&y(Tn(U))):C=1,k=ce}}}return d.addEventListener("click",R),{dblclick:y,simDblclick:R}}function Do(d,y){d.removeEventListener("dblclick",y.dblclick),d.removeEventListener("click",y.simDblclick)}var Va=Gl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fl=Gl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ef=Fl==="webkitTransition"||Fl==="OTransition"?Fl+"End":"transitionend";function kf(d){return typeof d=="string"?document.getElementById(d):d}function Hl(d,y){var k=d.style[y]||d.currentStyle&&d.currentStyle[y];if((!k||k==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(d,null);k=C?C[y]:null}return k==="auto"?null:k}function ct(d,y,k){var C=document.createElement(d);return C.className=y||"",k&&k.appendChild(C),C}function It(d){var y=d.parentNode;y&&y.removeChild(d)}function Hr(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function In(d){var y=d.parentNode;y&&y.lastChild!==d&&y.appendChild(d)}function Ro(d){var y=d.parentNode;y&&y.firstChild!==d&&y.insertBefore(d,y.firstChild)}function Af(d,y){if(d.classList!==void 0)return d.classList.contains(y);var k=uu(d);return k.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(k)}function nt(d,y){if(d.classList!==void 0)for(var k=w(y),C=0,R=k.length;C<R;C++)d.classList.add(k[C]);else if(!Af(d,y)){var U=uu(d);Rs(d,(U?U+" ":"")+y)}}function en(d,y){d.classList!==void 0?d.classList.remove(y):Rs(d,v((" "+uu(d)+" ").replace(" "+y+" "," ")))}function Rs(d,y){d.className.baseVal===void 0?d.className=y:d.className.baseVal=y}function uu(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function Zt(d,y){"opacity"in d.style?d.style.opacity=y:"filter"in d.style&&Tf(d,y)}function Tf(d,y){var k=!1,C="DXImageTransform.Microsoft.Alpha";try{k=d.filters.item(C)}catch{if(y===1)return}y=Math.round(y*100),k?(k.Enabled=y!==100,k.Opacity=y):d.style.filter+=" progid:"+C+"(opacity="+y+")"}function Gl(d){for(var y=document.documentElement.style,k=0;k<d.length;k++)if(d[k]in y)return d[k];return!1}function xa(d,y,k){var C=y||new re(0,0);d.style[Va]=(He.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(k?" scale("+k+")":"")}function Ut(d,y){d._leaflet_pos=y,He.any3d?xa(d,y):(d.style.left=y.x+"px",d.style.top=y.y+"px")}function Za(d){return d._leaflet_pos||new re(0,0)}var Ls,Gi,Of;if("onselectstart"in document)Ls=function(){tt(window,"selectstart",mn)},Gi=function(){Nt(window,"selectstart",mn)};else{var Is=Gl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ls=function(){if(Is){var d=document.documentElement.style;Of=d[Is],d[Is]="none"}},Gi=function(){Is&&(document.documentElement.style[Is]=Of,Of=void 0)}}function du(){tt(window,"dragstart",mn)}function ql(){Nt(window,"dragstart",mn)}var fu,jf;function $s(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Gr(),fu=d,jf=d.style.outlineStyle,d.style.outlineStyle="none",tt(window,"keydown",Gr))}function Gr(){fu&&(fu.style.outlineStyle=jf,fu=void 0,jf=void 0,Nt(window,"keydown",Gr))}function hu(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Yl(d){var y=d.getBoundingClientRect();return{x:y.width/d.offsetWidth||1,y:y.height/d.offsetHeight||1,boundingClientRect:y}}var Bs={__proto__:null,TRANSFORM:Va,TRANSITION:Fl,TRANSITION_END:Ef,get:kf,getStyle:Hl,create:ct,remove:It,empty:Hr,toFront:In,toBack:Ro,hasClass:Af,addClass:nt,removeClass:en,setClass:Rs,getClass:uu,setOpacity:Zt,testProp:Gl,setTransform:xa,setPosition:Ut,getPosition:Za,get disableTextSelection(){return Ls},get enableTextSelection(){return Gi},disableImageDrag:du,enableImageDrag:ql,preventOutline:$s,restoreOutline:Gr,getSizedParentNode:hu,getScale:Yl};function tt(d,y,k,C){if(y&&typeof y=="object")for(var R in y)bi(d,R,y[R],k);else{y=w(y);for(var U=0,ee=y.length;U<ee;U++)bi(d,y[U],k,C)}return this}var yi="_leaflet_events";function Nt(d,y,k,C){if(arguments.length===1)Nf(d),delete d[yi];else if(y&&typeof y=="object")for(var R in y)Kl(d,R,y[R],k);else if(y=w(y),arguments.length===2)Nf(d,function(ce){return P(y,ce)!==-1});else for(var U=0,ee=y.length;U<ee;U++)Kl(d,y[U],k,C);return this}function Nf(d,y){for(var k in d[yi]){var C=k.split(/\d/)[0];(!y||y(C))&&Kl(d,C,null,null,k)}}var Lo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bi(d,y,k,C){var R=y+u(k)+(C?"_"+u(C):"");if(d[yi]&&d[yi][R])return this;var U=function(ce){return k.call(C||d,ce||window.event)},ee=U;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?U=bx(d,y,U):He.touch&&y==="dblclick"?U=Pp(d,U):"addEventListener"in d?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?d.addEventListener(Lo[y]||y,U,He.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(U=function(ce){ce=ce||window.event,_a(d,ce)&&ee(ce)},d.addEventListener(Lo[y],U,!1)):d.addEventListener(y,ee,!1):d.attachEvent("on"+y,U),d[yi]=d[yi]||{},d[yi][R]=U}function Kl(d,y,k,C,R){R=R||y+u(k)+(C?"_"+u(C):"");var U=d[yi]&&d[yi][R];if(!U)return this;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?Cp(d,y,U):He.touch&&y==="dblclick"?Do(d,U):"removeEventListener"in d?d.removeEventListener(Lo[y]||y,U,!1):d.detachEvent("on"+y,U),d[yi][R]=null}function vi(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function qi(d){return bi(d,"wheel",vi),this}function Io(d){return tt(d,"mousedown touchstart dblclick contextmenu",vi),d._leaflet_disable_click=!0,this}function mn(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Xa(d){return mn(d),vi(d),this}function Wl(d){if(d.composedPath)return d.composedPath();for(var y=[],k=d.target;k;)y.push(k),k=k.parentNode;return y}function Vl(d,y){if(!y)return new re(d.clientX,d.clientY);var k=Yl(y),C=k.boundingClientRect;return new re((d.clientX-C.left)/k.x-y.clientLeft,(d.clientY-C.top)/k.y-y.clientTop)}var Dp=He.linux&&He.chrome?window.devicePixelRatio:He.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cr(d){return He.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Dp:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function _a(d,y){var k=y.relatedTarget;if(!k)return!0;try{for(;k&&k!==d;)k=k.parentNode}catch{return!1}return k!==d}var mu={__proto__:null,on:tt,off:Nt,stopPropagation:vi,disableScrollPropagation:qi,disableClickPropagation:Io,preventDefault:mn,stop:Xa,getPropagationPath:Wl,getMousePosition:Vl,getWheelDelta:cr,isExternalTarget:_a,addListener:tt,removeListener:Nt},zs=X.extend({run:function(d,y,k,C){this.stop(),this._el=d,this._inProgress=!0,this._duration=k||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=Za(d),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(d){var y=+new Date-this._startTime,k=this._duration*1e3;y<k?this._runFrame(this._easeOut(y/k),d):(this._runFrame(1),this._complete())},_runFrame:function(d,y){var k=this._startPos.add(this._offset.multiplyBy(d));y&&k._round(),Ut(this._el,k),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),ht=X.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,y){y=_(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(me(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Fl&&He.any3d&&!He.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),tt(this._proxy,Ef,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,y,k){if(y=y===void 0?this._zoom:this._limitZoom(y),d=this._limitCenter(me(d),y,this.options.maxBounds),k=k||{},this._stop(),this._loaded&&!k.reset&&k!==!0){k.animate!==void 0&&(k.zoom=i({animate:k.animate},k.zoom),k.pan=i({animate:k.animate,duration:k.duration},k.pan));var C=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,y,k.zoom):this._tryAnimatedPan(d,k.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(d,y,k.pan&&k.pan.noMoveStart),this},setZoom:function(d,y){return this._loaded?this.setView(this.getCenter(),d,{zoom:y}):(this._zoom=d,this)},zoomIn:function(d,y){return d=d||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,y)},zoomOut:function(d,y){return d=d||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,y)},setZoomAround:function(d,y,k){var C=this.getZoomScale(y),R=this.getSize().divideBy(2),U=d instanceof re?d:this.latLngToContainerPoint(d),ee=U.subtract(R).multiplyBy(1-1/C),ce=this.containerPointToLatLng(R.add(ee));return this.setView(ce,y,{zoom:k})},_getBoundsCenterZoom:function(d,y){y=y||{},d=d.getBounds?d.getBounds():V(d);var k=se(y.paddingTopLeft||y.padding||[0,0]),C=se(y.paddingBottomRight||y.padding||[0,0]),R=this.getBoundsZoom(d,!1,k.add(C));if(R=typeof y.maxZoom=="number"?Math.min(y.maxZoom,R):R,R===1/0)return{center:d.getCenter(),zoom:R};var U=C.subtract(k).divideBy(2),ee=this.project(d.getSouthWest(),R),ce=this.project(d.getNorthEast(),R),ge=this.unproject(ee.add(ce).divideBy(2).add(U),R);return{center:ge,zoom:R}},fitBounds:function(d,y){if(d=V(d),!d.isValid())throw new Error("Bounds are not valid.");var k=this._getBoundsCenterZoom(d,y);return this.setView(k.center,k.zoom,y)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,y){return this.setView(d,this._zoom,{pan:y})},panBy:function(d,y){if(d=se(d).round(),y=y||{},!d.x&&!d.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new zs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){nt(this._mapPane,"leaflet-pan-anim");var k=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,k,y.duration||.25,y.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,y,k){if(k=k||{},k.animate===!1||!He.any3d)return this.setView(d,y,k);this._stop();var C=this.project(this.getCenter()),R=this.project(d),U=this.getSize(),ee=this._zoom;d=me(d),y=y===void 0?ee:y;var ce=Math.max(U.x,U.y),ge=ce*this.getZoomScale(ee,y),Ae=R.distanceTo(C)||1,Re=1.42,qe=Re*Re;function ot(cn){var ka=cn?-1:1,Uo=cn?ge:ce,qf=ge*ge-ce*ce+ka*qe*qe*Ae*Ae,dc=2*Uo*qe*Ae,fc=qf/dc,oo=Math.sqrt(fc*fc+1)-fc,Aa=oo<1e-9?-18:Math.log(oo);return Aa}function $n(cn){return(Math.exp(cn)-Math.exp(-cn))/2}function pn(cn){return(Math.exp(cn)+Math.exp(-cn))/2}function Nr(cn){return $n(cn)/pn(cn)}var _t=ot(0);function wt(cn){return ce*(pn(_t)/pn(_t+Re*cn))}function ut(cn){return ce*(pn(_t)*Nr(_t+Re*cn)-$n(_t))/qe}function io(cn){return 1-Math.pow(1-cn,1.5)}var Wr=Date.now(),Ou=(ot(1)-_t)/Re,ao=k.duration?1e3*k.duration:1e3*Ou*.8;function Gf(){var cn=(Date.now()-Wr)/ao,ka=io(cn)*Ou;cn<=1?(this._flyToFrame=F(Gf,this),this._move(this.unproject(C.add(R.subtract(C).multiplyBy(ut(ka)/Ae)),ee),this.getScaleZoom(ce/wt(ka),ee),{flyTo:!0})):this._move(d,y)._moveEnd(!0)}return this._moveStart(!0,k.noMoveStart),Gf.call(this),this},flyToBounds:function(d,y){var k=this._getBoundsCenterZoom(d,y);return this.flyTo(k.center,k.zoom,y)},setMaxBounds:function(d){return d=V(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var y=this.options.minZoom;return this.options.minZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var y=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,y){this._enforcingBounds=!0;var k=this.getCenter(),C=this._limitCenter(k,this._zoom,V(d));return k.equals(C)||this.panTo(C,y),this._enforcingBounds=!1,this},panInside:function(d,y){y=y||{};var k=se(y.paddingTopLeft||y.padding||[0,0]),C=se(y.paddingBottomRight||y.padding||[0,0]),R=this.project(this.getCenter()),U=this.project(d),ee=this.getPixelBounds(),ce=W([ee.min.add(k),ee.max.subtract(C)]),ge=ce.getSize();if(!ce.contains(U)){this._enforcingBounds=!0;var Ae=U.subtract(ce.getCenter()),Re=ce.extend(U).getSize().subtract(ge);R.x+=Ae.x<0?-Re.x:Re.x,R.y+=Ae.y<0?-Re.y:Re.y,this.panTo(this.unproject(R),y),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var k=this.getSize(),C=y.divideBy(2).round(),R=k.divideBy(2).round(),U=C.subtract(R);return!U.x&&!U.y?this:(d.animate&&d.pan?this.panBy(U):(d.pan&&this._rawPanBy(U),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:k}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),k=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,k,d):navigator.geolocation.getCurrentPosition(y,k,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var y=d.code,k=d.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+k+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var y=d.coords.latitude,k=d.coords.longitude,C=new oe(y,k),R=C.toBounds(d.coords.accuracy*2),U=this._locateOptions;if(U.setView){var ee=this.getBoundsZoom(R);this.setView(C,U.maxZoom?Math.min(ee,U.maxZoom):ee)}var ce={latlng:C,bounds:R,timestamp:d.timestamp};for(var ge in d.coords)typeof d.coords[ge]=="number"&&(ce[ge]=d.coords[ge]);this.fire("locationfound",ce)}},addHandler:function(d,y){if(!y)return this;var k=this[d]=new y(this);return this._handlers.push(k),this.options[d]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),It(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)It(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,y){var k="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),C=ct("div",k,y||this._mapPane);return d&&(this._panes[d]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),y=this.unproject(d.getBottomLeft()),k=this.unproject(d.getTopRight());return new ae(y,k)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,y,k){d=V(d),k=se(k||[0,0]);var C=this.getZoom()||0,R=this.getMinZoom(),U=this.getMaxZoom(),ee=d.getNorthWest(),ce=d.getSouthEast(),ge=this.getSize().subtract(k),Ae=W(this.project(ce,C),this.project(ee,C)).getSize(),Re=He.any3d?this.options.zoomSnap:1,qe=ge.x/Ae.x,ot=ge.y/Ae.y,$n=y?Math.max(qe,ot):Math.min(qe,ot);return C=this.getScaleZoom($n,C),Re&&(C=Math.round(C/(Re/100))*(Re/100),C=y?Math.ceil(C/Re)*Re:Math.floor(C/Re)*Re),Math.max(R,Math.min(U,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,y){var k=this._getTopLeftPoint(d,y);return new B(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,y){var k=this.options.crs;return y=y===void 0?this._zoom:y,k.scale(d)/k.scale(y)},getScaleZoom:function(d,y){var k=this.options.crs;y=y===void 0?this._zoom:y;var C=k.zoom(d*k.scale(y));return isNaN(C)?1/0:C},project:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(me(d),y)},unproject:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(se(d),y)},layerPointToLatLng:function(d){var y=se(d).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(d){var y=this.project(me(d))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(me(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(V(d))},distance:function(d,y){return this.options.crs.distance(me(d),me(y))},containerPointToLayerPoint:function(d){return se(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return se(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var y=this.containerPointToLayerPoint(se(d));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(d)))},mouseEventToContainerPoint:function(d){return Vl(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var y=this._container=kf(d);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");tt(y,"scroll",this._onScroll,this),this._containerId=u(y)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&He.any3d,nt(d,"leaflet-container"+(He.touch?" leaflet-touch":"")+(He.retina?" leaflet-retina":"")+(He.ielt9?" leaflet-oldie":"")+(He.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=Hl(d,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(d.markerPane,"leaflet-zoom-hide"),nt(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,y,k){Ut(this._mapPane,new re(0,0));var C=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var R=this._zoom!==y;this._moveStart(R,k)._move(d,y)._moveEnd(R),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(d,y){return d&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(d,y,k,C){y===void 0&&(y=this._zoom);var R=this._zoom!==y;return this._zoom=y,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),C?k&&k.pinch&&this.fire("zoom",k):((R||k&&k.pinch)&&this.fire("zoom",k),this.fire("move",k)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Ut(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[u(this._container)]=this;var y=d?Nt:tt;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),He.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,y){for(var k=[],C,R=y==="mouseout"||y==="mouseover",U=d.target||d.srcElement,ee=!1;U;){if(C=this._targets[u(U)],C&&(y==="click"||y==="preclick")&&this._draggableMoved(C)){ee=!0;break}if(C&&C.listens(y,!0)&&(R&&!_a(U,d)||(k.push(C),R))||U===this._container)break;U=U.parentNode}return!k.length&&!ee&&!R&&this.listens(y,!0)&&(k=[this]),k},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var y=d.target||d.srcElement;if(!(!this._loaded||y._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(y))){var k=d.type;k==="mousedown"&&$s(y),this._fireDOMEvent(d,k)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,y,k){if(d.type==="click"){var C=i({},d);C.type="preclick",this._fireDOMEvent(C,C.type,k)}var R=this._findEventTargets(d,y);if(k){for(var U=[],ee=0;ee<k.length;ee++)k[ee].listens(y,!0)&&U.push(k[ee]);R=U.concat(R)}if(R.length){y==="contextmenu"&&mn(d);var ce=R[0],ge={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var Ae=ce.getLatLng&&(!ce._radius||ce._radius<=10);ge.containerPoint=Ae?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(d),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Ae?ce.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(ee=0;ee<R.length;ee++)if(R[ee].fire(y,ge,!0),ge.originalEvent._stopped||R[ee].options.bubblingMouseEvents===!1&&P(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,y=this._handlers.length;d<y;d++)this._handlers[d].disable()},whenReady:function(d,y){return this._loaded?d.call(y||this,{target:this}):this.on("load",d,y),this},_getMapPanePos:function(){return Za(this._mapPane)||new re(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,y){var k=d&&y!==void 0?this._getNewPixelOrigin(d,y):this.getPixelOrigin();return k.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,y){var k=this.getSize()._divideBy(2);return this.project(d,y)._subtract(k)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,y,k){var C=this._getNewPixelOrigin(k,y);return this.project(d,y)._subtract(C)},_latLngBoundsToNewLayerBounds:function(d,y,k){var C=this._getNewPixelOrigin(k,y);return W([this.project(d.getSouthWest(),y)._subtract(C),this.project(d.getNorthWest(),y)._subtract(C),this.project(d.getSouthEast(),y)._subtract(C),this.project(d.getNorthEast(),y)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,y,k){if(!k)return d;var C=this.project(d,y),R=this.getSize().divideBy(2),U=new B(C.subtract(R),C.add(R)),ee=this._getBoundsOffset(U,k,y);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?d:this.unproject(C.add(ee),y)},_limitOffset:function(d,y){if(!y)return d;var k=this.getPixelBounds(),C=new B(k.min.add(d),k.max.add(d));return d.add(this._getBoundsOffset(C,y))},_getBoundsOffset:function(d,y,k){var C=W(this.project(y.getNorthEast(),k),this.project(y.getSouthWest(),k)),R=C.min.subtract(d.min),U=C.max.subtract(d.max),ee=this._rebound(R.x,-U.x),ce=this._rebound(R.y,-U.y);return new re(ee,ce)},_rebound:function(d,y){return d+y>0?Math.round(d-y)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(y))},_limitZoom:function(d){var y=this.getMinZoom(),k=this.getMaxZoom(),C=He.any3d?this.options.zoomSnap:1;return C&&(d=Math.round(d/C)*C),Math.max(y,Math.min(k,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){en(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,y){var k=this._getCenterOffset(d)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(k)?!1:(this.panBy(k,y),!0)},_createAnimProxy:function(){var d=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(y){var k=Va,C=this._proxy.style[k];xa(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),C===this._proxy.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){It(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),y=this.getZoom();xa(this._proxy,this.project(d,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,y,k){if(this._animatingZoom)return!0;if(k=k||{},!this._zoomAnimated||k.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(y),R=this._getCenterOffset(d)._divideBy(1-1/C);return k.animate!==!0&&!this.getSize().contains(R)?!1:(F(function(){this._moveStart(!0,k.noMoveStart||!1)._animateZoom(d,y,!0)},this),!0)},_animateZoom:function(d,y,k,C){this._mapPane&&(k&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=y,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:y,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&en(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Cf(d,y){return new ht(d,y)}var jr=Q.extend({options:{position:"topright"},initialize:function(d){_(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var y=this._map;return y&&y.removeControl(this),this.options.position=d,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var y=this._container=this.onAdd(d),k=this.getPosition(),C=d._controlCorners[k];return nt(y,"leaflet-control"),k.indexOf("bottom")!==-1?C.insertBefore(y,C.firstChild):C.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(It(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),wa=function(d){return new jr(d)};ht.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},y="leaflet-",k=this._controlContainer=ct("div",y+"control-container",this._container);function C(R,U){var ee=y+R+" "+y+U;d[R+U]=ct("div",ee,k)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)It(this._controlCorners[d]);It(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zl=jr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,y,k,C){return k<C?-1:C<k?1:0}},initialize:function(d,y,k){_(this,k),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in d)this._addLayer(d[C],C);for(C in y)this._addLayer(y[C],C,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return jr.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,y){return this._addLayer(d,y),this._map?this._update():this},addOverlay:function(d,y){return this._addLayer(d,y,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var y=this._getLayer(u(d));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):en(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return en(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",y=this._container=ct("div",d),k=this.options.collapsed;y.setAttribute("aria-haspopup",!0),Io(y),qi(y);var C=this._section=ct("section",d+"-list");k&&(this._map.on("click",this.collapse,this),tt(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=ct("a",d+"-toggle",y);R.href="#",R.title="Layers",R.setAttribute("role","button"),tt(R,{keydown:function(U){U.keyCode===13&&this._expandSafely()},click:function(U){mn(U),this._expandSafely()}},this),k||this.expand(),this._baseLayersList=ct("div",d+"-base",C),this._separator=ct("div",d+"-separator",C),this._overlaysList=ct("div",d+"-overlays",C),y.appendChild(C)},_getLayer:function(d){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&u(this._layers[y].layer)===d)return this._layers[y]},_addLayer:function(d,y,k){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:y,overlay:k}),this.options.sortLayers&&this._layers.sort(o(function(C,R){return this.options.sortFunction(C.layer,R.layer,C.name,R.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hr(this._baseLayersList),Hr(this._overlaysList),this._layerControlInputs=[];var d,y,k,C,R=0;for(k=0;k<this._layers.length;k++)C=this._layers[k],this._addItem(C),y=y||C.overlay,d=d||!C.overlay,R+=C.overlay?0:1;return this.options.hideSingleBase&&(d=d&&R>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=y&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var y=this._getLayer(u(d.target)),k=y.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;k&&this._map.fire(k,y)},_createRadioElement:function(d,y){var k='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(y?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=k,C.firstChild},_addItem:function(d){var y=document.createElement("label"),k=this._map.hasLayer(d.layer),C;d.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=k):C=this._createRadioElement("leaflet-base-layers_"+u(this),k),this._layerControlInputs.push(C),C.layerId=u(d.layer),tt(C,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+d.name;var U=document.createElement("span");y.appendChild(U),U.appendChild(C),U.appendChild(R);var ee=d.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,y,k,C=[],R=[];this._handlingClick=!0;for(var U=d.length-1;U>=0;U--)y=d[U],k=this._getLayer(y.layerId).layer,y.checked?C.push(k):y.checked||R.push(k);for(U=0;U<R.length;U++)this._map.hasLayer(R[U])&&this._map.removeLayer(R[U]);for(U=0;U<C.length;U++)this._map.hasLayer(C[U])||this._map.addLayer(C[U]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,y,k,C=this._map.getZoom(),R=d.length-1;R>=0;R--)y=d[R],k=this._getLayer(y.layerId).layer,y.disabled=k.options.minZoom!==void 0&&C<k.options.minZoom||k.options.maxZoom!==void 0&&C>k.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,tt(d,"click",mn),this.expand();var y=this;setTimeout(function(){Nt(d,"click",mn),y._preventClick=!1})}}),Rp=function(d,y,k){return new Zl(d,y,k)},Mf=jr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var y="leaflet-control-zoom",k=ct("div",y+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,y+"-in",k,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,y+"-out",k,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),k},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,y,k,C,R){var U=ct("a",k,C);return U.innerHTML=d,U.href="#",U.title=y,U.setAttribute("role","button"),U.setAttribute("aria-label",y),Io(U),tt(U,"click",Xa),tt(U,"click",R,this),tt(U,"click",this._refocusOnMap,this),U},_updateDisabled:function(){var d=this._map,y="leaflet-disabled";en(this._zoomInButton,y),en(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(nt(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(nt(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Mf,this.addControl(this.zoomControl))});var vx=function(d){return new Mf(d)},Lp=jr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var y="leaflet-control-scale",k=ct("div",y),C=this.options;return this._addScales(C,y+"-line",k),d.on(C.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),k},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,y,k){d.metric&&(this._mScale=ct("div",y,k)),d.imperial&&(this._iScale=ct("div",y,k))},_update:function(){var d=this._map,y=d.getSize().y/2,k=d.distance(d.containerPointToLatLng([0,y]),d.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(k)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var y=this._getRoundNum(d),k=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,k,y/d)},_updateImperial:function(d){var y=d*3.2808399,k,C,R;y>5280?(k=y/5280,C=this._getRoundNum(k),this._updateScale(this._iScale,C+" mi",C/k)):(R=this._getRoundNum(y),this._updateScale(this._iScale,R+" ft",R/y))},_updateScale:function(d,y,k){d.style.width=Math.round(this.options.maxWidth*k)+"px",d.innerHTML=y},_getRoundNum:function(d){var y=Math.pow(10,(Math.floor(d)+"").length-1),k=d/y;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:1,y*k}}),Pf=function(d){return new Lp(d)},xx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Df=jr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(He.inlineSvg?xx+" ":"")+"Leaflet</a>"},initialize:function(d){_(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),Io(this._container);for(var y in d._layers)d._layers[y].getAttribution&&this.addAttribution(d._layers[y].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var y in this._attributions)this._attributions[y]&&d.push(y);var k=[];this.options.prefix&&k.push(this.options.prefix),d.length&&k.push(d.join(", ")),this._container.innerHTML=k.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&new Df().addTo(this)});var _x=function(d){return new Df(d)};jr.Layers=Zl,jr.Zoom=Mf,jr.Scale=Lp,jr.Attribution=Df,wa.layers=Rp,wa.zoom=vx,wa.scale=Pf,wa.attribution=_x;var Yi=Q.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yi.addTo=function(d,y){return d.addHandler(y,this),this};var wx={Events:Y},Rf=He.touch?"touchstart mousedown":"mousedown",Ja=X.extend({options:{clickTolerance:3},initialize:function(d,y,k,C){_(this,C),this._element=d,this._dragStartTarget=y||d,this._preventOutline=k},enable:function(){this._enabled||(tt(this._dragStartTarget,Rf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ja._dragging===this&&this.finishDrag(!0),Nt(this._dragStartTarget,Rf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Af(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Ja._dragging===this&&this.finishDrag();return}if(!(Ja._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Ja._dragging=this,this._preventOutline&&$s(this._element),du(),Ls(),!this._moving)){this.fire("down");var y=d.touches?d.touches[0]:d,k=hu(this._element);this._startPoint=new re(y.clientX,y.clientY),this._startPos=Za(this._element),this._parentScale=Yl(k);var C=d.type==="mousedown";tt(document,C?"mousemove":"touchmove",this._onMove,this),tt(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var y=d.touches&&d.touches.length===1?d.touches[0]:d,k=new re(y.clientX,y.clientY)._subtract(this._startPoint);!k.x&&!k.y||Math.abs(k.x)+Math.abs(k.y)<this.options.clickTolerance||(k.x/=this._parentScale.x,k.y/=this._parentScale.y,mn(d),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Ut(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){en(document.body,"leaflet-dragging"),this._lastTarget&&(en(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nt(document,"mousemove touchmove",this._onMove,this),Nt(document,"mouseup touchend touchcancel",this._onUp,this),ql(),Gi();var y=this._moved&&this._moving;this._moving=!1,Ja._dragging=!1,y&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function Ip(d,y,k){var C,R=[1,4,2,8],U,ee,ce,ge,Ae,Re,qe,ot;for(U=0,Re=d.length;U<Re;U++)d[U]._code=$o(d[U],y);for(ce=0;ce<4;ce++){for(qe=R[ce],C=[],U=0,Re=d.length,ee=Re-1;U<Re;ee=U++)ge=d[U],Ae=d[ee],ge._code&qe?Ae._code&qe||(ot=pu(Ae,ge,qe,y,k),ot._code=$o(ot,y),C.push(ot)):(Ae._code&qe&&(ot=pu(Ae,ge,qe,y,k),ot._code=$o(ot,y),C.push(ot)),C.push(ge));d=C}return d}function $p(d,y){var k,C,R,U,ee,ce,ge,Ae,Re;if(!d||d.length===0)throw new Error("latlngs not passed");qr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var qe=me([0,0]),ot=V(d),$n=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());$n<1700&&(qe=Lf(d));var pn=d.length,Nr=[];for(k=0;k<pn;k++){var _t=me(d[k]);Nr.push(y.project(me([_t.lat-qe.lat,_t.lng-qe.lng])))}for(ce=ge=Ae=0,k=0,C=pn-1;k<pn;C=k++)R=Nr[k],U=Nr[C],ee=R.y*U.x-U.y*R.x,ge+=(R.x+U.x)*ee,Ae+=(R.y+U.y)*ee,ce+=ee*3;ce===0?Re=Nr[0]:Re=[ge/ce,Ae/ce];var wt=y.unproject(se(Re));return me([wt.lat+qe.lat,wt.lng+qe.lng])}function Lf(d){for(var y=0,k=0,C=0,R=0;R<d.length;R++){var U=me(d[R]);y+=U.lat,k+=U.lng,C++}return me([y/C,k/C])}var If={__proto__:null,clipPolygon:Ip,polygonCenter:$p,centroid:Lf};function Bp(d,y){if(!y||!d.length)return d.slice();var k=y*y;return d=Ex(d,k),d=Up(d,k),d}function zp(d,y,k){return Math.sqrt(Xl(d,y,k,!0))}function Sx(d,y,k){return Xl(d,y,k)}function Up(d,y){var k=d.length,C=typeof Uint8Array<"u"?Uint8Array:Array,R=new C(k);R[0]=R[k-1]=1,$f(d,R,y,0,k-1);var U,ee=[];for(U=0;U<k;U++)R[U]&&ee.push(d[U]);return ee}function $f(d,y,k,C,R){var U=0,ee,ce,ge;for(ce=C+1;ce<=R-1;ce++)ge=Xl(d[ce],d[C],d[R],!0),ge>U&&(ee=ce,U=ge);U>k&&(y[ee]=1,$f(d,y,k,C,ee),$f(d,y,k,ee,R))}function Ex(d,y){for(var k=[d[0]],C=1,R=0,U=d.length;C<U;C++)kx(d[C],d[R])>y&&(k.push(d[C]),R=C);return R<U-1&&k.push(d[U-1]),k}var Fp;function Hp(d,y,k,C,R){var U=C?Fp:$o(d,k),ee=$o(y,k),ce,ge,Ae;for(Fp=ee;;){if(!(U|ee))return[d,y];if(U&ee)return!1;ce=U||ee,ge=pu(d,y,ce,k,R),Ae=$o(ge,k),ce===U?(d=ge,U=Ae):(y=ge,ee=Ae)}}function pu(d,y,k,C,R){var U=y.x-d.x,ee=y.y-d.y,ce=C.min,ge=C.max,Ae,Re;return k&8?(Ae=d.x+U*(ge.y-d.y)/ee,Re=ge.y):k&4?(Ae=d.x+U*(ce.y-d.y)/ee,Re=ce.y):k&2?(Ae=ge.x,Re=d.y+ee*(ge.x-d.x)/U):k&1&&(Ae=ce.x,Re=d.y+ee*(ce.x-d.x)/U),new re(Ae,Re,R)}function $o(d,y){var k=0;return d.x<y.min.x?k|=1:d.x>y.max.x&&(k|=2),d.y<y.min.y?k|=4:d.y>y.max.y&&(k|=8),k}function kx(d,y){var k=y.x-d.x,C=y.y-d.y;return k*k+C*C}function Xl(d,y,k,C){var R=y.x,U=y.y,ee=k.x-R,ce=k.y-U,ge=ee*ee+ce*ce,Ae;return ge>0&&(Ae=((d.x-R)*ee+(d.y-U)*ce)/ge,Ae>1?(R=k.x,U=k.y):Ae>0&&(R+=ee*Ae,U+=ce*Ae)),ee=d.x-R,ce=d.y-U,C?ee*ee+ce*ce:new re(R,U)}function qr(d){return!O(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function gu(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qr(d)}function Us(d,y){var k,C,R,U,ee,ce,ge,Ae;if(!d||d.length===0)throw new Error("latlngs not passed");qr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Re=me([0,0]),qe=V(d),ot=qe.getNorthWest().distanceTo(qe.getSouthWest())*qe.getNorthEast().distanceTo(qe.getNorthWest());ot<1700&&(Re=Lf(d));var $n=d.length,pn=[];for(k=0;k<$n;k++){var Nr=me(d[k]);pn.push(y.project(me([Nr.lat-Re.lat,Nr.lng-Re.lng])))}for(k=0,C=0;k<$n-1;k++)C+=pn[k].distanceTo(pn[k+1])/2;if(C===0)Ae=pn[0];else for(k=0,U=0;k<$n-1;k++)if(ee=pn[k],ce=pn[k+1],R=ee.distanceTo(ce),U+=R,U>C){ge=(U-C)/R,Ae=[ce.x-ge*(ce.x-ee.x),ce.y-ge*(ce.y-ee.y)];break}var _t=y.unproject(se(Ae));return me([_t.lat+Re.lat,_t.lng+Re.lng])}var Ax={__proto__:null,simplify:Bp,pointToSegmentDistance:zp,closestPointOnSegment:Sx,clipSegment:Hp,_getEdgeIntersection:pu,_getBitCode:$o,_sqClosestPointOnSegment:Xl,isFlat:qr,_flat:gu,polylineCenter:Us},yu={project:function(d){return new re(d.lng,d.lat)},unproject:function(d){return new oe(d.y,d.x)},bounds:new B([-180,-90],[180,90])},bu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var y=Math.PI/180,k=this.R,C=d.lat*y,R=this.R_MINOR/k,U=Math.sqrt(1-R*R),ee=U*Math.sin(C),ce=Math.tan(Math.PI/4-C/2)/Math.pow((1-ee)/(1+ee),U/2);return C=-k*Math.log(Math.max(ce,1e-10)),new re(d.lng*y*k,C)},unproject:function(d){for(var y=180/Math.PI,k=this.R,C=this.R_MINOR/k,R=Math.sqrt(1-C*C),U=Math.exp(-d.y/k),ee=Math.PI/2-2*Math.atan(U),ce=0,ge=.1,Ae;ce<15&&Math.abs(ge)>1e-7;ce++)Ae=R*Math.sin(ee),Ae=Math.pow((1-Ae)/(1+Ae),R/2),ge=Math.PI/2-2*Math.atan(U*Ae)-ee,ee+=ge;return new oe(ee*y,d.x*y/k)}},Gp={__proto__:null,LonLat:yu,Mercator:bu,SphericalMercator:Oe},qp=i({},be,{code:"EPSG:3395",projection:bu,transformation:(function(){var d=.5/(Math.PI*bu.R);return ve(d,.5,-d,.5)})()}),Bf=i({},be,{code:"EPSG:4326",projection:yu,transformation:ve(1/180,1,-1/180,.5)}),Fs=i({},pe,{projection:yu,transformation:ve(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,y){var k=y.lng-d.lng,C=y.lat-d.lat;return Math.sqrt(k*k+C*C)},infinite:!0});pe.Earth=be,pe.EPSG3395=qp,pe.EPSG3857=Ze,pe.EPSG900913=Ne,pe.EPSG4326=Bf,pe.Simple=Fs;var xi=X.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[u(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[u(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var y=d.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var k=this.getEvents();y.on(k,this),this.once("remove",function(){y.off(k,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var y=u(d);return this._layers[y]?this:(this._layers[y]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var y=u(d);return this._layers[y]?(this._loaded&&d.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return u(d)in this._layers},eachLayer:function(d,y){for(var k in this._layers)d.call(y,this._layers[k]);return this},_addLayers:function(d){d=d?O(d)?d:[d]:[];for(var y=0,k=d.length;y<k;y++)this.addLayer(d[y])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[u(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var y=u(d);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,y=-1/0,k=this._getZoomSpan();for(var C in this._zoomBoundLayers){var R=this._zoomBoundLayers[C].options;d=R.minZoom===void 0?d:Math.min(d,R.minZoom),y=R.maxZoom===void 0?y:Math.max(y,R.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=d===1/0?void 0:d,k!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hs=xi.extend({initialize:function(d,y){_(this,y),this._layers={};var k,C;if(d)for(k=0,C=d.length;k<C;k++)this.addLayer(d[k])},addLayer:function(d){var y=this.getLayerId(d);return this._layers[y]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var y=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(d){var y=typeof d=="number"?d:this.getLayerId(d);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var y=Array.prototype.slice.call(arguments,1),k,C;for(k in this._layers)C=this._layers[k],C[d]&&C[d].apply(C,y);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,y){for(var k in this._layers)d.call(y,this._layers[k]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return u(d)}}),Tx=function(d,y){return new Hs(d,y)},Ki=Hs.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),Hs.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),Hs.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new ae;for(var y in this._layers){var k=this._layers[y];d.extend(k.getBounds?k.getBounds():k.getLatLng())}return d}}),Yp=function(d,y){return new Ki(d,y)},Wi=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){_(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,y){var k=this._getIconUrl(d);if(!k){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(k,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(C,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(d,y){var k=this.options,C=k[y+"Size"];typeof C=="number"&&(C=[C,C]);var R=se(C),U=se(y==="shadow"&&k.shadowAnchor||k.iconAnchor||R&&R.divideBy(2,!0));d.className="leaflet-marker-"+y+" "+(k.className||""),U&&(d.style.marginLeft=-U.x+"px",d.style.marginTop=-U.y+"px"),R&&(d.style.width=R.x+"px",d.style.height=R.y+"px")},_createImg:function(d,y){return y=y||document.createElement("img"),y.src=d,y},_getIconUrl:function(d){return He.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function Jl(d){return new Wi(d)}var Ql=Wi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof Ql.imagePath!="string"&&(Ql.imagePath=this._detectIconPath()),(this.options.imagePath||Ql.imagePath)+Wi.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var y=function(k,C,R){var U=C.exec(k);return U&&U[R]};return d=y(d,/^url\((['"])?(.+)\1\)$/,2),d&&y(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=ct("div","leaflet-default-icon-path",document.body),y=Hl(d,"background-image")||Hl(d,"backgroundImage");if(document.body.removeChild(d),y=this._stripUrl(y),y)return y;var k=document.querySelector('link[href$="leaflet.css"]');return k?k.href.substring(0,k.href.length-11-1):""}}),ec=Yi.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Ja(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&en(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var y=this._marker,k=y._map,C=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,U=Za(y._icon),ee=k.getPixelBounds(),ce=k.getPixelOrigin(),ge=W(ee.min._subtract(ce).add(R),ee.max._subtract(ce).subtract(R));if(!ge.contains(U)){var Ae=se((Math.max(ge.max.x,U.x)-ge.max.x)/(ee.max.x-ge.max.x)-(Math.min(ge.min.x,U.x)-ge.min.x)/(ee.min.x-ge.min.x),(Math.max(ge.max.y,U.y)-ge.max.y)/(ee.max.y-ge.max.y)-(Math.min(ge.min.y,U.y)-ge.min.y)/(ee.min.y-ge.min.y)).multiplyBy(C);k.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Ut(y._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=F(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,d)))},_onDrag:function(d){var y=this._marker,k=y._shadow,C=Za(y._icon),R=y._map.layerPointToLatLng(C);k&&Ut(k,C),y._latlng=R,d.latlng=R,d.oldLatLng=this._oldLatLng,y.fire("move",d).fire("drag",d)},_onDragEnd:function(d){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),tc=xi.extend({options:{icon:new Ql,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,y){_(this,y),this._latlng=me(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var y=this._latlng;return this._latlng=me(d),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),k=d.icon.createIcon(this._icon),C=!1;k!==this._icon&&(this._icon&&this._removeIcon(),C=!0,d.title&&(k.title=d.title),k.tagName==="IMG"&&(k.alt=d.alt||"")),nt(k,y),d.keyboard&&(k.tabIndex="0",k.setAttribute("role","button")),this._icon=k,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(k,"focus",this._panOnFocus,this);var R=d.icon.createShadow(this._shadow),U=!1;R!==this._shadow&&(this._removeShadow(),U=!0),R&&(nt(R,y),R.alt=""),this._shadow=R,d.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&U&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(this._icon,"focus",this._panOnFocus,this),It(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&It(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Ut(this._icon,d),this._shadow&&Ut(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ec)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ec(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&Zt(this._icon,d),this._shadow&&Zt(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var y=this.options.icon.options,k=y.iconSize?se(y.iconSize):se(0,0),C=y.iconAnchor?se(y.iconAnchor):se(0,0);d.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:k.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Kp(d,y){return new tc(d,y)}var Vi=xi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return _(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Gs=Vi.extend({options:{fill:!0,radius:10},initialize:function(d,y){_(this,y),this._latlng=me(d),this._radius=this.options.radius},setLatLng:function(d){var y=this._latlng;return this._latlng=me(d),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var y=d&&d.radius||this._radius;return Vi.prototype.setStyle.call(this,d),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,y=this._radiusY||d,k=this._clickTolerance(),C=[d+k,y+k];this._pxBounds=new B(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Wp(d,y){return new Gs(d,y)}var vu=Gs.extend({initialize:function(d,y,k){if(typeof y=="number"&&(y=i({},k,{radius:y})),_(this,y),this._latlng=me(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new ae(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Vi.prototype.setStyle,_project:function(){var d=this._latlng.lng,y=this._latlng.lat,k=this._map,C=k.options.crs;if(C.distance===be.distance){var R=Math.PI/180,U=this._mRadius/be.R/R,ee=k.project([y+U,d]),ce=k.project([y-U,d]),ge=ee.add(ce).divideBy(2),Ae=k.unproject(ge).lat,Re=Math.acos((Math.cos(U*R)-Math.sin(y*R)*Math.sin(Ae*R))/(Math.cos(y*R)*Math.cos(Ae*R)))/R;(isNaN(Re)||Re===0)&&(Re=U/Math.cos(Math.PI/180*y)),this._point=ge.subtract(k.getPixelOrigin()),this._radius=isNaN(Re)?0:ge.x-k.project([Ae,d-Re]).x,this._radiusY=ge.y-ee.y}else{var qe=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(qe).x}this._updateBounds()}});function Vp(d,y,k){return new vu(d,y,k)}var Sa=Vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,y){_(this,y),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var y=1/0,k=null,C=Xl,R,U,ee=0,ce=this._parts.length;ee<ce;ee++)for(var ge=this._parts[ee],Ae=1,Re=ge.length;Ae<Re;Ae++){R=ge[Ae-1],U=ge[Ae];var qe=C(d,R,U,!0);qe<y&&(y=qe,k=C(d,R,U))}return k&&(k.distance=Math.sqrt(y)),k},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Us(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,y){return y=y||this._defaultShape(),d=me(d),y.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new ae,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return qr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var y=[],k=qr(d),C=0,R=d.length;C<R;C++)k?(y[C]=me(d[C]),this._bounds.extend(y[C])):y[C]=this._convertLatLngs(d[C]);return y},_project:function(){var d=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),y=new re(d,d);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(d,y,k){var C=d[0]instanceof oe,R=d.length,U,ee;if(C){for(ee=[],U=0;U<R;U++)ee[U]=this._map.latLngToLayerPoint(d[U]),k.extend(ee[U]);y.push(ee)}else for(U=0;U<R;U++)this._projectLatlngs(d[U],y,k)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,k,C,R,U,ee,ce,ge;for(k=0,R=0,U=this._rings.length;k<U;k++)for(ge=this._rings[k],C=0,ee=ge.length;C<ee-1;C++)ce=Hp(ge[C],ge[C+1],d,C,!0),ce&&(y[R]=y[R]||[],y[R].push(ce[0]),(ce[1]!==ge[C+1]||C===ee-2)&&(y[R].push(ce[1]),R++))}},_simplifyPoints:function(){for(var d=this._parts,y=this.options.smoothFactor,k=0,C=d.length;k<C;k++)d[k]=Bp(d[k],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,y){var k,C,R,U,ee,ce,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(k=0,U=this._parts.length;k<U;k++)for(ce=this._parts[k],C=0,ee=ce.length,R=ee-1;C<ee;R=C++)if(!(!y&&C===0)&&zp(d,ce[R],ce[C])<=ge)return!0;return!1}});function Ox(d,y){return new Sa(d,y)}Sa._flat=gu;var qs=Sa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $p(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var y=Sa.prototype._convertLatLngs.call(this,d),k=y.length;return k>=2&&y[0]instanceof oe&&y[0].equals(y[k-1])&&y.pop(),y},_setLatLngs:function(d){Sa.prototype._setLatLngs.call(this,d),qr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,y=this.options.weight,k=new re(y,y);if(d=new B(d.min.subtract(k),d.max.add(k)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,R=this._rings.length,U;C<R;C++)U=Ip(this._rings[C],d,!0),U.length&&this._parts.push(U)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var y=!1,k,C,R,U,ee,ce,ge,Ae;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(U=0,ge=this._parts.length;U<ge;U++)for(k=this._parts[U],ee=0,Ae=k.length,ce=Ae-1;ee<Ae;ce=ee++)C=k[ee],R=k[ce],C.y>d.y!=R.y>d.y&&d.x<(R.x-C.x)*(d.y-C.y)/(R.y-C.y)+C.x&&(y=!y);return y||Sa.prototype._containsPoint.call(this,d,!0)}});function jx(d,y){return new qs(d,y)}var Ea=Ki.extend({initialize:function(d,y){_(this,y),this._layers={},d&&this.addData(d)},addData:function(d){var y=O(d)?d:d.features,k,C,R;if(y){for(k=0,C=y.length;k<C;k++)R=y[k],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var U=this.options;if(U.filter&&!U.filter(d))return this;var ee=Jn(d,U);return ee?(ee.feature=wu(d),ee.defaultOptions=ee.options,this.resetStyle(ee),U.onEachFeature&&U.onEachFeature(d,ee),this.addLayer(ee)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(y){this._setLayerStyle(y,d)},this)},_setLayerStyle:function(d,y){d.setStyle&&(typeof y=="function"&&(y=y(d.feature)),d.setStyle(y))}});function Jn(d,y){var k=d.type==="Feature"?d.geometry:d,C=k?k.coordinates:null,R=[],U=y&&y.pointToLayer,ee=y&&y.coordsToLatLng||xu,ce,ge,Ae,Re;if(!C&&!k)return null;switch(k.type){case"Point":return ce=ee(C),Ys(U,d,ce,y);case"MultiPoint":for(Ae=0,Re=C.length;Ae<Re;Ae++)ce=ee(C[Ae]),R.push(Ys(U,d,ce,y));return new Ki(R);case"LineString":case"MultiLineString":return ge=nc(C,k.type==="LineString"?0:1,ee),new Sa(ge,y);case"Polygon":case"MultiPolygon":return ge=nc(C,k.type==="Polygon"?1:2,ee),new qs(ge,y);case"GeometryCollection":for(Ae=0,Re=k.geometries.length;Ae<Re;Ae++){var qe=Jn({geometry:k.geometries[Ae],type:"Feature",properties:d.properties},y);qe&&R.push(qe)}return new Ki(R);case"FeatureCollection":for(Ae=0,Re=k.features.length;Ae<Re;Ae++){var ot=Jn(k.features[Ae],y);ot&&R.push(ot)}return new Ki(R);default:throw new Error("Invalid GeoJSON object.")}}function Ys(d,y,k,C){return d?d(y,k):new tc(k,C&&C.markersInheritOptions&&C)}function xu(d){return new oe(d[1],d[0],d[2])}function nc(d,y,k){for(var C=[],R=0,U=d.length,ee;R<U;R++)ee=y?nc(d[R],y-1,k):(k||xu)(d[R]),C.push(ee);return C}function _u(d,y){return d=me(d),d.alt!==void 0?[g(d.lng,y),g(d.lat,y),g(d.alt,y)]:[g(d.lng,y),g(d.lat,y)]}function rc(d,y,k,C){for(var R=[],U=0,ee=d.length;U<ee;U++)R.push(y?rc(d[U],qr(d[U])?0:y-1,k,C):_u(d[U],C));return!y&&k&&R.length>0&&R.push(R[0].slice()),R}function Qa(d,y){return d.feature?i({},d.feature,{geometry:y}):wu(y)}function wu(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var eo={toGeoJSON:function(d){return Qa(this,{type:"Point",coordinates:_u(this.getLatLng(),d)})}};tc.include(eo),vu.include(eo),Gs.include(eo),Sa.include({toGeoJSON:function(d){var y=!qr(this._latlngs),k=rc(this._latlngs,y?1:0,!1,d);return Qa(this,{type:(y?"Multi":"")+"LineString",coordinates:k})}}),qs.include({toGeoJSON:function(d){var y=!qr(this._latlngs),k=y&&!qr(this._latlngs[0]),C=rc(this._latlngs,k?2:y?1:0,!0,d);return y||(C=[C]),Qa(this,{type:(k?"Multi":"")+"Polygon",coordinates:C})}}),Hs.include({toMultiPoint:function(d){var y=[];return this.eachLayer(function(k){y.push(k.toGeoJSON(d).geometry.coordinates)}),Qa(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(d){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(d);var k=y==="GeometryCollection",C=[];return this.eachLayer(function(R){if(R.toGeoJSON){var U=R.toGeoJSON(d);if(k)C.push(U.geometry);else{var ee=wu(U);ee.type==="FeatureCollection"?C.push.apply(C,ee.features):C.push(ee)}}}),k?Qa(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function Su(d,y){return new Ea(d,y)}var ic=Su,Ks=xi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,y,k){this._url=d,this._bounds=V(y),_(this,k)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){It(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&In(this._image),this},bringToBack:function(){return this._map&&Ro(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=V(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",y=this._image=d?this._url:ct("img");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(d){var y=this._map.getZoomScale(d.zoom),k=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;xa(this._image,k,y)},_reset:function(){var d=this._image,y=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),k=y.getSize();Ut(d,y.min),d.style.width=k.x+"px",d.style.height=k.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),Zp=function(d,y,k){return new Ks(d,y,k)},to=Ks.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",y=this._image=d?this._url:ct("video");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onloadeddata=o(this.fire,this,"load"),d){for(var k=y.getElementsByTagName("source"),C=[],R=0;R<k.length;R++)C.push(k[R].src);this._url=k.length>0?C:[y.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var U=0;U<this._url.length;U++){var ee=ct("source");ee.src=this._url[U],y.appendChild(ee)}}});function Ws(d,y,k){return new to(d,y,k)}var Eu=Ks.extend({_initImage:function(){var d=this._image=this._url;nt(d,"leaflet-image-layer"),this._zoomAnimated&&nt(d,"leaflet-zoom-animated"),this.options.className&&nt(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function Xp(d,y,k){return new Eu(d,y,k)}var Qn=xi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,y){d&&(d instanceof oe||O(d))?(this._latlng=me(d),_(this,y)):(_(this,d),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(o(It,void 0,this._container),200)):It(this._container),this.options.interactive&&(en(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=me(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&In(this._container),this},bringToBack:function(){return this._map&&Ro(this._container),this},_prepareOpen:function(d){var y=this._source;if(!y._map)return!1;if(y instanceof Ki){y=null;var k=this._source._layers;for(var C in k)if(k[C]._map){y=k[C];break}if(!y)return!1;this._source=y}if(!d)if(y.getCenter)d=y.getCenter();else if(y.getLatLng)d=y.getLatLng();else if(y.getBounds)d=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")d.innerHTML=y;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),y=se(this.options.offset),k=this._getAnchor();this._zoomAnimated?Ut(this._container,d.add(k)):y=y.add(d).add(k);var C=this._containerBottom=-y.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=C+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(d,y,k,C){var R=y;return R instanceof d||(R=new d(C).setContent(y)),k&&R.setLatLng(k),R}}),xi.include({_initOverlay:function(d,y,k,C){var R=k;return R instanceof d?(_(R,C),R._source=this):(R=y&&!C?y:new d(C,this),R.setContent(k)),R}});var ac=Qn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,Qn.prototype.openOn.call(this,d)},onAdd:function(d){Qn.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vi||this._source.on("preclick",vi))},onRemove:function(d){Qn.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vi||this._source.off("preclick",vi))},getEvents:function(){var d=Qn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",y=this._container=ct("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=ct("div",d+"-content-wrapper",y);if(this._contentNode=ct("div",d+"-content",k),Io(y),qi(this._contentNode),tt(y,"contextmenu",vi),this._tipContainer=ct("div",d+"-tip-container",y),this._tip=ct("div",d+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=ct("a",d+"-close-button",y);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',tt(C,"click",function(R){mn(R),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,y=d.style;y.width="",y.whiteSpace="nowrap";var k=d.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),y.width=k+1+"px",y.whiteSpace="",y.height="";var C=d.offsetHeight,R=this.options.maxHeight,U="leaflet-popup-scrolled";R&&C>R?(y.height=R+"px",nt(d,U)):en(d,U),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),k=this._getAnchor();Ut(this._container,y.add(k))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,y=parseInt(Hl(this._container,"marginBottom"),10)||0,k=this._container.offsetHeight+y,C=this._containerWidth,R=new re(this._containerLeft,-k-this._containerBottom);R._add(Za(this._container));var U=d.layerPointToContainerPoint(R),ee=se(this.options.autoPanPadding),ce=se(this.options.autoPanPaddingTopLeft||ee),ge=se(this.options.autoPanPaddingBottomRight||ee),Ae=d.getSize(),Re=0,qe=0;U.x+C+ge.x>Ae.x&&(Re=U.x+C-Ae.x+ge.x),U.x-Re-ce.x<0&&(Re=U.x-ce.x),U.y+k+ge.y>Ae.y&&(qe=U.y+k-Ae.y+ge.y),U.y-qe-ce.y<0&&(qe=U.y-ce.y),(Re||qe)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Re,qe]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jp=function(d,y){return new ac(d,y)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(d,y,k){return this._initOverlay(ac,d,y,k).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),xi.include({bindPopup:function(d,y){return this._popup=this._initOverlay(ac,this._popup,d,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Ki||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Xa(d);var y=d.layer||d.target;if(this._popup._source===y&&!(y instanceof Vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=y,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var oc=Qn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){Qn.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){Qn.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=Qn.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",y=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ct("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var y,k,C=this._map,R=this._container,U=C.latLngToContainerPoint(C.getCenter()),ee=C.layerPointToContainerPoint(d),ce=this.options.direction,ge=R.offsetWidth,Ae=R.offsetHeight,Re=se(this.options.offset),qe=this._getAnchor();ce==="top"?(y=ge/2,k=Ae):ce==="bottom"?(y=ge/2,k=0):ce==="center"?(y=ge/2,k=Ae/2):ce==="right"?(y=0,k=Ae/2):ce==="left"?(y=ge,k=Ae/2):ee.x<U.x?(ce="right",y=0,k=Ae/2):(ce="left",y=ge+(Re.x+qe.x)*2,k=Ae/2),d=d.subtract(se(y,k,!0)).add(Re).add(qe),en(R,"leaflet-tooltip-right"),en(R,"leaflet-tooltip-left"),en(R,"leaflet-tooltip-top"),en(R,"leaflet-tooltip-bottom"),nt(R,"leaflet-tooltip-"+ce),Ut(R,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&Zt(this._container,d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(y)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Nx=function(d,y){return new oc(d,y)};ht.include({openTooltip:function(d,y,k){return this._initOverlay(oc,d,y,k).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),xi.include({bindTooltip:function(d,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oc,this._tooltip,d,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var y=d?"off":"on",k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,k.click=this._openTooltip,this._map?this._addFocusListeners():k.add=this._addFocusListeners),this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),this[y](k),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Ki||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&(tt(y,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),tt(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var y=d.latlng,k,C;this._tooltip.options.sticky&&d.originalEvent&&(k=this._map.mouseEventToContainerPoint(d.originalEvent),C=this._map.containerPointToLayerPoint(k),y=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(y)}});var Qp=Wi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var y=d&&d.tagName==="DIV"?d:document.createElement("div"),k=this.options;if(k.html instanceof Element?(Hr(y),y.appendChild(k.html)):y.innerHTML=k.html!==!1?k.html:"",k.bgPos){var C=se(k.bgPos);y.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function Cx(d){return new Qp(d)}Wi.Default=Ql;var Vs=xi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:He.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){_(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),It(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(In(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ro(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof re?d:new re(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var y=this.getPane().children,k=-d(-1/0,1/0),C=0,R=y.length,U;C<R;C++)U=y[C].style.zIndex,y[C]!==this._container&&U&&(k=d(k,+U));isFinite(k)&&(this.options.zIndex=k+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!He.ielt9){Zt(this._container,this.options.opacity);var d=+new Date,y=!1,k=!1;for(var C in this._tiles){var R=this._tiles[C];if(!(!R.current||!R.loaded)){var U=Math.min(1,(d-R.loaded)/200);Zt(R.el,U),U<1?y=!0:(R.active?k=!0:this._onOpaqueTile(R),R.active=!0)}}k&&!this._noPrune&&this._pruneTiles(),y&&(z(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,y=this.options.maxZoom;if(d!==void 0){for(var k in this._levels)k=Number(k),this._levels[k].el.children.length||k===d?(this._levels[k].el.style.zIndex=y-Math.abs(d-k),this._onUpdateLevel(k)):(It(this._levels[k].el),this._removeTilesAtZoom(k),this._onRemoveLevel(k),delete this._levels[k]);var C=this._levels[d],R=this._map;return C||(C=this._levels[d]={},C.el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=y,C.origin=R.project(R.unproject(R.getPixelOrigin()),d).round(),C.zoom=d,this._setZoomTransform(C,R.getCenter(),R.getZoom()),p(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,y,k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)y=this._tiles[d],y.retain=y.current;for(d in this._tiles)if(y=this._tiles[d],y.current&&!y.active){var C=y.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var y in this._tiles)this._tiles[y].coords.z===d&&this._removeTile(y)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)It(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,y,k,C){var R=Math.floor(d/2),U=Math.floor(y/2),ee=k-1,ce=new re(+R,+U);ce.z=+ee;var ge=this._tileCoordsToKey(ce),Ae=this._tiles[ge];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),ee>C?this._retainParent(R,U,ee,C):!1)},_retainChildren:function(d,y,k,C){for(var R=2*d;R<2*d+2;R++)for(var U=2*y;U<2*y+2;U++){var ee=new re(R,U);ee.z=k+1;var ce=this._tileCoordsToKey(ee),ge=this._tiles[ce];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);k+1<C&&this._retainChildren(R,U,k+1,C)}},_resetView:function(d){var y=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var y=this.options;return y.minNativeZoom!==void 0&&d<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<d?y.maxNativeZoom:d},_setView:function(d,y,k,C){var R=Math.round(y);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var U=this.options.updateWhenZooming&&R!==this._tileZoom;(!C||U)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(d),k||this._pruneTiles(),this._noPrune=!!k),this._setZoomTransforms(d,y)},_setZoomTransforms:function(d,y){for(var k in this._levels)this._setZoomTransform(this._levels[k],d,y)},_setZoomTransform:function(d,y,k){var C=this._map.getZoomScale(k,d.zoom),R=d.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(y,k)).round();He.any3d?xa(d.el,R,C):Ut(d.el,R)},_resetGrid:function(){var d=this._map,y=d.options.crs,k=this._tileSize=this.getTileSize(),C=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,y.wrapLng[0]],C).x/k.x),Math.ceil(d.project([0,y.wrapLng[1]],C).x/k.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([y.wrapLat[0],0],C).y/k.x),Math.ceil(d.project([y.wrapLat[1],0],C).y/k.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var y=this._map,k=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),C=y.getZoomScale(k,this._tileZoom),R=y.project(d,this._tileZoom).floor(),U=y.getSize().divideBy(C*2);return new B(R.subtract(U),R.add(U))},_update:function(d){var y=this._map;if(y){var k=this._clampZoom(y.getZoom());if(d===void 0&&(d=y.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(d),R=this._pxBoundsToTileRange(C),U=R.getCenter(),ee=[],ce=this.options.keepBuffer,ge=new B(R.getBottomLeft().subtract([ce,-ce]),R.getTopRight().add([ce,-ce]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Re=this._tiles[Ae].coords;(Re.z!==this._tileZoom||!ge.contains(new re(Re.x,Re.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(k-this._tileZoom)>1){this._setView(d,k);return}for(var qe=R.min.y;qe<=R.max.y;qe++)for(var ot=R.min.x;ot<=R.max.x;ot++){var $n=new re(ot,qe);if($n.z=this._tileZoom,!!this._isValidTile($n)){var pn=this._tiles[this._tileCoordsToKey($n)];pn?pn.current=!0:ee.push($n)}}if(ee.sort(function(_t,wt){return _t.distanceTo(U)-wt.distanceTo(U)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Nr=document.createDocumentFragment();for(ot=0;ot<ee.length;ot++)this._addTile(ee[ot],Nr);this._level.el.appendChild(Nr)}}}},_isValidTile:function(d){var y=this._map.options.crs;if(!y.infinite){var k=this._globalTileRange;if(!y.wrapLng&&(d.x<k.min.x||d.x>k.max.x)||!y.wrapLat&&(d.y<k.min.y||d.y>k.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(d);return V(this.options.bounds).overlaps(C)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var y=this._map,k=this.getTileSize(),C=d.scaleBy(k),R=C.add(k),U=y.unproject(C,d.z),ee=y.unproject(R,d.z);return[U,ee]},_tileCoordsToBounds:function(d){var y=this._tileCoordsToNwSe(d),k=new ae(y[0],y[1]);return this.options.noWrap||(k=this._map.wrapLatLngBounds(k)),k},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var y=d.split(":"),k=new re(+y[0],+y[1]);return k.z=+y[2],k},_removeTile:function(d){var y=this._tiles[d];y&&(It(y.el),delete this._tiles[d],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){nt(d,"leaflet-tile");var y=this.getTileSize();d.style.width=y.x+"px",d.style.height=y.y+"px",d.onselectstart=p,d.onmousemove=p,He.ielt9&&this.options.opacity<1&&Zt(d,this.options.opacity)},_addTile:function(d,y){var k=this._getTilePos(d),C=this._tileCoordsToKey(d),R=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(R),this.createTile.length<2&&F(o(this._tileReady,this,d,null,R)),Ut(R,k),this._tiles[C]={el:R,coords:d,current:!0},y.appendChild(R),this.fire("tileloadstart",{tile:R,coords:d})},_tileReady:function(d,y,k){y&&this.fire("tileerror",{error:y,tile:k,coords:d});var C=this._tileCoordsToKey(d);k=this._tiles[C],k&&(k.loaded=+new Date,this._map._fadeAnimated?(Zt(k.el,0),z(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(k.active=!0,this._pruneTiles()),y||(nt(k.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:k.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),He.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var y=new re(this._wrapX?m(d.x,this._wrapX):d.x,this._wrapY?m(d.y,this._wrapY):d.y);return y.z=d.z,y},_pxBoundsToTileRange:function(d){var y=this.getTileSize();return new B(d.min.unscaleBy(y).floor(),d.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function eg(d){return new Vs(d)}var no=Vs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,y){this._url=d,y=_(this,y),y.detectRetina&&He.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,y){return this._url===d&&y===void 0&&(y=!0),this._url=d,y||this.redraw(),this},createTile:function(d,y){var k=document.createElement("img");return tt(k,"load",o(this._tileOnLoad,this,y,k)),tt(k,"error",o(this._tileOnError,this,y,k)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(k.referrerPolicy=this.options.referrerPolicy),k.alt="",k.src=this.getTileUrl(d),k},getTileUrl:function(d){var y={r:He.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var k=this._globalTileRange.max.y-d.y;this.options.tms&&(y.y=k),y["-y"]=k}return N(this._url,i(y,this.options))},_tileOnLoad:function(d,y){He.ielt9?setTimeout(o(d,this,null,y),0):d(null,y)},_tileOnError:function(d,y,k){var C=this.options.errorTileUrl;C&&y.getAttribute("src")!==C&&(y.src=C),d(k,y)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,y=this.options.maxZoom,k=this.options.zoomReverse,C=this.options.zoomOffset;return k&&(d=y-d),d+C},_getSubdomain:function(d){var y=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var d,y;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(y=this._tiles[d].el,y.onload=p,y.onerror=p,!y.complete)){y.src=M;var k=this._tiles[d].coords;It(y),delete this._tiles[d],this.fire("tileabort",{tile:y,coords:k})}},_removeTile:function(d){var y=this._tiles[d];if(y)return y.el.setAttribute("src",M),Vs.prototype._removeTile.call(this,d)},_tileReady:function(d,y,k){if(!(!this._map||k&&k.getAttribute("src")===M))return Vs.prototype._tileReady.call(this,d,y,k)}});function Yr(d,y){return new no(d,y)}var sc=no.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,y){this._url=d;var k=i({},this.defaultWmsParams);for(var C in y)C in this.options||(k[C]=y[C]);y=_(this,y);var R=y.detectRetina&&He.retina?2:1,U=this.getTileSize();k.width=U.x*R,k.height=U.y*R,this.wmsParams=k},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,no.prototype.onAdd.call(this,d)},getTileUrl:function(d){var y=this._tileCoordsToNwSe(d),k=this._crs,C=W(k.project(y[0]),k.project(y[1])),R=C.min,U=C.max,ee=(this._wmsVersion>=1.3&&this._crs===Bf?[R.y,R.x,U.y,U.x]:[R.x,R.y,U.x,U.y]).join(","),ce=no.prototype.getTileUrl.call(this,d);return ce+E(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(d,y){return i(this.wmsParams,d),y||this.redraw(),this}});function Kr(d,y){return new sc(d,y)}no.WMS=sc,Yr.wms=Kr;var _r=xi.extend({options:{padding:.1},initialize:function(d){_(this,d),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,y){var k=this._map.getZoomScale(y,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,y),U=C.multiplyBy(-k).add(R).subtract(this._map._getNewPixelOrigin(d,y));He.any3d?xa(this._container,U,k):Ut(this._container,U)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,y=this._map.getSize(),k=this._map.containerPointToLayerPoint(y.multiplyBy(-d)).round();this._bounds=new B(k,k.add(y.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ku=_r.extend({options:{tolerance:0},getEvents:function(){var d=_r.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_r.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");tt(d,"mousemove",this._onMouseMove,this),tt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),tt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,It(this._container),Nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var y in this._layers)d=this._layers[y],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_r.prototype._update.call(this);var d=this._bounds,y=this._container,k=d.getSize(),C=He.retina?2:1;Ut(y,d.min),y.width=C*k.x,y.height=C*k.y,y.style.width=k.x+"px",y.style.height=k.y+"px",He.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){_r.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[u(d)]=d;var y=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var y=d._order,k=y.next,C=y.prev;k?k.prev=C:this._drawLast=C,C?C.next=k:this._drawFirst=k,delete d._order,delete this._layers[u(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var y=d.options.dashArray.split(/[, ]+/),k=[],C,R;for(R=0;R<y.length;R++){if(C=Number(y[R]),isNaN(C))return;k.push(C)}d.options._dashArray=k}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var y=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(d._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(d._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var y=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,y=this._redrawBounds;if(this._ctx.save(),y){var k=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,k.x,k.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)d=C.layer,(!y||d._pxBounds&&d._pxBounds.intersects(y))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,y){if(this._drawing){var k,C,R,U,ee=d._parts,ce=ee.length,ge=this._ctx;if(ce){for(ge.beginPath(),k=0;k<ce;k++){for(C=0,R=ee[k].length;C<R;C++)U=ee[k][C],ge[C?"lineTo":"moveTo"](U.x,U.y);y&&ge.closePath()}this._fillStroke(ge,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var y=d._point,k=this._ctx,C=Math.max(Math.round(d._radius),1),R=(Math.max(Math.round(d._radiusY),1)||C)/C;R!==1&&(k.save(),k.scale(1,R)),k.beginPath(),k.arc(y.x,y.y/R,C,0,Math.PI*2,!1),R!==1&&k.restore(),this._fillStroke(k,d)}},_fillStroke:function(d,y){var k=y.options;k.fill&&(d.globalAlpha=k.fillOpacity,d.fillStyle=k.fillColor||k.color,d.fill(k.fillRule||"evenodd")),k.stroke&&k.weight!==0&&(d.setLineDash&&d.setLineDash(y.options&&y.options._dashArray||[]),d.globalAlpha=k.opacity,d.lineWidth=k.weight,d.strokeStyle=k.color,d.lineCap=k.lineCap,d.lineJoin=k.lineJoin,d.stroke())},_onClick:function(d){for(var y=this._map.mouseEventToLayerPoint(d),k,C,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(k))&&(C=k);this._fireEvent(C?[C]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,y)}},_handleMouseOut:function(d){var y=this._hoveredLayer;y&&(en(this._container,"leaflet-interactive"),this._fireEvent([y],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,y){if(!this._mouseHoverThrottled){for(var k,C,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(C=k);C!==this._hoveredLayer&&(this._handleMouseOut(d),C&&(nt(this._container,"leaflet-interactive"),this._fireEvent([C],d,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,y,k){this._map._fireDOMEvent(y,k||y.type,d)},_bringToFront:function(d){var y=d._order;if(y){var k=y.next,C=y.prev;if(k)k.prev=C;else return;C?C.next=k:k&&(this._drawFirst=k),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(d)}},_bringToBack:function(d){var y=d._order;if(y){var k=y.next,C=y.prev;if(C)C.next=k;else return;k?k.prev=C:C&&(this._drawLast=C),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(d)}}});function lc(d){return He.canvas?new ku(d):null}var ro=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),zf={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_r.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var y=d._container=ro("shape");nt(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",d._path=ro("path"),y.appendChild(d._path),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){var y=d._container;this._container.appendChild(y),d.options.interactive&&d.addInteractiveTarget(y)},_removePath:function(d){var y=d._container;It(y),d.removeInteractiveTarget(y),delete this._layers[u(d)]},_updateStyle:function(d){var y=d._stroke,k=d._fill,C=d.options,R=d._container;R.stroked=!!C.stroke,R.filled=!!C.fill,C.stroke?(y||(y=d._stroke=ro("stroke")),R.appendChild(y),y.weight=C.weight+"px",y.color=C.color,y.opacity=C.opacity,C.dashArray?y.dashStyle=O(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=C.lineCap.replace("butt","flat"),y.joinstyle=C.lineJoin):y&&(R.removeChild(y),d._stroke=null),C.fill?(k||(k=d._fill=ro("fill")),R.appendChild(k),k.color=C.fillColor||C.color,k.opacity=C.fillOpacity):k&&(R.removeChild(k),d._fill=null)},_updateCircle:function(d){var y=d._point.round(),k=Math.round(d._radius),C=Math.round(d._radiusY||k);this._setPath(d,d._empty()?"M0 0":"AL "+y.x+","+y.y+" "+k+","+C+" 0,"+65535*360)},_setPath:function(d,y){d._path.v=y},_bringToFront:function(d){In(d._container)},_bringToBack:function(d){Ro(d._container)}},Zi=He.vml?ro:_e,Zs=_r.extend({_initContainer:function(){this._container=Zi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){It(this._container),Nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_r.prototype._update.call(this);var d=this._bounds,y=d.getSize(),k=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,k.setAttribute("width",y.x),k.setAttribute("height",y.y)),Ut(k,d.min),k.setAttribute("viewBox",[d.min.x,d.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(d){var y=d._path=Zi("path");d.options.className&&nt(y,d.options.className),d.options.interactive&&nt(y,"leaflet-interactive"),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){It(d._path),d.removeInteractiveTarget(d._path),delete this._layers[u(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var y=d._path,k=d.options;y&&(k.stroke?(y.setAttribute("stroke",k.color),y.setAttribute("stroke-opacity",k.opacity),y.setAttribute("stroke-width",k.weight),y.setAttribute("stroke-linecap",k.lineCap),y.setAttribute("stroke-linejoin",k.lineJoin),k.dashArray?y.setAttribute("stroke-dasharray",k.dashArray):y.removeAttribute("stroke-dasharray"),k.dashOffset?y.setAttribute("stroke-dashoffset",k.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),k.fill?(y.setAttribute("fill",k.fillColor||k.color),y.setAttribute("fill-opacity",k.fillOpacity),y.setAttribute("fill-rule",k.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(d,y){this._setPath(d,je(d._parts,y))},_updateCircle:function(d){var y=d._point,k=Math.max(Math.round(d._radius),1),C=Math.max(Math.round(d._radiusY),1)||k,R="a"+k+","+C+" 0 1,0 ",U=d._empty()?"M0 0":"M"+(y.x-k)+","+y.y+R+k*2+",0 "+R+-k*2+",0 ";this._setPath(d,U)},_setPath:function(d,y){d._path.setAttribute("d",y)},_bringToFront:function(d){In(d._path)},_bringToBack:function(d){Ro(d._path)}});He.vml&&Zs.include(zf);function cc(d){return He.svg||He.vml?new Zs(d):null}ht.include({getRenderer:function(d){var y=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var y=this._paneRenderers[d];return y===void 0&&(y=this._createRenderer({pane:d}),this._paneRenderers[d]=y),y},_createRenderer:function(d){return this.options.preferCanvas&&lc(d)||cc(d)}});var Bo=qs.extend({initialize:function(d,y){qs.prototype.initialize.call(this,this._boundsToLatLngs(d),y)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=V(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Mx(d,y){return new Bo(d,y)}Zs.create=Zi,Zs.pointsToPath=je,Ea.geometryToLayer=Jn,Ea.coordsToLatLng=xu,Ea.coordsToLatLngs=nc,Ea.latLngToCoords=_u,Ea.latLngsToCoords=rc,Ea.getFeature=Qa,Ea.asFeature=wu,ht.mergeOptions({boxZoom:!0});var wr=Yi.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){It(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ls(),du(),this._startPoint=this._map.mouseEventToContainerPoint(d),tt(document,{contextmenu:Xa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var y=new B(this._point,this._startPoint),k=y.getSize();Ut(this._box,y.min),this._box.style.width=k.x+"px",this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(It(this._box),en(this._container,"leaflet-crosshair")),Gi(),ql(),Nt(document,{contextmenu:Xa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",wr),ht.mergeOptions({doubleClickZoom:!0});var Au=Yi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var y=this._map,k=y.getZoom(),C=y.options.zoomDelta,R=d.originalEvent.shiftKey?k-C:k+C;y.options.doubleClickZoom==="center"?y.setZoom(R):y.setZoomAround(d.containerPoint,R)}});ht.addInitHook("addHandler","doubleClickZoom",Au),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xi=Yi.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Ja(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){en(this._map._container,"leaflet-grab"),en(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=V(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var y=this._lastTime=+new Date,k=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(k),this._times.push(y),this._prunePositions(y)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,y){return d-(d-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;d.x<y.min.x&&(d.x=this._viscousLimit(d.x,y.min.x)),d.y<y.min.y&&(d.y=this._viscousLimit(d.y,y.min.y)),d.x>y.max.x&&(d.x=this._viscousLimit(d.x,y.max.x)),d.y>y.max.y&&(d.y=this._viscousLimit(d.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,y=Math.round(d/2),k=this._initialWorldOffset,C=this._draggable._newPos.x,R=(C-y+k)%d+y-k,U=(C+y+k)%d-y-k,ee=Math.abs(R+k)<Math.abs(U+k)?R:U;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(d){var y=this._map,k=y.options,C=!k.inertia||d.noInertia||this._times.length<2;if(y.fire("dragend",d),C)y.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),U=(this._lastTime-this._times[0])/1e3,ee=k.easeLinearity,ce=R.multiplyBy(ee/U),ge=ce.distanceTo([0,0]),Ae=Math.min(k.inertiaMaxSpeed,ge),Re=ce.multiplyBy(Ae/ge),qe=Ae/(k.inertiaDeceleration*ee),ot=Re.multiplyBy(-qe/2).round();!ot.x&&!ot.y?y.fire("moveend"):(ot=y._limitOffset(ot,y.options.maxBounds),F(function(){y.panBy(ot,{duration:qe,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});ht.addInitHook("addHandler","dragging",Xi),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Uf=Yi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),tt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,y=document.documentElement,k=d.scrollTop||y.scrollTop,C=d.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(C,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var y=this._panKeys={},k=this.keyCodes,C,R;for(C=0,R=k.left.length;C<R;C++)y[k.left[C]]=[-1*d,0];for(C=0,R=k.right.length;C<R;C++)y[k.right[C]]=[d,0];for(C=0,R=k.down.length;C<R;C++)y[k.down[C]]=[0,d];for(C=0,R=k.up.length;C<R;C++)y[k.up[C]]=[0,-1*d]},_setZoomDelta:function(d){var y=this._zoomKeys={},k=this.keyCodes,C,R;for(C=0,R=k.zoomIn.length;C<R;C++)y[k.zoomIn[C]]=d;for(C=0,R=k.zoomOut.length;C<R;C++)y[k.zoomOut[C]]=-d},_addHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var y=d.keyCode,k=this._map,C;if(y in this._panKeys){if(!k._panAnim||!k._panAnim._inProgress)if(C=this._panKeys[y],d.shiftKey&&(C=se(C).multiplyBy(3)),k.options.maxBounds&&(C=k._limitOffset(se(C),k.options.maxBounds)),k.options.worldCopyJump){var R=k.wrapLatLng(k.unproject(k.project(k.getCenter()).add(C)));k.panTo(R)}else k.panBy(C)}else if(y in this._zoomKeys)k.setZoom(k.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&k._popup&&k._popup.options.closeOnEscapeKey)k.closePopup();else return;Xa(d)}}});ht.addInitHook("addHandler","keyboard",Uf),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var uc=Yi.extend({addHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var y=cr(d),k=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var C=Math.max(k-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),C),Xa(d)},_performZoom:function(){var d=this._map,y=d.getZoom(),k=this._map.options.zoomSnap||0;d._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,U=k?Math.ceil(R/k)*k:R,ee=d._limitZoom(y+(this._delta>0?U:-U))-y;this._delta=0,this._startTime=null,ee&&(d.options.scrollWheelZoom==="center"?d.setZoom(y+ee):d.setZoomAround(this._lastMousePos,y+ee))}});ht.addInitHook("addHandler","scrollWheelZoom",uc);var zo=600;ht.mergeOptions({tapHold:He.touchNative&&He.safari&&He.mobile,tapTolerance:15});var Tu=Yi.extend({addHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var y=d.touches[0];this._startPos=this._newPos=new re(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(tt(document,"touchend",mn),tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),zo),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){Nt(document,"touchend",mn),Nt(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)},_onMove:function(d){var y=d.touches[0];this._newPos=new re(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,y){var k=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});k._simulated=!0,y.target.dispatchEvent(k)}});ht.addInitHook("addHandler","tapHold",Tu),ht.mergeOptions({touchZoom:He.touch,bounceAtZoomLimits:!0});var Ff=Yi.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){en(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var y=this._map;if(!(!d.touches||d.touches.length!==2||y._animatingZoom||this._zooming)){var k=y.mouseEventToContainerPoint(d.touches[0]),C=y.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(k.add(C)._divideBy(2))),this._startDist=k.distanceTo(C),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),mn(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var y=this._map,k=y.mouseEventToContainerPoint(d.touches[0]),C=y.mouseEventToContainerPoint(d.touches[1]),R=k.distanceTo(C)/this._startDist;if(this._zoom=y.getScaleZoom(R,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&R<1||this._zoom>y.getMaxZoom()&&R>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var U=k._add(C)._divideBy(2)._subtract(this._centerPoint);if(R===1&&U.x===0&&U.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(U),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var ee=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(ee,this,!0),mn(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ht.addInitHook("addHandler","touchZoom",Ff),ht.BoxZoom=wr,ht.DoubleClickZoom=Au,ht.Drag=Xi,ht.Keyboard=Uf,ht.ScrollWheelZoom=uc,ht.TapHold=Tu,ht.TouchZoom=Ff,n.Bounds=B,n.Browser=He,n.CRS=pe,n.Canvas=ku,n.Circle=vu,n.CircleMarker=Gs,n.Class=Q,n.Control=jr,n.DivIcon=Qp,n.DivOverlay=Qn,n.DomEvent=mu,n.DomUtil=Bs,n.Draggable=Ja,n.Evented=X,n.FeatureGroup=Ki,n.GeoJSON=Ea,n.GridLayer=Vs,n.Handler=Yi,n.Icon=Wi,n.ImageOverlay=Ks,n.LatLng=oe,n.LatLngBounds=ae,n.Layer=xi,n.LayerGroup=Hs,n.LineUtil=Ax,n.Map=ht,n.Marker=tc,n.Mixin=wx,n.Path=Vi,n.Point=re,n.PolyUtil=If,n.Polygon=qs,n.Polyline=Sa,n.Popup=ac,n.PosAnimation=zs,n.Projection=Gp,n.Rectangle=Bo,n.Renderer=_r,n.SVG=Zs,n.SVGOverlay=Eu,n.TileLayer=no,n.Tooltip=oc,n.Transformation=Ce,n.Util=Z,n.VideoOverlay=to,n.bind=o,n.bounds=W,n.canvas=lc,n.circle=Vp,n.circleMarker=Wp,n.control=wa,n.divIcon=Cx,n.extend=i,n.featureGroup=Yp,n.geoJSON=Su,n.geoJson=ic,n.gridLayer=eg,n.icon=Jl,n.imageOverlay=Zp,n.latLng=me,n.latLngBounds=V,n.layerGroup=Tx,n.map=Cf,n.marker=Kp,n.point=se,n.polygon=jx,n.polyline=Ox,n.popup=Jp,n.rectangle=Mx,n.setOptions=_,n.stamp=u,n.svg=cc,n.svgOverlay=Xp,n.tileLayer=Yr,n.tooltip=Nx,n.transformation=ve,n.version=r,n.videoOverlay=Ws;var Hf=window.L;n.noConflict=function(){return window.L=Hf,this},window.L=n}))})(Xh,Xh.exports)),Xh.exports}var jW=OW();const kw=di(jW),c0=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Ec(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function NW(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:c,mapId:u}=e.ids,f=e.initialCenter??{lat:37.5665,lon:126.978},m=Ec(n),p=Ec(t),g=Ec(r),v=Ec(a),w=Ec(o),_=Ec(c),E=i?Ec(i):null;let T=null,N=null,O=null;const P=z=>z.code==="Space"||z.key===" "||z.key==="Spacebar"||z.key==="Space",M=z=>{P(z)&&document.activeElement!==w&&(z.preventDefault(),z.stopPropagation(),w.focus())},D=()=>{g.style.display="flex",T?setTimeout(()=>T?.invalidateSize(),200):setTimeout(()=>{T=kw.map(u,{keyboard:!1}).setView([f.lat,f.lon],11),kw.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(T),T.invalidateSize()},0),g.addEventListener("keydown",M,!0),g.addEventListener("keyup",M,!0),w.focus()},$=()=>{g.style.display="none",w.value="",_.innerHTML="",O&&(window.clearTimeout(O),O=null),g.removeEventListener("keydown",M,!0),g.removeEventListener("keyup",M,!0)},H=z=>{const Z=z.dataset.name??"",Q=Number(z.dataset.lat??""),J=Number(z.dataset.lon??"");!Number.isFinite(Q)||!Number.isFinite(J)||!T||(N?N.setLatLng([Q,J]):N=kw.marker([Q,J]).addTo(T),T.flyTo([Q,J],14,{duration:.5}),m.value=Z,m.dataset.lat=String(Q),m.dataset.lon=String(J),e.onSelected?.({name:Z,lat:Q,lon:J}),_.innerHTML="",$())},q=()=>{O&&window.clearTimeout(O);const z=w.value.trim();if(!z){_.innerHTML="";return}O=window.setTimeout(async()=>{try{const Z="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(z),Q=await fetch(Z,{headers:{Accept:"application/json"}});if(!Q.ok)throw new Error(`HTTP ${Q.status}`);const J=await Q.json();if(!Array.isArray(J)||J.length===0){_.innerHTML='<li style="padding:8px"> </li>';return}const Y=J.slice(0,12).map((X,re)=>{const ue=X.display_name.split(",").slice(0,3).map(W=>W.trim()).join("  "),se="padding:8px;cursor:pointer;outline:none;",B=re===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${c0(ue)}"
                    data-lat="${c0(X.lat)}"
                    data-lon="${c0(X.lon)}"
                    data-active="${re===0?"1":"0"}"
                    style="${se}${B}"
                  >${c0(ue)}</li>`}).join("");_.innerHTML=Y}catch(Z){console.error(Z),_.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},K=z=>{const Z=z.target;Z.tagName==="LI"&&H(Z)},F=z=>{if(z.key==="Enter"){const Z=_.querySelector('li[data-active="1"]')??_.querySelector("li");Z&&H(Z)}};return p.addEventListener("click",D),v.addEventListener("click",$),E&&E.addEventListener("click",$),w.addEventListener("input",q),w.addEventListener("keydown",F),_.addEventListener("click",K),()=>{p.removeEventListener("click",D),v.removeEventListener("click",$),E&&E.removeEventListener("click",$),w.removeEventListener("input",q),w.removeEventListener("keydown",F),_.removeEventListener("click",K),g.removeEventListener("keydown",M,!0),g.removeEventListener("keyup",M,!0),O&&(window.clearTimeout(O),O=null),T&&(T.remove(),T=null)}}function ed(){return document.getElementById("suggestions")}function uy(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function Aw(e,t){const n=uy(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const CW='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function MW({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:c,onSelect:u}){S.useEffect(()=>{if(!e)return;const f=NW({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:O=>{n(""),r(O.name),i.current&&(i.current.value=O.name),a.current&&(a.current.value=String(O.lat)),o.current&&(o.current.value=String(O.lon)),u?.(O),t(!1)}}),m=document.getElementById("inputBirthPlaceBtn");m&&m.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const g=document.getElementById("searchBox"),v=ed();setTimeout(()=>g?.focus(),0);const w=O=>{if(O.key==="Escape"){O.preventDefault(),t(!1);return}if(O.key!=="Tab")return;const P=ed();if(P&&P.contains(document.activeElement))return;const M=Array.from(p.querySelectorAll(CW)).filter(q=>!q.hasAttribute("disabled")&&q.tabIndex!==-1);if(M.length===0)return;const D=M[0],$=M[M.length-1],H=document.activeElement;O.shiftKey?(H===D||!p.contains(H))&&(O.preventDefault(),$.focus()):(H===$||!p.contains(H))&&(O.preventDefault(),D.focus())};p.addEventListener("keydown",w);const _=O=>{if(O.key!=="ArrowDown")return;const P=ed();!P||uy(P).length===0||O.preventDefault()};g?.addEventListener("keydown",_);const E=O=>{if(O.target.value.trim()===""){const M=ed();M&&(M.innerHTML="")}};g?.addEventListener("input",E);const T=O=>{const P=ed();if(!P)return;const M=uy(P);if(M.length===0)return;const D=document.activeElement,$=D?M.indexOf(D):-1;if($===-1)return;const H=q=>{O.preventDefault(),Aw(P,$+q)};switch(O.key){case"Tab":O.preventDefault(),H(O.shiftKey?-1:1);break;case"ArrowDown":O.preventDefault(),H(1);break;case"ArrowUp":O.preventDefault(),H(-1);break;case"Home":O.preventDefault(),Aw(P,0);break;case"End":O.preventDefault(),Aw(P,M.length-1);break;case"Enter":case" ":O.preventDefault(),D.click();break;case"Backspace":O.preventDefault(),P.innerHTML="",g?.focus();break}O.stopPropagation()};let N=null;return v&&(v.addEventListener("keydown",T),N=new MutationObserver(()=>{const O=ed();!O||uy(O).length}),N.observe(v,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",w),g?.removeEventListener("keydown",_),g?.removeEventListener("input",E),v&&v.removeEventListener("keydown",T),N?.disconnect(),f?.()}},[e,u,n,r,t,i,a,o]),S.useEffect(()=>{e||setTimeout(()=>c.current?.focus(),0)},[e,c])}function OB({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=AW({placeholderText:t,value:r});return MW({...i,onSelect:e}),x.jsxs("li",{className:"flex items-center gap-2",children:[x.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),x.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),x.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),x.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),x.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&x.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:x.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[x.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[x.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),x.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),x.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[x.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),x.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),x.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:x.jsx("div",{id:"map",className:"h-full w-full"})}),x.jsxs("div",{className:"gap-2 p-3",children:[x.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[x.jsxs("p",{className:"flex mb-1",children:[x.jsx("span",{className:"mr-1",children:"*"}),x.jsx("span",{children:"   ."})]}),x.jsxs("p",{className:"flex",children:[x.jsx("span",{className:"mr-1",children:"*"}),x.jsx("span",{children:"       ."})]})]}),x.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function rr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var PW=typeof Symbol=="function"&&Symbol.observable||"@@observable",zC=PW,Tw=()=>Math.random().toString(36).substring(7).split("").join("."),DW={INIT:`@@redux/INIT${Tw()}`,REPLACE:`@@redux/REPLACE${Tw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Tw()}`},Py=DW;function sA(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function lA(e,t,n){if(typeof e!="function")throw new Error(rr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rr(1));return n(lA)(e,t)}let r=e,i=t,a=new Map,o=a,c=0,u=!1;function f(){o===a&&(o=new Map,a.forEach((E,T)=>{o.set(T,E)}))}function m(){if(u)throw new Error(rr(3));return i}function p(E){if(typeof E!="function")throw new Error(rr(4));if(u)throw new Error(rr(5));let T=!0;f();const N=c++;return o.set(N,E),function(){if(T){if(u)throw new Error(rr(6));T=!1,f(),o.delete(N),a=null}}}function g(E){if(!sA(E))throw new Error(rr(7));if(typeof E.type>"u")throw new Error(rr(8));if(typeof E.type!="string")throw new Error(rr(17));if(u)throw new Error(rr(9));try{u=!0,i=r(i,E)}finally{u=!1}return(a=o).forEach(N=>{N()}),E}function v(E){if(typeof E!="function")throw new Error(rr(10));r=E,g({type:Py.REPLACE})}function w(){const E=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(rr(11));function N(){const P=T;P.next&&P.next(m())}return N(),{unsubscribe:E(N)}},[zC](){return this}}}return g({type:Py.INIT}),{dispatch:g,subscribe:p,getState:m,replaceReducer:v,[zC]:w}}function RW(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Py.INIT})>"u")throw new Error(rr(12));if(typeof n(void 0,{type:Py.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rr(13))})}function jB(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{RW(n)}catch(a){i=a}return function(o={},c){if(i)throw i;let u=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],g=n[p],v=o[p],w=g(v,c);if(typeof w>"u")throw c&&c.type,new Error(rr(14));f[p]=w,u=u||w!==v}return u=u||r.length!==Object.keys(o).length,u?f:o}}function UC(e,t){return function(...n){return t(e.apply(this,n))}}function FC(e,t){if(typeof e=="function")return UC(e,t);if(typeof e!="object"||e===null)throw new Error(rr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=UC(i,t))}return n}function gm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function NB(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(rr(15))};const o={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},c=e.map(u=>u(o));return a=gm(...c)(i.dispatch),{...i,dispatch:a}}}function CB(e){return sA(e)&&"type"in e&&typeof e.type=="string"}var Ow={exports:{}},jw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC;function LW(){if(HC)return jw;HC=1;var e=Xd();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,c=e.useDebugValue;return jw.useSyncExternalStoreWithSelector=function(u,f,m,p,g){var v=i(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=o(function(){function E(M){if(!T){if(T=!0,N=M,M=p(M),g!==void 0&&w.hasValue){var D=w.value;if(g(D,M))return O=D}return O=M}if(D=O,n(N,M))return D;var $=p(M);return g!==void 0&&g(D,$)?(N=M,D):(N=M,O=$)}var T=!1,N,O,P=m===void 0?null:m;return[function(){return E(f())},P===null?void 0:function(){return E(P())}]},[f,m,p,g]);var _=r(u,v[0],v[1]);return a(function(){w.hasValue=!0,w.value=_},[_]),c(_),_},jw}var GC;function IW(){return GC||(GC=1,Ow.exports=LW()),Ow.exports}IW();var $W=S.version.startsWith("19"),BW=Symbol.for($W?"react.transitional.element":"react.element"),zW=Symbol.for("react.portal"),UW=Symbol.for("react.fragment"),FW=Symbol.for("react.strict_mode"),HW=Symbol.for("react.profiler"),GW=Symbol.for("react.consumer"),qW=Symbol.for("react.context"),MB=Symbol.for("react.forward_ref"),YW=Symbol.for("react.suspense"),KW=Symbol.for("react.suspense_list"),cA=Symbol.for("react.memo"),WW=Symbol.for("react.lazy"),VW=MB,ZW=cA;function XW(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case BW:switch(e=e.type,e){case UW:case HW:case FW:case YW:case KW:return e;default:switch(e=e&&e.$$typeof,e){case qW:case MB:case WW:case cA:return e;case GW:return e;default:return t}}case zW:return t}}}function JW(e){return XW(e)===cA}function QW(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let c=!1,u,f,m,p,g;function v(N,O){return u=N,f=O,m=e(u,f),p=t(r,f),g=n(m,p,f),c=!0,g}function w(){return m=e(u,f),t.dependsOnOwnProps&&(p=t(r,f)),g=n(m,p,f),g}function _(){return e.dependsOnOwnProps&&(m=e(u,f)),t.dependsOnOwnProps&&(p=t(r,f)),g=n(m,p,f),g}function E(){const N=e(u,f),O=!o(N,m);return m=N,O&&(g=n(m,p,f)),g}function T(N,O){const P=!a(O,f),M=!i(N,u,O,f);return u=N,f=O,P&&M?w():P?_():M?E():g}return function(O,P){return c?T(O,P):v(O,P)}}function eV(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),c=r(e,i);return QW(a,o,c,e,i)}function tV(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function hE(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function qC(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function PB(e,t){return function(r,{displayName:i}){const a=function(c,u){return a.dependsOnOwnProps?a.mapToProps(c,u):a.mapToProps(c,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,u){a.mapToProps=e,a.dependsOnOwnProps=qC(e);let f=a(c,u);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=qC(f),f=a(c,u)),f},a}}function uA(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function nV(e){return e&&typeof e=="object"?hE(t=>tV(e,t)):e?typeof e=="function"?PB(e):uA(e,"mapDispatchToProps"):hE(t=>({dispatch:t}))}function rV(e){return e?typeof e=="function"?PB(e):uA(e,"mapStateToProps"):hE(()=>({}))}function iV(e,t,n){return{...n,...e,...t}}function aV(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,f,m){const p=e(u,f,m);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function oV(e){return e?typeof e=="function"?aV(e):uA(e,"mergeProps"):()=>iV}function sV(e){e()}function lV(){let e=null,t=null;return{clear(){e=null,t=null},notify(){sV(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var YC={notify(){},get:()=>[]};function DB(e,t){let n,r=YC,i=0,a=!1;function o(_){m();const E=r.subscribe(_);let T=!1;return()=>{T||(T=!0,E(),p())}}function c(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function f(){return a}function m(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=lV())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=YC)}function g(){a||(a=!0,m())}function v(){a&&(a=!1,p())}const w={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return w}var cV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uV=cV(),dV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fV=dV(),hV=()=>uV||fV?S.useLayoutEffect:S.useEffect,Dy=hV();function KC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function dy(e,t){if(KC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!KC(e[n[i]],t[n[i]]))return!1;return!0}var mV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},gV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},RB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yV={[VW]:gV,[ZW]:RB};function WC(e){return JW(e)?RB:yV[e.$$typeof]||mV}var bV=Object.defineProperty,vV=Object.getOwnPropertyNames,VC=Object.getOwnPropertySymbols,xV=Object.getOwnPropertyDescriptor,_V=Object.getPrototypeOf,ZC=Object.prototype;function mE(e,t){if(typeof t!="string"){if(ZC){const a=_V(t);a&&a!==ZC&&mE(e,a)}let n=vV(t);VC&&(n=n.concat(VC(t)));const r=WC(e),i=WC(t);for(let a=0;a<n.length;++a){const o=n[a];if(!pV[o]&&!(i&&i[o])&&!(r&&r[o])){const c=xV(t,o);try{bV(e,o,c)}catch{}}}}return e}var wV=Symbol.for("react-redux-context"),SV=typeof globalThis<"u"?globalThis:{};function EV(){if(!S.createContext)return{};const e=SV[wV]??=new Map;let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var LB=EV(),kV=[null,null];function AV(e,t,n){Dy(()=>e(...t),n)}function TV(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function OV(e,t,n,r,i,a,o,c,u,f,m){if(!e)return()=>{};let p=!1,g=null;const v=()=>{if(p||!c.current)return;const _=t.getState();let E,T;try{E=r(_,i.current)}catch(N){T=N,g=N}T||(g=null),E===a.current?o.current||f():(a.current=E,u.current=E,o.current=!0,m())};return n.onStateChange=v,n.trySubscribe(),v(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function jV(e,t){return e===t}function NV(e,t,n,{pure:r,areStatesEqual:i=jV,areOwnPropsEqual:a=dy,areStatePropsEqual:o=dy,areMergedPropsEqual:c=dy,forwardRef:u=!1,context:f=LB}={}){const m=f,p=rV(e),g=nV(t),v=oV(n),w=!!e;return E=>{const T=E.displayName||E.name||"Component",N=`Connect(${T})`,O={shouldHandleStateChanges:w,displayName:N,wrappedComponentName:T,WrappedComponent:E,initMapStateToProps:p,initMapDispatchToProps:g,initMergeProps:v,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:c};function P($){const[H,q,K]=S.useMemo(()=>{const{reactReduxForwardedRef:ve,...Ze}=$;return[$.context,ve,Ze]},[$]),F=S.useMemo(()=>{let ve=m;return H?.Consumer,ve},[H,m]),z=S.useContext(F),Z=!!$.store&&!!$.store.getState&&!!$.store.dispatch,Q=!!z&&!!z.store,J=Z?$.store:z.store,Y=Q?z.getServerState:J.getState,X=S.useMemo(()=>eV(J.dispatch,O),[J]),[re,ue]=S.useMemo(()=>{if(!w)return kV;const ve=DB(J,Z?void 0:z.subscription),Ze=ve.notifyNestedSubs.bind(ve);return[ve,Ze]},[J,Z,z]),se=S.useMemo(()=>Z?z:{...z,subscription:re},[Z,z,re]),B=S.useRef(void 0),W=S.useRef(K),ae=S.useRef(void 0),V=S.useRef(!1),oe=S.useRef(!1),me=S.useRef(void 0);Dy(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const pe=S.useMemo(()=>()=>ae.current&&K===W.current?ae.current:X(J.getState(),K),[J,K]),be=S.useMemo(()=>Ze=>re?OV(w,J,re,X,W,B,V,oe,ae,ue,Ze):()=>{},[re]);AV(TV,[W,B,V,K,ae,ue]);let ne;try{ne=S.useSyncExternalStore(be,pe,Y?()=>X(Y(),K):pe)}catch(ve){throw me.current&&(ve.message+=`
The error may be correlated with this previous error:
${me.current.stack}

`),ve}Dy(()=>{me.current=void 0,ae.current=void 0,B.current=ne});const Oe=S.useMemo(()=>S.createElement(E,{...ne,ref:q}),[q,E,ne]);return S.useMemo(()=>w?S.createElement(F.Provider,{value:se},Oe):Oe,[F,Oe,se])}const D=S.memo(P);if(D.WrappedComponent=E,D.displayName=P.displayName=N,u){const H=S.forwardRef(function(K,F){return S.createElement(D,{...K,reactReduxForwardedRef:F})});return H.displayName=N,H.WrappedComponent=E,mE(H,E)}return mE(D,E)}}var IB=NV;function CV(e){const{children:t,context:n,serverState:r,store:i}=e,a=S.useMemo(()=>{const u=DB(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=S.useMemo(()=>i.getState(),[i]);Dy(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const c=n||LB;return S.createElement(c.Provider,{value:a},t)}var $B=CV,MV="Invariant failed";function PV(e,t){throw new Error(MV)}var $a=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,c=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:c,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},dA=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},XC=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},DV=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Nw={top:0,right:0,bottom:0,left:0},fA=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Nw:r,a=t.border,o=a===void 0?Nw:a,c=t.padding,u=c===void 0?Nw:c,f=$a(dA(n,i)),m=$a(XC(n,o)),p=$a(XC(m,u));return{marginBox:f,borderBox:$a(n),paddingBox:m,contentBox:p,margin:i,border:o,padding:u}},ta=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&PV(),i},RV=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ry=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,c=DV(r,n);return fA({borderBox:c,border:i,margin:a,padding:o})},Ly=function(t,n){return n===void 0&&(n=RV()),Ry(t,n)},BB=function(t,n){var r={top:ta(n.marginTop),right:ta(n.marginRight),bottom:ta(n.marginBottom),left:ta(n.marginLeft)},i={top:ta(n.paddingTop),right:ta(n.paddingRight),bottom:ta(n.paddingBottom),left:ta(n.paddingLeft)},a={top:ta(n.borderTopWidth),right:ta(n.borderRightWidth),bottom:ta(n.borderBottomWidth),left:ta(n.borderLeftWidth)};return fA({borderBox:t,margin:r,padding:i,border:a})},zB=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return BB(n,r)},ym=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];n=c,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iy.apply(null,arguments)}function UB(e,t){}UB.bind(null,"warn");UB.bind(null,"error");function Sl(){}function LV(e,t){return{...e,...t}}function aa(e,t,n){const r=t.map(i=>{const a=LV(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const IV="Invariant failed";class $y extends Error{}$y.prototype.toString=function(){return this.message};function Pe(e,t){throw new $y(IV)}class $V extends Wt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Sl,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof $y&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=aa(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof $y){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const BV=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,By=e=>e+1,zV=e=>`
  You have lifted an item in position ${By(e.source.index)}
`,FB=(e,t)=>{const n=e.droppableId===t.droppableId,r=By(e.index),i=By(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},HB=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,UV=e=>{const t=e.destination;if(t)return FB(e.source,t);const n=e.combine;return n?HB(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},JC=e=>`
  The item has returned to its starting position
  of ${By(e.index)}
`,FV=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${JC(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${FB(e.source,t)}
    `:n?`
      You have dropped the item.
      ${HB(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${JC(e.source)}
  `},fy={dragHandleUsageInstructions:BV,onDragStart:zV,onDragUpdate:UV,onDragEnd:FV};function HV(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function GB(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!HV(e[n],t[n]))return!1;return!0}function vt(e,t){const n=S.useState(()=>({inputs:t,result:e()}))[0],r=S.useRef(!0),i=S.useRef(n),o=r.current||!!(t&&i.current.inputs&&GB(t,i.current.inputs))?i.current:{inputs:t,result:e()};return S.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Ke(e,t){return vt(()=>e,t)}const or={x:0,y:0},gr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Pi=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),El=(e,t)=>e.x===t.x&&e.y===t.y,rf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Vc=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},bm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),QC=(e,t)=>Math.min(...t.map(n=>bm(e,n))),qB=e=>t=>({x:e(t.x),y:e(t.y)});var GV=(e,t)=>{const n=$a({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Vm=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),eM=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],qV={top:0,right:0,bottom:0,left:0},YV=(e,t)=>t?Vm(e,t.scroll.diff.displacement):e,KV=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,WV=(e,t)=>t&&t.shouldClipSubject?GV(t.pageMarginBox,e):$a(e);var Id=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=YV(e.marginBox,r),a=KV(i,n,t),o=WV(a,r);return{page:e,withPlaceholder:t,active:o}},hA=(e,t)=>{e.frame||Pe();const n=e.frame,r=Pi(t,n.scroll.initial),i=rf(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Id({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function ar(e,t=GB){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const YB=ar(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),KB=ar(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),lv=ar(e=>Object.values(e)),VV=ar(e=>Object.values(e));var af=ar((e,t)=>VV(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function mA(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function cv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var uv=ar((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),ZV=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!mA(i))return null;function o(v){const w={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return{...i,at:w}}const c=i.displaced.all,u=c.length?c[0]:null;if(e)return u?o(u):null;const f=uv(t,r);if(!u){if(!f.length)return null;const v=f[f.length-1];return o(v.descriptor.id)}const m=f.findIndex(v=>v.descriptor.id===u);m===-1&&Pe();const p=m-1;if(p<0)return null;const g=f[p];return o(g.descriptor.id)},of=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const WB={point:or,value:0},vm={invisible:{},visible:{},all:[]},XV={displaced:vm,displacedBy:WB,at:null};var ua=(e,t)=>n=>e<=n&&n<=t,VB=e=>{const t=ua(e.top,e.bottom),n=ua(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right;return u&&f?!0:u&&o||f&&a}},JV=e=>{const t=ua(e.top,e.bottom),n=ua(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const pA={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ZB={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var QV=e=>t=>{const n=ua(t.top,t.bottom),r=ua(t.left,t.right);return i=>e===pA?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const eZ=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:or;return Vm(e,n)},tZ=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,nZ=(e,t,n)=>n(t)(e),gA=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?eZ(e,t):e;return tZ(a,t,i)&&nZ(a,n,i)},rZ=e=>gA({...e,isVisibleThroughFrameFn:VB}),XB=e=>gA({...e,isVisibleThroughFrameFn:JV}),iZ=e=>gA({...e,isVisibleThroughFrameFn:QV(e.destination.axis)}),aZ=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function oZ(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return $a(dA(n,r))}function xm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(c,u){const f=oZ(u,n),m=u.descriptor.id;if(c.all.push(m),!rZ({target:f,destination:t,viewport:r,withDroppableDisplacement:!0}))return c.invisible[u.descriptor.id]=!0,c;const g=aZ(m,a,i),v={draggableId:m,shouldAnimate:g};return c.visible[m]=v,c},{all:[],visible:{},invisible:{}})}function sZ(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function tM({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=sZ(e,{inHomeList:t});return{displaced:vm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function zy({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:c}){const u=of(e,n);if(o==null)return tM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const f=t.find(w=>w.descriptor.index===o);if(!f)return tM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const m=uv(e,t),p=t.indexOf(f),g=m.slice(p);return{displaced:xm({afterDragging:g,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:c}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Al(e,t){return!!t.effected[e]}var lZ=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,c=n[a].descriptor.index;return Al(a,i)?e?c:c-1:e?c+1:c},cZ=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=t?c:c+1;return a<o||a>u?null:a},uZ=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:c,afterCritical:u})=>{const f=o.at;if(f||Pe(),f.type==="REORDER"){const p=cZ({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:a});return p==null?null:zy({draggable:n,insideDestination:a,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:p})}const m=lZ({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:f.combine,afterCritical:u});return m==null?null:zy({draggable:n,insideDestination:a,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:m})},dZ=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Al(n,t)?i?or:rf(r.point):i?r.point:or},fZ=({afterCritical:e,impact:t,draggables:n})=>{const r=cv(t);r||Pe();const i=r.draggableId,a=n[i].page.borderBox.center,o=dZ({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return gr(a,o)};const JB=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,hZ=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,yA=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,nM=({axis:e,moveRelativeTo:t,isMoving:n})=>Vc(e.line,t.marginBox[e.end]+JB(e,n),yA(e,t.marginBox,n)),rM=({axis:e,moveRelativeTo:t,isMoving:n})=>Vc(e.line,t.marginBox[e.start]-hZ(e,n),yA(e,t.marginBox,n)),mZ=({axis:e,moveInto:t,isMoving:n})=>Vc(e.line,t.contentBox[e.start]+JB(e,n),yA(e,t.contentBox,n));var pZ=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=af(r.descriptor.id,n),o=t.page,c=r.axis;if(!a.length)return mZ({axis:c,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:f}=e,m=u.all[0];if(m){const g=n[m];if(Al(m,i))return rM({axis:c,moveRelativeTo:g.page,isMoving:o});const v=Ry(g.page,f.point);return rM({axis:c,moveRelativeTo:v,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Al(p.descriptor.id,i)){const g=Ry(p.page,rf(i.displacedBy.point));return nM({axis:c,moveRelativeTo:g,isMoving:o})}return nM({axis:c,moveRelativeTo:p.page,isMoving:o})},pE=(e,t)=>{const n=e.frame;return n?gr(t,n.scroll.diff.displacement):t};const gZ=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?pZ({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):fZ({impact:e,draggables:r,afterCritical:i})};var dv=e=>{const t=gZ(e),n=e.droppable;return n?pE(n,t):t},QB=(e,t)=>{const n=Pi(t,e.scroll.initial),r=rf(n);return{frame:$a({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function iM(e,t){return e.map(n=>t[n])}function yZ(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var bZ=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=QB(t,gr(t.scroll.current,i)),o=n.frame?hA(n,gr(n.frame.scroll.current,i)):n,c=e.displaced,u=xm({afterDragging:iM(c.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),f=xm({afterDragging:iM(c.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),m={},p={},g=[c,u,f];return c.all.forEach(w=>{const _=yZ(w,g);if(_){p[w]=_;return}m[w]=!0}),{...e,displaced:{all:c.all,invisible:m,visible:p}}},vZ=(e,t)=>gr(e.scroll.diff.displacement,t),bA=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=vZ(n,e),i=Pi(r,t.page.borderBox.center);return gr(t.client.borderBox.center,i)},e5=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Pi(n,e.page.borderBox.center),u={target:Vm(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?iZ(u):XB(u)},xZ=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:c,afterCritical:u})=>{if(!n.isEnabled)return null;const f=af(n.descriptor.id,r),m=of(t,n),p=ZV({isMovingForward:e,draggable:t,destination:n,insideDestination:f,previousImpact:i})||uZ({isMovingForward:e,isInHomeList:m,draggable:t,draggables:r,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const g=dv({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(e5({draggable:t,destination:n,newPageBorderBoxCenter:g,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:bA({pageBorderBoxCenter:g,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const w=Pi(g,o),_=bZ({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:w});return{clientSelection:c,impact:_,scrollJumpRequest:w}};const Mr=e=>{const t=e.subject.active;return t||Pe(),t};var _Z=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,c=ua(a[o.start],a[o.end]),u=lv(r).filter(m=>m!==n).filter(m=>m.isEnabled).filter(m=>!!m.subject.active).filter(m=>VB(i.frame)(Mr(m))).filter(m=>{const p=Mr(m);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(m=>{const p=Mr(m),g=ua(p[o.start],p[o.end]);return c(p[o.start])||c(p[o.end])||g(a[o.start])||g(a[o.end])}).sort((m,p)=>{const g=Mr(m)[o.crossAxisStart],v=Mr(p)[o.crossAxisStart];return e?g-v:v-g}).filter((m,p,g)=>Mr(m)[o.crossAxisStart]===Mr(g[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const f=u.filter(m=>ua(Mr(m)[o.start],Mr(m)[o.end])(t[o.line]));return f.length===1?f[0]:f.length>1?f.sort((m,p)=>Mr(m)[o.start]-Mr(p)[o.start])[0]:u.sort((m,p)=>{const g=QC(t,eM(Mr(m))),v=QC(t,eM(Mr(p)));return g!==v?g-v:Mr(m)[o.start]-Mr(p)[o.start]})[0]};const aM=(e,t)=>{const n=e.page.borderBox.center;return Al(e.descriptor.id,t)?Pi(n,t.displacedBy.point):n},wZ=(e,t)=>{const n=e.page.borderBox;return Al(e.descriptor.id,t)?Vm(n,rf(t.displacedBy.point)):n};var SZ=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>XB({target:wZ(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,c)=>{const u=bm(e,pE(n,aM(o,i))),f=bm(e,pE(n,aM(c,i)));return u<f?-1:f<u?1:o.descriptor.index-c.descriptor.index})[0]||null,Zm=ar(function(t,n){const r=n[t.line];return{value:r,point:Vc(t.line,r)}});const EZ=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Vc(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=af(e.descriptor.id,n).reduce((f,m)=>f+m.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:Vc(r.line,u)},t5=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),n5=(e,t,n)=>{const r=e.frame;of(t,e)&&Pe(),e.subject.withPlaceholder&&Pe();const i=Zm(e.axis,t.displaceBy).point,a=EZ(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const m=Id({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:m}}const c=a?gr(r.scroll.max,a):r.scroll.max,u=t5(r,c),f=Id({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:f,frame:u}},kZ=e=>{const t=e.subject.withPlaceholder;t||Pe();const n=e.frame;if(!n){const o=Id({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Pe();const i=t5(n,r),a=Id({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var AZ=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:c})=>{if(!t){if(n.length)return null;const p={displaced:vm,displacedBy:WB,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},g=dv({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:c}),v=of(r,a)?a:n5(a,r,i);return e5({draggable:r,destination:v,newPageBorderBoxCenter:g,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],f=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),m=Zm(a.axis,r.displaceBy);return zy({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:m,last:vm,index:f})},TZ=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:c})=>{const u=_Z({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const f=af(u.descriptor.id,i),m=SZ({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:f,afterCritical:c}),p=AZ({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:m,insideDestination:f,viewport:o,afterCritical:c});if(!p)return null;const g=dv({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:c});return{clientSelection:bA({pageBorderBoxCenter:g,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Ri=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const OZ=(e,t)=>{const n=Ri(e);return n?t[n]:null};var jZ=({state:e,type:t})=>{const n=OZ(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,c=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],m=e.current.page.borderBoxCenter,{draggables:p,droppables:g}=e.dimensions;return c?xZ({isMovingForward:u,previousPageBorderBoxCenter:m,draggable:f,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):TZ({isMovingForward:u,previousPageBorderBoxCenter:m,draggable:f,isOver:a,draggables:p,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function Pc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function r5(e){const t=ua(e.top,e.bottom),n=ua(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function NZ(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function CZ({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,c=Vc(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:bm(r,c)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function MZ({pageBorderBox:e,draggable:t,droppables:n}){const r=lv(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!NZ(e,a))return!1;if(r5(a)(e.center))return!0;const o=i.axis,c=a.center[o.crossAxisLine],u=e[o.crossAxisStart],f=e[o.crossAxisEnd],m=ua(a[o.crossAxisStart],a[o.crossAxisEnd]),p=m(u),g=m(f);return!p&&!g?!0:p?u<c:f>c});return r.length?r.length===1?r[0].descriptor.id:CZ({pageBorderBox:e,draggable:t,candidates:r}):null}const i5=(e,t)=>$a(Vm(e,t));var PZ=(e,t)=>{const n=e.frame;return n?i5(t,n.scroll.diff.value):t};function a5({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function DZ({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var RZ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const c=n.axis,u=Zm(n.axis,t.displaceBy),f=u.value,m=e[c.start],p=e[c.end],v=uv(t,r).find(_=>{const E=_.descriptor.id,T=_.page.borderBox.center[c.line],N=Al(E,o),O=a5({displaced:i,id:E});return N?O?p<=T:m<T-f:O?p<=T+f:m<T})||null,w=DZ({draggable:t,closest:v,inHomeList:of(t,n)});return zy({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:w})};const LZ=4;var IZ=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,c=Zm(r.axis,e.displaceBy),u=c.value,f=t[o.start],m=t[o.end],g=uv(e,i).find(w=>{const _=w.descriptor.id,E=w.page.borderBox,N=E[o.size]/LZ,O=Al(_,a),P=a5({displaced:n.displaced,id:_});return O?P?m>E[o.start]+N&&m<E[o.end]-N:f>E[o.start]-u+N&&f<E[o.end]-u-N:P?m>E[o.start]+u+N&&m<E[o.end]+u-N:f>E[o.start]+N&&f<E[o.end]-N});return g?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:r.descriptor.id}}}:null},o5=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const c=i5(t.page.borderBox,e),u=MZ({pageBorderBox:c,draggable:t,droppables:r});if(!u)return XV;const f=r[u],m=af(f.descriptor.id,n),p=PZ(f,c);return IZ({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:f,insideDestination:m,afterCritical:o})||RZ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:m,last:i.displaced,viewport:a,afterCritical:o})},vA=(e,t)=>({...e,[t.descriptor.id]:t});const $Z=({previousImpact:e,impact:t,droppables:n})=>{const r=Ri(e),i=Ri(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=kZ(a);return vA(n,o)};var BZ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=$Z({previousImpact:r,impact:i,droppables:n}),o=Ri(i);if(!o)return a;const c=n[o];if(of(e,c)||c.subject.withPlaceholder)return a;const u=n5(c,e,t);return vA(a,u)},im=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,c=n||e.dimensions,u=t||e.current.client.selection,f=Pi(u,e.initial.client.selection),m={offset:f,selection:u,borderBoxCenter:gr(e.initial.client.borderBoxCenter,f)},p={selection:gr(m.selection,o.scroll.current),borderBoxCenter:gr(m.borderBoxCenter,o.scroll.current),offset:gr(m.offset,o.scroll.diff.value)},g={client:m,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:o,current:g};const v=c.draggables[e.critical.draggable.id],w=i||o5({pageOffset:p.offset,draggable:v,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),_=BZ({draggable:v,impact:w,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:g,dimensions:{draggables:c.draggables,droppables:_},impact:w,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function zZ(e,t){return e.map(n=>t[n])}var s5=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=zZ(a.all,n),c=xm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:c}},l5=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=dv({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return bA({pageBorderBoxCenter:o,draggable:t,viewport:i})},c5=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Pe();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:c}=a,u=o[e.critical.draggable.id],f=Ri(r);f||Pe();const m=c[f],p=s5({impact:r,viewport:i,destination:m,draggables:o}),g=l5({impact:p,draggable:u,droppable:m,draggables:o,viewport:i,afterCritical:e.afterCritical});return im({impact:p,clientSelection:g,state:e,dimensions:a,viewport:i})},UZ=e=>({index:e.index,droppableId:e.droppableId}),u5=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=Zm(t.axis,e.displaceBy),a=af(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Pe();const c=a.slice(o+1),u=c.reduce((g,v)=>(g[v.descriptor.id]=!0,g),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:xm({afterDragging:c,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:UZ(e.descriptor)}},afterCritical:f}},FZ=(e,t)=>({draggables:e.draggables,droppables:vA(e.droppables,t)}),HZ=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Ry(e.client,t),i=Ly(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},GZ=e=>{const t=e.frame;return t||Pe(),t},qZ=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=GZ(o).scroll.diff.value,f=gr(r,u);return HZ({draggable:i,offset:f,initialWindowScroll:n.scroll.initial})})},YZ=({state:e,published:t})=>{const n=t.modified.map(T=>{const N=e.dimensions.droppables[T.droppableId];return hA(N,T.scroll)}),r={...e.dimensions.droppables,...YB(n)},i=KB(qZ({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(T=>{delete a[T]});const o={droppables:r,draggables:a},c=Ri(e.impact),u=c?o.droppables[c]:null,f=o.draggables[e.critical.draggable.id],m=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:g}=u5({draggable:f,home:m,draggables:a,viewport:e.viewport}),v=u&&u.isCombineEnabled?e.impact:p,w=o5({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:v,viewport:e.viewport,afterCritical:g}),_={...e,phase:"DRAGGING",impact:w,onLiftImpact:p,dimensions:o,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?_:{..._,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const gE=e=>e.movementMode==="SNAP",Cw=(e,t,n)=>{const r=FZ(e.dimensions,t);return!gE(e)||n?im({state:e,dimensions:r}):c5({state:e,dimensions:r})};function Mw(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const oM={phase:"IDLE",completed:null,shouldFlush:!1};var KZ=(e=oM,t)=>{if(t.type==="FLUSH")return{...oM,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Pe();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,c=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],f={selection:r,borderBoxCenter:c.client.borderBox.center,offset:or},m={client:f,page:{selection:gr(f.selection,i.scroll.initial),borderBoxCenter:gr(f.selection,i.scroll.initial),offset:gr(f.selection,i.scroll.diff.value)}},p=lv(a.droppables).every(_=>!_.isFixedOnPage),{impact:g,afterCritical:v}=u5({draggable:c,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:m,current:m,isWindowScrollAllowed:p,impact:g,afterCritical:v,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Pe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Pe(),YZ({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Pc(e)||Pe();const{client:n}=t.payload;return El(n,e.current.client.selection)?e:im({state:e,clientSelection:n,impact:gE(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Mw(e);Pc(e)||Pe();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=hA(i,r);return Cw(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Pc(e)||Pe();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isEnabled===r&&Pe();const a={...i,isEnabled:r};return Cw(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Pc(e)||Pe();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isCombineEnabled===r&&Pe();const a={...i,isCombineEnabled:r};return Cw(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Pc(e)||Pe(),e.isWindowScrollAllowed||Pe();const n=t.payload.newScroll;if(El(e.viewport.scroll.current,n))return Mw(e);const r=QB(e.viewport,n);return gE(e)?c5({state:e,viewport:r}):im({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Pc(e))return e;const n=t.payload.maxScroll;if(El(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Pe();const n=jZ({state:e,type:t.type});return n?im({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Pe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Pe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Mt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const WZ=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),VZ=e=>({type:"LIFT",payload:e}),ZZ=e=>({type:"INITIAL_PUBLISH",payload:e}),XZ=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),JZ=()=>({type:"COLLECTION_STARTING",payload:null}),QZ=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),eX=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),tX=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),d5=e=>({type:"MOVE",payload:e}),nX=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),rX=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),iX=()=>({type:"MOVE_UP",payload:null}),aX=()=>({type:"MOVE_DOWN",payload:null}),oX=()=>({type:"MOVE_RIGHT",payload:null}),sX=()=>({type:"MOVE_LEFT",payload:null}),xA=()=>({type:"FLUSH",payload:null}),lX=e=>({type:"DROP_ANIMATE",payload:e}),_A=e=>({type:"DROP_COMPLETE",payload:e}),f5=e=>({type:"DROP",payload:e}),cX=e=>({type:"DROP_PENDING",payload:e}),h5=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var uX=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Mt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:c}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(_A({completed:u.completed})),t().phase!=="IDLE"&&Pe(),n(xA()),n(WZ({draggableId:a,movementMode:c}));const m={draggableId:a,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:p,dimensions:g,viewport:v}=e.startPublishing(m);n(ZZ({critical:p,dimensions:g,clientSelection:o,movementMode:c,viewport:v}))},dX=e=>()=>t=>n=>{Mt(n,"INITIAL_PUBLISH")&&e.dragging(),Mt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Mt(n,"FLUSH")||Mt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const wA={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},_m={opacity:{drop:0,combining:.7},scale:{drop:.75}},m5={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},kc=`${m5.outOfTheWay}s ${wA.outOfTheWay}`,am={fluid:`opacity ${kc}`,snap:`transform ${kc}, opacity ${kc}`,drop:e=>{const t=`${e}s ${wA.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${kc}`,placeholder:`height ${kc}, width ${kc}, margin ${kc}`},sM=e=>El(e,or)?void 0:`translate(${e.x}px, ${e.y}px)`,yE={moveTo:sM,drop:(e,t)=>{const n=sM(e);if(n)return t?`${n} scale(${_m.scale.drop})`:n}},{minDropTime:bE,maxDropTime:p5}=m5,fX=p5-bE,lM=1500,hX=.6;var mX=({current:e,destination:t,reason:n})=>{const r=bm(e,t);if(r<=0)return bE;if(r>=lM)return p5;const i=r/lM,a=bE+fX*i,o=n==="CANCEL"?a*hX:a;return Number(o.toFixed(2))},pX=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,c=Ri(e),u=c?o[c]:null,f=o[t.descriptor.droppableId],m=l5({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||f,viewport:r});return Pi(m,t.client.borderBox.center)},gX=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:s5({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:vm},didDropInsideDroppable:!0};const yX=({getState:e,dispatch:t})=>n=>r=>{if(!Mt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(cX({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Pe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Pe();const c=i.critical,u=i.dimensions,f=u.draggables[i.critical.draggable.id],{impact:m,didDropInsideDroppable:p}=gX({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),g=p?mA(m):null,v=p?cv(m):null,w={index:c.draggable.index,droppableId:c.droppable.id},_={draggableId:f.descriptor.id,type:f.descriptor.type,source:w,reason:a,mode:i.movementMode,destination:g,combine:v},E=pX({impact:m,draggable:f,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),T={critical:i.critical,afterCritical:i.afterCritical,result:_,impact:m};if(!(!El(i.current.client.offset,E)||!!_.combine)){t(_A({completed:T}));return}const O=mX({current:i.current.client.offset,destination:E,reason:a});t(lX({newHomeClientOffset:E,dropDuration:O,completed:T}))};var g5=()=>({x:window.pageXOffset,y:window.pageYOffset});function bX(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function vX({onWindowScroll:e}){function t(){e(g5())}const n=ym(t),r=bX(n);let i=Sl;function a(){return i!==Sl}function o(){a()&&Pe(),i=aa(window,[r])}function c(){a()||Pe(),n.cancel(),i(),i=Sl}return{start:o,stop:c,isActive:a}}const xX=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH"),_X=e=>{const t=vX({onWindowScroll:n=>{e.dispatch(nX({newScroll:n}))}});return n=>r=>{!t.isActive()&&Mt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&xX(r)&&t.stop(),n(r)}};var wX=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},SX=()=>{const e=[],t=i=>{const a=e.findIndex(c=>c.timerId===i);a===-1&&Pe();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const EX=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,kX=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,AX=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Th=(e,t)=>{t()},u0=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Pw(e,t,n,r){if(!e){n(r(t));return}const i=wX(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var TX=(e,t)=>{const n=SX();let r=null;const i=(p,g)=>{r&&Pe(),Th("onBeforeCapture",()=>{const v=e().onBeforeCapture;v&&v({draggableId:p,mode:g})})},a=(p,g)=>{r&&Pe(),Th("onBeforeDragStart",()=>{const v=e().onBeforeDragStart;v&&v(u0(p,g))})},o=(p,g)=>{r&&Pe();const v=u0(p,g);r={mode:g,lastCritical:p,lastLocation:v.source,lastCombine:null},n.add(()=>{Th("onDragStart",()=>Pw(e().onDragStart,v,t,fy.onDragStart))})},c=(p,g)=>{const v=mA(g),w=cv(g);r||Pe();const _=!AX(p,r.lastCritical);_&&(r.lastCritical=p);const E=!EX(r.lastLocation,v);E&&(r.lastLocation=v);const T=!kX(r.lastCombine,w);if(T&&(r.lastCombine=w),!_&&!E&&!T)return;const N={...u0(p,r.mode),combine:w,destination:v};n.add(()=>{Th("onDragUpdate",()=>Pw(e().onDragUpdate,N,t,fy.onDragUpdate))})},u=()=>{r||Pe(),n.flush()},f=p=>{r||Pe(),r=null,Th("onDragEnd",()=>Pw(e().onDragEnd,p,t,fy.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:c,flush:u,drop:f,abort:()=>{if(!r)return;const p={...u0(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};f(p)}}},OX=(e,t)=>{const n=TX(e,t);return r=>i=>a=>{if(Mt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Mt(a,"INITIAL_PUBLISH")){const c=a.payload.critical;n.beforeStart(c,a.payload.movementMode),i(a),n.start(c,a.payload.movementMode);return}if(Mt(a,"DROP_COMPLETE")){const c=a.payload.completed.result;n.flush(),i(a),n.drop(c);return}if(i(a),Mt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const jX=e=>t=>n=>{if(!Mt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Pe(),e.dispatch(_A({completed:r.completed}))},NX=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Mt(a,"FLUSH")||Mt(a,"DROP_COMPLETE")||Mt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Mt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(h5())}};n=requestAnimationFrame(()=>{n=null,t=aa(window,[o])})}};var CX=e=>()=>t=>n=>{(Mt(n,"DROP_COMPLETE")||Mt(n,"FLUSH")||Mt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},MX=e=>{let t=!1;return()=>n=>r=>{if(Mt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Mt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Mt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const PX=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH");var DX=e=>t=>n=>r=>{if(PX(r)){e.stop(),n(r);return}if(Mt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Pe(),e.start(i);return}n(r),e.scroll(t.getState())};const RX=e=>t=>n=>{if(t(n),!Mt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(f5({reason:r.reason})))},LX=gm;var IX=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>lA(KZ,LX(NB(dX(n),CX(e),uX(e),yX,jX,NX,RX,DX(a),_X,MX(t),OX(r,i))));const Dw=()=>({additions:{},removals:{},modified:{}});function $X({registry:e,callbacks:t}){let n=Dw(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:f,modified:m}=n,p=Object.keys(u).map(w=>e.draggable.getById(w).getDimension(or)).sort((w,_)=>w.descriptor.index-_.descriptor.index),g=Object.keys(m).map(w=>{const E=e.droppable.getById(w).callbacks.getScrollWhileDragging();return{droppableId:w,scroll:E}}),v={additions:p,removals:Object.keys(f),modified:g};n=Dw(),t.publish(v)}))};return{add:u=>{const f=u.descriptor.id;n.additions[f]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},remove:u=>{const f=u.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Dw())}}}var y5=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Pi({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},b5=()=>{const e=document.documentElement;return e||Pe(),e},v5=()=>{const e=b5();return y5({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},BX=()=>{const e=g5(),t=v5(),n=e.y,r=e.x,i=b5(),a=i.clientWidth,o=i.clientHeight,c=r+a,u=n+o;return{frame:$a({top:n,left:r,right:c,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:or,displacement:or}}}},zX=({critical:e,scrollOptions:t,registry:n})=>{const r=BX(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(m=>m.callbacks.getDimensionAndWatchScroll(i,t)),c=n.draggable.getAllByType(e.draggable.type).map(m=>m.getDimension(i));return{dimensions:{draggables:KB(c),droppables:YB(o)},critical:e,viewport:r}};function cM(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var UX=(e,t)=>{let n=null;const r=$X({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(g,v)=>{e.droppable.exists(g)||Pe(),n&&t.updateDroppableIsEnabled({id:g,isEnabled:v})},a=(g,v)=>{n&&(e.droppable.exists(g)||Pe(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:v}))},o=(g,v)=>{n&&(e.droppable.exists(g)||Pe(),t.updateDroppableScroll({id:g,newScroll:v}))},c=(g,v)=>{n&&e.droppable.getById(g).callbacks.scroll(v)},u=()=>{if(!n)return;r.stop();const g=n.critical.droppable;e.droppable.getAllByType(g.type).forEach(v=>v.callbacks.dragStopped()),n.unsubscribe(),n=null},f=g=>{n||Pe();const v=n.critical.draggable;g.type==="ADDITION"&&cM(e,v,g.value)&&r.add(g.value),g.type==="REMOVAL"&&cM(e,v,g.value)&&r.remove(g.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:c,updateDroppableScroll:o,startPublishing:g=>{n&&Pe();const v=e.draggable.getById(g.draggableId),w=e.droppable.getById(v.descriptor.droppableId),_={draggable:v.descriptor,droppable:w.descriptor},E=e.subscribe(f);return n={critical:_,unsubscribe:E},zX({critical:_,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:u}},x5=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",FX=e=>{window.scrollBy(e.x,e.y)};const HX=ar(e=>lv(e).filter(t=>!(!t.isEnabled||!t.frame))),GX=(e,t)=>HX(t).find(r=>(r.frame||Pe(),r5(r.frame.pageMarginBox)(e)))||null;var qX=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return GX(e,n)};const wm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var YX=(e,t,n=()=>wm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},_5=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},SA=1,KX=(e,t,n=()=>wm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return SA;const a=1-_5({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},WX=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,c=a,f=Date.now()-o;if(f>=a)return e;if(f<i)return SA;const m=_5({startOfRange:i,endOfRange:c,current:f}),p=e*r.ease(m);return Math.ceil(p)},uM=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=KX(e,t,i);return a===0?0:r?Math.max(WX(a,n,i),SA):a},dM=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=YX(e,r,a);return t[r.end]<t[r.start]?uM({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*uM({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},VX=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const ZX=qB(e=>e===0?0:e);var w5=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},c=dM({container:t,distanceToEdges:o,dragStartTime:e,axis:pA,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=dM({container:t,distanceToEdges:o,dragStartTime:e,axis:ZB,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=ZX({x:u,y:c});if(El(f,or))return null;const m=VX({container:t,subject:n,proposedScroll:f});return m?El(m,or)?null:m:null};const XX=qB(e=>e===0?0:e>0?1:-1),EA=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=gr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return El(a,or)?null:a}})(),S5=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=XX(n),a=EA({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},kA=(e,t)=>S5({current:e.scroll.current,max:e.scroll.max,change:t}),JX=(e,t)=>{if(!kA(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return EA({current:r,max:n,change:t})},AA=(e,t)=>{const n=e.frame;return n?S5({current:n.scroll.current,max:n.scroll.max,change:t}):!1},QX=(e,t)=>{const n=e.frame;return!n||!AA(e,t)?null:EA({current:n.scroll.current,max:n.scroll.max,change:t})};var eJ=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=w5({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&kA(e,o)?o:null},tJ=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const c=w5({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return c&&AA(e,c)?c:null},fM=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,g=eJ({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(g){r(g);return}}const f=qX({center:o,destination:Ri(e.impact),droppables:e.dimensions.droppables});if(!f)return;const m=tJ({dragStartTime:t,droppable:f,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});m&&i(f.descriptor.id,m)},nJ=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>wm})=>{const r=ym(e),i=ym(t);let a=null;const o=f=>{a||Pe();const{shouldUseTimeDampening:m,dragStartTime:p}=a;fM({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:m,getAutoScrollerOptions:n})};return{start:f=>{a&&Pe();const m=Date.now();let p=!1;const g=()=>{p=!0};fM({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:n}),a={dragStartTime:m,shouldUseTimeDampening:p},p&&o(f)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},rJ=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(c,u)=>{const f=gr(c.current.client.selection,u);e({client:f})},i=(c,u)=>{if(!AA(c,u))return u;const f=QX(c,u);if(!f)return t(c.descriptor.id,u),null;const m=Pi(u,f);return t(c.descriptor.id,m),Pi(u,m)},a=(c,u,f)=>{if(!c||!kA(u,f))return f;const m=JX(u,f);if(!m)return n(f),null;const p=Pi(f,m);return n(p),Pi(f,p)};return c=>{const u=c.scrollJumpRequest;if(!u)return;const f=Ri(c.impact);f||Pe();const m=i(c.dimensions.droppables[f],u);if(!m)return;const p=c.viewport,g=a(c.isWindowScrollAllowed,p,m);g&&r(c,g)}},iJ=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=nJ({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=rJ({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const $d="data-rfd",Bd=(()=>{const e=`${$d}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),vE=(()=>{const e=`${$d}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),aJ=(()=>{const e=`${$d}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),hM={contextId:`${$d}-scroll-container-context-id`},oJ=e=>t=>`[${t}="${e}"]`,Oh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),sJ="pointer-events: none;";var lJ=e=>{const t=oJ(e),n=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Bd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:sJ,dropAnimating:c}}})(),r=(()=>{const c=`
      transition: ${am.outOfTheWay};
    `;return{selector:t(vE.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),i={selector:t(aJ.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Oh(o,"always"),resting:Oh(o,"resting"),dragging:Oh(o,"dragging"),dropAnimating:Oh(o,"dropAnimating"),userCancel:Oh(o,"userCancel")}};const Li=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,Rw=()=>{const e=document.querySelector("head");return e||Pe(),e},mM=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function cJ(e,t){const n=vt(()=>lJ(e),[e]),r=S.useRef(null),i=S.useRef(null),a=Ke(ar(p=>{const g=i.current;g||Pe(),g.textContent=p}),[]),o=Ke(p=>{const g=r.current;g||Pe(),g.textContent=p},[]);Li(()=>{!r.current&&!i.current||Pe();const p=mM(t),g=mM(t);return r.current=p,i.current=g,p.setAttribute(`${$d}-always`,e),g.setAttribute(`${$d}-dynamic`,e),Rw().appendChild(p),Rw().appendChild(g),o(n.always),a(n.resting),()=>{const v=w=>{const _=w.current;_||Pe(),Rw().removeChild(_),w.current=null};v(r),v(i)}},[t,o,a,n.always,n.resting,e]);const c=Ke(()=>a(n.dragging),[a,n.dragging]),u=Ke(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),f=Ke(()=>{i.current&&a(n.resting)},[a,n.resting]);return vt(()=>({dragging:c,dropping:u,resting:f}),[c,u,f])}function E5(e,t){return Array.from(e.querySelectorAll(t))}var k5=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function fv(e){return e instanceof k5(e).HTMLElement}function uJ(e,t){const n=`[${Bd.contextId}="${e}"]`,r=E5(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Bd.draggableId)===t);return!i||!fv(i)?null:i}function dJ(e){const t=S.useRef({}),n=S.useRef(null),r=S.useRef(null),i=S.useRef(!1),a=Ke(function(g,v){const w={id:g,focus:v};return t.current[g]=w,function(){const E=t.current;E[g]!==w&&delete E[g]}},[]),o=Ke(function(g){const v=uJ(e,g);v&&v!==document.activeElement&&v.focus()},[e]),c=Ke(function(g,v){n.current===g&&(n.current=v)},[]),u=Ke(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const g=n.current;g&&o(g)}))},[o]),f=Ke(function(g){n.current=null;const v=document.activeElement;v&&v.getAttribute(Bd.draggableId)===g&&(n.current=g)},[]);return Li(()=>(i.current=!0,function(){i.current=!1;const g=r.current;g&&cancelAnimationFrame(g)}),[]),vt(()=>({register:a,tryRecordFocus:f,tryRestoreFocusRecorded:u,tryShiftRecord:c}),[a,f,u,c])}function fJ(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const v=t.indexOf(p);v!==-1&&t.splice(v,1)}}function r(p){t.length&&t.forEach(g=>g(p))}function i(p){return e.draggables[p]||null}function a(p){const g=i(p);return g||Pe(),g}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,g)=>{const v=e.draggables[g.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const g=p.descriptor.id,v=i(g);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[g],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(g=>g.descriptor.type===p)};function c(p){return e.droppables[p]||null}function u(p){const g=c(p);return g||Pe(),g}const f={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const g=c(p.descriptor.id);g&&p.uniqueId===g.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:c,exists:p=>!!c(p),getAllByType:p=>Object.values(e.droppables).filter(g=>g.descriptor.type===p)};function m(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:f,subscribe:n,clean:m}}function hJ(){const e=vt(fJ,[]);return S.useEffect(()=>function(){e.clean()},[e]),e}var TA=Wt.createContext(null),Uy=()=>{const e=document.body;return e||Pe(),e};const mJ={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},pJ=e=>`rfd-announcement-${e}`;function gJ(e){const t=vt(()=>pJ(e),[e]),n=S.useRef(null);return S.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Iy(a.style,mJ),Uy().appendChild(a),function(){setTimeout(function(){const u=Uy();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Ke(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const yJ={separator:"::"};function OA(e,t=yJ){const n=Wt.useId();return vt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function bJ({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function vJ({contextId:e,text:t}){const n=OA("hidden-text",{separator:"-"}),r=vt(()=>bJ({contextId:e,uniqueId:n}),[n,e]);return S.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Uy().appendChild(a),function(){const c=Uy();c.contains(a)&&c.removeChild(a)}},[r,t]),r}var hv=Wt.createContext(null);function A5(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),t}function xJ(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Pe();const c={abandon:o};return e=c,c}function i(){e||Pe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Sm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const _J=9,wJ=13,jA=27,T5=32,SJ=33,EJ=34,kJ=35,AJ=36,TJ=37,OJ=38,jJ=39,NJ=40,CJ={[wJ]:!0,[_J]:!0};var O5=e=>{CJ[e.keyCode]&&e.preventDefault()};const mv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),j5=0,pM=5;function MJ(e,t){return Math.abs(t.x-e.x)>=pM||Math.abs(t.y-e.y)>=pM}const gM={type:"IDLE"};function PJ({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:c}=i;if(a!==j5)return;const u={x:o,y:c},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(u);return}f.type!=="PENDING"&&Pe();const m=f.point;if(!MJ(m,u))return;i.preventDefault();const p=f.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===jA){i.preventDefault(),e();return}O5(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Pe(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:mv,fn:e}]}function DJ(e){const t=S.useRef(gM),n=S.useRef(Sl),r=vt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==j5||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const g=e.findClosestDraggableId(p);if(!g)return;const v=e.tryGetLock(g,o,{sourceEvent:p});if(!v)return;p.preventDefault();const w={x:p.clientX,y:p.clientY};n.current(),f(v,w)}}),[e]),i=vt(()=>({eventName:"webkitmouseforcewillbegin",fn:m=>{if(m.defaultPrevented)return;const p=e.findClosestDraggableId(m);if(!p)return;const g=e.findOptionsForDraggable(p);g&&(g.shouldRespectForcePress||e.canGetLock(p)&&m.preventDefault())}}),[e]),a=Ke(function(){const p={passive:!1,capture:!0};n.current=aa(window,[i,r],p)},[i,r]),o=Ke(()=>{t.current.type!=="IDLE"&&(t.current=gM,n.current(),a())},[a]),c=Ke(()=>{const m=t.current;o(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[o]),u=Ke(function(){const p={capture:!0,passive:!1},g=PJ({cancel:c,completed:o,getPhase:()=>t.current,setPhase:v=>{t.current=v}});n.current=aa(window,g,p)},[c,o]),f=Ke(function(p,g){t.current.type!=="IDLE"&&Pe(),t.current={type:"PENDING",point:g,actions:p},u()},[u]);Li(function(){return a(),function(){n.current()}},[a])}function RJ(){}const LJ={[EJ]:!0,[SJ]:!0,[AJ]:!0,[kJ]:!0};function IJ(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===jA){i.preventDefault(),n();return}if(i.keyCode===T5){i.preventDefault(),r();return}if(i.keyCode===NJ){i.preventDefault(),e.moveDown();return}if(i.keyCode===OJ){i.preventDefault(),e.moveUp();return}if(i.keyCode===jJ){i.preventDefault(),e.moveRight();return}if(i.keyCode===TJ){i.preventDefault(),e.moveLeft();return}if(LJ[i.keyCode]){i.preventDefault();return}O5(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:mv,fn:n}]}function $J(e){const t=S.useRef(RJ),n=vt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==T5)return;const o=e.findClosestDraggableId(a);if(!o)return;const c=e.tryGetLock(o,m,{sourceEvent:a});if(!c)return;a.preventDefault();let u=!0;const f=c.snapLift();t.current();function m(){u||Pe(),u=!1,t.current(),r()}t.current=aa(window,IJ(f,m),{capture:!0,passive:!1})}}),[e]),r=Ke(function(){const a={passive:!1,capture:!0};t.current=aa(window,[n],a)},[n]);Li(function(){return r(),function(){t.current()}},[r])}const Lw={type:"IDLE"},BJ=120,zJ=.15;function UJ({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===jA&&n.preventDefault(),e()}},{eventName:mv,fn:e}]}function FJ({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],c={x:a,y:o};r.preventDefault(),i.actions.move(c)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Pe();const a=r.touches[0];if(!a||!(a.force>=zJ))return;const c=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){c&&e();return}if(c){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:mv,fn:e}]}function HJ(e){const t=S.useRef(Lw),n=S.useRef(Sl),r=Ke(function(){return t.current},[]),i=Ke(function(v){t.current=v},[]),a=vt(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const w=e.findClosestDraggableId(v);if(!w)return;const _=e.tryGetLock(w,c,{sourceEvent:v});if(!_)return;const E=v.touches[0],{clientX:T,clientY:N}=E,O={x:T,y:N};n.current(),p(_,O)}}),[e]),o=Ke(function(){const v={capture:!0,passive:!1};n.current=aa(window,[a],v)},[a]),c=Ke(()=>{const g=t.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),i(Lw),n.current(),o())},[o,i]),u=Ke(()=>{const g=t.current;c(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[c]),f=Ke(function(){const v={capture:!0,passive:!1},w={cancel:u,completed:c,getPhase:r},_=aa(window,FJ(w),v),E=aa(window,UJ(w),v);n.current=function(){_(),E()}},[u,r,c]),m=Ke(function(){const v=r();v.type!=="PENDING"&&Pe();const w=v.actions.fluidLift(v.point);i({type:"DRAGGING",actions:w,hasMoved:!1})},[r,i]),p=Ke(function(v,w){r().type!=="IDLE"&&Pe();const _=setTimeout(m,BJ);i({type:"PENDING",point:w,actions:v,longPressTimerId:_}),f()},[f,r,i,m]);Li(function(){return o(),function(){n.current();const w=r();w.type==="PENDING"&&(clearTimeout(w.longPressTimerId),i(Lw))}},[r,o,i]),Li(function(){return aa(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const GJ=["input","button","textarea","select","option","optgroup","video","audio"];function N5(e,t){if(t==null)return!1;if(GJ.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:N5(e,t.parentElement)}function qJ(e,t){const n=t.target;return fv(n)?N5(e,n):!1}var YJ=e=>$a(e.getBoundingClientRect()).center;function KJ(e){return e instanceof k5(e).Element}const WJ=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function C5(e,t){return e==null?null:e[WJ](t)?e:C5(e.parentElement,t)}function VJ(e,t){return e.closest?e.closest(t):C5(e,t)}function ZJ(e){return`[${Bd.contextId}="${e}"]`}function XJ(e,t){const n=t.target;if(!KJ(n))return null;const r=ZJ(e),i=VJ(n,r);return!i||!fv(i)?null:i}function JJ(e,t){const n=XJ(e,t);return n?n.getAttribute(Bd.draggableId):null}function QJ(e,t){const n=`[${vE.contextId}="${e}"]`,i=E5(document,n).find(a=>a.getAttribute(vE.id)===t);return!i||!fv(i)?null:i}function eQ(e){e.preventDefault()}function d0({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function M5({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!x5(t.getState(),r))}function tQ({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!M5({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),f=QJ(t,u.descriptor.id);if(!f||o&&!u.options.canDragInteractiveElements&&qJ(f,o))return null;const m=e.claim(a||Sl);let p="PRE_DRAG";function g(){return u.options.shouldRespectForcePress}function v(){return e.isActive(m)}function w(M,D){d0({expected:M,phase:p,isLockActive:v,shouldWarn:!0})&&n.dispatch(D())}const _=w.bind(null,"DRAGGING");function E(M){function D(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(D(),Pe()),n.dispatch(VZ(M.liftActionArgs)),p="DRAGGING";function $(H,q={shouldBlockNextClick:!1}){if(M.cleanup(),q.shouldBlockNextClick){const K=aa(window,[{eventName:"click",fn:eQ,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(K)}D(),n.dispatch(f5({reason:H}))}return{isActive:()=>d0({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:g,drop:H=>$("DROP",H),cancel:H=>$("CANCEL",H),...M.actions}}function T(M){const D=ym(H=>{_(()=>d5({client:H}))});return{...E({liftActionArgs:{id:i,clientSelection:M,movementMode:"FLUID"},cleanup:()=>D.cancel(),actions:{move:D}}),move:D}}function N(){const M={moveUp:()=>_(iX),moveRight:()=>_(oX),moveDown:()=>_(aX),moveLeft:()=>_(sX)};return E({liftActionArgs:{id:i,clientSelection:YJ(f),movementMode:"SNAP"},cleanup:Sl,actions:M})}function O(){d0({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0})&&e.release()}return{isActive:()=>d0({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:T,snapLift:N,abort:O}}const nQ=[DJ,$J,HJ];function rQ({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?nQ:[],...r||[]],o=S.useState(()=>xJ())[0],c=Ke(function(E,T){Sm(E)&&!Sm(T)&&o.tryAbandon()},[o]);Li(function(){let E=t.getState();return t.subscribe(()=>{const N=t.getState();c(E,N),E=N})},[o,t,c]),Li(()=>o.tryAbandon,[o.tryAbandon]);const u=Ke(_=>M5({lockAPI:o,registry:n,store:t,draggableId:_}),[o,n,t]),f=Ke((_,E,T)=>tQ({lockAPI:o,registry:n,contextId:e,store:t,draggableId:_,forceSensorStop:E||null,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null}),[e,o,n,t]),m=Ke(_=>JJ(e,_),[e]),p=Ke(_=>{const E=n.draggable.findById(_);return E?E.options:null},[n.draggable]),g=Ke(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(xA()))},[o,t]),v=Ke(()=>o.isClaimed(),[o]),w=vt(()=>({canGetLock:u,tryGetLock:f,findClosestDraggableId:m,findOptionsForDraggable:p,tryReleaseLock:g,isLockClaimed:v}),[u,f,m,p,g,v]);for(let _=0;_<a.length;_++)a[_](w)}const iQ=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ef.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),aQ=e=>({...wm,...e.autoScrollerOptions,durationDampening:{...wm.durationDampening,...e.autoScrollerOptions}});function jh(e){return e.current||Pe(),e.current}function oQ(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=S.useRef(null),c=A5(e),u=Ke(()=>iQ(c.current),[c]),f=Ke(()=>aQ(c.current),[c]),m=gJ(t),p=vJ({contextId:t,text:a}),g=cJ(t,i),v=Ke(K=>{jh(o).dispatch(K)},[]),w=vt(()=>FC({publishWhileDragging:XZ,updateDroppableScroll:QZ,updateDroppableIsEnabled:eX,updateDroppableIsCombineEnabled:tX,collectionStarting:JZ},v),[v]),_=hJ(),E=vt(()=>UX(_,w),[_,w]),T=vt(()=>iJ({scrollWindow:FX,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:f,...FC({move:d5},v)}),[E.scrollDroppable,v,f]),N=dJ(t),O=vt(()=>IX({announce:m,autoScroller:T,dimensionMarshal:E,focusMarshal:N,getResponders:u,styleMarshal:g}),[m,T,E,N,u,g]);o.current=O;const P=Ke(()=>{const K=jh(o);K.getState().phase!=="IDLE"&&K.dispatch(xA())},[]),M=Ke(()=>{const K=jh(o).getState();return K.phase==="DROP_ANIMATING"?!0:K.phase==="IDLE"?!1:K.isDragging},[]),D=vt(()=>({isDragging:M,tryAbort:P}),[M,P]);n(D);const $=Ke(K=>x5(jh(o).getState(),K),[]),H=Ke(()=>Pc(jh(o).getState()),[]),q=vt(()=>({marshal:E,focus:N,contextId:t,canLift:$,isMovementAllowed:H,dragHandleUsageInstructionsId:p,registry:_}),[t,E,p,N,$,H,_]);return rQ({contextId:t,store:O,registry:_,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),S.useEffect(()=>P,[P]),Wt.createElement(hv.Provider,{value:q},Wt.createElement($B,{context:TA,store:O},e.children))}function sQ(){return Wt.useId()}function Xm(e){const t=sQ(),n=e.dragHandleUsageInstructions||fy.dragHandleUsageInstructions;return Wt.createElement($V,null,r=>Wt.createElement(oQ,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const yM={dragging:5e3,dropAnimating:4500},lQ=(e,t)=>t?am.drop(t.duration):e?am.snap:am.fluid,cQ=(e,t)=>{if(e)return t?_m.opacity.drop:_m.opacity.combining},uQ=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function dQ(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,c=uQ(e),u=!!a,f=u?yE.drop(r,o):yE.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:lQ(c,a),transform:f,opacity:cQ(o,u),zIndex:u?yM.dropAnimating:yM.dragging,pointerEvents:"none"}}function fQ(e){return{transform:yE.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function hQ(e){return e.type==="DRAGGING"?dQ(e):fQ(e)}function mQ(e,t,n=or){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=BB(i,r),o=Ly(a,n),c={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:u,client:a,page:o}}function pQ(e){const t=OA("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:c}=e,u=vt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:c}),[a,c,o]),f=Ke(v=>{const w=i();return w||Pe(),mQ(n,w,v)},[n,i]),m=vt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:f}),[n,f,u,t]),p=S.useRef(m),g=S.useRef(!0);Li(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),Li(()=>{if(g.current){g.current=!1;return}const v=p.current;p.current=m,r.draggable.update(m,v)},[m,r.draggable])}var NA=Wt.createContext(null);function Fy(e){const t=S.useContext(e);return t||Pe(),t}function gQ(e){e.preventDefault()}const yQ=e=>{const t=S.useRef(null),n=Ke((D=null)=>{t.current=D},[]),r=Ke(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=Fy(hv),{type:c,droppableId:u}=Fy(NA),f=vt(()=>({id:e.draggableId,index:e.index,type:c,droppableId:u}),[e.draggableId,e.index,c,u]),{children:m,draggableId:p,isEnabled:g,shouldRespectForcePress:v,canDragInteractiveElements:w,isClone:_,mapped:E,dropAnimationFinished:T}=e;if(!_){const D=vt(()=>({descriptor:f,registry:o,getDraggableRef:r,canDragInteractiveElements:w,shouldRespectForcePress:v,isEnabled:g}),[f,o,r,w,v,g]);pQ(D)}const N=vt(()=>g?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:gQ}:null,[i,a,p,g]),O=Ke(D=>{E.type==="DRAGGING"&&E.dropping&&D.propertyName==="transform"&&ef.flushSync(T)},[T,E]),P=vt(()=>{const D=hQ(E),$=E.type==="DRAGGING"&&E.dropping?O:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:D,onTransitionEnd:$},dragHandleProps:N}},[i,N,p,E,O,n]),M=vt(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return Wt.createElement(Wt.Fragment,null,m(P,E.snapshot,M))};var P5=(e,t)=>e===t,D5=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const bQ=e=>e.combine?e.combine.draggableId:null,vQ=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function xQ(){const e=ar((i,a)=>({x:i,y:a})),t=ar((i,a,o=null,c=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:c,combineTargetFor:null})),n=ar((i,a,o,c,u=null,f=null,m=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:f,mode:a,offset:i,dimension:o,forceShouldAnimate:m,snapshot:t(a,c,u,f,null)}}));return(i,a)=>{if(Sm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],u=Ri(i.impact),f=vQ(i.impact),m=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,c,a.isClone,u,f,m)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const c=a.isClone,u=i.dimensions.draggables[a.draggableId],f=o.result,m=f.mode,p=D5(f),g=bQ(f),w={duration:i.dropDuration,curve:wA.drop,moveTo:i.newHomeClientOffset,opacity:g?_m.opacity.drop:null,scale:g?_m.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:w,draggingOver:p,combineWith:g,mode:m,forceShouldAnimate:null,snapshot:t(m,c,p,g,w)}}}return null}}function R5(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const _Q={mapped:{type:"SECONDARY",offset:or,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:R5(null)}};function wQ(){const e=ar((o,c)=>({x:o,y:c})),t=ar(R5),n=ar((o,c=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:c,shouldAnimateDisplacement:u,snapshot:t(c)}})),r=o=>o?n(or,o,!0):null,i=(o,c,u,f)=>{const m=u.displaced.visible[o],p=!!(f.inVirtualList&&f.effected[o]),g=cv(u),v=g&&g.draggableId===o?c:null;if(!m){if(!p)return r(v);if(u.displaced.invisible[o])return null;const E=rf(f.displacedBy.point),T=e(E.x,E.y);return n(T,v,!0)}if(p)return r(v);const w=u.displacedBy.point,_=e(w.x,w.y);return n(_,v,m.shouldAnimate)};return(o,c)=>{if(Sm(o))return o.critical.draggable.id===c.draggableId?null:i(c.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===c.draggableId?null:i(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const SQ=()=>{const e=xQ(),t=wQ();return(r,i)=>e(r,i)||t(r,i)||_Q},EQ={dropAnimationFinished:h5},kQ=IB(SQ,EQ,null,{context:TA,areStatePropsEqual:P5})(yQ);function L5(e){return Fy(NA).isUsingCloneFor===e.draggableId&&!e.isClone?null:Wt.createElement(kQ,e)}function sf(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Wt.createElement(L5,Iy({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const I5=e=>t=>e===t,AQ=I5("scroll"),TQ=I5("auto"),bM=(e,t)=>t(e.overflowX)||t(e.overflowY),OQ=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return bM(n,AQ)||bM(n,TQ)},jQ=()=>!1,$5=e=>e==null?null:e===document.body?jQ()?e:null:e===document.documentElement?null:OQ(e)?e:$5(e.parentElement);var xE=e=>({x:e.scrollLeft,y:e.scrollTop});const B5=e=>e?window.getComputedStyle(e).position==="fixed"?!0:B5(e.parentElement):!1;var NQ=e=>{const t=$5(e),n=B5(e);return{closestScrollable:t,isFixedOnPage:n}},CQ=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:c})=>{const u=(()=>{if(!c)return null;const{scrollSize:g,client:v}=c,w=y5({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:v,scrollSize:g,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:w,diff:{value:or,displacement:or}}}})(),f=i==="vertical"?pA:ZB,m=Id({page:o,withPlaceholder:null,axis:f,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:f,isEnabled:t,client:a,page:o,frame:u,subject:m}};const MQ=(e,t)=>{const n=zB(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=dA({top:r,right:o,bottom:a,left:i},n.border);return fA({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var PQ=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:c})=>{const u=n.closestScrollable,f=MQ(e,u),m=Ly(f,r),p=(()=>{if(!u)return null;const v=zB(u),w={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:Ly(v,r),scroll:xE(u),scrollSize:w,shouldClipSubject:c}})();return CQ({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:m,closest:p})};const DQ={passive:!1},RQ={passive:!0};var vM=e=>e.shouldPublishImmediately?DQ:RQ;const f0=e=>e&&e.env.closestScrollable||null;function LQ(e){const t=S.useRef(null),n=Fy(hv),r=OA("droppable"),{registry:i,marshal:a}=n,o=A5(e),c=vt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=S.useRef(c),f=vt(()=>ar((P,M)=>{t.current||Pe();const D={x:P,y:M};a.updateDroppableScroll(c.id,D)}),[c.id,a]),m=Ke(()=>{const P=t.current;return!P||!P.env.closestScrollable?or:xE(P.env.closestScrollable)},[]),p=Ke(()=>{const P=m();f(P.x,P.y)},[m,f]),g=vt(()=>ym(p),[p]),v=Ke(()=>{const P=t.current,M=f0(P);if(P&&M||Pe(),P.scrollOptions.shouldPublishImmediately){p();return}g()},[g,p]),w=Ke((P,M)=>{t.current&&Pe();const D=o.current,$=D.getDroppableRef();$||Pe();const H=NQ($),q={ref:$,descriptor:c,env:H,scrollOptions:M};t.current=q;const K=PQ({ref:$,descriptor:c,env:H,windowScroll:P,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),F=H.closestScrollable;return F&&(F.setAttribute(hM.contextId,n.contextId),F.addEventListener("scroll",v,vM(q.scrollOptions))),K},[n.contextId,c,v,o]),_=Ke(()=>{const P=t.current,M=f0(P);return P&&M||Pe(),xE(M)},[]),E=Ke(()=>{const P=t.current;P||Pe();const M=f0(P);t.current=null,M&&(g.cancel(),M.removeAttribute(hM.contextId),M.removeEventListener("scroll",v,vM(P.scrollOptions)))},[v,g]),T=Ke(P=>{const M=t.current;M||Pe();const D=f0(M);D||Pe(),D.scrollTop+=P.y,D.scrollLeft+=P.x},[]),N=vt(()=>({getDimensionAndWatchScroll:w,getScrollWhileDragging:_,dragStopped:E,scroll:T}),[E,w,_,T]),O=vt(()=>({uniqueId:r,descriptor:c,callbacks:N}),[N,c,r]);Li(()=>(u.current=O.descriptor,i.droppable.register(O),()=>{t.current&&E(),i.droppable.unregister(O)}),[N,c,E,O,a,i.droppable]),Li(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Li(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Iw(){}const xM={width:0,height:0,margin:qV},IQ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?xM:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},$Q=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=IQ({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?am.placeholder:null}},BQ=e=>{const t=S.useRef(null),n=Ke(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[c,u]=S.useState(e.animate==="open");S.useEffect(()=>c?r!=="open"?(n(),u(!1),Iw):t.current?Iw:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):Iw,[r,c,n]);const f=Ke(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),m=$Q({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Wt.createElement(e.placeholder.tagName,{style:m,"data-rfd-placeholder-context-id":o,onTransitionEnd:f,ref:e.innerRef})};var zQ=Wt.memo(BQ);class UQ extends Wt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const FQ=e=>{const t=S.useContext(hv);t||Pe();const{contextId:n,isMovementAllowed:r}=t,i=S.useRef(null),a=S.useRef(null),{children:o,droppableId:c,type:u,mode:f,direction:m,ignoreContainerClipping:p,isDropDisabled:g,isCombineEnabled:v,snapshot:w,useClone:_,updateViewportMaxScroll:E,getContainerForClone:T}=e,N=Ke(()=>i.current,[]),O=Ke((F=null)=>{i.current=F},[]);Ke(()=>a.current,[]);const P=Ke((F=null)=>{a.current=F},[]),M=Ke(()=>{r()&&E({maxScroll:v5()})},[r,E]);LQ({droppableId:c,type:u,mode:f,direction:m,isDropDisabled:g,isCombineEnabled:v,ignoreContainerClipping:p,getDroppableRef:N});const D=vt(()=>Wt.createElement(UQ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:F,data:z,animate:Z})=>Wt.createElement(zQ,{placeholder:z,onClose:F,innerRef:P,animate:Z,contextId:n,onTransitionEnd:M})),[n,M,e.placeholder,e.shouldAnimatePlaceholder,P]),$=vt(()=>({innerRef:O,placeholder:D,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,D,O]),H=_?_.dragging.draggableId:null,q=vt(()=>({droppableId:c,type:u,isUsingCloneFor:H}),[c,H,u]);function K(){if(!_)return null;const{dragging:F,render:z}=_,Z=Wt.createElement(L5,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Q,J)=>z(Q,J,F));return NG.createPortal(Z,T())}return Wt.createElement(NA.Provider,{value:q},o($,w),K())};function HQ(){return document.body||Pe(),document.body}const _M={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:HQ},z5=e=>{let t={...e},n;for(n in _M)e[n]===void 0&&(t={...t,[n]:_M[n]});return t},$w=(e,t)=>e===t.droppable.type,wM=(e,t)=>t.draggables[e.draggable.id],GQ=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ar(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=ar((a,o,c,u,f,m)=>{const p=f.descriptor.id;if(f.descriptor.droppableId===a){const w=m?{render:m,dragging:n(f.descriptor)}:null,_={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:_,useClone:w}}if(!o)return t;if(!u)return e;const v={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(a,o)=>{const c=z5(o),u=c.droppableId,f=c.type,m=!c.isDropDisabled,p=c.renderClone;if(Sm(a)){const g=a.critical;if(!$w(f,g))return t;const v=wM(g,a.dimensions),w=Ri(a.impact)===u;return r(u,m,w,w,v,p)}if(a.phase==="DROP_ANIMATING"){const g=a.completed;if(!$w(f,g.critical))return t;const v=wM(g.critical,a.dimensions);return r(u,m,D5(g.result)===u,Ri(g.impact)===u,v,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const g=a.completed;if(!$w(f,g.critical))return t;const v=Ri(g.impact)===u,w=!!(g.impact.at&&g.impact.at.type==="COMBINE"),_=g.critical.droppable.id===u;return v?w?e:t:_?e:t}return t}},qQ={updateViewportMaxScroll:rX},lf=IB(GQ,qQ,(e,t,n)=>({...z5(n),...e,...t}),{context:TA,areStatePropsEqual:P5})(FQ),YQ={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Hy(e,t,n){const r=YQ[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function KQ(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),c=e.getUTCSeconds(),u=(a-12)/24+o/1440+c/86400,f=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(f)-.032077*Math.sin(f)-.014615*Math.cos(2*f)-.040849*Math.sin(2*f))}function WQ(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function Jm(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=WQ(i),o=4*(i-a),c=KQ(r);return new Date(r.getTime()+(o+c)*60*1e3)}function U5(e){return e.replace(/\D/g,"")}function VQ(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function ZQ(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function Qm(e){const t=U5(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return VQ(n,r,i)?{y:n,m:r,d:i}:null}function pv(e){const t=e.trim();if(!t||t==="")return null;const n=U5(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return ZQ(r,i)?{hh:r,mm:i}:null}function gv(e){const t=e.trim(),n=Qm(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function yv(e){const t=e.trim();if(t==="")return"";const n=pv(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var hy={exports:{}},XQ=hy.exports,SM;function JQ(){return SM||(SM=1,(function(e,t){(function(n,r){e.exports=r()})(XQ,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,c){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:c})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(c){return c&&c.__esModule?c:{default:c}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(Z){return Z&&Z.__esModule?Z:{default:Z}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),c=a(o),u=i(3),f=a(u),m=i(4),p=a(m),g=i(5),v=a(g),w=i(6),_=a(w),E=i(7),T=a(E),N=i(8),O=a(N),P=i(9),M=a(P),D=i(10),$=a(D),H=i(11),q=a(H),K=i(12),F=a(K),z={lunarInfo:c.default,solarMonth:f.default,gan:p.default,zhi:v.default,animals:_.default,lunarTerm:T.default,lTermInfo:O.default,nStr1:M.default,nStr2:$.default,nStr3:q.default,nStr4:F.default,lYearDays:function(Z){var Q,J=348;for(Q=32768;Q>8;Q>>=1)J+=z.lunarInfo[Z-1900]&Q?1:0;return J+z.leapDays(Z)},leapMonth:function(Z){return 15&z.lunarInfo[Z-1900]},leapDays:function(Z){return z.leapMonth(Z)?65536&z.lunarInfo[Z-1900]?30:29:0},monthDays:function(Z,Q){return Q>12||Q<1?-1:z.lunarInfo[Z-1900]&65536>>Q?30:29},solarDays:function(Z,Q){if(Q>12||Q<1)return-1;var J=Q-1;return J==1?Z%4==0&&Z%100!=0||Z%400==0?29:28:z.solarMonth[J]},toGanZhi:function(Z){return z.gan[Z%10]+z.zhi[Z%12]},getTerm:function(Z,Q){if(Z<1900||Z>2100||Q<1||Q>24)return-1;var J=z.lTermInfo[Z-1900],Y=[parseInt("0x"+J.substr(0,5)).toString(),parseInt("0x"+J.substr(5,5)).toString(),parseInt("0x"+J.substr(10,5)).toString(),parseInt("0x"+J.substr(15,5)).toString(),parseInt("0x"+J.substr(20,5)).toString(),parseInt("0x"+J.substr(25,5)).toString()],X=[Y[0].substr(0,1),Y[0].substr(1,2),Y[0].substr(3,1),Y[0].substr(4,2),Y[1].substr(0,1),Y[1].substr(1,2),Y[1].substr(3,1),Y[1].substr(4,2),Y[2].substr(0,1),Y[2].substr(1,2),Y[2].substr(3,1),Y[2].substr(4,2),Y[3].substr(0,1),Y[3].substr(1,2),Y[3].substr(3,1),Y[3].substr(4,2),Y[4].substr(0,1),Y[4].substr(1,2),Y[4].substr(3,1),Y[4].substr(4,2),Y[5].substr(0,1),Y[5].substr(1,2),Y[5].substr(3,1),Y[5].substr(4,2)];return parseInt(X[Q-1])},toChinaYear:function(Z){var Q=parseInt(Z/1e3),J=parseInt(Z%1e3/100),Y=parseInt(Z%100/10),X=Z%10;return z.nStr4[Q]+z.nStr4[J]+z.nStr4[Y]+z.nStr4[X]+""},toChinaMonth:function(Z){if(Z>12||Z<1)return-1;var Q=z.nStr3[Z-1];return Q+=""},toChinaDay:function(Z){var Q;switch(Z){case 10:Q="";break;case 20:Q="";break;case 30:Q="";break;default:Q=z.nStr2[Math.floor(Z/10)],Q+=z.nStr1[Z%10]}return Q},getAnimal:function(Z){return z.animals[(Z-4)%12]},solar2lunar:function(ue,se,B){if(ue<1900||ue>2100||ue==1900&&se==1&&B<31)return-1;if(ue)var Y=new Date(ue,parseInt(se)-1,B);else var Y=new Date;var X,be=0,re=0,ue=Y.getFullYear(),se=Y.getMonth()+1,B=Y.getDate(),W=(Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate())-Date.UTC(1900,0,31))/864e5;for(X=1900;X<2101&&W>0;X++)re=z.lYearDays(X),W-=re;W<0&&(W+=re,X--);var ae=new Date,V=!1;ae.getFullYear()==ue&&ae.getMonth()+1==se&&ae.getDate()==B&&(V=!0);var oe=Y.getDay(),me=z.nStr1[oe];oe==0&&(oe=7);var pe=X,be=z.leapMonth(X),ne=!1;for(X=1;X<13&&W>0;X++)be>0&&X==be+1&&ne==0?(--X,ne=!0,re=z.leapDays(pe)):re=z.monthDays(pe,X),ne==1&&X==be+1&&(ne=!1),W-=re;W==0&&be>0&&X==be+1&&(ne?ne=!1:(ne=!0,--X)),W<0&&(W+=re,--X);var Oe=X,Ce=W+1,ve=se-1,Ze=z.getTerm(ue,3),Ne=z.toGanZhi(ue-4),_e=new Date(ue,1,Ze).getTime();new Date(ue,ve,B).getTime()<_e&&(Ne=z.toGanZhi(ue-5));var je=z.getTerm(ue,2*se-1),Ie=z.getTerm(ue,2*se),Ve=z.toGanZhi(12*(ue-1900)+se+11);B>=je&&(Ve=z.toGanZhi(12*(ue-1900)+se+12));var bt=!1,xt="";je==B&&(bt=!0,xt=z.lunarTerm[2*se-2]),Ie==B&&(bt=!0,xt=z.lunarTerm[2*se-1]);var Pt=Date.UTC(ue,ve,1,0,0,0,0)/864e5+25567+10,fe=z.toGanZhi(Pt+B-1);return{lYear:pe,lMonth:Oe,lDay:Ce,animal:z.getAnimal(pe),yearCn:z.toChinaYear(pe),monthCn:(ne&&be===Oe?"":"")+z.toChinaMonth(Oe),dayCn:z.toChinaDay(Ce),cYear:ue,cMonth:se,cDay:B,gzYear:Ne,gzMonth:Ve,gzDay:fe,isToday:V,isLeap:ne,nWeek:oe,ncWeek:""+me,isTerm:bt,term:xt}},lunar2solar:function(Z,Q,J,Y){var X=z.leapMonth(Z);if(z.leapDays(Z),Y&&X!=Q||Z==2100&&Q==12&&J>1||Z==1900&&Q==1&&J<31)return-1;var re=z.monthDays(Z,Q);if(Z<1900||Z>2100||J>re)return-1;for(var ue=0,se=1900;se<Z;se++)ue+=z.lYearDays(se);for(var B=0,W=!1,se=1;se<Q;se++)B=z.leapMonth(Z),W||B<=se&&B>0&&(ue+=z.leapDays(Z),W=!0),ue+=z.monthDays(Z,se);Y&&(ue+=re);var ae=Date.UTC(1900,1,30,0,0,0),V=new Date(864e5*(ue+J-31)+ae),oe=V.getUTCFullYear(),me=V.getUTCMonth()+1,pe=V.getUTCDate();return z.solar2lunar(oe,me,pe)}};r.default=z,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(hy)),hy.exports}var F5=JQ();const QQ=di(F5),eee=zk({__proto__:null,default:QQ},[F5]);function CA(e){return typeof e=="object"&&e!==null}function tee(e){return CA(e)&&"default"in e}function nee(e){return CA(e)&&typeof e.lunar2solar=="function"}function ree(e){if(!CA(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function iee(e){const t=tee(e)?e.default:e;if(!nee(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const c=t.lunar2solar(r,i,a,o);return ree(c)}}}const aee=iee(eee);function Ui(e,t,n,r=4,i=0){const a=aee.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const EM=e=>e<10?`0${e}`:`${e}`;function ep(e){if(e.calendarType!=="lunar")return e;const t=Qm(e.birthDay??"");if(!t)return e;try{const n=Ui(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${EM(i)}${EM(a)}`,calendarType:"solar"}}catch{return e}}function MA(e){const t=e.mingSikType??"/",n=Qm(e.birthDay??"");if(!n){const P=e.corrected instanceof Date?e.corrected:new Date(NaN),M=typeof e.ganji=="string"?e.ganji:"",D=typeof e.ganjiText=="string"?e.ganjiText:M,$=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:P,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:M,ganjiText:D,dayStem:$}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const P=Ui(r,i,a,0,0);r=P.getFullYear(),i=P.getMonth()+1,a=P.getDate()}catch{}const o=pv(e.birthTime??""),c=!e.birthTime||e.birthTime===""||!o,u=c?4:o.hh,f=c?30:o.mm,m=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,f,0,0),g=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",v=Jm(p,m,g),w=c?"":v.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),_=at(v,m),E=kt(v,m),T=gt(v,t),N=c?null:za(v,t),O=[` : ${_} ${E} ${T}`,N?`${N}`:null].filter(Boolean).join(" ");return{corrected:v,correctedLocal:w,ganji:O,ganjiText:O,dayStem:T.charAt(0)}}function kM(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function tp(e){return(typeof e=="string"?e.trim():"")===""?"":""}function AM(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function oee(e){const t=AM(e.ganjiText)??AM(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=tp(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function Gy(e){const t={...e,birthDay:gv(e.birthDay??""),birthTime:e.birthTime===""?"":yv(e.birthTime??""),gender:tp(e.gender),dateObj:kM(e.dateObj,new Date),corrected:kM(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=MA(t),r={...t,...n};return{...r,dir:oee(r)}}function see(e){return e===""||e==="/"||e===""?e:"/"}function lee(e){return e==="lunar"?"lunar":"solar"}function cee(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function uee(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function PA(e,t){const r=gv(typeof e=="string"?e:""),i=Qm(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Ui(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function DA(e,t){if(t)return{ok:!0,value:""};const r=yv(typeof e=="string"?e:"");return pv(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function H5(e,t){const n=t?.requireName??!1,r=uee(e.name,n);if(!r.ok)return r;const i=lee(e.calendarType),a=PA(e.birthDay,i);if(!a.ok)return a;const o=DA(e.birthTime,e.unknownTime);if(!o.ok)return o;const c=see(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:tp(e.gender),sortOrder:e.sortOrder,birthPlace:cee(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:c,DayChangeRule:c===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:Gy(u)}}function Tl(e){const t=ep(e),n=Qm(t.birthDay??"");if(!n)throw new Error(`Invalid date: ${e.birthDay}`);const r=pv(t.birthTime??""),i=r?r.hh:0,a=r?r.mm:0,o=new Date(n.y,n.m-1,n.d,i,a,0,0);if(Number.isNaN(o.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const c=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="",u=t.birthPlace?.lon??127.5;return Jm(o,u,c)}function dee(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function hd(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),c=a.localeCompare(o);return c!==0?c:t.id.localeCompare(n.id)})}function _E(e){if(!dee(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function G5(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:gv(e.birth_day??""),birthTime:yv(e.birth_time??""),gender:tp(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return Gy(i)}function fee(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function TM(e,t){const n=gv(e.birthDay??""),r=yv(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:tp(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const wE="hm_session_started_at_ms",hee=7200*1e3;function q5(){return typeof window>"u"?null:window.localStorage}function mee(){const e=q5();if(!e)return Date.now();const t=e.getItem(wE),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(wE,String(r)),r}function pee(e=Date.now()){const t=q5();if(t)try{t.setItem(wE,String(e))}catch{}}function gee(e=Date.now()){const t=mee();return e-t>=hee}const h0="myeongsik-list";function yee(e){try{return JSON.parse(e)}catch{return null}}async function bee(e){if(typeof window>"u")return;const t=window.localStorage.getItem(h0);if(!t)return;const n=yee(t);if(!n){window.localStorage.removeItem(h0);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(h0);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),c=new Set(o.map(f=>f.id)),u=i.filter(f=>!!f&&typeof f.id=="string"&&f.id.trim()!==""&&!c.has(f.id));for(const f of u)await e.upsertOne(a.id,f);window.localStorage.removeItem(h0)}const vee=250;function xee(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function _ee(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function wee(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const c=n;if(n=null,c.key&&c.key===i){c.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),c.resolve();continue}await e.upsertOrderPatch(u.id,c.list),i=c.key,c.resolve()}}finally{r=!1}}}_ee(()=>{a()});function o(c,u){const f=xee(c);if(f&&f===i&&!n)return Promise.resolve();if(n)n.key=f,n.list=c;else{let m;const p=new Promise(g=>{m=g});n={key:f,list:c,promise:p,resolve:m}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},vee),n.promise)}return{queue:o,flushNow:a}}const ai="__UNASSIGNED__",See=[" ",""],Od=e=>typeof e=="string"?e.trim():"",Eee=e=>See.includes(e);function gd(e,t){const n=[],r=[];for(const i of e){const a=Od(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function RA(e,t){const n=new Set(t.map(o=>Od(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,c)=>{i[o]||(i[o]=[]),i[o].push(c)};for(const o of e){const c=String(o.id??"");if(!c||r.has(c))continue;r.add(c);const u=Od(o.folder),f=!u||Eee(u)?ai:n.has(u)?u:ai;a(f,o)}i[ai]||(i[ai]=[]);for(const o of t){const c=Od(o);c&&(i[c]||(i[c]=[]))}return i}function Y5(e,t){const n=[];for(const i of t){const a=Od(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[ai];return Array.isArray(r)&&r.length&&n.push(...r),n}function kee(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=RA(t,n),o=r.droppableId===ai?ai:r.droppableId,c=i.droppableId===ai?ai:i.droppableId,u=[...a[o]??[]],f=o===c?u:[...a[c]??[]],m=u[r.index];if(!m)return{nextList:t,changedIds:[]};u.splice(r.index,1);const p=Math.max(0,Math.min(i.index,f.length));o===c?u.splice(p,0,m):f.splice(p,0,m);const g=String(m.id),v=new Set([g]),w={...m,folder:c===ai?"":c};return a[o]=u,a[c]=o===c?u:f,a[c]=(a[c]??[]).map(_=>String(_.id)===g?w:_),{nextList:Y5(a,n),changedIds:Array.from(v)}}function Aee(e){const{list:t,targetId:n,orderedFolders:r}=e,i=RA(t,r);let a=null,o=null;const c=[...r.map(v=>Od(v)),ai].filter(Boolean);for(const v of c){const w=i[v]??[],_=w.findIndex(E=>String(E.id)===n);if(_>=0){a=v,o=w[_]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],f=u.findIndex(v=>String(v.id)===n);if(f<0)return{nextList:t,nextItem:null};const m=u[f],p=!m.favorite,g={...m,favorite:p};return u.splice(f,1),p?u.unshift(g):u.push(g),i[a]=u,{nextList:Y5(i,r),nextItem:g}}function Tee(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[];return{nextList:t.map(o=>(o.folder??"").trim()!==r?o:(i.push(String(o.id)),{...o,folder:""})),changedIds:i}}function K5(e){return e.trim().length>0}const Nh=e=>e.toLowerCase().replace(/\s+/g," ").trim(),Oee=e=>e.replace(/\D/g,""),jee=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=Oee(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},Nee=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},Cee=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},OM=(e,t,n)=>{const r=Nh(t);if(!r)return!0;const i=Nh(typeof e.name=="string"?e.name:""),a=jee(e).map(Nh),o=Nee(e).map(Nh),c=Cee(e).map(Nh),u=m=>m.includes(r),f=m=>m.some(u);switch(n){case"name":return u(i);case"birth":return f(a);case"ganji":return f(o);case"memo":return f(c);case"all":default:return u(i)||f(a)||f(o)||f(c)}};function Mee(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!K5(t)){const f={};for(const m of r){const p=typeof m=="string"?m.trim():"";p&&(f[p]=i[p]??[])}return{filteredGrouped:f,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((m,p)=>m+(i[p]?.length??0),0)}}const o={};let c=0;for(const f of r){const m=typeof f=="string"?f.trim():"";if(!m)continue;const g=(i[m]??[]).filter(v=>OM(v,t,n));o[m]=g,c+=g.length}const u=(a??[]).filter(f=>OM(f,t,n));return c+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:c}}function Pee(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??ai).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??ai).toString(),index:e.destinationIndex}}}function Dee(e,t){const n=String(t.eventType??""),r=_E(t.new),i=_E(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(f=>f.id!==a.id);const o=G5(a),u=e.some(f=>f.id===o.id)?e.map(f=>f.id===o.id?o:f):[...e,o];return hd(u)}async function Ree(e){if(!e)return;const t=Le;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function Lee(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function Iee(){return{async getUser(){const{data:e,error:t}=await Le.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await Le.from("myeongsik").select(Lee()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>_E(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=TM(t,e),{error:r}=await Le.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=TM(n,e),{error:i}=await Le.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await Le.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>fee(i,e)),{error:r}=await Le.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=Le.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await Ree(r)}}}}}function $ee(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function yd(e){if(!e)return"FREE";const t=$ee(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function qy(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const m0={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function Bee(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function jM(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function NM(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function zee(e){return e?e.can_use_myo_viewer===!0:!1}async function Uee(e){const{data:t,error:n}=await Le.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const ci=au((e,t)=>({loaded:!1,loading:!1,userId:null,...m0,reset:()=>{e({loaded:!1,loading:!1,userId:null,...m0})},loadFromServer:async()=>{e({loading:!0});try{const{data:n,error:r}=await Le.auth.getUser();if(r){e({loaded:!0,loading:!1,userId:null,...m0});return}const i=n.user?.id??null;if(!i){e({loaded:!0,loading:!1,userId:null,...m0});return}const a=await Uee(i);if(!a){const _=qy("FREE");e({loaded:!0,loading:!1,userId:i,plan:"FREE",maxMyeongsik:_.maxMyeongsik===null?9999:_.maxMyeongsik,canManageMyeongsik:_.canManageMyeongsik,canUseLuckTabs:_.canUseLuckTabs,canUseMultiMode:_.canUseMultiMode,canUseAllPrompts:_.canUseAllPrompts,canUseAdvancedReport:_.canUseAdvancedReport,canRemoveAds:_.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const o=jM(a.starts_at??null),c=jM(a.expires_at??null),u=NM(o,c),f=yd(a.plan??null),m=u?f:"FREE",p=qy(m),g=p.maxMyeongsik===null?9999:p.maxMyeongsik,v=Bee(a.max_myeongsik,g),w=Math.max(1,Math.max(v,g));e({loaded:!0,loading:!1,userId:i,plan:m,maxMyeongsik:w,canManageMyeongsik:p.canManageMyeongsik,canUseLuckTabs:p.canUseLuckTabs,canUseMultiMode:p.canUseMultiMode,canUseAllPrompts:p.canUseAllPrompts,canUseAdvancedReport:p.canUseAdvancedReport,canRemoveAds:p.canRemoveAds,canUseMyoViewer:zee(a),startsAt:o,expiresAt:c})}finally{e({loading:!1})}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return NM(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,c=Math.floor(a/60),u=c%24,f=Math.floor(c/24),m=[];return f>0&&m.push(`${f}`),u>0&&m.push(`${u}`),f===0&&o>0&&m.push(`${o}`),m.length===0&&m.push(`${i}`),m.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),Ti=Iee(),Fee=wee(Ti);function td(){const t=ci.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function Hee(e){const n=ci.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}const Br=au((e,t)=>({loading:!1,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(gee()){pee(Date.now()),window.location.reload();return}const n=await Ti.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Ti.subscribe(n.id,i=>{e(a=>({list:Dee(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{e({loading:!0});try{const n=await Ti.getUser();if(!n){e({list:[],currentId:null}),await t().stopRealtime();return}const r=await Ti.fetchRows(n.id),i=hd(r.map(G5)),a=t().currentId,o=a&&i.some(c=>c.id===a)?a:i[0]?.id??null;e({list:i,currentId:o}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}},migrateLocalToServer:async()=>{try{await bee(Ti)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Ti.getUser();if(!r)return;const i=t().list.length;if(!Hee(i))return;const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},c=Gy(o);e(u=>({list:hd([...u.list,c]),currentId:u.currentId??c.id})),await Ti.upsertOne(r.id,c)},update:async(n,r)=>{if(!td())return;const i=t().list.find(c=>c.id===n);if(!i)return;const a=Gy({...i,...r});e(c=>({list:hd(c.list.map(u=>u.id===n?a:u))}));const o=await Ti.getUser();o&&await Ti.updateOne(o.id,n,a)},remove:async n=>{td()&&(e(r=>{const i=r.list.filter(o=>o.id!==n),a=r.currentId===n?i[0]?.id??null:r.currentId;return{list:i,currentId:a}}),await Ti.softDelete(n))},moveItemByDnD:async n=>{if(!td())return;const{list:r}=t(),i=Pee(n),o=kee({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o}),await t().reorder(o)},toggleFavoriteWithReorder:async(n,r)=>{if(!td())return;const{list:i}=t(),o=Aee({list:i,targetId:n,orderedFolders:r}).nextList;e({list:o}),await t().reorder(o)},unsetFolderForFolder:async n=>{if(!td())return;const r=(n??"").trim();if(!r)return;const i=t().list,a=Tee({list:i,folderName:r}),o=hd(a.nextList),c=new Set(a.changedIds);if(c.size===0)return;e({list:o});const u=await Ti.getUser();if(!u)return;const f=o.filter(m=>c.has(m.id));await Ti.upsertOrderPatch(u.id,f)},reorder:async n=>{if(!td())return;const r=n.map((a,o)=>({...a,sortOrder:o+1})),i=hd(r);e({list:i}),await Fee.queue(i)},clear:()=>{e({currentId:null,list:[]})}})),CM="__custom__",MM=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],W5=({value:e,onChange:t})=>{const[n,r]=S.useState(MM),[i,a]=S.useState(""),[o,c]=S.useState(!1),[u,f]=S.useState(""),[m,p]=S.useState(!1),{list:g}=Br(),w=(e??i??"").trim()==="",E=g.some(M=>(M.relationship??"").trim()==="")&&!w?n.filter(M=>M.value!==""):n;S.useEffect(()=>{e!==void 0&&a(e)},[e]);const T=M=>{const D=M.target.value;D===CM?(c(!0),a(""),t?.("")):(c(!1),f(""),a(D),t?.(D))};S.useEffect(()=>{const M=localStorage.getItem("relationshipOptions");M&&r(JSON.parse(M))},[]),S.useEffect(()=>{(async()=>{const{data:{user:D},error:$}=await Le.auth.getUser();if($||!D)return;const{data:H,error:q}=await Le.from("user_settings").select("payload").eq("user_id",D.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const K=H?.payload?.relationshipOptions;if(!Array.isArray(K))return;const F=K.map(z=>z&&typeof z=="object"&&typeof z.value=="string"&&typeof z.label=="string"?{value:z.value,label:z.label}:typeof z=="string"?{value:z,label:z}:null).filter(z=>!!z);F.length&&r(z=>{const Z=new Set,Q=[...F,...z,...MM].filter(J=>Z.has(J.value)?!1:(Z.add(J.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(Q)),Q})})()},[]),S.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:D},error:$}=await Le.auth.getUser();if($||!D)return;const{data:H,error:q}=await Le.from("user_settings").select("payload").eq("user_id",D.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const K={...H?.payload??{},relationshipOptions:n},{error:F}=await Le.from("user_settings").upsert({user_id:D.id,payload:K,updated_at:new Date().toISOString()});F&&console.error("save relationships settings error",F.message)})()},[n]);const N=()=>{const M=u.trim();if(!M)return;const D={value:M,label:M};r($=>[...$,D]),a(M),t?.(M),f(""),c(!1)},O=M=>{r(n.filter(D=>D.value!==M)),i===M&&a("")},P=M=>{if(!M.destination)return;const D=Array.from(n),[$]=D.splice(M.source.index,1);D.splice(M.destination.index,0,$),r(D)};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"rel_set flex items-center gap-2",children:[x.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:T,children:[x.jsx("option",{value:"",hidden:!0,children:""}),E.map(M=>x.jsx("option",{value:M.value,children:M.label},M.value)),x.jsx("option",{value:CM,children:" "})]}),x.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),o&&!m&&x.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[x.jsx("input",{type:"text",placeholder:" ",value:u,onChange:M=>f(M.target.value)}),x.jsx("button",{type:"button",onClick:N,className:"btn_style",children:""})]}),m&&x.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[x.jsx("h4",{className:"font-bold mb-2",children:" "}),x.jsx(Xm,{onDragEnd:P,children:x.jsx(lf,{droppableId:"relList",children:M=>x.jsxs("ul",{ref:M.innerRef,...M.droppableProps,className:"space-y-1",children:[n.map((D,$)=>x.jsx(sf,{draggableId:D.value,index:$,children:H=>x.jsxs("li",{ref:H.innerRef,...H.draggableProps,...H.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[x.jsx("span",{className:"cursor-grab mr-2",children:""}),x.jsx("span",{className:"flex-1 pr-1",children:D.label}),x.jsx("button",{type:"button",className:"text-red-500",onClick:()=>O(D.value),children:""})]})},D.value)),M.placeholder]})})}),x.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},dn=" ",V5=["","","","","",""],Z5="ms_folders",X5="ms_folder_order",PM="ms_folder_favs",SE="ms_disabled_presets",Ol="myeoun:folder-updated";function Gc(e){if(e!==dn)return e||void 0}function bv(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function LA(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function Gee(){const e=bv(SE);return V5.filter(t=>!e.includes(t))}function IA(){return bv(Z5)}function $A(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];LA(Z5,t),typeof window<"u"&&window.dispatchEvent(new Event(Ol))}function Yy(){const e=Gee(),t=IA(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function qee(){return[dn,...Yy()]}function J5(e){const t=e.trim();if(!t||t===dn)return;const n=IA();if(n.includes(t))return;const r=[...n,t];$A(r)}function Yee(e){const t=IA(),n=t.filter(r=>r!==e);n.length!==t.length&&$A(n)}function Kee(e){const t=bv(SE);if(t.includes(e))return;const n=[...t,e];LA(SE,n),typeof window<"u"&&window.dispatchEvent(new Event(Ol))}function Ky(){return bv(X5)}function bd(e){LA(X5,e),typeof window<"u"&&window.dispatchEvent(new Event(Ol))}function om(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function Wee(e){return Array.from(new Set(e))}function p0(e){const t=e.filter(n=>n!==dn);return{rest:t,withUnassigned:[dn,...t]}}function Vee(e,t){return om(t,e)}function Zee({value:e,onChange:t}){const[n,r]=S.useState([dn]),[i,a]=S.useState(!1),[o,c]=S.useState(""),[u,f]=S.useState(!1),m=S.useCallback(async E=>{const{data:{user:T},error:N}=await Le.auth.getUser();if(N||!T)return;const O=E.map((M,D)=>({user_id:T.id,folder_name:M,sort_order:D+1,updated_at:new Date().toISOString()})),{error:P}=await Le.from("user_folder_order").upsert(O,{onConflict:"user_id,folder_name"});P&&console.error("save folder order error",P.message)},[]),p=S.useCallback(()=>{if(typeof window>"u")return;const E=Wee(qee()),T=E.includes(dn)?E:[dn,...E],{rest:N}=p0(T),O=Ky(),P=Vee(O,N),M=[dn,...P];r(M),O.length===P.length&&O.every(($,H)=>$===P[H])||(bd(P),m(P))},[m]);S.useEffect(()=>{if(p(),typeof window<"u"){const E=()=>p();return window.addEventListener(Ol,E),()=>window.removeEventListener(Ol,E)}},[p]);const g=S.useMemo(()=>e||dn,[e]),v=E=>{const{rest:T}=p0(E);bd(T),m(T)},w=E=>{const{source:T,destination:N}=E;if(!N||N.index===T.index)return;const{rest:O}=p0(n),P=Array.from(O),[M]=P.splice(T.index,1);P.splice(N.index,0,M);const D=[dn,...P];r(D),v(D)},_=E=>{const T=Gc(E);T&&(J5(T),p())};return x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":g,onChange:E=>{const T=E.target.value;if(T==="__custom__"){a(!0),t(void 0);return}a(!1),t(Gc(T))},children:[n.map(E=>x.jsx("option",{value:E,children:E},E)),x.jsx("option",{value:"__custom__",children:"+   "})]}),x.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>f(E=>!E),children:u?" ":" "})]}),i&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"text",value:o,onChange:E=>c(E.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),x.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const E=o.trim();E&&(_(E),t(Gc(E)),a(!1),c(""))},children:""})]}),u&&x.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[x.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),x.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[x.jsx("span",{className:"opacity-60 select-none",children:""}),x.jsxs("span",{className:"flex-1 px-2",children:[dn," ()"]})]}),x.jsx(Xm,{onDragEnd:w,children:x.jsx(lf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:E=>x.jsxs("ul",{ref:E.innerRef,...E.droppableProps,className:"space-y-1",children:[p0(n).rest.map((T,N)=>x.jsx(sf,{draggableId:T,index:N,children:O=>x.jsxs("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[x.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),x.jsx("span",{className:"flex-1 pr-1",children:T})]})},T)),E.placeholder]})})})]}),x.jsxs("p",{className:"text-xs text-gray-500",children:['   "',dn,'" .      .']})]})}function Q5({message:e,onClose:t,ms:n=2e3}){return S.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),x.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const DM=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Xee=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Jee=["","/",""],Qee=["",""],e4={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function ete(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function tte(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function nte(){const[e,t]=S.useState(0),[n,r]=S.useState({...e4}),[i,a]=S.useState(null),[o,c]=S.useState(!1),[u,f]=S.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:c,unknownPlace:u,setUnknownPlace:f}}function rte({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){S.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function ite(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Ui(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function ate(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):dn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function ote({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=DM[r],a=S.useMemo(()=>ite(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:DM,currentStep:i,lunarPreview:a,displayValue:c=>ate(c,e,t,n),CALENDAR_OPTIONS:Xee,MING_OPTIONS:Jee,GENDER_OPTIONS:Qee,nextIndex:ete,focusById:tte,isDST:Hy}}function ste(){return{add:Br(t=>t.add)}}const mr=[];for(let e=0;e<256;++e)mr.push((e+256).toString(16).slice(1));function lte(e,t=0){return(mr[e[t+0]]+mr[e[t+1]]+mr[e[t+2]]+mr[e[t+3]]+"-"+mr[e[t+4]]+mr[e[t+5]]+"-"+mr[e[t+6]]+mr[e[t+7]]+"-"+mr[e[t+8]]+mr[e[t+9]]+"-"+mr[e[t+10]]+mr[e[t+11]]+mr[e[t+12]]+mr[e[t+13]]+mr[e[t+14]]+mr[e[t+15]]).toLowerCase()}let Bw;const cte=new Uint8Array(16);function ute(){if(!Bw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Bw=crypto.getRandomValues.bind(crypto)}return Bw(cte)}const dte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),RM={randomUUID:dte};function t4(e,t,n){if(RM.randomUUID&&!e)return RM.randomUUID();e=e||{};const r=e.random??e.rng?.()??ute();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,lte(r)}function fte(e,t,n){const r=Gc(e.folder);return H5({id:t4(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function hte(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=PA(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=DA(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function mte({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:c,unknownPlace:u,setUnknownPlace:f,setToast:m,onSave:p}){const{add:g}=ste(),v=S.useCallback(()=>{const _=hte(a,e,o,u);if(!_.ok){m(_.message??" .");return}if(_.nextForm&&(t(_.nextForm),_.message&&m(_.message)),n<i-1){r(n+1);return}const E=fte(e,o,u);if(!E.ok){m(E.message);return}const T=E.value;g(T),p(T),m(" !"),t({...e4}),c(!1),f(!1),r(0)},[a,e,o,u,m,t,n,i,r,g,p,c,f]),w=S.useCallback(_=>{if(_.key!=="Enter")return;const E=_.target,T=E.getAttribute("role");if(T==="radio"||T==="checkbox")return;const N=document.getElementById("mapModal");if(N&&N.contains(E))return;const O=E.tagName.toLowerCase(),P=E instanceof HTMLInputElement?E.type:"";if(O==="textarea"){if(_.shiftKey)return;_.preventDefault(),v();return}if(P==="radio"||P==="checkbox"){_.preventDefault(),E instanceof HTMLInputElement&&E.click();return}O==="button"&&E.type!=="submit"||(_.preventDefault(),v())},[v]);return{handleNext:v,handleFormKeyDown:w}}function pte({onSave:e}){const t=nte(),n=ote({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});rte({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=mte({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function gte({onSave:e,onClose:t}){const n=pte({onSave:e});return x.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&x.jsx(Q5,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>x.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[x.jsx("span",{className:"font-semibold",children:r.label}),x.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),x.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:x.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[x.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&x.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex gap-1 items-center",children:[x.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),x.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),x.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:c=>{if(c.stopPropagation(),c.key===" "||c.key==="Enter"){c.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(c.key))return;c.preventDefault();const f=n.CALENDAR_OPTIONS.findIndex(g=>g.value===n.form.calendarType),m=n.nextIndex(f<0?0:f,n.CALENDAR_OPTIONS.length,c.key),p=n.CALENDAR_OPTIONS[m].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[m].id}_lbl`)},onClick:c=>{c.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&x.jsx("div",{className:"flex items-center justify-end",children:x.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?x.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),x.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&x.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),x.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",f=n.MING_OPTIONS.indexOf(u),m=n.nextIndex(f,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[m];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&x.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),x.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",f=n.GENDER_OPTIONS.indexOf(u),m=n.nextIndex(f,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[m];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx(OB,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),x.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&x.jsx(W5,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&x.jsx(Zee,{value:Gc(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&x.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),x.jsxs("div",{className:"flex justify-between gap-2",children:[x.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),x.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var g0={},LM;function yte(){if(LM)return g0;LM=1,g0.match=a,g0.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(m,p){return o(m).some(function(g){var v=g.inverse,w=g.type==="all"||p.type===g.type;if(w&&v||!(w||v))return!1;var _=g.expressions.every(function(E){var T=E.feature,N=E.modifier,O=E.value,P=p[T];if(!P)return!1;switch(T){case"orientation":case"scan":return P.toLowerCase()===O.toLowerCase();case"width":case"height":case"device-width":case"device-height":O=f(O),P=f(P);break;case"resolution":O=u(O),P=u(P);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":O=c(O),P=c(P);break;case"grid":case"color":case"color-index":case"monochrome":O=parseInt(O,10)||1,P=parseInt(P,10)||0;break}switch(N){case"min":return P>=O;case"max":return P<=O;default:return P===O}});return _&&!v||!_&&v})}function o(m){return m.split(",").map(function(p){p=p.trim();var g=p.match(e),v=g[1],w=g[2],_=g[3]||"",E={};return E.inverse=!!v&&v.toLowerCase()==="not",E.type=w?w.toLowerCase():"all",_=_.match(/\([^\)]+\)/g)||[],E.expressions=_.map(function(T){var N=T.match(t),O=N[1].toLowerCase().match(n);return{modifier:O[1],feature:O[2],value:N[2]}}),E})}function c(m){var p=Number(m),g;return p||(g=m.match(/^(\d+)\s*\/\s*(\d+)$/),p=g[1]/g[2]),p}function u(m){var p=parseFloat(m),g=String(m).match(i)[1];switch(g){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function f(m){var p=parseFloat(m),g=String(m).match(r)[1];switch(g){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return g0}var zw,IM;function bte(){if(IM)return zw;IM=1;var e=yte().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var c=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=f,this.removeListener=m,this.dispose=g;function f(v){u&&u.addListener(v)}function m(v){u&&u.removeListener(v)}function p(v){c.matches=v.matches,c.media=v.media}function g(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return zw=r,zw}var vte=bte();const xte=di(vte);var _te=/[A-Z]/g,wte=/^ms-/,Uw={};function Ste(e){return"-"+e.toLowerCase()}function n4(e){if(Uw.hasOwnProperty(e))return Uw[e];var t=e.replace(_te,Ste);return Uw[e]=wte.test(t)?"-"+t:t}function Ete(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var Fw={exports:{}},Hw,$M;function kte(){if($M)return Hw;$M=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hw=e,Hw}var Gw,BM;function Ate(){if(BM)return Gw;BM=1;var e=kte();function t(){}function n(){}return n.resetWarningCache=t,Gw=function(){function r(o,c,u,f,m,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Gw}var zM;function Tte(){return zM||(zM=1,Fw.exports=Ate()()),Fw.exports}var Ote=Tte();const Ot=di(Ote),Dr=Ot.oneOfType([Ot.string,Ot.number]),r4={all:Ot.bool,grid:Ot.bool,aural:Ot.bool,braille:Ot.bool,handheld:Ot.bool,print:Ot.bool,projection:Ot.bool,screen:Ot.bool,tty:Ot.bool,tv:Ot.bool,embossed:Ot.bool},jte={orientation:Ot.oneOf(["portrait","landscape"]),scan:Ot.oneOf(["progressive","interlace"]),aspectRatio:Ot.string,deviceAspectRatio:Ot.string,height:Dr,deviceHeight:Dr,width:Dr,deviceWidth:Dr,color:Ot.bool,colorIndex:Ot.bool,monochrome:Ot.bool,resolution:Dr,type:Object.keys(r4)},{type:vOe,...Nte}=jte,Cte={minAspectRatio:Ot.string,maxAspectRatio:Ot.string,minDeviceAspectRatio:Ot.string,maxDeviceAspectRatio:Ot.string,minHeight:Dr,maxHeight:Dr,minDeviceHeight:Dr,maxDeviceHeight:Dr,minWidth:Dr,maxWidth:Dr,minDeviceWidth:Dr,maxDeviceWidth:Dr,minColor:Ot.number,maxColor:Ot.number,minColorIndex:Ot.number,maxColorIndex:Ot.number,minMonochrome:Ot.number,maxMonochrome:Ot.number,minResolution:Dr,maxResolution:Dr,...Nte},Mte={...r4,...Cte};var Pte={all:Mte};const Dte=e=>`not ${e}`,Rte=(e,t)=>{const n=n4(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?Dte(n):`(${n}: ${t})`},Lte=e=>e.join(" and "),Ite=e=>{const t=[];return Object.keys(Pte.all).forEach(n=>{const r=e[n];r!=null&&t.push(Rte(n,r))}),Lte(t)},$te=S.createContext(void 0),Bte=e=>e.query||Ite(e),UM=e=>e?Object.keys(e).reduce((n,r)=>(n[n4(r)]=e[r],n),{}):void 0,i4=()=>{const e=S.useRef(!1);return S.useEffect(()=>{e.current=!0},[]),e.current},zte=e=>{const t=S.useContext($te),n=()=>UM(e)||UM(t),[r,i]=S.useState(n);return S.useEffect(()=>{const a=n();Ete(r,a)||i(a)},[e,t]),r},Ute=e=>{const t=()=>Bte(e),[n,r]=S.useState(t);return S.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},Fte=(e,t)=>{const n=()=>xte(e,t||{},!!t),[r,i]=S.useState(n),a=i4();return S.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},Hte=e=>{const[t,n]=S.useState(e.matches);return S.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},Gte=(e,t,n)=>{const r=zte(t),i=Ute(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=Fte(i,r),o=Hte(a);return i4(),S.useEffect(()=>{},[o]),S.useEffect(()=>()=>{a&&a.dispose()},[]),o},a4={Classic:"",Modern:""};function Oo(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function qte(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function Yte(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function Kte(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function Wte(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function jo(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?qte(t,n):Yte(t,n):i?Kte(t,n):Wte(t,n)}const ui=au()(a$((e,t)=>{const n=new Date,r="/",i=127.5,a=i,o=at(n,a),c=kt(n,a),u=gt(n,r);return{date:n,scope:"",rule:r,lon:i,yearGZ:o,monthGZ:c,dayGZ:u,setDate:f=>{const{rule:m,lon:p}=t(),g=typeof p=="number"?p:void 0;e({date:f,yearGZ:at(f,g),monthGZ:kt(f,g),dayGZ:gt(f,m)})},resetDate:()=>{const{rule:f,lon:m}=t(),p=new Date,g=typeof m=="number"?m:void 0;e({date:p,yearGZ:at(p,g),monthGZ:kt(p,g),dayGZ:gt(p,f)})},resetMonth:()=>{const{lon:f}=t(),m=new Date;e({date:m,monthGZ:kt(m,typeof f=="number"?f:void 0)})},setScope:f=>e({scope:f}),setRule:f=>{const{date:m,lon:p}=t(),g=typeof p=="number"?p:void 0;e({rule:f,yearGZ:at(m,g),monthGZ:kt(m,g),dayGZ:gt(m,f)})},setLon:f=>{const{date:m,rule:p}=t(),g=typeof f=="number"?f:void 0;e({lon:f,yearGZ:at(m,g),monthGZ:kt(m,g),dayGZ:gt(m,p)})},setFromEvent:(f,m)=>{const{rule:p,lon:g}=t(),v=typeof g=="number"?g:void 0;e({date:f.at,scope:m,yearGZ:at(f.at,v),monthGZ:kt(f.at,v),dayGZ:gt(f.at,p)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),Vte=60*1e3,Zte=60*Vte,Xte=24*Zte,Jte=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},EE=e=>{const t=new Date(e);return t.setSeconds(0,0),t},Qte={DAY:Xte},da=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(c=>({name:c.name,date:Un(t,c.deg)})).concat([{name:r.name,date:Un(t+1,r.deg)},{name:"",date:Un(t+1,285)}]),a=Un(t,315),o=Un(t+1,315);return i.filter(c=>c.date>=a&&c.date<o).sort((c,u)=>c.date.getTime()-u.date.getTime())},o4=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${$r[t%10]}${si[t%12]}`);return e})(),ene=e=>{const t=o4.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},Wy=(e,t,n=1)=>{const r=ene(e),i=t==="forward"?n:-n;return o4[(r+i+60*1e3)%60]},tne=(e,t,n)=>{const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const o=new Date(a);o.setHours(i+2,0,0,0);const c=e.getTime()-a.getTime(),u=o.getTime()-e.getTime();return t==="backward"?c:u},s4=(e,t,n,r=120,i="/")=>{const a=EE(e),o=tne(a,n,i),c=EE(new Date(a.getTime()+o*120)),u=Jte(e,r).getTime(),f=[];let m=Wy(t,n,1);for(let p=c.getTime();p<=u;p+=10*Qte.DAY)f.push({at:new Date(p),gz:m}),m=Wy(m,n,1);return{firstChange:c,events:f}},l4=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},c4=(e,t,n,r)=>{const i=l4(r,n);let a=t;const o=[];for(const c of e.events){const u=c.gz.charAt(1);i(u)&&(a=Wy(a,n,1),o.push({at:c.at,gz:a}))}return{events:o}},nne={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},rne={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ine=e=>nne[e]??("".includes(e)?e:null),ane=e=>rne[e]??("".includes(e)?e:null),FM=e=>{const t=ine(e[0]),n=ane(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`},one=e=>Math.floor((e.getHours()+1)%24/2),qw=e=>["","","","","","","","","","","",""][one(e)],sne=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=$r.indexOf(r),o=si.indexOf(i),c=t==="forward"?n:-n,u=(a+c%10+10)%10,f=(o+c%12+12)%12;return $r[u]+si[f]},np=(e,t,n,r=120,i)=>{const a=da(e).sort((_,E)=>_.date.getTime()-E.date.getTime());let o;if(n==="forward"){const _=a.findIndex(E=>E.date>=e);_>=0&&(o=a[_].date)}else{const _=a.filter(E=>E.date<=e);_.length&&(o=_[_.length-1].date)}const c=(_,E)=>{const T=qw(_),N={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},O=N[T],P=(O+2)%24,M=new Date(_);if(M.setSeconds(0,0),n==="backward"&&E){const $=qw(E),H=N[$],q=new Date(E);return q.setHours(H,0,0,0),q}if(n==="forward"&&E){const $=qw(E),H=N[$],q=new Date(E);if(q.setHours(H,0,0,0),q>M)return q}const D=new Date(M);return n==="forward"?(D.setHours(P,0,0,0),D<=M&&D.setDate(D.getDate()+1)):(D.setHours(O,0,0,0),D>=M&&D.setDate(D.getDate()-1)),D},u=FM(kt(e,127.5)),f=c(e,o),m=Math.floor(n==="forward"?(f.getTime()-e.getTime())/6e4:(e.getTime()-f.getTime())/6e4),p=Math.round(m/120*(14400*60*1e3));let g=new Date(e.getTime()+p);try{const _=FM(kt(e,i));(n==="forward"&&u!==_||n==="backward"&&u!==_)&&(g=new Date(e.getTime()+6e4))}catch{}const v=r/10,w=[];for(let _=0;_<v;_+=1){const E=new Date(g);E.setFullYear(E.getFullYear()+_*10),E.setSeconds(0,0);const T=sne(t,n,_+1);w.push({at:E,gz:T})}return{natalMonthPillar:t,firstChange:g,mPillars:[],events:w}},lne=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},u4=(e,t,n,r,i)=>{const a=l4(r,n);let o=t;const c=[];for(const u of e.events){const f=u.gz.charAt(1);a(f)&&(o=Wy(o,n,1),c.push({at:u.at,gz:o,age:lne(i,u.at)}))}return{events:c}},cne=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},vv=e=>{const t=cne(e),n=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",r=Jm(t,e.birthPlace?.lon??null,n);return EE(r)},BA=(e,t)=>{const n=e.birthPlace?.lon??127.5,r=vv(e),i=gt(r,t),a=za(r,t,i.charAt(0));return{year:at(r,n),month:kt(r,n),day:i,hour:a}},une=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${$r[t%10]}${si[t%12]}`);return e})(),dne=e=>une.indexOf(e),Yw=e=>{if(dne(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function fne(e,t="/"){const n=S.useMemo(()=>ep(e),[e]),r=S.useMemo(()=>vv(n),[n]),i=S.useMemo(()=>BA(n,t),[n,t]);return S.useMemo(()=>{const a=np(r,i.month,n.dir,120,n?.birthPlace?.lon??127.5),o=new Date;function c(O,P){let M=null;const D=P.getTime();for(const $ of O)if($.at.getTime()<=D)M=$;else break;return M}const u=c(a.events,o)?.gz??i.month,f=Yw(u),m=o.getFullYear(),p=Un(m,315),v=p&&o>=p?m:m-1,w=at(new Date(v,1,10,0,0,0),127.5),_=Yw(w),E=kt(o,127.5),T=Yw(E),N=[];return T&&N.push({key:"wolun",label:"",data:T}),_&&N.push({key:"seun",label:"",data:_}),f&&N.push({key:"daeun",label:"",data:f}),N},[r,n.dir,i.month,n.birthPlace?.lon])}function ou(e,t="/",n=100){const r=S.useMemo(()=>ep(e),[e]),i=S.useMemo(()=>vv(r),[r]),a=S.useMemo(()=>BA(r,t),[r,t]),o=(c,u)=>{const f=u.getFullYear()-c.getFullYear(),m=u.getMonth()-c.getMonth(),p=u.getDate()-c.getDate(),g=m<0||m===0&&p<0?f-1:f;return Math.max(0,g)};return S.useMemo(()=>np(i,a.month,r.dir,n,r.birthPlace?.lon??127.5).events.map(u=>({...u,age:o(i,u.at)})),[i,a.month,r.dir,n,r.birthPlace?.lon])}function Kw(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function hne(e,t){if(!Array.isArray(e)||e.length===0||!Kw(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],c=n[a+1];if(!Kw(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!c||Kw(c.at)&&t.getTime()<c.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function zA(e,t,n){const{date:r,rule:i,lon:a}=ui(),o=S.useMemo(()=>n??r??new Date,[n,r]),c=ou(e,e?.mingSikType),{gz:u}=hne(c,o);return S.useMemo(()=>{try{const f=a??e?.birthPlace?.lon??127.5,m=i??e?.mingSikType??t??"/";return{dae:{gz:u,at:o},se:{gz:at(o,f),at:o},wol:{gz:kt(o,f),at:o},il:{gz:gt(o,m),at:o}}}catch{const f=new Date;return{dae:{gz:"",at:f},se:{gz:"",at:f},wol:{gz:"",at:f},il:{gz:"",at:f}}}},[o,i,a,e,t,u])}const un=["","","",""],ri={year:0,month:1,day:2,hour:3},HM=["","","",""],jd="",rp=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],d4=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],GM=[{name:"",members:["","",""]},{name:"",members:["","",""]}],mne={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},kE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function De(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=mne[r[1]]??r[1],a=kE[r[2]]??r[2];return`${i}${a}`}return""}const Vy=e=>e&&e.length>=1?e[0]:"",ji=e=>e&&e.length>=2?e[1]:"",UA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],FA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],HA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],GA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],qA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],YA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],KA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],WA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],VA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],ZA=[{pair:["",""],label:""}],XA=new Set(["","","",""]),Zy=new Set(["","","",""]),JA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],f4=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function ti(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function Kt(e,t){e.includes(t)||e.push(t)}const pne=e=>[...e].sort((t,n)=>t-n).map(t=>un[t]).join("X"),qM=(e,t)=>e===0&&t===3||e===3&&t===0;function gne(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function yne(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const h4=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function bne(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const vne=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function xne(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function m4(e){for(const t of vne){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!bne(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=xne(e.jijiHyeong),e}function _ne(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function wne(e,t){for(const n of rp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function YM(e,t,n){const r=_ne(e,n);if(r<0){Kt(e,t);return}const a=(e[r]??"").includes(jd),o=t.includes(jd);a&&!o&&(e[r]=t)}function QA(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[De(e[0]??""),De(e[1]??""),De(e[2]??""),De(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(g=>Vy(g)),c=i.map(g=>ji(g));function u(g,v){if(g===v)return;const w=o[g],_=o[v];if(!w||!_)return;const E=ti(UA,w,_);E&&Kt(a.cheonganHap,`#${un[g]}X${un[v]}_${E}`);const T=ti(FA,w,_);T&&Kt(a.cheonganChung,`#${un[g]}X${un[v]}_${T}`)}u(ri.year,ri.month),u(ri.month,ri.day),u(ri.day,ri.hour);function f(g,v,w,_,E=!0){const T=[],N=[];for(let P=0;P<4;P++)c[P]===g&&T.push(P),c[P]===v&&N.push(P);const O=gne(T,N);for(const[P,M]of O){const D=qM(P,M),$=`#${un[P]}X${un[M]}_${w}${D?jd:""}`;if(D){Kt(_,$);continue}E?YM(_,$,w):Kt(_,$)}}const m=(g,v)=>{for(const{pair:[w,_],label:E}of g)f(w,_,E,v)};m(HA,a.jijiYukhap),m(GA,a.jijiChung),m(qA,a.jijiPa),m(YA,a.jijiHae),m(KA,a.jijiWonjin),m(WA,a.jijiGwimun);for(const g of rp){if(!g.members.every(T=>c.includes(T)))continue;const w=[];for(let T=0;T<4;T++)g.members.includes(c[T])&&w.push(T);const _=w.includes(ri.year)&&w.includes(ri.hour),E=pne(w);Kt(a.jijiSamhap,`#${E}_${g.name}${_?jd:""}`)}for(const{pair:[g,v],label:w}of f4)wne(g,v)&&f(g,v,w,a.jijiBanhap,!1);for(const{pair:[g,v],label:w}of VA)f(g,v,w,a.jijiHyeong);for(const{pair:[g,v],label:w}of ZA)f(g,v,w,a.jijiHyeong);for(const g of XA){const v=c.map((w,_)=>w===g?_:-1).filter(w=>w>=0);if(!(v.length<2))for(const[w,_]of yne(v)){const E=qM(w,_),T=`#${un[w]}X${un[_]}_${g}${E?jd:""}`;YM(a.jijiHyeong,T,`${g}`)}}for(const{pair:[g,v],label:w}of JA)f(g,v,w,a.amhap);if(n)for(let g=0;g<4;g++){const v=i[g]??"";if(v.length<2)continue;const w=`${v[0]}${v[1]}`;Zy.has(w)&&Kt(a.ganjiAmhap,`#${h4(un[g])}_${w}`)}const p=m4(a);if(r)for(const g of Object.keys(p)){if(g==="title")continue;const v=p[g];Array.isArray(v)&&v.length===0&&(p[g]=["#"])}return p}function Sne(e,t){return e===ri.year&&t===ri.hour||e===ri.hour&&t===ri.year}function Ene(e,t){for(const n of rp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function kne(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),c=Math.max(i,a),u=`${o}-${c}`;r.has(u)||(r.add(u),n.push([o,c]))}return n}function _l(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[De(e.natal[0]??""),De(e.natal[1]??""),De(e.natal[2]??""),De(e.natal[3]??"")],a=[De(e.daewoon??""),De(e.sewoon??""),De(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},c=r.map(p=>{const g=ji(p??"");return kE[g]??g});for(const{pair:[p,g],label:v}of f4){if(!Ene(p,g))continue;const w=[],_=[];for(let T=0;T<4;T++)c[T]===p&&w.push(T),c[T]===g&&_.push(T);const E=kne(w,_);for(const[T,N]of E){const O=Sne(T,N),P=`#${un[T]}X${un[N]}_${v}${O?jd:""}`;Kt(o.jijiBanhap,P)}}if(n&&a)for(let p=0;p<4;p++){const g=r[p]??"";if(g.length<2)continue;const v=`${g[0]}${g[1]}`;Zy.has(v)&&Kt(o.ganjiAmhap,`#${h4(un[p])}_${v}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let f=!1,m=!1;for(const[p,g]of u){if(!g)continue;const v=De(g);if(!v||v.length<2)continue;const w=Vy(v),_=ji(v);{const T=`${w}${_}`;Zy.has(T)&&Kt(o.ganjiAmhap,`#${p}_${T}`)}for(let T=0;T<4;T++){const N=r[T]??"";if(N.length<2)continue;const O=un[T],P=Vy(N),M=ji(N),D=ti(UA,w,P);D&&Kt(o.cheonganHap,`#${p}X${O}_${D}`);const $=ti(FA,w,P);$&&Kt(o.cheonganChung,`#${p}X${O}_${$}`);const H=ti(HA,_,M);H&&Kt(o.jijiYukhap,`#${p}X${O}_${H}`);const q=ti(GA,_,M);q&&Kt(o.jijiChung,`#${p}X${O}_${q}`);const K=ti(qA,_,M);K&&Kt(o.jijiPa,`#${p}X${O}_${K}`);const F=ti(YA,_,M);F&&Kt(o.jijiHae,`#${p}X${O}_${F}`);const z=ti(KA,_,M);z&&Kt(o.jijiWonjin,`#${p}X${O}_${z}`);const Z=ti(WA,_,M);Z&&Kt(o.jijiGwimun,`#${p}X${O}_${Z}`);const Q=ti(VA,_,M);if(Q)Kt(o.jijiHyeong,`#${p}X${O}_${Q}`);else{const Y=ti(ZA,_,M);Y?Kt(o.jijiHyeong,`#${p}X${O}_${Y}`):_===M&&XA.has(_)&&Kt(o.jijiHyeong,`#${p}X${O}_${_}${M}`)}const J=ti(JA,_,M);J&&Kt(o.amhap,`#${p}X${O}_${J}`)}for(const T of rp){if(!T.members.includes(_))continue;const N=T.members.filter(P=>P!==_),O=c.map((P,M)=>({b:P,pos:un[M]})).filter(P=>P.b&&N.includes(P.b));if(new Set(O.map(P=>P.b)).size===2){const[P,M]=O.map(D=>D.pos).sort((D,$)=>un.indexOf(D)-un.indexOf($));Kt(o.jijiSamhap,`#${p}X${P}X${M}_(${T.name})`)}}for(const T of GM){if(!T.members.includes(_))continue;const N=T.members.filter(P=>P!==_),O=c.map((P,M)=>({b:P,pos:un[M]})).filter(P=>P.b&&N.includes(P.b));if(new Set(O.map(P=>P.b)).size===2){const[P,M]=O.map(D=>D.pos).sort((D,$)=>un.indexOf(D)-un.indexOf($));Kt(o.jijiHyeong,`#${p}X${P}X${M}_${T.name}`),T.name===""&&(f=!0),T.name===""&&(m=!0)}}const E=[...r.map((T,N)=>({b:kE[ji(T)]??ji(T),pos:un[N]}))];for(const T of d4){const N=E.filter(O=>T.members.includes(O.b));if(new Set(N.map(O=>O.b)).size===3){const O=N.map(P=>P.pos).join("X");Kt(o.jijiBanghap,`#${O}_(${T.name})`)}}}{const p=[],g=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[v,w]of g){const _=De(w??"");_.length>=2&&p.push({kind:v,b:ji(_)})}if(p.length>=2){const v=r.map((w,_)=>({pos:un[_],b:ji(w)}));for(const w of GM)for(let _=0;_<p.length;_++)for(let E=_+1;E<p.length;E++){const T=p[_],N=p[E];for(const O of v){const P=new Set([O.b,T.b,N.b]);if(P.size===3&&w.members.every(M=>P.has(M))){const M=[T.kind,N.kind].sort(($,H)=>HM.indexOf($)-HM.indexOf(H)).join("X"),D=`${O.pos}X${M}`;Kt(o.jijiHyeong,`#${D}_${w.name}`),w.name===""&&(f=!0),w.name===""&&(m=!0)}}}}}return(f||m)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(f&&/(||)/.test(p)||m&&/(||)/.test(p)))),m4(Ane(o))}function Ane(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const Tne={:"",:"",:"",:"",:""},KM={:"",:"",:"",:"",:""},One={:"",:"",:"",:"",:""},jne={:"",:"",:"",:"",:""},Nne={:.15,:.1,:-.15,:-.2,:-.25};function Cne(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function Mne(e){const t=e.includes(ri.month),n=Cne(ri.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function Pne(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function Dne(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[De(e[0]??""),De(e[1]??""),De(e[2]??""),De(e[3]??"")],o=a.map(m=>ji(m)).filter(Boolean),c=[],u={...t},f=(m,p)=>{const g=[];for(let T=0;T<a.length;T++){const N=ji(a[T]??"");p.members.includes(N)&&g.push(T)}if(!p.members.every(T=>o.includes(T)))return;const w=Mne(g),_=p.out,E=KM[_];Pne(u,E,_,w),c.push({type:m,name:p.name,out:p.out,strength:w})};if(i)for(const m of rp)f("",m);if(r)for(const m of d4)f("",m);return{applied:c,score:u,strengthAdj:Nne,shengNext:Tne,shengPrev:KM,ke:One,keInv:jne}}function Xy(e){return un[e]}function WM(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=De(e[r]??""),a=Vy(i),o=ji(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Ch(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${Xy(i)}X${Xy(a)}_${e}`);return r}function Rne(e,t){const n=WM(e),r=WM(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(c,u)=>{c.includes(u)||c.push(u)};for(const{pair:[c,u],label:f}of UA){const m=[...n.stemPos.get(c)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(c)??[],...r.stemPos.get(u)??[]];if(m.length&&p.length)for(const g of Ch(f,m,p))a(i.,g)}for(const{pair:[c,u],label:f}of FA){const m=[...n.stemPos.get(c)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(c)??[],...r.stemPos.get(u)??[]];if(m.length&&p.length)for(const g of Ch(f,m,p))a(i.,g)}const o=(c,u)=>{const f=Array.from(n.branchPos.keys()),m=Array.from(r.branchPos.keys());for(const p of f)for(const g of m){const v=ti(u,p,g);if(!v)continue;const w=n.branchPos.get(p)??[],_=r.branchPos.get(g)??[];for(const E of Ch(v,w,_))a(i[c],E)}};o("",HA),o("",GA),o("",qA),o("",YA),o("",KA),o("",WA),o("",VA),o("",ZA);for(const c of XA){const u=n.branchPos.get(c)??[],f=r.branchPos.get(c)??[];if(!(!u.length||!f.length))for(const m of Ch(`${c}`,u,f))a(i.,m)}for(const{label:c,pair:[u,f]}of JA){const m=[...n.branchPos.get(u)??[],...n.branchPos.get(f)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(f)??[]];if(!(!m.length||!p.length))for(const g of Ch(c,m,p))a(i.,g)}{const c=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const f of c)for(const m of u){const p=n.stemPos.get(f)??[],g=r.stemPos.get(m)??[];for(const v of p){const w=ji(De(e[v]??"")),_=`${f}${w}`;if(Zy.has(_))for(const E of g){const T=ji(De(t[E]??""));`${m}${T}`===_&&a(i.,`#${Xy(v)}X${Xy(E)}_${_}`)}}}}return i}const p4=new Set(Object.keys(Rn)),g4=new Set(Object.keys(Gn)),Lne=e=>e.slice(0,1),Ine=e=>e.slice(-1);function ss(e){return Dd.has(e)?e:p4.has(e)?Rn[e]??e:e}function vr(e){return fm.has(e)?e:g4.has(e)?Gn[e]??e:e}function mo(e){return ss(Lne(e))}function Ht(e){return vr(Ine(e))}function $ne(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Dd.has(i)||p4.has(i))&&(n=ss(i)),(fm.has(i)||g4.has(i))&&(r=vr(i));return n&&r?{stem:n,branch:r}:null}function Bne(e){return e.map(Ht)}function y0(e,t,n="classic"){const r=mo(t),i=Ht(t),a=(n==="hgc"?ov:av)[i]??[];return[r,...a].includes(e)}const AE=[["",""],["",""],["",""],["",""],["",""],["",""]],TE=[["",""],["",""],["",""],["",""],["",""],["",""]],zne=new Set(["","","",""]),y4=[["",""],["",""]],Une=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function sm(e,t,n){const r=vr(t),i=vr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function VM(e,t,n){const r=vr(t),i=vr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function Jy(e){for(const t of Une)if(t.set.has(e))return t.voids;return null}function OE(e){const t=vr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const zn={2:4,1:3,3:2,0:1},vd={1:4,2:3,0:2,3:1},Se={year:0,month:1,day:2,hour:3};function Fne(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const Zc=e=>e===0?"":e===1?"":e===2?"":"",cf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",Hne=(e,t)=>`#X${Zc(t)}_${e}`,Nd=(e,t,n)=>t===Se.month&&n===Se.day?`#X_${e}`:t===Se.year&&n===Se.month?`#X_${e}`:t===Se.year&&n===Se.day?`#X_${e}`:t===Se.month&&n===Se.hour?`#X_${e}`:t===Se.day&&n===Se.hour?`#X_${e}`:`#${Zc(t)}X${Zc(n)}_${e}`,b0=(e,t)=>`#${Zc(t)}_${e}`,b4=(e,t)=>`#X${Zc(t)}_${e}`,Gne=(e,t)=>`#(${e==="day"?"":""})X${Zc(t)}_`,nd=e=>`#_${e}`,rd=(e,t)=>`#X${cf(t)}_${e}`,Mh=(e,t)=>`#X${cf(t)}_${e}`,Ww=(e,t,n)=>`#${Zc(n)}X${cf(t)}_${e}`,qne=(e,t)=>`#(${t==="day"?"":""})_${cf(e)}_`,Yne=(e,t)=>`#(${t==="day"?"":""})X${cf(e)}_`,ZM=(e,t)=>`#X${cf(e)}_${t}`;function jE(e,t){const n=vr(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(Ht(t[i])===n)return{pos:i,weight:zn[i]??0};return null}function e2(e,t,n){return Ht(t[n])===vr(e)?{pos:n,weight:zn[n]}:null}function Kne(e,t){const n=ss(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(mo(t[i])===n)return{pos:i,weight:zn[i]??0};return null}const Wne=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>vr(t.trim())).filter(Boolean),ln=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ss(t),Wne(n)])),Vne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),v4=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qne=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ere=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),x4=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ire=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),are=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_4=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ore=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),XM=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lre=ln({:"",:"",:"",:""}),cre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),JM=ln({:"",:"",:""}),QM=ln({:"",:"",:""}),ure=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),w4=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),S4=ln({:"",:"",:"",:"",:"",:"",:""}),dre=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>vr(t.trim())).filter(Boolean),ya=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[vr(t),(Array.isArray(n)?n:[n]).map(r=>vr(r))])),xv=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[vr(t),dre(n)])),E4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},k4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},A4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},T4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},fre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),eP=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hre=xv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),mre=xv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),pre=xv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),gre=xv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yre=ya({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),bre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),vre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_re=ya({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),O4=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ere=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kre=ya({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[vr(t),(Array.isArray(n)?n:[n]).map(r=>vr(r))])),Are=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),j4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ore=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),N4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Pre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Dre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),C4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Rre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Lre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ire=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$re=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),M4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ure=C4,Fre=j4,Hre=M4,Gre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qre=N4,Yre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function ip(e,t){e.push(t)}function Vw(e,t,n,r,i=0){const a=vd[n]>=vd[r]?n:r;e.push({name:Nd(t,n,r),weight:zn[a]+i,pos:a})}function Vre(e,t,n,r,i){const a=Ht(e[Se.year]),o=t[a];if(!o)return;const c=n==="MONTH"?[Se.month]:n==="DAY"?[Se.day]:n==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of c){const m=e2(u,e,f);m&&ip(i,{name:Nd(r,Se.year,f),weight:m.weight,pos:f})}}function Zre(e,t,n,r){const i=Ht(e[Se.month]),a=t[i];if(!a)return;const o=ss(a),c=Kne(o,e);c&&ip(r,{name:b4(n,c.pos),weight:c.weight,pos:c.pos})}function tP(e,t,n,r,i="ALL"){const a=Ht(e[Se.month]),o=t[a];if(!o)return;const c=i==="YEAR"?[Se.year]:i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:i==="DAY_HOUR"?[Se.day,Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of c){const m=e2(u,e,f);if(!m)continue;const p=f===Se.month?`#_${n}`:b4(n,f);ip(r,{name:p,weight:m.weight,pos:f})}}function nP(e,t,n,r){const i=Ht(e[Se.month]),a=t[i];if(!a)return;const o=e[Se.day];a.includes(o)&&ip(r,{name:Nd(n,Se.month,Se.day),weight:zn[Se.day],pos:Se.day})}function rP(e,t,n,r,i){const a=mo(e[Se.day]),o=t[a];if(!o)return;const c=i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of c){const m=e2(u,e,f);m&&ip(r,{name:Hne(n,f),weight:m.weight,pos:f})}}function Xre({natal:e,daewoon:t,basis:n}){const r=mo(e[Se.day]),i=Ht(e[Se.day]),a=Ht(e[Se.month]),o=Ht(e[Se.year]),c=Bne(e),u=[],f=[],m=[[Are,"MONTH",""],[j4,"DAY",""],[Ore,"MONTH",""],[jre,"MONTH",""],[Nre,"ALL",""],[Cre,"HOUR",""],[Mre,"ALL",""],[Pre,"ALL",""],[Dre,"ALL",""],[C4,"ALL",""],[Rre,"ALL",""],[Lre,"ALL",""],[Ire,"ALL",""],[$re,"ALL",""],[Bre,"ALL",""],[zre,"ALL",""],[M4,"ALL",""],[Ure,"ALL",""],[Fre,"ALL",""],[Hre,"ALL",""],[Gre,"ALL",""],[qre,"ALL",""],[Yre,"ALL",""],[Kre,"ALL",""],[Wre,"ALL",""]];for(const[P,M,D]of m)Vre(e,P,M,D,f);const p=[[E4,""],[k4,""],[A4,""],[T4,""]];for(const[P,M]of p)Zre(e,P,M,u);const g=[[fre,"","ALL"],[eP,"","YEAR"],[eP,"","DAY"],[yre,"","ALL"],[bre,"","ALL"],[vre,"","ALL"],[xre,"","ALL"],[_re,"","ALL"]];for(const[P,M,D]of g)tP(e,P,M,f,D);const v=[[O4,"","ALL"],[wre,"","DAY_HOUR"],[Sre,"","DAY_HOUR"],[Ere,"","ALL"],[kre,"","ALL"]];for(const[P,M,D]of v)tP(e,P,M,u,D);const w=[[hre,""],[gre,""]];for(const[P,M]of w)nP(e,P,M,u);const _=[[mre,""],[pre,""]];for(const[P,M]of _)nP(e,P,M,f);const E=[[Vne,"","ALL"],[v4,"","ALL"],[Zne,"","ALL"],[Xne,"","ALL"],[Jne,"","ALL"],[Qne,"","ALL"],[ere,"","ALL"],[x4,"","ALL"],[tre,"","ALL"],[nre,"","ALL"],[rre,"","ALL"],[ire,"","ALL"],[are,"","ALL"],[ure,"","ALL"]];for(const[P,M,D]of E)rP(e,P,M,u,D);const T=[[_4,"","ALL"],[ore,"","ALL"],[sre,"","ALL"],[XM,"","DAY"],[XM,"","HOUR"],[JM,"","DAY"],[JM,"","HOUR"],[QM,"","DAY"],[QM,"","HOUR"],[lre,"","DAY"],[cre,"","ALL"],[w4,"","ALL"]];for(const[P,M,D]of T)rP(e,P,M,f,D);if(new Set(["","","",""]).has(e[Se.day])){f.push({name:nd(""),weight:zn[Se.day],pos:Se.day});for(const M of[Se.year,Se.month,Se.hour])e[M]===e[Se.day]&&f.push({name:b0("",M),weight:zn[M],pos:M})}{const P=S4[r];if(P)for(const M of[Se.year,Se.month,Se.day,Se.hour]){const D=mo(e[M]),$=Ht(e[M]);D===r&&P.includes($)&&f.push({name:b0("",M),weight:zn[M],pos:M})}}for(const[P,M]of y4){const D=jE(P,e),$=jE(M,e);D&&$&&Vw(f,"",D.pos,$.pos)}{const P=new Set(["",""]),M=new Set(["","","",""]);for(let D=0;D<=3;D++){const $=mo(e[D]),H=Ht(e[D]);(P.has($)||M.has(H))&&f.push({name:b0("",D),weight:zn[D],pos:D})}}{const P=e[Se.hour],M=($,H)=>$.includes(r)&&H.includes(P);(M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""]))&&f.push({name:nd(""),weight:zn[Se.hour],pos:Se.hour})}["","","",""].every(P=>c.includes(P))&&u.push({name:nd(""),weight:zn[Se.day],pos:Se.day});{const P=e[Se.day],M=e[Se.hour];(P===""&&M===""||P===""&&M==="")&&f.push({name:Nd("",Se.day,Se.hour),weight:zn[Se.hour],pos:Se.hour})}{const P=Ht(e[Se.year]),M=new Set(c.slice(1)),D=(H,q)=>H.every(K=>M.has(K))&&P===q;(D(["","",""],"")||D(["","",""],"")||D(["","",""],"")||D(["","",""],""))&&u.push({name:nd(""),weight:zn[Se.day],pos:Se.day})}(e[Se.day]===""||e[Se.day]==="")&&u.push({name:nd(""),weight:zn[Se.day],pos:Se.day});{const M={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];M&&e.some($=>Ht($)===M.rok)&&mo(e[Se.hour])===M.maStem&&u.push({name:Nd("",Se.day,Se.hour),weight:zn[Se.hour],pos:Se.hour})}{const P=Ht(e[Se.hour]),D={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(D){const $=i===D.rok,H=P===D.ma,q=y0(D.rokStem,e[Se.day],"classic")||y0(D.rokStem,e[Se.hour],"classic"),K=y0(D.maStem,e[Se.day],"classic")||y0(D.maStem,e[Se.hour],"classic");$&&H&&(q||K)&&u.push({name:Nd("",Se.day,Se.hour),weight:zn[Se.hour],pos:Se.hour})}}{const P=new Set(["","","","","",""]),M=e.map(mo),D=e.map(Ht),$=M.concat(D).filter(F=>P.has(F)).length,H=t?mo(t):"",q=t?Ht(t):"",K=P.has(H)||P.has(q);($>=4||$===3&&K)&&f.push({name:nd(""),weight:zn[Se.day],pos:Se.day})}{const P=new Set(["",""]),M=new Set(["",""]);for(let D=0;D<=3;D++){const $=mo(e[D]),H=Ht(e[D]);(P.has($)||M.has(H))&&f.push({name:b0("",D),weight:zn[D],pos:D})}}{const P=[[Se.year,Se.month],[Se.year,Se.day],[Se.month,Se.day],[Se.month,Se.hour],[Se.day,Se.hour]];for(const[M,D]of P){const $=Ht(e[M]),H=Ht(e[D]);if(sm(AE,$,H)){const q=VM(AE,$,H);Vw(f,`${q}`,M,D)}}}{const P=[[Se.year,Se.month,0],[Se.month,Se.day,1],[Se.month,Se.hour,0],[Se.day,Se.hour,0]];for(const[M,D,$]of P){const H=Ht(e[M]),q=Ht(e[D]);if(sm(TE,H,q)){const K=VM(TE,H,q),F=($?1:0)+(zne.has(H+q)?1:0);Vw(f,`${K}`,M,D,F)}}}const N=Jy(e[Se.day]),O=Jy(e[Se.year]);{const P=(n?.voidBasis??"day")==="day"?N:O;if(P){const[M,D]=P.map(vr);for(const $ of[Se.year,Se.month,Se.day,Se.hour]){const H=Ht(e[$]);(H===M||H===D)&&f.push({name:Gne(n?.voidBasis??"day",$),weight:zn[$],pos:$})}}}return{goodPos:u,badPos:f,dayVoid:N,yearVoid:O,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:c}}function v0({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:c,dayVoid:u,yearVoid:f,basis:m}){const p=[],g=[],v=(N,O)=>{N.includes(O)||N.push(O)},w=$ne(t??null);if(!w)return{good:p,bad:g};const _=w.branch,E=w.stem;ss(E4[a]??"")===E&&v(p,Mh("",e)),ss(k4[a]??"")===E&&v(p,Mh("",e)),ss(A4[a]??"")===E&&v(p,Mh("",e)),ss(T4[a]??"")===E&&v(p,Mh("",e)),O4[a]?.includes(_)&&v(p,Mh("",e)),v4[r]?.includes(_)&&v(p,rd("",e)),x4[r]?.includes(_)&&v(p,rd("",e)),_4[r]?.includes(_)&&v(g,rd("",e)),w4[r]?.includes(_)&&v(g,rd("",e)),S4[r]?.includes(_)&&v(g,rd("",e)),e==="se"&&(Tre[o]?.includes(_)&&v(g,ZM(e,"")),N4[o]?.includes(_)&&v(g,ZM(e,"")));for(const N of c)if(sm(y4,_,N)){const O=jE(N,n)?.pos;O!==void 0&&v(g,Ww("",e,O));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(_)&&v(g,rd("",e));const T=(m?.voidBasis??"day")==="day"?u:f;T&&(_===T[0]||_===T[1])&&v(g,qne(e,m?.voidBasis??"day"));for(let N=0;N<=3;N++){const O=Ht(n[N]);sm(AE,_,O)&&v(g,Ww("",e,N)),sm(TE,_,O)&&v(g,Ww("",e,N))}if(e==="se"){const N=(m?.samjaeBasis??"day")==="day"?i:o,O=N?OE(N):null;O&&O.includes(_)&&v(g,Yne(e,m?.samjaeBasis??"day"))}return{good:p,bad:g}}const Jre=/^#(|||)X\1_/,Qre=e=>Jre.test(e);function iP(e){const t=new Map;for(const n of e){if(Qre(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function eie(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const tie=new Set(["",""]);function nie(e){return tie.has(e)?!0:e.endsWith("")||e.endsWith("")}function aP(e){const t=new Map;for(const r of e){const i=eie(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(nie(r))n.push(...i);else{const a=i.sort((o,c)=>vd[o.pos]!==vd[c.pos]?vd[c.pos]-vd[o.pos]:c.weight-o.weight)[0];n.push(a)}return n}function oP(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=Fne;for(const i of e)n[r(i.pos)].push(i.name);return n}function zd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:c,dayVoid:u,yearVoid:f,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:w}=Xre({natal:e,daewoon:t,basis:a}),_=aP(iP(o)),E=aP(iP(c)),T=oP(_),N=oP(E),O=v0({src:"dae",luck:t??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:w,dayVoid:u,yearVoid:f,basis:a}),P=v0({src:"se",luck:n??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:w,dayVoid:u,yearVoid:f,basis:a}),M=v0({src:"wol",luck:r??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:w,dayVoid:u,yearVoid:f,basis:a}),D=v0({src:"il",luck:i??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:v,branches:w,dayVoid:u,yearVoid:f,basis:a});return{good:{...T,dae:O.good,se:P.good,wolun:M.good,ilun:D.good},bad:{...N,dae:O.bad,se:P.bad,wolun:M.bad,ilun:D.bad},meta:{voidPair:{day:Jy(e[Se.day])??void 0,year:Jy(e[Se.year])??void 0},samjaeYears:{day:OE(Ht(e[Se.day]))??void 0,year:OE(Ht(e[Se.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function rie(e){return typeof e=="object"&&e!==null}function uf(e){const t=a4;return rie(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const sP=["","","","","","","","","",""],iie=["","","","","","","","","","","",""],aie=["","","","","","","","","","","",""];function oie(e){const t=sv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function sie(e,t){const n=oie(e);return(t?aie:iie).map((i,a)=>`${sP[(n+a)%10]??sP[0]}${i}`)}function lm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function lP(e){return e<10?`0${e}`:`${e}`}function P4(e){return`${lP(e.getHours())}:${lP(e.getMinutes())}`}function t2(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function cP(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||t2(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function lie(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":P4(i)}const uP=["","/",""],cie="/";function D4(e,t){return e&&uP.includes(e)?e:t&&uP.includes(t)?t:cie}function dP(e){return e===""}function uie(e){return e===""?"":""}function die(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const fie=e=>e instanceof Date&&!Number.isNaN(e.getTime());function fP(e,t){const n=t2(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=Ui(r,i,a);r=O.getFullYear(),i=O.getMonth()+1,a=O.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),c=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,c,0,0),f=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,m=f?127.5:e.birthPlace.lon,p=fie(e.corrected);let g;p?g=e.corrected:f?g=u:g=Jm(u,m,n);const v=t?new Date(g.getTime()-3600*1e3):g,w=D4(e.mingSikType),_=at(v,m),E=kt(v,m),T=gt(v,w),N=n?null:za(v,w);return{corrected:v,year:{stem:_.charAt(0),branch:_.charAt(1)},month:{stem:E.charAt(0),branch:E.charAt(1)},day:{stem:T.charAt(0),branch:T.charAt(1)},hour:N?{stem:N.charAt(0),branch:N.charAt(1)}:null}}const hie=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],mie=(()=>{const e={};for(const t of hie){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),pie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function gie(e,t){const n=`${sv(e)}${oA(t)}`;return mie[n]??null}function yie(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function bie(e){switch(pie[oA(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function vie({stem:e,branch:t}){const n=gie(e,t);if(!n)return null;const r=yie(n.elem);return x.jsx("span",{className:`inline-block px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function hP({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=qn(),o=Bi(e,t,a),c=li(e,t,n),u=Ua(e,t),f=r&&u?"font-thin":"font-bold",m=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return x.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${m}`,children:x.jsx("span",{className:`text-[24px] md:text-2xl ${f} `,children:c})})}function R4({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,size:v="regular",highlightedStem:w=!1,highlightedBranch:_=!1}){const E=v==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",T=v==="compact"?"py-2":"p-2";return x.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:`${E} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),x.jsx("div",{className:`${T} flex flex-col items-center gap-1`,children:t?x.jsxs(x.Fragment,{children:[a&&x.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:fa(n,{stem:t.stem})}),x.jsx(hP,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:w}),x.jsx(hP,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:_}),x.jsx(kB,{branch:t.branch,dayStem:n,mode:f,mapping:m}),(o||c||u)&&x.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&x.jsx("div",{children:p(t.branch)}),c&&x.jsx("div",{children:g(t.branch)}),u&&x.jsx(vie,{stem:t.stem,branch:t.branch})]})]}):x.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const xie=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function _ie({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,daeGz:v,seGz:w,wolGz:_,highlightMap:E={}}){const T=t?"regular":"compact",N=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",O="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",P=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",M=t?`grid gap-2 p-3 ${N}`:`grid gap-1 p-0 ${N}`;return x.jsxs("div",{className:O,children:[x.jsx("div",{className:P,children:x.jsx("b",{children:""})}),x.jsx("div",{className:"pb-2",children:x.jsx("div",{className:M,children:e.map(D=>{const $=xie(D,v,w,_),H=E[D.key]??{stem:!1,branch:!1};return x.jsx(R4,{title:D.label,data:$,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,size:T,highlightedStem:H.stem,highlightedBranch:H.branch},D.key)})})})]})}function wie({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,highlightMap:v={}}){const w=t?"regular":"compact",_=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",E=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return x.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[x.jsx("div",{className:_,children:x.jsx("b",{children:""})}),x.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:x.jsx("div",{className:E,children:e.map(T=>{const N=v[T.key]??{stem:!1,branch:!1};return x.jsx(R4,{title:T.label,data:T.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,size:w,highlightedStem:N.stem,highlightedBranch:N.branch},T.key)})})})]})}function Sie({hourCandidates:e,useInsi:t,onToggleRule:n,manualHour:r,onSelectHour:i}){return x.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),x.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "})]}),x.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(a=>{const o=a.charAt(0),c=a.charAt(1),u=r?.stem===o&&r?.branch===c;return x.jsx("button",{onClick:()=>i(o,c),className:`p-2 text-xs rounded border cursor-pointer ${u?bie(c):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${a} ( )`,children:a},a)})})]})}function Eie(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const Ph={:{title:"()",kind:"",oneLine:"   .",bullets:["  ,  / ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:" : //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:" /   ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" /.   ."},:{title:"()",kind:"",oneLine:"  .   ."},:{title:"()",kind:"",oneLine:" /    ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /."},:{title:"",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" : ."}};function kie(e){const t=Eie(e),n=Ph[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(Ph[r])return Ph[r]}else{const r=`${t}`;if(Ph[r])return Ph[r]}return{title:t||"",kind:"",oneLine:" "}}function Aie(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function co({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const c=NE(n,Qy),u=NE(r,Qy),f=i||c.length>0,m=i||u.length>0;return!i&&c.length===0&&u.length===0?null:x.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[f&&x.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),x.jsx(mP,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),x.jsxs("div",{children:[m&&x.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),x.jsx(mP,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function mP({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=NE(e,Qy);return a.length===0?n?x.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:x.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,c)=>{const u=`${t}-${c}`;return x.jsx(Tie,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function Tie({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=kie(e),o=a?Aie(a):"",c=Qy(e),u=S.useRef(null),f=S.useRef(null),[m,p]=S.useState("center");return S.useLayoutEffect(()=>{if(!i)return;const g=f.current;if(!g)return;const v=g.getBoundingClientRect(),_=Math.min(300,window.innerWidth-16*2),E=v.left,T=window.innerWidth-v.right;T<_/2&&E>T?p("right"):E<_/2&&T>E?p("left"):p("center")},[i]),S.useLayoutEffect(()=>{if(!i)return;const g=v=>{const w=v.target;!u.current||w&&u.current.contains(w)||r(null)};return document.addEventListener("mousedown",g),document.addEventListener("touchstart",g),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("touchstart",g)}},[i,r]),x.jsxs("div",{ref:u,className:"relative",children:[x.jsx("button",{ref:f,type:"button",onClick:()=>r(i?null:t),className:["px-1 desk:px-2 py-1 text-[10px] text-center desk:text-[11px] rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:c,children:c}),a&&i&&x.jsx("div",{className:["absolute top-full mt-2 z-50",m==="left"?"left-0":m==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:x.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function Qy(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function NE(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function Oie({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:c,etcShinsalGood:u,etcShinsalBad:f}){const[m,p]=S.useState(!0),[g,v]=S.useState(!0),[w,_]=S.useState(null);return x.jsxs(x.Fragment,{children:[o&&x.jsx("div",{className:"px-2 desk:px-0 py-2",children:x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[x.jsxs("button",{type:"button",onClick:()=>p(E=>!E),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[x.jsx("span",{children:""}),x.jsx("span",{className:"text-[10px]",children:m?"":""})]}),m&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"     ."}),n.length===0?x.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):x.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[x.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&x.jsx(uo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&x.jsx(uo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&x.jsx(uo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&x.jsx(uo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&x.jsx(uo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&x.jsx(uo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),x.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[x.jsx(uo,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),x.jsx(uo,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),x.jsx(uo,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),x.jsx(uo,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),c&&x.jsx("div",{className:"px-2 desk:px-0 py-2",children:x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[x.jsxs("button",{type:"button",onClick:()=>v(E=>!E),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[x.jsx("span",{children:""}),x.jsx("span",{className:"text-[10px]",children:g?"":""})]}),g&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),pP(u)||pP(f)?x.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[x.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&x.jsx(co,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-wol"),t>=2&&x.jsx(co,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-se"),t>=1&&x.jsx(co,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-dae")]:[t>=1&&x.jsx(co,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-dae"),t>=2&&x.jsx(co,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-se"),t>=3&&x.jsx(co,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-wol")]).filter(Boolean)}),x.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[x.jsx(co,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:f.natal.hour,isDesktop:e,openTagKey:w,setOpenTagKey:_}),x.jsx(co,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:f.natal.day,isDesktop:e,openTagKey:w,setOpenTagKey:_}),x.jsx(co,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:f.natal.month,isDesktop:e,openTagKey:w,setOpenTagKey:_}),x.jsx(co,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:f.natal.year,isDesktop:e,openTagKey:w,setOpenTagKey:_})]})]}):x.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function uo({title:e,tags:t,activeTag:n,onToggle:r}){return x.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?x.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):x.jsx("div",{className:"flex flex-row desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return x.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-1 desk:px-2 py-1 text-[10px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:jie(i)},i)})})]})}function jie(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function pP(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function gP(e){return String(e).padStart(2,"0")}function Nie(e,t,n){if(!e||e.length<8)return cP(e,t);const r=cP(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),c=Ui(i,a,o);return` ${`${c.getFullYear()}.${gP(c.getMonth()+1)}.${gP(c.getDate())}`} ( ${r})`}catch{return` ${r}`}}function Cie({data:e,hourTable:t}){const{date:n}=ui(),r=qn(Ne=>Ne.settings),i=r.showNabeum??!0,a=r.showRelationBox??!0,o=r.showEtcShinsal??!0,c=D4(e.mingSikType,t),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:f,solarM:m,solarD:p}=S.useMemo(()=>{let Ne=Number(e.birthDay?.slice(0,4)??2e3),_e=Number(e.birthDay?.slice(4,6)??1),je=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Ie=Ui(Ne,_e,je);Ne=Ie.getFullYear(),_e=Ie.getMonth()+1,je=Ie.getDate()}return{solarY:Ne,solarM:_e,solarD:je}},[e.birthDay,e.calendarType]),[g,v]=S.useState(!1);S.useEffect(()=>{f&&m&&p&&v(Hy(f,m,p))},[f,m,p]);const w=t2(e.birthTime),[_,E]=S.useState(()=>fP(e,g));S.useEffect(()=>{E(fP(e,g))},[e,g]);const T=lie(e.correctedLocal,_.corrected,w),N=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,O=_.day.stem,[P,M]=S.useState(null),[D,$]=S.useState(()=>dP(e.mingSikType));S.useEffect(()=>{M(null),$(dP(e.mingSikType))},[N,e.mingSikType]),S.useEffect(()=>{pe(null)},[N]);const H=S.useMemo(()=>sie(O,D),[D,O]),q=P??_.hour,K=Wm(Ne=>Ne.setManualHour),F=(Ne,_e)=>{const je={stem:Ne,branch:_e};M(je),K(je)},z=uie(r.sinsalBase)===""?_.day.branch:_.year.branch,Z=Ne=>r.showSibiUnseong?Oo(O,Ne):null,Q=Ne=>r.showSibiSinsal?jo({baseBranch:z,targetBranch:Ne,era:uf(r.sinsalMode),gaehwa:r.sinsalBloom}):null,J=fne(e,c),Y=Gte({query:"(min-width: 992px)"}),X=r.hiddenStem==="regular"?"main":"all",re=die(r.exposure),ue=re===0?[]:J.filter(Ne=>(Ne.key==="daeun"?1:Ne.key==="seun"?2:3)<=re),se=Hy(f,m,p),B=()=>v(Ne=>!Ne),W=zA(e,t,n),ae=W.dae.gz,V=W.se.gz,oe=W.wol.gz,[me,pe]=S.useState(null),be=S.useMemo(()=>{const Ne=_e=>_e?.stem&&_e?.branch?`${_e.stem}${_e.branch}`:"";return _l({natal:[Ne(_.year),Ne(_.month),Ne(_.day),Ne(q)],daewoon:ae??void 0,sewoon:V??void 0,wolwoon:oe??void 0})},[_,q,ae,V,oe]),ne=S.useMemo(()=>{const Ne=[...be.cheonganHap,...be.cheonganChung,...be.jijiSamhap,...be.jijiBanhap,...be.jijiBanghap,...be.jijiYukhap,...be.jijiChung,...be.jijiHyeong,...be.jijiPa,...be.jijiHae,...be.amhap,...be.ganjiAmhap].filter(_e=>_e&&_e!=="#");return Array.from(new Set(Ne))},[be]),Oe=S.useMemo(()=>{const Ne=(je,Ie)=>{je.includes(Ie)||je.push(Ie)},_e={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const je of ne){const Ve=(je.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);Ve.includes("")&&Ne(_e.luck.wol,je),Ve.includes("")&&Ne(_e.luck.se,je),Ve.includes("")&&Ne(_e.luck.dae,je),Ve.includes("")&&Ne(_e.natal.hour,je),Ve.includes("")&&Ne(_e.natal.day,je),Ve.includes("")&&Ne(_e.natal.month,je),Ve.includes("")&&Ne(_e.natal.year,je)}return _e},[ne]),Ce=S.useMemo(()=>{const Ne=Ie=>Ie?.stem&&Ie?.branch?`${Ie.stem}${Ie.branch}`:"",_e=zd({natal:[Ne(_.year),Ne(_.month),Ne(_.day),Ne(q)],daewoon:ae??void 0,sewoon:V??void 0,wolwoon:oe??void 0}),je=Ie=>Array.from(new Set(Ie.filter(Ve=>Ve&&Ve!=="#")));return{good:{natal:{hour:je(_e.good.si??[]),day:je(_e.good.il??[]),month:je(_e.good.wol??[]),year:je(_e.good.yeon??[])},luck:{dae:je(_e.good.dae??[]),se:je(_e.good.se??[]),wol:je(_e.good.wolun??[])}},bad:{natal:{hour:je(_e.bad.si??[]),day:je(_e.bad.il??[]),month:je(_e.bad.wol??[]),year:je(_e.bad.yeon??[])},luck:{dae:je(_e.bad.dae??[]),se:je(_e.bad.se??[]),wol:je(_e.bad.wolun??[])}}}},[_,q,ae,V,oe]),ve=S.useMemo(()=>{const Ne={},_e=(je,Ie)=>{for(const Ve of je)Ne[Ve]=Ie};return _e(be.cheonganHap,"stem"),_e(be.cheonganChung,"stem"),_e(be.jijiSamhap,"branch"),_e(be.jijiBanhap,"branch"),_e(be.jijiBanghap,"branch"),_e(be.jijiYukhap,"branch"),_e(be.jijiChung,"branch"),_e(be.jijiHyeong,"branch"),_e(be.jijiPa,"branch"),_e(be.jijiHae,"branch"),_e(be.amhap,"branch"),_e(be.ganjiAmhap,"both"),Ne},[be]),Ze=S.useMemo(()=>{if(!me)return{};const Ne=ve[me]??"branch",je=(me.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),Ie={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},Ve={};for(const bt of je){const xt=Ie[bt];if(!xt)continue;const Pt=Ve[xt]??{stem:!1,branch:!1};Ne==="stem"?Pt.stem=!0:(Ne==="branch"||(Pt.stem=!0),Pt.branch=!0),Ve[xt]=Pt}return Ve},[me,ve]);return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[x.jsxs("div",{className:"mb-1 gap-2 p-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",x.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),se&&x.jsxs("button",{onClick:B,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${g?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",g?"ON":"OFF"]})]}),x.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[Nie(e.birthDay,e.birthTime,e.calendarType)," : ",T]})]}),x.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",u.toFixed(2),"  ",c," "]})]}),x.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${ue.length===0?"grid-cols-1":ue.length===1?"grid-cols-[2fr_8fr]":ue.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[ue.length>0&&x.jsx(_ie,{cards:ue,isDesktop:Y,dayStem:O,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:X,hiddenStemMode:r.hiddenStemMode,calcUnseong:Z,calcShinsal:Q,daeGz:ae,seGz:V,wolGz:oe,highlightMap:Ze}),x.jsx(wie,{isDesktop:Y,dayStem:O,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:X,hiddenStemMode:r.hiddenStemMode,calcUnseong:Z,calcShinsal:Q,highlightMap:Ze,pillars:[{key:"hour",label:"",data:q},{key:"day",label:"",data:_.day},{key:"month",label:"",data:_.month},{key:"year",label:"",data:_.year}]})]}),x.jsx(Oie,{isDesktop:Y,exposureLevel:re,relationChips:ne,relationByPillar:Oe,activeRelationTag:me,onToggleRelationTag:pe,showRelationBox:a,showEtcShinsalBox:o,etcShinsalGood:Ce.good,etcShinsalBad:Ce.bad}),w&&x.jsx(Sie,{hourCandidates:H,useInsi:D,onToggleRule:()=>$(Ne=>!Ne),manualHour:P,onSelectHour:F})]})}function _v(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const c=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=c&&a<u)return o}return 0}const Mie=!1,yP=e=>e<10?`0${e}`:`${e}`;function wv(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){u=m;break}if(typeof m=="number"){u=m===1;break}if(typeof m=="string"){u=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Ui(i,a,o,0,0),m=`${f.getFullYear()}${yP(f.getMonth()+1)}${yP(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function Pie({data:e}){const t=ou(e),n=S.useMemo(()=>{const M=wv(e);return Tl(M)},[e]),r=S.useMemo(()=>{const M=e.mingSikType??"/";return gt(n,M).charAt(0)},[n,e.mingSikType]),{date:i,setFromEvent:a}=ui(),o=S.useMemo(()=>_v(t,i),[t,i]),c=qn(M=>M.settings),{charType:u,thinEum:f,showSipSin:m,showSibiUnseong:p,showSibiSinsal:g,sinsalBase:v,sinsalMode:w,sinsalBloom:_}=c,E=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,T=e.mingSikType??"/",N=v===""?gt(n,T).charAt(1):at(n,E).charAt(1),O=M=>p?Oo(r,M):null,P=M=>g?jo({baseBranch:N,targetBranch:M,era:uf(w),gaehwa:!!_}):null;return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),x.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:t.map((M,D)=>{const $=M.gz.charAt(0),H=M.gz.charAt(1),q=Die(n,M.at),K=D===o,F=li($,"stem",u),z=li(H,"branch",u),Z=Ua($,"stem"),Q=Ua(H,"branch"),J=f&&Z?"font-thin":"font-bold",Y=f&&Q?"font-thin":"font-bold",X=O(H),re=P(H);return x.jsxs("div",{onClick:()=>a(M,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${K?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${M.gz}  ${M.at.toLocaleDateString()}`,children:[x.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:q}),x.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[m&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(r,{stem:$})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Bi($,"stem",c)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${J}`,children:F})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Bi(H,"branch",c)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${Y}`,children:z})}),m&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(r,{branch:H})}),(p||g)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[p&&x.jsx("div",{children:X}),g&&x.jsx("div",{children:re})]})]})]},`${M.gz}-${D}`)})})]})}function Die(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function Sv(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setDate(u.getDate()+1),u.setHours(4,30,0,0),u}return t}function Zw(e){return new Date(e,6,2,12,0,0,0)}function Rie(e,t){return t-e+1}function Lie({data:e,list:t,onSelect:n}){const r=qn($=>$.settings),{date:i,setFromEvent:a}=ui(),[o,c]=S.useState(()=>t);S.useEffect(()=>{t&&t.length>0&&c(t)},[t]);const u=Tl(e),f=S.useMemo(()=>Sv(e,u),[e,u]),m=S.useMemo(()=>f.getFullYear(),[f]),p=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,g=S.useMemo(()=>{if(!i)return[];const $=i.getFullYear(),H=Zw($),q=at(H,p);return[{at:H,gz:q}]},[i,p]),v=t.length>0?t:o.length>0?o:g,w=S.useMemo(()=>[...v].sort(($,H)=>$.at.getTime()-H.at.getTime()),[v]),_=S.useMemo(()=>{if(w.length===0)return 0;const $=_v(w,i);return $<0?0:$>=w.length?w.length-1:$},[w,i]),[E,T]=S.useState(null);S.useEffect(()=>{T(null)},[i,w]);const N=E??_,O=S.useMemo(()=>{const $=wv(e);return Tl($)},[e]),P=e.mingSikType??"/",M=S.useMemo(()=>gt(O,P).charAt(0),[O,P]),D=S.useMemo(()=>r.sinsalBase===""?gt(f,P).charAt(1):at(f,p).charAt(1),[f,P,p,r.sinsalBase]);return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),x.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map(($,H)=>{const q=$.at.getFullYear(),K=Zw(q),F=at(K,p),z=F.charAt(0),Z=F.charAt(1),Q=H===N,J=li(z,"stem",r.charType),Y=li(Z,"branch",r.charType),X=Ua(z,"stem"),re=Ua(Z,"branch"),ue=r.thinEum&&X?"font-thin":"font-bold",se=r.thinEum&&re?"font-thin":"font-bold",B=r.showSibiUnseong?Oo(M,Z):null,W=r.showSibiSinsal?jo({baseBranch:D,targetBranch:Z,era:uf(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,ae=Rie(m,q);return x.jsxs("div",{onClick:()=>{if(H===0){T(H);return}T(H);const V=Zw(q),oe=at(V,p);a({at:V,gz:oe},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(q)):Promise.resolve().then(()=>n(q)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${Q?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${F}  ${$.at.toLocaleDateString()}  ${ae}`,children:[x.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[ae,""]}),x.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:q}),x.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(M,{stem:z})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Bi(z,"stem",r)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${ue}`,children:J})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Bi(Z,"branch",r)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${se}`,children:Y})}),r.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(M,{branch:Z})}),(r.showSibiUnseong||r.showSibiSinsal)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&B&&x.jsx("div",{children:B}),r.showSibiSinsal&&W&&x.jsx("div",{children:W})]})]})]},`${q}-${$.gz||H}`)})})]})}const Iie=new Set(["","","","","","","","","","","",""]);function $ie(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...da(new Date(n-1,5,15,12,0))??[],...da(new Date(n,5,15,12,0))??[],...da(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,f)=>u.date.getTime()-f.date.getTime()).filter(u=>Iie.has(u.name));let a=i.findIndex((u,f)=>i[f].date<=t&&t<i[f+1]?.date);a<0&&(a=0);const o=i[a],c=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(c.date.getFullYear(),c.date.getMonth(),c.date.getDate(),0,0,0,0),cur:o,next:c}}const Bie=new Set(["","","","","","","","","","","",""]);function zie(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function Uie(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function Xw(e){return new Date(e,5,15,12,0,0,0)}function Fie(e){const n=[...da(Xw(e-1))??[],...da(Xw(e))??[],...da(Xw(e+1))??[]].map(c=>({name:String(c.name),date:new Date(c.date)})).sort((c,u)=>c.date.getTime()-u.date.getTime()).filter(c=>Bie.has(c.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(c=>c.name===""&&c.date>=r&&c.date<i);if(a===-1)return[];const o=[];for(let c=0;c<12;c++){const u=n[a+c];if(!u)break;const f=new Date(u.date),m=zie(f);o.push({name:u.name,termAt:f,at00:m})}return o}function Hie({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=qn(E=>E.settings),a=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,o=Tl(e),c=S.useMemo(()=>Sv(e,o),[e,o]),u=S.useMemo(()=>{const E=wv(e);return Tl(E)},[e]),f=e.mingSikType??"/",m=S.useMemo(()=>gt(u,f).charAt(0),[u,f]),p=i.sinsalBase===""?gt(c,f).charAt(1):at(c,a).charAt(1),g=S.useMemo(()=>t?Fie(t).map(T=>{const N=T.termAt,O=new Date(T.termAt.getTime()+1860*1e3),P=kt(O,a);return{at:N,gz:P,term:T.name,termAt:T.termAt}}):[],[t,a]),{date:v,setFromEvent:w}=ui(),_=_v(g,v);return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),x.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:g.map((E,T)=>{const N=E.gz.charAt(0),O=E.gz.charAt(1),P=`${Uie(E.at)}`,M=T===_,D=li(N,"stem",i.charType),$=li(O,"branch",i.charType),H=Ua(N,"stem"),q=Ua(O,"branch"),K=i.thinEum&&H?"font-thin":"font-bold",F=i.thinEum&&q?"font-thin":"font-bold",z=i.showSibiUnseong?Oo(m,O):null,Z=i.showSibiSinsal?jo({baseBranch:p,targetBranch:O,era:uf(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return x.jsxs("div",{onClick:()=>{r(E.at);const Q=new Date(E.at),{start:J}=$ie(Q);n?.(J.getFullYear(),J.getMonth()),w({at:Q,gz:kt(Q,a)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${M?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${E.term}   ${E.gz}  ${E.termAt.toLocaleString()}`,children:[x.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:P}),x.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(m,{stem:N})}),x.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Bi(N,"stem",i)}`,children:x.jsx("span",{className:`text-base md:text-xl ${K}`,children:D})}),x.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Bi(O,"branch",i)}`,children:x.jsx("span",{className:`text-base md:text-xl ${F}`,children:$})}),i.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(m,{branch:O})}),(i.showSibiUnseong||i.showSibiSinsal)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&z&&x.jsx("div",{children:z}),i.showSibiSinsal&&Z&&x.jsx("div",{children:Z})]}),x.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:E.term})]})]},`${E.term}-${E.at.toISOString()}`)})})]})}function Gie(){const e=qn(r=>r.settings),{date:t,setFromEvent:n}=ui();return{settings:e,pickedDate:t,setFromEvent:n}}const qie=(e,t)=>new Date(e,t,15,12,0,0,0),CE=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},Yie=new Set(["","","","","","","","","","","",""]),L4=e=>[...da(new Date(e-1,5,15,12,0))??[],...da(new Date(e,5,15,12,0))??[],...da(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),Kie=e=>{const t=L4(e.getFullYear()),n=t.filter(o=>Yie.has(o.name));if(n.length<12){const o=t.findIndex(f=>f.date>e),c=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(c.date),end:new Date(u.date),cur:c,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},Wie=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function Vie({data:e,year:t,month:n,selectedMonth:r,settings:i,pickedDate:a}){const o=i.ilunRule||"/",c=S.useMemo(()=>{const H=wv(e);return Tl(H)},[e]),u=S.useMemo(()=>c?gt(c,o).charAt(0):void 0,[c,o]),f=S.useMemo(()=>e?Tl(e):null,[e]),m=S.useMemo(()=>e&&f?Sv(e,f):null,[e,f]),p=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,g=e&&m?i.sinsalBase===""?gt(m,o).charAt(1):at(m,p).charAt(1):null,v=S.useMemo(()=>qie(t,n),[t,n]),w=S.useMemo(()=>a?CE(new Date(a)):null,[a]),_=S.useMemo(()=>r?CE(r):null,[r]),E=S.useMemo(()=>w??_??v,[w,_,v]),{start:T,end:N,cur:O,next:P}=S.useMemo(()=>Kie(E),[E]),M=S.useMemo(()=>{const H=[],q=new Date(T);for(;q<N;)H.push(new Date(q)),q.setDate(q.getDate()+1);return H},[T,N]),D=S.useMemo(()=>{const H=L4(E.getFullYear()),q=H.filter(F=>F.date>=T&&F.date<N),K=H.find(F=>F.date>=N);return K?[...q,K]:q},[E,T,N]),$=S.useMemo(()=>{const H=[];let q=[];const K=new Date(T).getDay();for(let F=0;F<K;F+=1)q.push(null);for(const F of M)q.length===7&&(H.push(q),q=[]),q.push(F);for(;q.length<7;)q.push(null);return H.push(q),H},[M,T]);return{rule:o,dayStem:u,baseBranch:g,pickerNoon:w,termMarks:D,weeks:$,cur:O??null,next:P??null}}function Zie({setFromEvent:e}){return{handleDayClick:S.useCallback(n=>{e({at:n},"")},[e])}}function Xie({data:e,year:t,month:n,selectedMonth:r}){const i=Gie(),a=Vie({data:e,year:t,month:n,selectedMonth:r,settings:i.settings,pickedDate:i.pickedDate}),o=Zie({setFromEvent:i.setFromEvent});return x.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:x.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[a.cur?.name?x.jsxs(x.Fragment,{children:[a.cur.name," "," ~ ",a.next?.name??""]}):`${t} ${n}`,a.termMarks.length>0&&x.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",a.termMarks.map((c,u)=>x.jsxs("span",{children:[c.name," ",Wie(c.date),u<a.termMarks.length-1?"  ":""]},`${c.name}_${c.date.getTime()}_${u}`)),"]"]})]})}),x.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(c=>x.jsx("div",{className:"py-1",children:c},c))}),x.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:a.weeks.map((c,u)=>c.map((f,m)=>{if(!f)return x.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${u}-${m}`);const p=CE(f),g=new Date,v=p.getFullYear()===g.getFullYear()&&p.getMonth()===g.getMonth()&&p.getDate()===g.getDate(),_=!!a.pickerNoon&&p.getFullYear()===a.pickerNoon.getFullYear()&&p.getMonth()===a.pickerNoon.getMonth()&&p.getDate()===a.pickerNoon.getDate()||!a.pickerNoon&&v,E=Gq(p,a.rule),T=E.charAt(0),N=E.charAt(1),O=li(T,"stem",i.settings.charType),P=li(N,"branch",i.settings.charType),M=i.settings.thinEum&&Ua(T,"stem")?"font-thin":"font-bold",D=i.settings.thinEum&&Ua(N,"branch")?"font-thin":"font-bold",$=!!a.dayStem&&i.settings.showSipSin,H=!!a.dayStem&&i.settings.showSibiUnseong,q=!!a.dayStem&&a.baseBranch!=null&&i.settings.showSibiSinsal,K=$?fa(a.dayStem,{stem:T}):"",F=$?fa(a.dayStem,{branch:N}):"",z=H?Oo(a.dayStem,N):"",Z=q?jo({baseBranch:a.baseBranch,targetBranch:N,era:uf(i.settings.sinsalMode),gaehwa:!!i.settings.sinsalBloom}):"",Q=a.termMarks.find(J=>J.date.getFullYear()===p.getFullYear()&&J.date.getMonth()===p.getMonth()&&J.date.getDate()===p.getDate());return x.jsxs("div",{onClick:()=>o.handleDayClick(p),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${_?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${E} (${p.toLocaleDateString()})`,children:[x.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[x.jsx("span",{children:p.getDate()}),Q&&x.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:Q.name})]}),$&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:K}),x.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Bi(T,"stem",i.settings)}`,children:x.jsx("span",{className:M,children:O})}),x.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Bi(N,"branch",i.settings)}`,children:x.jsx("span",{className:D,children:P})}),$&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:F}),(H||q)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[H&&z&&x.jsx("div",{children:z}),q&&Z&&x.jsx("div",{children:Z})]})]},f.toISOString())}))})]})}function bP(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=Un(a,315);let c=a;new Date<o&&(c=a-1);const f=at(new Date(c,1,10));i.push({at:o,gz:f})}return i}function Jie({data:e}){const t=ou(e),[n,r]=S.useState(null),[i,a]=S.useState(null),[o,c]=S.useState("il"),[u,f]=S.useState(null);S.useEffect(()=>{if(!t.length)return;const w=new Date,_=t.findIndex((E,T)=>{const N=t[T+1]?.at;return w>=E.at&&(!N||w<N)});_!==-1&&r(_)},[t]),S.useEffect(()=>{if(n===null)return;const w=t[n],_=t[n+1];if(!w)return;const E=bP(w,_),T=new Date;E.findIndex((O,P)=>{const M=E[P+1]?.at;return T>=O.at&&(!M||T<M)})!==-1&&a({year:T.getFullYear(),month:T.getMonth()})},[n,t]);const m=zA(e),{date:p}=ui(),g=p.getMonth()+1===1?p.getFullYear()-1:p.getFullYear(),v=S.useMemo(()=>{if(!m?.dae?.gz)return[];const w=t.findIndex((T,N)=>{const O=t[N+1]?.at;return m.dae.at>=T.at&&(!O||m.dae.at<O)});if(w===-1)return[];const _=t[w],E=t[w+1];return bP(_,E)},[t,m?.dae]);return x.jsxs("div",{className:"w-full space-y-4",children:[x.jsx(Pie,{data:e}),o==="se"||o==="wol"||o==="il"?x.jsx(Lie,{data:e,list:v,onSelect:()=>{c("wol")}}):null,o==="wol"||o==="il"?x.jsx(Hie,{data:e,activeYear:g,onSelect:(w,_)=>{a({year:w,month:_}),c("il")},onSelectMonth:f}):null,o==="il"&&i&&x.jsx(Xie,{data:e,year:i.year,month:i.month+1,selectedMonth:u})]})}const Qie=new Set(Mq),eae=new Set(Pq);function vP(e){return typeof e=="string"&&e.length>=2&&Qie.has(e[0])&&eae.has(e[1])}function Ai(e,...t){if(vP(e))return e;for(const n of t)if(vP(n))return n;return""}const tae={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function x0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function nae({data:e}){const t=qn(K=>K.settings),{manualHour:n}=Wm(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:c}=t,{date:u}=ui(),f=S.useMemo(()=>ep(e),[e]),m=S.useMemo(()=>vv(f),[f]),p=S.useMemo(()=>BA(f,"/"),[f]),g=S.useMemo(()=>sv(p.day?.charAt(0)??""),[p.day]),v=!e.birthTime||e.birthTime==="",w=S.useMemo(()=>s4(m,p.hour,e.dir??"forward",120,"/"),[m,p.hour,e.dir]),_=S.useMemo(()=>c4(w,p.day,e.dir??"forward",""),[w,p.day,e.dir]),E=S.useMemo(()=>np(m,p.month,e.dir??"forward",120,f.birthPlace?.lon??127.5),[m,p.month,e.dir,f.birthPlace?.lon]),T=S.useMemo(()=>u4(E,p.year,e.dir??"forward","",m),[E,p.year,e.dir,m]),N=S.useMemo(()=>{const K=w?.events?.[0];return K?{at:K.at,from:Ai(p.hour),to:Ai(K.gz)}:null},[w?.events,p.hour]),O=S.useMemo(()=>{const K=E?.events?.[0];return E?.firstChange?{at:E.firstChange,from:Ai(p.month),to:Ai(K?.gz??p.month)}:null},[E?.firstChange,E?.events,p.month]),P=S.useMemo(()=>{const K=v?n?n.stem+n.branch:"":Ai(x0(w.events,u)?.gz,p.hour);let F;if(v&&n){const z=u.getFullYear(),Z=u.getMonth(),Q=u.getDate(),J=tae[n.branch]??0,Y=new Date(z,Z,Q,J,0),X=gt(Y,e.mingSikType??"/");F=Ai(X,p.day)}else F=Ai(x0(_.events,u)?.gz,p.day);return{si:K,il:F,wl:Ai(x0(E.events,u)?.gz,p.month),yn:Ai(x0(T.events,u)?.gz,p.year)}},[u,w.events,_.events,E.events,T.events,p,v,n,e.mingSikType]),M=S.useMemo(()=>({si:Ai(za(u,"/")),il:Ai(gt(u,"/")),wl:Ai(kt(u)),yn:Ai(at(u))}),[u]),D=S.useMemo(()=>a===""?p.day.charAt(1):p.year.charAt(1),[a,p.day,p.year]),$=S.useMemo(()=>uf(o),[o]),H=K=>{if(!K)return{unseong:"",shinsal:""};const F=li(g,"stem",""),z=li(K.charAt(1),"branch",""),Z=li(D,"branch","");return{unseong:r&&Oo(F,z)||"",shinsal:i&&jo({baseBranch:Z,targetBranch:z,era:$,gaehwa:!!c})||""}},q=(K,F,z="myoun")=>{const Z=F,{unseong:Q,shinsal:J}=F?H(F):{unseong:"",shinsal:""},Y=z==="myoun"&&v&&(K===""||K==="");return x.jsx(pd,{label:K,gz:Z,dayStem:g,settings:t,unseongText:F?Q:"",shinsalText:F?J:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:Y},`${z}-${K}`)};return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[x.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:x.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",x.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",lm(m),")"]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),x.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[q("",P.si,"myoun"),q("",P.il,"myoun"),q("",P.wl,"myoun"),q("",P.yn,"myoun")]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),x.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[q("",M.si,"live"),q("",M.il,"live"),q("",M.wl,"live"),q("",M.yn,"live")]})]})]}),x.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[x.jsx("div",{className:"font-semibold",children:"  "}),x.jsxs("div",{children:[":"," ",N?`${lm(N.at)} (${N.from}  ${N.to})`:" "]}),x.jsxs("div",{children:[":"," ",O?`${lm(O.at)} (${O.from}  ${O.to})`:" "]})]})]})}const xP=["","","","","","","","","",""],rae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},iae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},aae={:"",:"",:"",:"",:""},oae={:"",:"",:"",:"",:""},sae={:"",:"",:"",:"",:""},lae={:"",:"",:"",:"",:""};function cae(e,t){switch(e){case"":return t;case"":return aae[t];case"":return sae[t];case"":return lae[t];case"":return oae[t];default:return t}}function uae({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:o}){const c=i,u=a,f=c/2,m=u/2,p=Math.min(c,u)*.37,g=S.useMemo(()=>{const O=(r??"").charAt(0);return iae[O]??null},[r]),v=O=>Math.PI/2+2*-Math.PI*O/5,w=S.useMemo(()=>e.map((O,P)=>({...O,x:f+p*Math.cos(v(P)),y:m-p*Math.sin(v(P))})),[e,f,m,p]),[_,E]=S.useState(0),T=S.useRef(""),N=S.useMemo(()=>{const O=e.map(D=>`${D.name}:${D.value}`).join(","),P=xP.map(D=>`${D}:${t?.[D]??0}`).join(","),M=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[o??"",O,P,M,r??""].join("||")},[o,e,t,r,n]);return S.useEffect(()=>{N!==T.current&&(T.current=N,E(O=>O+1))},[N]),x.jsx("div",{className:"w-full",children:x.jsxs("svg",{width:c,height:u,className:"mx-auto pt-2",children:[w.map((O,P)=>{const M=w[(P+2)%5];return x.jsx("line",{x1:O.x,y1:O.y,x2:M.x,y2:M.y,stroke:"#94a3b8",strokeWidth:1},`line-${P}`)}),w.map((O,P)=>{const M=w[(P+1)%5],D=(O.x+M.x)/2,$=(O.y+M.y)/2,H=D-f,q=$-m,K=1.5,F=f+H*K,z=m+q*K;return x.jsx("path",{d:`M${O.x},${O.y} Q${F},${z} ${M.x},${M.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${P}`)}),x.jsx("defs",{children:x.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:x.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),w.map(O=>{const P=O.name,M=g?cae(P,g):null,D=M?xP.filter($=>rae[$]===M).map($=>[$,t?.[$]??0]):[];return x.jsxs("g",{transform:`translate(${O.x},${O.y})`,children:[x.jsx("circle",{r:33,fill:O.color??"#334155",opacity:O.value===0?.7:1}),x.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[O.name," ",O.value]}),D.map(([$,H],q)=>x.jsxs("text",{textAnchor:"middle",dy:8+q*11,fontSize:10,className:"fill-white",children:[$," ",Math.round(H)]},$))]},`${O.name}-${O.value}`)})]},_)})}const dae=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function n2(e){return Math.max(0,Math.min(100,e))}function I4(e){const t=n2(e);return dae.find(r=>t>=r.min&&t<r.max)?.name??""}const fae=[10,20,35,45,55,65,80];function hae({value:e}){const t=S.useMemo(()=>n2(e),[e]),n=S.useMemo(()=>I4(t),[t]);return x.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[x.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[x.jsx("span",{children:""}),x.jsx("span",{children:""}),x.jsx("span",{children:""})]}),x.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[fae.map(r=>x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),x.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),x.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}function Dh(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function na({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,c=t.length>0?t:["#"],u=o?c.filter(p=>p!=="#"):c,m=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return x.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[x.jsx("div",{className:m,children:e}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Dh(p,"natal"),children:p},`natal-${g}`)),n.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Dh(p,"dae"),children:p},`dae-${g}`)),r.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Dh(p,"se"),children:p},`se-${g}`)),i.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Dh(p,"wol"),children:p},`wol-${g}`)),a.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Dh(p,"il"),children:p},`il-${g}`))]})]})}function ME(e){return Array.isArray(e)?e:[]}function _0(e,t){const n=new Set(ME(e));return ME(t).filter(i=>!n.has(i))}function mae({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=QA(e),c=_l({natal:e}),u=t?_l({natal:e,daewoon:t}):c,f=n?_l({natal:e,daewoon:t,sewoon:n}):u,m=r?_l({natal:e,daewoon:t,sewoon:n,wolwoon:r}):f,p=i?_l({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):m,g=_=>({natal:ME(o[_]),dae:_0(c[_],u[_]),se:_0(u[_],f[_]),wol:_0(f[_],m[_]),il:_0(m[_],p[_])}),v={cheonganHap:g("cheonganHap"),cheonganChung:g("cheonganChung"),jijiSamhap:g("jijiSamhap"),jijiBanhap:g("jijiBanhap"),jijiBanghap:g("jijiBanghap"),jijiYukhap:g("jijiYukhap"),amhap:g("amhap"),ganjiAmhap:g("ganjiAmhap"),jijiChung:g("jijiChung"),jijiHyeong:g("jijiHyeong"),jijiPa:g("jijiPa"),jijiHae:g("jijiHae")},w=_=>a===""?{natal:_.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:[],wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:_.wol,il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:_.wol,il:_.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return x.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[x.jsx("div",{className:"text-base font-bold mb-1",children:""}),x.jsx(na,{label:"",...w(v.cheonganHap)}),x.jsx(na,{label:"",...w(v.cheonganChung)}),x.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),x.jsx(na,{label:"",...w(v.jijiSamhap)}),x.jsx(na,{label:"",...w(v.jijiBanhap)}),x.jsx(na,{label:"",...w(v.jijiBanghap)}),x.jsx(na,{label:"",...w(v.jijiYukhap)}),x.jsx(na,{label:"",...w(v.amhap)}),x.jsx(na,{label:"",...w(v.ganjiAmhap)}),x.jsx(na,{label:"",...w(v.jijiChung)}),x.jsx(na,{label:"",...w(v.jijiHyeong)}),x.jsx(na,{label:"",...w(v.jijiPa)}),x.jsx(na,{label:"",...w(v.jijiHae)})]})}function pae(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function gae({items:e,source:t}){const n=e.length>0?e:["#"];return x.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+pae(r,t),children:r},`${t}-${i}-${r}`))})}function _P({title:e,rows:t}){return x.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[x.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return x.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[x.jsx("div",{className:i,children:n.label}),x.jsx(gae,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function yae({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=qn(),[c,u]=S.useState(""),[f,m]=S.useState("");S.useEffect(()=>{o.sinsalBase===""?(u(""),m("")):(u(""),m(""))},[o.sinsalBase]);const p=S.useMemo(()=>({voidBasis:c===""?"day":"year",samjaeBasis:f===""?"day":"year"}),[c,f]),g=S.useMemo(()=>zd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:v,bad:w,meta:_}=g,E=K=>K.map(F=>F==="#"?F:` ${F}`),T=(K,F)=>{const z=["natal"];return F===""&&z.push("natal"),F===""&&z.push("natal","dae"),F===""&&z.push("natal","dae","se"),F===""&&z.push("natal","dae","se","wol"),F===""&&z.push("natal","dae","se","wol","il"),K.filter(Z=>z.includes(Z.source))},N=[{label:"",items:E(v.si),source:"natal"},{label:"",items:E(v.il),source:"natal"},{label:"",items:E(v.wol),source:"natal"},{label:"",items:E(v.yeon),source:"natal"},{label:"",items:v.dae,source:"dae"},{label:"",items:v.se,source:"se"},{label:"",items:v.wolun,source:"wol"},{label:"",items:v.ilun,source:"il"}],O=[{label:"",items:E(w.si),source:"natal"},{label:"",items:E(w.il),source:"natal"},{label:"",items:E(w.wol),source:"natal"},{label:"",items:E(w.yeon),source:"natal"},{label:"",items:w.dae,source:"dae"},{label:"",items:w.se,source:"se"},{label:"",items:w.wolun,source:"wol"},{label:"",items:w.ilun,source:"il"}],P=T(N,a),M=T(O,a),D=_.voidPair.day?`(${_.voidPair.day.join("")})`:"()",$=_.voidPair.year?`(${_.voidPair.year.join("")})`:"()",H=_.samjaeYears.day?`(${_.samjaeYears.day.join("")})`:"()",q=_.samjaeYears.year?`(${_.samjaeYears.year.join("")})`:"()";return x.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[x.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),x.jsxs("select",{value:c,onChange:K=>u(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[x.jsx("option",{value:"",children:D}),x.jsx("option",{value:"",children:$})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),x.jsxs("select",{value:f,onChange:K=>m(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[x.jsx("option",{value:"",children:H}),x.jsx("option",{value:"",children:q})]})]})]}),x.jsxs("div",{className:"desk:flex",children:[x.jsx(_P,{title:"()",rows:P}),x.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),x.jsx(_P,{title:"()",rows:M})]})]})}const oa={year:0,month:1,day:2,hour:3},$4={[oa.year]:.3,[oa.month]:.5,[oa.day]:.3,[oa.hour]:.3},B4={[oa.year]:.15,[oa.month]:.2,[oa.day]:0,[oa.hour]:.15},bae=e=>fm.has(e)?e:Gn[e]??e,vae=e=>Dd.has(e)?e:Rn[e]??e,xae=e=>typeof e=="string"&&e.length>=2?bae(e.slice(-1)):"",_ae=e=>typeof e=="string"&&e.length>=1?vae(e.slice(0,1)):"",bn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),wae={:bn(2,0,.5,2),:bn(2,0,0,2),:bn(2,0,0,2),:bn(0,2,2,0),:bn(0,2,2,0),:bn(0,2,1,2),:bn(0,2,2,.5),:bn(0,2,2,0),:bn(0,2,2,1),:bn(2,0,0,2),:bn(2,0,0,2),:bn(2,0,1,1)},Sae={:bn(0,1,1,0),:bn(0,1,1,0),:bn(0,2,2,0),:bn(0,2,2,0),:bn(0,0,1,0),:bn(0,0,0,1),:bn(1,0,0,1),:bn(1,0,0,1),:bn(2,0,0,2),:bn(2,0,0,2)},wP=e=>Math.max(0,Math.min(100,e));function SP(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function Eae(e){let t=0,n=0,r=0,i=0;return[oa.year,oa.month,oa.day,oa.hour].forEach(a=>{const o=wae[xae(e[a])],c=Sae[_ae(e[a])],u=$4[a],f=B4[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),f>0&&c&&(t+=c.han*f,n+=c.nan*f,r+=c.jo*f,i+=c.seup*f)}),{han:t,nan:n,jo:r,seup:i}}function kae(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function Aae(e){const t=kae(e);return S.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=Eae(t),o=SP(n,r),c=SP(a,i);return{hanNanPct:wP(o),joSeupPct:wP(c),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:$4,stem:B4}}},[t])}function EP({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=S.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),o=[10,20,35,45,55,65,80];return x.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[x.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[x.jsx("span",{children:n}),x.jsx("span",{children:r}),x.jsx("span",{children:i})]}),x.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[o.map(c=>x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${c}%`},title:`${c}%`},c)),x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),x.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),x.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function Tae({natal:e}){const{hanNanPct:t,joSeupPct:n}=Aae(e);return x.jsxs("div",{className:"flex gap-2",children:[x.jsx(EP,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),x.jsx(EP,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const Rr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Pa={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Oae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},eb={:"",:"",:"",:"",:""},z4={:"",:"",:"",:"",:""},Em={:"",:"",:"",:"",:""},U4={:"",:"",:"",:"",:""},jae={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},Nae={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function r2(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function F4(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function i2(e){return e==="hgc"?Nae:jae}const Cae={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},Jw={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},H4={:"",:"",:"",:"",:""},G4={:"",:"",:"",:""},Mae=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],Pae=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],Dae={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Ye=(e,t)=>`${e}${t}`,Oi=(e,t,n)=>`${e}${t}${n}`,Rae={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},kP={[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""]},AP={[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:["",""]},Lae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function sa(e){return["","","","",""].includes(e)}function Iae(e){return["","","","","",""].includes(e)}const Qw=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,ia=e=>e&&e.length>=1?e.charAt(0):"",Sn=e=>e&&e.length>=2?e.charAt(1):"",$ae=e=>Array.from(new Set(e));function Bae(e,t){const n=Cae[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function zae(e){return Rr[e]??""}function Da(e,t){const n=Rr[e],r=Rr[t];if(!n||!r)return"";let i;r===n?i="":r===eb[n]?i="":r===Em[n]?i="":r===U4[n]?i="":r===z4[n]?i="":i="";const a=sa(e)===sa(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Uae(e,t){const n=Rr[e],r=Pa[t];if(!n||!r)return"";let i;r===n?i="":r===eb[n]?i="":r===Em[n]?i="":r===U4[n]?i="":r===z4[n]?i="":i="";const a=Iae(t)===sa(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Fae(e){return{:"",:"",:"",:"",:""}[e]??""}function PE(e,t){const n=zae(e),r=sa(e);let i;t===n?i="":eb[n]===t?i="":eb[t]===n?i="":Em[n]===t?i="":Em[t]===n?i="":i="";const a=r===sa(Fae(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const Hae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Gae=e=>/^(|||||||||)$/.test(e);function qae(e){return e?Gae(e)?e:Hae[e]??"":""}function w0(e){return qae(ia(e))}function Yae(e){return e?.charAt(0)??""}function Kae(e){return e?.charAt(1)??""}function Wae(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),c=fe=>(fe?.length??0)>=1?fe.charAt(0):"",u=fe=>(fe?.length??0)>=2?fe.charAt(1):"",f=[r,i,a,o].map(c).filter(Boolean),m=new Set(Object.keys(Pa)),p=[r,i,a,o].map(u).filter(fe=>!!fe&&m.has(fe)),g=c(a),v=Dae[g]??!1,w=new Set,_=t==="classic"?av:ov,E=new Set(["","","","","","","","","",""]),T=fe=>(_[fe]??[]).filter(Me=>E.has(Me)),N=(fe,Me)=>{const Be=Pa[Me];return Be?PE(fe,Be):null},O={:0,:0,:0,:0,:0};for(const fe of f){const Me=Rr[fe];Me&&(O[Me]+=10)}const P=[];for(const fe of p){const Me=Oae[fe];Me&&P.push(Me);const Be=Pa[fe];Be&&(O[Be]+=6)}const D=[...f,...P].map(fe=>Da(g,fe)),$={:["",""],:["",""],:["",""],:["",""],:["",""]},H=fe=>D.filter(Me=>Me===fe).length,q=fe=>D.filter(Me=>$[fe].includes(Me)).length,K=p[1],F=!!g&&Lae[g]===K,z=n.elementPercent100;z.>=20&&z.>=20&&z.>=15&&w.add("");const Z=[r,i,a,o].filter(Boolean),Q=[];for(const fe of Z){const Me=fe.charAt(0),Be=fe.charAt(1);Q.push(Da(g,Me)),Q.push(N(g,Be))}const J=(fe,Me)=>{const Be=(lt,jt)=>!!lt&&!!jt&&fe.includes(lt)&&Me.includes(jt)||Me.includes(lt)&&fe.includes(jt);for(let lt=0;lt+1<Q.length;lt+=2)if(Be(Q[lt],Q[lt+1]))return!0;return!1},Y=fe=>Q.some(Me=>!!Me&&fe.includes(Me)),X=H("")+H(""),re=H(""),ue=q(""),se=q(""),B=J(["",""],["",""]);if((re>=1||X>=2)&&ue>=1&&X>ue&&se<=1&&B&&w.add(""),Y($.)&&Y($.)&&J($.,$.)){const fe=D.includes("");w.add(fe?"":"")}q("")>=2&&q("")>=2&&Math.abs(q("")-q(""))<=1&&q("")<=1&&q("")<=1&&w.add("");const W=H(""),ae=H(""),V=H("")+H(""),oe=H("")+H(""),me=q("");ae>=2&&V>=1&&O.+O.>=20&&w.add(""),ae>=2&&oe>=1&&O.+O.>=20&&w.add(""),ae>=2&&oe>=1&&O.+O.>=20&&J([""],["",""])&&me<=1&&w.add(""),W>=2&&oe>=1&&O.+O.>=20&&J([""],["",""])&&me<=1&&w.add("");const pe=(fe,Me)=>{const Be=Rr[fe],lt=Pa[Me];return!!Be&&!!lt&&Be===lt},be=[r,i,a,o].filter(Boolean),ne=u(a),Oe=pe(g,ne),Ce=be.map(fe=>fe.charAt(0)).filter(fe=>["",""].includes(Da(g,fe)));let ve=!1;for(const fe of be){const Me=fe.charAt(0),Be=fe.charAt(1);if(Ce.includes(Me)&&pe(Me,Be)){ve=!0;break}}Oe&&ve&&w.add(""),q("")>=3&&q("")>=.5*(q("")+q("")+q("")+q(""))&&w.add(""),q("")>=3&&q("")>=.5*(q("")+q("")+q("")+q(""))&&w.add(""),q("")>=3&&q("")>=1&&w.add(""),q("")>=3&&q("")+q("")<=1&&w.add("");const Ze=H("");q("")+q("")>=2&&Ze===1&&q("")>=1&&w.add(""),Ze>=2&&V+q("")>=3&&w.add("");const Ne=W+ae;(W>=2||Ne>=2)&&oe>=1&&Ne>oe&&w.add(""),ae>=2&&oe>=1&&Ne>oe&&w.add("");const _e=H(""),je=H("");_e>=2&&Ze+je>=1&&w.add(""),_e>=2&&Ze+je===0&&w.add(""),v&&_e>=2&&Ze>=1&&w.add(""),!v&&_e>=2&&Ze>=1&&w.add(""),H("")>=2&&H("")>=1&&w.add(""),H("")>=1&&H("")>=1&&J([""],[""])&&w.add(""),F&&Ze>=1&&q("")+q("")>=2&&w.add("");const Ie=[u(r),u(i),u(a),u(o)].filter(Boolean),Ve=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),bt=new Set(Ve.map(fe=>Da(g,fe))),xt=new Set(Ie.flatMap(fe=>{const Me=Pa[fe];return Me?[PE(g,Me)]:[]})),Pt=new Set(Ie.flatMap(fe=>T(fe).map(Me=>Da(g,Me))));return["","","","",""].forEach(fe=>{const Me=$[fe],Be=Me.some(yt=>bt.has(yt)),lt=Me.some(yt=>xt.has(yt)),jt=Me.some(yt=>Pt.has(yt));!Be&&!lt&&!jt?w.add(`${fe}`):!Be&&!lt&&jt&&w.add(`${fe}`)}),Array.from(w)}const Vae=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=ia(n),i=Sn(n),a=Rr[r],o=Pa[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function Zae(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,c,u]=(t??[]).slice(0,4),f=[ia(a),ia(o),ia(c),ia(u)].filter(Boolean),m=[Sn(a),Sn(o),Sn(c),Sn(u)].filter(Boolean),p=Rr[n],g=f.map(fe=>Da(n,fe)),v=[],w=fe=>f.filter(Me=>Me===fe).length,_=fe=>m.filter(Me=>Me===fe).length,E=fe=>fe.every(Me=>m.includes(Me)),T=fe=>g.some(Me=>fe.includes(Me)),N=ia(o),O=fe=>sa(fe),P=()=>{const fe=f.map(Me=>Rr[Me]);return fe.length===4&&fe.every(Me=>Me===fe[0])},M=()=>{if(f.length!==4)return!1;const fe=f.map(O),Me=fe[0]&&!fe[1]&&fe[2]&&!fe[3],Be=!fe[0]&&fe[1]&&!fe[2]&&fe[3];return Me||Be};sa(n)&&H4[n]===r&&v.push("");const D=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[fe,Me]of D)if(n===fe&&r===Me){v.push("");break}!sa(n)&&G4[n]===r&&v.push("");const $=Jw[n];$&&Sn(c)===$&&p===Pa[Sn(c)]&&v.push(""),$&&Sn(u)===$&&p===Pa[Sn(u)]&&v.push("");const H=[a,o,c,u].map(Yae),q=[a,o,c,u].map(Kae);for(const fe of H);for(const fe of q);const K=i==="hgc"?ov:av;function F(fe){return(K[fe]??[]).filter(Me=>["","","","","","","","","",""].includes(Me))}const z=[a,o,c,u].filter(Boolean),Q=z.flatMap(fe=>[fe.charAt(0),fe.charAt(1)]).flatMap(fe=>{try{if(["","","","","","","","","",""].includes(fe))return[Da(n,fe)];if(["","","","","","","","","","","",""].includes(fe)){const Me=Uae(n,fe),Be=F(fe).map(lt=>Da(n,lt));return[Me,...Be]}return[]}catch{return[]}}),J=fe=>Q.some(Me=>fe.includes(Me)),Y=(fe,Me)=>{const Be=[],lt=[];for(const yt of z){const Zn=yt.charAt(0),mi=yt.charAt(1);Be.push(Da(n,Zn));const pi=Pa[mi];pi?lt.push(PE(n,pi)):lt.push(null)}const jt=(yt,Zn)=>!!yt&&!!Zn&&(fe.includes(yt)&&Me.includes(Zn)||Me.includes(yt)&&fe.includes(Zn));for(let yt=0;yt<Be.length;yt++)if(jt(Be[yt],lt[yt]))return!0;for(let yt=0;yt<Be.length-1;yt++)if(jt(Be[yt],Be[yt+1])||jt(lt[yt],lt[yt+1]))return!0;return!1},X={:["",""],:["",""],:["",""],:["",""]};J([...X.])&&J([...X.])&&Y([...X.],[...X.])&&v.push(""),J([...X.])&&J([...X.])&&Y([...X.],[...X.])&&v.push("");const re=fe=>g.filter(Me=>fe.includes(Me)).length,ue=re(["",""]),se=re([""]),B=re([""]),W=re(["",""]),ae=re(["",""]),V=re(["",""]);se>=1&&ue>=1&&ue>=se&&B<=se&&v.push("");const oe=re([""]);oe>=1&&W>=1&&oe>=W&&v.push(""),g.includes("")&&W>=1&&v.push("");const pe=Vae(t),be=Object.entries(pe).sort((fe,Me)=>Me[1]-fe[1]),ne=be[0];if(ne&&ne[1]>=60&&v.push(`(${ne[0]})`),be.length>=2){const[fe,Me]=be[0],[,Be]=be[1];Me>=75&&Me-Be>=12&&p!==fe&&v.push(`(${fe})`)}for(const fe of Mae){const Me=f.includes(fe.a),Be=f.includes(fe.b);if(!Me||!Be)continue;const lt=fe.to,jt=pe[lt]??0,yt=Rr[fe.a],Zn=Rr[fe.b],mi=Math.max(pe[yt]??0,pe[Zn]??0),pi=Pa[r]===lt,Ms=Object.entries(pe).sort((hn,gi)=>gi[1]-hn[1])[0]?.[0]===lt;let qt=!1;jt>=60&&(pi||Ms)&&mi<=20&&jt-mi>=20&&(v.push(`(${lt})`),qt=!0),!qt&&jt>=50&&(pi||Ms)&&mi<=25&&(v.push(`(${lt})`),qt=!0),!qt&&jt>=35&&v.push(`(${lt})`)}const Oe=`${ia(u)}${Sn(u)}`;["",""].includes(n)&&["","",""].includes(Oe)&&v.push(""),["","","",""].includes(Sn(u))&&v.push(""),["",""].includes(n)&&(Sn(c)===""||Sn(o)==="")&&!m.includes("")&&v.push("");const Ce=f.some(fe=>fe===""||fe===""),ve=m.some(fe=>fe===""||fe==="");["",""].includes(Sn(c))&&!Ce&&!ve&&v.push(""),["","",""].every(fe=>f.includes(fe))&&v.push(""),["","",""].every(fe=>f.includes(fe))&&v.push(""),["","",""].every(fe=>f.includes(fe))&&v.push("");const Ze=Object.values(pe).sort((fe,Me)=>Me-fe);Ze.length>=3&&Ze[0]-Ze[2]<=8&&Ze[0]+Ze[1]+Ze[2]>=80&&v.push(""),ae>=1&&V>=1&&Math.abs(ae-V)<=1&&v.push(""),E(["","","",""])&&v.push(""),E(["","","",""])&&v.push(""),E(["","","",""])&&v.push(""),m.length===4&&m.every(fe=>fe===m[0])&&v.push(""),f.length===4&&P()&&M()&&v.push(""),t.every(fe=>fe&&fe===t[0])&&v.push(""),f.length===4&&f.every(fe=>fe===f[0])&&m.length===4&&m.every(fe=>fe===m[0])&&v.push(""),ue>=1&&(Sn(c)===Jw[n]||Sn(u)===Jw[n])&&v.push(""),w("")>=3&&E(["","",""])&&["","",""].includes(Sn(c))&&v.push("");const _e=n===""||n==="",je=[["","",""],["","",""]],Ie=[["","",""],["","",""]];_e&&(je.some(fe=>E(fe))||Ie.some(fe=>E(fe)))&&v.push("");const Ve=new Set(["","","","","",""]),bt=`${ia(c)}${Sn(c)}`;if(Ve.has(bt)&&_("")>=2&&(T(["",""])||m.includes("")||m.includes("")||T(["",""])||v.push("")),new Set(["","","","","",""]).has(bt)&&_("")>=2&&m.includes("")&&v.push(""),n===""&&`${ia(u)}${Sn(u)}`==""){const fe=Da(n,N);!["","","",""].includes(fe)&&T(["",""])&&!m.includes("")&&!m.includes("")&&v.push("")}return new Set(["","",""]).has(bt)&&`${ia(u)}${Sn(u)}`==""&&!m.includes("")&&!T(["",""])&&v.push(""),bt===""&&_("")+_("")>=2&&v.push(""),(bt===""||bt==="")&&_("")>=2&&!T(["",""])&&!m.includes("")&&v.push(""),n===""&&E(["","",""])&&v.push(""),bt===""&&`${ia(u)}${Sn(u)}`==""&&v.push(""),$ae(v)}function Xae(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function Jae(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const TP=1e3*60*60*24;function S0(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function Qae(e){let t=da(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=da(r)}return t}function eoe(e){const t=Rae[e];return Array.isArray(t)&&t.length>0?t[0]:null}function toe(e,t){const n=eoe(e);if(!n)return null;const r=Qae(t),i=r.findIndex(f=>f.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const c=Math.floor((S0(t)-S0(a))/TP)+1,u=o?Math.max(1,Math.floor((S0(o)-S0(a))/TP)):30;return{dayIdx:c<1?1:c,spanDays:u}}function noe(e){return(e.?.w??0)+(e.?.w??0)+e..w}function roe(e,t,n){const r=Math.max(1,noe(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,c=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+c?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function q4(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:c,mapping:u}=e,f=[],m=F4(u),p=i2(m);if(!r2(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const g=p[n];if(!g)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const v={:g.?{stem:Qw(g..stem),w:g..w}:void 0,:g.?{stem:Qw(g..stem),w:g..w}:void 0,:{stem:Qw(g..stem),w:g..w}},w=v..stem;let _=w;const E=toe(n,r);if(["","","",""].includes(n)&&Bae(n,o)&&v.)_=v..stem,f.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(E){const z=roe(v,E.dayIdx,E.spanDays);_=z.stem,f.push({kind:"BUNIL_PICK",from:z.from})}else _=w,f.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function T(z,Z){if(!z)return!1;if(Z.includes(z))return!0;const Q=Rr[z];return Q?Z.some(J=>Rr[J]===Q):!1}let N="";_&&T(_,a)&&!c?.(_)?(N=_,f.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):_&&c?.(_)&&f.push({kind:"NEUTRALIZED"});const O=N||w;let P="";const M=Rr[O];if(M){const z=Object.entries(Em).find(([,Z])=>Z===M)?.[0]??null;z&&(P=Object.entries(Rr).find(([Q,J])=>J===z&&sa(Q)===sa(O))?.[0]??"")}let D="-";const $=Da(t,O),H=Pae.some(([z,Z])=>z===t&&Z===n),q=sa(t)&&H4[t]===n,K=!sa(t)&&G4[t]===n;$===""||$===""?H?(D="",f.push({kind:"EX_GEONLOK"})):q?(D="",f.push({kind:"EX_YANGIN"})):K?(D="",f.push({kind:"EX_WOLGEOP"})):f.push({kind:"EX_EXCLUDED_BIGEOP"}):D=Jae($);const F=Zae({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:w,:_,:N||"-",:O||"-",:P||"-",:D,:F,reason:Xae(f),reasonTokens:f}}function ioe(e){const[t,n,r,i]=e,a=w0(i),o=w0(r),c=w0(n),u=w0(t),f=[],m=[[a,o],[o,c],[c,u]];for(const[g,v]of m){if(!g||!v)continue;const w=Ye(g,v),_=kP[w];_?.length&&f.push(..._);const E=Ye(v,g);if(E!==w){const T=kP[E];T?.length&&f.push(...T)}}const p=[[a,o,c],[o,c,u]];for(const[g,v,w]of p){if(!g||!v||!w)continue;const _=Oi(g,v,w),E=AP[_];E?.length&&f.push(...E);const T=Oi(w,v,g);if(T!==_){const N=AP[T];N?.length&&f.push(...N)}}return Array.from(new Set(f))}const aoe=["","","","",""];function ooe(e){return aoe.includes(e)}function soe(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function Rh(e,t){if(!t)return e;const n=(ooe(t),t);return`${e}(${n})`}const loe={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},coe={:e=>({title:Rh("",e),short:"     ."}),:e=>({title:Rh("",e),short:"   ."}),:e=>({title:Rh("",e),short:"   ."}),:e=>({title:Rh("",e),short:"    ."}),:e=>({title:Rh("",e),short:"    ."})};function uoe(e){const{base:t,inner:n}=soe(e);return t===""||t===""||t===""||t===""||t===""?coe[t](n):loe[t]}function doe(e){const t=uoe(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const foe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),OP={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function hoe(e){if(foe(OP,e))return OP[e]}const jP={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},moe={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function poe(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function goe(e,t){return e===""?{title:`${t}`,short:`${jP[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${jP[t]}()     .`,hint:" X /  O"}}function yoe(e){const t=poe(e);return t?goe(t.kind,t.group):moe[e]}function boe(e){const t=yoe(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const voe={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function xoe(e){return voe[e]?.text}const _oe=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},woe={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},Soe={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},Eoe=e=>e.replace(/^\s*:\s*/,"").trim();function koe(e){const t=Eoe(e);return Soe[t]}function Aoe(e){const t=woe[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${_oe(e.from)})`}:t}function Toe(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:o,mapping:c,unified:u}=e,[f,m,p,g]=t,v=V=>V&&V.length>=1?V.charAt(0):"",w=V=>V&&V.length>=2?V.charAt(1):"",_=w(m),E=v(p),T=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,N=[v(f),v(m),v(p),v(g)].filter(V=>!!(V&&V.length===1)),O=[w(f),w(p),w(g)].filter(V=>!!(V&&V.length===1)),P=q4({dayStem:E,monthBranch:_,date:T,pillars:t,emittedStems:i??N,otherBranches:a??O,isNeutralized:o,mapping:c}),M=P.reasonTokens??[],D=P.reason??[],$=[` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`],H=[` : ${P.||"-"}`],q=Array.isArray(P.)&&P..length>0?P..map(V=>` : ${V}`):[" : -"],K=ioe(t),F=[...K.length?K.map(V=>`${V}`):[]],Z=[...Wae(t,c,u)],Q=({text:V,color:oe})=>{const me={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return x.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${me[oe]}`,title:V,children:V})},J=({children:V})=>x.jsx("li",{className:"!flex flex-wrap gap-1 p-1 rounded-sm",children:V}),[Y,X]=S.useState(null),re=({text:V})=>{const oe=V.replace(/^\s*:\s*/,"").trim(),me=S.useMemo(()=>doe(oe),[oe]),pe=`outer:${oe}`,be=Y===pe;return me?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>X(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:x.jsx(Q,{text:V,color:"blue"})}),be&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):x.jsx(Q,{text:V,color:"blue"})},ue=({text:V})=>{const oe=V.trim(),me=S.useMemo(()=>hoe(oe),[oe]),pe=`mulsang:${oe}`,be=Y===pe;return me?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>X(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:x.jsx(Q,{text:V,color:"green"})}),be&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):x.jsx(Q,{text:V,color:"green"})},se=({text:V})=>{const oe=V.trim(),me=S.useMemo(()=>boe(oe),[oe]),pe=`structure:${oe}`,be=Y===pe;return me?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>X(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:x.jsx(Q,{text:V,color:"red"})}),be&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):x.jsx(Q,{text:V,color:"red"})},B=({text:V,color:oe})=>{const me=V.trim(),pe=me.split(":")[0]?.trim()??me,be=S.useMemo(()=>xoe(pe),[pe]),ne=`term:${pe}`,Oe=Y===ne;return be?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>X(Oe?null:ne),className:"inline-flex cursor-pointer",title:be,children:x.jsx(Q,{text:V,color:oe})}),Oe&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:be})]}):x.jsx(Q,{text:V,color:oe})},W=({text:V})=>{const oe=S.useMemo(()=>koe(V),[V]),me=`naegyeok:${V}`,pe=Y===me;return oe?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>X(pe?null:me),className:"inline-flex cursor-pointer",title:oe.text,children:x.jsx(Q,{text:V,color:"amber"})}),pe&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:oe.text})]}):x.jsx(Q,{text:V,color:"amber"})},ae=({token:V,fallback:oe,idx:me})=>{const pe=Aoe(V),be=pe?.title??oe,ne=pe?.text??oe,Oe=`reason:${V.kind}:${"from"in V?V.from:""}:${me}`,Ce=Y===Oe;return x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>X(Ce?null:Oe),className:"inline-flex cursor-pointer",title:ne,children:x.jsx(Q,{text:be,color:"amber"})}),Ce&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:ne})]})};return x.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${$.join(",")}|${H.join(",")}|${q.join(",")}`,children:[x.jsx("div",{className:"font-bold text-base",children:"   "}),x.jsx("div",{className:"text-xs text-amber-500 dark:text-amber-400 mb-2",children:"*        ."}),x.jsxs("ul",{className:"space-y-1",children:[x.jsx(J,{children:$.map(V=>x.jsx(B,{text:V,color:"violet"},V))}),x.jsx(J,{children:H.map(V=>x.jsx(W,{text:V},V))}),x.jsx(J,{children:q.map(V=>x.jsx(re,{text:V},V))}),x.jsx(J,{children:F.map(V=>x.jsx(ue,{text:V},V))}),x.jsx(J,{children:Z.map(V=>x.jsx(se,{text:V},V))})]}),M.length>0?x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}),x.jsx("div",{className:"mt-1",children:x.jsx(J,{children:M.map((V,oe)=>x.jsx(ae,{token:V,fallback:D[oe]??V.kind,idx:oe},`${V.kind}-${oe}`))})})]}):P.reason.length>0?x.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[": ",P.reason.join(" / ")]}):null]})}const Ooe=Object.fromEntries(Ya..map((e,t)=>[e,$r[t]])),joe=Object.fromEntries($r.map((e,t)=>[e,Ya.[t]])),Noe=Object.fromEntries(Ya..map((e,t)=>[e,si[t]])),Coe=Object.fromEntries(si.map((e,t)=>[e,Ya.[t]])),Moe=e=>Ooe[e]??e,Poe=e=>Noe[e]??e,Doe=e=>joe[e]??e,Roe=e=>Coe[e]??e;function Loe(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?Moe(n):Doe(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function a2(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?Poe(n):Roe(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const Ioe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$oe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Y4={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},Boe={...Y4,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},NP=Loe(Ioe),CP=a2($oe);a2(Y4);a2(Boe);const zoe=["","","","",""];function Uoe(){const[e,t]=S.useState("   "),[n,r]=S.useState(""),[i,a]=S.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const Foe={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},Hoe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function K4(e){const t=Hoe[e]??"";return Foe[t]}const Goe=Object.fromEntries(Ya..map((e,t)=>[e,$r[t]])),qoe=Object.fromEntries($r.map((e,t)=>[e,Ya.[t]])),Yoe=Object.fromEntries(Ya..map((e,t)=>[e,si[t]])),Koe=Object.fromEntries(si.map((e,t)=>[e,Ya.[t]])),Woe=e=>Goe[e]??e,Voe=e=>Yoe[e]??e,Zoe=e=>qoe[e]??e,Xoe=e=>Koe[e]??e;function W4(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${Woe(r)}${Voe(i)}`:`${Zoe(r)}${Xoe(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const V4={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},Joe={...V4,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Qoe=W4(V4),ese=W4(Joe),tse={:"",:"",:"",:"",:""},nse={:"",:"",:"",:"",:""},rse={:"",:"",:"",:"",:""},ise={:"",:"",:"",:"",:""},ase=e=>Rn[e]??e,ose=e=>Gn[e]??e;function Z4(e){return!e||e.length<2?"":`${ase(e[0])}${ose(e[1])}`}const X4=e=>e&&e.length>=1?e[0]:"",J4=e=>e&&e.length>=2?e[1]:"";function Q4(e){return{:e,:tse[e],:nse[e],:rse[e],:ise[e]}}const e7={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function sse(e,t){const n=(e??[]).slice(0,4).map(Z4);if(n.length!==4||n.some(g=>g.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=X4(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(g=>J4(g)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},c=e7[r]??[],u=a[1];c.includes(u)&&(o..=!0,o..=!0);const f=a[2];c.includes(f)&&(o..=!0,o..=!0);const m=Q4(i).,p=t[m]??0;return o..=p>=30,{flags:o,monthBranch:u,dayEl:i}}function t7(e,t){const n=(e??[]).slice(0,4).map(Z4);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const w={:!1,:!1,:!1};return{flags:{:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w}},monthBranch:"",dayEl:""}}const r=X4(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(w=>J4(w)),o={:!1,:!1,:!1},c={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=e7[r]??[],f=a[1];u.includes(f)&&(c..=!0,c..=!0,c..=!0,c..=!0);const m=a[2];u.includes(m)&&(c..=!0,c..=!0,c..=!0,c..=!0);const p=Q4(i).;return(t[p]??0)>=30&&(c..=!0,c..=!0,c..=!0,c..=!0),{flags:c,monthBranch:f,dayEl:i}}const lse=Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e])),cse=Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e])),use=e=>Rn[e]??e,dse=e=>Gn[e]??e;function fse(e){return!e||e.length<2?"":`${use(e[0])}${dse(e[1])}`}function Ac(e){return NP[e]??NP[lse[e]??""]}function Tc(e){return CP[e]??CP[cse[e]??""]}const e1=["year","month","day","hour"],hse={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},mse={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},pse=new Set(["","","","",""]),gse=new Set(["","","","","",""]),yse=new Set(["","","",""]),t1=e=>pse.has(e)?"":"",n1=e=>{const t=gse.has(e)?"":"";return yse.has(e)?t===""?"":"":t};function MP(e){const t=e.reduce((c,u)=>c+u,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.floor(c+.5)),i=100-r.reduce((c,u)=>c+u,0);if(i===0)return r;const a=n.map((c,u)=>({i:u,frac:c-Math.floor(c+.5)})).sort((c,u)=>u.frac-c.frac),o=r.slice();if(i>0)for(let c=0;c<i;c++)o[a[c].i]+=1;else for(let c=0;c<-i;c++)o[a[a.length-1-c].i]-=1;return o}function bse(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const E0={:.15,:.1,:-.15,:-.2,:-.25},ps={:"",:"",:"",:"",:""},Xc={:"",:"",:"",:"",:""},wo={:"",:"",:"",:"",:""},Ev={:"",:"",:"",:"",:""};function k0(e,t){return e===t?"":ps[t]===e?"":ps[e]===t?"":wo[e]===t?"":wo[t]===e?"":""}const Oc=e=>e&&e.length>=1?e[0]:"",jc=e=>e&&e.length>=2?e[1]:"";function vse(e,t){const n=e.reduce((u,f)=>u+f,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,f)=>u+f,0);const o=r.map((u,f)=>({i:f,frac:u-Math.floor(u)})).sort((u,f)=>f.frac-u.frac),c=i.slice();for(let u=0;u<o.length&&a>0;u++)c[o[u].i]+=1,a-=1;return c}function PP(e,t){switch(e){case"":return t;case"":return ps[t];case"":return wo[t];case"":return Ev[t];case"":return Xc[t];default:return t}}const DP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},xse=["","","","",""],_se={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},RP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},wse={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function Sse(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function Ese(e){const t=xse.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...RP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{..._se},PerTenGodSub:{...RP},elementScoreRaw:e,deukFlags:{...wse},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function kse(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function DE(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:c}=e,u=o==="modern"?hse:mse,f=r==="classic"?ese:Qoe,m={:0,:0,:0,:0,:0},p={},g=(t??[]).slice(0,4).map(fse);if(!Sse(g))return Ese(m);const{dayStem:v,dayEl:w}=kse(g,n),_=[{val:0},{val:0},{val:0},{val:0}],E=[[],[],[],[]];for(const B of g){if(!B)continue;const W=B.charAt(0),ae=B.charAt(1);p[W]=(p[W]??0)+50;const V=DP[ae];V&&(p[V]=(p[V]??0)+50)}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=e1[B],V=Oc(W),oe=jc(W),me=u[ae],pe=Ac(V);pe&&(m[pe]+=me.stem,_[B]={stem:V,el:pe,pol:t1(V),val:me.stem});const be=Tc(oe);be&&(m[be]+=me.branch,E[B].push({el:be,pol:n1(oe),val:me.branch}))}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=e1[B],V=f[W]??0;if(V===0)continue;const oe=Oc(W),me=Ac(oe);if(!me)continue;const pe=u[ae].stem*V;m[me]+=pe,_[B].val+=pe}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=jc(W),V=Tc(ae);if(!V)continue;const oe=u[e1[B]].branch,me=n1(ae);let pe=0;const be=[B];B-1>=0&&be.push(B-1),B+1<=3&&be.push(B+1),B-2>=0&&be.push(B-2),B+2<=3&&be.push(B+2);const ne=Array.from(new Set(be));for(const Oe of ne){if(!g[Oe]||g[Oe].length<2)continue;const Ce=Oc(g[Oe]),ve=Ac(Ce);if(!ve||ve!==V)continue;const Ze=t1(Ce)===me,Ne=Math.abs(Oe-B),_e=bse(Ne,Ze);pe+=oe*_e}pe!==0&&(m[V]+=pe,E[B].push({el:V,pol:me,val:pe}))}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=Oc(W),V=Ac(ae);if(!V)continue;let oe=0;const me=jc(g[B]),pe=Tc(me);pe&&(oe+=E0[k0(V,pe)]);const be=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Oe of be){const Ce=Oc(g[Oe]),ve=Ac(Ce);ve&&(oe+=E0[k0(V,ve)])}const ne=_[B].val;if(ne!==0&&oe!==0){const Oe=Math.round(ne*(1+oe)*10)/10,Ce=Oe-ne;m[V]+=Ce,_[B].val=Oe}}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=jc(W),V=Tc(ae);if(!V)continue;let oe=0;const me=Oc(g[B]),pe=Ac(me);pe&&(oe+=E0[k0(V,pe)]);const be=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Oe of be){if(!g[Oe]||g[Oe].length<2)continue;const Ce=jc(g[Oe]),ve=Tc(Ce);ve&&(oe+=E0[k0(V,ve)])}const ne=E[B].reduce((Oe,Ce)=>Oe+Ce.val,0);if(ne!==0&&oe!==0){const Ce=Math.round(ne*(1+oe)*10)/10-ne;m[V]+=Ce,E[B].length>0&&(E[B][0].val+=Ce)}}a&&Dne(g,m);const T={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},N=[];if(!(!c||c.tab==="")){let B=function(W,ae){const V=W?De(W):"";if(!V||V.length<2)return;const oe=Oc(V),me=jc(V),pe=Ac(oe),be=Tc(me),ne=Math.max(1,(m.??0)+(m.??0)+(m.??0)+(m.??0)+(m.??0)),Oe=T[ae];if(pe){const Ce=Math.round(ne*Oe.stem);m[pe]+=Ce,N.push({stem:oe,el:pe,pol:t1(oe),val:Ce})}if(be){const Ce=Math.round(ne*Oe.branch);m[be]+=Ce,N.push({el:be,pol:n1(me),val:Ce})}};B(c.dae,"dae"),(c.tab===""||c.tab===""||c.tab==="")&&B(c.se,"se"),(c.tab===""||c.tab==="")&&B(c.wol,"wol"),c.tab===""&&B(c.il,"il")}const O={:0,:0,:0,:0,:0};Object.entries(m).forEach(([B,W])=>{const ae=q(B,w);O[ae]+=W});const P=["","","","",""],M=MP(P.map(B=>O[B])),D=K4(v),$=P.map((B,W)=>({name:B,value:M[W],color:D[B]})),H={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function q(B,W){return B===W?"":ps[W]===B?"":wo[W]===B?"":wo[B]===W?"":Xc[W]===B?"":""}function K(B,W){switch(q(B,w)){case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break}}Object.entries(m).forEach(([B,W])=>{W>0&&K(B,W)});const F={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const B of P){const W=$.find(be=>be.name===B)?.value??0,ae=F[B].a,V=F[B].b,oe=H[ae]??0,me=H[V]??0,pe=oe+me;if(pe>0){const be=Math.floor(W*oe/pe+.5),ne=W-be;F[B].aVal=be,F[B].bVal=ne}else F[B].aVal=Math.floor(W/2+.5),F[B].bVal=W-F[B].aVal}const{flags:z}=sse(g,m),Z={};_.forEach(B=>{if(B.stem&&B.el&&B.val){const W=`${B.stem}${B.el}`;Z[W]=(Z[W]??0)+B.val}});for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=jc(W),V=DP[ae],oe=Tc(ae);if(!V||!oe)continue;const me=`${V}${oe}`,pe=E[B].reduce((be,ne)=>be+ne.val,0);Z[me]=(Z[me]??0)+pe}const Q=["","","","","","","","","",""],J={};Q.forEach(B=>{J[B]=0}),P.forEach(B=>{const W=$.find(ne=>ne.name===B)?.value??0,ae=PP(B,w),V=Object.entries(Z).filter(([ne])=>ne.endsWith(ae)),oe=V.map(([ne])=>ne),me=V.map(([,ne])=>ne),pe=Math.max(0,Math.round(W*10)),be=vse(me.length?me:[1,1],pe);if(oe.length===2)J[oe[0]]=(be[0]??Math.round(pe/2))/10,J[oe[1]]=(be[1]??pe-(be[0]??0))/10;else if(oe.length===1)J[oe[0]]=pe/10;else{const ne=ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:["",""],Oe=Math.floor(pe/2),Ce=pe-Oe;J[ne[0]]+=Oe/10,J[ne[1]]+=Ce/10}});const Y=["","","","",""],X={:0,:0,:0,:0,:0};for(const B of $){const W=PP(B.name,w);X[W]+=B.value}const re=MP(Y.map(B=>X[B])),ue={:re[0],:re[1],:re[2],:re[3],:re[4]};return i&&console.log({elementScore:m,totals:$,perTenGod:F,perStemRaw:Z,perStemElementScaled:J,elementPercent100:ue}),{overlay:{totalsSub:H,perStemAugBare:Z,perStemAugFull:J},totals:$,perTenGod:F,PerTenGodSub:H,stemScoreRaw:p,elementScoreRaw:m,deukFlags:z,perStemElement:Z,perStemElementScaled:J,elementPercent100:ue}}const A0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ase=["","","","",""];function LP(e){return Ase.includes(e)}const Tse={:"",:"",:"",:"",:""},Ose={:"",:"",:"",:"",:""},jse={:"",:"",:"",:"",:""},Nse={:"",:"",:"",:"",:""},RE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Cse=["","","","","","","","","",""],Mse={natal:50,dae:30,se:20,wol:7,il:3};function tb(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Rn[t])return Rn[t];if(["","","","","","","","","","","",""].includes(t))return A0[t]??null;if(Gn[t])return A0[Gn[t]]??null;const n=t.charAt(0);return Rn[n]?Rn[n]:["","","","","","","","","",""].includes(n)?n:Gn[n]?A0[Gn[n]]??null:["","","","","","","","","","","",""].includes(n)?A0[n]??null:null}function Pse(e,t){const n=RE[e],r=RE[t];if(!n||!r)return"";let i;r===n?i="":r===Tse[n]?i="":r===Ose[n]?i="":r===jse[n]?i="":r===Nse[n]?i="":i="";const a=LP(e)===LP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function nb(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.round(m)]);let a=i.reduce((f,[,m])=>f+m,0);const o=r.map(([f,m])=>[f,m-Math.round(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}function IP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=tb(r);if(!a)continue;const o=Pse(t,a);n[o]+=i}return nb(n)}function Dse(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function $P(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=tb(n);i&&(t[i]=(t[i]??0)+r)}return t}function BP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Cse){const i=RE[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function zP(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function Rse(e,t){const n=t?.dae?T0(t.dae):{},r=t?.se?T0(t.se):{},i=t?.wol?T0(t.wol):{},a=t?.il?T0(t.il):{},o={},c=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:f,bare:m}of c){const p=Mse[f];if(!m||Object.keys(m).length===0)continue;const g=nb(m);for(const[v,w]of Object.entries(g))o[v]=(o[v]??0)+w*p}const u=Object.values(o).reduce((f,m)=>f+m,0);if(u>0)for(const f of Object.keys(o))o[f]=o[f]/u*100;return o}function Lse(e){if(!e)return[];const t=tb(e.charAt(0)),n=tb(e.charAt(1));return[t,n].filter(Boolean)}function T0(e){const t=Lse(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function kv(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[De(t[0]??""),De(t[1]??""),De(t[2]??""),De(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:c,hiddenStem:u}=pm,f=c==="classic"?"classic":"hgc",m=r?{tab:n,dae:r.dae?De(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?De(r.se):void 0,wol:(n===""||n==="")&&r.wol?De(r.wol):void 0,il:n===""&&r.il?De(r.il):void 0}:{tab:n},p=DE({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:m}),g=DE({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),v=$P(p.perStemElementScaled),w=n===""?v:Rse(v,r),_=nb(w),E=IP(w,o),T=Dse(E),N=BP(_),O=$P(g.perStemElementScaled),P=IP(O,o),M=nb(O),D=BP(M);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:_,perTenGodSub:E,perTenGod:T,overlay:{totalsSub:E,perStemAugBare:w,perStemAugFull:N},natalFixed:{elementScoreRaw:zP(g.elementScoreRaw),elementPercent100:zP(g.elementPercent100),totalsSub:P,overlay:{totalsSub:P,perStemAugBare:O,perStemAugFull:D}}}}const po=["","","","",""],jl={:0,:0,:0,:0,:0},Ise=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],$se={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},r1=24,Bse=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],rb=20;Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e]));const n7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function r7(e){return Math.max(0,Math.min(100,e))}function Ud(e,t,n){return Math.max(t,Math.min(n,e))}function Use(e){const t=r7(e);return Ise.find(n=>t>=n.min&&t<n.max)?.name??""}function Fse(e){const t=e?.[2]?.charAt(0)??"";return n7[t]??null}function Hse(e){return(e?.[1]?.charAt(1)??"")||null}function i7(e){return Ev[e]}function Gse(e){return e?{peer:e,resource:Xc[e],leak:ps[e],wealth:wo[e],officer:i7(e)}:null}function qse(e){const t={...jl};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=n7[r],o=zse[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function Yse(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...jl};return po.forEach(r=>{n[r]=e[r]/t*100}),n}function Kse(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return r7((n("")+n(""))/t*100)}function Wse(e,t){return!e||!t?null:t===e?"":ps[e]===t?"":wo[e]===t?"":i7(e)===t?"":Xc[e]===t?"":null}function Vse(e){for(const[t,n]of Bse)if(e>=t)return n;return 1}const UP=(e,t)=>Ud((rb-(t[e]??0))/rb,0,1),FP=(e,t)=>Ud(((t[e]??0)-rb)/rb,0,1);function Zse(e,t,n,r){const i=Wse(e,n);if(!e||!i)return 0;const a=Ud((50-t)/50,0,1),o=Ud((t-50)/50,0,1),c=UP(n,r),u=FP(n,r),f=UP(e,r),m=FP(e,r),p=6.5;let g=0;if(a>0)switch(i){case"":g=+(.3+.4*f+.15*c)*a;break;case"":g=+(.18+.45*f)*a;break;case"":g=-(.08+.2*(1-c)+.1*m)*a;break;case"":g=-(.22+.25*(1-c)+.1*(1-f))*a;break;case"":g=-(.35+.25*(1-c)+.1*(1-f))*a;break}else if(o>0)switch(i){case"":g=-(.25+.25*(1-c)+.2*m)*o;break;case"":g=-(.28+.2*m)*o;break;case"":g=+(.18+.2*c+.15*m)*o;break;case"":g=+(.22+.25*c+.1*m)*o;break;case"":g=+(.2+.2*c)*o;break}else switch(i){case"":g=.08*(f+c);break;case"":g=.05*f-.03*m;break;case"":g=.02*c-.02*u;break;case"":g=.01*c-.06*u;break;case"":g=-.05*(1-c);break}return Math.round(p*g*10)/10}function Xse(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...jl};if(r){const o=ps[e],c=wo[e],u=Ev[e];a[o]+=28,a[c]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(c)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=Xc[e],c=e;a[o]+=28,a[c]+=22,n.get(o)?.push(":     "),n.get(c)?.push(":     ")}return a}function HP(e,t){if(!e)return{...jl};const n=$se[e]??{temp:"mild",wet:"normal"},r={...jl};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function GP(e,t){const n={...jl};for(const r of po){const i=wo[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=ps[r],c=Math.round(a*.35);c>0&&(n[o]+=c,t.get(o)?.push(`: ${r}${i} `))}return n}function qP(e,t){const n={...jl},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const O0=()=>new Map(po.map(e=>[e,[]]));function Fd(e,t){const n=Fse(e),r=Hse(e),i=qse(e),a=Yse(i);let o=Kse(t);if(o==null)if(!n)o=50;else{const F=n,z=Xc[n],Z=Object.values(i).reduce((Q,J)=>Q+J,0)||1;o=Math.min(100,Math.max(0,((i[F]??0)+(i[z]??0))/Z*100))}const c=Use(o),u={...jl},f=O0();if(n){const F=Xse(n,c,f);po.forEach(z=>{u[z]+=F[z]??0})}const m=HP(r,f);po.forEach(F=>{u[F]+=m[F]??0});const p=GP(i,f);po.forEach(F=>{u[F]+=p[F]??0});const g=qP(i,f);po.forEach(F=>{u[F]+=g[F]??0});const v=Gse(n),w={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const F of t)w[F.name]=F.value;if(o>=45&&o<=55&&v){const F=w.>=30||w.>=Math.max(w.,w.,w.,w.)+5;o<=50?(u[v.resource]+=14,f.get(v.resource)?.push(": -"),u[v.peer]+=10,f.get(v.peer)?.push(": -"),u[v.leak]+=6,f.get(v.leak)?.push(": -"),u[v.wealth]+=3,f.get(v.wealth)?.push(": -"),F&&(u[v.officer]=Math.round(u[v.officer]*.8*10)/10,f.get(v.officer)?.push(":   "))):(u[v.leak]+=14,f.get(v.leak)?.push(": -"),u[v.wealth]+=10,f.get(v.wealth)?.push(": -"),u[v.officer]+=6,f.get(v.officer)?.push(": -"),u[v.resource]+=3,f.get(v.resource)?.push(": -"))}po.forEach(F=>{const z=Zse(n,o,F,a);u[F]=Ud(Math.round((u[F]+z)*10)/10,0,999)});const E=o<50;po.forEach(F=>{const z=a[F]??0,Z=E&&n===F;if(z>=r1&&!Z){const Q=Vse(z);u[F]=Math.round(u[F]*Q*10)/10;const J=Math.min(14,Math.max(0,Math.ceil((z-r1)*.5)));J>0&&(u[F]=Ud(u[F]-J,0,999)),f.get(F)?.push(" ()")}});const T={:[],:[],:[],:[],:[]};if(n){const F=ps[n],z=wo[n],Z=Ev[n],Q=n,J=Xc[n];T[F].push(""),T[z].push(""),T[Z].push(""),T[Q].push(""),T[J].push("")}const N={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},O=F=>{const z=a[F]??0;return z>=r1&&!(E&&n===F)?z>=55?4:z>=45?3:2:N[F]?0:1},P=HP(r,O0()),M=GP(i,O0()),D=qP(i,O0()),$=po.map(F=>({element:F,score:Math.round(u[F]*10)/10,via:Jse(F,P,M,D),reasons:(f.get(F)??[]).slice(),tenGodHints:T[F]})).sort((F,z)=>{const Z=O(F.element),Q=O(z.element);return Z!==Q?Z-Q:z.score!==F.score?z.score-F.score:F.element.localeCompare(z.element)}),H=Qse(c,P,M,D),q={:0,:0,:0,:0,:0},K=t?t.reduce((F,z)=>(F[z.name]=z.value,F),{...q}):void 0;return{chosenType:H,ordered:$,debug:{band:c,overallPct:o,elementScore:i,tenGodTotals:K,monthBranch:r??void 0}}}function Jse(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Qse(e,t,n,r){if(["","","",""].includes(e))return"";const a=f=>Object.values(f).reduce((m,p)=>m+p,0),o=a(t),c=a(n),u=a(r);return o>Math.max(c,u)?"":c>=u?"":""}function ele(e){const t=e.reduce((c,u)=>c+u,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.round(c));let a=100-r.reduce((c,u)=>c+u,0);const o=n.map((c,u)=>({i:u,f:c-Math.round(c)})).sort((c,u)=>u.f-c.f);for(let c=0;c<o.length&&a>0;c++)r[o[c].i]+=1,a-=1;return r}const YP=["","","","",""];function tle(e,t){const n=[De(e[0]??""),De(e[1]??""),De(e[2]??""),De(e[3]??"")],{elementScoreRaw:r}=DE({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=YP.map(c=>r[c]??0),a=ele(i),o={:0,:0,:0,:0,:0};return YP.forEach((c,u)=>{o[c]=a[u]}),o}function a7(e,t){const n=tle(e,t),r=De(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},c=n[a]??0,u=n[o[a]]??0;return c+u*.7}const Hd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},o7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},j0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},nle=["","","","",""];function KP(e){return nle.includes(e)}const rle={:"",:"",:"",:"",:""},ile={:"",:"",:"",:"",:""},ale={:"",:"",:"",:"",:""},ole={:"",:"",:"",:"",:""};function km(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Rn[t])return Rn[t];if(["","","","","","","","","","","",""].includes(t))return j0[t]??null;if(Gn[t])return j0[Gn[t]]??null;const n=t.charAt(0);return Rn[n]?Rn[n]:["","","","","","","","","",""].includes(n)?n:Gn[n]?j0[Gn[n]]??null:["","","","","","","","","","","",""].includes(n)?j0[n]??null:null}function sle(e,t){const n=Hd[e],r=Hd[t];if(!n||!r)return"";let i;r===n?i="":r===rle[n]?i="":r===ile[n]?i="":r===ale[n]?i="":r===ole[n]?i="":i="";const a=KP(e)===KP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function lle(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function Av(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const o=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}function cle(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=Hd[km(n)];i&&r>0&&(t[i]+=r)}return Av(t)}function ule(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=km(r);if(!a)continue;const o=sle(t,a);n[o]+=i}return n}function dle(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=lle(n);t[i]+=r}return Av(t)}function WP(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=De(n??"");return i||(r<=2?"--":"")})}function s7(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=Hd[i.charAt(0)];if(a&&(r[a]=!0),n){const o=o7[i.charAt(1)];o&&(r[o]=!0)}}return r}function l7(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=Hd[n.charAt(0)],i=o7[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function i1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const fle=["","","","","","","","","",""];function hle(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=km(n);i&&(t[i]=(t[i]??0)+r)}return t}function mle(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of fle){const i=Hd[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const ple={natal:50,dae:30,se:20,wol:7,il:3};function gle(e){const t={};for(const{kind:r,bare:i}of e){const a=ple[r]??0;if(a<=0)continue;const o=Av(i);for(const[c,u]of Object.entries(o))t[c]=(t[c]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function yle(e){if(!e)return[];const t=km(e.charAt(0)),n=km(e.charAt(1));return[t,n].filter(Boolean)}function N0(e){const t=yle(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const LE=["","","","",""];function ble(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function vle(e,t){const n=LE.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),c=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:c}}function o2(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function xle(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function VP(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function _le(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,c=e[a]??0;if(o<20||c<20)continue;let u=null,f=null;if(VP(i)===a)u=i,f=a;else if(VP(a)===i)u=a,f=i;else continue;const m=xle(u),p=`${u}()${f}    ${m}( )`;r.push({a:i,b:a,controller:u,controlled:f,mediator:m,reason:p})}return r}function s2(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function Lh(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":    0"]}):e}function Ih(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,c=r(a.elNorm)?1:0;if(o!==c)return c-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function wle(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),c=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:c.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(f=>({element:f.el,elNorm:f.el,score:s2(f.base,t[f.el]??0),reasons:[f.why,` ${f.el}  ${Math.round(t[f.el]??0)}%`]}))}function Sle(e){const t=_le(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,c=Math.min(a,o),u=95+Math.round(c/2),f=n.get(i.mediator),m=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];f?n.set(i.mediator,{score:Math.max(f.score,u),reasons:[...f.reasons,...m]}):n.set(i.mediator,{score:u,reasons:m})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:s2(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function Ele(e,t){let n="",r=e.??0;for(const f of LE){const m=e[f]??0;m<r&&(r=m,n=f)}const i=LE.some(f=>!t[f]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const c=s2((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:c,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function l2(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,c=Ih(Lh(t,i,a),i,a),u=Ih(Lh(wle(n,r),i,a),i,a),f=ble(n),m=vle(r,i),p=f==="WINTER"||f==="SUMMER"?.85:.55,g=1.25,v=Sle(r),w=Ih(Lh(v.items,i,a),i,a),_=Ele(r,i),E=Ih(Lh(_.items,i,a),i,a),T=Array.isArray(o)?o:[],N=T.length>0,O=Ih(Lh(T,i,a),i,a),P=z=>Math.max(0,...z.map(Z=>Number.isFinite(Z.score)?Z.score:0)),D=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:g,applicable:c.length>0,note:"1.  /()  ",candidates:c},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:f==="WINTER"?"2. ()   ":f==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:v.applicable,note:v.note,candidates:w},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:_.applicable,note:_.note,candidates:E},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:N,note:N?"/     ( )":"  (//  )",candidates:O}].map(z=>{const Z=P(z.candidates),Q=z.candidates[0];let J=0;if(z.applicable&&Q){if(J=Q.score*z.weight,z.kind==="EOKBU"&&!m.balancedPresent){const Y=Math.min(35,Math.round(m.spread*.9));J+=Y}z.kind==="EOKBU"&&m.balancedPresent&&(J*=.75),Q.elNorm&&!i[Q.elNorm]&&(J*=.25)}return{...z,maxScore:Z,fitScore:Math.round(J),finalScore:Math.round(J)}}).sort((z,Z)=>z.priority-Z.priority),$=[...D].filter(z=>z.applicable&&z.candidates.length>0).sort((z,Z)=>Z.fitScore!==z.fitScore?Z.fitScore-z.fitScore:z.priority-Z.priority)[0],H=Math.max(0,...D.map(z=>z.fitScore)),q=$?.kind??null,K=D.map(z=>{if(!q)return z;if(z.kind===q){const Z=z.fitScore<H?H+1:z.fitScore;return{...z,finalScore:Z}}return{...z,finalScore:z.fitScore}}),F=q?K.find(z=>z.kind===q)??null:null;return{bestKind:q,best:F,groups:K}}const kle={:"",:"",:"",:"",:""},Ale={:"",:"",:"",:"",:""},Tle={:"",:"",:"",:"",:""},Ole={:"",:"",:"",:"",:""};function a1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function jle(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function Nle(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function Cle(e,t){switch(t){case"":return e;case"":return kle[e];case"":return Tle[e];case"":return Ole[e];case"":return Ale[e]}}function Mle(e,t){const n=new Map,r=(u,f,m)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:f,reasons:[m]});return}p.score=Math.max(p.score,f),p.reasons=p.reasons.includes(m)?p.reasons:[...p.reasons,m]},i=a1(t),a=jle(e.);if(i&&a){const u=Nle(a),f=Cle(i,u);r(f,92,` ${e.}  ${u} (${f})`)}const o=a1(e.);o&&r(o,86,` ${e.}  (${o})`);const c=a1(e.);return c&&r(c,70,` ${e.}  (${c})`),Array.from(n.values()).sort((u,f)=>f.score-u.score)}const $h=e=>e&&e.length>=1?e.charAt(0):"",C0=e=>e&&e.length>=2?e.charAt(1):"";function Ple(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function Dle({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:c,monthGZ:u,dayGZ:f}=ui(),m=S.useMemo(()=>De(c),[c]),p=S.useMemo(()=>De(u),[u]),g=S.useMemo(()=>De(f),[f]),v=ou(e,e?.mingSikType),w=S.useMemo(()=>{if(!v?.length)return 0;const _e=v.findIndex((je,Ie)=>{const Ve=v[Ie+1]?.at;return o>=je.at&&(!Ve||o<Ve)});return _e!==-1?_e:o<v[0].at?0:v.length-1},[v,o]),_=S.useMemo(()=>{const _e=r??v?.[w]?.gz??"";return De(_e)||null},[r,v,w]),{manualHour:E}=Wm(),T=e.mingSikType??"/",N=S.useMemo(()=>WP(t),[t]),O=S.useMemo(()=>WP(n),[n]),P=S.useMemo(()=>{const _e=[...N];return(!_e[3]||_e[3]===""||_e[3]==="--")&&E&&(_e[3]=E.stem+E.branch),_e},[N,E]),M=S.useMemo(()=>{const _e=[...O];return(!_e[3]||_e[3]===""||_e[3]==="--")&&E&&(_e[3]=E.stem+E.branch),_e},[O,E]),D=S.useMemo(()=>{const _e=Number(e.birthDay?.slice(0,4)),je=Number(e.birthDay?.slice(4,6)),Ie=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(_e)||!Number.isFinite(je)||!Number.isFinite(Ie))return null;const Ve=new Date(_e,je-1,Ie,12,0,0,0),bt=De(at(Ve)||""),xt=De(kt(Ve)||""),Pt=De(gt(Ve,T)||"");return[bt,xt,Pt,""]},[e.birthDay,T]),$=i1(P),H=i1(M),K=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?H?"lunar":$?"solar":"lunar":$?"solar":H?"lunar":"solar",F=S.useMemo(()=>{const je=[...K==="lunar"?H?M:$?P:D??["","","",""]:$?P:H?M:D??["","","",""]];return(!je[3]||je[3]===""||je[3]==="--")&&E&&(je[3]=E.stem+E.branch),je[3]==="--"&&(je[3]=""),je},[K,$,H,P,M,D,E]),z=S.useMemo(()=>$h(F[2]??""),[F]),Z=S.useMemo(()=>C0(F[1]??""),[F]),Q=S.useMemo(()=>Ple(e.birthDay),[e.birthDay]),J=S.useMemo(()=>E?E.stem+E.branch:F[3]||"",[E,F]),Y=S.useMemo(()=>({dae:i!==""?_??null:null,se:i===""||i===""||i===""?m??null:null,wol:i===""||i===""?p??null:null,il:i===""?g??null:null}),[i,_,m,p,g]),X=S.useMemo(()=>kv({natal:F,tab:i,chain:Y,hourKey:J}),[F,i,Y,J]),re=S.useMemo(()=>{if(!X)return null;const _e=hle(X.perStemElementScaled),je=Y.dae?N0(Y.dae):{},Ie=Y.se?N0(Y.se):{},Ve=Y.wol?N0(Y.wol):{},bt=Y.il?N0(Y.il):{},xt=gle([{kind:"natal",bare:_e},{kind:"dae",bare:je},{kind:"se",bare:Ie},{kind:"wol",bare:Ve},{kind:"il",bare:bt}]),Pt=Av(xt),fe=mle(Pt),Me=ule(xt,X.dayStem),Be=dle(Me),lt=cle(xt);return{perStemAugBare:xt,perStemAugFull:fe,elemPct100:lt,totalsMain:Be,totalsSub:Me}},[X,Y]),ue=S.useMemo(()=>s7(F,{includeBranches:!0}),[F]),se=S.useMemo(()=>["","","","",""].some(_e=>!ue[_e]),[ue]),B=re?.elemPct100??X?.elementPercent100??l7(F),W=S.useMemo(()=>{if(!X||!re)return[];const _e=K4(X.dayStem);return Object.entries(re.totalsMain).map(([je,Ie])=>({name:je,value:Ie,color:_e[je]}))},[X,re]),ae=re?.elemPct100??{:0,:0,:0,:0,:0},V=re?.totalsSub??null,oe=S.useMemo(()=>[i,_??"",m??"",p??"",g??"",o?.toISOString?.()??"",J].join("|"),[i,_,m,p,g,o,J]),me=S.useMemo(()=>{const _e=V?Object.entries(V).sort(([Ie],[Ve])=>Ie.localeCompare(Ve)).map(([Ie,Ve])=>`${Ie}:${Ve}`).join(","):"none",je=W.map(Ie=>`${Ie.name}:${Ie.value}`).join(",");return`${oe}||${F.join("")}||${je}||${_e}`},[oe,F,W,V]),pe=typeof Fd=="function"?Fd(F,X?.totals):null,be=S.useMemo(()=>(pe?.ordered??[]).map(je=>{const Ie=je.element??"",Ve=/||wood/i.test(Ie)?"":/||fire/i.test(Ie)?"":/||earth/i.test(Ie)?"":/||metal/i.test(Ie)?"":/||water/i.test(Ie)?"":null,bt=typeof je.score=="number"?je.score:Ve?B[Ve]??0:0,xt=Array.isArray(je.reasons)?je.reasons:[];return{element:Ie,elNorm:Ve,score:bt,reasons:xt}}),[pe,B]),ne=S.useMemo(()=>be.map(_e=>({element:_e.element,elNorm:_e.elNorm,score:_e.score,reasons:_e.reasons})),[be]),Oe=S.useMemo(()=>{if(!z||!Z)return[];const[_e,je,Ie,Ve]=F,bt=[$h(_e),$h(je),$h(Ie),$h(Ve)].filter(Boolean),xt=[C0(_e),C0(Ie),C0(Ve)].filter(Boolean),Pt=q4({dayStem:z,monthBranch:Z,date:Q,pillars:F,emittedStems:bt,otherBranches:xt}),fe=Mle(Pt,z),Me=Be=>/||wood/i.test(Be)?"":/||fire/i.test(Be)?"":/||earth/i.test(Be)?"":/||metal/i.test(Be)?"":/||water/i.test(Be)?"":null;return(fe??[]).map(Be=>({element:Be.element,elNorm:Me(Be.element),score:Number.isFinite(Be.score)?Be.score:0,reasons:Array.isArray(Be.reasons)?Be.reasons:[]}))},[F,z,Z,Q]),Ce=S.useMemo(()=>{const _e=F[1]||"";return l2({eokbuList:ne,monthGz:_e,elemPct:B,presentMap:ue,demoteAbsent:a,gyeokgukList:Oe})},[F,ne,B,ue,a,Oe]),ve=S.useMemo(()=>{const _e=Ce.best;return _e?.candidates?.length?_e.candidates.map(je=>({element:je.element,elNorm:je.elNorm,score:je.score,reasons:je.reasons})):be},[Ce,be]),Ze=S.useMemo(()=>Math.max(0,...ve.map(_e=>Number.isFinite(_e.score)?_e.score:0)),[ve]),Ne=S.useMemo(()=>a7(F,{criteriaMode:"modern",useHarmonyOverlay:!0}),[F]);return{seGz:m,wolGz:p,ilGz:g,daewoonGz:_,activePillars:F,chain:Y,unified:X,overlay:re,chartData:W,elementPct:ae,tenSubTotals100:V,hourKeyForUi:J,revKey:me,yongshinMulti:Ce,yongshinRecommend:Ce,yongshinList:ve,maxScore:Ze,hasAbsent:se,dayElementPercent:Ne,isValidActive:i1(F)}}function Rle(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function Lle(e){const t=new Date(e,1,15,12,0,0,0);return De(at(t)||"")}function Ile(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=o2(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const $le={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function ib(e){return $le[e]??null}function Ble(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=i2(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",c=ib(a);if(c&&(n[c]=!0),r2(o)){const u=r[o],f=[u.,u.,u.].filter(Boolean);for(const m of f){const p=ib(m.stem);p&&m.w>0&&(n[p]=!0)}}}return n}function zle(e,t){const n=i2(t),r={:0,:0,:0,:0,:0};for(const o of e){const c=o?.charAt(0)??"",u=o?.charAt(1)??"",f=ib(c);if(f&&(r[f]+=50),r2(u)){const m=n[u],p=[m.,m.,m.].filter(Boolean),g=p.reduce((w,_)=>w+(Number.isFinite(_.w)?_.w:0),0),v=g>0?g:1;for(const w of p){const _=ib(w.stem);_&&(r[_]+=50*w.w/v)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function Ule(e,t,n){return e||zle(t,n)}function Fle(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,c=S.useMemo(()=>F4(o),[o]),u=ou(t,t?.mingSikType),f=S.useMemo(()=>Array.isArray(u)?u.filter(Rle).slice(0,10):[],[u]),[m,p]=S.useState(0),[g,v]=S.useState(0),w=Math.max(0,Math.min(f.length-1,m)),_=f[w]??null,E=S.useMemo(()=>{if(!_)return[];const q=_.at.getFullYear();return Array.from({length:10},(K,F)=>{const z=q+F;return{year:z,gz:Lle(z)}})},[_]),T=g==null?null:Math.max(0,Math.min(E.length-1,g)),N=T==null?null:E[T]??null,O=S.useMemo(()=>Ble(n,c),[n,c]),P=S.useMemo(()=>["","","","",""].some(q=>!O[q]),[O]),M=S.useMemo(()=>{const q=_?De(_.gz):null,K=N?De(N.gz):null;return{dae:q||null,se:K||null,wol:null,il:null}},[_,N]),D=S.useMemo(()=>M.se?"":"",[M.se]),$=S.useMemo(()=>{const q=_?`${_.at.getFullYear()}~ ${De(_.gz)}`:" -",K=N?` / ${N.year} ${De(N.gz)}`:"";return`${q}${K}`},[_,N]),H=S.useMemo(()=>{if(!_)return null;const q=kv({natal:n,tab:D,chain:M,hourKey:r}),K=Ule(q?.elementPercent100,n,c),F=typeof Fd=="function"?Fd(n,q?.totals):null,z=Ile(F,K);return l2({eokbuList:z,monthGz:n[1]||"",elemPct:K,presentMap:O,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[_,n,D,M,r,O,i,a,c]);return{daeIndex:w,setDaeIndex:p,seIndex:T,setSeIndex:v,dae10:f,se10:E,chain:M,tab:D,label:$,recommend:H,presentMap:O,hasAbsent:P}}const Hle={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function IE(e){return e?Hle[e]??e:""}function Gle(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function qle(e){const t=new Date(e,1,15,12,0,0,0);return De(at(t)||"")}function o1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?o2(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,c=r&&i?`${IE(r)}:${i}`:r?`${IE(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:c,result:e}}function Yle(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=o2(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function ZP(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:c}=e,u=kv({natal:t,tab:i,chain:r,hourKey:n}),f=u?.elementPercent100??l7(t),m=typeof Fd=="function"?Fd(t,u?.totals):null,p=Yle(m,f);return l2({eokbuList:p,monthGz:t[1]||"",elemPct:f,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(c)?c:null})}function Kle(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const go=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=x.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?x.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function XP({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx(go,{text:`: ${IE(t.kind)}`,tone:"pick"}),x.jsx(go,{text:` ${t.fitScore}`}),n[0]?.element?x.jsx(go,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?x.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?x.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>x.jsx("li",{className:"text-xs",children:x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx(go,{text:`${i+1} ${r.element}`}),x.jsx(go,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>x.jsx(go,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):x.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):x.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function Wle(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=S.useMemo(()=>s7(n,{includeBranches:!0}),[n]),c=ou(t,t?.mingSikType),u=S.useMemo(()=>Array.isArray(c)?c.filter(Gle).slice(0,10):[],[c]),f=S.useMemo(()=>o1(a),[a]),[m,p]=S.useState(null),g=_=>p(E=>E===_?null:_),v=S.useMemo(()=>u.map((_,E)=>{const T=De(_.gz)||"",O=ZP({pillars:n,hourKey:r,chain:{dae:T||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),P=o1(O),M=_.at.getFullYear(),D=Array.from({length:10},(F,z)=>{const Z=M+z,Q=qle(Z),Y=ZP({pillars:n,hourKey:r,chain:{dae:T||null,se:Q||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),X=o1(Y);return{year:Z,snap:X}}),H=Kle(D).filter(F=>F.snap.top1ElNorm!==P.top1ElNorm),q=P.top1ElNorm!==f.top1ElNorm,K=q||H.length>0;return{idx:E,dae:_,daeLabel:`${M}~ ${T||""}`,daeSnap:P,daeDiffFromNatal:q,segDiffOnly:H,hasAnyChange:K}}).filter(_=>_.hasAnyChange),[u,n,r,i,o,f.top1ElNorm]),w=S.useMemo(()=>v.some(_=>_.hasAnyChange),[v]);return x.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-bold",children:"  "}),x.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",f.label," /  ",f.fit]})]}),w?x.jsx("div",{className:"space-y-3",children:v.map(_=>{const E=`dae:${_.idx}`,T=m===E;return x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx(go,{text:` ${_.daeLabel}`,tone:"base"}),x.jsx(go,{text:` ${_.daeSnap.label} ( ${_.daeSnap.fit})`,tone:_.daeDiffFromNatal?"diff":"base",onClick:()=>g(E),title:" (top3) "}),_.daeDiffFromNatal?x.jsx(go,{text:" ",tone:"diff"}):null]}),_.segDiffOnly.length?x.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:_.segDiffOnly.map((N,O)=>{const P=`seg:${_.idx}:${O}`,M=m===P,D=N.fromYear===N.toYear?`${N.fromYear}`:`${N.fromYear}~${N.toYear}`;return x.jsxs("div",{className:"inline-flex flex-col",children:[x.jsx("div",{className:"flex items-center gap-2",children:x.jsx(go,{text:` ${D}  ${N.snap.label} ( ${N.snap.fit})`,tone:"diff",onClick:()=>g(P),title:" (top3) "})}),M?x.jsx(XP,{snap:N.snap}):null]},P)})}):null,T?x.jsx(XP,{snap:_.daeSnap}):null]},E)})}):x.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}function Vle(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(2,Math.min(100,n))}%`}function Zle(e){return e.slice(0,3)}const cm=({text:e,tone:t="base"})=>{const n=t==="best"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300";return x.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full border border-transparent ${n}`,children:e})};function Xle({g:e,isBest:t}){const n=Zle(e.candidates);return x.jsxs("details",{open:t,className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[x.jsx("summary",{className:"list-none cursor-pointer px-3 py-2 flex flex-col gap-2",children:x.jsxs("div",{className:"flex flex-wrap items-start gap-2",children:[x.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[e.marker," ",e.title]}),x.jsx("span",{className:"max-w-[62%] text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:e.note}),!e.applicable&&x.jsx(cm,{text:" "}),t&&x.jsx(cm,{text:" ",tone:"best"}),x.jsx(cm,{text:` ${e.fitScore}`})]})}),x.jsx("div",{className:"px-3 pb-3 pt-1",children:n.length===0?x.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}):x.jsx("ul",{className:"space-y-2",children:n.map((r,i)=>x.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[i+1,""]}),x.jsx("span",{className:"text-sm font-semibold",children:r.element})]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:x.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:Vle(r.score??0,e.maxScore)},title:` ${r.score}`})}),x.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(r.reasons??[]).slice(0,6).map((a,o)=>x.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:a},o))})]})]},`${e.kind}-${r.elNorm??r.element}-${i}`))})})]})}function Jle({best:e}){const t=e?.candidates?.[0]??null;return x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 p-3 bg-white/60 dark:bg-neutral-950/20",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:" "}),x.jsx("div",{className:"text-sm font-semibold",children:e?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"mr-1",children:e.marker}),e.title]}):""}),t?.element?x.jsx(cm,{text:`1: ${t.element}`}):null,e?.fitScore!=null?x.jsx(cm,{text:` ${e.fitScore}`}):null]}),e?.note?x.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed whitespace-normal break-words",children:e.note}):null]})}function Qle({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a}){const o=e,c=Fle({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a});return x.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-4",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-bold",children:"  ()"}),c.hasAbsent?x.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:["*   ",i?" ( ON)":""]}):null]}),x.jsx(Jle,{best:o.best}),x.jsx("div",{className:"space-y-2",children:o.groups.map(u=>x.jsx(Xle,{g:u,isBest:o.bestKind===u.kind},u.kind))})]}),x.jsx(Wle,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})]})}const JP=e=>e<10?`0${e}`:`${e}`;function ece(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const c=Ui(i,a,o),u=`${c.getFullYear()}${JP(c.getMonth()+1)}${JP(c.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function tce(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const nce=["  ","   ","","",""];function rce(e){return e==="  "||e===""}function ice({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=qn(p=>p.settings),a=Uoe(),o=ece(e),c=tce(o.birthDay)||void 0,u=ci(p=>p.canUseAdvancedReportNow()),f=Dle({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),m=S.useMemo(()=>"     . / .",[]);return f.isValidActive?x.jsxs("div",{className:"space-y-4 mb-4",children:[x.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:zoe.map(p=>x.jsx("button",{onClick:()=>a.setBlendTab(p),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(a.blendTab===p?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:p},p))}),x.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:nce.map(p=>{const g=!u&&rce(p),v=a.bigTab===p;return x.jsxs("button",{title:g?m:void 0,onClick:()=>a.setBigTab(p),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(g?"opacity-60 ":"")+(v?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:[p,g?" ":""]},p)})}),a.bigTab===""&&x.jsx(mae,{pillars:f.activePillars,daewoon:f.daewoonGz||void 0,sewoon:f.seGz||void 0,wolwoon:f.wolGz||void 0,ilwoon:f.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab==="   "&&x.jsxs("div",{className:"space-y-4",children:[x.jsx(uae,{data:f.chartData,revKey:f.revKey,perStemElementScaled:f.overlay?.perStemAugFull,elementPercent:f.elementPct,dayStem:f.activePillars[2]?.charAt(0)??null},`pentagon-${f.revKey}`),x.jsx(hae,{value:f.dayElementPercent}),x.jsx(Tae,{natal:f.activePillars})]}),a.bigTab===""&&!u&&x.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300",children:["   ",x.jsx("b",{children:""}),"   . / ."]}),a.bigTab===""&&u&&x.jsx(Qle,{recommend:f.yongshinMulti,data:o,pillars:f.activePillars,hourKey:f.hourKeyForUi,demoteAbsent:a.demoteAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab===""&&x.jsx(yae,{pillars:f.activePillars,daewoon:f.daewoonGz||void 0,sewoon:f.seGz||void 0,wolwoon:f.wolGz||void 0,ilwoon:f.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab==="  "&&!u&&x.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300",children:["   ",x.jsx("b",{children:"  "}),"   . / ."]}),a.bigTab==="  "&&u&&x.jsx(Toe,{unified:f.unified,pillars:f.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:c},`gyeok-${a.blendTab}-${f.hourKeyForUi}`)]}):x.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const M0=e=>typeof e=="string"&&e.length>=2,ace=e=>!Array.isArray(e)||e.length!==4?!1:M0(e[0])&&M0(e[1])&&M0(e[2])&&(e[3]===""||M0(e[3]));function oce({data:e}){const[t,n]=S.useState("un"),r=ci(u=>u.canUseMyoViewerNow());S.useEffect(()=>{t==="myoun"&&!r&&n("un")},[t,r]);const i=S.useMemo(()=>{try{const u=ep(e);return Tl(u)}catch{return new Date}},[e]),a=S.useMemo(()=>Sv(e,i),[e,i]),o=!e.birthTime||e.birthTime==="",c=S.useMemo(()=>{try{const u=at(a,e.birthPlace?.lon),f=kt(a,e.birthPlace?.lon),m=gt(a,e.mingSikType),p=o?"":za(a,e.mingSikType);return[u,f,m,p]}catch{return[]}},[a,e?.mingSikType,e?.birthPlace?.lon,o]);return x.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[x.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[x.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),r?x.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,x.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&x.jsx(Jie,{data:e}),t==="myoun"&&r&&x.jsx(nae,{data:e}),t==="report"&&x.jsx(ice,{data:e,pillars:ace(c)?c:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lce=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),QP=e=>{const t=lce(e);return t.charAt(0).toUpperCase()+t.slice(1)},c7=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),cce=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},u)=>S.createElement("svg",{ref:u,...uce,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:c7("lucide",i),...!a&&!cce(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,m])=>S.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=(e,t)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(dce,{ref:a,iconNode:t,className:c7(`lucide-${sce(QP(e))}`,`lucide-${e}`,r),...i}));return n.displayName=QP(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hce=Fi("chevron-down",fce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pce=Fi("chevron-up",mce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yce=Fi("circle-x",gce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],vce=Fi("heart-handshake",bce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],_ce=Fi("house",xce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Sce=Fi("log-out",wce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],kce=Fi("menu",Ece);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Tce=Fi("plus",Ace);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jce=Fi("settings",Oce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],Cce=Fi("square-user",Nce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],u7=Fi("star",Mce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Dce=Fi("user-plus",Pce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],d7=Fi("x",Rce);function Lce({onOpenSidebar:e,onAddNew:t,onOpenCustom:n}){const r=Br(w=>w.list.length),a=ci(w=>w.canAddMyeongsik)(r),o=!a.ok,c=o?a.message:"",u=()=>{if(o){Ed(c||"   ");return}t()},f=()=>{if(o){Ed(c||"   ");return}n()},m="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",p="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",g="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",v="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return x.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:x.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[x.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:x.jsx(kce,{size:22})}),x.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{type:"button",onClick:u,"aria-label":" ",disabled:o,title:c,className:`${m} ${o?v:p}`,children:[x.jsx(Dce,{size:18}),o?x.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),x.jsxs("button",{type:"button",onClick:f,"aria-label":" ",disabled:o,title:c,className:`${m} ${o?v:g}`,children:[x.jsx(Cce,{size:18}),o?x.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]})]})]})})}function Ice(e){S.useEffect(()=>{const t=e??T3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");j3(t),e&&O3(e)},[e])}const f7=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function $ce(e){return typeof e=="string"&&f7.includes(e)}function $E(e){const t=Array.isArray(e)?e.filter($ce):[],n=f7.filter(r=>!t.includes(r));return[...t,...n]}function BE(e){return{...pm,...e,sectionOrder:$E(e.sectionOrder)}}function Bce(e,t){return e.theme??t.theme??"dark"}function zce({open:e,settings:t}){const n=S.useMemo(()=>$E(t.sectionOrder),[t.sectionOrder]),r=S.useMemo(()=>BE(t),[t]),[i,a]=S.useState(n),[o,c]=S.useState(r),[u,f]=S.useState(null),[m,p]=S.useState(!1);return S.useEffect(()=>{if(!e||m)return;const v=$E(t.sectionOrder);c({...BE(t),sectionOrder:v}),a(v),p(!1)},[e,t,m]),{order:i,setOrder:a,localSettings:o,setLocalSettings:c,updateSetting:(v,w)=>{c(_=>{const E={..._,[v]:w};return p(!0),E})},toastMessage:u,setToastMessage:f,dirty:m,setDirty:p}}function Uce(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function h7(e){O3(e)}function Fce({setSettings:e,saveToServer:t}){return{applyChanges:S.useCallback(async(r,i,a)=>{const o={...BE(r),sectionOrder:i};Uce(),e(o),o.theme&&h7(o.theme),await t(!0),a()},[e,t])}}function Hce({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=qn(),a=zce({open:e,settings:n}),o=Fce({setSettings:r,saveToServer:i}),c=()=>a.setToastMessage(null),u=Bce(a.localSettings,n);Ice(u),S.useEffect(()=>{h7(u)},[u]);const f=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},m=g=>{const{destination:v,source:w}=g;if(!v||v.index===w.index)return;const _=Array.from(a.order),[E]=_.splice(w.index,1);_.splice(v.index,0,E),a.setOrder(_)},p=g=>{switch(g){case"theme":return x.jsx(ja,{title:"",children:x.jsx(Gce,{value:a.localSettings.theme??"dark",onChange:v=>a.updateSetting("theme",v)})});case"hiddenStem":return x.jsx(ja,{title:"  ",children:x.jsx(id,{value:a.localSettings.hiddenStem,onChange:v=>a.updateSetting("hiddenStem",v),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return x.jsx(ja,{title:" ",children:x.jsx(id,{value:a.localSettings.hiddenStemMode,onChange:v=>a.updateSetting("hiddenStemMode",v),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return x.jsx(ja,{title:"",children:x.jsx(id,{value:a.localSettings.sinsalMode,onChange:v=>a.updateSetting("sinsalMode",v),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return x.jsx(ja,{title:"",children:x.jsx(id,{value:a.localSettings.sinsalBase,onChange:v=>a.updateSetting("sinsalBase",v),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return x.jsx(ja,{title:" ",children:x.jsx(fo,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:v=>a.updateSetting("sinsalBloom",v)})});case"exposure":return x.jsx(ja,{title:" ",children:x.jsx(id,{value:a.localSettings.exposure,onChange:v=>a.updateSetting("exposure",v),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return x.jsx(ja,{title:" ",children:x.jsx(id,{value:a.localSettings.charType,onChange:v=>a.updateSetting("charType",v),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return x.jsx(ja,{title:" ",children:x.jsx(fo,{label:" ",checked:!!a.localSettings.thinEum,onChange:v=>a.updateSetting("thinEum",v)})});case"visibility":return x.jsx(ja,{title:" ",children:x.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[x.jsx(fo,{label:" ",checked:!!a.localSettings.showSipSin,onChange:v=>a.updateSetting("showSipSin",v)}),x.jsx(fo,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:v=>a.updateSetting("showSibiUnseong",v)}),x.jsx(fo,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:v=>a.updateSetting("showSibiSinsal",v)}),x.jsx(fo,{label:" ",checked:!!a.localSettings.showNabeum,onChange:v=>a.updateSetting("showNabeum",v)}),x.jsx(fo,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:v=>a.updateSetting("showEtcShinsal",v)}),x.jsx(fo,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:v=>a.updateSetting("showRelationBox",v)}),x.jsx(fo,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:v=>a.updateSetting("showPromptBox",v)})]})});case"difficultyMode":return x.jsx(ja,{title:" UP ver.",children:x.jsx(fo,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:v=>a.updateSetting("difficultyMode",v)})});default:return null}};return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),x.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),x.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[x.jsx("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("h2",{className:"text-lg font-bold",children:""}),x.jsx("button",{onClick:f,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]})}),e&&x.jsx(Xm,{onDragEnd:m,children:x.jsx(lf,{droppableId:"settings-sections",children:g=>x.jsxs("ul",{ref:g.innerRef,...g.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((v,w)=>x.jsx(sf,{draggableId:v,index:w,children:_=>x.jsxs("li",{ref:_.innerRef,..._.draggableProps,..._.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[x.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),x.jsx("div",{className:"flex-1 min-w-0",children:p(v)})]})},v)),g.placeholder]})})})]}),a.toastMessage&&x.jsx(Q5,{message:a.toastMessage,onClose:c,ms:1800})]})}function Gce({value:e,onChange:t}){const n=e==="dark";return x.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[x.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),x.jsx("span",{children:n?"":""})]})}function ja({title:e,children:t}){return x.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[x.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),x.jsx("div",{className:"flex justify-center",children:t})]})}function id({value:e,onChange:t,options:n}){return x.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return x.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function fo({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return x.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[x.jsx("span",{children:e}),x.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),x.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function qce({onShowToday:e,onShowCouple:t}){const[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o,c]=S.useState(!1),u=async()=>{if(!i){a(!0);try{const{error:f}=await Le.auth.signOut();if(f)throw f;window.location.reload()}catch(f){console.error(f),alert(" .  ."),a(!1)}}};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:x.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[x.jsx(P0,{icon:x.jsx(_ce,{size:22}),label:" ",onClick:e}),x.jsx(P0,{icon:x.jsx(vce,{size:22}),label:"",onClick:t}),x.jsx(P0,{icon:x.jsx(jce,{size:22}),label:"",onClick:()=>r(!0)}),x.jsx(P0,{icon:x.jsx(Sce,{size:22}),label:"",onClick:()=>c(!0),disabled:i})]})}),x.jsx(Hce,{open:n,onClose:()=>r(!1)}),o&&x.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>c(!1),children:x.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:f=>f.stopPropagation(),children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>c(!1),children:""}),x.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{c(!1),u()},children:""})]})]})})]})}function P0({icon:e,label:t,onClick:n,disabled:r}){return x.jsxs("button",{onClick:n,disabled:r,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,x.jsx("span",{className:"mt-1",children:t})]})}const m7=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),ab=e=>m7(e).join(""),Yce=()=>{const[e,t]=S.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(PM);return u?JSON.parse(u):{}}catch{return{}}});S.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(PM,JSON.stringify(e))}catch{}},[e]);const[n,r]=S.useState({}),[i,a]=S.useState(""),[o,c]=S.useState(()=>{const u=Yy(),f=Ky(),m=f.length?om(u,f):u;return gd(m,e)});return S.useEffect(()=>{c(u=>{const f=gd(u,e);return ab(f)===ab(u)?u:f})},[e]),S.useEffect(()=>{r(u=>{const f={...u};for(const m of o)f[m]===void 0&&(f[m]=!0);return f})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:c}},Kce=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=S.useMemo(()=>{const i=RA(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[ai]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},Bh=async()=>{const{data:e,error:t}=await Le.auth.getUser();return t||!e.user?null:e.user.id},Wce=async e=>{const{data:t,error:n}=await Le.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},Vce=async e=>{const{data:t,error:n}=await Le.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},Zce=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await Le.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await Le.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},Xce=async(e,t)=>{const{error:n}=await Le.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},Jce=async(e,t)=>{const{error:n}=await Le.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Qce=async(e,t)=>{const{error:n}=await Le.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},eue=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=S.useState(!1),o=S.useRef(e),c=S.useRef(!1),u=S.useRef(!1);S.useEffect(()=>{o.current=e},[e]),S.useEffect(()=>{(async()=>{if(i)return;const N=await Bh();if(!N)return;try{if(!u.current){const $=await Wce(N);$.disabled&&(u.current=!0),$.error?console.error("load custom folders from server error:",$.error):$.data.length&&$A($.data)}}catch($){console.error("load custom folders exception:",$)}const O=await Vce(N);if(O.error){console.error("load folder order from server error:",O.error),a(!0);return}const P=Yy(),M=O.data,D=M.length?om(P,M):om(P,Ky());n(gd(D,o.current)),M.length&&bd(M),a(!0)})()},[i,n]);const f=S.useCallback(async T=>{const N=await Bh();if(!N)return;const O=await Zce(N,T);O.error&&console.error("save folder order to server error:",O.error)},[]),m=S.useRef(null),p=S.useRef(null),g=S.useRef(""),v=S.useCallback((T,N)=>{const O=m7(T),P=ab(O);if(P&&P===g.current)return;m.current=O;const M=async()=>{const D=m.current;if(m.current=null,!D)return;const $=ab(D);$&&$===g.current||(await f(D),g.current=$)};if(N?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),M();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,M()},300)},[f]);S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const T=m.current;m.current=null,T&&T.length&&f(T)},[f]),S.useEffect(()=>{if(typeof window>"u")return;const T=()=>{if(c.current){c.current=!1;return}const N=Yy(),O=Ky(),P=O.length?om(N,O):N;n(gd(P,o.current))};return window.addEventListener(Ol,T),()=>window.removeEventListener(Ol,T)},[n]);const w=S.useCallback(T=>{const{source:N,destination:O,type:P}=T;if(!O||P!=="FOLDER")return;const M=N.index,D=O.index;M!==D&&n($=>{if(!$.length)return $;const H=[...$],[q]=H.splice(M,1);H.splice(D,0,q);const K=gd(H,o.current);return c.current=!0,bd(K),v(K),K})},[v,n]),_=S.useCallback(T=>{const N=T.trim();!N||N===dn||(J5(N),(async()=>{if(u.current)return;const O=await Bh();if(!O)return;const P=await Jce(O,N);P.disabled&&(u.current=!0),P.error&&console.error("save custom folder error:",P.error)})(),n(O=>{if(O.includes(N))return O;const P=[...O,N],M=gd(P,o.current);return bd(M),v(M,{immediate:!0}),M}))},[v,n]),E=S.useCallback(T=>{r(T),t(N=>{const O={...N};return delete O[T],O}),n(N=>{const O=N.filter(P=>P!==T);return bd(O),v(O,{immediate:!0}),(async()=>{const P=await Bh();if(!P)return;const M=await Xce(P,T);M.error&&console.error("delete folder order entry error:",M.error)})(),O}),V5.includes(T)?Kee(T):(Yee(T),(async()=>{if(u.current)return;const N=await Bh();if(!N)return;const O=await Qce(N,T);O.disabled&&(u.current=!0),O.error&&console.error("delete custom folder error:",O.error)})())},[v,t,n,r]);return{handleDragEnd:w,createFolder:_,deleteFolder:E,UNASSIGNED_LABEL:dn}};function tue(e,t){const n=Yce(),r=Kce({list:e,orderedFolders:n.orderedFolders}),i=eue({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function nue({onClose:e,onAddNew:t}){const n=Br(u=>u.list.length),i=ci(u=>u.canAddMyeongsik)(n),a=!i.ok,o=a?i.message:"",c=()=>{if(a){Ed(o||"   ");return}t()};return x.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[x.jsx("h2",{className:"text-lg font-bold",children:" "}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{type:"button",onClick:c,disabled:a,title:o,className:a?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[x.jsx(Tce,{size:16}),"  ",a?"":""]}),x.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:x.jsx(d7,{size:22})})]})]})}function rue({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return x.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[x.jsx("option",{value:"name",children:""}),x.jsx("option",{value:"ganji",children:""}),x.jsx("option",{value:"birth",children:""})]}),x.jsxs("div",{className:"relative flex-1",children:[x.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&x.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:x.jsx(yce,{size:16})})]}),i&&x.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function iue({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r}){return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[x.jsx("input",{type:"text",value:e,onChange:i=>t(i.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:i=>i.stopPropagation()}),x.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:i=>{i.stopPropagation(),n()},children:""})]}),x.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:r?"   .":"/      ."})]})}function eD({droppableId:e,items:t,isDropDisabled:n,className:r}){return x.jsx(lf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>x.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:x.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function aue({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:c,onDelete:u,inner:f}){return x.jsx(sf,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:m=>x.jsxs("div",{ref:m.innerRef,...m.draggableProps,...m.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[x.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?x.jsx(pce,{size:16}):x.jsx(hce,{size:16}),x.jsx("span",{className:"text-sm font-semibold",children:e})]}),x.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),c()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:x.jsx(u7,{size:16,fill:r?"currentColor":"none"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),x.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?f:null]})},`folder-${e}`)}const oue=()=>({canManage:ci(()=>!0)}),Tv="";function sue(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===Tv?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function lue(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(c=>o.some(u=>c.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function cue(e,t,n){if(n)return Tv;const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":P4(i)}function tD(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function uue(e){const t=tD(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Hy(r,i,a)||!e.birthTime||e.birthTime===Tv)return t;const o=Number(e.birthTime.slice(0,2)),c=e.birthTime.slice(2,4),u=o-1<0?23:o-1,f=String(u).padStart(2,"0")+c,m=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(m.getTime()))return t;const p=new Date(m.getTime()-3600*1e3),g=MA({...e,birthTime:f,corrected:p});return tD({...e,...g})}function due(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function fue(e,t){return Number.isNaN(e)?0:t-e+1}function hue(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function mue(e){return e===""?"":e===""?"":e??""}function pue({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=uue(e),o=lue(e.birthPlace?.name),c=e.relationship?.trim()?e.relationship:" ",u=mue(e.gender),f=!e.birthTime||e.birthTime===Tv,m=cue(e.correctedLocal,e.corrected,f),p=!!(o||m),g=sue(e.birthDay,e.birthTime),v=e.calendarType==="lunar"?"":"",w=due(e.birthDay),_=fue(w,new Date().getFullYear()),E=!!(e.memo&&e.memo.trim()!==""),T=t?" ":" ",N=e.mingSikType??"/",O=r?" ":"::",P=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:O,ganji:a,placeDisplay:o,relationshipLabel:c,genderLabel:u,birthDisplay:g,calendarLabel:v,correctedLabel:m,showMetaLine:p,showMemo:E,memoToggleLabel:T,age:_,mingSikTypeValue:N,favoriteLabel:P,editLabel:"",deleteLabel:"",getDragStyle:hue}}const gue=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:c,onToggleFavorite:u})=>{const f=S.useCallback(E=>{E?.stopPropagation(),n(e.id)},[n,e.id]),m=S.useCallback(E=>{E?.stopPropagation(),a(e)},[a,e]),p=S.useCallback(E=>{E?.stopPropagation(),o(e)},[o,e]),g=S.useCallback(E=>{E?.stopPropagation(),c(e)},[c,e]),v=S.useCallback(E=>{E?.stopPropagation(),u(e.id)},[u,e.id]),w=S.useCallback(E=>{const T=E===t?void 0:E;r(e.id,T)},[r,e.id,t]),_=S.useCallback(E=>{i(e,E)},[i,e]);return{handleToggleMemo:f,handleView:m,handleEdit:p,handleDelete:g,handleToggleFavorite:v,handleFolderChange:w,handleMingSikTypeChange:_}};function nD({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,memoOpen:a,onToggleMemo:o,onChangeFolder:c,onChangeMingSikType:u,onView:f,onEdit:m,onDelete:p,onToggleFavorite:g}){oue();const v=pue({m:e,memoOpen:a,isDragDisabled:i}),w=gue({m:e,unassignedLabel:r,onToggleMemo:o,onChangeFolder:c,onChangeMingSikType:u,onView:f,onEdit:m,onDelete:p,onToggleFavorite:g});return x.jsx(sf,{draggableId:v.keyId,index:t,isDragDisabled:i,children:_=>x.jsx("li",{ref:_.innerRef,..._.draggableProps,..._.dragHandleProps,style:_.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,children:x.jsxs("div",{className:"p-3",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",v.age," ",v.genderLabel,")"]}),x.jsx("span",{className:"opacity-40",children:""}),x.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:v.relationshipLabel}),x.jsx("span",{className:"ml-auto opacity-50 select-none",children:v.dragHandleLabel})]}),x.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[v.birthDisplay,", ",v.calendarLabel]}),v.showMetaLine&&x.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[v.placeDisplay,v.correctedLabel&&x.jsxs("span",{className:"opacity-70",children:["  ",v.correctedLabel]})]}),v.ganji&&x.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:v.ganji}),v.showMemo&&x.jsxs("div",{children:[x.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:w.handleToggleMemo,children:v.memoToggleLabel}),x.jsx("div",{className:a?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[x.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:E=>E.stopPropagation(),onChange:E=>{E.stopPropagation(),w.handleFolderChange(E.target.value)},children:[r,...n].map(E=>x.jsx("option",{value:E,children:E},E))}),x.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:v.mingSikTypeValue,onClick:E=>E.stopPropagation(),onChange:E=>{E.stopPropagation(),w.handleMingSikTypeChange(E.target.value)},children:[x.jsx("option",{value:"",children:""}),x.jsx("option",{value:"/",children:"/"}),x.jsx("option",{value:"",children:""})]})]}),x.jsxs("div",{className:"flex gap-2 mt-3",children:[x.jsx("button",{type:"button",onClick:w.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),x.jsx("button",{type:"button",title:"",onClick:w.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:v.editLabel}),x.jsx("button",{type:"button",title:"",onClick:w.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:v.deleteLabel}),x.jsx("button",{type:"button",title:v.favoriteLabel,onClick:w.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":v.favoriteLabel,children:x.jsx(u7,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},v.keyId)}const yue="list:__unassigned__",bue=e=>`list:${e}`,rD=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},vue=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=K5(e),{filteredUnassigned:o,filteredGrouped:c,totalMatches:u}=S.useMemo(()=>Mee({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:c,totalMatches:u}},xue=({list:e,orderedFolders:t})=>{const[n,r]=S.useState(""),[i,a]=S.useState("name"),[o,c]=S.useState({}),u=S.useRef(null),f=S.useRef(null);return S.useEffect(()=>{if(f.current==null)return;const g=u.current;g&&(g.scrollTop=f.current,f.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:g=>{c(v=>({...v,[g]:!v[g]}))},scrollRef:u,stashScrollTop:()=>{const g=u.current;g&&(f.current=g.scrollTop)}}},iD=()=>{typeof window>"u"||window.dispatchEvent(new Event(Ol))},_ue=({orderedFolders:e,isFiltering:t,handleFolderDragEnd:n,moveItemByDnD:r,update:i,remove:a,onView:o,onClose:c,onDeleteView:u,folderFavMap:f,setFolderFavMap:m,setFolderOpenMap:p,createFolder:g,deleteFolder:v,newFolderName:w,setNewFolderName:_,stashScrollTop:E})=>{const T=S.useCallback((K,F)=>{i(K,{folder:F})},[i]),N=S.useCallback((K,F)=>{const z={...K,mingSikType:F},Z=MA(z);i(K.id,{mingSikType:F,...Z}),o({...z,...Z}),c()},[i,o,c]),O=S.useCallback(K=>{o(K),c()},[o,c]),P=S.useCallback(K=>{confirm(`'${K.name}'  ?`)&&(a(K.id),u&&u())},[a,u]),M=S.useCallback(()=>{const K=w.trim();K&&(g(K),_(""),iD())},[w,g,_]),D=S.useCallback(K=>{if(f[K]){alert(`'${K}'   .
   .`);return}confirm(`'${K}'  ?
(   )`)&&(v(K),iD())},[f,v]),$=S.useCallback(K=>{p(F=>({...F,[K]:!F[K]}))},[p]),H=S.useCallback(K=>{m(F=>({...F,[K]:!F[K]}))},[m]);return{handleDrop:S.useCallback(K=>{const{type:F,source:z,destination:Z,draggableId:Q}=K;if(Z&&!t){if(E(),F==="FOLDER"){n(K);return}if(F==="ITEM"){if(!Q.replace(/^item:/,""))return;const Y=rD(z.droppableId),X=rD(Z.droppableId);r({orderedFolders:e,sourceFolder:Y,sourceIndex:z.index,destinationFolder:X,destinationIndex:Z.index})}}},[t,E,n,r,e]),changeFolder:T,changeMingSikType:N,viewAndClose:O,requestDelete:P,createFolderAndNotify:M,requestDeleteFolder:D,toggleFolderOpen:$,toggleFolderFavorite:H}};function wue({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a}){const{list:o,remove:c,update:u,moveItemByDnD:f,toggleFavoriteWithReorder:m,unsetFolderForFolder:p}=Br(),{folderFavMap:g,setFolderFavMap:v,folderOpenMap:w,setFolderOpenMap:_,newFolderName:E,setNewFolderName:T,orderedFolders:N,grouped:O,unassignedItems:P,handleDragEnd:M,createFolder:D,deleteFolder:$,UNASSIGNED_LABEL:H}=tue(o,{unsetFolderForFolder:p}),q=xue({list:o,orderedFolders:N}),{isFiltering:K,filteredUnassigned:F,filteredGrouped:z,totalMatches:Z}=vue({search:q.search,searchMode:q.searchMode,orderedFolders:N,unassignedItems:P,grouped:O}),Q=_ue({orderedFolders:N,isFiltering:K,handleFolderDragEnd:M,moveItemByDnD:f,update:u,remove:c,onView:n,onClose:t,onDeleteView:a,folderFavMap:g,setFolderFavMap:v,setFolderOpenMap:_,createFolder:D,deleteFolder:$,newFolderName:E,setNewFolderName:T,stashScrollTop:q.stashScrollTop});return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),x.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[x.jsx(nue,{onClose:t,onAddNew:()=>{r(),t()}}),x.jsx(Xm,{onDragEnd:Q.handleDrop,children:x.jsxs("div",{ref:q.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[x.jsx(rue,{search:q.search,setSearch:q.setSearch,searchMode:q.searchMode,setSearchMode:q.setSearchMode,isFiltering:K,totalMatches:Z}),x.jsx(iue,{newFolderName:E,setNewFolderName:T,isFiltering:K,onCreate:Q.createFolderAndNotify}),x.jsx(eD,{droppableId:yue,isDropDisabled:K,className:"mb-6",items:F.map((J,Y)=>x.jsx(nD,{m:J,index:Y,orderedFolders:N,unassignedLabel:H,isDragDisabled:K,memoOpen:!!q.memoOpenMap[J.id],onToggleMemo:q.toggleMemo,onChangeFolder:Q.changeFolder,onChangeMingSikType:Q.changeMingSikType,onView:Q.viewAndClose,onEdit:X=>i(X),onDelete:Q.requestDelete,onToggleFavorite:X=>void m(X,N)},J.id))}),x.jsx(lf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:K,children:J=>x.jsxs("div",{ref:J.innerRef,...J.droppableProps,children:[N.map((Y,X)=>{const re=bue(Y),ue=z[Y]||[],se=!!w[Y],B=!!g[Y];return x.jsx(aue,{folderName:Y,folderIndex:X,isOpen:se,isFavorite:B,itemCount:ue.length,isDragDisabled:K,onToggleOpen:()=>Q.toggleFolderOpen(Y),onToggleFavorite:()=>Q.toggleFolderFavorite(Y),onDelete:()=>Q.requestDeleteFolder(Y),inner:x.jsx(eD,{droppableId:re,isDropDisabled:K,className:"mt-2",items:ue.map((W,ae)=>x.jsx(nD,{m:W,index:ae,orderedFolders:N,unassignedLabel:H,isDragDisabled:K,memoOpen:!!q.memoOpenMap[W.id],onToggleMemo:q.toggleMemo,onChangeFolder:Q.changeFolder,onChangeMingSikType:Q.changeMingSikType,onView:Q.viewAndClose,onEdit:V=>i(V),onDelete:Q.requestDelete,onToggleFavorite:V=>void m(V,N)},W.id))})},`folder-${Y}`)}),J.placeholder]})})]})})]})]})}function aD(e){return{...e,calendarType:e.calendarType??"solar"}}function oD(e){return!e.birthTime||e.birthTime===""}function sD(e){return!e.birthPlace||e.birthPlace.name===""}function Sue(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Ui(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${c}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const p7="ms_folders";function Eue(){try{const e=JSON.parse(localStorage.getItem(p7)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function kue(e){localStorage.setItem(p7,JSON.stringify(e))}function Aue(e){const[t,n]=S.useState(!1),[r,i]=S.useState(()=>aD(e)),[a,o]=S.useState(oD(e)),[c,u]=S.useState(sD(e)),[f,m]=S.useState([]);return S.useEffect(()=>{m(Eue())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(v,w)=>{i(_=>({..._,[v]:w}))},unknownTime:a,setUnknownTime:o,unknownPlace:c,setUnknownPlace:u,customFolders:f,setCustomFolders:m,resetForm:()=>{i(aD(e)),o(oD(e)),u(sD(e))}}}const g7=["","","","","",""];function Tue(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...g7,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[dn,...i]}function Oue({list:e,customFolders:t,form:n}){const r=S.useMemo(()=>Tue(e,t),[e,t]),i=S.useMemo(()=>Sue(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function jue(e,t,n){if(!e.name||e.name.trim()==="")return" .";const r=PA(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=DA(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"   '' .":null:i.message}function Nue({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:c,onClose:u,onSaved:f}){return{save:()=>{const g=jue(t,n,r);if(g){alert(g);return}const v=Gc(t.folder===dn?void 0:t.folder),w=H5({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:v,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!w.ok){alert(w.message);return}const _={...e,...w.value};if(_.folder&&!g7.includes(_.folder)&&!i.includes(_.folder)){const E=[...i,_.folder];a(E),kue(E)}o(e.id,_),f?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&c(e.id)}}}const s1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Cue="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",Mue="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",rs="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",Pue="text-xs text-neutral-500 dark:text-neutral-400",D0="accent-violet-600 dark:accent-violet-400",lD="accent-violet-600 dark:accent-violet-400",Ov="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Due=`${Ov} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,Rue=`${Ov} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,cD=`${Ov} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,Lue=`${Ov} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function Iue({item:e,onClose:t}){const{list:n,update:r,remove:i}=Br(),a=Aue(e),o=Oue({list:n,customFolders:a.customFolders,form:a.form}),c=Nue({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?x.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[x.jsx("h3",{className:"text-lg font-bold",children:" "}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:""}),x.jsx("input",{className:s1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:rs,children:" (YYYYMMDD)"}),x.jsx("input",{className:s1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),x.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:D0,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),x.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:D0,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),x.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&x.jsx("span",{className:Pue,children:o.lunarPreview})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:"  (HHMM)"}),x.jsx("input",{className:`${s1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),x.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",className:lD,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),x.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:rs,children:" "}),x.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const f=`editor_ming_${u}`;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:D0,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:f}),x.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:""}),x.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const f=`editor_gender_${u}`;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:D0,name:"gender",value:u,checked:a.form.gender===u,onChange:m=>a.updateForm("gender",m.target.value),id:f}),x.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:" "}),x.jsx(OB,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),x.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",className:lD,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),x.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:""}),x.jsx(W5,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:""}),x.jsx("select",{className:Cue,value:a.form.folder??dn,onChange:u=>{const f=u.target.value;f===dn?a.updateForm("folder",void 0):a.updateForm("folder",f)},children:o.folderOptions.map(u=>x.jsx("option",{value:u===dn?dn:u,children:u},u))})]}),x.jsxs("div",{children:[x.jsx("label",{className:rs,children:""}),x.jsx("textarea",{className:Mue,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),x.jsxs("div",{className:"flex gap-2 justify-end",children:[x.jsx("button",{className:cD,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),x.jsx("button",{className:Lue,onClick:c.save,children:""})]})]}):x.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:Due,onClick:()=>a.setIsEditing(!0),children:""}),x.jsx("button",{className:Rue,onClick:c.removeThis,children:""}),t&&x.jsx("button",{className:cD,onClick:t,children:""})]})]}),x.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[x.jsxs("div",{children:[": ",e.gender]}),x.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),x.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),x.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),x.jsxs("div",{children:[": ",e.relationship||"-"]}),x.jsxs("div",{children:[": ",e.folder??dn]})]}),e.ganji&&x.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&x.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[x.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function $ue({children:e}){const t=qa(),[n,r]=S.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return x.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[x.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[x.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[x.jsx("span",{className:"desk:block hidden",children:""}),x.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),x.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return x.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),x.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[x.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[x.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),x.jsx("div",{className:"font-semibold",children:" "}),x.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),x.jsx("div",{className:"flex-1",children:e})]})]})}function Bue(){const[e,t]=S.useState(null),[n,r]=S.useState(!0);return S.useEffect(()=>{(async()=>{const{data:a}=await Le.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:c}=await Le.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(c?.role??null),r(!1)})()},[]),{role:e,loading:n}}function zue({allow:e,children:t}){const{role:n,loading:r}=Bue();return r?x.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?x.jsx("div",{className:"text-red-400 p-6",children:" ."}):x.jsx(x.Fragment,{children:t})}function y7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=y7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=y7(e))&&(r&&(r+=" "),r+=t);return r}var Uue=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function c2(e){if(typeof e!="string")return!1;var t=Uue;return t.includes(e)}var Fue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Hue=new Set(Fue);function b7(e){return typeof e!="string"?!1:Hue.has(e)}function v7(e){return typeof e=="string"&&e.startsWith("data-")}function Fa(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(b7(n)||v7(n))&&(t[n]=e[n]);return t}function jv(e){if(e==null)return null;if(S.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Fa(t)}return typeof e=="object"&&!Array.isArray(e)?Fa(e):null}function ha(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(b7(n)||v7(n)||c2(n))&&(t[n]=e[n]);return t}function Gue(e){return e==null?null:S.isValidElement(e)?ha(e.props):typeof e=="object"&&!Array.isArray(e)?ha(e):null}var que=["children","width","height","viewBox","className","style","title","desc"];function zE(){return zE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zE.apply(null,arguments)}function Yue(e,t){if(e==null)return{};var n,r,i=Kue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var x7=S.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:c,title:u,desc:f}=e,m=Yue(e,que),p=a||{width:r,height:i,x:0,y:0},g=Qt("recharts-surface",o);return S.createElement("svg",zE({},ha(m),{className:g,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),S.createElement("title",null,u),S.createElement("desc",null,f),n)}),Wue=["children","className"];function UE(){return UE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UE.apply(null,arguments)}function Vue(e,t){if(e==null)return{};var n,r,i=Zue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var So=S.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Vue(e,Wue),a=Qt("recharts-layer",r);return S.createElement("g",UE({className:a},ha(i),{ref:t}),n)}),Xue=S.createContext(null);function vn(e){return function(){return e}}const FE=Math.PI,HE=2*FE,Dc=1e-6,Jue=HE-Dc;function _7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Que(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _7;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ede{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_7:Que(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,u=r-t,f=i-n,m=o-t,p=c-n,g=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Dc)if(!(Math.abs(p*u-f*m)>Dc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-o,w=i-c,_=u*u+f*f,E=v*v+w*w,T=Math.sqrt(_),N=Math.sqrt(g),O=a*Math.tan((FE-Math.acos((_+g-E)/(2*T*N)))/2),P=O/N,M=O/T;Math.abs(P-1)>Dc&&this._append`L${t+P*m},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*v>m*w)},${this._x1=t+M*u},${this._y1=n+M*f}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),u=r*Math.sin(i),f=t+c,m=n+u,p=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Dc||Math.abs(this._y1-m)>Dc)&&this._append`L${f},${m}`,r&&(g<0&&(g=g%HE+HE),g>Jue?this._append`A${r},${r},0,1,${p},${t-c},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:g>Dc&&this._append`A${r},${r},0,${+(g>=FE)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function w7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new ede(t)}function u2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function S7(e){this._context=e}S7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Nv(e){return new S7(e)}function E7(e){return e[0]}function k7(e){return e[1]}function A7(e,t){var n=vn(!0),r=null,i=Nv,a=null,o=w7(c);e=typeof e=="function"?e:e===void 0?E7:vn(e),t=typeof t=="function"?t:t===void 0?k7:vn(t);function c(u){var f,m=(u=u2(u)).length,p,g=!1,v;for(r==null&&(a=i(v=o())),f=0;f<=m;++f)!(f<m&&n(p=u[f],f,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(p,f,u),+t(p,f,u));if(v)return a=null,v+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:vn(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:vn(+u),c):t},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:vn(!!u),c):n},c.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),c):i},c.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),c):r},c}function R0(e,t,n){var r=null,i=vn(!0),a=null,o=Nv,c=null,u=w7(f);e=typeof e=="function"?e:e===void 0?E7:vn(+e),t=typeof t=="function"?t:vn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?k7:vn(+n);function f(p){var g,v,w,_=(p=u2(p)).length,E,T=!1,N,O=new Array(_),P=new Array(_);for(a==null&&(c=o(N=u())),g=0;g<=_;++g){if(!(g<_&&i(E=p[g],g,p))===T)if(T=!T)v=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=g-1;w>=v;--w)c.point(O[w],P[w]);c.lineEnd(),c.areaEnd()}T&&(O[g]=+e(E,g,p),P[g]=+t(E,g,p),c.point(r?+r(E,g,p):O[g],n?+n(E,g,p):P[g]))}if(N)return c=null,N+""||null}function m(){return A7().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:vn(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:vn(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:vn(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:vn(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:vn(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:vn(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:vn(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(c=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=c=null:c=o(a=p),f):a},f}class T7{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function tde(e){return new T7(e,!0)}function nde(e){return new T7(e,!1)}function ob(){}function sb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function O7(e){this._context=e}O7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rde(e){return new O7(e)}function j7(e){this._context=e}j7.prototype={areaStart:ob,areaEnd:ob,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ide(e){return new j7(e)}function N7(e){this._context=e}N7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ade(e){return new N7(e)}function C7(e){this._context=e}C7.prototype={areaStart:ob,areaEnd:ob,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ode(e){return new C7(e)}function uD(e){return e<0?-1:1}function dD(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),c=(a*i+o*r)/(r+i);return(uD(a)+uD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function fD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function l1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,o-c*n,a,o)}function lb(e){this._context=e}lb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:l1(this,this._t0,fD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,l1(this,fD(this,n=dD(this,e,t)),n);break;default:l1(this,this._t0,n=dD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function M7(e){this._context=new P7(e)}(M7.prototype=Object.create(lb.prototype)).point=function(e,t){lb.prototype.point.call(this,t,e)};function P7(e){this._context=e}P7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function sde(e){return new lb(e)}function lde(e){return new M7(e)}function D7(e){this._context=e}D7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=hD(e),i=hD(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hD(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function cde(e){return new D7(e)}function Cv(e,t){this._context=e,this._t=t}Cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function ude(e){return new Cv(e,.5)}function dde(e){return new Cv(e,0)}function fde(e){return new Cv(e,1)}function Gd(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,c=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function GE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function hde(e,t){return e[t]}function mde(e){const t=[];return t.key=e,t}function pde(){var e=vn([]),t=GE,n=Gd,r=hde;function i(a){var o=Array.from(e.apply(this,arguments),mde),c,u=o.length,f=-1,m;for(const p of a)for(c=0,++f;c<u;++c)(o[c][f]=[0,+r(p,o[c].key,f,a)]).data=p;for(c=0,m=u2(t(o));c<u;++c)o[m[c]].index=c;return n(o,m),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:vn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:vn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?GE:typeof a=="function"?a:vn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Gd,i):n},i}function gde(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Gd(e,t)}}function yde(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,c=0;o<i;++o)c+=e[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}Gd(e,t)}}function bde(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var c=0,u=0,f=0;c<o;++c){for(var m=e[t[c]],p=m[r][1]||0,g=m[r-1][1]||0,v=(p-g)/2,w=0;w<c;++w){var _=e[t[w]],E=_[r][1]||0,T=_[r-1][1]||0;v+=E-T}u+=p,f+=v*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,Gd(e,t)}}var c1={},u1={},mD;function vde(){return mD||(mD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(u1)),u1}var d1={},pD;function R7(){return pD||(pD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(d1)),d1}var f1={},gD;function d2(){return gD||(gD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(f1)),f1}var h1={},m1={},yD;function xde(){return yD||(yD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(m1)),m1}var bD;function f2(){return bD||(bD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xde(),n=d2();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let c=0,u="",f="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<o;){const p=i[c];f?p==="\\"&&c+1<o?(c++,u+=i[c]):p===f?f="":u+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,a.push(u),u=""):u+=p:p==="["?(m=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,c++}return u&&a.push(u),a}e.toPath=r})(h1)),h1}var vD;function h2(){return vD||(vD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vde(),n=R7(),r=d2(),i=f2();function a(c,u,f){if(c==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const m=c[u];return m===void 0?n.isDeepKey(u)?a(c,i.toPath(u),f):f:m}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const m=c[u];return m===void 0?f:m}default:{if(Array.isArray(u))return o(c,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const m=c[u];return m===void 0?f:m}}}function o(c,u,f){if(u.length===0)return f;let m=c;for(let p=0;p<u.length;p++){if(m==null||t.isUnsafeProperty(u[p]))return f;m=m[u[p]]}return m===void 0?f:m}e.get=a})(c1)),c1}var p1,xD;function _de(){return xD||(xD=1,p1=h2().get),p1}var wde=_de();const Mv=di(wde);var la=e=>e===0?0:e>0?1:-1,Ha=e=>typeof e=="number"&&e!=+e,gs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,We=e=>(typeof e=="number"||e instanceof Number)&&!Ha(e),Eo=e=>We(e)||typeof e=="string",Sde=0,Am=e=>{var t=++Sde;return"".concat(e||"").concat(t)},Nl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(t)&&typeof t!="string")return r;var a;if(gs(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Ha(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},L7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function yo(e,t,n){return We(e)&&We(t)?e+n*(t-e):t}function I7(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Mv(r,t))===n)}var br=e=>e===null||typeof e>"u",m2=e=>br(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ede(e){return e!=null}function ap(){}var $7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,p2=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{c2(i)&&(r[i]=(a=>n[i](n,a)))}),r},kde=(e,t,n)=>r=>(e(t,n,r),null),Ade=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];c2(i)&&typeof a=="function"&&(r||(r={}),r[i]=kde(a,t,n))}),r};function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(n),!0).forEach(function(r){Ode(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ode(e,t,n){return(t=jde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jde(e){var t=Nde(e,"string");return typeof t=="symbol"?t:t+""}function Nde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hi(e,t){var n=Tde({},e),r=t,i=Object.keys(t),a=i.reduce((o,c)=>(o[c]===void 0&&r[c]!==void 0&&(o[c]=r[c]),o),n);return a}var g1={},y1={},wD;function Cde(){return wD||(wD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],c=r(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}e.uniqBy=t})(y1)),y1}var b1={},SD;function B7(){return SD||(SD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(b1)),b1}var v1={},x1={},_1={},ED;function Mde(){return ED||(ED=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(_1)),_1}var kD;function g2(){return kD||(kD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mde();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(x1)),x1}var w1={},AD;function Pde(){return AD||(AD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(w1)),w1}var TD;function Dde(){return TD||(TD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g2(),n=Pde();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(v1)),v1}var S1={},E1={},OD;function Rde(){return OD||(OD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h2();function n(r){return function(i){return t.get(i,r)}}e.property=n})(E1)),E1}var k1={},A1={},T1={},O1={},jD;function z7(){return jD||(jD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(O1)),O1}var j1={},ND;function U7(){return ND||(ND=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(j1)),j1}var N1={},CD;function F7(){return CD||(CD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(N1)),N1}var MD;function Lde(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z7(),n=U7(),r=F7();function i(m,p,g){return typeof g!="function"?i(m,p,()=>{}):a(m,p,function v(w,_,E,T,N,O){const P=g(w,_,E,T,N,O);return P!==void 0?!!P:a(w,_,v,O)},new Map)}function a(m,p,g,v){if(p===m)return!0;switch(typeof p){case"object":return o(m,p,g,v);case"function":return Object.keys(p).length>0?a(m,{...p},g,v):r.eq(m,p);default:return t.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function o(m,p,g,v){if(p==null)return!0;if(Array.isArray(p))return u(m,p,g,v);if(p instanceof Map)return c(m,p,g,v);if(p instanceof Set)return f(m,p,g,v);const w=Object.keys(p);if(m==null)return w.length===0;if(w.length===0)return!0;if(v?.has(p))return v.get(p)===m;v?.set(p,m);try{for(let _=0;_<w.length;_++){const E=w[_];if(!n.isPrimitive(m)&&!(E in m)||p[E]===void 0&&m[E]!==void 0||p[E]===null&&m[E]!==null||!g(m[E],p[E],E,m,p,v))return!1}return!0}finally{v?.delete(p)}}function c(m,p,g,v){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[w,_]of p.entries()){const E=m.get(w);if(g(E,_,w,m,p,v)===!1)return!1}return!0}function u(m,p,g,v){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const w=new Set;for(let _=0;_<p.length;_++){const E=p[_];let T=!1;for(let N=0;N<m.length;N++){if(w.has(N))continue;const O=m[N];let P=!1;if(g(O,E,_,m,p,v)&&(P=!0),P){w.add(N),T=!0;break}}if(!T)return!1}return!0}function f(m,p,g,v){return p.size===0?!0:m instanceof Set?u([...m],[...p],g,v):!1}e.isMatchWith=i,e.isSetMatch=f})(T1)),T1}var PD;function H7(){return PD||(PD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lde();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(A1)),A1}var C1={},M1={},P1={},DD;function Ide(){return DD||(DD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(P1)),P1}var D1={},RD;function G7(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(D1)),D1}var R1={},LD;function q7(){return LD||(LD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",w="[object Error]",_="[object DataView]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",O="[object Uint32Array]",P="[object BigUint64Array]",M="[object Int8Array]",D="[object Int16Array]",$="[object Int32Array]",H="[object BigInt64Array]",q="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=m,e.bigInt64ArrayTag=H,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=_,e.dateTag=c,e.errorTag=w,e.float32ArrayTag=q,e.float64ArrayTag=K,e.functionTag=p,e.int16ArrayTag=D,e.int32ArrayTag=$,e.int8ArrayTag=M,e.mapTag=u,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=N,e.uint32ArrayTag=O,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=T})(R1)),R1}var L1={},ID;function $de(){return ID||(ID=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(L1)),L1}var $D;function Y7(){return $D||($D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ide(),n=G7(),r=q7(),i=U7(),a=$de();function o(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,g,v=new Map,w=void 0){const _=w?.(m,p,g,v);if(_!==void 0)return _;if(i.isPrimitive(m))return m;if(v.has(m))return v.get(m);if(Array.isArray(m)){const E=new Array(m.length);v.set(m,E);for(let T=0;T<m.length;T++)E[T]=c(m[T],T,g,v,w);return Object.hasOwn(m,"index")&&(E.index=m.index),Object.hasOwn(m,"input")&&(E.input=m.input),E}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const E=new RegExp(m.source,m.flags);return E.lastIndex=m.lastIndex,E}if(m instanceof Map){const E=new Map;v.set(m,E);for(const[T,N]of m)E.set(T,c(N,T,g,v,w));return E}if(m instanceof Set){const E=new Set;v.set(m,E);for(const T of m)E.add(c(T,void 0,g,v,w));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const E=new(Object.getPrototypeOf(m)).constructor(m.length);v.set(m,E);for(let T=0;T<m.length;T++)E[T]=c(m[T],T,g,v,w);return E}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const E=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return v.set(m,E),u(E,m,g,v,w),E}if(typeof File<"u"&&m instanceof File){const E=new File([m],m.name,{type:m.type});return v.set(m,E),u(E,m,g,v,w),E}if(typeof Blob<"u"&&m instanceof Blob){const E=new Blob([m],{type:m.type});return v.set(m,E),u(E,m,g,v,w),E}if(m instanceof Error){const E=new m.constructor;return v.set(m,E),E.message=m.message,E.name=m.name,E.stack=m.stack,E.cause=m.cause,u(E,m,g,v,w),E}if(m instanceof Boolean){const E=new Boolean(m.valueOf());return v.set(m,E),u(E,m,g,v,w),E}if(m instanceof Number){const E=new Number(m.valueOf());return v.set(m,E),u(E,m,g,v,w),E}if(m instanceof String){const E=new String(m.valueOf());return v.set(m,E),u(E,m,g,v,w),E}if(typeof m=="object"&&f(m)){const E=Object.create(Object.getPrototypeOf(m));return v.set(m,E),u(E,m,g,v,w),E}return m}function u(m,p,g=m,v,w){const _=[...Object.keys(p),...t.getSymbols(p)];for(let E=0;E<_.length;E++){const T=_[E],N=Object.getOwnPropertyDescriptor(m,T);(N==null||N.writable)&&(m[T]=c(p[T],T,g,v,w))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=u})(M1)),M1}var BD;function Bde(){return BD||(BD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y7();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(C1)),C1}var zD;function zde(){return zD||(zD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H7(),n=Bde();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(k1)),k1}var I1={},$1={},B1={},UD;function Ude(){return UD||(UD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y7(),n=q7();function r(i,a){return t.cloneDeepWith(i,(o,c,u,f)=>{const m=a?.(o,c,u,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(B1)),B1}var FD;function Fde(){return FD||(FD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ude();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})($1)),$1}var z1={},U1={},HD;function K7(){return HD||(HD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(U1)),U1}var F1={},GD;function Hde(){return GD||(GD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G7();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(F1)),F1}var qD;function Gde(){return qD||(qD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R7(),n=K7(),r=Hde(),i=f2();function a(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?u=i.toPath(c):u=[c],u.length===0)return!1;let f=o;for(let m=0;m<u.length;m++){const p=u[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(z1)),z1}var YD;function qde(){return YD||(YD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H7(),n=d2(),r=Fde(),i=h2(),a=Gde();function o(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return u=r.cloneDeep(u),function(f){const m=i.get(f,c);return m===void 0?a.has(f,c):u===void 0?m===void 0:t.isMatch(m,u)}}e.matchesProperty=o})(I1)),I1}var KD;function Yde(){return KD||(KD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B7(),n=Rde(),r=zde(),i=qde();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(S1)),S1}var WD;function Kde(){return WD||(WD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cde(),n=B7(),r=Dde(),i=Yde();function a(o,c=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(c)):[]}e.uniqBy=a})(g1)),g1}var H1,VD;function Wde(){return VD||(VD=1,H1=Kde().uniqBy),H1}var Vde=Wde();const ZD=di(Vde);function Zde(e,t,n){return t===!0?ZD(e,n):typeof t=="function"?ZD(e,t):e}var G1={exports:{}},q1={},Y1={exports:{}},K1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD;function Xde(){if(XD)return K1;XD=1;var e=Xd();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function c(p,g){var v=g(),w=r({inst:{value:v,getSnapshot:g}}),_=w[0].inst,E=w[1];return a(function(){_.value=v,_.getSnapshot=g,u(_)&&E({inst:_})},[p,v,g]),i(function(){return u(_)&&E({inst:_}),p(function(){u(_)&&E({inst:_})})},[p]),o(v),v}function u(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function f(p,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return K1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,K1}var JD;function Jde(){return JD||(JD=1,Y1.exports=Xde()),Y1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QD;function Qde(){if(QD)return q1;QD=1;var e=Xd(),t=Jde();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return q1.useSyncExternalStoreWithSelector=function(f,m,p,g,v){var w=a(null);if(w.current===null){var _={hasValue:!1,value:null};w.current=_}else _=w.current;w=c(function(){function T(D){if(!N){if(N=!0,O=D,D=g(D),v!==void 0&&_.hasValue){var $=_.value;if(v($,D))return P=$}return P=D}if($=P,r(O,D))return $;var H=g(D);return v!==void 0&&v($,H)?(O=D,$):(O=D,P=H)}var N=!1,O,P,M=p===void 0?null:p;return[function(){return T(m())},M===null?void 0:function(){return T(M())}]},[m,p,g,v]);var E=i(f,w[0],w[1]);return o(function(){_.hasValue=!0,_.value=E},[E]),u(E),E},q1}var eR;function efe(){return eR||(eR=1,G1.exports=Qde()),G1.exports}var tfe=efe(),y2=S.createContext(null),nfe=e=>e,sr=()=>{var e=S.useContext(y2);return e?e.store.dispatch:nfe},my=()=>{},rfe=()=>my,ife=(e,t)=>e===t;function Je(e){var t=S.useContext(y2);return tfe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:rfe,t?t.store.getState:my,t?t.store.getState:my,t?e:my,ife)}function afe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ofe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function sfe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var tR=e=>Array.isArray(e)?e:[e];function lfe(e){const t=Array.isArray(e[0])?e[0]:e;return sfe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function cfe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var ufe=class{constructor(e){this.value=e}deref(){return this.value}},dfe=typeof WeakRef<"u"?WeakRef:ufe,ffe=0,nR=1;function L0(){return{s:ffe,v:void 0,o:null,p:null}}function W7(e,t={}){let n=L0();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let c=n;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const _=w.get(v);_===void 0?(c=L0(),w.set(v,c)):c=_}else{let w=c.p;w===null&&(c.p=w=new Map);const _=w.get(v);_===void 0?(c=L0(),w.set(v,c)):c=_}}const f=c;let m;if(c.s===nR)m=c.v;else if(m=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new dfe(m):m}return f.s=nR,f.v=m,m}return o.clearCache=()=>{n=L0(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function hfe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,c,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),afe(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:v=W7,argsMemoizeOptions:w=[]}=m,_=tR(g),E=tR(w),T=lfe(i),N=p(function(){return a++,f.apply(null,arguments)},..._),O=v(function(){o++;const M=cfe(T,arguments);return c=N.apply(null,M),c},...E);return Object.assign(O,{resultFunc:f,memoizedResultFunc:N,dependencies:T,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var we=hfe(W7),mfe=Object.assign((e,t=we)=>{ofe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,c,u)=>(o[n[u]]=c,o),{}))},{withTypes:()=>mfe}),W1={},V1={},Z1={},rR;function pfe(){return rR||(rR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),c=t(i);if(o===c&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-o:o-c}return 0};e.compareValues=n})(Z1)),Z1}var X1={},J1={},iR;function V7(){return iR||(iR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(J1)),J1}var aR;function gfe(){return aR||(aR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V7(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(X1)),X1}var oR;function yfe(){return oR||(oR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pfe(),n=gfe(),r=f2();function i(a,o,c,u){if(a==null)return[];c=u?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(v=>String(v));const f=(v,w)=>{let _=v;for(let E=0;E<w.length&&_!=null;++E)_=_[w[E]];return _},m=(v,w)=>w==null||v==null?w:typeof v=="object"&&"key"in v?Object.hasOwn(w,v.key)?w[v.key]:f(w,v.path):typeof v=="function"?v(w):Array.isArray(v)?f(w,v):typeof w=="object"?w[v]:w,p=o.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:p.map(w=>m(w,v))})).slice().sort((v,w)=>{for(let _=0;_<p.length;_++){const E=t.compareValues(v.criteria[_],w.criteria[_],c[_]);if(E!==0)return E}return 0}).map(v=>v.original)}e.orderBy=i})(V1)),V1}var Q1={},sR;function bfe(){return sR||(sR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(c,u)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&u<a?o(m,u+1):i.push(m)}};return o(n,0),i}e.flatten=t})(Q1)),Q1}var eS={},lR;function Z7(){return lR||(lR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K7(),n=g2(),r=z7(),i=F7();function a(o,c,u){return r.isObject(u)&&(typeof c=="number"&&n.isArrayLike(u)&&t.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.eq(u[c],o):!1}e.isIterateeCall=a})(eS)),eS}var cR;function vfe(){return cR||(cR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yfe(),n=bfe(),r=Z7();function i(a,...o){const c=o.length;return c>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:c>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(W1)),W1}var tS,uR;function xfe(){return uR||(uR=1,tS=vfe().sortBy),tS}var _fe=xfe();const Pv=di(_fe);var X7=e=>e.legend.settings,wfe=e=>e.legend.size,Sfe=e=>e.legend.payload;we([Sfe,X7],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Pv(r,n):r});var I0=1;function Efe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>I0||Math.abs(o.left-t.left)>I0||Math.abs(o.top-t.top)>I0||Math.abs(o.width-t.width)>I0)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var J7=Symbol.for("immer-nothing"),dR=Symbol.for("immer-draftable"),zr=Symbol.for("immer-state");function Ra(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Di=Object,qd=Di.getPrototypeOf,cb="constructor",Dv="prototype",qE="configurable",ub="enumerable",py="writable",Tm="value",ys=e=>!!e&&!!e[zr];function Ga(e){return e?Q7(e)||Rv(e)||!!e[dR]||!!e[cb]?.[dR]||Lv(e)||Iv(e):!1}var kfe=Di[Dv][cb].toString(),fR=new WeakMap;function Q7(e){if(!e||!b2(e))return!1;const t=qd(e);if(t===null||t===Di[Dv])return!0;const n=Di.hasOwnProperty.call(t,cb)&&t[cb];if(n===Object)return!0;if(!md(n))return!1;let r=fR.get(n);return r===void 0&&(r=Function.toString.call(n),fR.set(n,r)),r===kfe}function op(e,t,n=!0){sp(e)===0?(n?Reflect.ownKeys(e):Di.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function sp(e){const t=e[zr];return t?t.type_:Rv(e)?1:Lv(e)?2:Iv(e)?3:0}var hR=(e,t,n=sp(e))=>n===2?e.has(t):Di[Dv].hasOwnProperty.call(e,t),YE=(e,t,n=sp(e))=>n===2?e.get(t):e[t],db=(e,t,n,r=sp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Afe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Rv=Array.isArray,Lv=e=>e instanceof Map,Iv=e=>e instanceof Set,b2=e=>typeof e=="object",md=e=>typeof e=="function",nS=e=>typeof e=="boolean",is=e=>e.copy_||e.base_,v2=e=>e.modified_?e.copy_:e.base_;function KE(e,t){if(Lv(e))return new Map(e);if(Iv(e))return new Set(e);if(Rv(e))return Array[Dv].slice.call(e);const n=Q7(e);if(t===!0||t==="class_only"&&!n){const r=Di.getOwnPropertyDescriptors(e);delete r[zr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c[py]===!1&&(c[py]=!0,c[qE]=!0),(c.get||c.set)&&(r[o]={[qE]:!0,[py]:!0,[ub]:c[ub],[Tm]:e[o]})}return Di.create(qd(e),r)}else{const r=qd(e);if(r!==null&&n)return{...e};const i=Di.create(r);return Di.assign(i,e)}}function x2(e,t=!1){return $v(e)||ys(e)||!Ga(e)||(sp(e)>1&&Di.defineProperties(e,{set:$0,add:$0,clear:$0,delete:$0}),Di.freeze(e),t&&op(e,(n,r)=>{x2(r,!0)},!1)),e}function Tfe(){Ra(2)}var $0={[Tm]:Tfe};function $v(e){return e===null||!b2(e)?!0:Di.isFrozen(e)}var fb="MapSet",WE="Patches",e6={};function Yd(e){const t=e6[e];return t||Ra(0,e),t}var Ofe=e=>!!e6[e],Om,t6=()=>Om,jfe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Ofe(fb)?Yd(fb):void 0});function mR(e,t){t&&(e.patchPlugin_=Yd(WE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function VE(e){ZE(e),e.drafts_.forEach(Nfe),e.drafts_=null}function ZE(e){e===Om&&(Om=e.parent_)}var pR=e=>Om=jfe(Om,e);function Nfe(e){const t=e[zr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function gR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[zr].modified_&&(VE(t),Ra(4)),Ga(e)&&(e=yR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[zr].base_,e,t)}else e=yR(t,n);return Cfe(t,e,!0),VE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==J7?e:void 0}function yR(e,t){if($v(t))return t;const n=t[zr];if(!n)return _2(t,e.handledSet_,e);if(!Bv(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);i6(n,e)}return n.copy_}function Cfe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&x2(t,n)}function n6(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Bv=(e,t)=>e.scope_===t,Mfe=[];function r6(e,t,n,r){const i=is(e),a=e.type_;if(r!==void 0&&YE(i,r,a)===t){db(i,r,n,a);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;op(i,(u,f)=>{if(ys(f)){const m=c.get(f)||[];m.push(u),c.set(f,m)}})}const o=e.draftLocations_.get(t)??Mfe;for(const c of o)db(i,c,n,a)}function Pfe(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!Bv(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=v2(a);r6(e,a.draft_??a,o,n),i6(a,i)})}function i6(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}n6(e)}}function Dfe(e,t,n){const{scope_:r}=e;if(ys(n)){const i=n[zr];Bv(i,r)&&i.callbacks_.push(function(){gy(e);const o=v2(i);r6(e,n,o,t)})}else Ga(n)&&e.callbacks_.push(function(){const a=is(e);YE(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&_2(YE(e.copy_,t,e.type_),r.handledSet_,r)})}function _2(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ys(e)||t.has(e)||!Ga(e)||$v(e)||(t.add(e),op(e,(r,i)=>{if(ys(i)){const a=i[zr];if(Bv(a,n)){const o=v2(a);db(e,r,o,e.type_),n6(a)}}else Ga(i)&&_2(i,t,n)})),e}function Rfe(e,t){const n=Rv(e),r={type_:n?1:0,scope_:t?t.scope_:t6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=w2;n&&(i=[r],a=jm);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,[c,r]}var w2={get(e,t){if(t===zr)return e;const n=is(e);if(!hR(n,t,e.type_))return Lfe(e,n,t);const r=n[t];if(e.finalized_||!Ga(r))return r;if(r===rS(e.base_,t)){gy(e);const i=e.type_===1?+t:t,a=JE(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in is(e)},ownKeys(e){return Reflect.ownKeys(is(e))},set(e,t,n){const r=a6(is(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=rS(is(e),t),a=i?.[zr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Afe(n,i)&&(n!==void 0||hR(e.base_,t,e.type_)))return!0;gy(e),XE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Dfe(e,t,n)),!0},deleteProperty(e,t){return gy(e),rS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),XE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=is(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[py]:!0,[qE]:e.type_!==1||t!=="length",[ub]:r[ub],[Tm]:n[t]}},defineProperty(){Ra(11)},getPrototypeOf(e){return qd(e.base_)},setPrototypeOf(){Ra(12)}},jm={};op(w2,(e,t)=>{jm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});jm.deleteProperty=function(e,t){return jm.set.call(this,e,t,void 0)};jm.set=function(e,t,n){return w2.set.call(this,e[0],t,n,e[0])};function rS(e,t){const n=e[zr];return(n?is(n):e)[t]}function Lfe(e,t,n){const r=a6(t,n);return r?Tm in r?r[Tm]:r.get?.call(e.draft_):void 0}function a6(e,t){if(!(t in e))return;let n=qd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=qd(n)}}function XE(e){e.modified_||(e.modified_=!0,e.parent_&&XE(e.parent_))}function gy(e){e.copy_||(e.assigned_=new Map,e.copy_=KE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ife=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(md(n)&&!md(r)){const o=r;r=n;const c=this;return function(f=o,...m){return c.produce(f,p=>r.call(this,p,...m))}}md(r)||Ra(6),i!==void 0&&!md(i)&&Ra(7);let a;if(Ga(n)){const o=pR(this),c=JE(o,n,void 0);let u=!0;try{a=r(c),u=!1}finally{u?VE(o):ZE(o)}return mR(o,i),gR(a,o)}else if(!n||!b2(n)){if(a=r(n),a===void 0&&(a=n),a===J7&&(a=void 0),this.autoFreeze_&&x2(a,!0),i){const o=[],c=[];Yd(WE).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:c}),i(o,c)}return a}else Ra(1,n)},this.produceWithPatches=(n,r)=>{if(md(n))return(c,...u)=>this.produceWithPatches(c,f=>n(f,...u));let i,a;return[this.produce(n,r,(c,u)=>{i=c,a=u}),i,a]},nS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),nS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),nS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ga(t)||Ra(8),ys(t)&&(t=Ba(t));const n=pR(this),r=JE(n,t,void 0);return r[zr].isManual_=!0,ZE(n),r}finishDraft(t,n){const r=t&&t[zr];(!r||!r.isManual_)&&Ra(9);const{scope_:i}=r;return mR(i,n),gR(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Yd(WE).applyPatches_;return ys(t)?i(t,n):this.produce(t,a=>i(a,n))}};function JE(e,t,n,r){const[i,a]=Lv(t)?Yd(fb).proxyMap_(t,n):Iv(t)?Yd(fb).proxySet_(t,n):Rfe(t,n);return(n?.scope_??t6()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Pfe(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=u;a.modified_&&f&&f.generatePatches_(a,[],u)}),i}function Ba(e){return ys(e)||Ra(10,e),o6(e)}function o6(e){if(!Ga(e)||$v(e))return e;const t=e[zr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=KE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=KE(e,!0);return op(n,(i,a)=>{db(n,i,o6(a))},r),t&&(t.finalized_=!1),n}var $fe=new Ife,s6=$fe.produce;function l6(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Bfe=l6(),zfe=l6,Ufe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gm:gm.apply(null,arguments)};function ma(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Ii(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>CB(r)&&r.type===e,n}var c6=class Jh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Jh.prototype)}static get[Symbol.species](){return Jh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Jh(...t[0].concat(this)):new Jh(...t.concat(this))}};function bR(e){return Ga(e)?s6(e,()=>{}):e}function B0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Ffe(e){return typeof e=="boolean"}var Hfe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new c6;return n&&(Ffe(n)?o.push(Bfe):o.push(zfe(n.extraArgument))),o},u6="RTK_autoBatch",an=()=>e=>({payload:e,meta:{[u6]:!0}}),vR=e=>t=>{setTimeout(t,e)},d6=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:vR(10):e.type==="callback"?e.queueNotification:vR(e.timeout),f=()=>{o=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),g=r.subscribe(p);return c.add(m),()=>{g(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[u6],a=!i,a&&(o||(o=!0,u(f))),r.dispatch(m)}finally{i=!0}}})},Gfe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new c6(e);return r&&i.push(d6(typeof r=="object"?r:void 0)),i};function qfe(e){const t=Hfe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(sA(n))c=jB(n);else throw new Error(Ii(1));let u;typeof r=="function"?u=r(t):u=t();let f=gm;i&&(f=Ufe({trace:!1,...typeof i=="object"&&i}));const m=NB(...u),p=Gfe(m);let g=typeof o=="function"?o(p):p();const v=f(...g);return lA(c,a,v)}function f6(e){const t={},n=[];let r;const i={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Ii(28));if(c in t)throw new Error(Ii(29));return t[c]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Yfe(e){return typeof e=="function"}function Kfe(e,t){let[n,r,i]=f6(t),a;if(Yfe(e))a=()=>bR(e());else{const c=bR(e);a=()=>c}function o(c=a(),u){let f=[n[u.type],...r.filter(({matcher:m})=>m(u)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(ys(m)){const v=p(m,u);return v===void 0?m:v}else{if(Ga(m))return s6(m,g=>p(g,u));{const g=p(m,u);if(g===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return m},c)}return o.getInitialState=a,o}var Wfe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Vfe=(e=21)=>{let t="",n=e;for(;n--;)t+=Wfe[Math.random()*64|0];return t},Zfe=Symbol.for("rtk-slice-createasyncthunk");function Xfe(e,t){return`${e}/${t}`}function Jfe({creators:e}={}){const t=e?.asyncThunk?.[Zfe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Ii(11));const o=(typeof r.reducers=="function"?r.reducers(ehe()):r.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,P){const M=typeof O=="string"?O:O.type;if(!M)throw new Error(Ii(12));if(M in u.sliceCaseReducersByType)throw new Error(Ii(13));return u.sliceCaseReducersByType[M]=P,f},addMatcher(O,P){return u.sliceMatchers.push({matcher:O,reducer:P}),f},exposeAction(O,P){return u.actionCreators[O]=P,f},exposeCaseReducer(O,P){return u.sliceCaseReducersByName[O]=P,f}};c.forEach(O=>{const P=o[O],M={reducerName:O,type:Xfe(i,O),createNotation:typeof r.reducers=="function"};nhe(P)?ihe(M,P,f,t):the(M,P,f)});function m(){const[O={},P=[],M=void 0]=typeof r.extraReducers=="function"?f6(r.extraReducers):[r.extraReducers],D={...O,...u.sliceCaseReducersByType};return Kfe(r.initialState,$=>{for(let H in D)$.addCase(H,D[H]);for(let H of u.sliceMatchers)$.addMatcher(H.matcher,H.reducer);for(let H of P)$.addMatcher(H.matcher,H.reducer);M&&$.addDefaultCase(M)})}const p=O=>O,g=new Map,v=new WeakMap;let w;function _(O,P){return w||(w=m()),w(O,P)}function E(){return w||(w=m()),w.getInitialState()}function T(O,P=!1){function M($){let H=$[O];return typeof H>"u"&&P&&(H=B0(v,M,E)),H}function D($=p){const H=B0(g,P,()=>new WeakMap);return B0(H,$,()=>{const q={};for(const[K,F]of Object.entries(r.selectors??{}))q[K]=Qfe(F,$,()=>B0(v,$,E),P);return q})}return{reducerPath:O,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const N={name:i,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:E,...T(a),injectInto(O,{reducerPath:P,...M}={}){const D=P??a;return O.inject({reducerPath:D,reducer:_},M),{...N,...T(D,!0)}}};return N}}function Qfe(e,t,n,r){function i(a,...o){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...o)}return i.unwrapped=e,i}var fi=Jfe();function ehe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function the({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!rhe(r))throw new Error(Ii(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ma(e,o):ma(e))}function nhe(e){return e._reducerDefinitionType==="asyncThunk"}function rhe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ihe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Ii(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:u,settled:f,options:m}=n,p=i(e,a,m);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),c&&r.addCase(p.pending,c),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:o||z0,pending:c||z0,rejected:u||z0,settled:f||z0})}function z0(){}var ahe="task",h6="listener",m6="completed",S2="cancelled",ohe=`task-${S2}`,she=`task-${m6}`,QE=`${h6}-${S2}`,lhe=`${h6}-${m6}`,zv=class{constructor(e){this.code=e,this.message=`${ahe} ${S2} (reason: ${e})`}name="TaskAbortError";message},E2=(e,t)=>{if(typeof e!="function")throw new TypeError(Ii(32))},hb=()=>{},p6=(e,t=hb)=>(e.catch(t),e),g6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),qc=e=>{if(e.aborted)throw new zv(e.reason)};function y6(e,t){let n=hb;return new Promise((r,i)=>{const a=()=>i(new zv(e.reason));if(e.aborted){a();return}n=g6(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=hb})}var che=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof zv?"cancelled":"rejected",error:n}}finally{t?.()}},mb=e=>t=>p6(y6(e,t).then(n=>(qc(e),n))),b6=e=>{const t=mb(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Cd}=Object,xR={},Uv="listenerMiddleware",uhe=(e,t)=>{const n=r=>g6(e,()=>r.abort(e.reason));return(r,i)=>{E2(r);const a=new AbortController;n(a);const o=che(async()=>{qc(e),qc(a.signal);const c=await r({pause:mb(a.signal),delay:b6(a.signal),signal:a.signal});return qc(a.signal),c},()=>a.abort(she));return i?.autoJoin&&t.push(o.catch(hb)),{result:mb(e)(o),cancel(){a.abort(ohe)}}}},dhe=(e,t)=>{const n=async(r,i)=>{qc(t);let a=()=>{};const c=[new Promise((u,f)=>{let m=e({predicate:r,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await y6(t,Promise.race(c));return qc(t),u}finally{a()}};return(r,i)=>p6(n(r,i))},v6=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ma(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ii(21));return E2(a),{predicate:i,type:t,effect:a}},x6=Cd(e=>{const{type:t,predicate:n,effect:r}=v6(e);return{id:Vfe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ii(22))}}},{withTypes:()=>x6}),_R=(e,t)=>{const{type:n,effect:r,predicate:i}=v6(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},ek=e=>{e.pending.forEach(t=>{t.abort(QE)})},fhe=(e,t)=>()=>{for(const n of t.keys())ek(n);e.clear()},wR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},_6=Cd(ma(`${Uv}/add`),{withTypes:()=>_6}),hhe=ma(`${Uv}/removeAll`),w6=Cd(ma(`${Uv}/remove`),{withTypes:()=>w6}),mhe=(...e)=>{console.error(`${Uv}/error`,...e)},lp=(e={})=>{const t=new Map,n=new Map,r=v=>{const w=n.get(v)??0;n.set(v,w+1)},i=v=>{const w=n.get(v)??1;w===1?n.delete(v):n.set(v,w-1)},{extra:a,onError:o=mhe}=e;E2(o);const c=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),w=>{v.unsubscribe(),w?.cancelActive&&ek(v)}),u=v=>{const w=_R(t,v)??x6(v);return c(w)};Cd(u,{withTypes:()=>u});const f=v=>{const w=_R(t,v);return w&&(w.unsubscribe(),v.cancelActive&&ek(w)),!!w};Cd(f,{withTypes:()=>f});const m=async(v,w,_,E)=>{const T=new AbortController,N=dhe(u,T.signal),O=[];try{v.pending.add(T),r(v),await Promise.resolve(v.effect(w,Cd({},_,{getOriginalState:E,condition:(P,M)=>N(P,M).then(Boolean),take:N,delay:b6(T.signal),pause:mb(T.signal),extra:a,signal:T.signal,fork:uhe(T.signal,O),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((P,M,D)=>{P!==T&&(P.abort(QE),D.delete(P))})},cancel:()=>{T.abort(QE),v.pending.delete(T)},throwIfCancelled:()=>{qc(T.signal)}})))}catch(P){P instanceof zv||wR(o,P,{raisedBy:"effect"})}finally{await Promise.all(O),T.abort(lhe),i(v),v.pending.delete(T)}},p=fhe(t,n);return{middleware:v=>w=>_=>{if(!CB(_))return w(_);if(_6.match(_))return u(_.payload);if(hhe.match(_)){p();return}if(w6.match(_))return f(_.payload);let E=v.getState();const T=()=>{if(E===xR)throw new Error(Ii(23));return E};let N;try{if(N=w(_),t.size>0){const O=v.getState(),P=Array.from(t.values());for(const M of P){let D=!1;try{D=M.predicate(_,O,E)}catch($){D=!1,wR(o,$,{raisedBy:"predicate"})}D&&m(M,_,v,T)}}}finally{E=xR}return N},startListening:u,stopListening:f,clearListeners:p}};function Ii(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var phe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},S6=fi({name:"chartLayout",initialState:phe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:ghe,setLayout:yhe,setChartSize:bhe,setScale:vhe}=S6.actions,xhe=S6.reducer;function E6(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function SR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(n),!0).forEach(function(r){_he(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _he(e,t,n){return(t=whe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function whe(e){var t=She(e,"string");return typeof t=="symbol"?t:t+""}function She(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tr(e,t,n){return br(e)||br(t)?n:Eo(t)?Mv(e,t,n):typeof t=="function"?t(e):n}var Ehe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&a!=="center"&&We(e[a]))return xd(xd({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&o!=="middle"&&We(e[o]))return xd(xd({},e),{},{[o]:e[o]+(i||0)})}return e},Ss=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",k6=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,a,o=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||o.push(t),a||o.push(n),o},A6=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:g,axisType:v}=e;if(!o)return null;var w=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,_=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(_=v==="angleAxis"&&a&&a.length>=2?la(a[0]-a[1])*2*_:_,p||g){var E=(p||g||[]).map((T,N)=>{var O=r?r.indexOf(T):T;return{coordinate:o(O)+_,value:T,offset:_,index:N}});return E.filter(T=>!Ha(T.coordinate))}return u&&f?f.map((T,N)=>({coordinate:o(T)+_,value:T,index:N,offset:_})):o.ticks&&m!=null?o.ticks(m).map((T,N)=>({coordinate:o(T)+_,value:T,offset:_,index:N})):o.domain().map((T,N)=>({coordinate:o(T)+_,value:r?r[T]:T,index:N,offset:_}))},ER=1e-4,khe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-ER,a=Math.max(r[0],r[1])+ER,o=e(t[0]),c=e(t[n-1]);(o<i||o>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},Ahe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var c=Ha(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=i,e[o][n][1]=i+c,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+c,a=e[o][n][1])}},The=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=Ha(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Ohe={sign:Ahe,expand:gde,none:Gd,silhouette:yde,wiggle:bde,positive:The},jhe=(e,t,n)=>{var r=Ohe[n],i=pde().keys(t).value((a,o)=>Number(Tr(a,o,0))).order(GE).offset(r);return i(e)};function Nhe(e){return e==null?void 0:String(e)}function kR(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!br(i[t.dataKey])){var c=I7(n,"value",i[t.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Tr(i,br(o)?t.dataKey:o);return br(u)?null:t.scale(u)}var Che=e=>{var t=e.flat(2).filter(We);return[Math.min(...t),Math.max(...t)]},Mhe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Phe=(e,t,n)=>{if(e!=null)return Mhe(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,c=o.reduce((u,f)=>{var m=E6(f,t,n),p=Che(m);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},AR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pb=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Pv(t,m=>m.coordinate),a=1/0,o=1,c=i.length;o<c;o++){var u=i[o],f=i[o-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function OR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return xd(xd({},t),{},{dataKey:n,payload:r,value:i,name:a})}function T6(e,t){if(e)return String(e);if(typeof t=="string")return t}var Dhe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Rhe=(e,t)=>t==="centric"?e.angle:e.radius,Es=e=>e.layout.width,ks=e=>e.layout.height,Lhe=e=>e.layout.scale,O6=e=>e.layout.margin,Fv=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Hv=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Ihe="data-recharts-item-index",$he="data-recharts-item-data-key",cp=60;function jR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(n),!0).forEach(function(r){Bhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bhe(e,t,n){return(t=zhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zhe(e){var t=Uhe(e,"string");return typeof t=="symbol"?t:t+""}function Uhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fhe=e=>e.brush.height;function Hhe(e){var t=Hv(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:cp;return n+i}return n},0)}function Ghe(e){var t=Hv(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:cp;return n+i}return n},0)}function qhe(e){var t=Fv(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Yhe(e){var t=Fv(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var xr=we([Es,ks,O6,Fhe,Hhe,Ghe,qhe,Yhe,X7,wfe],(e,t,n,r,i,a,o,c,u,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+c},g=U0(U0({},p),m),v=g.bottom;g.bottom+=r,g=Ehe(g,u,f);var w=e-g.left-g.right,_=t-g.top-g.bottom;return U0(U0({brushBottom:v},g),{},{width:Math.max(w,0),height:Math.max(_,0)})}),Khe=we(xr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),j6=we(Es,ks,(e,t)=>({x:0,y:0,width:e,height:t})),Whe=S.createContext(null),hi=()=>S.useContext(Whe)!=null,Gv=e=>e.brush,qv=we([Gv,xr,O6],(e,t,n)=>({height:e.height,x:We(e.x)?e.x:t.left,y:We(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:We(e.width)?e.width:t.width})),iS={},aS={},oS={},NR;function Vhe(){return NR||(NR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,c=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},p=()=>{f&&m(),_()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},w=()=>{g!==null&&(clearTimeout(g),g=null)},_=()=>{w(),o=void 0,c=null},E=()=>{m()},T=function(...N){if(i?.aborted)return;o=this,c=N;const O=g==null;v(),u&&O&&m()};return T.schedule=v,T.cancel=_,T.flush=E,i?.addEventListener("abort",_,{once:!0}),T}e.debounce=t})(oS)),oS}var CR;function Zhe(){return CR||(CR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vhe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:c=!0,maxWait:u}=a,f=Array(2);o&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const g=t.debounce(function(..._){m=r.apply(this,_),p=null},i,{edges:f}),v=function(..._){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(m=r.apply(this,_),p=Date.now(),g.cancel(),g.schedule(),m):(g.apply(this,_),m)},w=()=>(g.flush(),m);return v.cancel=g.cancel,v.flush=w,v}e.debounce=n})(aS)),aS}var MR;function Xhe(){return MR||(MR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zhe();function n(r,i=0,a={}){const{leading:o=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:c})}e.throttle=n})(iS)),iS}var sS,PR;function Jhe(){return PR||(PR=1,sS=Xhe().throttle),sS}var Qhe=Jhe();const eme=di(Qhe);var gb=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},N6=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,c=gs(r)?e:Number(r),u=gs(i)?t:Number(i);return a&&a>0&&(c?u=c/a:u&&(c=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:c,calculatedHeight:u}},tme={width:0,height:0,overflow:"visible"},nme={width:0,overflowX:"visible"},rme={height:0,overflowY:"visible"},ime={},ame=e=>{var{width:t,height:n}=e,r=gs(t),i=gs(n);return r&&i?tme:r?nme:i?rme:ime};function ome(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function xn(e){return Number.isFinite(e)}function ko(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tk.apply(null,arguments)}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(r){sme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sme(e,t,n){return(t=lme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lme(e){var t=cme(e,"string");return typeof t=="symbol"?t:t+""}function cme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C6=S.createContext({width:-1,height:-1});function ume(e){return ko(e.width)&&ko(e.height)}function M6(e){var{children:t,width:n,height:r}=e,i=S.useMemo(()=>({width:n,height:r}),[n,r]);return ume(i)?S.createElement(C6.Provider,{value:i},t):null}var k2=()=>S.useContext(C6),dme=S.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:c,maxHeight:u,children:f,debounce:m=0,id:p,className:g,onResize:v,style:w={}}=e,_=S.useRef(null),E=S.useRef();E.current=v,S.useImperativeHandle(t,()=>_.current);var[T,N]=S.useState({containerWidth:r.width,containerHeight:r.height}),O=S.useCallback((H,q)=>{N(K=>{var F=Math.round(H),z=Math.round(q);return K.containerWidth===F&&K.containerHeight===z?K:{containerWidth:F,containerHeight:z}})},[]);S.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return ap;var H=z=>{var Z,{width:Q,height:J}=z[0].contentRect;O(Q,J),(Z=E.current)===null||Z===void 0||Z.call(E,Q,J)};m>0&&(H=eme(H,m,{trailing:!0,leading:!1}));var q=new ResizeObserver(H),{width:K,height:F}=_.current.getBoundingClientRect();return O(K,F),q.observe(_.current),()=>{q.disconnect()}},[O,m]);var{containerWidth:P,containerHeight:M}=T;gb(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:$}=N6(P,M,{width:i,height:a,aspect:n,maxHeight:u});return gb(D!=null&&D>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,$,i,a,o,c,n),S.createElement("div",{id:p?"".concat(p):void 0,className:Qt("recharts-responsive-container",g),style:RR(RR({},w),{},{width:i,height:a,minWidth:o,minHeight:c,maxHeight:u}),ref:_},S.createElement("div",{style:ame({width:i,height:a})},S.createElement(M6,{width:D,height:$},f)))}),fme=S.forwardRef((e,t)=>{var n=k2();if(ko(n.width)&&ko(n.height))return e.children;var{width:r,height:i}=ome({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=N6(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return We(a)&&We(o)?S.createElement(M6,{width:a,height:o},e.children):S.createElement(dme,tk({},e,{width:r,height:i,ref:t}))});function P6(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Yv=()=>{var e,t=hi(),n=Je(Khe),r=Je(qv),i=(e=Je(Gv))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},hme={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},D6=()=>{var e;return(e=Je(xr))!==null&&e!==void 0?e:hme},R6=()=>Je(Es),L6=()=>Je(ks),Vt=e=>e.layout.layoutType,up=()=>Je(Vt),mme=()=>{var e=up();if(e==="horizontal"||e==="vertical")return e},pme=()=>{var e=up();return e!==void 0},Kv=e=>{var t=sr(),n=hi(),{width:r,height:i}=e,a=k2(),o=r,c=i;return a&&(o=a.width>0?a.width:r,c=a.height>0?a.height:i),S.useEffect(()=>{!n&&ko(o)&&ko(c)&&t(bhe({width:o,height:c}))},[t,n,o,c]),null},I6=Symbol.for("immer-nothing"),LR=Symbol.for("immer-draftable"),zi=Symbol.for("immer-state");function La(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Nm=Object.getPrototypeOf;function Kd(e){return!!e&&!!e[zi]}function Jc(e){return e?$6(e)||Array.isArray(e)||!!e[LR]||!!e.constructor?.[LR]||dp(e)||Vv(e):!1}var gme=Object.prototype.constructor.toString(),IR=new WeakMap;function $6(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=IR.get(n);return r===void 0&&(r=Function.toString.call(n),IR.set(n,r)),r===gme}function yb(e,t,n=!0){Wv(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Wv(e){const t=e[zi];return t?t.type_:Array.isArray(e)?1:dp(e)?2:Vv(e)?3:0}function nk(e,t){return Wv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function B6(e,t,n){const r=Wv(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function yme(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function dp(e){return e instanceof Map}function Vv(e){return e instanceof Set}function Rc(e){return e.copy_||e.base_}function rk(e,t){if(dp(e))return new Map(e);if(Vv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=$6(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[zi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(Nm(e),r)}else{const r=Nm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function A2(e,t=!1){return Zv(e)||Kd(e)||!Jc(e)||(Wv(e)>1&&Object.defineProperties(e,{set:F0,add:F0,clear:F0,delete:F0}),Object.freeze(e),t&&Object.values(e).forEach(n=>A2(n,!0))),e}function bme(){La(2)}var F0={value:bme};function Zv(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var vme={};function Qc(e){const t=vme[e];return t||La(0,e),t}var Cm;function z6(){return Cm}function xme(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $R(e,t){t&&(Qc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ik(e){ak(e),e.drafts_.forEach(_me),e.drafts_=null}function ak(e){e===Cm&&(Cm=e.parent_)}function BR(e){return Cm=xme(Cm,e)}function _me(e){const t=e[zi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[zi].modified_&&(ik(t),La(4)),Jc(e)&&(e=bb(t,e),t.parent_||vb(t,e)),t.patches_&&Qc("Patches").generateReplacementPatches_(n[zi].base_,e,t.patches_,t.inversePatches_)):e=bb(t,n,[]),ik(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==I6?e:void 0}function bb(e,t,n){if(Zv(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[zi];if(!i)return yb(t,(a,o)=>UR(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return vb(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,c=!1;i.type_===3&&(o=new Set(a),a.clear(),c=!0),yb(o,(u,f)=>UR(e,i,a,u,f,n,c),r),vb(e,a,!1),n&&e.patches_&&Qc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function UR(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const c=Zv(i);if(!(c&&!o)){if(Kd(i)){const u=a&&t&&t.type_!==3&&!nk(t.assigned_,r)?a.concat(r):void 0,f=bb(e,i,u);if(B6(n,r,f),Kd(f))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Jc(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;bb(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(dp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&vb(e,i)}}}function vb(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&A2(t,n)}function wme(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:z6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=T2;n&&(i=[r],a=Mm);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,c}var T2={get(e,t){if(t===zi)return e;const n=Rc(e);if(!nk(n,t))return Sme(e,n,t);const r=n[t];return e.finalized_||!Jc(r)?r:r===lS(e.base_,t)?(cS(e),e.copy_[t]=sk(r,e)):r},has(e,t){return t in Rc(e)},ownKeys(e){return Reflect.ownKeys(Rc(e))},set(e,t,n){const r=U6(Rc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=lS(Rc(e),t),a=i?.[zi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(yme(n,i)&&(n!==void 0||nk(e.base_,t)))return!0;cS(e),ok(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cS(e),ok(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Rc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){La(11)},getPrototypeOf(e){return Nm(e.base_)},setPrototypeOf(){La(12)}},Mm={};yb(T2,(e,t)=>{Mm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Mm.deleteProperty=function(e,t){return Mm.set.call(this,e,t,void 0)};Mm.set=function(e,t,n){return T2.set.call(this,e[0],t,n,e[0])};function lS(e,t){const n=e[zi];return(n?Rc(n):e)[t]}function Sme(e,t,n){const r=U6(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function U6(e,t){if(!(t in e))return;let n=Nm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Nm(n)}}function ok(e){e.modified_||(e.modified_=!0,e.parent_&&ok(e.parent_))}function cS(e){e.copy_||(e.copy_=rk(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Eme=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...f){return o.produce(u,m=>n.call(this,m,...f))}}typeof n!="function"&&La(6),r!==void 0&&typeof r!="function"&&La(7);let i;if(Jc(t)){const a=BR(this),o=sk(t,void 0);let c=!0;try{i=n(o),c=!1}finally{c?ik(a):ak(a)}return $R(a,r),zR(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===I6&&(i=void 0),this.autoFreeze_&&A2(i,!0),r){const a=[],o=[];Qc("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else La(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,u=>t(u,...c));let r,i;return[this.produce(t,n,(o,c)=>{r=o,i=c}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Jc(e)||La(8),Kd(e)&&(e=kme(e));const t=BR(this),n=sk(e,void 0);return n[zi].isManual_=!0,ak(t),n}finishDraft(e,t){const n=e&&e[zi];(!n||!n.isManual_)&&La(9);const{scope_:r}=n;return $R(r,t),zR(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Qc("Patches").applyPatches_;return Kd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function sk(e,t){const n=dp(e)?Qc("MapSet").proxyMap_(e,t):Vv(e)?Qc("MapSet").proxySet_(e,t):wme(e,t);return(t?t.scope_:z6()).drafts_.push(n),n}function kme(e){return Kd(e)||La(10,e),F6(e)}function F6(e){if(!Jc(e)||Zv(e))return e;const t=e[zi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=rk(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=rk(e,!0);return yb(n,(i,a)=>{B6(n,i,F6(a))},r),t&&(t.finalized_=!1),n}var Ame=new Eme;Ame.produce;var Tme={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},H6=fi({name:"legend",initialState:Tme,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:an()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ba(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:an()},removeLegendPayload:{reducer(e,t){var n=Ba(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:an()}}}),{setLegendSize:_Oe,setLegendSettings:wOe,addLegendPayload:Ome,replaceLegendPayload:jme,removeLegendPayload:Nme}=H6.actions,Cme=H6.reducer;function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lk.apply(null,arguments)}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(r){Mme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mme(e,t,n){return(t=Pme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pme(e){var t=Dme(e,"string");return typeof t=="symbol"?t:t+""}function Dme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rme(e){return Array.isArray(e)&&Eo(e[0])&&Eo(e[1])?e.join(" ~ "):e}var Lme=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:g=!1}=e,v=()=>{if(a&&a.length){var M={padding:0,margin:0},D=(c?Pv(a,c):a).map(($,H)=>{if($.type==="none")return null;var q=$.formatter||o||Rme,{value:K,name:F}=$,z=K,Z=F;if(q){var Q=q(K,F,$,H,a);if(Array.isArray(Q))[z,Z]=Q;else if(Q!=null)z=Q;else return null}var J=uS({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:J},Eo(Z)?S.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Eo(Z)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},z),S.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},w=uS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=uS({margin:0},i),E=!br(m),T=E?m:"",N=Qt("recharts-default-tooltip",u),O=Qt("recharts-tooltip-label",f);E&&p&&a!==void 0&&a!==null&&(T=p(m,a));var P=g?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",lk({className:N,style:w},P),S.createElement("p",{className:O,style:_},S.isValidElement(T)?T:"".concat(T)),v())},zh="recharts-tooltip-wrapper",Ime={visibility:"hidden"};function $me(e){var{coordinate:t,translateX:n,translateY:r}=e;return Qt(zh,{["".concat(zh,"-right")]:We(n)&&t&&We(t.x)&&n>=t.x,["".concat(zh,"-left")]:We(n)&&t&&We(t.x)&&n<t.x,["".concat(zh,"-bottom")]:We(r)&&t&&We(t.y)&&r>=t.y,["".concat(zh,"-top")]:We(r)&&t&&We(t.y)&&r<t.y})}function HR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:f}=e;if(a&&We(a[r]))return a[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?m:p;var g=u[r];if(g==null)return 0;if(o[r]){var v=m,w=g;return v<w?Math.max(p,g):Math.max(m,g)}if(f==null)return 0;var _=p+c,E=g+f;return _>E?Math.max(m,g):Math.max(p,g)}function Bme(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function zme(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,f,m,p;return o.height>0&&o.width>0&&n?(m=HR({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=HR({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=Bme({translateX:m,translateY:p,useTranslate3d:c})):f=Ime,{cssProperties:f,cssClasses:$me({translateX:m,translateY:p,coordinate:n})}}function GR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(n),!0).forEach(function(r){ck(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ck(e,t,n){return(t=Ume(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ume(e){var t=Fme(e,"string");return typeof t=="symbol"?t:t+""}function Fme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Hme extends S.PureComponent{constructor(){super(...arguments),ck(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ck(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:c,isAnimationActive:u,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:w,lastBoundingBox:_,innerRef:E,hasPortalFromProps:T}=this.props,{cssClasses:N,cssProperties:O}=zme({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:_.height,width:_.width},useTranslate3d:g,viewBox:v}),P=T?{}:H0(H0({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),M=H0(H0({},P),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},w);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:M,ref:E},a)}}var G6=()=>{var e;return(e=Je(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uk.apply(null,arguments)}function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){Gme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gme(e,t,n){return(t=qme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qme(e){var t=Yme(e,"string");return typeof t=="symbol"?t:t+""}function Yme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KR={curveBasisClosed:ide,curveBasisOpen:ade,curveBasis:rde,curveBumpX:tde,curveBumpY:nde,curveLinearClosed:ode,curveLinear:Nv,curveMonotoneX:sde,curveMonotoneY:lde,curveNatural:cde,curveStep:ude,curveStepAfter:fde,curveStepBefore:dde},xb=e=>xn(e.x)&&xn(e.y),WR=e=>e.base!=null&&xb(e.base)&&xb(e),Uh=e=>e.x,Fh=e=>e.y,Kme=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(m2(e));return(n==="curveMonotone"||n==="curveBump")&&t?KR["".concat(n).concat(t==="vertical"?"Y":"X")]:KR[n]||Nv},Wme=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=Kme(t,i),c=a?n.filter(xb):n,u;if(Array.isArray(r)){var f=n.map((v,w)=>YR(YR({},v),{},{base:r[w]}));i==="vertical"?u=R0().y(Fh).x1(Uh).x0(v=>v.base.x):u=R0().x(Uh).y1(Fh).y0(v=>v.base.y);var m=u.defined(WR).curve(o),p=a?f.filter(WR):f;return m(p)}i==="vertical"&&We(r)?u=R0().y(Fh).x1(Uh).x0(r):We(r)?u=R0().x(Uh).y1(Fh).y0(r):u=A7().x(Uh).y(Fh);var g=u.defined(xb).curve(o);return g(c)},yy=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Wme(e):r;return S.createElement("path",uk({},Fa(e),p2(e),{className:Qt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Vme=["x","y","top","left","width","height","className"];function dk(){return dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dk.apply(null,arguments)}function VR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(n),!0).forEach(function(r){Xme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xme(e,t,n){return(t=Jme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jme(e){var t=Qme(e,"string");return typeof t=="symbol"?t:t+""}function Qme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function epe(e,t){if(e==null)return{};var n,r,i=tpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var npe=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),rpe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:c}=e,u=epe(e,Vme),f=Zme({x:t,y:n,top:r,left:i,width:a,height:o},u);return!We(t)||!We(n)||!We(a)||!We(o)||!We(r)||!We(i)?null:S.createElement("path",dk({},ha(f),{className:Qt("recharts-cross",c),d:npe(t,n,a,o,r,i)}))};function ipe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(r){ape(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ape(e,t,n){return(t=ope(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ope(e){var t=spe(e,"string");return typeof t=="symbol"?t:t+""}function spe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lpe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),cpe=(e,t,n)=>e.map(r=>"".concat(lpe(r)," ").concat(t,"ms ").concat(n)).join(","),upe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Pm=(e,t)=>Object.keys(t).reduce((n,r)=>XR(XR({},n),{},{[r]:e(r,t[r])}),{});function JR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(n),!0).forEach(function(r){dpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dpe(e,t,n){return(t=fpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fpe(e){var t=hpe(e,"string");return typeof t=="symbol"?t:t+""}function hpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _b=(e,t,n)=>e+(t-e)*n,fk=e=>{var{from:t,to:n}=e;return t!==n},q6=(e,t,n)=>{var r=Pm((i,a)=>{if(fk(a)){var[o,c]=e(a.from,a.to,a.velocity);return Hn(Hn({},a),{},{from:o,velocity:c})}return a},t);return n<1?Pm((i,a)=>fk(a)?Hn(Hn({},a),{},{velocity:_b(a.velocity,r[i].velocity,n),from:_b(a.from,r[i].from,n)}):a,t):q6(e,r,n-1)};function mpe(e,t,n,r,i,a){var o,c=r.reduce((g,v)=>Hn(Hn({},g),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>Pm((g,v)=>v.from,c),f=()=>!Object.values(c).filter(fk).length,m=null,p=g=>{o||(o=g);var v=g-o,w=v/n.dt;c=q6(n,c,w),i(Hn(Hn(Hn({},e),t),u())),o=g,f()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{var g;(g=m)===null||g===void 0||g()})}function ppe(e,t,n,r,i,a,o){var c=null,u=i.reduce((p,g)=>Hn(Hn({},p),{},{[g]:[e[g],t[g]]}),{}),f,m=p=>{f||(f=p);var g=(p-f)/r,v=Pm((_,E)=>_b(...E,n(g)),u);if(a(Hn(Hn(Hn({},e),t),v)),g<1)c=o.setTimeout(m);else{var w=Pm((_,E)=>_b(...E,n(1)),u);a(Hn(Hn(Hn({},e),t),w))}};return()=>(c=o.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const gpe=(e,t,n,r,i,a)=>{var o=upe(e,t);return n==null?()=>(i(Hn(Hn({},e),t)),()=>{}):n.isStepper===!0?mpe(e,t,n,o,i,a):ppe(e,t,n,r,o,i,a)};var wb=1e-4,Y6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],K6=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),QR=(e,t)=>n=>{var r=Y6(e,t);return K6(r,n)},ype=(e,t)=>n=>{var r=Y6(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return K6(i,n)},bpe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(c=>parseFloat(c));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},vpe=(e,t,n,r)=>{var i=QR(e,n),a=QR(t,r),o=ype(e,n),c=f=>f>1?1:f<0?0:f,u=f=>{for(var m=f>1?1:f,p=m,g=0;g<8;++g){var v=i(p)-m,w=o(p);if(Math.abs(v-m)<wb||w<wb)return a(p);p=c(p-v/w)}return a(p)};return u.isStepper=!1,u},eL=function(){return vpe(...bpe(...arguments))},xpe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,c,u)=>{var f=-(o-c)*n,m=u*r,p=u+(f-m)*i/1e3,g=u*i/1e3+o;return Math.abs(g-c)<wb&&Math.abs(p)<wb?[c,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},_pe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return eL(e);case"spring":return xpe();default:if(e.split("(")[0]==="cubic-bezier")return eL(e)}return typeof e=="function"?e:null};function wpe(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...f]=c;if(typeof u=="number"){i=e.setTimeout(a.bind(null,f),u);return}a(u),i=e.setTimeout(a.bind(null,f));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class Spe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Epe(){return wpe(new Spe)}var kpe=S.createContext(Epe);function Ape(e,t){var n=S.useContext(kpe);return S.useMemo(()=>t??n(e),[e,t,n])}var Tpe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),df={devToolsEnabled:!1,isSsr:Tpe()},Ope={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},tL={t:0},dS={t:1};function W6(e){var t=Hi(e,Ope),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:c,onAnimationStart:u,children:f}=t,m=n==="auto"?!df.isSsr:n,p=Ape(t.animationId,t.animationManager),[g,v]=S.useState(m?tL:dS),w=S.useRef(null);return S.useEffect(()=>{m||v(dS)},[m]),S.useEffect(()=>{if(!m||!r)return ap;var _=gpe(tL,dS,_pe(a),i,v,p.getTimeoutController()),E=()=>{w.current=_()};return p.start([u,o,E,i,c]),()=>{p.stop(),w.current&&w.current(),c()}},[m,r,i,a,o,u,c,p]),f(g.t)}function V6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(Am(t)),r=S.useRef(e);return r.current!==e&&(n.current=Am(t),r.current=e),n.current}var jpe=["radius"],Npe=["radius"];function nL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nL(Object(n),!0).forEach(function(r){Cpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cpe(e,t,n){return(t=Mpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mpe(e){var t=Ppe(e,"string");return typeof t=="symbol"?t:t+""}function Ppe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sb.apply(null,arguments)}function iL(e,t){if(e==null)return{};var n,r,i=Dpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aL=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,c=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,g=4;p<g;p++)m[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+o*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(e+c*m[0],",").concat(t)),f+="L ".concat(e+n-c*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*m[1])),f+="L ".concat(e+n,",").concat(t+r-o*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(e+n-c*m[2],",").concat(t+r)),f+="L ".concat(e+c*m[3],",").concat(t+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);f="M ".concat(e,",").concat(t+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(t,`
            L `).concat(e+n-c*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*v,`
            L `).concat(e+n,",").concat(t+r-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(t+r,`
            L `).concat(e+c*v,",").concat(t+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*v," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},oL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rpe=e=>{var t=Hi(e,oL),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var X=n.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:o,width:c,height:u,radius:f,className:m}=t,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:w,isUpdateAnimationActive:_}=t,E=S.useRef(c),T=S.useRef(u),N=S.useRef(a),O=S.useRef(o),P=S.useMemo(()=>({x:a,y:o,width:c,height:u,radius:f}),[a,o,c,u,f]),M=V6(P,"rectangle-");if(a!==+a||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var D=Qt("recharts-rectangle",m);if(!_){var $=ha(t),{radius:H}=$,q=iL($,jpe);return S.createElement("path",Sb({},q,{radius:typeof f=="number"?f:void 0,className:D,d:aL(a,o,c,u,f)}))}var K=E.current,F=T.current,z=N.current,Z=O.current,Q="0px ".concat(r===-1?1:r,"px"),J="".concat(r,"px 0px"),Y=cpe(["strokeDasharray"],g,typeof p=="string"?p:oL.animationEasing);return S.createElement(W6,{animationId:M,key:M,canBegin:r>0,duration:g,easing:p,isActive:_,begin:v},X=>{var re=yo(K,c,X),ue=yo(F,u,X),se=yo(z,a,X),B=yo(Z,o,X);n.current&&(E.current=re,T.current=ue,N.current=se,O.current=B);var W;w?X>0?W={transition:Y,strokeDasharray:J}:W={strokeDasharray:Q}:W={strokeDasharray:J};var ae=ha(t),{radius:V}=ae,oe=iL(ae,Npe);return S.createElement("path",Sb({},oe,{radius:typeof f=="number"?f:void 0,className:D,d:aL(se,B,re,ue,f),ref:n,style:rL(rL({},W),t.style)}))})};function sL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(n),!0).forEach(function(r){Lpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lpe(e,t,n){return(t=Ipe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ipe(e){var t=$pe(e,"string");return typeof t=="symbol"?t:t+""}function $pe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eb=Math.PI/180,Bpe=e=>e*180/Math.PI,yr=(e,t,n,r)=>({x:e+Math.cos(-Eb*r)*n,y:t+Math.sin(-Eb*r)*n}),zpe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Upe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Fpe=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Upe({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var c=(n-i)/o,u=Math.acos(c);return r>a&&(u=2*Math.PI-u),{radius:o,angle:Bpe(u),angleInRadian:u}},Hpe=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Gpe=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},qpe=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Fpe({x:n,y:r},t),{innerRadius:o,outerRadius:c}=t;if(i<o||i>c||i===0)return null;var{startAngle:u,endAngle:f}=Hpe(t),m=a,p;if(u<=f){for(;m>f;)m-=360;for(;m<u;)m+=360;p=m>=u&&m<=f}else{for(;m>u;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=u}return p?lL(lL({},t),{},{radius:i,angle:Gpe(m,t)}):null};function Z6(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=yr(t,n,r,i),c=yr(t,n,r,a);return{points:[o,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function hk(){return hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hk.apply(null,arguments)}var Ype=(e,t)=>{var n=la(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},G0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:c,cornerIsExternal:u}=e,f=c*(o?1:-1)+r,m=Math.asin(c/f)/Eb,p=u?i:i+a*m,g=yr(t,n,f,p),v=yr(t,n,r,p),w=u?i-a*m:i,_=yr(t,n,f*Math.cos(m*Eb),w);return{center:g,circleTangency:v,lineTangency:_,theta:m}},X6=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,c=Ype(a,o),u=a+c,f=yr(t,n,i,a),m=yr(t,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var g=yr(t,n,r,a),v=yr(t,n,r,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Kpe=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:f}=e,m=la(f-u),{circleTangency:p,lineTangency:g,theta:v}=G0({cx:t,cy:n,radius:i,angle:u,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:w,lineTangency:_,theta:E}=G0({cx:t,cy:n,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:c}),T=c?Math.abs(u-f):Math.abs(u-f)-v-E;if(T<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):X6({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:P,theta:M}=G0({cx:t,cy:n,radius:r,angle:u,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:D,lineTangency:$,theta:H}=G0({cx:t,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),q=c?Math.abs(u-f):Math.abs(u-f)-M-H;if(q<0&&a===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(q>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},Wpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Vpe=e=>{var t=Hi(e,Wpe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m,className:p}=t;if(a<i||f===m)return null;var g=Qt("recharts-sector",p),v=a-i,w=Nl(o,v,0,!0),_;return w>0&&Math.abs(f-m)<360?_=Kpe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}):_=X6({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),S.createElement("path",hk({},ha(t),{className:g,d:_}))};function Zpe(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if($7(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:c}=t,u=yr(r,i,a,c),f=yr(r,i,o,c);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return Z6(t)}}var fS={},hS={},mS={},cL;function Xpe(){return cL||(cL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V7();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(mS)),mS}var uL;function Jpe(){return uL||(uL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xpe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(hS)),hS}var dL;function Qpe(){return dL||(dL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z7(),n=Jpe();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(c);for(let f=0;f<c;f++)u[f]=i,i+=o;return u}e.range=r})(fS)),fS}var pS,fL;function ege(){return fL||(fL=1,pS=Qpe().range),pS}var tge=ege();const J6=di(tge);function kl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nge(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function O2(e){let t,n,r;e.length!==2?(t=kl,n=(c,u)=>kl(e(c),u),r=(c,u)=>e(c)-u):(t=e===kl||e===nge?e:rge,n=e,r=e);function i(c,u,f=0,m=c.length){if(f<m){if(t(u,u)!==0)return m;do{const p=f+m>>>1;n(c[p],u)<0?f=p+1:m=p}while(f<m)}return f}function a(c,u,f=0,m=c.length){if(f<m){if(t(u,u)!==0)return m;do{const p=f+m>>>1;n(c[p],u)<=0?f=p+1:m=p}while(f<m)}return f}function o(c,u,f=0,m=c.length){const p=i(c,u,f,m-1);return p>f&&r(c[p-1],u)>-r(c[p],u)?p-1:p}return{left:i,center:o,right:a}}function rge(){return 0}function Q6(e){return e===null?NaN:+e}function*ige(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const age=O2(kl),fp=age.right;O2(Q6).center;class hL extends Map{constructor(t,n=lge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(mL(this,t))}has(t){return super.has(mL(this,t))}set(t,n){return super.set(oge(this,t),n)}delete(t){return super.delete(sge(this,t))}}function mL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function oge({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function sge({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function lge(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cge(e=kl){if(e===kl)return e9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function e9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const uge=Math.sqrt(50),dge=Math.sqrt(10),fge=Math.sqrt(2);function kb(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=uge?10:a>=dge?5:a>=fge?2:1;let c,u,f;return i<0?(f=Math.pow(10,-i)/o,c=Math.round(e*f),u=Math.round(t*f),c/f<e&&++c,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*o,c=Math.round(e/f),u=Math.round(t/f),c*f<e&&++c,u*f>t&&--u),u<c&&.5<=n&&n<2?kb(e,t,n*2):[c,u,f]}function mk(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?kb(t,e,n):kb(e,t,n);if(!(a>=i))return[];const c=a-i+1,u=new Array(c);if(r)if(o<0)for(let f=0;f<c;++f)u[f]=(a-f)/-o;else for(let f=0;f<c;++f)u[f]=(a-f)*o;else if(o<0)for(let f=0;f<c;++f)u[f]=(i+f)/-o;else for(let f=0;f<c;++f)u[f]=(i+f)*o;return u}function pk(e,t,n){return t=+t,e=+e,n=+n,kb(e,t,n)[2]}function gk(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?pk(t,e,n):pk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function pL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function gL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function t9(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?e9:cge(i);r>n;){if(r-n>600){const u=r-n+1,f=t-n+1,m=Math.log(u),p=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*p*(u-p)/u)*(f-u/2<0?-1:1),v=Math.max(n,Math.floor(t-f*p/u+g)),w=Math.min(r,Math.floor(t+(u-f)*p/u+g));t9(e,t,v,w,i)}const a=e[t];let o=n,c=r;for(Hh(e,n,t),i(e[r],a)>0&&Hh(e,n,r);o<c;){for(Hh(e,o,c),++o,--c;i(e[o],a)<0;)++o;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?Hh(e,n,c):(++c,Hh(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function Hh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function hge(e,t,n){if(e=Float64Array.from(ige(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return gL(e);if(t>=1)return pL(e);var r,i=(r-1)*t,a=Math.floor(i),o=pL(t9(e,a).subarray(0,a+1)),c=gL(e.subarray(a+1));return o+(c-o)*(i-a)}}function mge(e,t,n=Q6){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return o+(c-o)*(i-a)}}function pge(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function ba(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function As(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yk=Symbol("implicit");function j2(){var e=new hL,t=[],n=[],r=yk;function i(a){let o=e.get(a);if(o===void 0){if(r!==yk)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new hL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return j2(t,n).unknown(r)},ba.apply(i,arguments),i}function N2(){var e=j2().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,c=!1,u=0,f=0,m=.5;delete e.unknown;function p(){var g=t().length,v=i<r,w=v?i:r,_=v?r:i;a=(_-w)/Math.max(1,g-u+f*2),c&&(a=Math.floor(a)),w+=(_-w-a*(g-u))*m,o=a*(1-u),c&&(w=Math.round(w),o=Math.round(o));var E=pge(g).map(function(T){return w+a*T});return n(v?E.reverse():E)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,c=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(g){return arguments.length?(c=!!g,p()):c},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),p()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),p()):m},e.copy=function(){return N2(t(),[r,i]).round(c).paddingInner(u).paddingOuter(f).align(m)},ba.apply(p(),arguments)}function n9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return n9(t())},e}function gge(){return n9(N2.apply(null,arguments).paddingInner(1))}function C2(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function r9(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hp(){}var Dm=.7,Ab=1/Dm,Md="\\s*([+-]?\\d+)\\s*",Rm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yge=/^#([0-9a-f]{3,8})$/,bge=new RegExp(`^rgb\\(${Md},${Md},${Md}\\)$`),vge=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),xge=new RegExp(`^rgba\\(${Md},${Md},${Md},${Rm}\\)$`),_ge=new RegExp(`^rgba\\(${_o},${_o},${_o},${Rm}\\)$`),wge=new RegExp(`^hsl\\(${Rm},${_o},${_o}\\)$`),Sge=new RegExp(`^hsla\\(${Rm},${_o},${_o},${Rm}\\)$`),yL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};C2(hp,Lm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bL,formatHex:bL,formatHex8:Ege,formatHsl:kge,formatRgb:vL,toString:vL});function bL(){return this.rgb().formatHex()}function Ege(){return this.rgb().formatHex8()}function kge(){return i9(this).formatHsl()}function vL(){return this.rgb().formatRgb()}function Lm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=yge.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xL(t):n===3?new oi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?q0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?q0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bge.exec(e))?new oi(t[1],t[2],t[3],1):(t=vge.exec(e))?new oi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xge.exec(e))?q0(t[1],t[2],t[3],t[4]):(t=_ge.exec(e))?q0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wge.exec(e))?SL(t[1],t[2]/100,t[3]/100,1):(t=Sge.exec(e))?SL(t[1],t[2]/100,t[3]/100,t[4]):yL.hasOwnProperty(e)?xL(yL[e]):e==="transparent"?new oi(NaN,NaN,NaN,0):null}function xL(e){return new oi(e>>16&255,e>>8&255,e&255,1)}function q0(e,t,n,r){return r<=0&&(e=t=n=NaN),new oi(e,t,n,r)}function Age(e){return e instanceof hp||(e=Lm(e)),e?(e=e.rgb(),new oi(e.r,e.g,e.b,e.opacity)):new oi}function bk(e,t,n,r){return arguments.length===1?Age(e):new oi(e,t,n,r??1)}function oi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}C2(oi,bk,r9(hp,{brighter(e){return e=e==null?Ab:Math.pow(Ab,e),new oi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dm:Math.pow(Dm,e),new oi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new oi(Yc(this.r),Yc(this.g),Yc(this.b),Tb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_L,formatHex:_L,formatHex8:Tge,formatRgb:wL,toString:wL}));function _L(){return`#${Uc(this.r)}${Uc(this.g)}${Uc(this.b)}`}function Tge(){return`#${Uc(this.r)}${Uc(this.g)}${Uc(this.b)}${Uc((isNaN(this.opacity)?1:this.opacity)*255)}`}function wL(){const e=Tb(this.opacity);return`${e===1?"rgb(":"rgba("}${Yc(this.r)}, ${Yc(this.g)}, ${Yc(this.b)}${e===1?")":`, ${e})`}`}function Tb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Uc(e){return e=Yc(e),(e<16?"0":"")+e.toString(16)}function SL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ia(e,t,n,r)}function i9(e){if(e instanceof Ia)return new Ia(e.h,e.s,e.l,e.opacity);if(e instanceof hp||(e=Lm(e)),!e)return new Ia;if(e instanceof Ia)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,c=a-i,u=(a+i)/2;return c?(t===a?o=(n-r)/c+(n<r)*6:n===a?o=(r-t)/c+2:o=(t-n)/c+4,c/=u<.5?a+i:2-a-i,o*=60):c=u>0&&u<1?0:o,new Ia(o,c,u,e.opacity)}function Oge(e,t,n,r){return arguments.length===1?i9(e):new Ia(e,t,n,r??1)}function Ia(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}C2(Ia,Oge,r9(hp,{brighter(e){return e=e==null?Ab:Math.pow(Ab,e),new Ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dm:Math.pow(Dm,e),new Ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new oi(gS(e>=240?e-240:e+120,i,r),gS(e,i,r),gS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ia(EL(this.h),Y0(this.s),Y0(this.l),Tb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tb(this.opacity);return`${e===1?"hsl(":"hsla("}${EL(this.h)}, ${Y0(this.s)*100}%, ${Y0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function EL(e){return e=(e||0)%360,e<0?e+360:e}function Y0(e){return Math.max(0,Math.min(1,e||0))}function gS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const M2=e=>()=>e;function jge(e,t){return function(n){return e+n*t}}function Nge(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Cge(e){return(e=+e)==1?a9:function(t,n){return n-t?Nge(t,n,e):M2(isNaN(t)?n:t)}}function a9(e,t){var n=t-e;return n?jge(e,n):M2(isNaN(e)?t:e)}const kL=(function e(t){var n=Cge(t);function r(i,a){var o=n((i=bk(i)).r,(a=bk(a)).r),c=n(i.g,a.g),u=n(i.b,a.b),f=a9(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=c(m),i.b=u(m),i.opacity=f(m),i+""}}return r.gamma=e,r})(1);function Mge(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Pge(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Dge(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ff(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(c){for(o=0;o<r;++o)a[o]=i[o](c);return a}}function Rge(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ob(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Lge(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ff(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var vk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yS=new RegExp(vk.source,"g");function Ige(e){return function(){return e}}function $ge(e){return function(t){return e(t)+""}}function Bge(e,t){var n=vk.lastIndex=yS.lastIndex=0,r,i,a,o=-1,c=[],u=[];for(e=e+"",t=t+"";(r=vk.exec(e))&&(i=yS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,u.push({i:o,x:Ob(r,i)})),n=yS.lastIndex;return n<t.length&&(a=t.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?u[0]?$ge(u[0].x):Ige(t):(t=u.length,function(f){for(var m=0,p;m<t;++m)c[(p=u[m]).i]=p.x(f);return c.join("")})}function ff(e,t){var n=typeof t,r;return t==null||n==="boolean"?M2(t):(n==="number"?Ob:n==="string"?(r=Lm(t))?(t=r,kL):Bge:t instanceof Lm?kL:t instanceof Date?Rge:Pge(t)?Mge:Array.isArray(t)?Dge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Lge:Ob)(e,t)}function P2(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function zge(e,t){t===void 0&&(t=e,e=ff);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[c](o-c)}}function Uge(e){return function(){return e}}function jb(e){return+e}var AL=[0,1];function Lr(e){return e}function xk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Uge(isNaN(t)?NaN:.5)}function Fge(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Hge(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=xk(i,r),a=n(o,a)):(r=xk(r,i),a=n(a,o)),function(c){return a(r(c))}}function Gge(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=xk(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(c){var u=fp(e,c,1,r)-1;return a[u](i[u](c))}}function mp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xv(){var e=AL,t=AL,n=ff,r,i,a,o=Lr,c,u,f;function m(){var g=Math.min(e.length,t.length);return o!==Lr&&(o=Fge(e[0],e[g-1])),c=g>2?Gge:Hge,u=f=null,p}function p(g){return g==null||isNaN(g=+g)?a:(u||(u=c(e.map(r),t,n)))(r(o(g)))}return p.invert=function(g){return o(i((f||(f=c(t,e.map(r),Ob)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,jb),m()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),m()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=P2,m()},p.clamp=function(g){return arguments.length?(o=g?!0:Lr,m()):o!==Lr},p.interpolate=function(g){return arguments.length?(n=g,m()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,v){return r=g,i=v,m()}}function D2(){return Xv()(Lr,Lr)}function qge(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Wd(e){return e=Nb(Math.abs(e)),e?e[1]:NaN}function Yge(e,t){return function(n,r){for(var i=n.length,a=[],o=0,c=e[0],u=0;i>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),a.push(n.substring(i-=c,i+c)),!((u+=c+1)>r));)c=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Kge(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Wge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Im(e){if(!(t=Wge.exec(e)))throw new Error("invalid format: "+e);var t;return new R2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Im.prototype=R2.prototype;function R2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}R2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vge(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var o9;function Zge(e,t){var n=Nb(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(o9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Nb(e,Math.max(0,t+a-1))[0]}function TL(e,t){var n=Nb(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const OL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qge,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>TL(e*100,t),r:TL,s:Zge,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function jL(e){return e}var NL=Array.prototype.map,CL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Xge(e){var t=e.grouping===void 0||e.thousands===void 0?jL:Yge(NL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?jL:Kge(NL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Im(p);var g=p.fill,v=p.align,w=p.sign,_=p.symbol,E=p.zero,T=p.width,N=p.comma,O=p.precision,P=p.trim,M=p.type;M==="n"?(N=!0,M="g"):OL[M]||(O===void 0&&(O=12),P=!0,M="g"),(E||g==="0"&&v==="=")&&(E=!0,g="0",v="=");var D=_==="$"?n:_==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",$=_==="$"?r:/[%p]/.test(M)?o:"",H=OL[M],q=/[defgprs%]/.test(M);O=O===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function K(F){var z=D,Z=$,Q,J,Y;if(M==="c")Z=H(F)+Z,F="";else{F=+F;var X=F<0||1/F<0;if(F=isNaN(F)?u:H(Math.abs(F),O),P&&(F=Vge(F)),X&&+F==0&&w!=="+"&&(X=!1),z=(X?w==="("?w:c:w==="-"||w==="("?"":w)+z,Z=(M==="s"?CL[8+o9/3]:"")+Z+(X&&w==="("?")":""),q){for(Q=-1,J=F.length;++Q<J;)if(Y=F.charCodeAt(Q),48>Y||Y>57){Z=(Y===46?i+F.slice(Q+1):F.slice(Q))+Z,F=F.slice(0,Q);break}}}N&&!E&&(F=t(F,1/0));var re=z.length+F.length+Z.length,ue=re<T?new Array(T-re+1).join(g):"";switch(N&&E&&(F=t(ue+F,ue.length?T-Z.length:1/0),ue=""),v){case"<":F=z+F+Z+ue;break;case"=":F=z+ue+F+Z;break;case"^":F=ue.slice(0,re=ue.length>>1)+z+F+Z+ue.slice(re);break;default:F=ue+z+F+Z;break}return a(F)}return K.toString=function(){return p+""},K}function m(p,g){var v=f((p=Im(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Wd(g)/3)))*3,_=Math.pow(10,-w),E=CL[8+w/3];return function(T){return v(_*T)+E}}return{format:f,formatPrefix:m}}var K0,L2,s9;Jge({thousands:",",grouping:[3],currency:["$",""]});function Jge(e){return K0=Xge(e),L2=K0.format,s9=K0.formatPrefix,K0}function Qge(e){return Math.max(0,-Wd(Math.abs(e)))}function e0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wd(t)/3)))*3-Wd(Math.abs(e)))}function t0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wd(t)-Wd(e))+1}function l9(e,t,n,r){var i=gk(e,t,n),a;switch(r=Im(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=e0e(i,o))&&(r.precision=a),s9(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=t0e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Qge(i))&&(r.precision=a-(r.type==="%")*2);break}}return L2(r)}function Pl(e){var t=e.domain;return e.ticks=function(n){var r=t();return mk(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return l9(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],c=r[a],u,f,m=10;for(c<o&&(f=o,o=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=pk(o,c,n),f===u)return r[i]=o,r[a]=c,t(r);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;u=f}return e},e}function c9(){var e=D2();return e.copy=function(){return mp(e,c9())},ba.apply(e,arguments),Pl(e)}function u9(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,jb),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return u9(e).unknown(t)},e=arguments.length?Array.from(e,jb):[0,1],Pl(n)}function d9(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function ML(e){return Math.log(e)}function PL(e){return Math.exp(e)}function n0e(e){return-Math.log(-e)}function r0e(e){return-Math.exp(-e)}function i0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function a0e(e){return e===10?i0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function o0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function DL(e){return(t,n)=>-e(-t,n)}function I2(e){const t=e(ML,PL),n=t.domain;let r=10,i,a;function o(){return i=o0e(r),a=a0e(r),n()[0]<0?(i=DL(i),a=DL(a),e(n0e,r0e)):e(ML,PL),t}return t.base=function(c){return arguments.length?(r=+c,o()):r},t.domain=function(c){return arguments.length?(n(c),o()):n()},t.ticks=c=>{const u=n();let f=u[0],m=u[u.length-1];const p=m<f;p&&([f,m]=[m,f]);let g=i(f),v=i(m),w,_;const E=c==null?10:+c;let T=[];if(!(r%1)&&v-g<E){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(w=1;w<r;++w)if(_=g<0?w/a(-g):w*a(g),!(_<f)){if(_>m)break;T.push(_)}}else for(;g<=v;++g)for(w=r-1;w>=1;--w)if(_=g>0?w/a(-g):w*a(g),!(_<f)){if(_>m)break;T.push(_)}T.length*2<E&&(T=mk(f,m,E))}else T=mk(g,v,Math.min(v-g,E)).map(a);return p?T.reverse():T},t.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Im(u)).precision==null&&(u.trim=!0),u=L2(u)),c===1/0)return u;const f=Math.max(1,r*c/t.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?u(m):""}},t.nice=()=>n(d9(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function f9(){const e=I2(Xv()).domain([1,10]);return e.copy=()=>mp(e,f9()).base(e.base()),ba.apply(e,arguments),e}function RL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function LL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $2(e){var t=1,n=e(RL(t),LL(t));return n.constant=function(r){return arguments.length?e(RL(t=+r),LL(t)):t},Pl(n)}function h9(){var e=$2(Xv());return e.copy=function(){return mp(e,h9()).constant(e.constant())},ba.apply(e,arguments)}function IL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function s0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function l0e(e){return e<0?-e*e:e*e}function B2(e){var t=e(Lr,Lr),n=1;function r(){return n===1?e(Lr,Lr):n===.5?e(s0e,l0e):e(IL(n),IL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Pl(t)}function z2(){var e=B2(Xv());return e.copy=function(){return mp(e,z2()).exponent(e.exponent())},ba.apply(e,arguments),e}function c0e(){return z2.apply(null,arguments).exponent(.5)}function $L(e){return Math.sign(e)*e*e}function u0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function m9(){var e=D2(),t=[0,1],n=!1,r;function i(a){var o=u0e(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert($L(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,jb)).map($L)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return m9(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ba.apply(i,arguments),Pl(i)}function p9(){var e=[],t=[],n=[],r;function i(){var o=0,c=Math.max(1,t.length);for(n=new Array(c-1);++o<c;)n[o-1]=mge(e,o/c);return a}function a(o){return o==null||isNaN(o=+o)?r:t[fp(n,o)]}return a.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(kl),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return p9().domain(e).range(t).unknown(r)},ba.apply(a,arguments)}function g9(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[fp(r,u,0,n)]:a}function c(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,c()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,c()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return g9().domain([e,t]).range(i).unknown(a)},ba.apply(Pl(o),arguments)}function y9(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[fp(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return y9().domain(e).range(t).unknown(n)},ba.apply(i,arguments)}const bS=new Date,vS=new Date;function Yn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const u=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return u;let f;do u.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<o);return u},i.filter=a=>Yn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!a(o););else for(;--c>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(bS.setTime(+a),vS.setTime(+o),e(bS),e(vS),Math.floor(n(bS,vS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Cb=Yn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Cb);Cb.range;const ls=1e3,ca=ls*60,cs=ca*60,bs=cs*24,U2=bs*7,BL=bs*30,xS=bs*365,Fc=Yn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ls)},(e,t)=>(t-e)/ls,e=>e.getUTCSeconds());Fc.range;const F2=Yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ls)},(e,t)=>{e.setTime(+e+t*ca)},(e,t)=>(t-e)/ca,e=>e.getMinutes());F2.range;const H2=Yn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ca)},(e,t)=>(t-e)/ca,e=>e.getUTCMinutes());H2.range;const G2=Yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ls-e.getMinutes()*ca)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getHours());G2.range;const q2=Yn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getUTCHours());q2.range;const pp=Yn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ca)/bs,e=>e.getDate()-1);pp.range;const Jv=Yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bs,e=>e.getUTCDate()-1);Jv.range;const b9=Yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bs,e=>Math.floor(e/bs));b9.range;function su(e){return Yn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ca)/U2)}const Qv=su(0),Mb=su(1),d0e=su(2),f0e=su(3),Vd=su(4),h0e=su(5),m0e=su(6);Qv.range;Mb.range;d0e.range;f0e.range;Vd.range;h0e.range;m0e.range;function lu(e){return Yn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/U2)}const ex=lu(0),Pb=lu(1),p0e=lu(2),g0e=lu(3),Zd=lu(4),y0e=lu(5),b0e=lu(6);ex.range;Pb.range;p0e.range;g0e.range;Zd.range;y0e.range;b0e.range;const Y2=Yn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Y2.range;const K2=Yn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());K2.range;const vs=Yn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});vs.range;const xs=Yn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});xs.range;function v9(e,t,n,r,i,a){const o=[[Fc,1,ls],[Fc,5,5*ls],[Fc,15,15*ls],[Fc,30,30*ls],[a,1,ca],[a,5,5*ca],[a,15,15*ca],[a,30,30*ca],[i,1,cs],[i,3,3*cs],[i,6,6*cs],[i,12,12*cs],[r,1,bs],[r,2,2*bs],[n,1,U2],[t,1,BL],[t,3,3*BL],[e,1,xS]];function c(f,m,p){const g=m<f;g&&([f,m]=[m,f]);const v=p&&typeof p.range=="function"?p:u(f,m,p),w=v?v.range(f,+m+1):[];return g?w.reverse():w}function u(f,m,p){const g=Math.abs(m-f)/p,v=O2(([,,E])=>E).right(o,g);if(v===o.length)return e.every(gk(f/xS,m/xS,p));if(v===0)return Cb.every(Math.max(gk(f,m,p),1));const[w,_]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return w.every(_)}return[c,u]}const[v0e,x0e]=v9(xs,K2,ex,b9,q2,H2),[_0e,w0e]=v9(vs,Y2,Qv,pp,G2,F2);function _S(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function S0e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,f=qh(i),m=Yh(i),p=qh(a),g=Yh(a),v=qh(o),w=Yh(o),_=qh(c),E=Yh(c),T=qh(u),N=Yh(u),O={a:X,A:re,b:ue,B:se,c:null,d:qL,e:qL,f:Y0e,g:nye,G:iye,H:H0e,I:G0e,j:q0e,L:x9,m:K0e,M:W0e,p:B,q:W,Q:WL,s:VL,S:V0e,u:Z0e,U:X0e,V:J0e,w:Q0e,W:eye,x:null,X:null,y:tye,Y:rye,Z:aye,"%":KL},P={a:ae,A:V,b:oe,B:me,c:null,d:YL,e:YL,f:cye,g:vye,G:_ye,H:oye,I:sye,j:lye,L:w9,m:uye,M:dye,p:pe,q:be,Q:WL,s:VL,S:fye,u:hye,U:mye,V:pye,w:gye,W:yye,x:null,X:null,y:bye,Y:xye,Z:wye,"%":KL},M={a:K,A:F,b:z,B:Z,c:Q,d:HL,e:HL,f:B0e,g:FL,G:UL,H:GL,I:GL,j:R0e,L:$0e,m:D0e,M:L0e,p:q,q:P0e,Q:U0e,s:F0e,S:I0e,u:O0e,U:j0e,V:N0e,w:T0e,W:C0e,x:J,X:Y,y:FL,Y:UL,Z:M0e,"%":z0e};O.x=D(n,O),O.X=D(r,O),O.c=D(t,O),P.x=D(n,P),P.X=D(r,P),P.c=D(t,P);function D(ne,Oe){return function(Ce){var ve=[],Ze=-1,Ne=0,_e=ne.length,je,Ie,Ve;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ze<_e;)ne.charCodeAt(Ze)===37&&(ve.push(ne.slice(Ne,Ze)),(Ie=zL[je=ne.charAt(++Ze)])!=null?je=ne.charAt(++Ze):Ie=je==="e"?" ":"0",(Ve=Oe[je])&&(je=Ve(Ce,Ie)),ve.push(je),Ne=Ze+1);return ve.push(ne.slice(Ne,Ze)),ve.join("")}}function $(ne,Oe){return function(Ce){var ve=Gh(1900,void 0,1),Ze=H(ve,ne,Ce+="",0),Ne,_e;if(Ze!=Ce.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Oe&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ne=wS(Gh(ve.y,0,1)),_e=Ne.getUTCDay(),Ne=_e>4||_e===0?Pb.ceil(Ne):Pb(Ne),Ne=Jv.offset(Ne,(ve.V-1)*7),ve.y=Ne.getUTCFullYear(),ve.m=Ne.getUTCMonth(),ve.d=Ne.getUTCDate()+(ve.w+6)%7):(Ne=_S(Gh(ve.y,0,1)),_e=Ne.getDay(),Ne=_e>4||_e===0?Mb.ceil(Ne):Mb(Ne),Ne=pp.offset(Ne,(ve.V-1)*7),ve.y=Ne.getFullYear(),ve.m=Ne.getMonth(),ve.d=Ne.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),_e="Z"in ve?wS(Gh(ve.y,0,1)).getUTCDay():_S(Gh(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(_e+5)%7:ve.w+ve.U*7-(_e+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,wS(ve)):_S(ve)}}function H(ne,Oe,Ce,ve){for(var Ze=0,Ne=Oe.length,_e=Ce.length,je,Ie;Ze<Ne;){if(ve>=_e)return-1;if(je=Oe.charCodeAt(Ze++),je===37){if(je=Oe.charAt(Ze++),Ie=M[je in zL?Oe.charAt(Ze++):je],!Ie||(ve=Ie(ne,Ce,ve))<0)return-1}else if(je!=Ce.charCodeAt(ve++))return-1}return ve}function q(ne,Oe,Ce){var ve=f.exec(Oe.slice(Ce));return ve?(ne.p=m.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function K(ne,Oe,Ce){var ve=v.exec(Oe.slice(Ce));return ve?(ne.w=w.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function F(ne,Oe,Ce){var ve=p.exec(Oe.slice(Ce));return ve?(ne.w=g.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function z(ne,Oe,Ce){var ve=T.exec(Oe.slice(Ce));return ve?(ne.m=N.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function Z(ne,Oe,Ce){var ve=_.exec(Oe.slice(Ce));return ve?(ne.m=E.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function Q(ne,Oe,Ce){return H(ne,t,Oe,Ce)}function J(ne,Oe,Ce){return H(ne,n,Oe,Ce)}function Y(ne,Oe,Ce){return H(ne,r,Oe,Ce)}function X(ne){return o[ne.getDay()]}function re(ne){return a[ne.getDay()]}function ue(ne){return u[ne.getMonth()]}function se(ne){return c[ne.getMonth()]}function B(ne){return i[+(ne.getHours()>=12)]}function W(ne){return 1+~~(ne.getMonth()/3)}function ae(ne){return o[ne.getUTCDay()]}function V(ne){return a[ne.getUTCDay()]}function oe(ne){return u[ne.getUTCMonth()]}function me(ne){return c[ne.getUTCMonth()]}function pe(ne){return i[+(ne.getUTCHours()>=12)]}function be(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var Oe=D(ne+="",O);return Oe.toString=function(){return ne},Oe},parse:function(ne){var Oe=$(ne+="",!1);return Oe.toString=function(){return ne},Oe},utcFormat:function(ne){var Oe=D(ne+="",P);return Oe.toString=function(){return ne},Oe},utcParse:function(ne){var Oe=$(ne+="",!0);return Oe.toString=function(){return ne},Oe}}}var zL={"-":"",_:" ",0:"0"},lr=/^\s*\d+/,E0e=/^%/,k0e=/[\\^$*+?|[\]().{}]/g;function At(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function A0e(e){return e.replace(k0e,"\\$&")}function qh(e){return new RegExp("^(?:"+e.map(A0e).join("|")+")","i")}function Yh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function T0e(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function O0e(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function j0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function N0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function C0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function UL(e,t,n){var r=lr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function FL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function M0e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function P0e(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function D0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function HL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function R0e(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function GL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function L0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function I0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function $0e(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function B0e(e,t,n){var r=lr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function z0e(e,t,n){var r=E0e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function U0e(e,t,n){var r=lr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function F0e(e,t,n){var r=lr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function qL(e,t){return At(e.getDate(),t,2)}function H0e(e,t){return At(e.getHours(),t,2)}function G0e(e,t){return At(e.getHours()%12||12,t,2)}function q0e(e,t){return At(1+pp.count(vs(e),e),t,3)}function x9(e,t){return At(e.getMilliseconds(),t,3)}function Y0e(e,t){return x9(e,t)+"000"}function K0e(e,t){return At(e.getMonth()+1,t,2)}function W0e(e,t){return At(e.getMinutes(),t,2)}function V0e(e,t){return At(e.getSeconds(),t,2)}function Z0e(e){var t=e.getDay();return t===0?7:t}function X0e(e,t){return At(Qv.count(vs(e)-1,e),t,2)}function _9(e){var t=e.getDay();return t>=4||t===0?Vd(e):Vd.ceil(e)}function J0e(e,t){return e=_9(e),At(Vd.count(vs(e),e)+(vs(e).getDay()===4),t,2)}function Q0e(e){return e.getDay()}function eye(e,t){return At(Mb.count(vs(e)-1,e),t,2)}function tye(e,t){return At(e.getFullYear()%100,t,2)}function nye(e,t){return e=_9(e),At(e.getFullYear()%100,t,2)}function rye(e,t){return At(e.getFullYear()%1e4,t,4)}function iye(e,t){var n=e.getDay();return e=n>=4||n===0?Vd(e):Vd.ceil(e),At(e.getFullYear()%1e4,t,4)}function aye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function YL(e,t){return At(e.getUTCDate(),t,2)}function oye(e,t){return At(e.getUTCHours(),t,2)}function sye(e,t){return At(e.getUTCHours()%12||12,t,2)}function lye(e,t){return At(1+Jv.count(xs(e),e),t,3)}function w9(e,t){return At(e.getUTCMilliseconds(),t,3)}function cye(e,t){return w9(e,t)+"000"}function uye(e,t){return At(e.getUTCMonth()+1,t,2)}function dye(e,t){return At(e.getUTCMinutes(),t,2)}function fye(e,t){return At(e.getUTCSeconds(),t,2)}function hye(e){var t=e.getUTCDay();return t===0?7:t}function mye(e,t){return At(ex.count(xs(e)-1,e),t,2)}function S9(e){var t=e.getUTCDay();return t>=4||t===0?Zd(e):Zd.ceil(e)}function pye(e,t){return e=S9(e),At(Zd.count(xs(e),e)+(xs(e).getUTCDay()===4),t,2)}function gye(e){return e.getUTCDay()}function yye(e,t){return At(Pb.count(xs(e)-1,e),t,2)}function bye(e,t){return At(e.getUTCFullYear()%100,t,2)}function vye(e,t){return e=S9(e),At(e.getUTCFullYear()%100,t,2)}function xye(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function _ye(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Zd(e):Zd.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function wye(){return"+0000"}function KL(){return"%"}function WL(e){return+e}function VL(e){return Math.floor(+e/1e3)}var ad,E9,k9;Sye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Sye(e){return ad=S0e(e),E9=ad.format,ad.parse,k9=ad.utcFormat,ad.utcParse,ad}function Eye(e){return new Date(e)}function kye(e){return e instanceof Date?+e:+new Date(+e)}function W2(e,t,n,r,i,a,o,c,u,f){var m=D2(),p=m.invert,g=m.domain,v=f(".%L"),w=f(":%S"),_=f("%I:%M"),E=f("%I %p"),T=f("%a %d"),N=f("%b %d"),O=f("%B"),P=f("%Y");function M(D){return(u(D)<D?v:c(D)<D?w:o(D)<D?_:a(D)<D?E:r(D)<D?i(D)<D?T:N:n(D)<D?O:P)(D)}return m.invert=function(D){return new Date(p(D))},m.domain=function(D){return arguments.length?g(Array.from(D,kye)):g().map(Eye)},m.ticks=function(D){var $=g();return e($[0],$[$.length-1],D??10)},m.tickFormat=function(D,$){return $==null?M:f($)},m.nice=function(D){var $=g();return(!D||typeof D.range!="function")&&(D=t($[0],$[$.length-1],D??10)),D?g(d9($,D)):m},m.copy=function(){return mp(m,W2(e,t,n,r,i,a,o,c,u,f))},m}function Aye(){return ba.apply(W2(_0e,w0e,vs,Y2,Qv,pp,G2,F2,Fc,E9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Tye(){return ba.apply(W2(v0e,x0e,xs,K2,ex,Jv,q2,H2,Fc,k9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tx(){var e=0,t=1,n,r,i,a,o=Lr,c=!1,u;function f(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(o=p,f):o};function m(p){return function(g){var v,w;return arguments.length?([v,w]=g,o=p(v,w),f):[o(0),o(1)]}}return f.range=m(ff),f.rangeRound=m(P2),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Dl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function A9(){var e=Pl(tx()(Lr));return e.copy=function(){return Dl(e,A9())},As.apply(e,arguments)}function T9(){var e=I2(tx()).domain([1,10]);return e.copy=function(){return Dl(e,T9()).base(e.base())},As.apply(e,arguments)}function O9(){var e=$2(tx());return e.copy=function(){return Dl(e,O9()).constant(e.constant())},As.apply(e,arguments)}function V2(){var e=B2(tx());return e.copy=function(){return Dl(e,V2()).exponent(e.exponent())},As.apply(e,arguments)}function Oye(){return V2.apply(null,arguments).exponent(.5)}function j9(){var e=[],t=Lr;function n(r){if(r!=null&&!isNaN(r=+r))return t((fp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(kl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>hge(e,a/r))},n.copy=function(){return j9(t).domain(e)},As.apply(n,arguments)}function nx(){var e=0,t=.5,n=1,r=1,i,a,o,c,u,f=Lr,m,p=!1,g;function v(_){return isNaN(_=+_)?g:(_=.5+((_=+m(_))-a)*(r*_<r*a?c:u),f(p?Math.max(0,Math.min(1,_)):_))}v.domain=function(_){return arguments.length?([e,t,n]=_,i=m(e=+e),a=m(t=+t),o=m(n=+n),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,v):[e,t,n]},v.clamp=function(_){return arguments.length?(p=!!_,v):p},v.interpolator=function(_){return arguments.length?(f=_,v):f};function w(_){return function(E){var T,N,O;return arguments.length?([T,N,O]=E,f=zge(_,[T,N,O]),v):[f(0),f(.5),f(1)]}}return v.range=w(ff),v.rangeRound=w(P2),v.unknown=function(_){return arguments.length?(g=_,v):g},function(_){return m=_,i=_(e),a=_(t),o=_(n),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,v}}function N9(){var e=Pl(nx()(Lr));return e.copy=function(){return Dl(e,N9())},As.apply(e,arguments)}function C9(){var e=I2(nx()).domain([.1,1,10]);return e.copy=function(){return Dl(e,C9()).base(e.base())},As.apply(e,arguments)}function M9(){var e=$2(nx());return e.copy=function(){return Dl(e,M9()).constant(e.constant())},As.apply(e,arguments)}function Z2(){var e=B2(nx());return e.copy=function(){return Dl(e,Z2()).exponent(e.exponent())},As.apply(e,arguments)}function jye(){return Z2.apply(null,arguments).exponent(.5)}const Qh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:N2,scaleDiverging:N9,scaleDivergingLog:C9,scaleDivergingPow:Z2,scaleDivergingSqrt:jye,scaleDivergingSymlog:M9,scaleIdentity:u9,scaleImplicit:yk,scaleLinear:c9,scaleLog:f9,scaleOrdinal:j2,scalePoint:gge,scalePow:z2,scaleQuantile:p9,scaleQuantize:g9,scaleRadial:m9,scaleSequential:A9,scaleSequentialLog:T9,scaleSequentialPow:V2,scaleSequentialQuantile:j9,scaleSequentialSqrt:Oye,scaleSequentialSymlog:O9,scaleSqrt:c0e,scaleSymlog:h9,scaleThreshold:y9,scaleTime:Aye,scaleUtc:Tye,tickFormat:l9},Symbol.toStringTag,{value:"Module"}));var Rl=e=>e.chartData,Nye=we([Rl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),X2=(e,t,n,r)=>r?Nye(e):Rl(e);function Cl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(xn(t)&&xn(n))return!0}return!1}function ZL(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function P9(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(xn(n))i=n;else if(typeof n=="function")return;if(xn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Cl(o))return o}}function Cye(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Cl(r))return ZL(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,c;if(i==="auto")t!=null&&(o=Math.min(...t));else if(We(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&AR.test(i)){var u=AR.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[0]-f}}else o=t?.[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(We(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[1]))}catch{}else if(typeof a=="string"&&TR.test(a)){var m=TR.exec(a);if(m==null||t==null)c=void 0;else{var p=+m[1];c=t[1]+p}}else c=t?.[1];var g=[o,c];if(Cl(g))return t==null?g:ZL(g,t,n)}}}var hf=1e9,Mye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Q2,on=!0,pa="[DecimalError] ",Kc=pa+"Invalid argument: ",J2=pa+"Exponent out of range: ",mf=Math.floor,Lc=Math.pow,Pye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mi,ir=1e7,Jt=7,D9=9007199254740991,Db=mf(D9/Jt),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Jt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(e){return ds(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,n=t.constructor;return Gt(ds(t,new n(e),0,1),n.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return Ln(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Mi))throw Error(pa+"NaN");if(n.s<1)throw Error(pa+(n.s?"NaN":"-Infinity"));return n.eq(Mi)?new r(0):(on=!1,t=ds($m(n,a),$m(e,a),a),on=!0,Gt(t,i))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?I9(t,e):R9(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(pa+"NaN");return n.s?(on=!1,t=ds(n,e,0,1).times(e),on=!0,n.minus(t)):Gt(new r(n),i)};$e.naturalExponential=$e.exp=function(){return L9(this)};$e.naturalLogarithm=$e.ln=function(){return $m(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?R9(t,e):I9(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kc+e);if(t=Ln(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};$e.squareRoot=$e.sqrt=function(){var e,t,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(pa+"NaN")}for(e=Ln(c),on=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=vo(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=mf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(ds(c,a,o+2)).times(.5),vo(a.d).slice(0,o)===(t=vo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Gt(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;o+=4}return on=!0,Gt(r,n)};$e.times=$e.mul=function(e){var t,n,r,i,a,o,c,u,f,m=this,p=m.constructor,g=m.d,v=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,n=m.e+e.e,u=g.length,f=v.length,u<f&&(a=g,g=v,v=a,o=u,u=f,f=o),a=[],o=u+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=u+r;i>r;)c=a[i]+v[r]*g[i-r-1]+t,a[i--]=c%ir|0,t=c/ir|0;a[i]=(a[i]+t)%ir|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,on?Gt(e,p.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ao(e,0,hf),t===void 0?t=r.rounding:Ao(t,0,8),Gt(n,e+Ln(n)+1,t))};$e.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=eu(r,!0):(Ao(e,0,hf),t===void 0?t=i.rounding:Ao(t,0,8),r=Gt(new i(r),e+1,t),n=eu(r,!0,e+1)),n};$e.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?eu(i):(Ao(e,0,hf),t===void 0?t=a.rounding:Ao(t,0,8),r=Gt(new a(i),e+Ln(i)+1,t),n=eu(r.abs(),!1,e+Ln(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),Ln(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,n,r,i,a,o,c=this,u=c.constructor,f=12,m=+(e=new u(e));if(!e.s)return new u(Mi);if(c=new u(c),!c.s){if(e.s<1)throw Error(pa+"Infinity");return c}if(c.eq(Mi))return c;if(r=u.precision,e.eq(Mi))return Gt(c,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=c.s,o){if((n=m<0?-m:m)<=D9){for(i=new u(Mi),t=Math.ceil(r/Jt+4),on=!1;n%2&&(i=i.times(c),JL(i.d,t)),n=mf(n/2),n!==0;)c=c.times(c),JL(c.d,t);return on=!0,e.s<0?new u(Mi).div(i):Gt(i,r)}}else if(a<0)throw Error(pa+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,on=!1,i=e.times($m(c,r+f)),on=!0,i=L9(i),i.s=a,i};$e.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Ln(i),r=eu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ao(e,1,hf),t===void 0?t=a.rounding:Ao(t,0,8),i=Gt(new a(i),e,t),n=Ln(i),r=eu(i,e<=n||n<=a.toExpNeg,e)),r};$e.toSignificantDigits=$e.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ao(e,1,hf),t===void 0?t=r.rounding:Ao(t,0,8)),Gt(new r(n),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ln(e),n=e.constructor;return eu(e,t<=n.toExpNeg||t>=n.toExpPos)};function R9(e,t){var n,r,i,a,o,c,u,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),on?Gt(t,p):t;if(u=e.d,f=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,c=f.length):(r=f,i=o,c=u.length),o=Math.ceil(p/Jt),c=o>c?o+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=u.length,a=f.length,c-a<0&&(a=c,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/ir|0,u[a]%=ir;for(n&&(u.unshift(n),++i),c=u.length;u[--c]==0;)u.pop();return t.d=u,t.e=i,on?Gt(t,p):t}function Ao(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Kc+e)}function vo(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Jt-r.length,n&&(a+=gl(n)),a+=r;o=e[t],r=o+"",n=Jt-r.length,n&&(a+=gl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ds=(function(){function e(r,i){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%ir|0,o=a/ir|0;return o&&r.unshift(o),r}function t(r,i,a,o){var c,u;if(a!=o)u=a>o?1:-1;else for(c=u=0;c<a;c++)if(r[c]!=i[c]){u=r[c]>i[c]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ir+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var c,u,f,m,p,g,v,w,_,E,T,N,O,P,M,D,$,H,q=r.constructor,K=r.s==i.s?1:-1,F=r.d,z=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(pa+"Division by zero");for(u=r.e-i.e,$=z.length,M=F.length,v=new q(K),w=v.d=[],f=0;z[f]==(F[f]||0);)++f;if(z[f]>(F[f]||0)&&--u,a==null?N=a=q.precision:o?N=a+(Ln(r)-Ln(i))+1:N=a,N<0)return new q(0);if(N=N/Jt+2|0,f=0,$==1)for(m=0,z=z[0],N++;(f<M||m)&&N--;f++)O=m*ir+(F[f]||0),w[f]=O/z|0,m=O%z|0;else{for(m=ir/(z[0]+1)|0,m>1&&(z=e(z,m),F=e(F,m),$=z.length,M=F.length),P=$,_=F.slice(0,$),E=_.length;E<$;)_[E++]=0;H=z.slice(),H.unshift(0),D=z[0],z[1]>=ir/2&&++D;do m=0,c=t(z,_,$,E),c<0?(T=_[0],$!=E&&(T=T*ir+(_[1]||0)),m=T/D|0,m>1?(m>=ir&&(m=ir-1),p=e(z,m),g=p.length,E=_.length,c=t(p,_,g,E),c==1&&(m--,n(p,$<g?H:z,g))):(m==0&&(c=m=1),p=z.slice()),g=p.length,g<E&&p.unshift(0),n(_,p,E),c==-1&&(E=_.length,c=t(z,_,$,E),c<1&&(m++,n(_,$<E?H:z,E))),E=_.length):c===0&&(m++,_=[0]),w[f++]=m,c&&_[0]?_[E++]=F[P]||0:(_=[F[P]],E=1);while((P++<M||_[0]!==void 0)&&N--)}return w[0]||w.shift(),v.e=u,Gt(v,o?a+Ln(v)+1:a)}})();function L9(e,t){var n,r,i,a,o,c,u=0,f=0,m=e.constructor,p=m.precision;if(Ln(e)>16)throw Error(J2+Ln(e));if(!e.s)return new m(Mi);for(on=!1,c=p,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(Lc(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new m(Mi),m.precision=c;;){if(i=Gt(i.times(e),c),n=n.times(++u),o=a.plus(ds(i,n,c)),vo(o.d).slice(0,c)===vo(a.d).slice(0,c)){for(;f--;)a=Gt(a.times(a),c);return m.precision=p,t==null?(on=!0,Gt(a,p)):a}a=o}}function Ln(e){for(var t=e.e*Jt,n=e.d[0];n>=10;n/=10)t++;return t}function SS(e,t,n){if(t>e.LN10.sd())throw on=!0,n&&(e.precision=n),Error(pa+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function gl(e){for(var t="";e--;)t+="0";return t}function $m(e,t){var n,r,i,a,o,c,u,f,m,p=1,g=10,v=e,w=v.d,_=v.constructor,E=_.precision;if(v.s<1)throw Error(pa+(v.s?"NaN":"-Infinity"));if(v.eq(Mi))return new _(0);if(t==null?(on=!1,f=E):f=t,v.eq(10))return t==null&&(on=!0),SS(_,f);if(f+=g,_.precision=f,n=vo(w),r=n.charAt(0),a=Ln(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=vo(v.d),r=n.charAt(0),p++;a=Ln(v),r>1?(v=new _("0."+n),a++):v=new _(r+"."+n.slice(1))}else return u=SS(_,f+2,E).times(a+""),v=$m(new _(r+"."+n.slice(1)),f-g).plus(u),_.precision=E,t==null?(on=!0,Gt(v,E)):v;for(c=o=v=ds(v.minus(Mi),v.plus(Mi),f),m=Gt(v.times(v),f),i=3;;){if(o=Gt(o.times(m),f),u=c.plus(ds(o,new _(i),f)),vo(u.d).slice(0,f)===vo(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(SS(_,f+2,E).times(a+""))),c=ds(c,new _(p),f),_.precision=E,t==null?(on=!0,Gt(c,E)):c;c=u,i+=2}}function XL(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=mf(n/Jt),e.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Jt;r<i;)e.d.push(+t.slice(r,r+=Jt));t=t.slice(r),r=Jt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),on&&(e.e>Db||e.e<-Db))throw Error(J2+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,n){var r,i,a,o,c,u,f,m,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Jt,i=t,f=p[m=0];else{if(m=Math.ceil((r+1)/Jt),a=p.length,m>=a)return e;for(f=a=p[m],o=1;a>=10;a/=10)o++;r%=Jt,i=r-Jt+o}if(n!==void 0&&(a=Lc(10,o-i-1),c=f/a%10|0,u=t<0||p[m+1]!==void 0||f%a,u=n<4?(c||u)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(r>0?i>0?f/Lc(10,o-i):0:p[m-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=Ln(e),p.length=1,t=t-a-1,p[0]=Lc(10,(Jt-t%Jt)%Jt),e.e=mf(-t/Jt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=Lc(10,Jt-r),p[m]=i>0?(f/Lc(10,o-i)%Lc(10,i)|0)*a:0),u)for(;;)if(m==0){(p[0]+=a)==ir&&(p[0]=1,++e.e);break}else{if(p[m]+=a,p[m]!=ir)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(on&&(e.e>Db||e.e<-Db))throw Error(J2+Ln(e));return e}function I9(e,t){var n,r,i,a,o,c,u,f,m,p,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),on?Gt(t,v):t;if(u=e.d,p=t.d,r=t.e,f=e.e,u=u.slice(),o=f-r,o){for(m=o<0,m?(n=u,o=-o,c=p.length):(n=p,r=f,c=u.length),i=Math.max(Math.ceil(v/Jt),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(u[i]!=p[i]){m=u[i]<p[i];break}o=0}for(m&&(n=u,u=p,p=n,t.s=-t.s),c=u.length,i=p.length-c;i>0;--i)u[c++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=ir-1;--u[a],u[i]+=ir}u[i]-=p[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,on?Gt(t,v):t):new g(0)}function eu(e,t,n){var r,i=Ln(e),a=vo(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+gl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+gl(-i-1)+a,n&&(r=n-o)>0&&(a+=gl(r))):i>=o?(a+=gl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+gl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=gl(r))),e.s<0?"-"+a:a}function JL(e,t){if(e.length>t)return e.length=t,!0}function $9(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Kc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return XL(o,a.toString())}else if(typeof a!="string")throw Error(Kc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Pye.test(a))XL(o,a);else throw Error(Kc+a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$9,i.config=i.set=Dye,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Dye(e){if(!e||typeof e!="object")throw Error(pa+"Object expected");var t,n,r,i=["precision",1,hf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(mf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Kc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Kc+n+": "+r);return this}var Q2=$9(Mye);Mi=new Q2(1);const Lt=Q2;var Rye=e=>e,B9={},z9=e=>e===B9,QL=e=>function t(){return arguments.length===0||arguments.length===1&&z9(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},U9=(e,t)=>e===1?t:QL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==B9).length;return a>=e?t(...r):U9(e-a,QL(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var f=r.map(m=>z9(m)?c.shift():m);return t(...f,...c)}))}),Lye=e=>U9(e.length,e),_k=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Iye=Lye((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),$ye=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Rye;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((c,u)=>u(c),a(...arguments))}},wk=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function F9(e){var t;return e===0?t=1:t=Math.floor(new Lt(e).abs().log(10).toNumber())+1,t}function H9(e,t,n){for(var r=new Lt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var G9=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},q9=(e,t,n)=>{if(e.lte(0))return new Lt(0);var r=F9(e.toNumber()),i=new Lt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,c=new Lt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=c.mul(i);return t?new Lt(u.toNumber()):new Lt(Math.ceil(u.toNumber()))},Bye=(e,t,n)=>{var r=new Lt(1),i=new Lt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Lt(10).pow(F9(e)-1),i=new Lt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Lt(Math.floor(e)))}else e===0?i=new Lt(Math.floor((t-1)/2)):n||(i=new Lt(Math.floor(e)));var o=Math.floor((t-1)/2),c=$ye(Iye(u=>i.add(new Lt(u-o).mul(r)).toNumber()),_k);return c(0,t)},Y9=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var o=q9(new Lt(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new Lt(0):(c=new Lt(t).add(n).div(2),c=c.sub(new Lt(c).mod(o)));var u=Math.ceil(c.sub(t).div(o).toNumber()),f=Math.ceil(new Lt(n).sub(c).div(o).toNumber()),m=u+f+1;return m>r?Y9(t,n,r,i,a+1):(m<r&&(f=n>0?f+(r-m):f,u=n>0?u:u+(r-m)),{step:o,tickMin:c.sub(new Lt(u).mul(o)),tickMax:c.add(new Lt(f).mul(o))})},zye=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[c,u]=G9([n,r]);if(c===-1/0||u===1/0){var f=u===1/0?[c,..._k(0,i-1).map(()=>1/0)]:[..._k(0,i-1).map(()=>-1/0),u];return n>r?wk(f):f}if(c===u)return Bye(c,i,a);var{step:m,tickMin:p,tickMax:g}=Y9(c,u,o,a,0),v=H9(p,g.add(new Lt(.1).mul(m)),m);return n>r?wk(v):v},Uye=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=G9([r,i]);if(o===-1/0||c===1/0)return[r,i];if(o===c)return[o];var u=Math.max(n,2),f=q9(new Lt(c).sub(o).div(u-1),a,0),m=[...H9(new Lt(o),new Lt(c),f),c];return a===!1&&(m=m.map(p=>Math.round(p))),r>i?wk(m):m},Fye=e=>e.rootProps.barCategoryGap,rx=e=>e.rootProps.stackOffset,K9=e=>e.rootProps.reverseStackOrder,eT=e=>e.options.chartName,tT=e=>e.rootProps.syncId,W9=e=>e.rootProps.syncMethod,nT=e=>e.options.eventEmitter,Hye=e=>e.rootProps.baseValue,Ir={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},as={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ni={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ix=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Gye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:as.reversed,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:as.type,unit:void 0},qye={allowDataOverflow:Ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ni.scale,tick:Ni.tick,tickCount:Ni.tickCount,ticks:void 0,type:Ni.type,unit:void 0},Yye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:as.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Kye={allowDataOverflow:Ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ni.scale,tick:Ni.tick,tickCount:Ni.tickCount,ticks:void 0,type:"category",unit:void 0},rT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Yye:Gye,iT=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Kye:qye,ax=e=>e.polarOptions,aT=we([Es,ks,xr],zpe),V9=we([ax,aT],(e,t)=>{if(e!=null)return Nl(e.innerRadius,t,0)}),Z9=we([ax,aT],(e,t)=>{if(e!=null)return Nl(e.outerRadius,t,t*.8)}),Wye=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},X9=we([ax],Wye);we([rT,X9],ix);var J9=we([aT,V9,Z9],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});we([iT,J9],ix);var Q9=we([Vt,ax,V9,Z9,Es,ks],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:c,startAngle:u,endAngle:f}=t;return{cx:Nl(o,i,i/2),cy:Nl(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Kn=(e,t)=>t,ox=(e,t,n)=>n;function oT(e){return e?.id}function ez(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(c=>{var u,f=(u=c.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var m=oT(c);f.forEach((p,g)=>{var v=a==null||i?g:String(Tr(p,a,null)),w=Tr(p,c.dataKey,0),_;o.has(v)?_=o.get(v):_={},Object.assign(_,{[m]:w}),o.set(v,_)})}}),Array.from(o.values())}function sT(e){return e.stackId!=null&&e.dataKey!=null}var sx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function lx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Vye(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Wn=e=>{var t=Vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},pf=e=>e.tooltip.settings.axisId;function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(r){Zye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zye(e,t,n){return(t=Xye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xye(e){var t=Jye(e,"string");return typeof t=="symbol"?t:t+""}function Jye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sk=[0,"auto"],tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},tz=(e,t)=>e.cartesianAxis.xAxis[t],Ts=(e,t)=>{var n=tz(e,t);return n??tr},nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Sk,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:cp},nz=(e,t)=>e.cartesianAxis.yAxis[t],Os=(e,t)=>{var n=nz(e,t);return n??nr},Qye={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},lT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Qye},Ur=(e,t,n)=>{switch(t){case"xAxis":return Ts(e,n);case"yAxis":return Os(e,n);case"zAxis":return lT(e,n);case"angleAxis":return rT(e,n);case"radiusAxis":return iT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ebe=(e,t,n)=>{switch(t){case"xAxis":return Ts(e,n);case"yAxis":return Os(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gp=(e,t,n)=>{switch(t){case"xAxis":return Ts(e,n);case"yAxis":return Os(e,n);case"angleAxis":return rT(e,n);case"radiusAxis":return iT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},rz=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function iz(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var az=e=>e.graphicalItems.cartesianItems,tbe=we([Kn,ox],iz),oz=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),yp=we([az,Ur,tbe],oz,{memoizeOptions:{resultEqualityCheck:lx}}),sz=we([yp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(sT)),lz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),nbe=we([yp],lz),cz=e=>e.map(t=>t.data).filter(Boolean).flat(1),rbe=we([yp],cz,{memoizeOptions:{resultEqualityCheck:lx}}),uz=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},cT=we([rbe,X2],uz),dz=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Tr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Tr(i,r)}))):e.map(r=>({value:r})),cx=we([cT,Ur,yp],dz);function fz(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function by(e){if(Eo(e)||e instanceof Date){var t=Number(e);if(xn(t))return t}}function tI(e){if(Array.isArray(e)){var t=[by(e[0]),by(e[1])];return Cl(t)?t:void 0}var n=by(e);if(n!=null)return[n,n]}function _s(e){return e.map(by).filter(Ede)}function ibe(e,t,n){return!n||typeof t!="number"||Ha(t)?[]:n.length?_s(n.flatMap(r=>{var i=Tr(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!xn(a)||!xn(o)))return[t-a,t+o]})):[]}var Vn=e=>{var t=Wn(e),n=pf(e);return gp(e,t,n)},bp=we([Vn],e=>e?.dataKey),abe=we([sz,X2,Vn],ez),hz=(e,t,n,r)=>{var i={},a=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[c,u]=o,f=r?[...u].reverse():u,m=f.map(oT);return[c,{stackedData:jhe(e,m,n),graphicalItems:f}]}))},Ek=we([abe,sz,rx,K9],hz),mz=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=Phe(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},obe=we([Ur],e=>e.allowDataOverflow),uT=e=>{var t;if(e==null||!("domain"in e))return Sk;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=_s(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Sk},pz=we([Ur],uT),gz=we([pz,obe],P9),sbe=we([Ek,Rl,Kn,gz],mz,{memoizeOptions:{resultEqualityCheck:sx}}),dT=e=>e.errorBars,lbe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>fz(n,r)),Lb=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),c=Math.max(...a);return[o,c]}},yz=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(c=>{n.forEach(u=>{var f,m,p=(f=r[u.id])===null||f===void 0?void 0:f.filter(T=>fz(i,T)),g=Tr(c,(m=t.dataKey)!==null&&m!==void 0?m:u.dataKey),v=ibe(c,g,p);if(v.length>=2){var w=Math.min(...v),_=Math.max(...v);(a==null||w<a)&&(a=w),(o==null||_>o)&&(o=_)}var E=tI(g);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),o=o==null?E[1]:Math.max(o,E[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var u=tI(Tr(c,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),xn(a)&&xn(o))return[a,o]},cbe=we([cT,Ur,nbe,dT,Kn],yz,{memoizeOptions:{resultEqualityCheck:sx}});function ube(e){var{value:t}=e;if(Eo(t)||t instanceof Date)return t}var dbe=(e,t,n)=>{var r=e.map(ube).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&L7(r))?J6(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},bz=e=>e.referenceElements.dots,gf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),fbe=we([bz,Kn,ox],gf),vz=e=>e.referenceElements.areas,hbe=we([vz,Kn,ox],gf),xz=e=>e.referenceElements.lines,mbe=we([xz,Kn,ox],gf),_z=(e,t)=>{var n=_s(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},pbe=we(fbe,Kn,_z),wz=(e,t)=>{var n=_s(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gbe=we([hbe,Kn],wz);function ybe(e){var t;if(e.x!=null)return _s([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:_s(n)}function bbe(e){var t;if(e.y!=null)return _s([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:_s(n)}var Sz=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?ybe(r):bbe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vbe=we([mbe,Kn],Sz),xbe=we(pbe,vbe,gbe,(e,t,n)=>Lb(e,n,t)),Ez=(e,t,n,r,i,a,o,c)=>{if(n!=null)return n;var u=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",f=u?Lb(r,a,i):Lb(a,i);return Cye(t,f,e.allowDataOverflow)},_be=we([Ur,pz,gz,sbe,cbe,xbe,Vt,Kn],Ez,{memoizeOptions:{resultEqualityCheck:sx}}),wbe=[0,1],kz=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:u}=e,f=Ss(t,a);if(f&&c==null){var m;return J6(0,(m=n?.length)!==null&&m!==void 0?m:0)}return u==="category"?dbe(r,e,f):i==="expand"?wbe:o}},fT=we([Ur,Vt,cT,cx,rx,Kn,_be],kz),Az=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(m2(a));return c in Qh?c:"point"}}},vp=we([Ur,Vt,rz,eT,Kn],Az);function Sbe(e){if(e!=null){if(e in Qh)return Qh[e]();var t="scale".concat(m2(e));if(t in Qh)return Qh[t]()}}function hT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Sbe(t);if(i!=null){var a=i.domain(n).range(r);return khe(a),a}}}var Tz=(e,t,n)=>{var r=uT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Cl(e))return zye(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Cl(e))return Uye(e,t.tickCount,t.allowDecimals)}},mT=we([fT,gp,vp],Tz),Oz=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Cl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(o,c)]}return t},Ebe=we([Ur,fT,mT,Kn],Oz),kbe=we(cx,Ur,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(_s(e.map(c=>c.value))).sort((c,u)=>c-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),jz=we(kbe,Vt,Fye,xr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!xn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Nl(n,e*a),c=e*a/2;return c-o-(c-o)/a*o}return 0}),Abe=(e,t)=>{var n=Ts(e,t);return n==null||typeof n.padding!="string"?0:jz(e,"xAxis",t,n.padding)},Tbe=(e,t)=>{var n=Os(e,t);return n==null||typeof n.padding!="string"?0:jz(e,"yAxis",t,n.padding)},Obe=we(Ts,Abe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),jbe=we(Os,Tbe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Nbe=we([xr,Obe,qv,Gv,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Cbe=we([xr,Vt,jbe,qv,Gv,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),xp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Nbe(e,n,r);case"yAxis":return Cbe(e,n,r);case"zAxis":return(i=lT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return X9(e);case"radiusAxis":return J9(e,n);default:return}},Nz=we([Ur,xp],ix),yf=we([Ur,vp,Ebe,Nz],hT);we([yp,dT,Kn],lbe);function Cz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ux=(e,t)=>t,dx=(e,t,n)=>n,Mbe=we(Fv,ux,dx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Cz)),Pbe=we(Hv,ux,dx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Cz)),Mz=(e,t)=>({width:e.width,height:t.height}),Dbe=(e,t)=>{var n=typeof t.width=="number"?t.width:cp;return{width:n,height:e.height}},Rbe=we(xr,Ts,Mz),Lbe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Ibe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},$be=we(ks,xr,Mbe,ux,dx,(e,t,n,r,i)=>{var a={},o;return n.forEach(c=>{var u=Mz(t,c);o==null&&(o=Lbe(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),a}),Bbe=we(Es,xr,Pbe,ux,dx,(e,t,n,r,i)=>{var a={},o;return n.forEach(c=>{var u=Dbe(t,c);o==null&&(o=Ibe(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),a}),zbe=(e,t)=>{var n=Ts(e,t);if(n!=null)return $be(e,n.orientation,n.mirror)},Ube=we([xr,Ts,zbe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Fbe=(e,t)=>{var n=Os(e,t);if(n!=null)return Bbe(e,n.orientation,n.mirror)},Hbe=we([xr,Os,Fbe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Gbe=we(xr,Os,(e,t)=>{var n=typeof t.width=="number"?t.width:cp;return{width:n,height:e.height}}),Pz=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,c=Ss(e,r),u=t.map(f=>f.value);if(o&&c&&a==="category"&&i&&L7(u))return u}},pT=we([Vt,cx,Ur,Kn],Pz),Dz=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Ss(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},gT=we([Vt,cx,gp,Kn],Dz),nI=we([Vt,ebe,vp,yf,pT,gT,xp,mT,Kn],(e,t,n,r,i,a,o,c,u)=>{if(t!=null){var f=Ss(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:o,realScaleType:n,scale:r}}}),qbe=(e,t,n,r,i,a,o,c,u)=>{if(!(t==null||r==null)){var f=Ss(e,u),{type:m,ticks:p,tickCount:g}=t,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/v:0;w=u==="angleAxis"&&a!=null&&a.length>=2?la(a[0]-a[1])*2*w:w;var _=p||i;if(_){var E=_.map((T,N)=>{var O=o?o.indexOf(T):T;return{index:N,coordinate:r(O)+w,value:T,offset:w}});return E.filter(T=>xn(T.coordinate))}return f&&c?c.map((T,N)=>({coordinate:r(T)+w,value:T,index:N,offset:w})).filter(T=>xn(T.coordinate)):r.ticks?r.ticks(g).map(T=>({coordinate:r(T)+w,value:T,offset:w})):r.domain().map((T,N)=>({coordinate:r(T)+w,value:o?o[T]:T,index:N,offset:w}))}},Rz=we([Vt,gp,vp,yf,mT,xp,pT,gT,Kn],qbe),Ybe=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=Ss(e,o),{tickCount:u}=t,f=0;return f=o==="angleAxis"&&r?.length>=2?la(r[0]-r[1])*2*f:f,c&&a?a.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(u).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},Lz=we([Vt,gp,yf,xp,pT,gT,Kn],Ybe),Iz=we(Ur,yf,(e,t)=>{if(!(e==null||t==null))return Rb(Rb({},e),{},{scale:t})}),Kbe=we([Ur,vp,fT,Nz],hT);we((e,t,n)=>lT(e,n),Kbe,(e,t)=>{if(!(e==null||t==null))return Rb(Rb({},e),{},{scale:t})});var Wbe=we([Vt,Fv,Hv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$z=e=>e.options.defaultTooltipEventType,Bz=e=>e.options.validateTooltipEventTypes;function zz(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function yT(e,t){var n=$z(e),r=Bz(e);return zz(t,n,r)}function Vbe(e){return Je(t=>yT(t,e))}var Uz=(e,t)=>{var n,r=Number(t);if(!(Ha(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Zbe=e=>e.tooltip.settings,wl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Xbe={itemInteraction:{click:wl,hover:wl},axisInteraction:{click:wl,hover:wl},keyboardInteraction:wl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Fz=fi({name:"tooltip",initialState:Xbe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:an()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ba(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:an()},removeTooltipEntrySettings:{reducer(e,t){var n=Ba(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:an()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Jbe,replaceTooltipEntrySettings:Qbe,removeTooltipEntrySettings:eve,setTooltipSettingsState:tve,setActiveMouseOverItemIndex:nve,mouseLeaveItem:SOe,mouseLeaveChart:Hz,setActiveClickItemIndex:EOe,setMouseOverAxisIndex:Gz,setMouseClickAxisIndex:rve,setSyncInteraction:kk,setKeyboardInteraction:Ak}=Fz.actions,ive=Fz.reducer;function rI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(n),!0).forEach(function(r){ave(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ave(e,t,n){return(t=ove(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ove(e){var t=sve(e,"string");return typeof t=="symbol"?t:t+""}function sve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lve(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function cve(e){return e.index!=null}var qz=(e,t,n,r)=>{if(t==null)return wl;var i=lve(e,t,n);if(i==null)return wl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(cve(i)){if(a)return W0(W0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return W0(W0({},wl),{},{coordinate:i.coordinate})};function uve(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function dve(e,t){var n=uve(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function fve(e,t,n){if(n==null||t==null)return!0;var r=Tr(e,t);return r==null||!Cl(n)?!0:dve(r,n)}var bT=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!xn(a))return i;var o=0,c=1/0;t.length>0&&(c=t.length-1);var u=Math.max(o,Math.min(a,c)),f=t[u];return f==null||fve(f,n,r)?String(u):null},Yz=(e,t,n,r,i,a,o,c)=>{if(!(a==null||c==null)){var u=o[0],f=u==null?void 0:c(u.positions,a);if(f!=null)return f;var m=i?.[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:m.coordinate}}}},Kz=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},_p=e=>e.options.tooltipPayloadSearcher,bf=e=>e.tooltip;function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(r){hve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hve(e,t,n){return(t=mve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mve(e){var t=pve(e,"string");return typeof t=="symbol"?t:t+""}function pve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gve(e,t){return e??t}var Wz=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:c,computedData:u,dataStartIndex:f,dataEndIndex:m}=n,p=[];return e.reduce((g,v)=>{var w,{dataDefinedOnItem:_,settings:E}=v,T=gve(_,c),N=Array.isArray(T)?E6(T,f,m):T,O=(w=E?.dataKey)!==null&&w!==void 0?w:r,P=E?.nameKey,M;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&o==="axis"?M=I7(N,r,i):M=a(N,t,u,P),Array.isArray(M))M.forEach($=>{var H=aI(aI({},E),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});g.push(OR({tooltipEntrySettings:H,dataKey:$.dataKey,payload:$.payload,value:Tr($.payload,$.dataKey),name:$.name}))});else{var D;g.push(OR({tooltipEntrySettings:E,dataKey:O,payload:M,value:Tr(M,O),name:(D=Tr(M,P))!==null&&D!==void 0?D:E?.name}))}return g},p)}},vT=we([Vn,Vt,rz,eT,Wn],Az),yve=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),bve=we([Wn,pf],iz),wp=we([yve,Vn,bve],oz,{memoizeOptions:{resultEqualityCheck:lx}}),vve=we([wp],e=>e.filter(sT)),xve=we([wp],cz,{memoizeOptions:{resultEqualityCheck:lx}}),vf=we([xve,Rl],uz),_ve=we([vve,Rl,Vn],ez),xT=we([vf,Vn,wp],dz),Vz=we([Vn],uT),wve=we([Vn],e=>e.allowDataOverflow),Zz=we([Vz,wve],P9),Sve=we([wp],e=>e.filter(sT)),Eve=we([_ve,Sve,rx,K9],hz),kve=we([Eve,Rl,Wn,Zz],mz),Ave=we([wp],lz),Tve=we([vf,Vn,Ave,dT,Wn],yz,{memoizeOptions:{resultEqualityCheck:sx}}),Ove=we([bz,Wn,pf],gf),jve=we([Ove,Wn],_z),Nve=we([vz,Wn,pf],gf),Cve=we([Nve,Wn],wz),Mve=we([xz,Wn,pf],gf),Pve=we([Mve,Wn],Sz),Dve=we([jve,Pve,Cve],Lb),Rve=we([Vn,Vz,Zz,kve,Tve,Dve,Vt,Wn],Ez),Sp=we([Vn,Vt,vf,xT,rx,Wn,Rve],kz),Lve=we([Sp,Vn,vT],Tz),Ive=we([Vn,Sp,Lve,Wn],Oz),Xz=e=>{var t=Wn(e),n=pf(e),r=!1;return xp(e,t,n,r)},Jz=we([Vn,Xz],ix),Qz=we([Vn,vT,Ive,Jz],hT),$ve=we([Vt,xT,Vn,Wn],Pz),Bve=we([Vt,xT,Vn,Wn],Dz),zve=(e,t,n,r,i,a,o,c)=>{if(t){var{type:u}=t,f=Ss(e,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?la(i[0]-i[1])*2*p:p,f&&o?o.map((g,v)=>({coordinate:r(g)+p,value:g,index:v,offset:p})):r.domain().map((g,v)=>({coordinate:r(g)+p,value:a?a[g]:g,index:v,offset:p}))}}},js=we([Vt,Vn,vT,Qz,Xz,$ve,Bve,Wn],zve),_T=we([$z,Bz,Zbe],(e,t,n)=>zz(n.shared,e,t)),e8=e=>e.tooltip.settings.trigger,wT=e=>e.tooltip.settings.defaultIndex,Ep=we([bf,_T,e8,wT],qz),Bm=we([Ep,vf,bp,Sp],bT),t8=we([js,Bm],Uz),Uve=we([Ep],e=>{if(e)return e.dataKey});we([Ep],e=>{if(e)return e.graphicalItemId});var n8=we([bf,_T,e8,wT],Kz),Fve=we([Es,ks,Vt,xr,js,wT,n8,_p],Yz),Hve=we([Ep,Fve],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Gve=we([Ep],e=>e.active),qve=we([n8,Bm,Rl,bp,t8,_p,_T],Wz),Yve=we([qve],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(n),!0).forEach(function(r){Kve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kve(e,t,n){return(t=Wve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wve(e){var t=Vve(e,"string");return typeof t=="symbol"?t:t+""}function Vve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zve=()=>Je(Vn),Xve=()=>{var e=Zve(),t=Je(js),n=Je(Qz);return pb(!e||!n?void 0:sI(sI({},e),{},{scale:n}),t)};function lI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(n),!0).forEach(function(r){Jve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jve(e,t,n){return(t=Qve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qve(e){var t=exe(e,"string");return typeof t=="symbol"?t:t+""}function exe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var txe=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},nxe=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return od(od(od({},r),yr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var c=i.coordinate,{angle:u}=r;return od(od(od({},r),yr(r.cx,r.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function rxe(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var r8=(e,t,n,r,i)=>{var a,o=-1,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f=u>0?n[u-1].coordinate:n[c-1].coordinate,m=n[u].coordinate,p=u>=c-1?n[0].coordinate:n[u+1].coordinate,g=void 0;if(la(m-f)!==la(p-m)){var v=[];if(la(p-m)===la(i[1]-i[0])){g=p;var w=m+i[1]-i[0];v[0]=Math.min(w,(w+f)/2),v[1]=Math.max(w,(w+f)/2)}else{g=f;var _=p+i[1]-i[0];v[0]=Math.min(m,(_+m)/2),v[1]=Math.max(m,(_+m)/2)}var E=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(e>E[0]&&e<=E[1]||e>=v[0]&&e<=v[1]){({index:o}=n[u]);break}}else{var T=Math.min(f,p),N=Math.max(f,p);if(e>(T+m)/2&&e<=(N+m)/2){({index:o}=n[u]);break}}}else if(t){for(var O=0;O<c;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:o}=t[O]);break}}return o},i8=()=>Je(eT),ST=(e,t)=>t,a8=(e,t,n)=>n,ET=(e,t,n,r)=>r,ixe=we(js,e=>Pv(e,t=>t.coordinate)),kT=we([bf,ST,a8,ET],qz),AT=we([kT,vf,bp,Sp],bT),axe=(e,t,n)=>{if(t!=null){var r=bf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},o8=we([bf,ST,a8,ET],Kz),Ib=we([Es,ks,Vt,xr,js,ET,o8,_p],Yz),oxe=we([kT,Ib],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),s8=we([js,AT],Uz),sxe=we([o8,AT,Rl,bp,s8,_p,ST],Wz),lxe=we([kT,AT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),cxe=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&rxe(e,o)){var c=Dhe(e,t),u=r8(c,a,i,n,r),f=txe(t,i,u,e);return{activeIndex:String(u),activeCoordinate:f}}},uxe=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var c=qpe(e,n);if(c){var u=Rhe(c,t),f=r8(u,o,a,r,i),m=nxe(t,a,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},dxe=(e,t,n,r,i,a,o,c)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?cxe(e,t,r,i,a,o,c):uxe(e,t,n,r,i,a,o)},fxe=we(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),hxe=we(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Ir)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Vye}});function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(n),!0).forEach(function(r){mxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mxe(e,t,n){return(t=pxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pxe(e){var t=gxe(e,"string");return typeof t=="symbol"?t:t+""}function gxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yxe={},bxe={zIndexMap:Object.values(Ir).reduce((e,t)=>uI(uI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),yxe)},vxe=new Set(Object.values(Ir));function xxe(e){return vxe.has(e)}var l8=fi({name:"zIndex",initialState:bxe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:an()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!xxe(n)&&delete e.zIndexMap[n])},prepare:an()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:an()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:an()}}}),{registerZIndexPortal:_xe,unregisterZIndexPortal:wxe,registerZIndexPortalId:Sxe,unregisterZIndexPortalId:Exe}=l8.actions,kxe=l8.reducer;function Ns(e){var{zIndex:t,children:n}=e,r=pme(),i=r&&t!==void 0&&t!==0,a=hi(),o=sr();S.useLayoutEffect(()=>i?(o(_xe({zIndex:t})),()=>{o(wxe({zIndex:t}))}):ap,[o,t,i]);var c=Je(f=>fxe(f,t,a));if(!i)return n;if(!c)return null;var u=document.getElementById(c);return u?ef.createPortal(n,u):null}function Tk(){return Tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tk.apply(null,arguments)}function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(r){Axe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Axe(e,t,n){return(t=Txe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Txe(e){var t=Oxe(e,"string");return typeof t=="symbol"?t:t+""}function Oxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jxe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return S.isValidElement(t)?S.cloneElement(t,r):S.createElement(n,r)}function Nxe(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:f,chartName:m}=e,p=n,g=r,v=i;if(!u||!p||m!=="ScatterChart"&&f!=="axis")return null;var w,_,E;if(m==="ScatterChart")w=p,_=rpe,E=Ir.cursorLine;else if(m==="BarChart")w=ipe(c,p,a,o),_=Rpe,E=Ir.cursorRectangle;else if(c==="radial"&&$7(p)){var{cx:T,cy:N,radius:O,startAngle:P,endAngle:M}=Z6(p);w={cx:T,cy:N,startAngle:P,endAngle:M,innerRadius:O,outerRadius:O},_=Vpe,E=Ir.cursorLine}else w={points:Zpe(c,p,a)},_=yy,E=Ir.cursorLine;var D=typeof u=="object"&&"className"in u?u.className:void 0,$=V0(V0(V0(V0({stroke:"#ccc",pointerEvents:"none"},a),w),jv(u)),{},{payload:g,payloadIndex:v,className:Qt("recharts-tooltip-cursor",D)});return S.createElement(Ns,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},S.createElement(jxe,{cursor:u,cursorComp:_,cursorProps:$}))}function Cxe(e){var t=Xve(),n=D6(),r=up(),i=i8();return t==null||n==null||r==null||i==null?null:S.createElement(Nxe,Tk({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var c8=S.createContext(null),Mxe=()=>S.useContext(c8),ES={exports:{}},fI;function Pxe(){return fI||(fI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,m){this.fn=u,this.context=f,this.once=m||!1}function a(u,f,m,p,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new i(m,p||u,g),w=n?n+f:f;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],v]:u._events[w].push(v):(u._events[w]=v,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,w=new Array(v);g<v;g++)w[g]=p[g].fn;return w},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,g,v,w){var _=n?n+f:f;if(!this._events[_])return!1;var E=this._events[_],T=arguments.length,N,O;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),T){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,p),!0;case 4:return E.fn.call(E.context,m,p,g),!0;case 5:return E.fn.call(E.context,m,p,g,v),!0;case 6:return E.fn.call(E.context,m,p,g,v,w),!0}for(O=1,N=new Array(T-1);O<T;O++)N[O-1]=arguments[O];E.fn.apply(E.context,N)}else{var P=E.length,M;for(O=0;O<P;O++)switch(E[O].once&&this.removeListener(f,E[O].fn,void 0,!0),T){case 1:E[O].fn.call(E[O].context);break;case 2:E[O].fn.call(E[O].context,m);break;case 3:E[O].fn.call(E[O].context,m,p);break;case 4:E[O].fn.call(E[O].context,m,p,g);break;default:if(!N)for(M=1,N=new Array(T-1);M<T;M++)N[M-1]=arguments[M];E[O].fn.apply(E[O].context,N)}}return!0},c.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,g){var v=n?n+f:f;if(!this._events[v])return this;if(!m)return o(this,v),this;var w=this._events[v];if(w.fn)w.fn===m&&(!g||w.once)&&(!p||w.context===p)&&o(this,v);else{for(var _=0,E=[],T=w.length;_<T;_++)(w[_].fn!==m||g&&!w[_].once||p&&w[_].context!==p)&&E.push(w[_]);E.length?this._events[v]=E.length===1?E[0]:E:o(this,v)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(ES)),ES.exports}var Dxe=Pxe();const Rxe=di(Dxe);var zm=new Rxe,Ok="recharts.syncEvent.tooltip",hI="recharts.syncEvent.brush";function Lxe(e,t){if(t){var n=Number.parseInt(t,10);if(!Ha(n))return e?.[n]}}var Ixe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},u8=fi({name:"options",initialState:Ixe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$xe=u8.reducer,{createEventEmitter:Bxe}=u8.actions;function zxe(e){return e.tooltip.syncInteraction}var Uxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},d8=fi({name:"chartData",initialState:Uxe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:mI,setDataStartEndIndexes:Fxe,setComputedData:kOe}=d8.actions,Hxe=d8.reducer,Gxe=["x","y"];function pI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(n),!0).forEach(function(r){qxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qxe(e,t,n){return(t=Yxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yxe(e){var t=Kxe(e,"string");return typeof t=="symbol"?t:t+""}function Kxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wxe(e,t){if(e==null)return{};var n,r,i=Vxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Zxe(){var e=Je(tT),t=Je(nT),n=sr(),r=Je(W9),i=Je(js),a=up(),o=Yv(),c=Je(u=>u.rootProps.className);S.useEffect(()=>{if(e==null)return ap;var u=(f,m,p)=>{if(t!==p&&e===f){if(r==="index"){var g;if(o&&m!==null&&m!==void 0&&(g=m.payload)!==null&&g!==void 0&&g.coordinate&&m.payload.sourceViewBox){var v=m.payload.coordinate,{x:w,y:_}=v,E=Wxe(v,Gxe),{x:T,y:N,width:O,height:P}=m.payload.sourceViewBox,M=sd(sd({},E),{},{x:o.x+(O?(w-T)/O:0)*o.width,y:o.y+(P?(_-N)/P:0)*o.height});n(sd(sd({},m),{},{payload:sd(sd({},m.payload),{},{coordinate:M})}))}else n(m);return}if(i!=null){var D;if(typeof r=="function"){var $={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},H=r(i,$);D=i[H]}else r==="value"&&(D=i.find(Y=>String(Y.value)===m.payload.label));var{coordinate:q}=m.payload;if(D==null||m.payload.active===!1||q==null||o==null){n(kk({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:F}=q,z=Math.min(K,o.x+o.width),Z=Math.min(F,o.y+o.height),Q={x:a==="horizontal"?D.coordinate:z,y:a==="horizontal"?Z:D.coordinate},J=kk({active:m.payload.active,coordinate:Q,dataKey:m.payload.dataKey,index:String(D.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(J)}}};return zm.on(Ok,u),()=>{zm.off(Ok,u)}},[c,n,t,e,r,i,a,o])}function Xxe(){var e=Je(tT),t=Je(nT),n=sr();S.useEffect(()=>{if(e==null)return ap;var r=(i,a,o)=>{t!==o&&e===i&&n(Fxe(a))};return zm.on(hI,r),()=>{zm.off(hI,r)}},[n,t,e])}function Jxe(){var e=sr();S.useEffect(()=>{e(Bxe())},[e]),Zxe(),Xxe()}function Qxe(e,t,n,r,i,a){var o=Je(v=>axe(v,e,t)),c=Je(nT),u=Je(tT),f=Je(W9),m=Je(zxe),p=m?.active,g=Yv();S.useEffect(()=>{if(!p&&u!=null&&c!=null){var v=kk({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});zm.emit(Ok,u,v,c)}},[p,n,o,i,r,c,u,f,a,g])}function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(r){e_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e_e(e,t,n){return(t=t_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t_e(e){var t=n_e(e,"string");return typeof t=="symbol"?t:t+""}function n_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r_e(e){return e.dataKey}function i_e(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(Lme,t)}var bI=[],a_e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function o_e(e){var t,n,r=Hi(e,a_e),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:c,content:u,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:g,position:v,reverseDirection:w,useTranslate3d:_,wrapperStyle:E,cursor:T,shared:N,trigger:O,defaultIndex:P,portal:M,axisId:D}=r,$=sr(),H=typeof P=="number"?String(P):P;S.useEffect(()=>{$(tve({shared:N,trigger:O,axisId:D,active:i,defaultIndex:H}))},[$,N,O,D,i,H]);var q=Yv(),K=G6(),F=Vbe(N),{activeIndex:z,isActive:Z}=(t=Je(pe=>lxe(pe,F,O,H)))!==null&&t!==void 0?t:{},Q=Je(pe=>sxe(pe,F,O,H)),J=Je(pe=>s8(pe,F,O,H)),Y=Je(pe=>oxe(pe,F,O,H)),X=Q,re=Mxe(),ue=(n=i??Z)!==null&&n!==void 0?n:!1,[se,B]=Efe([X,ue]),W=F==="axis"?J:void 0;Qxe(F,O,Y,W,z,ue);var ae=M??re;if(ae==null||q==null||F==null)return null;var V=X??bI;ue||(V=bI),f&&V.length&&(V=Zde(V.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),g,r_e));var oe=V.length>0,me=S.createElement(Hme,{allowEscapeViewBox:a,animationDuration:o,animationEasing:c,isAnimationActive:m,active:ue,coordinate:Y,hasPayload:oe,offset:p,position:v,reverseDirection:w,useTranslate3d:_,viewBox:q,wrapperStyle:E,lastBoundingBox:se,innerRef:B,hasPortalFromProps:!!M},i_e(u,yI(yI({},r),{},{payload:V,label:W,active:ue,activeIndex:z,coordinate:Y,accessibilityLayer:K})));return S.createElement(S.Fragment,null,ef.createPortal(me,ae),ue&&S.createElement(Cxe,{cursor:T,tooltipEventType:F,coordinate:Y,payload:V,index:z}))}function s_e(e,t,n){return(t=l_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l_e(e){var t=c_e(e,"string");return typeof t=="symbol"?t:t+""}function c_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class u_e{constructor(t){s_e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){f_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f_e(e,t,n){return(t=h_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h_e(e){var t=m_e(e,"string");return typeof t=="symbol"?t:t+""}function m_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p_e={cacheSize:2e3,enableCache:!0},f8=d_e({},p_e),xI=new u_e(f8.cacheSize),g_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_I="recharts_measurement_span";function y_e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(c)}var wI=(e,t)=>{try{var n=document.getElementById(_I);n||(n=document.createElement("span"),n.setAttribute("id",_I),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,g_e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},um=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||df.isSsr)return{width:0,height:0};if(!f8.enableCache)return wI(t,n);var r=y_e(t,n),i=xI.get(r);if(i)return i;var a=wI(t,n);return xI.set(r,a),a},SI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,b_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,v_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,h8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},x_e=Object.keys(h8),_d="NaN";function __e(e,t){return e*h8[t]}class ni{static parse(t){var n,[,r,i]=(n=v_e.exec(t))!==null&&n!==void 0?n:[];return new ni(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ha(t)&&(this.unit=""),n!==""&&!b_e.test(n)&&(this.num=NaN,this.unit=""),x_e.includes(n)&&(this.num=__e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ni(NaN,""):new ni(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ni(NaN,""):new ni(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ni(NaN,""):new ni(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ni(NaN,""):new ni(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ha(this.num)}}function m8(e){if(e.includes(_d))return _d;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=SI.exec(t))!==null&&n!==void 0?n:[],o=ni.parse(r??""),c=ni.parse(a??""),u=i==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return _d;t=t.replace(SI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,p,g]=(f=EI.exec(t))!==null&&f!==void 0?f:[],v=ni.parse(m??""),w=ni.parse(g??""),_=p==="+"?v.add(w):v.subtract(w);if(_.isNaN())return _d;t=t.replace(EI,_.toString())}return t}var kI=/\(([^()]*)\)/;function w_e(e){for(var t=e,n;(n=kI.exec(t))!=null;){var[,r]=n;t=t.replace(kI,m8(r))}return t}function S_e(e){var t=e.replace(/\s+/g,"");return t=w_e(t),t=m8(t),t}function E_e(e){try{return S_e(e)}catch{return _d}}function kS(e){var t=E_e(e.slice(5,-1));return t===_d?"":t}var k_e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],A_e=["dx","dy","angle","className","breakAll"];function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jk.apply(null,arguments)}function AI(e,t){if(e==null)return{};var n,r,i=T_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function T_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var p8=/[ \f\n\r\t\v\u2028\u2029]+/,g8=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];br(t)||(n?i=t.toString().split(""):i=t.toString().split(p8));var a=i.map(c=>({word:c,width:um(c,r).width})),o=n?0:um("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function O_e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var y8=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:c}=a,u=i[i.length-1];if(u&&c!=null&&(t==null||r||u.width+c+n<Number(t)))u.words.push(o),u.width+=c+n;else{var f={words:[o],width:c};i.push(f)}return i},[]),b8=e=>e.reduce((t,n)=>t.width>n.width?t:n),j_e="",TI=(e,t,n,r,i,a,o,c)=>{var u=e.slice(0,t),f=g8({breakAll:n,style:r,children:u+j_e});if(!f)return[!1,[]];var m=y8(f.wordsWithComputedWidth,a,o,c),p=m.length>i||b8(m).width>Number(a);return[p,m]},N_e=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:c,breakAll:u}=e,f=We(a),m=String(o),p=y8(t,r,n,i);if(!f||i)return p;var g=p.length>a||b8(p).width>Number(r);if(!g)return p;for(var v=0,w=m.length-1,_=0,E;v<=w&&_<=m.length-1;){var T=Math.floor((v+w)/2),N=T-1,[O,P]=TI(m,N,u,c,a,r,n,i),[M]=TI(m,T,u,c,a,r,n,i);if(!O&&!M&&(v=T+1),O&&M&&(w=T-1),!O&&M){E=P;break}_++}return E||p},OI=e=>{var t=br(e)?[]:e.toString().split(p8);return[{words:t,width:void 0}]},C_e=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!df.isSsr){var c,u,f=g8({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,u=p}else return OI(r);return N_e({breakAll:a,children:r,maxLines:o,style:i},c,u,t,!!n)}return OI(r)},v8="#808080",M_e={angle:0,breakAll:!1,capHeight:"0.71em",fill:v8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},TT=S.forwardRef((e,t)=>{var n=Hi(e,M_e),{x:r,y:i,lineHeight:a,capHeight:o,fill:c,scaleToFit:u,textAnchor:f,verticalAnchor:m}=n,p=AI(n,k_e),g=S.useMemo(()=>C_e({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:w,angle:_,className:E,breakAll:T}=p,N=AI(p,A_e);if(!Eo(r)||!Eo(i)||g.length===0)return null;var O=Number(r)+(We(v)?v:0),P=Number(i)+(We(w)?w:0);if(!xn(O)||!xn(P))return null;var M;switch(m){case"start":M=kS("calc(".concat(o,")"));break;case"middle":M=kS("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:M=kS("calc(".concat(g.length-1," * -").concat(a,")"));break}var D=[];if(u){var $=g[0].width,{width:H}=p;D.push("scale(".concat(We(H)&&We($)?H/$:1,")"))}return _&&D.push("rotate(".concat(_,", ").concat(O,", ").concat(P,")")),D.length&&(N.transform=D.join(" ")),S.createElement("text",jk({},ha(N),{ref:t,x:O,y:P,className:Qt("recharts-text",E),textAnchor:f,fill:c.includes("url")?v8:c}),g.map((q,K)=>{var F=q.words.join(T?"":" ");return S.createElement("tspan",{x:O,dy:K===0?M:a,key:"".concat(F,"-").concat(K)},F)}))});TT.displayName="Text";var P_e=["labelRef"];function D_e(e,t){if(e==null)return{};var n,r,i=R_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function R_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(r){L_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L_e(e,t,n){return(t=I_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I_e(e){var t=$_e(e,"string");return typeof t=="symbol"?t:t+""}function $_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},os.apply(null,arguments)}var x8=S.createContext(null),B_e=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:c}=e,u=S.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return S.createElement(x8.Provider,{value:u},c)},_8=()=>{var e=S.useContext(x8),t=Yv();return e||P6(t)},z_e=S.createContext(null),U_e=()=>{var e=S.useContext(z_e),t=Je(Q9);return e||t},F_e=e=>{var{value:t,formatter:n}=e,r=br(e.children)?t:e.children;return typeof n=="function"?n(r):r},OT=e=>e!=null&&typeof e=="function",H_e=(e,t)=>{var n=la(t-e),r=Math.min(Math.abs(t-e),360);return n*r},G_e=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:c,cy:u,innerRadius:f,outerRadius:m,startAngle:p,endAngle:g,clockWise:v}=i,w=(f+m)/2,_=H_e(p,g),E=_>=0?1:-1,T,N;switch(t){case"insideStart":T=p+E*a,N=v;break;case"insideEnd":T=g-E*a,N=!v;break;case"end":T=g+E*a,N=v;break;default:throw new Error("Unsupported position ".concat(t))}N=_<=0?N:!N;var O=yr(c,u,w,T),P=yr(c,u,w,T+(N?1:-1)*359),M="M".concat(O.x,",").concat(O.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),D=br(e.id)?Am("recharts-radial-line-"):e.id;return S.createElement("text",os({},r,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",o)}),S.createElement("defs",null,S.createElement("path",{id:D,d:M})),S.createElement("textPath",{xlinkHref:"#".concat(D)},n))},q_e=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:u}=e,f=(c+u)/2;if(n==="outside"){var{x:m,y:p}=yr(r,i,o+t,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+o)/2,{x:v,y:w}=yr(r,i,g,f);return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Nk=e=>"cx"in e&&We(e.cx),Y_e=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Nk(n)&&(a=n);var{x:o,y:c,upperWidth:u,lowerWidth:f,height:m}=t,p=o,g=o+(u-f)/2,v=(p+g)/2,w=(u+f)/2,_=p+u/2,E=m>=0?1:-1,T=E*r,N=E>0?"end":"start",O=E>0?"start":"end",P=u>=0?1:-1,M=P*r,D=P>0?"end":"start",$=P>0?"start":"end";if(i==="top"){var H={x:p+u/2,y:c-T,textAnchor:"middle",verticalAnchor:N};return En(En({},H),a?{height:Math.max(c-a.y,0),width:u}:{})}if(i==="bottom"){var q={x:g+f/2,y:c+m+T,textAnchor:"middle",verticalAnchor:O};return En(En({},q),a?{height:Math.max(a.y+a.height-(c+m),0),width:f}:{})}if(i==="left"){var K={x:v-M,y:c+m/2,textAnchor:D,verticalAnchor:"middle"};return En(En({},K),a?{width:Math.max(K.x-a.x,0),height:m}:{})}if(i==="right"){var F={x:v+w+M,y:c+m/2,textAnchor:$,verticalAnchor:"middle"};return En(En({},F),a?{width:Math.max(a.x+a.width-F.x,0),height:m}:{})}var z=a?{width:w,height:m}:{};return i==="insideLeft"?En({x:v+M,y:c+m/2,textAnchor:$,verticalAnchor:"middle"},z):i==="insideRight"?En({x:v+w-M,y:c+m/2,textAnchor:D,verticalAnchor:"middle"},z):i==="insideTop"?En({x:p+u/2,y:c+T,textAnchor:"middle",verticalAnchor:O},z):i==="insideBottom"?En({x:g+f/2,y:c+m-T,textAnchor:"middle",verticalAnchor:N},z):i==="insideTopLeft"?En({x:p+M,y:c+T,textAnchor:$,verticalAnchor:O},z):i==="insideTopRight"?En({x:p+u-M,y:c+T,textAnchor:D,verticalAnchor:O},z):i==="insideBottomLeft"?En({x:g+M,y:c+m-T,textAnchor:$,verticalAnchor:N},z):i==="insideBottomRight"?En({x:g+f-M,y:c+m-T,textAnchor:D,verticalAnchor:N},z):i&&typeof i=="object"&&(We(i.x)||gs(i.x))&&(We(i.y)||gs(i.y))?En({x:o+Nl(i.x,w),y:c+Nl(i.y,m),textAnchor:"end",verticalAnchor:"end"},z):En({x:_,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},z)},K_e={angle:0,offset:5,zIndex:Ir.label,position:"middle",textBreakAll:!1};function yl(e){var t=Hi(e,K_e),{viewBox:n,position:r,value:i,children:a,content:o,className:c="",textBreakAll:u,labelRef:f}=t,m=U_e(),p=_8(),g=r==="center"?p:m??p,v,w,_;if(n==null?v=g:Nk(n)?v=n:v=P6(n),!v||br(i)&&br(a)&&!S.isValidElement(o)&&typeof o!="function")return null;var E=En(En({},t),{},{viewBox:v});if(S.isValidElement(o)){var{labelRef:T}=E,N=D_e(E,P_e);return S.cloneElement(o,N)}if(typeof o=="function"){if(w=S.createElement(o,E),S.isValidElement(w))return w}else w=F_e(t);var O=ha(t);if(Nk(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return G_e(t,r,w,O,v);_=q_e(v,t.offset,t.position)}else _=Y_e(t,v);return S.createElement(Ns,{zIndex:t.zIndex},S.createElement(TT,os({ref:f,className:Qt("recharts-label",c)},O,_,{textAnchor:O_e(O.textAnchor)?O.textAnchor:_.textAnchor,breakAll:u}),w))}yl.displayName="Label";var W_e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?S.createElement(yl,os({key:"label-implicit"},r)):Eo(e)?S.createElement(yl,os({key:"label-implicit",value:e},r)):S.isValidElement(e)?e.type===yl?S.cloneElement(e,En({key:"label-implicit"},r)):S.createElement(yl,os({key:"label-implicit",content:e},r)):OT(e)?S.createElement(yl,os({key:"label-implicit",content:e},r)):e&&typeof e=="object"?S.createElement(yl,os({},e,{key:"label-implicit"},r)):null};function V_e(e){var{label:t,labelRef:n}=e,r=_8();return W_e(t,r,n)||null}var AS={},TS={},NI;function Z_e(){return NI||(NI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(TS)),TS}var OS={},CI;function X_e(){return CI||(CI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(OS)),OS}var MI;function J_e(){return MI||(MI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z_e(),n=X_e(),r=g2();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(AS)),AS}var jS,PI;function Q_e(){return PI||(PI=1,jS=J_e().last),jS}var ewe=Q_e();const twe=di(ewe);var nwe=["valueAccessor"],rwe=["dataKey","clockWise","id","textBreakAll","zIndex"];function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$b.apply(null,arguments)}function DI(e,t){if(e==null)return{};var n,r,i=iwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var awe=e=>Array.isArray(e.value)?twe(e.value):e.value,w8=S.createContext(void 0),owe=w8.Provider,S8=S.createContext(void 0);S8.Provider;function swe(){return S.useContext(w8)}function lwe(){return S.useContext(S8)}function vy(e){var{valueAccessor:t=awe}=e,n=DI(e,nwe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:c}=n,u=DI(n,rwe),f=swe(),m=lwe(),p=f||m;return!p||!p.length?null:S.createElement(Ns,{zIndex:c??Ir.label},S.createElement(So,{className:"recharts-label-list"},p.map((g,v)=>{var w,_=br(r)?t(g,v):Tr(g&&g.payload,r),E=br(a)?{}:{id:"".concat(a,"-").concat(v)};return S.createElement(yl,$b({key:"label-".concat(v)},ha(g),u,E,{fill:(w=n.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:_,textBreakAll:o,viewBox:g.viewBox,index:v,zIndex:0}))})))}vy.displayName="LabelList";function cwe(e){var{label:t}=e;return t?t===!0?S.createElement(vy,{key:"labelList-implicit"}):S.isValidElement(t)||OT(t)?S.createElement(vy,{key:"labelList-implicit",content:t}):typeof t=="object"?S.createElement(vy,$b({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Ck(){return Ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ck.apply(null,arguments)}var E8=e=>{var{cx:t,cy:n,r,className:i}=e,a=Qt("recharts-dot",i);return We(t)&&We(n)&&We(r)?S.createElement("circle",Ck({},Fa(e),p2(e),{className:a,cx:t,cy:n,r})):null},uwe={radiusAxis:{},angleAxis:{}},k8=fi({name:"polarAxis",initialState:uwe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:AOe,removeRadiusAxis:TOe,addAngleAxis:OOe,removeAngleAxis:jOe}=k8.actions,dwe=k8.reducer,NS={exports:{}},Ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RI;function fwe(){if(RI)return Ct;RI=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,E=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,N=e?Symbol.for("react.scope"):60119;function O(M){if(typeof M=="object"&&M!==null){var D=M.$$typeof;switch(D){case t:switch(M=M.type,M){case u:case f:case r:case a:case i:case p:return M;default:switch(M=M&&M.$$typeof,M){case c:case m:case w:case v:case o:return M;default:return D}}case n:return D}}}function P(M){return O(M)===f}return Ct.AsyncMode=u,Ct.ConcurrentMode=f,Ct.ContextConsumer=c,Ct.ContextProvider=o,Ct.Element=t,Ct.ForwardRef=m,Ct.Fragment=r,Ct.Lazy=w,Ct.Memo=v,Ct.Portal=n,Ct.Profiler=a,Ct.StrictMode=i,Ct.Suspense=p,Ct.isAsyncMode=function(M){return P(M)||O(M)===u},Ct.isConcurrentMode=P,Ct.isContextConsumer=function(M){return O(M)===c},Ct.isContextProvider=function(M){return O(M)===o},Ct.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},Ct.isForwardRef=function(M){return O(M)===m},Ct.isFragment=function(M){return O(M)===r},Ct.isLazy=function(M){return O(M)===w},Ct.isMemo=function(M){return O(M)===v},Ct.isPortal=function(M){return O(M)===n},Ct.isProfiler=function(M){return O(M)===a},Ct.isStrictMode=function(M){return O(M)===i},Ct.isSuspense=function(M){return O(M)===p},Ct.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===f||M===a||M===i||M===p||M===g||typeof M=="object"&&M!==null&&(M.$$typeof===w||M.$$typeof===v||M.$$typeof===o||M.$$typeof===c||M.$$typeof===m||M.$$typeof===E||M.$$typeof===T||M.$$typeof===N||M.$$typeof===_)},Ct.typeOf=O,Ct}var LI;function hwe(){return LI||(LI=1,NS.exports=fwe()),NS.exports}hwe();var A8=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function mwe(e){var{tooltipEntrySettings:t}=e,n=sr(),r=hi(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(Jbe(t)):i.current!==t&&n(Qbe({prev:i.current,next:t})),i.current=t)},[t,n,r]),S.useLayoutEffect(()=>()=>{i.current&&(n(eve(i.current)),i.current=null)},[n]),null}function pwe(e){var{legendPayload:t}=e,n=sr(),r=hi(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(Ome(t)):i.current!==t&&n(jme({prev:i.current,next:t})),i.current=t)},[n,r,t]),S.useLayoutEffect(()=>()=>{i.current&&(n(Nme(i.current)),i.current=null)},[n]),null}var CS,gwe=()=>{var[e]=S.useState(()=>Am("uid-"));return e},ywe=(CS=JF.useId)!==null&&CS!==void 0?CS:gwe;function T8(e,t){var n=ywe();return t||(e?"".concat(e,"-").concat(n):n)}var bwe=S.createContext(void 0),vwe=e=>{var{id:t,type:n,children:r}=e,i=T8("recharts-".concat(n),t);return S.createElement(bwe.Provider,{value:i},r(i))},xwe={cartesianItems:[],polarItems:[]},O8=fi({name:"graphicalItems",initialState:xwe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:an()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ba(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:an()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ba(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:an()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:an()},removePolarGraphicalItem:{reducer(e,t){var n=Ba(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:an()}}}),{addCartesianGraphicalItem:_we,replaceCartesianGraphicalItem:wwe,removeCartesianGraphicalItem:Swe,addPolarGraphicalItem:NOe,removePolarGraphicalItem:COe}=O8.actions,Ewe=O8.reducer,kwe=e=>{var t=sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(_we(e)):n.current!==e&&t(wwe({prev:n.current,next:e})),n.current=e},[t,e]),S.useLayoutEffect(()=>()=>{n.current&&(t(Swe(n.current)),n.current=null)},[t]),null},Awe=S.memo(kwe),Twe=["points"];function II(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?II(Object(n),!0).forEach(function(r){Owe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Owe(e,t,n){return(t=jwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jwe(e){var t=Nwe(e,"string");return typeof t=="symbol"?t:t+""}function Nwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bb.apply(null,arguments)}function Cwe(e,t){if(e==null)return{};var n,r,i=Mwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Pwe(e){var{option:t,dotProps:n,className:r}=e;if(S.isValidElement(t))return S.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Qt(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,c=Cwe(a,Twe);return S.createElement(E8,Bb({},c,{className:i}))}function Dwe(e,t){return e==null?!1:t?!0:e.length===1}function Rwe(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:c,clipPathId:u,zIndex:f=Ir.scatter}=e;if(!Dwe(t,n))return null;var m=A8(n),p=Gue(n),g=t.map((w,_)=>{var E,T,N=MS(MS(MS({r:3},o),p),{},{index:_,cx:(E=w.x)!==null&&E!==void 0?E:void 0,cy:(T=w.y)!==null&&T!==void 0?T:void 0,dataKey:a,value:w.value,payload:w.payload,points:t});return S.createElement(Pwe,{key:"dot-".concat(_),option:n,dotProps:N,className:i})}),v={};return c&&u!=null&&(v.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(u,")")),S.createElement(Ns,{zIndex:f},S.createElement(So,Bb({className:r},v),g))}function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(n),!0).forEach(function(r){Lwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lwe(e,t,n){return(t=Iwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iwe(e){var t=$we(e,"string");return typeof t=="symbol"?t:t+""}function $we(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bwe={xAxis:{},yAxis:{},zAxis:{}},j8=fi({name:"cartesianAxis",initialState:Bwe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:an()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:an()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:an()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:an()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:an()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:an()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:an()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:an()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:an()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=BI(BI({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:zwe,replaceXAxis:Uwe,removeXAxis:Fwe,addYAxis:Hwe,replaceYAxis:Gwe,removeYAxis:qwe,addZAxis:MOe,replaceZAxis:POe,removeZAxis:DOe,updateYAxisWidth:Ywe}=j8.actions,Kwe=j8.reducer,Wwe=we([xr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Vwe=we([Wwe,Es,ks],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),jT=()=>Je(Vwe),Zwe=()=>Je(Yve);function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(n),!0).forEach(function(r){Xwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xwe(e,t,n){return(t=Jwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jwe(e){var t=Qwe(e,"string");return typeof t=="symbol"?t:t+""}function Qwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e1e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var c={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=PS(PS(PS({},c),jv(i)),p2(i)),f;return S.isValidElement(i)?f=S.cloneElement(i,u):typeof i=="function"?f=i(u):f=S.createElement(E8,u),S.createElement(So,{className:"recharts-active-dot",clipPath:o},f)};function UI(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Ir.activeDot}=e,c=Je(Bm),u=Zwe();if(t==null||u==null)return null;var f=t.find(m=>u.includes(m.payload));return br(f)?null:S.createElement(Ns,{zIndex:o},S.createElement(e1e,{point:f,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var t1e={},N8=fi({name:"errorBars",initialState:t1e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ROe,replaceErrorBar:LOe,removeErrorBar:IOe}=N8.actions,n1e=N8.reducer;function C8(e,t){var n,r,i=Je(f=>Ts(f,e)),a=Je(f=>Os(f,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:tr.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:nr.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function r1e(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=jT(),{needClipX:a,needClipY:o,needClip:c}=C8(t,n);if(!c||!i)return null;var{x:u,y:f,width:m,height:p}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:a?u:u-m/2,y:o?f:f-p/2,width:a?m:m*2,height:o?p:p*2}))}var i1e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function a1e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function NT(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(i1e.has(r)){if(e[r]==null&&t[r]==null)continue;if(!dy(e[r],t[r]))return!1}else if(!a1e(e[r],t[r]))return!1;return!0}var o1e=e=>{var{chartData:t}=e,n=sr(),r=hi();return S.useEffect(()=>r?()=>{}:(n(mI(t)),()=>{n(mI(void 0))}),[t,n,r]),null},FI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},M8=fi({name:"brush",initialState:FI,reducers:{setBrushSettings(e,t){return t.payload==null?FI:t.payload}}}),{setBrushSettings:$Oe}=M8.actions,s1e=M8.reducer;function l1e(e,t,n){return(t=c1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c1e(e){var t=u1e(e,"string");return typeof t=="symbol"?t:t+""}function u1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CT{static create(t){return new CT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}l1e(CT,"EPS",1e-4);function d1e(e){return(e%180+180)%180}var f1e=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=d1e(i),o=a*Math.PI/180,c=Math.atan(r/n),u=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},h1e={dots:[],areas:[],lines:[]},P8=fi({name:"referenceElements",initialState:h1e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ba(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ba(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ba(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:BOe,removeDot:zOe,addArea:UOe,removeArea:FOe,addLine:HOe,removeLine:GOe}=P8.actions,m1e=P8.reducer,p1e=S.createContext(void 0),g1e=e=>{var{children:t}=e,[n]=S.useState("".concat(Am("recharts"),"-clip")),r=jT();if(r==null)return null;var{x:i,y:a,width:o,height:c}=r;return S.createElement(p1e.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:a,height:c,width:o}))),t)};function D8(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function y1e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return f1e(r,n)}function b1e(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:c}=e;return t===1?{start:r?i:a,end:r?i+o:a+c}:{start:r?i+o:a+c,end:r?i:a}}function zb(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function v1e(e,t){return D8(e,t+1)}function x1e(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:c}=t,u=0,f=1,m=o,p=function(){var w=r?.[u];if(w===void 0)return{v:D8(r,f)};var _=u,E,T=()=>(E===void 0&&(E=n(w,_)),E),N=w.coordinate,O=u===0||zb(e,N,T,m,c);O||(u=0,m=o,f+=1),O&&(m=N+e*(T()/2+i),u+=f)},g;f<=a.length;)if(g=p(),g)return g.v;return[]}function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(r){_1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _1e(e,t,n){return(t=w1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w1e(e){var t=S1e(e,"string");return typeof t=="symbol"?t:t+""}function S1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E1e(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:c}=t,{end:u}=t,f=function(g){var v=a[g],w,_=()=>(w===void 0&&(w=n(v,g)),w);if(g===o-1){var E=e*(v.coordinate+e*_()/2-u);a[g]=v=kr(kr({},v),{},{tickCoord:E>0?v.coordinate-E*e:v.coordinate})}else a[g]=v=kr(kr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var T=zb(e,v.tickCoord,_,c,u);T&&(u=v.tickCoord-e*(_()/2+i),a[g]=kr(kr({},v),{},{isShow:!0}))}},m=o-1;m>=0;m--)f(m);return a}function k1e(e,t,n,r,i,a){var o=(r||[]).slice(),c=o.length,{start:u,end:f}=t;if(a){var m=r[c-1],p=n(m,c-1),g=e*(m.coordinate+e*p/2-f);if(o[c-1]=m=kr(kr({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate}),m.tickCoord!=null){var v=zb(e,m.tickCoord,()=>p,u,f);v&&(f=m.tickCoord-e*(p/2+i),o[c-1]=kr(kr({},m),{},{isShow:!0}))}}for(var w=a?c-1:c,_=function(N){var O=o[N],P,M=()=>(P===void 0&&(P=n(O,N)),P);if(N===0){var D=e*(O.coordinate-e*M()/2-u);o[N]=O=kr(kr({},O),{},{tickCoord:D<0?O.coordinate-D*e:O.coordinate})}else o[N]=O=kr(kr({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var $=zb(e,O.tickCoord,M,u,f);$&&(u=O.tickCoord+e*(M()/2+i),o[N]=kr(kr({},O),{},{isShow:!0}))}},E=0;E<w;E++)_(E);return o}function MT(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:c,interval:u,tickFormatter:f,unit:m,angle:p}=e;if(!i||!i.length||!r)return[];if(We(u)||df.isSsr){var g;return(g=v1e(i,We(u)?u:0))!==null&&g!==void 0?g:[]}var v=[],w=c==="top"||c==="bottom"?"width":"height",_=m&&w==="width"?um(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(O,P)=>{var M=typeof f=="function"?f(O.value,P):O.value;return w==="width"?y1e(um(M,{fontSize:t,letterSpacing:n}),_,p):um(M,{fontSize:t,letterSpacing:n})[w]},T=i.length>=2?la(i[1].coordinate-i[0].coordinate):1,N=b1e(a,T,w);return u==="equidistantPreserveStart"?x1e(T,N,E,i,o):(u==="preserveStart"||u==="preserveStartEnd"?v=k1e(T,N,E,i,o,u==="preserveStartEnd"):v=E1e(T,N,E,i,o),v.filter(O=>O.isShow))}var A1e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>o&&(o=p.width)}});var c=n?n.getBoundingClientRect().width:0,u=i+a,f=o+u+c+(n?r:0);return Math.round(f)}return 0},T1e=["axisLine","width","height","className","hide","ticks","axisType"];function O1e(e,t){if(e==null)return{};var n,r,i=j1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function j1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(null,arguments)}function GI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(n),!0).forEach(function(r){N1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N1e(e,t,n){return(t=C1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C1e(e){var t=M1e(e,"string");return typeof t=="symbol"?t:t+""}function M1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ir.axis};function P1e(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:c,otherSvgProps:u}=e;if(!c)return null;var f=Dn(Dn(Dn({},u),Fa(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!o||a==="bottom"&&o);f=Dn(Dn({},f),{},{x1:t,y1:n+m*i,x2:t+r,y2:n+m*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=Dn(Dn({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return S.createElement("line",tu({},f,{className:Qt("recharts-cartesian-axis-line",Mv(c,"className"))}))}function D1e(e,t,n,r,i,a,o,c,u){var f,m,p,g,v,w,_=c?-1:1,E=e.tickSize||o,T=We(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=m=e.coordinate,g=n+ +!c*i,p=g-_*E,w=p-_*u,v=T;break;case"left":p=g=e.coordinate,m=t+ +!c*r,f=m-_*E,v=f-_*u,w=T;break;case"right":p=g=e.coordinate,m=t+ +c*r,f=m+_*E,v=f+_*u,w=T;break;default:f=m=e.coordinate,g=n+ +c*i,p=g+_*E,w=p+_*u,v=T;break}return{line:{x1:f,y1:p,x2:m,y2:g},tick:{x:v,y:w}}}function R1e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function L1e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function I1e(e){var{option:t,tickProps:n,value:r}=e,i,a=Qt(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))i=S.cloneElement(t,Dn(Dn({},n),{},{className:a}));else if(typeof t=="function")i=t(Dn(Dn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Qt(o,t?.className)),i=S.createElement(TT,tu({},n,{className:o}),r)}return i}var $1e=S.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:c,padding:u,tickTextProps:f,orientation:m,mirror:p,x:g,y:v,width:w,height:_,tickSize:E,tickMargin:T,fontSize:N,letterSpacing:O,getTicksConfig:P,events:M,axisType:D}=e,$=MT(Dn(Dn({},P),{},{ticks:n}),N,O),H=R1e(m,p),q=L1e(m,p),K=Fa(P),F=jv(r),z={};typeof i=="object"&&(z=i);var Z=Dn(Dn({},K),{},{fill:"none"},z),Q=$.map(X=>Dn({entry:X},D1e(X,g,v,w,_,m,E,p,T))),J=Q.map(X=>{var{entry:re,line:ue}=X;return S.createElement(So,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},i&&S.createElement("line",tu({},Z,ue,{className:Qt("recharts-cartesian-axis-tick-line",Mv(i,"className"))})))}),Y=Q.map((X,re)=>{var{entry:ue,tick:se}=X,B=Dn(Dn(Dn(Dn({textAnchor:H,verticalAnchor:q},K),{},{stroke:"none",fill:a},F),se),{},{index:re,payload:ue,visibleTicksCount:$.length,tickFormatter:o,padding:u},f);return S.createElement(So,tu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},Ade(M,ue,re)),r&&S.createElement(I1e,{option:r,tickProps:B,value:"".concat(typeof o=="function"?o(ue.value,re):ue.value).concat(c||"")}))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},Y.length>0&&S.createElement(Ns,{zIndex:Ir.label},S.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},Y)),J.length>0&&S.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},J))}),B1e=S.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:c,axisType:u}=e,f=O1e(e,T1e),[m,p]=S.useState(""),[g,v]=S.useState(""),w=S.useRef(null);S.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return A1e({ticks:w.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=S.useCallback(E=>{if(E){var T=E.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=T;var N=T[0];if(N){var O=window.getComputedStyle(N),P=O.fontSize,M=O.letterSpacing;(P!==m||M!==g)&&(p(P),v(M))}}},[m,g]);return o||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(Ns,{zIndex:e.zIndex},S.createElement(So,{className:Qt("recharts-cartesian-axis",a)},S.createElement(P1e,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Fa(e)}),S.createElement($1e,{ref:_,axisType:u,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),S.createElement(B_e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},S.createElement(V_e,{label:e.label,labelRef:e.labelRef}),e.children)))}),PT=S.forwardRef((e,t)=>{var n=Hi(e,fs);return S.createElement(B1e,tu({},n,{ref:t}))});PT.displayName="CartesianAxis";var z1e=["x1","y1","x2","y2","key"],U1e=["offset"],F1e=["xAxisId","yAxisId"],H1e=["xAxisId","yAxisId"];function qI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(n),!0).forEach(function(r){G1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G1e(e,t,n){return(t=q1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q1e(e){var t=Y1e(e,"string");return typeof t=="symbol"?t:t+""}function Y1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hc.apply(null,arguments)}function Ub(e,t){if(e==null)return{};var n,r,i=K1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function K1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var W1e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:c}=e;return S.createElement("rect",{x:r,y:i,ry:c,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function R8(e){var{option:t,lineItemProps:n}=e,r;if(S.isValidElement(t))r=S.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:c,y2:u,key:f}=n,m=Ub(n,z1e),p=(i=Fa(m))!==null&&i!==void 0?i:{},{offset:g}=p,v=Ub(p,U1e);r=S.createElement("line",Hc({},v,{x1:a,y1:o,x2:c,y2:u,fill:"none",key:f}))}return r}function V1e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,c=Ub(e,F1e),u=i.map((f,m)=>{var p=Ar(Ar({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(m),index:m});return S.createElement(R8,{key:"line-".concat(m),option:r,lineItemProps:p})});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Z1e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,c=Ub(e,H1e),u=i.map((f,m)=>{var p=Ar(Ar({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(m),index:m});return S.createElement(R8,{option:r,lineItemProps:p,key:"line-".concat(m)})});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function X1e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:c,horizontal:u=!0}=e;if(!u||!t||!t.length||c==null)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var m=f.map((p,g)=>{var v=!f[g+1],w=v?i+o-p:f[g+1]-p;if(w<=0)return null;var _=g%t.length;return S.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:w,width:a,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function J1e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:c,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var m=f.map((p,g)=>{var v=!f[g+1],w=v?i+o-p:f[g+1]-p;if(w<=0)return null;var _=g%n.length;return S.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:w,height:c,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Q1e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return k6(MT(Ar(Ar(Ar({},fs),n),{},{ticks:A6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},eSe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return k6(MT(Ar(Ar(Ar({},fs),n),{},{ticks:A6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},tSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ir.grid};function L8(e){var t=R6(),n=L6(),r=D6(),i=Ar(Ar({},Hi(e,tSe)),{},{x:We(e.x)?e.x:r.left,y:We(e.y)?e.y:r.top,width:We(e.width)?e.width:r.width,height:We(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:c,y:u,width:f,height:m,syncWithTicks:p,horizontalValues:g,verticalValues:v}=i,w=hi(),_=Je(q=>nI(q,"xAxis",a,w)),E=Je(q=>nI(q,"yAxis",o,w));if(!ko(f)||!ko(m)||!We(c)||!We(u))return null;var T=i.verticalCoordinatesGenerator||Q1e,N=i.horizontalCoordinatesGenerator||eSe,{horizontalPoints:O,verticalPoints:P}=i;if((!O||!O.length)&&typeof N=="function"){var M=g&&g.length,D=N({yAxis:E?Ar(Ar({},E),{},{ticks:M?g:E.ticks}):void 0,width:t??f,height:n??m,offset:r},M?!0:p);gb(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(O=D)}if((!P||!P.length)&&typeof T=="function"){var $=v&&v.length,H=T({xAxis:_?Ar(Ar({},_),{},{ticks:$?v:_.ticks}):void 0,width:t??f,height:n??m,offset:r},$?!0:p);gb(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(P=H)}return S.createElement(Ns,{zIndex:i.zIndex},S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(W1e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(X1e,Hc({},i,{horizontalPoints:O})),S.createElement(J1e,Hc({},i,{verticalPoints:P})),S.createElement(V1e,Hc({},i,{offset:r,horizontalPoints:O,xAxis:_,yAxis:E})),S.createElement(Z1e,Hc({},i,{offset:r,verticalPoints:P,xAxis:_,yAxis:E}))))}L8.displayName="CartesianGrid";function nSe(e){var t=jv(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),c=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(c)||c<0)&&(c=r),{r:o,strokeWidth:c}}return{r:n,strokeWidth:r}}var I8=(e,t,n,r)=>Iz(e,"xAxis",t,r),$8=(e,t,n,r)=>Lz(e,"xAxis",t,r),B8=(e,t,n,r)=>Iz(e,"yAxis",n,r),z8=(e,t,n,r)=>Lz(e,"yAxis",n,r),rSe=we([Vt,I8,B8,$8,z8],(e,t,n,r,i)=>Ss(e,"xAxis")?pb(t,r,!1):pb(n,i,!1)),iSe=(e,t,n,r,i)=>i,U8=we([az,iSe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),aSe=(e,t,n,r,i)=>{var a,o=U8(e,t,n,r,i);if(o!=null){var c=Vt(e),u=Ss(c,"xAxis"),f;if(u?f=Ek(e,"yAxis",n,r):f=Ek(e,"xAxis",t,r),f!=null){var{stackId:m}=o,p=oT(o);if(!(m==null||p==null)){var g=(a=f[m])===null||a===void 0?void 0:a.stackedData;return g?.find(v=>v.key===p)}}}},oSe=we([Vt,I8,B8,$8,z8,aSe,X2,rSe,U8,Hye],(e,t,n,r,i,a,o,c,u,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:g}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{data:v}=u,w;if(v&&v.length>0?w=v:w=m?.slice(p,g+1),w!=null)return kSe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:w,chartBaseValue:f,bandSize:c})}}),sSe=["id"],lSe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wc.apply(null,arguments)}function F8(e,t){if(e==null)return{};var n,r,i=cSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(n),!0).forEach(function(r){uSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uSe(e,t,n){return(t=dSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dSe(e){var t=fSe(e,"string");return typeof t=="symbol"?t:t+""}function fSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fb(e,t){return e&&e!=="none"?e:t}var hSe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Fb(r,i),value:T6(n,t),payload:e}]},mSe=S.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:c,unit:u,tooltipType:f}=e,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:T6(o,t),hide:c,type:f,color:Fb(r,a),unit:u}};return S.createElement(mwe,{tooltipEntrySettings:m})});function pSe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,c=Fa(r);return S.createElement(Rwe,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:i,clipPathId:t})}function gSe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,c,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return wd(wd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return S.createElement(owe,{value:t?i:void 0},n)}function KI(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:c,stroke:u,connectNulls:f,isRange:m}=a,{id:p}=a,g=F8(a,sSe),v=Fa(g),w=ha(g);return S.createElement(S.Fragment,null,t?.length>1&&S.createElement(So,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},S.createElement(yy,Wc({},w,{id:p,points:t,connectNulls:f,type:c,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&S.createElement(yy,Wc({},v,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:t})),u!=="none"&&m&&S.createElement(yy,Wc({},v,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:n}))),S.createElement(pSe,{points:t,props:g,clipPathId:i}))}function ySe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!xn(a)||!xn(o))return null;var c=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.x||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.x||0),u)),We(u)?S.createElement("rect",{x:0,y:a<o?a:a-c,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function bSe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!xn(a)||!xn(o))return null;var c=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.y||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.y||0),u)),We(u)?S.createElement("rect",{x:a<o?a:a-c,y:0,width:c,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function vSe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?S.createElement(ySe,{alpha:t,points:r,baseLine:i,strokeWidth:a}):S.createElement(bSe,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function xSe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:c,isAnimationActive:u,animationBegin:f,animationDuration:m,animationEasing:p,onAnimationStart:g,onAnimationEnd:v}=r,w=S.useMemo(()=>({points:o,baseLine:c}),[o,c]),_=V6(w,"recharts-area-"),E=mme(),[T,N]=S.useState(!1),O=!T,P=S.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),M=S.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]);if(E==null)return null;var D=i.current,$=a.current;return S.createElement(gSe,{showLabels:O,points:o},r.children,S.createElement(W6,{animationId:_,begin:f,duration:m,isActive:u,easing:p,onAnimationEnd:P,onAnimationStart:M,key:_},H=>{if(D){var q=D.length/o.length,K=H===1?o:o.map((z,Z)=>{var Q=Math.floor(Z*q);if(D[Q]){var J=D[Q];return wd(wd({},z),{},{x:yo(J.x,z.x,H),y:yo(J.y,z.y,H)})}return z}),F;return We(c)?F=yo($,c,H):br(c)||Ha(c)?F=yo($,0,H):F=c.map((z,Z)=>{var Q=Math.floor(Z*q);if(Array.isArray($)&&$[Q]){var J=$[Q];return wd(wd({},z),{},{x:yo(J.x,z.x,H),y:yo(J.y,z.y,H)})}return z}),H>0&&(i.current=K,a.current=F),S.createElement(KI,{points:K,baseLine:F,needClip:t,clipPathId:n,props:r})}return H>0&&(i.current=o,a.current=c),S.createElement(So,null,u&&S.createElement("defs",null,S.createElement("clipPath",{id:"animationClipPath-".concat(n)},S.createElement(vSe,{alpha:H,points:o,baseLine:c,layout:E,strokeWidth:r.strokeWidth}))),S.createElement(So,{clipPath:"url(#animationClipPath-".concat(n,")")},S.createElement(KI,{points:o,baseLine:c,needClip:t,clipPathId:n,props:r})))}),S.createElement(cwe,{label:r.label}))}function _Se(e){var{needClip:t,clipPathId:n,props:r}=e,i=S.useRef(null),a=S.useRef();return S.createElement(xSe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class wSe extends S.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:c,xAxisId:u,yAxisId:f,width:m,height:p,id:g,baseLine:v,zIndex:w}=this.props;if(t)return null;var _=Qt("recharts-area",i),E=g,{r:T,strokeWidth:N}=nSe(n),O=A8(n),P=T*2+N,M=c?"url(#clipPath-".concat(O?"":"dots-").concat(E,")"):void 0;return S.createElement(Ns,{zIndex:w},S.createElement(So,{className:_},c&&S.createElement("defs",null,S.createElement(r1e,{clipPathId:E,xAxisId:u,yAxisId:f}),!O&&S.createElement("clipPath",{id:"clipPath-dots-".concat(E)},S.createElement("rect",{x:o-P/2,y:a-P/2,width:m+P,height:p+P}))),S.createElement(_Se,{needClip:c,clipPathId:E,props:this.props})),S.createElement(UI,{points:r,mainColor:Fb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}),this.props.isRange&&Array.isArray(v)&&S.createElement(UI,{points:v,mainColor:Fb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}))}}var H8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ir.area};function SSe(e){var t,n=Hi(e,H8),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:c,dot:u,fill:f,fillOpacity:m,hide:p,isAnimationActive:g,legendType:v,stroke:w,xAxisId:_,yAxisId:E}=n,T=F8(n,lSe),N=up(),O=i8(),{needClip:P}=C8(_,E),M=hi(),{points:D,isRange:$,baseLine:H}=(t=Je(Q=>oSe(Q,_,E,M,e.id)))!==null&&t!==void 0?t:{},q=jT();if(N!=="horizontal"&&N!=="vertical"||q==null||O!=="AreaChart"&&O!=="ComposedChart")return null;var{height:K,width:F,x:z,y:Z}=q;return!D||!D.length?null:S.createElement(wSe,Wc({},T,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:H,connectNulls:c,dot:u,fill:f,fillOpacity:m,height:K,hide:p,layout:N,isAnimationActive:g==="auto"?!df.isSsr:g,isRange:$,legendType:v,needClip:P,points:D,stroke:w,width:F,left:z,top:Z,xAxisId:_,yAxisId:E}))}var ESe=(e,t,n,r,i)=>{var a=n??t;if(We(a))return a;var o=e==="horizontal"?i:r,c=o.scale.domain();if(o.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return a==="dataMin"?f:a==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function kSe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:c,yAxis:u,displayedData:f,dataStartIndex:m,xAxisTicks:p,yAxisTicks:g,bandSize:v}=e,w=i&&i.length,_=ESe(a,o,n,c,u),E=a==="horizontal",T=!1,N=f.map((P,M)=>{var D;w?D=i[m+M]:(D=Tr(P,r),Array.isArray(D)?T=!0:D=[_,D]);var $=D[1]==null||w&&!t&&Tr(P,r)==null;return E?{x:kR({axis:c,ticks:p,bandSize:v,entry:P,index:M}),y:$?null:u.scale(D[1]),value:D,payload:P}:{x:$?null:c.scale(D[1]),y:kR({axis:u,ticks:g,bandSize:v,entry:P,index:M}),value:D,payload:P}}),O;return w||T?O=N.map(P=>{var M=Array.isArray(P.value)?P.value[0]:null;return E?{x:P.x,y:M!=null&&P.y!=null?u.scale(M):null,payload:P.payload}:{x:M!=null?c.scale(M):null,y:P.y,payload:P.payload}}):O=E?u.scale(_):c.scale(_),{points:N,baseLine:O,isRange:T}}function ASe(e){var t=Hi(e,H8),n=hi();return S.createElement(vwe,{id:t.id,type:"area"},r=>S.createElement(S.Fragment,null,S.createElement(pwe,{legendPayload:hSe(t)}),S.createElement(mSe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),S.createElement(Awe,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Nhe(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),S.createElement(SSe,Wc({},t,{id:r}))))}var G8=S.memo(ASe,NT);G8.displayName="Area";var TSe=["domain","range"],OSe=["domain","range"];function WI(e,t){if(e==null)return{};var n,r,i=jSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function q8(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=WI(e,TSe),{domain:a,range:o}=t,c=WI(t,OSe);return!VI(n,a)||!VI(r,o)?!1:NT(i,c)}var NSe=["dangerouslySetInnerHTML","ticks"],CSe=["id"];function Mk(){return Mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mk.apply(null,arguments)}function ZI(e,t){if(e==null)return{};var n,r,i=MSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function PSe(e){var t=sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(zwe(e)):n.current!==e&&t(Uwe({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(Fwe(n.current)),n.current=null)},[t]),null}var DSe=e=>{var{xAxisId:t,className:n}=e,r=Je(j6),i=hi(),a="xAxis",o=Je(E=>yf(E,a,t,i)),c=Je(E=>Rz(E,a,t,i)),u=Je(E=>Rbe(E,t)),f=Je(E=>Ube(E,t)),m=Je(E=>tz(E,t));if(u==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=e,v=ZI(e,NSe),{id:w}=m,_=ZI(m,CSe);return S.createElement(PT,Mk({},v,_,{scale:o,x:f.x,y:f.y,width:u.width,height:u.height,className:Qt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c,axisType:a}))},RSe={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,angle:tr.angle,axisLine:fs.axisLine,height:tr.height,hide:!1,includeHidden:tr.includeHidden,interval:tr.interval,minTickGap:tr.minTickGap,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,tickLine:fs.tickLine,tickSize:fs.tickSize,type:tr.type,xAxisId:0},LSe=e=>{var t=Hi(e,RSe);return S.createElement(S.Fragment,null,S.createElement(PSe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),S.createElement(DSe,t))},Y8=S.memo(LSe,q8);Y8.displayName="XAxis";var ISe=["dangerouslySetInnerHTML","ticks"],$Se=["id"];function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pk.apply(null,arguments)}function XI(e,t){if(e==null)return{};var n,r,i=BSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zSe(e){var t=sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(Hwe(e)):n.current!==e&&t(Gwe({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(qwe(n.current)),n.current=null)},[t]),null}var USe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=S.useRef(null),o=S.useRef(null),c=Je(j6),u=hi(),f=sr(),m="yAxis",p=Je(M=>yf(M,m,t,u)),g=Je(M=>Gbe(M,t)),v=Je(M=>Hbe(M,t)),w=Je(M=>Rz(M,m,t,u)),_=Je(M=>nz(M,t));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!g||OT(i)||S.isValidElement(i)||_==null)){var M=a.current;if(M){var D=M.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&f(Ywe({id:t,width:D}))}}},[w,g,f,i,t,r,_]),g==null||v==null||_==null)return null;var{dangerouslySetInnerHTML:E,ticks:T}=e,N=XI(e,ISe),{id:O}=_,P=XI(_,$Se);return S.createElement(PT,Pk({},N,P,{ref:a,labelRef:o,scale:p,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Qt("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:w,axisType:m}))},FSe={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,angle:nr.angle,axisLine:fs.axisLine,hide:!1,includeHidden:nr.includeHidden,interval:nr.interval,minTickGap:nr.minTickGap,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,tickLine:fs.tickLine,tickSize:fs.tickSize,type:nr.type,width:nr.width,yAxisId:0},HSe=e=>{var t=Hi(e,FSe);return S.createElement(S.Fragment,null,S.createElement(zSe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),S.createElement(USe,t))},K8=S.memo(HSe,q8);K8.displayName="YAxis";var GSe=(e,t)=>t,DT=we([GSe,Vt,Q9,Wn,Jz,js,ixe,xr],dxe),RT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},W8=ma("mouseClick"),V8=lp();V8.startListening({actionCreator:W8,effect:(e,t)=>{var n=e.payload,r=DT(t.getState(),RT(n));r?.activeIndex!=null&&t.dispatch(rve({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Dk=ma("mouseMove"),Z8=lp(),Z0=null;Z8.startListening({actionCreator:Dk,effect:(e,t)=>{var n=e.payload;Z0!==null&&cancelAnimationFrame(Z0);var r=RT(n);Z0=requestAnimationFrame(()=>{var i=t.getState(),a=yT(i,i.tooltip.settings.shared);if(a==="axis"){var o=DT(i,r);o?.activeIndex!=null?t.dispatch(Gz({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(Hz())}Z0=null})}});var JI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},X8=fi({name:"rootProps",initialState:JI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:JI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),qSe=X8.reducer,{updateOptions:YSe}=X8.actions,J8=fi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:qOe}=J8.actions,KSe=J8.reducer,Q8=ma("keyDown"),eU=ma("focus"),LT=lp();LT.startListening({actionCreator:Q8,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=bT(i,vf(n),bp(n),Sp(n)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var u=js(n);if(a==="Enter"){var f=Ib(n,"axis","hover",String(i.index));t.dispatch(Ak({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var m=Wbe(n),p=m==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,v=c+g*p;if(!(u==null||v>=u.length||v<0)){var w=Ib(n,"axis","hover",String(v));t.dispatch(Ak({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});LT.startListening({actionCreator:eU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Ib(n,"axis","hover",String(a));t.dispatch(Ak({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ra=ma("externalEvent"),tU=lp(),DS=new Map;tU.startListening({actionCreator:ra,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=DS.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var c=t.getState(),u={activeCoordinate:Hve(c),activeDataKey:Uve(c),activeIndex:Bm(c),activeLabel:t8(c),activeTooltipIndex:Bm(c),isTooltipActive:Gve(c)};n(u,r)}finally{DS.delete(i)}});DS.set(i,o)}}});var WSe=we([bf],e=>e.tooltipItemPayloads),VSe=we([WSe,_p,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),nU=ma("touchMove"),rU=lp();rU.startListening({actionCreator:nU,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=yT(r,r.tooltip.settings.shared);if(i==="axis"){var a=DT(r,RT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(Gz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,c=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(Ihe),m=(o=u.getAttribute($he))!==null&&o!==void 0?o:void 0,p=VSe(t.getState(),f,m);t.dispatch(nve({activeDataKey:m,activeIndex:f,activeCoordinate:p}))}}}});var ZSe=jB({brush:s1e,cartesianAxis:Kwe,chartData:Hxe,errorBars:n1e,graphicalItems:Ewe,layout:xhe,legend:Cme,options:$xe,polarAxis:dwe,polarOptions:KSe,referenceElements:m1e,rootProps:qSe,tooltip:ive,zIndex:kxe}),XSe=function(t){return qfe({reducer:ZSe,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([V8.middleware,Z8.middleware,LT.middleware,tU.middleware,rU.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(d6({type:"raf"}))},devTools:df.devToolsEnabled})};function JSe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=hi(),a=S.useRef(null);if(i)return n;a.current==null&&(a.current=XSe(t));var o=y2;return S.createElement($B,{context:o,store:a.current},n)}function QSe(e){var{layout:t,margin:n}=e,r=sr(),i=hi();return S.useEffect(()=>{i||(r(yhe(t)),r(ghe(n)))},[r,i,t,n]),null}var eEe=S.memo(QSe,NT);function tEe(e){var t=sr();return S.useEffect(()=>{t(YSe(e))},[t,e]),null}function QI(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=T8("".concat(r).concat(t)),a=sr();return S.useLayoutEffect(()=>(a(Sxe({zIndex:t,elementId:i,isPanorama:n})),()=>{a(Exe({zIndex:t,isPanorama:n}))}),[a,t,i,n]),S.createElement("g",{tabIndex:-1,id:i})}function e3(e){var{children:t,isPanorama:n}=e,r=Je(hxe);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return S.createElement(S.Fragment,null,i.map(o=>S.createElement(QI,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>S.createElement(QI,{key:o,zIndex:o,isPanorama:n})))}var nEe=["children"];function rEe(e,t){if(e==null)return{};var n,r,i=iEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hb.apply(null,arguments)}var aEe={width:"100%",height:"100%",display:"block"},oEe=S.forwardRef((e,t)=>{var n=R6(),r=L6(),i=G6();if(!ko(n)||!ko(r))return null;var{children:a,otherAttributes:o,title:c,desc:u}=e,f,m;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?m=o.role:m=i?"application":void 0),S.createElement(x7,Hb({},o,{title:c,desc:u,role:m,tabIndex:f,width:n,height:r,style:aEe,ref:t}),a)}),sEe=e=>{var{children:t}=e,n=Je(qv);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return S.createElement(x7,{width:r,height:i,x:o,y:a},t)},t3=S.forwardRef((e,t)=>{var{children:n}=e,r=rEe(e,nEe),i=hi();return i?S.createElement(sEe,null,S.createElement(e3,{isPanorama:!0},n)):S.createElement(oEe,Hb({ref:t},r),S.createElement(e3,{isPanorama:!1},n))});function lEe(){var e=sr(),[t,n]=S.useState(null),r=Je(Lhe);return S.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;xn(a)&&a!==r&&e(vhe(a))}},[t,e,r]),n}function n3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(n),!0).forEach(function(r){uEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uEe(e,t,n){return(t=dEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dEe(e){var t=fEe(e,"string");return typeof t=="symbol"?t:t+""}function fEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nu.apply(null,arguments)}var hEe=()=>(Jxe(),null);function Gb(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var mEe=S.forwardRef((e,t)=>{var n,r,i=S.useRef(null),[a,o]=S.useState({containerWidth:Gb((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Gb((r=e.style)===null||r===void 0?void 0:r.height)}),c=S.useCallback((f,m)=>{o(p=>{var g=Math.round(f),v=Math.round(m);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),u=S.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var g=w=>{var{width:_,height:E}=w[0].contentRect;c(_,E)},v=new ResizeObserver(g);v.observe(f),i.current=v}},[t,c]);return S.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),S.createElement(S.Fragment,null,S.createElement(Kv,{width:a.containerWidth,height:a.containerHeight}),S.createElement("div",nu({ref:u},e)))}),pEe=S.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=S.useState({containerWidth:Gb(n),containerHeight:Gb(r)}),o=S.useCallback((u,f)=>{a(m=>{var p=Math.round(u),g=Math.round(f);return m.containerWidth===p&&m.containerHeight===g?m:{containerWidth:p,containerHeight:g}})},[]),c=S.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:m}=u.getBoundingClientRect();o(f,m)}},[t,o]);return S.createElement(S.Fragment,null,S.createElement(Kv,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",nu({ref:c},e)))}),gEe=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return S.createElement(S.Fragment,null,S.createElement(Kv,{width:n,height:r}),S.createElement("div",nu({ref:t},e)))}),yEe=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return gs(n)||gs(r)?S.createElement(pEe,nu({},e,{ref:t})):S.createElement(gEe,nu({},e,{ref:t}))});function bEe(e){return e===!0?mEe:yEe}var vEe=S.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:w,onTouchStart:_,style:E,width:T,responsive:N,dispatchTouchEvents:O=!0}=e,P=S.useRef(null),M=sr(),[D,$]=S.useState(null),[H,q]=S.useState(null),K=lEe(),F=k2(),z=F?.width>0?F.width:T,Z=F?.height>0?F.height:i,Q=S.useCallback(ne=>{K(ne),typeof t=="function"&&t(ne),$(ne),q(ne),ne!=null&&(P.current=ne)},[K,t,$,q]),J=S.useCallback(ne=>{M(W8(ne)),M(ra({handler:a,reactEvent:ne}))},[M,a]),Y=S.useCallback(ne=>{M(Dk(ne)),M(ra({handler:f,reactEvent:ne}))},[M,f]),X=S.useCallback(ne=>{M(Hz()),M(ra({handler:m,reactEvent:ne}))},[M,m]),re=S.useCallback(ne=>{M(Dk(ne)),M(ra({handler:p,reactEvent:ne}))},[M,p]),ue=S.useCallback(()=>{M(eU())},[M]),se=S.useCallback(ne=>{M(Q8(ne.key))},[M]),B=S.useCallback(ne=>{M(ra({handler:o,reactEvent:ne}))},[M,o]),W=S.useCallback(ne=>{M(ra({handler:c,reactEvent:ne}))},[M,c]),ae=S.useCallback(ne=>{M(ra({handler:u,reactEvent:ne}))},[M,u]),V=S.useCallback(ne=>{M(ra({handler:g,reactEvent:ne}))},[M,g]),oe=S.useCallback(ne=>{M(ra({handler:_,reactEvent:ne}))},[M,_]),me=S.useCallback(ne=>{O&&M(nU(ne)),M(ra({handler:w,reactEvent:ne}))},[M,O,w]),pe=S.useCallback(ne=>{M(ra({handler:v,reactEvent:ne}))},[M,v]),be=bEe(N);return S.createElement(c8.Provider,{value:D},S.createElement(Xue.Provider,{value:H},S.createElement(be,{width:z??E?.width,height:Z??E?.height,className:Qt("recharts-wrapper",r),style:cEe({position:"relative",cursor:"default",width:z,height:Z},E),onClick:J,onContextMenu:B,onDoubleClick:W,onFocus:ue,onKeyDown:se,onMouseDown:ae,onMouseEnter:Y,onMouseLeave:X,onMouseMove:re,onMouseUp:V,onTouchEnd:pe,onTouchMove:me,onTouchStart:oe,ref:Q},S.createElement(hEe,null),n)))}),xEe=["width","height","responsive","children","className","style","compact","title","desc"];function _Ee(e,t){if(e==null)return{};var n,r,i=wEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SEe=S.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:c,compact:u,title:f,desc:m}=e,p=_Ee(e,xEe),g=Fa(p);return u?S.createElement(S.Fragment,null,S.createElement(Kv,{width:n,height:r}),S.createElement(t3,{otherAttributes:g,title:f,desc:m},a)):S.createElement(vEe,{className:o,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(t3,{otherAttributes:g,title:f,desc:m,ref:t},S.createElement(g1e,null,a)))});function Rk(){return Rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rk.apply(null,arguments)}var EEe={top:5,right:5,bottom:5,left:5},kEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:EEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},AEe=S.forwardRef(function(t,n){var r,i=Hi(t.categoricalChartProps,kEe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,m={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return S.createElement(JSe,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},S.createElement(o1e,{chartData:f.data}),S.createElement(eEe,{layout:i.layout,margin:i.margin}),S.createElement(tEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),S.createElement(SEe,Rk({},i,{ref:n})))}),TEe=["axis"],OEe=S.forwardRef((e,t)=>S.createElement(AEe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:TEe,tooltipPayloadSearcher:Lxe,categoricalChartProps:e,ref:t}));function r3(){const[e,t]=S.useState(0),[n,r]=S.useState(0),[i,a]=S.useState(0),[o,c]=S.useState(0),[u,f]=S.useState([]),[m,p]=S.useState([]),g=S.useMemo(()=>{const E=new Date;return E.setHours(0,0,0,0),E},[]),v=S.useCallback(async()=>{const{count:E}=await Le.from("profiles").select("*",{count:"exact",head:!0});t(E||0);const{count:T}=await Le.from("myeongsik").select("*",{count:"exact",head:!0});r(T||0);const{count:N}=await Le.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",g.toISOString());a(N||0);const{count:O}=await Le.from("myeongsik").select("*",{count:"exact",head:!0}).gte("created_at",g.toISOString());c(O||0)},[g]),w=S.useCallback(async()=>{const E=new Date;E.setDate(E.getDate()-30);const{data:T}=await Le.from("profiles").select("created_at").gte("created_at",E.toISOString()).order("created_at",{ascending:!0}),N={};(T||[]).forEach(P=>{const M=new Date(P.created_at).toISOString().slice(0,10);N[M]=(N[M]||0)+1});const O=Object.entries(N).map(([P,M])=>({day:P,count:M}));f(O)},[]),_=S.useCallback(async()=>{const E=new Date;E.setDate(E.getDate()-30);const{data:T}=await Le.from("myeongsik").select("created_at").gte("created_at",E.toISOString()).order("created_at",{ascending:!0}),N={};(T||[]).forEach(P=>{const M=new Date(P.created_at).toISOString().slice(0,10);N[M]=(N[M]||0)+1});const O=Object.entries(N).map(([P,M])=>({day:P,count:M}));p(O)},[]);return S.useEffect(()=>{v(),w(),_()},[v,w,_]),x.jsx(zue,{allow:["admin","operator","viewer"],children:x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-10",children:[x.jsx(X0,{label:" ",value:e}),x.jsx(X0,{label:"  ",value:n}),x.jsx(X0,{label:" ",value:i}),x.jsx(X0,{label:"  ",value:o})]}),x.jsxs("section",{className:"mb-10",children:[x.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),x.jsx(i3,{data:u})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),x.jsx(i3,{data:m})]})]})})}function X0({label:e,value:t}){return x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[x.jsx("div",{className:"text-neutral-400 text-sm",children:e}),x.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function i3({data:e}){return x.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:x.jsx(fme,{width:"100%",height:"100%",children:x.jsxs(OEe,{data:e,children:[x.jsx(L8,{strokeDasharray:"3 3",stroke:"#333"}),x.jsx(Y8,{dataKey:"day",stroke:"#bbb"}),x.jsx(K8,{stroke:"#bbb"}),x.jsx(o_e,{}),x.jsx(G8,{type:"monotone",dataKey:"count",stroke:"#8884d8",fill:"#8884d855"})]})})})}function jEe(){const[e,t]=S.useState(""),[n,r]=S.useState(1),[i,a]=S.useState({});return{search:e,setSearch:t,page:n,setPage:r,draftByUser:i,setDraftByUser:a,setDraft:(c,u)=>{a(f=>{const m=f[c]??{plan:"FREE",startDate:"",endDate:"",saving:!1};return{...f,[c]:{...m,...u}}})}}}const iU=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function NEe(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function CEe(e){return typeof e!="string"?null:yd(e)}function a3(e){return String(e).padStart(2,"0")}function qb(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const n=t.getFullYear(),r=a3(t.getMonth()+1),i=a3(t.getDate());return`${n}-${r}-${i}`}const Kh=e=>e<10?`0${e}`:`${e}`,MEe=e=>String(e).padStart(3,"0");function o3(e,t){const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error("Invalid date input");const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=t?23:0,c=t?59:0,u=t?59:0,f=t?999:0;return`${r}-${Kh(i)}-${Kh(a)}T${Kh(o)}:${Kh(c)}:${Kh(u)}.${MEe(f)}+09:00`}function PEe(e){const t=qy(e),n=t.maxMyeongsik===null?9999:t.maxMyeongsik;return{plan:e,max_myeongsik:n,can_manage_myeongsik:t.canManageMyeongsik,can_use_luck_tabs:t.canUseLuckTabs,can_use_multi_mode:t.canUseMultiMode,can_use_all_prompts:t.canUseAllPrompts}}function DEe(e){const t=e??"FREE";return iU.find(n=>n.value===t)?.label??String(t)}function REe(e){const t=e?.starts_at?qb(e.starts_at):"",n=e?.expires_at?qb(e.expires_at):"";return!t&&!n?" ":t&&!n?`${t} ~ ()`:!t&&n?`( ) ~ ${n}`:`${t} ~ ${n}`}const Lk=20;function LEe(e,t){const n=(t-1)*Lk;return e.slice(n,n+Lk)}function IEe(e){return Math.max(1,Math.ceil(e.length/Lk))}function $Ee(e){return typeof e=="boolean"?e:null}function BEe(e){const{userIds:t,profiles:n,myeongsikRows:r,entRows:i}=e,a={};for(const u of n){const f=u.user_id||u.id;f&&(a[f]=u)}const o={};for(const u of i){const f=CEe(u.plan);o[u.user_id]={user_id:u.user_id,plan:f,starts_at:u.starts_at??null,expires_at:u.expires_at??null,can_use_myo_viewer:$Ee(u.can_use_myo_viewer)}}const c={};for(const u of t)c[u]={user_id:u,profile:a[u]||null,myeongsikCount:0,lastCreatedAt:null,ent:o[u]||null};for(const u of r){const f=c[u.user_id];if(!f)continue;f.myeongsikCount+=1;const m=f.lastCreatedAt,p=u.created_at??null;if(!p)continue;if(!m){f.lastCreatedAt=p;continue}const g=Date.parse(m),v=Date.parse(p);Number.isFinite(v)&&(!Number.isFinite(g)||v>g)&&(f.lastCreatedAt=p)}return Object.values(c)}function zEe(e,t){const n={...e};for(const r of t){const i=r.ent,a=i?.plan??"FREE",o=qb(i?.starts_at??null),c=qb(i?.expires_at??null),u=i?.can_use_myo_viewer===!0?"ON":"OFF",f=n[r.user_id];if(!f){n[r.user_id]={plan:a,startDate:o,endDate:c,saving:!1,myoViewer:u};continue}f.saving||(f.plan!==a||f.startDate!==o||f.endDate!==c||f.myoViewer!==u)&&(n[r.user_id]={...f,plan:a,startDate:o,endDate:c,myoViewer:u})}return n}async function UEe(e){const t=e.trim(),n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t),r=`%${t}%`,i=new Set;if(!t){const[a,o]=await Promise.all([Le.from("profiles").select("user_id").limit(1e3),Le.from("user_entitlements").select("user_id").limit(1e3)]);if(a.error)throw new Error(a.error.message);if(o.error)throw new Error(o.error.message);return(a.data??[]).forEach(c=>c.user_id&&i.add(c.user_id)),(o.data??[]).forEach(c=>c.user_id&&i.add(c.user_id)),Array.from(i)}{let a=Le.from("profiles").select("user_id").limit(1e3);n?a=a.eq("user_id",t):a=a.or(`name.ilike.${r},nickname.ilike.${r},email.ilike.${r}`);const{data:o,error:c}=await a;if(c)throw new Error(c.message);(o??[]).forEach(u=>u.user_id&&i.add(u.user_id))}{let a=Le.from("user_entitlements").select("user_id").limit(1e3);n&&(a=a.eq("user_id",t));const{data:o,error:c}=await a;if(c)throw new Error(c.message);(o??[]).forEach(u=>u.user_id&&i.add(u.user_id))}{let a=Le.from("myeongsik").select("user_id").limit(1e3);n?a=a.eq("user_id",t):a=a.or(`name.ilike.${r},birth_json->>birthDay.ilike.${r}`);const{data:o,error:c}=await a;if(c)throw new Error(c.message);(o??[]).forEach(u=>u.user_id&&i.add(u.user_id))}return Array.from(i)}async function FEe(e){const{data:t,error:n}=await Le.from("profiles").select("id,user_id,name,nickname,email").in("user_id",e);if(n)throw new Error(n.message);return t||[]}async function HEe(e){const{data:t,error:n}=await Le.from("myeongsik").select("user_id, created_at").in("user_id",e).order("created_at",{ascending:!1});if(n)throw new Error(n.message);return t||[]}async function GEe(e){const{data:t,error:n}=await Le.from("user_entitlements").select("user_id,plan,starts_at,expires_at,can_use_myo_viewer").in("user_id",e);if(n)throw new Error(n.message);return t||[]}async function s3(e){const{error:t}=await Le.from("user_entitlements").upsert(e,{onConflict:"user_id"});if(t)throw t}function qEe(){const[e,t]=S.useState([]),[n,r]=S.useState([]),[i,a]=S.useState(!1),[o,c]=S.useState(null),u=S.useCallback(async(p,g)=>{a(!0),c(null);try{const v=await UEe(p);t(v),g()}catch(v){c(v instanceof Error?v.message:"Unknown error")}a(!1)},[]),f=S.useCallback(async p=>{if(!p.length){r([]);return}a(!0),c(null);try{const g=p.length?p:["__NO_MATCH__"],[v,w,_]=await Promise.all([FEe(g),HEe(g),GEe(g)]),E=BEe({userIds:g,profiles:v,myeongsikRows:w,entRows:_});r(E)}catch(g){c(g instanceof Error?g.message:"Error")}a(!1)},[]),m=S.useCallback(async(p,g,v,w)=>{if(g){v(p,{saving:!0});try{const _=PEe(g.plan),E=g.startDate?o3(g.startDate,!1):null,T=g.endDate?o3(g.endDate,!0):null,N=g.myoViewer==="ON",O={user_id:p,..._,starts_at:E,expires_at:T,can_use_myo_viewer:N};await s3(O),v(p,{saving:!1,lastSavedAt:Date.now()}),await w(),await s3(O)}catch(_){v(p,{saving:!1}),c(_ instanceof Error?_.message:" ")}}},[]);return{userIds:e,summaries:n,loading:i,error:o,setError:c,fetchUserIdList:u,fetchSummaries:f,saveEntitlements:m}}function YEe(){const e=jEe(),{search:t,setSearch:n,page:r,setPage:i,draftByUser:a,setDraftByUser:o,setDraft:c}=e,{userIds:u,summaries:f,loading:m,error:p,fetchUserIdList:g,fetchSummaries:v,saveEntitlements:w}=qEe(),_=S.useMemo(()=>LEe(u,r),[u,r]),E=S.useMemo(()=>IEe(u),[u]);return S.useEffect(()=>{g(t,()=>i(1))},[g,t,i]),S.useEffect(()=>{v(_)},[v,_]),S.useEffect(()=>{o(T=>zEe(T,f))},[f,o]),x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),x.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm mb-4",placeholder:"Search user (name, email, birth, userId...)",value:t,onChange:T=>n(T.target.value)}),p&&x.jsx("div",{className:"text-red-400 mb-2",children:p}),m&&x.jsx("div",{children:"Loading..."}),x.jsx("div",{className:"space-y-3",children:f.map(T=>{const N=T.profile?.name||T.profile?.nickname||"(no profile)",O=T.profile?.email||"",P=a[T.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:null},M=Date.now(),D=(T.ent?.starts_at?Date.parse(T.ent.starts_at)<=M:!0)&&(T.ent?.expires_at?Date.parse(T.ent.expires_at)>M:!0),$=D?T.ent?.plan:"FREE",H=T.ent?.can_use_myo_viewer===!0?"ON":"OFF";return x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[x.jsxs("div",{className:"font-semibold text-lg flex items-center justify-between gap-3",children:[x.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[x.jsx("span",{className:"text-nowrap mr-1",children:N}),O?x.jsxs("span",{className:"text-sm text-neutral-400 truncate",children:["(",O,")"]}):null]}),x.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:T.user_id})]}),x.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",T.myeongsikCount,"",T.lastCreatedAt&&x.jsxs(x.Fragment,{children:["    ",new Date(T.lastCreatedAt).toLocaleString()]})]}),x.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",DEe($),"  ",REe(T.ent),"    ",H,!D&&T.ent?.plan&&T.ent.plan!=="FREE"?" ()":""]}),x.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("label",{className:"text-xs text-neutral-400",children:""}),x.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:q=>c(T.user_id,{startDate:q.target.value})}),x.jsx("span",{className:"text-neutral-500",children:"~"}),x.jsx("label",{className:"text-xs text-neutral-400",children:""}),x.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:q=>c(T.user_id,{endDate:q.target.value})}),x.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:q=>{const K=q.target.value;NEe(K)&&c(T.user_id,{plan:K})},children:iU.map(q=>x.jsx("option",{value:q.value,children:q.label},q.value))}),x.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:q=>{const K=q.target.value==="OFF"?"OFF":"ON";c(T.user_id,{myoViewer:K})},children:[x.jsx("option",{value:"ON",children:"  ON"}),x.jsx("option",{value:"OFF",children:"  OFF"})]}),x.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void w(T.user_id,P,e.setDraft,()=>v(_)),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),x.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${T.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt?x.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},T.user_id)})}),x.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[x.jsx("button",{disabled:r<=1,onClick:()=>i(T=>T-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),x.jsxs("span",{children:[r," / ",E]}),x.jsx("button",{disabled:r>=E,onClick:()=>i(T=>T+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function KEe(){const[e,t]=S.useState(null),[n,r]=S.useState([]),[i,a]=S.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function WEe(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function IT({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Le.auth.getSession()).data.session?.user?.id;a&&await Le.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const VEe=async e=>{const{data:t}=await Le.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},ZEe=async e=>{const{data:t}=await Le.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},XEe=async e=>{await Le.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},JEe=async(e,t)=>{await Le.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},QEe=async(e,t)=>{await Le.from("profiles").update({disabled_at:t}).eq("user_id",e)},eke=async e=>{await Le.from("profiles").update({disabled_at:null}).eq("user_id",e),await Le.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await IT({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},tke=async e=>{await Le.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await IT({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},nke=async(e,t,n)=>{await Le.from("myeongsik").update({deleted_at:n}).eq("id",t),await IT({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function rke({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=S.useCallback(async()=>{const _=await VEe(e);n(_)},[e,n]),o=S.useCallback(async()=>{const _=await ZEe(e);r(_)},[e,r]);S.useEffect(()=>{a(),o()},[a,o]);const c=S.useCallback(async()=>{i(!0),await XEe(e),i(!1),await a()},[e,i,a]),u=S.useCallback(async()=>{t&&(i(!0),await JEe(e,t),i(!1),await a())},[t,e,i,a]),f=S.useCallback(async()=>{if(!t)return;const _=t.disabled_at?null:new Date().toISOString();await QEe(e,_),await a()},[t,e,a]),m=S.useCallback(async()=>{i(!0),await eke(e),i(!1),await a(),await o()},[e,i,a,o]),p=S.useCallback(async()=>{i(!0),await tke(e),i(!1),await o()},[e,i,o]),g=S.useCallback(_=>{const E=typeof window<"u"?window.location.origin:"",T=_?`${E}/impersonate?userId=${e}&myeongsikId=${_}`:`${E}/impersonate?userId=${e}`;window.open(T,"_blank")},[e]),v=S.useCallback(async(_,E)=>{const T=E?null:new Date().toISOString();await nke(e,_,T),await o()},[e,o]),w=S.useCallback(_=>{window.location.href=_},[]);return{handleCreateProfile:c,handleSaveProfile:u,toggleDisable:f,handleRestoreAccount:m,handleRestoreAllMyeongsik:p,handleViewAsUser:g,toggleDeleteMyeongsik:v,goTo:w}}function ike({params:e}){const t=e.userId,n=KEe(),r=WEe(n.profile),i=rke({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),x.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[x.jsx("div",{className:"flex items-center justify-between mb-3",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h2",{className:"text-xl font-semibold",children:""}),x.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&x.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{children:""}),x.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{children:""}),x.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{children:"Email"}),x.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{children:" "}),x.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&x.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" "}),x.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:" "}),x.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>x.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),x.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-","  ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"text-nowrap px-2 py-1 border border-blue-500 text-blue-100 rounded cursor-pointer text-xs",onClick:()=>i.handleViewAsUser(a.id),children:"  ( )"}),x.jsx("button",{className:"text-nowrap px-2 py-1 border border-neutral-500 rounded cursor-pointer text-xs",onClick:()=>i.goTo(`/admin/myeongsik/${a.id}`),children:""}),x.jsx("button",{className:`px-2 py-1 rounded cursor-pointer text-xs text-nowrap ${a.deleted_at?"bg-green-600":"bg-red-600"}`,onClick:()=>i.toggleDeleteMyeongsik(a.id,a.deleted_at),children:a.deleted_at?"":""})]})]})},a.id)),n.myeongsikList.length===0&&x.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function ake({open:e,onClose:t,children:n}){return e?x.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:x.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[x.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),x.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const l3=50;function oke(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState([]),[o,c]=S.useState(1),[u,f]=S.useState("all"),[m,p]=S.useState("all"),[g,v]=S.useState("30"),[w,_]=S.useState(""),[E,T]=S.useState(!1),N=S.useCallback(async P=>{await Le.from("audit_logs").delete().eq("id",P),a(M=>M.filter(D=>D.id!==P))},[]),O=S.useCallback(async()=>{T(!0);const P=new Date;g!=="all"&&P.setDate(P.getDate()-Number(g));let M=Le.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*l3,o*l3-1);g!=="all"&&(M=M.gte("created_at",P.toISOString())),u!=="all"&&(M=M.eq("action",u)),m!=="all"&&(M=M.eq("actor_admin_id",m));const{data:D}=await M;let $=D||[];if(w.trim()!==""){const H=w.toLowerCase();$=$.filter(q=>(JSON.stringify(q).toLowerCase()+(q.payload?JSON.stringify(q.payload).toLowerCase():"")).includes(H))}a($),T(!1)},[o,u,m,g,w]);return S.useEffect(()=>{O()},[O]),x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),x.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[x.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:P=>f(P.target.value),children:[x.jsx("option",{value:"all",children:" Action"}),x.jsx("option",{value:"delete_myeongsik",children:" "}),x.jsx("option",{value:"restore_myeongsik",children:" "}),x.jsx("option",{value:"update_profile",children:" "}),x.jsx("option",{value:"impersonate_user",children:""})]}),x.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:m,onChange:P=>p(P.target.value),children:[x.jsx("option",{value:"all",children:" "}),x.jsx("option",{value:"",children:""}),x.jsx("option",{value:"system",children:"System"})]}),x.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:g,onChange:P=>v(P.target.value),children:[x.jsx("option",{value:"1",children:"24"}),x.jsx("option",{value:"7",children:"7"}),x.jsx("option",{value:"30",children:"30"}),x.jsx("option",{value:"all",children:""})]}),x.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:w,onChange:P=>_(P.target.value)})]}),E?x.jsx("div",{children:"Loading..."}):i.map(P=>x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(P),r(!0)},children:[x.jsxs("div",{className:"flex items-center justify-between gap-3",children:[x.jsx("div",{className:"font-semibold text-lg",children:P.action}),x.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:M=>{M.stopPropagation(),N(P.id)},children:""})]}),x.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[x.jsxs("div",{children:["Actor: ",P.actor_admin_id]}),x.jsxs("div",{children:["Target User: ",P.target_user_id||"-"]}),x.jsxs("div",{children:["Target Record: ",P.target_record_id||"-"]}),x.jsxs("div",{children:["Time: ",new Date(P.created_at).toLocaleString()]})]}),P.payload&&x.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(P.payload,null,2)})]},P.id)),x.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[x.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>c(P=>P-1),children:" "}),x.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),x.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>c(P=>P+1),children:" "})]}),x.jsx(ake,{open:n,onClose:()=>r(!1),children:e&&x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),x.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[x.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),x.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),x.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),x.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),x.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),x.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const ske="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function aU(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1);if(S.useEffect(()=>{(async()=>{const{data:c}=await Le.auth.getUser(),u=c.user?.id;r(!!u&&ske.includes(u)),t(!0)})()},[]),!e)return x.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return x.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=x.jsx(r3,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=x.jsx(ike,{params:{userId:o}})}else i.startsWith("/admin/user")?a=x.jsx(YEe,{}):i.startsWith("/admin/logs")?a=x.jsx(oke,{}):i.startsWith("/admin/dashboard")&&(a=x.jsx(r3,{}));return x.jsx($ue,{children:a})}function lke({pillarsA:e,pillarsB:t}){const n=Rne(e,t);return x.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[x.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?x.jsxs("div",{className:"flex gap-2 text-xs",children:[x.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),x.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const cke=["","","","","","","","","",""],uke=["","","","","","","","","",""],dke=["","","","","","","","","","","",""],fke=["","","","","","","","","","","",""],hke=new Set([...cke,...uke]),mke=new Set([...dke,...fke]);function pke(e){return typeof e=="object"&&e!==null}function c3(e){return typeof e=="string"&&e.length>=2&&hke.has(e[0])&&mke.has(e[1])}function rn(e,...t){if(c3(e))return e;for(const n of t)if(c3(n))return n;return""}function J0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function gke(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function u3(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,c=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(c.getTime())?null:c}function Yb(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function yke(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function fx(e){const{y:t,m:n,d:r,hh:i,mm:a}=yke(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),c=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Ui(t,n,r,c,u):new Date(t,n-1,r,c,u)}function bke(e){const t=fx(e);return`${Yb(e)}-${t.toISOString()}`}function ld(e){const t=e;return typeof t.id=="string"&&t.id?t.id:bke(e)}function vke(e){return pke(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function xke(e){const t=a4;return vke(t)?e==="classic"?t.Classic:t.Modern:e}function _ke(e){if(!e)return"";const t=e,n=c=>typeof t[c]=="string"?String(t[c]).trim().toLowerCase():null,r=c=>typeof t[c]=="boolean"?t[c]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(c=>!!c);for(const c of i){if(["","","male","m","boy","man"].includes(c))return"";if(["","","female","f","girl","woman"].includes(c))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const RS="people_picker_order_v1";function wke(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function d3({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=S.useState("");S.useEffect(()=>{e||a("")},[e]);const o=S.useMemo(()=>t.map(ld),[t]),c=S.useMemo(()=>new Set(o),[o]),[u,f]=S.useState([]);S.useEffect(()=>{const _=localStorage.getItem(RS),E=_?JSON.parse(_):[],T=E.filter(O=>c.has(O)),N=[...T,...o.filter(O=>!T.includes(O))];f(N),JSON.stringify(N)!==JSON.stringify(E)&&localStorage.setItem(RS,JSON.stringify(N))},[o,c]);const m=_=>{f(_),localStorage.setItem(RS,JSON.stringify(_))},p=S.useMemo(()=>{const _=new Map(t.map(O=>[ld(O),O])),E=[];for(const O of u){const P=_.get(O);P&&E.push(P)}_.forEach((O,P)=>{u.includes(P)||E.push(O)});const T=[],N=[];for(const O of E)(typeof O.relationship=="string"?O.relationship.trim():"")===""?T.push(O):N.push(O);return[...T,...N]},[t,u]),g=S.useMemo(()=>{const _=i.trim().toLowerCase();return _?p.filter(E=>{const T=typeof E.relationship=="string"?E.relationship.trim():"";return`${Yb(E)} ${T}`.toLowerCase().includes(_)}):p},[p,i]),v=i.trim()==="",w=_=>{const{destination:E,source:T}=_;if(!E||!v||E.index===T.index)return;const N=g.map(ld),O=wke(N,T.index,E.index),M=p.map(ld).filter($=>!N.includes($)),D=[...O,...M].filter(($,H,q)=>q.indexOf($)===H);m(D)};return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),x.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),x.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),x.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("input",{value:i,onChange:_=>a(_.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),x.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),x.jsx(Xm,{onDragEnd:w,children:x.jsx(lf,{droppableId:"people-picker",children:_=>x.jsxs("ul",{className:"space-y-2",ref:_.innerRef,..._.droppableProps,children:[g.map((E,T)=>{const N=fx(E),O=typeof E.relationship=="string"?E.relationship.trim():"",P=O||" ",M=Yb(E),D=O&&M===" "?O:M;return x.jsx(sf,{draggableId:ld(E),index:T,isDragDisabled:!v,children:$=>x.jsx("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:x.jsxs("button",{onClick:()=>n(E),className:"flex-1 text-left cursor-pointer",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[x.jsx("span",{children:D}),x.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${O?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:P})]}),x.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:lm(N)})]})})},ld(E))}),_.placeholder]})})})]})]})}function LS({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:c,sinsalMode:u,sinsalBloom:f}){const m=_=>{const E=o.showSibiUnseong?Oo(a,_):"",T=o.showSibiSinsal?jo({baseBranch:c,targetBranch:_,era:xke(u),gaehwa:!!f}):"";return{unseongText:E||void 0,shinsalText:T||void 0}},p=rn(t).charAt(1),g=rn(n).charAt(1),v=rn(r).charAt(1),w=rn(i).charAt(1);return x.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[x.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),x.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",rn(t),p],["",rn(n),g],["",rn(r),v],["",rn(i),w]].map(([_,E,T])=>{const{unseongText:N,shinsalText:O}=m(T);return x.jsx(pd,{label:_,gz:E,dayStem:a,settings:qn.getState().settings,unseongText:N,shinsalText:O,hideBranchSipSin:!0,size:"sm"},`${e}-${_}`)})})]})}function cd({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=qn(D=>D.settings),o=S.useMemo(()=>t?fx(t):null,[t]),c="/",u=rn(o?za(o,c):void 0),f=rn(o?gt(o,c):void 0),m=rn(o?kt(o):void 0),p=rn(o?at(o):void 0),g=S.useMemo(()=>f.charAt(0)||"",[f]),v=o,w=S.useMemo(()=>{const D=t?.birthPlace;return!D||D.name===""||!D.lon?127.5:D.lon},[t]),_=t?.mingSikType??c,E=S.useMemo(()=>{const D=v?gt(v,_).charAt(1):f.charAt(1)||"",$=v?at(v,w).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?D:$},[a.sinsalBase,v,_,w,f,p]),T=S.useMemo(()=>{if(n!==""||!o||!t)return null;try{const D=s4(o,u,t.dir,120,t.mingSikType),$=c4(D,f,t.dir,t.DayChangeRule),H=np(o,m,t.dir,120,t?.birthPlace?.lon??127.5),q=u4(H,p,t.dir,t.DayChangeRule,o),K=r;return{si:rn(J0(D.events,K)?.gz,u),il:rn(J0($.events,K)?.gz,f),wl:rn(J0(H.events,K)?.gz,m),yn:rn(J0(q.events,K)?.gz,p)}}catch{return null}},[n,o,u,f,m,p,r,t]),N=S.useMemo(()=>{if(n!=="")return null;const D=r;return{si:rn(za(D,c)),il:rn(gt(D,c)),wl:rn(kt(D)),yn:rn(at(D))}},[n,r]),O=t?Yb(t):"",P=o?lm(o):"",M=t?_ke(t):"";return t?x.jsxs("div",{className:"space-y-2",children:[x.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),x.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[x.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),x.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:O}),M&&x.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",M]}),P&&x.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:P})]}),n===""&&x.jsx(LS,{label:"",gzHour:u,gzDay:f,gzMonth:m,gzYear:p,dayStem:g,cardSettings:a,sinsalBaseBranch:E,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&T&&x.jsx(LS,{label:"",gzHour:T.si,gzDay:T.il,gzMonth:T.wl,gzYear:T.yn,dayStem:g,cardSettings:a,sinsalBaseBranch:E,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&N&&x.jsx(LS,{label:"",gzHour:N.si,gzDay:N.il,gzMonth:N.wl,gzYear:N.yn,dayStem:g,cardSettings:a,sinsalBaseBranch:E,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):x.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:x.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function Ske({people:e=[]}){const[t,n]=S.useState(),[r,i]=S.useState(),[a,o]=S.useState(!1),[c,u]=S.useState(!1),f=S.useRef(new Date),[m,p]=S.useState(()=>gke(f.current)),g=S.useRef(u3(m)??f.current),v=S.useMemo(()=>{const O=u3(m);return O&&(g.current=O),g.current},[m]),[w,_]=S.useState(!1),[E,T]=S.useState(!1);function N(O){if(!O)return["","","",""];try{const P=fx(O),M="/",D={hour:rn(za(P,M)),day:rn(gt(P,M)),month:rn(kt(P)),year:rn(at(P))};return[D.year,D.month,D.day,D.hour]}catch{return["","","",""]}}return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[x.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[x.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[x.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:a,onChange:O=>o(O.target.checked),className:"accent-indigo-500"})," "]}),x.jsx("button",{onClick:()=>u(O=>!O),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:c?" ":" "})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[x.jsx(cd,{label:" A",data:t,mode:"",effectiveDate:v,onPick:()=>_(!0)}),x.jsx(cd,{label:" B",data:r,mode:"",effectiveDate:v,onPick:()=>T(!0)}),a&&t&&x.jsx(cd,{label:" A",data:t,mode:"",effectiveDate:v,onPick:()=>_(!0)}),a&&r&&x.jsx(cd,{label:" B",data:r,mode:"",effectiveDate:v,onPick:()=>T(!0)}),c&&t&&x.jsx(cd,{label:" A",data:t,mode:"",effectiveDate:v,onPick:()=>_(!0)}),c&&r&&x.jsx(cd,{label:" B",data:r,mode:"",effectiveDate:v,onPick:()=>T(!0)})]}),t&&r&&x.jsx("div",{className:"mt-4",children:x.jsx(lke,{pillarsA:N(t),pillarsB:N(r)})}),x.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[x.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),x.jsx("input",{type:"datetime-local",value:m,onChange:O=>p(O.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),x.jsx(d3,{open:w,list:e||[],onSelect:O=>{n(O),_(!1)},onClose:()=>_(!1)}),x.jsx(d3,{open:E,list:e||[],onSelect:O=>{i(O),T(!1)},onClose:()=>T(!1)})]})}function Eke(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),i=async()=>{try{const{data:{user:a}}=await Le.auth.getUser();if(!a){alert("  .");return}const o=a.id,c=new Date().toISOString();await Le.from("profiles").update({disabled_at:c}).eq("id",o),await Le.from("myeongsik").update({deleted_at:c}).eq("user_id",o),await Le.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return x.jsxs(x.Fragment,{children:[x.jsxs("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700",children:[x.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),x.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[x.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),x.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:x.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[x.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),x.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[x.jsx("p",{className:"mb-2",children:"     ,    ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),x.jsxs("p",{className:"mb-2",children:["   (, )",x.jsx("br",{}),"       ( ,  )"]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),x.jsxs("p",{className:"mb-2",children:["     ",x.jsx("br",{}),"    /  ",x.jsx("br",{}),"      "]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),x.jsxs("p",{className:"mb-2",children:["     ",x.jsx("br",{}),"         "]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),x.jsx("p",{className:"mb-2",children:"   3  ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),x.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),x.jsx("p",{children:"   : unique950318@gmail.com"})]}),x.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:x.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[x.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),x.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",x.jsx("br",{}),"    ."]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),x.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function kke(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function f3(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);return!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12||o<1||o>31?null:{y:i,m:a,d:o}}function oU({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31"}){const i=S.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),a=S.useMemo(()=>kke(i),[i]),[o,c]=S.useState(a);S.useEffect(()=>{c(a)},[a]);const u=S.useRef(null),f=g=>{c(g);const v=f3(g);if(!v)return;const{y:w,m:_,d:E}=v,T=new Date(w,_,0).getDate(),N=Math.min(E,T),O=i.getHours(),P=i.getMinutes(),M=i.getSeconds(),D=i.getMilliseconds(),$=new Date(w,_-1,N,O,P,M,D);Number.isNaN($.getTime())||t($)},m=g=>{if(!g)return;c(g);const v=f3(g);if(!v)return;const{y:w,m:_,d:E}=v,T=i.getHours(),N=i.getMinutes(),O=i.getSeconds(),P=i.getMilliseconds(),M=new Date(w,_-1,E,T,N,O,P);Number.isNaN(M.getTime())||t(M)},p=()=>{const g=u.current;if(g){if(typeof g.showPicker=="function"){g.showPicker();return}g.focus(),g.click()}};return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"text",inputMode:"numeric",placeholder:"YYYY-MM-DD",value:o,onChange:g=>f(g.target.value),className:"w-[140px] h-30 rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-base desk:text-sm","aria-label":"()"}),x.jsx("button",{type:"button",onClick:p,className:"rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:""}),x.jsx("input",{ref:u,type:"date",value:o,onChange:g=>m(g.target.value),min:n,max:r,className:"sr-only","aria-hidden":"true",tabIndex:-1})]})}function Ake({ms:e}){const{date:t,setDate:n}=ui(),r=S.useMemo(()=>{const u=typeof e.id=="string"?e.id:"";if(u)return u;const f=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",m=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",f,m].filter(Boolean).join("|")},[e]);S.useEffect(()=>{n(new Date)},[r]);const i=zA(e),a=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,o=S.useMemo(()=>{const u=typeof e.ganji=="string"?e.ganji:"",f=i?.dae?.gz?`${i.dae.gz}`:null,m=i?.se?.gz?`${i.se.gz}`:null,p=i?.wol?.gz?`${i.wol.gz}`:null,g=[f,m,p].filter(Boolean).join(" ");return[u,g].filter(Boolean).join(" + ")},[e.ganji,i]),c=u=>{n(u)};return x.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[o&&x.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:o}),x.jsx("div",{className:"grid grid-cols-1 gap-3",children:x.jsxs("label",{className:"w-full flex justify-center items-center",children:[x.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),x.jsx(oU,{date:a,onChange:c,min:"1900-01-01",max:"2100-12-31"})]})})]})}function Tke(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o,c]=S.useState(!1),[u,f]=S.useState(!1);S.useEffect(()=>{document.title=" - //";const v=window.setTimeout(()=>t(!0),50),w=window.setTimeout(()=>r(!0),250),_=window.setTimeout(()=>a(!0),450);return()=>{window.clearTimeout(v),window.clearTimeout(w),window.clearTimeout(_)}},[]);const m=()=>u?!0:(Ed.error(`   
  .`),!1),p=async()=>{if(!m())return;const{error:v}=await Le.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});v&&(console.error("Google Login Error:",v),Ed.error("   ."))},g=async()=>{if(!m())return;const{error:v}=await Le.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:`${window.location.origin}/`}});v&&(console.error("Kakao Login Error:",v),Ed.error("   ."))};return x.jsxs("main",{className:`relative flex min-h-screen items-center justify-center bg-neutral-950 text-white px-4 transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[x.jsxs("header",{className:`transform transition-all duration-500 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} absolute top-14 text-center max-w-[680px] px-4`,children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:""}),x.jsxs("p",{className:"text-sm text-neutral-300 leading-relaxed",children:["      /       .",x.jsx("br",{}),"   /     "]}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:"( / )         URL   ."})]}),x.jsxs("section",{className:`w-full max-w-sm rounded-2xl bg-neutral-900 p-8 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,"aria-label":"",children:[x.jsx("h2",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),x.jsxs("p",{className:"mb-5 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",x.jsx("br",{}),"       "]}),x.jsx("div",{className:"mb-5 space-y-2",children:x.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:u,onChange:()=>f(!u),className:"mt-[2px]"}),x.jsxs("span",{children:["  .",x.jsx("button",{type:"button",onClick:()=>c(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("button",{type:"button",onClick:p,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[x.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),x.jsx("span",{children:"  "})]}),x.jsxs("button",{type:"button",onClick:g,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[x.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),x.jsx("span",{children:" "})]})]}),x.jsxs("div",{className:"mt-6 border-t border-neutral-800 pt-4 text-xs text-neutral-400 leading-relaxed",children:[x.jsx("p",{className:"font-semibold text-neutral-300 mb-2",children:"    "}),x.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[x.jsx("li",{children:" /  "}),x.jsx("li",{children:"    "}),x.jsx("li",{children:"/ (  )"})]}),x.jsx("p",{className:"mt-3 text-[11px] text-neutral-500",children:": unique950318@gmail.com"})]})]}),x.jsx(Q3,{position:"top-center",toastOptions:{duration:2e3}}),o&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>c(!1),children:x.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:v=>v.stopPropagation(),children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),x.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[x.jsx("p",{className:"mb-2",children:"( )     ,      ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),x.jsxs("p",{className:"mb-2",children:["   ,  (,  )",x.jsx("br",{}),"       ( ,  )"]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),x.jsxs("p",{className:"mb-2",children:["     ",x.jsx("br",{}),"      ",x.jsx("br",{}),"      "]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),x.jsxs("p",{className:"mb-2",children:["     ",x.jsx("br",{}),"           "]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),x.jsx("p",{className:"mb-2",children:"          ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),x.jsx("p",{className:"mb-2",children:" Supabase        ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),x.jsx("p",{children:"   : unique950318@gmail.com"})]}),x.jsx("button",{onClick:()=>c(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function Oke({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:c}){return x.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:"/"}),x.jsxs("span",{className:"mr-3 chkContainer",children:[x.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),x.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),x.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:" "}),x.jsxs("span",{className:"mr-3 chkContainer",children:[x.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),x.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),x.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:""}),x.jsxs("span",{className:"mr-3 chkContainer",children:[x.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>c("male")}),x.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>c("female")}),x.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function jke({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return x.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),c=t===i;return x.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",c?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,x.jsx("br",{}),x.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function Nke({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?x.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):x.jsxs("table",{className:"w-full text-xs",children:[x.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""})]})}),x.jsx("tbody",{children:e.map((i,a)=>x.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[x.jsx("td",{className:"p-1 text-center",children:x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),x.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),x.jsx("td",{className:"p-1 text-center",children:i.date}),x.jsx("td",{className:"p-1 text-center",children:i.year}),x.jsx("td",{className:"p-1 text-center",children:i.month}),x.jsx("td",{className:"p-1 text-center",children:i.day}),x.jsx("td",{className:"p-1 text-center",children:x.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,c)=>x.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:x.jsx("b",{children:o.branch})},c))})}),x.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):x.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function Cke({toast:e,showToast4:t,searchToast:n,error:r}){return x.jsxs(x.Fragment,{children:[e&&x.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:x.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&x.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:x.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&x.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:x.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",x.jsx("br",{}),"   ."]})}),r&&x.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function Mke({choices:e,onChoose:t}){return!e||e.length===0?null:x.jsxs("div",{className:"mb-3",children:[x.jsx("p",{className:"text-sm mb-1",children:"  ."}),x.jsx("div",{className:"flex gap-2",children:e.map(n=>x.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const $T=["","","","","","","","","",""],kp=["","","","","","","","","","","",""],Pke={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},sU=["","","","","","","","","","","",""],Dke=kp,Rke=sU,Lke=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],Ike={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$ke={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Um(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=Pke[n],i=sU.indexOf(t),a=(r+(i>=0?i:0))%10;return $T[a]}function hx(e,t){const n=t===""?Dke:Rke,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=kp.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=$T[(r+a)%10],c=n[a];i[c]=`${o}${c}`}return i}const Bke={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function zke(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function Uke({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?x.jsxs("div",{className:"w-full",children:[n&&x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:""}),x.jsx("div",{className:"grid grid-cols-5 gap-2",children:$T.map(o=>x.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Bi(o,"stem",a)}`,children:o},o))})]}),r&&x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:""}),x.jsx("div",{className:"grid grid-cols-6 gap-2",children:kp.filter(o=>{const c=zke(e),u=t[c];return u?$ke[o]===Ike[u]:!0}).map(o=>x.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Bi(o,"branch",a)}`,children:o},o))})]})]}):x.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function Fke(){const[e,t]=S.useState({}),[n,r]=S.useState(null),[i,a]=S.useState(null),[o,c]=S.useState(!0),[u,f]=S.useState(!0),[m,p]=S.useState(""),[g,v]=S.useState("male"),[w,_]=S.useState(null),[E,T]=S.useState(!1),[N,O]=S.useState(null),[P,M]=S.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[D,$]=S.useState(!1),[H,q]=S.useState(null),[K,F]=S.useState(null),[z,Z]=S.useState(!1),[Q,J]=S.useState(!1),Y=X=>{F(X),setTimeout(()=>F(null),1800)};return S.useEffect(()=>{if(!z)return;const X=setTimeout(()=>Z(!1),2e3);return()=>clearTimeout(X)},[z]),S.useEffect(()=>{if(!Q)return;const X=setTimeout(()=>J(!1),2e3);return()=>clearTimeout(X)},[Q]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:c,useSiju:u,setUseSiju:f,hourRule:m,setHourRule:p,gender:g,setGender:v,results:w,setResults:_,searching:E,setSearching:T,selectedRow:N,setSelectedRow:O,form:P,setForm:M,unknownPlace:D,setUnknownPlace:$,error:H,setError:q,toast:K,showToast4:z,setShowToast:Z,searchToast:Q,setSearchToast:J,showToast:Y}}function lU(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function h3(e,t){return kp.filter(n=>Um(e,n)===t)}function m3(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=h3(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=Um(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=h3(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=Um(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function Hke(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=hx(i.dayStem,r),o=u=>Object.entries(a).find(([,f])=>f.startsWith(u)),c=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=c(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=c(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function Gke(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?Um(e.yearStem,e.monthBranch)!==e.monthStem:!1}function qke(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=hx(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function IS(e,t,n){const i=hx(e,t)[n];return i?i.slice(0,1):null}function Yke({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:c,useSiju:u,setUseSiju:f,hourRule:m,setHourRule:p,setResults:g,setError:v,showToast:w}){const _=o||u,E=!!(e.yearStem&&e.yearBranch),T=!!(e.dayStem&&e.dayBranch),N=!_||E||T,O=!!n&&n.endsWith("Stem"),P=!!n&&n.endsWith("Branch"),M=S.useMemo(()=>lU(e),[e]);return S.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const z=IS(e.dayStem,m,e.hourBranch);z&&t(Z=>({...Z,hourStem:z}))}},[m,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:_,canEnterOthers:N,activeIsStem:O,activeIsBranch:P,filledAll:M,monthBranchChoices:i,handleSelect:z=>{if(!n)return;if(!N&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){v("/      ."),setTimeout(()=>v(null),1500);return}let Q={...e,[n]:z};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const X=m3(Q,n,o);Q=X.next,a(X.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(Q=Hke(Q,n,u,m));let J=!1;Gke(Q,o)&&(c(!1),J=!0),qke(Q,u,m)&&(f(!1),J=!0),J&&w("/  .  ."),t(Q),g(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const X={...Q};if(X.yearStem&&X.yearBranch&&!X.monthStem){r("monthStem");return}if(X.monthStem&&X.monthBranch&&!X.dayStem){r("dayStem");return}if(X.dayStem&&X.dayBranch&&!X.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:z=>{let Z={...e,monthBranch:z};a(null),Z=m3(Z,"monthBranch",o).next,t(Z),r("dayStem")},clearAll:()=>{t({}),g(null),v(null),r(null),a(null)},onToggleWoldu:z=>{g(null),z&&t(Z=>{const Q={...Z};return Q.yearStem&&Q.monthBranch&&(Q.monthStem=Um(Q.yearStem,Q.monthBranch)),Q}),c(z)},onToggleSiju:z=>{g(null),z&&t(Z=>{const Q={...Z};if(Q.dayStem&&Q.hourBranch){const J=IS(Q.dayStem,m,Q.hourBranch);J&&(Q.hourStem=J)}return Q}),f(z)},onChangeHourRule:z=>{if(g(null),p(z),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const Z=IS(e.dayStem,z,e.hourBranch);Z&&t(Q=>({...Q,hourStem:Z}))}}}}function Kke(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,c=t!==null?n?.filter((K,F)=>F===t)??[]:[];if(c.length===0)return{error:"  ."};const u=c[0],f=i===""?"/":"",[m,p,g]=u.date.split("-").map(Number);let v=0,w=0;if(u.hourSlots.length>0){const K=u.hourSlots[0].branch,F=Bke[K];F&&(v=F.hh,w=F.mi)}const _=new Date(m,p-1,g,v,w),E=_,T="",N=r==="male"?"":"",O=Wke(u.year.charAt(0),N),P=at(E,127.5),M=kt(E,127.5),D=gt(E,f),$=za(E,f),H=[`: ${P} ${M} ${D}`,$?`${$}`:null].filter(Boolean).join(" ");return{payload:{id:t4(),name:"",birthDay:`${m}${String(p).padStart(2,"0")}${String(g).padStart(2,"0")}`,birthTime:`${String(v).padStart(2,"0")}${String(w).padStart(2,"0")}`,gender:N,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:Gc(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:H,dayStem:u.day.charAt(0),dateObj:_,corrected:E,correctedLocal:T,dir:O,favorite:!1}}}function Wke(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function Vke(e){Br.getState().add(e)}function Zke(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,c=`${e.hourStem}${e.hourBranch}`,u=[],f=new Date(1900,0,1,12,0,0),m=new Date(2100,11,31,12,0,0);for(let p=f.getTime();p<=m.getTime();p+=24*3600*1e3){const g=new Date(p),v=at(g);if(v!==i)continue;const w=kt(g);if(w!==a)continue;const _=gt(g,n);if(_!==o)continue;const E=hx(e.dayStem,t),T=[];for(let N=0;N<12;N++){const O=kp[N];E[O]===c&&T.push({branch:O,time:Lke[N]})}if(T.length!==0&&(u.push({date:`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`,year:v,month:w,day:_,hour:c,hourSlots:T}),u.length>=r))break}return u}function Xke({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:c,setSearching:u,setError:f,setSearchToast:m,setForm:p,setUnknownPlace:g,showToast:v,onSave:w,onClose:_}){return{doSearch:()=>{if(c(null),f(null),!lU(e)){f(" 4  .");return}u(!0);try{const O=Zke(e,t,t===""?"/":"");O.length===0&&f("  . (: 1900~2100)"),c(O)}catch(N){N instanceof Error?f(N.message):f(String(N))}finally{u(!1)}},handleSave:()=>{const N=Kke({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in N){m(!0);return}ef.flushSync(()=>{Vke(N.payload)}),w(N.payload),v(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),g(!1),_()}}}function Jke({open:e,onClose:t,onSave:n}){const{settings:r}=qn(),i=Fke(),a=Yke({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=Xke({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?x.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:x.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[x.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:x.jsx(d7,{size:20})}),x.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),x.jsx(Oke,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&x.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",x.jsx("br",{}),x.jsx("b",{children:""}),"  ",x.jsx("b",{children:""})," ."]}),x.jsx(jke,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),x.jsx(Mke,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),x.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:x.jsx(Uke,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),x.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[x.jsx("span",{children:x.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),x.jsxs("span",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),x.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),x.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:x.jsx(Nke,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),x.jsx(Cke,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function Qke({copiedInfo:e,copiedAll:t,canCopyInfo:n,canCopyAll:r,lockTitle:i,onCopyInfoOnly:a,onCopyAll:o}){const c=i?" ":"";return x.jsxs("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "}),x.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[x.jsx("button",{type:"button",onClick:a,disabled:!n,title:n?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",n?"cursor-pointer":"cursor-not-allowed opacity-50",e?"bg-green-600 text-white border-green-600":n?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:e?"":`  ${n?"":c}`}),x.jsx("button",{type:"button",onClick:o,disabled:!r,title:r?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",r?"cursor-pointer":"cursor-not-allowed opacity-50",t?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:t?"":`  ${r?"":c}`})]})]})}function eAe({sections:e,toggleSection:t}){return x.jsxs("div",{className:"mt-3 border-t pt-2",children:[x.jsx("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"   "}),x.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function tAe({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return x.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[x.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),x.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(c=>x.jsx("button",{type:"button",onClick:()=>n(c),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===c?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[c].label},c))}),x.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),x.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),x.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function nAe({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return x.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[x.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>x.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&x.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>x.jsx("option",{value:o.key,children:o.label},o.key))})]})}function rAe({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?x.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"font-semibold",children:" "}),x.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[x.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),x.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("span",{className:"font-semibold",children:"  "}),x.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[x.jsx("option",{value:"",children:" "}),a.map(o=>x.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function iAe({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),x.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function aAe({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[x.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const c=!a&&o!=="",u=!c&&t===o;return x.jsxs("button",{type:"button",onClick:()=>{c||n(o)},disabled:c,title:c?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",c?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":c?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",c?"":""]},o)})}),x.jsx(oU,{date:r,onChange:i})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[x.jsx("p",{children:"      ."}),x.jsx("p",{children:"     ."}),x.jsx("p",{children:"      ."})]})]})}function oAe({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:c,onSeEndChange:u,onSeStartBlur:f,onSeEndBlur:m,seYearsCount:p,wolStartDate:g,wolEndDate:v,onWolStartChange:w,onWolEndChange:_,onWolStartBlur:E,onWolEndBlur:T,wolMonthsCount:N,ilStartDate:O,ilEndDate:P,onIlStartChange:M,onIlEndChange:D,onIlStartBlur:$,onIlEndBlur:H,ilDaysCount:q}){return x.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[x.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(K=>x.jsx("button",{type:"button",onClick:()=>t(K),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===K?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:K},K))}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),x.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((K,F)=>x.jsxs("button",{type:"button",onClick:()=>i(F),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(F)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[x.jsx("div",{className:"font-mono",children:K.gz}),x.jsxs("div",{className:"text-[10px] opacity-80",children:[K.age," (",K.startYear,"~",K.endYear,")"]})]},F))})]}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("input",{type:"number",value:a,onChange:K=>c(Number(K.target.value)),onBlur:f,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),x.jsx("span",{className:"text-xs",children:"~"}),x.jsx("input",{type:"number",value:o,onChange:K=>u(Number(K.target.value)),onBlur:m,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("input",{type:"month",value:g,onChange:K=>w(K.target.value),onBlur:E,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),x.jsx("span",{className:"text-xs",children:"~"}),x.jsx("input",{type:"month",value:v,onChange:K=>_(K.target.value),onBlur:T,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",N,""]})]}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 30)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("input",{type:"date",value:O,onChange:K=>M(K.target.value),onBlur:$,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),x.jsx("span",{className:"text-xs",children:"~"}),x.jsx("input",{type:"date",value:P,onChange:K=>D(K.target.value),onBlur:H,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",q,""]})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[x.jsxs("p",{children:[" ",e,"   ."]}),x.jsx("p",{children:"    ."})]})]})}function sAe({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:c}){const u=c?" ":"";return x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&x.jsx("button",{type:"button",onClick:i,disabled:o,title:o?c:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),x.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?c:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),x.jsxs("div",{className:"mb-4 text-center",children:[x.jsx("button",{type:"button",onClick:n,disabled:o,title:o?c:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&x.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&x.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((f,m)=>x.jsxs("li",{className:"flex gap-1 items-start",children:[x.jsxs("span",{className:"shrink-0",children:[m+1,"."]}),x.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:f}),x.jsx("button",{type:"button",onClick:()=>a(m),disabled:o,title:o?c:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},m))})]})}function lAe({value:e,lockSelection:t=!1}){return t?x.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:" ,  ."}):x.jsx("textarea",{readOnly:!0,value:e,placeholder:"   .",className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 overflow-y-auto resize-none"})}const cAe={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},uAe=["","","","",""],dAe={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},p3={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function fAe(){const[e,t]=S.useState(null);return S.useEffect(()=>{let n=!0;return Le.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const hAe={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},Kb=au(e=>({sections:hAe,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),$S=1e3*60*60*24;function BS(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function Q0(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function ey(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function g3(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function y3(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function mAe(){const e=new Date().getFullYear(),[t,n]=S.useState(e),[r,i]=S.useState(e),[a,o]=S.useState(()=>y3()),[c,u]=S.useState(()=>y3()),[f,m]=S.useState(()=>g3()),[p,g]=S.useState(()=>g3()),v=J=>{n(J)},w=J=>{i(J)},_=()=>{const J=t;let Y=r;Y<J&&(Y=J),Y-J>9&&(Y=J+9),i(Y)},E=()=>{let J=t;const Y=r;Y<J&&(J=Y),Y-J>9&&(J=Y-9),n(J)},T=S.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const J=r-t+1;return J>0?J:0},[t,r]),N=S.useMemo(()=>{const J=[];if(!Number.isFinite(t)||!Number.isFinite(r))return J;for(let Y=t;Y<=r&&J.length<10;Y++)J.push(Y);return J},[t,r]),O=J=>{o(J)},P=J=>{u(J)},M=()=>{const[J,Y]=a.split("-").map(Number),[X,re]=c.split("-").map(Number),ue=new Date(J,Y-1),se=new Date(X,re-1);if(se<ue){u(Q0(ue));return}if(BS(ue,se)>11){const W=new Date(ue);W.setMonth(ue.getMonth()+11),u(Q0(W))}},D=()=>{const[J,Y]=a.split("-").map(Number),[X,re]=c.split("-").map(Number),ue=new Date(J,Y-1),se=new Date(X,re-1);if(se<ue){o(Q0(se));return}if(BS(ue,se)>11){const W=new Date(se);W.setMonth(se.getMonth()-11),o(Q0(W))}},$=S.useMemo(()=>{const[J,Y]=(a||"").split("-").map(Number),[X,re]=(c||"").split("-").map(Number);if(!Number.isFinite(J)||!Number.isFinite(Y)||!Number.isFinite(X)||!Number.isFinite(re))return 0;const ue=new Date(J,Y-1,1),se=new Date(X,re-1,1),B=BS(ue,se)+1;return B>0?B:0},[a,c]),H=S.useMemo(()=>{const J=[],[Y,X]=a.split("-").map(Number),[re,ue]=c.split("-").map(Number),se=new Date(Y,X-1),B=new Date(re,ue-1);if(Number.isNaN(se.getTime())||Number.isNaN(B.getTime()))return J;for(;se<=B&&J.length<12;)J.push(`${se.getFullYear()}-${String(se.getMonth()+1).padStart(2,"0")}`),se.setMonth(se.getMonth()+1);return J},[a,c]),q=J=>{m(J)},K=J=>{g(J)},F=()=>{if(!f||!p)return;const[J,Y,X]=f.split("-").map(Number),[re,ue,se]=p.split("-").map(Number),B=new Date(J,Y-1,X,4,0,0),W=new Date(re,ue-1,se,4,0,0);if(W<B){g(ey(B));return}if(Math.floor((W.getTime()-B.getTime())/$S)>7){const V=new Date(B);V.setDate(B.getDate()+6),g(ey(V))}},z=()=>{if(!f||!p)return;const[J,Y,X]=f.split("-").map(Number),[re,ue,se]=p.split("-").map(Number),B=new Date(J,Y-1,X,4,0,0),W=new Date(re,ue-1,se,4,0,0);if(B>W){m(ey(W));return}if(Math.floor((W.getTime()-B.getTime())/$S)>7){const V=new Date(W);V.setDate(W.getDate()-6),m(ey(V))}},Z=S.useMemo(()=>{const[J,Y,X]=(f||"").split("-").map(Number),[re,ue,se]=(p||"").split("-").map(Number);if(!Number.isFinite(J)||!Number.isFinite(Y)||!Number.isFinite(X)||!Number.isFinite(re)||!Number.isFinite(ue)||!Number.isFinite(se))return 0;const B=new Date(J,Y-1,X,4,0,0),W=new Date(re,ue-1,se,4,0,0),ae=Math.floor((W.getTime()-B.getTime())/$S)+1;return ae>0?ae:0},[f,p]),Q=S.useMemo(()=>{const J=[],[Y,X,re]=f.split("-").map(Number),[ue,se,B]=p.split("-").map(Number),W=new Date(Y,X-1,re,4,0,0),ae=new Date(ue,se-1,B,4,0,0);if(Number.isNaN(W.getTime())||Number.isNaN(ae.getTime()))return J;const V=new Date(W);for(;V<=ae&&J.length<31;){const oe=V.getFullYear(),me=String(V.getMonth()+1).padStart(2,"0"),pe=String(V.getDate()).padStart(2,"0");J.push(`${oe}-${me}-${pe}`),V.setDate(V.getDate()+1)}return J},[f,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:c,ilStartDate:f,ilEndDate:p,onSeStartChange:v,onSeEndChange:w,onSeStartBlur:_,onSeEndBlur:E,onWolStartChange:O,onWolEndChange:P,onWolStartBlur:M,onWolEndBlur:D,onIlStartChange:q,onIlEndChange:K,onIlStartBlur:F,onIlEndBlur:z,seYearsCount:T,wolMonthsCount:$,ilDaysCount:Z,seYearsList:N,wolMonthsList:H,ilDaysList:Q}}function pAe({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=Kb(se=>se.sections),i=Kb(se=>se.toggleSection),[a,o]=S.useState("analysis"),[c,u]=S.useState(!1),[f,m]=S.useState(!1),[p,g]=S.useState(""),[v,w]=S.useState("personality"),[_,E]=S.useState("overview"),[T,N]=S.useState("solo"),[O,P]=S.useState(""),[M,D]=S.useState(!1),[$,H]=S.useState(""),[q,K]=S.useState([]),[F,z]=S.useState(""),[Z,Q]=S.useState([]),J=mAe();S.useEffect(()=>{v!=="love"&&v!=="compat"&&(N("solo"),g(""))},[v]),S.useEffect(()=>{!t&&M&&D(!1)},[t,M]),S.useEffect(()=>{!n&&O!==""&&P("")},[n,O]),S.useEffect(()=>{$!==""&&K([])},[$]),S.useEffect(()=>{z(""),Q([])},[e]);function Y(){const se=F.trim();se&&(Q(B=>[...B,se]),z(""))}function X(se){Q(B=>B.filter((W,ae)=>ae!==se))}function re(){Q([])}function ue(se){K(B=>B.includes(se)?B.filter(W=>W!==se):[...B,se])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:c,setFriendMode:u,teacherMode:f,setTeacherMode:m,partnerId:p,setPartnerId:g,mainCategory:v,setMainCategory:w,subCategory:_,setSubCategory:E,relationMode:T,setRelationMode:N,activeTab:O,setActiveTab:P,isMultiMode:M,setIsMultiMode:D,multiTab:$,setMultiTab:H,selectedDaeIdx:q,setSelectedDaeIdx:K,handleToggleDae:ue,rangeControls:J,questionDraft:F,setQuestionDraft:z,extraQuestions:Z,setExtraQuestions:Q,handleAddQuestion:Y,handleRemoveQuestion:X,handleClearQuestions:re}}const cU=au(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function BT(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=Ui(t,n,r);t=O.getFullYear(),n=O.getMonth()+1,r=O.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),c=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,f=Jm(c,u,i),m=e.mingSikType??"/",p=at(f,u),g=kt(f,u),v=gt(f,m),w=i?null:za(f,m),_=De(p),E=De(g),T=De(v),N=w?De(w):"";return[_,E,T,N]}function uU(e){const t=new Date(e.corrected),n=BT(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",c=o&&a||!o&&!a?"forward":"backward",u=np(t,n[1],c,120,e.birthPlace?.lon??127.5),f=u.firstChange;if(!f)return[];const m=[];let p=De(u.events[0]?.gz??n[1]);for(let g=0;g<10;g++){const v=new Date(f);if(v.setFullYear(v.getFullYear()+g*10),g>0){const w=u.events[g];w&&(p=De(w.gz))}m.push(`${v.getFullYear()} ${String(v.getMonth()+1).padStart(2,"0")} ${p}  `)}return m}const gAe=["- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    ."],yAe=["- :     . ////  .","- :  ,  .    . //   .","- : ~  //     .    .","- , /      , ////   .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""," ","-  .  /  /  ","-   =  . 1~2 "];function bAe(e,t){e.push("### ()");const n=t?yAe:gAe;e.push(...n)}function vAe(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function xAe(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...c)=>e.push(...c);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."):o("","## ()","-  /  .","-         .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function _Ae(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function wAe(e,t){xAe(e,t)||_Ae(e,t)}function SAe(e){return e==="multi"?"multi":"single"}function dU(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const c=SAe(r),u=[],f=o===!0;return bAe(u,f),t==="etc"||(vAe(u,{mode:c,tab:i,isStudyTone:f}),wAe(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:f})),u.join(`
`)}const EAe=!1,b3=e=>e<10?`0${e}`:`${e}`;function kAe(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const c=Ui(i,a,o,0,0),u=`${c.getFullYear()}${b3(c.getMonth()+1)}${b3(c.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const em={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},tm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ru={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ty={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},AAe=["","","","",""];function v3(e){return AAe.includes(e)}const fU={:"",:"",:"",:"",:""},hU={:"",:"",:"",:"",:""},mU={:"",:"",:"",:"",:""},pU={:"",:"",:"",:"",:""};function Ik(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(em[t])return em[t];if(["","","","","","","","","","","",""].includes(t))return ty[t]??null;if(tm[t])return ty[tm[t]]??null;const n=t.charAt(0);return em[n]?em[n]:["","","","","","","","","",""].includes(n)?n:tm[n]?ty[tm[n]]??null:["","","","","","","","","","","",""].includes(n)?ty[n]??null:null}function TAe(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Ik(n);i&&(t[i]=(t[i]??0)+r)}return t}function OAe(e){if(!e)return[];const t=Ik(e.charAt(0)),n=Ik(e.charAt(1));return[t,n].filter(Boolean)}function ny(e){const t=OAe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function jAe(e,t){const n=ru[e],r=ru[t];if(!n||!r)return"";let i;r===n?i="":r===fU[n]?i="":r===hU[n]?i="":r===mU[n]?i="":r===pU[n]?i="":i="";const a=v3(e)===v3(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function gU(e,t){return t===e?"":t===fU[e]?"":t===hU[e]?"":t===mU[e]?"":t===pU[e]?"":""}function yU(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const o=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}const NAe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},CAe=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=em[t]??t,i=tm[n]??n;return`${r}${i}`},zT=e=>{const t=CAe(e),n=NAe[t];return n?{...n,code:t}:null};function bU(e,t){const n=kAe(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let c="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),f=String(n.corrected.getMinutes()).padStart(2,"0");c=t?"":`${u}:${f}`}return`${i} ${a} ${o}  ${c}`}function MAe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=ru[n];i&&(t[i]+=r)}return t}function PAe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=jAe(t,r);n[a]+=i}return n}function DAe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const RAe={natal:50,dae:30,se:20,wol:7,il:3};function LAe(e){const t={};for(const{kind:r,bare:i}of e){const a=RAe[r]??0;if(a<=0)continue;const o=yU(i);for(const[c,u]of Object.entries(o))t[c]=(t[c]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function vU(e,t,n){const r=TAe(e.perStemElementScaled),i=t!==""&&n?.dae?ny(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?ny(n.se):{},o=(t===""||t==="")&&n?.wol?ny(n.wol):{},c=t===""&&n?.il?ny(n.il):{},u=LAe([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:c}]),f=yU(u),m=MAe(f),p=PAe(f,e.dayStem),g=DAe(p);return{perStemAugBare:f,elementPercent:m,totalsSub:p,totalsMain:g}}function xU(e){return!e.birthTime||e.birthTime===""}function _U(e,t){return t[3]?["","","",""]:["","",""]}function IAe(e,t){return e.map((n,r)=>t[r]??"")}const $Ae=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Wb(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>Wb(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if($Ae(e)){const t={};for(const[n,r]of Object.entries(e)){const i=Wb(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function BAe(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function zAe(e,t){const n=Wb(e);if(n===void 0)return"";const r=BAe(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function wU(e,t,n){const r=zAe(t,n);return r.trim()?`## ${e}
${r}`:""}const Fn=(e,t)=>wU(e,t,"plain"),Pr=(e,t)=>wU(e,t,"fenced"),UAe=(e,t)=>{if(!e)return{};const n=t,r=c=>{if(!c)return;const u={};for(const[f,m]of Object.entries(c)){if(!Array.isArray(m))continue;const p=m.filter(g=>typeof g=="string"&&g.includes(n));p.length>0&&(u[f]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},FAe=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function $k(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${gU(t,n)})`,r]))}function HAe(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let c=0;c<r.length;c++){const u=n[c]??"";u&&a.push({kind:"natal",pos:r[c],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function GAe(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${De(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${De(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${De(t.wol)}`),e===""&&t.il&&n.push(`:${De(t.il)}`),n.length>0?n.join(" / "):"()"}function SU(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:c,category:u,topic:f,subTopic:m,relationMode:p,teacherMode:g,sections:v}=e,w=v?.tenGod??!0,_=v?.twelveUnseong??!0,E=v?.twelveShinsal??!0,T=v?.shinsal??!0,N=v?.nabeum??!0,O=xU(t),P=De(n[3]??""),M=!!P,D=[De(n[0]??""),De(n[1]??""),De(n[2]??""),P],$=uU(t).slice(0,10),H=_l({natal:D,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),q=zd({natal:D,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:K,shinsalGaehwa:F,shinsalBase:z}=cU.getState(),Z=z===""?D[0]?.charAt(1)??"":D[2]?.charAt(1)??"",Q=vU(o,a,r),J=Q.elementPercent,Y=Q.totalsSub,{flags:X}=t7(D,o.elementScoreRaw),re=`${u} (${c.toFixed(1)}%)  ${[` ${X..||X..||X..||X..?"":""}`,` ${X..||X..||X..||X..?"":""}`,` ${X..||X..?"":""}`].join(", ")}`,ue=_U(t,D),se=o.dayStem,B=ru[se]??ru[o.dayStem]??"",W=[` : ${t.name??""} (${bU(t,O)}) : ${t.gender}`,` ${D[0]} ${D[1]} ${D[2]}`+(M?` ${D[3]}`:""),`: ${GAe(a,r)}`].join(`
`),ae=[];ae.push(Pr("  (10)",$)),ae.push(Pr("",re)),ae.push(Pr("(  )",$k(o.natalFixed.elementPercent100,B))),a!==""&&ae.push(Pr(`(=${a})`,$k(J,B))),w&&(ae.push(Pr(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ae.push(Pr(` ( 10=${a} 100)`,Y)));const V=HAe({tab:a,natal:D,posLabels:ue,chain:r});if(_){const ne=V.map(({pos:Oe,gz:Ce})=>({pos:Oe,gz:Ce,unseong:Oo(D[2]?.charAt(0)??"",Ce.charAt(1))}));ae.push(Pr("(+ )",ne))}if(E){const ne=V.map(({pos:Oe,gz:Ce})=>({pos:Oe,gz:Ce,shinsal:jo({baseBranch:Z,targetBranch:Ce.charAt(1),era:K,gaehwa:F})}));ae.push(Pr("(+  )",ne))}if(N){const ne=[];for(const Oe of V){const Ce=zT(Oe.gz);if(!Ce){Oe.kind==="natal"&&ne.push({pos:Oe.pos,gz:Oe.gz,nabeum:null});continue}ne.push({pos:Oe.pos,gz:Oe.gz,nabeum:Ce.name,element:Ce.element,code:Ce.code})}ae.push(Pr("(+ )",ne))}if(ae.push(Pr("()",QA(ue.map((ne,Oe)=>D[Oe]??"")))),ae.push(Pr("( :  )",H)),T)if(a===""){const ne=zd({natal:D,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ae.push(Pr("( )",{good:ne.good,bad:ne.bad,meta:ne.meta}))}else ae.push(Pr(`( =${a})`,q));const oe=ae.filter(ne=>ne&&ne.trim().length>0).join(`

`),me=dU({topic:f,subTopic:m,timeMode:"single",tab:a,relationMode:p,teacherMode:g}),pe=["-----","  ","","1.       (////)  .","2.  ,        ."];me&&pe.push("","  ( )",me);const be=pe.join(`
`);return{header:W,body:oe,guide:be}}function qAe(e){const{header:t,body:n,guide:r}=SU(e);return[t,n,r].join(`

`)}function xo(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:c,unified:u,dayEl:f,baseDayStem:m,show:p,shinsalSettings:g,harmonyMode:v="scope",includeBasicInfo:w=!0}=e,_=vU(u,t,i),E=_l({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),T=p.shinsal?zd({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:c}):null,N=p.nabeum?zT(r):null,O=p.twelveUnseong?Oo(m,r.charAt(1)):null,P=p.twelveShinsal?jo({baseBranch:g.baseBranch,targetBranch:r.charAt(1),era:g.era,gaehwa:g.gaehwa}):null,M=v==="full"?E:FAe(E,t);return{...w?{:n,:r}:{},:$k(_.elementPercent,f),...p.tenGod?{:_.totalsSub}:{},:M,...p.shinsal?{:UAe(T,t)}:{},...p.nabeum?{:N?{gz:r,nabeum:N.name,element:N.element,code:N.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:O}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:P}}:{}}}function YAe(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(n.length===0||t.length===0)return[];const m=[];for(const p of t){const g={dae:p.gz,se:null,wol:null,il:null},v=xo({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:g,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"full",includeBasicInfo:!1});m.push(Fn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,v))}return m.filter(p=>p.trim().length>0)}function UT(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function EU(e,t){const n=e[t],r=e[t+1];return r?UT(r):new Date(n.endYear+1,0,1)}function kU(e,t,n,r){return e<r&&t>n}function AU(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const c=e[o],u=UT(c),f=EU(e,o);kU(u,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function TU(e,t){return AU(e,t,t)}function Vb(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const c=e[o],u=UT(c),f=EU(e,o);kU(u,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function OU(e){const t=315569259747e-1,i=Date.UTC(1900,1,4,7,15,0)+(e-1900)*t+3*t/24,a=new Date(i);return new Date(a.getTime()+540*60*1e3)}function Zb(e,t){const n=[],r=new Date(e,t-1,15,0,0,0),i=new Date(e,t,1,15,0,0),a=OU(e),o=at(new Date(e-1,5,15)),c=at(new Date(e,5,15)),u=at(new Date(e+1,5,15));if(i<=a)o&&n.push(De(o));else if(r>=a)c&&n.push(De(c));else if(o&&n.push(De(o)),c){const f=De(c);n.includes(f)||n.push(f)}if(t===12&&u){const f=De(u);n.includes(f)||n.push(f)}return n}function KAe(e,t){const n=OU(e),r=new Date(e,t-1,1),i=[];return r<n&&i.push(e-1),r>=n&&i.push(e),t===12&&i.push(e+1),i}function WAe(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const m=[],p=t[0],g=t[t.length-1],v=AU(n,p,g);if(v.length>0){const w=p,_=at(new Date(w,5,15)),E=De(_||""),T={:v.map(N=>{const O={dae:N.gz,se:E||null,wol:null,il:null};return xo({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:O,natal:r,relationArgs:{daewoon:N.gz,sewoon:E||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};m.push(Fn("",T))}for(const w of t){const _=at(new Date(w,5,15)),E=TU(n,w),T=E.length>0?E[0]:null,N=De(_||""),O={dae:T?T.gz:null,se:N||null,wol:null,il:null},P=xo({scope:"",infoText:`${w} ${N}`,gz:N,chain:O,natal:r,relationArgs:{daewoon:T?.gz,sewoon:N||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});m.push(Fn(` ${w}`,{:P}))}return m.filter(w=>w.trim().length>0)}function VAe(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const m=[],p=[],g=new Map;for(const T of t){const[N,O]=T.split("-").map(Number),P=Vb(n,N,O);for(const $ of P)p.some(H=>H.gz===$.gz&&H.startYear===$.startYear)||p.push($);const M=KAe(N,O);Zb(N,O).forEach(($,H)=>{const q=M[H]??M[M.length-1];g.has($)||g.set($,{year:q,month:O})})}const[v]=t[0].split("-").map(Number),w=at(new Date(v,5,15)),_=De(w||"");if(p.length>0){const T={:p.map(N=>{const O={dae:N.gz,se:_||null,wol:null,il:null};return xo({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:O,natal:r,relationArgs:{daewoon:N.gz,sewoon:_||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};m.push(Fn("",T))}const E=Array.from(g.keys());if(E.length>0){const T={:E.map(N=>{const P=g.get(N).year,D=TU(n,P)[0]??p[0]??null,$={dae:D?D.gz:null,se:N,wol:null,il:null};return xo({scope:"",infoText:`${P} ${N}`,gz:N,chain:$,natal:r,relationArgs:{daewoon:D?.gz,sewoon:N,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};m.push(Fn("",T))}for(const T of t){const[N,O]=T.split("-").map(Number),P=new Date(N,O-1,15),M=kt(P),D=Vb(n,N,O),$=D.length>0?D[0]:null,H=Zb(N,O),q=H.length>0?H[H.length-1]:"",K=De(M||""),F={dae:$?$.gz:null,se:q||null,wol:K,il:null},z=xo({scope:"",infoText:`${T} ${K}`,gz:K,chain:F,natal:r,relationArgs:{daewoon:$?.gz,sewoon:q||void 0,wolwoon:K,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});m.push(Fn(` ${T}`,{:z}))}return m.filter(T=>T.trim().length>0)}function ZAe(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,dayBoundaryRule:m}=e;if(t.length===0)return[];const p=[],[g,v,w]=t[0].split("-").map(Number),_=new Date(g,v-1,w,4,0);if(!Number.isNaN(_.getTime())){const E=Vb(n,g,v),T=E.length>0?E[0]:null,N=Zb(g,v),O=N.length>0?N[N.length-1]:"",P=kt(new Date(g,v-1,15)),M=gt(_,m),D=De(P||""),$=De(O||""),H=De(M||"");if(T){const q={dae:T.gz,se:$,wol:D,il:H},K=xo({scope:"",infoText:`${T.age} ${T.gz} (${T.startYear}~${T.endYear})`,gz:T.gz,chain:q,natal:r,relationArgs:{daewoon:T.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Fn("",K))}if($){const q={dae:T?T.gz:null,se:$,wol:D,il:H},K=xo({scope:"",infoText:`${g} ${$}`,gz:$,chain:q,natal:r,relationArgs:{daewoon:T?.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Fn("",K))}if(D){const q={dae:T?T.gz:null,se:$,wol:D,il:H},K=xo({scope:"",infoText:`${g}-${String(v).padStart(2,"0")} ${D}`,gz:D,chain:q,natal:r,relationArgs:{daewoon:T?.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Fn("",K))}}for(const E of t){const[T,N,O]=E.split("-").map(Number),P=new Date(T,N-1,O,4,0);if(Number.isNaN(P.getTime()))continue;const M=Vb(n,T,N),D=M.length>0?M[0]:null,$=Zb(T,N),H=$.length>0?$[$.length-1]:"",q=kt(new Date(T,N-1,15)),K=gt(P,m),F=De(q||""),z=De(H||""),Z=De(K||""),Q={dae:D?D.gz:null,se:z||null,wol:F,il:Z},J=xo({scope:"",infoText:`${E} ${Z}`,gz:Z,chain:Q,natal:r,relationArgs:{daewoon:D?.gz,sewoon:z||void 0,wolwoon:F||void 0,ilwoon:Z||void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Fn(` ${E}`,{:J}))}return p.filter(E=>E.trim().length>0)}function jU(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:c,selectedDaeList:u,daeList:f,seYears:m,wolMonths:p,ilDays:g,topic:v,subTopic:w,timeMode:_,teacherMode:E,sections:T}=e,N=xU(t),O=De(n[3]??""),P=!!O,M=t.mingSikType??"/",D=[De(n[0]??""),De(n[1]??""),De(n[2]??""),O],$=_U(t,D),H=D[2]?.charAt(0)??"",q=ru[H]??ru[a.dayStem]??"",K=!!i&&(T?.tenGod??!0),F=T?.twelveUnseong??!0,z=T?.twelveShinsal??!0,Z=T?.shinsal??!0,Q=T?.nabeum??!0,{shinsalBase:J,shinsalEra:Y,shinsalGaehwa:X}=cU.getState(),re=J===""?D[0]?.charAt(1)??"":D[2]?.charAt(1)??"",ue=bU(t,N),se=[` : ${t.name??""} (${ue}) : ${t.gender}`,` ${D[0]} ${D[1]} ${D[2]}`+(P?` ${D[3]}`:"")].join(`
`),B=[],{flags:W}=t7(D,a.elementScoreRaw),ae=`${c} (${o.toFixed(1)}%)  ${[` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`].join("  ")}`;if(B.push(Fn("",ae)),B.push(Fn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([pe,be])=>[`${pe}(${gU(q,pe)})`,be])))),K&&B.push(Fn(" ( 10 100)",a.natalFixed.totalsSub)),F){const pe=Object.fromEntries($.map((be,ne)=>[be,Oo(H,(D[ne]??"").charAt(1))]));B.push(Fn("()",pe))}if(z){const pe=Object.fromEntries($.map((be,ne)=>[be,jo({baseBranch:re,targetBranch:(D[ne]??"").charAt(1),era:Y,gaehwa:X})]));B.push(Fn("()",pe))}B.push(Fn("//",W));const V=QA(IAe($,D));if(B.push(Fn("()",V)),Z){const pe=zd({natal:D,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});B.push(Fn("()",pe))}if(Q){const pe=Object.fromEntries($.map((be,ne)=>{const Oe=D[ne]??"",Ce=zT(Oe);return[be,Ce?{gz:Oe,nabeum:Ce.name,element:Ce.element,code:Ce.code}:null]}));B.push(Fn("()",pe))}f.length>0&&u.length>0&&B.push(...YAe({selectedDaeList:u,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:F,twelveShinsal:z,shinsal:Z,nabeum:Q},shinsalSettings:{baseBranch:re,era:Y,gaehwa:X}})),m.length>0&&B.push(...WAe({seYears:m,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:F,twelveShinsal:z,shinsal:Z,nabeum:Q},shinsalSettings:{baseBranch:re,era:Y,gaehwa:X}})),p.length>0&&B.push(...VAe({wolMonths:p,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:F,twelveShinsal:z,shinsal:Z,nabeum:Q},shinsalSettings:{baseBranch:re,era:Y,gaehwa:X}})),g.length>0&&B.push(...ZAe({ilDays:g,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:F,twelveShinsal:z,shinsal:Z,nabeum:Q},shinsalSettings:{baseBranch:re,era:Y,gaehwa:X},dayBoundaryRule:M}));const oe=dU({topic:v,subTopic:w,timeMode:_,teacherMode:E}),me=(Wb(B.join(`

`))??"").toString();return{header:se,body:me,guide:oe}}function XAe(e){const{header:t,body:n,guide:r}=jU(e);return[t,"",n,"",r].join(`
`)}function FT(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),c=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${c}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const c=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=c.slice(0,2),f=c.slice(2,4);r=`${u}:${f}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function JAe(e){const{header:t,body:n}=SU(e),r=e.relationMode==="couple"?FT(e.partnerMs??null):null,i=r?Pr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function QAe(e){const{header:t,body:n}=jU(e),r=e.relationMode==="couple"?FT(e.partnerMs??null):null,i=r?Pr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function e2e(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function t2e(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function n2e(e){return e?`    .
`:""}function r2e(e,t){if(e!=="couple")return"";const n=FT(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function Pd(e){return De(e)}function i2e(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function x3(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=De(n??"");return i||(r<=2?"--":"")})}function a2e(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=Pd(at(t)||""),i=Pd(kt(t)||""),a=Pd(gt(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function o2e(e,t){const n=x3(e),r=x3(t);return{solarKo:n,lunarKo:r}}function Bk(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function s2e(e,t,n){return e?"solar":t?"lunar":"solar"}function l2e(e,t,n,r,i,a,o,c){return Bk(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,c)}function c2e(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=Pd(at(a)||""),c=Pd(kt(a)||""),u=Pd(gt(a,t)||"");return[o,c,u,""]}function u2e(e,t){return t&&e?e.stem+e.branch:""}function d2e(e,t,n){const i=[...BT(e)];return n&&t&&t.length===2&&(i[3]=t),i}function f2e(e){const t=a7(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=n2(t);return{percent:n,category:I4(n)}}function h2e(e){const t=uU(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,c=a?Number(a[2]):1,u=1,f=a?a[3]:"",m=n>0?g2e(n,o):i*10;return{gz:f,age:m,startYear:o,startMonth:c,startDay:u,endYear:o+10}})}function m2e(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function p2e(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function _3(e){return i2e(e)}function g2e(e,t){return t-e+1}function y2e({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:c,input:u}){const{tone:f,friendMode:m,teacherMode:p,partnerId:g,mainCategory:v,subCategory:w,relationMode:_,activeTab:E,isMultiMode:T,multiTab:N,selectedDaeIdx:O,rangeControls:P,extraQuestions:M,sections:D}=u,$=Br(qt=>qt.list),{date:H,setDate:q}=ui();S.useEffect(()=>{q(new Date)},[e.id,q]);const K=S.useMemo(()=>g?$.find(qt=>qt.id===g)??null:null,[g,$]),F=e.mingSikType??"/",z=S.useMemo(()=>H??new Date,[H]),Z=S.useMemo(()=>a2e(r,z,F),[r,z,F]),Q=S.useMemo(()=>c?Z:{dae:null,se:null,wol:null,il:null},[c,Z]),J=Wm(qt=>qt.manualHour),Y=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:X,lunarKo:re}=S.useMemo(()=>o2e(t,n),[t,n]),ue=S.useMemo(()=>Bk(X,J,Y),[X,J,Y]),se=S.useMemo(()=>Bk(re,J,Y),[re,J,Y]),B=S.useMemo(()=>c2e(e,F),[e,F]),W=_3(ue),ae=_3(se),V=s2e(W,ae),oe=S.useMemo(()=>l2e(V,W,ae,ue,se,B,J,Y),[V,W,ae,ue,se,B,J,Y]),me=S.useMemo(()=>Y&&J?J.stem+J.branch:oe[3]||"",[J,oe,Y]),pe=u2e(J,Y),be=S.useMemo(()=>d2e(e,pe,Y),[e,pe,Y]),ne=c?E:"",Oe=v==="love"||v==="compat",ve=Oe&&_==="couple"?K??null:null,Ze=Oe?_:void 0,Ne=S.useMemo(()=>kv({natal:be,tab:ne,chain:Q,hourKey:me}),[be,ne,Q,me]),{percent:_e,category:je}=S.useMemo(()=>f2e(be),[be]),Ie=S.useMemo(()=>h2e(e),[e]),Ve=S.useMemo(()=>m2e($??[],e.id),[$,e.id]),bt=S.useMemo(()=>O.map(qt=>Ie[qt]).filter(qt=>!!qt),[O,Ie]),xt=S.useMemo(()=>N===""?P.seYearsList:[],[N,P.seYearsList]),Pt=S.useMemo(()=>N===""?P.wolMonthsList:[],[N,P.wolMonthsList]),fe=S.useMemo(()=>N===""?P.ilDaysList:[],[N,P.ilDaysList]),Me=S.useMemo(()=>e?qAe({ms:e,natal:be,chain:Q,basis:i,tab:ne,unified:Ne,percent:_e,category:je,topic:v,subTopic:w,relationMode:_,teacherMode:p,sections:D}):"",[e,i,a,ne,Q,Ne,_e,je,be,v,w,_,ve,p,D]),Be=S.useMemo(()=>!e||!T||!o?"":XAe({ms:e,natal:be,basis:i,includeTenGod:a,unified:Ne,percent:_e,category:je,selectedDaeList:bt,daeList:Ie,seYears:xt,wolMonths:Pt,ilDays:fe,topic:v,subTopic:w,timeMode:"multi",teacherMode:p,sections:D}),[e,T,o,xt,bt,Ie,Pt,fe,be,i,a,Ne,_e,je,v,w,Ze,ve,p,m,D]),lt=S.useMemo(()=>r2e(_,K),[_,K]),jt=T?Be:Me,yt=S.useMemo(()=>t2e(f),[f]),Zn=S.useMemo(()=>n2e(m),[m]),mi=S.useMemo(()=>jt||lt?`${jt}${lt}
${yt}${Zn}`:"",[yt,Zn,jt,lt]),pi=S.useMemo(()=>p2e(mi,M),[mi,M]),Cs=S.useMemo(()=>e?T?QAe({ms:e,natal:be,basis:i,includeTenGod:a,unified:Ne,percent:_e,category:je,selectedDaeList:bt,daeList:Ie,seYears:xt,wolMonths:Pt,ilDays:fe,topic:v,subTopic:w,timeMode:"multi",relationMode:Ze,partnerMs:ve,teacherMode:p,sections:D}):JAe({ms:e,natal:be,chain:Q,basis:i,tab:ne,unified:Ne,percent:_e,category:je,topic:v,subTopic:w,relationMode:_,partnerMs:ve,teacherMode:p,sections:D}):"",[e,T,be,i,a,Ne,_e,je,bt,Ie,xt,Pt,fe,v,w,_,Ze,ve,p,m,D,Q,ne]),Ms=S.useMemo(()=>{const qt=Cs.trim();if(qt)return qt;const hn=e2e(jt).trim();return hn||jt.trim()},[Cs,jt]);return{date:H,setDate:q,partnerMs:K,partnerOptions:Ve,daeList:Ie,tabForLogic:ne,baseText:jt,basePrompt:mi,finalText:pi,infoOnlyText:Ms,allowManualHour:Y,activePillars:oe}}function w3(e,t=1200){const[n,r]=S.useState(!1),i=!!(e&&e.trim().length>0),a=S.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function b2e(e,t){const{copied:n,canCopy:r,onCopy:i}=w3(e),{copied:a,canCopy:o,onCopy:c}=w3(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:c}}function v2e({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=Br(K=>K._rtUserId),u=fAe()??o??null,f=ci(K=>K.loaded),m=ci(K=>K.userId),p=ci(K=>K.plan),g=S.useMemo(()=>yd(!u||!f||m!==u?"FREE":p??null),[u,f,m,p]),v=S.useMemo(()=>qy(g),[g]),w=v.canUseMultiMode,_=v.canUseLuckTabs,E=v.canUseAllPrompts?"full":"locked",T=pAe({msId:e.id,canUseMultiMode:w,canUseLuckTabs:_}),N=y2e({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:w,canUseLuckTabs:_,input:T}),{copiedAll:O,copiedInfo:P,canCopyAll:M,canCopyInfo:D,onCopyAll:$,onCopyInfoOnly:H}=b2e(N.finalText,N.infoOnlyText);function q(K,F){T.setMainCategory(K),T.setSubCategory(F?.[0]?.key??"overview")}return{sections:T.sections,toggleSection:T.toggleSection,tone:T.tone,setTone:T.setTone,friendMode:T.friendMode,setFriendMode:T.setFriendMode,teacherMode:T.teacherMode,setTeacherMode:T.setTeacherMode,date:N.date,setDate:N.setDate,planTier:g,promptAccess:E,canUseMultiMode:w,canUseLuckTabs:_,partnerId:T.partnerId,setPartnerId:T.setPartnerId,partnerMs:N.partnerMs,mainCategory:T.mainCategory,subCategory:T.subCategory,setSubCategory:T.setSubCategory,relationMode:T.relationMode,setRelationMode:T.setRelationMode,activeTab:T.activeTab,setActiveTab:T.setActiveTab,isMultiMode:T.isMultiMode,setIsMultiMode:T.setIsMultiMode,multiTab:T.multiTab,setMultiTab:T.setMultiTab,selectedDaeIdx:T.selectedDaeIdx,handleToggleDae:T.handleToggleDae,rangeControls:T.rangeControls,partnerOptions:N.partnerOptions,daeList:N.daeList,tabForLogic:N.tabForLogic,baseText:N.baseText,basePrompt:N.basePrompt,finalText:N.finalText,infoOnlyText:N.infoOnlyText,copiedAll:O,copiedInfo:P,canCopyAll:E==="full"&&M,canCopyInfo:E==="full"&&D,onCopyAll:$,onCopyInfoOnly:H,handleMainCategoryChange:q,setQuestionDraft:T.setQuestionDraft,questionDraft:T.questionDraft,extraQuestions:T.extraQuestions,setExtraQuestions:T.setExtraQuestions,handleAddQuestion:T.handleAddQuestion,handleRemoveQuestion:T.handleRemoveQuestion,handleClearQuestions:T.handleClearQuestions,allowManualHour:N.allowManualHour,activePillars:N.activePillars}}function x2e({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=v2e({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),c=p3[o.mainCategory];if(!e)return x.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",f=u?"    . ":void 0,m=!u&&o.canCopyInfo,p=!u&&o.canCopyAll;return x.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[u?x.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:x.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"  "}),x.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",x.jsx("br",{}),"/  ."]})]})}):null,x.jsx(Qke,{copiedInfo:o.copiedInfo,copiedAll:o.copiedAll,canCopyInfo:m,canCopyAll:p,lockTitle:f,onCopyInfoOnly:o.onCopyInfoOnly,onCopyAll:o.onCopyAll}),x.jsx(eAe,{sections:o.sections,toggleSection:o.toggleSection}),x.jsx(tAe,{tone:o.tone,toneMeta:cAe,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:g=>o.setFriendMode(g.target.checked),teacherMode:o.teacherMode,setTeacherMode:g=>o.setTeacherMode(g.target.checked)}),x.jsx(nAe,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:dAe,currentSubList:c,onMainCategoryChange:g=>o.handleMainCategoryChange(g,p3[g]),onSubCategoryChange:o.setSubCategory}),x.jsx(rAe,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),x.jsx(iAe,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:g=>{!o.canUseMultiMode&&g||o.setIsMultiMode(g)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?x.jsx(oAe,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(g=>({gz:g.gz,age:g.age,startYear:g.startYear,endYear:g.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):x.jsx(aAe,{tabs:uAe,activeTab:o.tabForLogic,setActiveTab:g=>{!o.canUseLuckTabs&&g!==""||o.setActiveTab(g)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),x.jsx(sAe,{questionDraft:o.questionDraft,onChangeDraft:g=>o.setQuestionDraft(g.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:f}),x.jsx(lAe,{value:o.finalText,lockSelection:u})]})}function _2e(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o]=S.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function w2e(){const e=Br(r=>r.loading),t=qn(r=>r.loaded),n=ci(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const S3="app_session_started_at_ms",S2e=7200*1e3;function E2e(){const e=sessionStorage.getItem(S3),t=e?Number(e):NaN;if(!Number.isFinite(t)||t<=0){const n=Date.now();return sessionStorage.setItem(S3,String(n)),n}return t}function k2e(e=Date.now()){const t=E2e();return Math.max(0,e-t)}function A2e(e,t=Date.now()){return k2e(t)>=e}async function T2e(e,t){const{data:n,error:r}=await Le.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function O2e(e,t,n){const{error:r}=await Le.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const j2e=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Sd(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(Sd).join(",")}]`:j2e(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${Sd(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function N2e(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function C2e(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=Sd(t.select(t.store.getState()));const o=N2e(async p=>{try{await O2e(e,t.dbKey,p),a=Sd(p)}catch(g){console.error(`[settings] save failed key=${t.dbKey}`,g)}},n),c=p=>{r=!0;try{t.apply(p),a=Sd(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||c(p)},f=async()=>{const p=await T2e(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const g=t.select(p);Sd(g)!==a&&o(g)});const m=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:f,applyRemote:u,stop:m}}function M2e(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function zS(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function P2e(e){S.useEffect(()=>{if(!e)return;const t=[];t.push(C2e(e,{dbKey:"promptCopy.sections",store:Kb,select:o=>o.sections,apply:o=>Kb.setState({sections:o}),validate:M2e,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,c,u)=>{const f=r.get(o);f&&window.clearTimeout(f);const m=window.setTimeout(()=>{r.delete(o),u()},c);r.set(o,m)},a=Le.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},c=>{if(A2e(S2e)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!zS(c))return;const u=c.new,f=c.old,m=_=>zS(_)&&typeof _.setting_key=="string"?_.setting_key:null,p=_=>zS(_)?_.value:null,g=m(u)??m(f);if(!g)return;const v=t.find(_=>_.dbKey===g);if(!v)return;const w=typeof c.eventType=="string"?c.eventType:"";if(w==="INSERT"||w==="UPDATE"){v.applyRemote(p(u));return}v.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(c)):o.onChange(c)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),Le.removeChannel(a)}},[e])}function D2e({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){S.useEffect(()=>{const r=Le;(async()=>{const{data:o,error:c}=await r.auth.getSession();if(c){t(!1),e(null),n(!0);return}const u=o.session?.user?.id??null;t(!!o.session),e(u),n(!0)})();const{data:{subscription:a}}=r.auth.onAuthStateChange((o,c)=>{const u=c?.user?.id??null;t(!!c),e(u),n(!0),c||Br.getState().stopRealtime()});return()=>{a.unsubscribe()}},[n,t,e])}function R2e(e){D2e({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),P2e(e.userId);const t=Br(a=>a.migrateLocalToServer),n=Br(a=>a.loadFromServer),r=qn(a=>a.loadFromServer),i=ci(a=>a.loadFromServer);S.useEffect(()=>{e.isLoggedIn&&i()},[e.isLoggedIn,i]),S.useEffect(()=>{e.isLoggedIn&&(async()=>(await t(),await n(),await r()))()},[e.isLoggedIn,t,n,r])}function L2e(e){const[t,n]=S.useState(()=>e.length>0?e[0].id:""),[r,i]=S.useState(!1),[a,o]=S.useState(!1),[c,u]=S.useState(null),[f,m]=S.useState(!0),[p,g]=S.useState(!1),[v,w]=S.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:c,setEditing:u,showToday:f,setShowToday:m,showCouple:p,setShowCouple:g,openCustom:v,setOpenCustom:w}}function I2e(e){const t=ui(i=>i.date),n=ui(i=>i.rule),r=ou(e);return S.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=_v(r,t),a=i>=0?r[i]?.gz??null:null,o=at(t),c=kt(t),u=gt(t,n);return{dae:a,se:o,wol:c,il:u}},[e,r,t,n])}const $2e=e=>typeof e=="string"&&e.length>=2,B2e=e=>Array.isArray(e)&&e.length===4&&e.every($2e);function z2e({list:e,currentId:t,settings:n,emptyMs:r}){const i=S.useMemo(()=>e.find(g=>g.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,c=S.useMemo(()=>BT(o),[o]),u=I2e(o),f=ci(g=>g.canAddMyeongsik(e.length).ok),m=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:c,chain:u,isValidPillars:B2e,canAdd:f,voidBasis:m,samjaeBasis:p}}function U2e({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:c,setShowCouple:u,setCurrentId:f,setEditing:m}){const{settings:p,saveToServer:g,loaded:v}=qn();S.useEffect(()=>{!r||!v||g()},[r,v,p,g]);const w=S.useCallback(()=>{if(!e){kn.error("   1   .");return}i(!0)},[e,i]),_=S.useCallback(()=>{if(!e){kn.error("   1   .");return}a(!0)},[e,a]),E=S.useCallback(M=>{f(M.id),o(!1),c(!1),u(!1);const D=new Date;D.setHours(12,0,0,0),ui.getState().setDate(D),t&&n?.id===M.id&&(c(!1),u(!1),o(!1))},[n,t,f,o,c,u]),T=S.useCallback(M=>{m(M),f(M.id),o(!1),c(!1),u(!1)},[m,f,o,c,u]),N=S.useCallback(()=>{const M=Br.getState().list[0]?.id??"";f(M),c(!0),u(!1)},[f,c,u]),O=S.useCallback(M=>{f(M.id),c(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[f,c,u,o,i]),P=S.useCallback(M=>{f(M.id),c(!1),u(!1),o(!1)},[f,c,u,o]);return{openAdd:w,openCustomModal:_,handleSidebarView:E,handleSidebarEdit:T,handleSidebarDeleteView:N,handleWizardSave:O,handleCustomSave:P}}const NU="https://t1.daumcdn.net/kas/static/ba.min.js";let Wh=null;function CU(){return Array.from(document.querySelectorAll(`script[src="${NU}"], script[src="//t1.daumcdn.net/kas/static/ba.min.js"]`))}function F2e(){return CU().length>0}function H2e(){const e=CU();if(!(e.length<=1))for(let t=1;t<e.length;t+=1){const n=e[t];n.parentNode&&n.parentNode.removeChild(n)}}function MU(){return typeof document>"u"||(H2e(),F2e())?Promise.resolve():Wh||(Wh=new Promise((e,t)=>{const n=document.createElement("script");n.async=!0,n.type="text/javascript",n.charset="utf-8",n.src=NU,n.setAttribute("data-adfit-managed","1"),n.onload=()=>e(),n.onerror=()=>t(new Error("AdFit script load failed")),document.body.appendChild(n)}).finally(()=>{Wh=null}),Wh)}function G2e({enabled:e}){return S.useEffect(()=>{e&&MU()},[e]),null}function q2e(e){return typeof e=="object"&&e!==null}function Y2e(e){const n=window.adfit;if(!q2e(n))return;const r=n.destroy;typeof r=="function"&&r.call(n,e)}function nm({adUnit:e,width:t,height:n,enabled:r=!0,className:i,wrapperStyle:a,reserveSpace:o=!0}){const c=S.useRef(!1),u=S.useMemo(()=>({...o?{width:"100%",minHeight:n,display:"flex",justifyContent:"center",alignItems:"flex-start"}:{width:"100%"},...a}),[n,o,a]);return S.useEffect(()=>{if(r&&!c.current)return c.current=!0,(async()=>await MU())(),()=>{Y2e(e),c.current=!1}},[r,e]),r?x.jsx("div",{className:i,style:u,children:x.jsx("div",{style:o?{width:t,height:n}:void 0,children:x.jsx("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":e,"data-ad-width":String(t),"data-ad-height":String(n)})})}):null}function E3(){return Date.now()}function K2e(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function W2e(e,t){try{localStorage.setItem(e,String(t))}catch{}}function V2e({enabled:e,adUnit:t,width:n,height:r,showAfterScrollY:i=180,hideForHours:a=24,rightPx:o=16,topPx:c=120,breakpointClassName:u="hidden desk:block"}){const f=S.useMemo(()=>`adfit_side_hide_until:${t}`,[t]),[m,p]=S.useState(!1),[g,v]=S.useState(!1),[w,_]=S.useState(!1);if(S.useEffect(()=>{if(!e){p(!1),v(!1),_(!1);return}if(K2e(f)>E3()){_(!0),p(!1),v(!1);return}_(!1);const N=()=>{const P=(window.scrollY||0)>=i;p(P),P&&v(!0)};return N(),window.addEventListener("scroll",N,{passive:!0}),()=>{window.removeEventListener("scroll",N)}},[e,i,f]),!e||w)return null;const E=()=>{W2e(f,E3()+a*60*60*1e3),_(!0),p(!1),v(!1)};return x.jsx("div",{className:u,style:{position:"fixed",right:o,top:c,zIndex:60,pointerEvents:"none",display:m?"block":"none"},children:x.jsx("div",{style:{pointerEvents:"auto"},children:x.jsxs("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:[x.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:x.jsx("button",{type:"button",onClick:E,"aria-label":" ",style:{border:0,background:"transparent",cursor:"pointer",fontSize:14,padding:"6px 8px"},children:""})}),x.jsx(nm,{enabled:g,adUnit:t,width:n,height:r,wrapperStyle:{display:"flex",justifyContent:"center"}})]})})})}const Z2e="DAN-GW4jrUdfiXklZ12U",X2e="DAN-CeRuC0yKzSAs5Gju",J2e="DAN-G16gewnPhZou1D9y",Q2e="DAN-rdKe9ZODmrZR4hho",eTe="DAN-INfSKh1pW2cEtWNu",tTe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function k3(e){return typeof e=="object"&&e!==null}function nTe(e){return k3(e)?typeof e.plan=="string"?e.plan:k3(e.ent)&&typeof e.ent.plan=="string"?e.ent.plan:null:null}function rTe(){const e=_2e();R2e(e);const t=w2e();return e.authChecked?e.isLoggedIn?e.adminMode?x.jsx(aU,{}):t.entLoaded?t.settingsLoaded?t.loading?x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):x.jsx(iTe,{isLoggedIn:e.isLoggedIn}):x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):x.jsx(Tke,{}):x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"   ..."})})}function iTe({isLoggedIn:e}){const{list:t}=Br(),n=qn(m=>m.settings),r=L2e(t),i=z2e({list:t,currentId:r.currentId,settings:n,emptyMs:tTe}),a=U2e({canAdd:i.canAdd,hasCurrent:i.hasCurrent,current:i.current,isLoggedIn:e,setWizardOpen:r.setWizardOpen,setOpenCustom:r.setOpenCustom,setShowSidebar:r.setShowSidebar,setShowToday:r.setShowToday,setShowCouple:r.setShowCouple,setCurrentId:r.setCurrentId,setEditing:r.setEditing}),o=ci(m=>m),u=nTe(o)!=="PRO",f=i.hasCurrent&&!r.showToday&&!r.showCouple&&!r.wizardOpen&&!r.editing;return x.jsxs("div",{className:"min-h-screen pb-16",children:[x.jsx(G2e,{enabled:u}),x.jsx("div",{className:"hidden desk:block",children:x.jsx(V2e,{enabled:u&&f,adUnit:eTe,width:160,height:600,showAfterScrollY:0,hideForHours:24,rightPx:16,topPx:120,breakpointClassName:"hidden xl:block"})}),x.jsx(Lce,{onOpenSidebar:()=>r.setShowSidebar(!0),onAddNew:a.openAdd,onOpenCustom:a.openCustomModal}),x.jsx(Jke,{open:r.openCustom,onClose:()=>r.setOpenCustom(!1),onSave:a.handleCustomSave}),x.jsx(Q3,{position:"top-center"}),x.jsx(wue,{open:r.showSidebar,onClose:()=>r.setShowSidebar(!1),onView:a.handleSidebarView,onAddNew:a.openAdd,onEdit:a.handleSidebarEdit,onDeleteView:a.handleSidebarDeleteView}),r.showToday&&x.jsx(wW,{}),r.wizardOpen&&x.jsxs(x.Fragment,{children:[x.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),x.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:x.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:x.jsx(gte,{onSave:a.handleWizardSave,onClose:()=>r.setWizardOpen(!1)})})})]}),i.hasCurrent&&!r.showToday&&!r.showCouple&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"pt-18 pb-4",children:x.jsx(Cie,{data:i.current,hourTable:i.current?.mingSikType??"/"})}),x.jsx("div",{children:x.jsx(oce,{data:i.current})}),x.jsx(Ake,{ms:i.current}),u&&f&&n.showPromptBox&&x.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-6 mb-2",children:[x.jsx("div",{className:"hidden md:block",children:x.jsx(nm,{enabled:!0,adUnit:X2e,width:728,height:90})}),x.jsx("div",{className:"md:hidden",children:x.jsx(nm,{enabled:!0,adUnit:Z2e,width:320,height:50})})]}),n.showPromptBox&&x.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:x.jsx(x2e,{ms:i.current,natal:i.isValidPillars(i.natal)?i.natal:[],chain:i.chain,basis:{voidBasis:i.voidBasis,samjaeBasis:i.samjaeBasis},includeTenGod:!0,lunarPillars:[]})}),u&&f&&x.jsxs("div",{className:"max-w-[760px] mx-auto px-3 pb-6",children:[x.jsx("div",{className:"hidden md:block",children:x.jsx(nm,{enabled:!0,adUnit:Q2e,width:728,height:90})}),x.jsx("div",{className:"md:hidden",children:x.jsx(nm,{enabled:!0,adUnit:J2e,width:320,height:50})})]})]}),r.showCouple&&x.jsx("div",{className:"pt-18 pb-4",children:x.jsx(Ske,{people:t})}),r.editing&&x.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:x.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:x.jsx(Iue,{item:r.editing,onClose:()=>r.setEditing(null)})})}),x.jsx(qce,{onShowToday:()=>{r.setShowToday(!0),r.setShowCouple(!1)},onShowCouple:()=>{r.setShowCouple(!0),r.setShowToday(!1)}}),x.jsx(Eke,{})]})}function aTe(){const e=qa(),[t,n]=S.useState(null),[r,i]=S.useState(null);return S.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),x.jsxs("div",{className:"p-4 text-white",children:[x.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),x.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),x.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function oTe(){const e=qa(),t=Gk(),[n,r]=S.useState("  ...");return S.useEffect(()=>{(async()=>{try{const a=new URLSearchParams(e.search),o=a.get("error"),c=a.get("error_description");if(o){r(` : ${decodeURIComponent(c??o)}`);return}const u=a.get("code");if(!u){r(" code . (redirectTo/PKCE  )");return}const{error:f}=await Le.auth.exchangeCodeForSession(u);if(f){r(`  : ${f.message}`);return}t("/",{replace:!0})}catch(a){r(a instanceof Error?a.message:"   ")}})()},[e.search,t]),x.jsx("main",{className:"min-h-screen flex items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:n})})}iH.createRoot(document.getElementById("root")).render(x.jsx(S.StrictMode,{children:x.jsx(xG,{children:x.jsxs(XH,{children:[x.jsx(ud,{path:"/auth/callback",element:x.jsx(oTe,{})}),x.jsx(ud,{path:"/",element:x.jsx(rTe,{})}),x.jsx(ud,{path:"/admin",element:x.jsx(aU,{})}),x.jsx(ud,{path:"/impersonate",element:x.jsx(aTe,{})}),x.jsx(ud,{path:"*",element:x.jsx(VH,{to:"/",replace:!0})})]})})}));
