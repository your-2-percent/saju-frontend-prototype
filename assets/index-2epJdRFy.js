function WE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function _i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bp(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var G_={exports:{}},Gh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function lY(){if(QC)return Gh;QC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Gh.Fragment=t,Gh.jsx=n,Gh.jsxs=n,Gh}var eM;function cY(){return eM||(eM=1,G_.exports=lY()),G_.exports}var g=cY();const s5="harim.theme",Dk="harim.settings.v1";function l5(){try{const e=localStorage.getItem(s5);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(Dk);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function c5(e){try{localStorage.setItem(s5,e);const t=localStorage.getItem(Dk),n=t?JSON.parse(t):{};localStorage.setItem(Dk,JSON.stringify({...n,theme:e}))}catch{}}function u5(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=l5()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");u5(e)}catch{}})();var Y_={exports:{}},Yh={},q_={exports:{}},K_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tM;function uY(){return tM||(tM=1,(function(e){function t(G,J){var Q=G.length;G.push(J);e:for(;0<Q;){var oe=Q-1>>>1,te=G[oe];if(0<i(te,J))G[oe]=J,G[Q]=te,Q=oe;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var J=G[0],Q=G.pop();if(Q!==J){G[0]=Q;e:for(var oe=0,te=G.length,z=te>>>1;oe<z;){var V=2*(oe+1)-1,re=G[V],ie=V+1,ue=G[ie];if(0>i(re,Q))ie<te&&0>i(ue,re)?(G[oe]=ue,G[ie]=Q,oe=ie):(G[oe]=re,G[V]=Q,oe=V);else if(ie<te&&0>i(ue,Q))G[oe]=ue,G[ie]=Q,oe=ie;else break e}}return J}function i(G,J){var Q=G.sortIndex-J.sortIndex;return Q!==0?Q:G.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,p=null,b=3,y=!1,k=!1,w=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(G){for(var J=n(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=G)r(d),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(d)}}function D(G){if(w=!1,C(G),!k)if(n(u)!==null)k=!0,P||(P=!0,B());else{var J=n(d);J!==null&&Z(D,J.startTime-G)}}var P=!1,I=-1,U=5,W=-1;function K(){return S?!0:!(e.unstable_now()-W<U)}function H(){if(S=!1,P){var G=e.unstable_now();W=G;var J=!0;try{e:{k=!1,w&&(w=!1,O(I),I=-1),y=!0;var Q=b;try{t:{for(C(G),p=n(u);p!==null&&!(p.expirationTime>G&&K());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,b=p.priorityLevel;var te=oe(p.expirationTime<=G);if(G=e.unstable_now(),typeof te=="function"){p.callback=te,C(G),J=!0;break t}p===n(u)&&r(u),C(G)}else r(u);p=n(u)}if(p!==null)J=!0;else{var z=n(d);z!==null&&Z(D,z.startTime-G),J=!1}}break e}finally{p=null,b=Q,y=!1}J=void 0}}finally{J?B():P=!1}}}var B;if(typeof A=="function")B=function(){A(H)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,X=q.port2;q.port1.onmessage=H,B=function(){X.postMessage(null)}}else B=function(){T(H,0)};function Z(G,J){I=T(function(){G(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(G){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var Q=b;b=J;try{return G()}finally{b=Q}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=b;b=G;try{return J()}finally{b=Q}},e.unstable_scheduleCallback=function(G,J,Q){var oe=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Q+te,G={id:h++,callback:J,priorityLevel:G,startTime:Q,expirationTime:te,sortIndex:-1},Q>oe?(G.sortIndex=Q,t(d,G),n(u)===null&&G===n(d)&&(w?(O(I),I=-1):w=!0,Z(D,Q-oe))):(G.sortIndex=te,t(u,G),k||y||(k=!0,P||(P=!0,B()))),G},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(G){var J=b;return function(){var Q=b;b=J;try{return G.apply(this,arguments)}finally{b=Q}}}})(K_)),K_}var nM;function dY(){return nM||(nM=1,q_.exports=uY()),q_.exports}var W_={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rM;function fY(){if(rM)return dt;rM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function T(z,V,re){this.props=z,this.context=V,this.refs=S,this.updater=re||k}T.prototype.isReactComponent={},T.prototype.setState=function(z,V){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,V,"setState")},T.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=T.prototype;function A(z,V,re){this.props=z,this.context=V,this.refs=S,this.updater=re||k}var C=A.prototype=new O;C.constructor=A,w(C,T.prototype),C.isPureReactComponent=!0;var D=Array.isArray;function P(){}var I={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function W(z,V,re){var ie=re.ref;return{$$typeof:e,type:z,key:V,ref:ie!==void 0?ie:null,props:re}}function K(z,V){return W(z.type,V,z.props)}function H(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function B(z){var V={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(re){return V[re]})}var q=/\/+/g;function X(z,V){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):V.toString(36)}function Z(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(P,P):(z.status="pending",z.then(function(V){z.status==="pending"&&(z.status="fulfilled",z.value=V)},function(V){z.status==="pending"&&(z.status="rejected",z.reason=V)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,V,re,ie,ue){var de=typeof z;(de==="undefined"||de==="boolean")&&(z=null);var pe=!1;if(z===null)pe=!0;else switch(de){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(z.$$typeof){case e:case t:pe=!0;break;case h:return pe=z._init,G(pe(z._payload),V,re,ie,ue)}}if(pe)return ue=ue(z),pe=ie===""?"."+X(z,0):ie,D(ue)?(re="",pe!=null&&(re=pe.replace(q,"$&/")+"/"),G(ue,V,re,"",function(je){return je})):ue!=null&&(H(ue)&&(ue=K(ue,re+(ue.key==null||z&&z.key===ue.key?"":(""+ue.key).replace(q,"$&/")+"/")+pe)),V.push(ue)),1;pe=0;var Ne=ie===""?".":ie+":";if(D(z))for(var se=0;se<z.length;se++)ie=z[se],de=Ne+X(ie,se),pe+=G(ie,V,re,de,ue);else if(se=y(z),typeof se=="function")for(z=se.call(z),se=0;!(ie=z.next()).done;)ie=ie.value,de=Ne+X(ie,se++),pe+=G(ie,V,re,de,ue);else if(de==="object"){if(typeof z.then=="function")return G(Z(z),V,re,ie,ue);throw V=String(z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return pe}function J(z,V,re){if(z==null)return z;var ie=[],ue=0;return G(z,ie,"","",function(de){return V.call(re,de,ue++)}),ie}function Q(z){if(z._status===-1){var V=z._result;V=V(),V.then(function(re){(z._status===0||z._status===-1)&&(z._status=1,z._result=re)},function(re){(z._status===0||z._status===-1)&&(z._status=2,z._result=re)}),z._status===-1&&(z._status=0,z._result=V)}if(z._status===1)return z._result.default;throw z._result}var oe=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},te={map:J,forEach:function(z,V,re){J(z,function(){V.apply(this,arguments)},re)},count:function(z){var V=0;return J(z,function(){V++}),V},toArray:function(z){return J(z,function(V){return V})||[]},only:function(z){if(!H(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return dt.Activity=p,dt.Children=te,dt.Component=T,dt.Fragment=n,dt.Profiler=i,dt.PureComponent=A,dt.StrictMode=r,dt.Suspense=u,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,dt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return I.H.useMemoCache(z)}},dt.cache=function(z){return function(){return z.apply(null,arguments)}},dt.cacheSignal=function(){return null},dt.cloneElement=function(z,V,re){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ie=w({},z.props),ue=z.key;if(V!=null)for(de in V.key!==void 0&&(ue=""+V.key),V)!U.call(V,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&V.ref===void 0||(ie[de]=V[de]);var de=arguments.length-2;if(de===1)ie.children=re;else if(1<de){for(var pe=Array(de),Ne=0;Ne<de;Ne++)pe[Ne]=arguments[Ne+2];ie.children=pe}return W(z.type,ue,ie)},dt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},dt.createElement=function(z,V,re){var ie,ue={},de=null;if(V!=null)for(ie in V.key!==void 0&&(de=""+V.key),V)U.call(V,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ue[ie]=V[ie]);var pe=arguments.length-2;if(pe===1)ue.children=re;else if(1<pe){for(var Ne=Array(pe),se=0;se<pe;se++)Ne[se]=arguments[se+2];ue.children=Ne}if(z&&z.defaultProps)for(ie in pe=z.defaultProps,pe)ue[ie]===void 0&&(ue[ie]=pe[ie]);return W(z,de,ue)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(z){return{$$typeof:l,render:z}},dt.isValidElement=H,dt.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:Q}},dt.memo=function(z,V){return{$$typeof:d,type:z,compare:V===void 0?null:V}},dt.startTransition=function(z){var V=I.T,re={};I.T=re;try{var ie=z(),ue=I.S;ue!==null&&ue(re,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(P,oe)}catch(de){oe(de)}finally{V!==null&&re.types!==null&&(V.types=re.types),I.T=V}},dt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},dt.use=function(z){return I.H.use(z)},dt.useActionState=function(z,V,re){return I.H.useActionState(z,V,re)},dt.useCallback=function(z,V){return I.H.useCallback(z,V)},dt.useContext=function(z){return I.H.useContext(z)},dt.useDebugValue=function(){},dt.useDeferredValue=function(z,V){return I.H.useDeferredValue(z,V)},dt.useEffect=function(z,V){return I.H.useEffect(z,V)},dt.useEffectEvent=function(z){return I.H.useEffectEvent(z)},dt.useId=function(){return I.H.useId()},dt.useImperativeHandle=function(z,V,re){return I.H.useImperativeHandle(z,V,re)},dt.useInsertionEffect=function(z,V){return I.H.useInsertionEffect(z,V)},dt.useLayoutEffect=function(z,V){return I.H.useLayoutEffect(z,V)},dt.useMemo=function(z,V){return I.H.useMemo(z,V)},dt.useOptimistic=function(z,V){return I.H.useOptimistic(z,V)},dt.useReducer=function(z,V,re){return I.H.useReducer(z,V,re)},dt.useRef=function(z){return I.H.useRef(z)},dt.useState=function(z){return I.H.useState(z)},dt.useSyncExternalStore=function(z,V,re){return I.H.useSyncExternalStore(z,V,re)},dt.useTransition=function(){return I.H.useTransition()},dt.version="19.2.1",dt}var iM;function bf(){return iM||(iM=1,W_.exports=fY()),W_.exports}var V_={exports:{}},Ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aM;function hY(){if(aM)return Ir;aM=1;var e=bf();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ir.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(u,d,null,h)},Ir.flushSync=function(u){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=d,r.p=h,r.d.f()}},Ir.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Ir.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ir.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:y}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:b,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ir.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Ir.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ir.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Ir.requestFormReset=function(u){r.d.r(u)},Ir.unstable_batchedUpdates=function(u,d){return u(d)},Ir.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},Ir.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ir.version="19.2.1",Ir}var oM;function d5(){if(oM)return V_.exports;oM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),V_.exports=hY(),V_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sM;function mY(){if(sM)return Yh;sM=1;var e=dY(),t=bf(),n=d5();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,m=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(m=c.return),s=c.return;while(s)}return c.tag===3?m:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function d(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var m=s,x=c;;){var j=m.return;if(j===null)break;var N=j.alternate;if(N===null){if(x=j.return,x!==null){m=x;continue}break}if(j.child===N.child){for(N=j.child;N;){if(N===m)return u(j),s;if(N===x)return u(j),c;N=N.sibling}throw Error(r(188))}if(m.return!==x.return)m=j,x=N;else{for(var $=!1,Y=j.child;Y;){if(Y===m){$=!0,m=j,x=N;break}if(Y===x){$=!0,x=j,m=N;break}Y=Y.sibling}if(!$){for(Y=N.child;Y;){if(Y===m){$=!0,m=N,x=j;break}if(Y===x){$=!0,x=N,m=j;break}Y=Y.sibling}if(!$)throw Error(r(189))}}if(m.alternate!==x)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:c}function h(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=h(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var q=Symbol.for("react.client.reference");function X(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case W:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case A:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case C:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return c=s.displayName||null,c!==null?c:X(s.type)||"Memo";case U:c=s._payload,s=s._init;try{return X(s(c))}catch{}}return null}var Z=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},oe=[],te=-1;function z(s){return{current:s}}function V(s){0>te||(s.current=oe[te],oe[te]=null,te--)}function re(s,c){te++,oe[te]=s.current,s.current=c}var ie=z(null),ue=z(null),de=z(null),pe=z(null);function Ne(s,c){switch(re(de,c),re(ue,s),re(ie,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?_C(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=_C(c),s=SC(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}V(ie),re(ie,s)}function se(){V(ie),V(ue),V(de)}function je(s){s.memoizedState!==null&&re(pe,s);var c=ie.current,m=SC(c,s.type);c!==m&&(re(ue,s),re(ie,m))}function ke(s){ue.current===s&&(V(ie),V(ue)),pe.current===s&&(V(pe),zh._currentValue=Q)}var fe,Ue;function Fe(s){if(fe===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);fe=c&&c[1]||"",Ue=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+s+Ue}var tt=!1;function Oe(s,c){if(!s||tt)return"";tt=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ve){var ye=ve}Reflect.construct(s,[],Te)}else{try{Te.call()}catch(ve){ye=ve}s.call(Te.prototype)}}else{try{throw Error()}catch(ve){ye=ve}(Te=s())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ve){if(ve&&ye&&typeof ve.stack=="string")return[ve.stack,ye.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=x.DetermineComponentFrameRoot(),$=N[0],Y=N[1];if($&&Y){var ne=$.split(`
`),ge=Y.split(`
`);for(j=x=0;x<ne.length&&!ne[x].includes("DetermineComponentFrameRoot");)x++;for(;j<ge.length&&!ge[j].includes("DetermineComponentFrameRoot");)j++;if(x===ne.length||j===ge.length)for(x=ne.length-1,j=ge.length-1;1<=x&&0<=j&&ne[x]!==ge[j];)j--;for(;1<=x&&0<=j;x--,j--)if(ne[x]!==ge[j]){if(x!==1||j!==1)do if(x--,j--,0>j||ne[x]!==ge[j]){var _e=`
`+ne[x].replace(" at new "," at ");return s.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",s.displayName)),_e}while(1<=x&&0<=j);break}}}finally{tt=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?Fe(m):""}function $e(s,c){switch(s.tag){case 26:case 27:case 5:return Fe(s.type);case 16:return Fe("Lazy");case 13:return s.child!==c&&c!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return Oe(s.type,!1);case 11:return Oe(s.type.render,!1);case 1:return Oe(s.type,!0);case 31:return Fe("Activity");default:return""}}function He(s){try{var c="",m=null;do c+=$e(s,m),m=s,s=s.return;while(s);return c}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var Be=Object.prototype.hasOwnProperty,jt=e.unstable_scheduleCallback,At=e.unstable_cancelCallback,he=e.unstable_shouldYield,Ce=e.unstable_requestPaint,Ye=e.unstable_now,Se=e.unstable_getCurrentPriorityLevel,Pe=e.unstable_ImmediatePriority,ze=e.unstable_UserBlockingPriority,at=e.unstable_NormalPriority,St=e.unstable_LowPriority,Kt=e.unstable_IdlePriority,vr=e.log,Pr=e.unstable_setDisableYieldValue,Vn=null,gn=null;function Rt(s){if(typeof vr=="function"&&Pr(s),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(Vn,s)}catch{}}var Sn=Math.clz32?Math.clz32:Me,qo=Math.log,Uf=Math.LN2;function Me(s){return s>>>=0,s===0?32:31-(qo(s)/Uf|0)|0}var it=256,Lt=262144,xr=4194304;function ti(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Pu(s,c,m){var x=s.pendingLanes;if(x===0)return 0;var j=0,N=s.suspendedLanes,$=s.pingedLanes;s=s.warmLanes;var Y=x&134217727;return Y!==0?(x=Y&~N,x!==0?j=ti(x):($&=Y,$!==0?j=ti($):m||(m=Y&~s,m!==0&&(j=ti(m))))):(Y=x&~N,Y!==0?j=ti(Y):$!==0?j=ti($):m||(m=x&~s,m!==0&&(j=ti(m)))),j===0?0:c!==0&&c!==j&&(c&N)===0&&(N=j&-j,m=c&-c,N>=m||N===32&&(m&4194048)!==0)?c:j}function oc(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Xx(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t0(){var s=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),s}function Ff(s){for(var c=[],m=0;31>m;m++)c.push(s);return c}function Ko(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Jx(s,c,m,x,j,N){var $=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var Y=s.entanglements,ne=s.expirationTimes,ge=s.hiddenUpdates;for(m=$&~m;0<m;){var _e=31-Sn(m),Te=1<<_e;Y[_e]=0,ne[_e]=-1;var ye=ge[_e];if(ye!==null)for(ge[_e]=null,_e=0;_e<ye.length;_e++){var ve=ye[_e];ve!==null&&(ve.lane&=-536870913)}m&=~Te}x!==0&&n0(s,x,0),N!==0&&j===0&&s.tag!==0&&(s.suspendedLanes|=N&~($&~c))}function n0(s,c,m){s.pendingLanes|=c,s.suspendedLanes&=~c;var x=31-Sn(c);s.entangledLanes|=c,s.entanglements[x]=s.entanglements[x]|1073741824|m&261930}function r0(s,c){var m=s.entangledLanes|=c;for(s=s.entanglements;m;){var x=31-Sn(m),j=1<<x;j&c|s[x]&c&&(s[x]|=c),m&=~j}}function i0(s,c){var m=c&-c;return m=(m&42)!==0?1:ni(m),(m&(s.suspendedLanes|c))!==0?0:m}function ni(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ve(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Hf(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:qC(s.type))}function Gf(s,c){var m=J.p;try{return J.p=s,c()}finally{J.p=m}}var Oa=Math.random().toString(36).slice(2),In="__reactFiber$"+Oa,or="__reactProps$"+Oa,Wo="__reactContainer$"+Oa,lo="__reactEvents$"+Oa,a0="__reactListeners$"+Oa,Qx="__reactHandles$"+Oa,o0="__reactResources$"+Oa,sc="__reactMarker$"+Oa;function Yf(s){delete s[In],delete s[or],delete s[lo],delete s[a0],delete s[Qx]}function Vo(s){var c=s[In];if(c)return c;for(var m=s.parentNode;m;){if(c=m[Wo]||m[In]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(s=OC(s);s!==null;){if(m=s[In])return m;s=OC(s)}return c}s=m,m=s.parentNode}return null}function Ws(s){if(s=s[In]||s[Wo]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function co(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Vs(s){var c=s[o0];return c||(c=s[o0]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function $n(s){s[sc]=!0}var s0=new Set,l0={};function Zo(s,c){uo(s,c),uo(s+"Capture",c)}function uo(s,c){for(l0[s]=c,s=0;s<c.length;s++)s0.add(c[s])}var lc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qf={},Kf={};function cc(s){return Be.call(Kf,s)?!0:Be.call(qf,s)?!1:lc.test(s)?Kf[s]=!0:(qf[s]=!0,!1)}function gt(s,c,m){if(cc(c))if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+m)}}function Ht(s,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+m)}}function ri(s,c,m,x){if(x===null)s.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(c,m,""+x)}}function Zn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xo(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Wf(s,c,m){var x=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var j=x.get,N=x.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return j.call(this)},set:function($){m=""+$,N.call(this,$)}}),Object.defineProperty(s,c,{enumerable:x.enumerable}),{getValue:function(){return m},setValue:function($){m=""+$},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function ut(s){if(!s._valueTracker){var c=Xo(s)?"checked":"value";s._valueTracker=Wf(s,c,""+s[c])}}function sn(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return s&&(x=Xo(s)?s.checked?"true":"false":s.value),s=x,s!==m?(c.setValue(s),!0):!1}function Zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ru=/[\n"\\]/g;function tn(s){return s.replace(Ru,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Vf(s,c,m,x,j,N,$,Y){s.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?s.type=$:s.removeAttribute("type"),c!=null?$==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Zn(c)):s.value!==""+Zn(c)&&(s.value=""+Zn(c)):$!=="submit"&&$!=="reset"||s.removeAttribute("value"),c!=null?Ca(s,$,Zn(c)):m!=null?Ca(s,$,Zn(m)):x!=null&&s.removeAttribute("value"),j==null&&N!=null&&(s.defaultChecked=!!N),j!=null&&(s.checked=j&&typeof j!="function"&&typeof j!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?s.name=""+Zn(Y):s.removeAttribute("name")}function uc(s,c,m,x,j,N,$,Y){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),c!=null||m!=null){if(!(N!=="submit"&&N!=="reset"||c!=null)){ut(s);return}m=m!=null?""+Zn(m):"",c=c!=null?""+Zn(c):m,Y||c===s.value||(s.value=c),s.defaultValue=c}x=x??j,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=Y?s.checked:!!x,s.defaultChecked=!!x,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(s.name=$),ut(s)}function Ca(s,c,m){c==="number"&&Zs(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function Wt(s,c,m,x){if(s=s.options,c){c={};for(var j=0;j<m.length;j++)c["$"+m[j]]=!0;for(m=0;m<s.length;m++)j=c.hasOwnProperty("$"+s[m].value),s[m].selected!==j&&(s[m].selected=j),j&&x&&(s[m].defaultSelected=!0)}else{for(m=""+Zn(m),c=null,j=0;j<s.length;j++){if(s[j].value===m){s[j].selected=!0,x&&(s[j].defaultSelected=!0);return}c!==null||s[j].disabled||(c=s[j])}c!==null&&(c.selected=!0)}}function fo(s,c,m){if(c!=null&&(c=""+Zn(c),c!==s.value&&(s.value=c),m==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=m!=null?""+Zn(m):""}function Xs(s,c,m,x){if(c==null){if(x!=null){if(m!=null)throw Error(r(92));if(Z(x)){if(1<x.length)throw Error(r(93));x=x[0]}m=x}m==null&&(m=""),c=m}m=Zn(c),s.defaultValue=m,x=s.textContent,x===m&&x!==""&&x!==null&&(s.value=x),ut(s)}function Xi(s,c){if(c){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=c;return}}s.textContent=c}var Zf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Js(s,c,m){var x=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":x?s.setProperty(c,m):typeof m!="number"||m===0||Zf.has(c)?c==="float"?s.cssFloat=m:s[c]=(""+m).trim():s[c]=m+"px"}function Lu(s,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var j in c)x=c[j],c.hasOwnProperty(j)&&m[j]!==x&&Js(s,j,x)}else for(var N in c)c.hasOwnProperty(N)&&Js(s,N,c[N])}function dc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(s){return Xf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ii(){}var $u=null;function fc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var el=null,lt=null;function Ei(s){var c=Ws(s);if(c&&(s=c.stateNode)){var m=s[or]||null;e:switch(s=c.stateNode,c.type){case"input":if(Vf(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+tn(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==s&&x.form===s.form){var j=x[or]||null;if(!j)throw Error(r(90));Vf(x,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(c=0;c<m.length;c++)x=m[c],x.form===s.form&&sn(x)}break e;case"textarea":fo(s,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Wt(s,!!m.multiple,c,!1)}}}var It=!1;function Jf(s,c,m){if(It)return s(c,m);It=!0;try{var x=s(c);return x}finally{if(It=!1,(el!==null||lt!==null)&&(ig(),el&&(c=el,s=lt,lt=el=null,Ei(c),s)))for(c=0;c<s.length;c++)Ei(s[c])}}function Jo(s,c){var m=s.stateNode;if(m===null)return null;var x=m[or]||null;if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hc=!1;if(ji)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){hc=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{hc=!1}var Ji=null,Qo=null,kn=null;function ho(){if(kn)return kn;var s,c=Qo,m=c.length,x,j="value"in Ji?Ji.value:Ji.textContent,N=j.length;for(s=0;s<m&&c[s]===j[s];s++);var $=m-s;for(x=1;x<=$&&c[m-x]===j[N-x];x++);return kn=j.slice(s,1<x?1-x:void 0)}function mc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function pc(){return!0}function c0(){return!1}function wr(s){function c(m,x,j,N,$){this._reactName=m,this._targetInst=j,this.type=x,this.nativeEvent=N,this.target=$,this.currentTarget=null;for(var Y in s)s.hasOwnProperty(Y)&&(m=s[Y],this[Y]=m?m(N):N[Y]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?pc:c0,this.isPropagationStopped=c0,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),c}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bu=wr(Ma),tl=p({},Ma,{view:0,detail:0}),xt=wr(tl),Qf,Hr,Da,gc=p({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ah,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Da&&(Da&&s.type==="mousemove"?(Qf=s.screenX-Da.screenX,Hr=s.screenY-Da.screenY):Hr=Qf=0,Da=s),Qf)},movementY:function(s){return"movementY"in s?s.movementY:Hr}}),u0=wr(gc),eh=p({},gc,{dataTransfer:0}),ew=wr(eh),d0=p({},tl,{relatedTarget:0}),th=wr(d0),tw=p({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),nh=wr(tw),nw=p({},Ma,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qi=wr(nw),rw=p({},Ma,{data:0}),rh=wr(rw),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ih(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=h0[s])?!!c[s]:!1}function ah(){return ih}var m0=p({},tl,{key:function(s){if(s.key){var c=mo[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=mc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?f0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ah,charCode:function(s){return s.type==="keypress"?mc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?mc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),p0=wr(m0),iw=p({},gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g0=wr(iw),oh=p({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ah}),aw=wr(oh),b0=p({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),y0=wr(b0),zu=p({},gc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),es=wr(zu),ow=p({},Ma,{newState:0,oldState:0}),bc=wr(ow),ai=[9,13,27,32],Uu=ji&&"CompositionEvent"in window,nl=null;ji&&"documentMode"in document&&(nl=document.documentMode);var sw=ji&&"TextEvent"in window&&!nl,Fu=ji&&(!Uu||nl&&8<nl&&11>=nl),Hu=" ",v0=!1;function x0(s,c){switch(s){case"keyup":return ai.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sh(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var rl=!1;function Ti(s,c){switch(s){case"compositionend":return sh(c);case"keypress":return c.which!==32?null:(v0=!0,Hu);case"textInput":return s=c.data,s===Hu&&v0?null:s;default:return null}}function il(s,c){if(rl)return s==="compositionend"||!Uu&&x0(s,c)?(s=ho(),kn=Qo=Ji=null,rl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Fu&&c.locale!=="ko"?null:c.data;default:return null}}var lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ea(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!lw[s.type]:c==="textarea"}function w0(s,c,m,x){el?lt?lt.push(x):lt=[x]:el=x,c=dg(c,"onChange"),0<c.length&&(m=new Bu("onChange","change",null,m,x),s.push({event:m,listeners:c}))}var ta=null,yc=null;function vc(s){gC(s,0)}function xc(s){var c=co(s);if(sn(c))return s}function wc(s,c){if(s==="change")return c}var _0=!1;if(ji){var na;if(ji){var al="oninput"in document;if(!al){var S0=document.createElement("div");S0.setAttribute("oninput","return;"),al=typeof S0.oninput=="function"}na=al}else na=!1;_0=na&&(!document.documentMode||9<document.documentMode)}function Gu(){ta&&(ta.detachEvent("onpropertychange",k0),yc=ta=null)}function k0(s){if(s.propertyName==="value"&&xc(yc)){var c=[];w0(c,yc,s,fc(s)),Jf(vc,c)}}function Pa(s,c,m){s==="focusin"?(Gu(),ta=c,yc=m,ta.attachEvent("onpropertychange",k0)):s==="focusout"&&Gu()}function cw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return xc(yc)}function ol(s,c){if(s==="click")return xc(c)}function uw(s,c){if(s==="input"||s==="change")return xc(c)}function Ra(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var sr=typeof Object.is=="function"?Object.is:Ra;function sl(s,c){if(sr(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var m=Object.keys(s),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var j=m[x];if(!Be.call(c,j)||!sr(s[j],c[j]))return!1}return!0}function Yu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function _c(s,c){var m=Yu(s);s=0;for(var x;m;){if(m.nodeType===3){if(x=s+m.textContent.length,s<=c&&x>=c)return{node:m,offset:c-s};s=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Yu(m)}}function qu(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?qu(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function Sc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Zs(s.document);c instanceof s.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)s=c.contentWindow;else break;c=Zs(s.document)}return c}function po(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Ku=ji&&"documentMode"in document&&11>=document.documentMode,go=null,Wu=null,kc=null,ll=!1;function E0(s,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ll||go==null||go!==Zs(x)||(x=go,"selectionStart"in x&&po(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),kc&&sl(kc,x)||(kc=x,x=dg(Wu,"onSelect"),0<x.length&&(c=new Bu("onSelect","select",null,c,m),s.push({event:c,listeners:x}),c.target=go)))}function bo(s,c){var m={};return m[s.toLowerCase()]=c.toLowerCase(),m["Webkit"+s]="webkit"+c,m["Moz"+s]="moz"+c,m}var cl={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionrun:bo("Transition","TransitionRun"),transitionstart:bo("Transition","TransitionStart"),transitioncancel:bo("Transition","TransitionCancel"),transitionend:bo("Transition","TransitionEnd")},Vu={},j0={};ji&&(j0=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function lr(s){if(Vu[s])return Vu[s];if(!cl[s])return s;var c=cl[s],m;for(m in c)if(c.hasOwnProperty(m)&&m in j0)return Vu[s]=c[m];return s}var Ec=lr("animationend"),A0=lr("animationiteration"),jc=lr("animationstart"),dw=lr("transitionrun"),T0=lr("transitionstart"),fw=lr("transitioncancel"),ul=lr("transitionend"),N0=new Map,yo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yo.push("scrollEnd");function oi(s,c){N0.set(s,c),Zo(c,[s])}var Ac=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},si=[],Rr=0,Zu=0;function Tc(){for(var s=Rr,c=Zu=Rr=0;c<s;){var m=si[c];si[c++]=null;var x=si[c];si[c++]=null;var j=si[c];si[c++]=null;var N=si[c];if(si[c++]=null,x!==null&&j!==null){var $=x.pending;$===null?j.next=j:(j.next=$.next,$.next=j),x.pending=j}N!==0&&dl(m,j,N)}}function vo(s,c,m,x){si[Rr++]=s,si[Rr++]=c,si[Rr++]=m,si[Rr++]=x,Zu|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function lh(s,c,m,x){return vo(s,c,m,x),Nc(s)}function ra(s,c){return vo(s,null,null,c),Nc(s)}function dl(s,c,m){s.lanes|=m;var x=s.alternate;x!==null&&(x.lanes|=m);for(var j=!1,N=s.return;N!==null;)N.childLanes|=m,x=N.alternate,x!==null&&(x.childLanes|=m),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(j=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,j&&c!==null&&(j=31-Sn(m),s=N.hiddenUpdates,x=s[j],x===null?s[j]=[c]:x.push(c),c.lane=m|536870912),N):null}function Nc(s){if(50<Dh)throw Dh=0,m_=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var ts={};function hw(s,c,m,x){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(s,c,m,x){return new hw(s,c,m,x)}function Xu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ia(s,c){var m=s.alternate;return m===null?(m=Lr(s.tag,c,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=c,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,c=s.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function ch(s,c){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,c=m.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function Oc(s,c,m,x,j,N){var $=0;if(x=s,typeof s=="function")Xu(s)&&($=1);else if(typeof s=="string")$=ZG(s,m,ie.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case W:return s=Lr(31,m,c,j),s.elementType=W,s.lanes=N,s;case w:return ns(m.children,j,N,c);case S:$=8,j|=24;break;case T:return s=Lr(12,m,c,j|2),s.elementType=T,s.lanes=N,s;case D:return s=Lr(13,m,c,j),s.elementType=D,s.lanes=N,s;case P:return s=Lr(19,m,c,j),s.elementType=P,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:$=10;break e;case O:$=9;break e;case C:$=11;break e;case I:$=14;break e;case U:$=16,x=null;break e}$=29,m=Error(r(130,s===null?"null":typeof s,"")),x=null}return c=Lr($,m,c,j),c.elementType=s,c.type=x,c.lanes=N,c}function ns(s,c,m,x){return s=Lr(7,s,x,c),s.lanes=m,s}function Ju(s,c,m){return s=Lr(6,s,null,c),s.lanes=m,s}function uh(s){var c=Lr(18,null,null,0);return c.stateNode=s,c}function dh(s,c,m){return c=Lr(4,s.children!==null?s.children:[],s.key,c),c.lanes=m,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var f=new WeakMap;function v(s,c){if(typeof s=="object"&&s!==null){var m=f.get(s);return m!==void 0?m:(c={value:s,source:c,stack:He(c)},f.set(s,c),c)}return{value:s,source:c,stack:He(c)}}var E=[],M=0,R=null,F=0,ee=[],ce=0,be=null,Ae=1,Ie="";function Xe(s,c){E[M++]=F,E[M++]=R,R=s,F=c}function mt(s,c,m){ee[ce++]=Ae,ee[ce++]=Ie,ee[ce++]=be,be=s;var x=Ae;s=Ie;var j=32-Sn(x)-1;x&=~(1<<j),m+=1;var N=32-Sn(c)+j;if(30<N){var $=j-j%5;N=(x&(1<<$)-1).toString(32),x>>=$,j-=$,Ae=1<<32-Sn(c)+j|m<<j|x,Ie=N+s}else Ae=1<<N|m<<j|x,Ie=s}function Xn(s){s.return!==null&&(Xe(s,1),mt(s,1,0))}function En(s){for(;s===R;)R=E[--M],E[M]=null,F=E[--M],E[M]=null;for(;s===be;)be=ee[--ce],ee[ce]=null,Ie=ee[--ce],ee[ce]=null,Ae=ee[--ce],ee[ce]=null}function Gr(s,c){ee[ce++]=Ae,ee[ce++]=Ie,ee[ce++]=be,Ae=c.id,Ie=c.overflow,be=s}var Tt=null,Nt=null,bt=!1,xo=null,li=!1,Qu=Error(r(519));function wo(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cc(v(c,s)),Qu}function fh(s){var c=s.stateNode,m=s.type,x=s.memoizedProps;switch(c[In]=s,c[or]=x,m){case"dialog":vt("cancel",c),vt("close",c);break;case"iframe":case"object":case"embed":vt("load",c);break;case"video":case"audio":for(m=0;m<Rh.length;m++)vt(Rh[m],c);break;case"source":vt("error",c);break;case"img":case"image":case"link":vt("error",c),vt("load",c);break;case"details":vt("toggle",c);break;case"input":vt("invalid",c),uc(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":vt("invalid",c);break;case"textarea":vt("invalid",c),Xs(c,x.value,x.defaultValue,x.children)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||x.suppressHydrationWarning===!0||xC(c.textContent,m)?(x.popover!=null&&(vt("beforetoggle",c),vt("toggle",c)),x.onScroll!=null&&vt("scroll",c),x.onScrollEnd!=null&&vt("scrollend",c),x.onClick!=null&&(c.onclick=ii),c=!0):c=!1,c||wo(s,!0)}function bn(s){for(Tt=s.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:Tt=Tt.return}}function La(s){if(s!==Tt)return!1;if(!bt)return bn(s),bt=!0,!1;var c=s.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||N_(s.type,s.memoizedProps)),m=!m),m&&Nt&&wo(s),bn(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Nt=NC(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Nt=NC(s)}else c===27?(c=Nt,El(s.type)?(s=P_,P_=null,Nt=s):Nt=c):Nt=Tt?oa(s.stateNode.nextSibling):null;return!0}function rs(){Nt=Tt=null,bt=!1}function hh(){var s=xo;return s!==null&&(fi===null?fi=s:fi.push.apply(fi,s),xo=null),s}function Cc(s){xo===null?xo=[s]:xo.push(s)}var Mc=z(null),_o=null,Ia=null;function fl(s,c,m){re(Mc,c._currentValue),c._currentValue=m}function is(s){s._currentValue=Mc.current,V(Mc)}function mw(s,c,m){for(;s!==null;){var x=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),s===m)break;s=s.return}}function pw(s,c,m,x){var j=s.child;for(j!==null&&(j.return=s);j!==null;){var N=j.dependencies;if(N!==null){var $=j.child;N=N.firstContext;e:for(;N!==null;){var Y=N;N=j;for(var ne=0;ne<c.length;ne++)if(Y.context===c[ne]){N.lanes|=m,Y=N.alternate,Y!==null&&(Y.lanes|=m),mw(N.return,m,s),x||($=null);break e}N=Y.next}}else if(j.tag===18){if($=j.return,$===null)throw Error(r(341));$.lanes|=m,N=$.alternate,N!==null&&(N.lanes|=m),mw($,m,s),$=null}else $=j.child;if($!==null)$.return=j;else for($=j;$!==null;){if($===s){$=null;break}if(j=$.sibling,j!==null){j.return=$.return,$=j;break}$=$.return}j=$}}function ed(s,c,m,x){s=null;for(var j=c,N=!1;j!==null;){if(!N){if((j.flags&524288)!==0)N=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var $=j.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var Y=j.type;sr(j.pendingProps.value,$.value)||(s!==null?s.push(Y):s=[Y])}}else if(j===pe.current){if($=j.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(s!==null?s.push(zh):s=[zh])}j=j.return}s!==null&&pw(c,s,m,x),c.flags|=262144}function O0(s){for(s=s.firstContext;s!==null;){if(!sr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Dc(s){_o=s,Ia=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function _r(s){return aN(_o,s)}function C0(s,c){return _o===null&&Dc(s),aN(s,c)}function aN(s,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Ia===null){if(s===null)throw Error(r(308));Ia=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else Ia=Ia.next=c;return m}var qH=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(m,x){s.push(x)}};this.abort=function(){c.aborted=!0,s.forEach(function(m){return m()})}},KH=e.unstable_scheduleCallback,WH=e.unstable_NormalPriority,Bn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gw(){return{controller:new qH,data:new Map,refCount:0}}function mh(s){s.refCount--,s.refCount===0&&KH(WH,function(){s.controller.abort()})}var ph=null,bw=0,td=0,nd=null;function VH(s,c){if(ph===null){var m=ph=[];bw=0,td=x_(),nd={status:"pending",value:void 0,then:function(x){m.push(x)}}}return bw++,c.then(oN,oN),c}function oN(){if(--bw===0&&ph!==null){nd!==null&&(nd.status="fulfilled");var s=ph;ph=null,td=0,nd=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function ZH(s,c){var m=[],x={status:"pending",value:null,reason:null,then:function(j){m.push(j)}};return s.then(function(){x.status="fulfilled",x.value=c;for(var j=0;j<m.length;j++)(0,m[j])(c)},function(j){for(x.status="rejected",x.reason=j,j=0;j<m.length;j++)(0,m[j])(void 0)}),x}var sN=G.S;G.S=function(s,c){GO=Ye(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&VH(s,c),sN!==null&&sN(s,c)};var Pc=z(null);function yw(){var s=Pc.current;return s!==null?s:Vt.pooledCache}function M0(s,c){c===null?re(Pc,Pc.current):re(Pc,c.pool)}function lN(){var s=yw();return s===null?null:{parent:Bn._currentValue,pool:s}}var rd=Error(r(460)),vw=Error(r(474)),D0=Error(r(542)),P0={then:function(){}};function cN(s){return s=s.status,s==="fulfilled"||s==="rejected"}function uN(s,c,m){switch(m=s[m],m===void 0?s.push(c):m!==c&&(c.then(ii,ii),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,fN(s),s;default:if(typeof c.status=="string")c.then(ii,ii);else{if(s=Vt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(x){if(c.status==="pending"){var j=c;j.status="fulfilled",j.value=x}},function(x){if(c.status==="pending"){var j=c;j.status="rejected",j.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,fN(s),s}throw Lc=c,rd}}function Rc(s){try{var c=s._init;return c(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Lc=m,rd):m}}var Lc=null;function dN(){if(Lc===null)throw Error(r(459));var s=Lc;return Lc=null,s}function fN(s){if(s===rd||s===D0)throw Error(r(483))}var id=null,gh=0;function R0(s){var c=gh;return gh+=1,id===null&&(id=[]),uN(id,s,c)}function bh(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function L0(s,c){throw c.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function hN(s){function c(le,ae){if(s){var me=le.deletions;me===null?(le.deletions=[ae],le.flags|=16):me.push(ae)}}function m(le,ae){if(!s)return null;for(;ae!==null;)c(le,ae),ae=ae.sibling;return null}function x(le){for(var ae=new Map;le!==null;)le.key!==null?ae.set(le.key,le):ae.set(le.index,le),le=le.sibling;return ae}function j(le,ae){return le=ia(le,ae),le.index=0,le.sibling=null,le}function N(le,ae,me){return le.index=me,s?(me=le.alternate,me!==null?(me=me.index,me<ae?(le.flags|=67108866,ae):me):(le.flags|=67108866,ae)):(le.flags|=1048576,ae)}function $(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function Y(le,ae,me,Ee){return ae===null||ae.tag!==6?(ae=Ju(me,le.mode,Ee),ae.return=le,ae):(ae=j(ae,me),ae.return=le,ae)}function ne(le,ae,me,Ee){var nt=me.type;return nt===w?_e(le,ae,me.props.children,Ee,me.key):ae!==null&&(ae.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===U&&Rc(nt)===ae.type)?(ae=j(ae,me.props),bh(ae,me),ae.return=le,ae):(ae=Oc(me.type,me.key,me.props,null,le.mode,Ee),bh(ae,me),ae.return=le,ae)}function ge(le,ae,me,Ee){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==me.containerInfo||ae.stateNode.implementation!==me.implementation?(ae=dh(me,le.mode,Ee),ae.return=le,ae):(ae=j(ae,me.children||[]),ae.return=le,ae)}function _e(le,ae,me,Ee,nt){return ae===null||ae.tag!==7?(ae=ns(me,le.mode,Ee,nt),ae.return=le,ae):(ae=j(ae,me),ae.return=le,ae)}function Te(le,ae,me){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Ju(""+ae,le.mode,me),ae.return=le,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:return me=Oc(ae.type,ae.key,ae.props,null,le.mode,me),bh(me,ae),me.return=le,me;case k:return ae=dh(ae,le.mode,me),ae.return=le,ae;case U:return ae=Rc(ae),Te(le,ae,me)}if(Z(ae)||B(ae))return ae=ns(ae,le.mode,me,null),ae.return=le,ae;if(typeof ae.then=="function")return Te(le,R0(ae),me);if(ae.$$typeof===A)return Te(le,C0(le,ae),me);L0(le,ae)}return null}function ye(le,ae,me,Ee){var nt=ae!==null?ae.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return nt!==null?null:Y(le,ae,""+me,Ee);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case y:return me.key===nt?ne(le,ae,me,Ee):null;case k:return me.key===nt?ge(le,ae,me,Ee):null;case U:return me=Rc(me),ye(le,ae,me,Ee)}if(Z(me)||B(me))return nt!==null?null:_e(le,ae,me,Ee,null);if(typeof me.then=="function")return ye(le,ae,R0(me),Ee);if(me.$$typeof===A)return ye(le,ae,C0(le,me),Ee);L0(le,me)}return null}function ve(le,ae,me,Ee,nt){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return le=le.get(me)||null,Y(ae,le,""+Ee,nt);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case y:return le=le.get(Ee.key===null?me:Ee.key)||null,ne(ae,le,Ee,nt);case k:return le=le.get(Ee.key===null?me:Ee.key)||null,ge(ae,le,Ee,nt);case U:return Ee=Rc(Ee),ve(le,ae,me,Ee,nt)}if(Z(Ee)||B(Ee))return le=le.get(me)||null,_e(ae,le,Ee,nt,null);if(typeof Ee.then=="function")return ve(le,ae,me,R0(Ee),nt);if(Ee.$$typeof===A)return ve(le,ae,me,C0(ae,Ee),nt);L0(ae,Ee)}return null}function qe(le,ae,me,Ee){for(var nt=null,Ot=null,We=ae,pt=ae=0,_t=null;We!==null&&pt<me.length;pt++){We.index>pt?(_t=We,We=null):_t=We.sibling;var Ct=ye(le,We,me[pt],Ee);if(Ct===null){We===null&&(We=_t);break}s&&We&&Ct.alternate===null&&c(le,We),ae=N(Ct,ae,pt),Ot===null?nt=Ct:Ot.sibling=Ct,Ot=Ct,We=_t}if(pt===me.length)return m(le,We),bt&&Xe(le,pt),nt;if(We===null){for(;pt<me.length;pt++)We=Te(le,me[pt],Ee),We!==null&&(ae=N(We,ae,pt),Ot===null?nt=We:Ot.sibling=We,Ot=We);return bt&&Xe(le,pt),nt}for(We=x(We);pt<me.length;pt++)_t=ve(We,le,pt,me[pt],Ee),_t!==null&&(s&&_t.alternate!==null&&We.delete(_t.key===null?pt:_t.key),ae=N(_t,ae,pt),Ot===null?nt=_t:Ot.sibling=_t,Ot=_t);return s&&We.forEach(function(Ol){return c(le,Ol)}),bt&&Xe(le,pt),nt}function ot(le,ae,me,Ee){if(me==null)throw Error(r(151));for(var nt=null,Ot=null,We=ae,pt=ae=0,_t=null,Ct=me.next();We!==null&&!Ct.done;pt++,Ct=me.next()){We.index>pt?(_t=We,We=null):_t=We.sibling;var Ol=ye(le,We,Ct.value,Ee);if(Ol===null){We===null&&(We=_t);break}s&&We&&Ol.alternate===null&&c(le,We),ae=N(Ol,ae,pt),Ot===null?nt=Ol:Ot.sibling=Ol,Ot=Ol,We=_t}if(Ct.done)return m(le,We),bt&&Xe(le,pt),nt;if(We===null){for(;!Ct.done;pt++,Ct=me.next())Ct=Te(le,Ct.value,Ee),Ct!==null&&(ae=N(Ct,ae,pt),Ot===null?nt=Ct:Ot.sibling=Ct,Ot=Ct);return bt&&Xe(le,pt),nt}for(We=x(We);!Ct.done;pt++,Ct=me.next())Ct=ve(We,le,pt,Ct.value,Ee),Ct!==null&&(s&&Ct.alternate!==null&&We.delete(Ct.key===null?pt:Ct.key),ae=N(Ct,ae,pt),Ot===null?nt=Ct:Ot.sibling=Ct,Ot=Ct);return s&&We.forEach(function(sY){return c(le,sY)}),bt&&Xe(le,pt),nt}function qt(le,ae,me,Ee){if(typeof me=="object"&&me!==null&&me.type===w&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case y:e:{for(var nt=me.key;ae!==null;){if(ae.key===nt){if(nt=me.type,nt===w){if(ae.tag===7){m(le,ae.sibling),Ee=j(ae,me.props.children),Ee.return=le,le=Ee;break e}}else if(ae.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===U&&Rc(nt)===ae.type){m(le,ae.sibling),Ee=j(ae,me.props),bh(Ee,me),Ee.return=le,le=Ee;break e}m(le,ae);break}else c(le,ae);ae=ae.sibling}me.type===w?(Ee=ns(me.props.children,le.mode,Ee,me.key),Ee.return=le,le=Ee):(Ee=Oc(me.type,me.key,me.props,null,le.mode,Ee),bh(Ee,me),Ee.return=le,le=Ee)}return $(le);case k:e:{for(nt=me.key;ae!==null;){if(ae.key===nt)if(ae.tag===4&&ae.stateNode.containerInfo===me.containerInfo&&ae.stateNode.implementation===me.implementation){m(le,ae.sibling),Ee=j(ae,me.children||[]),Ee.return=le,le=Ee;break e}else{m(le,ae);break}else c(le,ae);ae=ae.sibling}Ee=dh(me,le.mode,Ee),Ee.return=le,le=Ee}return $(le);case U:return me=Rc(me),qt(le,ae,me,Ee)}if(Z(me))return qe(le,ae,me,Ee);if(B(me)){if(nt=B(me),typeof nt!="function")throw Error(r(150));return me=nt.call(me),ot(le,ae,me,Ee)}if(typeof me.then=="function")return qt(le,ae,R0(me),Ee);if(me.$$typeof===A)return qt(le,ae,C0(le,me),Ee);L0(le,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,ae!==null&&ae.tag===6?(m(le,ae.sibling),Ee=j(ae,me),Ee.return=le,le=Ee):(m(le,ae),Ee=Ju(me,le.mode,Ee),Ee.return=le,le=Ee),$(le)):m(le,ae)}return function(le,ae,me,Ee){try{gh=0;var nt=qt(le,ae,me,Ee);return id=null,nt}catch(We){if(We===rd||We===D0)throw We;var Ot=Lr(29,We,null,le.mode);return Ot.lanes=Ee,Ot.return=le,Ot}finally{}}}var Ic=hN(!0),mN=hN(!1),hl=!1;function xw(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ww(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ml(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function pl(s,c,m){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(Dt&2)!==0){var j=x.pending;return j===null?c.next=c:(c.next=j.next,j.next=c),x.pending=c,c=Nc(s),dl(s,null,m),c}return vo(s,x,c,m),Nc(s)}function yh(s,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,r0(s,m)}}function _w(s,c){var m=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var j=null,N=null;if(m=m.firstBaseUpdate,m!==null){do{var $={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};N===null?j=N=$:N=N.next=$,m=m.next}while(m!==null);N===null?j=N=c:N=N.next=c}else j=N=c;m={baseState:x.baseState,firstBaseUpdate:j,lastBaseUpdate:N,shared:x.shared,callbacks:x.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=c:s.next=c,m.lastBaseUpdate=c}var Sw=!1;function vh(){if(Sw){var s=nd;if(s!==null)throw s}}function xh(s,c,m,x){Sw=!1;var j=s.updateQueue;hl=!1;var N=j.firstBaseUpdate,$=j.lastBaseUpdate,Y=j.shared.pending;if(Y!==null){j.shared.pending=null;var ne=Y,ge=ne.next;ne.next=null,$===null?N=ge:$.next=ge,$=ne;var _e=s.alternate;_e!==null&&(_e=_e.updateQueue,Y=_e.lastBaseUpdate,Y!==$&&(Y===null?_e.firstBaseUpdate=ge:Y.next=ge,_e.lastBaseUpdate=ne))}if(N!==null){var Te=j.baseState;$=0,_e=ge=ne=null,Y=N;do{var ye=Y.lane&-536870913,ve=ye!==Y.lane;if(ve?(wt&ye)===ye:(x&ye)===ye){ye!==0&&ye===td&&(Sw=!0),_e!==null&&(_e=_e.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var qe=s,ot=Y;ye=c;var qt=m;switch(ot.tag){case 1:if(qe=ot.payload,typeof qe=="function"){Te=qe.call(qt,Te,ye);break e}Te=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=ot.payload,ye=typeof qe=="function"?qe.call(qt,Te,ye):qe,ye==null)break e;Te=p({},Te,ye);break e;case 2:hl=!0}}ye=Y.callback,ye!==null&&(s.flags|=64,ve&&(s.flags|=8192),ve=j.callbacks,ve===null?j.callbacks=[ye]:ve.push(ye))}else ve={lane:ye,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},_e===null?(ge=_e=ve,ne=Te):_e=_e.next=ve,$|=ye;if(Y=Y.next,Y===null){if(Y=j.shared.pending,Y===null)break;ve=Y,Y=ve.next,ve.next=null,j.lastBaseUpdate=ve,j.shared.pending=null}}while(!0);_e===null&&(ne=Te),j.baseState=ne,j.firstBaseUpdate=ge,j.lastBaseUpdate=_e,N===null&&(j.shared.lanes=0),xl|=$,s.lanes=$,s.memoizedState=Te}}function pN(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function gN(s,c){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)pN(m[s],c)}var ad=z(null),I0=z(0);function bN(s,c){s=hs,re(I0,s),re(ad,c),hs=s|c.baseLanes}function kw(){re(I0,hs),re(ad,ad.current)}function Ew(){hs=I0.current,V(ad),V(I0)}var Ni=z(null),aa=null;function gl(s){var c=s.alternate;re(Mn,Mn.current&1),re(Ni,s),aa===null&&(c===null||ad.current!==null||c.memoizedState!==null)&&(aa=s)}function jw(s){re(Mn,Mn.current),re(Ni,s),aa===null&&(aa=s)}function yN(s){s.tag===22?(re(Mn,Mn.current),re(Ni,s),aa===null&&(aa=s)):bl()}function bl(){re(Mn,Mn.current),re(Ni,Ni.current)}function Oi(s){V(Ni),aa===s&&(aa=null),V(Mn)}var Mn=z(0);function $0(s){for(var c=s;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||M_(m)||D_(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var as=0,ft=null,Gt=null,zn=null,B0=!1,od=!1,$c=!1,z0=0,wh=0,sd=null,XH=0;function jn(){throw Error(r(321))}function Aw(s,c){if(c===null)return!1;for(var m=0;m<c.length&&m<s.length;m++)if(!sr(s[m],c[m]))return!1;return!0}function Tw(s,c,m,x,j,N){return as=N,ft=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,G.H=s===null||s.memoizedState===null?tO:Hw,$c=!1,N=m(x,j),$c=!1,od&&(N=xN(c,m,x,j)),vN(s),N}function vN(s){G.H=kh;var c=Gt!==null&&Gt.next!==null;if(as=0,zn=Gt=ft=null,B0=!1,wh=0,sd=null,c)throw Error(r(300));s===null||Un||(s=s.dependencies,s!==null&&O0(s)&&(Un=!0))}function xN(s,c,m,x){ft=s;var j=0;do{if(od&&(sd=null),wh=0,od=!1,25<=j)throw Error(r(301));if(j+=1,zn=Gt=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}G.H=nO,N=c(m,x)}while(od);return N}function JH(){var s=G.H,c=s.useState()[0];return c=typeof c.then=="function"?_h(c):c,s=s.useState()[0],(Gt!==null?Gt.memoizedState:null)!==s&&(ft.flags|=1024),c}function Nw(){var s=z0!==0;return z0=0,s}function Ow(s,c,m){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~m}function Cw(s){if(B0){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}B0=!1}as=0,zn=Gt=ft=null,od=!1,wh=z0=0,sd=null}function Yr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?ft.memoizedState=zn=s:zn=zn.next=s,zn}function Dn(){if(Gt===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=Gt.next;var c=zn===null?ft.memoizedState:zn.next;if(c!==null)zn=c,Gt=s;else{if(s===null)throw ft.alternate===null?Error(r(467)):Error(r(310));Gt=s,s={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},zn===null?ft.memoizedState=zn=s:zn=zn.next=s}return zn}function U0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _h(s){var c=wh;return wh+=1,sd===null&&(sd=[]),s=uN(sd,s,c),c=ft,(zn===null?c.memoizedState:zn.next)===null&&(c=c.alternate,G.H=c===null||c.memoizedState===null?tO:Hw),s}function F0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return _h(s);if(s.$$typeof===A)return _r(s)}throw Error(r(438,String(s)))}function Mw(s){var c=null,m=ft.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var x=ft.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(j){return j.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=U0(),ft.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(s),x=0;x<s;x++)m[x]=K;return c.index++,m}function os(s,c){return typeof c=="function"?c(s):c}function H0(s){var c=Dn();return Dw(c,Gt,s)}function Dw(s,c,m){var x=s.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=m;var j=s.baseQueue,N=x.pending;if(N!==null){if(j!==null){var $=j.next;j.next=N.next,N.next=$}c.baseQueue=j=N,x.pending=null}if(N=s.baseState,j===null)s.memoizedState=N;else{c=j.next;var Y=$=null,ne=null,ge=c,_e=!1;do{var Te=ge.lane&-536870913;if(Te!==ge.lane?(wt&Te)===Te:(as&Te)===Te){var ye=ge.revertLane;if(ye===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),Te===td&&(_e=!0);else if((as&ye)===ye){ge=ge.next,ye===td&&(_e=!0);continue}else Te={lane:0,revertLane:ge.revertLane,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},ne===null?(Y=ne=Te,$=N):ne=ne.next=Te,ft.lanes|=ye,xl|=ye;Te=ge.action,$c&&m(N,Te),N=ge.hasEagerState?ge.eagerState:m(N,Te)}else ye={lane:Te,revertLane:ge.revertLane,gesture:ge.gesture,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},ne===null?(Y=ne=ye,$=N):ne=ne.next=ye,ft.lanes|=Te,xl|=Te;ge=ge.next}while(ge!==null&&ge!==c);if(ne===null?$=N:ne.next=Y,!sr(N,s.memoizedState)&&(Un=!0,_e&&(m=nd,m!==null)))throw m;s.memoizedState=N,s.baseState=$,s.baseQueue=ne,x.lastRenderedState=N}return j===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function Pw(s){var c=Dn(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var x=m.dispatch,j=m.pending,N=c.memoizedState;if(j!==null){m.pending=null;var $=j=j.next;do N=s(N,$.action),$=$.next;while($!==j);sr(N,c.memoizedState)||(Un=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),m.lastRenderedState=N}return[N,x]}function wN(s,c,m){var x=ft,j=Dn(),N=bt;if(N){if(m===void 0)throw Error(r(407));m=m()}else m=c();var $=!sr((Gt||j).memoizedState,m);if($&&(j.memoizedState=m,Un=!0),j=j.queue,Iw(kN.bind(null,x,j,s),[s]),j.getSnapshot!==c||$||zn!==null&&zn.memoizedState.tag&1){if(x.flags|=2048,ld(9,{destroy:void 0},SN.bind(null,x,j,m,c),null),Vt===null)throw Error(r(349));N||(as&127)!==0||_N(x,c,m)}return m}function _N(s,c,m){s.flags|=16384,s={getSnapshot:c,value:m},c=ft.updateQueue,c===null?(c=U0(),ft.updateQueue=c,c.stores=[s]):(m=c.stores,m===null?c.stores=[s]:m.push(s))}function SN(s,c,m,x){c.value=m,c.getSnapshot=x,EN(c)&&jN(s)}function kN(s,c,m){return m(function(){EN(c)&&jN(s)})}function EN(s){var c=s.getSnapshot;s=s.value;try{var m=c();return!sr(s,m)}catch{return!0}}function jN(s){var c=ra(s,2);c!==null&&hi(c,s,2)}function Rw(s){var c=Yr();if(typeof s=="function"){var m=s;if(s=m(),$c){Rt(!0);try{m()}finally{Rt(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:s},c}function AN(s,c,m,x){return s.baseState=m,Dw(s,Gt,typeof x=="function"?x:os)}function QH(s,c,m,x,j){if(q0(s))throw Error(r(485));if(s=c.action,s!==null){var N={payload:j,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){N.listeners.push($)}};G.T!==null?m(!0):N.isTransition=!1,x(N),m=c.pending,m===null?(N.next=c.pending=N,TN(c,N)):(N.next=m.next,c.pending=m.next=N)}}function TN(s,c){var m=c.action,x=c.payload,j=s.state;if(c.isTransition){var N=G.T,$={};G.T=$;try{var Y=m(j,x),ne=G.S;ne!==null&&ne($,Y),NN(s,c,Y)}catch(ge){Lw(s,c,ge)}finally{N!==null&&$.types!==null&&(N.types=$.types),G.T=N}}else try{N=m(j,x),NN(s,c,N)}catch(ge){Lw(s,c,ge)}}function NN(s,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){ON(s,c,x)},function(x){return Lw(s,c,x)}):ON(s,c,m)}function ON(s,c,m){c.status="fulfilled",c.value=m,CN(c),s.state=m,c=s.pending,c!==null&&(m=c.next,m===c?s.pending=null:(m=m.next,c.next=m,TN(s,m)))}function Lw(s,c,m){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=m,CN(c),c=c.next;while(c!==x)}s.action=null}function CN(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function MN(s,c){return c}function DN(s,c){if(bt){var m=Vt.formState;if(m!==null){e:{var x=ft;if(bt){if(Nt){t:{for(var j=Nt,N=li;j.nodeType!==8;){if(!N){j=null;break t}if(j=oa(j.nextSibling),j===null){j=null;break t}}N=j.data,j=N==="F!"||N==="F"?j:null}if(j){Nt=oa(j.nextSibling),x=j.data==="F!";break e}}wo(x)}x=!1}x&&(c=m[0])}}return m=Yr(),m.memoizedState=m.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MN,lastRenderedState:c},m.queue=x,m=JN.bind(null,ft,x),x.dispatch=m,x=Rw(!1),N=Fw.bind(null,ft,!1,x.queue),x=Yr(),j={state:c,dispatch:null,action:s,pending:null},x.queue=j,m=QH.bind(null,ft,j,N,m),j.dispatch=m,x.memoizedState=s,[c,m,!1]}function PN(s){var c=Dn();return RN(c,Gt,s)}function RN(s,c,m){if(c=Dw(s,c,MN)[0],s=H0(os)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=_h(c)}catch($){throw $===rd?D0:$}else x=c;c=Dn();var j=c.queue,N=j.dispatch;return m!==c.memoizedState&&(ft.flags|=2048,ld(9,{destroy:void 0},eG.bind(null,j,m),null)),[x,N,s]}function eG(s,c){s.action=c}function LN(s){var c=Dn(),m=Gt;if(m!==null)return RN(c,m,s);Dn(),c=c.memoizedState,m=Dn();var x=m.queue.dispatch;return m.memoizedState=s,[c,x,!1]}function ld(s,c,m,x){return s={tag:s,create:m,deps:x,inst:c,next:null},c=ft.updateQueue,c===null&&(c=U0(),ft.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=s.next=s:(x=m.next,m.next=s,s.next=x,c.lastEffect=s),s}function IN(){return Dn().memoizedState}function G0(s,c,m,x){var j=Yr();ft.flags|=s,j.memoizedState=ld(1|c,{destroy:void 0},m,x===void 0?null:x)}function Y0(s,c,m,x){var j=Dn();x=x===void 0?null:x;var N=j.memoizedState.inst;Gt!==null&&x!==null&&Aw(x,Gt.memoizedState.deps)?j.memoizedState=ld(c,N,m,x):(ft.flags|=s,j.memoizedState=ld(1|c,N,m,x))}function $N(s,c){G0(8390656,8,s,c)}function Iw(s,c){Y0(2048,8,s,c)}function tG(s){ft.flags|=4;var c=ft.updateQueue;if(c===null)c=U0(),ft.updateQueue=c,c.events=[s];else{var m=c.events;m===null?c.events=[s]:m.push(s)}}function BN(s){var c=Dn().memoizedState;return tG({ref:c,nextImpl:s}),function(){if((Dt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function zN(s,c){return Y0(4,2,s,c)}function UN(s,c){return Y0(4,4,s,c)}function FN(s,c){if(typeof c=="function"){s=s();var m=c(s);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function HN(s,c,m){m=m!=null?m.concat([s]):null,Y0(4,4,FN.bind(null,c,s),m)}function $w(){}function GN(s,c){var m=Dn();c=c===void 0?null:c;var x=m.memoizedState;return c!==null&&Aw(c,x[1])?x[0]:(m.memoizedState=[s,c],s)}function YN(s,c){var m=Dn();c=c===void 0?null:c;var x=m.memoizedState;if(c!==null&&Aw(c,x[1]))return x[0];if(x=s(),$c){Rt(!0);try{s()}finally{Rt(!1)}}return m.memoizedState=[x,c],x}function Bw(s,c,m){return m===void 0||(as&1073741824)!==0&&(wt&261930)===0?s.memoizedState=c:(s.memoizedState=m,s=qO(),ft.lanes|=s,xl|=s,m)}function qN(s,c,m,x){return sr(m,c)?m:ad.current!==null?(s=Bw(s,m,x),sr(s,c)||(Un=!0),s):(as&42)===0||(as&1073741824)!==0&&(wt&261930)===0?(Un=!0,s.memoizedState=m):(s=qO(),ft.lanes|=s,xl|=s,c)}function KN(s,c,m,x,j){var N=J.p;J.p=N!==0&&8>N?N:8;var $=G.T,Y={};G.T=Y,Fw(s,!1,c,m);try{var ne=j(),ge=G.S;if(ge!==null&&ge(Y,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var _e=ZH(ne,x);Sh(s,c,_e,Di(s))}else Sh(s,c,x,Di(s))}catch(Te){Sh(s,c,{then:function(){},status:"rejected",reason:Te},Di())}finally{J.p=N,$!==null&&Y.types!==null&&($.types=Y.types),G.T=$}}function nG(){}function zw(s,c,m,x){if(s.tag!==5)throw Error(r(476));var j=WN(s).queue;KN(s,j,c,Q,m===null?nG:function(){return VN(s),m(x)})}function WN(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:Q},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:m},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function VN(s){var c=WN(s);c.next===null&&(c=s.alternate.memoizedState),Sh(s,c.next.queue,{},Di())}function Uw(){return _r(zh)}function ZN(){return Dn().memoizedState}function XN(){return Dn().memoizedState}function rG(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var m=Di();s=ml(m);var x=pl(c,s,m);x!==null&&(hi(x,c,m),yh(x,c,m)),c={cache:gw()},s.payload=c;return}c=c.return}}function iG(s,c,m){var x=Di();m={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},q0(s)?QN(c,m):(m=lh(s,c,m,x),m!==null&&(hi(m,s,x),eO(m,c,x)))}function JN(s,c,m){var x=Di();Sh(s,c,m,x)}function Sh(s,c,m,x){var j={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(q0(s))QN(c,j);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var $=c.lastRenderedState,Y=N($,m);if(j.hasEagerState=!0,j.eagerState=Y,sr(Y,$))return vo(s,c,j,0),Vt===null&&Tc(),!1}catch{}finally{}if(m=lh(s,c,j,x),m!==null)return hi(m,s,x),eO(m,c,x),!0}return!1}function Fw(s,c,m,x){if(x={lane:2,revertLane:x_(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},q0(s)){if(c)throw Error(r(479))}else c=lh(s,m,x,2),c!==null&&hi(c,s,2)}function q0(s){var c=s.alternate;return s===ft||c!==null&&c===ft}function QN(s,c){od=B0=!0;var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}function eO(s,c,m){if((m&4194048)!==0){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,r0(s,m)}}var kh={readContext:_r,use:F0,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useLayoutEffect:jn,useInsertionEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useSyncExternalStore:jn,useId:jn,useHostTransitionStatus:jn,useFormState:jn,useActionState:jn,useOptimistic:jn,useMemoCache:jn,useCacheRefresh:jn};kh.useEffectEvent=jn;var tO={readContext:_r,use:F0,useCallback:function(s,c){return Yr().memoizedState=[s,c===void 0?null:c],s},useContext:_r,useEffect:$N,useImperativeHandle:function(s,c,m){m=m!=null?m.concat([s]):null,G0(4194308,4,FN.bind(null,c,s),m)},useLayoutEffect:function(s,c){return G0(4194308,4,s,c)},useInsertionEffect:function(s,c){G0(4,2,s,c)},useMemo:function(s,c){var m=Yr();c=c===void 0?null:c;var x=s();if($c){Rt(!0);try{s()}finally{Rt(!1)}}return m.memoizedState=[x,c],x},useReducer:function(s,c,m){var x=Yr();if(m!==void 0){var j=m(c);if($c){Rt(!0);try{m(c)}finally{Rt(!1)}}}else j=c;return x.memoizedState=x.baseState=j,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:j},x.queue=s,s=s.dispatch=iG.bind(null,ft,s),[x.memoizedState,s]},useRef:function(s){var c=Yr();return s={current:s},c.memoizedState=s},useState:function(s){s=Rw(s);var c=s.queue,m=JN.bind(null,ft,c);return c.dispatch=m,[s.memoizedState,m]},useDebugValue:$w,useDeferredValue:function(s,c){var m=Yr();return Bw(m,s,c)},useTransition:function(){var s=Rw(!1);return s=KN.bind(null,ft,s.queue,!0,!1),Yr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,m){var x=ft,j=Yr();if(bt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),Vt===null)throw Error(r(349));(wt&127)!==0||_N(x,c,m)}j.memoizedState=m;var N={value:m,getSnapshot:c};return j.queue=N,$N(kN.bind(null,x,N,s),[s]),x.flags|=2048,ld(9,{destroy:void 0},SN.bind(null,x,N,m,c),null),m},useId:function(){var s=Yr(),c=Vt.identifierPrefix;if(bt){var m=Ie,x=Ae;m=(x&~(1<<32-Sn(x)-1)).toString(32)+m,c="_"+c+"R_"+m,m=z0++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=XH++,c="_"+c+"r_"+m.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:Uw,useFormState:DN,useActionState:DN,useOptimistic:function(s){var c=Yr();c.memoizedState=c.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=Fw.bind(null,ft,!0,m),m.dispatch=c,[s,c]},useMemoCache:Mw,useCacheRefresh:function(){return Yr().memoizedState=rG.bind(null,ft)},useEffectEvent:function(s){var c=Yr(),m={impl:s};return c.memoizedState=m,function(){if((Dt&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},Hw={readContext:_r,use:F0,useCallback:GN,useContext:_r,useEffect:Iw,useImperativeHandle:HN,useInsertionEffect:zN,useLayoutEffect:UN,useMemo:YN,useReducer:H0,useRef:IN,useState:function(){return H0(os)},useDebugValue:$w,useDeferredValue:function(s,c){var m=Dn();return qN(m,Gt.memoizedState,s,c)},useTransition:function(){var s=H0(os)[0],c=Dn().memoizedState;return[typeof s=="boolean"?s:_h(s),c]},useSyncExternalStore:wN,useId:ZN,useHostTransitionStatus:Uw,useFormState:PN,useActionState:PN,useOptimistic:function(s,c){var m=Dn();return AN(m,Gt,s,c)},useMemoCache:Mw,useCacheRefresh:XN};Hw.useEffectEvent=BN;var nO={readContext:_r,use:F0,useCallback:GN,useContext:_r,useEffect:Iw,useImperativeHandle:HN,useInsertionEffect:zN,useLayoutEffect:UN,useMemo:YN,useReducer:Pw,useRef:IN,useState:function(){return Pw(os)},useDebugValue:$w,useDeferredValue:function(s,c){var m=Dn();return Gt===null?Bw(m,s,c):qN(m,Gt.memoizedState,s,c)},useTransition:function(){var s=Pw(os)[0],c=Dn().memoizedState;return[typeof s=="boolean"?s:_h(s),c]},useSyncExternalStore:wN,useId:ZN,useHostTransitionStatus:Uw,useFormState:LN,useActionState:LN,useOptimistic:function(s,c){var m=Dn();return Gt!==null?AN(m,Gt,s,c):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:Mw,useCacheRefresh:XN};nO.useEffectEvent=BN;function Gw(s,c,m,x){c=s.memoizedState,m=m(x,c),m=m==null?c:p({},c,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var Yw={enqueueSetState:function(s,c,m){s=s._reactInternals;var x=Di(),j=ml(x);j.payload=c,m!=null&&(j.callback=m),c=pl(s,j,x),c!==null&&(hi(c,s,x),yh(c,s,x))},enqueueReplaceState:function(s,c,m){s=s._reactInternals;var x=Di(),j=ml(x);j.tag=1,j.payload=c,m!=null&&(j.callback=m),c=pl(s,j,x),c!==null&&(hi(c,s,x),yh(c,s,x))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var m=Di(),x=ml(m);x.tag=2,c!=null&&(x.callback=c),c=pl(s,x,m),c!==null&&(hi(c,s,m),yh(c,s,m))}};function rO(s,c,m,x,j,N,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,N,$):c.prototype&&c.prototype.isPureReactComponent?!sl(m,x)||!sl(j,N):!0}function iO(s,c,m,x){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==s&&Yw.enqueueReplaceState(c,c.state,null)}function Bc(s,c){var m=c;if("ref"in c){m={};for(var x in c)x!=="ref"&&(m[x]=c[x])}if(s=s.defaultProps){m===c&&(m=p({},m));for(var j in s)m[j]===void 0&&(m[j]=s[j])}return m}function aO(s){Ac(s)}function oO(s){console.error(s)}function sO(s){Ac(s)}function K0(s,c){try{var m=s.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function lO(s,c,m){try{var x=s.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function qw(s,c,m){return m=ml(m),m.tag=3,m.payload={element:null},m.callback=function(){K0(s,c)},m}function cO(s){return s=ml(s),s.tag=3,s}function uO(s,c,m,x){var j=m.type.getDerivedStateFromError;if(typeof j=="function"){var N=x.value;s.payload=function(){return j(N)},s.callback=function(){lO(c,m,x)}}var $=m.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(s.callback=function(){lO(c,m,x),typeof j!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var Y=x.stack;this.componentDidCatch(x.value,{componentStack:Y!==null?Y:""})})}function aG(s,c,m,x,j){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=m.alternate,c!==null&&ed(c,m,j,!0),m=Ni.current,m!==null){switch(m.tag){case 31:case 13:return aa===null?ag():m.alternate===null&&An===0&&(An=3),m.flags&=-257,m.flags|=65536,m.lanes=j,x===P0?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([x]):c.add(x),b_(s,x,j)),!1;case 22:return m.flags|=65536,x===P0?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([x]):m.add(x)),b_(s,x,j)),!1}throw Error(r(435,m.tag))}return b_(s,x,j),ag(),!1}if(bt)return c=Ni.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=j,x!==Qu&&(s=Error(r(422),{cause:x}),Cc(v(s,m)))):(x!==Qu&&(c=Error(r(423),{cause:x}),Cc(v(c,m))),s=s.current.alternate,s.flags|=65536,j&=-j,s.lanes|=j,x=v(x,m),j=qw(s.stateNode,x,j),_w(s,j),An!==4&&(An=2)),!1;var N=Error(r(520),{cause:x});if(N=v(N,m),Mh===null?Mh=[N]:Mh.push(N),An!==4&&(An=2),c===null)return!0;x=v(x,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,s=j&-j,m.lanes|=s,s=qw(m.stateNode,x,s),_w(m,s),!1;case 1:if(c=m.type,N=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(wl===null||!wl.has(N))))return m.flags|=65536,j&=-j,m.lanes|=j,j=cO(j),uO(j,s,m,x),_w(m,j),!1}m=m.return}while(m!==null);return!1}var Kw=Error(r(461)),Un=!1;function Sr(s,c,m,x){c.child=s===null?mN(c,null,m,x):Ic(c,s.child,m,x)}function dO(s,c,m,x,j){m=m.render;var N=c.ref;if("ref"in x){var $={};for(var Y in x)Y!=="ref"&&($[Y]=x[Y])}else $=x;return Dc(c),x=Tw(s,c,m,$,N,j),Y=Nw(),s!==null&&!Un?(Ow(s,c,j),ss(s,c,j)):(bt&&Y&&Xn(c),c.flags|=1,Sr(s,c,x,j),c.child)}function fO(s,c,m,x,j){if(s===null){var N=m.type;return typeof N=="function"&&!Xu(N)&&N.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=N,hO(s,c,N,x,j)):(s=Oc(m.type,null,x,c,c.mode,j),s.ref=c.ref,s.return=c,c.child=s)}if(N=s.child,!t_(s,j)){var $=N.memoizedProps;if(m=m.compare,m=m!==null?m:sl,m($,x)&&s.ref===c.ref)return ss(s,c,j)}return c.flags|=1,s=ia(N,x),s.ref=c.ref,s.return=c,c.child=s}function hO(s,c,m,x,j){if(s!==null){var N=s.memoizedProps;if(sl(N,x)&&s.ref===c.ref)if(Un=!1,c.pendingProps=x=N,t_(s,j))(s.flags&131072)!==0&&(Un=!0);else return c.lanes=s.lanes,ss(s,c,j)}return Ww(s,c,m,x,j)}function mO(s,c,m,x){var j=x.children,N=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((c.flags&128)!==0){if(N=N!==null?N.baseLanes|m:m,s!==null){for(x=c.child=s.child,j=0;x!==null;)j=j|x.lanes|x.childLanes,x=x.sibling;x=j&~N}else x=0,c.child=null;return pO(s,c,N,m,x)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&M0(c,N!==null?N.cachePool:null),N!==null?bN(c,N):kw(),yN(c);else return x=c.lanes=536870912,pO(s,c,N!==null?N.baseLanes|m:m,m,x)}else N!==null?(M0(c,N.cachePool),bN(c,N),bl(),c.memoizedState=null):(s!==null&&M0(c,null),kw(),bl());return Sr(s,c,j,m),c.child}function Eh(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function pO(s,c,m,x,j){var N=yw();return N=N===null?null:{parent:Bn._currentValue,pool:N},c.memoizedState={baseLanes:m,cachePool:N},s!==null&&M0(c,null),kw(),yN(c),s!==null&&ed(s,c,x,!0),c.childLanes=j,null}function W0(s,c){return c=Z0({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function gO(s,c,m){return Ic(c,s.child,null,m),s=W0(c,c.pendingProps),s.flags|=2,Oi(c),c.memoizedState=null,s}function oG(s,c,m){var x=c.pendingProps,j=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(bt){if(x.mode==="hidden")return s=W0(c,x),c.lanes=536870912,Eh(null,s);if(jw(c),(s=Nt)?(s=TC(s,li),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:be!==null?{id:Ae,overflow:Ie}:null,retryLane:536870912,hydrationErrors:null},m=uh(s),m.return=c,c.child=m,Tt=c,Nt=null)):s=null,s===null)throw wo(c);return c.lanes=536870912,null}return W0(c,x)}var N=s.memoizedState;if(N!==null){var $=N.dehydrated;if(jw(c),j)if(c.flags&256)c.flags&=-257,c=gO(s,c,m);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Un||ed(s,c,m,!1),j=(m&s.childLanes)!==0,Un||j){if(x=Vt,x!==null&&($=i0(x,m),$!==0&&$!==N.retryLane))throw N.retryLane=$,ra(s,$),hi(x,s,$),Kw;ag(),c=gO(s,c,m)}else s=N.treeContext,Nt=oa($.nextSibling),Tt=c,bt=!0,xo=null,li=!1,s!==null&&Gr(c,s),c=W0(c,x),c.flags|=4096;return c}return s=ia(s.child,{mode:x.mode,children:x.children}),s.ref=c.ref,c.child=s,s.return=c,s}function V0(s,c){var m=c.ref;if(m===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(c.flags|=4194816)}}function Ww(s,c,m,x,j){return Dc(c),m=Tw(s,c,m,x,void 0,j),x=Nw(),s!==null&&!Un?(Ow(s,c,j),ss(s,c,j)):(bt&&x&&Xn(c),c.flags|=1,Sr(s,c,m,j),c.child)}function bO(s,c,m,x,j,N){return Dc(c),c.updateQueue=null,m=xN(c,x,m,j),vN(s),x=Nw(),s!==null&&!Un?(Ow(s,c,N),ss(s,c,N)):(bt&&x&&Xn(c),c.flags|=1,Sr(s,c,m,N),c.child)}function yO(s,c,m,x,j){if(Dc(c),c.stateNode===null){var N=ts,$=m.contextType;typeof $=="object"&&$!==null&&(N=_r($)),N=new m(x,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Yw,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=x,N.state=c.memoizedState,N.refs={},xw(c),$=m.contextType,N.context=typeof $=="object"&&$!==null?_r($):ts,N.state=c.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(Gw(c,m,$,x),N.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||($=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),$!==N.state&&Yw.enqueueReplaceState(N,N.state,null),xh(c,x,N,j),vh(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(s===null){N=c.stateNode;var Y=c.memoizedProps,ne=Bc(m,Y);N.props=ne;var ge=N.context,_e=m.contextType;$=ts,typeof _e=="object"&&_e!==null&&($=_r(_e));var Te=m.getDerivedStateFromProps;_e=typeof Te=="function"||typeof N.getSnapshotBeforeUpdate=="function",Y=c.pendingProps!==Y,_e||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Y||ge!==$)&&iO(c,N,x,$),hl=!1;var ye=c.memoizedState;N.state=ye,xh(c,x,N,j),vh(),ge=c.memoizedState,Y||ye!==ge||hl?(typeof Te=="function"&&(Gw(c,m,Te,x),ge=c.memoizedState),(ne=hl||rO(c,m,ne,x,ye,ge,$))?(_e||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=ge),N.props=x,N.state=ge,N.context=$,x=ne):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{N=c.stateNode,ww(s,c),$=c.memoizedProps,_e=Bc(m,$),N.props=_e,Te=c.pendingProps,ye=N.context,ge=m.contextType,ne=ts,typeof ge=="object"&&ge!==null&&(ne=_r(ge)),Y=m.getDerivedStateFromProps,(ge=typeof Y=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||($!==Te||ye!==ne)&&iO(c,N,x,ne),hl=!1,ye=c.memoizedState,N.state=ye,xh(c,x,N,j),vh();var ve=c.memoizedState;$!==Te||ye!==ve||hl||s!==null&&s.dependencies!==null&&O0(s.dependencies)?(typeof Y=="function"&&(Gw(c,m,Y,x),ve=c.memoizedState),(_e=hl||rO(c,m,_e,x,ye,ve,ne)||s!==null&&s.dependencies!==null&&O0(s.dependencies))?(ge||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(x,ve,ne),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(x,ve,ne)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||$===s.memoizedProps&&ye===s.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&ye===s.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=ve),N.props=x,N.state=ve,N.context=ne,x=_e):(typeof N.componentDidUpdate!="function"||$===s.memoizedProps&&ye===s.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&ye===s.memoizedState||(c.flags|=1024),x=!1)}return N=x,V0(s,c),x=(c.flags&128)!==0,N||x?(N=c.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,s!==null&&x?(c.child=Ic(c,s.child,null,j),c.child=Ic(c,null,m,j)):Sr(s,c,m,j),c.memoizedState=N.state,s=c.child):s=ss(s,c,j),s}function vO(s,c,m,x){return rs(),c.flags|=256,Sr(s,c,m,x),c.child}var Vw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zw(s){return{baseLanes:s,cachePool:lN()}}function Xw(s,c,m){return s=s!==null?s.childLanes&~m:0,c&&(s|=Mi),s}function xO(s,c,m){var x=c.pendingProps,j=!1,N=(c.flags&128)!==0,$;if(($=N)||($=s!==null&&s.memoizedState===null?!1:(Mn.current&2)!==0),$&&(j=!0,c.flags&=-129),$=(c.flags&32)!==0,c.flags&=-33,s===null){if(bt){if(j?gl(c):bl(),(s=Nt)?(s=TC(s,li),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:be!==null?{id:Ae,overflow:Ie}:null,retryLane:536870912,hydrationErrors:null},m=uh(s),m.return=c,c.child=m,Tt=c,Nt=null)):s=null,s===null)throw wo(c);return D_(s)?c.lanes=32:c.lanes=536870912,null}var Y=x.children;return x=x.fallback,j?(bl(),j=c.mode,Y=Z0({mode:"hidden",children:Y},j),x=ns(x,j,m,null),Y.return=c,x.return=c,Y.sibling=x,c.child=Y,x=c.child,x.memoizedState=Zw(m),x.childLanes=Xw(s,$,m),c.memoizedState=Vw,Eh(null,x)):(gl(c),Jw(c,Y))}var ne=s.memoizedState;if(ne!==null&&(Y=ne.dehydrated,Y!==null)){if(N)c.flags&256?(gl(c),c.flags&=-257,c=Qw(s,c,m)):c.memoizedState!==null?(bl(),c.child=s.child,c.flags|=128,c=null):(bl(),Y=x.fallback,j=c.mode,x=Z0({mode:"visible",children:x.children},j),Y=ns(Y,j,m,null),Y.flags|=2,x.return=c,Y.return=c,x.sibling=Y,c.child=x,Ic(c,s.child,null,m),x=c.child,x.memoizedState=Zw(m),x.childLanes=Xw(s,$,m),c.memoizedState=Vw,c=Eh(null,x));else if(gl(c),D_(Y)){if($=Y.nextSibling&&Y.nextSibling.dataset,$)var ge=$.dgst;$=ge,x=Error(r(419)),x.stack="",x.digest=$,Cc({value:x,source:null,stack:null}),c=Qw(s,c,m)}else if(Un||ed(s,c,m,!1),$=(m&s.childLanes)!==0,Un||$){if($=Vt,$!==null&&(x=i0($,m),x!==0&&x!==ne.retryLane))throw ne.retryLane=x,ra(s,x),hi($,s,x),Kw;M_(Y)||ag(),c=Qw(s,c,m)}else M_(Y)?(c.flags|=192,c.child=s.child,c=null):(s=ne.treeContext,Nt=oa(Y.nextSibling),Tt=c,bt=!0,xo=null,li=!1,s!==null&&Gr(c,s),c=Jw(c,x.children),c.flags|=4096);return c}return j?(bl(),Y=x.fallback,j=c.mode,ne=s.child,ge=ne.sibling,x=ia(ne,{mode:"hidden",children:x.children}),x.subtreeFlags=ne.subtreeFlags&65011712,ge!==null?Y=ia(ge,Y):(Y=ns(Y,j,m,null),Y.flags|=2),Y.return=c,x.return=c,x.sibling=Y,c.child=x,Eh(null,x),x=c.child,Y=s.child.memoizedState,Y===null?Y=Zw(m):(j=Y.cachePool,j!==null?(ne=Bn._currentValue,j=j.parent!==ne?{parent:ne,pool:ne}:j):j=lN(),Y={baseLanes:Y.baseLanes|m,cachePool:j}),x.memoizedState=Y,x.childLanes=Xw(s,$,m),c.memoizedState=Vw,Eh(s.child,x)):(gl(c),m=s.child,s=m.sibling,m=ia(m,{mode:"visible",children:x.children}),m.return=c,m.sibling=null,s!==null&&($=c.deletions,$===null?(c.deletions=[s],c.flags|=16):$.push(s)),c.child=m,c.memoizedState=null,m)}function Jw(s,c){return c=Z0({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function Z0(s,c){return s=Lr(22,s,null,c),s.lanes=0,s}function Qw(s,c,m){return Ic(c,s.child,null,m),s=Jw(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function wO(s,c,m){s.lanes|=c;var x=s.alternate;x!==null&&(x.lanes|=c),mw(s.return,c,m)}function e_(s,c,m,x,j,N){var $=s.memoizedState;$===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:j,treeForkCount:N}:($.isBackwards=c,$.rendering=null,$.renderingStartTime=0,$.last=x,$.tail=m,$.tailMode=j,$.treeForkCount=N)}function _O(s,c,m){var x=c.pendingProps,j=x.revealOrder,N=x.tail;x=x.children;var $=Mn.current,Y=($&2)!==0;if(Y?($=$&1|2,c.flags|=128):$&=1,re(Mn,$),Sr(s,c,x,m),x=bt?F:0,!Y&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wO(s,m,c);else if(s.tag===19)wO(s,m,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(j){case"forwards":for(m=c.child,j=null;m!==null;)s=m.alternate,s!==null&&$0(s)===null&&(j=m),m=m.sibling;m=j,m===null?(j=c.child,c.child=null):(j=m.sibling,m.sibling=null),e_(c,!1,j,m,N,x);break;case"backwards":case"unstable_legacy-backwards":for(m=null,j=c.child,c.child=null;j!==null;){if(s=j.alternate,s!==null&&$0(s)===null){c.child=j;break}s=j.sibling,j.sibling=m,m=j,j=s}e_(c,!0,m,null,N,x);break;case"together":e_(c,!1,null,null,void 0,x);break;default:c.memoizedState=null}return c.child}function ss(s,c,m){if(s!==null&&(c.dependencies=s.dependencies),xl|=c.lanes,(m&c.childLanes)===0)if(s!==null){if(ed(s,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,m=ia(s,s.pendingProps),c.child=m,m.return=c;s.sibling!==null;)s=s.sibling,m=m.sibling=ia(s,s.pendingProps),m.return=c;m.sibling=null}return c.child}function t_(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&O0(s)))}function sG(s,c,m){switch(c.tag){case 3:Ne(c,c.stateNode.containerInfo),fl(c,Bn,s.memoizedState.cache),rs();break;case 27:case 5:je(c);break;case 4:Ne(c,c.stateNode.containerInfo);break;case 10:fl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,jw(c),null;break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(gl(c),c.flags|=128,null):(m&c.child.childLanes)!==0?xO(s,c,m):(gl(c),s=ss(s,c,m),s!==null?s.sibling:null);gl(c);break;case 19:var j=(s.flags&128)!==0;if(x=(m&c.childLanes)!==0,x||(ed(s,c,m,!1),x=(m&c.childLanes)!==0),j){if(x)return _O(s,c,m);c.flags|=128}if(j=c.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),re(Mn,Mn.current),x)break;return null;case 22:return c.lanes=0,mO(s,c,m,c.pendingProps);case 24:fl(c,Bn,s.memoizedState.cache)}return ss(s,c,m)}function SO(s,c,m){if(s!==null)if(s.memoizedProps!==c.pendingProps)Un=!0;else{if(!t_(s,m)&&(c.flags&128)===0)return Un=!1,sG(s,c,m);Un=(s.flags&131072)!==0}else Un=!1,bt&&(c.flags&1048576)!==0&&mt(c,F,c.index);switch(c.lanes=0,c.tag){case 16:e:{var x=c.pendingProps;if(s=Rc(c.elementType),c.type=s,typeof s=="function")Xu(s)?(x=Bc(s,x),c.tag=1,c=yO(null,c,s,x,m)):(c.tag=0,c=Ww(null,c,s,x,m));else{if(s!=null){var j=s.$$typeof;if(j===C){c.tag=11,c=dO(null,c,s,x,m);break e}else if(j===I){c.tag=14,c=fO(null,c,s,x,m);break e}}throw c=X(s)||s,Error(r(306,c,""))}}return c;case 0:return Ww(s,c,c.type,c.pendingProps,m);case 1:return x=c.type,j=Bc(x,c.pendingProps),yO(s,c,x,j,m);case 3:e:{if(Ne(c,c.stateNode.containerInfo),s===null)throw Error(r(387));x=c.pendingProps;var N=c.memoizedState;j=N.element,ww(s,c),xh(c,x,null,m);var $=c.memoizedState;if(x=$.cache,fl(c,Bn,x),x!==N.cache&&pw(c,[Bn],m,!0),vh(),x=$.element,N.isDehydrated)if(N={element:x,isDehydrated:!1,cache:$.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=vO(s,c,x,m);break e}else if(x!==j){j=v(Error(r(424)),c),Cc(j),c=vO(s,c,x,m);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Nt=oa(s.firstChild),Tt=c,bt=!0,xo=null,li=!0,m=mN(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(rs(),x===j){c=ss(s,c,m);break e}Sr(s,c,x,m)}c=c.child}return c;case 26:return V0(s,c),s===null?(m=PC(c.type,null,c.pendingProps,null))?c.memoizedState=m:bt||(m=c.type,s=c.pendingProps,x=fg(de.current).createElement(m),x[In]=c,x[or]=s,kr(x,m,s),$n(x),c.stateNode=x):c.memoizedState=PC(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return je(c),s===null&&bt&&(x=c.stateNode=CC(c.type,c.pendingProps,de.current),Tt=c,li=!0,j=Nt,El(c.type)?(P_=j,Nt=oa(x.firstChild)):Nt=j),Sr(s,c,c.pendingProps.children,m),V0(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&bt&&((j=x=Nt)&&(x=IG(x,c.type,c.pendingProps,li),x!==null?(c.stateNode=x,Tt=c,Nt=oa(x.firstChild),li=!1,j=!0):j=!1),j||wo(c)),je(c),j=c.type,N=c.pendingProps,$=s!==null?s.memoizedProps:null,x=N.children,N_(j,N)?x=null:$!==null&&N_(j,$)&&(c.flags|=32),c.memoizedState!==null&&(j=Tw(s,c,JH,null,null,m),zh._currentValue=j),V0(s,c),Sr(s,c,x,m),c.child;case 6:return s===null&&bt&&((s=m=Nt)&&(m=$G(m,c.pendingProps,li),m!==null?(c.stateNode=m,Tt=c,Nt=null,s=!0):s=!1),s||wo(c)),null;case 13:return xO(s,c,m);case 4:return Ne(c,c.stateNode.containerInfo),x=c.pendingProps,s===null?c.child=Ic(c,null,x,m):Sr(s,c,x,m),c.child;case 11:return dO(s,c,c.type,c.pendingProps,m);case 7:return Sr(s,c,c.pendingProps,m),c.child;case 8:return Sr(s,c,c.pendingProps.children,m),c.child;case 12:return Sr(s,c,c.pendingProps.children,m),c.child;case 10:return x=c.pendingProps,fl(c,c.type,x.value),Sr(s,c,x.children,m),c.child;case 9:return j=c.type._context,x=c.pendingProps.children,Dc(c),j=_r(j),x=x(j),c.flags|=1,Sr(s,c,x,m),c.child;case 14:return fO(s,c,c.type,c.pendingProps,m);case 15:return hO(s,c,c.type,c.pendingProps,m);case 19:return _O(s,c,m);case 31:return oG(s,c,m);case 22:return mO(s,c,m,c.pendingProps);case 24:return Dc(c),x=_r(Bn),s===null?(j=yw(),j===null&&(j=Vt,N=gw(),j.pooledCache=N,N.refCount++,N!==null&&(j.pooledCacheLanes|=m),j=N),c.memoizedState={parent:x,cache:j},xw(c),fl(c,Bn,j)):((s.lanes&m)!==0&&(ww(s,c),xh(c,null,null,m),vh()),j=s.memoizedState,N=c.memoizedState,j.parent!==x?(j={parent:x,cache:x},c.memoizedState=j,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=j),fl(c,Bn,x)):(x=N.cache,fl(c,Bn,x),x!==j.cache&&pw(c,[Bn],m,!0))),Sr(s,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function ls(s){s.flags|=4}function n_(s,c,m,x,j){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(j&335544128)===j)if(s.stateNode.complete)s.flags|=8192;else if(ZO())s.flags|=8192;else throw Lc=P0,vw}else s.flags&=-16777217}function kO(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!BC(c))if(ZO())s.flags|=8192;else throw Lc=P0,vw}function X0(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?t0():536870912,s.lanes|=c,fd|=c)}function jh(s,c){if(!bt)switch(s.tailMode){case"hidden":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function nn(s){var c=s.alternate!==null&&s.alternate.child===s.child,m=0,x=0;if(c)for(var j=s.child;j!==null;)m|=j.lanes|j.childLanes,x|=j.subtreeFlags&65011712,x|=j.flags&65011712,j.return=s,j=j.sibling;else for(j=s.child;j!==null;)m|=j.lanes|j.childLanes,x|=j.subtreeFlags,x|=j.flags,j.return=s,j=j.sibling;return s.subtreeFlags|=x,s.childLanes=m,c}function lG(s,c,m){var x=c.pendingProps;switch(En(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(c),null;case 1:return nn(c),null;case 3:return m=c.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),is(Bn),se(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(La(c)?ls(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,hh())),nn(c),null;case 26:var j=c.type,N=c.memoizedState;return s===null?(ls(c),N!==null?(nn(c),kO(c,N)):(nn(c),n_(c,j,null,x,m))):N?N!==s.memoizedState?(ls(c),nn(c),kO(c,N)):(nn(c),c.flags&=-16777217):(s=s.memoizedProps,s!==x&&ls(c),nn(c),n_(c,j,s,x,m)),null;case 27:if(ke(c),m=de.current,j=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&ls(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return nn(c),null}s=ie.current,La(c)?fh(c):(s=CC(j,x,m),c.stateNode=s,ls(c))}return nn(c),null;case 5:if(ke(c),j=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&ls(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return nn(c),null}if(N=ie.current,La(c))fh(c);else{var $=fg(de.current);switch(N){case 1:N=$.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:N=$.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":N=$.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":N=$.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":N=$.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof x.is=="string"?$.createElement("select",{is:x.is}):$.createElement("select"),x.multiple?N.multiple=!0:x.size&&(N.size=x.size);break;default:N=typeof x.is=="string"?$.createElement(j,{is:x.is}):$.createElement(j)}}N[In]=c,N[or]=x;e:for($=c.child;$!==null;){if($.tag===5||$.tag===6)N.appendChild($.stateNode);else if($.tag!==4&&$.tag!==27&&$.child!==null){$.child.return=$,$=$.child;continue}if($===c)break e;for(;$.sibling===null;){if($.return===null||$.return===c)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}c.stateNode=N;e:switch(kr(N,j,x),j){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&ls(c)}}return nn(c),n_(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,m),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==x&&ls(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(s=de.current,La(c)){if(s=c.stateNode,m=c.memoizedProps,x=null,j=Tt,j!==null)switch(j.tag){case 27:case 5:x=j.memoizedProps}s[In]=c,s=!!(s.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||xC(s.nodeValue,m)),s||wo(c,!0)}else s=fg(s).createTextNode(x),s[In]=c,c.stateNode=s}return nn(c),null;case 31:if(m=c.memoizedState,s===null||s.memoizedState!==null){if(x=La(c),m!==null){if(s===null){if(!x)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[In]=c}else rs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;nn(c),s=!1}else m=hh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return c.flags&256?(Oi(c),c):(Oi(c),null);if((c.flags&128)!==0)throw Error(r(558))}return nn(c),null;case 13:if(x=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(j=La(c),x!==null&&x.dehydrated!==null){if(s===null){if(!j)throw Error(r(318));if(j=c.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[In]=c}else rs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;nn(c),j=!1}else j=hh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=j),j=!0;if(!j)return c.flags&256?(Oi(c),c):(Oi(c),null)}return Oi(c),(c.flags&128)!==0?(c.lanes=m,c):(m=x!==null,s=s!==null&&s.memoizedState!==null,m&&(x=c.child,j=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(j=x.alternate.memoizedState.cachePool.pool),N=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(N=x.memoizedState.cachePool.pool),N!==j&&(x.flags|=2048)),m!==s&&m&&(c.child.flags|=8192),X0(c,c.updateQueue),nn(c),null);case 4:return se(),s===null&&k_(c.stateNode.containerInfo),nn(c),null;case 10:return is(c.type),nn(c),null;case 19:if(V(Mn),x=c.memoizedState,x===null)return nn(c),null;if(j=(c.flags&128)!==0,N=x.rendering,N===null)if(j)jh(x,!1);else{if(An!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(N=$0(s),N!==null){for(c.flags|=128,jh(x,!1),s=N.updateQueue,c.updateQueue=s,X0(c,s),c.subtreeFlags=0,s=m,m=c.child;m!==null;)ch(m,s),m=m.sibling;return re(Mn,Mn.current&1|2),bt&&Xe(c,x.treeForkCount),c.child}s=s.sibling}x.tail!==null&&Ye()>ng&&(c.flags|=128,j=!0,jh(x,!1),c.lanes=4194304)}else{if(!j)if(s=$0(N),s!==null){if(c.flags|=128,j=!0,s=s.updateQueue,c.updateQueue=s,X0(c,s),jh(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!bt)return nn(c),null}else 2*Ye()-x.renderingStartTime>ng&&m!==536870912&&(c.flags|=128,j=!0,jh(x,!1),c.lanes=4194304);x.isBackwards?(N.sibling=c.child,c.child=N):(s=x.last,s!==null?s.sibling=N:c.child=N,x.last=N)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=Ye(),s.sibling=null,m=Mn.current,re(Mn,j?m&1|2:m&1),bt&&Xe(c,x.treeForkCount),s):(nn(c),null);case 22:case 23:return Oi(c),Ew(),x=c.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(m&536870912)!==0&&(c.flags&128)===0&&(nn(c),c.subtreeFlags&6&&(c.flags|=8192)):nn(c),m=c.updateQueue,m!==null&&X0(c,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==m&&(c.flags|=2048),s!==null&&V(Pc),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),is(Bn),nn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function cG(s,c){switch(En(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return is(Bn),se(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return ke(c),null;case 31:if(c.memoizedState!==null){if(Oi(c),c.alternate===null)throw Error(r(340));rs()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Oi(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));rs()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return V(Mn),null;case 4:return se(),null;case 10:return is(c.type),null;case 22:case 23:return Oi(c),Ew(),s!==null&&V(Pc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return is(Bn),null;case 25:return null;default:return null}}function EO(s,c){switch(En(c),c.tag){case 3:is(Bn),se();break;case 26:case 27:case 5:ke(c);break;case 4:se();break;case 31:c.memoizedState!==null&&Oi(c);break;case 13:Oi(c);break;case 19:V(Mn);break;case 10:is(c.type);break;case 22:case 23:Oi(c),Ew(),s!==null&&V(Pc);break;case 24:is(Bn)}}function Ah(s,c){try{var m=c.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var j=x.next;m=j;do{if((m.tag&s)===s){x=void 0;var N=m.create,$=m.inst;x=N(),$.destroy=x}m=m.next}while(m!==j)}}catch(Y){Ut(c,c.return,Y)}}function yl(s,c,m){try{var x=c.updateQueue,j=x!==null?x.lastEffect:null;if(j!==null){var N=j.next;x=N;do{if((x.tag&s)===s){var $=x.inst,Y=$.destroy;if(Y!==void 0){$.destroy=void 0,j=c;var ne=m,ge=Y;try{ge()}catch(_e){Ut(j,ne,_e)}}}x=x.next}while(x!==N)}}catch(_e){Ut(c,c.return,_e)}}function jO(s){var c=s.updateQueue;if(c!==null){var m=s.stateNode;try{gN(c,m)}catch(x){Ut(s,s.return,x)}}}function AO(s,c,m){m.props=Bc(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(x){Ut(s,c,x)}}function Th(s,c){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof m=="function"?s.refCleanup=m(x):m.current=x}}catch(j){Ut(s,c,j)}}function So(s,c){var m=s.ref,x=s.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(j){Ut(s,c,j)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(j){Ut(s,c,j)}else m.current=null}function TO(s){var c=s.type,m=s.memoizedProps,x=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(j){Ut(s,s.return,j)}}function r_(s,c,m){try{var x=s.stateNode;CG(x,s.type,m,c),x[or]=c}catch(j){Ut(s,s.return,j)}}function NO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&El(s.type)||s.tag===4}function i_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||NO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&El(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function a_(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(s),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=ii));else if(x!==4&&(x===27&&El(s.type)&&(m=s.stateNode,c=null),s=s.child,s!==null))for(a_(s,c,m),s=s.sibling;s!==null;)a_(s,c,m),s=s.sibling}function J0(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?m.insertBefore(s,c):m.appendChild(s);else if(x!==4&&(x===27&&El(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(J0(s,c,m),s=s.sibling;s!==null;)J0(s,c,m),s=s.sibling}function OO(s){var c=s.stateNode,m=s.memoizedProps;try{for(var x=s.type,j=c.attributes;j.length;)c.removeAttributeNode(j[0]);kr(c,x,m),c[In]=s,c[or]=m}catch(N){Ut(s,s.return,N)}}var cs=!1,Fn=!1,o_=!1,CO=typeof WeakSet=="function"?WeakSet:Set,cr=null;function uG(s,c){if(s=s.containerInfo,A_=vg,s=Sc(s),po(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var j=x.anchorOffset,N=x.focusNode;x=x.focusOffset;try{m.nodeType,N.nodeType}catch{m=null;break e}var $=0,Y=-1,ne=-1,ge=0,_e=0,Te=s,ye=null;t:for(;;){for(var ve;Te!==m||j!==0&&Te.nodeType!==3||(Y=$+j),Te!==N||x!==0&&Te.nodeType!==3||(ne=$+x),Te.nodeType===3&&($+=Te.nodeValue.length),(ve=Te.firstChild)!==null;)ye=Te,Te=ve;for(;;){if(Te===s)break t;if(ye===m&&++ge===j&&(Y=$),ye===N&&++_e===x&&(ne=$),(ve=Te.nextSibling)!==null)break;Te=ye,ye=Te.parentNode}Te=ve}m=Y===-1||ne===-1?null:{start:Y,end:ne}}else m=null}m=m||{start:0,end:0}}else m=null;for(T_={focusedElem:s,selectionRange:m},vg=!1,cr=c;cr!==null;)if(c=cr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,cr=s;else for(;cr!==null;){switch(c=cr,N=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)j=s[m],j.ref.impl=j.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,m=c,j=N.memoizedProps,N=N.memoizedState,x=m.stateNode;try{var qe=Bc(m.type,j);s=x.getSnapshotBeforeUpdate(qe,N),x.__reactInternalSnapshotBeforeUpdate=s}catch(ot){Ut(m,m.return,ot)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,m=s.nodeType,m===9)C_(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":C_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,cr=s;break}cr=c.return}}function MO(s,c,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:ds(s,m),x&4&&Ah(5,m);break;case 1:if(ds(s,m),x&4)if(s=m.stateNode,c===null)try{s.componentDidMount()}catch($){Ut(m,m.return,$)}else{var j=Bc(m.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(j,c,s.__reactInternalSnapshotBeforeUpdate)}catch($){Ut(m,m.return,$)}}x&64&&jO(m),x&512&&Th(m,m.return);break;case 3:if(ds(s,m),x&64&&(s=m.updateQueue,s!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{gN(s,c)}catch($){Ut(m,m.return,$)}}break;case 27:c===null&&x&4&&OO(m);case 26:case 5:ds(s,m),c===null&&x&4&&TO(m),x&512&&Th(m,m.return);break;case 12:ds(s,m);break;case 31:ds(s,m),x&4&&RO(s,m);break;case 13:ds(s,m),x&4&&LO(s,m),x&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=vG.bind(null,m),BG(s,m))));break;case 22:if(x=m.memoizedState!==null||cs,!x){c=c!==null&&c.memoizedState!==null||Fn,j=cs;var N=Fn;cs=x,(Fn=c)&&!N?fs(s,m,(m.subtreeFlags&8772)!==0):ds(s,m),cs=j,Fn=N}break;case 30:break;default:ds(s,m)}}function DO(s){var c=s.alternate;c!==null&&(s.alternate=null,DO(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Yf(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ln=null,ci=!1;function us(s,c,m){for(m=m.child;m!==null;)PO(s,c,m),m=m.sibling}function PO(s,c,m){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Vn,m)}catch{}switch(m.tag){case 26:Fn||So(m,c),us(s,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Fn||So(m,c);var x=ln,j=ci;El(m.type)&&(ln=m.stateNode,ci=!1),us(s,c,m),Ih(m.stateNode),ln=x,ci=j;break;case 5:Fn||So(m,c);case 6:if(x=ln,j=ci,ln=null,us(s,c,m),ln=x,ci=j,ln!==null)if(ci)try{(ln.nodeType===9?ln.body:ln.nodeName==="HTML"?ln.ownerDocument.body:ln).removeChild(m.stateNode)}catch(N){Ut(m,c,N)}else try{ln.removeChild(m.stateNode)}catch(N){Ut(m,c,N)}break;case 18:ln!==null&&(ci?(s=ln,jC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),xd(s)):jC(ln,m.stateNode));break;case 4:x=ln,j=ci,ln=m.stateNode.containerInfo,ci=!0,us(s,c,m),ln=x,ci=j;break;case 0:case 11:case 14:case 15:yl(2,m,c),Fn||yl(4,m,c),us(s,c,m);break;case 1:Fn||(So(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"&&AO(m,c,x)),us(s,c,m);break;case 21:us(s,c,m);break;case 22:Fn=(x=Fn)||m.memoizedState!==null,us(s,c,m),Fn=x;break;default:us(s,c,m)}}function RO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{xd(s)}catch(m){Ut(c,c.return,m)}}}function LO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{xd(s)}catch(m){Ut(c,c.return,m)}}function dG(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new CO),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new CO),c;default:throw Error(r(435,s.tag))}}function Q0(s,c){var m=dG(s);c.forEach(function(x){if(!m.has(x)){m.add(x);var j=xG.bind(null,s,x);x.then(j,j)}})}function ui(s,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var j=m[x],N=s,$=c,Y=$;e:for(;Y!==null;){switch(Y.tag){case 27:if(El(Y.type)){ln=Y.stateNode,ci=!1;break e}break;case 5:ln=Y.stateNode,ci=!1;break e;case 3:case 4:ln=Y.stateNode.containerInfo,ci=!0;break e}Y=Y.return}if(ln===null)throw Error(r(160));PO(N,$,j),ln=null,ci=!1,N=j.alternate,N!==null&&(N.return=null),j.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)IO(c,s),c=c.sibling}var $a=null;function IO(s,c){var m=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ui(c,s),di(s),x&4&&(yl(3,s,s.return),Ah(3,s),yl(5,s,s.return));break;case 1:ui(c,s),di(s),x&512&&(Fn||m===null||So(m,m.return)),x&64&&cs&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var j=$a;if(ui(c,s),di(s),x&512&&(Fn||m===null||So(m,m.return)),x&4){var N=m!==null?m.memoizedState:null;if(x=s.memoizedState,m===null)if(x===null)if(s.stateNode===null){e:{x=s.type,m=s.memoizedProps,j=j.ownerDocument||j;t:switch(x){case"title":N=j.getElementsByTagName("title")[0],(!N||N[sc]||N[In]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=j.createElement(x),j.head.insertBefore(N,j.querySelector("head > title"))),kr(N,x,m),N[In]=s,$n(N),x=N;break e;case"link":var $=IC("link","href",j).get(x+(m.href||""));if($){for(var Y=0;Y<$.length;Y++)if(N=$[Y],N.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&N.getAttribute("rel")===(m.rel==null?null:m.rel)&&N.getAttribute("title")===(m.title==null?null:m.title)&&N.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){$.splice(Y,1);break t}}N=j.createElement(x),kr(N,x,m),j.head.appendChild(N);break;case"meta":if($=IC("meta","content",j).get(x+(m.content||""))){for(Y=0;Y<$.length;Y++)if(N=$[Y],N.getAttribute("content")===(m.content==null?null:""+m.content)&&N.getAttribute("name")===(m.name==null?null:m.name)&&N.getAttribute("property")===(m.property==null?null:m.property)&&N.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&N.getAttribute("charset")===(m.charSet==null?null:m.charSet)){$.splice(Y,1);break t}}N=j.createElement(x),kr(N,x,m),j.head.appendChild(N);break;default:throw Error(r(468,x))}N[In]=s,$n(N),x=N}s.stateNode=x}else $C(j,s.type,s.stateNode);else s.stateNode=LC(j,x,s.memoizedProps);else N!==x?(N===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):N.count--,x===null?$C(j,s.type,s.stateNode):LC(j,x,s.memoizedProps)):x===null&&s.stateNode!==null&&r_(s,s.memoizedProps,m.memoizedProps)}break;case 27:ui(c,s),di(s),x&512&&(Fn||m===null||So(m,m.return)),m!==null&&x&4&&r_(s,s.memoizedProps,m.memoizedProps);break;case 5:if(ui(c,s),di(s),x&512&&(Fn||m===null||So(m,m.return)),s.flags&32){j=s.stateNode;try{Xi(j,"")}catch(qe){Ut(s,s.return,qe)}}x&4&&s.stateNode!=null&&(j=s.memoizedProps,r_(s,j,m!==null?m.memoizedProps:j)),x&1024&&(o_=!0);break;case 6:if(ui(c,s),di(s),x&4){if(s.stateNode===null)throw Error(r(162));x=s.memoizedProps,m=s.stateNode;try{m.nodeValue=x}catch(qe){Ut(s,s.return,qe)}}break;case 3:if(pg=null,j=$a,$a=hg(c.containerInfo),ui(c,s),$a=j,di(s),x&4&&m!==null&&m.memoizedState.isDehydrated)try{xd(c.containerInfo)}catch(qe){Ut(s,s.return,qe)}o_&&(o_=!1,$O(s));break;case 4:x=$a,$a=hg(s.stateNode.containerInfo),ui(c,s),di(s),$a=x;break;case 12:ui(c,s),di(s);break;case 31:ui(c,s),di(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Q0(s,x)));break;case 13:ui(c,s),di(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(tg=Ye()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Q0(s,x)));break;case 22:j=s.memoizedState!==null;var ne=m!==null&&m.memoizedState!==null,ge=cs,_e=Fn;if(cs=ge||j,Fn=_e||ne,ui(c,s),Fn=_e,cs=ge,di(s),x&8192)e:for(c=s.stateNode,c._visibility=j?c._visibility&-2:c._visibility|1,j&&(m===null||ne||cs||Fn||zc(s)),m=null,c=s;;){if(c.tag===5||c.tag===26){if(m===null){ne=m=c;try{if(N=ne.stateNode,j)$=N.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{Y=ne.stateNode;var Te=ne.memoizedProps.style,ye=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;Y.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(qe){Ut(ne,ne.return,qe)}}}else if(c.tag===6){if(m===null){ne=c;try{ne.stateNode.nodeValue=j?"":ne.memoizedProps}catch(qe){Ut(ne,ne.return,qe)}}}else if(c.tag===18){if(m===null){ne=c;try{var ve=ne.stateNode;j?AC(ve,!0):AC(ne.stateNode,!1)}catch(qe){Ut(ne,ne.return,qe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=s.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,Q0(s,m))));break;case 19:ui(c,s),di(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Q0(s,x)));break;case 30:break;case 21:break;default:ui(c,s),di(s)}}function di(s){var c=s.flags;if(c&2){try{for(var m,x=s.return;x!==null;){if(NO(x)){m=x;break}x=x.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var j=m.stateNode,N=i_(s);J0(s,N,j);break;case 5:var $=m.stateNode;m.flags&32&&(Xi($,""),m.flags&=-33);var Y=i_(s);J0(s,Y,$);break;case 3:case 4:var ne=m.stateNode.containerInfo,ge=i_(s);a_(s,ge,ne);break;default:throw Error(r(161))}}catch(_e){Ut(s,s.return,_e)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function $O(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;$O(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function ds(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)MO(s,c.alternate,c),c=c.sibling}function zc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:yl(4,c,c.return),zc(c);break;case 1:So(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&AO(c,c.return,m),zc(c);break;case 27:Ih(c.stateNode);case 26:case 5:So(c,c.return),zc(c);break;case 22:c.memoizedState===null&&zc(c);break;case 30:zc(c);break;default:zc(c)}s=s.sibling}}function fs(s,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,j=s,N=c,$=N.flags;switch(N.tag){case 0:case 11:case 15:fs(j,N,m),Ah(4,N);break;case 1:if(fs(j,N,m),x=N,j=x.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(ge){Ut(x,x.return,ge)}if(x=N,j=x.updateQueue,j!==null){var Y=x.stateNode;try{var ne=j.shared.hiddenCallbacks;if(ne!==null)for(j.shared.hiddenCallbacks=null,j=0;j<ne.length;j++)pN(ne[j],Y)}catch(ge){Ut(x,x.return,ge)}}m&&$&64&&jO(N),Th(N,N.return);break;case 27:OO(N);case 26:case 5:fs(j,N,m),m&&x===null&&$&4&&TO(N),Th(N,N.return);break;case 12:fs(j,N,m);break;case 31:fs(j,N,m),m&&$&4&&RO(j,N);break;case 13:fs(j,N,m),m&&$&4&&LO(j,N);break;case 22:N.memoizedState===null&&fs(j,N,m),Th(N,N.return);break;case 30:break;default:fs(j,N,m)}c=c.sibling}}function s_(s,c){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&mh(m))}function l_(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&mh(s))}function Ba(s,c,m,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)BO(s,c,m,x),c=c.sibling}function BO(s,c,m,x){var j=c.flags;switch(c.tag){case 0:case 11:case 15:Ba(s,c,m,x),j&2048&&Ah(9,c);break;case 1:Ba(s,c,m,x);break;case 3:Ba(s,c,m,x),j&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&mh(s)));break;case 12:if(j&2048){Ba(s,c,m,x),s=c.stateNode;try{var N=c.memoizedProps,$=N.id,Y=N.onPostCommit;typeof Y=="function"&&Y($,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ne){Ut(c,c.return,ne)}}else Ba(s,c,m,x);break;case 31:Ba(s,c,m,x);break;case 13:Ba(s,c,m,x);break;case 23:break;case 22:N=c.stateNode,$=c.alternate,c.memoizedState!==null?N._visibility&2?Ba(s,c,m,x):Nh(s,c):N._visibility&2?Ba(s,c,m,x):(N._visibility|=2,cd(s,c,m,x,(c.subtreeFlags&10256)!==0||!1)),j&2048&&s_($,c);break;case 24:Ba(s,c,m,x),j&2048&&l_(c.alternate,c);break;default:Ba(s,c,m,x)}}function cd(s,c,m,x,j){for(j=j&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var N=s,$=c,Y=m,ne=x,ge=$.flags;switch($.tag){case 0:case 11:case 15:cd(N,$,Y,ne,j),Ah(8,$);break;case 23:break;case 22:var _e=$.stateNode;$.memoizedState!==null?_e._visibility&2?cd(N,$,Y,ne,j):Nh(N,$):(_e._visibility|=2,cd(N,$,Y,ne,j)),j&&ge&2048&&s_($.alternate,$);break;case 24:cd(N,$,Y,ne,j),j&&ge&2048&&l_($.alternate,$);break;default:cd(N,$,Y,ne,j)}c=c.sibling}}function Nh(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=s,x=c,j=x.flags;switch(x.tag){case 22:Nh(m,x),j&2048&&s_(x.alternate,x);break;case 24:Nh(m,x),j&2048&&l_(x.alternate,x);break;default:Nh(m,x)}c=c.sibling}}var Oh=8192;function ud(s,c,m){if(s.subtreeFlags&Oh)for(s=s.child;s!==null;)zO(s,c,m),s=s.sibling}function zO(s,c,m){switch(s.tag){case 26:ud(s,c,m),s.flags&Oh&&s.memoizedState!==null&&XG(m,$a,s.memoizedState,s.memoizedProps);break;case 5:ud(s,c,m);break;case 3:case 4:var x=$a;$a=hg(s.stateNode.containerInfo),ud(s,c,m),$a=x;break;case 22:s.memoizedState===null&&(x=s.alternate,x!==null&&x.memoizedState!==null?(x=Oh,Oh=16777216,ud(s,c,m),Oh=x):ud(s,c,m));break;default:ud(s,c,m)}}function UO(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Ch(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];cr=x,HO(x,s)}UO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)FO(s),s=s.sibling}function FO(s){switch(s.tag){case 0:case 11:case 15:Ch(s),s.flags&2048&&yl(9,s,s.return);break;case 3:Ch(s);break;case 12:Ch(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,eg(s)):Ch(s);break;default:Ch(s)}}function eg(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];cr=x,HO(x,s)}UO(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:yl(8,c,c.return),eg(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,eg(c));break;default:eg(c)}s=s.sibling}}function HO(s,c){for(;cr!==null;){var m=cr;switch(m.tag){case 0:case 11:case 15:yl(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:mh(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,cr=x;else e:for(m=s;cr!==null;){x=cr;var j=x.sibling,N=x.return;if(DO(x),x===m){cr=null;break e}if(j!==null){j.return=N,cr=j;break e}cr=N}}}var fG={getCacheForType:function(s){var c=_r(Bn),m=c.data.get(s);return m===void 0&&(m=s(),c.data.set(s,m)),m},cacheSignal:function(){return _r(Bn).controller.signal}},hG=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Vt=null,yt=null,wt=0,zt=0,Ci=null,vl=!1,dd=!1,c_=!1,hs=0,An=0,xl=0,Uc=0,u_=0,Mi=0,fd=0,Mh=null,fi=null,d_=!1,tg=0,GO=0,ng=1/0,rg=null,wl=null,Jn=0,_l=null,hd=null,ms=0,f_=0,h_=null,YO=null,Dh=0,m_=null;function Di(){return(Dt&2)!==0&&wt!==0?wt&-wt:G.T!==null?x_():Hf()}function qO(){if(Mi===0)if((wt&536870912)===0||bt){var s=Lt;Lt<<=1,(Lt&3932160)===0&&(Lt=262144),Mi=s}else Mi=536870912;return s=Ni.current,s!==null&&(s.flags|=32),Mi}function hi(s,c,m){(s===Vt&&(zt===2||zt===9)||s.cancelPendingCommit!==null)&&(md(s,0),Sl(s,wt,Mi,!1)),Ko(s,m),((Dt&2)===0||s!==Vt)&&(s===Vt&&((Dt&2)===0&&(Uc|=m),An===4&&Sl(s,wt,Mi,!1)),ko(s))}function KO(s,c,m){if((Dt&6)!==0)throw Error(r(327));var x=!m&&(c&127)===0&&(c&s.expiredLanes)===0||oc(s,c),j=x?gG(s,c):g_(s,c,!0),N=x;do{if(j===0){dd&&!x&&Sl(s,c,0,!1);break}else{if(m=s.current.alternate,N&&!mG(m)){j=g_(s,c,!1),N=!1;continue}if(j===2){if(N=c,s.errorRecoveryDisabledLanes&N)var $=0;else $=s.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){c=$;e:{var Y=s;j=Mh;var ne=Y.current.memoizedState.isDehydrated;if(ne&&(md(Y,$).flags|=256),$=g_(Y,$,!1),$!==2){if(c_&&!ne){Y.errorRecoveryDisabledLanes|=N,Uc|=N,j=4;break e}N=fi,fi=j,N!==null&&(fi===null?fi=N:fi.push.apply(fi,N))}j=$}if(N=!1,j!==2)continue}}if(j===1){md(s,0),Sl(s,c,0,!0);break}e:{switch(x=s,N=j,N){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Sl(x,c,Mi,!vl);break e;case 2:fi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(j=tg+300-Ye(),10<j)){if(Sl(x,c,Mi,!vl),Pu(x,0,!0)!==0)break e;ms=c,x.timeoutHandle=kC(WO.bind(null,x,m,fi,rg,d_,c,Mi,Uc,fd,vl,N,"Throttled",-0,0),j);break e}WO(x,m,fi,rg,d_,c,Mi,Uc,fd,vl,N,null,-0,0)}}break}while(!0);ko(s)}function WO(s,c,m,x,j,N,$,Y,ne,ge,_e,Te,ye,ve){if(s.timeoutHandle=-1,Te=c.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},zO(c,N,Te);var qe=(N&62914560)===N?tg-Ye():(N&4194048)===N?GO-Ye():0;if(qe=JG(Te,qe),qe!==null){ms=N,s.cancelPendingCommit=qe(nC.bind(null,s,c,N,m,x,j,$,Y,ne,_e,Te,null,ye,ve)),Sl(s,N,$,!ge);return}}nC(s,c,N,m,x,j,$,Y,ne)}function mG(s){for(var c=s;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var j=m[x],N=j.getSnapshot;j=j.value;try{if(!sr(N(),j))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Sl(s,c,m,x){c&=~u_,c&=~Uc,s.suspendedLanes|=c,s.pingedLanes&=~c,x&&(s.warmLanes|=c),x=s.expirationTimes;for(var j=c;0<j;){var N=31-Sn(j),$=1<<N;x[N]=-1,j&=~$}m!==0&&n0(s,m,c)}function ig(){return(Dt&6)===0?(Ph(0),!1):!0}function p_(){if(yt!==null){if(zt===0)var s=yt.return;else s=yt,Ia=_o=null,Cw(s),id=null,gh=0,s=yt;for(;s!==null;)EO(s.alternate,s),s=s.return;yt=null}}function md(s,c){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,PG(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),ms=0,p_(),Vt=s,yt=m=ia(s.current,null),wt=c,zt=0,Ci=null,vl=!1,dd=oc(s,c),c_=!1,fd=Mi=u_=Uc=xl=An=0,fi=Mh=null,d_=!1,(c&8)!==0&&(c|=c&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=c;0<x;){var j=31-Sn(x),N=1<<j;c|=s[j],x&=~N}return hs=c,Tc(),m}function VO(s,c){ft=null,G.H=kh,c===rd||c===D0?(c=dN(),zt=3):c===vw?(c=dN(),zt=4):zt=c===Kw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ci=c,yt===null&&(An=1,K0(s,v(c,s.current)))}function ZO(){var s=Ni.current;return s===null?!0:(wt&4194048)===wt?aa===null:(wt&62914560)===wt||(wt&536870912)!==0?s===aa:!1}function XO(){var s=G.H;return G.H=kh,s===null?kh:s}function JO(){var s=G.A;return G.A=fG,s}function ag(){An=4,vl||(wt&4194048)!==wt&&Ni.current!==null||(dd=!0),(xl&134217727)===0&&(Uc&134217727)===0||Vt===null||Sl(Vt,wt,Mi,!1)}function g_(s,c,m){var x=Dt;Dt|=2;var j=XO(),N=JO();(Vt!==s||wt!==c)&&(rg=null,md(s,c)),c=!1;var $=An;e:do try{if(zt!==0&&yt!==null){var Y=yt,ne=Ci;switch(zt){case 8:p_(),$=6;break e;case 3:case 2:case 9:case 6:Ni.current===null&&(c=!0);var ge=zt;if(zt=0,Ci=null,pd(s,Y,ne,ge),m&&dd){$=0;break e}break;default:ge=zt,zt=0,Ci=null,pd(s,Y,ne,ge)}}pG(),$=An;break}catch(_e){VO(s,_e)}while(!0);return c&&s.shellSuspendCounter++,Ia=_o=null,Dt=x,G.H=j,G.A=N,yt===null&&(Vt=null,wt=0,Tc()),$}function pG(){for(;yt!==null;)QO(yt)}function gG(s,c){var m=Dt;Dt|=2;var x=XO(),j=JO();Vt!==s||wt!==c?(rg=null,ng=Ye()+500,md(s,c)):dd=oc(s,c);e:do try{if(zt!==0&&yt!==null){c=yt;var N=Ci;t:switch(zt){case 1:zt=0,Ci=null,pd(s,c,N,1);break;case 2:case 9:if(cN(N)){zt=0,Ci=null,eC(c);break}c=function(){zt!==2&&zt!==9||Vt!==s||(zt=7),ko(s)},N.then(c,c);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:cN(N)?(zt=0,Ci=null,eC(c)):(zt=0,Ci=null,pd(s,c,N,7));break;case 5:var $=null;switch(yt.tag){case 26:$=yt.memoizedState;case 5:case 27:var Y=yt;if($?BC($):Y.stateNode.complete){zt=0,Ci=null;var ne=Y.sibling;if(ne!==null)yt=ne;else{var ge=Y.return;ge!==null?(yt=ge,og(ge)):yt=null}break t}}zt=0,Ci=null,pd(s,c,N,5);break;case 6:zt=0,Ci=null,pd(s,c,N,6);break;case 8:p_(),An=6;break e;default:throw Error(r(462))}}bG();break}catch(_e){VO(s,_e)}while(!0);return Ia=_o=null,G.H=x,G.A=j,Dt=m,yt!==null?0:(Vt=null,wt=0,Tc(),An)}function bG(){for(;yt!==null&&!he();)QO(yt)}function QO(s){var c=SO(s.alternate,s,hs);s.memoizedProps=s.pendingProps,c===null?og(s):yt=c}function eC(s){var c=s,m=c.alternate;switch(c.tag){case 15:case 0:c=bO(m,c,c.pendingProps,c.type,void 0,wt);break;case 11:c=bO(m,c,c.pendingProps,c.type.render,c.ref,wt);break;case 5:Cw(c);default:EO(m,c),c=yt=ch(c,hs),c=SO(m,c,hs)}s.memoizedProps=s.pendingProps,c===null?og(s):yt=c}function pd(s,c,m,x){Ia=_o=null,Cw(c),id=null,gh=0;var j=c.return;try{if(aG(s,j,c,m,wt)){An=1,K0(s,v(m,s.current)),yt=null;return}}catch(N){if(j!==null)throw yt=j,N;An=1,K0(s,v(m,s.current)),yt=null;return}c.flags&32768?(bt||x===1?s=!0:dd||(wt&536870912)!==0?s=!1:(vl=s=!0,(x===2||x===9||x===3||x===6)&&(x=Ni.current,x!==null&&x.tag===13&&(x.flags|=16384))),tC(c,s)):og(c)}function og(s){var c=s;do{if((c.flags&32768)!==0){tC(c,vl);return}s=c.return;var m=lG(c.alternate,c,hs);if(m!==null){yt=m;return}if(c=c.sibling,c!==null){yt=c;return}yt=c=s}while(c!==null);An===0&&(An=5)}function tC(s,c){do{var m=cG(s.alternate,s);if(m!==null){m.flags&=32767,yt=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(s=s.sibling,s!==null)){yt=s;return}yt=s=m}while(s!==null);An=6,yt=null}function nC(s,c,m,x,j,N,$,Y,ne){s.cancelPendingCommit=null;do sg();while(Jn!==0);if((Dt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(N=c.lanes|c.childLanes,N|=Zu,Jx(s,m,N,$,Y,ne),s===Vt&&(yt=Vt=null,wt=0),hd=c,_l=s,ms=m,f_=N,h_=j,YO=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,wG(at,function(){return sC(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=G.T,G.T=null,j=J.p,J.p=2,$=Dt,Dt|=4;try{uG(s,c,m)}finally{Dt=$,J.p=j,G.T=x}}Jn=1,rC(),iC(),aC()}}function rC(){if(Jn===1){Jn=0;var s=_l,c=hd,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=G.T,G.T=null;var x=J.p;J.p=2;var j=Dt;Dt|=4;try{IO(c,s);var N=T_,$=Sc(s.containerInfo),Y=N.focusedElem,ne=N.selectionRange;if($!==Y&&Y&&Y.ownerDocument&&qu(Y.ownerDocument.documentElement,Y)){if(ne!==null&&po(Y)){var ge=ne.start,_e=ne.end;if(_e===void 0&&(_e=ge),"selectionStart"in Y)Y.selectionStart=ge,Y.selectionEnd=Math.min(_e,Y.value.length);else{var Te=Y.ownerDocument||document,ye=Te&&Te.defaultView||window;if(ye.getSelection){var ve=ye.getSelection(),qe=Y.textContent.length,ot=Math.min(ne.start,qe),qt=ne.end===void 0?ot:Math.min(ne.end,qe);!ve.extend&&ot>qt&&($=qt,qt=ot,ot=$);var le=_c(Y,ot),ae=_c(Y,qt);if(le&&ae&&(ve.rangeCount!==1||ve.anchorNode!==le.node||ve.anchorOffset!==le.offset||ve.focusNode!==ae.node||ve.focusOffset!==ae.offset)){var me=Te.createRange();me.setStart(le.node,le.offset),ve.removeAllRanges(),ot>qt?(ve.addRange(me),ve.extend(ae.node,ae.offset)):(me.setEnd(ae.node,ae.offset),ve.addRange(me))}}}}for(Te=[],ve=Y;ve=ve.parentNode;)ve.nodeType===1&&Te.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Te.length;Y++){var Ee=Te[Y];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}vg=!!A_,T_=A_=null}finally{Dt=j,J.p=x,G.T=m}}s.current=c,Jn=2}}function iC(){if(Jn===2){Jn=0;var s=_l,c=hd,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=G.T,G.T=null;var x=J.p;J.p=2;var j=Dt;Dt|=4;try{MO(s,c.alternate,c)}finally{Dt=j,J.p=x,G.T=m}}Jn=3}}function aC(){if(Jn===4||Jn===3){Jn=0,Ce();var s=_l,c=hd,m=ms,x=YO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Jn=5:(Jn=0,hd=_l=null,oC(s,s.pendingLanes));var j=s.pendingLanes;if(j===0&&(wl=null),Ve(m),c=c.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Vn,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=G.T,j=J.p,J.p=2,G.T=null;try{for(var N=s.onRecoverableError,$=0;$<x.length;$++){var Y=x[$];N(Y.value,{componentStack:Y.stack})}}finally{G.T=c,J.p=j}}(ms&3)!==0&&sg(),ko(s),j=s.pendingLanes,(m&261930)!==0&&(j&42)!==0?s===m_?Dh++:(Dh=0,m_=s):Dh=0,Ph(0)}}function oC(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,mh(c)))}function sg(){return rC(),iC(),aC(),sC()}function sC(){if(Jn!==5)return!1;var s=_l,c=f_;f_=0;var m=Ve(ms),x=G.T,j=J.p;try{J.p=32>m?32:m,G.T=null,m=h_,h_=null;var N=_l,$=ms;if(Jn=0,hd=_l=null,ms=0,(Dt&6)!==0)throw Error(r(331));var Y=Dt;if(Dt|=4,FO(N.current),BO(N,N.current,$,m),Dt=Y,Ph(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Vn,N)}catch{}return!0}finally{J.p=j,G.T=x,oC(s,c)}}function lC(s,c,m){c=v(m,c),c=qw(s.stateNode,c,2),s=pl(s,c,2),s!==null&&(Ko(s,2),ko(s))}function Ut(s,c,m){if(s.tag===3)lC(s,s,m);else for(;c!==null;){if(c.tag===3){lC(c,s,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(wl===null||!wl.has(x))){s=v(m,s),m=cO(2),x=pl(c,m,2),x!==null&&(uO(m,x,c,s),Ko(x,2),ko(x));break}}c=c.return}}function b_(s,c,m){var x=s.pingCache;if(x===null){x=s.pingCache=new hG;var j=new Set;x.set(c,j)}else j=x.get(c),j===void 0&&(j=new Set,x.set(c,j));j.has(m)||(c_=!0,j.add(m),s=yG.bind(null,s,c,m),c.then(s,s))}function yG(s,c,m){var x=s.pingCache;x!==null&&x.delete(c),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,Vt===s&&(wt&m)===m&&(An===4||An===3&&(wt&62914560)===wt&&300>Ye()-tg?(Dt&2)===0&&md(s,0):u_|=m,fd===wt&&(fd=0)),ko(s)}function cC(s,c){c===0&&(c=t0()),s=ra(s,c),s!==null&&(Ko(s,c),ko(s))}function vG(s){var c=s.memoizedState,m=0;c!==null&&(m=c.retryLane),cC(s,m)}function xG(s,c){var m=0;switch(s.tag){case 31:case 13:var x=s.stateNode,j=s.memoizedState;j!==null&&(m=j.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(c),cC(s,m)}function wG(s,c){return jt(s,c)}var lg=null,gd=null,y_=!1,cg=!1,v_=!1,kl=0;function ko(s){s!==gd&&s.next===null&&(gd===null?lg=gd=s:gd=gd.next=s),cg=!0,y_||(y_=!0,SG())}function Ph(s,c){if(!v_&&cg){v_=!0;do for(var m=!1,x=lg;x!==null;){if(s!==0){var j=x.pendingLanes;if(j===0)var N=0;else{var $=x.suspendedLanes,Y=x.pingedLanes;N=(1<<31-Sn(42|s)+1)-1,N&=j&~($&~Y),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(m=!0,hC(x,N))}else N=wt,N=Pu(x,x===Vt?N:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(N&3)===0||oc(x,N)||(m=!0,hC(x,N));x=x.next}while(m);v_=!1}}function _G(){uC()}function uC(){cg=y_=!1;var s=0;kl!==0&&DG()&&(s=kl);for(var c=Ye(),m=null,x=lg;x!==null;){var j=x.next,N=dC(x,c);N===0?(x.next=null,m===null?lg=j:m.next=j,j===null&&(gd=m)):(m=x,(s!==0||(N&3)!==0)&&(cg=!0)),x=j}Jn!==0&&Jn!==5||Ph(s),kl!==0&&(kl=0)}function dC(s,c){for(var m=s.suspendedLanes,x=s.pingedLanes,j=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var $=31-Sn(N),Y=1<<$,ne=j[$];ne===-1?((Y&m)===0||(Y&x)!==0)&&(j[$]=Xx(Y,c)):ne<=c&&(s.expiredLanes|=Y),N&=~Y}if(c=Vt,m=wt,m=Pu(s,s===c?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,m===0||s===c&&(zt===2||zt===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&At(x),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||oc(s,m)){if(c=m&-m,c===s.callbackPriority)return c;switch(x!==null&&At(x),Ve(m)){case 2:case 8:m=ze;break;case 32:m=at;break;case 268435456:m=Kt;break;default:m=at}return x=fC.bind(null,s),m=jt(m,x),s.callbackPriority=c,s.callbackNode=m,c}return x!==null&&x!==null&&At(x),s.callbackPriority=2,s.callbackNode=null,2}function fC(s,c){if(Jn!==0&&Jn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(sg()&&s.callbackNode!==m)return null;var x=wt;return x=Pu(s,s===Vt?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(KO(s,x,c),dC(s,Ye()),s.callbackNode!=null&&s.callbackNode===m?fC.bind(null,s):null)}function hC(s,c){if(sg())return null;KO(s,c,!0)}function SG(){RG(function(){(Dt&6)!==0?jt(Pe,_G):uC()})}function x_(){if(kl===0){var s=td;s===0&&(s=it,it<<=1,(it&261888)===0&&(it=256)),kl=s}return kl}function mC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Qs(""+s)}function pC(s,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,s.id&&m.setAttribute("form",s.id),c.parentNode.insertBefore(m,c),s=new FormData(s),m.parentNode.removeChild(m),s}function kG(s,c,m,x,j){if(c==="submit"&&m&&m.stateNode===j){var N=mC((j[or]||null).action),$=x.submitter;$&&(c=(c=$[or]||null)?mC(c.formAction):$.getAttribute("formAction"),c!==null&&(N=c,$=null));var Y=new Bu("action","action",null,x,j);s.push({event:Y,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(kl!==0){var ne=$?pC(j,$):new FormData(j);zw(m,{pending:!0,data:ne,method:j.method,action:N},null,ne)}}else typeof N=="function"&&(Y.preventDefault(),ne=$?pC(j,$):new FormData(j),zw(m,{pending:!0,data:ne,method:j.method,action:N},N,ne))},currentTarget:j}]})}}for(var w_=0;w_<yo.length;w_++){var __=yo[w_],EG=__.toLowerCase(),jG=__[0].toUpperCase()+__.slice(1);oi(EG,"on"+jG)}oi(Ec,"onAnimationEnd"),oi(A0,"onAnimationIteration"),oi(jc,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(dw,"onTransitionRun"),oi(T0,"onTransitionStart"),oi(fw,"onTransitionCancel"),oi(ul,"onTransitionEnd"),uo("onMouseEnter",["mouseout","mouseover"]),uo("onMouseLeave",["mouseout","mouseover"]),uo("onPointerEnter",["pointerout","pointerover"]),uo("onPointerLeave",["pointerout","pointerover"]),Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rh));function gC(s,c){c=(c&4)!==0;for(var m=0;m<s.length;m++){var x=s[m],j=x.event;x=x.listeners;e:{var N=void 0;if(c)for(var $=x.length-1;0<=$;$--){var Y=x[$],ne=Y.instance,ge=Y.currentTarget;if(Y=Y.listener,ne!==N&&j.isPropagationStopped())break e;N=Y,j.currentTarget=ge;try{N(j)}catch(_e){Ac(_e)}j.currentTarget=null,N=ne}else for($=0;$<x.length;$++){if(Y=x[$],ne=Y.instance,ge=Y.currentTarget,Y=Y.listener,ne!==N&&j.isPropagationStopped())break e;N=Y,j.currentTarget=ge;try{N(j)}catch(_e){Ac(_e)}j.currentTarget=null,N=ne}}}}function vt(s,c){var m=c[lo];m===void 0&&(m=c[lo]=new Set);var x=s+"__bubble";m.has(x)||(bC(c,s,2,!1),m.add(x))}function S_(s,c,m){var x=0;c&&(x|=4),bC(m,s,x,c)}var ug="_reactListening"+Math.random().toString(36).slice(2);function k_(s){if(!s[ug]){s[ug]=!0,s0.forEach(function(m){m!=="selectionchange"&&(AG.has(m)||S_(m,!1,s),S_(m,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[ug]||(c[ug]=!0,S_("selectionchange",!1,c))}}function bC(s,c,m,x){switch(qC(c)){case 2:var j=tY;break;case 8:j=nY;break;default:j=B_}m=j.bind(null,c,m,s),j=void 0,!hc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(j=!0),x?j!==void 0?s.addEventListener(c,m,{capture:!0,passive:j}):s.addEventListener(c,m,!0):j!==void 0?s.addEventListener(c,m,{passive:j}):s.addEventListener(c,m,!1)}function E_(s,c,m,x,j){var N=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var $=x.tag;if($===3||$===4){var Y=x.stateNode.containerInfo;if(Y===j)break;if($===4)for($=x.return;$!==null;){var ne=$.tag;if((ne===3||ne===4)&&$.stateNode.containerInfo===j)return;$=$.return}for(;Y!==null;){if($=Vo(Y),$===null)return;if(ne=$.tag,ne===5||ne===6||ne===26||ne===27){x=N=$;continue e}Y=Y.parentNode}}x=x.return}Jf(function(){var ge=N,_e=fc(m),Te=[];e:{var ye=N0.get(s);if(ye!==void 0){var ve=Bu,qe=s;switch(s){case"keypress":if(mc(m)===0)break e;case"keydown":case"keyup":ve=p0;break;case"focusin":qe="focus",ve=th;break;case"focusout":qe="blur",ve=th;break;case"beforeblur":case"afterblur":ve=th;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=u0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=ew;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=aw;break;case Ec:case A0:case jc:ve=nh;break;case ul:ve=y0;break;case"scroll":case"scrollend":ve=xt;break;case"wheel":ve=es;break;case"copy":case"cut":case"paste":ve=Qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=g0;break;case"toggle":case"beforetoggle":ve=bc}var ot=(c&4)!==0,qt=!ot&&(s==="scroll"||s==="scrollend"),le=ot?ye!==null?ye+"Capture":null:ye;ot=[];for(var ae=ge,me;ae!==null;){var Ee=ae;if(me=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||me===null||le===null||(Ee=Jo(ae,le),Ee!=null&&ot.push(Lh(ae,Ee,me))),qt)break;ae=ae.return}0<ot.length&&(ye=new ve(ye,qe,null,m,_e),Te.push({event:ye,listeners:ot}))}}if((c&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",ye&&m!==$u&&(qe=m.relatedTarget||m.fromElement)&&(Vo(qe)||qe[Wo]))break e;if((ve||ye)&&(ye=_e.window===_e?_e:(ye=_e.ownerDocument)?ye.defaultView||ye.parentWindow:window,ve?(qe=m.relatedTarget||m.toElement,ve=ge,qe=qe?Vo(qe):null,qe!==null&&(qt=a(qe),ot=qe.tag,qe!==qt||ot!==5&&ot!==27&&ot!==6)&&(qe=null)):(ve=null,qe=ge),ve!==qe)){if(ot=u0,Ee="onMouseLeave",le="onMouseEnter",ae="mouse",(s==="pointerout"||s==="pointerover")&&(ot=g0,Ee="onPointerLeave",le="onPointerEnter",ae="pointer"),qt=ve==null?ye:co(ve),me=qe==null?ye:co(qe),ye=new ot(Ee,ae+"leave",ve,m,_e),ye.target=qt,ye.relatedTarget=me,Ee=null,Vo(_e)===ge&&(ot=new ot(le,ae+"enter",qe,m,_e),ot.target=me,ot.relatedTarget=qt,Ee=ot),qt=Ee,ve&&qe)t:{for(ot=TG,le=ve,ae=qe,me=0,Ee=le;Ee;Ee=ot(Ee))me++;Ee=0;for(var nt=ae;nt;nt=ot(nt))Ee++;for(;0<me-Ee;)le=ot(le),me--;for(;0<Ee-me;)ae=ot(ae),Ee--;for(;me--;){if(le===ae||ae!==null&&le===ae.alternate){ot=le;break t}le=ot(le),ae=ot(ae)}ot=null}else ot=null;ve!==null&&yC(Te,ye,ve,ot,!1),qe!==null&&qt!==null&&yC(Te,qt,qe,ot,!0)}}e:{if(ye=ge?co(ge):window,ve=ye.nodeName&&ye.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ye.type==="file")var Ot=wc;else if(ea(ye))if(_0)Ot=uw;else{Ot=cw;var We=Pa}else ve=ye.nodeName,!ve||ve.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?ge&&dc(ge.elementType)&&(Ot=wc):Ot=ol;if(Ot&&(Ot=Ot(s,ge))){w0(Te,Ot,m,_e);break e}We&&We(s,ye,ge),s==="focusout"&&ge&&ye.type==="number"&&ge.memoizedProps.value!=null&&Ca(ye,"number",ye.value)}switch(We=ge?co(ge):window,s){case"focusin":(ea(We)||We.contentEditable==="true")&&(go=We,Wu=ge,kc=null);break;case"focusout":kc=Wu=go=null;break;case"mousedown":ll=!0;break;case"contextmenu":case"mouseup":case"dragend":ll=!1,E0(Te,m,_e);break;case"selectionchange":if(Ku)break;case"keydown":case"keyup":E0(Te,m,_e)}var pt;if(Uu)e:{switch(s){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else rl?x0(s,m)&&(_t="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(_t="onCompositionStart");_t&&(Fu&&m.locale!=="ko"&&(rl||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&rl&&(pt=ho()):(Ji=_e,Qo="value"in Ji?Ji.value:Ji.textContent,rl=!0)),We=dg(ge,_t),0<We.length&&(_t=new rh(_t,s,null,m,_e),Te.push({event:_t,listeners:We}),pt?_t.data=pt:(pt=sh(m),pt!==null&&(_t.data=pt)))),(pt=sw?Ti(s,m):il(s,m))&&(_t=dg(ge,"onBeforeInput"),0<_t.length&&(We=new rh("onBeforeInput","beforeinput",null,m,_e),Te.push({event:We,listeners:_t}),We.data=pt)),kG(Te,s,ge,m,_e)}gC(Te,c)})}function Lh(s,c,m){return{instance:s,listener:c,currentTarget:m}}function dg(s,c){for(var m=c+"Capture",x=[];s!==null;){var j=s,N=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||N===null||(j=Jo(s,m),j!=null&&x.unshift(Lh(s,j,N)),j=Jo(s,c),j!=null&&x.push(Lh(s,j,N))),s.tag===3)return x;s=s.return}return[]}function TG(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function yC(s,c,m,x,j){for(var N=c._reactName,$=[];m!==null&&m!==x;){var Y=m,ne=Y.alternate,ge=Y.stateNode;if(Y=Y.tag,ne!==null&&ne===x)break;Y!==5&&Y!==26&&Y!==27||ge===null||(ne=ge,j?(ge=Jo(m,N),ge!=null&&$.unshift(Lh(m,ge,ne))):j||(ge=Jo(m,N),ge!=null&&$.push(Lh(m,ge,ne)))),m=m.return}$.length!==0&&s.push({event:c,listeners:$})}var NG=/\r\n?/g,OG=/\u0000|\uFFFD/g;function vC(s){return(typeof s=="string"?s:""+s).replace(NG,`
`).replace(OG,"")}function xC(s,c){return c=vC(c),vC(s)===c}function Yt(s,c,m,x,j,N){switch(m){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||Xi(s,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&Xi(s,""+x);break;case"className":Ht(s,"class",x);break;case"tabIndex":Ht(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Ht(s,m,x);break;case"style":Lu(s,x,N);break;case"data":if(c!=="object"){Ht(s,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||m!=="href")){s.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Qs(""+x),s.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(m==="formAction"?(c!=="input"&&Yt(s,c,"name",j.name,j,null),Yt(s,c,"formEncType",j.formEncType,j,null),Yt(s,c,"formMethod",j.formMethod,j,null),Yt(s,c,"formTarget",j.formTarget,j,null)):(Yt(s,c,"encType",j.encType,j,null),Yt(s,c,"method",j.method,j,null),Yt(s,c,"target",j.target,j,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Qs(""+x),s.setAttribute(m,x);break;case"onClick":x!=null&&(s.onclick=ii);break;case"onScroll":x!=null&&vt("scroll",s);break;case"onScrollEnd":x!=null&&vt("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(j.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}m=Qs(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""+x):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":x===!0?s.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,x):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(m,x):s.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(m):s.setAttribute(m,x);break;case"popover":vt("beforetoggle",s),vt("toggle",s),gt(s,"popover",x);break;case"xlinkActuate":ri(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ri(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ri(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ri(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ri(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ri(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ri(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ri(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ri(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":gt(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Iu.get(m)||m,gt(s,m,x))}}function j_(s,c,m,x,j,N){switch(m){case"style":Lu(s,x,N);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(j.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof x=="string"?Xi(s,x):(typeof x=="number"||typeof x=="bigint")&&Xi(s,""+x);break;case"onScroll":x!=null&&vt("scroll",s);break;case"onScrollEnd":x!=null&&vt("scrollend",s);break;case"onClick":x!=null&&(s.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!l0.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(j=m.endsWith("Capture"),c=m.slice(2,j?m.length-7:void 0),N=s[or]||null,N=N!=null?N[m]:null,typeof N=="function"&&s.removeEventListener(c,N,j),typeof x=="function")){typeof N!="function"&&N!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(c,x,j);break e}m in s?s[m]=x:x===!0?s.setAttribute(m,""):gt(s,m,x)}}}function kr(s,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",s),vt("load",s);var x=!1,j=!1,N;for(N in m)if(m.hasOwnProperty(N)){var $=m[N];if($!=null)switch(N){case"src":x=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Yt(s,c,N,$,m,null)}}j&&Yt(s,c,"srcSet",m.srcSet,m,null),x&&Yt(s,c,"src",m.src,m,null);return;case"input":vt("invalid",s);var Y=N=$=j=null,ne=null,ge=null;for(x in m)if(m.hasOwnProperty(x)){var _e=m[x];if(_e!=null)switch(x){case"name":j=_e;break;case"type":$=_e;break;case"checked":ne=_e;break;case"defaultChecked":ge=_e;break;case"value":N=_e;break;case"defaultValue":Y=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,c));break;default:Yt(s,c,x,_e,m,null)}}uc(s,N,Y,ne,ge,$,j,!1);return;case"select":vt("invalid",s),x=$=N=null;for(j in m)if(m.hasOwnProperty(j)&&(Y=m[j],Y!=null))switch(j){case"value":N=Y;break;case"defaultValue":$=Y;break;case"multiple":x=Y;default:Yt(s,c,j,Y,m,null)}c=N,m=$,s.multiple=!!x,c!=null?Wt(s,!!x,c,!1):m!=null&&Wt(s,!!x,m,!0);return;case"textarea":vt("invalid",s),N=j=x=null;for($ in m)if(m.hasOwnProperty($)&&(Y=m[$],Y!=null))switch($){case"value":x=Y;break;case"defaultValue":j=Y;break;case"children":N=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:Yt(s,c,$,Y,m,null)}Xs(s,x,j,N);return;case"option":for(ne in m)if(m.hasOwnProperty(ne)&&(x=m[ne],x!=null))switch(ne){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Yt(s,c,ne,x,m,null)}return;case"dialog":vt("beforetoggle",s),vt("toggle",s),vt("cancel",s),vt("close",s);break;case"iframe":case"object":vt("load",s);break;case"video":case"audio":for(x=0;x<Rh.length;x++)vt(Rh[x],s);break;case"image":vt("error",s),vt("load",s);break;case"details":vt("toggle",s);break;case"embed":case"source":case"link":vt("error",s),vt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in m)if(m.hasOwnProperty(ge)&&(x=m[ge],x!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Yt(s,c,ge,x,m,null)}return;default:if(dc(c)){for(_e in m)m.hasOwnProperty(_e)&&(x=m[_e],x!==void 0&&j_(s,c,_e,x,m,void 0));return}}for(Y in m)m.hasOwnProperty(Y)&&(x=m[Y],x!=null&&Yt(s,c,Y,x,m,null))}function CG(s,c,m,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,N=null,$=null,Y=null,ne=null,ge=null,_e=null;for(ve in m){var Te=m[ve];if(m.hasOwnProperty(ve)&&Te!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":ne=Te;default:x.hasOwnProperty(ve)||Yt(s,c,ve,null,x,Te)}}for(var ye in x){var ve=x[ye];if(Te=m[ye],x.hasOwnProperty(ye)&&(ve!=null||Te!=null))switch(ye){case"type":N=ve;break;case"name":j=ve;break;case"checked":ge=ve;break;case"defaultChecked":_e=ve;break;case"value":$=ve;break;case"defaultValue":Y=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,c));break;default:ve!==Te&&Yt(s,c,ye,ve,x,Te)}}Vf(s,$,Y,ne,ge,_e,N,j);return;case"select":ve=$=Y=ye=null;for(N in m)if(ne=m[N],m.hasOwnProperty(N)&&ne!=null)switch(N){case"value":break;case"multiple":ve=ne;default:x.hasOwnProperty(N)||Yt(s,c,N,null,x,ne)}for(j in x)if(N=x[j],ne=m[j],x.hasOwnProperty(j)&&(N!=null||ne!=null))switch(j){case"value":ye=N;break;case"defaultValue":Y=N;break;case"multiple":$=N;default:N!==ne&&Yt(s,c,j,N,x,ne)}c=Y,m=$,x=ve,ye!=null?Wt(s,!!m,ye,!1):!!x!=!!m&&(c!=null?Wt(s,!!m,c,!0):Wt(s,!!m,m?[]:"",!1));return;case"textarea":ve=ye=null;for(Y in m)if(j=m[Y],m.hasOwnProperty(Y)&&j!=null&&!x.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Yt(s,c,Y,null,x,j)}for($ in x)if(j=x[$],N=m[$],x.hasOwnProperty($)&&(j!=null||N!=null))switch($){case"value":ye=j;break;case"defaultValue":ve=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:j!==N&&Yt(s,c,$,j,x,N)}fo(s,ye,ve);return;case"option":for(var qe in m)if(ye=m[qe],m.hasOwnProperty(qe)&&ye!=null&&!x.hasOwnProperty(qe))switch(qe){case"selected":s.selected=!1;break;default:Yt(s,c,qe,null,x,ye)}for(ne in x)if(ye=x[ne],ve=m[ne],x.hasOwnProperty(ne)&&ye!==ve&&(ye!=null||ve!=null))switch(ne){case"selected":s.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:Yt(s,c,ne,ye,x,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in m)ye=m[ot],m.hasOwnProperty(ot)&&ye!=null&&!x.hasOwnProperty(ot)&&Yt(s,c,ot,null,x,ye);for(ge in x)if(ye=x[ge],ve=m[ge],x.hasOwnProperty(ge)&&ye!==ve&&(ye!=null||ve!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,c));break;default:Yt(s,c,ge,ye,x,ve)}return;default:if(dc(c)){for(var qt in m)ye=m[qt],m.hasOwnProperty(qt)&&ye!==void 0&&!x.hasOwnProperty(qt)&&j_(s,c,qt,void 0,x,ye);for(_e in x)ye=x[_e],ve=m[_e],!x.hasOwnProperty(_e)||ye===ve||ye===void 0&&ve===void 0||j_(s,c,_e,ye,x,ve);return}}for(var le in m)ye=m[le],m.hasOwnProperty(le)&&ye!=null&&!x.hasOwnProperty(le)&&Yt(s,c,le,null,x,ye);for(Te in x)ye=x[Te],ve=m[Te],!x.hasOwnProperty(Te)||ye===ve||ye==null&&ve==null||Yt(s,c,Te,ye,x,ve)}function wC(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MG(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,m=performance.getEntriesByType("resource"),x=0;x<m.length;x++){var j=m[x],N=j.transferSize,$=j.initiatorType,Y=j.duration;if(N&&Y&&wC($)){for($=0,Y=j.responseEnd,x+=1;x<m.length;x++){var ne=m[x],ge=ne.startTime;if(ge>Y)break;var _e=ne.transferSize,Te=ne.initiatorType;_e&&wC(Te)&&(ne=ne.responseEnd,$+=_e*(ne<Y?1:(Y-ge)/(ne-ge)))}if(--x,c+=8*(N+$)/(j.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var A_=null,T_=null;function fg(s){return s.nodeType===9?s:s.ownerDocument}function _C(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SC(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function N_(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var O_=null;function DG(){var s=window.event;return s&&s.type==="popstate"?s===O_?!1:(O_=s,!0):(O_=null,!1)}var kC=typeof setTimeout=="function"?setTimeout:void 0,PG=typeof clearTimeout=="function"?clearTimeout:void 0,EC=typeof Promise=="function"?Promise:void 0,RG=typeof queueMicrotask=="function"?queueMicrotask:typeof EC<"u"?function(s){return EC.resolve(null).then(s).catch(LG)}:kC;function LG(s){setTimeout(function(){throw s})}function El(s){return s==="head"}function jC(s,c){var m=c,x=0;do{var j=m.nextSibling;if(s.removeChild(m),j&&j.nodeType===8)if(m=j.data,m==="/$"||m==="/&"){if(x===0){s.removeChild(j),xd(c);return}x--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")x++;else if(m==="html")Ih(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,Ih(m);for(var N=m.firstChild;N;){var $=N.nextSibling,Y=N.nodeName;N[sc]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&N.rel.toLowerCase()==="stylesheet"||m.removeChild(N),N=$}}else m==="body"&&Ih(s.ownerDocument.body);m=j}while(m);xd(c)}function AC(s,c){var m=s;s=0;do{var x=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),x&&x.nodeType===8)if(m=x.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=x}while(m)}function C_(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":C_(m),Yf(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function IG(s,c,m,x){for(;s.nodeType===1;){var j=m;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[sc])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==j.rel||s.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||s.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||s.getAttribute("title")!==(j.title==null?null:j.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(j.src==null?null:j.src)||s.getAttribute("type")!==(j.type==null?null:j.type)||s.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var N=j.name==null?null:""+j.name;if(j.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=oa(s.nextSibling),s===null)break}return null}function $G(s,c,m){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=oa(s.nextSibling),s===null))return null;return s}function TC(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=oa(s.nextSibling),s===null))return null;return s}function M_(s){return s.data==="$?"||s.data==="$~"}function D_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function BG(s,c){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||m.readyState!=="loading")c();else{var x=function(){c(),m.removeEventListener("DOMContentLoaded",x)};m.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function oa(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var P_=null;function NC(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(c===0)return oa(s.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}s=s.nextSibling}return null}function OC(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return s;c--}else m!=="/$"&&m!=="/&"||c++}s=s.previousSibling}return null}function CC(s,c,m){switch(c=fg(m),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Ih(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Yf(s)}var sa=new Map,MC=new Set;function hg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ps=J.d;J.d={f:zG,r:UG,D:FG,C:HG,L:GG,m:YG,X:KG,S:qG,M:WG};function zG(){var s=ps.f(),c=ig();return s||c}function UG(s){var c=Ws(s);c!==null&&c.tag===5&&c.type==="form"?VN(c):ps.r(s)}var bd=typeof document>"u"?null:document;function DC(s,c,m){var x=bd;if(x&&typeof c=="string"&&c){var j=tn(c);j='link[rel="'+s+'"][href="'+j+'"]',typeof m=="string"&&(j+='[crossorigin="'+m+'"]'),MC.has(j)||(MC.add(j),s={rel:s,crossOrigin:m,href:c},x.querySelector(j)===null&&(c=x.createElement("link"),kr(c,"link",s),$n(c),x.head.appendChild(c)))}}function FG(s){ps.D(s),DC("dns-prefetch",s,null)}function HG(s,c){ps.C(s,c),DC("preconnect",s,c)}function GG(s,c,m){ps.L(s,c,m);var x=bd;if(x&&s&&c){var j='link[rel="preload"][as="'+tn(c)+'"]';c==="image"&&m&&m.imageSrcSet?(j+='[imagesrcset="'+tn(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(j+='[imagesizes="'+tn(m.imageSizes)+'"]')):j+='[href="'+tn(s)+'"]';var N=j;switch(c){case"style":N=yd(s);break;case"script":N=vd(s)}sa.has(N)||(s=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:s,as:c},m),sa.set(N,s),x.querySelector(j)!==null||c==="style"&&x.querySelector($h(N))||c==="script"&&x.querySelector(Bh(N))||(c=x.createElement("link"),kr(c,"link",s),$n(c),x.head.appendChild(c)))}}function YG(s,c){ps.m(s,c);var m=bd;if(m&&s){var x=c&&typeof c.as=="string"?c.as:"script",j='link[rel="modulepreload"][as="'+tn(x)+'"][href="'+tn(s)+'"]',N=j;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=vd(s)}if(!sa.has(N)&&(s=p({rel:"modulepreload",href:s},c),sa.set(N,s),m.querySelector(j)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Bh(N)))return}x=m.createElement("link"),kr(x,"link",s),$n(x),m.head.appendChild(x)}}}function qG(s,c,m){ps.S(s,c,m);var x=bd;if(x&&s){var j=Vs(x).hoistableStyles,N=yd(s);c=c||"default";var $=j.get(N);if(!$){var Y={loading:0,preload:null};if($=x.querySelector($h(N)))Y.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},m),(m=sa.get(N))&&R_(s,m);var ne=$=x.createElement("link");$n(ne),kr(ne,"link",s),ne._p=new Promise(function(ge,_e){ne.onload=ge,ne.onerror=_e}),ne.addEventListener("load",function(){Y.loading|=1}),ne.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,mg($,c,x)}$={type:"stylesheet",instance:$,count:1,state:Y},j.set(N,$)}}}function KG(s,c){ps.X(s,c);var m=bd;if(m&&s){var x=Vs(m).hoistableScripts,j=vd(s),N=x.get(j);N||(N=m.querySelector(Bh(j)),N||(s=p({src:s,async:!0},c),(c=sa.get(j))&&L_(s,c),N=m.createElement("script"),$n(N),kr(N,"link",s),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(j,N))}}function WG(s,c){ps.M(s,c);var m=bd;if(m&&s){var x=Vs(m).hoistableScripts,j=vd(s),N=x.get(j);N||(N=m.querySelector(Bh(j)),N||(s=p({src:s,async:!0,type:"module"},c),(c=sa.get(j))&&L_(s,c),N=m.createElement("script"),$n(N),kr(N,"link",s),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(j,N))}}function PC(s,c,m,x){var j=(j=de.current)?hg(j):null;if(!j)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=yd(m.href),m=Vs(j).hoistableStyles,x=m.get(c),x||(x={type:"style",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=yd(m.href);var N=Vs(j).hoistableStyles,$=N.get(s);if($||(j=j.ownerDocument||j,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,$),(N=j.querySelector($h(s)))&&!N._p&&($.instance=N,$.state.loading=5),sa.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},sa.set(s,m),N||VG(j,s,m,$.state))),c&&x===null)throw Error(r(528,""));return $}if(c&&x!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=vd(m),m=Vs(j).hoistableScripts,x=m.get(c),x||(x={type:"script",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function yd(s){return'href="'+tn(s)+'"'}function $h(s){return'link[rel="stylesheet"]['+s+"]"}function RC(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function VG(s,c,m,x){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=s.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),kr(c,"link",m),$n(c),s.head.appendChild(c))}function vd(s){return'[src="'+tn(s)+'"]'}function Bh(s){return"script[async]"+s}function LC(s,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var x=s.querySelector('style[data-href~="'+tn(m.href)+'"]');if(x)return c.instance=x,$n(x),x;var j=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),$n(x),kr(x,"style",j),mg(x,m.precedence,s),c.instance=x;case"stylesheet":j=yd(m.href);var N=s.querySelector($h(j));if(N)return c.state.loading|=4,c.instance=N,$n(N),N;x=RC(m),(j=sa.get(j))&&R_(x,j),N=(s.ownerDocument||s).createElement("link"),$n(N);var $=N;return $._p=new Promise(function(Y,ne){$.onload=Y,$.onerror=ne}),kr(N,"link",x),c.state.loading|=4,mg(N,m.precedence,s),c.instance=N;case"script":return N=vd(m.src),(j=s.querySelector(Bh(N)))?(c.instance=j,$n(j),j):(x=m,(j=sa.get(N))&&(x=p({},m),L_(x,j)),s=s.ownerDocument||s,j=s.createElement("script"),$n(j),kr(j,"link",x),s.head.appendChild(j),c.instance=j);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,mg(x,m.precedence,s));return c.instance}function mg(s,c,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=x.length?x[x.length-1]:null,N=j,$=0;$<x.length;$++){var Y=x[$];if(Y.dataset.precedence===c)N=Y;else if(N!==j)break}N?N.parentNode.insertBefore(s,N.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(s,c.firstChild))}function R_(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function L_(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var pg=null;function IC(s,c,m){if(pg===null){var x=new Map,j=pg=new Map;j.set(m,x)}else j=pg,x=j.get(m),x||(x=new Map,j.set(m,x));if(x.has(s))return x;for(x.set(s,null),m=m.getElementsByTagName(s),j=0;j<m.length;j++){var N=m[j];if(!(N[sc]||N[In]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var $=N.getAttribute(c)||"";$=s+$;var Y=x.get($);Y?Y.push(N):x.set($,[N])}}return x}function $C(s,c,m){s=s.ownerDocument||s,s.head.insertBefore(m,c==="title"?s.querySelector("head > title"):null)}function ZG(s,c,m){if(m===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function BC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function XG(s,c,m,x){if(m.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var j=yd(x.href),N=c.querySelector($h(j));if(N){c=N._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=gg.bind(s),c.then(s,s)),m.state.loading|=4,m.instance=N,$n(N);return}N=c.ownerDocument||c,x=RC(x),(j=sa.get(j))&&R_(x,j),N=N.createElement("link"),$n(N);var $=N;$._p=new Promise(function(Y,ne){$.onload=Y,$.onerror=ne}),kr(N,"link",x),m.instance=N}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=gg.bind(s),c.addEventListener("load",m),c.addEventListener("error",m))}}var I_=0;function JG(s,c){return s.stylesheets&&s.count===0&&yg(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var x=setTimeout(function(){if(s.stylesheets&&yg(s,s.stylesheets),s.unsuspend){var N=s.unsuspend;s.unsuspend=null,N()}},6e4+c);0<s.imgBytes&&I_===0&&(I_=62500*MG());var j=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&yg(s,s.stylesheets),s.unsuspend)){var N=s.unsuspend;s.unsuspend=null,N()}},(s.imgBytes>I_?50:800)+c);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(x),clearTimeout(j)}}:null}function gg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var bg=null;function yg(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,bg=new Map,c.forEach(QG,s),bg=null,gg.call(s))}function QG(s,c){if(!(c.state.loading&4)){var m=bg.get(s);if(m)var x=m.get(null);else{m=new Map,bg.set(s,m);for(var j=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<j.length;N++){var $=j[N];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(m.set($.dataset.precedence,$),x=$)}x&&m.set(null,x)}j=c.instance,$=j.getAttribute("data-precedence"),N=m.get($)||x,N===x&&m.set(null,j),m.set($,j),this.count++,x=gg.bind(this),j.addEventListener("load",x),j.addEventListener("error",x),N?N.parentNode.insertBefore(j,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(j,s.firstChild)),c.state.loading|=4}}var zh={$$typeof:A,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function eY(s,c,m,x,j,N,$,Y,ne){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ff(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ff(0),this.hiddenUpdates=Ff(null),this.identifierPrefix=x,this.onUncaughtError=j,this.onCaughtError=N,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function zC(s,c,m,x,j,N,$,Y,ne,ge,_e,Te){return s=new eY(s,c,m,$,ne,ge,_e,Te,Y),c=1,N===!0&&(c|=24),N=Lr(3,null,null,c),s.current=N,N.stateNode=s,c=gw(),c.refCount++,s.pooledCache=c,c.refCount++,N.memoizedState={element:x,isDehydrated:m,cache:c},xw(N),s}function UC(s){return s?(s=ts,s):ts}function FC(s,c,m,x,j,N){j=UC(j),x.context===null?x.context=j:x.pendingContext=j,x=ml(c),x.payload={element:m},N=N===void 0?null:N,N!==null&&(x.callback=N),m=pl(s,x,c),m!==null&&(hi(m,s,c),yh(m,s,c))}function HC(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<c?m:c}}function $_(s,c){HC(s,c),(s=s.alternate)&&HC(s,c)}function GC(s){if(s.tag===13||s.tag===31){var c=ra(s,67108864);c!==null&&hi(c,s,67108864),$_(s,67108864)}}function YC(s){if(s.tag===13||s.tag===31){var c=Di();c=ni(c);var m=ra(s,c);m!==null&&hi(m,s,c),$_(s,c)}}var vg=!0;function tY(s,c,m,x){var j=G.T;G.T=null;var N=J.p;try{J.p=2,B_(s,c,m,x)}finally{J.p=N,G.T=j}}function nY(s,c,m,x){var j=G.T;G.T=null;var N=J.p;try{J.p=8,B_(s,c,m,x)}finally{J.p=N,G.T=j}}function B_(s,c,m,x){if(vg){var j=z_(x);if(j===null)E_(s,c,x,xg,m),KC(s,x);else if(iY(j,s,c,m,x))x.stopPropagation();else if(KC(s,x),c&4&&-1<rY.indexOf(s)){for(;j!==null;){var N=Ws(j);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var $=ti(N.pendingLanes);if($!==0){var Y=N;for(Y.pendingLanes|=2,Y.entangledLanes|=2;$;){var ne=1<<31-Sn($);Y.entanglements[1]|=ne,$&=~ne}ko(N),(Dt&6)===0&&(ng=Ye()+500,Ph(0))}}break;case 31:case 13:Y=ra(N,2),Y!==null&&hi(Y,N,2),ig(),$_(N,2)}if(N=z_(x),N===null&&E_(s,c,x,xg,m),N===j)break;j=N}j!==null&&x.stopPropagation()}else E_(s,c,x,null,m)}}function z_(s){return s=fc(s),U_(s)}var xg=null;function U_(s){if(xg=null,s=Vo(s),s!==null){var c=a(s);if(c===null)s=null;else{var m=c.tag;if(m===13){if(s=o(c),s!==null)return s;s=null}else if(m===31){if(s=l(c),s!==null)return s;s=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return xg=s,null}function qC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case Pe:return 2;case ze:return 8;case at:case St:return 32;case Kt:return 268435456;default:return 32}default:return 32}}var F_=!1,jl=null,Al=null,Tl=null,Uh=new Map,Fh=new Map,Nl=[],rY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KC(s,c){switch(s){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":Al=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":Uh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fh.delete(c.pointerId)}}function Hh(s,c,m,x,j,N){return s===null||s.nativeEvent!==N?(s={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:N,targetContainers:[j]},c!==null&&(c=Ws(c),c!==null&&GC(c)),s):(s.eventSystemFlags|=x,c=s.targetContainers,j!==null&&c.indexOf(j)===-1&&c.push(j),s)}function iY(s,c,m,x,j){switch(c){case"focusin":return jl=Hh(jl,s,c,m,x,j),!0;case"dragenter":return Al=Hh(Al,s,c,m,x,j),!0;case"mouseover":return Tl=Hh(Tl,s,c,m,x,j),!0;case"pointerover":var N=j.pointerId;return Uh.set(N,Hh(Uh.get(N)||null,s,c,m,x,j)),!0;case"gotpointercapture":return N=j.pointerId,Fh.set(N,Hh(Fh.get(N)||null,s,c,m,x,j)),!0}return!1}function WC(s){var c=Vo(s.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=o(m),c!==null){s.blockedOn=c,Gf(s.priority,function(){YC(m)});return}}else if(c===31){if(c=l(m),c!==null){s.blockedOn=c,Gf(s.priority,function(){YC(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function wg(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var m=z_(s.nativeEvent);if(m===null){m=s.nativeEvent;var x=new m.constructor(m.type,m);$u=x,m.target.dispatchEvent(x),$u=null}else return c=Ws(m),c!==null&&GC(c),s.blockedOn=m,!1;c.shift()}return!0}function VC(s,c,m){wg(s)&&m.delete(c)}function aY(){F_=!1,jl!==null&&wg(jl)&&(jl=null),Al!==null&&wg(Al)&&(Al=null),Tl!==null&&wg(Tl)&&(Tl=null),Uh.forEach(VC),Fh.forEach(VC)}function _g(s,c){s.blockedOn===c&&(s.blockedOn=null,F_||(F_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,aY)))}var Sg=null;function ZC(s){Sg!==s&&(Sg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Sg===s&&(Sg=null);for(var c=0;c<s.length;c+=3){var m=s[c],x=s[c+1],j=s[c+2];if(typeof x!="function"){if(U_(x||m)===null)continue;break}var N=Ws(m);N!==null&&(s.splice(c,3),c-=3,zw(N,{pending:!0,data:j,method:m.method,action:x},x,j))}}))}function xd(s){function c(ne){return _g(ne,s)}jl!==null&&_g(jl,s),Al!==null&&_g(Al,s),Tl!==null&&_g(Tl,s),Uh.forEach(c),Fh.forEach(c);for(var m=0;m<Nl.length;m++){var x=Nl[m];x.blockedOn===s&&(x.blockedOn=null)}for(;0<Nl.length&&(m=Nl[0],m.blockedOn===null);)WC(m),m.blockedOn===null&&Nl.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var j=m[x],N=m[x+1],$=j[or]||null;if(typeof N=="function")$||ZC(m);else if($){var Y=null;if(N&&N.hasAttribute("formAction")){if(j=N,$=N[or]||null)Y=$.formAction;else if(U_(j)!==null)continue}else Y=$.action;typeof Y=="function"?m[x+1]=Y:(m.splice(x,3),x-=3),ZC(m)}}}function XC(){function s(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function($){return j=$})},focusReset:"manual",scroll:"manual"})}function c(){j!==null&&(j(),j=null),x||setTimeout(m,20)}function m(){if(!x&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,j=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){x=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),j!==null&&(j(),j=null)}}}function H_(s){this._internalRoot=s}kg.prototype.render=H_.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,x=Di();FC(m,x,s,c,null,null)},kg.prototype.unmount=H_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;FC(s.current,2,null,s,null,null),ig(),c[Wo]=null}};function kg(s){this._internalRoot=s}kg.prototype.unstable_scheduleHydration=function(s){if(s){var c=Hf();s={blockedOn:null,target:s,priority:c};for(var m=0;m<Nl.length&&c!==0&&c<Nl[m].priority;m++);Nl.splice(m,0,s),m===0&&WC(s)}};var JC=t.version;if(JC!=="19.2.1")throw Error(r(527,JC,"19.2.1"));J.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(c),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var oY={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eg.isDisabled&&Eg.supportsFiber)try{Vn=Eg.inject(oY),gn=Eg}catch{}}return Yh.createRoot=function(s,c){if(!i(s))throw Error(r(299));var m=!1,x="",j=aO,N=oO,$=sO;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(j=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError)),c=zC(s,1,!1,null,null,m,x,null,j,N,$,XC),s[Wo]=c.current,k_(s),new H_(c)},Yh.hydrateRoot=function(s,c,m){if(!i(s))throw Error(r(299));var x=!1,j="",N=aO,$=oO,Y=sO,ne=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onUncaughtError!==void 0&&(N=m.onUncaughtError),m.onCaughtError!==void 0&&($=m.onCaughtError),m.onRecoverableError!==void 0&&(Y=m.onRecoverableError),m.formState!==void 0&&(ne=m.formState)),c=zC(s,1,!0,c,m??null,x,j,ne,N,$,Y,XC),c.context=UC(null),m=c.current,x=Di(),x=ni(x),j=ml(x),j.callback=null,pl(m,j,x),m=x,c.current.lanes=m,Ko(c,m),ko(c),s[Wo]=c.current,k_(s),new kg(c)},Yh.version="19.2.1",Yh}var lM;function pY(){if(lM)return Y_.exports;lM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Y_.exports=mY(),Y_.exports}var gY=pY(),_=bf();const Qt=_i(_),bY=WE({__proto__:null,default:Qt},[_]);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cM="popstate";function yY(e={}){function t(r,i){let{pathname:a,search:o,hash:l}=r.location;return Pk("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Im(i)}return xY(t,n,null,e)}function mn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vY(){return Math.random().toString(36).substring(2,10)}function uM(e,t){return{usr:e.state,key:e.key,idx:t}}function Pk(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?yf(t):t,state:n,key:t&&t.key||r||vY()}}function Im({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function xY(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",u=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let S=h(),T=S==null?null:S-d;d=S,u&&u({action:l,location:w.location,delta:T})}function b(S,T){l="PUSH";let O=Pk(w.location,S,T);d=h()+1;let A=uM(O,d),C=w.createHref(O);try{o.pushState(A,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(C)}a&&u&&u({action:l,location:w.location,delta:1})}function y(S,T){l="REPLACE";let O=Pk(w.location,S,T);d=h();let A=uM(O,d),C=w.createHref(O);o.replaceState(A,"",C),a&&u&&u({action:l,location:w.location,delta:0})}function k(S){return wY(S)}let w={get action(){return l},get location(){return e(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(cM,p),u=S,()=>{i.removeEventListener(cM,p),u=null}},createHref(S){return t(i,S)},createURL:k,encodeLocation(S){let T=k(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:y,go(S){return o.go(S)}};return w}function wY(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Im(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function f5(e,t,n="/"){return _Y(e,t,n,!1)}function _Y(e,t,n,r){let i=typeof t=="string"?yf(t):t,a=Os(i.pathname||"/",n);if(a==null)return null;let o=h5(e);SY(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=PY(a);l=MY(o[u],d,r)}return l}function h5(e,t=[],n=[],r="",i=!1){let a=(o,l,u=i,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;mn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=As([r,h.relativePath]),b=n.concat(h);o.children&&o.children.length>0&&(mn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),h5(o.children,t,b,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:OY(p,o.index),routesMeta:b})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let u of m5(o.path))a(o,l,!0,u)}),t}function m5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=m5(r.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function SY(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:CY(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var kY=/^:[\w-]+$/,EY=3,jY=2,AY=1,TY=10,NY=-2,dM=e=>e==="*";function OY(e,t){let n=e.split("/"),r=n.length;return n.some(dM)&&(r+=NY),t&&(r+=jY),n.filter(i=>!dM(i)).reduce((i,a)=>i+(kY.test(a)?EY:a===""?AY:TY),r)}function CY(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function MY(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=ty({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),b=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=ty({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:As([a,p.pathname]),pathnameBase:BY(As([a,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(a=As([a,p.pathnameBase]))}return o}function ty(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=DY(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:p},b)=>{if(h==="*"){let k=l[b]||"";o=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const y=l[b];return p&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function DY(e,t=!1,n=!0){wa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function PY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var RY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LY=e=>RY.test(e);function IY(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?yf(e):e,a;if(n)if(LY(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),wa(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=fM(n.substring(1),"/"):a=fM(n,t)}else a=t;return{pathname:a,search:zY(r),hash:UY(i)}}function fM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Z_(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $Y(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function VE(e){let t=$Y(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ZE(e,t,n,r=!1){let i;typeof e=="string"?i=yf(e):(i={...e},mn(!i.pathname||!i.pathname.includes("?"),Z_("?","pathname","search",i)),mn(!i.pathname||!i.pathname.includes("#"),Z_("#","pathname","hash",i)),mn(!i.search||!i.search.includes("#"),Z_("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}l=p>=0?t[p]:"/"}let u=IY(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var As=e=>e.join("/").replace(/\/\/+/g,"/"),BY=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zY=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FY(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function HY(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var p5=["POST","PUT","PATCH","DELETE"];new Set(p5);var GY=["GET",...p5];new Set(GY);var vf=_.createContext(null);vf.displayName="DataRouter";var Rv=_.createContext(null);Rv.displayName="DataRouterState";_.createContext(!1);var g5=_.createContext({isTransitioning:!1});g5.displayName="ViewTransition";var YY=_.createContext(new Map);YY.displayName="Fetchers";var qY=_.createContext(null);qY.displayName="Await";var Aa=_.createContext(null);Aa.displayName="Navigation";var yp=_.createContext(null);yp.displayName="Location";var Go=_.createContext({outlet:null,matches:[],isDataRoute:!1});Go.displayName="Route";var XE=_.createContext(null);XE.displayName="RouteError";function KY(e,{relative:t}={}){mn(xf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Aa),{hash:i,pathname:a,search:o}=vp(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:As([n,a])),r.createHref({pathname:l,search:o,hash:i})}function xf(){return _.useContext(yp)!=null}function Fr(){return mn(xf(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(yp).location}var b5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y5(e){_.useContext(Aa).static||_.useLayoutEffect(e)}function ec(){let{isDataRoute:e}=_.useContext(Go);return e?oq():WY()}function WY(){mn(xf(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(vf),{basename:t,navigator:n}=_.useContext(Aa),{matches:r}=_.useContext(Go),{pathname:i}=Fr(),a=JSON.stringify(VE(r)),o=_.useRef(!1);return y5(()=>{o.current=!0}),_.useCallback((u,d={})=>{if(wa(o.current,b5),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=ZE(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:As([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}_.createContext(null);function vp(e,{relative:t}={}){let{matches:n}=_.useContext(Go),{pathname:r}=Fr(),i=JSON.stringify(VE(n));return _.useMemo(()=>ZE(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function VY(e,t){return v5(e,t)}function v5(e,t,n,r,i){mn(xf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(Aa),{matches:o}=_.useContext(Go),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let O=p&&p.path||"";x5(d,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=Fr(),y;if(t){let O=typeof t=="string"?yf(t):t;mn(h==="/"||O.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${O.pathname}" was given in the \`location\` prop.`),y=O}else y=b;let k=y.pathname||"/",w=k;if(h!=="/"){let O=h.replace(/^\//,"").split("/");w="/"+k.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=f5(e,{pathname:w});wa(p||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),wa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=eq(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:As([h,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:As([h,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),o,n,r,i);return t&&T?_.createElement(yp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function ZY(){let e=aq(),t=FY(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,o)}var XY=_.createElement(ZY,null),JY=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?_.createElement(Go.Provider,{value:this.props.routeContext},_.createElement(XE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QY({routeContext:e,match:t,children:n}){let r=_.useContext(vf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Go.Provider,{value:e},n)}function eq(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);mn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:b,errors:y}=n,k=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||k){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let d=n&&r?(h,p)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:HY(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,b)=>{let y,k=!1,w=null,S=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||XY,l&&(u<0&&b===0?(x5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,S=null):u===b&&(k=!0,S=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,b+1)),O=()=>{let A;return y?A=w:k?A=S:p.route.Component?A=_.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,_.createElement(QY,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?_.createElement(JY,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:O(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:d}):O()},null)}function JE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tq(e){let t=_.useContext(vf);return mn(t,JE(e)),t}function nq(e){let t=_.useContext(Rv);return mn(t,JE(e)),t}function rq(e){let t=_.useContext(Go);return mn(t,JE(e)),t}function QE(e){let t=rq(e),n=t.matches[t.matches.length-1];return mn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function iq(){return QE("useRouteId")}function aq(){let e=_.useContext(XE),t=nq("useRouteError"),n=QE("useRouteError");return e!==void 0?e:t.errors?.[n]}function oq(){let{router:e}=tq("useNavigate"),t=QE("useNavigate"),n=_.useRef(!1);return y5(()=>{n.current=!0}),_.useCallback(async(i,a={})=>{wa(n.current,b5),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var hM={};function x5(e,t,n){!t&&!hM[e]&&(hM[e]=!0,wa(!1,n))}_.memo(sq);function sq({routes:e,future:t,state:n,unstable_onError:r}){return v5(e,void 0,n,r,t)}function lq({to:e,replace:t,state:n,relative:r}){mn(xf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Aa);wa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(Go),{pathname:o}=Fr(),l=ec(),u=ZE(e,VE(a),o,r==="path"),d=JSON.stringify(u);return _.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:r})},[l,d,r,t,n]),null}function Ua(e){mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cq({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){mn(!xf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[l,i,a,o]);typeof n=="string"&&(n=yf(n));let{pathname:d="/",search:h="",hash:p="",state:b=null,key:y="default"}=n,k=_.useMemo(()=>{let w=Os(d,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:b,key:y},navigationType:r}},[l,d,h,p,b,y,r]);return wa(k!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:_.createElement(Aa.Provider,{value:u},_.createElement(yp.Provider,{children:t,value:k}))}function uq({children:e,location:t}){return VY(Rk(e),t)}function Rk(e,t=[]){let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let a=[...t,i];if(r.type===_.Fragment){n.push.apply(n,Rk(r.props.children,a));return}mn(r.type===Ua,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Rk(r.props.children,a)),n.push(o)}),n}var Lb="get",Ib="application/x-www-form-urlencoded";function Lv(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function dq(e){return Lv(e)&&e.tagName.toLowerCase()==="button"}function fq(e){return Lv(e)&&e.tagName.toLowerCase()==="form"}function hq(e){return Lv(e)&&e.tagName.toLowerCase()==="input"}function mq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pq(e,t){return e.button===0&&(!t||t==="_self")&&!mq(e)}var jg=null;function gq(){if(jg===null)try{new FormData(document.createElement("form"),0),jg=!1}catch{jg=!0}return jg}var bq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X_(e){return e!=null&&!bq.has(e)?(wa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ib}"`),null):e}function yq(e,t){let n,r,i,a,o;if(fq(e)){let l=e.getAttribute("action");r=l?Os(l,t):null,n=e.getAttribute("method")||Lb,i=X_(e.getAttribute("enctype"))||Ib,a=new FormData(e)}else if(dq(e)||hq(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?Os(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Lb,i=X_(e.getAttribute("formenctype"))||X_(l.getAttribute("enctype"))||Ib,a=new FormData(l,e),!gq()){let{name:d,type:h,value:p}=e;if(h==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,p)}}else{if(Lv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lb,r=null,i=Ib,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ej(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vq(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Os(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function xq(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wq(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function _q(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await xq(a,n);return o.links?o.links():[]}return[]}));return jq(r.flat(1).filter(wq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function mM(e,t,n,r,i,a){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):a==="data"?t.filter((u,d)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Sq(e,t,{includeHydrateFallback:n}={}){return kq(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function kq(e){return[...new Set(e)]}function Eq(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function jq(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(Eq(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function w5(){let e=_.useContext(vf);return ej(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Aq(){let e=_.useContext(Rv);return ej(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tj=_.createContext(void 0);tj.displayName="FrameworkContext";function _5(){let e=_.useContext(tj);return ej(e,"You must render this element inside a <HydratedRouter> element"),e}function Tq(e,t){let n=_.useContext(tj),[r,i]=_.useState(!1),[a,o]=_.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=t,b=_.useRef(null);_.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=T=>{T.forEach(O=>{o(O.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),_.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},k=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,b,{}]:[a,b,{onFocus:qh(l,y),onBlur:qh(u,k),onMouseEnter:qh(d,y),onMouseLeave:qh(h,k),onTouchStart:qh(p,y)}]:[!1,b,{}]}function qh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Nq({page:e,...t}){let{router:n}=w5(),r=_.useMemo(()=>f5(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(Cq,{page:e,matches:r,...t}):null}function Oq(e){let{manifest:t,routeModules:n}=_5(),[r,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return _q(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function Cq({page:e,matches:t,...n}){let r=Fr(),{manifest:i,routeModules:a}=_5(),{basename:o}=w5(),{loaderData:l,matches:u}=Aq(),d=_.useMemo(()=>mM(e,t,u,i,r,"data"),[e,t,u,i,r]),h=_.useMemo(()=>mM(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let k=new Set,w=!1;if(t.forEach(T=>{let O=i.routes[T.route.id];!O||!O.hasLoader||(!d.some(A=>A.route.id===T.route.id)&&T.route.id in l&&a[T.route.id]?.shouldRevalidate||O.hasClientLoader?w=!0:k.add(T.route.id))}),k.size===0)return[];let S=vq(e,o,"data");return w&&k.size>0&&S.searchParams.set("_routes",t.filter(T=>k.has(T.route.id)).map(T=>T.route.id).join(",")),[S.pathname+S.search]},[o,l,r,i,d,t,e,a]),b=_.useMemo(()=>Sq(h,i),[h,i]),y=Oq(h);return _.createElement(_.Fragment,null,p.map(k=>_.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),b.map(k=>_.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),y.map(({key:k,link:w})=>_.createElement("link",{key:k,nonce:n.nonce,...w})))}function Mq(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var S5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S5&&(window.__reactRouterVersion="7.10.1")}catch{}function Dq({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=_.useRef();i.current==null&&(i.current=yY({window:r,v5Compat:!0}));let a=i.current,[o,l]=_.useState({action:a.action,location:a.location}),u=_.useCallback(d=>{n===!1?l(d):_.startTransition(()=>l(d))},[n]);return _.useLayoutEffect(()=>a.listen(u),[a,u]),_.createElement(cq,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var k5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nj=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p,...b},y){let{basename:k,unstable_useTransitions:w}=_.useContext(Aa),S=typeof d=="string"&&k5.test(d),T,O=!1;if(typeof d=="string"&&S&&(T=d,S5))try{let K=new URL(window.location.href),H=d.startsWith("//")?new URL(K.protocol+d):new URL(d),B=Os(H.pathname,k);H.origin===K.origin&&B!=null?d=B+H.search+H.hash:O=!0}catch{wa(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=KY(d,{relative:i}),[C,D,P]=Tq(r,b),I=Iq(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p,unstable_useTransitions:w});function U(K){t&&t(K),K.defaultPrevented||I(K)}let W=_.createElement("a",{...b,...P,href:T||A,onClick:O||a?t:U,ref:Mq(y,D),target:u,"data-discover":!S&&n==="render"?"true":void 0});return C&&!S?_.createElement(_.Fragment,null,W,_.createElement(Nq,{page:A})):W});nj.displayName="Link";var Pq=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:u,...d},h){let p=vp(o,{relative:d.relative}),b=Fr(),y=_.useContext(Rv),{navigator:k,basename:w}=_.useContext(Aa),S=y!=null&&Fq(p)&&l===!0,T=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,O=b.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(O=O.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&w&&(A=Os(A,w)||A);const C=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=O===T||!i&&O.startsWith(T)&&O.charAt(C)==="/",P=A!=null&&(A===T||!i&&A.startsWith(T)&&A.charAt(T.length)==="/"),I={isActive:D,isPending:P,isTransitioning:S},U=D?t:void 0,W;typeof r=="function"?W=r(I):W=[r,D?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(I):a;return _.createElement(nj,{...d,"aria-current":U,className:W,ref:h,style:K,to:o,viewTransition:l},typeof u=="function"?u(I):u)});Pq.displayName="NavLink";var Rq=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Lb,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:p,...b},y)=>{let{unstable_useTransitions:k}=_.useContext(Aa),w=zq(),S=Uq(l,{relative:d}),T=o.toLowerCase()==="get"?"get":"post",O=typeof l=="string"&&k5.test(l),A=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let D=C.nativeEvent.submitter,P=D?.getAttribute("formmethod")||o,I=()=>w(D||C.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:p});k&&n!==!1?_.startTransition(()=>I()):I()};return _.createElement("form",{ref:y,method:T,action:S,onSubmit:r?u:A,...b,"data-discover":!O&&e==="render"?"true":void 0})});Rq.displayName="Form";function Lq(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E5(e){let t=_.useContext(vf);return mn(t,Lq(e)),t}function Iq(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:l}={}){let u=ec(),d=Fr(),h=vp(e,{relative:a});return _.useCallback(p=>{if(pq(p,t)){p.preventDefault();let b=n!==void 0?n:Im(d)===Im(h),y=()=>u(e,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:o});l?_.startTransition(()=>y()):y()}},[d,u,h,n,r,t,e,i,a,o,l])}var $q=0,Bq=()=>`__${String(++$q)}__`;function zq(){let{router:e}=E5("useSubmit"),{basename:t}=_.useContext(Aa),n=iq(),r=e.fetch,i=e.navigate;return _.useCallback(async(a,o={})=>{let{action:l,method:u,encType:d,formData:h,body:p}=yq(a,t);if(o.navigate===!1){let b=o.fetcherKey||Bq();await r(b,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await i(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function Uq(e,{relative:t}={}){let{basename:n}=_.useContext(Aa),r=_.useContext(Go);mn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...vp(e||".",{relative:t})},o=Fr();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:As([n,a.pathname])),Im(a)}function Fq(e,{relative:t}={}){let n=_.useContext(g5);mn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=E5("useViewTransitionState"),i=vp(e,{relative:t});if(!n.isTransitioning)return!1;let a=Os(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Os(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ty(i.pathname,o)!=null||ty(i.pathname,a)!=null}var Ou=d5();const Hq=_i(Ou);let Gq={data:""},Yq=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Gq,qq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Kq=/\/\*[^]*?\*\/|  +/g,pM=/\n+/g,Pl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?Pl(o,a):a+"{"+Pl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=Pl(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Pl.p?Pl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},gs={},j5=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+j5(e[n]);return t}return e},Wq=(e,t,n,r,i)=>{let a=j5(e),o=gs[a]||(gs[a]=(u=>{let d=0,h=11;for(;d<u.length;)h=101*h+u.charCodeAt(d++)>>>0;return"go"+h})(a));if(!gs[o]){let u=a!==e?e:(d=>{let h,p,b=[{}];for(;h=qq.exec(d.replace(Kq,""));)h[4]?b.shift():h[3]?(p=h[3].replace(pM," ").trim(),b.unshift(b[0][p]=b[0][p]||{})):b[0][h[1]]=h[2].replace(pM," ").trim();return b[0]})(e);gs[o]=Pl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&gs.g?gs.g:null;return n&&(gs.g=gs[o]),((u,d,h,p)=>{p?d.data=d.data.replace(p,u):d.data.indexOf(u)===-1&&(d.data=h?u+d.data:d.data+u)})(gs[o],t,r,l),o},Vq=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":Pl(l,""):l===!1?"":l}return r+i+(o??"")},"");function Iv(e){let t=this||{},n=e.call?e(t.p):e;return Wq(n.unshift?n.raw?Vq(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,Yq(t.target),t.g,t.o,t.k)}let A5,Lk,Ik;Iv.bind({g:1});let Cs=Iv.bind({k:1});function Zq(e,t,n,r){Pl.p=t,A5=e,Lk=n,Ik=r}function tc(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),u=l.className||i.className;n.p=Object.assign({theme:Lk&&Lk()},l),n.o=/ *go\d+/.test(u),l.className=Iv.apply(n,r)+(u?" "+u:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),Ik&&d[0]&&Ik(l),A5(d,l)}return i}}var Xq=e=>typeof e=="function",ny=(e,t)=>Xq(e)?e(t):e,Jq=(()=>{let e=0;return()=>(++e).toString()})(),T5=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Qq=20,rj="default",N5=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return N5(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},$b=[],O5={toasts:[],pausedAt:void 0,settings:{toastLimit:Qq}},Po={},C5=(e,t=rj)=>{Po[t]=N5(Po[t]||O5,e),$b.forEach(([n,r])=>{n===t&&r(Po[t])})},M5=e=>Object.keys(Po).forEach(t=>C5(e,t)),eK=e=>Object.keys(Po).find(t=>Po[t].toasts.some(n=>n.id===e)),$v=(e=rj)=>t=>{C5(t,e)},tK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},nK=(e={},t=rj)=>{let[n,r]=_.useState(Po[t]||O5),i=_.useRef(Po[t]);_.useEffect(()=>(i.current!==Po[t]&&r(Po[t]),$b.push([t,r]),()=>{let o=$b.findIndex(([l])=>l===t);o>-1&&$b.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,u,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||tK[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...n,toasts:a}},rK=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||Jq()}),xp=e=>(t,n)=>{let r=rK(t,e,n);return $v(r.toasterId||eK(r.id))({type:2,toast:r}),r.id},Ln=(e,t)=>xp("blank")(e,t);Ln.error=xp("error");Ln.success=xp("success");Ln.loading=xp("loading");Ln.custom=xp("custom");Ln.dismiss=(e,t)=>{let n={type:3,toastId:e};t?$v(t)(n):M5(n)};Ln.dismissAll=e=>Ln.dismiss(void 0,e);Ln.remove=(e,t)=>{let n={type:4,toastId:e};t?$v(t)(n):M5(n)};Ln.removeAll=e=>Ln.remove(void 0,e);Ln.promise=(e,t,n)=>{let r=Ln.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?ny(t.success,i):void 0;return a?Ln.success(a,{id:r,...n,...n?.success}):Ln.dismiss(r),i}).catch(i=>{let a=t.error?ny(t.error,i):void 0;a?Ln.error(a,{id:r,...n,...n?.error}):Ln.dismiss(r)}),e};var iK=1e3,aK=(e,t="default")=>{let{toasts:n,pausedAt:r}=nK(e,t),i=_.useRef(new Map).current,a=_.useCallback((p,b=iK)=>{if(i.has(p))return;let y=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},b);i.set(p,y)},[]);_.useEffect(()=>{if(r)return;let p=Date.now(),b=n.map(y=>{if(y.duration===1/0)return;let k=(y.duration||0)+y.pauseDuration-(p-y.createdAt);if(k<0){y.visible&&Ln.dismiss(y.id);return}return setTimeout(()=>Ln.dismiss(y.id,t),k)});return()=>{b.forEach(y=>y&&clearTimeout(y))}},[n,r,t]);let o=_.useCallback($v(t),[t]),l=_.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=_.useCallback((p,b)=>{o({type:1,toast:{id:p,height:b}})},[o]),d=_.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=_.useCallback((p,b)=>{let{reverseOrder:y=!1,gutter:k=8,defaultPosition:w}=b||{},S=n.filter(A=>(A.position||w)===(p.position||w)&&A.height),T=S.findIndex(A=>A.id===p.id),O=S.filter((A,C)=>C<T&&A.visible).length;return S.filter(A=>A.visible).slice(...y?[O+1]:[0,O]).reduce((A,C)=>A+(C.height||0)+k,0)},[n]);return _.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let b=i.get(p.id);b&&(clearTimeout(b),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:d,calculateOffset:h}}},oK=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,sK=Cs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lK=Cs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,cK=tc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${sK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${lK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,uK=Cs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,dK=tc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${uK} 1s linear infinite;
`,fK=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,hK=Cs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,mK=tc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${hK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,pK=tc("div")`
  position: absolute;
`,gK=tc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,bK=Cs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yK=tc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${bK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,vK=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?_.createElement(yK,null,t):t:n==="blank"?null:_.createElement(gK,null,_.createElement(dK,{...r}),n!=="loading"&&_.createElement(pK,null,n==="error"?_.createElement(cK,{...r}):_.createElement(mK,{...r})))},xK=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wK=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,_K="0%{opacity:0;} 100%{opacity:1;}",SK="0%{opacity:1;} 100%{opacity:0;}",kK=tc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,EK=tc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jK=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=T5()?[_K,SK]:[xK(n),wK(n)];return{animation:t?`${Cs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},AK=_.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?jK(e.position||t||"top-center",e.visible):{opacity:0},a=_.createElement(vK,{toast:e}),o=_.createElement(EK,{...e.ariaProps},ny(e.message,e));return _.createElement(kK,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):_.createElement(_.Fragment,null,a,o))});Zq(_.createElement);var TK=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=_.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return _.createElement("div",{ref:a,className:t,style:n},i)},NK=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:T5()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},OK=Iv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ag=16,D5=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=aK(n,a);return _.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Ag,left:Ag,right:Ag,bottom:Ag,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(h=>{let p=h.position||t,b=d.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),y=NK(p,b);return _.createElement(TK,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?OK:"",style:y},h.type==="custom"?ny(h.message,h):i?i(h):_.createElement(AK,{toast:h,position:p}))}))},ha=Ln;function CK(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),l=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+l+o-1524.5}const MK=864e5;function DK(e){const t=(e-24405875e-1)*MK;return new Date(t)}function PK(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function RK(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),l=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*l)+n;let d=l-1;d>12&&(d-=12);let h=a-4715;return d>2&&(h-=1),[h,d,u]}const Om=Math.PI,au=Om/180,LK=180/Om,IK=86400;function $K(e){return e%=360,e<0?e+360:e}function BK(e,t){return(e-t+540)%360-180}function gM(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function zK(e){const[t,n]=RK(e);return e+PK(t,Math.round(n))/IK}function bM(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,l,u]of e[i])a+=o*Math.cos(l+u*t);n+=a*r,r*=t}return n*1e-8}function UK(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*au,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*au,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*au,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*au,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*au,l=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,d=0;for(const[h,p,b,y,k,w,S,T,O]of l){const A=h*n+p*r+b*i+y*a+k*o;u+=(w+S*t)*Math.sin(A),d+=(T+O*t)*Math.cos(A)}return u*=1e-4,d*=1e-4,{dpsi:u,deps:d}}function Tg(e){const t=zK(e),n=(t-2451545)/365250,r=bM(yM.L,n),i=bM(yM.R,n);let a=r+Om;a>2*Om&&(a-=2*Om);const{dpsi:o}=UK(t),l=o/3600*au,u=20.4898/(3600*i),d=a+l-u*au;return $K(d*LK)}function On(e,t,n){const r=(t%360+360)%360,i=CK(e,1,1),a=Tg(i);let o=r-a;o<0&&(o+=360);let l=i+o/.98564736;const u=1e-6,d=5e-6;for(let b=0;b<25;b++){const y=Tg(l),k=BK(r,y);if(Math.abs(k)<u)break;const w=Tg(l+d),S=Tg(l-d),T=gM(w,y),O=gM(S,y),A=(T-O)/(2*d);l+=k/A}const h=DK(l),p=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),0,0);if(Number.isFinite(n)){const b=n/15-9;if(Math.abs(b)>1e-12)return new Date(p.getTime()+b*36e5)}return p}const yM={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},FK=(e,t)=>(e%t+t)%t,ij=(e,t)=>(e%t+t)%t,P5=e=>e instanceof Date&&!Number.isNaN(e.getTime()),vM=new Map;function R5(e,t=127.5){const n=`${e}@${t}`,r=vM.get(n);if(r)return r;const i=On(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return vM.set(n,i),i}function L5(e,t=127.5){if(!P5(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=R5(n,t),i=e<r?n-1:n,a=FK(i-4,60);return{useYear:i,index60Num:a}}const Xr=["","","","","","","","","",""],vi=["","","","","","","","","","","",""],$k={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},so={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},HK=["","","","","","","","","",""],GK=["","","","","","","","","","","",""],YK=["","","","","","","","","","","","","","","","","","","",""],qK=["","","","","","","","","","","","","","","","","","","","","","","",""],ef=new Set(Xr),$m=new Set(vi),Kn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},tr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Bm=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ry=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],KK={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},WK={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function ct(e,t=127.5){const{index60Num:n}=L5(e,t);return Bm[n]}function VK(e,t=127.5){return(ct(e,t)||"").charAt(0)}const ZK=[2,4,6,8,0,2,4,6,8,0];function XK(e,t=127.5){const n=new Array(12);return n[0]=R5(e,t),n[1]=On(e,345,t),n[2]=On(e,15,t),n[3]=On(e,45,t),n[4]=On(e,75,t),n[5]=On(e,105,t),n[6]=On(e,135,t),n[7]=On(e,165,t),n[8]=On(e,195,t),n[9]=On(e,225,t),n[10]=On(e,255,t),n[11]=On(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function JK(e,t=127.5){const{useYear:n}=L5(e,t),r=XK(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function QK(e,t=127.5){const n=VK(e,t),r=$k..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return ZK[r]}function eW(e,t,n=127.5){return(QK(e,n)+(t-1))%10}function kt(e,t=127.5){if(!P5(e))return"";const{monthIndex:n}=JK(e,t),r=(2+(n-1))%12,i=$k.[r],a=eW(e,n,t);return $k.[a]+i}const iy={JDN:2445731,idx:0};function I5(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),l=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+l-1524.5}function tW(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=iW(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function nW(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function ht(e,t){const n=tW(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=I5(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=ij(a-iy.JDN+iy.idx,60),l=Bm[o];if(!l)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return l}function Qa(e,t){if(!e)return e;const n=Bm.indexOf(e);return n<0?e:Bm[ij(n+t,60)]??e}function rW(e,t){const n=new Date(e),r=nW(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=I5(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),l=ij(o-iy.JDN+iy.idx,60),u=Bm[l];if(!u)throw new Error(`getDayGanZhi: idx=${l} out of range (jdn=${o}, jd=${a})`);return u}function iW(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<ry.length;n+=1){const{branch:r,start:i,end:a}=ry[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function aW(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<ry.length;n+=1){const{branch:r,start:i,end:a}=ry[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function oW(e,t,n,r){const i=Xr.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),Xr[a]}function eo(e,t,n){e instanceof Date||(e=new Date(e));const r=aW(e),i=vi.indexOf(r),o=(n??ht(e,t)).charAt(0);return oW(e,o,i,t)+r}const xM=e=>{let t;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const b=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,b))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=t=e(r,i,l);return l},sW=(e=>e?xM(e):xM),lW=e=>e;function cW(e,t=lW){const n=Qt.useSyncExternalStore(e.subscribe,Qt.useCallback(()=>t(e.getState()),[e,t]),Qt.useCallback(()=>t(e.getInitialState()),[e,t]));return Qt.useDebugValue(n),n}const wM=e=>{const t=sW(e),n=r=>cW(t,r);return Object.assign(n,t),n},Yo=(e=>e?wM(e):wM);function uW(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const Bk=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Bk(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Bk(r)(n)}}}},dW=(e,t)=>(n,r,i)=>{let a={storage:uW(()=>localStorage),partialize:w=>w,version:0,merge:(w,S)=>({...S,...w}),...t},o=!1;const l=new Set,u=new Set;let d=a.storage;if(!d)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const h=()=>{const w=a.partialize({...r()});return d.setItem(a.name,{state:w,version:a.version})},p=i.setState;i.setState=(w,S)=>(p(w,S),h());const b=e((...w)=>(n(...w),h()),r,i);i.getInitialState=()=>b;let y;const k=()=>{var w,S;if(!d)return;o=!1,l.forEach(O=>{var A;return O((A=r())!=null?A:b)});const T=((S=a.onRehydrateStorage)==null?void 0:S.call(a,(w=r())!=null?w:b))||void 0;return Bk(d.getItem.bind(d))(a.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==a.version){if(a.migrate){const A=a.migrate(O.state,O.version);return A instanceof Promise?A.then(C=>[!0,C]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var A;const[C,D]=O;if(y=a.merge(D,(A=r())!=null?A:b),n(y,!0),C)return h()}).then(()=>{T?.(y,void 0),y=r(),o=!0,u.forEach(O=>O(y))}).catch(O=>{T?.(void 0,O)})};return i.persist={setOptions:w=>{a={...a,...w},w.storage&&(d=w.storage)},clearStorage:()=>{d?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>k(),hasHydrated:()=>o,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},a.skipHydration||k(),y||b},$5=dW;var bs={},Ng={},zk=function(e,t){return zk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},zk(e,t)};function B5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zk(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ay=function(){return ay=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ay.apply(this,arguments)};function wf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function z5(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function U5(e,t){return function(n,r){t(n,r,e)}}function F5(e,t,n,r,i,a){function o(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),p,b=!1,y=n.length-1;y>=0;y--){var k={};for(var w in r)k[w]=w==="access"?{}:r[w];for(var w in r.access)k.access[w]=r.access[w];k.addInitializer=function(T){if(b)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(T||null))};var S=(0,n[y])(l==="accessor"?{get:h.get,set:h.set}:h[u],k);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(p=o(S.get))&&(h.get=p),(p=o(S.set))&&(h.set=p),(p=o(S.init))&&i.unshift(p)}else(p=o(S))&&(l==="field"?i.unshift(p):h[u]=p)}d&&Object.defineProperty(d,r.name,h),b=!0}function H5(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function G5(e){return typeof e=="symbol"?e:"".concat(e)}function Y5(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function q5(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ke(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(l,u)}d((r=r.apply(e,t||[])).next())})}function K5(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Bv=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function W5(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Bv(t,e,n)}function oy(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function aj(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function V5(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(aj(arguments[t]));return e}function Z5(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,i++)r[i]=a[o];return r}function X5(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function tf(e){return this instanceof tf?(this.v=e,this):new tf(e)}function J5(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(k){return Promise.resolve(k).then(y,p)}}function l(y,k){r[y]&&(i[y]=function(w){return new Promise(function(S,T){a.push([y,w,S,T])>1||u(y,w)})},k&&(i[y]=k(i[y])))}function u(y,k){try{d(r[y](k))}catch(w){b(a[0][3],w)}}function d(y){y.value instanceof tf?Promise.resolve(y.value.v).then(h,p):b(a[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function b(y,k){y(k),a.shift(),a.length&&u(a[0][0],a[0][1])}}function Q5(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:tf(e[i](o)),done:!1}:a?a(o):o}:a}}function eB(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof oy=="function"?oy(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(l,u){o=e[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},o)}}function tB(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var fW=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Uk=function(e){return Uk=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Uk(e)};function nB(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Uk(e),r=0;r<n.length;r++)n[r]!=="default"&&Bv(t,e,n[r]);return fW(t,e),t}function rB(e){return e&&e.__esModule?e:{default:e}}function iB(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function aB(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function oB(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function sB(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var hW=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function lB(e){function t(a){e.error=e.hasError?new hW(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function cB(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const mW={__extends:B5,__assign:ay,__rest:wf,__decorate:z5,__param:U5,__esDecorate:F5,__runInitializers:H5,__propKey:G5,__setFunctionName:Y5,__metadata:q5,__awaiter:Ke,__generator:K5,__createBinding:Bv,__exportStar:W5,__values:oy,__read:aj,__spread:V5,__spreadArrays:Z5,__spreadArray:X5,__await:tf,__asyncGenerator:J5,__asyncDelegator:Q5,__asyncValues:eB,__makeTemplateObject:tB,__importStar:nB,__importDefault:rB,__classPrivateFieldGet:iB,__classPrivateFieldSet:aB,__classPrivateFieldIn:oB,__addDisposableResource:sB,__disposeResources:lB,__rewriteRelativeImportExtension:cB},pW=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:sB,get __assign(){return ay},__asyncDelegator:Q5,__asyncGenerator:J5,__asyncValues:eB,__await:tf,__awaiter:Ke,__classPrivateFieldGet:iB,__classPrivateFieldIn:oB,__classPrivateFieldSet:aB,__createBinding:Bv,__decorate:z5,__disposeResources:lB,__esDecorate:F5,__exportStar:W5,__extends:B5,__generator:K5,__importDefault:rB,__importStar:nB,__makeTemplateObject:tB,__metadata:q5,__param:U5,__propKey:G5,__read:aj,__rest:wf,__rewriteRelativeImportExtension:cB,__runInitializers:H5,__setFunctionName:Y5,__spread:V5,__spreadArray:X5,__spreadArrays:Z5,__values:oy,default:mW},Symbol.toStringTag,{value:"Module"})),gW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let zv=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},uB=class extends zv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Fk=class extends zv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Hk=class extends zv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var sy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sy||(sy={}));class bW{constructor(t,{headers:n={},customFetch:r,region:i=sy.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=gW(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ke(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:u,body:d,signal:h,timeout:p}=r;let b={},{region:y}=r;y||(y=this.region);const k=new URL(`${this.url}/${n}`);y&&y!=="any"&&(b["x-region"]=y,k.searchParams.set("forceFunctionRegion",y));let w;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(b["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(b["Content-Type"]="application/json",w=JSON.stringify(d)):w=d;let S=h;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),h?(S=o.signal,h.addEventListener("abort",()=>o.abort())):S=o.signal);const T=yield this.fetch(k.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),l),body:w,signal:S}).catch(D=>{throw new uB(D)}),O=T.headers.get("x-relay-error");if(O&&O==="true")throw new Fk(T);if(!T.ok)throw new Hk(T);let A=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield T.json():A==="application/octet-stream"||A==="application/pdf"?C=yield T.blob():A==="text/event-stream"?C=T:A==="multipart/form-data"?C=yield T.formData():C=yield T.text(),{data:C,error:null,response:T}}catch(l){return{data:null,error:l,response:l instanceof Hk||l instanceof Fk?l.context:void 0}}finally{a&&clearTimeout(a)}})}}const yW=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return sy},FunctionsClient:bW,FunctionsError:zv,FunctionsFetchError:uB,FunctionsHttpError:Hk,FunctionsRelayError:Fk},Symbol.toStringTag,{value:"Module"})),dB=bp(yW);var $r={};const _f=bp(pW);var Og={},Cg={},Mg={},Dg={},Pg={},Rg={},_M;function fB(){if(_M)return Rg;_M=1,Object.defineProperty(Rg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Rg.default=e,Rg}var SM;function hB(){if(SM)return Pg;SM=1,Object.defineProperty(Pg,"__esModule",{value:!0});const t=_f.__importDefault(fB());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,p,b;let y=null,k=null,w=null,S=u.status,T=u.statusText;if(u.ok){if(this.method!=="HEAD"){const D=await u.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?k=D:k=JSON.parse(D))}const A=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");A&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(y={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,w=null,S=406,T="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const A=await u.text();try{y=JSON.parse(A),Array.isArray(y)&&u.status===404&&(k=[],y=null,S=200,T="OK")}catch{u.status===404&&A===""?(S=204,T="No Content"):y={message:A}}if(y&&this.isMaybeSingle&&(!((b=y?.details)===null||b===void 0)&&b.includes("0 rows"))&&(y=null,S=200,T="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:k,count:w,status:S,statusText:T}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,p,b,y,k;let w="";const S=u?.cause;if(S){const T=(d=S?.message)!==null&&d!==void 0?d:"",O=(h=S?.code)!==null&&h!==void 0?h:"";w=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,w+=`

Caused by: ${(b=S?.name)!==null&&b!==void 0?b:"Error"}: ${T}`,O&&(w+=` (${O})`),S?.stack&&(w+=`
${S.stack}`)}else w=(y=u?.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(k=u?.name)!==null&&k!==void 0?k:"FetchError"}: ${u?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}};return Pg.default=n,Pg}var kM;function mB(){if(kM)return Dg;kM=1,Object.defineProperty(Dg,"__esModule",{value:!0});const t=_f.__importDefault(hB());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),b=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${b}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Dg.default=n,Dg}var EM;function oj(){if(EM)return Mg;EM=1,Object.defineProperty(Mg,"__esModule",{value:!0});const t=_f.__importDefault(mB()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${d}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}};return Mg.default=r,Mg}var jM;function pB(){if(jM)return Cg;jM=1,Object.defineProperty(Cg,"__esModule",{value:!0});const t=_f.__importDefault(oj());let n=class{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},u=o?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((b,y)=>b.concat(Object.keys(y)),[]);if(p.length>0){const b=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Cg.default=n,Cg}var AM;function vW(){if(AM)return Og;AM=1,Object.defineProperty(Og,"__esModule",{value:!0});const e=_f,t=e.__importDefault(pB()),n=e.__importDefault(oj());let r=class gB{constructor(a,{headers:o={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new gB(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:u=!1,count:d}={}){var h;let p;const b=new URL(`${this.url}/rpc/${a}`);let y;l||u?(p=l?"HEAD":"GET",Object.entries(o).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{b.searchParams.append(w,S)})):(p="POST",y=o);const k=new Headers(this.headers);return d&&k.set("Prefer",`count=${d}`),new n.default({method:p,url:b,headers:k,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return Og.default=r,Og}var TM;function bB(){if(TM)return $r;TM=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.PostgrestError=$r.PostgrestBuilder=$r.PostgrestTransformBuilder=$r.PostgrestFilterBuilder=$r.PostgrestQueryBuilder=$r.PostgrestClient=void 0;const e=_f,t=e.__importDefault(vW());$r.PostgrestClient=t.default;const n=e.__importDefault(pB());$r.PostgrestQueryBuilder=n.default;const r=e.__importDefault(oj());$r.PostgrestFilterBuilder=r.default;const i=e.__importDefault(mB());$r.PostgrestTransformBuilder=i.default;const a=e.__importDefault(hB());$r.PostgrestBuilder=a.default;const o=e.__importDefault(fB());return $r.PostgrestError=o.default,$r.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},$r}class yB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xW="2.86.2",wW=`realtime-js/${xW}`,vB="1.0.0",_W="2.0.0",NM=vB,Gk=1e4,SW=1e3,kW=100;var ou;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ou||(ou={}));var Gn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Gn||(Gn={}));var Ga;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ga||(Ga={}));var Yk;(function(e){e.websocket="websocket"})(Yk||(Yk={}));var su;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(su||(su={}));class EW{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+d.length+p.length,y=new ArrayBuffer(this.HEADER_LENGTH+b);let k=new DataView(y),w=0;k.setUint8(w++,this.KINDS.userBroadcastPush),k.setUint8(w++,u.length),k.setUint8(w++,l.length),k.setUint8(w++,o.length),k.setUint8(w++,d.length),k.setUint8(w++,p.length),k.setUint8(w++,n),Array.from(u,T=>k.setUint8(w++,T.charCodeAt(0))),Array.from(l,T=>k.setUint8(w++,T.charCodeAt(0))),Array.from(o,T=>k.setUint8(w++,T.charCodeAt(0))),Array.from(d,T=>k.setUint8(w++,T.charCodeAt(0))),Array.from(p,T=>k.setUint8(w++,T.charCodeAt(0)));var S=new Uint8Array(y.byteLength+r.byteLength);return S.set(new Uint8Array(y),0),S.set(new Uint8Array(r),y.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,u]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=r.decode(t.slice(u,u+i));u=u+i;const h=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const b=t.slice(u,t.byteLength),y=l===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,k={type:this.BROADCAST_EVENT,event:h,payload:y};return o>0&&(k.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class xB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Jt||(Jt={}));const OM=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=jW(o,e,t,i),a),{}):{}},jW=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?wB(a,o):qk(o)},wB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return OW(t,n)}switch(e){case Jt.bool:return AW(t);case Jt.float4:case Jt.float8:case Jt.int2:case Jt.int4:case Jt.int8:case Jt.numeric:case Jt.oid:return TW(t);case Jt.json:case Jt.jsonb:return NW(t);case Jt.timestamp:return CW(t);case Jt.abstime:case Jt.date:case Jt.daterange:case Jt.int4range:case Jt.int8range:case Jt.money:case Jt.reltime:case Jt.text:case Jt.time:case Jt.timestamptz:case Jt.timetz:case Jt.tsrange:case Jt.tstzrange:return qk(t);default:return qk(t)}},qk=e=>e,AW=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TW=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},NW=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},OW=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>wB(t,l))}return e},CW=e=>typeof e=="string"?e.replace(" ","T"):e,_B=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class J_{constructor(t,n,r={},i=Gk){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kk||(Kk={}));let SB=class Bb{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bb.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=Bb.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bb.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(a,(d,h)=>{o[d]||(u[d]=h)}),this.map(o,(d,h)=>{const p=a[d];if(p){const b=h.map(S=>S.presence_ref),y=p.map(S=>S.presence_ref),k=h.filter(S=>y.indexOf(S.presence_ref)<0),w=p.filter(S=>b.indexOf(S.presence_ref)<0);k.length>0&&(l[d]=k),w.length>0&&(u[d]=w)}else l[d]=h}),this.syncDiff(a,{joins:l,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,u)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),h.length>0){const p=t[l].map(y=>y.presence_ref),b=h.filter(y=>p.indexOf(y.presence_ref)<0);t[l].unshift(...b)}r(l,h,u)}),this.map(o,(l,u)=>{let d=t[l];if(!d)return;const h=u.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),t[l]=d,i(l,d,u),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Wk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Wk||(Wk={}));var Wd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wd||(Wd={}));var No;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(No||(No={}));const MW=Gn;let kB=class EB{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new J_(this,Ga.join,this.params,this.timeout),this.rejoinTimer=new xB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ga.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new SB(this),this.broadcastEndpointURL=_B(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Gn.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Wd.PRESENCE]&&this.bindings[Wd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},b={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(No.CHANNEL_ERROR,y)),this._onClose(()=>t?.(No.CLOSED)),this.updateJoinPayload(Object.assign({config:b},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var k;if(this.socket.setAuth(),y===void 0){t?.(No.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(k=w?.length)!==null&&k!==void 0?k:0,T=[];for(let O=0;O<S;O++){const A=w[O],{filter:{event:C,schema:D,table:P,filter:I}}=A,U=y&&y[O];if(U&&U.event===C&&U.schema===D&&U.table===P&&U.filter===I)T.push(Object.assign(Object.assign({},A),{id:U.id}));else{this.unsubscribe(),this.state=Gn.errored,t?.(No.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(No.SUBSCRIBED);return}}).receive("error",y=>{this.state=Gn.errored,t?.(No.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(No.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Gn.joined&&t===Wd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Gn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ga.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new J_(this,Ga.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new J_(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kW){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=Ga;if(r&&[l,u,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let b=this._onMessage(o,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var k,w,S;return((k=y.filter)===null||k===void 0?void 0:k.event)==="*"||((S=(w=y.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(y=>y.callback(b,r)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var k,w,S,T,O,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const C=y.id,D=(k=y.filter)===null||k===void 0?void 0:k.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(D==="*"||D?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const C=(O=(T=y?.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return C==="*"||C===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof b=="object"&&"ids"in b){const k=b.data,{schema:w,table:S,commit_timestamp:T,type:O,errors:A}=k;b=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:T,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(k))}y.callback(b,r)})}_isClosed(){return this.state===Gn.closed}_isJoined(){return this.state===Gn.joined}_isJoining(){return this.state===Gn.joining}_isLeaving(){return this.state===Gn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&EB.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ga.close,{},t)}_onError(t){this._on(Ga.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=OM(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=OM(t.columns,t.old_record)),n}};const Q_=()=>{},Lg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},DW=[1e3,2e3,5e3,1e4],PW=1e4,RW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let LW=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gk,this.transport=null,this.heartbeatIntervalMs=Lg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Q_,this.ref=0,this.reconnectTimer=null,this.vsn=NM,this.logger=Q_,this.conn=null,this.sendBuffer=[],this.serializer=new EW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Yk.websocket}`,this.httpEndpoint=_B(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ou.connecting:return su.Connecting;case ou.open:return su.Open;case ou.closing:return su.Closing;default:return su.Closed}}isConnected(){return this.connectionState()===su.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new kB(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(SW,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Lg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ou.open||this.conn.readyState===ou.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ga.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([RW],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:wW};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ga.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new xB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Lg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,u,d,h,p,b,y;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Gk,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Lg.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:Q_,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:NM,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(k=>DW[k-1]||PW),this.vsn){case vB:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((k,w)=>w(JSON.stringify(k))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((k,w)=>w(JSON.parse(k)));break;case _W:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const IW=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:MW,get REALTIME_LISTEN_TYPES(){return Wd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Wk},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Kk},get REALTIME_SUBSCRIBE_STATES(){return No},RealtimeChannel:kB,RealtimeClient:LW,RealtimePresence:SB,WebSocketFactory:yB},Symbol.toStringTag,{value:"Module"})),jB=bp(IW);class wp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function cn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class AB extends wp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ly extends wp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const sj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$W=()=>Response,Vk=e=>{if(Array.isArray(e))return e.map(n=>Vk(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Vk(r)}),t},BW=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zW=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),e1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},UW=(e,t,n)=>Ke(void 0,void 0,void 0,function*(){const r=yield $W();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new AB(e1(i),a,o))}).catch(i=>{t(new ly(e1(i),i))}):t(new ly(e1(e),e))}),FW=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(BW(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function _p(e,t,n,r,i,a){return Ke(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,FW(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>UW(u,l,r))})})}function zm(e,t,n,r){return Ke(this,void 0,void 0,function*(){return _p(e,"GET",t,n,r)})}function Ha(e,t,n,r,i){return Ke(this,void 0,void 0,function*(){return _p(e,"POST",t,r,i,n)})}function Zk(e,t,n,r,i){return Ke(this,void 0,void 0,function*(){return _p(e,"PUT",t,r,i,n)})}function HW(e,t,n,r){return Ke(this,void 0,void 0,function*(){return _p(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function lj(e,t,n,r,i){return Ke(this,void 0,void 0,function*(){return _p(e,"DELETE",t,r,i,n)})}class GW{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ke(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(cn(t))return{data:null,error:t};throw t}})}}var TB;class YW{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[TB]="BlobDownloadBuilder",this.promise=null}asStream(){return new GW(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ke(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(cn(t))return{data:null,error:t};throw t}})}}TB=Symbol.toStringTag;const qW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},CM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class KW{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=sj(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ke(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},CM),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield(t=="PUT"?Zk:Ha)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ke(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:CM.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield Zk(this.fetch,l.toString(),u,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(cn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Ke(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Ha(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new wp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ke(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ke(this,void 0,void 0,function*(){try{return{data:{path:(yield Ha(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ha(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ke(this,void 0,void 0,function*(){try{const i=yield Ha(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),u=()=>zm(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new YW(u,this.shouldThrowOnError)}info(t){return Ke(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield zm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Vk(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}exists(t){return Ke(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield HW(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r)&&r instanceof ly){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield lj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ke(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},qW),n),{prefix:t||""});return{data:yield Ha(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ke(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ha(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const NB="2.86.2",OB={"X-Client-Info":`storage-js/${NB}`};class WW{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},OB),n),this.fetch=sj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ke(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield zm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield zm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ke(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ha(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ke(this,void 0,void 0,function*(){try{return{data:yield Zk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield lj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Um=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function VW(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function ZW(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function XW(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=VW(e.baseUrl,r,i),u=await ZW(e.auth),d=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),h=await d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),b=p&&h?JSON.parse(h):h;if(!d.ok){const y=p?b:void 0,k=y?.error;throw new Um(k?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:k?.type,icebergCode:k?.code,details:y})}return{status:d.status,headers:d.headers,data:b}}}}function Ig(e){return e.join("")}var JW=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ig(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ig(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ig(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ig(e.namespace)}`}),!0}catch(t){if(t instanceof Um&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Um&&n.status===409)return;throw n}}};function wd(e){return e.join("")}var QW=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wd(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wd(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wd(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wd(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wd(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wd(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Um&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Um&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},eV=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=XW({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new JW(this.client,t),this.tableOps=new QW(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class CB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},OB),n),this.fetch=sj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ke(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield zm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield lj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}from(t){if(!zW(t))throw new wp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new eV({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ke(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const cj={"X-Client-Info":`storage-js/${NB}`,"Content-Type":"application/json"};class uj extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function bi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class zb extends uj{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class MB extends uj{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Xk;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Xk||(Xk={}));const Uv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tV=()=>Response,DB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},nV=e=>Array.from(new Float32Array(e)),rV=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},MM=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iV=(e,t,n)=>Ke(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";t(new zb(MM(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new zb(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new zb(l,i,o))}}else t(new MB(MM(e),e))}),aV=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(DB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function oV(e,t,n,r,i,a){return Ke(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,aV(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>iV(u,l,r))})})}function Bi(e,t,n,r,i){return Ke(this,void 0,void 0,function*(){return oV(e,"POST",t,r,i,n)})}class PB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cj),n),this.fetch=Uv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ke(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ke(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bi(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ke(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bi(r))return{data:null,error:r};throw r}})}}class RB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cj),n),this.fetch=Uv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ke(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Bi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}getVectors(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}listVectors(t){return Ke(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Bi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ke(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Bi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}}class LB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cj),n),this.fetch=Uv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}getBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}listBuckets(){return Ke(this,arguments,void 0,function*(t={}){try{return{data:yield Bi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}}class IB extends LB{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new $B(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ke(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ke(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ke(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ke(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class $B extends PB{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ke(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ke(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ke(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ke(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new BB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class BB extends RB{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ke(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ke(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ke(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ke(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ke(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class sV extends WW{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new KW(this.url,this.headers,t,this.fetch)}get vectors(){return new IB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new CB(this.url+"/iceberg",this.headers,this.fetch)}}const lV=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:CB,StorageApiError:AB,StorageClient:sV,StorageError:wp,StorageUnknownError:ly,StorageVectorsApiError:zb,StorageVectorsClient:IB,StorageVectorsError:uj,get StorageVectorsErrorCode(){return Xk},StorageVectorsUnknownError:MB,VectorBucketApi:LB,VectorBucketScope:$B,VectorDataApi:RB,VectorIndexApi:PB,VectorIndexScope:BB,isPlainObject:DB,isStorageError:cn,isStorageVectorsError:bi,normalizeToFloat32:nV,resolveFetch:Uv,resolveResponse:tV,validateVectorDimension:rV},Symbol.toStringTag,{value:"Module"})),cV=bp(lV);var t1={},Kh={},DM;function uV(){return DM||(DM=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.version=void 0,Kh.version="2.86.2"),Kh}var PM;function dV(){return PM||(PM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=uV();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(t1)),t1}var n1={},RM;function fV(){return RM||(RM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const l=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(d,h)=>{var p;const b=(p=await a())!==null&&p!==void 0?p:i;let y=new u(h?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${b}`),l(d,Object.assign(Object.assign({},h),{headers:y}))}};e.fetchWithAuth=r})(n1)),n1}var ys={},LM;function hV(){if(LM)return ys;LM=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.isBrowser=void 0,ys.uuid=e,ys.ensureTrailingSlash=t,ys.applySettingDefaults=r,ys.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,l=a=="x"?o:o&3|8;return l.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";ys.isBrowser=n;function r(a,o){var l,u;const{db:d,auth:h,realtime:p,global:b}=a,{db:y,auth:k,realtime:w,global:S}=o,T={db:Object.assign(Object.assign({},y),d),auth:Object.assign(Object.assign({},k),h),realtime:Object.assign(Object.assign({},w),p),storage:{},global:Object.assign(Object.assign(Object.assign({},S),b),{headers:Object.assign(Object.assign({},(l=S?.headers)!==null&&l!==void 0?l:{}),(u=b?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?T.accessToken=a.accessToken:delete T.accessToken,T}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ys}var Wh={};const zB="2.86.2",Ld=30*1e3,Jk=3,r1=Jk*Ld,mV="http://localhost:9999",pV="supabase.auth.token",gV={"X-Client-Info":`gotrue-js/${zB}`},Qk="X-Supabase-Api-Version",UB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yV=600*1e3;let nf=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let FB=class extends nf{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function HB(e){return Ze(e)&&e.name==="AuthApiError"}let Rl=class extends nf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Bs=class extends nf{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},mi=class extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function GB(e){return Ze(e)&&e.name==="AuthSessionMissingError"}let Jc=class extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},wm=class extends Bs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},_m=class extends Bs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function YB(e){return Ze(e)&&e.name==="AuthImplicitGrantRedirectError"}let e2=class extends Bs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},cy=class extends Bs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Ub(e){return Ze(e)&&e.name==="AuthRetryableFetchError"}let t2=class extends Bs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function vV(e){return Ze(e)&&e.name==="AuthWeakPasswordError"}let uy=class extends Bs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const dy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IM=` 	
\r=`.split(""),xV=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<IM.length;t+=1)e[IM[t].charCodeAt(0)]=-2;for(let t=0;t<dy.length;t+=1)e[dy[t].charCodeAt(0)]=t;return e})();function $M(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(dy[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(dy[r]),t.queuedBits-=6}}function qB(e,t,n){const r=xV[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function BM(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{SV(o,r,n)};for(let o=0;o<e.length;o+=1)qB(e.charCodeAt(o),i,a);return t.join("")}function wV(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _V(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}wV(r,t)}}function SV(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Vd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)qB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function kV(e){const t=[];return _V(e,n=>t.push(n)),new Uint8Array(t)}function uu(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>$M(i,n,r)),$M(null,n,r),t.join("")}function EV(e){return Math.round(Date.now()/1e3)+e}function jV(){return Symbol("auth-callback")}const Ar=()=>typeof window<"u"&&typeof document<"u",Fc={tested:!1,writable:!1},KB=()=>{if(!Ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fc.tested)return Fc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fc.tested=!0,Fc.writable=!0}catch{Fc.tested=!0,Fc.writable=!1}return Fc.writable};function AV(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const WB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),TV=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Id=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Hc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Er=async(e,t)=>{await e.removeItem(t)};class Fv{constructor(){this.promise=new Fv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Fv.promiseConstructor=Promise;function i1(e){const t=e.split(".");if(t.length!==3)throw new uy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!bV.test(t[r]))throw new uy("JWT not in base64url format");return{header:JSON.parse(BM(t[0])),payload:JSON.parse(BM(t[1])),signature:Vd(t[2]),raw:{header:t[0],payload:t[1]}}}async function NV(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function OV(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function CV(e){return("0"+e.toString(16)).substr(-2)}function MV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,CV).join("")}async function DV(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function PV(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await DV(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _d(e,t,n=!1){const r=MV();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Id(e,`${t}-code-verifier`,i);const a=await PV(r);return[a,r===a?"plain":"s256"]}const RV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LV(e){const t=e.headers.get(Qk);if(!t||!t.match(RV))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function IV(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $V(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sd(e){if(!BV.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function a1(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zV(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function zM(e){return JSON.parse(JSON.stringify(e))}const Qc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UV=[502,503,504];async function UM(e){var t;if(!TV(e))throw new cy(Qc(e),0);if(UV.includes(e.status))throw new cy(Qc(e),e.status);let n;try{n=await e.json()}catch(a){throw new Rl(Qc(a),a)}let r;const i=LV(e);if(i&&i.getTime()>=UB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new t2(Qc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new mi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new t2(Qc(n),e.status,n.weak_password.reasons);throw new FB(Qc(n),e.status||500,r)}const FV=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function st(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[Qk]||(a[Qk]=UB["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await HV(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function HV(e,t,n,r,i,a){const o=FV(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new cy(Qc(u),0)}if(l.ok||await UM(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await UM(u)}}function Fa(e){var t;let n=null;qV(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=EV(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function FM(e){const t=Fa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ll(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function GV(e){return{data:e,error:null}}function YV(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=wf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function HM(e){return e}function qV(e){return e.access_token&&e.refresh_token&&e.expires_in}const Fb=["global","local","others"];let dj=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=WB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Fb[0]){if(Fb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fb.join(", ")}`);try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ll})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=wf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:YV,redirectTo:n?.redirectTo})}catch(n){if(Ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ll})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:HM});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(k.split(";")[1].split("=")[1]);d[`${S}Page`]=w}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ze(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Sd(t);try{return await st(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ll})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Sd(t);try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ll})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Sd(t);try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ll})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Sd(t.userId);try{const{data:n,error:r}=await st(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Sd(t.userId),Sd(t.id);try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await st(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:HM});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(k.split(";")[1].split("=")[1]);d[`${S}Page`]=w}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ze(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await st(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await st(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await st(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await st(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await st(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}};function GM(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const eu={debug:!!(globalThis&&KB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let VB=class extends fj{};class KV extends fj{}async function ZB(e,t,n){eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),eu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new VB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(eu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const YM={};async function WV(e,t,n){var r;const i=(r=YM[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new KV(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return YM[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function VV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function XB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ZV(e){return parseInt(e,16)}function XV(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function JV(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:u,resources:d,scheme:h,uri:p,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=XB(e.address),k=h?`${h}://${r}`:r,w=e.statement?`${e.statement}
`:"",S=`${k} wants you to sign in with your Ethereum account:
${y}

${w}`;let T=`URI: ${p}
Version: ${b}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),l&&(T+=`
Not Before: ${l.toISOString()}`),u&&(T+=`
Request ID: ${u}`),d){let O=`
Resources:`;for(const A of d){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}T+=O}return`${S}
${T}`}class Yn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class fy extends Yn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function QV({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Yn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Yn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Yn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Yn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Yn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Yn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Yn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Yn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(JB(o)){if(a.rp.id!==o)return new Yn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Yn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Yn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function eZ({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Yn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Yn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(JB(r)){if(n.rpId!==r)return new Yn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Yn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class tZ{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const nZ=new tZ;function rZ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=wf(e,["challenge","user","excludeCredentials"]),a=Vd(t).buffer,o=Object.assign(Object.assign({},n),{id:Vd(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Vd(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function iZ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=wf(e,["challenge","allowCredentials"]),i=Vd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Vd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function aZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:uu(new Uint8Array(e.response.attestationObject)),clientDataJSON:uu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function oZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:uu(new Uint8Array(i.authenticatorData)),clientDataJSON:uu(new Uint8Array(i.clientDataJSON)),signature:uu(new Uint8Array(i.signature)),userHandle:i.userHandle?uu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function JB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function qM(){var e,t;return!!(Ar()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function sZ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fy("Browser returned unexpected credential type",t)}:{data:null,error:new fy("Empty credential response",t)}}catch(t){return{data:null,error:QV({error:t,options:e})}}}async function lZ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fy("Browser returned unexpected credential type",t)}:{data:null,error:new fy("Empty credential response",t)}}catch(t){return{data:null,error:eZ({error:t,options:e})}}}const cZ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},uZ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hy(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=hy(l,o):r[a]=hy(o)}else r[a]=o}return r}function dZ(e,t){return hy(cZ,e,t||{})}function fZ(e,t){return hy(uZ,e,t||{})}class hZ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=i??nZ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=dZ(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:p}=await sZ({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=fZ(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:p}=await lZ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Ze(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new nf("rpId is required for WebAuthn authentication")};try{if(!qM())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Ze(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new nf("rpId is required for WebAuthn registration")};try{if(!qM())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Ze(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in register",o)}}}}VV();const mZ={url:mV,storageKey:pV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function KM(e,t,n){return await n()}const kd={};let hj=class n2{get jwks(){var t,n;return(n=(t=kd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){kd[this.storageKey]=Object.assign(Object.assign({},kd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=kd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){kd[this.storageKey]=Object.assign(Object.assign({},kd[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},mZ),t);if(this.storageKey=a.storageKey,this.instanceID=(n=n2.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,n2.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Ar()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new dj({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=WB(a.fetch),this.lock=a.lock||KM,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Ar()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=ZB:this.lock=KM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hZ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:KB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=GM(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=GM(this.memoryStorage)),Ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Ar()&&(n=AV(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ar()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),YB(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ze(n)?this._returnResult({error:n}):this._returnResult({error:new Rl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Fa}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(Ze(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:p,options:b}=t;let y=null,k=null;this.flowType==="pkce"&&([y,k]=await _d(this.storage,this.storageKey)),a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:h,password:p,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:y,code_challenge_method:k},xform:Fa})}else if("phone"in t){const{phone:h,password:p,options:b}=t;a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Fa})}else throw new wm("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await Er(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ze(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:FM})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:FM})}else throw new wm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Jc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,u,d,h,p,b;let y,k;if("message"in t)y=t.message,k=t.signature;else{const{chain:w,wallet:S,statement:T,options:O}=t;let A;if(Ar())if(typeof S=="object")A=S;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")A=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const C=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href),D=await A.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=XB(D[0]);let I=(r=O?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const W=await A.request({method:"eth_chainId"});I=ZV(W)}const U={domain:C.host,address:P,statement:T,uri:C.href,version:"1",chainId:I,nonce:(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=JV(U),k=await A.request({method:"personal_sign",params:[XV(y),P]})}try{const{data:w,error:S}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:k},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Fa});if(S)throw S;if(!w||!w.session||!w.user){const T=new Jc;return this._returnResult({data:{user:null,session:null},error:T})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:S})}catch(w){if(Ze(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,i,a,o,l,u,d,h,p,b,y;let k,w;if("message"in t)k=t.message,w=t.signature;else{const{chain:S,wallet:T,statement:O,options:A}=t;let C;if(Ar())if(typeof T=="object")C=T;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=T}const D=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),O?{statement:O}:null));let I;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")I=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)I=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)k=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),w=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${D.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=A?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(h=A?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(k),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:S,error:T}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:uu(w)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Fa});if(T)throw T;if(!S||!S.session||!S.user){const O=new Jc;return this._returnResult({data:{user:null,session:null},error:O})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:T})}catch(S){if(Ze(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await Hc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Fa});if(await Er(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Jc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ze(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Fa}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const h=new Jc;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(Ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:u}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await _d(this.storage,this.storageKey));const{error:p}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:h}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new wm("You must provide either an email or phone number.")}catch(l){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ze(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Fa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(Ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await _d(this.storage,this.storageKey));const d=await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:GV});return!((a=d.data)===null||a===void 0)&&a.url&&Ar()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ze(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new mi;const{error:i}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ze(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await st(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await st(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new wm("You must provide either an email or phone number and a type")}catch(n){if(Ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Hc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<r1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Hc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=a1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=zV(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ll}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mi}:await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ll})})}catch(n){if(Ze(n))return GB(n)&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new mi;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await _d(this.storage,this.storageKey));const{data:d,error:h}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Ll});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ze(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new mi;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=i1(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ze(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new mi;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Ar())throw new _m("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _m(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new e2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _m("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new e2("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:d}=t;if(!a||!l||!o||!d)throw new _m("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let b=h+p;u&&(b=parseInt(u));const y=b-h;y*1e3<=Ld&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const k=b-p;h-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,b,h):h-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,b,h);const{data:w,error:S}=await this._getUser(a);if(S)throw S;const T={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:b,refresh_token:o,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(r){if(Ze(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Hc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(HB(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=jV(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await _d(this.storage,this.storageKey,!0));try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ze(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,u,d,h;const{data:p,error:b}=a;if(b)throw b;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Ar()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ze(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:u,access_token:d,nonce:h}=t,p=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Fa}),{data:b,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Jc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:y}))}catch(i){if(await Er(this.storage,`${this.storageKey}-code-verifier`),Ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await OV(async i=>(i>0&&await NV(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Fa})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Ub(a)&&Date.now()+o-r<Ld})}catch(r){if(this._debug(n,"error",r),Ze(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ar()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Hc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Hc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Id(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:a1()}else if(i&&!i.user&&!i.user){const o=await Hc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Er(this.storage,this.storageKey+"-user"),await Id(this.storage,this.storageKey,i)):i.user=a1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<r1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${r1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ub(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new mi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new mi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ze(a)){const o={data:null,error:a};return Ub(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Er(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Id(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=zM(i);await Id(this.storage,this.storageKey,a)}else{const i=zM(n);await Id(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Er(this.storage,this.storageKey),await Er(this.storage,this.storageKey+"-code-verifier"),await Er(this.storage,this.storageKey+"-user"),this.userStorage&&await Er(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ar()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ld);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Ld);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ld}ms, refresh threshold is ${Jk} ticks`),i<=Jk&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ar()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await _d(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await st(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await st(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?aZ(t.webauthn.credential_response):oZ(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await st(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await st(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:rZ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:iZ(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=i1(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await st(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new mi})})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new mi});const o=await st(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ar()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ze(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new mi});const o=await st(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ar()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ze(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await st(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new mi})})}catch(t){if(Ze(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await st(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new mi})})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+yV>i)return r;const{data:a,error:o}=await st(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:k}=await this.getSession();if(k||!y.session)return this._returnResult({data:null,error:k});r=y.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:u}}=i1(r);n?.allowExpired||IV(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:a,header:i,signature:o},error:null}}const h=$V(i.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,kV(`${l}.${u}`)))throw new uy("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ze(r))return this._returnResult({data:null,error:r});throw r}}};hj.nextInstanceID={};const pZ=dj,gZ=hj,bZ=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:pZ,AuthApiError:FB,AuthClient:gZ,AuthError:nf,AuthImplicitGrantRedirectError:_m,AuthInvalidCredentialsError:wm,AuthInvalidJwtError:uy,AuthInvalidTokenResponseError:Jc,AuthPKCEGrantCodeExchangeError:e2,AuthRetryableFetchError:cy,AuthSessionMissingError:mi,AuthUnknownError:Rl,AuthWeakPasswordError:t2,CustomAuthError:Bs,GoTrueAdminApi:dj,GoTrueClient:hj,NavigatorLockAcquireTimeoutError:VB,SIGN_OUT_SCOPES:Fb,isAuthApiError:HB,isAuthError:Ze,isAuthImplicitGrantRedirectError:YB,isAuthRetryableFetchError:Ub,isAuthSessionMissingError:GB,isAuthWeakPasswordError:vV,lockInternals:eu,navigatorLock:ZB,processLock:WV},Symbol.toStringTag,{value:"Module"})),QB=bp(bZ);var WM;function yZ(){if(WM)return Wh;WM=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.SupabaseAuthClient=void 0;const e=QB;let t=class extends e.AuthClient{constructor(r){super(r)}};return Wh.SupabaseAuthClient=t,Wh}var VM;function ZM(){if(VM)return Ng;VM=1,Object.defineProperty(Ng,"__esModule",{value:!0});const e=dB,t=bB(),n=jB,r=cV,i=dV(),a=fV(),o=hV(),l=yZ();class u{constructor(h,p,b){var y,k,w;this.supabaseUrl=h,this.supabaseKey=p;const S=(0,o.validateSupabaseUrl)(h);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const T=`sb-${S.hostname.split(".")[0]}-auth-token`,O={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:T}),global:i.DEFAULT_GLOBAL_OPTIONS},A=(0,o.applySettingDefaults)(b??{},O);this.storageKey=(y=A.auth.storageKey)!==null&&y!==void 0?y:"",this.headers=(k=A.global.headers)!==null&&k!==void 0?k:{},A.accessToken?(this.accessToken=A.accessToken,this.auth=new Proxy({},{get:(C,D)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(D)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((w=A.auth)!==null&&w!==void 0?w:{},this.headers,A.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),A.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},A.realtime)),this.accessToken&&this.accessToken().then(C=>this.realtime.setAuth(C)).catch(C=>console.warn("Failed to set initial Realtime auth token:",C)),this.rest=new t.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:A.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),A.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,p={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,p,b)}channel(h,p={config:{}}){return this.realtime.channel(h,p)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,p;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(p=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:y,userStorage:k,storageKey:w,flowType:S,lock:T,debug:O,throwOnError:A},C,D){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),C),storageKey:w,autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:y,userStorage:k,flowType:S,lock:T,debug:O,throwOnError:A,fetch:D,hasCustomAuthorizationHeader:Object.keys(this.headers).some(I=>I.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,b)=>{this._handleTokenChanged(p,"CLIENT",b?.access_token)})}_handleTokenChanged(h,p,b){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Ng.default=u,Ng}var XM;function vZ(){return XM||(XM=1,(function(e){var t=bs&&bs.__createBinding||(Object.create?(function(h,p,b,y){y===void 0&&(y=b);var k=Object.getOwnPropertyDescriptor(p,b);(!k||("get"in k?!p.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(h,y,k)}):(function(h,p,b,y){y===void 0&&(y=b),h[y]=p[b]})),n=bs&&bs.__exportStar||function(h,p){for(var b in h)b!=="default"&&!Object.prototype.hasOwnProperty.call(p,b)&&t(p,h,b)},r=bs&&bs.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(ZM());n(QB,e);var a=bB();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=dB;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(jB,e);var l=ZM();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const u=(h,p,b)=>new i.default(h,p,b);e.createClient=u;function d(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const p=h.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}d()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(bs)),bs}var e4=vZ();const t4=_i(e4),xZ=WE({__proto__:null,default:t4},[e4]),{PostgrestError:rCe,FunctionsHttpError:iCe,FunctionsFetchError:aCe,FunctionsRelayError:oCe,FunctionsError:sCe,FunctionRegion:lCe,SupabaseClient:cCe,createClient:wZ,GoTrueAdminApi:uCe,GoTrueClient:dCe,AuthAdminApi:fCe,AuthClient:hCe,navigatorLock:mCe,NavigatorLockAcquireTimeoutError:pCe,lockInternals:gCe,processLock:bCe,SIGN_OUT_SCOPES:yCe,AuthError:vCe,AuthApiError:xCe,AuthUnknownError:wCe,CustomAuthError:_Ce,AuthSessionMissingError:SCe,AuthInvalidTokenResponseError:kCe,AuthInvalidCredentialsError:ECe,AuthImplicitGrantRedirectError:jCe,AuthPKCEGrantCodeExchangeError:ACe,AuthRetryableFetchError:TCe,AuthWeakPasswordError:NCe,AuthInvalidJwtError:OCe,isAuthError:CCe,isAuthApiError:MCe,isAuthSessionMissingError:DCe,isAuthImplicitGrantRedirectError:PCe,isAuthRetryableFetchError:RCe,isAuthWeakPasswordError:LCe,RealtimePresence:ICe,RealtimeChannel:$Ce,RealtimeClient:BCe,REALTIME_LISTEN_TYPES:zCe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:UCe,REALTIME_PRESENCE_LISTEN_EVENTS:FCe,REALTIME_SUBSCRIBE_STATES:HCe,REALTIME_CHANNEL_STATES:GCe}=t4||xZ,_Z="https://jouhybyquybxbnqztxum.supabase.co",SZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",kZ=!1,De=wZ(_Z,SZ,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:kZ,storage:localStorage}}),n4="settings_v1",r2=()=>{try{typeof window<"u"&&window.localStorage.removeItem(n4)}catch{}},Il={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sidebarCardsCollapsed:!1,sidebarCardCollapsedMap:{},sidebarCollapseInitDone:!0,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},JM=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],EZ=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&JM.includes(r)):[],n=JM.filter(r=>!t.includes(r));return[...t,...n]},Zd=e=>({...Il,...e,sectionOrder:EZ(e.sectionOrder)}),jZ=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Zd(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Zd(n.settings)}}return Zd(e??{})},AZ=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};r2();const wn=Yo()($5((e,t)=>({settings:Il,syncing:!1,loaded:!1,setSettings:n=>e({settings:Zd(n)}),setKey:(n,r)=>e({settings:Zd({...t().settings,[n]:r})}),reset:()=>e({settings:Il,loaded:!0}),loadFromServer:async n=>{const r=t();if(!r.syncing&&!(!n?.force&&r.loaded))try{e({syncing:!0}),r2();const{data:i,error:a}=await De.auth.getUser(),o=i?.user??null;if(a||!o){e({settings:Il,syncing:!1,loaded:!0});return}const l=t();!n?.force&&l.loaded&&l.syncing;const{data:u,error:d}=await De.from("user_settings").select("payload").eq("user_id",o.id).maybeSingle();if(!u&&!d&&await De.from("user_settings").upsert({user_id:o.id,payload:{}}),d&&d.code!=="PGRST116"){console.error("loadFromServer(settings) error:",d),e({syncing:!1,loaded:!0});return}if(u?.payload){const h=jZ(u.payload),b=u.payload?.sidebarCollapseInitDone===!0;b||(h.sidebarCardsCollapsed=Il.sidebarCardsCollapsed,h.sidebarCardCollapsedMap={},h.sidebarCollapseInitDone=!0),e({settings:h,syncing:!1,loaded:!0}),(AZ(u.payload)||!b)&&await De.from("user_settings").upsert({user_id:o.id,payload:h,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(i){console.error("loadFromServer(settings) exception:",i),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),r2();const{data:r,error:i}=await De.auth.getUser(),a=r?.user??null;if(i||!a){e({syncing:!1,loaded:!0,settings:Il});return}const o=Zd(t().settings),{error:l}=await De.from("user_settings").upsert({user_id:a.id,payload:o,updated_at:new Date().toISOString()});l&&console.error("saveToServer(settings) error:",l),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1,loaded:!0})}}}),{name:n4,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function i2(e){const t=Xr.indexOf(e);if(t!==-1)return Xr[t];const n=so..indexOf(e);return n!==-1?Xr[n]:null}function r4(e){const t=vi.indexOf(e);if(t!==-1)return vi[t];const n=so..indexOf(e);return n!==-1?vi[n]:null}function QM(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Ki(e,t,n){if(t==="stem"){const r=i2(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=Xr.indexOf(r),a=i>=0?HK[i]:void 0;return QM(a,n)}else{const r=r4(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=vi.indexOf(r),a=i>=0?GK[i]:void 0;return QM(a,n)}}function _a(e,t){const n=i2(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=i2(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return KK[n][r]}if(t.branch){const r=r4(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return WK[n][r]}throw new Error("getSipSin: stem or branch required")}const Hv={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},Gv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function i4({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?Gv:Hv)[e]??[],l=n==="main"?[o[2]]:o,u=i==="white",d=u?"text-white":"text-neutral-800 dark:text-white",h=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:l.map((b,y)=>b==="(-)"||a?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap`,children:"(-) ()"},y):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap 
            ${n==="main"||y===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[b," (",_a(t,{stem:b}),")"]},y))})}const Ui=Yo(e=>({manualHour:null,usePrevDay:!1,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null}),setUsePrevDay:t=>e({usePrevDay:t}),togglePrevDay:()=>e(t=>({usePrevDay:!t.usePrevDay}))})),a4=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),o4=Object.fromEntries(Object.entries(tr).map(([e,t])=>[t,e])),TZ=new Set(Object.keys(Kn)),NZ=new Set(Object.keys(tr)),OZ=new Set(["","","","","","","","","",""]),CZ=new Set(["","","","","","","","","","","",""]);function xi(e,t,n){return n===""?t==="stem"?Kn[e]??e:tr[e]??e:t==="stem"?a4[e]??e:o4[e]??e}function eD(e){const t=a4[e]??e;return TZ.has(t)?t:""}function MZ(e){const t=o4[e]??e;return NZ.has(t)?t:""}function Yv(e){if(ef.has(e))return e;const t=Kn[e]??e;return ef.has(t)?t:""}function mj(e){if($m.has(e))return e;const t=tr[e]??e;return $m.has(t)?t:""}function to(e,t){return t==="stem"?OZ.has(e):CZ.has(e)}function Bd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:l=!1,size:u="sm",variant:d="auto",isUnknownTime:h=!1}){const{manualHour:p}=Ui(),b=h&&!p,y=t.charAt(0),k=t.charAt(1),w=xi(y,"stem",r.charType),S=xi(k,"branch",r.charType),T=eD(y),O=MZ(k),A=eD(n),C=mj(k),D=Yv(n),P=r.showSipSin?_a(A,{stem:T}):null,I=!o&&r.showSipSin?_a(A,{branch:O}):null,U=r.thinEum&&to(y,"stem")?"font-thin":"font-bold",W=r.thinEum&&to(k,"branch")?"font-thin":"font-bold",K={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},H=!l&&!!r.hiddenStem,B=r.hiddenStem==="regular"?"main":"all",q=r.hiddenStemMode==="hgc"?"hgc":"classic",X=d==="white",Z=X?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",G=X?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",J=X?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",Q=X?"text-neutral-500":"text-neutral-400",oe=X?"text-neutral-500":"text-neutral-400",{settings:te}=wn(),z=b?`bg-white ${J}`:`${Ki(T,"stem",te)} ${J}`,V=b?`bg-white ${J}`:`${Ki(O,"branch",te)} ${J}`,re=b?"text-black":te.difficultyMode?te.theme==="light"?"text-neutral-900":"text-black":"text-white",ie=b?"text-black":te.difficultyMode?te.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${Z}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${G} text-nowrap`,children:e}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[P&&g.jsx("div",{className:`text-[10px] desk:text-xs ${Q} text-nowrap`,children:h&&!p?"-":P}),g.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${z}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${re} ${U}`,children:b?"-":w})}),g.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${V}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${ie} ${W}`,children:b?"-":S})}),H&&g.jsx(i4,{branch:C,dayStem:D,mode:B,mapping:q,isUnknownTime:h&&!p&&(e===""||e==="")}),I&&g.jsx("div",{className:`text-[10px] desk:text-xs ${oe}`,children:h&&!p?"-":I}),r.showSibiUnseong&&g.jsx("div",{className:`text-[10px] desk:text-xs ${oe} text-nowrap`,children:h&&!p?"-":i||""}),r.showSibiSinsal&&g.jsx("div",{className:`text-[10px] desk:text-xs ${oe} text-nowrap`,children:h&&!p?"-":a||""})]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PZ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),tD=e=>{const t=PZ(e);return t.charAt(0).toUpperCase()+t.slice(1)},s4=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),RZ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>_.createElement("svg",{ref:u,...LZ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:s4("lucide",i),...!a&&!RZ(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>_.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=(e,t)=>{const n=_.forwardRef(({className:r,...i},a)=>_.createElement(IZ,{ref:a,iconNode:t,className:s4(`lucide-${DZ(tD(e))}`,`lucide-${e}`,r),...i}));return n.displayName=tD(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],BZ=Mr("chevron-down",$Z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],UZ=Mr("chevron-up",zZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],l4=Mr("circle-question-mark",FZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],GZ=Mr("circle-x",HZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],qZ=Mr("heart-handshake",YZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],WZ=Mr("house",KZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ZZ=Mr("info",VZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],c4=Mr("log-in",XZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QZ=Mr("log-out",JZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],tX=Mr("menu",eX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rX=Mr("plus",nX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aX=Mr("settings",iX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],sX=Mr("sparkles",oX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],cX=Mr("square-user",lX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],u4=Mr("star",uX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fX=Mr("user-plus",dX);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],my=Mr("x",hX);function mX(){const[e,t]=_.useState(!1);return g.jsx("div",{className:"z-[60] pointer-events-none mt-2",children:g.jsx("div",{className:"max-w-[700px] w-full mx-auto pb-2 pointer-events-auto",children:g.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/90 backdrop-blur shadow-sm dark:border-neutral-800 dark:bg-neutral-950/80",children:[g.jsxs("button",{type:"button",onClick:()=>t(n=>!n),className:"w-full flex flex-col desk:flex-row items-center justify-between gap-2 px-3 py-2 cursor-pointer",children:[g.jsx("div",{className:"flex items-center gap-2 min-w-0",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(ZZ,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300 hidden desk:block"}),g.jsx("span",{className:"text-xs text-neutral-700 dark:text-neutral-200",children:"         ."})]})}),g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:e?"":""})]}),e&&g.jsx("div",{className:"px-3 pb-3",children:g.jsxs("div",{className:"text-[12px] leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{className:"mt-1 text-neutral-500 dark:text-neutral-400",children:"  /     ."}),g.jsx("p",{children:g.jsx("a",{href:"https://yavares.tistory.com/1013",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"     !"})})})]})})]})})})}const pX=new Set(so.);function gX(e){return ef.has(e)?e:pX.has(e)?Kn[e]:""}function bX(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function yX({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,l=t.showSipSin&&!n;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,d)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},d))}),l&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function vX(){const e=wn(S=>S.settings),[t,n]=_.useState(new Date),[r,i]=_.useState(!0),[a,o]=_.useState("/"),[l,u]=_.useState(!1),[d,h]=_.useState(null);_.useEffect(()=>{if(!r)return;const S=setInterval(()=>n(new Date),1e3);return()=>clearInterval(S)},[r]),_.useEffect(()=>{let S=!0;const T=async()=>{const{data:C}=await De.auth.getSession(),D=C.session?.user?.id;if(!D){S&&h(null);return}const{data:P,error:I}=await De.from("user_activity").select("total_active_ms").eq("user_id",D).maybeSingle();if(I){S&&h(null);return}const U=P?.total_active_ms;S&&h(typeof U=="number"?U:null)};T();const O=window.setInterval(()=>void T(),6e4),A=()=>{document.visibilityState==="visible"&&T()};return document.addEventListener("visibilitychange",A),()=>{S=!1,window.clearInterval(O),document.removeEventListener("visibilitychange",A)}},[]);const p=ct(t),b=kt(t),y=ht(t,a),k=eo(t,"/"),w=gX(y.charAt(0));return g.jsx("div",{className:"flex flex-col justify-center items-center pt-20 desk:pt-16 desk:mt-12 w-full h-auto desk:h-[calc(100dvh_-_212px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("div",{className:"mb-3 text-xs desk:text-sm text-neutral-600 dark:text-neutral-300",children:["  :"," ",g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:bX(d)})]}),g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",_X(t)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:a,onChange:S=>o(S.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"",children:" ( 23)"}),g.jsx("option",{value:"/",children:"/ ()"}),g.jsx("option",{value:"",children:" ( 3)"})]}),g.jsx("button",{onClick:()=>u(S=>!S),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                          ${l?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[l?g.jsx(yX,{label:"",settings:e,hideBranchSipSin:!0}):g.jsx(Bd,{label:"",gz:k,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Bd,{label:"",gz:y,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Bd,{label:"",gz:b,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Bd,{label:"",gz:p,dayStem:w,settings:e,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"datetime-local",value:xX(t),disabled:r,onChange:S=>{const T=wX(S.target.value);T&&n(T)},className:`h-30 rounded px-3 py-1 text-sm transition-colors
                          bg-white dark:bg-neutral-900
                          border border-neutral-300 dark:border-neutral-700
                          text-neutral-900 dark:text-neutral-100
                          focus:outline-none focus:ring-2 focus:ring-amber-500/40
                          ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),g.jsx(mX,{})]})})}function xX(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function wX(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,l]=n.split(":").map(Number),u=new Date(r,i-1,a,o,l);return Number.isNaN(u.getTime())?null:u}function _X(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function SX({placeholderText:e,value:t}){const[n,r]=_.useState(e),[i,a]=_.useState(!1),[o,l]=_.useState(t??""),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),p=_.useRef(null);return _.useEffect(()=>{t!==void 0&&l(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:l,nameRef:u,latRef:d,lonRef:h,triggerBtnRef:p}}var Sm={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var kX=Sm.exports,nD;function EX(){return nD||(nD=1,(function(e,t){(function(n,r){r(t)})(kX,(function(n){var r="1.9.4";function i(f){var v,E,M,R;for(E=1,M=arguments.length;E<M;E++){R=arguments[E];for(v in R)f[v]=R[v]}return f}var a=Object.create||(function(){function f(){}return function(v){return f.prototype=v,new f}})();function o(f,v){var E=Array.prototype.slice;if(f.bind)return f.bind.apply(f,E.call(arguments,1));var M=E.call(arguments,2);return function(){return f.apply(v,M.length?M.concat(E.call(arguments)):arguments)}}var l=0;function u(f){return"_leaflet_id"in f||(f._leaflet_id=++l),f._leaflet_id}function d(f,v,E){var M,R,F,ee;return ee=function(){M=!1,R&&(F.apply(E,R),R=!1)},F=function(){M?R=arguments:(f.apply(E,arguments),setTimeout(ee,v),M=!0)},F}function h(f,v,E){var M=v[1],R=v[0],F=M-R;return f===M&&E?f:((f-R)%F+F)%F+R}function p(){return!1}function b(f,v){if(v===!1)return f;var E=Math.pow(10,v===void 0?6:v);return Math.round(f*E)/E}function y(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function k(f){return y(f).split(/\s+/)}function w(f,v){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?a(f.options):{});for(var E in v)f.options[E]=v[E];return f.options}function S(f,v,E){var M=[];for(var R in f)M.push(encodeURIComponent(E?R.toUpperCase():R)+"="+encodeURIComponent(f[R]));return(!v||v.indexOf("?")===-1?"?":"&")+M.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function O(f,v){return f.replace(T,function(E,M){var R=v[M];if(R===void 0)throw new Error("No value provided for variable "+E);return typeof R=="function"&&(R=R(v)),R})}var A=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function C(f,v){for(var E=0;E<f.length;E++)if(f[E]===v)return E;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var I=0;function U(f){var v=+new Date,E=Math.max(0,16-(v-I));return I=v+E,window.setTimeout(f,E)}var W=window.requestAnimationFrame||P("RequestAnimationFrame")||U,K=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function H(f,v,E){if(E&&W===U)f.call(v);else return W.call(window,o(f,v))}function B(f){f&&K.call(window,f)}var q={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:u,throttle:d,wrapNum:h,falseFn:p,formatNum:b,trim:y,splitWords:k,setOptions:w,getParamString:S,template:O,isArray:A,indexOf:C,emptyImageUrl:D,requestFn:W,cancelFn:K,requestAnimFrame:H,cancelAnimFrame:B};function X(){}X.extend=function(f){var v=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=v.__super__=this.prototype,M=a(E);M.constructor=v,v.prototype=M;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(v[R]=this[R]);return f.statics&&i(v,f.statics),f.includes&&(Z(f.includes),i.apply(null,[M].concat(f.includes))),i(M,f),delete M.statics,delete M.includes,M.options&&(M.options=E.options?a(E.options):{},i(M.options,f.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,ee=M._initHooks.length;F<ee;F++)M._initHooks[F].call(this)}},v},X.include=function(f){var v=this.prototype.options;return i(this.prototype,f),f.options&&(this.prototype.options=v,this.mergeOptions(f.options)),this},X.mergeOptions=function(f){return i(this.prototype.options,f),this},X.addInitHook=function(f){var v=Array.prototype.slice.call(arguments,1),E=typeof f=="function"?f:function(){this[f].apply(this,v)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function Z(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=A(f)?f:[f];for(var v=0;v<f.length;v++)f[v]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(f,v,E){if(typeof f=="object")for(var M in f)this._on(M,f[M],v);else{f=k(f);for(var R=0,F=f.length;R<F;R++)this._on(f[R],v,E)}return this},off:function(f,v,E){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var M in f)this._off(M,f[M],v);else{f=k(f);for(var R=arguments.length===1,F=0,ee=f.length;F<ee;F++)R?this._off(f[F]):this._off(f[F],v,E)}return this},_on:function(f,v,E,M){if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}if(this._listens(f,v,E)===!1){E===this&&(E=void 0);var R={fn:v,ctx:E};M&&(R.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(R)}},_off:function(f,v,E){var M,R,F;if(this._events&&(M=this._events[f],!!M)){if(arguments.length===1){if(this._firingCount)for(R=0,F=M.length;R<F;R++)M[R].fn=p;delete this._events[f];return}if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}var ee=this._listens(f,v,E);if(ee!==!1){var ce=M[ee];this._firingCount&&(ce.fn=p,this._events[f]=M=M.slice()),M.splice(ee,1)}}},fire:function(f,v,E){if(!this.listens(f,E))return this;var M=i({},v,{type:f,target:this,sourceTarget:v&&v.sourceTarget||this});if(this._events){var R=this._events[f];if(R){this._firingCount=this._firingCount+1||1;for(var F=0,ee=R.length;F<ee;F++){var ce=R[F],be=ce.fn;ce.once&&this.off(f,be,ce.ctx),be.call(ce.ctx||this,M)}this._firingCount--}}return E&&this._propagateEvent(M),this},listens:function(f,v,E,M){typeof f!="string"&&console.warn('"string" type argument expected');var R=v;typeof v!="function"&&(M=!!v,R=void 0,E=void 0);var F=this._events&&this._events[f];if(F&&F.length&&this._listens(f,R,E)!==!1)return!0;if(M){for(var ee in this._eventParents)if(this._eventParents[ee].listens(f,v,E,M))return!0}return!1},_listens:function(f,v,E){if(!this._events)return!1;var M=this._events[f]||[];if(!v)return!!M.length;E===this&&(E=void 0);for(var R=0,F=M.length;R<F;R++)if(M[R].fn===v&&M[R].ctx===E)return R;return!1},once:function(f,v,E){if(typeof f=="object")for(var M in f)this._on(M,f[M],v,!0);else{f=k(f);for(var R=0,F=f.length;R<F;R++)this._on(f[R],v,E,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[u(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[u(f)],this},_propagateEvent:function(f){for(var v in this._eventParents)this._eventParents[v].fire(f.type,i({layer:f.target,propagatedFrom:f.target},f),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var J=X.extend(G);function Q(f,v,E){this.x=E?Math.round(f):f,this.y=E?Math.round(v):v}var oe=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};Q.prototype={clone:function(){return new Q(this.x,this.y)},add:function(f){return this.clone()._add(te(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(te(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new Q(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new Q(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oe(this.x),this.y=oe(this.y),this},distanceTo:function(f){f=te(f);var v=f.x-this.x,E=f.y-this.y;return Math.sqrt(v*v+E*E)},equals:function(f){return f=te(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=te(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function te(f,v,E){return f instanceof Q?f:A(f)?new Q(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new Q(f.x,f.y):new Q(f,v,E)}function z(f,v){if(f)for(var E=v?[f,v]:f,M=0,R=E.length;M<R;M++)this.extend(E[M])}z.prototype={extend:function(f){var v,E;if(!f)return this;if(f instanceof Q||typeof f[0]=="number"||"x"in f)v=E=te(f);else if(f=V(f),v=f.min,E=f.max,!v||!E)return this;return!this.min&&!this.max?(this.min=v.clone(),this.max=E.clone()):(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(f){return te((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return te(this.min.x,this.max.y)},getTopRight:function(){return te(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var v,E;return typeof f[0]=="number"||f instanceof Q?f=te(f):f=V(f),f instanceof z?(v=f.min,E=f.max):v=E=f,v.x>=this.min.x&&E.x<=this.max.x&&v.y>=this.min.y&&E.y<=this.max.y},intersects:function(f){f=V(f);var v=this.min,E=this.max,M=f.min,R=f.max,F=R.x>=v.x&&M.x<=E.x,ee=R.y>=v.y&&M.y<=E.y;return F&&ee},overlaps:function(f){f=V(f);var v=this.min,E=this.max,M=f.min,R=f.max,F=R.x>v.x&&M.x<E.x,ee=R.y>v.y&&M.y<E.y;return F&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var v=this.min,E=this.max,M=Math.abs(v.x-E.x)*f,R=Math.abs(v.y-E.y)*f;return V(te(v.x-M,v.y-R),te(E.x+M,E.y+R))},equals:function(f){return f?(f=V(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function V(f,v){return!f||f instanceof z?f:new z(f,v)}function re(f,v){if(f)for(var E=v?[f,v]:f,M=0,R=E.length;M<R;M++)this.extend(E[M])}re.prototype={extend:function(f){var v=this._southWest,E=this._northEast,M,R;if(f instanceof ue)M=f,R=f;else if(f instanceof re){if(M=f._southWest,R=f._northEast,!M||!R)return this}else return f?this.extend(de(f)||ie(f)):this;return!v&&!E?(this._southWest=new ue(M.lat,M.lng),this._northEast=new ue(R.lat,R.lng)):(v.lat=Math.min(M.lat,v.lat),v.lng=Math.min(M.lng,v.lng),E.lat=Math.max(R.lat,E.lat),E.lng=Math.max(R.lng,E.lng)),this},pad:function(f){var v=this._southWest,E=this._northEast,M=Math.abs(v.lat-E.lat)*f,R=Math.abs(v.lng-E.lng)*f;return new re(new ue(v.lat-M,v.lng-R),new ue(E.lat+M,E.lng+R))},getCenter:function(){return new ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof ue||"lat"in f?f=de(f):f=ie(f);var v=this._southWest,E=this._northEast,M,R;return f instanceof re?(M=f.getSouthWest(),R=f.getNorthEast()):M=R=f,M.lat>=v.lat&&R.lat<=E.lat&&M.lng>=v.lng&&R.lng<=E.lng},intersects:function(f){f=ie(f);var v=this._southWest,E=this._northEast,M=f.getSouthWest(),R=f.getNorthEast(),F=R.lat>=v.lat&&M.lat<=E.lat,ee=R.lng>=v.lng&&M.lng<=E.lng;return F&&ee},overlaps:function(f){f=ie(f);var v=this._southWest,E=this._northEast,M=f.getSouthWest(),R=f.getNorthEast(),F=R.lat>v.lat&&M.lat<E.lat,ee=R.lng>v.lng&&M.lng<E.lng;return F&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,v){return f?(f=ie(f),this._southWest.equals(f.getSouthWest(),v)&&this._northEast.equals(f.getNorthEast(),v)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ie(f,v){return f instanceof re?f:new re(f,v)}function ue(f,v,E){if(isNaN(f)||isNaN(v))throw new Error("Invalid LatLng object: ("+f+", "+v+")");this.lat=+f,this.lng=+v,E!==void 0&&(this.alt=+E)}ue.prototype={equals:function(f,v){if(!f)return!1;f=de(f);var E=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return E<=(v===void 0?1e-9:v)},toString:function(f){return"LatLng("+b(this.lat,f)+", "+b(this.lng,f)+")"},distanceTo:function(f){return Ne.distance(this,de(f))},wrap:function(){return Ne.wrapLatLng(this)},toBounds:function(f){var v=180*f/40075017,E=v/Math.cos(Math.PI/180*this.lat);return ie([this.lat-v,this.lng-E],[this.lat+v,this.lng+E])},clone:function(){return new ue(this.lat,this.lng,this.alt)}};function de(f,v,E){return f instanceof ue?f:A(f)&&typeof f[0]!="object"?f.length===3?new ue(f[0],f[1],f[2]):f.length===2?new ue(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new ue(f.lat,"lng"in f?f.lng:f.lon,f.alt):v===void 0?null:new ue(f,v,E)}var pe={latLngToPoint:function(f,v){var E=this.projection.project(f),M=this.scale(v);return this.transformation._transform(E,M)},pointToLatLng:function(f,v){var E=this.scale(v),M=this.transformation.untransform(f,E);return this.projection.unproject(M)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var v=this.projection.bounds,E=this.scale(f),M=this.transformation.transform(v.min,E),R=this.transformation.transform(v.max,E);return new z(M,R)},infinite:!1,wrapLatLng:function(f){var v=this.wrapLng?h(f.lng,this.wrapLng,!0):f.lng,E=this.wrapLat?h(f.lat,this.wrapLat,!0):f.lat,M=f.alt;return new ue(E,v,M)},wrapLatLngBounds:function(f){var v=f.getCenter(),E=this.wrapLatLng(v),M=v.lat-E.lat,R=v.lng-E.lng;if(M===0&&R===0)return f;var F=f.getSouthWest(),ee=f.getNorthEast(),ce=new ue(F.lat-M,F.lng-R),be=new ue(ee.lat-M,ee.lng-R);return new re(ce,be)}},Ne=i({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(f,v){var E=Math.PI/180,M=f.lat*E,R=v.lat*E,F=Math.sin((v.lat-f.lat)*E/2),ee=Math.sin((v.lng-f.lng)*E/2),ce=F*F+Math.cos(M)*Math.cos(R)*ee*ee,be=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*be}}),se=6378137,je={R:se,MAX_LATITUDE:85.0511287798,project:function(f){var v=Math.PI/180,E=this.MAX_LATITUDE,M=Math.max(Math.min(E,f.lat),-E),R=Math.sin(M*v);return new Q(this.R*f.lng*v,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(f){var v=180/Math.PI;return new ue((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*v,f.x*v/this.R)},bounds:(function(){var f=se*Math.PI;return new z([-f,-f],[f,f])})()};function ke(f,v,E,M){if(A(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=v,this._c=E,this._d=M}ke.prototype={transform:function(f,v){return this._transform(f.clone(),v)},_transform:function(f,v){return v=v||1,f.x=v*(this._a*f.x+this._b),f.y=v*(this._c*f.y+this._d),f},untransform:function(f,v){return v=v||1,new Q((f.x/v-this._b)/this._a,(f.y/v-this._d)/this._c)}};function fe(f,v,E,M){return new ke(f,v,E,M)}var Ue=i({},Ne,{code:"EPSG:3857",projection:je,transformation:(function(){var f=.5/(Math.PI*je.R);return fe(f,.5,-f,.5)})()}),Fe=i({},Ue,{code:"EPSG:900913"});function tt(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function Oe(f,v){var E="",M,R,F,ee,ce,be;for(M=0,F=f.length;M<F;M++){for(ce=f[M],R=0,ee=ce.length;R<ee;R++)be=ce[R],E+=(R?"L":"M")+be.x+" "+be.y;E+=v?Ve.svg?"z":"x":""}return E||"M0 0"}var $e=document.documentElement.style,He="ActiveXObject"in window,Be=He&&!document.addEventListener,jt="msLaunchUri"in navigator&&!("documentMode"in document),At=ni("webkit"),he=ni("android"),Ce=ni("android 2")||ni("android 3"),Ye=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Se=he&&ni("Google")&&Ye<537&&!("AudioNode"in window),Pe=!!window.opera,ze=!jt&&ni("chrome"),at=ni("gecko")&&!At&&!Pe&&!He,St=!ze&&ni("safari"),Kt=ni("phantom"),vr="OTransition"in $e,Pr=navigator.platform.indexOf("Win")===0,Vn=He&&"transition"in $e,gn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ce,Rt="MozPerspective"in $e,Sn=!window.L_DISABLE_3D&&(Vn||gn||Rt)&&!vr&&!Kt,qo=typeof orientation<"u"||ni("mobile"),Uf=qo&&At,Me=qo&&gn,it=!window.PointerEvent&&window.MSPointerEvent,Lt=!!(window.PointerEvent||it),xr="ontouchstart"in window||!!window.TouchEvent,ti=!window.L_NO_TOUCH&&(xr||Lt),Pu=qo&&Pe,oc=qo&&at,Xx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,t0=(function(){var f=!1;try{var v=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",p,v),window.removeEventListener("testPassiveEventSupport",p,v)}catch{}return f})(),Ff=(function(){return!!document.createElement("canvas").getContext})(),Ko=!!(document.createElementNS&&tt("svg").createSVGRect),Jx=!!Ko&&(function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),n0=!Ko&&(function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var v=f.firstChild;return v.style.behavior="url(#default#VML)",v&&typeof v.adj=="object"}catch{return!1}})(),r0=navigator.platform.indexOf("Mac")===0,i0=navigator.platform.indexOf("Linux")===0;function ni(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var Ve={ie:He,ielt9:Be,edge:jt,webkit:At,android:he,android23:Ce,androidStock:Se,opera:Pe,chrome:ze,gecko:at,safari:St,phantom:Kt,opera12:vr,win:Pr,ie3d:Vn,webkit3d:gn,gecko3d:Rt,any3d:Sn,mobile:qo,mobileWebkit:Uf,mobileWebkit3d:Me,msPointer:it,pointer:Lt,touch:ti,touchNative:xr,mobileOpera:Pu,mobileGecko:oc,retina:Xx,passiveEvents:t0,canvas:Ff,svg:Ko,vml:n0,inlineSvg:Jx,mac:r0,linux:i0},Hf=Ve.msPointer?"MSPointerDown":"pointerdown",Gf=Ve.msPointer?"MSPointerMove":"pointermove",Oa=Ve.msPointer?"MSPointerUp":"pointerup",In=Ve.msPointer?"MSPointerCancel":"pointercancel",or={touchstart:Hf,touchmove:Gf,touchend:Oa,touchcancel:In},Wo={touchstart:Vs,touchmove:co,touchend:co,touchcancel:co},lo={},a0=!1;function Qx(f,v,E){return v==="touchstart"&&Ws(),Wo[v]?(E=Wo[v].bind(this,E),f.addEventListener(or[v],E,!1),E):(console.warn("wrong event specified:",v),p)}function o0(f,v,E){if(!or[v]){console.warn("wrong event specified:",v);return}f.removeEventListener(or[v],E,!1)}function sc(f){lo[f.pointerId]=f}function Yf(f){lo[f.pointerId]&&(lo[f.pointerId]=f)}function Vo(f){delete lo[f.pointerId]}function Ws(){a0||(document.addEventListener(Hf,sc,!0),document.addEventListener(Gf,Yf,!0),document.addEventListener(Oa,Vo,!0),document.addEventListener(In,Vo,!0),a0=!0)}function co(f,v){if(v.pointerType!==(v.MSPOINTER_TYPE_MOUSE||"mouse")){v.touches=[];for(var E in lo)v.touches.push(lo[E]);v.changedTouches=[v],f(v)}}function Vs(f,v){v.MSPOINTER_TYPE_TOUCH&&v.pointerType===v.MSPOINTER_TYPE_TOUCH&&kn(v),co(f,v)}function $n(f){var v={},E,M;for(M in f)E=f[M],v[M]=E&&E.bind?E.bind(f):E;return f=v,v.type="dblclick",v.detail=2,v.isTrusted=!1,v._simulated=!0,v}var s0=200;function l0(f,v){f.addEventListener("dblclick",v);var E=0,M;function R(F){if(F.detail!==1){M=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var ee=mc(F);if(!(ee.some(function(be){return be instanceof HTMLLabelElement&&be.attributes.for})&&!ee.some(function(be){return be instanceof HTMLInputElement||be instanceof HTMLSelectElement}))){var ce=Date.now();ce-E<=s0?(M++,M===2&&v($n(F))):M=1,E=ce}}}return f.addEventListener("click",R),{dblclick:v,simDblclick:R}}function Zo(f,v){f.removeEventListener("dblclick",v.dblclick),f.removeEventListener("click",v.simDblclick)}var uo=uc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),lc=uc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),qf=lc==="webkitTransition"||lc==="OTransition"?lc+"End":"transitionend";function Kf(f){return typeof f=="string"?document.getElementById(f):f}function cc(f,v){var E=f.style[v]||f.currentStyle&&f.currentStyle[v];if((!E||E==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(f,null);E=M?M[v]:null}return E==="auto"?null:E}function gt(f,v,E){var M=document.createElement(f);return M.className=v||"",E&&E.appendChild(M),M}function Ht(f){var v=f.parentNode;v&&v.removeChild(f)}function ri(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function Zn(f){var v=f.parentNode;v&&v.lastChild!==f&&v.appendChild(f)}function Xo(f){var v=f.parentNode;v&&v.firstChild!==f&&v.insertBefore(f,v.firstChild)}function Wf(f,v){if(f.classList!==void 0)return f.classList.contains(v);var E=Ru(f);return E.length>0&&new RegExp("(^|\\s)"+v+"(\\s|$)").test(E)}function ut(f,v){if(f.classList!==void 0)for(var E=k(v),M=0,R=E.length;M<R;M++)f.classList.add(E[M]);else if(!Wf(f,v)){var F=Ru(f);Zs(f,(F?F+" ":"")+v)}}function sn(f,v){f.classList!==void 0?f.classList.remove(v):Zs(f,y((" "+Ru(f)+" ").replace(" "+v+" "," ")))}function Zs(f,v){f.className.baseVal===void 0?f.className=v:f.className.baseVal=v}function Ru(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function tn(f,v){"opacity"in f.style?f.style.opacity=v:"filter"in f.style&&Vf(f,v)}function Vf(f,v){var E=!1,M="DXImageTransform.Microsoft.Alpha";try{E=f.filters.item(M)}catch{if(v===1)return}v=Math.round(v*100),E?(E.Enabled=v!==100,E.Opacity=v):f.style.filter+=" progid:"+M+"(opacity="+v+")"}function uc(f){for(var v=document.documentElement.style,E=0;E<f.length;E++)if(f[E]in v)return f[E];return!1}function Ca(f,v,E){var M=v||new Q(0,0);f.style[uo]=(Ve.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(E?" scale("+E+")":"")}function Wt(f,v){f._leaflet_pos=v,Ve.any3d?Ca(f,v):(f.style.left=v.x+"px",f.style.top=v.y+"px")}function fo(f){return f._leaflet_pos||new Q(0,0)}var Xs,Xi,Zf;if("onselectstart"in document)Xs=function(){lt(window,"selectstart",kn)},Xi=function(){It(window,"selectstart",kn)};else{var Js=uc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xs=function(){if(Js){var f=document.documentElement.style;Zf=f[Js],f[Js]="none"}},Xi=function(){Js&&(document.documentElement.style[Js]=Zf,Zf=void 0)}}function Lu(){lt(window,"dragstart",kn)}function dc(){It(window,"dragstart",kn)}var Iu,Xf;function Qs(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(ii(),Iu=f,Xf=f.style.outlineStyle,f.style.outlineStyle="none",lt(window,"keydown",ii))}function ii(){Iu&&(Iu.style.outlineStyle=Xf,Iu=void 0,Xf=void 0,It(window,"keydown",ii))}function $u(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function fc(f){var v=f.getBoundingClientRect();return{x:v.width/f.offsetWidth||1,y:v.height/f.offsetHeight||1,boundingClientRect:v}}var el={__proto__:null,TRANSFORM:uo,TRANSITION:lc,TRANSITION_END:qf,get:Kf,getStyle:cc,create:gt,remove:Ht,empty:ri,toFront:Zn,toBack:Xo,hasClass:Wf,addClass:ut,removeClass:sn,setClass:Zs,getClass:Ru,setOpacity:tn,testProp:uc,setTransform:Ca,setPosition:Wt,getPosition:fo,get disableTextSelection(){return Xs},get enableTextSelection(){return Xi},disableImageDrag:Lu,enableImageDrag:dc,preventOutline:Qs,restoreOutline:ii,getSizedParentNode:$u,getScale:fc};function lt(f,v,E,M){if(v&&typeof v=="object")for(var R in v)ji(f,R,v[R],E);else{v=k(v);for(var F=0,ee=v.length;F<ee;F++)ji(f,v[F],E,M)}return this}var Ei="_leaflet_events";function It(f,v,E,M){if(arguments.length===1)Jf(f),delete f[Ei];else if(v&&typeof v=="object")for(var R in v)hc(f,R,v[R],E);else if(v=k(v),arguments.length===2)Jf(f,function(ce){return C(v,ce)!==-1});else for(var F=0,ee=v.length;F<ee;F++)hc(f,v[F],E,M);return this}function Jf(f,v){for(var E in f[Ei]){var M=E.split(/\d/)[0];(!v||v(M))&&hc(f,M,null,null,E)}}var Jo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ji(f,v,E,M){var R=v+u(E)+(M?"_"+u(M):"");if(f[Ei]&&f[Ei][R])return this;var F=function(ce){return E.call(M||f,ce||window.event)},ee=F;!Ve.touchNative&&Ve.pointer&&v.indexOf("touch")===0?F=Qx(f,v,F):Ve.touch&&v==="dblclick"?F=l0(f,F):"addEventListener"in f?v==="touchstart"||v==="touchmove"||v==="wheel"||v==="mousewheel"?f.addEventListener(Jo[v]||v,F,Ve.passiveEvents?{passive:!1}:!1):v==="mouseenter"||v==="mouseleave"?(F=function(ce){ce=ce||window.event,Ma(f,ce)&&ee(ce)},f.addEventListener(Jo[v],F,!1)):f.addEventListener(v,ee,!1):f.attachEvent("on"+v,F),f[Ei]=f[Ei]||{},f[Ei][R]=F}function hc(f,v,E,M,R){R=R||v+u(E)+(M?"_"+u(M):"");var F=f[Ei]&&f[Ei][R];if(!F)return this;!Ve.touchNative&&Ve.pointer&&v.indexOf("touch")===0?o0(f,v,F):Ve.touch&&v==="dblclick"?Zo(f,F):"removeEventListener"in f?f.removeEventListener(Jo[v]||v,F,!1):f.detachEvent("on"+v,F),f[Ei][R]=null}function Ai(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function Ji(f){return ji(f,"wheel",Ai),this}function Qo(f){return lt(f,"mousedown touchstart dblclick contextmenu",Ai),f._leaflet_disable_click=!0,this}function kn(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function ho(f){return kn(f),Ai(f),this}function mc(f){if(f.composedPath)return f.composedPath();for(var v=[],E=f.target;E;)v.push(E),E=E.parentNode;return v}function pc(f,v){if(!v)return new Q(f.clientX,f.clientY);var E=fc(v),M=E.boundingClientRect;return new Q((f.clientX-M.left)/E.x-v.clientLeft,(f.clientY-M.top)/E.y-v.clientTop)}var c0=Ve.linux&&Ve.chrome?window.devicePixelRatio:Ve.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wr(f){return Ve.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/c0:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function Ma(f,v){var E=v.relatedTarget;if(!E)return!0;try{for(;E&&E!==f;)E=E.parentNode}catch{return!1}return E!==f}var Bu={__proto__:null,on:lt,off:It,stopPropagation:Ai,disableScrollPropagation:Ji,disableClickPropagation:Qo,preventDefault:kn,stop:ho,getPropagationPath:mc,getMousePosition:pc,getWheelDelta:wr,isExternalTarget:Ma,addListener:lt,removeListener:It},tl=J.extend({run:function(f,v,E,M){this.stop(),this._el=f,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=fo(f),this._offset=v.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(f){var v=+new Date-this._startTime,E=this._duration*1e3;v<E?this._runFrame(this._easeOut(v/E),f):(this._runFrame(1),this._complete())},_runFrame:function(f,v){var E=this._startPos.add(this._offset.multiplyBy(f));v&&E._round(),Wt(this._el,E),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),xt=J.extend({options:{crs:Ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,v){v=w(this,v),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),v.maxBounds&&this.setMaxBounds(v.maxBounds),v.zoom!==void 0&&(this._zoom=this._limitZoom(v.zoom)),v.center&&v.zoom!==void 0&&this.setView(de(v.center),v.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=lc&&Ve.any3d&&!Ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),lt(this._proxy,qf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,v,E){if(v=v===void 0?this._zoom:this._limitZoom(v),f=this._limitCenter(de(f),v,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var M=this._zoom!==v?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,v,E.zoom):this._tryAnimatedPan(f,E.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(f,v,E.pan&&E.pan.noMoveStart),this},setZoom:function(f,v){return this._loaded?this.setView(this.getCenter(),f,{zoom:v}):(this._zoom=f,this)},zoomIn:function(f,v){return f=f||(Ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,v)},zoomOut:function(f,v){return f=f||(Ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,v)},setZoomAround:function(f,v,E){var M=this.getZoomScale(v),R=this.getSize().divideBy(2),F=f instanceof Q?f:this.latLngToContainerPoint(f),ee=F.subtract(R).multiplyBy(1-1/M),ce=this.containerPointToLatLng(R.add(ee));return this.setView(ce,v,{zoom:E})},_getBoundsCenterZoom:function(f,v){v=v||{},f=f.getBounds?f.getBounds():ie(f);var E=te(v.paddingTopLeft||v.padding||[0,0]),M=te(v.paddingBottomRight||v.padding||[0,0]),R=this.getBoundsZoom(f,!1,E.add(M));if(R=typeof v.maxZoom=="number"?Math.min(v.maxZoom,R):R,R===1/0)return{center:f.getCenter(),zoom:R};var F=M.subtract(E).divideBy(2),ee=this.project(f.getSouthWest(),R),ce=this.project(f.getNorthEast(),R),be=this.unproject(ee.add(ce).divideBy(2).add(F),R);return{center:be,zoom:R}},fitBounds:function(f,v){if(f=ie(f),!f.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(f,v);return this.setView(E.center,E.zoom,v)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,v){return this.setView(f,this._zoom,{pan:v})},panBy:function(f,v){if(f=te(f).round(),v=v||{},!f.x&&!f.y)return this.fire("moveend");if(v.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),v.noMoveStart||this.fire("movestart"),v.animate!==!1){ut(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,E,v.duration||.25,v.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,v,E){if(E=E||{},E.animate===!1||!Ve.any3d)return this.setView(f,v,E);this._stop();var M=this.project(this.getCenter()),R=this.project(f),F=this.getSize(),ee=this._zoom;f=de(f),v=v===void 0?ee:v;var ce=Math.max(F.x,F.y),be=ce*this.getZoomScale(ee,v),Ae=R.distanceTo(M)||1,Ie=1.42,Xe=Ie*Ie;function mt(bn){var La=bn?-1:1,rs=bn?be:ce,hh=be*be-ce*ce+La*Xe*Xe*Ae*Ae,Cc=2*rs*Xe*Ae,Mc=hh/Cc,_o=Math.sqrt(Mc*Mc+1)-Mc,Ia=_o<1e-9?-18:Math.log(_o);return Ia}function Xn(bn){return(Math.exp(bn)-Math.exp(-bn))/2}function En(bn){return(Math.exp(bn)+Math.exp(-bn))/2}function Gr(bn){return Xn(bn)/En(bn)}var Tt=mt(0);function Nt(bn){return ce*(En(Tt)/En(Tt+Ie*bn))}function bt(bn){return ce*(En(Tt)*Gr(Tt+Ie*bn)-Xn(Tt))/Xe}function xo(bn){return 1-Math.pow(1-bn,1.5)}var li=Date.now(),Qu=(mt(1)-Tt)/Ie,wo=E.duration?1e3*E.duration:1e3*Qu*.8;function fh(){var bn=(Date.now()-li)/wo,La=xo(bn)*Qu;bn<=1?(this._flyToFrame=H(fh,this),this._move(this.unproject(M.add(R.subtract(M).multiplyBy(bt(La)/Ae)),ee),this.getScaleZoom(ce/Nt(La),ee),{flyTo:!0})):this._move(f,v)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),fh.call(this),this},flyToBounds:function(f,v){var E=this._getBoundsCenterZoom(f,v);return this.flyTo(E.center,E.zoom,v)},setMaxBounds:function(f){return f=ie(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var v=this.options.minZoom;return this.options.minZoom=f,this._loaded&&v!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var v=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&v!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,v){this._enforcingBounds=!0;var E=this.getCenter(),M=this._limitCenter(E,this._zoom,ie(f));return E.equals(M)||this.panTo(M,v),this._enforcingBounds=!1,this},panInside:function(f,v){v=v||{};var E=te(v.paddingTopLeft||v.padding||[0,0]),M=te(v.paddingBottomRight||v.padding||[0,0]),R=this.project(this.getCenter()),F=this.project(f),ee=this.getPixelBounds(),ce=V([ee.min.add(E),ee.max.subtract(M)]),be=ce.getSize();if(!ce.contains(F)){this._enforcingBounds=!0;var Ae=F.subtract(ce.getCenter()),Ie=ce.extend(F).getSize().subtract(be);R.x+=Ae.x<0?-Ie.x:Ie.x,R.y+=Ae.y<0?-Ie.y:Ie.y,this.panTo(this.unproject(R),v),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=i({animate:!1,pan:!0},f===!0?{animate:!0}:f);var v=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),M=v.divideBy(2).round(),R=E.divideBy(2).round(),F=M.subtract(R);return!F.x&&!F.y?this:(f.animate&&f.pan?this.panBy(F):(f.pan&&this._rawPanBy(F),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:v,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=i({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var v=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(v,E,f):navigator.geolocation.getCurrentPosition(v,E,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var v=f.code,E=f.message||(v===1?"permission denied":v===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:v,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var v=f.coords.latitude,E=f.coords.longitude,M=new ue(v,E),R=M.toBounds(f.coords.accuracy*2),F=this._locateOptions;if(F.setView){var ee=this.getBoundsZoom(R);this.setView(M,F.maxZoom?Math.min(ee,F.maxZoom):ee)}var ce={latlng:M,bounds:R,timestamp:f.timestamp};for(var be in f.coords)typeof f.coords[be]=="number"&&(ce[be]=f.coords[be]);this.fire("locationfound",ce)}},addHandler:function(f,v){if(!v)return this;var E=this[f]=new v(this);return this._handlers.push(E),this.options[f]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)Ht(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,v){var E="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),M=gt("div",E,v||this._mapPane);return f&&(this._panes[f]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),v=this.unproject(f.getBottomLeft()),E=this.unproject(f.getTopRight());return new re(v,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,v,E){f=ie(f),E=te(E||[0,0]);var M=this.getZoom()||0,R=this.getMinZoom(),F=this.getMaxZoom(),ee=f.getNorthWest(),ce=f.getSouthEast(),be=this.getSize().subtract(E),Ae=V(this.project(ce,M),this.project(ee,M)).getSize(),Ie=Ve.any3d?this.options.zoomSnap:1,Xe=be.x/Ae.x,mt=be.y/Ae.y,Xn=v?Math.max(Xe,mt):Math.min(Xe,mt);return M=this.getScaleZoom(Xn,M),Ie&&(M=Math.round(M/(Ie/100))*(Ie/100),M=v?Math.ceil(M/Ie)*Ie:Math.floor(M/Ie)*Ie),Math.max(R,Math.min(F,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,v){var E=this._getTopLeftPoint(f,v);return new z(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,v){var E=this.options.crs;return v=v===void 0?this._zoom:v,E.scale(f)/E.scale(v)},getScaleZoom:function(f,v){var E=this.options.crs;v=v===void 0?this._zoom:v;var M=E.zoom(f*E.scale(v));return isNaN(M)?1/0:M},project:function(f,v){return v=v===void 0?this._zoom:v,this.options.crs.latLngToPoint(de(f),v)},unproject:function(f,v){return v=v===void 0?this._zoom:v,this.options.crs.pointToLatLng(te(f),v)},layerPointToLatLng:function(f){var v=te(f).add(this.getPixelOrigin());return this.unproject(v)},latLngToLayerPoint:function(f){var v=this.project(de(f))._round();return v._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(de(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(ie(f))},distance:function(f,v){return this.options.crs.distance(de(f),de(v))},containerPointToLayerPoint:function(f){return te(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return te(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var v=this.containerPointToLayerPoint(te(f));return this.layerPointToLatLng(v)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(f)))},mouseEventToContainerPoint:function(f){return pc(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var v=this._container=Kf(f);if(v){if(v._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");lt(v,"scroll",this._onScroll,this),this._containerId=u(v)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ve.any3d,ut(f,"leaflet-container"+(Ve.touch?" leaflet-touch":"")+(Ve.retina?" leaflet-retina":"")+(Ve.ielt9?" leaflet-oldie":"")+(Ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var v=cc(f,"position");v!=="absolute"&&v!=="relative"&&v!=="fixed"&&v!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Wt(this._mapPane,new Q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(f.markerPane,"leaflet-zoom-hide"),ut(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,v,E){Wt(this._mapPane,new Q(0,0));var M=!this._loaded;this._loaded=!0,v=this._limitZoom(v),this.fire("viewprereset");var R=this._zoom!==v;this._moveStart(R,E)._move(f,v)._moveEnd(R),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(f,v){return f&&this.fire("zoomstart"),v||this.fire("movestart"),this},_move:function(f,v,E,M){v===void 0&&(v=this._zoom);var R=this._zoom!==v;return this._zoom=v,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),M?E&&E.pinch&&this.fire("zoom",E):((R||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){Wt(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[u(this._container)]=this;var v=f?It:lt;v(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&v(window,"resize",this._onResize,this),Ve.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,v){for(var E=[],M,R=v==="mouseout"||v==="mouseover",F=f.target||f.srcElement,ee=!1;F;){if(M=this._targets[u(F)],M&&(v==="click"||v==="preclick")&&this._draggableMoved(M)){ee=!0;break}if(M&&M.listens(v,!0)&&(R&&!Ma(F,f)||(E.push(M),R))||F===this._container)break;F=F.parentNode}return!E.length&&!ee&&!R&&this.listens(v,!0)&&(E=[this]),E},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var v=f.target||f.srcElement;if(!(!this._loaded||v._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(v))){var E=f.type;E==="mousedown"&&Qs(v),this._fireDOMEvent(f,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,v,E){if(f.type==="click"){var M=i({},f);M.type="preclick",this._fireDOMEvent(M,M.type,E)}var R=this._findEventTargets(f,v);if(E){for(var F=[],ee=0;ee<E.length;ee++)E[ee].listens(v,!0)&&F.push(E[ee]);R=F.concat(R)}if(R.length){v==="contextmenu"&&kn(f);var ce=R[0],be={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var Ae=ce.getLatLng&&(!ce._radius||ce._radius<=10);be.containerPoint=Ae?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(f),be.layerPoint=this.containerPointToLayerPoint(be.containerPoint),be.latlng=Ae?ce.getLatLng():this.layerPointToLatLng(be.layerPoint)}for(ee=0;ee<R.length;ee++)if(R[ee].fire(v,be,!0),be.originalEvent._stopped||R[ee].options.bubblingMouseEvents===!1&&C(this._mouseEvents,v)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,v=this._handlers.length;f<v;f++)this._handlers[f].disable()},whenReady:function(f,v){return this._loaded?f.call(v||this,{target:this}):this.on("load",f,v),this},_getMapPanePos:function(){return fo(this._mapPane)||new Q(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,v){var E=f&&v!==void 0?this._getNewPixelOrigin(f,v):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,v){var E=this.getSize()._divideBy(2);return this.project(f,v)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,v,E){var M=this._getNewPixelOrigin(E,v);return this.project(f,v)._subtract(M)},_latLngBoundsToNewLayerBounds:function(f,v,E){var M=this._getNewPixelOrigin(E,v);return V([this.project(f.getSouthWest(),v)._subtract(M),this.project(f.getNorthWest(),v)._subtract(M),this.project(f.getSouthEast(),v)._subtract(M),this.project(f.getNorthEast(),v)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,v,E){if(!E)return f;var M=this.project(f,v),R=this.getSize().divideBy(2),F=new z(M.subtract(R),M.add(R)),ee=this._getBoundsOffset(F,E,v);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?f:this.unproject(M.add(ee),v)},_limitOffset:function(f,v){if(!v)return f;var E=this.getPixelBounds(),M=new z(E.min.add(f),E.max.add(f));return f.add(this._getBoundsOffset(M,v))},_getBoundsOffset:function(f,v,E){var M=V(this.project(v.getNorthEast(),E),this.project(v.getSouthWest(),E)),R=M.min.subtract(f.min),F=M.max.subtract(f.max),ee=this._rebound(R.x,-F.x),ce=this._rebound(R.y,-F.y);return new Q(ee,ce)},_rebound:function(f,v){return f+v>0?Math.round(f-v)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(v))},_limitZoom:function(f){var v=this.getMinZoom(),E=this.getMaxZoom(),M=Ve.any3d?this.options.zoomSnap:1;return M&&(f=Math.round(f/M)*M),Math.max(v,Math.min(E,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){sn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,v){var E=this._getCenterOffset(f)._trunc();return(v&&v.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,v),!0)},_createAnimProxy:function(){var f=this._proxy=gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(v){var E=uo,M=this._proxy.style[E];Ca(this._proxy,this.project(v.center,v.zoom),this.getZoomScale(v.zoom,1)),M===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),v=this.getZoom();Ca(this._proxy,this.project(f,v),this.getZoomScale(v,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,v,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(v-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(v),R=this._getCenterOffset(f)._divideBy(1-1/M);return E.animate!==!0&&!this.getSize().contains(R)?!1:(H(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(f,v,!0)},this),!0)},_animateZoom:function(f,v,E,M){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=v,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:v,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&sn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Qf(f,v){return new xt(f,v)}var Hr=X.extend({options:{position:"topright"},initialize:function(f){w(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var v=this._map;return v&&v.removeControl(this),this.options.position=f,v&&v.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var v=this._container=this.onAdd(f),E=this.getPosition(),M=f._controlCorners[E];return ut(v,"leaflet-control"),E.indexOf("bottom")!==-1?M.insertBefore(v,M.firstChild):M.appendChild(v),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),Da=function(f){return new Hr(f)};xt.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},v="leaflet-",E=this._controlContainer=gt("div",v+"control-container",this._container);function M(R,F){var ee=v+R+" "+v+F;f[R+F]=gt("div",ee,E)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)Ht(this._controlCorners[f]);Ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var gc=Hr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,v,E,M){return E<M?-1:M<E?1:0}},initialize:function(f,v,E){w(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in f)this._addLayer(f[M],M);for(M in v)this._addLayer(v[M],M,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return Hr.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,v){return this._addLayer(f,v),this._map?this._update():this},addOverlay:function(f,v){return this._addLayer(f,v,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var v=this._getLayer(u(f));return v&&this._layers.splice(this._layers.indexOf(v),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):sn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return sn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",v=this._container=gt("div",f),E=this.options.collapsed;v.setAttribute("aria-haspopup",!0),Qo(v),Ji(v);var M=this._section=gt("section",f+"-list");E&&(this._map.on("click",this.collapse,this),lt(v,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=gt("a",f+"-toggle",v);R.href="#",R.title="Layers",R.setAttribute("role","button"),lt(R,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){kn(F),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=gt("div",f+"-base",M),this._separator=gt("div",f+"-separator",M),this._overlaysList=gt("div",f+"-overlays",M),v.appendChild(M)},_getLayer:function(f){for(var v=0;v<this._layers.length;v++)if(this._layers[v]&&u(this._layers[v].layer)===f)return this._layers[v]},_addLayer:function(f,v,E){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:v,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(M,R){return this.options.sortFunction(M.layer,R.layer,M.name,R.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ri(this._baseLayersList),ri(this._overlaysList),this._layerControlInputs=[];var f,v,E,M,R=0;for(E=0;E<this._layers.length;E++)M=this._layers[E],this._addItem(M),v=v||M.overlay,f=f||!M.overlay,R+=M.overlay?0:1;return this.options.hideSingleBase&&(f=f&&R>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=v&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var v=this._getLayer(u(f.target)),E=v.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;E&&this._map.fire(E,v)},_createRadioElement:function(f,v){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(v?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=E,M.firstChild},_addItem:function(f){var v=document.createElement("label"),E=this._map.hasLayer(f.layer),M;f.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=E):M=this._createRadioElement("leaflet-base-layers_"+u(this),E),this._layerControlInputs.push(M),M.layerId=u(f.layer),lt(M,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+f.name;var F=document.createElement("span");v.appendChild(F),F.appendChild(M),F.appendChild(R);var ee=f.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(v),this._checkDisabledLayers(),v},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,v,E,M=[],R=[];this._handlingClick=!0;for(var F=f.length-1;F>=0;F--)v=f[F],E=this._getLayer(v.layerId).layer,v.checked?M.push(E):v.checked||R.push(E);for(F=0;F<R.length;F++)this._map.hasLayer(R[F])&&this._map.removeLayer(R[F]);for(F=0;F<M.length;F++)this._map.hasLayer(M[F])||this._map.addLayer(M[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,v,E,M=this._map.getZoom(),R=f.length-1;R>=0;R--)v=f[R],E=this._getLayer(v.layerId).layer,v.disabled=E.options.minZoom!==void 0&&M<E.options.minZoom||E.options.maxZoom!==void 0&&M>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,lt(f,"click",kn),this.expand();var v=this;setTimeout(function(){It(f,"click",kn),v._preventClick=!1})}}),u0=function(f,v,E){return new gc(f,v,E)},eh=Hr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var v="leaflet-control-zoom",E=gt("div",v+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,v+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,v+"-out",E,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,v,E,M,R){var F=gt("a",E,M);return F.innerHTML=f,F.href="#",F.title=v,F.setAttribute("role","button"),F.setAttribute("aria-label",v),Qo(F),lt(F,"click",ho),lt(F,"click",R,this),lt(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var f=this._map,v="leaflet-disabled";sn(this._zoomInButton,v),sn(this._zoomOutButton,v),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(ut(this._zoomOutButton,v),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(ut(this._zoomInButton,v),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new eh,this.addControl(this.zoomControl))});var ew=function(f){return new eh(f)},d0=Hr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var v="leaflet-control-scale",E=gt("div",v),M=this.options;return this._addScales(M,v+"-line",E),f.on(M.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),E},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,v,E){f.metric&&(this._mScale=gt("div",v,E)),f.imperial&&(this._iScale=gt("div",v,E))},_update:function(){var f=this._map,v=f.getSize().y/2,E=f.distance(f.containerPointToLatLng([0,v]),f.containerPointToLatLng([this.options.maxWidth,v]));this._updateScales(E)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var v=this._getRoundNum(f),E=v<1e3?v+" m":v/1e3+" km";this._updateScale(this._mScale,E,v/f)},_updateImperial:function(f){var v=f*3.2808399,E,M,R;v>5280?(E=v/5280,M=this._getRoundNum(E),this._updateScale(this._iScale,M+" mi",M/E)):(R=this._getRoundNum(v),this._updateScale(this._iScale,R+" ft",R/v))},_updateScale:function(f,v,E){f.style.width=Math.round(this.options.maxWidth*E)+"px",f.innerHTML=v},_getRoundNum:function(f){var v=Math.pow(10,(Math.floor(f)+"").length-1),E=f/v;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,v*E}}),th=function(f){return new d0(f)},tw='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',nh=Hr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ve.inlineSvg?tw+" ":"")+"Leaflet</a>"},initialize:function(f){w(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=gt("div","leaflet-control-attribution"),Qo(this._container);for(var v in f._layers)f._layers[v].getAttribution&&this.addAttribution(f._layers[v].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var v in this._attributions)this._attributions[v]&&f.push(v);var E=[];this.options.prefix&&E.push(this.options.prefix),f.length&&E.push(f.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new nh().addTo(this)});var nw=function(f){return new nh(f)};Hr.Layers=gc,Hr.Zoom=eh,Hr.Scale=d0,Hr.Attribution=nh,Da.layers=u0,Da.zoom=ew,Da.scale=th,Da.attribution=nw;var Qi=X.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qi.addTo=function(f,v){return f.addHandler(v,this),this};var rw={Events:G},rh=Ve.touch?"touchstart mousedown":"mousedown",mo=J.extend({options:{clickTolerance:3},initialize:function(f,v,E,M){w(this,M),this._element=f,this._dragStartTarget=v||f,this._preventOutline=E},enable:function(){this._enabled||(lt(this._dragStartTarget,rh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mo._dragging===this&&this.finishDrag(!0),It(this._dragStartTarget,rh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!Wf(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){mo._dragging===this&&this.finishDrag();return}if(!(mo._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(mo._dragging=this,this._preventOutline&&Qs(this._element),Lu(),Xs(),!this._moving)){this.fire("down");var v=f.touches?f.touches[0]:f,E=$u(this._element);this._startPoint=new Q(v.clientX,v.clientY),this._startPos=fo(this._element),this._parentScale=fc(E);var M=f.type==="mousedown";lt(document,M?"mousemove":"touchmove",this._onMove,this),lt(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var v=f.touches&&f.touches.length===1?f.touches[0]:f,E=new Q(v.clientX,v.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,kn(f),this._moved||(this.fire("dragstart"),this._moved=!0,ut(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),Wt(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){sn(document.body,"leaflet-dragging"),this._lastTarget&&(sn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),It(document,"mousemove touchmove",this._onMove,this),It(document,"mouseup touchend touchcancel",this._onUp,this),dc(),Xi();var v=this._moved&&this._moving;this._moving=!1,mo._dragging=!1,v&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function f0(f,v,E){var M,R=[1,4,2,8],F,ee,ce,be,Ae,Ie,Xe,mt;for(F=0,Ie=f.length;F<Ie;F++)f[F]._code=es(f[F],v);for(ce=0;ce<4;ce++){for(Xe=R[ce],M=[],F=0,Ie=f.length,ee=Ie-1;F<Ie;ee=F++)be=f[F],Ae=f[ee],be._code&Xe?Ae._code&Xe||(mt=zu(Ae,be,Xe,v,E),mt._code=es(mt,v),M.push(mt)):(Ae._code&Xe&&(mt=zu(Ae,be,Xe,v,E),mt._code=es(mt,v),M.push(mt)),M.push(be));f=M}return f}function h0(f,v){var E,M,R,F,ee,ce,be,Ae,Ie;if(!f||f.length===0)throw new Error("latlngs not passed");ai(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Xe=de([0,0]),mt=ie(f),Xn=mt.getNorthWest().distanceTo(mt.getSouthWest())*mt.getNorthEast().distanceTo(mt.getNorthWest());Xn<1700&&(Xe=ih(f));var En=f.length,Gr=[];for(E=0;E<En;E++){var Tt=de(f[E]);Gr.push(v.project(de([Tt.lat-Xe.lat,Tt.lng-Xe.lng])))}for(ce=be=Ae=0,E=0,M=En-1;E<En;M=E++)R=Gr[E],F=Gr[M],ee=R.y*F.x-F.y*R.x,be+=(R.x+F.x)*ee,Ae+=(R.y+F.y)*ee,ce+=ee*3;ce===0?Ie=Gr[0]:Ie=[be/ce,Ae/ce];var Nt=v.unproject(te(Ie));return de([Nt.lat+Xe.lat,Nt.lng+Xe.lng])}function ih(f){for(var v=0,E=0,M=0,R=0;R<f.length;R++){var F=de(f[R]);v+=F.lat,E+=F.lng,M++}return de([v/M,E/M])}var ah={__proto__:null,clipPolygon:f0,polygonCenter:h0,centroid:ih};function m0(f,v){if(!v||!f.length)return f.slice();var E=v*v;return f=aw(f,E),f=g0(f,E),f}function p0(f,v,E){return Math.sqrt(bc(f,v,E,!0))}function iw(f,v,E){return bc(f,v,E)}function g0(f,v){var E=f.length,M=typeof Uint8Array<"u"?Uint8Array:Array,R=new M(E);R[0]=R[E-1]=1,oh(f,R,v,0,E-1);var F,ee=[];for(F=0;F<E;F++)R[F]&&ee.push(f[F]);return ee}function oh(f,v,E,M,R){var F=0,ee,ce,be;for(ce=M+1;ce<=R-1;ce++)be=bc(f[ce],f[M],f[R],!0),be>F&&(ee=ce,F=be);F>E&&(v[ee]=1,oh(f,v,E,M,ee),oh(f,v,E,ee,R))}function aw(f,v){for(var E=[f[0]],M=1,R=0,F=f.length;M<F;M++)ow(f[M],f[R])>v&&(E.push(f[M]),R=M);return R<F-1&&E.push(f[F-1]),E}var b0;function y0(f,v,E,M,R){var F=M?b0:es(f,E),ee=es(v,E),ce,be,Ae;for(b0=ee;;){if(!(F|ee))return[f,v];if(F&ee)return!1;ce=F||ee,be=zu(f,v,ce,E,R),Ae=es(be,E),ce===F?(f=be,F=Ae):(v=be,ee=Ae)}}function zu(f,v,E,M,R){var F=v.x-f.x,ee=v.y-f.y,ce=M.min,be=M.max,Ae,Ie;return E&8?(Ae=f.x+F*(be.y-f.y)/ee,Ie=be.y):E&4?(Ae=f.x+F*(ce.y-f.y)/ee,Ie=ce.y):E&2?(Ae=be.x,Ie=f.y+ee*(be.x-f.x)/F):E&1&&(Ae=ce.x,Ie=f.y+ee*(ce.x-f.x)/F),new Q(Ae,Ie,R)}function es(f,v){var E=0;return f.x<v.min.x?E|=1:f.x>v.max.x&&(E|=2),f.y<v.min.y?E|=4:f.y>v.max.y&&(E|=8),E}function ow(f,v){var E=v.x-f.x,M=v.y-f.y;return E*E+M*M}function bc(f,v,E,M){var R=v.x,F=v.y,ee=E.x-R,ce=E.y-F,be=ee*ee+ce*ce,Ae;return be>0&&(Ae=((f.x-R)*ee+(f.y-F)*ce)/be,Ae>1?(R=E.x,F=E.y):Ae>0&&(R+=ee*Ae,F+=ce*Ae)),ee=f.x-R,ce=f.y-F,M?ee*ee+ce*ce:new Q(R,F)}function ai(f){return!A(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function Uu(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ai(f)}function nl(f,v){var E,M,R,F,ee,ce,be,Ae;if(!f||f.length===0)throw new Error("latlngs not passed");ai(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Ie=de([0,0]),Xe=ie(f),mt=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());mt<1700&&(Ie=ih(f));var Xn=f.length,En=[];for(E=0;E<Xn;E++){var Gr=de(f[E]);En.push(v.project(de([Gr.lat-Ie.lat,Gr.lng-Ie.lng])))}for(E=0,M=0;E<Xn-1;E++)M+=En[E].distanceTo(En[E+1])/2;if(M===0)Ae=En[0];else for(E=0,F=0;E<Xn-1;E++)if(ee=En[E],ce=En[E+1],R=ee.distanceTo(ce),F+=R,F>M){be=(F-M)/R,Ae=[ce.x-be*(ce.x-ee.x),ce.y-be*(ce.y-ee.y)];break}var Tt=v.unproject(te(Ae));return de([Tt.lat+Ie.lat,Tt.lng+Ie.lng])}var sw={__proto__:null,simplify:m0,pointToSegmentDistance:p0,closestPointOnSegment:iw,clipSegment:y0,_getEdgeIntersection:zu,_getBitCode:es,_sqClosestPointOnSegment:bc,isFlat:ai,_flat:Uu,polylineCenter:nl},Fu={project:function(f){return new Q(f.lng,f.lat)},unproject:function(f){return new ue(f.y,f.x)},bounds:new z([-180,-90],[180,90])},Hu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var v=Math.PI/180,E=this.R,M=f.lat*v,R=this.R_MINOR/E,F=Math.sqrt(1-R*R),ee=F*Math.sin(M),ce=Math.tan(Math.PI/4-M/2)/Math.pow((1-ee)/(1+ee),F/2);return M=-E*Math.log(Math.max(ce,1e-10)),new Q(f.lng*v*E,M)},unproject:function(f){for(var v=180/Math.PI,E=this.R,M=this.R_MINOR/E,R=Math.sqrt(1-M*M),F=Math.exp(-f.y/E),ee=Math.PI/2-2*Math.atan(F),ce=0,be=.1,Ae;ce<15&&Math.abs(be)>1e-7;ce++)Ae=R*Math.sin(ee),Ae=Math.pow((1-Ae)/(1+Ae),R/2),be=Math.PI/2-2*Math.atan(F*Ae)-ee,ee+=be;return new ue(ee*v,f.x*v/E)}},v0={__proto__:null,LonLat:Fu,Mercator:Hu,SphericalMercator:je},x0=i({},Ne,{code:"EPSG:3395",projection:Hu,transformation:(function(){var f=.5/(Math.PI*Hu.R);return fe(f,.5,-f,.5)})()}),sh=i({},Ne,{code:"EPSG:4326",projection:Fu,transformation:fe(1/180,1,-1/180,.5)}),rl=i({},pe,{projection:Fu,transformation:fe(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,v){var E=v.lng-f.lng,M=v.lat-f.lat;return Math.sqrt(E*E+M*M)},infinite:!0});pe.Earth=Ne,pe.EPSG3395=x0,pe.EPSG3857=Ue,pe.EPSG900913=Fe,pe.EPSG4326=sh,pe.Simple=rl;var Ti=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[u(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[u(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var v=f.target;if(v.hasLayer(this)){if(this._map=v,this._zoomAnimated=v._zoomAnimated,this.getEvents){var E=this.getEvents();v.on(E,this),this.once("remove",function(){v.off(E,this)},this)}this.onAdd(v),this.fire("add"),v.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var v=u(f);return this._layers[v]?this:(this._layers[v]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var v=u(f);return this._layers[v]?(this._loaded&&f.onRemove(this),delete this._layers[v],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return u(f)in this._layers},eachLayer:function(f,v){for(var E in this._layers)f.call(v,this._layers[E]);return this},_addLayers:function(f){f=f?A(f)?f:[f]:[];for(var v=0,E=f.length;v<E;v++)this.addLayer(f[v])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[u(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var v=u(f);this._zoomBoundLayers[v]&&(delete this._zoomBoundLayers[v],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,v=-1/0,E=this._getZoomSpan();for(var M in this._zoomBoundLayers){var R=this._zoomBoundLayers[M].options;f=R.minZoom===void 0?f:Math.min(f,R.minZoom),v=R.maxZoom===void 0?v:Math.max(v,R.maxZoom)}this._layersMaxZoom=v===-1/0?void 0:v,this._layersMinZoom=f===1/0?void 0:f,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var il=Ti.extend({initialize:function(f,v){w(this,v),this._layers={};var E,M;if(f)for(E=0,M=f.length;E<M;E++)this.addLayer(f[E])},addLayer:function(f){var v=this.getLayerId(f);return this._layers[v]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var v=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[v]&&this._map.removeLayer(this._layers[v]),delete this._layers[v],this},hasLayer:function(f){var v=typeof f=="number"?f:this.getLayerId(f);return v in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var v=Array.prototype.slice.call(arguments,1),E,M;for(E in this._layers)M=this._layers[E],M[f]&&M[f].apply(M,v);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,v){for(var E in this._layers)f.call(v,this._layers[E]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return u(f)}}),lw=function(f,v){return new il(f,v)},ea=il.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),il.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),il.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new re;for(var v in this._layers){var E=this._layers[v];f.extend(E.getBounds?E.getBounds():E.getLatLng())}return f}}),w0=function(f,v){return new ea(f,v)},ta=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){w(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,v){var E=this._getIconUrl(f);if(!E){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(E,v&&v.tagName==="IMG"?v:null);return this._setIconStyles(M,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(f,v){var E=this.options,M=E[v+"Size"];typeof M=="number"&&(M=[M,M]);var R=te(M),F=te(v==="shadow"&&E.shadowAnchor||E.iconAnchor||R&&R.divideBy(2,!0));f.className="leaflet-marker-"+v+" "+(E.className||""),F&&(f.style.marginLeft=-F.x+"px",f.style.marginTop=-F.y+"px"),R&&(f.style.width=R.x+"px",f.style.height=R.y+"px")},_createImg:function(f,v){return v=v||document.createElement("img"),v.src=f,v},_getIconUrl:function(f){return Ve.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function yc(f){return new ta(f)}var vc=ta.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof vc.imagePath!="string"&&(vc.imagePath=this._detectIconPath()),(this.options.imagePath||vc.imagePath)+ta.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var v=function(E,M,R){var F=M.exec(E);return F&&F[R]};return f=v(f,/^url\((['"])?(.+)\1\)$/,2),f&&v(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=gt("div","leaflet-default-icon-path",document.body),v=cc(f,"background-image")||cc(f,"backgroundImage");if(document.body.removeChild(f),v=this._stripUrl(v),v)return v;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),xc=Qi.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new mo(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&sn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var v=this._marker,E=v._map,M=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,F=fo(v._icon),ee=E.getPixelBounds(),ce=E.getPixelOrigin(),be=V(ee.min._subtract(ce).add(R),ee.max._subtract(ce).subtract(R));if(!be.contains(F)){var Ae=te((Math.max(be.max.x,F.x)-be.max.x)/(ee.max.x-be.max.x)-(Math.min(be.min.x,F.x)-be.min.x)/(ee.min.x-be.min.x),(Math.max(be.max.y,F.y)-be.max.y)/(ee.max.y-be.max.y)-(Math.min(be.min.y,F.y)-be.min.y)/(ee.min.y-be.min.y)).multiplyBy(M);E.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Wt(v._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=H(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,f)))},_onDrag:function(f){var v=this._marker,E=v._shadow,M=fo(v._icon),R=v._map.layerPointToLatLng(M);E&&Wt(E,M),v._latlng=R,f.latlng=R,f.oldLatLng=this._oldLatLng,v.fire("move",f).fire("drag",f)},_onDragEnd:function(f){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),wc=Ti.extend({options:{icon:new vc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,v){w(this,v),this._latlng=de(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var v=this._latlng;return this._latlng=de(f),this.update(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,v="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=f.icon.createIcon(this._icon),M=!1;E!==this._icon&&(this._icon&&this._removeIcon(),M=!0,f.title&&(E.title=f.title),E.tagName==="IMG"&&(E.alt=f.alt||"")),ut(E,v),f.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(E,"focus",this._panOnFocus,this);var R=f.icon.createShadow(this._shadow),F=!1;R!==this._shadow&&(this._removeShadow(),F=!0),R&&(ut(R,v),R.alt=""),this._shadow=R,f.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&F&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&It(this._icon,"focus",this._panOnFocus,this),Ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ht(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&Wt(this._icon,f),this._shadow&&Wt(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(v)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xc)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xc(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&tn(this._icon,f),this._shadow&&tn(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var v=this.options.icon.options,E=v.iconSize?te(v.iconSize):te(0,0),M=v.iconAnchor?te(v.iconAnchor):te(0,0);f.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:E.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _0(f,v){return new wc(f,v)}var na=Ti.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return w(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),al=na.extend({options:{fill:!0,radius:10},initialize:function(f,v){w(this,v),this._latlng=de(f),this._radius=this.options.radius},setLatLng:function(f){var v=this._latlng;return this._latlng=de(f),this.redraw(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var v=f&&f.radius||this._radius;return na.prototype.setStyle.call(this,f),this.setRadius(v),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,v=this._radiusY||f,E=this._clickTolerance(),M=[f+E,v+E];this._pxBounds=new z(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function S0(f,v){return new al(f,v)}var Gu=al.extend({initialize:function(f,v,E){if(typeof v=="number"&&(v=i({},E,{radius:v})),w(this,v),this._latlng=de(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new re(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:na.prototype.setStyle,_project:function(){var f=this._latlng.lng,v=this._latlng.lat,E=this._map,M=E.options.crs;if(M.distance===Ne.distance){var R=Math.PI/180,F=this._mRadius/Ne.R/R,ee=E.project([v+F,f]),ce=E.project([v-F,f]),be=ee.add(ce).divideBy(2),Ae=E.unproject(be).lat,Ie=Math.acos((Math.cos(F*R)-Math.sin(v*R)*Math.sin(Ae*R))/(Math.cos(v*R)*Math.cos(Ae*R)))/R;(isNaN(Ie)||Ie===0)&&(Ie=F/Math.cos(Math.PI/180*v)),this._point=be.subtract(E.getPixelOrigin()),this._radius=isNaN(Ie)?0:be.x-E.project([Ae,f-Ie]).x,this._radiusY=be.y-ee.y}else{var Xe=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(Xe).x}this._updateBounds()}});function k0(f,v,E){return new Gu(f,v,E)}var Pa=na.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,v){w(this,v),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var v=1/0,E=null,M=bc,R,F,ee=0,ce=this._parts.length;ee<ce;ee++)for(var be=this._parts[ee],Ae=1,Ie=be.length;Ae<Ie;Ae++){R=be[Ae-1],F=be[Ae];var Xe=M(f,R,F,!0);Xe<v&&(v=Xe,E=M(f,R,F))}return E&&(E.distance=Math.sqrt(v)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,v){return v=v||this._defaultShape(),f=de(f),v.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new re,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return ai(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var v=[],E=ai(f),M=0,R=f.length;M<R;M++)E?(v[M]=de(f[M]),this._bounds.extend(v[M])):v[M]=this._convertLatLngs(f[M]);return v},_project:function(){var f=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),v=new Q(f,f);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(v),this._rawPxBounds.max.add(v)]))},_projectLatlngs:function(f,v,E){var M=f[0]instanceof ue,R=f.length,F,ee;if(M){for(ee=[],F=0;F<R;F++)ee[F]=this._map.latLngToLayerPoint(f[F]),E.extend(ee[F]);v.push(ee)}else for(F=0;F<R;F++)this._projectLatlngs(f[F],v,E)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var v=this._parts,E,M,R,F,ee,ce,be;for(E=0,R=0,F=this._rings.length;E<F;E++)for(be=this._rings[E],M=0,ee=be.length;M<ee-1;M++)ce=y0(be[M],be[M+1],f,M,!0),ce&&(v[R]=v[R]||[],v[R].push(ce[0]),(ce[1]!==be[M+1]||M===ee-2)&&(v[R].push(ce[1]),R++))}},_simplifyPoints:function(){for(var f=this._parts,v=this.options.smoothFactor,E=0,M=f.length;E<M;E++)f[E]=m0(f[E],v)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,v){var E,M,R,F,ee,ce,be=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(E=0,F=this._parts.length;E<F;E++)for(ce=this._parts[E],M=0,ee=ce.length,R=ee-1;M<ee;R=M++)if(!(!v&&M===0)&&p0(f,ce[R],ce[M])<=be)return!0;return!1}});function cw(f,v){return new Pa(f,v)}Pa._flat=Uu;var ol=Pa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return h0(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var v=Pa.prototype._convertLatLngs.call(this,f),E=v.length;return E>=2&&v[0]instanceof ue&&v[0].equals(v[E-1])&&v.pop(),v},_setLatLngs:function(f){Pa.prototype._setLatLngs.call(this,f),ai(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ai(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,v=this.options.weight,E=new Q(v,v);if(f=new z(f.min.subtract(E),f.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,R=this._rings.length,F;M<R;M++)F=f0(this._rings[M],f,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var v=!1,E,M,R,F,ee,ce,be,Ae;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(F=0,be=this._parts.length;F<be;F++)for(E=this._parts[F],ee=0,Ae=E.length,ce=Ae-1;ee<Ae;ce=ee++)M=E[ee],R=E[ce],M.y>f.y!=R.y>f.y&&f.x<(R.x-M.x)*(f.y-M.y)/(R.y-M.y)+M.x&&(v=!v);return v||Pa.prototype._containsPoint.call(this,f,!0)}});function uw(f,v){return new ol(f,v)}var Ra=ea.extend({initialize:function(f,v){w(this,v),this._layers={},f&&this.addData(f)},addData:function(f){var v=A(f)?f:f.features,E,M,R;if(v){for(E=0,M=v.length;E<M;E++)R=v[E],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var F=this.options;if(F.filter&&!F.filter(f))return this;var ee=sr(f,F);return ee?(ee.feature=Ku(f),ee.defaultOptions=ee.options,this.resetStyle(ee),F.onEachFeature&&F.onEachFeature(f,ee),this.addLayer(ee)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=i({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(v){this._setLayerStyle(v,f)},this)},_setLayerStyle:function(f,v){f.setStyle&&(typeof v=="function"&&(v=v(f.feature)),f.setStyle(v))}});function sr(f,v){var E=f.type==="Feature"?f.geometry:f,M=E?E.coordinates:null,R=[],F=v&&v.pointToLayer,ee=v&&v.coordsToLatLng||Yu,ce,be,Ae,Ie;if(!M&&!E)return null;switch(E.type){case"Point":return ce=ee(M),sl(F,f,ce,v);case"MultiPoint":for(Ae=0,Ie=M.length;Ae<Ie;Ae++)ce=ee(M[Ae]),R.push(sl(F,f,ce,v));return new ea(R);case"LineString":case"MultiLineString":return be=_c(M,E.type==="LineString"?0:1,ee),new Pa(be,v);case"Polygon":case"MultiPolygon":return be=_c(M,E.type==="Polygon"?1:2,ee),new ol(be,v);case"GeometryCollection":for(Ae=0,Ie=E.geometries.length;Ae<Ie;Ae++){var Xe=sr({geometry:E.geometries[Ae],type:"Feature",properties:f.properties},v);Xe&&R.push(Xe)}return new ea(R);case"FeatureCollection":for(Ae=0,Ie=E.features.length;Ae<Ie;Ae++){var mt=sr(E.features[Ae],v);mt&&R.push(mt)}return new ea(R);default:throw new Error("Invalid GeoJSON object.")}}function sl(f,v,E,M){return f?f(v,E):new wc(E,M&&M.markersInheritOptions&&M)}function Yu(f){return new ue(f[1],f[0],f[2])}function _c(f,v,E){for(var M=[],R=0,F=f.length,ee;R<F;R++)ee=v?_c(f[R],v-1,E):(E||Yu)(f[R]),M.push(ee);return M}function qu(f,v){return f=de(f),f.alt!==void 0?[b(f.lng,v),b(f.lat,v),b(f.alt,v)]:[b(f.lng,v),b(f.lat,v)]}function Sc(f,v,E,M){for(var R=[],F=0,ee=f.length;F<ee;F++)R.push(v?Sc(f[F],ai(f[F])?0:v-1,E,M):qu(f[F],M));return!v&&E&&R.length>0&&R.push(R[0].slice()),R}function po(f,v){return f.feature?i({},f.feature,{geometry:v}):Ku(v)}function Ku(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var go={toGeoJSON:function(f){return po(this,{type:"Point",coordinates:qu(this.getLatLng(),f)})}};wc.include(go),Gu.include(go),al.include(go),Pa.include({toGeoJSON:function(f){var v=!ai(this._latlngs),E=Sc(this._latlngs,v?1:0,!1,f);return po(this,{type:(v?"Multi":"")+"LineString",coordinates:E})}}),ol.include({toGeoJSON:function(f){var v=!ai(this._latlngs),E=v&&!ai(this._latlngs[0]),M=Sc(this._latlngs,E?2:v?1:0,!0,f);return v||(M=[M]),po(this,{type:(E?"Multi":"")+"Polygon",coordinates:M})}}),il.include({toMultiPoint:function(f){var v=[];return this.eachLayer(function(E){v.push(E.toGeoJSON(f).geometry.coordinates)}),po(this,{type:"MultiPoint",coordinates:v})},toGeoJSON:function(f){var v=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(v==="MultiPoint")return this.toMultiPoint(f);var E=v==="GeometryCollection",M=[];return this.eachLayer(function(R){if(R.toGeoJSON){var F=R.toGeoJSON(f);if(E)M.push(F.geometry);else{var ee=Ku(F);ee.type==="FeatureCollection"?M.push.apply(M,ee.features):M.push(ee)}}}),E?po(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function Wu(f,v){return new Ra(f,v)}var kc=Wu,ll=Ti.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,v,E){this._url=f,this._bounds=ie(v),w(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&Zn(this._image),this},bringToBack:function(){return this._map&&Xo(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=ie(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",v=this._image=f?this._url:gt("img");if(ut(v,"leaflet-image-layer"),this._zoomAnimated&&ut(v,"leaflet-zoom-animated"),this.options.className&&ut(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onload=o(this.fire,this,"load"),v.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=v.src;return}v.src=this._url,v.alt=this.options.alt},_animateZoom:function(f){var v=this._map.getZoomScale(f.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;Ca(this._image,E,v)},_reset:function(){var f=this._image,v=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=v.getSize();Wt(f,v.min),f.style.width=E.x+"px",f.style.height=E.y+"px"},_updateOpacity:function(){tn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),E0=function(f,v,E){return new ll(f,v,E)},bo=ll.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",v=this._image=f?this._url:gt("video");if(ut(v,"leaflet-image-layer"),this._zoomAnimated&&ut(v,"leaflet-zoom-animated"),this.options.className&&ut(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onloadeddata=o(this.fire,this,"load"),f){for(var E=v.getElementsByTagName("source"),M=[],R=0;R<E.length;R++)M.push(E[R].src);this._url=E.length>0?M:[v.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(v.style,"objectFit")&&(v.style.objectFit="fill"),v.autoplay=!!this.options.autoplay,v.loop=!!this.options.loop,v.muted=!!this.options.muted,v.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var ee=gt("source");ee.src=this._url[F],v.appendChild(ee)}}});function cl(f,v,E){return new bo(f,v,E)}var Vu=ll.extend({_initImage:function(){var f=this._image=this._url;ut(f,"leaflet-image-layer"),this._zoomAnimated&&ut(f,"leaflet-zoom-animated"),this.options.className&&ut(f,this.options.className),f.onselectstart=p,f.onmousemove=p}});function j0(f,v,E){return new Vu(f,v,E)}var lr=Ti.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,v){f&&(f instanceof ue||A(f))?(this._latlng=de(f),w(this,v)):(w(this,f),this._source=v),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&tn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&tn(this._container,1),this.bringToFront(),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(tn(this._container,0),this._removeTimeout=setTimeout(o(Ht,void 0,this._container),200)):Ht(this._container),this.options.interactive&&(sn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=de(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zn(this._container),this},bringToBack:function(){return this._map&&Xo(this._container),this},_prepareOpen:function(f){var v=this._source;if(!v._map)return!1;if(v instanceof ea){v=null;var E=this._source._layers;for(var M in E)if(E[M]._map){v=E[M];break}if(!v)return!1;this._source=v}if(!f)if(v.getCenter)f=v.getCenter();else if(v.getLatLng)f=v.getLatLng();else if(v.getBounds)f=v.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,v=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof v=="string")f.innerHTML=v;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(v)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),v=te(this.options.offset),E=this._getAnchor();this._zoomAnimated?Wt(this._container,f.add(E)):v=v.add(f).add(E);var M=this._containerBottom=-v.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+v.x;this._container.style.bottom=M+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(f,v,E,M){var R=v;return R instanceof f||(R=new f(M).setContent(v)),E&&R.setLatLng(E),R}}),Ti.include({_initOverlay:function(f,v,E,M){var R=E;return R instanceof f?(w(R,M),R._source=this):(R=v&&!M?v:new f(M,this),R.setContent(E)),R}});var Ec=lr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,lr.prototype.openOn.call(this,f)},onAdd:function(f){lr.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof na||this._source.on("preclick",Ai))},onRemove:function(f){lr.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof na||this._source.off("preclick",Ai))},getEvents:function(){var f=lr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",v=this._container=gt("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=gt("div",f+"-content-wrapper",v);if(this._contentNode=gt("div",f+"-content",E),Qo(v),Ji(this._contentNode),lt(v,"contextmenu",Ai),this._tipContainer=gt("div",f+"-tip-container",v),this._tip=gt("div",f+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=gt("a",f+"-close-button",v);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',lt(M,"click",function(R){kn(R),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,v=f.style;v.width="",v.whiteSpace="nowrap";var E=f.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),v.width=E+1+"px",v.whiteSpace="",v.height="";var M=f.offsetHeight,R=this.options.maxHeight,F="leaflet-popup-scrolled";R&&M>R?(v.height=R+"px",ut(f,F)):sn(f,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),E=this._getAnchor();Wt(this._container,v.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,v=parseInt(cc(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+v,M=this._containerWidth,R=new Q(this._containerLeft,-E-this._containerBottom);R._add(fo(this._container));var F=f.layerPointToContainerPoint(R),ee=te(this.options.autoPanPadding),ce=te(this.options.autoPanPaddingTopLeft||ee),be=te(this.options.autoPanPaddingBottomRight||ee),Ae=f.getSize(),Ie=0,Xe=0;F.x+M+be.x>Ae.x&&(Ie=F.x+M-Ae.x+be.x),F.x-Ie-ce.x<0&&(Ie=F.x-ce.x),F.y+E+be.y>Ae.y&&(Xe=F.y+E-Ae.y+be.y),F.y-Xe-ce.y<0&&(Xe=F.y-ce.y),(Ie||Xe)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([Ie,Xe]))}},_getAnchor:function(){return te(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),A0=function(f,v){return new Ec(f,v)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(f,v,E){return this._initOverlay(Ec,f,v,E).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),Ti.include({bindPopup:function(f,v){return this._popup=this._initOverlay(Ec,this._popup,f,v),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof ea||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){ho(f);var v=f.layer||f.target;if(this._popup._source===v&&!(v instanceof na)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=v,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var jc=lr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){lr.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){lr.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=lr.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",v=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=gt("div",v),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var v,E,M=this._map,R=this._container,F=M.latLngToContainerPoint(M.getCenter()),ee=M.layerPointToContainerPoint(f),ce=this.options.direction,be=R.offsetWidth,Ae=R.offsetHeight,Ie=te(this.options.offset),Xe=this._getAnchor();ce==="top"?(v=be/2,E=Ae):ce==="bottom"?(v=be/2,E=0):ce==="center"?(v=be/2,E=Ae/2):ce==="right"?(v=0,E=Ae/2):ce==="left"?(v=be,E=Ae/2):ee.x<F.x?(ce="right",v=0,E=Ae/2):(ce="left",v=be+(Ie.x+Xe.x)*2,E=Ae/2),f=f.subtract(te(v,E,!0)).add(Ie).add(Xe),sn(R,"leaflet-tooltip-right"),sn(R,"leaflet-tooltip-left"),sn(R,"leaflet-tooltip-top"),sn(R,"leaflet-tooltip-bottom"),ut(R,"leaflet-tooltip-"+ce),Wt(R,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&tn(this._container,f)},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(v)},_getAnchor:function(){return te(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),dw=function(f,v){return new jc(f,v)};xt.include({openTooltip:function(f,v,E){return this._initOverlay(jc,f,v,E).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),Ti.include({bindTooltip:function(f,v){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(jc,this._tooltip,f,v),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var v=f?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[v](E),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof ea||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var v=typeof f.getElement=="function"&&f.getElement();v&&(lt(v,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),lt(v,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var v=typeof f.getElement=="function"&&f.getElement();v&&v.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var v=this;this._map.once("moveend",function(){v._openOnceFlag=!1,v._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var v=f.latlng,E,M;this._tooltip.options.sticky&&f.originalEvent&&(E=this._map.mouseEventToContainerPoint(f.originalEvent),M=this._map.containerPointToLayerPoint(E),v=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(v)}});var T0=ta.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var v=f&&f.tagName==="DIV"?f:document.createElement("div"),E=this.options;if(E.html instanceof Element?(ri(v),v.appendChild(E.html)):v.innerHTML=E.html!==!1?E.html:"",E.bgPos){var M=te(E.bgPos);v.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(v,"icon"),v},createShadow:function(){return null}});function fw(f){return new T0(f)}ta.Default=vc;var ul=Ti.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){w(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),Ht(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof Q?f:new Q(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var v=this.getPane().children,E=-f(-1/0,1/0),M=0,R=v.length,F;M<R;M++)F=v[M].style.zIndex,v[M]!==this._container&&F&&(E=f(E,+F));isFinite(E)&&(this.options.zIndex=E+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ve.ielt9){tn(this._container,this.options.opacity);var f=+new Date,v=!1,E=!1;for(var M in this._tiles){var R=this._tiles[M];if(!(!R.current||!R.loaded)){var F=Math.min(1,(f-R.loaded)/200);tn(R.el,F),F<1?v=!0:(R.active?E=!0:this._onOpaqueTile(R),R.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),v&&(B(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,v=this.options.maxZoom;if(f!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===f?(this._levels[E].el.style.zIndex=v-Math.abs(f-E),this._onUpdateLevel(E)):(Ht(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var M=this._levels[f],R=this._map;return M||(M=this._levels[f]={},M.el=gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=v,M.origin=R.project(R.unproject(R.getPixelOrigin()),f).round(),M.zoom=f,this._setZoomTransform(M,R.getCenter(),R.getZoom()),p(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var f,v,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)v=this._tiles[f],v.retain=v.current;for(f in this._tiles)if(v=this._tiles[f],v.current&&!v.active){var M=v.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var v in this._tiles)this._tiles[v].coords.z===f&&this._removeTile(v)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)Ht(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,v,E,M){var R=Math.floor(f/2),F=Math.floor(v/2),ee=E-1,ce=new Q(+R,+F);ce.z=+ee;var be=this._tileCoordsToKey(ce),Ae=this._tiles[be];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),ee>M?this._retainParent(R,F,ee,M):!1)},_retainChildren:function(f,v,E,M){for(var R=2*f;R<2*f+2;R++)for(var F=2*v;F<2*v+2;F++){var ee=new Q(R,F);ee.z=E+1;var ce=this._tileCoordsToKey(ee),be=this._tiles[ce];if(be&&be.active){be.retain=!0;continue}else be&&be.loaded&&(be.retain=!0);E+1<M&&this._retainChildren(R,F,E+1,M)}},_resetView:function(f){var v=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),v,v)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var v=this.options;return v.minNativeZoom!==void 0&&f<v.minNativeZoom?v.minNativeZoom:v.maxNativeZoom!==void 0&&v.maxNativeZoom<f?v.maxNativeZoom:f},_setView:function(f,v,E,M){var R=Math.round(v);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var F=this.options.updateWhenZooming&&R!==this._tileZoom;(!M||F)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(f),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(f,v)},_setZoomTransforms:function(f,v){for(var E in this._levels)this._setZoomTransform(this._levels[E],f,v)},_setZoomTransform:function(f,v,E){var M=this._map.getZoomScale(E,f.zoom),R=f.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(v,E)).round();Ve.any3d?Ca(f.el,R,M):Wt(f.el,R)},_resetGrid:function(){var f=this._map,v=f.options.crs,E=this._tileSize=this.getTileSize(),M=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=v.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,v.wrapLng[0]],M).x/E.x),Math.ceil(f.project([0,v.wrapLng[1]],M).x/E.y)],this._wrapY=v.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([v.wrapLat[0],0],M).y/E.x),Math.ceil(f.project([v.wrapLat[1],0],M).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var v=this._map,E=v._animatingZoom?Math.max(v._animateToZoom,v.getZoom()):v.getZoom(),M=v.getZoomScale(E,this._tileZoom),R=v.project(f,this._tileZoom).floor(),F=v.getSize().divideBy(M*2);return new z(R.subtract(F),R.add(F))},_update:function(f){var v=this._map;if(v){var E=this._clampZoom(v.getZoom());if(f===void 0&&(f=v.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(f),R=this._pxBoundsToTileRange(M),F=R.getCenter(),ee=[],ce=this.options.keepBuffer,be=new z(R.getBottomLeft().subtract([ce,-ce]),R.getTopRight().add([ce,-ce]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Ie=this._tiles[Ae].coords;(Ie.z!==this._tileZoom||!be.contains(new Q(Ie.x,Ie.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(f,E);return}for(var Xe=R.min.y;Xe<=R.max.y;Xe++)for(var mt=R.min.x;mt<=R.max.x;mt++){var Xn=new Q(mt,Xe);if(Xn.z=this._tileZoom,!!this._isValidTile(Xn)){var En=this._tiles[this._tileCoordsToKey(Xn)];En?En.current=!0:ee.push(Xn)}}if(ee.sort(function(Tt,Nt){return Tt.distanceTo(F)-Nt.distanceTo(F)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gr=document.createDocumentFragment();for(mt=0;mt<ee.length;mt++)this._addTile(ee[mt],Gr);this._level.el.appendChild(Gr)}}}},_isValidTile:function(f){var v=this._map.options.crs;if(!v.infinite){var E=this._globalTileRange;if(!v.wrapLng&&(f.x<E.min.x||f.x>E.max.x)||!v.wrapLat&&(f.y<E.min.y||f.y>E.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(f);return ie(this.options.bounds).overlaps(M)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var v=this._map,E=this.getTileSize(),M=f.scaleBy(E),R=M.add(E),F=v.unproject(M,f.z),ee=v.unproject(R,f.z);return[F,ee]},_tileCoordsToBounds:function(f){var v=this._tileCoordsToNwSe(f),E=new re(v[0],v[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var v=f.split(":"),E=new Q(+v[0],+v[1]);return E.z=+v[2],E},_removeTile:function(f){var v=this._tiles[f];v&&(Ht(v.el),delete this._tiles[f],this.fire("tileunload",{tile:v.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){ut(f,"leaflet-tile");var v=this.getTileSize();f.style.width=v.x+"px",f.style.height=v.y+"px",f.onselectstart=p,f.onmousemove=p,Ve.ielt9&&this.options.opacity<1&&tn(f,this.options.opacity)},_addTile:function(f,v){var E=this._getTilePos(f),M=this._tileCoordsToKey(f),R=this.createTile(this._wrapCoords(f),o(this._tileReady,this,f));this._initTile(R),this.createTile.length<2&&H(o(this._tileReady,this,f,null,R)),Wt(R,E),this._tiles[M]={el:R,coords:f,current:!0},v.appendChild(R),this.fire("tileloadstart",{tile:R,coords:f})},_tileReady:function(f,v,E){v&&this.fire("tileerror",{error:v,tile:E,coords:f});var M=this._tileCoordsToKey(f);E=this._tiles[M],E&&(E.loaded=+new Date,this._map._fadeAnimated?(tn(E.el,0),B(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),v||(ut(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ve.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var v=new Q(this._wrapX?h(f.x,this._wrapX):f.x,this._wrapY?h(f.y,this._wrapY):f.y);return v.z=f.z,v},_pxBoundsToTileRange:function(f){var v=this.getTileSize();return new z(f.min.unscaleBy(v).floor(),f.max.unscaleBy(v).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function N0(f){return new ul(f)}var yo=ul.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,v){this._url=f,v=w(this,v),v.detectRetina&&Ve.retina&&v.maxZoom>0?(v.tileSize=Math.floor(v.tileSize/2),v.zoomReverse?(v.zoomOffset--,v.minZoom=Math.min(v.maxZoom,v.minZoom+1)):(v.zoomOffset++,v.maxZoom=Math.max(v.minZoom,v.maxZoom-1)),v.minZoom=Math.max(0,v.minZoom)):v.zoomReverse?v.minZoom=Math.min(v.maxZoom,v.minZoom):v.maxZoom=Math.max(v.minZoom,v.maxZoom),typeof v.subdomains=="string"&&(v.subdomains=v.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,v){return this._url===f&&v===void 0&&(v=!0),this._url=f,v||this.redraw(),this},createTile:function(f,v){var E=document.createElement("img");return lt(E,"load",o(this._tileOnLoad,this,v,E)),lt(E,"error",o(this._tileOnError,this,v,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(f),E},getTileUrl:function(f){var v={r:Ve.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-f.y;this.options.tms&&(v.y=E),v["-y"]=E}return O(this._url,i(v,this.options))},_tileOnLoad:function(f,v){Ve.ielt9?setTimeout(o(f,this,null,v),0):f(null,v)},_tileOnError:function(f,v,E){var M=this.options.errorTileUrl;M&&v.getAttribute("src")!==M&&(v.src=M),f(E,v)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,v=this.options.maxZoom,E=this.options.zoomReverse,M=this.options.zoomOffset;return E&&(f=v-f),f+M},_getSubdomain:function(f){var v=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[v]},_abortLoading:function(){var f,v;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(v=this._tiles[f].el,v.onload=p,v.onerror=p,!v.complete)){v.src=D;var E=this._tiles[f].coords;Ht(v),delete this._tiles[f],this.fire("tileabort",{tile:v,coords:E})}},_removeTile:function(f){var v=this._tiles[f];if(v)return v.el.setAttribute("src",D),ul.prototype._removeTile.call(this,f)},_tileReady:function(f,v,E){if(!(!this._map||E&&E.getAttribute("src")===D))return ul.prototype._tileReady.call(this,f,v,E)}});function oi(f,v){return new yo(f,v)}var Ac=yo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,v){this._url=f;var E=i({},this.defaultWmsParams);for(var M in v)M in this.options||(E[M]=v[M]);v=w(this,v);var R=v.detectRetina&&Ve.retina?2:1,F=this.getTileSize();E.width=F.x*R,E.height=F.y*R,this.wmsParams=E},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var v=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[v]=this._crs.code,yo.prototype.onAdd.call(this,f)},getTileUrl:function(f){var v=this._tileCoordsToNwSe(f),E=this._crs,M=V(E.project(v[0]),E.project(v[1])),R=M.min,F=M.max,ee=(this._wmsVersion>=1.3&&this._crs===sh?[R.y,R.x,F.y,F.x]:[R.x,R.y,F.x,F.y]).join(","),ce=yo.prototype.getTileUrl.call(this,f);return ce+S(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(f,v){return i(this.wmsParams,f),v||this.redraw(),this}});function si(f,v){return new Ac(f,v)}yo.WMS=Ac,oi.wms=si;var Rr=Ti.extend({options:{padding:.1},initialize:function(f){w(this,f),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,v){var E=this._map.getZoomScale(v,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,v),F=M.multiplyBy(-E).add(R).subtract(this._map._getNewPixelOrigin(f,v));Ve.any3d?Ca(this._container,F,E):Wt(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,v=this._map.getSize(),E=this._map.containerPointToLayerPoint(v.multiplyBy(-f)).round();this._bounds=new z(E,E.add(v.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zu=Rr.extend({options:{tolerance:0},getEvents:function(){var f=Rr.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Rr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");lt(f,"mousemove",this._onMouseMove,this),lt(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),lt(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,Ht(this._container),It(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var v in this._layers)f=this._layers[v],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Rr.prototype._update.call(this);var f=this._bounds,v=this._container,E=f.getSize(),M=Ve.retina?2:1;Wt(v,f.min),v.width=M*E.x,v.height=M*E.y,v.style.width=E.x+"px",v.style.height=E.y+"px",Ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){Rr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[u(f)]=f;var v=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=v),this._drawLast=v,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var v=f._order,E=v.next,M=v.prev;E?E.prev=M:this._drawLast=M,M?M.next=E:this._drawFirst=E,delete f._order,delete this._layers[u(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var v=f.options.dashArray.split(/[, ]+/),E=[],M,R;for(R=0;R<v.length;R++){if(M=Number(v[R]),isNaN(M))return;E.push(M)}f.options._dashArray=E}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var v=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(f._pxBounds.min.subtract([v,v])),this._redrawBounds.extend(f._pxBounds.max.add([v,v]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var v=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,v.x,v.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,v=this._redrawBounds;if(this._ctx.save(),v){var E=v.getSize();this._ctx.beginPath(),this._ctx.rect(v.min.x,v.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)f=M.layer,(!v||f._pxBounds&&f._pxBounds.intersects(v))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,v){if(this._drawing){var E,M,R,F,ee=f._parts,ce=ee.length,be=this._ctx;if(ce){for(be.beginPath(),E=0;E<ce;E++){for(M=0,R=ee[E].length;M<R;M++)F=ee[E][M],be[M?"lineTo":"moveTo"](F.x,F.y);v&&be.closePath()}this._fillStroke(be,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var v=f._point,E=this._ctx,M=Math.max(Math.round(f._radius),1),R=(Math.max(Math.round(f._radiusY),1)||M)/M;R!==1&&(E.save(),E.scale(1,R)),E.beginPath(),E.arc(v.x,v.y/R,M,0,Math.PI*2,!1),R!==1&&E.restore(),this._fillStroke(E,f)}},_fillStroke:function(f,v){var E=v.options;E.fill&&(f.globalAlpha=E.fillOpacity,f.fillStyle=E.fillColor||E.color,f.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(f.setLineDash&&f.setLineDash(v.options&&v.options._dashArray||[]),f.globalAlpha=E.opacity,f.lineWidth=E.weight,f.strokeStyle=E.color,f.lineCap=E.lineCap,f.lineJoin=E.lineJoin,f.stroke())},_onClick:function(f){for(var v=this._map.mouseEventToLayerPoint(f),E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(v)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(E))&&(M=E);this._fireEvent(M?[M]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var v=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,v)}},_handleMouseOut:function(f){var v=this._hoveredLayer;v&&(sn(this._container,"leaflet-interactive"),this._fireEvent([v],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,v){if(!this._mouseHoverThrottled){for(var E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(v)&&(M=E);M!==this._hoveredLayer&&(this._handleMouseOut(f),M&&(ut(this._container,"leaflet-interactive"),this._fireEvent([M],f,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,v,E){this._map._fireDOMEvent(v,E||v.type,f)},_bringToFront:function(f){var v=f._order;if(v){var E=v.next,M=v.prev;if(E)E.prev=M;else return;M?M.next=E:E&&(this._drawFirst=E),v.prev=this._drawLast,this._drawLast.next=v,v.next=null,this._drawLast=v,this._requestRedraw(f)}},_bringToBack:function(f){var v=f._order;if(v){var E=v.next,M=v.prev;if(M)M.next=E;else return;E?E.prev=M:M&&(this._drawLast=M),v.prev=null,v.next=this._drawFirst,this._drawFirst.prev=v,this._drawFirst=v,this._requestRedraw(f)}}});function Tc(f){return Ve.canvas?new Zu(f):null}var vo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),lh={_initContainer:function(){this._container=gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Rr.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var v=f._container=vo("shape");ut(v,"leaflet-vml-shape "+(this.options.className||"")),v.coordsize="1 1",f._path=vo("path"),v.appendChild(f._path),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){var v=f._container;this._container.appendChild(v),f.options.interactive&&f.addInteractiveTarget(v)},_removePath:function(f){var v=f._container;Ht(v),f.removeInteractiveTarget(v),delete this._layers[u(f)]},_updateStyle:function(f){var v=f._stroke,E=f._fill,M=f.options,R=f._container;R.stroked=!!M.stroke,R.filled=!!M.fill,M.stroke?(v||(v=f._stroke=vo("stroke")),R.appendChild(v),v.weight=M.weight+"px",v.color=M.color,v.opacity=M.opacity,M.dashArray?v.dashStyle=A(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):v.dashStyle="",v.endcap=M.lineCap.replace("butt","flat"),v.joinstyle=M.lineJoin):v&&(R.removeChild(v),f._stroke=null),M.fill?(E||(E=f._fill=vo("fill")),R.appendChild(E),E.color=M.fillColor||M.color,E.opacity=M.fillOpacity):E&&(R.removeChild(E),f._fill=null)},_updateCircle:function(f){var v=f._point.round(),E=Math.round(f._radius),M=Math.round(f._radiusY||E);this._setPath(f,f._empty()?"M0 0":"AL "+v.x+","+v.y+" "+E+","+M+" 0,"+65535*360)},_setPath:function(f,v){f._path.v=v},_bringToFront:function(f){Zn(f._container)},_bringToBack:function(f){Xo(f._container)}},ra=Ve.vml?vo:tt,dl=Rr.extend({_initContainer:function(){this._container=ra("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ra("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ht(this._container),It(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Rr.prototype._update.call(this);var f=this._bounds,v=f.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(v))&&(this._svgSize=v,E.setAttribute("width",v.x),E.setAttribute("height",v.y)),Wt(E,f.min),E.setAttribute("viewBox",[f.min.x,f.min.y,v.x,v.y].join(" ")),this.fire("update")}},_initPath:function(f){var v=f._path=ra("path");f.options.className&&ut(v,f.options.className),f.options.interactive&&ut(v,"leaflet-interactive"),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){Ht(f._path),f.removeInteractiveTarget(f._path),delete this._layers[u(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var v=f._path,E=f.options;v&&(E.stroke?(v.setAttribute("stroke",E.color),v.setAttribute("stroke-opacity",E.opacity),v.setAttribute("stroke-width",E.weight),v.setAttribute("stroke-linecap",E.lineCap),v.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?v.setAttribute("stroke-dasharray",E.dashArray):v.removeAttribute("stroke-dasharray"),E.dashOffset?v.setAttribute("stroke-dashoffset",E.dashOffset):v.removeAttribute("stroke-dashoffset")):v.setAttribute("stroke","none"),E.fill?(v.setAttribute("fill",E.fillColor||E.color),v.setAttribute("fill-opacity",E.fillOpacity),v.setAttribute("fill-rule",E.fillRule||"evenodd")):v.setAttribute("fill","none"))},_updatePoly:function(f,v){this._setPath(f,Oe(f._parts,v))},_updateCircle:function(f){var v=f._point,E=Math.max(Math.round(f._radius),1),M=Math.max(Math.round(f._radiusY),1)||E,R="a"+E+","+M+" 0 1,0 ",F=f._empty()?"M0 0":"M"+(v.x-E)+","+v.y+R+E*2+",0 "+R+-E*2+",0 ";this._setPath(f,F)},_setPath:function(f,v){f._path.setAttribute("d",v)},_bringToFront:function(f){Zn(f._path)},_bringToBack:function(f){Xo(f._path)}});Ve.vml&&dl.include(lh);function Nc(f){return Ve.svg||Ve.vml?new dl(f):null}xt.include({getRenderer:function(f){var v=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return v||(v=this._renderer=this._createRenderer()),this.hasLayer(v)||this.addLayer(v),v},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var v=this._paneRenderers[f];return v===void 0&&(v=this._createRenderer({pane:f}),this._paneRenderers[f]=v),v},_createRenderer:function(f){return this.options.preferCanvas&&Tc(f)||Nc(f)}});var ts=ol.extend({initialize:function(f,v){ol.prototype.initialize.call(this,this._boundsToLatLngs(f),v)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=ie(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function hw(f,v){return new ts(f,v)}dl.create=ra,dl.pointsToPath=Oe,Ra.geometryToLayer=sr,Ra.coordsToLatLng=Yu,Ra.coordsToLatLngs=_c,Ra.latLngToCoords=qu,Ra.latLngsToCoords=Sc,Ra.getFeature=po,Ra.asFeature=Ku,xt.mergeOptions({boxZoom:!0});var Lr=Qi.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){It(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Xs(),Lu(),this._startPoint=this._map.mouseEventToContainerPoint(f),lt(document,{contextmenu:ho,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=gt("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var v=new z(this._point,this._startPoint),E=v.getSize();Wt(this._box,v.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Ht(this._box),sn(this._container,"leaflet-crosshair")),Xi(),dc(),It(document,{contextmenu:ho,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var v=new re(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(v).fire("boxzoomend",{boxZoomBounds:v})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",Lr),xt.mergeOptions({doubleClickZoom:!0});var Xu=Qi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var v=this._map,E=v.getZoom(),M=v.options.zoomDelta,R=f.originalEvent.shiftKey?E-M:E+M;v.options.doubleClickZoom==="center"?v.setZoom(R):v.setZoomAround(f.containerPoint,R)}});xt.addInitHook("addHandler","doubleClickZoom",Xu),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ia=Qi.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new mo(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){sn(this._map._container,"leaflet-grab"),sn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var v=ie(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(v.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(v.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var v=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(v),this._prunePositions(v)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),v=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=v.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,v){return f-(f-v)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),v=this._offsetLimit;f.x<v.min.x&&(f.x=this._viscousLimit(f.x,v.min.x)),f.y<v.min.y&&(f.y=this._viscousLimit(f.y,v.min.y)),f.x>v.max.x&&(f.x=this._viscousLimit(f.x,v.max.x)),f.y>v.max.y&&(f.y=this._viscousLimit(f.y,v.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,v=Math.round(f/2),E=this._initialWorldOffset,M=this._draggable._newPos.x,R=(M-v+E)%f+v-E,F=(M+v+E)%f-v-E,ee=Math.abs(R+E)<Math.abs(F+E)?R:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(f){var v=this._map,E=v.options,M=!E.inertia||f.noInertia||this._times.length<2;if(v.fire("dragend",f),M)v.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,ee=E.easeLinearity,ce=R.multiplyBy(ee/F),be=ce.distanceTo([0,0]),Ae=Math.min(E.inertiaMaxSpeed,be),Ie=ce.multiplyBy(Ae/be),Xe=Ae/(E.inertiaDeceleration*ee),mt=Ie.multiplyBy(-Xe/2).round();!mt.x&&!mt.y?v.fire("moveend"):(mt=v._limitOffset(mt,v.options.maxBounds),H(function(){v.panBy(mt,{duration:Xe,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",ia),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ch=Qi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),lt(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),It(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,v=document.documentElement,E=f.scrollTop||v.scrollTop,M=f.scrollLeft||v.scrollLeft;this._map._container.focus(),window.scrollTo(M,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var v=this._panKeys={},E=this.keyCodes,M,R;for(M=0,R=E.left.length;M<R;M++)v[E.left[M]]=[-1*f,0];for(M=0,R=E.right.length;M<R;M++)v[E.right[M]]=[f,0];for(M=0,R=E.down.length;M<R;M++)v[E.down[M]]=[0,f];for(M=0,R=E.up.length;M<R;M++)v[E.up[M]]=[0,-1*f]},_setZoomDelta:function(f){var v=this._zoomKeys={},E=this.keyCodes,M,R;for(M=0,R=E.zoomIn.length;M<R;M++)v[E.zoomIn[M]]=f;for(M=0,R=E.zoomOut.length;M<R;M++)v[E.zoomOut[M]]=-f},_addHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){It(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var v=f.keyCode,E=this._map,M;if(v in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(M=this._panKeys[v],f.shiftKey&&(M=te(M).multiplyBy(3)),E.options.maxBounds&&(M=E._limitOffset(te(M),E.options.maxBounds)),E.options.worldCopyJump){var R=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(M)));E.panTo(R)}else E.panBy(M)}else if(v in this._zoomKeys)E.setZoom(E.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[v]);else if(v===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;ho(f)}}});xt.addInitHook("addHandler","keyboard",ch),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Oc=Qi.extend({addHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){It(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var v=wr(f),E=this._map.options.wheelDebounceTime;this._delta+=v,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var M=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),M),ho(f)},_performZoom:function(){var f=this._map,v=f.getZoom(),E=this._map.options.zoomSnap||0;f._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,F=E?Math.ceil(R/E)*E:R,ee=f._limitZoom(v+(this._delta>0?F:-F))-v;this._delta=0,this._startTime=null,ee&&(f.options.scrollWheelZoom==="center"?f.setZoom(v+ee):f.setZoomAround(this._lastMousePos,v+ee))}});xt.addInitHook("addHandler","scrollWheelZoom",Oc);var ns=600;xt.mergeOptions({tapHold:Ve.touchNative&&Ve.safari&&Ve.mobile,tapTolerance:15});var Ju=Qi.extend({addHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){It(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var v=f.touches[0];this._startPos=this._newPos=new Q(v.clientX,v.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(lt(document,"touchend",kn),lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",v))},this),ns),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){It(document,"touchend",kn),It(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),It(document,"touchend touchcancel contextmenu",this._cancel,this),It(document,"touchmove",this._onMove,this)},_onMove:function(f){var v=f.touches[0];this._newPos=new Q(v.clientX,v.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,v){var E=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY});E._simulated=!0,v.target.dispatchEvent(E)}});xt.addInitHook("addHandler","tapHold",Ju),xt.mergeOptions({touchZoom:Ve.touch,bounceAtZoomLimits:!0});var uh=Qi.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){sn(this._map._container,"leaflet-touch-zoom"),It(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var v=this._map;if(!(!f.touches||f.touches.length!==2||v._animatingZoom||this._zooming)){var E=v.mouseEventToContainerPoint(f.touches[0]),M=v.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=v.getSize()._divideBy(2),this._startLatLng=v.containerPointToLatLng(this._centerPoint),v.options.touchZoom!=="center"&&(this._pinchStartLatLng=v.containerPointToLatLng(E.add(M)._divideBy(2))),this._startDist=E.distanceTo(M),this._startZoom=v.getZoom(),this._moved=!1,this._zooming=!0,v._stop(),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),kn(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var v=this._map,E=v.mouseEventToContainerPoint(f.touches[0]),M=v.mouseEventToContainerPoint(f.touches[1]),R=E.distanceTo(M)/this._startDist;if(this._zoom=v.getScaleZoom(R,this._startZoom),!v.options.bounceAtZoomLimits&&(this._zoom<v.getMinZoom()&&R<1||this._zoom>v.getMaxZoom()&&R>1)&&(this._zoom=v._limitZoom(this._zoom)),v.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var F=E._add(M)._divideBy(2)._subtract(this._centerPoint);if(R===1&&F.x===0&&F.y===0)return;this._center=v.unproject(v.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(v._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var ee=o(v._move,v,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(ee,this,!0),kn(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),It(document,"touchmove",this._onTouchMove,this),It(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",uh),xt.BoxZoom=Lr,xt.DoubleClickZoom=Xu,xt.Drag=ia,xt.Keyboard=ch,xt.ScrollWheelZoom=Oc,xt.TapHold=Ju,xt.TouchZoom=uh,n.Bounds=z,n.Browser=Ve,n.CRS=pe,n.Canvas=Zu,n.Circle=Gu,n.CircleMarker=al,n.Class=X,n.Control=Hr,n.DivIcon=T0,n.DivOverlay=lr,n.DomEvent=Bu,n.DomUtil=el,n.Draggable=mo,n.Evented=J,n.FeatureGroup=ea,n.GeoJSON=Ra,n.GridLayer=ul,n.Handler=Qi,n.Icon=ta,n.ImageOverlay=ll,n.LatLng=ue,n.LatLngBounds=re,n.Layer=Ti,n.LayerGroup=il,n.LineUtil=sw,n.Map=xt,n.Marker=wc,n.Mixin=rw,n.Path=na,n.Point=Q,n.PolyUtil=ah,n.Polygon=ol,n.Polyline=Pa,n.Popup=Ec,n.PosAnimation=tl,n.Projection=v0,n.Rectangle=ts,n.Renderer=Rr,n.SVG=dl,n.SVGOverlay=Vu,n.TileLayer=yo,n.Tooltip=jc,n.Transformation=ke,n.Util=q,n.VideoOverlay=bo,n.bind=o,n.bounds=V,n.canvas=Tc,n.circle=k0,n.circleMarker=S0,n.control=Da,n.divIcon=fw,n.extend=i,n.featureGroup=w0,n.geoJSON=Wu,n.geoJson=kc,n.gridLayer=N0,n.icon=yc,n.imageOverlay=E0,n.latLng=de,n.latLngBounds=ie,n.layerGroup=lw,n.map=Qf,n.marker=_0,n.point=te,n.polygon=uw,n.polyline=cw,n.popup=A0,n.rectangle=hw,n.setOptions=w,n.stamp=u,n.svg=Nc,n.svgOverlay=j0,n.tileLayer=oi,n.tooltip=dw,n.transformation=fe,n.version=r,n.videoOverlay=cl;var dh=window.L;n.noConflict=function(){return window.L=dh,this},window.L=n}))})(Sm,Sm.exports)),Sm.exports}var jX=EX();const o1=_i(jX),$g=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Gc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function AX(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:l,mapId:u}=e.ids,d=e.initialCenter??{lat:37.5665,lon:126.978},h=Gc(n),p=Gc(t),b=Gc(r),y=Gc(a),k=Gc(o),w=Gc(l),S=i?Gc(i):null;let T=null,O=null,A=null;const C=B=>B.code==="Space"||B.key===" "||B.key==="Spacebar"||B.key==="Space",D=B=>{C(B)&&document.activeElement!==k&&(B.preventDefault(),B.stopPropagation(),k.focus())},P=()=>{b.style.display="flex",T?setTimeout(()=>T?.invalidateSize(),200):setTimeout(()=>{T=o1.map(u,{keyboard:!1}).setView([d.lat,d.lon],11),o1.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(T),T.invalidateSize()},0),b.addEventListener("keydown",D,!0),b.addEventListener("keyup",D,!0),k.focus()},I=()=>{b.style.display="none",k.value="",w.innerHTML="",A&&(window.clearTimeout(A),A=null),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0)},U=B=>{const q=B.dataset.name??"",X=Number(B.dataset.lat??""),Z=Number(B.dataset.lon??"");!Number.isFinite(X)||!Number.isFinite(Z)||!T||(O?O.setLatLng([X,Z]):O=o1.marker([X,Z]).addTo(T),T.flyTo([X,Z],14,{duration:.5}),h.value=q,h.dataset.lat=String(X),h.dataset.lon=String(Z),e.onSelected?.({name:q,lat:X,lon:Z}),w.innerHTML="",I())},W=()=>{A&&window.clearTimeout(A);const B=k.value.trim();if(!B){w.innerHTML="";return}A=window.setTimeout(async()=>{try{const q="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(B),X=await fetch(q,{headers:{Accept:"application/json"}});if(!X.ok)throw new Error(`HTTP ${X.status}`);const Z=await X.json();if(!Array.isArray(Z)||Z.length===0){w.innerHTML='<li style="padding:8px"> </li>';return}const G=Z.slice(0,12).map((J,Q)=>{const oe=J.display_name.split(",").slice(0,3).map(V=>V.trim()).join("  "),te="padding:8px;cursor:pointer;outline:none;",z=Q===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${$g(oe)}"
                    data-lat="${$g(J.lat)}"
                    data-lon="${$g(J.lon)}"
                    data-active="${Q===0?"1":"0"}"
                    style="${te}${z}"
                  >${$g(oe)}</li>`}).join("");w.innerHTML=G}catch(q){console.error(q),w.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},K=B=>{const q=B.target;q.tagName==="LI"&&U(q)},H=B=>{if(B.key==="Enter"){const q=w.querySelector('li[data-active="1"]')??w.querySelector("li");q&&U(q)}};return p.addEventListener("click",P),y.addEventListener("click",I),S&&S.addEventListener("click",I),k.addEventListener("input",W),k.addEventListener("keydown",H),w.addEventListener("click",K),()=>{p.removeEventListener("click",P),y.removeEventListener("click",I),S&&S.removeEventListener("click",I),k.removeEventListener("input",W),k.removeEventListener("keydown",H),w.removeEventListener("click",K),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0),A&&(window.clearTimeout(A),A=null),T&&(T.remove(),T=null)}}function Ed(){return document.getElementById("suggestions")}function Hb(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function s1(e,t){const n=Hb(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const TX='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function NX({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:l,onSelect:u}){_.useEffect(()=>{if(!e)return;const d=AX({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:A=>{n(""),r(A.name),i.current&&(i.current.value=A.name),a.current&&(a.current.value=String(A.lat)),o.current&&(o.current.value=String(A.lon)),u?.(A),t(!1)}}),h=document.getElementById("inputBirthPlaceBtn");h&&h.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const b=document.getElementById("searchBox"),y=Ed();setTimeout(()=>b?.focus(),0);const k=A=>{if(A.key==="Escape"){A.preventDefault(),t(!1);return}if(A.key!=="Tab")return;const C=Ed();if(C&&C.contains(document.activeElement))return;const D=Array.from(p.querySelectorAll(TX)).filter(W=>!W.hasAttribute("disabled")&&W.tabIndex!==-1);if(D.length===0)return;const P=D[0],I=D[D.length-1],U=document.activeElement;A.shiftKey?(U===P||!p.contains(U))&&(A.preventDefault(),I.focus()):(U===I||!p.contains(U))&&(A.preventDefault(),P.focus())};p.addEventListener("keydown",k);const w=A=>{if(A.key!=="ArrowDown")return;const C=Ed();!C||Hb(C).length===0||A.preventDefault()};b?.addEventListener("keydown",w);const S=A=>{if(A.target.value.trim()===""){const D=Ed();D&&(D.innerHTML="")}};b?.addEventListener("input",S);const T=A=>{const C=Ed();if(!C)return;const D=Hb(C);if(D.length===0)return;const P=document.activeElement,I=P?D.indexOf(P):-1;if(I===-1)return;const U=W=>{A.preventDefault(),s1(C,I+W)};switch(A.key){case"Tab":A.preventDefault(),U(A.shiftKey?-1:1);break;case"ArrowDown":A.preventDefault(),U(1);break;case"ArrowUp":A.preventDefault(),U(-1);break;case"Home":A.preventDefault(),s1(C,0);break;case"End":A.preventDefault(),s1(C,D.length-1);break;case"Enter":case" ":A.preventDefault(),P.click();break;case"Backspace":A.preventDefault(),C.innerHTML="",b?.focus();break}A.stopPropagation()};let O=null;return y&&(y.addEventListener("keydown",T),O=new MutationObserver(()=>{const A=Ed();!A||Hb(A).length}),O.observe(y,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",k),b?.removeEventListener("keydown",w),b?.removeEventListener("input",S),y&&y.removeEventListener("keydown",T),O?.disconnect(),d?.()}},[e,u,n,r,t,i,a,o]),_.useEffect(()=>{e||setTimeout(()=>l.current?.focus(),0)},[e,l])}function d4({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=SX({placeholderText:t,value:r});return NX({...i,onSelect:e}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),g.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),g.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),g.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"   ."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"       ."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function fr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var OX=typeof Symbol=="function"&&Symbol.observable||"@@observable",rD=OX,l1=()=>Math.random().toString(36).substring(7).split("").join("."),CX={INIT:`@@redux/INIT${l1()}`,REPLACE:`@@redux/REPLACE${l1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${l1()}`},py=CX;function pj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function gj(e,t,n){if(typeof e!="function")throw new Error(fr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fr(1));return n(gj)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,u=!1;function d(){o===a&&(o=new Map,a.forEach((S,T)=>{o.set(T,S)}))}function h(){if(u)throw new Error(fr(3));return i}function p(S){if(typeof S!="function")throw new Error(fr(4));if(u)throw new Error(fr(5));let T=!0;d();const O=l++;return o.set(O,S),function(){if(T){if(u)throw new Error(fr(6));T=!1,d(),o.delete(O),a=null}}}function b(S){if(!pj(S))throw new Error(fr(7));if(typeof S.type>"u")throw new Error(fr(8));if(typeof S.type!="string")throw new Error(fr(17));if(u)throw new Error(fr(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=o).forEach(O=>{O()}),S}function y(S){if(typeof S!="function")throw new Error(fr(10));r=S,b({type:py.REPLACE})}function k(){const S=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(fr(11));function O(){const C=T;C.next&&C.next(h())}return O(),{unsubscribe:S(O)}},[rD](){return this}}}return b({type:py.INIT}),{dispatch:b,subscribe:p,getState:h,replaceReducer:y,[rD]:k}}function MX(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:py.INIT})>"u")throw new Error(fr(12));if(typeof n(void 0,{type:py.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fr(13))})}function f4(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{MX(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],b=n[p],y=o[p],k=b(y,l);if(typeof k>"u")throw l&&l.type,new Error(fr(14));d[p]=k,u=u||k!==y}return u=u||r.length!==Object.keys(o).length,u?d:o}}function iD(e,t){return function(...n){return t(e.apply(this,n))}}function aD(e,t){if(typeof e=="function")return iD(e,t);if(typeof e!="object"||e===null)throw new Error(fr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=iD(i,t))}return n}function Fm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function h4(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(fr(15))};const o={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},l=e.map(u=>u(o));return a=Fm(...l)(i.dispatch),{...i,dispatch:a}}}function m4(e){return pj(e)&&"type"in e&&typeof e.type=="string"}var c1={exports:{}},u1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oD;function DX(){if(oD)return u1;oD=1;var e=bf();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return u1.useSyncExternalStoreWithSelector=function(u,d,h,p,b){var y=i(null);if(y.current===null){var k={hasValue:!1,value:null};y.current=k}else k=y.current;y=o(function(){function S(D){if(!T){if(T=!0,O=D,D=p(D),b!==void 0&&k.hasValue){var P=k.value;if(b(P,D))return A=P}return A=D}if(P=A,n(O,D))return P;var I=p(D);return b!==void 0&&b(P,I)?(O=D,P):(O=D,A=I)}var T=!1,O,A,C=h===void 0?null:h;return[function(){return S(d())},C===null?void 0:function(){return S(C())}]},[d,h,p,b]);var w=r(u,y[0],y[1]);return a(function(){k.hasValue=!0,k.value=w},[w]),l(w),w},u1}var sD;function PX(){return sD||(sD=1,c1.exports=DX()),c1.exports}PX();var RX=_.version.startsWith("19"),LX=Symbol.for(RX?"react.transitional.element":"react.element"),IX=Symbol.for("react.portal"),$X=Symbol.for("react.fragment"),BX=Symbol.for("react.strict_mode"),zX=Symbol.for("react.profiler"),UX=Symbol.for("react.consumer"),FX=Symbol.for("react.context"),p4=Symbol.for("react.forward_ref"),HX=Symbol.for("react.suspense"),GX=Symbol.for("react.suspense_list"),bj=Symbol.for("react.memo"),YX=Symbol.for("react.lazy"),qX=p4,KX=bj;function WX(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case LX:switch(e=e.type,e){case $X:case zX:case BX:case HX:case GX:return e;default:switch(e=e&&e.$$typeof,e){case FX:case p4:case YX:case bj:return e;case UX:return e;default:return t}}case IX:return t}}}function VX(e){return WX(e)===bj}function ZX(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,u,d,h,p,b;function y(O,A){return u=O,d=A,h=e(u,d),p=t(r,d),b=n(h,p,d),l=!0,b}function k(){return h=e(u,d),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function w(){return e.dependsOnOwnProps&&(h=e(u,d)),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function S(){const O=e(u,d),A=!o(O,h);return h=O,A&&(b=n(h,p,d)),b}function T(O,A){const C=!a(A,d),D=!i(O,u,A,d);return u=O,d=A,C&&D?k():C?w():D?S():b}return function(A,C){return l?T(A,C):y(A,C)}}function XX(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),l=r(e,i);return ZX(a,o,l,e,i)}function JX(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function a2(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function lD(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function g4(e,t){return function(r,{displayName:i}){const a=function(l,u){return a.dependsOnOwnProps?a.mapToProps(l,u):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,u){a.mapToProps=e,a.dependsOnOwnProps=lD(e);let d=a(l,u);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=lD(d),d=a(l,u)),d},a}}function yj(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function QX(e){return e&&typeof e=="object"?a2(t=>JX(e,t)):e?typeof e=="function"?g4(e):yj(e,"mapDispatchToProps"):a2(t=>({dispatch:t}))}function eJ(e){return e?typeof e=="function"?g4(e):yj(e,"mapStateToProps"):a2(()=>({}))}function tJ(e,t,n){return{...n,...e,...t}}function nJ(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,d,h){const p=e(u,d,h);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function rJ(e){return e?typeof e=="function"?nJ(e):yj(e,"mergeProps"):()=>tJ}function iJ(e){e()}function aJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){iJ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var cD={notify(){},get:()=>[]};function b4(e,t){let n,r=cD,i=0,a=!1;function o(w){h();const S=r.subscribe(w);let T=!1;return()=>{T||(T=!0,S(),p())}}function l(){r.notify()}function u(){k.onStateChange&&k.onStateChange()}function d(){return a}function h(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=aJ())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=cD)}function b(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const k={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>r};return k}var oJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sJ=oJ(),lJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cJ=lJ(),uJ=()=>sJ||cJ?_.useLayoutEffect:_.useEffect,gy=uJ();function uD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Gb(e,t){if(uD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!uD(e[n[i]],t[n[i]]))return!1;return!0}var dJ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},fJ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hJ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},y4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mJ={[qX]:hJ,[KX]:y4};function dD(e){return VX(e)?y4:mJ[e.$$typeof]||dJ}var pJ=Object.defineProperty,gJ=Object.getOwnPropertyNames,fD=Object.getOwnPropertySymbols,bJ=Object.getOwnPropertyDescriptor,yJ=Object.getPrototypeOf,hD=Object.prototype;function o2(e,t){if(typeof t!="string"){if(hD){const a=yJ(t);a&&a!==hD&&o2(e,a)}let n=gJ(t);fD&&(n=n.concat(fD(t)));const r=dD(e),i=dD(t);for(let a=0;a<n.length;++a){const o=n[a];if(!fJ[o]&&!(i&&i[o])&&!(r&&r[o])){const l=bJ(t,o);try{pJ(e,o,l)}catch{}}}}return e}var vJ=Symbol.for("react-redux-context"),xJ=typeof globalThis<"u"?globalThis:{};function wJ(){if(!_.createContext)return{};const e=xJ[vJ]??=new Map;let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var v4=wJ(),_J=[null,null];function SJ(e,t,n){gy(()=>e(...t),n)}function kJ(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function EJ(e,t,n,r,i,a,o,l,u,d,h){if(!e)return()=>{};let p=!1,b=null;const y=()=>{if(p||!l.current)return;const w=t.getState();let S,T;try{S=r(w,i.current)}catch(O){T=O,b=O}T||(b=null),S===a.current?o.current||d():(a.current=S,u.current=S,o.current=!0,h())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,b)throw b}}function jJ(e,t){return e===t}function AJ(e,t,n,{pure:r,areStatesEqual:i=jJ,areOwnPropsEqual:a=Gb,areStatePropsEqual:o=Gb,areMergedPropsEqual:l=Gb,forwardRef:u=!1,context:d=v4}={}){const h=d,p=eJ(e),b=QX(t),y=rJ(n),k=!!e;return S=>{const T=S.displayName||S.name||"Component",O=`Connect(${T})`,A={shouldHandleStateChanges:k,displayName:O,wrappedComponentName:T,WrappedComponent:S,initMapStateToProps:p,initMapDispatchToProps:b,initMergeProps:y,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function C(I){const[U,W,K]=_.useMemo(()=>{const{reactReduxForwardedRef:fe,...Ue}=I;return[I.context,fe,Ue]},[I]),H=_.useMemo(()=>{let fe=h;return U?.Consumer,fe},[U,h]),B=_.useContext(H),q=!!I.store&&!!I.store.getState&&!!I.store.dispatch,X=!!B&&!!B.store,Z=q?I.store:B.store,G=X?B.getServerState:Z.getState,J=_.useMemo(()=>XX(Z.dispatch,A),[Z]),[Q,oe]=_.useMemo(()=>{if(!k)return _J;const fe=b4(Z,q?void 0:B.subscription),Ue=fe.notifyNestedSubs.bind(fe);return[fe,Ue]},[Z,q,B]),te=_.useMemo(()=>q?B:{...B,subscription:Q},[q,B,Q]),z=_.useRef(void 0),V=_.useRef(K),re=_.useRef(void 0),ie=_.useRef(!1),ue=_.useRef(!1),de=_.useRef(void 0);gy(()=>(ue.current=!0,()=>{ue.current=!1}),[]);const pe=_.useMemo(()=>()=>re.current&&K===V.current?re.current:J(Z.getState(),K),[Z,K]),Ne=_.useMemo(()=>Ue=>Q?EJ(k,Z,Q,J,V,z,ie,ue,re,oe,Ue):()=>{},[Q]);SJ(kJ,[V,z,ie,K,re,oe]);let se;try{se=_.useSyncExternalStore(Ne,pe,G?()=>J(G(),K):pe)}catch(fe){throw de.current&&(fe.message+=`
The error may be correlated with this previous error:
${de.current.stack}

`),fe}gy(()=>{de.current=void 0,re.current=void 0,z.current=se});const je=_.useMemo(()=>_.createElement(S,{...se,ref:W}),[W,S,se]);return _.useMemo(()=>k?_.createElement(H.Provider,{value:te},je):je,[H,je,te])}const P=_.memo(C);if(P.WrappedComponent=S,P.displayName=C.displayName=O,u){const U=_.forwardRef(function(K,H){return _.createElement(P,{...K,reactReduxForwardedRef:H})});return U.displayName=O,U.WrappedComponent=S,o2(U,S)}return o2(P,S)}}var x4=AJ;function TJ(e){const{children:t,context:n,serverState:r,store:i}=e,a=_.useMemo(()=>{const u=b4(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=_.useMemo(()=>i.getState(),[i]);gy(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||v4;return _.createElement(l.Provider,{value:a},t)}var w4=TJ,NJ="Invariant failed";function OJ(e,t){throw new Error(NJ)}var Xa=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},vj=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},mD=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},CJ=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},d1={top:0,right:0,bottom:0,left:0},xj=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?d1:r,a=t.border,o=a===void 0?d1:a,l=t.padding,u=l===void 0?d1:l,d=Xa(vj(n,i)),h=Xa(mD(n,o)),p=Xa(mD(h,u));return{marginBox:d,borderBox:Xa(n),paddingBox:h,contentBox:p,margin:i,border:o,padding:u}},la=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&OJ(),i},MJ=function(){return{x:window.pageXOffset,y:window.pageYOffset}},by=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=CJ(r,n);return xj({borderBox:l,border:i,margin:a,padding:o})},yy=function(t,n){return n===void 0&&(n=MJ()),by(t,n)},_4=function(t,n){var r={top:la(n.marginTop),right:la(n.marginRight),bottom:la(n.marginBottom),left:la(n.marginLeft)},i={top:la(n.paddingTop),right:la(n.paddingRight),bottom:la(n.paddingBottom),left:la(n.paddingLeft)},a={top:la(n.borderTopWidth),right:la(n.borderRightWidth),bottom:la(n.borderBottomWidth),left:la(n.borderLeftWidth)};return xj({borderBox:t,margin:r,padding:i,border:a})},S4=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return _4(n,r)},Hm=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vy.apply(null,arguments)}function k4(e,t){}k4.bind(null,"warn");k4.bind(null,"error");function Ul(){}function DJ(e,t){return{...e,...t}}function pa(e,t,n){const r=t.map(i=>{const a=DJ(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const PJ="Invariant failed";class xy extends Error{}xy.prototype.toString=function(){return this.message};function Le(e,t){throw new xy(PJ)}class RJ extends Qt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Ul,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof xy&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=pa(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof xy){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const LJ=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,wy=e=>e+1,IJ=e=>`
  You have lifted an item in position ${wy(e.source.index)}
`,E4=(e,t)=>{const n=e.droppableId===t.droppableId,r=wy(e.index),i=wy(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},j4=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,$J=e=>{const t=e.destination;if(t)return E4(e.source,t);const n=e.combine;return n?j4(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},pD=e=>`
  The item has returned to its starting position
  of ${wy(e.index)}
`,BJ=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${pD(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${E4(e.source,t)}
    `:n?`
      You have dropped the item.
      ${j4(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${pD(e.source)}
  `},Yb={dragHandleUsageInstructions:LJ,onDragStart:IJ,onDragUpdate:$J,onDragEnd:BJ};function zJ(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function A4(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!zJ(e[n],t[n]))return!1;return!0}function Et(e,t){const n=_.useState(()=>({inputs:t,result:e()}))[0],r=_.useRef(!0),i=_.useRef(n),o=r.current||!!(t&&i.current.inputs&&A4(t,i.current.inputs))?i.current:{inputs:t,result:e()};return _.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Qe(e,t){return Et(()=>e,t)}const gr={x:0,y:0},Tr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Fi=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Fl=(e,t)=>e.x===t.x&&e.y===t.y,Sf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),wu=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Gm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),gD=(e,t)=>Math.min(...t.map(n=>Gm(e,n))),T4=e=>t=>({x:e(t.x),y:e(t.y)});var UJ=(e,t)=>{const n=Xa({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Sp=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),bD=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],FJ={top:0,right:0,bottom:0,left:0},HJ=(e,t)=>t?Sp(e,t.scroll.diff.displacement):e,GJ=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,YJ=(e,t)=>t&&t.shouldClipSubject?UJ(t.pageMarginBox,e):Xa(e);var rf=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=HJ(e.marginBox,r),a=GJ(i,n,t),o=YJ(a,r);return{page:e,withPlaceholder:t,active:o}},wj=(e,t)=>{e.frame||Le();const n=e.frame,r=Fi(t,n.scroll.initial),i=Sf(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=rf({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function pr(e,t=A4){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const N4=pr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),O4=pr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),qv=pr(e=>Object.values(e)),qJ=pr(e=>Object.values(e));var kf=pr((e,t)=>qJ(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function _j(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Kv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Wv=pr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),KJ=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!_j(i))return null;function o(y){const k={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return{...i,at:k}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?o(u):null;const d=Wv(t,r);if(!u){if(!d.length)return null;const y=d[d.length-1];return o(y.descriptor.id)}const h=d.findIndex(y=>y.descriptor.id===u);h===-1&&Le();const p=h-1;if(p<0)return null;const b=d[p];return o(b.descriptor.id)},Ef=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const C4={point:gr,value:0},Ym={invisible:{},visible:{},all:[]},WJ={displaced:Ym,displacedBy:C4,at:null};var xa=(e,t)=>n=>e<=n&&n<=t,M4=e=>{const t=xa(e.top,e.bottom),n=xa(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return u&&d?!0:u&&o||d&&a}},VJ=e=>{const t=xa(e.top,e.bottom),n=xa(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Sj={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},D4={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var ZJ=e=>t=>{const n=xa(t.top,t.bottom),r=xa(t.left,t.right);return i=>e===Sj?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const XJ=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:gr;return Sp(e,n)},JJ=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,QJ=(e,t,n)=>n(t)(e),kj=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?XJ(e,t):e;return JJ(a,t,i)&&QJ(a,n,i)},eQ=e=>kj({...e,isVisibleThroughFrameFn:M4}),P4=e=>kj({...e,isVisibleThroughFrameFn:VJ}),tQ=e=>kj({...e,isVisibleThroughFrameFn:ZJ(e.destination.axis)}),nQ=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function rQ(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Xa(vj(n,r))}function qm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,u){const d=rQ(u,n),h=u.descriptor.id;if(l.all.push(h),!eQ({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const b=nQ(h,a,i),y={draggableId:h,shouldAnimate:b};return l.visible[h]=y,l},{all:[],visible:{},invisible:{}})}function iQ(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function yD({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=iQ(e,{inHomeList:t});return{displaced:Ym,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function _y({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const u=Ef(e,n);if(o==null)return yD({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const d=t.find(k=>k.descriptor.index===o);if(!d)return yD({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const h=Wv(e,t),p=t.indexOf(d),b=h.slice(p);return{displaced:qm({afterDragging:b,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function ql(e,t){return!!t.effected[e]}var aQ=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return ql(a,i)?e?l:l-1:e?l+1:l},oQ=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return a<o||a>u?null:a},sQ=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:u})=>{const d=o.at;if(d||Le(),d.type==="REORDER"){const p=oQ({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:a});return p==null?null:_y({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})}const h=aQ({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:d.combine,afterCritical:u});return h==null?null:_y({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},lQ=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return ql(n,t)?i?gr:Sf(r.point):i?r.point:gr},cQ=({afterCritical:e,impact:t,draggables:n})=>{const r=Kv(t);r||Le();const i=r.draggableId,a=n[i].page.borderBox.center,o=lQ({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Tr(a,o)};const R4=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,uQ=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Ej=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,vD=({axis:e,moveRelativeTo:t,isMoving:n})=>wu(e.line,t.marginBox[e.end]+R4(e,n),Ej(e,t.marginBox,n)),xD=({axis:e,moveRelativeTo:t,isMoving:n})=>wu(e.line,t.marginBox[e.start]-uQ(e,n),Ej(e,t.marginBox,n)),dQ=({axis:e,moveInto:t,isMoving:n})=>wu(e.line,t.contentBox[e.start]+R4(e,n),Ej(e,t.contentBox,n));var fQ=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=kf(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return dQ({axis:l,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:d}=e,h=u.all[0];if(h){const b=n[h];if(ql(h,i))return xD({axis:l,moveRelativeTo:b.page,isMoving:o});const y=by(b.page,d.point);return xD({axis:l,moveRelativeTo:y,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(ql(p.descriptor.id,i)){const b=by(p.page,Sf(i.displacedBy.point));return vD({axis:l,moveRelativeTo:b,isMoving:o})}return vD({axis:l,moveRelativeTo:p.page,isMoving:o})},s2=(e,t)=>{const n=e.frame;return n?Tr(t,n.scroll.diff.displacement):t};const hQ=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?fQ({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):cQ({impact:e,draggables:r,afterCritical:i})};var Vv=e=>{const t=hQ(e),n=e.droppable;return n?s2(n,t):t},L4=(e,t)=>{const n=Fi(t,e.scroll.initial),r=Sf(n);return{frame:Xa({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function wD(e,t){return e.map(n=>t[n])}function mQ(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var pQ=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=L4(t,Tr(t.scroll.current,i)),o=n.frame?wj(n,Tr(n.frame.scroll.current,i)):n,l=e.displaced,u=qm({afterDragging:wD(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d=qm({afterDragging:wD(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},p={},b=[l,u,d];return l.all.forEach(k=>{const w=mQ(k,b);if(w){p[k]=w;return}h[k]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:p}}},gQ=(e,t)=>Tr(e.scroll.diff.displacement,t),jj=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=gQ(n,e),i=Fi(r,t.page.borderBox.center);return Tr(t.client.borderBox.center,i)},I4=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Fi(n,e.page.borderBox.center),u={target:Sp(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?tQ(u):P4(u)},bQ=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=kf(n.descriptor.id,r),h=Ef(t,n),p=KJ({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||sQ({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const b=Vv({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(I4({draggable:t,destination:n,newPageBorderBoxCenter:b,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:jj({pageBorderBoxCenter:b,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const k=Fi(b,o),w=pQ({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:k});return{clientSelection:l,impact:w,scrollJumpRequest:k}};const qr=e=>{const t=e.subject.active;return t||Le(),t};var yQ=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=xa(a[o.start],a[o.end]),u=qv(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>M4(i.frame)(qr(h))).filter(h=>{const p=qr(h);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const p=qr(h),b=xa(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||b(a[o.start])||b(a[o.end])}).sort((h,p)=>{const b=qr(h)[o.crossAxisStart],y=qr(p)[o.crossAxisStart];return e?b-y:y-b}).filter((h,p,b)=>qr(h)[o.crossAxisStart]===qr(b[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(h=>xa(qr(h)[o.start],qr(h)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((h,p)=>qr(h)[o.start]-qr(p)[o.start])[0]:u.sort((h,p)=>{const b=gD(t,bD(qr(h))),y=gD(t,bD(qr(p)));return b!==y?b-y:qr(h)[o.start]-qr(p)[o.start]})[0]};const _D=(e,t)=>{const n=e.page.borderBox.center;return ql(e.descriptor.id,t)?Fi(n,t.displacedBy.point):n},vQ=(e,t)=>{const n=e.page.borderBox;return ql(e.descriptor.id,t)?Sp(n,Sf(t.displacedBy.point)):n};var xQ=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>P4({target:vQ(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const u=Gm(e,s2(n,_D(o,i))),d=Gm(e,s2(n,_D(l,i)));return u<d?-1:d<u?1:o.descriptor.index-l.descriptor.index})[0]||null,kp=pr(function(t,n){const r=n[t.line];return{value:r,point:wu(t.line,r)}});const wQ=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return wu(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=kf(e.descriptor.id,n).reduce((d,h)=>d+h.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:wu(r.line,u)},$4=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),B4=(e,t,n)=>{const r=e.frame;Ef(t,e)&&Le(),e.subject.withPlaceholder&&Le();const i=kp(e.axis,t.displaceBy).point,a=wQ(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=rf({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?Tr(r.scroll.max,a):r.scroll.max,u=$4(r,l),d=rf({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},_Q=e=>{const t=e.subject.withPlaceholder;t||Le();const n=e.frame;if(!n){const o=rf({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Le();const i=$4(n,r),a=rf({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var SQ=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:Ym,displacedBy:C4,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},b=Vv({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:l}),y=Ef(r,a)?a:B4(a,r,i);return I4({draggable:r,destination:y,newPageBorderBoxCenter:b,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],d=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),h=kp(a.axis,r.displaceBy);return _y({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:h,last:Ym,index:d})},kQ=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const u=yQ({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const d=kf(u.descriptor.id,i),h=xQ({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:d,afterCritical:l}),p=SQ({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:o,afterCritical:l});if(!p)return null;const b=Vv({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:jj({pageBorderBoxCenter:b,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Gi=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const EQ=(e,t)=>{const n=Gi(e);return n?t[n]:null};var jQ=({state:e,type:t})=>{const n=EQ(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:p,droppables:b}=e.dimensions;return l?bQ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):kQ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,isOver:a,draggables:p,droppables:b,viewport:e.viewport,afterCritical:e.afterCritical})};function tu(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function z4(e){const t=xa(e.top,e.bottom),n=xa(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function AQ(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function TQ({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,l=wu(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:Gm(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function NQ({pageBorderBox:e,draggable:t,droppables:n}){const r=qv(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!AQ(e,a))return!1;if(z4(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],u=e[o.crossAxisStart],d=e[o.crossAxisEnd],h=xa(a[o.crossAxisStart],a[o.crossAxisEnd]),p=h(u),b=h(d);return!p&&!b?!0:p?u<l:d>l});return r.length?r.length===1?r[0].descriptor.id:TQ({pageBorderBox:e,draggable:t,candidates:r}):null}const U4=(e,t)=>Xa(Sp(e,t));var OQ=(e,t)=>{const n=e.frame;return n?U4(t,n.scroll.diff.value):t};function F4({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function CQ({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var MQ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=n.axis,u=kp(n.axis,t.displaceBy),d=u.value,h=e[l.start],p=e[l.end],y=Wv(t,r).find(w=>{const S=w.descriptor.id,T=w.page.borderBox.center[l.line],O=ql(S,o),A=F4({displaced:i,id:S});return O?A?p<=T:h<T-d:A?p<=T+d:h<T})||null,k=CQ({draggable:t,closest:y,inHomeList:Ef(t,n)});return _y({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:k})};const DQ=4;var PQ=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=kp(r.axis,e.displaceBy),u=l.value,d=t[o.start],h=t[o.end],b=Wv(e,i).find(k=>{const w=k.descriptor.id,S=k.page.borderBox,O=S[o.size]/DQ,A=ql(w,a),C=F4({displaced:n.displaced,id:w});return A?C?h>S[o.start]+O&&h<S[o.end]-O:d>S[o.start]-u+O&&d<S[o.end]-u-O:C?h>S[o.start]+u+O&&h<S[o.end]+u-O:d>S[o.start]+O&&d<S[o.end]-O});return b?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:b.descriptor.id,droppableId:r.descriptor.id}}}:null},H4=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=U4(t.page.borderBox,e),u=NQ({pageBorderBox:l,draggable:t,droppables:r});if(!u)return WJ;const d=r[u],h=kf(d.descriptor.id,n),p=OQ(d,l);return PQ({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:d,insideDestination:h,afterCritical:o})||MQ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:d,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},Aj=(e,t)=>({...e,[t.descriptor.id]:t});const RQ=({previousImpact:e,impact:t,droppables:n})=>{const r=Gi(e),i=Gi(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=_Q(a);return Aj(n,o)};var LQ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=RQ({previousImpact:r,impact:i,droppables:n}),o=Gi(i);if(!o)return a;const l=n[o];if(Ef(e,l)||l.subject.withPlaceholder)return a;const u=B4(l,e,t);return Aj(a,u)},Cm=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=Fi(u,e.initial.client.selection),h={offset:d,selection:u,borderBoxCenter:Tr(e.initial.client.borderBoxCenter,d)},p={selection:Tr(h.selection,o.scroll.current),borderBoxCenter:Tr(h.borderBoxCenter,o.scroll.current),offset:Tr(h.offset,o.scroll.diff.value)},b={client:h,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:b};const y=l.draggables[e.critical.draggable.id],k=i||H4({pageOffset:p.offset,draggable:y,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),w=LQ({draggable:y,impact:k,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:b,dimensions:{draggables:l.draggables,droppables:w},impact:k,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function IQ(e,t){return e.map(n=>t[n])}var G4=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=IQ(a.all,n),l=qm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},Y4=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=Vv({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return jj({pageBorderBoxCenter:o,draggable:t,viewport:i})},q4=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Le();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,u=o[e.critical.draggable.id],d=Gi(r);d||Le();const h=l[d],p=G4({impact:r,viewport:i,destination:h,draggables:o}),b=Y4({impact:p,draggable:u,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return Cm({impact:p,clientSelection:b,state:e,dimensions:a,viewport:i})},$Q=e=>({index:e.index,droppableId:e.droppableId}),K4=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=kp(t.axis,e.displaceBy),a=kf(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Le();const l=a.slice(o+1),u=l.reduce((b,y)=>(b[y.descriptor.id]=!0,b),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:qm({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:$Q(e.descriptor)}},afterCritical:d}},BQ=(e,t)=>({draggables:e.draggables,droppables:Aj(e.droppables,t)}),zQ=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=by(e.client,t),i=yy(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},UQ=e=>{const t=e.frame;return t||Le(),t},FQ=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=UQ(o).scroll.diff.value,d=Tr(r,u);return zQ({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},HQ=({state:e,published:t})=>{const n=t.modified.map(T=>{const O=e.dimensions.droppables[T.droppableId];return wj(O,T.scroll)}),r={...e.dimensions.droppables,...N4(n)},i=O4(FQ({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(T=>{delete a[T]});const o={droppables:r,draggables:a},l=Gi(e.impact),u=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:b}=K4({draggable:d,home:h,draggables:a,viewport:e.viewport}),y=u&&u.isCombineEnabled?e.impact:p,k=H4({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:y,viewport:e.viewport,afterCritical:b}),w={...e,phase:"DRAGGING",impact:k,onLiftImpact:p,dimensions:o,afterCritical:b,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const l2=e=>e.movementMode==="SNAP",f1=(e,t,n)=>{const r=BQ(e.dimensions,t);return!l2(e)||n?Cm({state:e,dimensions:r}):q4({state:e,dimensions:r})};function h1(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const SD={phase:"IDLE",completed:null,shouldFlush:!1};var GQ=(e=SD,t)=>{if(t.type==="FLUSH")return{...SD,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Le();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:gr},h={client:d,page:{selection:Tr(d.selection,i.scroll.initial),borderBoxCenter:Tr(d.selection,i.scroll.initial),offset:Tr(d.selection,i.scroll.diff.value)}},p=qv(a.droppables).every(w=>!w.isFixedOnPage),{impact:b,afterCritical:y}=K4({draggable:l,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:p,impact:b,afterCritical:y,onLiftImpact:b,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Le(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Le(),HQ({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;tu(e)||Le();const{client:n}=t.payload;return Fl(n,e.current.client.selection)?e:Cm({state:e,clientSelection:n,impact:l2(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return h1(e);tu(e)||Le();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=wj(i,r);return f1(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;tu(e)||Le();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Le(),i.isEnabled===r&&Le();const a={...i,isEnabled:r};return f1(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;tu(e)||Le();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Le(),i.isCombineEnabled===r&&Le();const a={...i,isCombineEnabled:r};return f1(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;tu(e)||Le(),e.isWindowScrollAllowed||Le();const n=t.payload.newScroll;if(Fl(e.viewport.scroll.current,n))return h1(e);const r=L4(e.viewport,n);return l2(e)?q4({state:e,viewport:r}):Cm({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!tu(e))return e;const n=t.payload.maxScroll;if(Fl(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Le();const n=jQ({state:e,type:t.type});return n?Cm({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Le(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Le(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Bt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const YQ=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),qQ=e=>({type:"LIFT",payload:e}),KQ=e=>({type:"INITIAL_PUBLISH",payload:e}),WQ=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),VQ=()=>({type:"COLLECTION_STARTING",payload:null}),ZQ=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),XQ=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),JQ=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),W4=e=>({type:"MOVE",payload:e}),QQ=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),eee=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),tee=()=>({type:"MOVE_UP",payload:null}),nee=()=>({type:"MOVE_DOWN",payload:null}),ree=()=>({type:"MOVE_RIGHT",payload:null}),iee=()=>({type:"MOVE_LEFT",payload:null}),Tj=()=>({type:"FLUSH",payload:null}),aee=e=>({type:"DROP_ANIMATE",payload:e}),Nj=e=>({type:"DROP_COMPLETE",payload:e}),V4=e=>({type:"DROP",payload:e}),oee=e=>({type:"DROP_PENDING",payload:e}),Z4=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var see=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Bt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(Nj({completed:u.completed})),t().phase!=="IDLE"&&Le(),n(Tj()),n(YQ({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:b,viewport:y}=e.startPublishing(h);n(KQ({critical:p,dimensions:b,clientSelection:o,movementMode:l,viewport:y}))},lee=e=>()=>t=>n=>{Bt(n,"INITIAL_PUBLISH")&&e.dragging(),Bt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Bt(n,"FLUSH")||Bt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Oj={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Km={opacity:{drop:0,combining:.7},scale:{drop:.75}},X4={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Yc=`${X4.outOfTheWay}s ${Oj.outOfTheWay}`,Mm={fluid:`opacity ${Yc}`,snap:`transform ${Yc}, opacity ${Yc}`,drop:e=>{const t=`${e}s ${Oj.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Yc}`,placeholder:`height ${Yc}, width ${Yc}, margin ${Yc}`},kD=e=>Fl(e,gr)?void 0:`translate(${e.x}px, ${e.y}px)`,c2={moveTo:kD,drop:(e,t)=>{const n=kD(e);if(n)return t?`${n} scale(${Km.scale.drop})`:n}},{minDropTime:u2,maxDropTime:J4}=X4,cee=J4-u2,ED=1500,uee=.6;var dee=({current:e,destination:t,reason:n})=>{const r=Gm(e,t);if(r<=0)return u2;if(r>=ED)return J4;const i=r/ED,a=u2+cee*i,o=n==="CANCEL"?a*uee:a;return Number(o.toFixed(2))},fee=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,l=Gi(e),u=l?o[l]:null,d=o[t.descriptor.droppableId],h=Y4({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||d,viewport:r});return Fi(h,t.client.borderBox.center)},hee=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:G4({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Ym},didDropInsideDroppable:!0};const mee=({getState:e,dispatch:t})=>n=>r=>{if(!Bt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(oee({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Le(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Le();const l=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=hee({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),b=p?_j(h):null,y=p?Kv(h):null,k={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:d.descriptor.id,type:d.descriptor.type,source:k,reason:a,mode:i.movementMode,destination:b,combine:y},S=fee({impact:h,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),T={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:h};if(!(!Fl(i.current.client.offset,S)||!!w.combine)){t(Nj({completed:T}));return}const A=dee({current:i.current.client.offset,destination:S,reason:a});t(aee({newHomeClientOffset:S,dropDuration:A,completed:T}))};var Q4=()=>({x:window.pageXOffset,y:window.pageYOffset});function pee(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function gee({onWindowScroll:e}){function t(){e(Q4())}const n=Hm(t),r=pee(n);let i=Ul;function a(){return i!==Ul}function o(){a()&&Le(),i=pa(window,[r])}function l(){a()||Le(),n.cancel(),i(),i=Ul}return{start:o,stop:l,isActive:a}}const bee=e=>Bt(e,"DROP_COMPLETE")||Bt(e,"DROP_ANIMATE")||Bt(e,"FLUSH"),yee=e=>{const t=gee({onWindowScroll:n=>{e.dispatch(QQ({newScroll:n}))}});return n=>r=>{!t.isActive()&&Bt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&bee(r)&&t.stop(),n(r)}};var vee=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},xee=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&Le();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const wee=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,_ee=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,See=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Vh=(e,t)=>{t()},Bg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function m1(e,t,n,r){if(!e){n(r(t));return}const i=vee(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var kee=(e,t)=>{const n=xee();let r=null;const i=(p,b)=>{r&&Le(),Vh("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:p,mode:b})})},a=(p,b)=>{r&&Le(),Vh("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(Bg(p,b))})},o=(p,b)=>{r&&Le();const y=Bg(p,b);r={mode:b,lastCritical:p,lastLocation:y.source,lastCombine:null},n.add(()=>{Vh("onDragStart",()=>m1(e().onDragStart,y,t,Yb.onDragStart))})},l=(p,b)=>{const y=_j(b),k=Kv(b);r||Le();const w=!See(p,r.lastCritical);w&&(r.lastCritical=p);const S=!wee(r.lastLocation,y);S&&(r.lastLocation=y);const T=!_ee(r.lastCombine,k);if(T&&(r.lastCombine=k),!w&&!S&&!T)return;const O={...Bg(p,r.mode),combine:k,destination:y};n.add(()=>{Vh("onDragUpdate",()=>m1(e().onDragUpdate,O,t,Yb.onDragUpdate))})},u=()=>{r||Le(),n.flush()},d=p=>{r||Le(),r=null,Vh("onDragEnd",()=>m1(e().onDragEnd,p,t,Yb.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:u,drop:d,abort:()=>{if(!r)return;const p={...Bg(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},Eee=(e,t)=>{const n=kee(e,t);return r=>i=>a=>{if(Bt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Bt(a,"INITIAL_PUBLISH")){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),i(a),n.start(l,a.payload.movementMode);return}if(Bt(a,"DROP_COMPLETE")){const l=a.payload.completed.result;n.flush(),i(a),n.drop(l);return}if(i(a),Bt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const jee=e=>t=>n=>{if(!Bt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Le(),e.dispatch(Nj({completed:r.completed}))},Aee=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Bt(a,"FLUSH")||Bt(a,"DROP_COMPLETE")||Bt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Bt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Z4())}};n=requestAnimationFrame(()=>{n=null,t=pa(window,[o])})}};var Tee=e=>()=>t=>n=>{(Bt(n,"DROP_COMPLETE")||Bt(n,"FLUSH")||Bt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},Nee=e=>{let t=!1;return()=>n=>r=>{if(Bt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Bt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Bt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Oee=e=>Bt(e,"DROP_COMPLETE")||Bt(e,"DROP_ANIMATE")||Bt(e,"FLUSH");var Cee=e=>t=>n=>r=>{if(Oee(r)){e.stop(),n(r);return}if(Bt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Le(),e.start(i);return}n(r),e.scroll(t.getState())};const Mee=e=>t=>n=>{if(t(n),!Bt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(V4({reason:r.reason})))},Dee=Fm;var Pee=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>gj(GQ,Dee(h4(lee(n),Tee(e),see(e),mee,jee,Aee,Mee,Cee(a),yee,Nee(t),Eee(r,i))));const p1=()=>({additions:{},removals:{},modified:{}});function Ree({registry:e,callbacks:t}){let n=p1(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:d,modified:h}=n,p=Object.keys(u).map(k=>e.draggable.getById(k).getDimension(gr)).sort((k,w)=>k.descriptor.index-w.descriptor.index),b=Object.keys(h).map(k=>{const S=e.droppable.getById(k).callbacks.getScrollWhileDragging();return{droppableId:k,scroll:S}}),y={additions:p,removals:Object.keys(d),modified:b};n=p1(),t.publish(y)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=p1())}}}var e6=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Fi({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},t6=()=>{const e=document.documentElement;return e||Le(),e},n6=()=>{const e=t6();return e6({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Lee=()=>{const e=Q4(),t=n6(),n=e.y,r=e.x,i=t6(),a=i.clientWidth,o=i.clientHeight,l=r+a,u=n+o;return{frame:Xa({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:gr,displacement:gr}}}},Iee=({critical:e,scrollOptions:t,registry:n})=>{const r=Lee(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:O4(l),droppables:N4(o)},critical:e,viewport:r}};function jD(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var $ee=(e,t)=>{let n=null;const r=Ree({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(b,y)=>{e.droppable.exists(b)||Le(),n&&t.updateDroppableIsEnabled({id:b,isEnabled:y})},a=(b,y)=>{n&&(e.droppable.exists(b)||Le(),t.updateDroppableIsCombineEnabled({id:b,isCombineEnabled:y}))},o=(b,y)=>{n&&(e.droppable.exists(b)||Le(),t.updateDroppableScroll({id:b,newScroll:y}))},l=(b,y)=>{n&&e.droppable.getById(b).callbacks.scroll(y)},u=()=>{if(!n)return;r.stop();const b=n.critical.droppable;e.droppable.getAllByType(b.type).forEach(y=>y.callbacks.dragStopped()),n.unsubscribe(),n=null},d=b=>{n||Le();const y=n.critical.draggable;b.type==="ADDITION"&&jD(e,y,b.value)&&r.add(b.value),b.type==="REMOVAL"&&jD(e,y,b.value)&&r.remove(b.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:b=>{n&&Le();const y=e.draggable.getById(b.draggableId),k=e.droppable.getById(y.descriptor.droppableId),w={draggable:y.descriptor,droppable:k.descriptor},S=e.subscribe(d);return n={critical:w,unsubscribe:S},Iee({critical:w,registry:e,scrollOptions:b.scrollOptions})},stopPublishing:u}},r6=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Bee=e=>{window.scrollBy(e.x,e.y)};const zee=pr(e=>qv(e).filter(t=>!(!t.isEnabled||!t.frame))),Uee=(e,t)=>zee(t).find(r=>(r.frame||Le(),z4(r.frame.pageMarginBox)(e)))||null;var Fee=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return Uee(e,n)};const Wm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Hee=(e,t,n=()=>Wm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},i6=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Cj=1,Gee=(e,t,n=()=>Wm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Cj;const a=1-i6({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},Yee=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,d=Date.now()-o;if(d>=a)return e;if(d<i)return Cj;const h=i6({startOfRange:i,endOfRange:l,current:d}),p=e*r.ease(h);return Math.ceil(p)},AD=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=Gee(e,t,i);return a===0?0:r?Math.max(Yee(a,n,i),Cj):a},TD=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=Hee(e,r,a);return t[r.end]<t[r.start]?AD({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*AD({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},qee=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Kee=T4(e=>e===0?0:e);var a6=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=TD({container:t,distanceToEdges:o,dragStartTime:e,axis:Sj,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=TD({container:t,distanceToEdges:o,dragStartTime:e,axis:D4,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=Kee({x:u,y:l});if(Fl(d,gr))return null;const h=qee({container:t,subject:n,proposedScroll:d});return h?Fl(h,gr)?null:h:null};const Wee=T4(e=>e===0?0:e>0?1:-1),Mj=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Tr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Fl(a,gr)?null:a}})(),o6=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=Wee(n),a=Mj({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},Dj=(e,t)=>o6({current:e.scroll.current,max:e.scroll.max,change:t}),Vee=(e,t)=>{if(!Dj(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Mj({current:r,max:n,change:t})},Pj=(e,t)=>{const n=e.frame;return n?o6({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Zee=(e,t)=>{const n=e.frame;return!n||!Pj(e,t)?null:Mj({current:n.scroll.current,max:n.scroll.max,change:t})};var Xee=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=a6({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&Dj(e,o)?o:null},Jee=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=a6({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&Pj(e,l)?l:null},ND=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,b=Xee({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(b){r(b);return}}const d=Fee({center:o,destination:Gi(e.impact),droppables:e.dimensions.droppables});if(!d)return;const h=Jee({dragStartTime:t,droppable:d,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(d.descriptor.id,h)},Qee=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Wm})=>{const r=Hm(e),i=Hm(t);let a=null;const o=d=>{a||Le();const{shouldUseTimeDampening:h,dragStartTime:p}=a;ND({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:d=>{a&&Le();const h=Date.now();let p=!1;const b=()=>{p=!0};ND({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:b,scrollDroppable:b,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:p},p&&o(d)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},ete=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const d=Tr(l.current.client.selection,u);e({client:d})},i=(l,u)=>{if(!Pj(l,u))return u;const d=Zee(l,u);if(!d)return t(l.descriptor.id,u),null;const h=Fi(u,d);return t(l.descriptor.id,h),Fi(u,h)},a=(l,u,d)=>{if(!l||!Dj(u,d))return d;const h=Vee(u,d);if(!h)return n(d),null;const p=Fi(d,h);return n(p),Fi(d,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=Gi(l.impact);d||Le();const h=i(l.dimensions.droppables[d],u);if(!h)return;const p=l.viewport,b=a(l.isWindowScrollAllowed,p,h);b&&r(l,b)}},tte=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=Qee({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=ete({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const af="data-rfd",of=(()=>{const e=`${af}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),d2=(()=>{const e=`${af}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),nte=(()=>{const e=`${af}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),OD={contextId:`${af}-scroll-container-context-id`},rte=e=>t=>`[${t}="${e}"]`,Zh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),ite="pointer-events: none;";var ate=e=>{const t=rte(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(of.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:ite,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Mm.outOfTheWay};
    `;return{selector:t(d2.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(nte.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Zh(o,"always"),resting:Zh(o,"resting"),dragging:Zh(o,"dragging"),dropAnimating:Zh(o,"dropAnimating"),userCancel:Zh(o,"userCancel")}};const Yi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect,g1=()=>{const e=document.querySelector("head");return e||Le(),e},CD=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function ote(e,t){const n=Et(()=>ate(e),[e]),r=_.useRef(null),i=_.useRef(null),a=Qe(pr(p=>{const b=i.current;b||Le(),b.textContent=p}),[]),o=Qe(p=>{const b=r.current;b||Le(),b.textContent=p},[]);Yi(()=>{!r.current&&!i.current||Le();const p=CD(t),b=CD(t);return r.current=p,i.current=b,p.setAttribute(`${af}-always`,e),b.setAttribute(`${af}-dynamic`,e),g1().appendChild(p),g1().appendChild(b),o(n.always),a(n.resting),()=>{const y=k=>{const w=k.current;w||Le(),g1().removeChild(w),k.current=null};y(r),y(i)}},[t,o,a,n.always,n.resting,e]);const l=Qe(()=>a(n.dragging),[a,n.dragging]),u=Qe(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),d=Qe(()=>{i.current&&a(n.resting)},[a,n.resting]);return Et(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function s6(e,t){return Array.from(e.querySelectorAll(t))}var l6=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Zv(e){return e instanceof l6(e).HTMLElement}function ste(e,t){const n=`[${of.contextId}="${e}"]`,r=s6(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(of.draggableId)===t);return!i||!Zv(i)?null:i}function lte(e){const t=_.useRef({}),n=_.useRef(null),r=_.useRef(null),i=_.useRef(!1),a=Qe(function(b,y){const k={id:b,focus:y};return t.current[b]=k,function(){const S=t.current;S[b]!==k&&delete S[b]}},[]),o=Qe(function(b){const y=ste(e,b);y&&y!==document.activeElement&&y.focus()},[e]),l=Qe(function(b,y){n.current===b&&(n.current=y)},[]),u=Qe(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const b=n.current;b&&o(b)}))},[o]),d=Qe(function(b){n.current=null;const y=document.activeElement;y&&y.getAttribute(of.draggableId)===b&&(n.current=b)},[]);return Yi(()=>(i.current=!0,function(){i.current=!1;const b=r.current;b&&cancelAnimationFrame(b)}),[]),Et(()=>({register:a,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[a,d,u,l])}function cte(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const y=t.indexOf(p);y!==-1&&t.splice(y,1)}}function r(p){t.length&&t.forEach(b=>b(p))}function i(p){return e.draggables[p]||null}function a(p){const b=i(p);return b||Le(),b}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,b)=>{const y=e.draggables[b.descriptor.id];y&&y.uniqueId===p.uniqueId&&(delete e.draggables[b.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const b=p.descriptor.id,y=i(b);y&&p.uniqueId===y.uniqueId&&(delete e.draggables[b],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(b=>b.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const b=l(p);return b||Le(),b}const d={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const b=l(p.descriptor.id);b&&p.uniqueId===b.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(b=>b.descriptor.type===p)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:h}}function ute(){const e=Et(cte,[]);return _.useEffect(()=>function(){e.clean()},[e]),e}var Rj=Qt.createContext(null),Sy=()=>{const e=document.body;return e||Le(),e};const dte={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},fte=e=>`rfd-announcement-${e}`;function hte(e){const t=Et(()=>fte(e),[e]),n=_.useRef(null);return _.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),vy(a.style,dte),Sy().appendChild(a),function(){setTimeout(function(){const u=Sy();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Qe(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const mte={separator:"::"};function Lj(e,t=mte){const n=Qt.useId();return Et(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function pte({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function gte({contextId:e,text:t}){const n=Lj("hidden-text",{separator:"-"}),r=Et(()=>pte({contextId:e,uniqueId:n}),[n,e]);return _.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Sy().appendChild(a),function(){const l=Sy();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var Xv=Qt.createContext(null);function c6(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),t}function bte(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Le();const l={abandon:o};return e=l,l}function i(){e||Le(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Vm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const yte=9,vte=13,Ij=27,u6=32,xte=33,wte=34,_te=35,Ste=36,kte=37,Ete=38,jte=39,Ate=40,Tte={[vte]:!0,[yte]:!0};var d6=e=>{Tte[e.keyCode]&&e.preventDefault()};const Jv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),f6=0,MD=5;function Nte(e,t){return Math.abs(t.x-e.x)>=MD||Math.abs(t.y-e.y)>=MD}const DD={type:"IDLE"};function Ote({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==f6)return;const u={x:o,y:l},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&Le();const h=d.point;if(!Nte(h,u))return;i.preventDefault();const p=d.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===Ij){i.preventDefault(),e();return}d6(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Le(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Jv,fn:e}]}function Cte(e){const t=_.useRef(DD),n=_.useRef(Ul),r=Et(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==f6||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const b=e.findClosestDraggableId(p);if(!b)return;const y=e.tryGetLock(b,o,{sourceEvent:p});if(!y)return;p.preventDefault();const k={x:p.clientX,y:p.clientY};n.current(),d(y,k)}}),[e]),i=Et(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const b=e.findOptionsForDraggable(p);b&&(b.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}),[e]),a=Qe(function(){const p={passive:!1,capture:!0};n.current=pa(window,[i,r],p)},[i,r]),o=Qe(()=>{t.current.type!=="IDLE"&&(t.current=DD,n.current(),a())},[a]),l=Qe(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=Qe(function(){const p={capture:!0,passive:!1},b=Ote({cancel:l,completed:o,getPhase:()=>t.current,setPhase:y=>{t.current=y}});n.current=pa(window,b,p)},[l,o]),d=Qe(function(p,b){t.current.type!=="IDLE"&&Le(),t.current={type:"PENDING",point:b,actions:p},u()},[u]);Yi(function(){return a(),function(){n.current()}},[a])}function Mte(){}const Dte={[wte]:!0,[xte]:!0,[Ste]:!0,[_te]:!0};function Pte(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===Ij){i.preventDefault(),n();return}if(i.keyCode===u6){i.preventDefault(),r();return}if(i.keyCode===Ate){i.preventDefault(),e.moveDown();return}if(i.keyCode===Ete){i.preventDefault(),e.moveUp();return}if(i.keyCode===jte){i.preventDefault(),e.moveRight();return}if(i.keyCode===kte){i.preventDefault(),e.moveLeft();return}if(Dte[i.keyCode]){i.preventDefault();return}d6(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Jv,fn:n}]}function Rte(e){const t=_.useRef(Mte),n=Et(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==u6)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let u=!0;const d=l.snapLift();t.current();function h(){u||Le(),u=!1,t.current(),r()}t.current=pa(window,Pte(d,h),{capture:!0,passive:!1})}}),[e]),r=Qe(function(){const a={passive:!1,capture:!0};t.current=pa(window,[n],a)},[n]);Yi(function(){return r(),function(){t.current()}},[r])}const b1={type:"IDLE"},Lte=120,Ite=.15;function $te({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Ij&&n.preventDefault(),e()}},{eventName:Jv,fn:e}]}function Bte({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Le();const a=r.touches[0];if(!a||!(a.force>=Ite))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Jv,fn:e}]}function zte(e){const t=_.useRef(b1),n=_.useRef(Ul),r=Qe(function(){return t.current},[]),i=Qe(function(y){t.current=y},[]),a=Et(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const k=e.findClosestDraggableId(y);if(!k)return;const w=e.tryGetLock(k,l,{sourceEvent:y});if(!w)return;const S=y.touches[0],{clientX:T,clientY:O}=S,A={x:T,y:O};n.current(),p(w,A)}}),[e]),o=Qe(function(){const y={capture:!0,passive:!1};n.current=pa(window,[a],y)},[a]),l=Qe(()=>{const b=t.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),i(b1),n.current(),o())},[o,i]),u=Qe(()=>{const b=t.current;l(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[l]),d=Qe(function(){const y={capture:!0,passive:!1},k={cancel:u,completed:l,getPhase:r},w=pa(window,Bte(k),y),S=pa(window,$te(k),y);n.current=function(){w(),S()}},[u,r,l]),h=Qe(function(){const y=r();y.type!=="PENDING"&&Le();const k=y.actions.fluidLift(y.point);i({type:"DRAGGING",actions:k,hasMoved:!1})},[r,i]),p=Qe(function(y,k){r().type!=="IDLE"&&Le();const w=setTimeout(h,Lte);i({type:"PENDING",point:k,actions:y,longPressTimerId:w}),d()},[d,r,i,h]);Yi(function(){return o(),function(){n.current();const k=r();k.type==="PENDING"&&(clearTimeout(k.longPressTimerId),i(b1))}},[r,o,i]),Yi(function(){return pa(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Ute=["input","button","textarea","select","option","optgroup","video","audio"];function h6(e,t){if(t==null)return!1;if(Ute.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:h6(e,t.parentElement)}function Fte(e,t){const n=t.target;return Zv(n)?h6(e,n):!1}var Hte=e=>Xa(e.getBoundingClientRect()).center;function Gte(e){return e instanceof l6(e).Element}const Yte=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function m6(e,t){return e==null?null:e[Yte](t)?e:m6(e.parentElement,t)}function qte(e,t){return e.closest?e.closest(t):m6(e,t)}function Kte(e){return`[${of.contextId}="${e}"]`}function Wte(e,t){const n=t.target;if(!Gte(n))return null;const r=Kte(e),i=qte(n,r);return!i||!Zv(i)?null:i}function Vte(e,t){const n=Wte(e,t);return n?n.getAttribute(of.draggableId):null}function Zte(e,t){const n=`[${d2.contextId}="${e}"]`,i=s6(document,n).find(a=>a.getAttribute(d2.id)===t);return!i||!Zv(i)?null:i}function Xte(e){e.preventDefault()}function zg({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function p6({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!r6(t.getState(),r))}function Jte({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!p6({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),d=Zte(t,u.descriptor.id);if(!d||o&&!u.options.canDragInteractiveElements&&Fte(d,o))return null;const h=e.claim(a||Ul);let p="PRE_DRAG";function b(){return u.options.shouldRespectForcePress}function y(){return e.isActive(h)}function k(D,P){zg({expected:D,phase:p,isLockActive:y,shouldWarn:!0})&&n.dispatch(P())}const w=k.bind(null,"DRAGGING");function S(D){function P(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(P(),Le()),n.dispatch(qQ(D.liftActionArgs)),p="DRAGGING";function I(U,W={shouldBlockNextClick:!1}){if(D.cleanup(),W.shouldBlockNextClick){const K=pa(window,[{eventName:"click",fn:Xte,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(K)}P(),n.dispatch(V4({reason:U}))}return{isActive:()=>zg({expected:"DRAGGING",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,drop:U=>I("DROP",U),cancel:U=>I("CANCEL",U),...D.actions}}function T(D){const P=Hm(U=>{w(()=>W4({client:U}))});return{...S({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function O(){const D={moveUp:()=>w(tee),moveRight:()=>w(ree),moveDown:()=>w(nee),moveLeft:()=>w(iee)};return S({liftActionArgs:{id:i,clientSelection:Hte(d),movementMode:"SNAP"},cleanup:Ul,actions:D})}function A(){zg({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>zg({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,fluidLift:T,snapLift:O,abort:A}}const Qte=[Cte,Rte,zte];function ene({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?Qte:[],...r||[]],o=_.useState(()=>bte())[0],l=Qe(function(S,T){Vm(S)&&!Vm(T)&&o.tryAbandon()},[o]);Yi(function(){let S=t.getState();return t.subscribe(()=>{const O=t.getState();l(S,O),S=O})},[o,t,l]),Yi(()=>o.tryAbandon,[o.tryAbandon]);const u=Qe(w=>p6({lockAPI:o,registry:n,store:t,draggableId:w}),[o,n,t]),d=Qe((w,S,T)=>Jte({lockAPI:o,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:S||null,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null}),[e,o,n,t]),h=Qe(w=>Vte(e,w),[e]),p=Qe(w=>{const S=n.draggable.findById(w);return S?S.options:null},[n.draggable]),b=Qe(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Tj()))},[o,t]),y=Qe(()=>o.isClaimed(),[o]),k=Et(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:b,isLockClaimed:y}),[u,d,h,p,b,y]);for(let w=0;w<a.length;w++)a[w](k)}const tne=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Ou.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),nne=e=>({...Wm,...e.autoScrollerOptions,durationDampening:{...Wm.durationDampening,...e.autoScrollerOptions}});function Xh(e){return e.current||Le(),e.current}function rne(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=_.useRef(null),l=c6(e),u=Qe(()=>tne(l.current),[l]),d=Qe(()=>nne(l.current),[l]),h=hte(t),p=gte({contextId:t,text:a}),b=ote(t,i),y=Qe(K=>{Xh(o).dispatch(K)},[]),k=Et(()=>aD({publishWhileDragging:WQ,updateDroppableScroll:ZQ,updateDroppableIsEnabled:XQ,updateDroppableIsCombineEnabled:JQ,collectionStarting:VQ},y),[y]),w=ute(),S=Et(()=>$ee(w,k),[w,k]),T=Et(()=>tte({scrollWindow:Bee,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:d,...aD({move:W4},y)}),[S.scrollDroppable,y,d]),O=lte(t),A=Et(()=>Pee({announce:h,autoScroller:T,dimensionMarshal:S,focusMarshal:O,getResponders:u,styleMarshal:b}),[h,T,S,O,u,b]);o.current=A;const C=Qe(()=>{const K=Xh(o);K.getState().phase!=="IDLE"&&K.dispatch(Tj())},[]),D=Qe(()=>{const K=Xh(o).getState();return K.phase==="DROP_ANIMATING"?!0:K.phase==="IDLE"?!1:K.isDragging},[]),P=Et(()=>({isDragging:D,tryAbort:C}),[D,C]);n(P);const I=Qe(K=>r6(Xh(o).getState(),K),[]),U=Qe(()=>tu(Xh(o).getState()),[]),W=Et(()=>({marshal:S,focus:O,contextId:t,canLift:I,isMovementAllowed:U,dragHandleUsageInstructionsId:p,registry:w}),[t,S,p,O,I,U,w]);return ene({contextId:t,store:A,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),_.useEffect(()=>C,[C]),Qt.createElement(Xv.Provider,{value:W},Qt.createElement(w4,{context:Rj,store:A},e.children))}function ine(){return Qt.useId()}function Ep(e){const t=ine(),n=e.dragHandleUsageInstructions||Yb.dragHandleUsageInstructions;return Qt.createElement(RJ,null,r=>Qt.createElement(rne,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const PD={dragging:5e3,dropAnimating:4500},ane=(e,t)=>t?Mm.drop(t.duration):e?Mm.snap:Mm.fluid,one=(e,t)=>{if(e)return t?Km.opacity.drop:Km.opacity.combining},sne=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function lne(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=sne(e),u=!!a,d=u?c2.drop(r,o):c2.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:ane(l,a),transform:d,opacity:one(o,u),zIndex:u?PD.dropAnimating:PD.dragging,pointerEvents:"none"}}function cne(e){return{transform:c2.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function une(e){return e.type==="DRAGGING"?lne(e):cne(e)}function dne(e,t,n=gr){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=_4(i,r),o=yy(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:a,page:o}}function fne(e){const t=Lj("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,u=Et(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),d=Qe(y=>{const k=i();return k||Le(),dne(n,k,y)},[n,i]),h=Et(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),p=_.useRef(h),b=_.useRef(!0);Yi(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),Yi(()=>{if(b.current){b.current=!1;return}const y=p.current;p.current=h,r.draggable.update(h,y)},[h,r.draggable])}var $j=Qt.createContext(null);function ky(e){const t=_.useContext(e);return t||Le(),t}function hne(e){e.preventDefault()}const mne=e=>{const t=_.useRef(null),n=Qe((P=null)=>{t.current=P},[]),r=Qe(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=ky(Xv),{type:l,droppableId:u}=ky($j),d=Et(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:h,draggableId:p,isEnabled:b,shouldRespectForcePress:y,canDragInteractiveElements:k,isClone:w,mapped:S,dropAnimationFinished:T}=e;if(!w){const P=Et(()=>({descriptor:d,registry:o,getDraggableRef:r,canDragInteractiveElements:k,shouldRespectForcePress:y,isEnabled:b}),[d,o,r,k,y,b]);fne(P)}const O=Et(()=>b?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:hne}:null,[i,a,p,b]),A=Qe(P=>{S.type==="DRAGGING"&&S.dropping&&P.propertyName==="transform"&&Ou.flushSync(T)},[T,S]),C=Et(()=>{const P=une(S),I=S.type==="DRAGGING"&&S.dropping?A:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:P,onTransitionEnd:I},dragHandleProps:O}},[i,O,p,S,A,n]),D=Et(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Qt.createElement(Qt.Fragment,null,h(C,S.snapshot,D))};var g6=(e,t)=>e===t,b6=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const pne=e=>e.combine?e.combine.draggableId:null,gne=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function bne(){const e=pr((i,a)=>({x:i,y:a})),t=pr((i,a,o=null,l=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),n=pr((i,a,o,l,u=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,u,d,null)}}));return(i,a)=>{if(Vm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],u=Gi(i.impact),d=gne(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,l,a.isClone,u,d,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,u=i.dimensions.draggables[a.draggableId],d=o.result,h=d.mode,p=b6(d),b=pne(d),k={duration:i.dropDuration,curve:Oj.drop,moveTo:i.newHomeClientOffset,opacity:b?Km.opacity.drop:null,scale:b?Km.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:k,draggingOver:p,combineWith:b,mode:h,forceShouldAnimate:null,snapshot:t(h,l,p,b,k)}}}return null}}function y6(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const yne={mapped:{type:"SECONDARY",offset:gr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:y6(null)}};function vne(){const e=pr((o,l)=>({x:o,y:l})),t=pr(y6),n=pr((o,l=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=o=>o?n(gr,o,!0):null,i=(o,l,u,d)=>{const h=u.displaced.visible[o],p=!!(d.inVirtualList&&d.effected[o]),b=Kv(u),y=b&&b.draggableId===o?l:null;if(!h){if(!p)return r(y);if(u.displaced.invisible[o])return null;const S=Sf(d.displacedBy.point),T=e(S.x,S.y);return n(T,y,!0)}if(p)return r(y);const k=u.displacedBy.point,w=e(k.x,k.y);return n(w,y,h.shouldAnimate)};return(o,l)=>{if(Vm(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const xne=()=>{const e=bne(),t=vne();return(r,i)=>e(r,i)||t(r,i)||yne},wne={dropAnimationFinished:Z4},_ne=x4(xne,wne,null,{context:Rj,areStatePropsEqual:g6})(mne);function v6(e){return ky($j).isUsingCloneFor===e.draggableId&&!e.isClone?null:Qt.createElement(_ne,e)}function jf(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Qt.createElement(v6,vy({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const x6=e=>t=>e===t,Sne=x6("scroll"),kne=x6("auto"),RD=(e,t)=>t(e.overflowX)||t(e.overflowY),Ene=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return RD(n,Sne)||RD(n,kne)},jne=()=>!1,w6=e=>e==null?null:e===document.body?jne()?e:null:e===document.documentElement?null:Ene(e)?e:w6(e.parentElement);var f2=e=>({x:e.scrollLeft,y:e.scrollTop});const _6=e=>e?window.getComputedStyle(e).position==="fixed"?!0:_6(e.parentElement):!1;var Ane=e=>{const t=w6(e),n=_6(e);return{closestScrollable:t,isFixedOnPage:n}},Tne=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:b,client:y}=l,k=e6({scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:y,scrollSize:b,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:k,diff:{value:gr,displacement:gr}}}})(),d=i==="vertical"?Sj:D4,h=rf({page:o,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:a,page:o,frame:u,subject:h}};const Nne=(e,t)=>{const n=S4(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=vj({top:r,right:o,bottom:a,left:i},n.border);return xj({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var One=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const u=n.closestScrollable,d=Nne(e,u),h=yy(d,r),p=(()=>{if(!u)return null;const y=S4(u),k={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:yy(y,r),scroll:f2(u),scrollSize:k,shouldClipSubject:l}})();return Tne({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:h,closest:p})};const Cne={passive:!1},Mne={passive:!0};var LD=e=>e.shouldPublishImmediately?Cne:Mne;const Ug=e=>e&&e.env.closestScrollable||null;function Dne(e){const t=_.useRef(null),n=ky(Xv),r=Lj("droppable"),{registry:i,marshal:a}=n,o=c6(e),l=Et(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=_.useRef(l),d=Et(()=>pr((C,D)=>{t.current||Le();const P={x:C,y:D};a.updateDroppableScroll(l.id,P)}),[l.id,a]),h=Qe(()=>{const C=t.current;return!C||!C.env.closestScrollable?gr:f2(C.env.closestScrollable)},[]),p=Qe(()=>{const C=h();d(C.x,C.y)},[h,d]),b=Et(()=>Hm(p),[p]),y=Qe(()=>{const C=t.current,D=Ug(C);if(C&&D||Le(),C.scrollOptions.shouldPublishImmediately){p();return}b()},[b,p]),k=Qe((C,D)=>{t.current&&Le();const P=o.current,I=P.getDroppableRef();I||Le();const U=Ane(I),W={ref:I,descriptor:l,env:U,scrollOptions:D};t.current=W;const K=One({ref:I,descriptor:l,env:U,windowScroll:C,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),H=U.closestScrollable;return H&&(H.setAttribute(OD.contextId,n.contextId),H.addEventListener("scroll",y,LD(W.scrollOptions))),K},[n.contextId,l,y,o]),w=Qe(()=>{const C=t.current,D=Ug(C);return C&&D||Le(),f2(D)},[]),S=Qe(()=>{const C=t.current;C||Le();const D=Ug(C);t.current=null,D&&(b.cancel(),D.removeAttribute(OD.contextId),D.removeEventListener("scroll",y,LD(C.scrollOptions)))},[y,b]),T=Qe(C=>{const D=t.current;D||Le();const P=Ug(D);P||Le(),P.scrollTop+=C.y,P.scrollLeft+=C.x},[]),O=Et(()=>({getDimensionAndWatchScroll:k,getScrollWhileDragging:w,dragStopped:S,scroll:T}),[S,k,w,T]),A=Et(()=>({uniqueId:r,descriptor:l,callbacks:O}),[O,l,r]);Yi(()=>(u.current=A.descriptor,i.droppable.register(A),()=>{t.current&&S(),i.droppable.unregister(A)}),[O,l,S,A,a,i.droppable]),Yi(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Yi(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function y1(){}const ID={width:0,height:0,margin:FJ},Pne=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?ID:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Rne=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=Pne({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Mm.placeholder:null}},Lne=e=>{const t=_.useRef(null),n=Qe(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,u]=_.useState(e.animate==="open");_.useEffect(()=>l?r!=="open"?(n(),u(!1),y1):t.current?y1:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):y1,[r,l,n]);const d=Qe(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=Rne({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return Qt.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var Ine=Qt.memo(Lne);class $ne extends Qt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const Bne=e=>{const t=_.useContext(Xv);t||Le();const{contextId:n,isMovementAllowed:r}=t,i=_.useRef(null),a=_.useRef(null),{children:o,droppableId:l,type:u,mode:d,direction:h,ignoreContainerClipping:p,isDropDisabled:b,isCombineEnabled:y,snapshot:k,useClone:w,updateViewportMaxScroll:S,getContainerForClone:T}=e,O=Qe(()=>i.current,[]),A=Qe((H=null)=>{i.current=H},[]);Qe(()=>a.current,[]);const C=Qe((H=null)=>{a.current=H},[]),D=Qe(()=>{r()&&S({maxScroll:n6()})},[r,S]);Dne({droppableId:l,type:u,mode:d,direction:h,isDropDisabled:b,isCombineEnabled:y,ignoreContainerClipping:p,getDroppableRef:O});const P=Et(()=>Qt.createElement($ne,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:H,data:B,animate:q})=>Qt.createElement(Ine,{placeholder:B,onClose:H,innerRef:C,animate:q,contextId:n,onTransitionEnd:D})),[n,D,e.placeholder,e.shouldAnimatePlaceholder,C]),I=Et(()=>({innerRef:A,placeholder:P,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,P,A]),U=w?w.dragging.draggableId:null,W=Et(()=>({droppableId:l,type:u,isUsingCloneFor:U}),[l,U,u]);function K(){if(!w)return null;const{dragging:H,render:B}=w,q=Qt.createElement(v6,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(X,Z)=>B(X,Z,H));return Hq.createPortal(q,T())}return Qt.createElement($j.Provider,{value:W},o(I,k),K())};function zne(){return document.body||Le(),document.body}const $D={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:zne},S6=e=>{let t={...e},n;for(n in $D)e[n]===void 0&&(t={...t,[n]:$D[n]});return t},v1=(e,t)=>e===t.droppable.type,BD=(e,t)=>t.draggables[e.draggable.id],Une=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=pr(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=pr((a,o,l,u,d,h)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===a){const k=h?{render:h,dragging:n(d.descriptor)}:null,w={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:k}}if(!o)return t;if(!u)return e;const y={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(a,o)=>{const l=S6(o),u=l.droppableId,d=l.type,h=!l.isDropDisabled,p=l.renderClone;if(Vm(a)){const b=a.critical;if(!v1(d,b))return t;const y=BD(b,a.dimensions),k=Gi(a.impact)===u;return r(u,h,k,k,y,p)}if(a.phase==="DROP_ANIMATING"){const b=a.completed;if(!v1(d,b.critical))return t;const y=BD(b.critical,a.dimensions);return r(u,h,b6(b.result)===u,Gi(b.impact)===u,y,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const b=a.completed;if(!v1(d,b.critical))return t;const y=Gi(b.impact)===u,k=!!(b.impact.at&&b.impact.at.type==="COMBINE"),w=b.critical.droppable.id===u;return y?k?e:t:w?e:t}return t}},Fne={updateViewportMaxScroll:eee},Af=x4(Une,Fne,(e,t,n)=>({...S6(n),...e,...t}),{context:Rj,areStatePropsEqual:g6})(Bne),Hne={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Zm(e,t,n){const r=Hne[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function Gne(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),l=e.getUTCSeconds(),u=(a-12)/24+o/1440+l/86400,d=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(d)-.032077*Math.sin(d)-.014615*Math.cos(2*d)-.040849*Math.sin(2*d))}function Yne(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function jp(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=Yne(i),o=4*(i-a),l=Gne(r);return new Date(r.getTime()+(o+l)*60*1e3)}function k6(e){return e.replace(/\D/g,"")}function qne(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function Kne(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function Tf(e){const t=k6(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return qne(n,r,i)?{y:n,m:r,d:i}:null}function Ap(e){const t=e.trim();if(!t||t==="")return null;const n=k6(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return Kne(r,i)?{hh:r,mm:i}:null}function Qv(e){const t=e.trim(),n=Tf(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function ex(e){const t=e.trim();if(t==="")return"";const n=Ap(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var qb={exports:{}},Wne=qb.exports,zD;function Vne(){return zD||(zD=1,(function(e,t){(function(n,r){e.exports=r()})(Wne,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,l){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(l){return l&&l.__esModule?l:{default:l}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),l=a(o),u=i(3),d=a(u),h=i(4),p=a(h),b=i(5),y=a(b),k=i(6),w=a(k),S=i(7),T=a(S),O=i(8),A=a(O),C=i(9),D=a(C),P=i(10),I=a(P),U=i(11),W=a(U),K=i(12),H=a(K),B={lunarInfo:l.default,solarMonth:d.default,gan:p.default,zhi:y.default,animals:w.default,lunarTerm:T.default,lTermInfo:A.default,nStr1:D.default,nStr2:I.default,nStr3:W.default,nStr4:H.default,lYearDays:function(q){var X,Z=348;for(X=32768;X>8;X>>=1)Z+=B.lunarInfo[q-1900]&X?1:0;return Z+B.leapDays(q)},leapMonth:function(q){return 15&B.lunarInfo[q-1900]},leapDays:function(q){return B.leapMonth(q)?65536&B.lunarInfo[q-1900]?30:29:0},monthDays:function(q,X){return X>12||X<1?-1:B.lunarInfo[q-1900]&65536>>X?30:29},solarDays:function(q,X){if(X>12||X<1)return-1;var Z=X-1;return Z==1?q%4==0&&q%100!=0||q%400==0?29:28:B.solarMonth[Z]},toGanZhi:function(q){return B.gan[q%10]+B.zhi[q%12]},getTerm:function(q,X){if(q<1900||q>2100||X<1||X>24)return-1;var Z=B.lTermInfo[q-1900],G=[parseInt("0x"+Z.substr(0,5)).toString(),parseInt("0x"+Z.substr(5,5)).toString(),parseInt("0x"+Z.substr(10,5)).toString(),parseInt("0x"+Z.substr(15,5)).toString(),parseInt("0x"+Z.substr(20,5)).toString(),parseInt("0x"+Z.substr(25,5)).toString()],J=[G[0].substr(0,1),G[0].substr(1,2),G[0].substr(3,1),G[0].substr(4,2),G[1].substr(0,1),G[1].substr(1,2),G[1].substr(3,1),G[1].substr(4,2),G[2].substr(0,1),G[2].substr(1,2),G[2].substr(3,1),G[2].substr(4,2),G[3].substr(0,1),G[3].substr(1,2),G[3].substr(3,1),G[3].substr(4,2),G[4].substr(0,1),G[4].substr(1,2),G[4].substr(3,1),G[4].substr(4,2),G[5].substr(0,1),G[5].substr(1,2),G[5].substr(3,1),G[5].substr(4,2)];return parseInt(J[X-1])},toChinaYear:function(q){var X=parseInt(q/1e3),Z=parseInt(q%1e3/100),G=parseInt(q%100/10),J=q%10;return B.nStr4[X]+B.nStr4[Z]+B.nStr4[G]+B.nStr4[J]+""},toChinaMonth:function(q){if(q>12||q<1)return-1;var X=B.nStr3[q-1];return X+=""},toChinaDay:function(q){var X;switch(q){case 10:X="";break;case 20:X="";break;case 30:X="";break;default:X=B.nStr2[Math.floor(q/10)],X+=B.nStr1[q%10]}return X},getAnimal:function(q){return B.animals[(q-4)%12]},solar2lunar:function(oe,te,z){if(oe<1900||oe>2100||oe==1900&&te==1&&z<31)return-1;if(oe)var G=new Date(oe,parseInt(te)-1,z);else var G=new Date;var J,Ne=0,Q=0,oe=G.getFullYear(),te=G.getMonth()+1,z=G.getDate(),V=(Date.UTC(G.getFullYear(),G.getMonth(),G.getDate())-Date.UTC(1900,0,31))/864e5;for(J=1900;J<2101&&V>0;J++)Q=B.lYearDays(J),V-=Q;V<0&&(V+=Q,J--);var re=new Date,ie=!1;re.getFullYear()==oe&&re.getMonth()+1==te&&re.getDate()==z&&(ie=!0);var ue=G.getDay(),de=B.nStr1[ue];ue==0&&(ue=7);var pe=J,Ne=B.leapMonth(J),se=!1;for(J=1;J<13&&V>0;J++)Ne>0&&J==Ne+1&&se==0?(--J,se=!0,Q=B.leapDays(pe)):Q=B.monthDays(pe,J),se==1&&J==Ne+1&&(se=!1),V-=Q;V==0&&Ne>0&&J==Ne+1&&(se?se=!1:(se=!0,--J)),V<0&&(V+=Q,--J);var je=J,ke=V+1,fe=te-1,Ue=B.getTerm(oe,3),Fe=B.toGanZhi(oe-4),tt=new Date(oe,1,Ue).getTime();new Date(oe,fe,z).getTime()<tt&&(Fe=B.toGanZhi(oe-5));var Oe=B.getTerm(oe,2*te-1),$e=B.getTerm(oe,2*te),He=B.toGanZhi(12*(oe-1900)+te+11);z>=Oe&&(He=B.toGanZhi(12*(oe-1900)+te+12));var Be=!1,jt="";Oe==z&&(Be=!0,jt=B.lunarTerm[2*te-2]),$e==z&&(Be=!0,jt=B.lunarTerm[2*te-1]);var At=Date.UTC(oe,fe,1,0,0,0,0)/864e5+25567+10,he=B.toGanZhi(At+z-1);return{lYear:pe,lMonth:je,lDay:ke,animal:B.getAnimal(pe),yearCn:B.toChinaYear(pe),monthCn:(se&&Ne===je?"":"")+B.toChinaMonth(je),dayCn:B.toChinaDay(ke),cYear:oe,cMonth:te,cDay:z,gzYear:Fe,gzMonth:He,gzDay:he,isToday:ie,isLeap:se,nWeek:ue,ncWeek:""+de,isTerm:Be,term:jt}},lunar2solar:function(q,X,Z,G){var J=B.leapMonth(q);if(B.leapDays(q),G&&J!=X||q==2100&&X==12&&Z>1||q==1900&&X==1&&Z<31)return-1;var Q=B.monthDays(q,X);if(q<1900||q>2100||Z>Q)return-1;for(var oe=0,te=1900;te<q;te++)oe+=B.lYearDays(te);for(var z=0,V=!1,te=1;te<X;te++)z=B.leapMonth(q),V||z<=te&&z>0&&(oe+=B.leapDays(q),V=!0),oe+=B.monthDays(q,te);G&&(oe+=Q);var re=Date.UTC(1900,1,30,0,0,0),ie=new Date(864e5*(oe+Z-31)+re),ue=ie.getUTCFullYear(),de=ie.getUTCMonth()+1,pe=ie.getUTCDate();return B.solar2lunar(ue,de,pe)}};r.default=B,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(qb)),qb.exports}var E6=Vne();const Zne=_i(E6),Xne=WE({__proto__:null,default:Zne},[E6]);function Bj(e){return typeof e=="object"&&e!==null}function Jne(e){return Bj(e)&&"default"in e}function Qne(e){return Bj(e)&&typeof e.lunar2solar=="function"}function ere(e){if(!Bj(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function tre(e){const t=Jne(e)?e.default:e;if(!Qne(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const l=t.lunar2solar(r,i,a,o);return ere(l)}}}const nre=tre(Xne);function Vi(e,t,n,r=4,i=0){const a=nre.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const UD=e=>e<10?`0${e}`:`${e}`;function Nf(e){if(e.calendarType!=="lunar")return e;const t=Tf(e.birthDay??"");if(!t)return e;try{const n=Vi(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${UD(i)}${UD(a)}`,calendarType:"solar"}}catch{return e}}function zj(e){const t=e.mingSikType??"/",n=Tf(e.birthDay??"");if(!n){const C=e.corrected instanceof Date?e.corrected:new Date(NaN),D=typeof e.ganji=="string"?e.ganji:"",P=typeof e.ganjiText=="string"?e.ganjiText:D,I=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:C,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:D,ganjiText:P,dayStem:I}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const C=Vi(r,i,a,0,0);r=C.getFullYear(),i=C.getMonth()+1,a=C.getDate()}catch{}const o=Ap(e.birthTime??""),l=!e.birthTime||e.birthTime===""||!o,u=l?4:o.hh,d=l?30:o.mm,h=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,d,0,0),b=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",y=jp(p,h,b),k=l?"":y.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),w=ct(y,h),S=kt(y,h),T=ht(y,t),O=l?null:eo(y,t),A=[` : ${w} ${S} ${T}`,O?`${O}`:null].filter(Boolean).join(" ");return{corrected:y,correctedLocal:k,ganji:A,ganjiText:A,dayStem:T.charAt(0)}}function FD(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function Tp(e){return(typeof e=="string"?e.trim():"")===""?"":""}function HD(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function rre(e){const t=HD(e.ganjiText)??HD(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=Tp(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function Xm(e){const t={...e,birthDay:Qv(e.birthDay??""),birthTime:e.birthTime===""?"":ex(e.birthTime??""),gender:Tp(e.gender),dateObj:FD(e.dateObj,new Date),corrected:FD(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=zj(t),r={...t,...n};return{...r,dir:rre(r)}}function ire(e){return e===""||e==="/"||e===""?e:"/"}function are(e){return e==="lunar"?"lunar":"solar"}function ore(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function sre(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function Uj(e,t){const r=Qv(typeof e=="string"?e:""),i=Tf(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Vi(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function Fj(e,t){if(t)return{ok:!0,value:""};const r=ex(typeof e=="string"?e:"");return Ap(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function j6(e,t){const n=t?.requireName??!1,r=sre(e.name,n);if(!r.ok)return r;const i=are(e.calendarType),a=Uj(e.birthDay,i);if(!a.ok)return a;const o=Fj(e.birthTime,e.unknownTime);if(!o.ok)return o;const l=ire(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:Tp(e.gender),sortOrder:e.sortOrder,birthPlace:ore(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:l,DayChangeRule:l===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:Xm(u)}}function Kl(e,t=0){const n=Nf(e),r=Tf(n.birthDay??"");if(!r)throw new Error(`Invalid date: ${e.birthDay}`);const i=Ap(n.birthTime??""),a=!i,o=a?4:i.hh,l=a?30:i.mm,u=new Date(r.y,r.m-1,r.d,o,l,0,0);if(Number.isNaN(u.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const d=!n.birthPlace||typeof n.birthPlace=="object"&&n.birthPlace.name==="",h=n.birthPlace?.lon??127.5,p=jp(u,h,d);return t!==0?new Date(p.getTime()+t*60*1e3):p}function lre(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function lu(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),l=a.localeCompare(o);return l!==0?l:t.id.localeCompare(n.id)})}function h2(e){if(!lre(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function A6(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:Qv(e.birth_day??""),birthTime:ex(e.birth_time??""),gender:Tp(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return Xm(i)}function cre(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function GD(e,t){const n=Qv(e.birthDay??""),r=ex(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:Tp(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const m2="hm_session_started_at_ms",ure=7200*1e3;function T6(){return typeof window>"u"?null:window.localStorage}function dre(){const e=T6();if(!e)return Date.now();const t=e.getItem(m2),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(m2,String(r)),r}function N6(e=Date.now()){const t=T6();if(t)try{t.setItem(m2,String(e))}catch{}}function fre(e=Date.now()){const t=dre();return e-t>=ure}const Fg="myeongsik-list";function hre(e){try{return JSON.parse(e)}catch{return null}}async function mre(e){if(typeof window>"u")return;const t=window.localStorage.getItem(Fg);if(!t)return;const n=hre(t);if(!n){window.localStorage.removeItem(Fg);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(Fg);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),l=new Set(o.map(d=>d.id)),u=i.filter(d=>!!d&&typeof d.id=="string"&&d.id.trim()!==""&&!l.has(d.id));for(const d of u)await e.upsertOne(a.id,d);window.localStorage.removeItem(Fg)}const pre=250;function gre(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function bre(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function yre(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const l=n;if(n=null,l.key&&l.key===i){l.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),l.resolve();continue}await e.upsertOrderPatch(u.id,l.list),i=l.key,l.resolve()}}finally{r=!1}}}bre(()=>{a()});function o(l,u){const d=gre(l);if(d&&d===i&&!n)return Promise.resolve();if(n)n.key=d,n.list=l;else{let h;const p=new Promise(b=>{h=b});n={key:d,list:l,promise:p,resolve:h}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},pre),n.promise)}return{queue:o,flushNow:a}}const mr="__UNASSIGNED__",vre=[" ",""],Hl=e=>typeof e=="string"?e.trim():"",O6=e=>vre.includes(e);function zd(e,t){const n=[],r=[];for(const i of e){const a=Hl(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function tx(e,t){const n=new Set(t.map(o=>Hl(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,l)=>{i[o]||(i[o]=[]),i[o].push(l)};for(const o of e){const l=String(o.id??"");if(!l||r.has(l))continue;r.add(l);const u=Hl(o.folder),d=!u||O6(u)?mr:n.has(u)?u:mr;a(d,o)}i[mr]||(i[mr]=[]);for(const o of t){const l=Hl(o);l&&(i[l]||(i[l]=[]))}return i}function Hj(e,t){const n=[];for(const i of t){const a=Hl(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[mr];return Array.isArray(r)&&r.length&&n.push(...r),n}function xre(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=tx(t,n),o=r.droppableId===mr?mr:r.droppableId,l=i.droppableId===mr?mr:i.droppableId,u=[...a[o]??[]],d=o===l?u:[...a[l]??[]],h=u[r.index];if(!h)return{nextList:t,changedIds:[]};u.splice(r.index,1);const b=o!==l&&l===mr,y=Math.max(0,Math.min(i.index,d.length)),k=b?d.length:y;o===l?u.splice(k,0,h):d.splice(k,0,h);const w=String(h.id),S=new Set([w]),T={...h,folder:l===mr?"":l};return a[o]=u,a[l]=o===l?u:d,a[l]=(a[l]??[]).map(O=>String(O.id)===w?T:O),{nextList:Hj(a,n),changedIds:Array.from(S)}}function wre(e){const{list:t,orderedFolders:n,targetId:r,nextFolder:i}=e,a=tx(t,n),o=[...n.map(T=>Hl(T)),mr].filter(Boolean);let l=null,u=-1;for(const T of o){const A=(a[T]??[]).findIndex(C=>String(C.id)===r);if(A>=0){l=T,u=A;break}}if(!l||u<0)return{nextList:t,changedIds:[]};const d=[...a[l]??[]],h=d[u];if(!h)return{nextList:t,changedIds:[]};d.splice(u,1);const p=Hl(i),b=!p||O6(p)?mr:p,y=l!==b,k=y?[...a[b]??[]]:d,w=String(h.id),S={...h,folder:b===mr?"":b};return y?k.push(S):d.splice(u,0,S),a[l]=d,a[b]=y?k:d,{nextList:Hj(a,n),changedIds:[w]}}function _re(e){const{list:t,targetId:n,orderedFolders:r}=e,i=tx(t,r);let a=null,o=null;const l=[...r.map(y=>Hl(y)),mr].filter(Boolean);for(const y of l){const k=i[y]??[],w=k.findIndex(S=>String(S.id)===n);if(w>=0){a=y,o=k[w]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],d=u.findIndex(y=>String(y.id)===n);if(d<0)return{nextList:t,nextItem:null};const h=u[d],p=!h.favorite,b={...h,favorite:p};return u.splice(d,1),p?u.unshift(b):u.push(b),i[a]=u,{nextList:Hj(i,r),nextItem:b}}function Sre(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[],a=[],o=[];for(const l of t){if((l.folder??"").trim()!==r){a.push(l);continue}i.push(String(l.id)),o.push({...l,folder:""})}return{nextList:[...a,...o],changedIds:i}}function C6(e){return e.trim().length>0}const Jh=e=>e.toLowerCase().replace(/\s+/g," ").trim(),kre=e=>e.replace(/\D/g,""),Ere=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=kre(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},jre=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},Are=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},YD=(e,t,n)=>{const r=Jh(t);if(!r)return!0;const i=Jh(typeof e.name=="string"?e.name:""),a=Ere(e).map(Jh),o=jre(e).map(Jh),l=Are(e).map(Jh),u=h=>h.includes(r),d=h=>h.some(u);switch(n){case"name":return u(i);case"birth":return d(a);case"ganji":return d(o);case"memo":return d(l);case"all":default:return u(i)||d(a)||d(o)||d(l)}};function Tre(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!C6(t)){const d={};for(const h of r){const p=typeof h=="string"?h.trim():"";p&&(d[p]=i[p]??[])}return{filteredGrouped:d,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((h,p)=>h+(i[p]?.length??0),0)}}const o={};let l=0;for(const d of r){const h=typeof d=="string"?d.trim():"";if(!h)continue;const b=(i[h]??[]).filter(y=>YD(y,t,n));o[h]=b,l+=b.length}const u=(a??[]).filter(d=>YD(d,t,n));return l+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:l}}function Nre(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??mr).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??mr).toString(),index:e.destinationIndex}}}function Ore(e,t){const n=String(t.eventType??""),r=h2(t.new),i=h2(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(d=>d.id!==a.id);const o=A6(a),u=e.some(d=>d.id===o.id)?e.map(d=>d.id===o.id?o:d):[...e,o];return lu(u)}async function Cre(e){if(!e)return;const t=De;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function Mre(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function Dre(){return{async getUser(){const{data:e,error:t}=await De.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await De.from("myeongsik").select(Mre()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>h2(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=GD(t,e),{error:r}=await De.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=GD(n,e),{error:i}=await De.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await De.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>cre(i,e)),{error:r}=await De.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=De.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await Cre(r)}}}}}function Pre(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function km(e){if(!e)return"FREE";const t=Pre(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function p2(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const Hg={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function Rre(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function qD(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function KD(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function Lre(e){return e?e.can_use_myo_viewer===!0:!1}async function Ire(e){const{data:t,error:n}=await De.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const fn=Yo((e,t)=>({loaded:!1,loading:!1,userId:null,...Hg,reset:()=>{e({loaded:!1,loading:!1,userId:null,...Hg})},loadFromServer:async n=>{if(!t().loading){e({loading:!0});try{const{data:i,error:a}=await De.auth.getUser(),o=i.user?.id??null;if(a||!o){e({...Hg,loaded:!0,userId:null});return}const l=t();if(!n?.force&&l.loaded&&l.userId===o)return;const u=await Ire(o);if(!u){const O=p2("FREE");e({loaded:!0,userId:o,plan:"FREE",maxMyeongsik:O.maxMyeongsik===null?9999:O.maxMyeongsik,canManageMyeongsik:O.canManageMyeongsik,canUseLuckTabs:O.canUseLuckTabs,canUseMultiMode:O.canUseMultiMode,canUseAllPrompts:O.canUseAllPrompts,canUseAdvancedReport:O.canUseAdvancedReport,canRemoveAds:O.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const d=qD(u.starts_at??null),h=qD(u.expires_at??null),p=KD(d,h),b=km(u.plan??null),y=p?b:"FREE",k=p2(y),w=k.maxMyeongsik===null?9999:k.maxMyeongsik,S=Rre(u.max_myeongsik,w),T=Math.max(1,Math.max(S,w));e({loaded:!0,userId:o,plan:y,maxMyeongsik:T,canManageMyeongsik:k.canManageMyeongsik,canUseLuckTabs:k.canUseLuckTabs,canUseMultiMode:k.canUseMultiMode,canUseAllPrompts:k.canUseAllPrompts,canUseAdvancedReport:k.canUseAdvancedReport,canRemoveAds:k.canRemoveAds,canUseMyoViewer:Lre(u),startsAt:d,expiresAt:h})}catch(i){console.error("loadFromServer(entitlements) exception:",i),e({...Hg,loaded:!0,userId:null})}finally{e({loading:!1})}}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return KD(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,l=Math.floor(a/60),u=l%24,d=Math.floor(l/24),h=[];return d>0&&h.push(`${d}`),u>0&&h.push(`${u}`),d===0&&o>0&&h.push(`${o}`),h.length===0&&h.push(`${i}`),h.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),Gj="guest_myeongsik_v1";function M6(e){return typeof e=="object"&&e!==null}function g2(e,t){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const n=Number(e);if(Number.isFinite(n))return n}return t}function Ri(e,t=""){return typeof e=="string"?e:t}function $re(e,t=!1){return typeof e=="boolean"?e:t}function Bre(e){return M6(e)?{name:Ri(e.name,""),lat:g2(e.lat,0),lon:g2(e.lon,0)}:{name:"",lat:0,lon:0}}function zre(e){return{id:e.id,sortOrder:typeof e.sortOrder=="number"?e.sortOrder:1,name:e.name??"",birthDay:e.birthDay??"",birthTime:e.birthTime??"",gender:e.gender??"",birthPlace:e.birthPlace??{name:"",lat:0,lon:0},relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:e.mingSikType??"/",DayChangeRule:e.DayChangeRule??"",favorite:!!e.favorite,calendarType:e.calendarType??"solar",dir:e.dir??"forward"}}function Ure(e){if(!M6(e))return null;const t={id:Ri(e.id,""),sortOrder:g2(e.sortOrder,1),name:Ri(e.name,""),birthDay:Ri(e.birthDay,""),birthTime:Ri(e.birthTime,""),gender:Ri(e.gender,""),birthPlace:Bre(e.birthPlace),relationship:Ri(e.relationship,""),memo:Ri(e.memo,""),folder:Ri(e.folder,""),mingSikType:Ri(e.mingSikType,"/"),DayChangeRule:Ri(e.DayChangeRule,""),favorite:$re(e.favorite,!1),calendarType:Ri(e.calendarType,"solar"),dir:Ri(e.dir,"forward")};return t.id?Xm(t):null}function D6(){try{const e=localStorage.getItem(Gj);if(!e)return[];const t=JSON.parse(e);if(!Array.isArray(t))return[];const n=t.map(Ure).filter(r=>r!==null);return lu(n)}catch{return[]}}function Cl(e){try{const t=e.map(zre);localStorage.setItem(Gj,JSON.stringify(t))}catch{}}function P6(){try{localStorage.removeItem(Gj)}catch{}}const Ss=Yo(e=>({open:!1,reason:"HEADER",openWith:t=>e({open:!0,reason:t}),close:()=>e({open:!1})})),Hn=Dre(),Fre=yre(Hn);function qc(){const t=fn.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function Hre(e){const n=fn.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}async function WD(e){const t=D6();if(t.length)try{for(const n of t)await Hn.upsertOne(e,n);P6()}catch(n){console.warn("[myeongsik] migrateGuestListToServerIfAny failed:",n)}}const xn=Yo((e,t)=>({loading:!1,loaded:!1,loadedUserId:null,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(fre()){N6(Date.now()),window.location.reload();return}const n=await Hn.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Hn.subscribe(n.id,i=>{e(a=>({list:Ore(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{if(!t().loading){e({loading:!0});try{const n=await Hn.getUser(),r=t();if(n&&r.loaded&&r.loadedUserId===n.id){e({loading:!1});return}if(!n){const u=D6(),d=u[0]?.id??null;e({list:u,currentId:d,loaded:!0,loadedUserId:null}),await t().stopRealtime();return}await WD(n.id);const i=await Hn.fetchRows(n.id),a=lu(i.map(A6)),o=t().currentId,l=o&&a.some(u=>u.id===o)?o:a[0]?.id??null;e({list:a,currentId:l,loaded:!0,loadedUserId:n.id}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}}},migrateLocalToServer:async()=>{try{await mre(Hn);const n=await Hn.getUser();n&&await WD(n.id)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Hn.getUser(),i=t().list.length;if(!Hre(i)){r||Ss.getState().openWith("ADD_LIMIT");return}const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},l=Xm(o),u=t().list,d=lu([...u,l]),h=t().currentId??l.id;if(e({list:d,currentId:h}),!r){Cl(d),d.length===1&&Ss.getState().openWith("PERSIST_SAVE");return}await Hn.upsertOne(r.id,l)},update:async(n,r)=>{const i=await Hn.getUser();if(i&&!qc())return;const a=t().list.find(u=>u.id===n);if(!a)return;const o=Xm({...a,...r}),l=lu(t().list.map(u=>u.id===n?o:u));if(e({list:l}),!i){Cl(l);return}await Hn.updateOne(i.id,n,o)},remove:async n=>{const r=await Hn.getUser();if(r&&!qc())return;const a=t().list.filter(l=>l.id!==n),o=t().currentId===n?a[0]?.id??null:t().currentId;if(e({list:a,currentId:o}),!r){Cl(a);return}await Hn.softDelete(n)},moveItemByDnD:async n=>{const r=t().list,i=Nre(n),o=xre({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o});const l=await Hn.getUser();if(l&&!qc()){e({list:r});return}if(!l){Cl(o);return}await t().reorder(o)},applyNextList:async n=>{const r=t().list;e({list:n});const i=await Hn.getUser();if(i&&!qc()){e({list:r});return}if(!i){Cl(n);return}await t().reorder(n)},toggleFavoriteWithReorder:async(n,r)=>{const i=await Hn.getUser();if(i&&!qc())return;const o=_re({list:t().list,targetId:n,orderedFolders:r}).nextList;if(e({list:o}),!i){Cl(o);return}await t().reorder(o)},unsetFolderForFolder:async n=>{const r=await Hn.getUser();if(r&&!qc())return;const i=(n??"").trim();if(!i)return;const a=t().list,o=Sre({list:a,folderName:i}),l=lu(o.nextList),u=new Set(o.changedIds);if(u.size===0)return;if(e({list:l}),!r){Cl(l);return}const d=l.filter(h=>u.has(h.id));await Hn.upsertOrderPatch(r.id,d)},reorder:async n=>{const r=await Hn.getUser();if(r&&!qc())return;const i=n.map((o,l)=>({...o,sortOrder:l+1})),a=lu(i);if(e({list:a}),!r){Cl(a);return}await Fre.queue(a)},clear:()=>{e({currentId:null,list:[],loaded:!1,loadedUserId:null}),P6()}})),VD="__custom__",Gg=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],R6=({value:e,onChange:t})=>{const[n,r]=_.useState(Gg),[i,a]=_.useState(""),[o,l]=_.useState(!1),[u,d]=_.useState(""),[h,p]=_.useState(!1),{list:b}=xn(),y=(e??i??"").trim(),k=y==="",w=b.some(P=>(P.relationship??"").trim()===""),S=w&&!k?n.filter(P=>P.value!==""):n,T=_.useMemo(()=>{const P=S.find(I=>I.value==="");return P?[P,...S.filter(I=>I.value!=="")]:S},[S]);_.useEffect(()=>{e!==void 0&&a(e)},[e]),_.useEffect(()=>{y||w||(a(""),t?.(""))},[y,w,t]);const O=P=>{const I=P.target.value;I===VD?(l(!0),a(""),t?.("")):(l(!1),d(""),a(I),t?.(I))};_.useEffect(()=>{const P=localStorage.getItem("relationshipOptions");if(P)try{const I=JSON.parse(P),U=new Set,W=[...I,...Gg].filter(K=>!K||!K.value||U.has(K.value)?!1:(U.add(K.value),!0));r(W)}catch{r(Gg)}},[]),_.useEffect(()=>{(async()=>{const{data:{user:I},error:U}=await De.auth.getUser();if(U||!I)return;const{data:W,error:K}=await De.from("user_settings").select("payload").eq("user_id",I.id).single();if(K&&K.code!=="PGRST116"){console.error("load relationships settings error",K.message);return}const H=W?.payload?.relationshipOptions;if(!Array.isArray(H))return;const B=H.map(q=>q&&typeof q=="object"&&typeof q.value=="string"&&typeof q.label=="string"?{value:q.value,label:q.label}:typeof q=="string"?{value:q,label:q}:null).filter(q=>!!q);B.length&&r(q=>{const X=new Set,Z=[...B,...q,...Gg].filter(G=>X.has(G.value)?!1:(X.add(G.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(Z)),Z})})()},[]),_.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:I},error:U}=await De.auth.getUser();if(U||!I)return;const{data:W,error:K}=await De.from("user_settings").select("payload").eq("user_id",I.id).single();if(K&&K.code!=="PGRST116"){console.error("load relationships settings error",K.message);return}const H={...W?.payload??{},relationshipOptions:n},{error:B}=await De.from("user_settings").upsert({user_id:I.id,payload:H,updated_at:new Date().toISOString()});B&&console.error("save relationships settings error",B.message)})()},[n]);const A=()=>{const P=u.trim();if(!P)return;const I={value:P,label:P};r(U=>[...U,I]),a(P),t?.(P),d(""),l(!1)},C=P=>{r(n.filter(I=>I.value!==P)),i===P&&a("")},D=P=>{if(!P.destination)return;const I=Array.from(n),[U]=I.splice(P.source.index,1);I.splice(P.destination.index,0,U),r(I)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:O,children:[g.jsx("option",{value:"",hidden:!0,children:" "}),T.map(P=>g.jsx("option",{value:P.value,children:P.label},P.value)),g.jsx("option",{value:VD,children:" "})]}),g.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:" "})]}),o&&!h&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:"  ",value:u,onChange:P=>d(P.target.value)}),g.jsx("button",{type:"button",onClick:A,className:"btn_style",children:" "})]}),h&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:" "}),g.jsx(Ep,{onDragEnd:D,children:g.jsx(Af,{droppableId:"relList",children:P=>g.jsxs("ul",{ref:P.innerRef,...P.droppableProps,className:"space-y-1",children:[n.map((I,U)=>g.jsx(jf,{draggableId:I.value,index:U,children:W=>g.jsxs("li",{ref:W.innerRef,...W.draggableProps,...W.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:I.label}),g.jsx("button",{type:"button",className:"text-red-500 cursor-pointer",onClick:()=>C(I.value),children:""})]})},I.value)),P.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},vn=" ",L6=["","","","","",""],I6="ms_folders",$6="ms_folder_order",ZD="ms_folder_favs",b2="ms_disabled_presets",Wl="myeoun:folder-updated";function gu(e){if(e!==vn)return e||void 0}function nx(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function Yj(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function Gre(){const e=nx(b2);return L6.filter(t=>!e.includes(t))}function qj(){return nx(I6)}function Kj(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];Yj(I6,t),typeof window<"u"&&window.dispatchEvent(new Event(Wl))}function Ey(){const e=Gre(),t=qj(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function Yre(){return[vn,...Ey()]}function B6(e){const t=e.trim();if(!t||t===vn)return;const n=qj();if(n.includes(t))return;const r=[...n,t];Kj(r)}function qre(e){const t=qj(),n=t.filter(r=>r!==e);n.length!==t.length&&Kj(n)}function Kre(e){const t=nx(b2);if(t.includes(e))return;const n=[...t,e];Yj(b2,n),typeof window<"u"&&window.dispatchEvent(new Event(Wl))}function jy(){return nx($6)}function Ud(e){Yj($6,e),typeof window<"u"&&window.dispatchEvent(new Event(Wl))}function Dm(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function Wre(e){return Array.from(new Set(e))}function Yg(e){const t=e.filter(n=>n!==vn);return{rest:t,withUnassigned:[vn,...t]}}function Vre(e,t){return Dm(t,e)}function Zre({value:e,onChange:t}){const[n,r]=_.useState([vn]),[i,a]=_.useState(!1),[o,l]=_.useState(""),[u,d]=_.useState(!1),h=_.useCallback(async S=>{const{data:{user:T},error:O}=await De.auth.getUser();if(O||!T)return;const A=S.map((D,P)=>({user_id:T.id,folder_name:D,sort_order:P+1,updated_at:new Date().toISOString()})),{error:C}=await De.from("user_folder_order").upsert(A,{onConflict:"user_id,folder_name"});C&&console.error("save folder order error",C.message)},[]),p=_.useCallback(()=>{if(typeof window>"u")return;const S=Wre(Yre()),T=S.includes(vn)?S:[vn,...S],{rest:O}=Yg(T),A=jy(),C=Vre(A,O),D=[vn,...C];r(D),A.length===C.length&&A.every((I,U)=>I===C[U])||(Ud(C),h(C))},[h]);_.useEffect(()=>{if(p(),typeof window<"u"){const S=()=>p();return window.addEventListener(Wl,S),()=>window.removeEventListener(Wl,S)}},[p]);const b=_.useMemo(()=>e||vn,[e]),y=S=>{const{rest:T}=Yg(S);Ud(T),h(T)},k=S=>{const{source:T,destination:O}=S;if(!O||O.index===T.index)return;const{rest:A}=Yg(n),C=Array.from(A),[D]=C.splice(T.index,1);C.splice(O.index,0,D);const P=[vn,...C];r(P),y(P)},w=S=>{const T=gu(S);T&&(B6(T),p())};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":b,onChange:S=>{const T=S.target.value;if(T==="__custom__"){a(!0),t(void 0);return}a(!1),t(gu(T))},children:[n.map(S=>g.jsx("option",{value:S,children:S},S)),g.jsx("option",{value:"__custom__",children:"+   "})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>d(S=>!S),children:u?" ":" "})]}),i&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:o,onChange:S=>l(S.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const S=o.trim();S&&(w(S),t(gu(S)),a(!1),l(""))},children:""})]}),u&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:""}),g.jsxs("span",{className:"flex-1 px-2",children:[vn," ()"]})]}),g.jsx(Ep,{onDragEnd:k,children:g.jsx(Af,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:S=>g.jsxs("ul",{ref:S.innerRef,...S.droppableProps,className:"space-y-1",children:[Yg(n).rest.map((T,O)=>g.jsx(jf,{draggableId:T,index:O,children:A=>g.jsxs("li",{ref:A.innerRef,...A.draggableProps,...A.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:T})]})},T)),S.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['   "',vn,'" .      .']})]})}function z6({message:e,onClose:t,ms:n=2e3}){return _.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const XD=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Xre=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Jre=["","/",""],Qre=["",""],U6={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function eie(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function tie(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function nie(){const[e,t]=_.useState(0),[n,r]=_.useState({...U6}),[i,a]=_.useState(null),[o,l]=_.useState(!1),[u,d]=_.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d}}function rie({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){_.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function iie(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Vi(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function aie(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):vn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function oie({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=XD[r],a=_.useMemo(()=>iie(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:XD,currentStep:i,lunarPreview:a,displayValue:l=>aie(l,e,t,n),CALENDAR_OPTIONS:Xre,MING_OPTIONS:Jre,GENDER_OPTIONS:Qre,nextIndex:eie,focusById:tie,isDST:Zm}}function sie(){return{add:xn(t=>t.add)}}const jr=[];for(let e=0;e<256;++e)jr.push((e+256).toString(16).slice(1));function lie(e,t=0){return(jr[e[t+0]]+jr[e[t+1]]+jr[e[t+2]]+jr[e[t+3]]+"-"+jr[e[t+4]]+jr[e[t+5]]+"-"+jr[e[t+6]]+jr[e[t+7]]+"-"+jr[e[t+8]]+jr[e[t+9]]+"-"+jr[e[t+10]]+jr[e[t+11]]+jr[e[t+12]]+jr[e[t+13]]+jr[e[t+14]]+jr[e[t+15]]).toLowerCase()}let x1;const cie=new Uint8Array(16);function uie(){if(!x1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");x1=crypto.getRandomValues.bind(crypto)}return x1(cie)}const die=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),JD={randomUUID:die};function F6(e,t,n){if(JD.randomUUID&&!e)return JD.randomUUID();e=e||{};const r=e.random??e.rng?.()??uie();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,lie(r)}function fie(e,t,n){const r=gu(e.folder);return j6({id:F6(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function hie(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=Uj(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=Fj(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function mie({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d,setToast:h,onSave:p}){const{add:b}=sie(),y=_.useCallback(()=>{const w=hie(a,e,o,u);if(!w.ok){h(w.message??" .");return}if(w.nextForm&&(t(w.nextForm),w.message&&h(w.message)),n<i-1){r(n+1);return}const S=fie(e,o,u);if(!S.ok){h(S.message);return}const T=S.value;b(T),p(T),h(" !"),t({...U6}),l(!1),d(!1),r(0)},[a,e,o,u,h,t,n,i,r,b,p,l,d]),k=_.useCallback(w=>{if(w.key!=="Enter")return;const S=w.target,T=S.getAttribute("role");if(T==="radio"||T==="checkbox")return;const O=document.getElementById("mapModal");if(O&&O.contains(S))return;const A=S.tagName.toLowerCase(),C=S instanceof HTMLInputElement?S.type:"";if(A==="textarea"){if(w.shiftKey)return;w.preventDefault(),y();return}if(C==="radio"||C==="checkbox"){w.preventDefault(),S instanceof HTMLInputElement&&S.click();return}A==="button"&&S.type!=="submit"||(w.preventDefault(),y())},[y]);return{handleNext:y,handleFormKeyDown:k}}function pie({onSave:e}){const t=nie(),n=oie({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});rie({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=mie({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function gie({onSave:e,onClose:t}){const n=pie({onSave:e});return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&g.jsx(z6,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>g.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:r.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[g.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:l=>{if(l.stopPropagation(),l.key===" "||l.key==="Enter"){l.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(l.key))return;l.preventDefault();const d=n.CALENDAR_OPTIONS.findIndex(b=>b.value===n.form.calendarType),h=n.nextIndex(d<0?0:d,n.CALENDAR_OPTIONS.length,l.key),p=n.CALENDAR_OPTIONS[h].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[h].id}_lbl`)},onClick:l=>{l.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",d=n.MING_OPTIONS.indexOf(u),h=n.nextIndex(d,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[h];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",d=n.GENDER_OPTIONS.indexOf(u),h=n.nextIndex(d,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[h];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(d4,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&g.jsx(R6,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&g.jsx(Zre,{value:gu(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var qg={},QD;function bie(){if(QD)return qg;QD=1,qg.match=a,qg.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(h,p){return o(h).some(function(b){var y=b.inverse,k=b.type==="all"||p.type===b.type;if(k&&y||!(k||y))return!1;var w=b.expressions.every(function(S){var T=S.feature,O=S.modifier,A=S.value,C=p[T];if(!C)return!1;switch(T){case"orientation":case"scan":return C.toLowerCase()===A.toLowerCase();case"width":case"height":case"device-width":case"device-height":A=d(A),C=d(C);break;case"resolution":A=u(A),C=u(C);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":A=l(A),C=l(C);break;case"grid":case"color":case"color-index":case"monochrome":A=parseInt(A,10)||1,C=parseInt(C,10)||0;break}switch(O){case"min":return C>=A;case"max":return C<=A;default:return C===A}});return w&&!y||!w&&y})}function o(h){return h.split(",").map(function(p){p=p.trim();var b=p.match(e),y=b[1],k=b[2],w=b[3]||"",S={};return S.inverse=!!y&&y.toLowerCase()==="not",S.type=k?k.toLowerCase():"all",w=w.match(/\([^\)]+\)/g)||[],S.expressions=w.map(function(T){var O=T.match(t),A=O[1].toLowerCase().match(n);return{modifier:A[1],feature:A[2],value:O[2]}}),S})}function l(h){var p=Number(h),b;return p||(b=h.match(/^(\d+)\s*\/\s*(\d+)$/),p=b[1]/b[2]),p}function u(h){var p=parseFloat(h),b=String(h).match(i)[1];switch(b){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function d(h){var p=parseFloat(h),b=String(h).match(r)[1];switch(b){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return qg}var w1,eP;function yie(){if(eP)return w1;eP=1;var e=bie().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var l=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=d,this.removeListener=h,this.dispose=b;function d(y){u&&u.addListener(y)}function h(y){u&&u.removeListener(y)}function p(y){l.matches=y.matches,l.media=y.media}function b(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return w1=r,w1}var vie=yie();const xie=_i(vie);var wie=/[A-Z]/g,_ie=/^ms-/,_1={};function Sie(e){return"-"+e.toLowerCase()}function H6(e){if(_1.hasOwnProperty(e))return _1[e];var t=e.replace(wie,Sie);return _1[e]=_ie.test(t)?"-"+t:t}function kie(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var S1={exports:{}},k1,tP;function Eie(){if(tP)return k1;tP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return k1=e,k1}var E1,nP;function jie(){if(nP)return E1;nP=1;var e=Eie();function t(){}function n(){}return n.resetWarningCache=t,E1=function(){function r(o,l,u,d,h,p){if(p!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},E1}var rP;function Aie(){return rP||(rP=1,S1.exports=jie()()),S1.exports}var Tie=Aie();const Pt=_i(Tie),Kr=Pt.oneOfType([Pt.string,Pt.number]),G6={all:Pt.bool,grid:Pt.bool,aural:Pt.bool,braille:Pt.bool,handheld:Pt.bool,print:Pt.bool,projection:Pt.bool,screen:Pt.bool,tty:Pt.bool,tv:Pt.bool,embossed:Pt.bool},Nie={orientation:Pt.oneOf(["portrait","landscape"]),scan:Pt.oneOf(["progressive","interlace"]),aspectRatio:Pt.string,deviceAspectRatio:Pt.string,height:Kr,deviceHeight:Kr,width:Kr,deviceWidth:Kr,color:Pt.bool,colorIndex:Pt.bool,monochrome:Pt.bool,resolution:Kr,type:Object.keys(G6)},{type:YCe,...Oie}=Nie,Cie={minAspectRatio:Pt.string,maxAspectRatio:Pt.string,minDeviceAspectRatio:Pt.string,maxDeviceAspectRatio:Pt.string,minHeight:Kr,maxHeight:Kr,minDeviceHeight:Kr,maxDeviceHeight:Kr,minWidth:Kr,maxWidth:Kr,minDeviceWidth:Kr,maxDeviceWidth:Kr,minColor:Pt.number,maxColor:Pt.number,minColorIndex:Pt.number,maxColorIndex:Pt.number,minMonochrome:Pt.number,maxMonochrome:Pt.number,minResolution:Kr,maxResolution:Kr,...Oie},Mie={...G6,...Cie};var Die={all:Mie};const Pie=e=>`not ${e}`,Rie=(e,t)=>{const n=H6(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?Pie(n):`(${n}: ${t})`},Lie=e=>e.join(" and "),Iie=e=>{const t=[];return Object.keys(Die.all).forEach(n=>{const r=e[n];r!=null&&t.push(Rie(n,r))}),Lie(t)},$ie=_.createContext(void 0),Bie=e=>e.query||Iie(e),iP=e=>e?Object.keys(e).reduce((n,r)=>(n[H6(r)]=e[r],n),{}):void 0,Y6=()=>{const e=_.useRef(!1);return _.useEffect(()=>{e.current=!0},[]),e.current},zie=e=>{const t=_.useContext($ie),n=()=>iP(e)||iP(t),[r,i]=_.useState(n);return _.useEffect(()=>{const a=n();kie(r,a)||i(a)},[e,t]),r},Uie=e=>{const t=()=>Bie(e),[n,r]=_.useState(t);return _.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},Fie=(e,t)=>{const n=()=>xie(e,t||{},!!t),[r,i]=_.useState(n),a=Y6();return _.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},Hie=e=>{const[t,n]=_.useState(e.matches);return _.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},Gie=(e,t,n)=>{const r=zie(t),i=Uie(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=Fie(i,r),o=Hie(a);return Y6(),_.useEffect(()=>{},[o]),_.useEffect(()=>()=>{a&&a.dispose()},[]),o},q6={Classic:"",Modern:""};function no(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function Yie(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function qie(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function Kie(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function Wie(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function ro(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?Yie(t,n):qie(t,n):i?Kie(t,n):Wie(t,n)}const Jr=Yo()($5((e,t)=>{const n=new Date,r="/",i=127.5,a=0,o=(b,y)=>y?new Date(b.getTime()+y*60*1e3):b,l=i,u=o(n,a),d=ct(u,l),h=kt(u,l),p=ht(u,r);return{date:n,scope:"",rule:r,lon:i,dstOffsetMinutes:a,yearGZ:d,monthGZ:h,dayGZ:p,setDate:b=>{const{rule:y,lon:k,dstOffsetMinutes:w}=t(),S=typeof k=="number"?k:void 0,T=o(b,w);e({date:b,yearGZ:ct(T,S),monthGZ:kt(T,S),dayGZ:ht(T,y)})},resetDate:()=>{const{rule:b,lon:y,dstOffsetMinutes:k}=t(),w=new Date,S=typeof y=="number"?y:void 0,T=o(w,k);e({date:w,yearGZ:ct(T,S),monthGZ:kt(T,S),dayGZ:ht(T,b)})},resetMonth:()=>{const{lon:b,dstOffsetMinutes:y}=t(),k=new Date,w=typeof b=="number"?b:void 0,S=o(k,y);e({date:k,monthGZ:kt(S,w)})},setScope:b=>e({scope:b}),setRule:b=>{const{date:y,lon:k,dstOffsetMinutes:w}=t(),S=typeof k=="number"?k:void 0,T=o(y,w);e({rule:b,yearGZ:ct(T,S),monthGZ:kt(T,S),dayGZ:ht(T,b)})},setLon:b=>{const{date:y,rule:k,dstOffsetMinutes:w}=t(),S=typeof b=="number"?b:void 0,T=o(y,w);e({lon:b,yearGZ:ct(T,S),monthGZ:kt(T,S),dayGZ:ht(T,k)})},setDstOffsetMinutes:b=>{const{date:y,rule:k,lon:w}=t(),S=typeof w=="number"?w:void 0,T=o(y,b);e({dstOffsetMinutes:b,yearGZ:ct(T,S),monthGZ:kt(T,S),dayGZ:ht(T,k)})},setFromEvent:(b,y)=>{const{rule:k,lon:w,dstOffsetMinutes:S}=t(),T=typeof w=="number"?w:void 0,O=o(b.at,S);e({date:b.at,scope:y,yearGZ:ct(O,T),monthGZ:kt(O,T),dayGZ:ht(O,k)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),Vie=60*1e3,K6=60*Vie,Zie=24*K6,Xie=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},y2=e=>{const t=new Date(e);return t.setSeconds(0,0),t},Kb={HOUR:K6,DAY:Zie},wi=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(l=>({name:l.name,date:On(t,l.deg)})).concat([{name:r.name,date:On(t+1,r.deg)},{name:"",date:On(t+1,285)}]),a=On(t,315),o=On(t+1,315);return i.filter(l=>l.date>=a&&l.date<o).sort((l,u)=>l.date.getTime()-u.date.getTime())},W6=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${Xr[t%10]}${vi[t%12]}`);return e})(),Jie=e=>{const t=W6.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},Ay=(e,t,n=1)=>{const r=Jie(e),i=t==="forward"?n:-n;return W6[(r+i+60*1e3)%60]},jd=2*Kb.HOUR,aP=e=>(Math.floor((e+1)/2)*2-1+24)%24,Qie=(e,t)=>{const n=e.getHours(),r=aP(n),i=new Date(e);i.setHours(r,0,0,0),i.getTime()>e.getTime()&&i.setTime(i.getTime()-jd);const a=new Date(i.getTime()+jd),o=e.getTime()-i.getTime(),l=a.getTime()-e.getTime();if(o<0||o>jd||l<0||l>jd){const u=new Date(e);for(u.setHours(aP(e.getHours()),0,0,0);u.getTime()>e.getTime();)u.setTime(u.getTime()-jd);const d=new Date(u.getTime()+jd),h=e.getTime()-u.getTime(),p=d.getTime()-e.getTime();return t==="backward"?h:p}return t==="backward"?o:l},V6=(e,t,n,r=120)=>{const i=y2(e),a=Qie(i,n),o=10*Kb.DAY/(2*Kb.HOUR),l=y2(new Date(i.getTime()+a*o)),u=Xie(e,r).getTime(),d=[];let h=Ay(t,n,1);for(let p=l.getTime();p<=u;p+=10*Kb.DAY)d.push({at:new Date(p),gz:h}),h=Ay(h,n,1);return{firstChange:l,events:d}},Z6=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},X6=(e,t,n,r)=>{const i=Z6(r,n);let a=t;const o=[];for(const l of e.events){const u=l.gz.charAt(1);i(u)&&(a=Ay(a,n,1),o.push({at:l.at,gz:a}))}return{events:o}},v2=7200*1e3,eae=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=Xr.indexOf(r),o=vi.indexOf(i),l=t==="forward"?n:-n,u=(a+l%10+10)%10,d=(o+l%12+12)%12;return Xr[u]+vi[d]},tae=e=>(Math.floor((e+1)/2)*2-1+24)%24,nae=e=>{const t=e.getHours(),n=tae(t),r=new Date(e);return r.setHours(n,0,0,0),r.getTime()>e.getTime()&&r.setTime(r.getTime()-v2),r},rae=(e,t)=>{const n=wi(e).sort((p,b)=>p.date.getTime()-b.date.getTime()),r=e.getTime();let i;if(t==="forward"){let p=n.find(b=>b.date.getTime()>r);if(!p){const b=new Date(e.getFullYear()+1,0,2,12,0,0,0);p=wi(b).sort((k,w)=>k.date.getTime()-w.date.getTime()).find(k=>k.date.getTime()>r)}if(!p)throw new Error("    .");i=p.date}else{let p=n.filter(b=>b.date.getTime()<r);if(p.length===0){const b=new Date(e.getFullYear()-1,11,31,12,0,0,0);p=wi(b).sort((k,w)=>k.date.getTime()-w.date.getTime()).filter(k=>k.date.getTime()<r)}if(p.length===0)throw new Error("    .");i=p[p.length-1].date}const a=nae(e),o=t==="forward"?v2:-v2,l=i.getTime();let u=new Date(a.getTime()),d=0;const h=365*24/2;for(;d<h;){const p=u.getTime();if(t==="forward"){if(p>=l)return u}else if(p<=l)return u;u=new Date(u.getTime()+o),d++}throw new Error("     .")},iae=(e,t)=>{const i=Math.abs(t.getTime()-e.getTime())*120;return new Date(e.getTime()+i)},Np=(e,t,n,r=120,i)=>{console.log(i);const a=rae(e,n),o=iae(e,a),l=Math.floor(r/10),u=[];for(let d=0;d<l;d++){const h=new Date(o);h.setFullYear(h.getFullYear()+d*10),h.setSeconds(0,0);const p=eae(t,n,d+1);u.push({at:h,gz:p})}return u.sort((d,h)=>d.at.getTime()-h.at.getTime()),{natalMonthPillar:t,firstChange:o,mPillars:[],events:u}},aae=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},J6=(e,t,n,r,i)=>{const a=Z6(r,n);let o=t;const l=[];for(const u of e.events){const d=u.gz.charAt(1);a(d)&&(o=Ay(o,n,1),l.push({at:u.at,gz:o,age:aae(i,u.at)}))}return{events:l}},oae=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},rx=(e,t)=>{const n=oae(e),r=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",i=jp(n,e.birthPlace?.lon??null,r),a=t?.dstOffsetMinutes??0,o=a!==0?new Date(i.getTime()+a*60*1e3):i;return y2(o)},Wj=(e,t,n)=>{const r=e.birthPlace?.lon??127.5,i=rx(e,n),a=ht(i,t),o=eo(i,t,a.charAt(0));return{year:ct(i,r),month:kt(i,r),day:a,hour:o}},sae=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${Xr[t%10]}${vi[t%12]}`);return e})(),lae=e=>sae.indexOf(e),j1=e=>{if(lae(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function cae(e,t="/",n=0){const r=_.useMemo(()=>Nf(e),[e]),i=_.useMemo(()=>rx(r,{dstOffsetMinutes:n}),[r,n]),a=_.useMemo(()=>Wj(r,t,{dstOffsetMinutes:n}),[r,t,n]);return _.useMemo(()=>{const o=Np(i,a.month,r.dir,120,r?.birthPlace?.lon??127.5),l=new Date;function u(C,D){let P=null;const I=D.getTime();for(const U of C)if(U.at.getTime()<=I)P=U;else break;return P}const d=u(o.events,l)?.gz??a.month,h=j1(d),p=l.getFullYear(),b=On(p,315),k=b&&l>=b?p:p-1,w=ct(new Date(k,1,10,0,0,0),127.5),S=j1(w),T=kt(l,127.5),O=j1(T),A=[];return O&&A.push({key:"wolun",label:"",data:O}),S&&A.push({key:"seun",label:"",data:S}),h&&A.push({key:"daeun",label:"",data:h}),A},[i,r.dir,a.month,r.birthPlace?.lon])}function Cu(e,t="/",n=100,r=0){const i=_.useMemo(()=>Nf(e),[e]),a=_.useMemo(()=>rx(i,{dstOffsetMinutes:r}),[i,r]),o=_.useMemo(()=>Wj(i,t,{dstOffsetMinutes:r}),[i,t,r]),l=(d,h)=>(h.getTime()-d.getTime())/(365.2425*24*60*60*1e3),u=d=>d<1?1+d:d;return _.useMemo(()=>{const d=Np(a,o.month,i.dir,n,i.birthPlace?.lon??127.5),h={at:a,gz:d.natalMonthPillar},p=d.events[0]?l(a,d.events[0].at):0,b=u(p);return[h,...d.events].map((y,k)=>{const w=k===0?1:b+(k-1)*10,S=y.at.getFullYear();return{...y,age:w,startYear:S}})},[a,o.month,i.dir,n,i.birthPlace?.lon])}function A1(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function uae(e,t){if(!Array.isArray(e)||e.length===0||!A1(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],l=n[a+1];if(!A1(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!l||A1(l.at)&&t.getTime()<l.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function ix(e,t,n,r){const{date:i,rule:a,lon:o}=Jr(),l=_.useMemo(()=>n??i??new Date,[n,i]),u=r?.dstOffsetMinutes??0,d=Cu(e,e?.mingSikType,100,u),h=u!==0?new Date(l.getTime()+u*60*1e3):l,{gz:p}=uae(d,h);return _.useMemo(()=>{try{const b=o??e?.birthPlace?.lon??127.5,y=a??e?.mingSikType??t??"/";return{dae:{gz:p,at:h},se:{gz:ct(h,b),at:h},wol:{gz:kt(h,b),at:h},il:{gz:ht(h,y),at:h}}}catch{const b=new Date;return{dae:{gz:"",at:b},se:{gz:"",at:b},wol:{gz:"",at:b},il:{gz:"",at:b}}}},[a,o,e,t,p,h])}const Ty=Yo(e=>({useDST:!1,setUseDST:t=>e({useDST:t}),toggleDST:()=>e(t=>({useDST:!t.useDST}))})),nc=()=>Ty(e=>e.useDST?-60:0),yn=["","","",""],oP={month:1},sP=["","","",""],Op=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],Q6=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],lP=[{name:"",members:["","",""]},{name:"",members:["","",""]}],dae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},x2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Re(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=dae[r[1]]??r[1],a=x2[r[2]]??r[2];return`${i}${a}`}return""}const Ny=e=>e&&e.length>=1?e[0]:"",Ii=e=>e&&e.length>=2?e[1]:"",Vj=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],Zj=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],Xj=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],Jj=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],Qj=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],eA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],tA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],nA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],rA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],iA=[{pair:["",""],label:""}],aA=new Set(["","","",""]),Oy=new Set(["","","",""]),oA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],e7=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function pi(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function rn(e,t){e.includes(t)||e.push(t)}const fae=e=>[...e].sort((t,n)=>t-n).map(t=>yn[t]).join("X");function hae(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function mae(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const t7=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function pae(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const n7=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function gae(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function r7(e){for(const t of n7){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!pae(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=gae(e.jijiHyeong),e}function bae(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function yae(e,t){for(const n of Op)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function cP(e,t,n){bae(e,n)<0&&rn(e,t)}function ax(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(b=>Ny(b)),l=i.map(b=>Ii(b));function u(b,y){if(b===y)return;const k=o[b],w=o[y];if(!k||!w)return;const S=pi(Vj,k,w);S&&rn(a.cheonganHap,`#${yn[b]}X${yn[y]}_${S}`);const T=pi(Zj,k,w);T&&rn(a.cheonganChung,`#${yn[b]}X${yn[y]}_${T}`)}for(let b=0;b<4;b++)for(let y=b+1;y<4;y++)u(b,y);function d(b,y,k,w,S=!0){const T=[],O=[];for(let C=0;C<4;C++)l[C]===b&&T.push(C),l[C]===y&&O.push(C);const A=hae(T,O);for(const[C,D]of A){const P=`#${yn[C]}X${yn[D]}_${k}`;S?cP(w,P,k):rn(w,P)}}const h=(b,y)=>{for(const{pair:[k,w],label:S}of b)d(k,w,S,y)};h(Xj,a.jijiYukhap),h(Jj,a.jijiChung),h(Qj,a.jijiPa),h(eA,a.jijiHae),h(tA,a.jijiWonjin),h(nA,a.jijiGwimun);for(const b of Op){if(!b.members.every(S=>l.includes(S)))continue;const k=[];for(let S=0;S<4;S++)b.members.includes(l[S])&&k.push(S);const w=fae(k);rn(a.jijiSamhap,`#${w}_${b.name}`)}for(const{pair:[b,y],label:k}of e7)yae(b,y)&&d(b,y,k,a.jijiBanhap,!1);for(const{pair:[b,y],label:k}of rA)d(b,y,k,a.jijiHyeong);for(const{pair:[b,y],label:k}of iA)d(b,y,k,a.jijiHyeong);for(const b of aA){const y=l.map((k,w)=>k===b?w:-1).filter(k=>k>=0);if(!(y.length<2))for(const[k,w]of mae(y)){const S=`#${yn[k]}X${yn[w]}_${b}`;cP(a.jijiHyeong,S,`${b}`)}}for(const{pair:[b,y],label:k}of oA)d(b,y,k,a.amhap);if(n)for(let b=0;b<4;b++){const y=i[b]??"";if(y.length<2)continue;const k=`${y[0]}${y[1]}`;Oy.has(k)&&rn(a.ganjiAmhap,`#${t7(yn[b])}_${k}`)}const p=r7(a);if(r)for(const b of Object.keys(p)){if(b==="title")continue;const y=p[b];Array.isArray(y)&&y.length===0&&(p[b]=["#"])}return p}function vae(e,t){for(const n of Op)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function xae(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),l=Math.max(i,a),u=`${o}-${l}`;r.has(u)||(r.add(u),n.push([o,l]))}return n}function $l(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Re(e.natal[0]??""),Re(e.natal[1]??""),Re(e.natal[2]??""),Re(e.natal[3]??"")],a=[Re(e.daewoon??""),Re(e.sewoon??""),Re(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},l=r.map(p=>{const b=Ii(p??"");return x2[b]??b});for(const{pair:[p,b],label:y}of e7){if(!vae(p,b))continue;const k=[],w=[];for(let T=0;T<4;T++)l[T]===p&&k.push(T),l[T]===b&&w.push(T);const S=xae(k,w);for(const[T,O]of S){const A=`#${yn[T]}X${yn[O]}_${y}`;rn(o.jijiBanhap,A)}}if(n&&a)for(let p=0;p<4;p++){const b=r[p]??"";if(b.length<2)continue;const y=`${b[0]}${b[1]}`;Oy.has(y)&&rn(o.ganjiAmhap,`#${t7(yn[p])}_${y}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let d=!1,h=!1;for(const[p,b]of u){if(!b)continue;const y=Re(b);if(!y||y.length<2)continue;const k=Ny(y),w=Ii(y);{const T=`${k}${w}`;Oy.has(T)&&rn(o.ganjiAmhap,`#${p}_${T}`)}for(let T=0;T<4;T++){const O=r[T]??"";if(O.length<2)continue;const A=yn[T],C=Ny(O),D=Ii(O),P=pi(Vj,k,C);P&&rn(o.cheonganHap,`#${p}X${A}_${P}`);const I=pi(Zj,k,C);I&&rn(o.cheonganChung,`#${p}X${A}_${I}`);const U=pi(Xj,w,D);U&&rn(o.jijiYukhap,`#${p}X${A}_${U}`);const W=pi(Jj,w,D);W&&rn(o.jijiChung,`#${p}X${A}_${W}`);const K=pi(Qj,w,D);K&&rn(o.jijiPa,`#${p}X${A}_${K}`);const H=pi(eA,w,D);H&&rn(o.jijiHae,`#${p}X${A}_${H}`);const B=pi(tA,w,D);B&&rn(o.jijiWonjin,`#${p}X${A}_${B}`);const q=pi(nA,w,D);q&&rn(o.jijiGwimun,`#${p}X${A}_${q}`);const X=pi(rA,w,D);if(X)rn(o.jijiHyeong,`#${p}X${A}_${X}`);else{const G=pi(iA,w,D);G?rn(o.jijiHyeong,`#${p}X${A}_${G}`):w===D&&aA.has(w)&&rn(o.jijiHyeong,`#${p}X${A}_${w}${D}`)}const Z=pi(oA,w,D);Z&&rn(o.amhap,`#${p}X${A}_${Z}`)}for(const T of Op){if(!T.members.includes(w))continue;const O=T.members.filter(C=>C!==w),A=l.map((C,D)=>({b:C,pos:yn[D]})).filter(C=>C.b&&O.includes(C.b));if(new Set(A.map(C=>C.b)).size===2){const[C,D]=A.map(P=>P.pos).sort((P,I)=>yn.indexOf(P)-yn.indexOf(I));rn(o.jijiSamhap,`#${p}X${C}X${D}_(${T.name})`)}}for(const T of lP){if(!T.members.includes(w))continue;const O=T.members.filter(C=>C!==w),A=l.map((C,D)=>({b:C,pos:yn[D]})).filter(C=>C.b&&O.includes(C.b));if(new Set(A.map(C=>C.b)).size===2){const[C,D]=A.map(P=>P.pos).sort((P,I)=>yn.indexOf(P)-yn.indexOf(I));rn(o.jijiHyeong,`#${p}X${C}X${D}_${T.name}`),T.name===""&&(d=!0),T.name===""&&(h=!0)}}const S=[...r.map((T,O)=>({b:x2[Ii(T)]??Ii(T),pos:yn[O]}))];for(const T of Q6){const O=S.filter(A=>T.members.includes(A.b));if(new Set(O.map(A=>A.b)).size===3){const A=O.map(C=>C.pos).join("X");rn(o.jijiBanghap,`#${A}_(${T.name})`)}}}{const p=[],b=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[y,k]of b){const w=Re(k??"");w.length>=2&&p.push({kind:y,b:Ii(w)})}if(p.length>=2){const y=r.map((k,w)=>({pos:yn[w],b:Ii(k)}));for(const k of lP)for(let w=0;w<p.length;w++)for(let S=w+1;S<p.length;S++){const T=p[w],O=p[S];for(const A of y){const C=new Set([A.b,T.b,O.b]);if(C.size===3&&k.members.every(D=>C.has(D))){const D=[T.kind,O.kind].sort((I,U)=>sP.indexOf(I)-sP.indexOf(U)).join("X"),P=`${A.pos}X${D}`;rn(o.jijiHyeong,`#${P}_${k.name}`),k.name===""&&(d=!0),k.name===""&&(h=!0)}}}}}return(d||h)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(d&&/(||)/.test(p)||h&&/(||)/.test(p)))),r7(wae(o))}function wae(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const _ae={:"",:"",:"",:"",:""},uP={:"",:"",:"",:"",:""},Sae={:"",:"",:"",:"",:""},kae={:"",:"",:"",:"",:""},Eae={:.15,:.1,:-.15,:-.2,:-.25};function jae(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function Aae(e){const t=e.includes(oP.month),n=jae(oP.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function Tae(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function Nae(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],o=a.map(h=>Ii(h)).filter(Boolean),l=[],u={...t},d=(h,p)=>{const b=[];for(let T=0;T<a.length;T++){const O=Ii(a[T]??"");p.members.includes(O)&&b.push(T)}if(!p.members.every(T=>o.includes(T)))return;const k=Aae(b),w=p.out,S=uP[w];Tae(u,S,w,k),l.push({type:h,name:p.name,out:p.out,strength:k})};if(i)for(const h of Op)d("",h);if(r)for(const h of Q6)d("",h);return{applied:l,score:u,strengthAdj:Eae,shengNext:_ae,shengPrev:uP,ke:Sae,keInv:kae}}function Cy(e){return yn[e]}function dP(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=Re(e[r]??""),a=Ny(i),o=Ii(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Qh(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${Cy(i)}X${Cy(a)}_${e}`);return r}function Oae(e,t){const n=dP(e),r=dP(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(l,u)=>{l.includes(u)||l.push(u)};for(const{pair:[l,u],label:d}of Vj){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Qh(d,h,p))a(i.,b)}for(const{pair:[l,u],label:d}of Zj){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Qh(d,h,p))a(i.,b)}const o=(l,u)=>{const d=Array.from(n.branchPos.keys()),h=Array.from(r.branchPos.keys());for(const p of d)for(const b of h){const y=pi(u,p,b);if(!y)continue;const k=n.branchPos.get(p)??[],w=r.branchPos.get(b)??[];for(const S of Qh(y,k,w))a(i[l],S)}};o("",Xj),o("",Jj),o("",Qj),o("",eA),o("",tA),o("",nA),o("",rA),o("",iA);for(const l of aA){const u=n.branchPos.get(l)??[],d=r.branchPos.get(l)??[];if(!(!u.length||!d.length))for(const h of Qh(`${l}`,u,d))a(i.,h)}for(const{label:l,pair:[u,d]}of oA){const h=[...n.branchPos.get(u)??[],...n.branchPos.get(d)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(d)??[]];if(!(!h.length||!p.length))for(const b of Qh(l,h,p))a(i.,b)}{const l=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const d of l)for(const h of u){const p=n.stemPos.get(d)??[],b=r.stemPos.get(h)??[];for(const y of p){const k=Ii(Re(e[y]??"")),w=`${d}${k}`;if(Oy.has(w))for(const S of b){const T=Ii(Re(t[S]??""));`${h}${T}`===w&&a(i.,`#${Cy(y)}X${Cy(S)}_${w}`)}}}}return i}const i7=new Set(Object.keys(Kn)),a7=new Set(Object.keys(tr)),Cae=e=>e.slice(0,1),Mae=e=>e.slice(-1);function ks(e){return ef.has(e)?e:i7.has(e)?Kn[e]??e:e}function Cr(e){return $m.has(e)?e:a7.has(e)?tr[e]??e:e}function Oo(e){return ks(Cae(e))}function Zt(e){return Cr(Mae(e))}function Dae(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(ef.has(i)||i7.has(i))&&(n=ks(i)),($m.has(i)||a7.has(i))&&(r=Cr(i));return n&&r?{stem:n,branch:r}:null}function Pae(e){return e.map(Zt)}function Kg(e,t,n="classic"){const r=Oo(t),i=Zt(t),a=(n==="hgc"?Gv:Hv)[i]??[];return[r,...a].includes(e)}const w2=[["",""],["",""],["",""],["",""],["",""],["",""]],_2=[["",""],["",""],["",""],["",""],["",""],["",""]],Rae=new Set(["","","",""]),o7=[["",""],["",""]],Lae=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function Pm(e,t,n){const r=Cr(t),i=Cr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function fP(e,t,n){const r=Cr(t),i=Cr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function My(e){for(const t of Lae)if(t.set.has(e))return t.voids;return null}function S2(e){const t=Cr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const Qn={2:4,1:3,3:2,0:1},Fd={1:4,2:3,0:2,3:1},we={year:0,month:1,day:2,hour:3};function Iae(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const _u=e=>e===0?"":e===1?"":e===2?"":"",Of=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",$ae=(e,t)=>`#X${_u(t)}_${e}`,Xd=(e,t,n)=>t===we.month&&n===we.day?`#X_${e}`:t===we.year&&n===we.month?`#X_${e}`:t===we.year&&n===we.day?`#X_${e}`:t===we.month&&n===we.hour?`#X_${e}`:t===we.day&&n===we.hour?`#X_${e}`:`#${_u(t)}X${_u(n)}_${e}`,Wg=(e,t)=>`#${_u(t)}_${e}`,s7=(e,t)=>`#X${_u(t)}_${e}`,Bae=(e,t)=>`#(${e==="day"?"":""})X${_u(t)}_`,Ad=e=>`#_${e}`,Td=(e,t)=>`#X${Of(t)}_${e}`,em=(e,t)=>`#X${Of(t)}_${e}`,T1=(e,t,n)=>`#${_u(n)}X${Of(t)}_${e}`,zae=(e,t)=>`#(${t==="day"?"":""})_${Of(e)}_`,Uae=(e,t)=>`#(${t==="day"?"":""})X${Of(e)}_`,hP=(e,t)=>`#X${Of(e)}_${t}`;function k2(e,t){const n=Cr(e),r=[we.day,we.month,we.hour,we.year];for(const i of r)if(Zt(t[i])===n)return{pos:i,weight:Qn[i]??0};return null}function sA(e,t,n){return Zt(t[n])===Cr(e)?{pos:n,weight:Qn[n]}:null}function Fae(e,t){const n=ks(e),r=[we.day,we.month,we.hour,we.year];for(const i of r)if(Oo(t[i])===n)return{pos:i,weight:Qn[i]??0};return null}const Hae=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Cr(t.trim())).filter(Boolean),pn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ks(t),Hae(n)])),Gae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),l7=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Yae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),c7=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qae=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),eoe=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),u7=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),toe=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),noe=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),mP=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),roe=pn({:"",:"",:"",:"",:""}),ioe=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),pP=pn({:"",:"",:""}),gP=pn({:"",:"",:""}),aoe=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),d7=pn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),f7=pn({:"",:"",:"",:"",:"",:"",:""}),ooe=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Cr(t.trim())).filter(Boolean),Ta=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Cr(t),(Array.isArray(n)?n:[n]).map(r=>Cr(r))])),ox=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Cr(t),ooe(n)])),h7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},m7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},p7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},g7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},soe=Ta({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bP=Ta({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),loe=ox({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),coe=ox({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),uoe=ox({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),doe=ox({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),foe=Ta({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),hoe=Ta({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),moe=Ta({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),poe=Ta({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),goe=Ta({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),b7=Ta({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),boe=Ta({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yoe=Ta({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),voe=Ta({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xoe=Ta({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_n=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Cr(t),(Array.isArray(n)?n:[n]).map(r=>Cr(r))])),woe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),y7=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_oe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Soe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),koe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),v7=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Eoe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),joe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Aoe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Toe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Noe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),x7=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ooe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Coe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Moe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Doe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Poe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Roe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),w7=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Loe=x7,Ioe=y7,$oe=w7,Boe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zoe=v7,Uoe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Foe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hoe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function Cp(e,t){e.push(t)}function N1(e,t,n,r,i=0){const a=Fd[n]>=Fd[r]?n:r;e.push({name:Xd(t,n,r),weight:Qn[a]+i,pos:a})}function Goe(e,t,n,r,i){const a=Zt(e[we.year]),o=t[a];if(!o)return;const l=n==="MONTH"?[we.month]:n==="DAY"?[we.day]:n==="HOUR"?[we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const d of l){const h=sA(u,e,d);h&&Cp(i,{name:Xd(r,we.year,d),weight:h.weight,pos:d})}}function Yoe(e,t,n,r){const i=Zt(e[we.month]),a=t[i];if(!a)return;const o=ks(a),l=Fae(o,e);l&&Cp(r,{name:s7(n,l.pos),weight:l.weight,pos:l.pos})}function yP(e,t,n,r,i="ALL"){const a=Zt(e[we.month]),o=t[a];if(!o)return;const l=i==="YEAR"?[we.year]:i==="DAY"?[we.day]:i==="HOUR"?[we.hour]:i==="DAY_HOUR"?[we.day,we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const d of l){const h=sA(u,e,d);if(!h)continue;const p=d===we.month?`#_${n}`:s7(n,d);Cp(r,{name:p,weight:h.weight,pos:d})}}function vP(e,t,n,r){const i=Zt(e[we.month]),a=t[i];if(!a)return;const o=e[we.day];a.includes(o)&&Cp(r,{name:Xd(n,we.month,we.day),weight:Qn[we.day],pos:we.day})}function xP(e,t,n,r,i){const a=Oo(e[we.day]),o=t[a];if(!o)return;const l=i==="DAY"?[we.day]:i==="HOUR"?[we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const d of l){const h=sA(u,e,d);h&&Cp(r,{name:$ae(n,d),weight:h.weight,pos:d})}}function qoe({natal:e,daewoon:t,basis:n}){const r=Oo(e[we.day]),i=Zt(e[we.day]),a=Zt(e[we.month]),o=Zt(e[we.year]),l=Pae(e),u=[],d=[],h=[[woe,"MONTH",""],[y7,"DAY",""],[Soe,"MONTH",""],[koe,"MONTH",""],[Eoe,"ALL",""],[joe,"HOUR",""],[Aoe,"ALL",""],[Toe,"ALL",""],[Noe,"ALL",""],[x7,"ALL",""],[Ooe,"ALL",""],[Coe,"ALL",""],[Moe,"ALL",""],[Doe,"ALL",""],[Poe,"ALL",""],[Roe,"ALL",""],[w7,"ALL",""],[Loe,"ALL",""],[Ioe,"ALL",""],[$oe,"ALL",""],[Boe,"ALL",""],[zoe,"ALL",""],[Uoe,"ALL",""],[Foe,"ALL",""],[Hoe,"ALL",""]];for(const[C,D,P]of h)Goe(e,C,D,P,d);const p=[[h7,""],[m7,""],[p7,""],[g7,""]];for(const[C,D]of p)Yoe(e,C,D,u);const b=[[soe,"","ALL"],[bP,"","YEAR"],[bP,"","DAY"],[foe,"","ALL"],[hoe,"","ALL"],[moe,"","ALL"],[poe,"","ALL"],[goe,"","ALL"]];for(const[C,D,P]of b)yP(e,C,D,d,P);const y=[[b7,"","ALL"],[boe,"","DAY_HOUR"],[yoe,"","DAY_HOUR"],[voe,"","ALL"],[xoe,"","ALL"]];for(const[C,D,P]of y)yP(e,C,D,u,P);const k=[[loe,""],[doe,""]];for(const[C,D]of k)vP(e,C,D,u);const w=[[coe,""],[uoe,""]];for(const[C,D]of w)vP(e,C,D,d);const S=[[Gae,"","ALL"],[l7,"","ALL"],[Yae,"","ALL"],[qae,"","ALL"],[Kae,"","ALL"],[Wae,"","ALL"],[Vae,"","ALL"],[c7,"","ALL"],[Zae,"","ALL"],[Xae,"","ALL"],[Jae,"","ALL"],[Qae,"","ALL"],[eoe,"","ALL"],[aoe,"","ALL"]];for(const[C,D,P]of S)xP(e,C,D,u,P);const T=[[u7,"","ALL"],[toe,"","ALL"],[noe,"","ALL"],[mP,"","DAY"],[mP,"","HOUR"],[pP,"","DAY"],[pP,"","HOUR"],[gP,"","DAY"],[gP,"","HOUR"],[roe,"","DAY"],[ioe,"","ALL"],[d7,"","ALL"]];for(const[C,D,P]of T)xP(e,C,D,d,P);if(new Set(["","","",""]).has(e[we.day])){d.push({name:Ad(""),weight:Qn[we.day],pos:we.day});for(const D of[we.year,we.month,we.hour])e[D]===e[we.day]&&d.push({name:Wg("",D),weight:Qn[D],pos:D})}{const C=f7[r];if(C)for(const D of[we.year,we.month,we.day,we.hour]){const P=Oo(e[D]),I=Zt(e[D]);P===r&&C.includes(I)&&d.push({name:Wg("",D),weight:Qn[D],pos:D})}}for(const[C,D]of o7){const P=k2(C,e),I=k2(D,e);P&&I&&N1(d,"",P.pos,I.pos)}{const C=new Set(["",""]),D=new Set(["","","",""]);for(let P=0;P<=3;P++){const I=Oo(e[P]),U=Zt(e[P]);(C.has(I)||D.has(U))&&d.push({name:Wg("",P),weight:Qn[P],pos:P})}}{const C=e[we.hour],D=(I,U)=>I.includes(r)&&U.includes(C);(D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""]))&&d.push({name:Ad(""),weight:Qn[we.hour],pos:we.hour})}["","","",""].every(C=>l.includes(C))&&u.push({name:Ad(""),weight:Qn[we.day],pos:we.day});{const C=e[we.day],D=e[we.hour];(C===""&&D===""||C===""&&D==="")&&d.push({name:Xd("",we.day,we.hour),weight:Qn[we.hour],pos:we.hour})}{const C=Zt(e[we.year]),D=new Set(l.slice(1)),P=(U,W)=>U.every(K=>D.has(K))&&C===W;(P(["","",""],"")||P(["","",""],"")||P(["","",""],"")||P(["","",""],""))&&u.push({name:Ad(""),weight:Qn[we.day],pos:we.day})}(e[we.day]===""||e[we.day]==="")&&u.push({name:Ad(""),weight:Qn[we.day],pos:we.day});{const D={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];D&&e.some(I=>Zt(I)===D.rok)&&Oo(e[we.hour])===D.maStem&&u.push({name:Xd("",we.day,we.hour),weight:Qn[we.hour],pos:we.hour})}{const C=Zt(e[we.hour]),P={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(P){const I=i===P.rok,U=C===P.ma,W=Kg(P.rokStem,e[we.day],"classic")||Kg(P.rokStem,e[we.hour],"classic"),K=Kg(P.maStem,e[we.day],"classic")||Kg(P.maStem,e[we.hour],"classic");I&&U&&(W||K)&&u.push({name:Xd("",we.day,we.hour),weight:Qn[we.hour],pos:we.hour})}}{const C=new Set(["","","","","",""]),D=e.map(Oo),P=e.map(Zt),I=D.concat(P).filter(H=>C.has(H)).length,U=t?Oo(t):"",W=t?Zt(t):"",K=C.has(U)||C.has(W);(I>=4||I===3&&K)&&d.push({name:Ad(""),weight:Qn[we.day],pos:we.day})}{const C=new Set(["",""]),D=new Set(["",""]);for(let P=0;P<=3;P++){const I=Oo(e[P]),U=Zt(e[P]);(C.has(I)||D.has(U))&&d.push({name:Wg("",P),weight:Qn[P],pos:P})}}{const C=[[we.year,we.month],[we.year,we.day],[we.month,we.day],[we.month,we.hour],[we.day,we.hour]];for(const[D,P]of C){const I=Zt(e[D]),U=Zt(e[P]);if(Pm(w2,I,U)){const W=fP(w2,I,U);N1(d,`${W}`,D,P)}}}{const C=[[we.year,we.month,0],[we.month,we.day,1],[we.month,we.hour,0],[we.day,we.hour,0]];for(const[D,P,I]of C){const U=Zt(e[D]),W=Zt(e[P]);if(Pm(_2,U,W)){const K=fP(_2,U,W),H=(I?1:0)+(Rae.has(U+W)?1:0);N1(d,`${K}`,D,P,H)}}}const O=My(e[we.day]),A=My(e[we.year]);{const C=(n?.voidBasis??"day")==="day"?O:A;if(C){const[D,P]=C.map(Cr);for(const I of[we.year,we.month,we.day,we.hour]){const U=Zt(e[I]);(U===D||U===P)&&d.push({name:Bae(n?.voidBasis??"day",I),weight:Qn[I],pos:I})}}}return{goodPos:u,badPos:d,dayVoid:O,yearVoid:A,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l}}function Vg({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l,dayVoid:u,yearVoid:d,basis:h}){const p=[],b=[],y=(O,A)=>{O.includes(A)||O.push(A)},k=Dae(t??null);if(!k)return{good:p,bad:b};const w=k.branch,S=k.stem;ks(h7[a]??"")===S&&y(p,em("",e)),ks(m7[a]??"")===S&&y(p,em("",e)),ks(p7[a]??"")===S&&y(p,em("",e)),ks(g7[a]??"")===S&&y(p,em("",e)),b7[a]?.includes(w)&&y(p,em("",e)),l7[r]?.includes(w)&&y(p,Td("",e)),c7[r]?.includes(w)&&y(p,Td("",e)),u7[r]?.includes(w)&&y(b,Td("",e)),d7[r]?.includes(w)&&y(b,Td("",e)),f7[r]?.includes(w)&&y(b,Td("",e)),e==="se"&&(_oe[o]?.includes(w)&&y(b,hP(e,"")),v7[o]?.includes(w)&&y(b,hP(e,"")));for(const O of l)if(Pm(o7,w,O)){const A=k2(O,n)?.pos;A!==void 0&&y(b,T1("",e,A));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(w)&&y(b,Td("",e));const T=(h?.voidBasis??"day")==="day"?u:d;T&&(w===T[0]||w===T[1])&&y(b,zae(e,h?.voidBasis??"day"));for(let O=0;O<=3;O++){const A=Zt(n[O]);Pm(w2,w,A)&&y(b,T1("",e,O)),Pm(_2,w,A)&&y(b,T1("",e,O))}if(e==="se"){const O=(h?.samjaeBasis??"day")==="day"?i:o,A=O?S2(O):null;A&&A.includes(w)&&y(b,Uae(e,h?.samjaeBasis??"day"))}return{good:p,bad:b}}const Koe=/^#(|||)X\1_/,Woe=e=>Koe.test(e);function wP(e){const t=new Map;for(const n of e){if(Woe(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function Voe(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const Zoe=new Set(["",""]);function Xoe(e){return Zoe.has(e)?!0:e.endsWith("")||e.endsWith("")}function _P(e){const t=new Map;for(const r of e){const i=Voe(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(Xoe(r))n.push(...i);else{const a=i.sort((o,l)=>Fd[o.pos]!==Fd[l.pos]?Fd[l.pos]-Fd[o.pos]:l.weight-o.weight)[0];n.push(a)}return n}function SP(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=Iae;for(const i of e)n[r(i.pos)].push(i.name);return n}function Mp({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:l,dayVoid:u,yearVoid:d,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k}=qoe({natal:e,daewoon:t,basis:a}),w=_P(wP(o)),S=_P(wP(l)),T=SP(w),O=SP(S),A=Vg({src:"dae",luck:t??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),C=Vg({src:"se",luck:n??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),D=Vg({src:"wol",luck:r??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),P=Vg({src:"il",luck:i??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a});return{good:{...T,dae:A.good,se:C.good,wolun:D.good,ilun:P.good},bad:{...O,dae:A.bad,se:C.bad,wolun:D.bad,ilun:P.bad},meta:{voidPair:{day:My(e[we.day])??void 0,year:My(e[we.year])??void 0},samjaeYears:{day:S2(Zt(e[we.day]))??void 0,year:S2(Zt(e[we.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Joe(e){return typeof e=="object"&&e!==null}function Cf(e){const t=q6;return Joe(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const kP=["","","","","","","","","",""],EP=["","","","","","","","","","","",""],Qoe=["","","","","","","","","","","",""];function ese(e){const t=Yv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function tse(e,t){const n=ese(e);return(t?Qoe:EP).map(i=>{const a=EP.indexOf(i);let o=(n+(a<0?0:a))%10;return t&&(i===""||i==="")&&(o=(o+2)%10),`${kP[o]??kP[0]}${i}`})}function Rm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function jP(e){return e<10?`0${e}`:`${e}`}function E2(e){return`${jP(e.getHours())}:${jP(e.getMinutes())}`}function lA(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function AP(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||lA(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function nse(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":E2(i)}const TP=["","/",""],rse="/";function _7(e,t){return e&&TP.includes(e)?e:t&&TP.includes(t)?t:rse}function NP(e){return e===""}function ise(e){return e===""?"":""}function ase(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const ose=e=>e instanceof Date&&!Number.isNaN(e.getTime());function j2(e,t){const n=lA(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const A=Vi(r,i,a);r=A.getFullYear(),i=A.getMonth()+1,a=A.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),l=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,l,0,0),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,h=d?127.5:e.birthPlace.lon,p=ose(e.corrected);let b;p?b=e.corrected:d?b=u:b=jp(u,h,n);const y=t?new Date(b.getTime()-3600*1e3):b,k=_7(e.mingSikType),w=ct(y,h),S=kt(y,h),T=ht(y,k),O=n?null:eo(y,k);return{corrected:y,year:{stem:w.charAt(0),branch:w.charAt(1)},month:{stem:S.charAt(0),branch:S.charAt(1)},day:{stem:T.charAt(0),branch:T.charAt(1)},hour:O?{stem:O.charAt(0),branch:O.charAt(1)}:null}}const sse=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],lse=(()=>{const e={};for(const t of sse){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),cse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function use(e,t){const n=`${Yv(e)}${mj(t)}`;return lse[n]??null}function dse(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function fse(e){switch(cse[mj(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function hse({stem:e,branch:t}){const n=use(e,t);if(!n)return null;const r=dse(n.elem);return g.jsx("span",{className:`inline-block mt-1 px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function OP({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=wn(),o=Ki(e,t,a),l=xi(e,t,n),u=to(e,t),d=r&&u?"font-thin":"font-bold",h=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${h}`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${d} `,children:l})})}function S7({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:y="regular",highlightedStem:k=!1,highlightedBranch:w=!1}){const S=y==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",T=y==="compact"?"py-2":"p-2";return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:`${S} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),g.jsx("div",{className:`${T} flex flex-col items-center gap-1`,children:t?g.jsxs(g.Fragment,{children:[a&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:_a(n,{stem:t.stem})}),g.jsx(OP,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:k}),g.jsx(OP,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:w}),g.jsx(i4,{branch:t.branch,dayStem:n,mode:d,mapping:h}),(o||l||u)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&g.jsx("div",{children:p(t.branch)}),l&&g.jsx("div",{children:b(t.branch)}),u&&g.jsx(hse,{stem:t.stem,branch:t.branch})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const mse=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function pse({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,daeGz:y,seGz:k,wolGz:w,highlightMap:S={}}){const T=t?"regular":"compact",O=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",A="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",C=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",D=t?`grid gap-2 p-3 ${O}`:`grid gap-1 p-0 ${O}`;return g.jsxs("div",{className:A,children:[g.jsx("div",{className:C,children:g.jsx("b",{children:""})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:D,children:e.map(P=>{const I=mse(P,y,k,w),U=S[P.key]??{stem:!1,branch:!1};return g.jsx(S7,{title:P.label,data:I,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:T,highlightedStem:U.stem,highlightedBranch:U.branch},P.key)})})})]})}function gse({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,highlightMap:y={}}){const k=t?"regular":"compact",w=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",S=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:w,children:g.jsx("b",{children:""})}),g.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:g.jsx("div",{className:S,children:e.map(T=>{const O=y[T.key]??{stem:!1,branch:!1};return g.jsx(S7,{title:T.label,data:T.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:k,highlightedStem:O.stem,highlightedBranch:O.branch},T.key)})})})]})}function bse({hourCandidates:e,useInsi:t,onToggleRule:n,usePrevDay:r,onTogglePrevDay:i,canSelectHourBranch:a,manualHour:o,onSelectHour:l}){return g.jsxs("div",{className:"my-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "}),g.jsx("button",{onClick:i,className:`px-2 py-1 text-xs rounded border cursor-pointer ${r?"bg-amber-500 text-white border-amber-500":"bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600"}`,children:""})]})]}),g.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(u=>{const d=u.charAt(0),h=u.charAt(1),p=o?.stem===d&&o?.branch===h,b=a?!a(h):!1;return g.jsx("button",{onClick:()=>l(d,h),disabled:b,className:`p-2 text-xs rounded border ${p?fse(h):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"} ${b?"opacity-40 cursor-not-allowed":"cursor-pointer"}`,title:`${u} ( )`,children:u},u)})})]})}function yse(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const tm={:{title:"()",kind:"",oneLine:"     .",bullets:["  ,   ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   :   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"+     ."},:{title:"()",kind:"",oneLine:"///   ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"/        ."},:{title:"()",kind:"",oneLine:" 3      .",bullets:["    ."]},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:"      ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"  ,    ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"      :    ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" .       ."},:{title:"()",kind:"",oneLine:" .     ."},:{title:"()",kind:"",oneLine:"  .      ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /,   ."},:{title:"",kind:"",oneLine:"      ."},:{title:"()",kind:"",oneLine:"/  :    ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" :    ,  /  ."}};function vse(e){const t=yse(e),n=tm[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(tm[r])return tm[r]}else{const r=`${t}`;if(tm[r])return tm[r]}return{title:t||"",kind:"",oneLine:" "}}function xse(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function Eo({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const l=A2(n,Dy),u=A2(r,Dy),d=i||l.length>0,h=i||u.length>0;return!i&&l.length===0&&u.length===0?null:g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[d&&g.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),g.jsx(CP,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),g.jsxs("div",{children:[h&&g.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),g.jsx(CP,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function CP({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=A2(e,Dy);return a.length===0?n?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,l)=>{const u=`${t}-${l}`;return g.jsx(wse,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function wse({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=vse(e),o=a?xse(a):"",l=Dy(e),u=_.useRef(null),d=_.useRef(null),[h,p]=_.useState("center");return _.useLayoutEffect(()=>{if(!i)return;const b=d.current;if(!b)return;const y=b.getBoundingClientRect(),w=Math.min(300,window.innerWidth-16*2),S=y.left,T=window.innerWidth-y.right;T<w/2&&S>T?p("right"):S<w/2&&T>S?p("left"):p("center")},[i]),_.useLayoutEffect(()=>{if(!i)return;const b=y=>{const k=y.target;!u.current||k&&u.current.contains(k)||r(null)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[i,r]),g.jsxs("div",{ref:u,className:"relative",children:[g.jsx("button",{ref:d,type:"button",onClick:()=>r(i?null:t),className:["px-2 py-1 text-[12px] desk:text-[11px] text-center  rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:l,children:l}),a&&i&&g.jsx("div",{className:["absolute top-full mt-2 z-50",h==="left"?"left-0":h==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:g.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function Dy(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function A2(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function _se({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:u,etcShinsalBad:d}){const[h,p]=_.useState(!0),[b,y]=_.useState(!0),[k,w]=_.useState(null);return g.jsxs(g.Fragment,{children:[o&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>p(S=>!S),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",h?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:h?"":""})]}),h&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 pl-1 mb-2",children:"     ."}),n.length===0?g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"border-t desk:border-0 border-neutral-200 dark:border-neutral-800 pt-2 desk:pt-0 order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(jo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&g.jsx(jo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&g.jsx(jo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&g.jsx(jo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&g.jsx(jo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&g.jsx(jo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2 desk:pl-0 desk:border-t-0 desk:border-l-0",children:[g.jsx(jo,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),g.jsx(jo,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),g.jsx(jo,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),g.jsx(jo,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),l&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>y(S=>!S),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",b?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:b?"":""})]}),b&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pl-1 text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),MP(u)||MP(d)?g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(Eo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-wol"),t>=2&&g.jsx(Eo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-se"),t>=1&&g.jsx(Eo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-dae")]:[t>=1&&g.jsx(Eo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-dae"),t>=2&&g.jsx(Eo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-se"),t>=3&&g.jsx(Eo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[g.jsx(Eo,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:d.natal.hour,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(Eo,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:d.natal.day,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(Eo,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:d.natal.month,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(Eo,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:d.natal.year,isDesktop:e,openTagKey:k,setOpenTagKey:w})]})]}):g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function jo({title:e,tags:t,activeTag:n,onToggle:r}){return g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return g.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-2 py-1 text-[12px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:Sse(i)},i)})})]})}function Sse(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function MP(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function DP(e){return String(e).padStart(2,"0")}function kse(e,t,n){if(!e||e.length<8)return AP(e,t);const r=AP(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),l=Vi(i,a,o);return` ${`${l.getFullYear()}.${DP(l.getMonth()+1)}.${DP(l.getDate())}`} ( ${r})`}catch{return` ${r}`}}function Ese({data:e,hourTable:t}){const{date:n,setDstOffsetMinutes:r}=Jr(),i=wn(Se=>Se.settings),a=i.showNabeum??!0,o=i.showRelationBox??!0,l=i.showEtcShinsal??!0,u=_7(e.mingSikType,t),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:h,solarM:p,solarD:b}=_.useMemo(()=>{let Se=Number(e.birthDay?.slice(0,4)??2e3),Pe=Number(e.birthDay?.slice(4,6)??1),ze=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const at=Vi(Se,Pe,ze);Se=at.getFullYear(),Pe=at.getMonth()+1,ze=at.getDate()}return{solarY:Se,solarM:Pe,solarD:ze}},[e.birthDay,e.calendarType]),y=Ty(Se=>Se.useDST),k=Ty(Se=>Se.setUseDST);_.useEffect(()=>{h&&p&&b&&k(Zm(h,p,b))},[h,p,b,k]),_.useEffect(()=>{r(y?-60:0)},[y,r]);const w=lA(e.birthTime),[S,T]=_.useState(()=>j2(e,y));_.useEffect(()=>{T(j2(e,y))},[e,y]);const O=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,A=Ui(Se=>Se.usePrevDay),C=Ui(Se=>Se.setUsePrevDay),D=_.useMemo(()=>{const Se=`${S.day.stem}${S.day.branch}`,Pe=A?Qa(Se,-1):Se;return{stem:Pe.charAt(0),branch:Pe.charAt(1)}},[S.day.stem,S.day.branch,A]),P=S.day.stem,I=D.stem,[U,W]=_.useState(null),[K,H]=_.useState(()=>NP(e.mingSikType)),B=Ui(Se=>Se.clearManualHour);_.useEffect(()=>{W(null),B(),H(NP(e.mingSikType)),C(!1)},[O,e.mingSikType,B,C]),_.useEffect(()=>{He(null)},[O]);const q=A&&K?I:P,X=_.useMemo(()=>tse(q,K),[K,q]),Z=U??S.hour,G=Ui(Se=>Se.setManualHour),J=_.useCallback(Se=>A?K?Se===""||Se==="":Se==="":!0,[A,K]);_.useEffect(()=>{U&&(J(U.branch)||(W(null),B()))},[U,J,B]);const Q=(Se,Pe)=>{if(!J(Pe))return;if(U?.stem===Se&&U?.branch===Pe){W(null),B();return}const ze={stem:Se,branch:Pe};W(ze),G(ze)},oe=ise(i.sinsalBase)===""?D.branch:S.year.branch,te=Se=>i.showSibiUnseong?no(I,Se):null,z=Se=>i.showSibiSinsal?ro({baseBranch:oe,targetBranch:Se,era:Cf(i.sinsalMode),gaehwa:i.sinsalBloom}):null,V=y?-60:0,re=cae(e,u,V),ie=Gie({query:"(min-width: 992px)"}),ue=i.hiddenStem==="regular"?"main":"all",de=ase(i.exposure),pe=de===0?[]:re.filter(Se=>(Se.key==="daeun"?1:Se.key==="seun"?2:3)<=de),Ne=Zm(h,p,b),se=()=>k(!y),je=_.useMemo(()=>{const Se=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??""));return Number.isNaN(Se.getTime())?S.corrected:Se},[e.corrected,S.corrected]),ke=_.useMemo(()=>je&&(Ne&&y?new Date(je.getTime()-3600*1e3):je),[je,Ne,y]),fe=_.useMemo(()=>{const Se=Ne&&y?"":e.correctedLocal;return nse(Se,ke??new Date,w)},[e.correctedLocal,ke,w,Ne,y]),Ue=ix(e,t,n,{dstOffsetMinutes:V}),Fe=Ue.dae.gz,tt=Ue.se.gz,Oe=Ue.wol.gz,[$e,He]=_.useState(null),Be=_.useMemo(()=>{const Se=Kt=>Kt?.stem&&Kt?.branch?`${Kt.stem}${Kt.branch}`:"",Pe=[Se(S.year),Se(S.month),Se(D),Se(Z)],ze=$l({natal:[...Pe],daewoon:de>=1?Fe??void 0:void 0,sewoon:de>=2?tt??void 0:void 0,wolwoon:de>=3?Oe??void 0:void 0}),at=ax([...Pe],{fillNone:!1}),St={...ze};for(const Kt of n7)St[Kt]=Array.from(new Set([...St[Kt]??[],...at[Kt]??[]]));return St},[S,D,Z,Fe,tt,Oe,de]),jt=_.useMemo(()=>{const Se=[...Be.cheonganHap,...Be.cheonganChung,...Be.jijiSamhap,...Be.jijiBanhap,...Be.jijiBanghap,...Be.jijiYukhap,...Be.jijiChung,...Be.jijiHyeong,...Be.jijiPa,...Be.jijiHae,...Be.amhap,...Be.ganjiAmhap].filter(Pe=>Pe&&Pe!=="#");return Array.from(new Set(Se))},[Be]),At=_.useMemo(()=>{const Se=(ze,at)=>{ze.includes(at)||ze.push(at)},Pe={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const ze of jt){const St=(ze.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);St.includes("")&&Se(Pe.luck.wol,ze),St.includes("")&&Se(Pe.luck.se,ze),St.includes("")&&Se(Pe.luck.dae,ze),St.includes("")&&Se(Pe.natal.hour,ze),St.includes("")&&Se(Pe.natal.day,ze),St.includes("")&&Se(Pe.natal.month,ze),St.includes("")&&Se(Pe.natal.year,ze)}return Pe},[jt]),he=_.useMemo(()=>{const Se=at=>at?.stem&&at?.branch?`${at.stem}${at.branch}`:"",Pe=Mp({natal:[Se(S.year),Se(S.month),Se(D),Se(Z)],daewoon:de>=1?Fe??void 0:void 0,sewoon:de>=2?tt??void 0:void 0,wolwoon:de>=3?Oe??void 0:void 0}),ze=at=>Array.from(new Set(at.filter(St=>St&&St!=="#")));return{good:{natal:{hour:ze(Pe.good.si??[]),day:ze(Pe.good.il??[]),month:ze(Pe.good.wol??[]),year:ze(Pe.good.yeon??[])},luck:{dae:ze(Pe.good.dae??[]),se:ze(Pe.good.se??[]),wol:ze(Pe.good.wolun??[])}},bad:{natal:{hour:ze(Pe.bad.si??[]),day:ze(Pe.bad.il??[]),month:ze(Pe.bad.wol??[]),year:ze(Pe.bad.yeon??[])},luck:{dae:ze(Pe.bad.dae??[]),se:ze(Pe.bad.se??[]),wol:ze(Pe.bad.wolun??[])}}}},[S,D,Z,Fe,tt,Oe,de]),Ce=_.useMemo(()=>{const Se={},Pe=(ze,at)=>{for(const St of ze)Se[St]=at};return Pe(Be.cheonganHap,"stem"),Pe(Be.cheonganChung,"stem"),Pe(Be.jijiSamhap,"branch"),Pe(Be.jijiBanhap,"branch"),Pe(Be.jijiBanghap,"branch"),Pe(Be.jijiYukhap,"branch"),Pe(Be.jijiChung,"branch"),Pe(Be.jijiHyeong,"branch"),Pe(Be.jijiPa,"branch"),Pe(Be.jijiHae,"branch"),Pe(Be.amhap,"branch"),Pe(Be.ganjiAmhap,"both"),Se},[Be]),Ye=_.useMemo(()=>{if(!$e)return{};const Se=Ce[$e]??"branch",ze=($e.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),at={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},St={};for(const Kt of ze){const vr=at[Kt];if(!vr)continue;const Pr=St[vr]??{stem:!1,branch:!1};Se==="stem"?Pr.stem=!0:(Se==="branch"||(Pr.stem=!0),Pr.branch=!0),St[vr]=Pr}return St},[$e,Ce]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),Ne&&g.jsxs("button",{onClick:se,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${y?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",y?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[kse(e.birthDay,e.birthTime,e.calendarType)," : ",fe]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",d.toFixed(2),"  ",u," "]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${pe.length===0?"grid-cols-1":pe.length===1?"grid-cols-[2fr_8fr]":pe.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[pe.length>0&&g.jsx(pse,{cards:pe,isDesktop:ie,dayStem:I,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:ue,hiddenStemMode:i.hiddenStemMode,calcUnseong:te,calcShinsal:z,daeGz:Fe,seGz:tt,wolGz:Oe,highlightMap:Ye}),g.jsx(gse,{isDesktop:ie,dayStem:I,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:ue,hiddenStemMode:i.hiddenStemMode,calcUnseong:te,calcShinsal:z,highlightMap:Ye,pillars:[{key:"hour",label:"",data:Z},{key:"day",label:"",data:D},{key:"month",label:"",data:S.month},{key:"year",label:"",data:S.year}]})]}),w&&g.jsx(bse,{hourCandidates:X,useInsi:K,onToggleRule:()=>H(Se=>!Se),usePrevDay:A,onTogglePrevDay:()=>C(!A),canSelectHourBranch:J,manualHour:U,onSelectHour:Q}),g.jsx(_se,{isDesktop:ie,exposureLevel:de,relationChips:jt,relationByPillar:At,activeRelationTag:$e,onToggleRelationTag:He,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:he.good,etcShinsalBad:he.bad})]})}function Vl(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setHours(4,30,0,0),u}return t}function sx(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const l=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=l&&a<u)return o}return 0}function jse({data:e}){const t=nc(),n=Cu(e,e.mingSikType,100,t),r=Ui(U=>U.usePrevDay),i=_.useMemo(()=>{const U=Nf(e);return Kl(U,t)},[e,t]),a=_.useMemo(()=>Vl(e,i),[e,i]),o=_.useMemo(()=>{const U=e.mingSikType??"/",W=ht(a,U);return(r?Qa(W,-1):W).charAt(0)},[a,e.mingSikType,r]),{date:l,setFromEvent:u}=Jr(),d=_.useMemo(()=>sx(n,l),[n,l]),h=wn(U=>U.settings),{charType:p,thinEum:b,showSipSin:y,showSibiUnseong:k,showSibiSinsal:w,sinsalBase:S,sinsalMode:T,sinsalBloom:O}=h,A=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,C=e.mingSikType??"/",D=S===""?(r?Qa(ht(a,C),-1):ht(a,C)).charAt(1):ct(a,A).charAt(1),P=U=>k?no(o,U):null,I=U=>w?ro({baseBranch:D,targetBranch:U,era:Cf(T),gaehwa:!!O}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:n.map((U,W)=>{const K=U.gz.charAt(0),H=U.gz.charAt(1),B=Ase(U.age),q=W===d,X=xi(K,"stem",p),Z=xi(H,"branch",p),G=to(K,"stem"),J=to(H,"branch"),Q=b&&G?"font-thin":"font-bold",oe=b&&J?"font-thin":"font-bold",te=P(H),z=I(H);return g.jsxs("div",{onClick:()=>u(U,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${q?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${U.gz}  ${U.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:B}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[y&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:_a(o,{stem:K})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ki(K,"stem",h)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${Q}`,children:X})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ki(H,"branch",h)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${oe}`,children:Z})}),y&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:_a(o,{branch:H})}),(k||w)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[k&&g.jsx("div",{children:te}),w&&g.jsx("div",{children:z})]})]})]},`${U.gz}-${W}`)})})]})}function Ase(e){return e>=2?String(Math.floor(e)):Number.isInteger(e)?String(e):e.toFixed(4).replace(/\.?0+$/,"")}const Tse=!1,PP=e=>e<10?`0${e}`:`${e}`;function cA(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),l=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const d of l){const h=t[d];if(typeof h=="boolean"){u=h;break}if(typeof h=="number"){u=h===1;break}if(typeof h=="string"){u=h==="1"||h.toLowerCase()==="true";break}}if(r==="lunar")try{const d=Vi(i,a,o,0,0),h=`${d.getFullYear()}${PP(d.getMonth()+1)}${PP(d.getDate())}`;return{...e,birthDay:h,calendarType:"solar"}}catch{return e}return e}function O1(e){return new Date(e,6,2,12,0,0,0)}function Nse(e,t){return t-e+1}function Ose({data:e,list:t,onSelect:n}){const r=wn(K=>K.settings),{date:i,setFromEvent:a}=Jr(),o=nc(),l=Ui(K=>K.usePrevDay),[u,d]=_.useState(()=>t);_.useEffect(()=>{t&&t.length>0&&d(t)},[t]);const h=Kl(e,o),p=_.useMemo(()=>Vl(e,h),[e,h]),b=_.useMemo(()=>p.getFullYear(),[p]),y=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,k=_.useMemo(()=>{if(!i)return[];const K=i.getFullYear(),H=O1(K),B=ct(H,y);return[{at:H,gz:B}]},[i,y]),w=t.length>0?t:u.length>0?u:k,S=_.useMemo(()=>[...w].sort((K,H)=>K.at.getTime()-H.at.getTime()),[w]),T=_.useMemo(()=>{if(S.length===0)return 0;const K=sx(S,i);return K<0?0:K>=S.length?S.length-1:K},[S,i]),[O,A]=_.useState(null);_.useEffect(()=>{A(null)},[i,S]);const C=O??T,D=_.useMemo(()=>{const K=cA(e);return Kl(K,o)},[e,o]),P=_.useMemo(()=>Vl(e,D),[e,D]),I=e.mingSikType??"/",U=_.useMemo(()=>{const K=ht(P,I);return(l?Qa(K,-1):K).charAt(0)},[P,I,l]),W=_.useMemo(()=>r.sinsalBase===""?(l?Qa(ht(p,I),-1):ht(p,I)).charAt(1):ct(p,y).charAt(1),[p,I,y,r.sinsalBase,l]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:S.map((K,H)=>{const B=K.at.getFullYear(),q=O1(B),X=ct(q,y),Z=X.charAt(0),G=X.charAt(1),J=H===C,Q=xi(Z,"stem",r.charType),oe=xi(G,"branch",r.charType),te=to(Z,"stem"),z=to(G,"branch"),V=r.thinEum&&te?"font-thin":"font-bold",re=r.thinEum&&z?"font-thin":"font-bold",ie=r.showSibiUnseong?no(U,G):null,ue=r.showSibiSinsal?ro({baseBranch:W,targetBranch:G,era:Cf(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,de=Nse(b,B);return g.jsxs("div",{onClick:()=>{A(H);const pe=O1(B),Ne=ct(pe,y);a({at:pe,gz:Ne},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(B)):Promise.resolve().then(()=>n(B)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${J?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${X}  ${K.at.toLocaleDateString()}  ${de}`,children:[g.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[de,""]}),g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:B}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:_a(U,{stem:Z})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ki(Z,"stem",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${V}`,children:Q})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ki(G,"branch",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${re}`,children:oe})}),r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:_a(U,{branch:G})}),(r.showSibiUnseong||r.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&ie&&g.jsx("div",{children:ie}),r.showSibiSinsal&&ue&&g.jsx("div",{children:ue})]})]})]},`${B}-${K.gz||H}`)})})]})}const Cse=new Set(["","","","","","","","","","","",""]);function Mse(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...wi(new Date(n-1,5,15,12,0))??[],...wi(new Date(n,5,15,12,0))??[],...wi(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,d)=>u.date.getTime()-d.date.getTime()).filter(u=>Cse.has(u.name));let a=i.findIndex((u,d)=>i[d].date<=t&&t<i[d+1]?.date);a<0&&(a=0);const o=i[a],l=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(l.date.getFullYear(),l.date.getMonth(),l.date.getDate(),0,0,0,0),cur:o,next:l}}const Dse=new Set(["","","","","","","","","","","",""]);function Pse(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function Rse(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function C1(e){return new Date(e,5,15,12,0,0,0)}function Lse(e){const n=[...wi(C1(e-1))??[],...wi(C1(e))??[],...wi(C1(e+1))??[]].map(l=>({name:String(l.name),date:new Date(l.date)})).sort((l,u)=>l.date.getTime()-u.date.getTime()).filter(l=>Dse.has(l.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(l=>l.name===""&&l.date>=r&&l.date<i);if(a===-1)return[];const o=[];for(let l=0;l<12;l++){const u=n[a+l];if(!u)break;const d=new Date(u.date),h=Pse(d);o.push({name:u.name,termAt:d,at00:h})}return o}function Ise({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=wn(A=>A.settings),a=nc(),o=Ui(A=>A.usePrevDay),l=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,u=Kl(e,a),d=_.useMemo(()=>Vl(e,u),[e,u]),h=_.useMemo(()=>{const A=cA(e);return Kl(A,a)},[e,a]),p=_.useMemo(()=>Vl(e,h),[e,h]),b=e.mingSikType??"/",y=_.useMemo(()=>{const A=ht(p,b);return(o?Qa(A,-1):A).charAt(0)},[p,b,o]),k=i.sinsalBase===""?(o?Qa(ht(d,b),-1):ht(d,b)).charAt(1):ct(d,l).charAt(1),w=_.useMemo(()=>t?Lse(t).map(C=>{const D=C.termAt,P=new Date(C.termAt.getTime()+1860*1e3),I=kt(P,l);return{at:D,gz:I,term:C.name,termAt:C.termAt}}):[],[t,l]),{date:S,setFromEvent:T}=Jr(),O=sx(w,S);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map((A,C)=>{const D=A.gz.charAt(0),P=A.gz.charAt(1),I=`${Rse(A.at)}`,U=C===O,W=xi(D,"stem",i.charType),K=xi(P,"branch",i.charType),H=to(D,"stem"),B=to(P,"branch"),q=i.thinEum&&H?"font-thin":"font-bold",X=i.thinEum&&B?"font-thin":"font-bold",Z=i.showSibiUnseong?no(y,P):null,G=i.showSibiSinsal?ro({baseBranch:k,targetBranch:P,era:Cf(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{r(A.at);const J=new Date(A.at),{start:Q}=Mse(J);n?.(Q.getFullYear(),Q.getMonth()),T({at:J,gz:kt(J,l)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${U?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${A.term}   ${A.gz}  ${A.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:I}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:_a(y,{stem:D})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ki(D,"stem",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${q}`,children:W})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ki(P,"branch",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${X}`,children:K})}),i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:_a(y,{branch:P})}),(i.showSibiUnseong||i.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&Z&&g.jsx("div",{children:Z}),i.showSibiSinsal&&G&&g.jsx("div",{children:G})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:A.term})]})]},`${A.term}-${A.at.toISOString()}`)})})]})}function $se(){const e=wn(r=>r.settings),{date:t,setFromEvent:n}=Jr();return{settings:e,pickedDate:t,setFromEvent:n}}const Bse=(e,t)=>new Date(e,t,15,12,0,0,0),T2=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},zse=new Set(["","","","","","","","","","","",""]),k7=e=>[...wi(new Date(e-1,5,15,12,0))??[],...wi(new Date(e,5,15,12,0))??[],...wi(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),Use=e=>{const t=k7(e.getFullYear()),n=t.filter(o=>zse.has(o.name));if(n.length<12){const o=t.findIndex(d=>d.date>e),l=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(l.date),end:new Date(u.date),cur:l,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},Fse=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function Hse({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i=0,settings:a,pickedDate:o}){const l=Ui(B=>B.usePrevDay),u=a.ilunRule||"/",d=e.mingSikType??"/",h=_.useMemo(()=>{const B=cA(e);return Kl(B,i)},[e,i]),p=_.useMemo(()=>Vl(e,h),[e,h]),b=_.useMemo(()=>{if(!p)return;const B=ht(p,d);return(l?Qa(B,-1):B).charAt(0)},[p,d,l]),y=_.useMemo(()=>e?Kl(e,i):null,[e,i]),k=_.useMemo(()=>e&&y?Vl(e,y):null,[e,y]),w=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,S=e&&k?a.sinsalBase===""?(l?Qa(ht(k,d),-1):ht(k,d)).charAt(1):ct(k,w).charAt(1):null,T=_.useMemo(()=>Bse(t,n),[t,n]),O=_.useMemo(()=>o?T2(new Date(o)):null,[o]),A=_.useMemo(()=>r?T2(r):null,[r]),C=_.useMemo(()=>O??A??T,[O,A,T]),{start:D,end:P,cur:I,next:U}=_.useMemo(()=>Use(C),[C]),W=_.useMemo(()=>{const B=[],q=new Date(D);for(;q<P;)B.push(new Date(q)),q.setDate(q.getDate()+1);return B},[D,P]),K=_.useMemo(()=>{const B=k7(C.getFullYear()),q=B.filter(Z=>Z.date>=D&&Z.date<P),X=B.find(Z=>Z.date>=P);return X?[...q,X]:q},[C,D,P]),H=_.useMemo(()=>{const B=[];let q=[];const X=new Date(D).getDay();for(let Z=0;Z<X;Z+=1)q.push(null);for(const Z of W)q.length===7&&(B.push(q),q=[]),q.push(Z);for(;q.length<7;)q.push(null);return B.push(q),B},[W,D]);return{rule:u,dayStem:b,baseBranch:S,pickerNoon:O,termMarks:K,weeks:H,cur:I??null,next:U??null}}function Gse({setFromEvent:e}){return{handleDayClick:_.useCallback(n=>{e({at:n},"")},[e])}}function Yse({data:e,year:t,month:n,selectedMonth:r}){const i=nc(),a=$se(),o=Hse({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i,settings:a.settings,pickedDate:a.pickedDate}),l=Gse({setFromEvent:a.setFromEvent});return g.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[o.cur?.name?g.jsxs(g.Fragment,{children:[o.cur.name," "," ~ ",o.next?.name??""]}):`${t} ${n}`,o.termMarks.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",o.termMarks.map((u,d)=>g.jsxs("span",{children:[u.name," ",Fse(u.date),d<o.termMarks.length-1?"  ":""]},`${u.name}_${u.date.getTime()}_${d}`)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(u=>g.jsx("div",{className:"py-1",children:u},u))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:o.weeks.map((u,d)=>u.map((h,p)=>{if(!h)return g.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800"},`${d}-${p}`);const b=T2(h),y=new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0),k=new Date,w=b.getFullYear()===k.getFullYear()&&b.getMonth()===k.getMonth()&&b.getDate()===k.getDate(),T=!!o.pickerNoon&&b.getFullYear()===o.pickerNoon.getFullYear()&&b.getMonth()===o.pickerNoon.getMonth()&&b.getDate()===o.pickerNoon.getDate()||!o.pickerNoon&&w,O=i!==0?new Date(y.getTime()+i*60*1e3):y,A=rW(O,o.rule),C=A.charAt(0),D=A.charAt(1),P=xi(C,"stem",a.settings.charType),I=xi(D,"branch",a.settings.charType),U=a.settings.thinEum&&to(C,"stem")?"font-thin":"font-bold",W=a.settings.thinEum&&to(D,"branch")?"font-thin":"font-bold",K=!!o.dayStem&&a.settings.showSipSin,H=!!o.dayStem&&a.settings.showSibiUnseong,B=!!o.dayStem&&o.baseBranch!=null&&a.settings.showSibiSinsal,q=K?_a(o.dayStem,{stem:C}):"",X=K?_a(o.dayStem,{branch:D}):"",Z=H?no(o.dayStem,D):"",G=B?ro({baseBranch:o.baseBranch,targetBranch:D,era:Cf(a.settings.sinsalMode),gaehwa:!!a.settings.sinsalBloom}):"",J=o.termMarks.find(Q=>Q.date.getFullYear()===b.getFullYear()&&Q.date.getMonth()===b.getMonth()&&Q.date.getDate()===b.getDate());return g.jsxs("div",{onClick:()=>l.handleDayClick(y),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${T?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${A} (${b.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:b.getDate()}),J&&g.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:J.name})]}),K&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:q}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ki(C,"stem",a.settings)}`,children:g.jsx("span",{className:U,children:P})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ki(D,"branch",a.settings)}`,children:g.jsx("span",{className:W,children:I})}),K&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:X}),(H||B)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[H&&Z&&g.jsx("div",{children:Z}),B&&G&&g.jsx("div",{children:G})]})]},h.toISOString())}))})]})}function RP(e,t){const n=e.startYear??e.at.getFullYear(),r=t?t.startYear??t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=On(a,315),l=ct(new Date(a,1,10));i.push({at:o,gz:l})}return i}function qse({data:e}){const t=nc(),n=Cu(e,e.mingSikType,100,t),[r,i]=_.useState(null),[a,o]=_.useState(null),[l,u]=_.useState("il"),[d,h]=_.useState(null);_.useEffect(()=>{if(!n.length)return;const S=new Date,T=n.findIndex((O,A)=>{const C=n[A+1]?.at;return S>=O.at&&(!C||S<C)});T!==-1&&i(T)},[n]);const p=S=>S<=0&&n.length>1?1:S;_.useEffect(()=>{if(r===null)return;const S=p(r),T=n[S],O=n[S+1];if(!T)return;const A=RP(T,O);if(!Array.isArray(A)||A.length===0)return;const C=A.filter(U=>!!U&&U.at instanceof Date&&!Number.isNaN(U.at.getTime()));if(!C.length)return;const D=new Date,P=D.getTime();C.findIndex((U,W)=>{const K=C[W+1]?.at,H=U.at.getTime(),B=K?K.getTime():null;return P>=H&&(B===null||P<B)})!==-1&&o({year:D.getFullYear(),month:D.getMonth()})},[r,n]);const b=ix(e,void 0,void 0,{dstOffsetMinutes:t}),{date:y}=Jr(),k=y.getMonth()+1===1?y.getFullYear()-1:y.getFullYear(),w=_.useMemo(()=>{if(!b?.dae?.gz)return[];const S=n.findIndex((D,P)=>{const I=n[P+1]?.at;return b.dae.at>=D.at&&(!I||b.dae.at<I)});if(S===-1)return[];const T=p(S),O=n[T],A=n[T+1],C=RP(O,A);return Array.isArray(C)?C.filter(D=>!!D&&D.at instanceof Date&&!Number.isNaN(D.at.getTime())):[]},[n,b?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(jse,{data:e}),l==="se"||l==="wol"||l==="il"?g.jsx(Ose,{data:e,list:w,onSelect:()=>{u("wol")}}):null,l==="wol"||l==="il"?g.jsx(Ise,{data:e,activeYear:k,onSelect:(S,T)=>{o({year:S,month:T}),u("il")},onSelectMonth:h}):null,l==="il"&&a&&g.jsx(Yse,{data:e,year:a.year,month:a.month+1,selectedMonth:d})]})}const Kse=new Set(YK),Wse=new Set(qK);function LP(e){return typeof e=="string"&&e.length>=2&&Kse.has(e[0])&&Wse.has(e[1])}function Pi(e,...t){if(LP(e))return e;for(const n of t)if(LP(n))return n;return""}const Vse={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function Zg(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function Zse({data:e}){const t=wn(q=>q.settings),{manualHour:n}=Ui(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:l}=t,{date:u}=Jr(),d=nc(),h=e.mingSikType??"/",p=e.DayChangeRule??(e.mingSikType===""?"":""),b=_.useMemo(()=>Nf(e),[e]),y=_.useMemo(()=>rx(b,{dstOffsetMinutes:d}),[b,d]),k=_.useMemo(()=>Wj(b,h,{dstOffsetMinutes:d}),[b,d,h]),w=_.useMemo(()=>Yv(k.day?.charAt(0)??""),[k.day]),S=!e.birthTime||e.birthTime==="",T=_.useMemo(()=>V6(y,k.hour,e.dir??"forward",120),[y,k.hour,e.dir]),O=_.useMemo(()=>X6(T,k.day,e.dir??"forward",p),[T,k.day,e.dir,p]),A=_.useMemo(()=>Np(y,k.month,e.dir??"forward",120,b.birthPlace?.lon??127.5),[y,k.month,e.dir,b.birthPlace?.lon]),C=_.useMemo(()=>J6(A,k.year,e.dir??"forward",p,y),[A,k.year,e.dir,y,p]),D=_.useMemo(()=>{const q=T?.events?.[0];return q?{at:q.at,from:Pi(k.hour),to:Pi(q.gz)}:null},[T?.events,k.hour]),P=_.useMemo(()=>{const q=A?.events?.[0];return A?.firstChange?{at:A.firstChange,from:Pi(k.month),to:Pi(q?.gz??k.month)}:null},[A?.firstChange,A?.events,k.month]),I=_.useMemo(()=>{const q=S?n?n.stem+n.branch:"":Pi(Zg(T.events,u)?.gz,k.hour);let X;if(S&&n){const Z=u.getFullYear(),G=u.getMonth(),J=u.getDate(),Q=Vse[n.branch]??0,oe=new Date(Z,G,J,Q,0),te=ht(oe,h);X=Pi(te,k.day)}else X=Pi(Zg(O.events,u)?.gz,k.day);return{si:q,il:X,wl:Pi(Zg(A.events,u)?.gz,k.month),yn:Pi(Zg(C.events,u)?.gz,k.year)}},[u,T.events,O.events,A.events,C.events,k,S,n,h]),U=_.useMemo(()=>({si:Pi(eo(u,h)),il:Pi(ht(u,h)),wl:Pi(kt(u)),yn:Pi(ct(u))}),[u,h]),W=_.useMemo(()=>a===""?k.day.charAt(1):k.year.charAt(1),[a,k.day,k.year]),K=_.useMemo(()=>Cf(o),[o]),H=q=>{if(!q)return{unseong:"",shinsal:""};const X=xi(w,"stem",""),Z=xi(q.charAt(1),"branch",""),G=xi(W,"branch","");return{unseong:r&&no(X,Z)||"",shinsal:i&&ro({baseBranch:G,targetBranch:Z,era:K,gaehwa:!!l})||""}},B=(q,X,Z="myoun")=>{const G=X,{unseong:J,shinsal:Q}=X?H(X):{unseong:"",shinsal:""},oe=Z==="myoun"&&S&&(q===""||q==="");return g.jsx(Bd,{label:q,gz:G,dayStem:w,settings:t,unseongText:X?J:"",shinsalText:X?Q:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:oe},`${Z}-${q}`)};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",Rm(y),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[B("",I.si,"myoun"),B("",I.il,"myoun"),B("",I.wl,"myoun"),B("",I.yn,"myoun")]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[B("",U.si,"live"),B("",U.il,"live"),B("",U.wl,"live"),B("",U.yn,"live")]})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"  "}),g.jsxs("div",{children:[":"," ",D?`${Rm(D.at)} (${D.from}  ${D.to})`:" "]}),g.jsxs("div",{children:[":"," ",P?`${Rm(P.at)} (${P.from}  ${P.to})`:" "]})]})]})}const Xse=["","","","","","","","","",""],Jse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Qse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},E7={:"",:"",:"",:"",:""},j7={:"",:"",:"",:"",:""},A7={:"",:"",:"",:"",:""};function ele(e,t){switch(e){case"":return t;case"":return E7[t];case"":return j7[t];case"":return A7[t];case"":return T7[t];default:return t}}const T7={:"",:"",:"",:"",:""};function tle({data:e,perStemElementScaled:t,dayStem:n,yongshinTop:r,yongshinKind:i,width:a=340,height:o=360}){const l=a/2,u=o/2-20,d=Math.min(a,o)*.33,h=_.useMemo(()=>{const w=(n??"").charAt(0);return Qse[w]??null},[n]),p=_.useMemo(()=>e.map((w,S)=>{const T=Math.PI/2+2*-Math.PI*S/5;return{...w,angle:T,x:l+d*Math.cos(T),y:u-d*Math.sin(T)}}),[e,l,u,d]),b=w=>w?w.includes("")?"":w.includes("")?"":w.includes("")?"":w.includes("")?"":w.includes("")?"":null:null,y=(w,S)=>S===w?"":E7[w]===S?"":j7[w]===S?"":A7[w]===S?"":T7[w]===S?"":"",k=_.useMemo(()=>{if(!e||e.length===0)return null;const w=[...e].sort((P,I)=>I.value-P.value),S=w[0],O=w[w.length-1]?.name??"",A=b(r),C=h&&A?y(h,A):O;return{summary:i==="GYEOKGUK"?`${S.name}   ,    ${S.name}  .`:`${S.name}   ,  ${C}     .`,advice:S.value>45?`${S.name}         .`:"       ."}},[e,h,r,i]);return g.jsxs("div",{className:"w-full flex flex-col items-center p-6 bg-white dark:bg-neutral-900 rounded-[2.5rem] border border-neutral-100 dark:border-neutral-800 shadow-xl tracking-tighter transition-colors",children:[g.jsx("div",{className:"text-center mb-4",children:g.jsxs("h3",{className:"text-lg font-black text-neutral-800 dark:text-neutral-100",children:[n,"  "]})}),g.jsxs("svg",{width:a,height:o,className:"overflow-visible",children:[g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:g.jsx("path",{d:"M0,0 L10,3.5 L0,7 Z",fill:"#94a3b8",opacity:"0.4"})})}),p.map((w,S)=>{const T=p[(S+2)%5];return g.jsx("line",{x1:w.x,y1:w.y,x2:T.x,y2:T.y,stroke:"currentColor",className:"text-neutral-200 dark:text-neutral-800",strokeWidth:1.5,strokeDasharray:"4 4"},`line-ke-${S}`)}),p.map((w,S)=>{const T=p[(S+1)%5],O=(w.x+T.x)/2,A=(w.y+T.y)/2,C=O-l,D=A-u,P=l+C*1.45,I=u+D*1.45;return g.jsx("path",{d:`M${w.x},${w.y} Q${P},${I} ${T.x},${T.y}`,stroke:"#94a3b8",strokeWidth:2,strokeOpacity:.25,fill:"none",markerEnd:"url(#arrow)"},`path-sheng-${S}`)}),p.map(w=>{const S=w.name,T=h?ele(S,h):null,O=T?Xse.filter(A=>Jse[A]===T).map(A=>[A,t?.[A]??0]):[];return g.jsxs("g",{transform:`translate(${w.x},${w.y})`,children:[g.jsx("circle",{r:40,fill:w.color,className:"stroke-white/20 dark:stroke-black/20",strokeWidth:1}),g.jsx("circle",{r:40,fill:"black",opacity:.05}),g.jsx("text",{textAnchor:"middle",dy:"-5",fontSize:15,className:"fill-white font-black",children:w.name}),g.jsxs("text",{textAnchor:"middle",dy:"15",fontSize:13,className:"fill-white/90 font-bold",children:[w.value,"%"]}),g.jsx("g",{transform:"translate(0, 48)",children:O.map(([A,C],D)=>{const P=A.charAt(0),I=Math.round(C),U=I===0;return g.jsxs("g",{transform:`translate(${(D===0?-1:1)*25}, 0)`,children:[g.jsx("rect",{x:"-21",y:"0",width:"42",height:"21",rx:"10.5",fill:U?"rgba(0,0,0,0.1)":"rgba(0,0,0,0.3)"}),g.jsxs("text",{textAnchor:"middle",y:"14.5",fontSize:12,className:`font-black ${U?"fill-neutral-400 dark:fill-neutral-500":"fill-white"}`,children:[g.jsx("tspan",{children:P}),g.jsx("tspan",{dx:"1",children:I})]})]},A)})})]},w.name)})]}),k&&g.jsxs("div",{className:"w-full mt-6 space-y-3",children:[g.jsx("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800 text-center",children:g.jsx("p",{className:"text-[12px] text-neutral-700 dark:text-neutral-300 font-bold",children:k.summary})}),g.jsx("div",{className:"px-4 py-3 bg-blue-50/50 dark:bg-blue-900/10 rounded-2xl border border-blue-100/30 text-center",children:g.jsxs("p",{className:"text-[11.5px] text-blue-700 dark:text-blue-300 font-bold",children:[" ",k.advice]})})]})]})}const nle=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function uA(e){return Math.max(0,Math.min(100,e))}function N7(e){const t=uA(e);return nle.find(r=>t>=r.min&&t<r.max)?.name??""}const rle=[10,20,35,45,55,65,80];function ile({value:e}){const[t,n]=_.useState(!1),r=_.useMemo(()=>uA(e),[e]),i=_.useMemo(()=>N7(r),[r]);_.useEffect(()=>{n(!0)},[]);const a=_.useMemo(()=>r>=80?{tag:"",desc:"      .",advice:"  () ()   ."}:r>=55?{tag:"",desc:"      .",advice:"      ."}:r>=45?{tag:"",desc:"        .",advice:"      ."}:r>=20?{tag:"",desc:"       .",advice:"() ()       ."}:{tag:"",desc:"       .",advice:"        ."},[r]);return g.jsxs("div",{className:"w-full p-6 bg-white dark:bg-neutral-900 rounded-3xl shadow-lg border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-end mb-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-neutral-800 dark:text-neutral-100 leading-tight",children:"    "}),g.jsx("p",{className:"text-[10px] text-neutral-400 uppercase tracking-tighter",children:"  "})]}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-2xl font-black text-neutral-800 dark:text-white",children:r.toFixed(0)}),g.jsx("span",{className:"text-xs font-bold text-neutral-500",children:"%"})]})]}),g.jsxs("div",{className:"relative mb-8 pt-4",children:[g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-neutral-400 mb-2 px-1",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"translate-x-1",children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"relative h-3 rounded-full bg-neutral-100 dark:bg-neutral-800 overflow-visible shadow-inner",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 via-emerald-400 via-yellow-400 to-red-500 opacity-80"}),rle.map(o=>g.jsx("div",{className:"absolute top-0 h-3 w-[1.5px] bg-white/30 dark:bg-black/20",style:{left:`${o}%`}},o)),g.jsx("div",{className:"absolute left-1/2 top-0 w-0.5 h-3 bg-white/50 -translate-x-1/2 z-10"}),g.jsx("div",{className:"absolute -top-1.5 h-6 w-3 bg-white dark:bg-neutral-100 rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.3)] border-2 border-neutral-800 dark:border-white z-20 transition-all duration-1000 ease-out",style:{left:t?`${r}%`:"50%",transform:"translateX(-50%)"},children:g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("div",{className:"w-1 h-2 bg-neutral-300 rounded-full"})})})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:`px-3 py-1 rounded-full text-[11px] font-black border-2 ${r>=55?"border-red-500/20 bg-red-50 text-red-600":r>=45?"border-emerald-500/20 bg-emerald-50 text-emerald-600":"border-blue-500/20 bg-blue-50 text-blue-600"}`,children:[a.tag," (",i,")"]}),g.jsx("div",{className:"h-[1px] flex-1 bg-neutral-100 dark:bg-neutral-800"})]}),g.jsxs("div",{className:"px-1",children:[g.jsx("p",{className:"text-[12px] text-neutral-700 dark:text-neutral-300 font-bold leading-snug mb-1",children:a.desc}),g.jsxs("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed italic",children:[" ",a.advice]})]})]})]})}const IP={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},ale=["year","month","day","hour"],ole=new Set(["","","","",""]),Xg=new Set(["","","","",""]),$P={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},sle={:5,:7,:5,:-5,:-7,:-5};function lle({natal:e,perStemElementScaled:t}){const[n,r]=_.useState(!1);_.useEffect(()=>{const b=setTimeout(()=>r(!0),100);return()=>clearTimeout(b)},[e]);const i=_.useMemo(()=>{if(!t||!e||e.length<4)return null;let b=0,y=0;Object.entries(t).forEach(([q,X])=>{Xg.has(q.charAt(0))?b+=X:y+=X});const k=b+y>0?(b-y)/(b+y):0;let w=0,S=0,T=0,O=0;e.forEach(q=>{[q[0],$P[q[1]]].forEach(X=>{X&&(ole.has(X)?w+=1:S+=1,Xg.has(X)?T+=1:O+=1)})});const A=w+S>0?(w-S)/(w+S):0,C=T+O>0?(T-O)/(T+O):0;let D=0,P=0;e.forEach((q,X)=>{const Z=ale[X],G=IP[Z].stem,J=IP[Z].branch;Xg.has(q[0])?D+=G:P+=G;const Q=$P[q[1]];Q&&Xg.has(Q)?D+=J:P+=J});const I=D+P>0?(D-P)/(D+P):0,U=e[1]?.charAt(1),W=(sle[U]||0)/100,K=A*.3+C*.3+k*.2+I*.2+W,H=(Math.min(1,Math.max(-1,K))+1)*50,B=100-Math.abs(H-50)*2;return{yang:H,yin:100-H,essencePos:(A+1)*50,naturePos:(C+1)*50,harmony:B,category:H>=55?"":H<=45?"":""}},[e,t]),a=_.useMemo(()=>{if(!i)return null;const{yang:b,essencePos:y,naturePos:k,category:w,harmony:S}=i,T=Math.abs(y-k);let O="";w===""?O="              .":w===""?O=b>75?"    .       .":"         .":O=b<25?"    .         .":"   .         .";let A="";T<15?A="     .      .":T<40?A="       .    .":A="        .      .";let C="";return S>85?C="    .   .":w===""?C="         .":C="          .",{natureDetail:O,consistencyDetail:A,advice:C}},[i]);if(!i||!a)return null;const{yang:o,yin:l,essencePos:u,naturePos:d,harmony:h,category:p}=i;return g.jsxs("div",{className:"w-full p-6 bg-white dark:bg-neutral-900 rounded-3xl shadow-xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-start mb-10",children:[g.jsx("div",{children:g.jsx("h3",{className:"text-lg font-bold text-neutral-800 dark:text-neutral-100 leading-tight",children:"   "})}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 px-3 py-1.5 rounded-xl text-center border border-emerald-100 dark:border-emerald-800/50",children:[g.jsx("div",{className:"text-[9px] font-bold text-emerald-600 mb-0.5 uppercase",children:""}),g.jsxs("div",{className:"text-base font-black text-emerald-500 leading-none",children:[h.toFixed(0),"%"]})]})]}),g.jsxs("div",{className:"relative mb-14 px-1",children:[n&&g.jsxs("div",{className:"absolute -top-8 transition-all duration-1000 ease-out flex flex-col items-center",style:{left:`${u}%`,transform:"translateX(-50%)"},children:[g.jsx("span",{className:"text-[10px] font-bold text-blue-500 mb-1",children:""}),g.jsx("div",{className:"w-[1.5px] h-3 bg-blue-500/40 rounded-full"})]}),g.jsxs("div",{className:"relative w-full h-8 bg-neutral-100 dark:bg-neutral-800 rounded-2xl flex overflow-hidden shadow-inner border-[3px] border-white dark:border-neutral-900",children:[g.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 ease-out",style:{width:n?`${l}%`:"50%"}}),g.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000 ease-out",style:{width:n?`${o}%`:"50%"}}),g.jsx("div",{className:"absolute left-1/2 top-0 w-[1px] h-full bg-white/30 -translate-x-1/2 z-10"})]}),n&&g.jsxs("div",{className:"absolute -bottom-8 transition-all duration-1000 ease-out flex flex-col items-center",style:{left:`${d}%`,transform:"translateX(-50%)"},children:[g.jsx("div",{className:"w-[1.5px] h-3 bg-red-500/40 rounded-full"}),g.jsx("span",{className:"text-[10px] font-bold text-red-500 mt-1",children:""})]})]}),g.jsxs("div",{className:"space-y-3 mb-5 mt-6",children:[g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("h4",{className:"text-[11.5px] font-bold text-neutral-800 dark:text-neutral-300 mb-1.5 flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1 h-1 bg-red-400 rounded-full"}),"  "]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed",children:a.natureDetail})]}),g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("h4",{className:"text-[11.5px] font-bold text-neutral-800 dark:text-neutral-300 mb-1.5 flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full"}),"  "]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed",children:a.consistencyDetail})]})]}),g.jsxs("div",{className:`text-center py-3 rounded-xl text-[11px] font-bold tracking-tight shadow-sm ${p===""?"bg-red-50 text-red-600 dark:bg-red-950/20":p===""?"bg-blue-50 text-blue-600 dark:bg-blue-950/20":"bg-emerald-50 text-emerald-600 dark:bg-emerald-950/20"}`,children:[" ",a.advice]})]})}function nm(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ca({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,l=t.length>0?t:["#"],u=o?l.filter(p=>p!=="#"):l,h=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:h,children:e}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+nm(p,"natal"),children:p},`natal-${b}`)),n.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+nm(p,"dae"),children:p},`dae-${b}`)),r.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+nm(p,"se"),children:p},`se-${b}`)),i.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+nm(p,"wol"),children:p},`wol-${b}`)),a.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+nm(p,"il"),children:p},`il-${b}`))]})]})}function N2(e){return Array.isArray(e)?e:[]}function Jg(e,t){const n=new Set(N2(e));return N2(t).filter(i=>!n.has(i))}function cle({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=ax(e),l=$l({natal:e}),u=t?$l({natal:e,daewoon:t}):l,d=n?$l({natal:e,daewoon:t,sewoon:n}):u,h=r?$l({natal:e,daewoon:t,sewoon:n,wolwoon:r}):d,p=i?$l({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):h,b=w=>({natal:N2(o[w]),dae:Jg(l[w],u[w]),se:Jg(u[w],d[w]),wol:Jg(d[w],h[w]),il:Jg(h[w],p[w])}),y={cheonganHap:b("cheonganHap"),cheonganChung:b("cheonganChung"),jijiSamhap:b("jijiSamhap"),jijiBanhap:b("jijiBanhap"),jijiBanghap:b("jijiBanghap"),jijiYukhap:b("jijiYukhap"),amhap:b("amhap"),ganjiAmhap:b("ganjiAmhap"),jijiChung:b("jijiChung"),jijiHyeong:b("jijiHyeong"),jijiPa:b("jijiPa"),jijiHae:b("jijiHae")},k=w=>a===""?{natal:w.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:w.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:""}),g.jsx(ca,{label:"",...k(y.cheonganHap)}),g.jsx(ca,{label:"",...k(y.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(ca,{label:"",...k(y.jijiSamhap)}),g.jsx(ca,{label:"",...k(y.jijiBanhap)}),g.jsx(ca,{label:"",...k(y.jijiBanghap)}),g.jsx(ca,{label:"",...k(y.jijiYukhap)}),g.jsx(ca,{label:"",...k(y.amhap)}),g.jsx(ca,{label:"",...k(y.ganjiAmhap)}),g.jsx(ca,{label:"",...k(y.jijiChung)}),g.jsx(ca,{label:"",...k(y.jijiHyeong)}),g.jsx(ca,{label:"",...k(y.jijiPa)}),g.jsx(ca,{label:"",...k(y.jijiHae)})]})}function ule(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function dle({items:e,source:t}){const n=e.length>0?e:["#"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+ule(r,t),children:r},`${t}-${i}-${r}`))})}function BP({title:e,rows:t}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:i,children:n.label}),g.jsx(dle,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function fle({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=wn(),[l,u]=_.useState(""),[d,h]=_.useState("");_.useEffect(()=>{o.sinsalBase===""?(u(""),h("")):(u(""),h(""))},[o.sinsalBase]);const p=_.useMemo(()=>({voidBasis:l===""?"day":"year",samjaeBasis:d===""?"day":"year"}),[l,d]),b=_.useMemo(()=>Mp({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:y,bad:k,meta:w}=b,S=K=>K.map(H=>H==="#"?H:` ${H}`),T=(K,H)=>{const B=["natal"];return H===""&&B.push("natal"),H===""&&B.push("natal","dae"),H===""&&B.push("natal","dae","se"),H===""&&B.push("natal","dae","se","wol"),H===""&&B.push("natal","dae","se","wol","il"),K.filter(q=>B.includes(q.source))},O=[{label:"",items:S(y.si),source:"natal"},{label:"",items:S(y.il),source:"natal"},{label:"",items:S(y.wol),source:"natal"},{label:"",items:S(y.yeon),source:"natal"},{label:"",items:y.dae,source:"dae"},{label:"",items:y.se,source:"se"},{label:"",items:y.wolun,source:"wol"},{label:"",items:y.ilun,source:"il"}],A=[{label:"",items:S(k.si),source:"natal"},{label:"",items:S(k.il),source:"natal"},{label:"",items:S(k.wol),source:"natal"},{label:"",items:S(k.yeon),source:"natal"},{label:"",items:k.dae,source:"dae"},{label:"",items:k.se,source:"se"},{label:"",items:k.wolun,source:"wol"},{label:"",items:k.ilun,source:"il"}],C=T(O,a),D=T(A,a),P=w.voidPair.day?`(${w.voidPair.day.join("")})`:"()",I=w.voidPair.year?`(${w.voidPair.year.join("")})`:"()",U=w.samjaeYears.day?`(${w.samjaeYears.day.join("")})`:"()",W=w.samjaeYears.year?`(${w.samjaeYears.year.join("")})`:"()";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:l,onChange:K=>u(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:P}),g.jsx("option",{value:"",children:I})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:d,onChange:K=>h(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:U}),g.jsx("option",{value:"",children:W})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(BP,{title:"()",rows:C}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(BP,{title:"()",rows:D})]})]})}const ga={year:0,month:1,day:2,hour:3},O7={[ga.year]:.3,[ga.month]:.5,[ga.day]:.3,[ga.hour]:.3},C7={[ga.year]:.15,[ga.month]:.2,[ga.day]:0,[ga.hour]:.15},hle=e=>$m.has(e)?e:tr[e]??e,mle=e=>ef.has(e)?e:Kn[e]??e,ple=e=>typeof e=="string"&&e.length>=2?hle(e.slice(-1)):"",gle=e=>typeof e=="string"&&e.length>=1?mle(e.slice(0,1)):"",Tn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),ble={:Tn(2,0,.5,2),:Tn(2,0,0,2),:Tn(2,0,0,2),:Tn(0,2,2,0),:Tn(0,2,2,0),:Tn(0,2,1,2),:Tn(0,2,2,.5),:Tn(0,2,2,0),:Tn(0,2,2,1),:Tn(2,0,0,2),:Tn(2,0,0,2),:Tn(2,0,1,1)},yle={:Tn(0,1,1,0),:Tn(0,1,1,0),:Tn(0,2,2,0),:Tn(0,2,2,0),:Tn(0,0,1,0),:Tn(0,0,0,1),:Tn(1,0,0,1),:Tn(1,0,0,1),:Tn(2,0,0,2),:Tn(2,0,0,2)},zP=e=>Math.max(0,Math.min(100,e));function UP(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function vle(e){let t=0,n=0,r=0,i=0;return[ga.year,ga.month,ga.day,ga.hour].forEach(a=>{const o=ble[ple(e[a])],l=yle[gle(e[a])],u=O7[a],d=C7[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),d>0&&l&&(t+=l.han*d,n+=l.nan*d,r+=l.jo*d,i+=l.seup*d)}),{han:t,nan:n,jo:r,seup:i}}function xle(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function wle(e){const t=xle(e);return _.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=vle(t),o=UP(n,r),l=UP(a,i);return{hanNanPct:zP(o),joSeupPct:zP(l),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:O7,stem:C7}}},[t])}function FP({label:e,percent:t,leftHint:n,midHint:r,rightHint:i,gradientClass:a}){const[o,l]=_.useState(!1),u=_.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),d=[20,35,50,65,80];return _.useEffect(()=>{l(!0)},[]),g.jsxs("div",{className:"flex-1 p-4 bg-white dark:bg-neutral-900 rounded-3xl shadow-sm border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("span",{className:"text-[11px] font-black text-neutral-400 uppercase",children:e}),g.jsxs("span",{className:"text-sm font-black dark:text-white",children:[u.toFixed(0),"%"]})]}),g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-neutral-400 mb-1.5 px-0.5",children:[g.jsx("span",{children:n}),g.jsx("span",{children:r}),g.jsx("span",{children:i})]}),g.jsxs("div",{className:"relative h-2.5 rounded-full bg-neutral-100 dark:bg-neutral-800 overflow-visible shadow-inner",children:[g.jsx("div",{className:`absolute inset-0 rounded-full opacity-80 ${a}`}),d.map(h=>g.jsx("div",{className:"absolute top-0 h-2.5 w-[1px] bg-white/20 dark:bg-black/10",style:{left:`${h}%`}},h)),g.jsx("div",{className:"absolute -top-1.5 h-5 w-2.5 bg-white dark:bg-neutral-100 rounded-full shadow-md border-2 border-neutral-800 dark:border-white z-20 transition-all duration-1000 ease-out",style:{left:o?`${u}%`:"50%",transform:"translateX(-50%)"}})]})]})}function _le({natal:e}){const{hanNanPct:t,joSeupPct:n}=wle(e),r=_.useMemo(()=>{let i="";return t>60?i+="   , ":t<40?i+="   , ":i+="    , ",n>60?i+="     .":n<40?i+="      .":i+="     .",i},[t,n]);return g.jsxs("div",{className:"w-full space-y-3",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsx(FP,{label:" ()",percent:t,leftHint:"",midHint:"",rightHint:"",gradientClass:"bg-gradient-to-r from-blue-500 via-neutral-200 to-red-500"}),g.jsx(FP,{label:" ()",percent:n,leftHint:"",midHint:"",rightHint:"",gradientClass:"bg-gradient-to-r from-teal-600 via-neutral-200 to-orange-600"})]}),g.jsx("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/30 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:g.jsxs("p",{className:"text-[11.5px] text-neutral-600 dark:text-neutral-400 leading-relaxed text-center font-medium",children:[g.jsx("span",{className:"text-neutral-400 mr-2",children:" :"}),r]})})]})}const Wr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},qa={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Sle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Py={:"",:"",:"",:"",:""},M7={:"",:"",:"",:"",:""},Jm={:"",:"",:"",:"",:""},D7={:"",:"",:"",:"",:""},kle={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},Ele={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function dA(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function P7(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function fA(e){return e==="hgc"?Ele:kle}const jle={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},M1={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},R7={:"",:"",:"",:"",:""},L7={:"",:"",:"",:""},Ale=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],Tle=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],Nle={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Je=(e,t)=>`${e}${t}`,Li=(e,t,n)=>`${e}${t}${n}`,Ole={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},HP={[Je("","")]:[""],[Je("","")]:["",""],[Je("","")]:["",""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:["",""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:["",""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""],[Je("","")]:[""]},GP={[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:["",""]},Cle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function ba(e){return["","","","",""].includes(e)}function Mle(e){return["","","","","",""].includes(e)}const D1=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,da=e=>e&&e.length>=1?e.charAt(0):"",Pn=e=>e&&e.length>=2?e.charAt(1):"",Dle=e=>Array.from(new Set(e));function Ple(e,t){const n=jle[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function Rle(e){return Wr[e]??""}function Ka(e,t){const n=Wr[e],r=Wr[t];if(!n||!r)return"";let i;r===n?i="":r===Py[n]?i="":r===Jm[n]?i="":r===D7[n]?i="":r===M7[n]?i="":i="";const a=ba(e)===ba(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Lle(e,t){const n=Wr[e],r=qa[t];if(!n||!r)return"";let i;r===n?i="":r===Py[n]?i="":r===Jm[n]?i="":r===D7[n]?i="":r===M7[n]?i="":i="";const a=Mle(t)===ba(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Ile(e){return{:"",:"",:"",:"",:""}[e]??""}function O2(e,t){const n=Rle(e),r=ba(e);let i;t===n?i="":Py[n]===t?i="":Py[t]===n?i="":Jm[n]===t?i="":Jm[t]===n?i="":i="";const a=r===ba(Ile(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const $le={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ble=e=>/^(|||||||||)$/.test(e);function zle(e){return e?Ble(e)?e:$le[e]??"":""}function Qg(e){return zle(da(e))}function Ule(e){return e?.charAt(0)??""}function Fle(e){return e?.charAt(1)??""}function Hle(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),l=he=>(he?.length??0)>=1?he.charAt(0):"",u=he=>(he?.length??0)>=2?he.charAt(1):"",d=[r,i,a,o].map(l).filter(Boolean),h=new Set(Object.keys(qa)),p=[r,i,a,o].map(u).filter(he=>!!he&&h.has(he)),b=l(a),y=Nle[b]??!1,k=new Set,w=t==="classic"?Hv:Gv,S=new Set(["","","","","","","","","",""]),T=he=>(w[he]??[]).filter(Ce=>S.has(Ce)),O=(he,Ce)=>{const Ye=qa[Ce];return Ye?O2(he,Ye):null},A={:0,:0,:0,:0,:0};for(const he of d){const Ce=Wr[he];Ce&&(A[Ce]+=10)}const C=[];for(const he of p){const Ce=Sle[he];Ce&&C.push(Ce);const Ye=qa[he];Ye&&(A[Ye]+=6)}const P=[...d,...C].map(he=>Ka(b,he)),I={:["",""],:["",""],:["",""],:["",""],:["",""]},U=he=>P.filter(Ce=>Ce===he).length,W=he=>P.filter(Ce=>I[he].includes(Ce)).length,K=p[1],H=!!b&&Cle[b]===K,B=n.elementPercent100;B.>=20&&B.>=20&&B.>=15&&k.add("");const q=[r,i,a,o].filter(Boolean),X=[];for(const he of q){const Ce=he.charAt(0),Ye=he.charAt(1);X.push(Ka(b,Ce)),X.push(O(b,Ye))}const Z=(he,Ce)=>{const Ye=(Se,Pe)=>!!Se&&!!Pe&&he.includes(Se)&&Ce.includes(Pe)||Ce.includes(Se)&&he.includes(Pe);for(let Se=0;Se+1<X.length;Se+=2)if(Ye(X[Se],X[Se+1]))return!0;return!1},G=he=>X.some(Ce=>!!Ce&&he.includes(Ce)),J=U("")+U(""),Q=U(""),oe=W(""),te=W(""),z=Z(["",""],["",""]);if((Q>=1||J>=2)&&oe>=1&&J>oe&&te<=1&&z&&k.add(""),G(I.)&&G(I.)&&Z(I.,I.)){const he=P.includes("");k.add(he?"":"")}W("")>=2&&W("")>=2&&Math.abs(W("")-W(""))<=1&&W("")<=1&&W("")<=1&&k.add("");const V=U(""),re=U(""),ie=U("")+U(""),ue=U("")+U(""),de=W("");re>=2&&ie>=1&&A.+A.>=20&&k.add(""),re>=2&&ue>=1&&A.+A.>=20&&k.add(""),re>=2&&ue>=1&&A.+A.>=20&&Z([""],["",""])&&de<=1&&k.add(""),V>=2&&ue>=1&&A.+A.>=20&&Z([""],["",""])&&de<=1&&k.add("");const pe=(he,Ce)=>{const Ye=Wr[he],Se=qa[Ce];return!!Ye&&!!Se&&Ye===Se},Ne=[r,i,a,o].filter(Boolean),se=u(a),je=pe(b,se),ke=Ne.map(he=>he.charAt(0)).filter(he=>["",""].includes(Ka(b,he)));let fe=!1;for(const he of Ne){const Ce=he.charAt(0),Ye=he.charAt(1);if(ke.includes(Ce)&&pe(Ce,Ye)){fe=!0;break}}je&&fe&&k.add(""),W("")>=3&&W("")>=.5*(W("")+W("")+W("")+W(""))&&k.add(""),W("")>=3&&W("")>=.5*(W("")+W("")+W("")+W(""))&&k.add(""),W("")>=3&&W("")>=1&&k.add(""),W("")>=3&&W("")+W("")<=1&&k.add("");const Ue=U("");W("")+W("")>=2&&Ue===1&&W("")>=1&&k.add(""),Ue>=2&&ie+W("")>=3&&k.add("");const Fe=V+re;(V>=2||Fe>=2)&&ue>=1&&Fe>ue&&k.add(""),re>=2&&ue>=1&&Fe>ue&&k.add("");const tt=U(""),Oe=U("");tt>=2&&Ue+Oe>=1&&k.add(""),tt>=2&&Ue+Oe===0&&k.add(""),y&&tt>=2&&Ue>=1&&k.add(""),!y&&tt>=2&&Ue>=1&&k.add(""),U("")>=2&&U("")>=1&&k.add(""),U("")>=1&&U("")>=1&&Z([""],[""])&&k.add(""),H&&Ue>=1&&W("")+W("")>=2&&k.add("");const $e=[u(r),u(i),u(a),u(o)].filter(Boolean),He=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),Be=new Set(He.map(he=>Ka(b,he))),jt=new Set($e.flatMap(he=>{const Ce=qa[he];return Ce?[O2(b,Ce)]:[]})),At=new Set($e.flatMap(he=>T(he).map(Ce=>Ka(b,Ce))));return["","","","",""].forEach(he=>{const Ce=I[he],Ye=Ce.some(ze=>Be.has(ze)),Se=Ce.some(ze=>jt.has(ze)),Pe=Ce.some(ze=>At.has(ze));!Ye&&!Se&&!Pe?k.add(`${he}`):!Ye&&!Se&&Pe&&k.add(`${he}`)}),Array.from(k)}const Gle=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=da(n),i=Pn(n),a=Wr[r],o=qa[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function Yle(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,l,u]=(t??[]).slice(0,4),d=[da(a),da(o),da(l),da(u)].filter(Boolean),h=[Pn(a),Pn(o),Pn(l),Pn(u)].filter(Boolean),p=Wr[n],b=d.map(he=>Ka(n,he)),y=[],k=he=>d.filter(Ce=>Ce===he).length,w=he=>h.filter(Ce=>Ce===he).length,S=he=>he.every(Ce=>h.includes(Ce)),T=he=>b.some(Ce=>he.includes(Ce)),O=da(o),A=he=>ba(he),C=()=>{const he=d.map(Ce=>Wr[Ce]);return he.length===4&&he.every(Ce=>Ce===he[0])},D=()=>{if(d.length!==4)return!1;const he=d.map(A),Ce=he[0]&&!he[1]&&he[2]&&!he[3],Ye=!he[0]&&he[1]&&!he[2]&&he[3];return Ce||Ye};ba(n)&&R7[n]===r&&y.push("");const P=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[he,Ce]of P)if(n===he&&r===Ce){y.push("");break}!ba(n)&&L7[n]===r&&y.push("");const I=M1[n];I&&Pn(l)===I&&p===qa[Pn(l)]&&y.push(""),I&&Pn(u)===I&&p===qa[Pn(u)]&&y.push("");const U=[a,o,l,u].map(Ule),W=[a,o,l,u].map(Fle);for(const he of U);for(const he of W);const K=i==="hgc"?Gv:Hv;function H(he){return(K[he]??[]).filter(Ce=>["","","","","","","","","",""].includes(Ce))}const B=[a,o,l,u].filter(Boolean),X=B.flatMap(he=>[he.charAt(0),he.charAt(1)]).flatMap(he=>{try{if(["","","","","","","","","",""].includes(he))return[Ka(n,he)];if(["","","","","","","","","","","",""].includes(he)){const Ce=Lle(n,he),Ye=H(he).map(Se=>Ka(n,Se));return[Ce,...Ye]}return[]}catch{return[]}}),Z=he=>X.some(Ce=>he.includes(Ce)),G=(he,Ce)=>{const Ye=[],Se=[];for(const ze of B){const at=ze.charAt(0),St=ze.charAt(1);Ye.push(Ka(n,at));const Kt=qa[St];Kt?Se.push(O2(n,Kt)):Se.push(null)}const Pe=(ze,at)=>!!ze&&!!at&&(he.includes(ze)&&Ce.includes(at)||Ce.includes(ze)&&he.includes(at));for(let ze=0;ze<Ye.length;ze++)if(Pe(Ye[ze],Se[ze]))return!0;for(let ze=0;ze<Ye.length-1;ze++)if(Pe(Ye[ze],Ye[ze+1])||Pe(Se[ze],Se[ze+1]))return!0;return!1},J={:["",""],:["",""],:["",""],:["",""]};Z([...J.])&&Z([...J.])&&G([...J.],[...J.])&&y.push(""),Z([...J.])&&Z([...J.])&&G([...J.],[...J.])&&y.push("");const Q=he=>b.filter(Ce=>he.includes(Ce)).length,oe=Q(["",""]),te=Q([""]),z=Q([""]),V=Q(["",""]),re=Q(["",""]),ie=Q(["",""]);te>=1&&oe>=1&&oe>=te&&z<=te&&y.push("");const ue=Q([""]);ue>=1&&V>=1&&ue>=V&&y.push(""),b.includes("")&&V>=1&&y.push("");const pe=Gle(t),Ne=Object.entries(pe).sort((he,Ce)=>Ce[1]-he[1]),se=Ne[0];if(se&&se[1]>=60&&y.push(`(${se[0]})`),Ne.length>=2){const[he,Ce]=Ne[0],[,Ye]=Ne[1];Ce>=75&&Ce-Ye>=12&&p!==he&&y.push(`(${he})`)}for(const he of Ale){const Ce=d.includes(he.a),Ye=d.includes(he.b);if(!Ce||!Ye)continue;const Se=he.to,Pe=pe[Se]??0,ze=Wr[he.a],at=Wr[he.b],St=Math.max(pe[ze]??0,pe[at]??0),Kt=qa[r]===Se,Pr=Object.entries(pe).sort((gn,Rt)=>Rt[1]-gn[1])[0]?.[0]===Se;let Vn=!1;Pe>=60&&(Kt||Pr)&&St<=20&&Pe-St>=20&&(y.push(`(${Se})`),Vn=!0),!Vn&&Pe>=50&&(Kt||Pr)&&St<=25&&(y.push(`(${Se})`),Vn=!0),!Vn&&Pe>=35&&y.push(`(${Se})`)}const je=`${da(u)}${Pn(u)}`;["",""].includes(n)&&["","",""].includes(je)&&y.push(""),["","","",""].includes(Pn(u))&&y.push(""),["",""].includes(n)&&(Pn(l)===""||Pn(o)==="")&&!h.includes("")&&y.push("");const ke=d.some(he=>he===""||he===""),fe=h.some(he=>he===""||he==="");["",""].includes(Pn(l))&&!ke&&!fe&&y.push(""),["","",""].every(he=>d.includes(he))&&y.push(""),["","",""].every(he=>d.includes(he))&&y.push(""),["","",""].every(he=>d.includes(he))&&y.push("");const Ue=Object.values(pe).sort((he,Ce)=>Ce-he);Ue.length>=3&&Ue[0]-Ue[2]<=8&&Ue[0]+Ue[1]+Ue[2]>=80&&y.push(""),re>=1&&ie>=1&&Math.abs(re-ie)<=1&&y.push(""),S(["","","",""])&&y.push(""),S(["","","",""])&&y.push(""),S(["","","",""])&&y.push(""),h.length===4&&h.every(he=>he===h[0])&&y.push(""),d.length===4&&C()&&D()&&y.push(""),t.every(he=>he&&he===t[0])&&y.push(""),d.length===4&&d.every(he=>he===d[0])&&h.length===4&&h.every(he=>he===h[0])&&y.push(""),oe>=1&&(Pn(l)===M1[n]||Pn(u)===M1[n])&&y.push(""),k("")>=3&&S(["","",""])&&["","",""].includes(Pn(l))&&y.push("");const tt=n===""||n==="",Oe=[["","",""],["","",""]],$e=[["","",""],["","",""]];tt&&(Oe.some(he=>S(he))||$e.some(he=>S(he)))&&y.push("");const He=new Set(["","","","","",""]),Be=`${da(l)}${Pn(l)}`;if(He.has(Be)&&w("")>=2&&(T(["",""])||h.includes("")||h.includes("")||T(["",""])||y.push("")),new Set(["","","","","",""]).has(Be)&&w("")>=2&&h.includes("")&&y.push(""),n===""&&`${da(u)}${Pn(u)}`==""){const he=Ka(n,O);!["","","",""].includes(he)&&T(["",""])&&!h.includes("")&&!h.includes("")&&y.push("")}return new Set(["","",""]).has(Be)&&`${da(u)}${Pn(u)}`==""&&!h.includes("")&&!T(["",""])&&y.push(""),Be===""&&w("")+w("")>=2&&y.push(""),(Be===""||Be==="")&&w("")>=2&&!T(["",""])&&!h.includes("")&&y.push(""),n===""&&S(["","",""])&&y.push(""),Be===""&&`${da(u)}${Pn(u)}`==""&&y.push(""),Dle(y)}function qle(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function Kle(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const YP=1e3*60*60*24;function eb(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function Wle(e){let t=wi(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=wi(r)}return t}function Vle(e){const t=Ole[e];return Array.isArray(t)&&t.length>0?t[0]:null}function Zle(e,t){const n=Vle(e);if(!n)return null;const r=Wle(t),i=r.findIndex(d=>d.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const l=Math.floor((eb(t)-eb(a))/YP)+1,u=o?Math.max(1,Math.floor((eb(o)-eb(a))/YP)):30;return{dayIdx:l<1?1:l,spanDays:u}}function Xle(e){return(e.?.w??0)+(e.?.w??0)+e..w}function Jle(e,t,n){const r=Math.max(1,Xle(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,l=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+l?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function I7(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:l,mapping:u}=e,d=[],h=P7(u),p=fA(h);if(!dA(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const b=p[n];if(!b)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const y={:b.?{stem:D1(b..stem),w:b..w}:void 0,:b.?{stem:D1(b..stem),w:b..w}:void 0,:{stem:D1(b..stem),w:b..w}},k=y..stem;let w=k;const S=Zle(n,r);if(["","","",""].includes(n)&&Ple(n,o)&&y.)w=y..stem,d.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(S){const B=Jle(y,S.dayIdx,S.spanDays);w=B.stem,d.push({kind:"BUNIL_PICK",from:B.from})}else w=k,d.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function T(B,q){if(!B)return!1;if(q.includes(B))return!0;const X=Wr[B];return X?q.some(Z=>Wr[Z]===X):!1}let O="";w&&T(w,a)&&!l?.(w)?(O=w,d.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):w&&l?.(w)&&d.push({kind:"NEUTRALIZED"});const A=O||k;let C="";const D=Wr[A];if(D){const B=Object.entries(Jm).find(([,q])=>q===D)?.[0]??null;B&&(C=Object.entries(Wr).find(([X,Z])=>Z===B&&ba(X)===ba(A))?.[0]??"")}let P="-";const I=Ka(t,A),U=Tle.some(([B,q])=>B===t&&q===n),W=ba(t)&&R7[t]===n,K=!ba(t)&&L7[t]===n;I===""||I===""?U?(P="",d.push({kind:"EX_GEONLOK"})):W?(P="",d.push({kind:"EX_YANGIN"})):K?(P="",d.push({kind:"EX_WOLGEOP"})):d.push({kind:"EX_EXCLUDED_BIGEOP"}):P=Kle(I);const H=Yle({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:k,:w,:O||"-",:A||"-",:C||"-",:P,:H,reason:qle(d),reasonTokens:d}}function Qle(e){const[t,n,r,i]=e,a=Qg(i),o=Qg(r),l=Qg(n),u=Qg(t),d=[],h=[[a,o],[o,l],[l,u]];for(const[b,y]of h){if(!b||!y)continue;const k=Je(b,y),w=HP[k];w?.length&&d.push(...w);const S=Je(y,b);if(S!==k){const T=HP[S];T?.length&&d.push(...T)}}const p=[[a,o,l],[o,l,u]];for(const[b,y,k]of p){if(!b||!y||!k)continue;const w=Li(b,y,k),S=GP[w];S?.length&&d.push(...S);const T=Li(k,y,b);if(T!==w){const O=GP[T];O?.length&&d.push(...O)}}return Array.from(new Set(d))}const ece=["","","","",""];function tce(e){return ece.includes(e)}function nce(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function rm(e,t){if(!t)return e;const n=(tce(t),t);return`${e}(${n})`}const rce={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},ice={:e=>({title:rm("",e),short:"     ."}),:e=>({title:rm("",e),short:"   ."}),:e=>({title:rm("",e),short:"   ."}),:e=>({title:rm("",e),short:"    ."}),:e=>({title:rm("",e),short:"    ."})};function ace(e){const{base:t,inner:n}=nce(e);return t===""||t===""||t===""||t===""||t===""?ice[t](n):rce[t]}function oce(e){const t=ace(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const sce=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),qP={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function lce(e){if(sce(qP,e))return qP[e]}const KP={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},cce={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function uce(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function dce(e,t){return e===""?{title:`${t}`,short:`${KP[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${KP[t]}()     .`,hint:" X /  O"}}function fce(e){const t=uce(e);return t?dce(t.kind,t.group):cce[e]}function hce(e){const t=fce(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const mce={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function pce(e){return mce[e]?.text}const gce=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},bce={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},yce={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},vce=e=>e.replace(/^\s*:\s*/,"").trim();function xce(e){const t=vce(e);return yce[t]}function wce(e){const t=bce[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${gce(e.from)})`}:t}const Kc=_.memo(({text:e,color:t,onClick:n})=>{const r={violet:"bg-violet-50 text-violet-700 border-violet-200 dark:bg-violet-900/20 dark:text-violet-300 dark:border-violet-800",amber:"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800",blue:"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",green:"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800",red:"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800"};return g.jsx("button",{type:"button",onClick:n,className:`px-2.5 py-1 text-[11px] font-bold rounded-lg border shadow-sm whitespace-nowrap active:scale-95 transition-transform cursor-pointer ${r[t]}`,children:e})}),Nd=({text:e})=>g.jsxs("div",{className:"absolute z-50 left-0 top-full mt-2 w-[220px] p-3 bg-white dark:bg-neutral-800 rounded-xl shadow-xl border border-neutral-200 dark:border-neutral-700 text-[11px] leading-relaxed text-left text-neutral-700 dark:text-neutral-200 pointer-events-none transition-none",children:[g.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-white dark:bg-neutral-800 border-t border-l border-neutral-200 dark:border-neutral-700 rotate-45"}),e]}),tb=_.memo(({title:e,children:t})=>g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("div",{className:"text-[10px] font-black text-neutral-400 dark:text-neutral-500 uppercase pl-1",children:e}),g.jsx("div",{className:"flex flex-wrap gap-1.5",children:t})]}));function _ce({pillars:e,tab:t,birthDate:n,emittedStems:r,otherBranches:i,isNeutralized:a,mapping:o,unified:l}){const[u,d]=_.useState(null);_.useEffect(()=>{d(null)},[t,e]);const h=_.useMemo(()=>{const[w,S,T,O]=e,A=U=>U&&U.length>=1?U.charAt(0):"",C=U=>U&&U.length>=2?U.charAt(1):"",D=n instanceof Date&&!Number.isNaN(n.getTime())?n:new Date,P=[A(w),A(S),A(T),A(O)].filter(U=>!!U),I=[C(w),C(T),C(O)].filter(U=>!!U);return I7({dayStem:A(T),monthBranch:C(S),date:D,pillars:e,emittedStems:r??P,otherBranches:i??I,isNeutralized:a,mapping:o})},[e,n,r,i,a,o]),p=_.useMemo(()=>Qle(e),[e]),b=_.useMemo(()=>Hle(e,o,l),[e,o,l]),y=w=>{d(S=>S===w?null:w)},k=[{key:"",value:h.},{key:"",value:h.},{key:"",value:h.},{key:"",value:h.},{key:"",value:h.}];return g.jsxs("div",{className:"p-6 rounded-[2rem] bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 shadow-sm space-y-6 overflow-visible",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"font-black text-lg text-neutral-800 dark:text-neutral-100 italic",children:"   "}),g.jsx("span",{className:"text-[10px] bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 px-2 py-0.5 rounded-full font-bold",children:"     "})]}),g.jsxs("div",{className:"space-y-5",children:[g.jsx(tb,{title:"////",children:k.map(({key:w,value:S})=>g.jsxs("div",{className:"relative",children:[g.jsx(Kc,{text:`${w}: ${S||"-"}`,color:"violet",onClick:()=>y(`env-${w}`)}),u===`env-${w}`&&g.jsx(Nd,{text:pce(w)??" ."})]},w))}),g.jsxs(tb,{title:"",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Kc,{text:`: ${h.||"-"}`,color:"amber",onClick:()=>y("naegyeok")}),u==="naegyeok"&&g.jsx(Nd,{text:xce(h.||"")?.text??"  ."})]}),h.reasonTokens?.map((w,S)=>{const T=wce(w),O=`reason-${S}`;return g.jsxs("div",{className:"relative",children:[g.jsx(Kc,{text:T?.title??(h.reason[S]||w.kind),color:"amber",onClick:()=>y(O)}),u===O&&g.jsx(Nd,{text:T?.text??"  ."})]},O)})]}),g.jsx(tb,{title:"",children:h.&&h..length>0?h..map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Kc,{text:`: ${w}`,color:"blue",onClick:()=>y(`outer-${S}`)}),u===`outer-${S}`&&g.jsx(Nd,{text:oce(w)??" "})]},`outer-${S}`)):g.jsx(Kc,{text:": -",color:"blue"})}),(p.length>0||b.length>0)&&g.jsxs(tb,{title:"  ",children:[p.map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Kc,{text:w,color:"green",onClick:()=>y(`mul-${S}`)}),u===`mul-${S}`&&g.jsx(Nd,{text:lce(w)??" "})]},`mul-${S}`)),b.map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Kc,{text:w,color:"red",onClick:()=>y(`str-${S}`)}),u===`str-${S}`&&g.jsx(Nd,{text:hce(w)??" "})]},`str-${S}`))]})]}),!h.reasonTokens?.length&&h.reason.length>0&&g.jsx("div",{className:"pt-4 border-t border-neutral-100 dark:border-neutral-800",children:g.jsxs("p",{className:"text-[11px] text-neutral-500 leading-relaxed font-medium",children:[g.jsx("span",{className:"font-bold mr-1 text-neutral-400",children:"  :"}),h.reason.join(" / ")]})})]})}const Sce=Object.fromEntries(so..map((e,t)=>[e,Xr[t]])),kce=Object.fromEntries(Xr.map((e,t)=>[e,so.[t]])),Ece=Object.fromEntries(so..map((e,t)=>[e,vi[t]])),jce=Object.fromEntries(vi.map((e,t)=>[e,so.[t]])),Ace=e=>Sce[e]??e,Tce=e=>Ece[e]??e,Nce=e=>kce[e]??e,Oce=e=>jce[e]??e;function Cce(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?Ace(n):Nce(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function hA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?Tce(n):Oce(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const Mce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Dce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$7={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},Pce={...$7,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},WP=Cce(Mce),VP=hA(Dce);hA($7);hA(Pce);const Rce=["","","","",""];function Lce(){const[e,t]=_.useState("   "),[n,r]=_.useState(""),[i,a]=_.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const Ice={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},$ce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function B7(e){const t=$ce[e]??"";return Ice[t]}const Bce=Object.fromEntries(so..map((e,t)=>[e,Xr[t]])),zce=Object.fromEntries(Xr.map((e,t)=>[e,so.[t]])),Uce=Object.fromEntries(so..map((e,t)=>[e,vi[t]])),Fce=Object.fromEntries(vi.map((e,t)=>[e,so.[t]])),Hce=e=>Bce[e]??e,Gce=e=>Uce[e]??e,Yce=e=>zce[e]??e,qce=e=>Fce[e]??e;function z7(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${Hce(r)}${Gce(i)}`:`${Yce(r)}${qce(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const U7={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},Kce={...U7,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Wce=z7(U7),Vce=z7(Kce),C2={:"",:"",:"",:"",:""},M2={:"",:"",:"",:"",:""},D2={:"",:"",:"",:"",:""},P2={:"",:"",:"",:"",:""},Zce=e=>Kn[e]??e,Xce=e=>tr[e]??e;function F7(e){return!e||e.length<2?"":`${Zce(e[0])}${Xce(e[1])}`}const H7=e=>e&&e.length>=1?e[0]:"",G7=e=>e&&e.length>=2?e[1]:"";function Jce(e){return{:e,:C2[e],:M2[e],:D2[e],:P2[e]}}const im={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""]},Y7={:im.??[],:im.??[],:im.??[],:im.??[],:im.??[]};function Qce(e,t){const n=(e??[]).slice(0,4).map(F7);if(n.length!==4||n.some(h=>h.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=H7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(h=>G7(h)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},l=a[1],u=Jce(i),d=[a[0],a[2],a[3]].filter(Boolean);return Object.keys(o).forEach(h=>{const p=u[h],b=Y7[p]??[];b.includes(l)&&(o[h].=!0),d.some(y=>b.includes(y))&&(o[h].=!0),o[h].=(t[p]??0)>=30}),{flags:o,monthBranch:l,dayEl:i}}function q7(e,t){const n=(e??[]).slice(0,4).map(F7);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const p={:!1,:!1,:!1};return{flags:{:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p}},monthBranch:"",dayEl:""}}const r=H7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(p=>G7(p)),o={:!1,:!1,:!1},l={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=a[1],d=[a[0],a[2],a[3]].filter(Boolean),h={:i,:i,:C2[i],:C2[i],:D2[i],:D2[i],:P2[i],:P2[i],:M2[i],:M2[i]};return Object.keys(l).forEach(p=>{const b=h[p],y=Y7[b]??[];y.includes(u)&&(l[p].=!0),d.some(k=>y.includes(k))&&(l[p].=!0),l[p].=(t[b]??0)>=30}),{flags:l,monthBranch:u,dayEl:i}}const eue=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),tue=Object.fromEntries(Object.entries(tr).map(([e,t])=>[t,e])),nue=e=>Kn[e]??e,rue=e=>tr[e]??e;function iue(e){return!e||e.length<2?"":`${nue(e[0])}${rue(e[1])}`}function Wc(e){return WP[e]??WP[eue[e]??""]}function Vc(e){return VP[e]??VP[tue[e]??""]}const P1=["year","month","day","hour"],aue={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},oue={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},sue=new Set(["","","","",""]),lue=new Set(["","","","","",""]),cue=new Set(["","","",""]),R1=e=>sue.has(e)?"":"",L1=e=>{const t=lue.has(e)?"":"";return cue.has(e)?t===""?"":"":t};function ZP(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.floor(l+.5)),i=100-r.reduce((l,u)=>l+u,0);if(i===0)return r;const a=n.map((l,u)=>({i:u,frac:l-Math.floor(l+.5)})).sort((l,u)=>u.frac-l.frac),o=r.slice();if(i>0)for(let l=0;l<i;l++)o[a[l].i]+=1;else for(let l=0;l<-i;l++)o[a[a.length-1-l].i]-=1;return o}function uue(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const nb={:.15,:.1,:-.15,:-.2,:-.25},Ms={:"",:"",:"",:"",:""},Su={:"",:"",:"",:"",:""},Bo={:"",:"",:"",:"",:""},lx={:"",:"",:"",:"",:""};function rb(e,t){return e===t?"":Ms[t]===e?"":Ms[e]===t?"":Bo[e]===t?"":Bo[t]===e?"":""}const Zc=e=>e&&e.length>=1?e[0]:"",Xc=e=>e&&e.length>=2?e[1]:"";function due(e,t){const n=e.reduce((u,d)=>u+d,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,d)=>u+d,0);const o=r.map((u,d)=>({i:d,frac:u-Math.floor(u)})).sort((u,d)=>d.frac-u.frac),l=i.slice();for(let u=0;u<o.length&&a>0;u++)l[o[u].i]+=1,a-=1;return l}function XP(e,t){switch(e){case"":return t;case"":return Ms[t];case"":return Bo[t];case"":return lx[t];case"":return Su[t];default:return t}}const JP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},fue=["","","","",""],hue={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},QP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},mue={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function pue(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function gue(e){const t=fue.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...QP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...hue},PerTenGodSub:{...QP},elementScoreRaw:e,deukFlags:{...mue},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function bue(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function R2(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:l}=e,u=o==="modern"?aue:oue,d=r==="classic"?Vce:Wce,h={:0,:0,:0,:0,:0},p={},b=(t??[]).slice(0,4).map(iue);if(!pue(b))return gue(h);const{dayStem:y,dayEl:k}=bue(b,n),w=[{val:0},{val:0},{val:0},{val:0}],S=[[],[],[],[]];for(const z of b){if(!z)continue;const V=z.charAt(0),re=z.charAt(1);p[V]=(p[V]??0)+50;const ie=JP[re];ie&&(p[ie]=(p[ie]??0)+50)}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const re=P1[z],ie=Zc(V),ue=Xc(V),de=u[re],pe=Wc(ie);pe&&(h[pe]+=de.stem,w[z]={stem:ie,el:pe,pol:R1(ie),val:de.stem});const Ne=Vc(ue);Ne&&(h[Ne]+=de.branch,S[z].push({el:Ne,pol:L1(ue),val:de.branch}))}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const re=P1[z],ie=d[V]??0;if(ie===0)continue;const ue=Zc(V),de=Wc(ue);if(!de)continue;const pe=u[re].stem*ie;h[de]+=pe,w[z].val+=pe}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const re=Xc(V),ie=Vc(re);if(!ie)continue;const ue=u[P1[z]].branch,de=L1(re);let pe=0;const Ne=[z];z-1>=0&&Ne.push(z-1),z+1<=3&&Ne.push(z+1),z-2>=0&&Ne.push(z-2),z+2<=3&&Ne.push(z+2);const se=Array.from(new Set(Ne));for(const je of se){if(!b[je]||b[je].length<2)continue;const ke=Zc(b[je]),fe=Wc(ke);if(!fe||fe!==ie)continue;const Ue=R1(ke)===de,Fe=Math.abs(je-z),tt=uue(Fe,Ue);pe+=ue*tt}pe!==0&&(h[ie]+=pe,S[z].push({el:ie,pol:de,val:pe}))}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const re=Zc(V),ie=Wc(re);if(!ie)continue;let ue=0;const de=Xc(b[z]),pe=Vc(de);pe&&(ue+=nb[rb(ie,pe)]);const Ne=z===0?[1]:z===3?[2]:[z-1,z+1];for(const je of Ne){const ke=Zc(b[je]),fe=Wc(ke);fe&&(ue+=nb[rb(ie,fe)])}const se=w[z].val;if(se!==0&&ue!==0){const je=Math.round(se*(1+ue)*10)/10,ke=je-se;h[ie]+=ke,w[z].val=je}}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const re=Xc(V),ie=Vc(re);if(!ie)continue;let ue=0;const de=Zc(b[z]),pe=Wc(de);pe&&(ue+=nb[rb(ie,pe)]);const Ne=z===0?[1]:z===3?[2]:[z-1,z+1];for(const je of Ne){if(!b[je]||b[je].length<2)continue;const ke=Xc(b[je]),fe=Vc(ke);fe&&(ue+=nb[rb(ie,fe)])}const se=S[z].reduce((je,ke)=>je+ke.val,0);if(se!==0&&ue!==0){const ke=Math.round(se*(1+ue)*10)/10-se;h[ie]+=ke,S[z].length>0&&(S[z][0].val+=ke)}}a&&Nae(b,h);const T={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},O=[];if(!(!l||l.tab==="")){let z=function(V,re){const ie=V?Re(V):"";if(!ie||ie.length<2)return;const ue=Zc(ie),de=Xc(ie),pe=Wc(ue),Ne=Vc(de),se=Math.max(1,(h.??0)+(h.??0)+(h.??0)+(h.??0)+(h.??0)),je=T[re];if(pe){const ke=Math.round(se*je.stem);h[pe]+=ke,O.push({stem:ue,el:pe,pol:R1(ue),val:ke})}if(Ne){const ke=Math.round(se*je.branch);h[Ne]+=ke,O.push({el:Ne,pol:L1(de),val:ke})}};z(l.dae,"dae"),(l.tab===""||l.tab===""||l.tab==="")&&z(l.se,"se"),(l.tab===""||l.tab==="")&&z(l.wol,"wol"),l.tab===""&&z(l.il,"il")}const A={:0,:0,:0,:0,:0};Object.entries(h).forEach(([z,V])=>{const re=W(z,k);A[re]+=V});const C=["","","","",""],D=ZP(C.map(z=>A[z])),P=B7(y),I=C.map((z,V)=>({name:z,value:D[V],color:P[z]})),U={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function W(z,V){return z===V?"":Ms[V]===z?"":Bo[V]===z?"":Bo[z]===V?"":Su[V]===z?"":""}function K(z,V){switch(W(z,k)){case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break}}Object.entries(h).forEach(([z,V])=>{V>0&&K(z,V)});const H={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const z of C){const V=I.find(Ne=>Ne.name===z)?.value??0,re=H[z].a,ie=H[z].b,ue=U[re]??0,de=U[ie]??0,pe=ue+de;if(pe>0){const Ne=Math.floor(V*ue/pe+.5),se=V-Ne;H[z].aVal=Ne,H[z].bVal=se}else H[z].aVal=Math.floor(V/2+.5),H[z].bVal=V-H[z].aVal}const{flags:B}=Qce(b,h),q={};w.forEach(z=>{if(z.stem&&z.el&&z.val){const V=`${z.stem}${z.el}`;q[V]=(q[V]??0)+z.val}});for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const re=Xc(V),ie=JP[re],ue=Vc(re);if(!ie||!ue)continue;const de=`${ie}${ue}`,pe=S[z].reduce((Ne,se)=>Ne+se.val,0);q[de]=(q[de]??0)+pe}const X=["","","","","","","","","",""],Z={};X.forEach(z=>{Z[z]=0}),C.forEach(z=>{const V=I.find(se=>se.name===z)?.value??0,re=XP(z,k),ie=Object.entries(q).filter(([se])=>se.endsWith(re)),ue=ie.map(([se])=>se),de=ie.map(([,se])=>se),pe=Math.max(0,Math.round(V*10)),Ne=due(de.length?de:[1,1],pe);if(ue.length===2)Z[ue[0]]=(Ne[0]??Math.round(pe/2))/10,Z[ue[1]]=(Ne[1]??pe-(Ne[0]??0))/10;else if(ue.length===1)Z[ue[0]]=pe/10;else{const se=re===""?["",""]:re===""?["",""]:re===""?["",""]:re===""?["",""]:["",""],je=Math.floor(pe/2),ke=pe-je;Z[se[0]]+=je/10,Z[se[1]]+=ke/10}});const G=["","","","",""],J={:0,:0,:0,:0,:0};for(const z of I){const V=XP(z.name,k);J[V]+=z.value}const Q=ZP(G.map(z=>J[z])),oe={:Q[0],:Q[1],:Q[2],:Q[3],:Q[4]};return i&&console.log({elementScore:h,totals:I,perTenGod:H,perStemRaw:q,perStemElementScaled:Z,elementPercent100:oe}),{overlay:{totalsSub:U,perStemAugBare:q,perStemAugFull:Z},totals:I,perTenGod:H,PerTenGodSub:U,stemScoreRaw:p,elementScoreRaw:h,deukFlags:B,perStemElement:q,perStemElementScaled:Z,elementPercent100:oe}}const ib={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},yue=["","","","",""];function eR(e){return yue.includes(e)}const vue={:"",:"",:"",:"",:""},xue={:"",:"",:"",:"",:""},wue={:"",:"",:"",:"",:""},_ue={:"",:"",:"",:"",:""},L2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Sue=["","","","","","","","","",""],kue={natal:50,dae:30,se:20,wol:7,il:3};function Ry(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Kn[t])return Kn[t];if(["","","","","","","","","","","",""].includes(t))return ib[t]??null;if(tr[t])return ib[tr[t]]??null;const n=t.charAt(0);return Kn[n]?Kn[n]:["","","","","","","","","",""].includes(n)?n:tr[n]?ib[tr[n]]??null:["","","","","","","","","","","",""].includes(n)?ib[n]??null:null}function Eue(e,t){const n=L2[e],r=L2[t];if(!n||!r)return"";let i;r===n?i="":r===vue[n]?i="":r===xue[n]?i="":r===wue[n]?i="":r===_ue[n]?i="":i="";const a=eR(e)===eR(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Ly(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.round(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.round(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function tR(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Ry(r);if(!a)continue;const o=Eue(t,a);n[o]+=i}return Ly(n)}function jue(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function nR(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Ry(n);i&&(t[i]=(t[i]??0)+r)}return t}function rR(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Sue){const i=L2[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function iR(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function Aue(e,t){const n=t?.dae?ab(t.dae):{},r=t?.se?ab(t.se):{},i=t?.wol?ab(t.wol):{},a=t?.il?ab(t.il):{},o={},l=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:d,bare:h}of l){const p=kue[d];if(!h||Object.keys(h).length===0)continue;const b=Ly(h);for(const[y,k]of Object.entries(b))o[y]=(o[y]??0)+k*p}const u=Object.values(o).reduce((d,h)=>d+h,0);if(u>0)for(const d of Object.keys(o))o[d]=o[d]/u*100;return o}function Tue(e){if(!e)return[];const t=Ry(e.charAt(0)),n=Ry(e.charAt(1));return[t,n].filter(Boolean)}function ab(e){const t=Tue(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Dp(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Re(t[0]??""),Re(t[1]??""),Re(t[2]??""),Re(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:l,hiddenStem:u}=Il,d=l==="classic"?"classic":"hgc",h=r?{tab:n,dae:r.dae?Re(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Re(r.se):void 0,wol:(n===""||n==="")&&r.wol?Re(r.wol):void 0,il:n===""&&r.il?Re(r.il):void 0}:{tab:n},p=R2({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:h}),b=R2({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),y=nR(p.perStemElementScaled),k=n===""?y:Aue(y,r),w=Ly(k),S=tR(k,o),T=jue(S),O=rR(w),A=nR(b.perStemElementScaled),C=tR(A,o),D=Ly(A),P=rR(D);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:w,perTenGodSub:S,perTenGod:T,overlay:{totalsSub:S,perStemAugBare:k,perStemAugFull:O},natalFixed:{elementScoreRaw:iR(b.elementScoreRaw),elementPercent100:iR(b.elementPercent100),totalsSub:C,overlay:{totalsSub:C,perStemAugBare:A,perStemAugFull:P}}}}const Co=["","","","",""],Zl={:0,:0,:0,:0,:0},Nue=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],Oue={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},I1=24,Cue=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],Iy=20;Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(tr).map(([e,t])=>[t,e]));const K7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Mue={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function W7(e){return Math.max(0,Math.min(100,e))}function sf(e,t,n){return Math.max(t,Math.min(n,e))}function Due(e){const t=W7(e);return Nue.find(n=>t>=n.min&&t<n.max)?.name??""}function Pue(e){const t=e?.[2]?.charAt(0)??"";return K7[t]??null}function Rue(e){return(e?.[1]?.charAt(1)??"")||null}function V7(e){return lx[e]}function Lue(e){return e?{peer:e,resource:Su[e],leak:Ms[e],wealth:Bo[e],officer:V7(e)}:null}function Iue(e){const t={...Zl};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=K7[r],o=Mue[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function $ue(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...Zl};return Co.forEach(r=>{n[r]=e[r]/t*100}),n}function Bue(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return W7((n("")+n(""))/t*100)}function zue(e,t){return!e||!t?null:t===e?"":Ms[e]===t?"":Bo[e]===t?"":V7(e)===t?"":Su[e]===t?"":null}function Uue(e){for(const[t,n]of Cue)if(e>=t)return n;return 1}const aR=(e,t)=>sf((Iy-(t[e]??0))/Iy,0,1),oR=(e,t)=>sf(((t[e]??0)-Iy)/Iy,0,1);function Fue(e,t,n,r){const i=zue(e,n);if(!e||!i)return 0;const a=sf((50-t)/50,0,1),o=sf((t-50)/50,0,1),l=aR(n,r),u=oR(n,r),d=aR(e,r),h=oR(e,r),p=6.5;let b=0;if(a>0)switch(i){case"":b=+(.3+.4*d+.15*l)*a;break;case"":b=+(.18+.45*d)*a;break;case"":b=-(.08+.2*(1-l)+.1*h)*a;break;case"":b=-(.22+.25*(1-l)+.1*(1-d))*a;break;case"":b=-(.35+.25*(1-l)+.1*(1-d))*a;break}else if(o>0)switch(i){case"":b=-(.25+.25*(1-l)+.2*h)*o;break;case"":b=-(.28+.2*h)*o;break;case"":b=+(.18+.2*l+.15*h)*o;break;case"":b=+(.22+.25*l+.1*h)*o;break;case"":b=+(.2+.2*l)*o;break}else switch(i){case"":b=.08*(d+l);break;case"":b=.05*d-.03*h;break;case"":b=.02*l-.02*u;break;case"":b=.01*l-.06*u;break;case"":b=-.05*(1-l);break}return Math.round(p*b*10)/10}function Hue(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...Zl};if(r){const o=Ms[e],l=Bo[e],u=lx[e];a[o]+=28,a[l]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(l)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=Su[e],l=e;a[o]+=28,a[l]+=22,n.get(o)?.push(":     "),n.get(l)?.push(":     ")}return a}function sR(e,t){if(!e)return{...Zl};const n=Oue[e]??{temp:"mild",wet:"normal"},r={...Zl};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function lR(e,t){const n={...Zl};for(const r of Co){const i=Bo[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=Ms[r],l=Math.round(a*.35);l>0&&(n[o]+=l,t.get(o)?.push(`: ${r}${i} `))}return n}function cR(e,t){const n={...Zl},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const ob=()=>new Map(Co.map(e=>[e,[]]));function lf(e,t){const n=Pue(e),r=Rue(e),i=Iue(e),a=$ue(i);let o=Bue(t);if(o==null)if(!n)o=50;else{const H=n,B=Su[n],q=Object.values(i).reduce((X,Z)=>X+Z,0)||1;o=Math.min(100,Math.max(0,((i[H]??0)+(i[B]??0))/q*100))}const l=Due(o),u={...Zl},d=ob();if(n){const H=Hue(n,l,d);Co.forEach(B=>{u[B]+=H[B]??0})}const h=sR(r,d);Co.forEach(H=>{u[H]+=h[H]??0});const p=lR(i,d);Co.forEach(H=>{u[H]+=p[H]??0});const b=cR(i,d);Co.forEach(H=>{u[H]+=b[H]??0});const y=Lue(n),k={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const H of t)k[H.name]=H.value;if(o>=45&&o<=55&&y){const H=k.>=30||k.>=Math.max(k.,k.,k.,k.)+5;o<=50?(u[y.resource]+=14,d.get(y.resource)?.push(": -"),u[y.peer]+=10,d.get(y.peer)?.push(": -"),u[y.leak]+=6,d.get(y.leak)?.push(": -"),u[y.wealth]+=3,d.get(y.wealth)?.push(": -"),H&&(u[y.officer]=Math.round(u[y.officer]*.8*10)/10,d.get(y.officer)?.push(":   "))):(u[y.leak]+=14,d.get(y.leak)?.push(": -"),u[y.wealth]+=10,d.get(y.wealth)?.push(": -"),u[y.officer]+=6,d.get(y.officer)?.push(": -"),u[y.resource]+=3,d.get(y.resource)?.push(": -"))}Co.forEach(H=>{const B=Fue(n,o,H,a);u[H]=sf(Math.round((u[H]+B)*10)/10,0,999)});const S=o<50;Co.forEach(H=>{const B=a[H]??0,q=S&&n===H;if(B>=I1&&!q){const X=Uue(B);u[H]=Math.round(u[H]*X*10)/10;const Z=Math.min(14,Math.max(0,Math.ceil((B-I1)*.5)));Z>0&&(u[H]=sf(u[H]-Z,0,999)),d.get(H)?.push(" ()")}});const T={:[],:[],:[],:[],:[]};if(n){const H=Ms[n],B=Bo[n],q=lx[n],X=n,Z=Su[n];T[H].push(""),T[B].push(""),T[q].push(""),T[X].push(""),T[Z].push("")}const O={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},A=H=>{const B=a[H]??0;return B>=I1&&!(S&&n===H)?B>=55?4:B>=45?3:2:O[H]?0:1},C=sR(r,ob()),D=lR(i,ob()),P=cR(i,ob()),I=Co.map(H=>({element:H,score:Math.round(u[H]*10)/10,via:Gue(H,C,D,P),reasons:(d.get(H)??[]).slice(),tenGodHints:T[H]})).sort((H,B)=>{const q=A(H.element),X=A(B.element);return q!==X?q-X:B.score!==H.score?B.score-H.score:H.element.localeCompare(B.element)}),U=Yue(l,C,D,P),W={:0,:0,:0,:0,:0},K=t?t.reduce((H,B)=>(H[B.name]=B.value,H),{...W}):void 0;return{chosenType:U,ordered:I,debug:{band:l,overallPct:o,elementScore:i,tenGodTotals:K,monthBranch:r??void 0}}}function Gue(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Yue(e,t,n,r){if(["","","",""].includes(e))return"";const a=d=>Object.values(d).reduce((h,p)=>h+p,0),o=a(t),l=a(n),u=a(r);return o>Math.max(l,u)?"":l>=u?"":""}function que(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.round(l));let a=100-r.reduce((l,u)=>l+u,0);const o=n.map((l,u)=>({i:u,f:l-Math.round(l)})).sort((l,u)=>u.f-l.f);for(let l=0;l<o.length&&a>0;l++)r[o[l].i]+=1,a-=1;return r}const uR=["","","","",""];function Kue(e,t){const n=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],{elementScoreRaw:r}=R2({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=uR.map(l=>r[l]??0),a=que(i),o={:0,:0,:0,:0,:0};return uR.forEach((l,u)=>{o[l]=a[u]}),o}function Z7(e,t){const n=Kue(e,t),r=Re(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},l=n[a]??0,u=n[o[a]]??0;return l+u*.7}const cf={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},X7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},sb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Wue=["","","","",""];function dR(e){return Wue.includes(e)}const Vue={:"",:"",:"",:"",:""},Zue={:"",:"",:"",:"",:""},Xue={:"",:"",:"",:"",:""},Jue={:"",:"",:"",:"",:""};function Qm(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Kn[t])return Kn[t];if(["","","","","","","","","","","",""].includes(t))return sb[t]??null;if(tr[t])return sb[tr[t]]??null;const n=t.charAt(0);return Kn[n]?Kn[n]:["","","","","","","","","",""].includes(n)?n:tr[n]?sb[tr[n]]??null:["","","","","","","","","","","",""].includes(n)?sb[n]??null:null}function Que(e,t){const n=cf[e],r=cf[t];if(!n||!r)return"";let i;r===n?i="":r===Vue[n]?i="":r===Zue[n]?i="":r===Xue[n]?i="":r===Jue[n]?i="":i="";const a=dR(e)===dR(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function ede(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function cx(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function tde(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=cf[Qm(n)];i&&r>0&&(t[i]+=r)}return cx(t)}function nde(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Qm(r);if(!a)continue;const o=Que(t,a);n[o]+=i}return n}function rde(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=ede(n);t[i]+=r}return cx(t)}function fR(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function J7(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=cf[i.charAt(0)];if(a&&(r[a]=!0),n){const o=X7[i.charAt(1)];o&&(r[o]=!0)}}return r}function Q7(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=cf[n.charAt(0)],i=X7[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function $1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const ide=["","","","","","","","","",""];function ade(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Qm(n);i&&(t[i]=(t[i]??0)+r)}return t}function ode(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of ide){const i=cf[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const sde={natal:50,dae:30,se:20,wol:7,il:3};function lde(e){const t={};for(const{kind:r,bare:i}of e){const a=sde[r]??0;if(a<=0)continue;const o=cx(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function cde(e){if(!e)return[];const t=Qm(e.charAt(0)),n=Qm(e.charAt(1));return[t,n].filter(Boolean)}function lb(e){const t=cde(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const I2=["","","","",""];function ude(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function dde(e,t){const n=I2.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),l=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:l}}function mA(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function fde(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function hR(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function hde(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,l=e[a]??0;if(o<20||l<20)continue;let u=null,d=null;if(hR(i)===a)u=i,d=a;else if(hR(a)===i)u=a,d=i;else continue;const h=fde(u),p=`${u}()${d}    ${h}( )`;r.push({a:i,b:a,controller:u,controlled:d,mediator:h,reason:p})}return r}function pA(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function am(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":    0"]}):e}function om(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,l=r(a.elNorm)?1:0;if(o!==l)return l-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function mde(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),l=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:l.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(d=>({element:d.el,elNorm:d.el,score:pA(d.base,t[d.el]??0),reasons:[d.why,` ${d.el}  ${Math.round(t[d.el]??0)}%`]}))}function pde(e){const t=hde(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,l=Math.min(a,o),u=95+Math.round(l/2),d=n.get(i.mediator),h=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];d?n.set(i.mediator,{score:Math.max(d.score,u),reasons:[...d.reasons,...h]}):n.set(i.mediator,{score:u,reasons:h})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:pA(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function gde(e,t){let n="",r=e.??0;for(const d of I2){const h=e[d]??0;h<r&&(r=h,n=d)}const i=I2.some(d=>!t[d]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const l=pA((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:l,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function gA(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,l=om(am(t,i,a),i,a),u=om(am(mde(n,r),i,a),i,a),d=ude(n),h=dde(r,i),p=d==="WINTER"||d==="SUMMER"?.85:.55,b=1.25,y=pde(r),k=om(am(y.items,i,a),i,a),w=gde(r,i),S=om(am(w.items,i,a),i,a),T=Array.isArray(o)?o:[],O=T.length>0,A=om(am(T,i,a),i,a),C=B=>Math.max(0,...B.map(q=>Number.isFinite(q.score)?q.score:0)),P=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:b,applicable:l.length>0,note:"1.  /()  ",candidates:l},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:d==="WINTER"?"2. ()   ":d==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:y.applicable,note:y.note,candidates:k},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:w.applicable,note:w.note,candidates:S},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:O,note:O?"/     ( )":"  (//  )",candidates:A}].map(B=>{const q=C(B.candidates),X=B.candidates[0];let Z=0;if(B.applicable&&X){if(Z=X.score*B.weight,B.kind==="EOKBU"&&!h.balancedPresent){const G=Math.min(35,Math.round(h.spread*.9));Z+=G}B.kind==="EOKBU"&&h.balancedPresent&&(Z*=.75),X.elNorm&&!i[X.elNorm]&&(Z*=.25)}return{...B,maxScore:q,fitScore:Math.round(Z),finalScore:Math.round(Z)}}).sort((B,q)=>B.priority-q.priority),I=[...P].filter(B=>B.applicable&&B.candidates.length>0).sort((B,q)=>q.fitScore!==B.fitScore?q.fitScore-B.fitScore:B.priority-q.priority)[0],U=Math.max(0,...P.map(B=>B.fitScore)),W=I?.kind??null,K=P.map(B=>{if(!W)return B;if(B.kind===W){const q=B.fitScore<U?U+1:B.fitScore;return{...B,finalScore:q}}return{...B,finalScore:B.fitScore}}),H=W?K.find(B=>B.kind===W)??null:null;return{bestKind:W,best:H,groups:K}}const bde={:"",:"",:"",:"",:""},yde={:"",:"",:"",:"",:""},vde={:"",:"",:"",:"",:""},xde={:"",:"",:"",:"",:""};function B1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function wde(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function _de(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function Sde(e,t){switch(t){case"":return e;case"":return bde[e];case"":return vde[e];case"":return xde[e];case"":return yde[e]}}function kde(e,t){const n=new Map,r=(u,d,h)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:d,reasons:[h]});return}p.score=Math.max(p.score,d),p.reasons=p.reasons.includes(h)?p.reasons:[...p.reasons,h]},i=B1(t),a=wde(e.);if(i&&a){const u=_de(a),d=Sde(i,u);r(d,92,` ${e.}  ${u} (${d})`)}const o=B1(e.);o&&r(o,86,` ${e.}  (${o})`);const l=B1(e.);return l&&r(l,70,` ${e.}  (${l})`),Array.from(n.values()).sort((u,d)=>d.score-u.score)}const sm=e=>e&&e.length>=1?e.charAt(0):"",cb=e=>e&&e.length>=2?e.charAt(1):"";function Ede(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function jde({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:l,monthGZ:u,dayGZ:d}=Jr(),h=_.useMemo(()=>Re(l),[l]),p=_.useMemo(()=>Re(u),[u]),b=_.useMemo(()=>Re(d),[d]),y=Cu(e,e?.mingSikType),k=_.useMemo(()=>{if(!y?.length)return 0;const Oe=y.findIndex(($e,He)=>{const Be=y[He+1]?.at;return o>=$e.at&&(!Be||o<Be)});return Oe!==-1?Oe:o<y[0].at?0:y.length-1},[y,o]),w=_.useMemo(()=>{const Oe=r??y?.[k]?.gz??"";return Re(Oe)||null},[r,y,k]),{manualHour:S,usePrevDay:T}=Ui(),O=e.mingSikType??"/",A=_.useMemo(()=>fR(t),[t]),C=_.useMemo(()=>fR(n),[n]),D=_.useMemo(()=>{const Oe=[...A];return(!Oe[3]||Oe[3]===""||Oe[3]==="--")&&S&&(Oe[3]=S.stem+S.branch),Oe},[A,S]),P=_.useMemo(()=>{const Oe=[...C];return(!Oe[3]||Oe[3]===""||Oe[3]==="--")&&S&&(Oe[3]=S.stem+S.branch),Oe},[C,S]),I=_.useMemo(()=>{const Oe=Number(e.birthDay?.slice(0,4)),$e=Number(e.birthDay?.slice(4,6)),He=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(Oe)||!Number.isFinite($e)||!Number.isFinite(He))return null;const Be=new Date(Oe,$e-1,He,12,0,0,0),jt=Re(ct(Be)||""),At=Re(kt(Be)||""),he=Re(ht(Be,O)||"");return[jt,At,he,""]},[e.birthDay,O]),U=$1(D),W=$1(P),H=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?W?"lunar":U?"solar":"lunar":U?"solar":W?"lunar":"solar",B=_.useMemo(()=>{const $e=[...H==="lunar"?W?P:U?D:I??["","","",""]:U?D:W?P:I??["","","",""]];if((!$e[3]||$e[3]===""||$e[3]==="--")&&S&&($e[3]=S.stem+S.branch),$e[3]==="--"&&($e[3]=""),!T)return $e;const He=Qa($e[2]||"",-1);return[$e[0],$e[1],He,$e[3]]},[H,U,W,D,P,I,S,T]),q=_.useMemo(()=>sm(B[2]??""),[B]),X=_.useMemo(()=>cb(B[1]??""),[B]),Z=_.useMemo(()=>Ede(e.birthDay),[e.birthDay]),G=_.useMemo(()=>S?S.stem+S.branch:B[3]||"",[S,B]),J=_.useMemo(()=>({dae:i!==""?w??null:null,se:i===""||i===""||i===""?h??null:null,wol:i===""||i===""?p??null:null,il:i===""?b??null:null}),[i,w,h,p,b]),Q=_.useMemo(()=>Dp({natal:B,tab:i,chain:J,hourKey:G}),[B,i,J,G]),oe=_.useMemo(()=>{if(!Q)return null;const Oe=ade(Q.perStemElementScaled),$e=J.dae?lb(J.dae):{},He=J.se?lb(J.se):{},Be=J.wol?lb(J.wol):{},jt=J.il?lb(J.il):{},At=lde([{kind:"natal",bare:Oe},{kind:"dae",bare:$e},{kind:"se",bare:He},{kind:"wol",bare:Be},{kind:"il",bare:jt}]),he=cx(At),Ce=ode(he),Ye=nde(At,Q.dayStem),Se=rde(Ye),Pe=tde(At);return{perStemAugBare:At,perStemAugFull:Ce,elemPct100:Pe,totalsMain:Se,totalsSub:Ye}},[Q,J]),te=_.useMemo(()=>J7(B,{includeBranches:!0}),[B]),z=_.useMemo(()=>["","","","",""].some(Oe=>!te[Oe]),[te]),V=oe?.elemPct100??Q?.elementPercent100??Q7(B),re=_.useMemo(()=>{if(!Q||!oe)return[];const Oe=B7(Q.dayStem);return Object.entries(oe.totalsMain).map(([$e,He])=>({name:$e,value:He,color:Oe[$e]}))},[Q,oe]),ie=oe?.elemPct100??{:0,:0,:0,:0,:0},ue=oe?.totalsSub??Q?.perTenGodSub??null,de=_.useMemo(()=>[i,w??"",h??"",p??"",b??"",o?.toISOString?.()??"",G].join("|"),[i,w,h,p,b,o,G]),pe=_.useMemo(()=>{const Oe=ue?Object.entries(ue).sort(([He],[Be])=>He.localeCompare(Be)).map(([He,Be])=>`${He}:${Be}`).join(","):"none",$e=re.map(He=>`${He.name}:${He.value}`).join(",");return`${de}||${B.join("")}||${$e}||${Oe}`},[de,B,re,ue]),Ne=typeof lf=="function"?lf(B,Q?.totals):null,se=_.useMemo(()=>(Ne?.ordered??[]).map($e=>{const He=$e.element??"",Be=/||wood/i.test(He)?"":/||fire/i.test(He)?"":/||earth/i.test(He)?"":/||metal/i.test(He)?"":/||water/i.test(He)?"":null,jt=typeof $e.score=="number"?$e.score:Be?V[Be]??0:0,At=Array.isArray($e.reasons)?$e.reasons:[];return{element:He,elNorm:Be,score:jt,reasons:At}}),[Ne,V]),je=_.useMemo(()=>se.map(Oe=>({element:Oe.element,elNorm:Oe.elNorm,score:Oe.score,reasons:Oe.reasons})),[se]),ke=_.useMemo(()=>{if(!q||!X)return[];const[Oe,$e,He,Be]=B,jt=[sm(Oe),sm($e),sm(He),sm(Be)].filter(Boolean),At=[cb(Oe),cb(He),cb(Be)].filter(Boolean),he=I7({dayStem:q,monthBranch:X,date:Z,pillars:B,emittedStems:jt,otherBranches:At}),Ce=kde(he,q),Ye=Se=>/||wood/i.test(Se)?"":/||fire/i.test(Se)?"":/||earth/i.test(Se)?"":/||metal/i.test(Se)?"":/||water/i.test(Se)?"":null;return(Ce??[]).map(Se=>({element:Se.element,elNorm:Ye(Se.element),score:Number.isFinite(Se.score)?Se.score:0,reasons:Array.isArray(Se.reasons)?Se.reasons:[]}))},[B,q,X,Z]),fe=_.useMemo(()=>{const Oe=B[1]||"";return gA({eokbuList:je,monthGz:Oe,elemPct:V,presentMap:te,demoteAbsent:a,gyeokgukList:ke})},[B,je,V,te,a,ke]),Ue=_.useMemo(()=>{const Oe=fe.best;return Oe?.candidates?.length?Oe.candidates.map($e=>({element:$e.element,elNorm:$e.elNorm,score:$e.score,reasons:$e.reasons})):se},[fe,se]),Fe=_.useMemo(()=>Math.max(0,...Ue.map(Oe=>Number.isFinite(Oe.score)?Oe.score:0)),[Ue]),tt=_.useMemo(()=>Z7(B,{criteriaMode:"modern",useHarmonyOverlay:!0}),[B]);return{seGz:h,wolGz:p,ilGz:b,daewoonGz:w,activePillars:B,chain:J,unified:Q,overlay:oe,chartData:re,elementPct:ie,tenSubTotals100:ue,hourKeyForUi:G,revKey:pe,yongshinMulti:fe,yongshinRecommend:fe,yongshinList:Ue,maxScore:Fe,hasAbsent:z,dayElementPercent:tt,isValidActive:$1(B)}}function Ade(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function Tde(e){const t=new Date(e,1,15,12,0,0,0);return Re(ct(t)||"")}function Nde(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=mA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const Ode={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function $y(e){return Ode[e]??null}function Cde(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=fA(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",l=$y(a);if(l&&(n[l]=!0),dA(o)){const u=r[o],d=[u.,u.,u.].filter(Boolean);for(const h of d){const p=$y(h.stem);p&&h.w>0&&(n[p]=!0)}}}return n}function Mde(e,t){const n=fA(t),r={:0,:0,:0,:0,:0};for(const o of e){const l=o?.charAt(0)??"",u=o?.charAt(1)??"",d=$y(l);if(d&&(r[d]+=50),dA(u)){const h=n[u],p=[h.,h.,h.].filter(Boolean),b=p.reduce((k,w)=>k+(Number.isFinite(w.w)?w.w:0),0),y=b>0?b:1;for(const k of p){const w=$y(k.stem);w&&(r[w]+=50*k.w/y)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function Dde(e,t,n){return e||Mde(t,n)}function Pde(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,l=_.useMemo(()=>P7(o),[o]),u=Cu(t,t?.mingSikType),d=_.useMemo(()=>Array.isArray(u)?u.filter(Ade).slice(0,10):[],[u]),[h,p]=_.useState(0),[b,y]=_.useState(0),k=Math.max(0,Math.min(d.length-1,h)),w=d[k]??null,S=_.useMemo(()=>{if(!w)return[];const W=w.at.getFullYear();return Array.from({length:10},(K,H)=>{const B=W+H;return{year:B,gz:Tde(B)}})},[w]),T=b==null?null:Math.max(0,Math.min(S.length-1,b)),O=T==null?null:S[T]??null,A=_.useMemo(()=>Cde(n,l),[n,l]),C=_.useMemo(()=>["","","","",""].some(W=>!A[W]),[A]),D=_.useMemo(()=>{const W=w?Re(w.gz):null,K=O?Re(O.gz):null;return{dae:W||null,se:K||null,wol:null,il:null}},[w,O]),P=_.useMemo(()=>D.se?"":"",[D.se]),I=_.useMemo(()=>{const W=w?`${w.at.getFullYear()}~ ${Re(w.gz)}`:" -",K=O?` / ${O.year} ${Re(O.gz)}`:"";return`${W}${K}`},[w,O]),U=_.useMemo(()=>{if(!w)return null;const W=Dp({natal:n,tab:P,chain:D,hourKey:r}),K=Dde(W?.elementPercent100,n,l),H=typeof lf=="function"?lf(n,W?.totals):null,B=Nde(H,K);return gA({eokbuList:B,monthGz:n[1]||"",elemPct:K,presentMap:A,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[w,n,P,D,r,A,i,a,l]);return{daeIndex:k,setDaeIndex:p,seIndex:T,setSeIndex:y,dae10:d,se10:S,chain:D,tab:P,label:I,recommend:U,presentMap:A,hasAbsent:C}}const Rde={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function $2(e){return e?Rde[e]??e:""}function Lde(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function Ide(e){const t=new Date(e,1,15,12,0,0,0);return Re(ct(t)||"")}function z1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?mA(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,l=r&&i?`${$2(r)}:${i}`:r?`${$2(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:l,result:e}}function $de(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=mA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function mR(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:l}=e,u=Dp({natal:t,tab:i,chain:r,hourKey:n}),d=u?.elementPercent100??Q7(t),h=typeof lf=="function"?lf(t,u?.totals):null,p=$de(h,d);return gA({eokbuList:p,monthGz:t[1]||"",elemPct:d,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(l)?l:null})}function Bde(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const Mo=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=g.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?g.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function pR({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?g.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Mo,{text:`: ${$2(t.kind)}`,tone:"pick"}),g.jsx(Mo,{text:` ${t.fitScore}`}),n[0]?.element?g.jsx(Mo,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?g.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>g.jsx("li",{className:"text-xs",children:g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Mo,{text:`${i+1} ${r.element}`}),g.jsx(Mo,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>g.jsx(Mo,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function zde(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=_.useMemo(()=>J7(n,{includeBranches:!0}),[n]),l=Cu(t,t?.mingSikType),u=_.useMemo(()=>Array.isArray(l)?l.filter(Lde).slice(0,10):[],[l]),d=_.useMemo(()=>z1(a),[a]),[h,p]=_.useState(null),b=w=>p(S=>S===w?null:w),y=_.useMemo(()=>u.map((w,S)=>{const T=Re(w.gz)||"",A=mR({pillars:n,hourKey:r,chain:{dae:T||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),C=z1(A),D=w.at.getFullYear(),P=Array.from({length:10},(H,B)=>{const q=D+B,X=Ide(q),G=mR({pillars:n,hourKey:r,chain:{dae:T||null,se:X||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),J=z1(G);return{year:q,snap:J}}),U=Bde(P).filter(H=>H.snap.top1ElNorm!==C.top1ElNorm),W=C.top1ElNorm!==d.top1ElNorm,K=W||U.length>0;return{idx:S,dae:w,daeLabel:`${D}~ ${T||""}`,daeSnap:C,daeDiffFromNatal:W,segDiffOnly:U,hasAnyChange:K}}).filter(w=>w.hasAnyChange),[u,n,r,i,o,d.top1ElNorm]),k=_.useMemo(()=>y.some(w=>w.hasAnyChange),[y]);return g.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  "}),g.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",d.label," /  ",d.fit]})]}),k?g.jsx("div",{className:"space-y-3",children:y.map(w=>{const S=`dae:${w.idx}`,T=h===S;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Mo,{text:` ${w.daeLabel}`,tone:"base"}),g.jsx(Mo,{text:` ${w.daeSnap.label} ( ${w.daeSnap.fit})`,tone:w.daeDiffFromNatal?"diff":"base",onClick:()=>b(S),title:" (top3) "}),w.daeDiffFromNatal?g.jsx(Mo,{text:" ",tone:"diff"}):null]}),w.segDiffOnly.length?g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.segDiffOnly.map((O,A)=>{const C=`seg:${w.idx}:${A}`,D=h===C,P=O.fromYear===O.toYear?`${O.fromYear}`:`${O.fromYear}~${O.toYear}`;return g.jsxs("div",{className:"inline-flex flex-col",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx(Mo,{text:` ${P}  ${O.snap.label} ( ${O.snap.fit})`,tone:"diff",onClick:()=>b(C),title:" (top3) "})}),D?g.jsx(pR,{snap:O.snap}):null]},C)})}):null,T?g.jsx(pR,{snap:w.daeSnap}):null]},S)})}):g.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}const By=({children:e,variant:t="neutral"})=>{const n={neutral:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400",violet:"bg-violet-100 text-violet-700 dark:bg-violet-900/40 dark:text-violet-300",amber:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300",indigo:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300"};return g.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold tracking-tight shadow-sm ${n[t]}`,children:e})};function Ude(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(5,Math.min(100,n))}%`}function Fde({g:e,isBest:t,demoteAbsent:n,hasAbsent:r,onDemoteAbsentChange:i}){const a=e.candidates.slice(0,3);return g.jsxs("details",{open:t,className:`group rounded-2xl border transition-all duration-300 ${t?"border-violet-200 dark:border-violet-800 bg-white dark:bg-neutral-900 shadow-md":"border-neutral-200 dark:border-neutral-800 bg-neutral-50/50 dark:bg-neutral-900/50"}`,children:[g.jsx("summary",{className:"list-none cursor-pointer p-4 select-none",children:g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:`text-sm ${t?"font-black text-violet-600":"font-bold text-neutral-700 dark:text-neutral-300"}`,children:[e.marker," ",e.title]}),t&&g.jsx(By,{variant:"violet",children:" "}),!e.applicable&&g.jsx(By,{variant:"neutral",children:""})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] font-medium text-neutral-400",children:""}),g.jsx("span",{className:"text-sm font-black text-neutral-800 dark:text-neutral-100",children:e.fitScore}),g.jsx("span",{className:"text-neutral-300 group-open:rotate-180 transition-transform",children:""})]})]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed whitespace-normal break-words pr-4",children:e.note})]})}),g.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[a.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 py-2 text-center border-t border-neutral-100 dark:border-neutral-800",children:"  ."}):g.jsx("div",{className:"space-y-2 border-t border-neutral-100 dark:border-neutral-800 pt-3",children:a.map((o,l)=>g.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-neutral-50 dark:bg-neutral-800/50 border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[40px]",children:[g.jsxs("span",{className:"text-[9px] font-bold text-neutral-400 uppercase",children:[l+1,"st"]}),g.jsx("span",{className:"text-sm font-black text-neutral-800 dark:text-neutral-100",children:o.element})]}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsx("div",{className:"h-2 w-full rounded-full bg-neutral-200 dark:bg-neutral-700 overflow-hidden shadow-inner",children:g.jsx("div",{className:`h-full rounded-full transition-all duration-700 ${t?"bg-gradient-to-r from-violet-400 to-indigo-500":"bg-neutral-400"}`,style:{width:Ude(o.score??0,e.maxScore)}})}),g.jsx("div",{className:"flex flex-wrap gap-1",children:(o.reasons??[]).slice(0,4).map((u,d)=>g.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-md bg-white dark:bg-neutral-700 text-neutral-500 dark:text-neutral-400 border border-neutral-100 dark:border-neutral-600 shadow-sm",children:u},d))})]})]},`${e.kind}-${o.element}-${l}`))}),r&&g.jsxs("button",{type:"button",onClick:()=>i?.(!n),className:`px-2 py-1 rounded-full text-[10px] font-bold border transition cursor-pointer ${n?"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800":"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-800 dark:text-neutral-400 dark:border-neutral-700"}`,"aria-pressed":n,children:[" ",n?"ON":"OFF"]})]})]})}function Hde({best:e}){const t=e?.candidates?.[0]??null;return g.jsxs("div",{className:"relative overflow-hidden rounded-[2rem] border border-violet-200 dark:border-violet-800 p-6 bg-gradient-to-br from-violet-50 to-white dark:from-violet-950/20 dark:to-neutral-900 shadow-sm",children:[g.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-violet-100 dark:bg-violet-900/20 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10 flex flex-col gap-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(By,{variant:"indigo",children:" "}),g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("span",{className:"text-[10px] text-neutral-400 font-bold uppercase",children:" "}),g.jsx("span",{className:"text-lg font-black text-violet-600 dark:text-violet-400",children:e?.fitScore??0})]})]}),g.jsxs("div",{className:"flex items-end gap-3",children:[g.jsx("h4",{className:"text-2xl font-black text-neutral-800 dark:text-neutral-100 tracking-tighter",children:e?`${e.marker} ${e.title}`:"  "}),t?.element&&g.jsxs("div",{className:"mb-1 flex items-center gap-1",children:[g.jsx("span",{className:"text-xs text-neutral-400 font-medium",children:"1:"}),g.jsx("span",{className:"text-base font-black text-indigo-500",children:t.element})]})]}),e?.note&&g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed font-medium",children:e.note})]})]})}function Gde({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,onDemoteAbsentChange:a,hasAbsent:o,hiddenStemMode:l}){const u=Pde({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:l}),d=o??u.hasAbsent;return g.jsxs("div",{className:"w-full p-6 rounded-[2.5rem] bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 shadow-xl space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between px-2",children:[g.jsx("div",{className:"space-y-1",children:g.jsx("h2",{className:"text-xl font-black text-neutral-800 dark:text-neutral-100 tracking-tighter uppercase",children:" "})}),d&&g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsx(By,{variant:"amber",children:"  "}),i&&g.jsx("span",{className:"text-[9px] text-amber-500 font-bold mt-1",children:" "})]})]}),g.jsx(Hde,{best:e.best}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 px-2",children:[g.jsx("div",{className:"h-px flex-1 bg-neutral-100 dark:bg-neutral-800"}),g.jsx("span",{className:"text-[10px] font-black text-neutral-300 dark:text-neutral-600 uppercase tracking-widest",children:" "}),g.jsx("div",{className:"h-px flex-1 bg-neutral-100 dark:bg-neutral-800"})]}),g.jsx("div",{className:"grid gap-3",children:e.groups.map(h=>g.jsx(Fde,{g:h,isBest:e.bestKind===h.kind,demoteAbsent:i,hasAbsent:d,onDemoteAbsentChange:a},h.kind))})]}),g.jsx("div",{className:"pt-2",children:g.jsx(zde,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})})]})}const gR=e=>e<10?`0${e}`:`${e}`;function Yde(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Vi(i,a,o),u=`${l.getFullYear()}${gR(l.getMonth()+1)}${gR(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function qde(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const Kde=["  ","   ","","",""];function Wde(e){return e==="  "||e===""}function Vde({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=wn(p=>p.settings),a=Lce(),o=Yde(e),l=qde(o.birthDay)||void 0,u=fn(p=>p.canUseAdvancedReportNow()),d=jde({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),h=_.useMemo(()=>"    100   ! (  )",[]);return d.isValidActive?g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsxs("div",{className:"flex flex-col items-center mb-8",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap mb-4",children:Rce.map(p=>{const b=a.blendTab===p;return g.jsx("button",{onClick:()=>a.setBlendTab(p),className:`
                  px-4 py-1.5 text-[11px] font-bold rounded-full transition-all duration-200 active:scale-95 cursor-pointer
                  ${b?"bg-amber-400 text-amber-950 shadow-[0_2px_10px_rgba(251,191,36,0.4)] border border-amber-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-500 dark:text-neutral-400 border border-transparent hover:bg-neutral-200 dark:hover:bg-neutral-700"}
                `,children:p},p)})}),g.jsxs("div",{className:"flex items-start gap-2 px-4 py-2 bg-amber-50/50 dark:bg-amber-900/10 rounded-xl border border-amber-100/50 dark:border-amber-900/20",children:[g.jsx("span",{className:"text-amber-500 text-[12px] mt-0.5",children:""}),g.jsxs("p",{className:"text-[10.5px] text-amber-700 dark:text-amber-400/80 leading-relaxed font-medium",children:["    ",g.jsx("span",{className:"font-bold underline decoration-amber-300/50 underline-offset-2 text-amber-800 dark:text-amber-300",children:" "})," ",g.jsx("span",{className:"font-bold underline decoration-amber-300/50 underline-offset-2 text-amber-800 dark:text-amber-300",children:" "}),"   ."]})]})]}),g.jsx("div",{className:"flex gap-2 mb-8 justify-center flex-wrap",children:Kde.map(p=>{const b=!u&&Wde(p),y=a.bigTab===p;return g.jsxs("button",{title:b?h:void 0,onClick:()=>a.setBigTab(p),className:`
                relative px-4 py-2 text-sm font-bold rounded-2xl border transition-all duration-300 active:scale-95 flex items-center gap-1.5 cursor-pointer
                ${y?"bg-violet-600 text-white border-violet-500 shadow-[0_4px_12px_rgba(139,92,246,0.3)] z-10":"bg-white dark:bg-neutral-900 text-neutral-500 dark:text-neutral-400 border-neutral-200 dark:border-neutral-800 hover:border-violet-300 dark:hover:border-violet-700"}
                ${b?"opacity-70 bg-neutral-50 dark:bg-neutral-900/50":""}
              `,children:[g.jsx("span",{className:b?"mr-1":"",children:p}),b&&g.jsx("span",{className:"flex items-center justify-center w-4 h-4 bg-neutral-200 dark:bg-neutral-800 rounded-full text-[10px]",children:""}),y&&!b&&g.jsx("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-white rounded-full"})]},p)})}),a.bigTab===""&&g.jsx(cle,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="   "&&g.jsxs("div",{className:"space-y-4",children:[g.jsx(tle,{data:d.chartData,perStemElementScaled:d.overlay?.perStemAugFull,dayStem:d.activePillars[2]?.charAt(0)??null,yongshinTop:d.yongshinMulti?.best?.candidates?.[0]?.element??null,yongshinKind:d.yongshinMulti?.bestKind??null},`pentagon-${d.revKey}`),g.jsx(lle,{natal:d.activePillars,perStemElementScaled:d.overlay?.perStemAugFull}),g.jsx(ile,{value:d.dayElementPercent}),g.jsx(_le,{natal:d.activePillars})]}),a.bigTab===""&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:""}),"   .   100  !"]}),a.bigTab===""&&u&&g.jsx(Gde,{recommend:d.yongshinMulti,data:o,pillars:d.activePillars,hourKey:d.hourKeyForUi,demoteAbsent:a.demoteAbsent,onDemoteAbsentChange:a.setDemoteAbsent,hasAbsent:d.hasAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab===""&&g.jsx(fle,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="  "&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:"  "}),"   .   100  !"]}),a.bigTab==="  "&&u&&g.jsx(_ce,{unified:d.unified,pillars:d.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:l},`gyeok-${a.blendTab}-${d.hourKeyForUi}`)]}):g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const ub=e=>typeof e=="string"&&e.length>=2,Zde=e=>!Array.isArray(e)||e.length!==4?!1:ub(e[0])&&ub(e[1])&&ub(e[2])&&(e[3]===""||ub(e[3]));function Xde({data:e}){const[t,n]=_.useState("un"),r=nc(),i=fn(d=>d.canUseMyoViewerNow());_.useEffect(()=>{t==="myoun"&&!i&&n("un")},[t,i]);const a=_.useMemo(()=>{try{const d=Nf(e);return Kl(d,r)}catch{return new Date}},[e,r]),o=_.useMemo(()=>Vl(e,a),[e,a]),l=!e.birthTime||e.birthTime==="",u=_.useMemo(()=>{try{const d=ct(o,e.birthPlace?.lon),h=kt(o,e.birthPlace?.lon),p=ht(o,e.mingSikType),b=l?"":eo(o,e.mingSikType);return[d,h,p,b]}catch{return[]}},[o,e?.mingSikType,e?.birthPlace?.lon,l]);return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),i?g.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,g.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&g.jsx(qse,{data:e}),t==="myoun"&&i&&g.jsx(Zse,{data:e}),t==="report"&&g.jsx(Vde,{data:e,pillars:Zde(u)?u:[]})]})}function Jde({onOpenSidebar:e,onAddNew:t,onOpenCustom:n,isLoggedIn:r}){const i=xn(C=>C.list.length),a=fn(C=>C.canAddMyeongsik),[o,l]=_.useState(!1);_.useEffect(()=>{let C=!0;De.auth.getSession().then(({data:P})=>{C&&l(!!P.session?.user)});const{data:D}=De.auth.onAuthStateChange((P,I)=>{l(!!I?.user)});return()=>{C=!1,D.subscription.unsubscribe()}},[]);const u=r||o,d=a(i),h=!d.ok,p=h?d.message:"",b=()=>{if(h){ha(p||"   ");return}t()},y=()=>{if(h){ha(p||"   ");return}n()},k=()=>{Ss.getState().openWith("HEADER")},w=async()=>{const{error:C}=await De.auth.signOut();if(C){console.error(C),ha("  ");return}ha(" ")},S="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",T="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",O="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",A="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(tX,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("button",{type:"button",onClick:b,"aria-label":" ",disabled:h,title:" ",className:`${S} ${h?A:T}`,children:[g.jsx(fX,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),g.jsxs("button",{type:"button",onClick:y,"aria-label":"  ",disabled:h,title:"  ",className:`${S} ${h?A:O}`,children:[g.jsx(cX,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),u?g.jsx("button",{type:"button",onClick:w,"aria-label":"",title:"",className:"inline-flex items-center gap-1 text-xs cursor-pointer text-neutral-700 dark:text-neutral-200 hover:text-purple-600 dark:hover:text-purple-400",children:g.jsx("ins",{children:""})}):g.jsx("button",{type:"button",onClick:k,"aria-label":"",title:"",className:"text-xs cursor-pointer",children:g.jsx("ins",{children:""})})]})]})})}function Qde(e){_.useEffect(()=>{const t=e??l5()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");u5(t),e&&c5(e)},[e])}const e9=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function efe(e){return typeof e=="string"&&e9.includes(e)}function B2(e){const t=Array.isArray(e)?e.filter(efe):[],n=e9.filter(r=>!t.includes(r));return[...t,...n]}function z2(e){return{...Il,...e,sectionOrder:B2(e.sectionOrder)}}function tfe(e,t){return e.theme??t.theme??"dark"}function nfe({open:e,settings:t}){const n=_.useMemo(()=>B2(t.sectionOrder),[t.sectionOrder]),r=_.useMemo(()=>z2(t),[t]),[i,a]=_.useState(n),[o,l]=_.useState(r),[u,d]=_.useState(null),[h,p]=_.useState(!1);return _.useEffect(()=>{if(!e||h)return;const y=B2(t.sectionOrder);l({...z2(t),sectionOrder:y}),a(y),p(!1)},[e,t,h]),{order:i,setOrder:a,localSettings:o,setLocalSettings:l,updateSetting:(y,k)=>{l(w=>{const S={...w,[y]:k};return p(!0),S})},toastMessage:u,setToastMessage:d,dirty:h,setDirty:p}}function rfe(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function t9(e){c5(e)}function ife({setSettings:e,saveToServer:t}){return{applyChanges:_.useCallback(async(r,i,a)=>{const o={...z2(r),sectionOrder:i};rfe(),_.startTransition(()=>{e(o)}),o.theme&&t9(o.theme),a(),t(!0)},[e,t])}}function afe({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=wn(),a=nfe({open:e,settings:n}),o=ife({setSettings:r,saveToServer:i}),l=()=>a.setToastMessage(null),u=tfe(a.localSettings,n);Qde(u),_.useEffect(()=>{t9(u)},[u]);const d=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},h=b=>{const{destination:y,source:k}=b;if(!y||y.index===k.index)return;const w=Array.from(a.order),[S]=w.splice(k.index,1);w.splice(y.index,0,S),a.setOrder(w)},p=b=>{switch(b){case"theme":return g.jsx(za,{title:"",children:g.jsx(ofe,{value:a.localSettings.theme??"dark",onChange:y=>a.updateSetting("theme",y)})});case"hiddenStem":return g.jsx(za,{title:"  ",children:g.jsx(Od,{value:a.localSettings.hiddenStem,onChange:y=>a.updateSetting("hiddenStem",y),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return g.jsx(za,{title:" ",children:g.jsx(Od,{value:a.localSettings.hiddenStemMode,onChange:y=>a.updateSetting("hiddenStemMode",y),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return g.jsx(za,{title:"",children:g.jsx(Od,{value:a.localSettings.sinsalMode,onChange:y=>a.updateSetting("sinsalMode",y),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return g.jsx(za,{title:"",children:g.jsx(Od,{value:a.localSettings.sinsalBase,onChange:y=>a.updateSetting("sinsalBase",y),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return g.jsx(za,{title:" ",children:g.jsx(Ao,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:y=>a.updateSetting("sinsalBloom",y)})});case"exposure":return g.jsx(za,{title:" ",children:g.jsx(Od,{value:a.localSettings.exposure,onChange:y=>a.updateSetting("exposure",y),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return g.jsx(za,{title:" ",children:g.jsx(Od,{value:a.localSettings.charType,onChange:y=>a.updateSetting("charType",y),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return g.jsx(za,{title:" ",children:g.jsx(Ao,{label:" ",checked:!!a.localSettings.thinEum,onChange:y=>a.updateSetting("thinEum",y)})});case"visibility":return g.jsx(za,{title:" ",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[g.jsx(Ao,{label:" ",checked:!!a.localSettings.showSipSin,onChange:y=>a.updateSetting("showSipSin",y)}),g.jsx(Ao,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:y=>a.updateSetting("showSibiUnseong",y)}),g.jsx(Ao,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:y=>a.updateSetting("showSibiSinsal",y)}),g.jsx(Ao,{label:" ",checked:!!a.localSettings.showNabeum,onChange:y=>a.updateSetting("showNabeum",y)}),g.jsx(Ao,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:y=>a.updateSetting("showEtcShinsal",y)}),g.jsx(Ao,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:y=>a.updateSetting("showRelationBox",y)}),g.jsx(Ao,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:y=>a.updateSetting("showPromptBox",y)})]})});case"difficultyMode":return g.jsx(za,{title:" UP ver.",children:g.jsx(Ao,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:y=>a.updateSetting("difficultyMode",y)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:""}),g.jsx("button",{onClick:d,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]}),e&&g.jsx(Ep,{onDragEnd:h,children:g.jsx(Af,{droppableId:"settings-sections",children:b=>g.jsxs("ul",{ref:b.innerRef,...b.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((y,k)=>g.jsx(jf,{draggableId:y,index:k,children:w=>g.jsxs("li",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),g.jsx("div",{className:"flex-1 min-w-0",children:p(y)})]})},y)),b.placeholder]})})})]}),a.toastMessage&&g.jsx(z6,{message:a.toastMessage,onClose:l,ms:1800})]})}function ofe({value:e,onChange:t}){const n=e==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:n?"":""})]})}function za({title:e,children:t}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),g.jsx("div",{className:"flex justify-center",children:t})]})}function Od({value:e,onChange:t,options:n}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return g.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function Ao({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[g.jsx("span",{children:e}),g.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-indigo-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-indigo-600"})]})}function sfe(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),i=xn(h=>h.list),a=ec();_.useEffect(()=>{r(xn.getState().loading);const h=xn.subscribe(p=>{r(p.loading)});return()=>h()},[]);const o=()=>{if(!n){if(i.length===0){alert("    !");return}a("/iching")}},d={bottom:"var(--bottom-dock, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] px-2 box-border left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",style:d,children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(lm,{icon:g.jsx(WZ,{size:22}),label:"",onClick:()=>a("/")}),g.jsx(lm,{icon:g.jsx(qZ,{size:22}),label:"",onClick:()=>a("/couple")}),g.jsx(lm,{icon:g.jsx(l4,{size:22}),label:"FAQ",onClick:()=>a("/faq")}),g.jsx(lm,{icon:g.jsx(aX,{size:22}),label:"",onClick:()=>t(!0)}),g.jsx(lm,{icon:g.jsx(sX,{size:22}),label:"",onClick:o})]})}),g.jsx(afe,{open:e,onClose:()=>t(!1)})]})}function lm({icon:e,label:t,onClick:n,disabled:r}){return g.jsxs("button",{onClick:n,disabled:r,className:"flex flex-1 flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,g.jsx("span",{className:"mt-1",children:t})]})}const n9=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),zy=e=>n9(e).join(""),lfe=()=>{const[e,t]=_.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(ZD);return u?JSON.parse(u):{}}catch{return{}}});_.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(ZD,JSON.stringify(e))}catch{}},[e]);const[n,r]=_.useState({}),[i,a]=_.useState(""),[o,l]=_.useState(()=>{const u=Ey(),d=jy(),h=d.length?Dm(u,d):u;return zd(h,e)});return _.useEffect(()=>{l(u=>{const d=zd(u,e);return zy(d)===zy(u)?u:d})},[e]),_.useEffect(()=>{r(u=>{const d={...u};for(const h of o)d[h]===void 0&&(d[h]=!0);return d})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:l}},cfe=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=_.useMemo(()=>{const i=tx(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[mr]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},cm=async()=>{const{data:e,error:t}=await De.auth.getUser();return t||!e.user?null:e.user.id},ufe=async e=>{const{data:t,error:n}=await De.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},dfe=async e=>{const{data:t,error:n}=await De.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},ffe=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await De.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await De.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},hfe=async(e,t)=>{const{error:n}=await De.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},mfe=async(e,t)=>{const{error:n}=await De.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},pfe=async(e,t)=>{const{error:n}=await De.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},gfe=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=_.useState(!1),o=_.useRef(e),l=_.useRef(!1),u=_.useRef(!1);_.useEffect(()=>{o.current=e},[e]),_.useEffect(()=>{(async()=>{if(i)return;const O=await cm();if(!O)return;try{if(!u.current){const I=await ufe(O);I.disabled&&(u.current=!0),I.error?console.error("load custom folders from server error:",I.error):I.data.length&&Kj(I.data)}}catch(I){console.error("load custom folders exception:",I)}const A=await dfe(O);if(A.error){console.error("load folder order from server error:",A.error),a(!0);return}const C=Ey(),D=A.data,P=D.length?Dm(C,D):Dm(C,jy());n(zd(P,o.current)),D.length&&Ud(D),a(!0)})()},[i,n]);const d=_.useCallback(async T=>{const O=await cm();if(!O)return;const A=await ffe(O,T);A.error&&console.error("save folder order to server error:",A.error)},[]),h=_.useRef(null),p=_.useRef(null),b=_.useRef(""),y=_.useCallback((T,O)=>{const A=n9(T),C=zy(A);if(C&&C===b.current)return;h.current=A;const D=async()=>{const P=h.current;if(h.current=null,!P)return;const I=zy(P);I&&I===b.current||(await d(P),b.current=I)};if(O?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),D();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,D()},300)},[d]);_.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const T=h.current;h.current=null,T&&T.length&&d(T)},[d]),_.useEffect(()=>{if(typeof window>"u")return;const T=()=>{if(l.current){l.current=!1;return}const O=Ey(),A=jy(),C=A.length?Dm(O,A):O;n(zd(C,o.current))};return window.addEventListener(Wl,T),()=>window.removeEventListener(Wl,T)},[n]);const k=_.useCallback(T=>{const{source:O,destination:A,type:C}=T;if(!A||C!=="FOLDER")return;const D=O.index,P=A.index;D!==P&&n(I=>{if(!I.length)return I;const U=[...I],[W]=U.splice(D,1);U.splice(P,0,W);const K=zd(U,o.current);return l.current=!0,Ud(K),y(K),K})},[y,n]),w=_.useCallback(T=>{const O=T.trim();!O||O===vn||(B6(O),(async()=>{if(u.current)return;const A=await cm();if(!A)return;const C=await mfe(A,O);C.disabled&&(u.current=!0),C.error&&console.error("save custom folder error:",C.error)})(),n(A=>{if(A.includes(O))return A;const C=[...A,O],D=zd(C,o.current);return Ud(D),y(D,{immediate:!0}),D}))},[y,n]),S=_.useCallback(T=>{r(T),t(O=>{const A={...O};return delete A[T],A}),n(O=>{const A=O.filter(C=>C!==T);return Ud(A),y(A,{immediate:!0}),(async()=>{const C=await cm();if(!C)return;const D=await hfe(C,T);D.error&&console.error("delete folder order entry error:",D.error)})(),A}),L6.includes(T)?Kre(T):(qre(T),(async()=>{if(u.current)return;const O=await cm();if(!O)return;const A=await pfe(O,T);A.disabled&&(u.current=!0),A.error&&console.error("delete custom folder error:",A.error)})())},[y,t,n,r]);return{handleDragEnd:k,createFolder:w,deleteFolder:S,UNASSIGNED_LABEL:vn}};function bfe(e,t){const n=lfe(),r=cfe({list:e,orderedFolders:n.orderedFolders}),i=gfe({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function yfe({onClose:e,onAddNew:t,isLoggedIn:n,onLogin:r}){const i=xn(p=>p.list.length),o=fn(p=>p.canAddMyeongsik)(i),l=!o.ok,u=l?o.message:"",d=()=>{if(l){ha(u||"  ");return}t()},h=async()=>{const{error:p}=await De.auth.signOut();if(p){console.error(p),ha(" ");return}ha(" ")};return g.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("h2",{className:"text-lg font-bold",children:" "})}),g.jsxs("div",{className:"flex items-center gap-2",children:[n?g.jsxs("button",{type:"button",onClick:h,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(QZ,{size:16})," "]}):g.jsxs("button",{type:"button",onClick:r,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(c4,{size:16})," "]}),g.jsxs("button",{type:"button",onClick:d,disabled:l,title:u,className:l?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[g.jsx(rX,{size:16}),"  ",l?"":""]}),g.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:g.jsx(my,{size:22})})]})]})}function vfe({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return g.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[g.jsx("option",{value:"name",children:""}),g.jsx("option",{value:"ganji",children:""}),g.jsx("option",{value:"birth",children:""})]}),g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&g.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:g.jsx(GZ,{size:16})})]}),i&&g.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function xfe({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r,totalCount:i,collapsed:a,onToggleCollapse:o}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:e,onChange:l=>t(l.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:l=>l.stopPropagation()}),g.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:l=>{l.stopPropagation(),n()},children:""})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-1",children:r?"   .":"/      ."}),g.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"  "}),g.jsx("span",{className:"mx-1",children:""}),g.jsxs("span",{className:"font-semibold text-amber-500 dark:text-amber-600",children:[i,""]})]}),g.jsx("button",{type:"button",onClick:o,className:"px-2 py-1 rounded border border-neutral-200 dark:border-neutral-700 text-xs text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:a?"  ":"  "})]}),g.jsx("div",{className:"text-xs mb-2 text-neutral-900 dark:text-neutral-100",children:"         !"})]})}function bR({droppableId:e,items:t,isDropDisabled:n,className:r}){return g.jsx(Af,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>g.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function wfe({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:l,onDelete:u,inner:d}){return g.jsx(jf,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:h=>g.jsxs("div",{ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?g.jsx(UZ,{size:16}):g.jsx(BZ,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:e})]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:g.jsx(u4,{size:16,fill:r?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?d:null]})},`folder-${e}`)}const _fe=()=>({canManage:fn(()=>!0)}),ep="";function Sfe(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===ep?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function kfe(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(l=>o.some(u=>l.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function yR(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function Efe(e,t){const n=Tf(e),r=Ap(t);if(!n||!r)return null;const i=new Date(n.y,n.m-1,n.d,r.hh,r.mm,0,0),a=new Date(i.getTime()-3600*1e3),o=String(a.getFullYear()).padStart(4,"0"),l=String(a.getMonth()+1).padStart(2,"0"),u=String(a.getDate()).padStart(2,"0"),d=String(a.getHours()).padStart(2,"0"),h=String(a.getMinutes()).padStart(2,"0");return{birthDay:`${o}${l}${u}`,birthTime:`${d}${h}`}}function jfe(e){const t=yR(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Zm(r,i,a)||!e.birthTime||e.birthTime===ep)return t;const o=Efe(n,e.birthTime);if(!o)return t;const l=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(l.getTime()))return t;const u=new Date(l.getTime()-3600*1e3),d=zj({...e,birthDay:o.birthDay,birthTime:o.birthTime,corrected:u});return yR({...e,...d})}function Afe(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function Tfe(e,t){return Number.isNaN(e)?0:t-e+1}function Nfe(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function Ofe(e){return e===""?"":e===""?"":e??""}function Cfe(e){const t=e.trim(),n=/^(\d{1,2}):(\d{2})$/.exec(t);if(!n)return null;const r=Number(n[1]),i=Number(n[2]);if(!Number.isFinite(r)||!Number.isFinite(i)||r<0||r>23||i<0||i>59)return null;const a=r-1<0?23:r-1;return`${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`}function Mfe(e,t){if(t)return ep;const n=String(e.birthDay??"").trim(),r=String(e.correctedLocal??"").trim(),i=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??"")),a=!Number.isNaN(i.getTime()),o=r||(a?E2(i):"");if(!/^\d{8}$/.test(n))return o;const l=Number(n.slice(0,4)),u=Number(n.slice(4,6)),d=Number(n.slice(6,8));if(!Zm(l,u,d)||!e.birthTime||e.birthTime===ep)return o;if(a){const p=new Date(i.getTime()-36e5);return E2(p)}return Cfe(r)??o}function Dfe({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=jfe(e),o=kfe(e.birthPlace?.name),l=e.relationship?.trim()?e.relationship:" ",u=Ofe(e.gender),d=!e.birthTime||e.birthTime===ep,h=Mfe(e,d),p=!!(o||h),b=Sfe(e.birthDay,e.birthTime),y=e.calendarType==="lunar"?"":"",k=Afe(e.birthDay),w=Tfe(k,new Date().getFullYear()),S=!!(e.memo&&e.memo.trim()!==""),T=t?" ":" ",O=e.mingSikType??"/",A=r?" ":"::",C=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:A,ganji:a,placeDisplay:o,relationshipLabel:l,genderLabel:u,birthDisplay:b,calendarLabel:y,correctedLabel:h,showMetaLine:p,showMemo:S,memoToggleLabel:T,age:w,mingSikTypeValue:O,favoriteLabel:C,editLabel:"",deleteLabel:"",getDragStyle:Nfe}}const Pfe=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:l,onToggleFavorite:u})=>{const d=_.useCallback(S=>{S?.stopPropagation(),n(e.id)},[n,e.id]),h=_.useCallback(S=>{S?.stopPropagation(),a(e)},[a,e]),p=_.useCallback(S=>{S?.stopPropagation(),o(e)},[o,e]),b=_.useCallback(S=>{S?.stopPropagation(),l(e)},[l,e]),y=_.useCallback(S=>{S?.stopPropagation(),u(e.id)},[u,e.id]),k=_.useCallback(S=>{const T=S===t?void 0:S;r(e.id,T)},[r,e.id,t]),w=_.useCallback(S=>{i(e,S)},[i,e]);return{handleToggleMemo:d,handleView:h,handleEdit:p,handleDelete:b,handleToggleFavorite:y,handleFolderChange:k,handleMingSikTypeChange:w}};function vR({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,collapsed:a,memoOpen:o,onToggleMemo:l,onToggleCollapsed:u,onChangeFolder:d,onChangeMingSikType:h,onView:p,onEdit:b,onDelete:y,onToggleFavorite:k}){_fe();const w=Dfe({m:e,memoOpen:o,isDragDisabled:i}),S=a,T=Pfe({m:e,unassignedLabel:r,onToggleMemo:l,onChangeFolder:d,onChangeMingSikType:h,onView:p,onEdit:b,onDelete:y,onToggleFavorite:k});return g.jsx(jf,{draggableId:w.keyId,index:t,isDragDisabled:i,children:O=>g.jsx("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,style:O.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,onClick:()=>{S&&T.handleView()},children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",w.age,"",w.genderLabel,")"]}),g.jsx("span",{className:"opacity-40",children:""}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 text-nowrap",children:w.relationshipLabel}),g.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[g.jsx("span",{className:"opacity-50 select-none",children:w.dragHandleLabel}),g.jsx("button",{type:"button",onClick:A=>{A.stopPropagation(),u()},className:"text-xs px-2 py-1 rounded border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:S?" ":" "})]})]}),!S&&g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[w.birthDisplay,", ",w.calendarLabel]}),!S&&w.showMetaLine&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[w.placeDisplay,w.correctedLabel&&g.jsxs("span",{className:"opacity-70",children:["  ",w.correctedLabel]})]}),w.ganji&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:w.ganji}),!S&&w.showMemo&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:T.handleToggleMemo,children:w.memoToggleLabel}),g.jsx("div",{className:o?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),!S&&g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:A=>A.stopPropagation(),onChange:A=>{A.stopPropagation(),T.handleFolderChange(A.target.value)},children:[r,...n].map(A=>g.jsx("option",{value:A,children:A},A))}),g.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:w.mingSikTypeValue,onClick:A=>A.stopPropagation(),onChange:A=>{A.stopPropagation(),T.handleMingSikTypeChange(A.target.value)},children:[g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"/",children:"/"}),g.jsx("option",{value:"",children:""})]})]}),!S&&g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{type:"button",onClick:T.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),g.jsx("button",{type:"button",title:"",onClick:T.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:w.editLabel}),g.jsx("button",{type:"button",title:"",onClick:T.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:w.deleteLabel}),g.jsx("button",{type:"button",title:w.favoriteLabel,onClick:T.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":w.favoriteLabel,children:g.jsx(u4,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},w.keyId)}const Rfe="list:__unassigned__",Lfe=e=>`list:${e}`,xR=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},Ife=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=C6(e),{filteredUnassigned:o,filteredGrouped:l,totalMatches:u}=_.useMemo(()=>Tre({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:l,totalMatches:u}},$fe=({list:e,orderedFolders:t})=>{const[n,r]=_.useState(""),[i,a]=_.useState("name"),[o,l]=_.useState({}),u=_.useRef(null),d=_.useRef(null);return _.useEffect(()=>{if(d.current==null)return;const b=u.current;b&&(b.scrollTop=d.current,d.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:b=>{l(y=>({...y,[b]:!y[b]}))},scrollRef:u,stashScrollTop:()=>{const b=u.current;b&&(d.current=b.scrollTop)}}},wR=()=>{typeof window>"u"||window.dispatchEvent(new Event(Wl))},Bfe=({list:e,orderedFolders:t,isFiltering:n,handleFolderDragEnd:r,moveItemByDnD:i,applyNextList:a,update:o,remove:l,onView:u,onClose:d,onDeleteView:h,folderFavMap:p,setFolderFavMap:b,setFolderOpenMap:y,createFolder:k,deleteFolder:w,newFolderName:S,setNewFolderName:T,stashScrollTop:O})=>{const A=_.useCallback((B,q)=>{const{nextList:X}=wre({list:e,orderedFolders:t,targetId:B,nextFolder:q??""});a(X)},[e,t,a]),C=_.useCallback((B,q)=>{const X={...B,mingSikType:q},Z=zj(X);o(B.id,{mingSikType:q,...Z}),u({...X,...Z}),d()},[o,u,d]),D=_.useCallback(B=>{u(B),d()},[u,d]),P=_.useCallback(B=>{confirm(`'${B.name}'  ?`)&&(l(B.id),h&&h())},[l,h]),I=_.useCallback(()=>{const B=S.trim();B&&(k(B),T(""),wR())},[S,k,T]),U=_.useCallback(B=>{if(p[B]){alert(`'${B}'   .
   .`);return}confirm(`'${B}'  ?
(   )`)&&(w(B),wR())},[p,w]),W=_.useCallback(B=>{y(q=>({...q,[B]:!q[B]}))},[y]),K=_.useCallback(B=>{b(q=>({...q,[B]:!q[B]}))},[b]);return{handleDrop:_.useCallback(B=>{const{type:q,source:X,destination:Z,draggableId:G}=B;if(Z&&!n){if(O(),q==="FOLDER"){r(B);return}if(q==="ITEM"){if(!G.replace(/^item:/,""))return;const Q=xR(X.droppableId),oe=xR(Z.droppableId);i({orderedFolders:t,sourceFolder:Q,sourceIndex:X.index,destinationFolder:oe,destinationIndex:Z.index})}}},[n,O,r,i,t]),changeFolder:A,changeMingSikType:C,viewAndClose:D,requestDelete:P,createFolderAndNotify:I,requestDeleteFolder:U,toggleFolderOpen:W,toggleFolderFavorite:K}};function zfe({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a,isLoggedIn:o}){const[l,u]=_.useState(!1),d=wn(ke=>ke.settings),h=wn(ke=>ke.setKey),p=wn(ke=>ke.saveToServer),{list:b,remove:y,update:k,moveItemByDnD:w,toggleFavoriteWithReorder:S,unsetFolderForFolder:T,applyNextList:O}=xn(),{folderFavMap:A,setFolderFavMap:C,folderOpenMap:D,setFolderOpenMap:P,newFolderName:I,setNewFolderName:U,orderedFolders:W,grouped:K,unassignedItems:H,handleDragEnd:B,createFolder:q,deleteFolder:X,UNASSIGNED_LABEL:Z}=bfe(b,{unsetFolderForFolder:T}),G=$fe({list:b,orderedFolders:W}),J=d.sidebarCardsCollapsed,Q=d.sidebarCardCollapsedMap,oe=ke=>Q[ke]??J,te=ke=>{h("sidebarCardCollapsedMap",ke),p()},z=ke=>{h("sidebarCardsCollapsed",ke);const fe=b.reduce((Ue,Fe)=>(Ue[Fe.id]=ke,Ue),{});te(fe)},V=ke=>{te({...Q,[ke]:!(Q[ke]??!0)})},{isFiltering:re,filteredUnassigned:ie,filteredGrouped:ue,totalMatches:de}=Ife({search:G.search,searchMode:G.searchMode,orderedFolders:W,unassignedItems:H,grouped:K}),pe=Bfe({list:b,applyNextList:O,orderedFolders:W,isFiltering:re,handleFolderDragEnd:B,moveItemByDnD:w,update:k,remove:y,onView:n,onClose:t,onDeleteView:a,folderFavMap:A,setFolderFavMap:C,setFolderOpenMap:P,createFolder:q,deleteFolder:X,newFolderName:I,setNewFolderName:U,stashScrollTop:G.stashScrollTop}),Ne=()=>{u(!0)},se=ke=>{Ou.flushSync(()=>{u(!1),pe.handleDrop(ke)})},je=()=>{Ss.getState().openWith("HEADER")};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-100 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-101 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[g.jsx(yfe,{onClose:t,onAddNew:()=>{r(),t()},onLogin:()=>{je()},isLoggedIn:o}),g.jsx(Ep,{onBeforeDragStart:Ne,onDragEnd:se,children:g.jsxs("div",{ref:G.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:l?"none":"pan-y"},children:[g.jsxs(g.Fragment,{children:[g.jsx(vfe,{search:G.search,setSearch:G.setSearch,searchMode:G.searchMode,setSearchMode:G.setSearchMode,isFiltering:re,totalMatches:de}),g.jsx(xfe,{newFolderName:I,setNewFolderName:U,isFiltering:re,onCreate:pe.createFolderAndNotify,totalCount:b.length,collapsed:J,onToggleCollapse:()=>z(!J)})]}),g.jsx(bR,{droppableId:Rfe,isDropDisabled:re,className:"mb-6",items:ie.map((ke,fe)=>g.jsx(vR,{m:ke,index:fe,orderedFolders:W,unassignedLabel:Z,isDragDisabled:re,collapsed:oe(ke.id),memoOpen:!!G.memoOpenMap[ke.id],onToggleMemo:G.toggleMemo,onToggleCollapsed:()=>V(ke.id),onChangeFolder:pe.changeFolder,onChangeMingSikType:pe.changeMingSikType,onView:pe.viewAndClose,onEdit:Ue=>i(Ue),onDelete:pe.requestDelete,onToggleFavorite:Ue=>void S(Ue,W)},ke.id))}),g.jsx(Af,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:re,children:ke=>g.jsxs("div",{ref:ke.innerRef,...ke.droppableProps,children:[W.map((fe,Ue)=>{const Fe=Lfe(fe),tt=ue[fe]||[],Oe=!!D[fe],$e=!!A[fe];return g.jsx(wfe,{folderName:fe,folderIndex:Ue,isOpen:Oe,isFavorite:$e,itemCount:tt.length,isDragDisabled:re,onToggleOpen:()=>pe.toggleFolderOpen(fe),onToggleFavorite:()=>pe.toggleFolderFavorite(fe),onDelete:()=>pe.requestDeleteFolder(fe),inner:g.jsx(bR,{droppableId:Fe,isDropDisabled:re,className:"mt-2",items:tt.map((He,Be)=>g.jsx(vR,{m:He,index:Be,orderedFolders:W,unassignedLabel:Z,isDragDisabled:re,collapsed:oe(He.id),memoOpen:!!G.memoOpenMap[He.id],onToggleMemo:G.toggleMemo,onToggleCollapsed:()=>V(He.id),onChangeFolder:pe.changeFolder,onChangeMingSikType:pe.changeMingSikType,onView:pe.viewAndClose,onEdit:jt=>i(jt),onDelete:pe.requestDelete,onToggleFavorite:jt=>void S(jt,W)},He.id))})},`folder-${fe}`)}),ke.placeholder]})})]})})]})]})}function _R(e){return{...e,calendarType:e.calendarType??"solar"}}function SR(e){return!e.birthTime||e.birthTime===""}function kR(e){return!e.birthPlace||e.birthPlace.name===""}function Ufe(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Vi(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${l}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const r9="ms_folders";function Ffe(){try{const e=JSON.parse(localStorage.getItem(r9)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function Hfe(e){localStorage.setItem(r9,JSON.stringify(e))}function Gfe(e){const[t,n]=_.useState(!1),[r,i]=_.useState(()=>_R(e)),[a,o]=_.useState(SR(e)),[l,u]=_.useState(kR(e)),[d,h]=_.useState([]);return _.useEffect(()=>{h(Ffe())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(y,k)=>{i(w=>({...w,[y]:k}))},unknownTime:a,setUnknownTime:o,unknownPlace:l,setUnknownPlace:u,customFolders:d,setCustomFolders:h,resetForm:()=>{i(_R(e)),o(SR(e)),u(kR(e))}}}const i9=["","","","","",""];function Yfe(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...i9,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[vn,...i]}function qfe({list:e,customFolders:t,form:n}){const r=_.useMemo(()=>Yfe(e,t),[e,t]),i=_.useMemo(()=>Ufe(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function Kfe(e,t,n){if(!e.name||e.name.trim()==="")return"";const r=Uj(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=Fj(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"":null:i.message}function Wfe({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:l,onClose:u,onSaved:d}){return{save:()=>{const b=Kfe(t,n,r);if(b){alert(b);return}const y=gu(t.folder===vn?void 0:t.folder),k=j6({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:y,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!k.ok){alert(k.message);return}const w={...e,...k.value};if(w.folder&&!i9.includes(w.folder)&&!i.includes(w.folder)){const S=[...i,w.folder];a(S),Hfe(S)}o(e.id,w),d?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&l(e.id)}}}const U1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Vfe="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",Zfe="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",vs="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",Xfe="text-xs text-neutral-500 dark:text-neutral-400",db="accent-violet-600 dark:accent-violet-400",ER="accent-violet-600 dark:accent-violet-400",ux="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Jfe=`${ux} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,Qfe=`${ux} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,jR=`${ux} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,ehe=`${ux} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function the({item:e,onClose:t}){const{list:n,update:r,remove:i}=xn(),a=Gfe(e),o=qfe({list:n,customFolders:a.customFolders,form:a.form}),l=Wfe({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx("input",{className:U1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:vs,children:" (YYYYMMDD)"}),g.jsx("input",{className:U1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:db,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:db,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&g.jsx("span",{className:Xfe,children:o.lunarPreview})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:"  (HHMM)"}),g.jsx("input",{className:`${U1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:ER,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:vs,children:" "}),g.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const d=`editor_ming_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:db,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const d=`editor_gender_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:db,name:"gender",value:u,checked:a.form.gender===u,onChange:h=>a.updateForm("gender",h.target.value),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:" "}),g.jsx(d4,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:ER,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx(R6,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx("select",{className:Vfe,value:a.form.folder??vn,onChange:u=>{const d=u.target.value;d===vn?a.updateForm("folder",void 0):a.updateForm("folder",d)},children:o.folderOptions.map(u=>g.jsx("option",{value:u===vn?vn:u,children:u},u))})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx("textarea",{className:Zfe,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:jR,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),g.jsx("button",{className:ehe,onClick:l.save,children:""})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:Jfe,onClick:()=>a.setIsEditing(!0),children:""}),g.jsx("button",{className:Qfe,onClick:l.removeThis,children:""}),t&&g.jsx("button",{className:jR,onClick:t,children:""})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:[": ",e.gender]}),g.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),g.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),g.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),g.jsxs("div",{children:[": ",e.relationship||"-"]}),g.jsxs("div",{children:[": ",e.folder??vn]})]}),e.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function nhe({children:e}){const t=Fr(),[n,r]=_.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return g.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[g.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[g.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[g.jsx("span",{className:"desk:block hidden",children:""}),g.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),g.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return g.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),g.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[g.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[g.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),g.jsx("div",{className:"font-semibold",children:" "}),g.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),g.jsx("div",{className:"flex-1",children:e})]})]})}function rhe(){const[e,t]=_.useState(null),[n,r]=_.useState(!0);return _.useEffect(()=>{(async()=>{const{data:a}=await De.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:l}=await De.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(l?.role??null),r(!1)})()},[]),{role:e,loading:n}}function ihe({allow:e,children:t}){const{role:n,loading:r}=rhe();return r?g.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?g.jsx("div",{className:"text-red-400 p-6",children:" ."}):g.jsx(g.Fragment,{children:t})}function a9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=a9(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function on(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=a9(e))&&(r&&(r+=" "),r+=t);return r}var ahe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function bA(e){if(typeof e!="string")return!1;var t=ahe;return t.includes(e)}var ohe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],she=new Set(ohe);function o9(e){return typeof e!="string"?!1:she.has(e)}function s9(e){return typeof e=="string"&&e.startsWith("data-")}function io(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o9(n)||s9(n))&&(t[n]=e[n]);return t}function dx(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return io(t)}return typeof e=="object"&&!Array.isArray(e)?io(e):null}function Sa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o9(n)||s9(n)||bA(n))&&(t[n]=e[n]);return t}function lhe(e){return e==null?null:_.isValidElement(e)?Sa(e.props):typeof e=="object"&&!Array.isArray(e)?Sa(e):null}var che=["children","width","height","viewBox","className","style","title","desc"];function U2(){return U2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U2.apply(null,arguments)}function uhe(e,t){if(e==null)return{};var n,r,i=dhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var l9=_.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:d}=e,h=uhe(e,che),p=a||{width:r,height:i,x:0,y:0},b=on("recharts-surface",o);return _.createElement("svg",U2({},Sa(h),{className:b,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),_.createElement("title",null,u),_.createElement("desc",null,d),n)}),fhe=["children","className"];function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F2.apply(null,arguments)}function hhe(e,t){if(e==null)return{};var n,r,i=mhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zo=_.forwardRef((e,t)=>{var{children:n,className:r}=e,i=hhe(e,fhe),a=on("recharts-layer",r);return _.createElement("g",F2({className:a},Sa(i),{ref:t}),n)}),phe=_.createContext(null);function Nn(e){return function(){return e}}const H2=Math.PI,G2=2*H2,nu=1e-6,ghe=G2-nu;function c9(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function bhe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return c9;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class yhe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?c9:bhe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-t,d=i-n,h=o-t,p=l-n,b=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>nu)if(!(Math.abs(p*u-d*h)>nu)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,k=i-l,w=u*u+d*d,S=y*y+k*k,T=Math.sqrt(w),O=Math.sqrt(b),A=a*Math.tan((H2-Math.acos((w+b-S)/(2*T*O)))/2),C=A/O,D=A/T;Math.abs(C-1)>nu&&this._append`L${t+C*h},${n+C*p}`,this._append`A${a},${a},0,0,${+(p*y>h*k)},${this._x1=t+D*u},${this._y1=n+D*d}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=t+l,h=n+u,p=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>nu||Math.abs(this._y1-h)>nu)&&this._append`L${d},${h}`,r&&(b<0&&(b=b%G2+G2),b>ghe?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:b>nu&&this._append`A${r},${r},0,${+(b>=H2)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function u9(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new yhe(t)}function yA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function d9(e){this._context=e}d9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fx(e){return new d9(e)}function f9(e){return e[0]}function h9(e){return e[1]}function m9(e,t){var n=Nn(!0),r=null,i=fx,a=null,o=u9(l);e=typeof e=="function"?e:e===void 0?f9:Nn(e),t=typeof t=="function"?t:t===void 0?h9:Nn(t);function l(u){var d,h=(u=yA(u)).length,p,b=!1,y;for(r==null&&(a=i(y=o())),d=0;d<=h;++d)!(d<h&&n(p=u[d],d,u))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+e(p,d,u),+t(p,d,u));if(y)return a=null,y+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Nn(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Nn(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Nn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function fb(e,t,n){var r=null,i=Nn(!0),a=null,o=fx,l=null,u=u9(d);e=typeof e=="function"?e:e===void 0?f9:Nn(+e),t=typeof t=="function"?t:Nn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?h9:Nn(+n);function d(p){var b,y,k,w=(p=yA(p)).length,S,T=!1,O,A=new Array(w),C=new Array(w);for(a==null&&(l=o(O=u())),b=0;b<=w;++b){if(!(b<w&&i(S=p[b],b,p))===T)if(T=!T)y=b,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),k=b-1;k>=y;--k)l.point(A[k],C[k]);l.lineEnd(),l.areaEnd()}T&&(A[b]=+e(S,b,p),C[b]=+t(S,b,p),l.point(r?+r(S,b,p):A[b],n?+n(S,b,p):C[b]))}if(O)return l=null,O+""||null}function h(){return m9().defined(i).curve(o).context(a)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:Nn(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Nn(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Nn(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:Nn(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Nn(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Nn(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Nn(!!p),d):i},d.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),d):o},d.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),d):a},d}class p9{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function vhe(e){return new p9(e,!0)}function xhe(e){return new p9(e,!1)}function Uy(){}function Fy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function g9(e){this._context=e}g9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function whe(e){return new g9(e)}function b9(e){this._context=e}b9.prototype={areaStart:Uy,areaEnd:Uy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _he(e){return new b9(e)}function y9(e){this._context=e}y9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Fy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function She(e){return new y9(e)}function v9(e){this._context=e}v9.prototype={areaStart:Uy,areaEnd:Uy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function khe(e){return new v9(e)}function AR(e){return e<0?-1:1}function TR(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(AR(a)+AR(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function NR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function F1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function Hy(e){this._context=e}Hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F1(this,this._t0,NR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,F1(this,NR(this,n=TR(this,e,t)),n);break;default:F1(this,this._t0,n=TR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function x9(e){this._context=new w9(e)}(x9.prototype=Object.create(Hy.prototype)).point=function(e,t){Hy.prototype.point.call(this,t,e)};function w9(e){this._context=e}w9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Ehe(e){return new Hy(e)}function jhe(e){return new x9(e)}function _9(e){this._context=e}_9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=OR(e),i=OR(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function OR(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Ahe(e){return new _9(e)}function hx(e,t){this._context=e,this._t=t}hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function The(e){return new hx(e,.5)}function Nhe(e){return new hx(e,0)}function Ohe(e){return new hx(e,1)}function uf(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Y2(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Che(e,t){return e[t]}function Mhe(e){const t=[];return t.key=e,t}function Dhe(){var e=Nn([]),t=Y2,n=uf,r=Che;function i(a){var o=Array.from(e.apply(this,arguments),Mhe),l,u=o.length,d=-1,h;for(const p of a)for(l=0,++d;l<u;++l)(o[l][d]=[0,+r(p,o[l].key,d,a)]).data=p;for(l=0,h=yA(t(o));l<u;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Nn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Nn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Y2:typeof a=="function"?a:Nn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??uf,i):n},i}function Phe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}uf(e,t)}}function Rhe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}uf(e,t)}}function Lhe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,d=0;l<o;++l){for(var h=e[t[l]],p=h[r][1]||0,b=h[r-1][1]||0,y=(p-b)/2,k=0;k<l;++k){var w=e[t[k]],S=w[r][1]||0,T=w[r-1][1]||0;y+=S-T}u+=p,d+=y*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,uf(e,t)}}var H1={},G1={},CR;function Ihe(){return CR||(CR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(G1)),G1}var Y1={},MR;function S9(){return MR||(MR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Y1)),Y1}var q1={},DR;function vA(){return DR||(DR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(q1)),q1}var K1={},W1={},PR;function $he(){return PR||(PR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(W1)),W1}var RR;function xA(){return RR||(RR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$he(),n=vA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];d?p==="\\"&&l+1<o?(l++,u+=i[l]):p===d?d="":u+=p:h?p==='"'||p==="'"?d=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}e.toPath=r})(K1)),K1}var LR;function wA(){return LR||(LR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ihe(),n=S9(),r=vA(),i=xA();function a(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),d):d:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?d:h}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?d:h}}}function o(l,u,d){if(u.length===0)return d;let h=l;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return d;h=h[u[p]]}return h===void 0?d:h}e.get=a})(H1)),H1}var V1,IR;function Bhe(){return IR||(IR=1,V1=wA().get),V1}var zhe=Bhe();const mx=_i(zhe);var ya=e=>e===0?0:e>0?1:-1,ao=e=>typeof e=="number"&&e!=+e,Ds=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,et=e=>(typeof e=="number"||e instanceof Number)&&!ao(e),Uo=e=>et(e)||typeof e=="string",Uhe=0,tp=e=>{var t=++Uhe;return"".concat(e||"").concat(t)},Xl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(t)&&typeof t!="string")return r;var a;if(Ds(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return ao(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},k9=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Do(e,t,n){return et(e)&&et(t)?e+n*(t-e):t}function E9(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):mx(r,t))===n)}var Or=e=>e===null||typeof e>"u",_A=e=>Or(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Fhe(e){return e!=null}function Pp(){}var j9=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,SA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{bA(i)&&(r[i]=(a=>n[i](n,a)))}),r},Hhe=(e,t,n)=>r=>(e(t,n,r),null),Ghe=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];bA(i)&&typeof a=="function"&&(r||(r={}),r[i]=Hhe(a,t,n))}),r};function $R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(n),!0).forEach(function(r){qhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qhe(e,t,n){return(t=Khe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Khe(e){var t=Whe(e,"string");return typeof t=="symbol"?t:t+""}function Whe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zi(e,t){var n=Yhe({},e),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var Z1={},X1={},BR;function Vhe(){return BR||(BR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(X1)),X1}var J1={},zR;function A9(){return zR||(zR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(J1)),J1}var Q1={},eS={},tS={},UR;function Zhe(){return UR||(UR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(tS)),tS}var FR;function kA(){return FR||(FR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zhe();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(eS)),eS}var nS={},HR;function Xhe(){return HR||(HR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(nS)),nS}var GR;function Jhe(){return GR||(GR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kA(),n=Xhe();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Q1)),Q1}var rS={},iS={},YR;function Qhe(){return YR||(YR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(iS)),iS}var aS={},oS={},sS={},lS={},qR;function T9(){return qR||(qR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(lS)),lS}var cS={},KR;function N9(){return KR||(KR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(cS)),cS}var uS={},WR;function O9(){return WR||(WR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(uS)),uS}var VR;function eme(){return VR||(VR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T9(),n=N9(),r=O9();function i(h,p,b){return typeof b!="function"?i(h,p,()=>{}):a(h,p,function y(k,w,S,T,O,A){const C=b(k,w,S,T,O,A);return C!==void 0?!!C:a(k,w,y,A)},new Map)}function a(h,p,b,y){if(p===h)return!0;switch(typeof p){case"object":return o(h,p,b,y);case"function":return Object.keys(p).length>0?a(h,{...p},b,y):r.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function o(h,p,b,y){if(p==null)return!0;if(Array.isArray(p))return u(h,p,b,y);if(p instanceof Map)return l(h,p,b,y);if(p instanceof Set)return d(h,p,b,y);const k=Object.keys(p);if(h==null)return k.length===0;if(k.length===0)return!0;if(y?.has(p))return y.get(p)===h;y?.set(p,h);try{for(let w=0;w<k.length;w++){const S=k[w];if(!n.isPrimitive(h)&&!(S in h)||p[S]===void 0&&h[S]!==void 0||p[S]===null&&h[S]!==null||!b(h[S],p[S],S,h,p,y))return!1}return!0}finally{y?.delete(p)}}function l(h,p,b,y){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[k,w]of p.entries()){const S=h.get(k);if(b(S,w,k,h,p,y)===!1)return!1}return!0}function u(h,p,b,y){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const k=new Set;for(let w=0;w<p.length;w++){const S=p[w];let T=!1;for(let O=0;O<h.length;O++){if(k.has(O))continue;const A=h[O];let C=!1;if(b(A,S,w,h,p,y)&&(C=!0),C){k.add(O),T=!0;break}}if(!T)return!1}return!0}function d(h,p,b,y){return p.size===0?!0:h instanceof Set?u([...h],[...p],b,y):!1}e.isMatchWith=i,e.isSetMatch=d})(sS)),sS}var ZR;function C9(){return ZR||(ZR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eme();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(oS)),oS}var dS={},fS={},hS={},XR;function tme(){return XR||(XR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(hS)),hS}var mS={},JR;function M9(){return JR||(JR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(mS)),mS}var pS={},QR;function D9(){return QR||(QR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",h="[object Array]",p="[object Function]",b="[object ArrayBuffer]",y="[object Object]",k="[object Error]",w="[object DataView]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",A="[object Uint32Array]",C="[object BigUint64Array]",D="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",U="[object BigInt64Array]",W="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=k,e.float32ArrayTag=W,e.float64ArrayTag=K,e.functionTag=p,e.int16ArrayTag=P,e.int32ArrayTag=I,e.int8ArrayTag=D,e.mapTag=u,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=O,e.uint32ArrayTag=A,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=T})(pS)),pS}var gS={},e3;function nme(){return e3||(e3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(gS)),gS}var t3;function P9(){return t3||(t3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tme(),n=M9(),r=D9(),i=N9(),a=nme();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,b,y=new Map,k=void 0){const w=k?.(h,p,b,y);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const S=new Array(h.length);y.set(h,S);for(let T=0;T<h.length;T++)S[T]=l(h[T],T,b,y,k);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;y.set(h,S);for(const[T,O]of h)S.set(T,l(O,T,b,y,k));return S}if(h instanceof Set){const S=new Set;y.set(h,S);for(const T of h)S.add(l(T,void 0,b,y,k));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,S);for(let T=0;T<h.length;T++)S[T]=l(h[T],T,b,y,k);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,S),u(S,h,b,y,k),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return y.set(h,S),u(S,h,b,y,k),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof Error){const S=new h.constructor;return y.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,u(S,h,b,y,k),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof Number){const S=new Number(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof String){const S=new String(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(typeof h=="object"&&d(h)){const S=Object.create(Object.getPrototypeOf(h));return y.set(h,S),u(S,h,b,y,k),S}return h}function u(h,p,b=h,y,k){const w=[...Object.keys(p),...t.getSymbols(p)];for(let S=0;S<w.length;S++){const T=w[S],O=Object.getOwnPropertyDescriptor(h,T);(O==null||O.writable)&&(h[T]=l(p[T],T,b,y,k))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(fS)),fS}var n3;function rme(){return n3||(n3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P9();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(dS)),dS}var r3;function ime(){return r3||(r3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C9(),n=rme();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(aS)),aS}var bS={},yS={},vS={},i3;function ame(){return i3||(i3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P9(),n=D9();function r(i,a){return t.cloneDeepWith(i,(o,l,u,d)=>{const h=a?.(o,l,u,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(vS)),vS}var a3;function ome(){return a3||(a3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ame();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(yS)),yS}var xS={},wS={},o3;function R9(){return o3||(o3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(wS)),wS}var _S={},s3;function sme(){return s3||(s3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M9();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(_S)),_S}var l3;function lme(){return l3||(l3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S9(),n=R9(),r=sme(),i=xA();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let h=0;h<u.length;h++){const p=u[h];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=a})(xS)),xS}var c3;function cme(){return c3||(c3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C9(),n=vA(),r=ome(),i=wA(),a=lme();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const h=i.get(d,l);return h===void 0?a.has(d,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})(bS)),bS}var u3;function ume(){return u3||(u3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A9(),n=Qhe(),r=ime(),i=cme();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(rS)),rS}var d3;function dme(){return d3||(d3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vhe(),n=A9(),r=Jhe(),i=ume();function a(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(Z1)),Z1}var SS,f3;function fme(){return f3||(f3=1,SS=dme().uniqBy),SS}var hme=fme();const h3=_i(hme);function mme(e,t,n){return t===!0?h3(e,n):typeof t=="function"?h3(e,t):e}var kS={exports:{}},ES={},jS={exports:{}},AS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m3;function pme(){if(m3)return AS;m3=1;var e=bf();function t(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(p,b){var y=b(),k=r({inst:{value:y,getSnapshot:b}}),w=k[0].inst,S=k[1];return a(function(){w.value=y,w.getSnapshot=b,u(w)&&S({inst:w})},[p,y,b]),i(function(){return u(w)&&S({inst:w}),p(function(){u(w)&&S({inst:w})})},[p]),o(y),y}function u(p){var b=p.getSnapshot;p=p.value;try{var y=b();return!n(p,y)}catch{return!0}}function d(p,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return AS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,AS}var p3;function gme(){return p3||(p3=1,jS.exports=pme()),jS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g3;function bme(){if(g3)return ES;g3=1;var e=bf(),t=gme();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return ES.useSyncExternalStoreWithSelector=function(d,h,p,b,y){var k=a(null);if(k.current===null){var w={hasValue:!1,value:null};k.current=w}else w=k.current;k=l(function(){function T(P){if(!O){if(O=!0,A=P,P=b(P),y!==void 0&&w.hasValue){var I=w.value;if(y(I,P))return C=I}return C=P}if(I=C,r(A,P))return I;var U=b(P);return y!==void 0&&y(I,U)?(A=P,I):(A=P,C=U)}var O=!1,A,C,D=p===void 0?null:p;return[function(){return T(h())},D===null?void 0:function(){return T(D())}]},[h,p,b,y]);var S=i(d,k[0],k[1]);return o(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},ES}var b3;function yme(){return b3||(b3=1,kS.exports=bme()),kS.exports}var vme=yme(),EA=_.createContext(null),xme=e=>e,br=()=>{var e=_.useContext(EA);return e?e.store.dispatch:xme},Wb=()=>{},wme=()=>Wb,_me=(e,t)=>e===t;function rt(e){var t=_.useContext(EA);return vme.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:wme,t?t.store.getState:Wb,t?t.store.getState:Wb,t?e:Wb,_me)}function Sme(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function kme(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Eme(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var y3=e=>Array.isArray(e)?e:[e];function jme(e){const t=Array.isArray(e[0])?e[0]:e;return Eme(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Ame(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Tme=class{constructor(e){this.value=e}deref(){return this.value}},Nme=typeof WeakRef<"u"?WeakRef:Tme,Ome=0,v3=1;function hb(){return{s:Ome,v:void 0,o:null,p:null}}function L9(e,t={}){let n=hb();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let l=n;const{length:u}=arguments;for(let p=0,b=u;p<b;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let k=l.o;k===null&&(l.o=k=new WeakMap);const w=k.get(y);w===void 0?(l=hb(),k.set(y,l)):l=w}else{let k=l.p;k===null&&(l.p=k=new Map);const w=k.get(y);w===void 0?(l=hb(),k.set(y,l)):l=w}}const d=l;let h;if(l.s===v3)h=l.v;else if(h=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Nme(h):h}return d.s=v3,d.v=h,h}return o.clearCache=()=>{n=hb(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Cme(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),Sme(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...u},{memoize:p,memoizeOptions:b=[],argsMemoize:y=L9,argsMemoizeOptions:k=[]}=h,w=y3(b),S=y3(k),T=jme(i),O=p(function(){return a++,d.apply(null,arguments)},...w),A=y(function(){o++;const D=Ame(T,arguments);return l=O.apply(null,D),l},...S);return Object.assign(A,{resultFunc:d,memoizedResultFunc:O,dependencies:T,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var xe=Cme(L9),Mme=Object.assign((e,t=xe)=>{kme(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>Mme}),TS={},NS={},OS={},x3;function Dme(){return x3||(x3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(OS)),OS}var CS={},MS={},w3;function I9(){return w3||(w3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(MS)),MS}var _3;function Pme(){return _3||(_3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I9(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(CS)),CS}var S3;function Rme(){return S3||(S3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dme(),n=Pme(),r=xA();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const d=(y,k)=>{let w=y;for(let S=0;S<k.length&&w!=null;++S)w=w[k[S]];return w},h=(y,k)=>k==null||y==null?k:typeof y=="object"&&"key"in y?Object.hasOwn(k,y.key)?k[y.key]:d(k,y.path):typeof y=="function"?y(k):Array.isArray(y)?d(k,y):typeof k=="object"?k[y]:k,p=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(k=>h(k,y))})).slice().sort((y,k)=>{for(let w=0;w<p.length;w++){const S=t.compareValues(y.criteria[w],k.criteria[w],l[w]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=i})(NS)),NS}var DS={},k3;function Lme(){return k3||(k3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let d=0;d<l.length;d++){const h=l[d];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}e.flatten=t})(DS)),DS}var PS={},E3;function $9(){return E3||(E3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R9(),n=kA(),r=T9(),i=O9();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}e.isIterateeCall=a})(PS)),PS}var j3;function Ime(){return j3||(j3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rme(),n=Lme(),r=$9();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(TS)),TS}var RS,A3;function $me(){return A3||(A3=1,RS=Ime().sortBy),RS}var Bme=$me();const px=_i(Bme);var B9=e=>e.legend.settings,zme=e=>e.legend.size,Ume=e=>e.legend.payload;xe([Ume,B9],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?px(r,n):r});var mb=1;function Fme(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>mb||Math.abs(o.left-t.left)>mb||Math.abs(o.top-t.top)>mb||Math.abs(o.width-t.width)>mb)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var z9=Symbol.for("immer-nothing"),T3=Symbol.for("immer-draftable"),Qr=Symbol.for("immer-state");function Wa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Hi=Object,df=Hi.getPrototypeOf,Gy="constructor",gx="prototype",q2="configurable",Yy="enumerable",Vb="writable",np="value",Ps=e=>!!e&&!!e[Qr];function oo(e){return e?U9(e)||bx(e)||!!e[T3]||!!e[Gy]?.[T3]||yx(e)||vx(e):!1}var Hme=Hi[gx][Gy].toString(),N3=new WeakMap;function U9(e){if(!e||!jA(e))return!1;const t=df(e);if(t===null||t===Hi[gx])return!0;const n=Hi.hasOwnProperty.call(t,Gy)&&t[Gy];if(n===Object)return!0;if(!$d(n))return!1;let r=N3.get(n);return r===void 0&&(r=Function.toString.call(n),N3.set(n,r)),r===Hme}function Rp(e,t,n=!0){Lp(e)===0?(n?Reflect.ownKeys(e):Hi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Lp(e){const t=e[Qr];return t?t.type_:bx(e)?1:yx(e)?2:vx(e)?3:0}var O3=(e,t,n=Lp(e))=>n===2?e.has(t):Hi[gx].hasOwnProperty.call(e,t),K2=(e,t,n=Lp(e))=>n===2?e.get(t):e[t],qy=(e,t,n,r=Lp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Gme(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var bx=Array.isArray,yx=e=>e instanceof Map,vx=e=>e instanceof Set,jA=e=>typeof e=="object",$d=e=>typeof e=="function",LS=e=>typeof e=="boolean",xs=e=>e.copy_||e.base_,AA=e=>e.modified_?e.copy_:e.base_;function W2(e,t){if(yx(e))return new Map(e);if(vx(e))return new Set(e);if(bx(e))return Array[gx].slice.call(e);const n=U9(e);if(t===!0||t==="class_only"&&!n){const r=Hi.getOwnPropertyDescriptors(e);delete r[Qr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[Vb]===!1&&(l[Vb]=!0,l[q2]=!0),(l.get||l.set)&&(r[o]={[q2]:!0,[Vb]:!0,[Yy]:l[Yy],[np]:e[o]})}return Hi.create(df(e),r)}else{const r=df(e);if(r!==null&&n)return{...e};const i=Hi.create(r);return Hi.assign(i,e)}}function TA(e,t=!1){return xx(e)||Ps(e)||!oo(e)||(Lp(e)>1&&Hi.defineProperties(e,{set:pb,add:pb,clear:pb,delete:pb}),Hi.freeze(e),t&&Rp(e,(n,r)=>{TA(r,!0)},!1)),e}function Yme(){Wa(2)}var pb={[np]:Yme};function xx(e){return e===null||!jA(e)?!0:Hi.isFrozen(e)}var Ky="MapSet",V2="Patches",F9={};function ff(e){const t=F9[e];return t||Wa(0,e),t}var qme=e=>!!F9[e],rp,H9=()=>rp,Kme=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:qme(Ky)?ff(Ky):void 0});function C3(e,t){t&&(e.patchPlugin_=ff(V2),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Z2(e){X2(e),e.drafts_.forEach(Wme),e.drafts_=null}function X2(e){e===rp&&(rp=e.parent_)}var M3=e=>rp=Kme(rp,e);function Wme(e){const t=e[Qr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function D3(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Qr].modified_&&(Z2(t),Wa(4)),oo(e)&&(e=P3(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Qr].base_,e,t)}else e=P3(t,n);return Vme(t,e,!0),Z2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==z9?e:void 0}function P3(e,t){if(xx(t))return t;const n=t[Qr];if(!n)return NA(t,e.handledSet_,e);if(!wx(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);q9(n,e)}return n.copy_}function Vme(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&TA(t,n)}function G9(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var wx=(e,t)=>e.scope_===t,Zme=[];function Y9(e,t,n,r){const i=xs(e),a=e.type_;if(r!==void 0&&K2(i,r,a)===t){qy(i,r,n,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Rp(i,(u,d)=>{if(Ps(d)){const h=l.get(d)||[];h.push(u),l.set(d,h)}})}const o=e.draftLocations_.get(t)??Zme;for(const l of o)qy(i,l,n,a)}function Xme(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!wx(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=AA(a);Y9(e,a.draft_??a,o,n),q9(a,i)})}function q9(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}G9(e)}}function Jme(e,t,n){const{scope_:r}=e;if(Ps(n)){const i=n[Qr];wx(i,r)&&i.callbacks_.push(function(){Zb(e);const o=AA(i);Y9(e,n,o,t)})}else oo(n)&&e.callbacks_.push(function(){const a=xs(e);K2(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&NA(K2(e.copy_,t,e.type_),r.handledSet_,r)})}function NA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ps(e)||t.has(e)||!oo(e)||xx(e)||(t.add(e),Rp(e,(r,i)=>{if(Ps(i)){const a=i[Qr];if(wx(a,n)){const o=AA(a);qy(e,r,o,e.type_),G9(a)}}else oo(i)&&NA(i,t,n)})),e}function Qme(e,t){const n=bx(e),r={type_:n?1:0,scope_:t?t.scope_:H9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=OA;n&&(i=[r],a=ip);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var OA={get(e,t){if(t===Qr)return e;const n=xs(e);if(!O3(n,t,e.type_))return epe(e,n,t);const r=n[t];if(e.finalized_||!oo(r))return r;if(r===IS(e.base_,t)){Zb(e);const i=e.type_===1?+t:t,a=Q2(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in xs(e)},ownKeys(e){return Reflect.ownKeys(xs(e))},set(e,t,n){const r=K9(xs(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=IS(xs(e),t),a=i?.[Qr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Gme(n,i)&&(n!==void 0||O3(e.base_,t,e.type_)))return!0;Zb(e),J2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Jme(e,t,n)),!0},deleteProperty(e,t){return Zb(e),IS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),J2(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=xs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Vb]:!0,[q2]:e.type_!==1||t!=="length",[Yy]:r[Yy],[np]:n[t]}},defineProperty(){Wa(11)},getPrototypeOf(e){return df(e.base_)},setPrototypeOf(){Wa(12)}},ip={};Rp(OA,(e,t)=>{ip[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});ip.deleteProperty=function(e,t){return ip.set.call(this,e,t,void 0)};ip.set=function(e,t,n){return OA.set.call(this,e[0],t,n,e[0])};function IS(e,t){const n=e[Qr];return(n?xs(n):e)[t]}function epe(e,t,n){const r=K9(t,n);return r?np in r?r[np]:r.get?.call(e.draft_):void 0}function K9(e,t){if(!(t in e))return;let n=df(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=df(n)}}function J2(e){e.modified_||(e.modified_=!0,e.parent_&&J2(e.parent_))}function Zb(e){e.copy_||(e.assigned_=new Map,e.copy_=W2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var tpe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if($d(n)&&!$d(r)){const o=r;r=n;const l=this;return function(d=o,...h){return l.produce(d,p=>r.call(this,p,...h))}}$d(r)||Wa(6),i!==void 0&&!$d(i)&&Wa(7);let a;if(oo(n)){const o=M3(this),l=Q2(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?Z2(o):X2(o)}return C3(o,i),D3(a,o)}else if(!n||!jA(n)){if(a=r(n),a===void 0&&(a=n),a===z9&&(a=void 0),this.autoFreeze_&&TA(a,!0),i){const o=[],l=[];ff(V2).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Wa(1,n)},this.produceWithPatches=(n,r)=>{if($d(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},LS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),LS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),LS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){oo(t)||Wa(8),Ps(t)&&(t=Ja(t));const n=M3(this),r=Q2(n,t,void 0);return r[Qr].isManual_=!0,X2(n),r}finishDraft(t,n){const r=t&&t[Qr];(!r||!r.isManual_)&&Wa(9);const{scope_:i}=r;return C3(i,n),D3(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=ff(V2).applyPatches_;return Ps(t)?i(t,n):this.produce(t,a=>i(a,n))}};function Q2(e,t,n,r){const[i,a]=yx(t)?ff(Ky).proxyMap_(t,n):vx(t)?ff(Ky).proxySet_(t,n):Qme(t,n);return(n?.scope_??H9()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Xme(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=u;a.modified_&&d&&d.generatePatches_(a,[],u)}),i}function Ja(e){return Ps(e)||Wa(10,e),W9(e)}function W9(e){if(!oo(e)||xx(e))return e;const t=e[Qr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=W2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=W2(e,!0);return Rp(n,(i,a)=>{qy(n,i,W9(a))},r),t&&(t.finalized_=!1),n}var npe=new tpe,V9=npe.produce;function Z9(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var rpe=Z9(),ipe=Z9,ape=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fm:Fm.apply(null,arguments)};function ka(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(qi(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>m4(r)&&r.type===e,n}var X9=class Em extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Em.prototype)}static get[Symbol.species](){return Em}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Em(...t[0].concat(this)):new Em(...t.concat(this))}};function R3(e){return oo(e)?V9(e,()=>{}):e}function gb(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function ope(e){return typeof e=="boolean"}var spe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new X9;return n&&(ope(n)?o.push(rpe):o.push(ipe(n.extraArgument))),o},J9="RTK_autoBatch",dn=()=>e=>({payload:e,meta:{[J9]:!0}}),L3=e=>t=>{setTimeout(t,e)},Q9=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:L3(10):e.type==="callback"?e.queueNotification:L3(e.timeout),d=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),b=r.subscribe(p);return l.add(h),()=>{b(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[J9],a=!i,a&&(o||(o=!0,u(d))),r.dispatch(h)}finally{i=!0}}})},lpe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new X9(e);return r&&i.push(Q9(typeof r=="object"?r:void 0)),i};function cpe(e){const t=spe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(pj(n))l=f4(n);else throw new Error(qi(1));let u;typeof r=="function"?u=r(t):u=t();let d=Fm;i&&(d=ape({trace:!1,...typeof i=="object"&&i}));const h=h4(...u),p=lpe(h);let b=typeof o=="function"?o(p):p();const y=d(...b);return gj(l,a,y)}function e8(e){const t={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(qi(28));if(l in t)throw new Error(qi(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function upe(e){return typeof e=="function"}function dpe(e,t){let[n,r,i]=e8(t),a;if(upe(e))a=()=>R3(e());else{const l=R3(e);a=()=>l}function o(l=a(),u){let d=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,p)=>{if(p)if(Ps(h)){const y=p(h,u);return y===void 0?h:y}else{if(oo(h))return V9(h,b=>p(b,u));{const b=p(h,u);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},l)}return o.getInitialState=a,o}var fpe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hpe=(e=21)=>{let t="",n=e;for(;n--;)t+=fpe[Math.random()*64|0];return t},mpe=Symbol.for("rtk-slice-createasyncthunk");function ppe(e,t){return`${e}/${t}`}function gpe({creators:e}={}){const t=e?.asyncThunk?.[mpe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(qi(11));const o=(typeof r.reducers=="function"?r.reducers(ype()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(A,C){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(qi(12));if(D in u.sliceCaseReducersByType)throw new Error(qi(13));return u.sliceCaseReducersByType[D]=C,d},addMatcher(A,C){return u.sliceMatchers.push({matcher:A,reducer:C}),d},exposeAction(A,C){return u.actionCreators[A]=C,d},exposeCaseReducer(A,C){return u.sliceCaseReducersByName[A]=C,d}};l.forEach(A=>{const C=o[A],D={reducerName:A,type:ppe(i,A),createNotation:typeof r.reducers=="function"};xpe(C)?_pe(D,C,d,t):vpe(D,C,d)});function h(){const[A={},C=[],D=void 0]=typeof r.extraReducers=="function"?e8(r.extraReducers):[r.extraReducers],P={...A,...u.sliceCaseReducersByType};return dpe(r.initialState,I=>{for(let U in P)I.addCase(U,P[U]);for(let U of u.sliceMatchers)I.addMatcher(U.matcher,U.reducer);for(let U of C)I.addMatcher(U.matcher,U.reducer);D&&I.addDefaultCase(D)})}const p=A=>A,b=new Map,y=new WeakMap;let k;function w(A,C){return k||(k=h()),k(A,C)}function S(){return k||(k=h()),k.getInitialState()}function T(A,C=!1){function D(I){let U=I[A];return typeof U>"u"&&C&&(U=gb(y,D,S)),U}function P(I=p){const U=gb(b,C,()=>new WeakMap);return gb(U,I,()=>{const W={};for(const[K,H]of Object.entries(r.selectors??{}))W[K]=bpe(H,I,()=>gb(y,I,S),C);return W})}return{reducerPath:A,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const O={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...T(a),injectInto(A,{reducerPath:C,...D}={}){const P=C??a;return A.inject({reducerPath:P,reducer:w},D),{...O,...T(P,!0)}}};return O}}function bpe(e,t,n,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var Si=gpe();function ype(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function vpe({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!wpe(r))throw new Error(qi(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ka(e,o):ka(e))}function xpe(e){return e._reducerDefinitionType==="asyncThunk"}function wpe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function _pe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(qi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:d,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:o||bb,pending:l||bb,rejected:u||bb,settled:d||bb})}function bb(){}var Spe="task",t8="listener",n8="completed",CA="cancelled",kpe=`task-${CA}`,Epe=`task-${n8}`,eE=`${t8}-${CA}`,jpe=`${t8}-${n8}`,_x=class{constructor(e){this.code=e,this.message=`${Spe} ${CA} (reason: ${e})`}name="TaskAbortError";message},MA=(e,t)=>{if(typeof e!="function")throw new TypeError(qi(32))},Wy=()=>{},r8=(e,t=Wy)=>(e.catch(t),e),i8=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),bu=e=>{if(e.aborted)throw new _x(e.reason)};function a8(e,t){let n=Wy;return new Promise((r,i)=>{const a=()=>i(new _x(e.reason));if(e.aborted){a();return}n=i8(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Wy})}var Ape=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof _x?"cancelled":"rejected",error:n}}finally{t?.()}},Vy=e=>t=>r8(a8(e,t).then(n=>(bu(e),n))),o8=e=>{const t=Vy(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Jd}=Object,I3={},Sx="listenerMiddleware",Tpe=(e,t)=>{const n=r=>i8(e,()=>r.abort(e.reason));return(r,i)=>{MA(r);const a=new AbortController;n(a);const o=Ape(async()=>{bu(e),bu(a.signal);const l=await r({pause:Vy(a.signal),delay:o8(a.signal),signal:a.signal});return bu(a.signal),l},()=>a.abort(Epe));return i?.autoJoin&&t.push(o.catch(Wy)),{result:Vy(e)(o),cancel(){a.abort(kpe)}}}},Npe=(e,t)=>{const n=async(r,i)=>{bu(t);let a=()=>{};const l=[new Promise((u,d)=>{let h=e({predicate:r,effect:(p,b)=>{b.unsubscribe(),u([p,b.getState(),b.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await a8(t,Promise.race(l));return bu(t),u}finally{a()}};return(r,i)=>r8(n(r,i))},s8=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ka(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(qi(21));return MA(a),{predicate:i,type:t,effect:a}},l8=Jd(e=>{const{type:t,predicate:n,effect:r}=s8(e);return{id:hpe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(qi(22))}}},{withTypes:()=>l8}),$3=(e,t)=>{const{type:n,effect:r,predicate:i}=s8(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},tE=e=>{e.pending.forEach(t=>{t.abort(eE)})},Ope=(e,t)=>()=>{for(const n of t.keys())tE(n);e.clear()},B3=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},c8=Jd(ka(`${Sx}/add`),{withTypes:()=>c8}),Cpe=ka(`${Sx}/removeAll`),u8=Jd(ka(`${Sx}/remove`),{withTypes:()=>u8}),Mpe=(...e)=>{console.error(`${Sx}/error`,...e)},Ip=(e={})=>{const t=new Map,n=new Map,r=y=>{const k=n.get(y)??0;n.set(y,k+1)},i=y=>{const k=n.get(y)??1;k===1?n.delete(y):n.set(y,k-1)},{extra:a,onError:o=Mpe}=e;MA(o);const l=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),k=>{y.unsubscribe(),k?.cancelActive&&tE(y)}),u=y=>{const k=$3(t,y)??l8(y);return l(k)};Jd(u,{withTypes:()=>u});const d=y=>{const k=$3(t,y);return k&&(k.unsubscribe(),y.cancelActive&&tE(k)),!!k};Jd(d,{withTypes:()=>d});const h=async(y,k,w,S)=>{const T=new AbortController,O=Npe(u,T.signal),A=[];try{y.pending.add(T),r(y),await Promise.resolve(y.effect(k,Jd({},w,{getOriginalState:S,condition:(C,D)=>O(C,D).then(Boolean),take:O,delay:o8(T.signal),pause:Vy(T.signal),extra:a,signal:T.signal,fork:Tpe(T.signal,A),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((C,D,P)=>{C!==T&&(C.abort(eE),P.delete(C))})},cancel:()=>{T.abort(eE),y.pending.delete(T)},throwIfCancelled:()=>{bu(T.signal)}})))}catch(C){C instanceof _x||B3(o,C,{raisedBy:"effect"})}finally{await Promise.all(A),T.abort(jpe),i(y),y.pending.delete(T)}},p=Ope(t,n);return{middleware:y=>k=>w=>{if(!m4(w))return k(w);if(c8.match(w))return u(w.payload);if(Cpe.match(w)){p();return}if(u8.match(w))return d(w.payload);let S=y.getState();const T=()=>{if(S===I3)throw new Error(qi(23));return S};let O;try{if(O=k(w),t.size>0){const A=y.getState(),C=Array.from(t.values());for(const D of C){let P=!1;try{P=D.predicate(w,A,S)}catch(I){P=!1,B3(o,I,{raisedBy:"predicate"})}P&&h(D,w,y,T)}}}finally{S=I3}return O},startListening:u,stopListening:d,clearListeners:p}};function qi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Dpe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},d8=Si({name:"chartLayout",initialState:Dpe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Ppe,setLayout:Rpe,setChartSize:Lpe,setScale:Ipe}=d8.actions,$pe=d8.reducer;function f8(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function z3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(n),!0).forEach(function(r){Bpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bpe(e,t,n){return(t=zpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zpe(e){var t=Upe(e,"string");return typeof t=="symbol"?t:t+""}function Upe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ur(e,t,n){return Or(e)||Or(t)?n:Uo(t)?mx(e,t,n):typeof t=="function"?t(e):n}var Fpe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&et(e[a]))return Hd(Hd({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&et(e[o]))return Hd(Hd({},e),{},{[o]:e[o]+(i||0)})}return e},zs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",h8=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(n),o},m8=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:h,ticks:p,niceTicks:b,axisType:y}=e;if(!o)return null;var k=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/k:0;if(w=y==="angleAxis"&&a&&a.length>=2?ya(a[0]-a[1])*2*w:w,p||b){var S=(p||b||[]).map((T,O)=>{var A=r?r.indexOf(T):T;return{coordinate:o(A)+w,value:T,offset:w,index:O}});return S.filter(T=>!ao(T.coordinate))}return u&&d?d.map((T,O)=>({coordinate:o(T)+w,value:T,index:O,offset:w})):o.ticks&&h!=null?o.ticks(h).map((T,O)=>({coordinate:o(T)+w,value:T,offset:w,index:O})):o.domain().map((T,O)=>({coordinate:o(T)+w,value:r?r[T]:T,index:O,offset:w}))},U3=1e-4,Hpe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-U3,a=Math.max(r[0],r[1])+U3,o=e(t[0]),l=e(t[n-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},Gpe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var l=ao(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},Ype=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=ao(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},qpe={sign:Gpe,expand:Phe,none:uf,silhouette:Rhe,wiggle:Lhe,positive:Ype},Kpe=(e,t,n)=>{var r=qpe[n],i=Dhe().keys(t).value((a,o)=>Number(Ur(a,o,0))).order(Y2).offset(r);return i(e)};function Wpe(e){return e==null?void 0:String(e)}function F3(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Or(i[t.dataKey])){var l=E9(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Ur(i,Or(o)?t.dataKey:o);return Or(u)?null:t.scale(u)}var Vpe=e=>{var t=e.flat(2).filter(et);return[Math.min(...t),Math.max(...t)]},Zpe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Xpe=(e,t,n)=>{if(e!=null)return Zpe(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,l=o.reduce((u,d)=>{var h=f8(d,t,n),p=Vpe(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},H3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,G3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zy=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=px(t,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function Y3(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Hd(Hd({},t),{},{dataKey:n,payload:r,value:i,name:a})}function p8(e,t){if(e)return String(e);if(typeof t=="string")return t}var Jpe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Qpe=(e,t)=>t==="centric"?e.angle:e.radius,Us=e=>e.layout.width,Fs=e=>e.layout.height,e0e=e=>e.layout.scale,g8=e=>e.layout.margin,kx=xe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ex=xe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),t0e="data-recharts-item-index",n0e="data-recharts-item-data-key",$p=60;function q3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(n),!0).forEach(function(r){r0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r0e(e,t,n){return(t=i0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i0e(e){var t=a0e(e,"string");return typeof t=="symbol"?t:t+""}function a0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o0e=e=>e.brush.height;function s0e(e){var t=Ex(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:$p;return n+i}return n},0)}function l0e(e){var t=Ex(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:$p;return n+i}return n},0)}function c0e(e){var t=kx(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function u0e(e){var t=kx(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Dr=xe([Us,Fs,g8,o0e,s0e,l0e,c0e,u0e,B9,zme],(e,t,n,r,i,a,o,l,u,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},b=yb(yb({},p),h),y=b.bottom;b.bottom+=r,b=Fpe(b,u,d);var k=e-b.left-b.right,w=t-b.top-b.bottom;return yb(yb({brushBottom:y},b),{},{width:Math.max(k,0),height:Math.max(w,0)})}),d0e=xe(Dr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),b8=xe(Us,Fs,(e,t)=>({x:0,y:0,width:e,height:t})),f0e=_.createContext(null),ki=()=>_.useContext(f0e)!=null,jx=e=>e.brush,Ax=xe([jx,Dr,g8],(e,t,n)=>({height:e.height,x:et(e.x)?e.x:t.left,y:et(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:et(e.width)?e.width:t.width})),$S={},BS={},zS={},K3;function h0e(){return K3||(K3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{d&&h(),w()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},k=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{k(),o=void 0,l=null},S=()=>{h()},T=function(...O){if(i?.aborted)return;o=this,l=O;const A=b==null;y(),u&&A&&h()};return T.schedule=y,T.cancel=w,T.flush=S,i?.addEventListener("abort",w,{once:!0}),T}e.debounce=t})(zS)),zS}var W3;function m0e(){return W3||(W3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h0e();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let h,p=null;const b=t.debounce(function(...w){h=r.apply(this,w),p=null},i,{edges:d}),y=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,w),p=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,w),h)},k=()=>(b.flush(),h);return y.cancel=b.cancel,y.flush=k,y}e.debounce=n})(BS)),BS}var V3;function p0e(){return V3||(V3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m0e();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})($S)),$S}var US,Z3;function g0e(){return Z3||(Z3=1,US=p0e().throttle),US}var b0e=g0e();const y0e=_i(b0e);var Xy=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},y8=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=Ds(r)?e:Number(r),u=Ds(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},v0e={width:0,height:0,overflow:"visible"},x0e={width:0,overflowX:"visible"},w0e={height:0,overflowY:"visible"},_0e={},S0e=e=>{var{width:t,height:n}=e,r=Ds(t),i=Ds(n);return r&&i?v0e:r?x0e:i?w0e:_0e};function k0e(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Cn(e){return Number.isFinite(e)}function Fo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nE.apply(null,arguments)}function X3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function J3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(n),!0).forEach(function(r){E0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E0e(e,t,n){return(t=j0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j0e(e){var t=A0e(e,"string");return typeof t=="symbol"?t:t+""}function A0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v8=_.createContext({width:-1,height:-1});function T0e(e){return Fo(e.width)&&Fo(e.height)}function x8(e){var{children:t,width:n,height:r}=e,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return T0e(i)?_.createElement(v8.Provider,{value:i},t):null}var DA=()=>_.useContext(v8),N0e=_.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:h=0,id:p,className:b,onResize:y,style:k={}}=e,w=_.useRef(null),S=_.useRef();S.current=y,_.useImperativeHandle(t,()=>w.current);var[T,O]=_.useState({containerWidth:r.width,containerHeight:r.height}),A=_.useCallback((U,W)=>{O(K=>{var H=Math.round(U),B=Math.round(W);return K.containerWidth===H&&K.containerHeight===B?K:{containerWidth:H,containerHeight:B}})},[]);_.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Pp;var U=B=>{var q,{width:X,height:Z}=B[0].contentRect;A(X,Z),(q=S.current)===null||q===void 0||q.call(S,X,Z)};h>0&&(U=y0e(U,h,{trailing:!0,leading:!1}));var W=new ResizeObserver(U),{width:K,height:H}=w.current.getBoundingClientRect();return A(K,H),W.observe(w.current),()=>{W.disconnect()}},[A,h]);var{containerWidth:C,containerHeight:D}=T;Xy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:I}=y8(C,D,{width:i,height:a,aspect:n,maxHeight:u});return Xy(P!=null&&P>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,I,i,a,o,l,n),_.createElement("div",{id:p?"".concat(p):void 0,className:on("recharts-responsive-container",b),style:J3(J3({},k),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:w},_.createElement("div",{style:S0e({width:i,height:a})},_.createElement(x8,{width:P,height:I},d)))}),O0e=_.forwardRef((e,t)=>{var n=DA();if(Fo(n.width)&&Fo(n.height))return e.children;var{width:r,height:i}=k0e({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=y8(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return et(a)&&et(o)?_.createElement(x8,{width:a,height:o},e.children):_.createElement(N0e,nE({},e,{width:r,height:i,ref:t}))});function w8(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Tx=()=>{var e,t=ki(),n=rt(d0e),r=rt(Ax),i=(e=rt(jx))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},C0e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_8=()=>{var e;return(e=rt(Dr))!==null&&e!==void 0?e:C0e},S8=()=>rt(Us),k8=()=>rt(Fs),en=e=>e.layout.layoutType,Bp=()=>rt(en),M0e=()=>{var e=Bp();if(e==="horizontal"||e==="vertical")return e},D0e=()=>{var e=Bp();return e!==void 0},Nx=e=>{var t=br(),n=ki(),{width:r,height:i}=e,a=DA(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),_.useEffect(()=>{!n&&Fo(o)&&Fo(l)&&t(Lpe({width:o,height:l}))},[t,n,o,l]),null},E8=Symbol.for("immer-nothing"),Q3=Symbol.for("immer-draftable"),Wi=Symbol.for("immer-state");function Va(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ap=Object.getPrototypeOf;function hf(e){return!!e&&!!e[Wi]}function ku(e){return e?j8(e)||Array.isArray(e)||!!e[Q3]||!!e.constructor?.[Q3]||zp(e)||Cx(e):!1}var P0e=Object.prototype.constructor.toString(),eL=new WeakMap;function j8(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=eL.get(n);return r===void 0&&(r=Function.toString.call(n),eL.set(n,r)),r===P0e}function Jy(e,t,n=!0){Ox(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Ox(e){const t=e[Wi];return t?t.type_:Array.isArray(e)?1:zp(e)?2:Cx(e)?3:0}function rE(e,t){return Ox(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function A8(e,t,n){const r=Ox(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function R0e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zp(e){return e instanceof Map}function Cx(e){return e instanceof Set}function ru(e){return e.copy_||e.base_}function iE(e,t){if(zp(e))return new Map(e);if(Cx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=j8(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Wi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(ap(e),r)}else{const r=ap(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function PA(e,t=!1){return Mx(e)||hf(e)||!ku(e)||(Ox(e)>1&&Object.defineProperties(e,{set:vb,add:vb,clear:vb,delete:vb}),Object.freeze(e),t&&Object.values(e).forEach(n=>PA(n,!0))),e}function L0e(){Va(2)}var vb={value:L0e};function Mx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var I0e={};function Eu(e){const t=I0e[e];return t||Va(0,e),t}var op;function T8(){return op}function $0e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tL(e,t){t&&(Eu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function aE(e){oE(e),e.drafts_.forEach(B0e),e.drafts_=null}function oE(e){e===op&&(op=e.parent_)}function nL(e){return op=$0e(op,e)}function B0e(e){const t=e[Wi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function rL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Wi].modified_&&(aE(t),Va(4)),ku(e)&&(e=Qy(t,e),t.parent_||ev(t,e)),t.patches_&&Eu("Patches").generateReplacementPatches_(n[Wi].base_,e,t.patches_,t.inversePatches_)):e=Qy(t,n,[]),aE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==E8?e:void 0}function Qy(e,t,n){if(Mx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Wi];if(!i)return Jy(t,(a,o)=>iL(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return ev(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),Jy(o,(u,d)=>iL(e,i,a,u,d,n,l),r),ev(e,a,!1),n&&e.patches_&&Eu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function iL(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=Mx(i);if(!(l&&!o)){if(hf(i)){const u=a&&t&&t.type_!==3&&!rE(t.assigned_,r)?a.concat(r):void 0,d=Qy(e,i,u);if(A8(n,r,d),hf(d))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ku(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Qy(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(zp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ev(e,i)}}}function ev(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&PA(t,n)}function z0e(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:T8(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=RA;n&&(i=[r],a=sp);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var RA={get(e,t){if(t===Wi)return e;const n=ru(e);if(!rE(n,t))return U0e(e,n,t);const r=n[t];return e.finalized_||!ku(r)?r:r===FS(e.base_,t)?(HS(e),e.copy_[t]=lE(r,e)):r},has(e,t){return t in ru(e)},ownKeys(e){return Reflect.ownKeys(ru(e))},set(e,t,n){const r=N8(ru(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=FS(ru(e),t),a=i?.[Wi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(R0e(n,i)&&(n!==void 0||rE(e.base_,t)))return!0;HS(e),sE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return FS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,HS(e),sE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ru(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Va(11)},getPrototypeOf(e){return ap(e.base_)},setPrototypeOf(){Va(12)}},sp={};Jy(RA,(e,t)=>{sp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});sp.deleteProperty=function(e,t){return sp.set.call(this,e,t,void 0)};sp.set=function(e,t,n){return RA.set.call(this,e[0],t,n,e[0])};function FS(e,t){const n=e[Wi];return(n?ru(n):e)[t]}function U0e(e,t,n){const r=N8(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function N8(e,t){if(!(t in e))return;let n=ap(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ap(n)}}function sE(e){e.modified_||(e.modified_=!0,e.parent_&&sE(e.parent_))}function HS(e){e.copy_||(e.copy_=iE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var F0e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...d){return o.produce(u,h=>n.call(this,h,...d))}}typeof n!="function"&&Va(6),r!==void 0&&typeof r!="function"&&Va(7);let i;if(ku(t)){const a=nL(this),o=lE(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?aE(a):oE(a)}return tL(a,r),rL(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===E8&&(i=void 0),this.autoFreeze_&&PA(i,!0),r){const a=[],o=[];Eu("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Va(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ku(e)||Va(8),hf(e)&&(e=H0e(e));const t=nL(this),n=lE(e,void 0);return n[Wi].isManual_=!0,oE(t),n}finishDraft(e,t){const n=e&&e[Wi];(!n||!n.isManual_)&&Va(9);const{scope_:r}=n;return tL(r,t),rL(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Eu("Patches").applyPatches_;return hf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function lE(e,t){const n=zp(e)?Eu("MapSet").proxyMap_(e,t):Cx(e)?Eu("MapSet").proxySet_(e,t):z0e(e,t);return(t?t.scope_:T8()).drafts_.push(n),n}function H0e(e){return hf(e)||Va(10,e),O8(e)}function O8(e){if(!ku(e)||Mx(e))return e;const t=e[Wi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=iE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=iE(e,!0);return Jy(n,(i,a)=>{A8(n,i,O8(a))},r),t&&(t.finalized_=!1),n}var G0e=new F0e;G0e.produce;var Y0e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},C8=Si({name:"legend",initialState:Y0e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:dn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ja(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:dn()},removeLegendPayload:{reducer(e,t){var n=Ja(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:dn()}}}),{setLegendSize:KCe,setLegendSettings:WCe,addLegendPayload:q0e,replaceLegendPayload:K0e,removeLegendPayload:W0e}=C8.actions,V0e=C8.reducer;function cE(){return cE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cE.apply(null,arguments)}function aL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(n),!0).forEach(function(r){Z0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z0e(e,t,n){return(t=X0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X0e(e){var t=J0e(e,"string");return typeof t=="symbol"?t:t+""}function J0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q0e(e){return Array.isArray(e)&&Uo(e[0])&&Uo(e[1])?e.join(" ~ "):e}var ege=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:p,accessibilityLayer:b=!1}=e,y=()=>{if(a&&a.length){var D={padding:0,margin:0},P=(l?px(a,l):a).map((I,U)=>{if(I.type==="none")return null;var W=I.formatter||o||Q0e,{value:K,name:H}=I,B=K,q=H;if(W){var X=W(K,H,I,U,a);if(Array.isArray(X))[B,q]=X;else if(X!=null)B=X;else return null}var Z=GS({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:Z},Uo(q)?_.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Uo(q)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},B),_.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:D},P)}return null},k=GS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=GS({margin:0},i),S=!Or(h),T=S?h:"",O=on("recharts-default-tooltip",u),A=on("recharts-tooltip-label",d);S&&p&&a!==void 0&&a!==null&&(T=p(h,a));var C=b?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",cE({className:O,style:k},C),_.createElement("p",{className:A,style:w},_.isValidElement(T)?T:"".concat(T)),y())},um="recharts-tooltip-wrapper",tge={visibility:"hidden"};function nge(e){var{coordinate:t,translateX:n,translateY:r}=e;return on(um,{["".concat(um,"-right")]:et(n)&&t&&et(t.x)&&n>=t.x,["".concat(um,"-left")]:et(n)&&t&&et(t.x)&&n<t.x,["".concat(um,"-bottom")]:et(r)&&t&&et(t.y)&&r>=t.y,["".concat(um,"-top")]:et(r)&&t&&et(t.y)&&r<t.y})}function oL(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(a&&et(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?h:p;var b=u[r];if(b==null)return 0;if(o[r]){var y=h,k=b;return y<k?Math.max(p,b):Math.max(h,b)}if(d==null)return 0;var w=p+l,S=b+d;return w>S?Math.max(h,b):Math.max(p,b)}function rge(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function ige(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,d,h,p;return o.height>0&&o.width>0&&n?(h=oL({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=oL({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=rge({translateX:h,translateY:p,useTranslate3d:l})):d=tge,{cssProperties:d,cssClasses:nge({translateX:h,translateY:p,coordinate:n})}}function sL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(n),!0).forEach(function(r){uE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uE(e,t,n){return(t=age(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function age(e){var t=oge(e,"string");return typeof t=="symbol"?t:t+""}function oge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class sge extends _.PureComponent{constructor(){super(...arguments),uE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),uE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:h,reverseDirection:p,useTranslate3d:b,viewBox:y,wrapperStyle:k,lastBoundingBox:w,innerRef:S,hasPortalFromProps:T}=this.props,{cssClasses:O,cssProperties:A}=ige({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:y}),C=T?{}:xb(xb({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),D=xb(xb({},C),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},k);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:D,ref:S},a)}}var M8=()=>{var e;return(e=rt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function dE(){return dE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dE.apply(null,arguments)}function lL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lL(Object(n),!0).forEach(function(r){lge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lge(e,t,n){return(t=cge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cge(e){var t=uge(e,"string");return typeof t=="symbol"?t:t+""}function uge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uL={curveBasisClosed:_he,curveBasisOpen:She,curveBasis:whe,curveBumpX:vhe,curveBumpY:xhe,curveLinearClosed:khe,curveLinear:fx,curveMonotoneX:Ehe,curveMonotoneY:jhe,curveNatural:Ahe,curveStep:The,curveStepAfter:Ohe,curveStepBefore:Nhe},tv=e=>Cn(e.x)&&Cn(e.y),dL=e=>e.base!=null&&tv(e.base)&&tv(e),dm=e=>e.x,fm=e=>e.y,dge=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(_A(e));return(n==="curveMonotone"||n==="curveBump")&&t?uL["".concat(n).concat(t==="vertical"?"Y":"X")]:uL[n]||fx},fge=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=dge(t,i),l=a?n.filter(tv):n,u;if(Array.isArray(r)){var d=n.map((y,k)=>cL(cL({},y),{},{base:r[k]}));i==="vertical"?u=fb().y(fm).x1(dm).x0(y=>y.base.x):u=fb().x(dm).y1(fm).y0(y=>y.base.y);var h=u.defined(dL).curve(o),p=a?d.filter(dL):d;return h(p)}i==="vertical"&&et(r)?u=fb().y(fm).x1(dm).x0(r):et(r)?u=fb().x(dm).y1(fm).y0(r):u=m9().x(dm).y(fm);var b=u.defined(tv).curve(o);return b(l)},Xb=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?fge(e):r;return _.createElement("path",dE({},io(e),SA(e),{className:on("recharts-curve",t),d:a===null?void 0:a,ref:i}))},hge=["x","y","top","left","width","height","className"];function fE(){return fE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fE.apply(null,arguments)}function fL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(n),!0).forEach(function(r){pge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pge(e,t,n){return(t=gge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gge(e){var t=bge(e,"string");return typeof t=="symbol"?t:t+""}function bge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yge(e,t){if(e==null)return{};var n,r,i=vge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xge=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),wge=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=yge(e,hge),d=mge({x:t,y:n,top:r,left:i,width:a,height:o},u);return!et(t)||!et(n)||!et(a)||!et(o)||!et(r)||!et(i)?null:_.createElement("path",fE({},Sa(d),{className:on("recharts-cross",l),d:xge(t,n,a,o,r,i)}))};function _ge(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function hL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(n),!0).forEach(function(r){Sge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sge(e,t,n){return(t=kge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kge(e){var t=Ege(e,"string");return typeof t=="symbol"?t:t+""}function Ege(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jge=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Age=(e,t,n)=>e.map(r=>"".concat(jge(r)," ").concat(t,"ms ").concat(n)).join(","),Tge=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),lp=(e,t)=>Object.keys(t).reduce((n,r)=>mL(mL({},n),{},{[r]:e(r,t[r])}),{});function pL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(n),!0).forEach(function(r){Nge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nge(e,t,n){return(t=Oge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oge(e){var t=Cge(e,"string");return typeof t=="symbol"?t:t+""}function Cge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nv=(e,t,n)=>e+(t-e)*n,hE=e=>{var{from:t,to:n}=e;return t!==n},D8=(e,t,n)=>{var r=lp((i,a)=>{if(hE(a)){var[o,l]=e(a.from,a.to,a.velocity);return er(er({},a),{},{from:o,velocity:l})}return a},t);return n<1?lp((i,a)=>hE(a)?er(er({},a),{},{velocity:nv(a.velocity,r[i].velocity,n),from:nv(a.from,r[i].from,n)}):a,t):D8(e,r,n-1)};function Mge(e,t,n,r,i,a){var o,l=r.reduce((b,y)=>er(er({},b),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),u=()=>lp((b,y)=>y.from,l),d=()=>!Object.values(l).filter(hE).length,h=null,p=b=>{o||(o=b);var y=b-o,k=y/n.dt;l=D8(n,l,k),i(er(er(er({},e),t),u())),o=b,d()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var b;(b=h)===null||b===void 0||b()})}function Dge(e,t,n,r,i,a,o){var l=null,u=i.reduce((p,b)=>er(er({},p),{},{[b]:[e[b],t[b]]}),{}),d,h=p=>{d||(d=p);var b=(p-d)/r,y=lp((w,S)=>nv(...S,n(b)),u);if(a(er(er(er({},e),t),y)),b<1)l=o.setTimeout(h);else{var k=lp((w,S)=>nv(...S,n(1)),u);a(er(er(er({},e),t),k))}};return()=>(l=o.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const Pge=(e,t,n,r,i,a)=>{var o=Tge(e,t);return n==null?()=>(i(er(er({},e),t)),()=>{}):n.isStepper===!0?Mge(e,t,n,o,i,a):Dge(e,t,n,r,o,i,a)};var rv=1e-4,P8=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],R8=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),gL=(e,t)=>n=>{var r=P8(e,t);return R8(r,n)},Rge=(e,t)=>n=>{var r=P8(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return R8(i,n)},Lge=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},Ige=(e,t,n,r)=>{var i=gL(e,n),a=gL(t,r),o=Rge(e,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var h=d>1?1:d,p=h,b=0;b<8;++b){var y=i(p)-h,k=o(p);if(Math.abs(y-h)<rv||k<rv)return a(p);p=l(p-y/k)}return a(p)};return u.isStepper=!1,u},bL=function(){return Ige(...Lge(...arguments))},$ge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,l,u)=>{var d=-(o-l)*n,h=u*r,p=u+(d-h)*i/1e3,b=u*i/1e3+o;return Math.abs(b-l)<rv&&Math.abs(p)<rv?[l,0]:[b,p]};return a.isStepper=!0,a.dt=i,a},Bge=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bL(e);case"spring":return $ge();default:if(e.split("(")[0]==="cubic-bezier")return bL(e)}return typeof e=="function"?e:null};function zge(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,d),u);return}a(u),i=e.setTimeout(a.bind(null,d));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class Uge{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Fge(){return zge(new Uge)}var Hge=_.createContext(Fge);function Gge(e,t){var n=_.useContext(Hge);return _.useMemo(()=>t??n(e),[e,t,n])}var Yge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Mf={devToolsEnabled:!1,isSsr:Yge()},qge={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yL={t:0},YS={t:1};function L8(e){var t=Zi(e,qge),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=t,h=n==="auto"?!Mf.isSsr:n,p=Gge(t.animationId,t.animationManager),[b,y]=_.useState(h?yL:YS),k=_.useRef(null);return _.useEffect(()=>{h||y(YS)},[h]),_.useEffect(()=>{if(!h||!r)return Pp;var w=Pge(yL,YS,Bge(a),i,y,p.getTimeoutController()),S=()=>{k.current=w()};return p.start([u,o,S,i,l]),()=>{p.stop(),k.current&&k.current(),l()}},[h,r,i,a,o,u,l,p]),d(b.t)}function I8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(tp(t)),r=_.useRef(e);return r.current!==e&&(n.current=tp(t),r.current=e),n.current}var Kge=["radius"],Wge=["radius"];function vL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(n),!0).forEach(function(r){Vge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vge(e,t,n){return(t=Zge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zge(e){var t=Xge(e,"string");return typeof t=="symbol"?t:t+""}function Xge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iv.apply(null,arguments)}function wL(e,t){if(e==null)return{};var n,r,i=Jge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _L=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,b=4;p<b;p++)h[p]=i[p]>a?a:i[p];d="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),d+="L ".concat(e+n-l*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*h[1])),d+="L ".concat(e+n,",").concat(t+r-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(t+r)),d+="L ".concat(e+l*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);d="M ".concat(e,",").concat(t+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(t,`
            L `).concat(e+n-l*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*y,`
            L `).concat(e+n,",").concat(t+r-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-l*y,",").concat(t+r,`
            L `).concat(e+l*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*y," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},SL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qge=e=>{var t=Zi(e,SL),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:d,className:h}=t,{animationEasing:p,animationDuration:b,animationBegin:y,isAnimationActive:k,isUpdateAnimationActive:w}=t,S=_.useRef(l),T=_.useRef(u),O=_.useRef(a),A=_.useRef(o),C=_.useMemo(()=>({x:a,y:o,width:l,height:u,radius:d}),[a,o,l,u,d]),D=I8(C,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var P=on("recharts-rectangle",h);if(!w){var I=Sa(t),{radius:U}=I,W=wL(I,Kge);return _.createElement("path",iv({},W,{radius:typeof d=="number"?d:void 0,className:P,d:_L(a,o,l,u,d)}))}var K=S.current,H=T.current,B=O.current,q=A.current,X="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),G=Age(["strokeDasharray"],b,typeof p=="string"?p:SL.animationEasing);return _.createElement(L8,{animationId:D,key:D,canBegin:r>0,duration:b,easing:p,isActive:w,begin:y},J=>{var Q=Do(K,l,J),oe=Do(H,u,J),te=Do(B,a,J),z=Do(q,o,J);n.current&&(S.current=Q,T.current=oe,O.current=te,A.current=z);var V;k?J>0?V={transition:G,strokeDasharray:Z}:V={strokeDasharray:X}:V={strokeDasharray:Z};var re=Sa(t),{radius:ie}=re,ue=wL(re,Wge);return _.createElement("path",iv({},ue,{radius:typeof d=="number"?d:void 0,className:P,d:_L(te,z,Q,oe,d),ref:n,style:xL(xL({},V),t.style)}))})};function kL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kL(Object(n),!0).forEach(function(r){ebe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ebe(e,t,n){return(t=tbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tbe(e){var t=nbe(e,"string");return typeof t=="symbol"?t:t+""}function nbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var av=Math.PI/180,rbe=e=>e*180/Math.PI,Nr=(e,t,n,r)=>({x:e+Math.cos(-av*r)*n,y:t+Math.sin(-av*r)*n}),ibe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},abe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},obe=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=abe({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:rbe(u),angleInRadian:u}},sbe=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},lbe=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},cbe=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=obe({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:d}=sbe(t),h=a,p;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=u}return p?EL(EL({},t),{},{radius:i,angle:lbe(h,t)}):null};function $8(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=Nr(t,n,r,i),l=Nr(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function mE(){return mE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mE.apply(null,arguments)}var ube=(e,t)=>{var n=ya(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},wb=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,d=l*(o?1:-1)+r,h=Math.asin(l/d)/av,p=u?i:i+a*h,b=Nr(t,n,d,p),y=Nr(t,n,r,p),k=u?i-a*h:i,w=Nr(t,n,d*Math.cos(h*av),k);return{center:b,circleTangency:y,lineTangency:w,theta:h}},B8=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,l=ube(a,o),u=a+l,d=Nr(t,n,i,a),h=Nr(t,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=Nr(t,n,r,a),y=Nr(t,n,r,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(b.x,",").concat(b.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},dbe=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=e,h=ya(d-u),{circleTangency:p,lineTangency:b,theta:y}=wb({cx:t,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:k,lineTangency:w,theta:S}=wb({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:l}),T=l?Math.abs(u-d):Math.abs(u-d)-y-S;if(T<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):B8({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var O="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:C,theta:D}=wb({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:P,lineTangency:I,theta:U}=wb({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),W=l?Math.abs(u-d):Math.abs(u-d)-D-U;if(W<0&&a===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(W>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else O+="L".concat(t,",").concat(n,"Z");return O},fbe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hbe=e=>{var t=Zi(e,fbe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h,className:p}=t;if(a<i||d===h)return null;var b=on("recharts-sector",p),y=a-i,k=Xl(o,y,0,!0),w;return k>0&&Math.abs(d-h)<360?w=dbe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(k,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):w=B8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),_.createElement("path",mE({},Sa(t),{className:b,d:w}))};function mbe(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(j9(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=Nr(r,i,a,l),d=Nr(r,i,o,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return $8(t)}}var qS={},KS={},WS={},jL;function pbe(){return jL||(jL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I9();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(WS)),WS}var AL;function gbe(){return AL||(AL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pbe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(KS)),KS}var TL;function bbe(){return TL||(TL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$9(),n=gbe();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=o;return u}e.range=r})(qS)),qS}var VS,NL;function ybe(){return NL||(NL=1,VS=bbe().range),VS}var vbe=ybe();const z8=_i(vbe);function Gl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xbe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LA(e){let t,n,r;e.length!==2?(t=Gl,n=(l,u)=>Gl(e(l),u),r=(l,u)=>e(l)-u):(t=e===Gl||e===xbe?e:wbe,n=e,r=e);function i(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<0?d=p+1:h=p}while(d<h)}return d}function a(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<=0?d=p+1:h=p}while(d<h)}return d}function o(l,u,d=0,h=l.length){const p=i(l,u,d,h-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:o,right:a}}function wbe(){return 0}function U8(e){return e===null?NaN:+e}function*_be(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Sbe=LA(Gl),Up=Sbe.right;LA(U8).center;class OL extends Map{constructor(t,n=jbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(CL(this,t))}has(t){return super.has(CL(this,t))}set(t,n){return super.set(kbe(this,t),n)}delete(t){return super.delete(Ebe(this,t))}}function CL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function kbe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ebe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function jbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Abe(e=Gl){if(e===Gl)return F8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function F8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Tbe=Math.sqrt(50),Nbe=Math.sqrt(10),Obe=Math.sqrt(2);function ov(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Tbe?10:a>=Nbe?5:a>=Obe?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=n&&n<2?ov(e,t,n*2):[l,u,d]}function pE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?ov(t,e,n):ov(e,t,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)u[d]=(a-d)/-o;else for(let d=0;d<l;++d)u[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(i+d)/-o;else for(let d=0;d<l;++d)u[d]=(i+d)*o;return u}function gE(e,t,n){return t=+t,e=+e,n=+n,ov(e,t,n)[2]}function bE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?gE(t,e,n):gE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ML(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function DL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function H8(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?F8:Abe(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*p*(u-p)/u)*(d-u/2<0?-1:1),y=Math.max(n,Math.floor(t-d*p/u+b)),k=Math.min(r,Math.floor(t+(u-d)*p/u+b));H8(e,t,y,k,i)}const a=e[t];let o=n,l=r;for(hm(e,n,t),i(e[r],a)>0&&hm(e,n,r);o<l;){for(hm(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?hm(e,n,l):(++l,hm(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function hm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Cbe(e,t,n){if(e=Float64Array.from(_be(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return DL(e);if(t>=1)return ML(e);var r,i=(r-1)*t,a=Math.floor(i),o=ML(H8(e,a).subarray(0,a+1)),l=DL(e.subarray(a+1));return o+(l-o)*(i-a)}}function Mbe(e,t,n=U8){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function Dbe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Na(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yE=Symbol("implicit");function IA(){var e=new OL,t=[],n=[],r=yE;function i(a){let o=e.get(a);if(o===void 0){if(r!==yE)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new OL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return IA(t,n).unknown(r)},Na.apply(i,arguments),i}function $A(){var e=IA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,u=0,d=0,h=.5;delete e.unknown;function p(){var b=t().length,y=i<r,k=y?i:r,w=y?r:i;a=(w-k)/Math.max(1,b-u+d*2),l&&(a=Math.floor(a)),k+=(w-k-a*(b-u))*h,o=a*(1-u),l&&(k=Math.round(k),o=Math.round(o));var S=Dbe(b).map(function(T){return k+a*T});return n(y?S.reverse():S)}return e.domain=function(b){return arguments.length?(t(b),p()):t()},e.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(b){return arguments.length?(l=!!b,p()):l},e.padding=function(b){return arguments.length?(u=Math.min(1,d=+b),p()):u},e.paddingInner=function(b){return arguments.length?(u=Math.min(1,b),p()):u},e.paddingOuter=function(b){return arguments.length?(d=+b,p()):d},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),p()):h},e.copy=function(){return $A(t(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(h)},Na.apply(p(),arguments)}function G8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return G8(t())},e}function Pbe(){return G8($A.apply(null,arguments).paddingInner(1))}function BA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Y8(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Fp(){}var cp=.7,sv=1/cp,Qd="\\s*([+-]?\\d+)\\s*",up="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rbe=/^#([0-9a-f]{3,8})$/,Lbe=new RegExp(`^rgb\\(${Qd},${Qd},${Qd}\\)$`),Ibe=new RegExp(`^rgb\\(${$o},${$o},${$o}\\)$`),$be=new RegExp(`^rgba\\(${Qd},${Qd},${Qd},${up}\\)$`),Bbe=new RegExp(`^rgba\\(${$o},${$o},${$o},${up}\\)$`),zbe=new RegExp(`^hsl\\(${up},${$o},${$o}\\)$`),Ube=new RegExp(`^hsla\\(${up},${$o},${$o},${up}\\)$`),PL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BA(Fp,dp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:RL,formatHex:RL,formatHex8:Fbe,formatHsl:Hbe,formatRgb:LL,toString:LL});function RL(){return this.rgb().formatHex()}function Fbe(){return this.rgb().formatHex8()}function Hbe(){return q8(this).formatHsl()}function LL(){return this.rgb().formatRgb()}function dp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Rbe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?IL(t):n===3?new yi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_b(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_b(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Lbe.exec(e))?new yi(t[1],t[2],t[3],1):(t=Ibe.exec(e))?new yi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$be.exec(e))?_b(t[1],t[2],t[3],t[4]):(t=Bbe.exec(e))?_b(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zbe.exec(e))?zL(t[1],t[2]/100,t[3]/100,1):(t=Ube.exec(e))?zL(t[1],t[2]/100,t[3]/100,t[4]):PL.hasOwnProperty(e)?IL(PL[e]):e==="transparent"?new yi(NaN,NaN,NaN,0):null}function IL(e){return new yi(e>>16&255,e>>8&255,e&255,1)}function _b(e,t,n,r){return r<=0&&(e=t=n=NaN),new yi(e,t,n,r)}function Gbe(e){return e instanceof Fp||(e=dp(e)),e?(e=e.rgb(),new yi(e.r,e.g,e.b,e.opacity)):new yi}function vE(e,t,n,r){return arguments.length===1?Gbe(e):new yi(e,t,n,r??1)}function yi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}BA(yi,vE,Y8(Fp,{brighter(e){return e=e==null?sv:Math.pow(sv,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cp:Math.pow(cp,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yi(yu(this.r),yu(this.g),yu(this.b),lv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$L,formatHex:$L,formatHex8:Ybe,formatRgb:BL,toString:BL}));function $L(){return`#${du(this.r)}${du(this.g)}${du(this.b)}`}function Ybe(){return`#${du(this.r)}${du(this.g)}${du(this.b)}${du((isNaN(this.opacity)?1:this.opacity)*255)}`}function BL(){const e=lv(this.opacity);return`${e===1?"rgb(":"rgba("}${yu(this.r)}, ${yu(this.g)}, ${yu(this.b)}${e===1?")":`, ${e})`}`}function lv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function du(e){return e=yu(e),(e<16?"0":"")+e.toString(16)}function zL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Za(e,t,n,r)}function q8(e){if(e instanceof Za)return new Za(e.h,e.s,e.l,e.opacity);if(e instanceof Fp||(e=dp(e)),!e)return new Za;if(e instanceof Za)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Za(o,l,u,e.opacity)}function qbe(e,t,n,r){return arguments.length===1?q8(e):new Za(e,t,n,r??1)}function Za(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}BA(Za,qbe,Y8(Fp,{brighter(e){return e=e==null?sv:Math.pow(sv,e),new Za(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cp:Math.pow(cp,e),new Za(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new yi(ZS(e>=240?e-240:e+120,i,r),ZS(e,i,r),ZS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Za(UL(this.h),Sb(this.s),Sb(this.l),lv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lv(this.opacity);return`${e===1?"hsl(":"hsla("}${UL(this.h)}, ${Sb(this.s)*100}%, ${Sb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UL(e){return e=(e||0)%360,e<0?e+360:e}function Sb(e){return Math.max(0,Math.min(1,e||0))}function ZS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const zA=e=>()=>e;function Kbe(e,t){return function(n){return e+n*t}}function Wbe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Vbe(e){return(e=+e)==1?K8:function(t,n){return n-t?Wbe(t,n,e):zA(isNaN(t)?n:t)}}function K8(e,t){var n=t-e;return n?Kbe(e,n):zA(isNaN(e)?t:e)}const FL=(function e(t){var n=Vbe(t);function r(i,a){var o=n((i=vE(i)).r,(a=vE(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),d=K8(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function Zbe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Xbe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jbe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Df(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Qbe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function cv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function eye(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Df(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var xE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,XS=new RegExp(xE.source,"g");function tye(e){return function(){return e}}function nye(e){return function(t){return e(t)+""}}function rye(e,t){var n=xE.lastIndex=XS.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=xE.exec(e))&&(i=XS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:cv(r,i)})),n=XS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?nye(u[0].x):tye(t):(t=u.length,function(d){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(d);return l.join("")})}function Df(e,t){var n=typeof t,r;return t==null||n==="boolean"?zA(t):(n==="number"?cv:n==="string"?(r=dp(t))?(t=r,FL):rye:t instanceof dp?FL:t instanceof Date?Qbe:Xbe(t)?Zbe:Array.isArray(t)?Jbe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eye:cv)(e,t)}function UA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function iye(e,t){t===void 0&&(t=e,e=Df);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function aye(e){return function(){return e}}function uv(e){return+e}var HL=[0,1];function Vr(e){return e}function wE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:aye(isNaN(t)?NaN:.5)}function oye(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function sye(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=wE(i,r),a=n(o,a)):(r=wE(r,i),a=n(a,o)),function(l){return a(r(l))}}function lye(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=wE(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var u=Up(e,l,1,r)-1;return a[u](i[u](l))}}function Hp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Dx(){var e=HL,t=HL,n=Df,r,i,a,o=Vr,l,u,d;function h(){var b=Math.min(e.length,t.length);return o!==Vr&&(o=oye(e[0],e[b-1])),l=b>2?lye:sye,u=d=null,p}function p(b){return b==null||isNaN(b=+b)?a:(u||(u=l(e.map(r),t,n)))(r(o(b)))}return p.invert=function(b){return o(i((d||(d=l(t,e.map(r),cv)))(b)))},p.domain=function(b){return arguments.length?(e=Array.from(b,uv),h()):e.slice()},p.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},p.rangeRound=function(b){return t=Array.from(b),n=UA,h()},p.clamp=function(b){return arguments.length?(o=b?!0:Vr,h()):o!==Vr},p.interpolate=function(b){return arguments.length?(n=b,h()):n},p.unknown=function(b){return arguments.length?(a=b,p):a},function(b,y){return r=b,i=y,h()}}function FA(){return Dx()(Vr,Vr)}function cye(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function mf(e){return e=dv(Math.abs(e)),e?e[1]:NaN}function uye(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function dye(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var fye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fp(e){if(!(t=fye.exec(e)))throw new Error("invalid format: "+e);var t;return new HA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fp.prototype=HA.prototype;function HA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}HA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hye(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var W8;function mye(e,t){var n=dv(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(W8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+dv(e,Math.max(0,t+a-1))[0]}function GL(e,t){var n=dv(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const YL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cye,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>GL(e*100,t),r:GL,s:mye,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qL(e){return e}var KL=Array.prototype.map,WL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pye(e){var t=e.grouping===void 0||e.thousands===void 0?qL:uye(KL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?qL:dye(KL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(p){p=fp(p);var b=p.fill,y=p.align,k=p.sign,w=p.symbol,S=p.zero,T=p.width,O=p.comma,A=p.precision,C=p.trim,D=p.type;D==="n"?(O=!0,D="g"):YL[D]||(A===void 0&&(A=12),C=!0,D="g"),(S||b==="0"&&y==="=")&&(S=!0,b="0",y="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",I=w==="$"?r:/[%p]/.test(D)?o:"",U=YL[D],W=/[defgprs%]/.test(D);A=A===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function K(H){var B=P,q=I,X,Z,G;if(D==="c")q=U(H)+q,H="";else{H=+H;var J=H<0||1/H<0;if(H=isNaN(H)?u:U(Math.abs(H),A),C&&(H=hye(H)),J&&+H==0&&k!=="+"&&(J=!1),B=(J?k==="("?k:l:k==="-"||k==="("?"":k)+B,q=(D==="s"?WL[8+W8/3]:"")+q+(J&&k==="("?")":""),W){for(X=-1,Z=H.length;++X<Z;)if(G=H.charCodeAt(X),48>G||G>57){q=(G===46?i+H.slice(X+1):H.slice(X))+q,H=H.slice(0,X);break}}}O&&!S&&(H=t(H,1/0));var Q=B.length+H.length+q.length,oe=Q<T?new Array(T-Q+1).join(b):"";switch(O&&S&&(H=t(oe+H,oe.length?T-q.length:1/0),oe=""),y){case"<":H=B+H+q+oe;break;case"=":H=B+oe+H+q;break;case"^":H=oe.slice(0,Q=oe.length>>1)+B+H+q+oe.slice(Q);break;default:H=oe+B+H+q;break}return a(H)}return K.toString=function(){return p+""},K}function h(p,b){var y=d((p=fp(p),p.type="f",p)),k=Math.max(-8,Math.min(8,Math.floor(mf(b)/3)))*3,w=Math.pow(10,-k),S=WL[8+k/3];return function(T){return y(w*T)+S}}return{format:d,formatPrefix:h}}var kb,GA,V8;gye({thousands:",",grouping:[3],currency:["$",""]});function gye(e){return kb=pye(e),GA=kb.format,V8=kb.formatPrefix,kb}function bye(e){return Math.max(0,-mf(Math.abs(e)))}function yye(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mf(t)/3)))*3-mf(Math.abs(e)))}function vye(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mf(t)-mf(e))+1}function Z8(e,t,n,r){var i=bE(e,t,n),a;switch(r=fp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=yye(i,o))&&(r.precision=a),V8(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=vye(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=bye(i))&&(r.precision=a-(r.type==="%")*2);break}}return GA(r)}function rc(e){var t=e.domain;return e.ticks=function(n){var r=t();return pE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Z8(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],u,d,h=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=gE(o,l,n),d===u)return r[i]=o,r[a]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function X8(){var e=FA();return e.copy=function(){return Hp(e,X8())},Na.apply(e,arguments),rc(e)}function J8(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,uv),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return J8(e).unknown(t)},e=arguments.length?Array.from(e,uv):[0,1],rc(n)}function Q8(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function VL(e){return Math.log(e)}function ZL(e){return Math.exp(e)}function xye(e){return-Math.log(-e)}function wye(e){return-Math.exp(-e)}function _ye(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Sye(e){return e===10?_ye:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kye(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function XL(e){return(t,n)=>-e(-t,n)}function YA(e){const t=e(VL,ZL),n=t.domain;let r=10,i,a;function o(){return i=kye(r),a=Sye(r),n()[0]<0?(i=XL(i),a=XL(a),e(xye,wye)):e(VL,ZL),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const u=n();let d=u[0],h=u[u.length-1];const p=h<d;p&&([d,h]=[h,d]);let b=i(d),y=i(h),k,w;const S=l==null?10:+l;let T=[];if(!(r%1)&&y-b<S){if(b=Math.floor(b),y=Math.ceil(y),d>0){for(;b<=y;++b)for(k=1;k<r;++k)if(w=b<0?k/a(-b):k*a(b),!(w<d)){if(w>h)break;T.push(w)}}else for(;b<=y;++b)for(k=r-1;k>=1;--k)if(w=b>0?k/a(-b):k*a(b),!(w<d)){if(w>h)break;T.push(w)}T.length*2<S&&(T=pE(d,h,S))}else T=pE(b,y,Math.min(y-b,S)).map(a);return p?T.reverse():T},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=fp(u)).precision==null&&(u.trim=!0),u=GA(u)),l===1/0)return u;const d=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?u(h):""}},t.nice=()=>n(Q8(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function ez(){const e=YA(Dx()).domain([1,10]);return e.copy=()=>Hp(e,ez()).base(e.base()),Na.apply(e,arguments),e}function JL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qA(e){var t=1,n=e(JL(t),QL(t));return n.constant=function(r){return arguments.length?e(JL(t=+r),QL(t)):t},rc(n)}function tz(){var e=qA(Dx());return e.copy=function(){return Hp(e,tz()).constant(e.constant())},Na.apply(e,arguments)}function eI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Eye(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jye(e){return e<0?-e*e:e*e}function KA(e){var t=e(Vr,Vr),n=1;function r(){return n===1?e(Vr,Vr):n===.5?e(Eye,jye):e(eI(n),eI(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},rc(t)}function WA(){var e=KA(Dx());return e.copy=function(){return Hp(e,WA()).exponent(e.exponent())},Na.apply(e,arguments),e}function Aye(){return WA.apply(null,arguments).exponent(.5)}function tI(e){return Math.sign(e)*e*e}function Tye(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function nz(){var e=FA(),t=[0,1],n=!1,r;function i(a){var o=Tye(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(tI(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,uv)).map(tI)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return nz(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Na.apply(i,arguments),rc(i)}function rz(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=Mbe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Up(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Gl),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return rz().domain(e).range(t).unknown(r)},Na.apply(a,arguments)}function iz(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[Up(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return iz().domain([e,t]).range(i).unknown(a)},Na.apply(rc(o),arguments)}function az(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Up(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return az().domain(e).range(t).unknown(n)},Na.apply(i,arguments)}const JS=new Date,QS=new Date;function nr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let d;do u.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return u},i.filter=a=>nr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(JS.setTime(+a),QS.setTime(+o),e(JS),e(QS),Math.floor(n(JS,QS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const fv=nr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?nr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fv);fv.range;const Es=1e3,va=Es*60,js=va*60,Rs=js*24,VA=Rs*7,nI=Rs*30,ek=Rs*365,fu=nr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getUTCSeconds());fu.range;const ZA=nr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es)},(e,t)=>{e.setTime(+e+t*va)},(e,t)=>(t-e)/va,e=>e.getMinutes());ZA.range;const XA=nr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*va)},(e,t)=>(t-e)/va,e=>e.getUTCMinutes());XA.range;const JA=nr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es-e.getMinutes()*va)},(e,t)=>{e.setTime(+e+t*js)},(e,t)=>(t-e)/js,e=>e.getHours());JA.range;const QA=nr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*js)},(e,t)=>(t-e)/js,e=>e.getUTCHours());QA.range;const Gp=nr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*va)/Rs,e=>e.getDate()-1);Gp.range;const Px=nr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rs,e=>e.getUTCDate()-1);Px.range;const oz=nr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rs,e=>Math.floor(e/Rs));oz.range;function Mu(e){return nr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*va)/VA)}const Rx=Mu(0),hv=Mu(1),Nye=Mu(2),Oye=Mu(3),pf=Mu(4),Cye=Mu(5),Mye=Mu(6);Rx.range;hv.range;Nye.range;Oye.range;pf.range;Cye.range;Mye.range;function Du(e){return nr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/VA)}const Lx=Du(0),mv=Du(1),Dye=Du(2),Pye=Du(3),gf=Du(4),Rye=Du(5),Lye=Du(6);Lx.range;mv.range;Dye.range;Pye.range;gf.range;Rye.range;Lye.range;const eT=nr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());eT.range;const tT=nr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tT.range;const Ls=nr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ls.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ls.range;const Is=nr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Is.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Is.range;function sz(e,t,n,r,i,a){const o=[[fu,1,Es],[fu,5,5*Es],[fu,15,15*Es],[fu,30,30*Es],[a,1,va],[a,5,5*va],[a,15,15*va],[a,30,30*va],[i,1,js],[i,3,3*js],[i,6,6*js],[i,12,12*js],[r,1,Rs],[r,2,2*Rs],[n,1,VA],[t,1,nI],[t,3,3*nI],[e,1,ek]];function l(d,h,p){const b=h<d;b&&([d,h]=[h,d]);const y=p&&typeof p.range=="function"?p:u(d,h,p),k=y?y.range(d,+h+1):[];return b?k.reverse():k}function u(d,h,p){const b=Math.abs(h-d)/p,y=LA(([,,S])=>S).right(o,b);if(y===o.length)return e.every(bE(d/ek,h/ek,p));if(y===0)return fv.every(Math.max(bE(d,h,p),1));const[k,w]=o[b/o[y-1][2]<o[y][2]/b?y-1:y];return k.every(w)}return[l,u]}const[Iye,$ye]=sz(Is,tT,Lx,oz,QA,XA),[Bye,zye]=sz(Ls,eT,Rx,Gp,JA,ZA);function tk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function nk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Uye(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=pm(i),h=gm(i),p=pm(a),b=gm(a),y=pm(o),k=gm(o),w=pm(l),S=gm(l),T=pm(u),O=gm(u),A={a:J,A:Q,b:oe,B:te,c:null,d:lI,e:lI,f:uve,g:xve,G:_ve,H:sve,I:lve,j:cve,L:lz,m:dve,M:fve,p:z,q:V,Q:dI,s:fI,S:hve,u:mve,U:pve,V:gve,w:bve,W:yve,x:null,X:null,y:vve,Y:wve,Z:Sve,"%":uI},C={a:re,A:ie,b:ue,B:de,c:null,d:cI,e:cI,f:Ave,g:Ive,G:Bve,H:kve,I:Eve,j:jve,L:uz,m:Tve,M:Nve,p:pe,q:Ne,Q:dI,s:fI,S:Ove,u:Cve,U:Mve,V:Dve,w:Pve,W:Rve,x:null,X:null,y:Lve,Y:$ve,Z:zve,"%":uI},D={a:K,A:H,b:B,B:q,c:X,d:oI,e:oI,f:rve,g:aI,G:iI,H:sI,I:sI,j:Qye,L:nve,m:Jye,M:eve,p:W,q:Xye,Q:ave,s:ove,S:tve,u:qye,U:Kye,V:Wye,w:Yye,W:Vye,x:Z,X:G,y:aI,Y:iI,Z:Zye,"%":ive};A.x=P(n,A),A.X=P(r,A),A.c=P(t,A),C.x=P(n,C),C.X=P(r,C),C.c=P(t,C);function P(se,je){return function(ke){var fe=[],Ue=-1,Fe=0,tt=se.length,Oe,$e,He;for(ke instanceof Date||(ke=new Date(+ke));++Ue<tt;)se.charCodeAt(Ue)===37&&(fe.push(se.slice(Fe,Ue)),($e=rI[Oe=se.charAt(++Ue)])!=null?Oe=se.charAt(++Ue):$e=Oe==="e"?" ":"0",(He=je[Oe])&&(Oe=He(ke,$e)),fe.push(Oe),Fe=Ue+1);return fe.push(se.slice(Fe,Ue)),fe.join("")}}function I(se,je){return function(ke){var fe=mm(1900,void 0,1),Ue=U(fe,se,ke+="",0),Fe,tt;if(Ue!=ke.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(je&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Fe=nk(mm(fe.y,0,1)),tt=Fe.getUTCDay(),Fe=tt>4||tt===0?mv.ceil(Fe):mv(Fe),Fe=Px.offset(Fe,(fe.V-1)*7),fe.y=Fe.getUTCFullYear(),fe.m=Fe.getUTCMonth(),fe.d=Fe.getUTCDate()+(fe.w+6)%7):(Fe=tk(mm(fe.y,0,1)),tt=Fe.getDay(),Fe=tt>4||tt===0?hv.ceil(Fe):hv(Fe),Fe=Gp.offset(Fe,(fe.V-1)*7),fe.y=Fe.getFullYear(),fe.m=Fe.getMonth(),fe.d=Fe.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),tt="Z"in fe?nk(mm(fe.y,0,1)).getUTCDay():tk(mm(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(tt+5)%7:fe.w+fe.U*7-(tt+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,nk(fe)):tk(fe)}}function U(se,je,ke,fe){for(var Ue=0,Fe=je.length,tt=ke.length,Oe,$e;Ue<Fe;){if(fe>=tt)return-1;if(Oe=je.charCodeAt(Ue++),Oe===37){if(Oe=je.charAt(Ue++),$e=D[Oe in rI?je.charAt(Ue++):Oe],!$e||(fe=$e(se,ke,fe))<0)return-1}else if(Oe!=ke.charCodeAt(fe++))return-1}return fe}function W(se,je,ke){var fe=d.exec(je.slice(ke));return fe?(se.p=h.get(fe[0].toLowerCase()),ke+fe[0].length):-1}function K(se,je,ke){var fe=y.exec(je.slice(ke));return fe?(se.w=k.get(fe[0].toLowerCase()),ke+fe[0].length):-1}function H(se,je,ke){var fe=p.exec(je.slice(ke));return fe?(se.w=b.get(fe[0].toLowerCase()),ke+fe[0].length):-1}function B(se,je,ke){var fe=T.exec(je.slice(ke));return fe?(se.m=O.get(fe[0].toLowerCase()),ke+fe[0].length):-1}function q(se,je,ke){var fe=w.exec(je.slice(ke));return fe?(se.m=S.get(fe[0].toLowerCase()),ke+fe[0].length):-1}function X(se,je,ke){return U(se,t,je,ke)}function Z(se,je,ke){return U(se,n,je,ke)}function G(se,je,ke){return U(se,r,je,ke)}function J(se){return o[se.getDay()]}function Q(se){return a[se.getDay()]}function oe(se){return u[se.getMonth()]}function te(se){return l[se.getMonth()]}function z(se){return i[+(se.getHours()>=12)]}function V(se){return 1+~~(se.getMonth()/3)}function re(se){return o[se.getUTCDay()]}function ie(se){return a[se.getUTCDay()]}function ue(se){return u[se.getUTCMonth()]}function de(se){return l[se.getUTCMonth()]}function pe(se){return i[+(se.getUTCHours()>=12)]}function Ne(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var je=P(se+="",A);return je.toString=function(){return se},je},parse:function(se){var je=I(se+="",!1);return je.toString=function(){return se},je},utcFormat:function(se){var je=P(se+="",C);return je.toString=function(){return se},je},utcParse:function(se){var je=I(se+="",!0);return je.toString=function(){return se},je}}}var rI={"-":"",_:" ",0:"0"},yr=/^\s*\d+/,Fye=/^%/,Hye=/[\\^$*+?|[\]().{}]/g;function Mt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Gye(e){return e.replace(Hye,"\\$&")}function pm(e){return new RegExp("^(?:"+e.map(Gye).join("|")+")","i")}function gm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Yye(e,t,n){var r=yr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function qye(e,t,n){var r=yr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Kye(e,t,n){var r=yr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Wye(e,t,n){var r=yr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Vye(e,t,n){var r=yr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function iI(e,t,n){var r=yr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function aI(e,t,n){var r=yr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Zye(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xye(e,t,n){var r=yr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Jye(e,t,n){var r=yr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function oI(e,t,n){var r=yr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Qye(e,t,n){var r=yr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function sI(e,t,n){var r=yr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function eve(e,t,n){var r=yr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function tve(e,t,n){var r=yr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function nve(e,t,n){var r=yr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function rve(e,t,n){var r=yr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ive(e,t,n){var r=Fye.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ave(e,t,n){var r=yr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ove(e,t,n){var r=yr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function lI(e,t){return Mt(e.getDate(),t,2)}function sve(e,t){return Mt(e.getHours(),t,2)}function lve(e,t){return Mt(e.getHours()%12||12,t,2)}function cve(e,t){return Mt(1+Gp.count(Ls(e),e),t,3)}function lz(e,t){return Mt(e.getMilliseconds(),t,3)}function uve(e,t){return lz(e,t)+"000"}function dve(e,t){return Mt(e.getMonth()+1,t,2)}function fve(e,t){return Mt(e.getMinutes(),t,2)}function hve(e,t){return Mt(e.getSeconds(),t,2)}function mve(e){var t=e.getDay();return t===0?7:t}function pve(e,t){return Mt(Rx.count(Ls(e)-1,e),t,2)}function cz(e){var t=e.getDay();return t>=4||t===0?pf(e):pf.ceil(e)}function gve(e,t){return e=cz(e),Mt(pf.count(Ls(e),e)+(Ls(e).getDay()===4),t,2)}function bve(e){return e.getDay()}function yve(e,t){return Mt(hv.count(Ls(e)-1,e),t,2)}function vve(e,t){return Mt(e.getFullYear()%100,t,2)}function xve(e,t){return e=cz(e),Mt(e.getFullYear()%100,t,2)}function wve(e,t){return Mt(e.getFullYear()%1e4,t,4)}function _ve(e,t){var n=e.getDay();return e=n>=4||n===0?pf(e):pf.ceil(e),Mt(e.getFullYear()%1e4,t,4)}function Sve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mt(t/60|0,"0",2)+Mt(t%60,"0",2)}function cI(e,t){return Mt(e.getUTCDate(),t,2)}function kve(e,t){return Mt(e.getUTCHours(),t,2)}function Eve(e,t){return Mt(e.getUTCHours()%12||12,t,2)}function jve(e,t){return Mt(1+Px.count(Is(e),e),t,3)}function uz(e,t){return Mt(e.getUTCMilliseconds(),t,3)}function Ave(e,t){return uz(e,t)+"000"}function Tve(e,t){return Mt(e.getUTCMonth()+1,t,2)}function Nve(e,t){return Mt(e.getUTCMinutes(),t,2)}function Ove(e,t){return Mt(e.getUTCSeconds(),t,2)}function Cve(e){var t=e.getUTCDay();return t===0?7:t}function Mve(e,t){return Mt(Lx.count(Is(e)-1,e),t,2)}function dz(e){var t=e.getUTCDay();return t>=4||t===0?gf(e):gf.ceil(e)}function Dve(e,t){return e=dz(e),Mt(gf.count(Is(e),e)+(Is(e).getUTCDay()===4),t,2)}function Pve(e){return e.getUTCDay()}function Rve(e,t){return Mt(mv.count(Is(e)-1,e),t,2)}function Lve(e,t){return Mt(e.getUTCFullYear()%100,t,2)}function Ive(e,t){return e=dz(e),Mt(e.getUTCFullYear()%100,t,2)}function $ve(e,t){return Mt(e.getUTCFullYear()%1e4,t,4)}function Bve(e,t){var n=e.getUTCDay();return e=n>=4||n===0?gf(e):gf.ceil(e),Mt(e.getUTCFullYear()%1e4,t,4)}function zve(){return"+0000"}function uI(){return"%"}function dI(e){return+e}function fI(e){return Math.floor(+e/1e3)}var Cd,fz,hz;Uve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Uve(e){return Cd=Uye(e),fz=Cd.format,Cd.parse,hz=Cd.utcFormat,Cd.utcParse,Cd}function Fve(e){return new Date(e)}function Hve(e){return e instanceof Date?+e:+new Date(+e)}function nT(e,t,n,r,i,a,o,l,u,d){var h=FA(),p=h.invert,b=h.domain,y=d(".%L"),k=d(":%S"),w=d("%I:%M"),S=d("%I %p"),T=d("%a %d"),O=d("%b %d"),A=d("%B"),C=d("%Y");function D(P){return(u(P)<P?y:l(P)<P?k:o(P)<P?w:a(P)<P?S:r(P)<P?i(P)<P?T:O:n(P)<P?A:C)(P)}return h.invert=function(P){return new Date(p(P))},h.domain=function(P){return arguments.length?b(Array.from(P,Hve)):b().map(Fve)},h.ticks=function(P){var I=b();return e(I[0],I[I.length-1],P??10)},h.tickFormat=function(P,I){return I==null?D:d(I)},h.nice=function(P){var I=b();return(!P||typeof P.range!="function")&&(P=t(I[0],I[I.length-1],P??10)),P?b(Q8(I,P)):h},h.copy=function(){return Hp(h,nT(e,t,n,r,i,a,o,l,u,d))},h}function Gve(){return Na.apply(nT(Bye,zye,Ls,eT,Rx,Gp,JA,ZA,fu,fz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yve(){return Na.apply(nT(Iye,$ye,Is,tT,Lx,Px,QA,XA,fu,hz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ix(){var e=0,t=1,n,r,i,a,o=Vr,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(o=p,d):o};function h(p){return function(b){var y,k;return arguments.length?([y,k]=b,o=p(y,k),d):[o(0),o(1)]}}return d.range=h(Df),d.rangeRound=h(UA),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),d}}function ic(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mz(){var e=rc(Ix()(Vr));return e.copy=function(){return ic(e,mz())},Hs.apply(e,arguments)}function pz(){var e=YA(Ix()).domain([1,10]);return e.copy=function(){return ic(e,pz()).base(e.base())},Hs.apply(e,arguments)}function gz(){var e=qA(Ix());return e.copy=function(){return ic(e,gz()).constant(e.constant())},Hs.apply(e,arguments)}function rT(){var e=KA(Ix());return e.copy=function(){return ic(e,rT()).exponent(e.exponent())},Hs.apply(e,arguments)}function qve(){return rT.apply(null,arguments).exponent(.5)}function bz(){var e=[],t=Vr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Up(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Gl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Cbe(e,a/r))},n.copy=function(){return bz(t).domain(e)},Hs.apply(n,arguments)}function $x(){var e=0,t=.5,n=1,r=1,i,a,o,l,u,d=Vr,h,p=!1,b;function y(w){return isNaN(w=+w)?b:(w=.5+((w=+h(w))-a)*(r*w<r*a?l:u),d(p?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,n]=w,i=h(e=+e),a=h(t=+t),o=h(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y):[e,t,n]},y.clamp=function(w){return arguments.length?(p=!!w,y):p},y.interpolator=function(w){return arguments.length?(d=w,y):d};function k(w){return function(S){var T,O,A;return arguments.length?([T,O,A]=S,d=iye(w,[T,O,A]),y):[d(0),d(.5),d(1)]}}return y.range=k(Df),y.rangeRound=k(UA),y.unknown=function(w){return arguments.length?(b=w,y):b},function(w){return h=w,i=w(e),a=w(t),o=w(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function yz(){var e=rc($x()(Vr));return e.copy=function(){return ic(e,yz())},Hs.apply(e,arguments)}function vz(){var e=YA($x()).domain([.1,1,10]);return e.copy=function(){return ic(e,vz()).base(e.base())},Hs.apply(e,arguments)}function xz(){var e=qA($x());return e.copy=function(){return ic(e,xz()).constant(e.constant())},Hs.apply(e,arguments)}function iT(){var e=KA($x());return e.copy=function(){return ic(e,iT()).exponent(e.exponent())},Hs.apply(e,arguments)}function Kve(){return iT.apply(null,arguments).exponent(.5)}const jm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$A,scaleDiverging:yz,scaleDivergingLog:vz,scaleDivergingPow:iT,scaleDivergingSqrt:Kve,scaleDivergingSymlog:xz,scaleIdentity:J8,scaleImplicit:yE,scaleLinear:X8,scaleLog:ez,scaleOrdinal:IA,scalePoint:Pbe,scalePow:WA,scaleQuantile:rz,scaleQuantize:iz,scaleRadial:nz,scaleSequential:mz,scaleSequentialLog:pz,scaleSequentialPow:rT,scaleSequentialQuantile:bz,scaleSequentialSqrt:qve,scaleSequentialSymlog:gz,scaleSqrt:Aye,scaleSymlog:tz,scaleThreshold:az,scaleTime:Gve,scaleUtc:Yve,tickFormat:Z8},Symbol.toStringTag,{value:"Module"}));var ac=e=>e.chartData,Wve=xe([ac],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),aT=(e,t,n,r)=>r?Wve(e):ac(e);function Jl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Cn(t)&&Cn(n))return!0}return!1}function hI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function wz(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Cn(n))i=n;else if(typeof n=="function")return;if(Cn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Jl(o))return o}}function Vve(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Jl(r))return hI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(et(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&H3.test(i)){var u=H3.exec(i);if(u==null||t==null)o=void 0;else{var d=+u[1];o=t[0]-d}}else o=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(et(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&G3.test(a)){var h=G3.exec(a);if(h==null||t==null)l=void 0;else{var p=+h[1];l=t[1]+p}}else l=t?.[1];var b=[o,l];if(Jl(b))return t==null?b:hI(b,t,n)}}}var Pf=1e9,Zve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sT,hn=!0,Ea="[DecimalError] ",vu=Ea+"Invalid argument: ",oT=Ea+"Exponent out of range: ",Rf=Math.floor,iu=Math.pow,Xve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zi,hr=1e7,an=7,_z=9007199254740991,pv=Rf(_z/an),Ge={};Ge.absoluteValue=Ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ge.comparedTo=Ge.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*an;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ge.dividedBy=Ge.div=function(e){return Ts(this,new this.constructor(e))};Ge.dividedToIntegerBy=Ge.idiv=function(e){var t=this,n=t.constructor;return Xt(Ts(t,new n(e),0,1),n.precision)};Ge.equals=Ge.eq=function(e){return!this.cmp(e)};Ge.exponent=function(){return Wn(this)};Ge.greaterThan=Ge.gt=function(e){return this.cmp(e)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(e){return this.cmp(e)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(e){return this.cmp(e)<0};Ge.lessThanOrEqualTo=Ge.lte=function(e){return this.cmp(e)<1};Ge.logarithm=Ge.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(zi))throw Error(Ea+"NaN");if(n.s<1)throw Error(Ea+(n.s?"NaN":"-Infinity"));return n.eq(zi)?new r(0):(hn=!1,t=Ts(hp(n,a),hp(e,a),a),hn=!0,Xt(t,i))};Ge.minus=Ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ez(t,e):Sz(t,(e.s=-e.s,e))};Ge.modulo=Ge.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ea+"NaN");return n.s?(hn=!1,t=Ts(n,e,0,1).times(e),hn=!0,n.minus(t)):Xt(new r(n),i)};Ge.naturalExponential=Ge.exp=function(){return kz(this)};Ge.naturalLogarithm=Ge.ln=function(){return hp(this)};Ge.negated=Ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ge.plus=Ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Sz(t,e):Ez(t,(e.s=-e.s,e))};Ge.precision=Ge.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vu+e);if(t=Wn(i)+1,r=i.d.length-1,n=r*an+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ge.squareRoot=Ge.sqrt=function(){var e,t,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Ea+"NaN")}for(e=Wn(l),hn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Ro(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Rf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(Ts(l,a,o+2)).times(.5),Ro(a.d).slice(0,o)===(t=Ro(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Xt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return hn=!0,Xt(r,n)};Ge.times=Ge.mul=function(e){var t,n,r,i,a,o,l,u,d,h=this,p=h.constructor,b=h.d,y=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,u=b.length,d=y.length,u<d&&(a=b,b=y,y=a,o=u,u=d,d=o),a=[],o=u+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+y[r]*b[i-r-1]+t,a[i--]=l%hr|0,t=l/hr|0;a[i]=(a[i]+t)%hr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,hn?Xt(e,p.precision):e};Ge.toDecimalPlaces=Ge.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ho(e,0,Pf),t===void 0?t=r.rounding:Ho(t,0,8),Xt(n,e+Wn(n)+1,t))};Ge.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ju(r,!0):(Ho(e,0,Pf),t===void 0?t=i.rounding:Ho(t,0,8),r=Xt(new i(r),e+1,t),n=ju(r,!0,e+1)),n};Ge.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?ju(i):(Ho(e,0,Pf),t===void 0?t=a.rounding:Ho(t,0,8),r=Xt(new a(i),e+Wn(i)+1,t),n=ju(r.abs(),!1,e+Wn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ge.toInteger=Ge.toint=function(){var e=this,t=e.constructor;return Xt(new t(e),Wn(e)+1,t.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(e){var t,n,r,i,a,o,l=this,u=l.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(zi);if(l=new u(l),!l.s){if(e.s<1)throw Error(Ea+"Infinity");return l}if(l.eq(zi))return l;if(r=u.precision,e.eq(zi))return Xt(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=h<0?-h:h)<=_z){for(i=new u(zi),t=Math.ceil(r/an+4),hn=!1;n%2&&(i=i.times(l),pI(i.d,t)),n=Rf(n/2),n!==0;)l=l.times(l),pI(l.d,t);return hn=!0,e.s<0?new u(zi).div(i):Xt(i,r)}}else if(a<0)throw Error(Ea+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,hn=!1,i=e.times(hp(l,r+d)),hn=!0,i=kz(i),i.s=a,i};Ge.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Wn(i),r=ju(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ho(e,1,Pf),t===void 0?t=a.rounding:Ho(t,0,8),i=Xt(new a(i),e,t),n=Wn(i),r=ju(i,e<=n||n<=a.toExpNeg,e)),r};Ge.toSignificantDigits=Ge.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ho(e,1,Pf),t===void 0?t=r.rounding:Ho(t,0,8)),Xt(new r(n),e,t)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wn(e),n=e.constructor;return ju(e,t<=n.toExpNeg||t>=n.toExpPos)};function Sz(e,t){var n,r,i,a,o,l,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),hn?Xt(t,p):t;if(u=e.d,d=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=d.length):(r=d,i=o,l=u.length),o=Math.ceil(p/an),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=d.length,l-a<0&&(a=l,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/hr|0,u[a]%=hr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,hn?Xt(t,p):t}function Ho(e,t,n){if(e!==~~e||e<t||e>n)throw Error(vu+e)}function Ro(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=an-r.length,n&&(a+=Ml(n)),a+=r;o=e[t],r=o+"",n=an-r.length,n&&(a+=Ml(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ts=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%hr|0,o=a/hr|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*hr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,d,h,p,b,y,k,w,S,T,O,A,C,D,P,I,U,W=r.constructor,K=r.s==i.s?1:-1,H=r.d,B=i.d;if(!r.s)return new W(r);if(!i.s)throw Error(Ea+"Division by zero");for(u=r.e-i.e,I=B.length,D=H.length,y=new W(K),k=y.d=[],d=0;B[d]==(H[d]||0);)++d;if(B[d]>(H[d]||0)&&--u,a==null?O=a=W.precision:o?O=a+(Wn(r)-Wn(i))+1:O=a,O<0)return new W(0);if(O=O/an+2|0,d=0,I==1)for(h=0,B=B[0],O++;(d<D||h)&&O--;d++)A=h*hr+(H[d]||0),k[d]=A/B|0,h=A%B|0;else{for(h=hr/(B[0]+1)|0,h>1&&(B=e(B,h),H=e(H,h),I=B.length,D=H.length),C=I,w=H.slice(0,I),S=w.length;S<I;)w[S++]=0;U=B.slice(),U.unshift(0),P=B[0],B[1]>=hr/2&&++P;do h=0,l=t(B,w,I,S),l<0?(T=w[0],I!=S&&(T=T*hr+(w[1]||0)),h=T/P|0,h>1?(h>=hr&&(h=hr-1),p=e(B,h),b=p.length,S=w.length,l=t(p,w,b,S),l==1&&(h--,n(p,I<b?U:B,b))):(h==0&&(l=h=1),p=B.slice()),b=p.length,b<S&&p.unshift(0),n(w,p,S),l==-1&&(S=w.length,l=t(B,w,I,S),l<1&&(h++,n(w,I<S?U:B,S))),S=w.length):l===0&&(h++,w=[0]),k[d++]=h,l&&w[0]?w[S++]=H[C]||0:(w=[H[C]],S=1);while((C++<D||w[0]!==void 0)&&O--)}return k[0]||k.shift(),y.e=u,Xt(y,o?a+Wn(y)+1:a)}})();function kz(e,t){var n,r,i,a,o,l,u=0,d=0,h=e.constructor,p=h.precision;if(Wn(e)>16)throw Error(oT+Wn(e));if(!e.s)return new h(zi);for(hn=!1,l=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(iu(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(zi),h.precision=l;;){if(i=Xt(i.times(e),l),n=n.times(++u),o=a.plus(Ts(i,n,l)),Ro(o.d).slice(0,l)===Ro(a.d).slice(0,l)){for(;d--;)a=Xt(a.times(a),l);return h.precision=p,t==null?(hn=!0,Xt(a,p)):a}a=o}}function Wn(e){for(var t=e.e*an,n=e.d[0];n>=10;n/=10)t++;return t}function rk(e,t,n){if(t>e.LN10.sd())throw hn=!0,n&&(e.precision=n),Error(Ea+"LN10 precision limit exceeded");return Xt(new e(e.LN10),t)}function Ml(e){for(var t="";e--;)t+="0";return t}function hp(e,t){var n,r,i,a,o,l,u,d,h,p=1,b=10,y=e,k=y.d,w=y.constructor,S=w.precision;if(y.s<1)throw Error(Ea+(y.s?"NaN":"-Infinity"));if(y.eq(zi))return new w(0);if(t==null?(hn=!1,d=S):d=t,y.eq(10))return t==null&&(hn=!0),rk(w,d);if(d+=b,w.precision=d,n=Ro(k),r=n.charAt(0),a=Wn(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=Ro(y.d),r=n.charAt(0),p++;a=Wn(y),r>1?(y=new w("0."+n),a++):y=new w(r+"."+n.slice(1))}else return u=rk(w,d+2,S).times(a+""),y=hp(new w(r+"."+n.slice(1)),d-b).plus(u),w.precision=S,t==null?(hn=!0,Xt(y,S)):y;for(l=o=y=Ts(y.minus(zi),y.plus(zi),d),h=Xt(y.times(y),d),i=3;;){if(o=Xt(o.times(h),d),u=l.plus(Ts(o,new w(i),d)),Ro(u.d).slice(0,d)===Ro(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(rk(w,d+2,S).times(a+""))),l=Ts(l,new w(p),d),w.precision=S,t==null?(hn=!0,Xt(l,S)):l;l=u,i+=2}}function mI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Rf(n/an),e.d=[],r=(n+1)%an,n<0&&(r+=an),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=an;r<i;)e.d.push(+t.slice(r,r+=an));t=t.slice(r),r=an-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),hn&&(e.e>pv||e.e<-pv))throw Error(oT+n)}else e.s=0,e.e=0,e.d=[0];return e}function Xt(e,t,n){var r,i,a,o,l,u,d,h,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=an,i=t,d=p[h=0];else{if(h=Math.ceil((r+1)/an),a=p.length,h>=a)return e;for(d=a=p[h],o=1;a>=10;a/=10)o++;r%=an,i=r-an+o}if(n!==void 0&&(a=iu(10,o-i-1),l=d/a%10|0,u=t<0||p[h+1]!==void 0||d%a,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/iu(10,o-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=Wn(e),p.length=1,t=t-a-1,p[0]=iu(10,(an-t%an)%an),e.e=Rf(-t/an)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=iu(10,an-r),p[h]=i>0?(d/iu(10,o-i)%iu(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==hr&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=hr)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(hn&&(e.e>pv||e.e<-pv))throw Error(oT+Wn(e));return e}function Ez(e,t){var n,r,i,a,o,l,u,d,h,p,b=e.constructor,y=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),hn?Xt(t,y):t;if(u=e.d,p=t.d,r=t.e,d=e.e,u=u.slice(),o=d-r,o){for(h=o<0,h?(n=u,o=-o,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(y/an),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}o=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=hr-1;--u[a],u[i]+=hr}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,hn?Xt(t,y):t):new b(0)}function ju(e,t,n){var r,i=Wn(e),a=Ro(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ml(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ml(-i-1)+a,n&&(r=n-o)>0&&(a+=Ml(r))):i>=o?(a+=Ml(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ml(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ml(r))),e.s<0?"-"+a:a}function pI(e,t){if(e.length>t)return e.length=t,!0}function jz(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(vu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return mI(o,a.toString())}else if(typeof a!="string")throw Error(vu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Xve.test(a))mI(o,a);else throw Error(vu+a)}if(i.prototype=Ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jz,i.config=i.set=Jve,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Jve(e){if(!e||typeof e!="object")throw Error(Ea+"Object expected");var t,n,r,i=["precision",1,Pf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Rf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(vu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(vu+n+": "+r);return this}var sT=jz(Zve);zi=new sT(1);const Ft=sT;var Qve=e=>e,Az={},Tz=e=>e===Az,gI=e=>function t(){return arguments.length===0||arguments.length===1&&Tz(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Nz=(e,t)=>e===1?t:gI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==Az).length;return a>=e?t(...r):Nz(e-a,gI(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=r.map(h=>Tz(h)?l.shift():h);return t(...d,...l)}))}),exe=e=>Nz(e.length,e),_E=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},txe=exe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),nxe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Qve;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},SE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function Oz(e){var t;return e===0?t=1:t=Math.floor(new Ft(e).abs().log(10).toNumber())+1,t}function Cz(e,t,n){for(var r=new Ft(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Mz=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},Dz=(e,t,n)=>{if(e.lte(0))return new Ft(0);var r=Oz(e.toNumber()),i=new Ft(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new Ft(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return t?new Ft(u.toNumber()):new Ft(Math.ceil(u.toNumber()))},rxe=(e,t,n)=>{var r=new Ft(1),i=new Ft(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Ft(10).pow(Oz(e)-1),i=new Ft(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ft(Math.floor(e)))}else e===0?i=new Ft(Math.floor((t-1)/2)):n||(i=new Ft(Math.floor(e)));var o=Math.floor((t-1)/2),l=nxe(txe(u=>i.add(new Ft(u-o).mul(r)).toNumber()),_E);return l(0,t)},Pz=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ft(0),tickMin:new Ft(0),tickMax:new Ft(0)};var o=Dz(new Ft(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new Ft(0):(l=new Ft(t).add(n).div(2),l=l.sub(new Ft(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new Ft(n).sub(l).div(o).toNumber()),h=u+d+1;return h>r?Pz(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,u=n>0?u:u+(r-h)),{step:o,tickMin:l.sub(new Ft(u).mul(o)),tickMax:l.add(new Ft(d).mul(o))})},ixe=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=Mz([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,..._E(0,i-1).map(()=>1/0)]:[..._E(0,i-1).map(()=>-1/0),u];return n>r?SE(d):d}if(l===u)return rxe(l,i,a);var{step:h,tickMin:p,tickMax:b}=Pz(l,u,o,a,0),y=Cz(p,b.add(new Ft(.1).mul(h)),h);return n>r?SE(y):y},axe=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=Mz([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),d=Dz(new Ft(l).sub(o).div(u-1),a,0),h=[...Cz(new Ft(o),new Ft(l),d),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?SE(h):h},oxe=e=>e.rootProps.barCategoryGap,Bx=e=>e.rootProps.stackOffset,Rz=e=>e.rootProps.reverseStackOrder,lT=e=>e.options.chartName,cT=e=>e.rootProps.syncId,Lz=e=>e.rootProps.syncMethod,uT=e=>e.options.eventEmitter,sxe=e=>e.rootProps.baseValue,Zr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ws={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$i={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},zx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},lxe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ws.angleAxisId,includeHidden:!1,name:void 0,reversed:ws.reversed,scale:ws.scale,tick:ws.tick,tickCount:void 0,ticks:void 0,type:ws.type,unit:void 0},cxe={allowDataOverflow:$i.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$i.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$i.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$i.scale,tick:$i.tick,tickCount:$i.tickCount,ticks:void 0,type:$i.type,unit:void 0},uxe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ws.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ws.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ws.scale,tick:ws.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dxe={allowDataOverflow:$i.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$i.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$i.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$i.scale,tick:$i.tick,tickCount:$i.tickCount,ticks:void 0,type:"category",unit:void 0},dT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?uxe:lxe,fT=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?dxe:cxe,Ux=e=>e.polarOptions,hT=xe([Us,Fs,Dr],ibe),Iz=xe([Ux,hT],(e,t)=>{if(e!=null)return Xl(e.innerRadius,t,0)}),$z=xe([Ux,hT],(e,t)=>{if(e!=null)return Xl(e.outerRadius,t,t*.8)}),fxe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Bz=xe([Ux],fxe);xe([dT,Bz],zx);var zz=xe([hT,Iz,$z],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});xe([fT,zz],zx);var Uz=xe([en,Ux,Iz,$z,Us,Fs],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=t;return{cx:Xl(o,i,i/2),cy:Xl(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),rr=(e,t)=>t,Fx=(e,t,n)=>n;function mT(e){return e?.id}function Fz(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var h=mT(l);d.forEach((p,b)=>{var y=a==null||i?b:String(Ur(p,a,null)),k=Ur(p,l.dataKey,0),w;o.has(y)?w=o.get(y):w={},Object.assign(w,{[h]:k}),o.set(y,w)})}}),Array.from(o.values())}function pT(e){return e.stackId!=null&&e.dataKey!=null}var Hx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Gx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function hxe(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ir=e=>{var t=en(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Lf=e=>e.tooltip.settings.axisId;function bI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(n),!0).forEach(function(r){mxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mxe(e,t,n){return(t=pxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pxe(e){var t=gxe(e,"string");return typeof t=="symbol"?t:t+""}function gxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kE=[0,"auto"],ur={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Hz=(e,t)=>e.cartesianAxis.xAxis[t],Gs=(e,t)=>{var n=Hz(e,t);return n??ur},dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:$p},Gz=(e,t)=>e.cartesianAxis.yAxis[t],Ys=(e,t)=>{var n=Gz(e,t);return n??dr},bxe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},gT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??bxe},ei=(e,t,n)=>{switch(t){case"xAxis":return Gs(e,n);case"yAxis":return Ys(e,n);case"zAxis":return gT(e,n);case"angleAxis":return dT(e,n);case"radiusAxis":return fT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},yxe=(e,t,n)=>{switch(t){case"xAxis":return Gs(e,n);case"yAxis":return Ys(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Yp=(e,t,n)=>{switch(t){case"xAxis":return Gs(e,n);case"yAxis":return Ys(e,n);case"angleAxis":return dT(e,n);case"radiusAxis":return fT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Yz=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function qz(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Kz=e=>e.graphicalItems.cartesianItems,vxe=xe([rr,Fx],qz),Wz=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),qp=xe([Kz,ei,vxe],Wz,{memoizeOptions:{resultEqualityCheck:Gx}}),Vz=xe([qp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(pT)),Zz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),xxe=xe([qp],Zz),Xz=e=>e.map(t=>t.data).filter(Boolean).flat(1),wxe=xe([qp],Xz,{memoizeOptions:{resultEqualityCheck:Gx}}),Jz=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},bT=xe([wxe,aT],Jz),Qz=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Ur(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ur(i,r)}))):e.map(r=>({value:r})),Yx=xe([bT,ei,qp],Qz);function eU(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Jb(e){if(Uo(e)||e instanceof Date){var t=Number(e);if(Cn(t))return t}}function yI(e){if(Array.isArray(e)){var t=[Jb(e[0]),Jb(e[1])];return Jl(t)?t:void 0}var n=Jb(e);if(n!=null)return[n,n]}function $s(e){return e.map(Jb).filter(Fhe)}function _xe(e,t,n){return!n||typeof t!="number"||ao(t)?[]:n.length?$s(n.flatMap(r=>{var i=Ur(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Cn(a)||!Cn(o)))return[t-a,t+o]})):[]}var ar=e=>{var t=ir(e),n=Lf(e);return Yp(e,t,n)},Kp=xe([ar],e=>e?.dataKey),Sxe=xe([Vz,aT,ar],Fz),tU=(e,t,n,r)=>{var i={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,d=r?[...u].reverse():u,h=d.map(mT);return[l,{stackedData:Kpe(e,h,n),graphicalItems:d}]}))},EE=xe([Sxe,Vz,Bx,Rz],tU),nU=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=Xpe(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},kxe=xe([ei],e=>e.allowDataOverflow),yT=e=>{var t;if(e==null||!("domain"in e))return kE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=$s(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:kE},rU=xe([ei],yT),iU=xe([rU,kxe],wz),Exe=xe([EE,ac,rr,iU],nU,{memoizeOptions:{resultEqualityCheck:Hx}}),vT=e=>e.errorBars,jxe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>eU(n,r)),bv=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},aU=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var d,h,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(T=>eU(i,T)),b=Ur(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),y=_xe(l,b,p);if(y.length>=2){var k=Math.min(...y),w=Math.max(...y);(a==null||k<a)&&(a=k),(o==null||w>o)&&(o=w)}var S=yI(b);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),o=o==null?S[1]:Math.max(o,S[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=yI(Ur(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),Cn(a)&&Cn(o))return[a,o]},Axe=xe([bT,ei,xxe,vT,rr],aU,{memoizeOptions:{resultEqualityCheck:Hx}});function Txe(e){var{value:t}=e;if(Uo(t)||t instanceof Date)return t}var Nxe=(e,t,n)=>{var r=e.map(Txe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&k9(r))?z8(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},oU=e=>e.referenceElements.dots,If=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Oxe=xe([oU,rr,Fx],If),sU=e=>e.referenceElements.areas,Cxe=xe([sU,rr,Fx],If),lU=e=>e.referenceElements.lines,Mxe=xe([lU,rr,Fx],If),cU=(e,t)=>{var n=$s(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Dxe=xe(Oxe,rr,cU),uU=(e,t)=>{var n=$s(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Pxe=xe([Cxe,rr],uU);function Rxe(e){var t;if(e.x!=null)return $s([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:$s(n)}function Lxe(e){var t;if(e.y!=null)return $s([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:$s(n)}var dU=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?Rxe(r):Lxe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ixe=xe([Mxe,rr],dU),$xe=xe(Dxe,Ixe,Pxe,(e,t,n)=>bv(e,n,t)),fU=(e,t,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=u?bv(r,a,i):bv(a,i);return Vve(t,d,e.allowDataOverflow)},Bxe=xe([ei,rU,iU,Exe,Axe,$xe,en,rr],fU,{memoizeOptions:{resultEqualityCheck:Hx}}),zxe=[0,1],hU=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,d=zs(t,a);if(d&&l==null){var h;return z8(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?Nxe(r,e,d):i==="expand"?zxe:o}},xT=xe([ei,en,bT,Yx,Bx,rr,Bxe],hU),mU=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(_A(a));return l in jm?l:"point"}}},Wp=xe([ei,en,Yz,lT,rr],mU);function Uxe(e){if(e!=null){if(e in jm)return jm[e]();var t="scale".concat(_A(e));if(t in jm)return jm[t]()}}function wT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Uxe(t);if(i!=null){var a=i.domain(n).range(r);return Hpe(a),a}}}var pU=(e,t,n)=>{var r=yT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Jl(e))return ixe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Jl(e))return axe(e,t.tickCount,t.allowDecimals)}},_T=xe([xT,Yp,Wp],pU),gU=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Jl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},Fxe=xe([ei,xT,_T,rr],gU),Hxe=xe(Yx,ei,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from($s(e.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),bU=xe(Hxe,en,oxe,Dr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Cn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Xl(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),Gxe=(e,t)=>{var n=Gs(e,t);return n==null||typeof n.padding!="string"?0:bU(e,"xAxis",t,n.padding)},Yxe=(e,t)=>{var n=Ys(e,t);return n==null||typeof n.padding!="string"?0:bU(e,"yAxis",t,n.padding)},qxe=xe(Gs,Gxe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Kxe=xe(Ys,Yxe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Wxe=xe([Dr,qxe,Ax,jx,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Vxe=xe([Dr,en,Kxe,Ax,jx,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Vp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Wxe(e,n,r);case"yAxis":return Vxe(e,n,r);case"zAxis":return(i=gT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Bz(e);case"radiusAxis":return zz(e,n);default:return}},yU=xe([ei,Vp],zx),$f=xe([ei,Wp,Fxe,yU],wT);xe([qp,vT,rr],jxe);function vU(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var qx=(e,t)=>t,Kx=(e,t,n)=>n,Zxe=xe(kx,qx,Kx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(vU)),Xxe=xe(Ex,qx,Kx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(vU)),xU=(e,t)=>({width:e.width,height:t.height}),Jxe=(e,t)=>{var n=typeof t.width=="number"?t.width:$p;return{width:n,height:e.height}},Qxe=xe(Dr,Gs,xU),ewe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},twe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},nwe=xe(Fs,Dr,Zxe,qx,Kx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=xU(t,l);o==null&&(o=ewe(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),a}),rwe=xe(Us,Dr,Xxe,qx,Kx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=Jxe(t,l);o==null&&(o=twe(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),a}),iwe=(e,t)=>{var n=Gs(e,t);if(n!=null)return nwe(e,n.orientation,n.mirror)},awe=xe([Dr,Gs,iwe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),owe=(e,t)=>{var n=Ys(e,t);if(n!=null)return rwe(e,n.orientation,n.mirror)},swe=xe([Dr,Ys,owe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),lwe=xe(Dr,Ys,(e,t)=>{var n=typeof t.width=="number"?t.width:$p;return{width:n,height:e.height}}),wU=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=zs(e,r),u=t.map(d=>d.value);if(o&&l&&a==="category"&&i&&k9(u))return u}},ST=xe([en,Yx,ei,rr],wU),_U=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=zs(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},kT=xe([en,Yx,Yp,rr],_U),vI=xe([en,yxe,Wp,$f,ST,kT,Vp,_T,rr],(e,t,n,r,i,a,o,l,u)=>{if(t!=null){var d=zs(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:o,realScaleType:n,scale:r}}}),cwe=(e,t,n,r,i,a,o,l,u)=>{if(!(t==null||r==null)){var d=zs(e,u),{type:h,ticks:p,tickCount:b}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,k=h==="category"&&r.bandwidth?r.bandwidth()/y:0;k=u==="angleAxis"&&a!=null&&a.length>=2?ya(a[0]-a[1])*2*k:k;var w=p||i;if(w){var S=w.map((T,O)=>{var A=o?o.indexOf(T):T;return{index:O,coordinate:r(A)+k,value:T,offset:k}});return S.filter(T=>Cn(T.coordinate))}return d&&l?l.map((T,O)=>({coordinate:r(T)+k,value:T,index:O,offset:k})).filter(T=>Cn(T.coordinate)):r.ticks?r.ticks(b).map(T=>({coordinate:r(T)+k,value:T,offset:k})):r.domain().map((T,O)=>({coordinate:r(T)+k,value:o?o[T]:T,index:O,offset:k}))}},SU=xe([en,Yp,Wp,$f,_T,Vp,ST,kT,rr],cwe),uwe=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=zs(e,o),{tickCount:u}=t,d=0;return d=o==="angleAxis"&&r?.length>=2?ya(r[0]-r[1])*2*d:d,l&&a?a.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}},kU=xe([en,Yp,$f,Vp,ST,kT,rr],uwe),EU=xe(ei,$f,(e,t)=>{if(!(e==null||t==null))return gv(gv({},e),{},{scale:t})}),dwe=xe([ei,Wp,xT,yU],wT);xe((e,t,n)=>gT(e,n),dwe,(e,t)=>{if(!(e==null||t==null))return gv(gv({},e),{},{scale:t})});var fwe=xe([en,kx,Ex],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),jU=e=>e.options.defaultTooltipEventType,AU=e=>e.options.validateTooltipEventTypes;function TU(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function ET(e,t){var n=jU(e),r=AU(e);return TU(t,n,r)}function hwe(e){return rt(t=>ET(t,e))}var NU=(e,t)=>{var n,r=Number(t);if(!(ao(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},mwe=e=>e.tooltip.settings,Bl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},pwe={itemInteraction:{click:Bl,hover:Bl},axisInteraction:{click:Bl,hover:Bl},keyboardInteraction:Bl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},OU=Si({name:"tooltip",initialState:pwe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:dn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ja(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:dn()},removeTooltipEntrySettings:{reducer(e,t){var n=Ja(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:dn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:gwe,replaceTooltipEntrySettings:bwe,removeTooltipEntrySettings:ywe,setTooltipSettingsState:vwe,setActiveMouseOverItemIndex:xwe,mouseLeaveItem:VCe,mouseLeaveChart:CU,setActiveClickItemIndex:ZCe,setMouseOverAxisIndex:MU,setMouseClickAxisIndex:wwe,setSyncInteraction:jE,setKeyboardInteraction:AE}=OU.actions,_we=OU.reducer;function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(n),!0).forEach(function(r){Swe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Swe(e,t,n){return(t=kwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kwe(e){var t=Ewe(e,"string");return typeof t=="symbol"?t:t+""}function Ewe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jwe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Awe(e){return e.index!=null}var DU=(e,t,n,r)=>{if(t==null)return Bl;var i=jwe(e,t,n);if(i==null)return Bl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Awe(i)){if(a)return Eb(Eb({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Eb(Eb({},Bl),{},{coordinate:i.coordinate})};function Twe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Nwe(e,t){var n=Twe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function Owe(e,t,n){if(n==null||t==null)return!0;var r=Ur(e,t);return r==null||!Jl(n)?!0:Nwe(r,n)}var jT=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!Cn(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),d=t[u];return d==null||Owe(d,n,r)?String(u):null},PU=(e,t,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},RU=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Zp=e=>e.options.tooltipPayloadSearcher,Bf=e=>e.tooltip;function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(r){Cwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cwe(e,t,n){return(t=Mwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mwe(e){var t=Dwe(e,"string");return typeof t=="symbol"?t:t+""}function Dwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pwe(e,t){return e??t}var LU=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:h}=n,p=[];return e.reduce((b,y)=>{var k,{dataDefinedOnItem:w,settings:S}=y,T=Pwe(w,l),O=Array.isArray(T)?f8(T,d,h):T,A=(k=S?.dataKey)!==null&&k!==void 0?k:r,C=S?.nameKey,D;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&o==="axis"?D=E9(O,r,i):D=a(O,t,u,C),Array.isArray(D))D.forEach(I=>{var U=_I(_I({},S),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});b.push(Y3({tooltipEntrySettings:U,dataKey:I.dataKey,payload:I.payload,value:Ur(I.payload,I.dataKey),name:I.name}))});else{var P;b.push(Y3({tooltipEntrySettings:S,dataKey:A,payload:D,value:Ur(D,A),name:(P=Ur(D,C))!==null&&P!==void 0?P:S?.name}))}return b},p)}},AT=xe([ar,en,Yz,lT,ir],mU),Rwe=xe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Lwe=xe([ir,Lf],qz),Xp=xe([Rwe,ar,Lwe],Wz,{memoizeOptions:{resultEqualityCheck:Gx}}),Iwe=xe([Xp],e=>e.filter(pT)),$we=xe([Xp],Xz,{memoizeOptions:{resultEqualityCheck:Gx}}),zf=xe([$we,ac],Jz),Bwe=xe([Iwe,ac,ar],Fz),TT=xe([zf,ar,Xp],Qz),IU=xe([ar],yT),zwe=xe([ar],e=>e.allowDataOverflow),$U=xe([IU,zwe],wz),Uwe=xe([Xp],e=>e.filter(pT)),Fwe=xe([Bwe,Uwe,Bx,Rz],tU),Hwe=xe([Fwe,ac,ir,$U],nU),Gwe=xe([Xp],Zz),Ywe=xe([zf,ar,Gwe,vT,ir],aU,{memoizeOptions:{resultEqualityCheck:Hx}}),qwe=xe([oU,ir,Lf],If),Kwe=xe([qwe,ir],cU),Wwe=xe([sU,ir,Lf],If),Vwe=xe([Wwe,ir],uU),Zwe=xe([lU,ir,Lf],If),Xwe=xe([Zwe,ir],dU),Jwe=xe([Kwe,Xwe,Vwe],bv),Qwe=xe([ar,IU,$U,Hwe,Ywe,Jwe,en,ir],fU),Jp=xe([ar,en,zf,TT,Bx,ir,Qwe],hU),e_e=xe([Jp,ar,AT],pU),t_e=xe([ar,Jp,e_e,ir],gU),BU=e=>{var t=ir(e),n=Lf(e),r=!1;return Vp(e,t,n,r)},zU=xe([ar,BU],zx),UU=xe([ar,AT,t_e,zU],wT),n_e=xe([en,TT,ar,ir],wU),r_e=xe([en,TT,ar,ir],_U),i_e=(e,t,n,r,i,a,o,l)=>{if(t){var{type:u}=t,d=zs(e,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?ya(i[0]-i[1])*2*p:p,d&&o?o.map((b,y)=>({coordinate:r(b)+p,value:b,index:y,offset:p})):r.domain().map((b,y)=>({coordinate:r(b)+p,value:a?a[b]:b,index:y,offset:p}))}}},qs=xe([en,ar,AT,UU,BU,n_e,r_e,ir],i_e),NT=xe([jU,AU,mwe],(e,t,n)=>TU(n.shared,e,t)),FU=e=>e.tooltip.settings.trigger,OT=e=>e.tooltip.settings.defaultIndex,Qp=xe([Bf,NT,FU,OT],DU),mp=xe([Qp,zf,Kp,Jp],jT),HU=xe([qs,mp],NU),a_e=xe([Qp],e=>{if(e)return e.dataKey});xe([Qp],e=>{if(e)return e.graphicalItemId});var GU=xe([Bf,NT,FU,OT],RU),o_e=xe([Us,Fs,en,Dr,qs,OT,GU,Zp],PU),s_e=xe([Qp,o_e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),l_e=xe([Qp],e=>e.active),c_e=xe([GU,mp,ac,Kp,HU,Zp,NT],LU),u_e=xe([c_e],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function SI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(n),!0).forEach(function(r){d_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d_e(e,t,n){return(t=f_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f_e(e){var t=h_e(e,"string");return typeof t=="symbol"?t:t+""}function h_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m_e=()=>rt(ar),p_e=()=>{var e=m_e(),t=rt(qs),n=rt(UU);return Zy(!e||!n?void 0:kI(kI({},e),{},{scale:n}),t)};function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(r){g_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g_e(e,t,n){return(t=b_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b_e(e){var t=y_e(e,"string");return typeof t=="symbol"?t:t+""}function y_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v_e=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},x_e=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return Md(Md(Md({},r),Nr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return Md(Md(Md({},r),Nr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function w_e(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var YU=(e,t,n,r,i)=>{var a,o=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,b=void 0;if(ya(h-d)!==ya(p-h)){var y=[];if(ya(p-h)===ya(i[1]-i[0])){b=p;var k=h+i[1]-i[0];y[0]=Math.min(k,(k+d)/2),y[1]=Math.max(k,(k+d)/2)}else{b=d;var w=p+i[1]-i[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:o}=n[u]);break}}else{var T=Math.min(d,p),O=Math.max(d,p);if(e>(T+h)/2&&e<=(O+h)/2){({index:o}=n[u]);break}}}else if(t){for(var A=0;A<l;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<l-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===l-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:o}=t[A]);break}}return o},qU=()=>rt(lT),CT=(e,t)=>t,KU=(e,t,n)=>n,MT=(e,t,n,r)=>r,__e=xe(qs,e=>px(e,t=>t.coordinate)),DT=xe([Bf,CT,KU,MT],DU),PT=xe([DT,zf,Kp,Jp],jT),S_e=(e,t,n)=>{if(t!=null){var r=Bf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},WU=xe([Bf,CT,KU,MT],RU),yv=xe([Us,Fs,en,Dr,qs,MT,WU,Zp],PU),k_e=xe([DT,yv],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),VU=xe([qs,PT],NU),E_e=xe([WU,PT,ac,Kp,VU,Zp,CT],LU),j_e=xe([DT,PT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),A_e=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&w_e(e,o)){var l=Jpe(e,t),u=YU(l,a,i,n,r),d=v_e(t,i,u,e);return{activeIndex:String(u),activeCoordinate:d}}},T_e=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var l=cbe(e,n);if(l){var u=Qpe(l,t),d=YU(u,o,a,r,i),h=x_e(t,a,d,l);return{activeIndex:String(d),activeCoordinate:h}}}},N_e=(e,t,n,r,i,a,o,l)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?A_e(e,t,r,i,a,o,l):T_e(e,t,n,r,i,a,o)},O_e=xe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),C_e=xe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Zr)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:hxe}});function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(r){M_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M_e(e,t,n){return(t=D_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D_e(e){var t=P_e(e,"string");return typeof t=="symbol"?t:t+""}function P_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R_e={},L_e={zIndexMap:Object.values(Zr).reduce((e,t)=>AI(AI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),R_e)},I_e=new Set(Object.values(Zr));function $_e(e){return I_e.has(e)}var ZU=Si({name:"zIndex",initialState:L_e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:dn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!$_e(n)&&delete e.zIndexMap[n])},prepare:dn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:dn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:dn()}}}),{registerZIndexPortal:B_e,unregisterZIndexPortal:z_e,registerZIndexPortalId:U_e,unregisterZIndexPortalId:F_e}=ZU.actions,H_e=ZU.reducer;function Ks(e){var{zIndex:t,children:n}=e,r=D0e(),i=r&&t!==void 0&&t!==0,a=ki(),o=br();_.useLayoutEffect(()=>i?(o(B_e({zIndex:t})),()=>{o(z_e({zIndex:t}))}):Pp,[o,t,i]);var l=rt(d=>O_e(d,t,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?Ou.createPortal(n,u):null}function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TE.apply(null,arguments)}function TI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(n),!0).forEach(function(r){G_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G_e(e,t,n){return(t=Y_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y_e(e){var t=q_e(e,"string");return typeof t=="symbol"?t:t+""}function q_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K_e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return _.isValidElement(t)?_.cloneElement(t,r):_.createElement(n,r)}function W_e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:h}=e,p=n,b=r,y=i;if(!u||!p||h!=="ScatterChart"&&d!=="axis")return null;var k,w,S;if(h==="ScatterChart")k=p,w=wge,S=Zr.cursorLine;else if(h==="BarChart")k=_ge(l,p,a,o),w=Qge,S=Zr.cursorRectangle;else if(l==="radial"&&j9(p)){var{cx:T,cy:O,radius:A,startAngle:C,endAngle:D}=$8(p);k={cx:T,cy:O,startAngle:C,endAngle:D,innerRadius:A,outerRadius:A},w=hbe,S=Zr.cursorLine}else k={points:mbe(l,p,a)},w=Xb,S=Zr.cursorLine;var P=typeof u=="object"&&"className"in u?u.className:void 0,I=jb(jb(jb(jb({stroke:"#ccc",pointerEvents:"none"},a),k),dx(u)),{},{payload:b,payloadIndex:y,className:on("recharts-tooltip-cursor",P)});return _.createElement(Ks,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},_.createElement(K_e,{cursor:u,cursorComp:w,cursorProps:I}))}function V_e(e){var t=p_e(),n=_8(),r=Bp(),i=qU();return t==null||n==null||r==null||i==null?null:_.createElement(W_e,TE({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var XU=_.createContext(null),Z_e=()=>_.useContext(XU),ik={exports:{}},NI;function X_e(){return NI||(NI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function a(u,d,h,p,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,p||u,b),k=n?n+d:d;return u._events[k]?u._events[k].fn?u._events[k]=[u._events[k],y]:u._events[k].push(y):(u._events[k]=y,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)t.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,y=p.length,k=new Array(y);b<y;b++)k[b]=p[b].fn;return k},l.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,h,p,b,y,k){var w=n?n+d:d;if(!this._events[w])return!1;var S=this._events[w],T=arguments.length,O,A;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),T){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,b),!0;case 5:return S.fn.call(S.context,h,p,b,y),!0;case 6:return S.fn.call(S.context,h,p,b,y,k),!0}for(A=1,O=new Array(T-1);A<T;A++)O[A-1]=arguments[A];S.fn.apply(S.context,O)}else{var C=S.length,D;for(A=0;A<C;A++)switch(S[A].once&&this.removeListener(d,S[A].fn,void 0,!0),T){case 1:S[A].fn.call(S[A].context);break;case 2:S[A].fn.call(S[A].context,h);break;case 3:S[A].fn.call(S[A].context,h,p);break;case 4:S[A].fn.call(S[A].context,h,p,b);break;default:if(!O)for(D=1,O=new Array(T-1);D<T;D++)O[D-1]=arguments[D];S[A].fn.apply(S[A].context,O)}}return!0},l.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},l.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},l.prototype.removeListener=function(d,h,p,b){var y=n?n+d:d;if(!this._events[y])return this;if(!h)return o(this,y),this;var k=this._events[y];if(k.fn)k.fn===h&&(!b||k.once)&&(!p||k.context===p)&&o(this,y);else{for(var w=0,S=[],T=k.length;w<T;w++)(k[w].fn!==h||b&&!k[w].once||p&&k[w].context!==p)&&S.push(k[w]);S.length?this._events[y]=S.length===1?S[0]:S:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(ik)),ik.exports}var J_e=X_e();const Q_e=_i(J_e);var pp=new Q_e,NE="recharts.syncEvent.tooltip",OI="recharts.syncEvent.brush";function e1e(e,t){if(t){var n=Number.parseInt(t,10);if(!ao(n))return e?.[n]}}var t1e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},JU=Si({name:"options",initialState:t1e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),n1e=JU.reducer,{createEventEmitter:r1e}=JU.actions;function i1e(e){return e.tooltip.syncInteraction}var a1e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},QU=Si({name:"chartData",initialState:a1e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:CI,setDataStartEndIndexes:o1e,setComputedData:XCe}=QU.actions,s1e=QU.reducer,l1e=["x","y"];function MI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(n),!0).forEach(function(r){c1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c1e(e,t,n){return(t=u1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u1e(e){var t=d1e(e,"string");return typeof t=="symbol"?t:t+""}function d1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f1e(e,t){if(e==null)return{};var n,r,i=h1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function m1e(){var e=rt(cT),t=rt(uT),n=br(),r=rt(Lz),i=rt(qs),a=Bp(),o=Tx(),l=rt(u=>u.rootProps.className);_.useEffect(()=>{if(e==null)return Pp;var u=(d,h,p)=>{if(t!==p&&e===d){if(r==="index"){var b;if(o&&h!==null&&h!==void 0&&(b=h.payload)!==null&&b!==void 0&&b.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:k,y:w}=y,S=f1e(y,l1e),{x:T,y:O,width:A,height:C}=h.payload.sourceViewBox,D=Dd(Dd({},S),{},{x:o.x+(A?(k-T)/A:0)*o.width,y:o.y+(C?(w-O)/C:0)*o.height});n(Dd(Dd({},h),{},{payload:Dd(Dd({},h.payload),{},{coordinate:D})}))}else n(h);return}if(i!=null){var P;if(typeof r=="function"){var I={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},U=r(i,I);P=i[U]}else r==="value"&&(P=i.find(G=>String(G.value)===h.payload.label));var{coordinate:W}=h.payload;if(P==null||h.payload.active===!1||W==null||o==null){n(jE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:H}=W,B=Math.min(K,o.x+o.width),q=Math.min(H,o.y+o.height),X={x:a==="horizontal"?P.coordinate:B,y:a==="horizontal"?q:P.coordinate},Z=jE({active:h.payload.active,coordinate:X,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Z)}}};return pp.on(NE,u),()=>{pp.off(NE,u)}},[l,n,t,e,r,i,a,o])}function p1e(){var e=rt(cT),t=rt(uT),n=br();_.useEffect(()=>{if(e==null)return Pp;var r=(i,a,o)=>{t!==o&&e===i&&n(o1e(a))};return pp.on(OI,r),()=>{pp.off(OI,r)}},[n,t,e])}function g1e(){var e=br();_.useEffect(()=>{e(r1e())},[e]),m1e(),p1e()}function b1e(e,t,n,r,i,a){var o=rt(y=>S_e(y,e,t)),l=rt(uT),u=rt(cT),d=rt(Lz),h=rt(i1e),p=h?.active,b=Tx();_.useEffect(()=>{if(!p&&u!=null&&l!=null){var y=jE({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});pp.emit(NE,u,y,l)}},[p,n,o,i,r,l,u,d,a,b])}function DI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(n),!0).forEach(function(r){y1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y1e(e,t,n){return(t=v1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v1e(e){var t=x1e(e,"string");return typeof t=="symbol"?t:t+""}function x1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w1e(e){return e.dataKey}function _1e(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(ege,t)}var RI=[],S1e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function k1e(e){var t,n,r=Zi(e,S1e),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:d,isAnimationActive:h,offset:p,payloadUniqBy:b,position:y,reverseDirection:k,useTranslate3d:w,wrapperStyle:S,cursor:T,shared:O,trigger:A,defaultIndex:C,portal:D,axisId:P}=r,I=br(),U=typeof C=="number"?String(C):C;_.useEffect(()=>{I(vwe({shared:O,trigger:A,axisId:P,active:i,defaultIndex:U}))},[I,O,A,P,i,U]);var W=Tx(),K=M8(),H=hwe(O),{activeIndex:B,isActive:q}=(t=rt(pe=>j_e(pe,H,A,U)))!==null&&t!==void 0?t:{},X=rt(pe=>E_e(pe,H,A,U)),Z=rt(pe=>VU(pe,H,A,U)),G=rt(pe=>k_e(pe,H,A,U)),J=X,Q=Z_e(),oe=(n=i??q)!==null&&n!==void 0?n:!1,[te,z]=Fme([J,oe]),V=H==="axis"?Z:void 0;b1e(H,A,G,V,B,oe);var re=D??Q;if(re==null||W==null||H==null)return null;var ie=J??RI;oe||(ie=RI),d&&ie.length&&(ie=mme(ie.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),b,w1e));var ue=ie.length>0,de=_.createElement(sge,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:oe,coordinate:G,hasPayload:ue,offset:p,position:y,reverseDirection:k,useTranslate3d:w,viewBox:W,wrapperStyle:S,lastBoundingBox:te,innerRef:z,hasPortalFromProps:!!D},_1e(u,PI(PI({},r),{},{payload:ie,label:V,active:oe,activeIndex:B,coordinate:G,accessibilityLayer:K})));return _.createElement(_.Fragment,null,Ou.createPortal(de,re),oe&&_.createElement(V_e,{cursor:T,tooltipEventType:H,coordinate:G,payload:ie,index:B}))}function E1e(e,t,n){return(t=j1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j1e(e){var t=A1e(e,"string");return typeof t=="symbol"?t:t+""}function A1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class T1e{constructor(t){E1e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function LI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N1e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(n),!0).forEach(function(r){O1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O1e(e,t,n){return(t=C1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C1e(e){var t=M1e(e,"string");return typeof t=="symbol"?t:t+""}function M1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D1e={cacheSize:2e3,enableCache:!0},eF=N1e({},D1e),II=new T1e(eF.cacheSize),P1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$I="recharts_measurement_span";function R1e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var BI=(e,t)=>{try{var n=document.getElementById($I);n||(n=document.createElement("span"),n.setAttribute("id",$I),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,P1e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Lm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mf.isSsr)return{width:0,height:0};if(!eF.enableCache)return BI(t,n);var r=R1e(t,n),i=II.get(r);if(i)return i;var a=BI(t,n);return II.set(r,a),a},zI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,I1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$1e=Object.keys(tF),Gd="NaN";function B1e(e,t){return e*tF[t]}class gi{static parse(t){var n,[,r,i]=(n=I1e.exec(t))!==null&&n!==void 0?n:[];return new gi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ao(t)&&(this.unit=""),n!==""&&!L1e.test(n)&&(this.num=NaN,this.unit=""),$1e.includes(n)&&(this.num=B1e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new gi(NaN,""):new gi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gi(NaN,""):new gi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gi(NaN,""):new gi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gi(NaN,""):new gi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ao(this.num)}}function nF(e){if(e.includes(Gd))return Gd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=zI.exec(t))!==null&&n!==void 0?n:[],o=gi.parse(r??""),l=gi.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Gd;t=t.replace(zI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,p,b]=(d=UI.exec(t))!==null&&d!==void 0?d:[],y=gi.parse(h??""),k=gi.parse(b??""),w=p==="+"?y.add(k):y.subtract(k);if(w.isNaN())return Gd;t=t.replace(UI,w.toString())}return t}var FI=/\(([^()]*)\)/;function z1e(e){for(var t=e,n;(n=FI.exec(t))!=null;){var[,r]=n;t=t.replace(FI,nF(r))}return t}function U1e(e){var t=e.replace(/\s+/g,"");return t=z1e(t),t=nF(t),t}function F1e(e){try{return U1e(e)}catch{return Gd}}function ak(e){var t=F1e(e.slice(5,-1));return t===Gd?"":t}var H1e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],G1e=["dx","dy","angle","className","breakAll"];function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OE.apply(null,arguments)}function HI(e,t){if(e==null)return{};var n,r,i=Y1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Y1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rF=/[ \f\n\r\t\v\u2028\u2029]+/,iF=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Or(t)||(n?i=t.toString().split(""):i=t.toString().split(rF));var a=i.map(l=>({word:l,width:Lm(l,r).width})),o=n?0:Lm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function q1e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var aF=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(o),u.width+=l+n;else{var d={words:[o],width:l};i.push(d)}return i},[]),oF=e=>e.reduce((t,n)=>t.width>n.width?t:n),K1e="",GI=(e,t,n,r,i,a,o,l)=>{var u=e.slice(0,t),d=iF({breakAll:n,style:r,children:u+K1e});if(!d)return[!1,[]];var h=aF(d.wordsWithComputedWidth,a,o,l),p=h.length>i||oF(h).width>Number(a);return[p,h]},W1e=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,d=et(a),h=String(o),p=aF(t,r,n,i);if(!d||i)return p;var b=p.length>a||oF(p).width>Number(r);if(!b)return p;for(var y=0,k=h.length-1,w=0,S;y<=k&&w<=h.length-1;){var T=Math.floor((y+k)/2),O=T-1,[A,C]=GI(h,O,u,l,a,r,n,i),[D]=GI(h,T,u,l,a,r,n,i);if(!A&&!D&&(y=T+1),A&&D&&(k=T-1),!A&&D){S=C;break}w++}return S||p},YI=e=>{var t=Or(e)?[]:e.toString().split(rF);return[{words:t,width:void 0}]},V1e=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!Mf.isSsr){var l,u,d=iF({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:p}=d;l=h,u=p}else return YI(r);return W1e({breakAll:a,children:r,maxLines:o,style:i},l,u,t,!!n)}return YI(r)},sF="#808080",Z1e={angle:0,breakAll:!1,capHeight:"0.71em",fill:sF,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},RT=_.forwardRef((e,t)=>{var n=Zi(e,Z1e),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:h}=n,p=HI(n,H1e),b=_.useMemo(()=>V1e({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:y,dy:k,angle:w,className:S,breakAll:T}=p,O=HI(p,G1e);if(!Uo(r)||!Uo(i)||b.length===0)return null;var A=Number(r)+(et(y)?y:0),C=Number(i)+(et(k)?k:0);if(!Cn(A)||!Cn(C))return null;var D;switch(h){case"start":D=ak("calc(".concat(o,")"));break;case"middle":D=ak("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:D=ak("calc(".concat(b.length-1," * -").concat(a,")"));break}var P=[];if(u){var I=b[0].width,{width:U}=p;P.push("scale(".concat(et(U)&&et(I)?U/I:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(A,", ").concat(C,")")),P.length&&(O.transform=P.join(" ")),_.createElement("text",OE({},Sa(O),{ref:t,x:A,y:C,className:on("recharts-text",S),textAnchor:d,fill:l.includes("url")?sF:l}),b.map((W,K)=>{var H=W.words.join(T?"":" ");return _.createElement("tspan",{x:A,dy:K===0?D:a,key:"".concat(H,"-").concat(K)},H)}))});RT.displayName="Text";var X1e=["labelRef"];function J1e(e,t){if(e==null)return{};var n,r,i=Q1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Q1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(n),!0).forEach(function(r){eSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eSe(e,t,n){return(t=tSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tSe(e){var t=nSe(e,"string");return typeof t=="symbol"?t:t+""}function nSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_s.apply(null,arguments)}var lF=_.createContext(null),rSe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=e,u=_.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return _.createElement(lF.Provider,{value:u},l)},cF=()=>{var e=_.useContext(lF),t=Tx();return e||w8(t)},iSe=_.createContext(null),aSe=()=>{var e=_.useContext(iSe),t=rt(Uz);return e||t},oSe=e=>{var{value:t,formatter:n}=e,r=Or(e.children)?t:e.children;return typeof n=="function"?n(r):r},LT=e=>e!=null&&typeof e=="function",sSe=(e,t)=>{var n=ya(t-e),r=Math.min(Math.abs(t-e),360);return n*r},lSe=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:d,outerRadius:h,startAngle:p,endAngle:b,clockWise:y}=i,k=(d+h)/2,w=sSe(p,b),S=w>=0?1:-1,T,O;switch(t){case"insideStart":T=p+S*a,O=y;break;case"insideEnd":T=b-S*a,O=!y;break;case"end":T=b+S*a,O=y;break;default:throw new Error("Unsupported position ".concat(t))}O=w<=0?O:!O;var A=Nr(l,u,k,T),C=Nr(l,u,k,T+(O?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),P=Or(e.id)?tp("recharts-radial-line-"):e.id;return _.createElement("text",_s({},r,{dominantBaseline:"central",className:on("recharts-radial-bar-label",o)}),_.createElement("defs",null,_.createElement("path",{id:P,d:D})),_.createElement("textPath",{xlinkHref:"#".concat(P)},n))},cSe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(n==="outside"){var{x:h,y:p}=Nr(r,i,o+t,d);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+o)/2,{x:y,y:k}=Nr(r,i,b,d);return{x:y,y:k,textAnchor:"middle",verticalAnchor:"middle"}},CE=e=>"cx"in e&&et(e.cx),uSe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!CE(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:d,height:h}=t,p=o,b=o+(u-d)/2,y=(p+b)/2,k=(u+d)/2,w=p+u/2,S=h>=0?1:-1,T=S*r,O=S>0?"end":"start",A=S>0?"start":"end",C=u>=0?1:-1,D=C*r,P=C>0?"end":"start",I=C>0?"start":"end";if(i==="top"){var U={x:p+u/2,y:l-T,textAnchor:"middle",verticalAnchor:O};return Rn(Rn({},U),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var W={x:b+d/2,y:l+h+T,textAnchor:"middle",verticalAnchor:A};return Rn(Rn({},W),a?{height:Math.max(a.y+a.height-(l+h),0),width:d}:{})}if(i==="left"){var K={x:y-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"};return Rn(Rn({},K),a?{width:Math.max(K.x-a.x,0),height:h}:{})}if(i==="right"){var H={x:y+k+D,y:l+h/2,textAnchor:I,verticalAnchor:"middle"};return Rn(Rn({},H),a?{width:Math.max(a.x+a.width-H.x,0),height:h}:{})}var B=a?{width:k,height:h}:{};return i==="insideLeft"?Rn({x:y+D,y:l+h/2,textAnchor:I,verticalAnchor:"middle"},B):i==="insideRight"?Rn({x:y+k-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"},B):i==="insideTop"?Rn({x:p+u/2,y:l+T,textAnchor:"middle",verticalAnchor:A},B):i==="insideBottom"?Rn({x:b+d/2,y:l+h-T,textAnchor:"middle",verticalAnchor:O},B):i==="insideTopLeft"?Rn({x:p+D,y:l+T,textAnchor:I,verticalAnchor:A},B):i==="insideTopRight"?Rn({x:p+u-D,y:l+T,textAnchor:P,verticalAnchor:A},B):i==="insideBottomLeft"?Rn({x:b+D,y:l+h-T,textAnchor:I,verticalAnchor:O},B):i==="insideBottomRight"?Rn({x:b+d-D,y:l+h-T,textAnchor:P,verticalAnchor:O},B):i&&typeof i=="object"&&(et(i.x)||Ds(i.x))&&(et(i.y)||Ds(i.y))?Rn({x:o+Xl(i.x,k),y:l+Xl(i.y,h),textAnchor:"end",verticalAnchor:"end"},B):Rn({x:w,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},B)},dSe={angle:0,offset:5,zIndex:Zr.label,position:"middle",textBreakAll:!1};function Dl(e){var t=Zi(e,dSe),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:d}=t,h=aSe(),p=cF(),b=r==="center"?p:h??p,y,k,w;if(n==null?y=b:CE(n)?y=n:y=w8(n),!y||Or(i)&&Or(a)&&!_.isValidElement(o)&&typeof o!="function")return null;var S=Rn(Rn({},t),{},{viewBox:y});if(_.isValidElement(o)){var{labelRef:T}=S,O=J1e(S,X1e);return _.cloneElement(o,O)}if(typeof o=="function"){if(k=_.createElement(o,S),_.isValidElement(k))return k}else k=oSe(t);var A=Sa(t);if(CE(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return lSe(t,r,k,A,y);w=cSe(y,t.offset,t.position)}else w=uSe(t,y);return _.createElement(Ks,{zIndex:t.zIndex},_.createElement(RT,_s({ref:d,className:on("recharts-label",l)},A,w,{textAnchor:q1e(A.textAnchor)?A.textAnchor:w.textAnchor,breakAll:u}),k))}Dl.displayName="Label";var fSe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?_.createElement(Dl,_s({key:"label-implicit"},r)):Uo(e)?_.createElement(Dl,_s({key:"label-implicit",value:e},r)):_.isValidElement(e)?e.type===Dl?_.cloneElement(e,Rn({key:"label-implicit"},r)):_.createElement(Dl,_s({key:"label-implicit",content:e},r)):LT(e)?_.createElement(Dl,_s({key:"label-implicit",content:e},r)):e&&typeof e=="object"?_.createElement(Dl,_s({},e,{key:"label-implicit"},r)):null};function hSe(e){var{label:t,labelRef:n}=e,r=cF();return fSe(t,r,n)||null}var ok={},sk={},KI;function mSe(){return KI||(KI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(sk)),sk}var lk={},WI;function pSe(){return WI||(WI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(lk)),lk}var VI;function gSe(){return VI||(VI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mSe(),n=pSe(),r=kA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(ok)),ok}var ck,ZI;function bSe(){return ZI||(ZI=1,ck=gSe().last),ck}var ySe=bSe();const vSe=_i(ySe);var xSe=["valueAccessor"],wSe=["dataKey","clockWise","id","textBreakAll","zIndex"];function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vv.apply(null,arguments)}function XI(e,t){if(e==null)return{};var n,r,i=_Se(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _Se(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SSe=e=>Array.isArray(e.value)?vSe(e.value):e.value,uF=_.createContext(void 0),kSe=uF.Provider,dF=_.createContext(void 0);dF.Provider;function ESe(){return _.useContext(uF)}function jSe(){return _.useContext(dF)}function Qb(e){var{valueAccessor:t=SSe}=e,n=XI(e,xSe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=XI(n,wSe),d=ESe(),h=jSe(),p=d||h;return!p||!p.length?null:_.createElement(Ks,{zIndex:l??Zr.label},_.createElement(zo,{className:"recharts-label-list"},p.map((b,y)=>{var k,w=Or(r)?t(b,y):Ur(b&&b.payload,r),S=Or(a)?{}:{id:"".concat(a,"-").concat(y)};return _.createElement(Dl,vv({key:"label-".concat(y)},Sa(b),u,S,{fill:(k=n.fill)!==null&&k!==void 0?k:b.fill,parentViewBox:b.parentViewBox,value:w,textBreakAll:o,viewBox:b.viewBox,index:y,zIndex:0}))})))}Qb.displayName="LabelList";function ASe(e){var{label:t}=e;return t?t===!0?_.createElement(Qb,{key:"labelList-implicit"}):_.isValidElement(t)||LT(t)?_.createElement(Qb,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(Qb,vv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ME.apply(null,arguments)}var fF=e=>{var{cx:t,cy:n,r,className:i}=e,a=on("recharts-dot",i);return et(t)&&et(n)&&et(r)?_.createElement("circle",ME({},io(e),SA(e),{className:a,cx:t,cy:n,r})):null},TSe={radiusAxis:{},angleAxis:{}},hF=Si({name:"polarAxis",initialState:TSe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:JCe,removeRadiusAxis:QCe,addAngleAxis:eMe,removeAngleAxis:tMe}=hF.actions,NSe=hF.reducer,uk={exports:{}},$t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JI;function OSe(){if(JI)return $t;JI=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,b=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,k=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,O=e?Symbol.for("react.scope"):60119;function A(D){if(typeof D=="object"&&D!==null){var P=D.$$typeof;switch(P){case t:switch(D=D.type,D){case u:case d:case r:case a:case i:case p:return D;default:switch(D=D&&D.$$typeof,D){case l:case h:case k:case y:case o:return D;default:return P}}case n:return P}}}function C(D){return A(D)===d}return $t.AsyncMode=u,$t.ConcurrentMode=d,$t.ContextConsumer=l,$t.ContextProvider=o,$t.Element=t,$t.ForwardRef=h,$t.Fragment=r,$t.Lazy=k,$t.Memo=y,$t.Portal=n,$t.Profiler=a,$t.StrictMode=i,$t.Suspense=p,$t.isAsyncMode=function(D){return C(D)||A(D)===u},$t.isConcurrentMode=C,$t.isContextConsumer=function(D){return A(D)===l},$t.isContextProvider=function(D){return A(D)===o},$t.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},$t.isForwardRef=function(D){return A(D)===h},$t.isFragment=function(D){return A(D)===r},$t.isLazy=function(D){return A(D)===k},$t.isMemo=function(D){return A(D)===y},$t.isPortal=function(D){return A(D)===n},$t.isProfiler=function(D){return A(D)===a},$t.isStrictMode=function(D){return A(D)===i},$t.isSuspense=function(D){return A(D)===p},$t.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===d||D===a||D===i||D===p||D===b||typeof D=="object"&&D!==null&&(D.$$typeof===k||D.$$typeof===y||D.$$typeof===o||D.$$typeof===l||D.$$typeof===h||D.$$typeof===S||D.$$typeof===T||D.$$typeof===O||D.$$typeof===w)},$t.typeOf=A,$t}var QI;function CSe(){return QI||(QI=1,uk.exports=OSe()),uk.exports}CSe();var mF=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function MSe(e){var{tooltipEntrySettings:t}=e,n=br(),r=ki(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(gwe(t)):i.current!==t&&n(bwe({prev:i.current,next:t})),i.current=t)},[t,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(ywe(i.current)),i.current=null)},[n]),null}function DSe(e){var{legendPayload:t}=e,n=br(),r=ki(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(q0e(t)):i.current!==t&&n(K0e({prev:i.current,next:t})),i.current=t)},[n,r,t]),_.useLayoutEffect(()=>()=>{i.current&&(n(W0e(i.current)),i.current=null)},[n]),null}var dk,PSe=()=>{var[e]=_.useState(()=>tp("uid-"));return e},RSe=(dk=bY.useId)!==null&&dk!==void 0?dk:PSe;function pF(e,t){var n=RSe();return t||(e?"".concat(e,"-").concat(n):n)}var LSe=_.createContext(void 0),ISe=e=>{var{id:t,type:n,children:r}=e,i=pF("recharts-".concat(n),t);return _.createElement(LSe.Provider,{value:i},r(i))},$Se={cartesianItems:[],polarItems:[]},gF=Si({name:"graphicalItems",initialState:$Se,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:dn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ja(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:dn()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ja(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:dn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:dn()},removePolarGraphicalItem:{reducer(e,t){var n=Ja(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:dn()}}}),{addCartesianGraphicalItem:BSe,replaceCartesianGraphicalItem:zSe,removeCartesianGraphicalItem:USe,addPolarGraphicalItem:nMe,removePolarGraphicalItem:rMe}=gF.actions,FSe=gF.reducer,HSe=e=>{var t=br(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(BSe(e)):n.current!==e&&t(zSe({prev:n.current,next:e})),n.current=e},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(t(USe(n.current)),n.current=null)},[t]),null},GSe=_.memo(HSe),YSe=["points"];function e$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e$(Object(n),!0).forEach(function(r){qSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qSe(e,t,n){return(t=KSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KSe(e){var t=WSe(e,"string");return typeof t=="symbol"?t:t+""}function WSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xv.apply(null,arguments)}function VSe(e,t){if(e==null)return{};var n,r,i=ZSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function XSe(e){var{option:t,dotProps:n,className:r}=e;if(_.isValidElement(t))return _.cloneElement(t,n);if(typeof t=="function")return t(n);var i=on(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,l=VSe(a,YSe);return _.createElement(fF,xv({},l,{className:i}))}function JSe(e,t){return e==null?!1:t?!0:e.length===1}function QSe(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:d=Zr.scatter}=e;if(!JSe(t,n))return null;var h=mF(n),p=lhe(n),b=t.map((k,w)=>{var S,T,O=fk(fk(fk({r:3},o),p),{},{index:w,cx:(S=k.x)!==null&&S!==void 0?S:void 0,cy:(T=k.y)!==null&&T!==void 0?T:void 0,dataKey:a,value:k.value,payload:k.payload,points:t});return _.createElement(XSe,{key:"dot-".concat(w),option:n,dotProps:O,className:i})}),y={};return l&&u!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),_.createElement(Ks,{zIndex:d},_.createElement(zo,xv({className:r},y),b))}function t$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function n$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(n),!0).forEach(function(r){eke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eke(e,t,n){return(t=tke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tke(e){var t=nke(e,"string");return typeof t=="symbol"?t:t+""}function nke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rke={xAxis:{},yAxis:{},zAxis:{}},bF=Si({name:"cartesianAxis",initialState:rke,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:dn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:dn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:dn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:dn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:dn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:dn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:dn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:dn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:dn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=n$(n$({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:ike,replaceXAxis:ake,removeXAxis:oke,addYAxis:ske,replaceYAxis:lke,removeYAxis:cke,addZAxis:iMe,replaceZAxis:aMe,removeZAxis:oMe,updateYAxisWidth:uke}=bF.actions,dke=bF.reducer,fke=xe([Dr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),hke=xe([fke,Us,Fs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),IT=()=>rt(hke),mke=()=>rt(u_e);function r$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r$(Object(n),!0).forEach(function(r){pke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pke(e,t,n){return(t=gke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gke(e){var t=bke(e,"string");return typeof t=="symbol"?t:t+""}function bke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yke=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=hk(hk(hk({},l),dx(i)),SA(i)),d;return _.isValidElement(i)?d=_.cloneElement(i,u):typeof i=="function"?d=i(u):d=_.createElement(fF,u),_.createElement(zo,{className:"recharts-active-dot",clipPath:o},d)};function i$(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Zr.activeDot}=e,l=rt(mp),u=mke();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return Or(d)?null:_.createElement(Ks,{zIndex:o},_.createElement(yke,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var vke={},yF=Si({name:"errorBars",initialState:vke,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:sMe,replaceErrorBar:lMe,removeErrorBar:cMe}=yF.actions,xke=yF.reducer;function vF(e,t){var n,r,i=rt(d=>Gs(d,e)),a=rt(d=>Ys(d,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ur.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:dr.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function wke(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=IT(),{needClipX:a,needClipY:o,needClip:l}=vF(t,n);if(!l||!i)return null;var{x:u,y:d,width:h,height:p}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:a?u:u-h/2,y:o?d:d-p/2,width:a?h:h*2,height:o?p:p*2}))}var _ke=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Ske(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function $T(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(_ke.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Gb(e[r],t[r]))return!1}else if(!Ske(e[r],t[r]))return!1;return!0}var kke=e=>{var{chartData:t}=e,n=br(),r=ki();return _.useEffect(()=>r?()=>{}:(n(CI(t)),()=>{n(CI(void 0))}),[t,n,r]),null},a$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},xF=Si({name:"brush",initialState:a$,reducers:{setBrushSettings(e,t){return t.payload==null?a$:t.payload}}}),{setBrushSettings:uMe}=xF.actions,Eke=xF.reducer;function jke(e,t,n){return(t=Ake(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ake(e){var t=Tke(e,"string");return typeof t=="symbol"?t:t+""}function Tke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BT{static create(t){return new BT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}jke(BT,"EPS",1e-4);function Nke(e){return(e%180+180)%180}var Oke=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Nke(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},Cke={dots:[],areas:[],lines:[]},wF=Si({name:"referenceElements",initialState:Cke,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ja(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ja(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ja(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:dMe,removeDot:fMe,addArea:hMe,removeArea:mMe,addLine:pMe,removeLine:gMe}=wF.actions,Mke=wF.reducer,Dke=_.createContext(void 0),Pke=e=>{var{children:t}=e,[n]=_.useState("".concat(tp("recharts"),"-clip")),r=IT();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return _.createElement(Dke.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function _F(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Rke(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Oke(r,n)}function Lke(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function wv(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Ike(e,t){return _F(e,t+1)}function $ke(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=t,u=0,d=1,h=o,p=function(){var k=r?.[u];if(k===void 0)return{v:_F(r,d)};var w=u,S,T=()=>(S===void 0&&(S=n(k,w)),S),O=k.coordinate,A=u===0||wv(e,O,T,h,l);A||(u=0,h=o,d+=1),A&&(h=O+e*(T()/2+i),u+=d)},b;d<=a.length;)if(b=p(),b)return b.v;return[]}function o$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(n),!0).forEach(function(r){Bke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bke(e,t,n){return(t=zke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zke(e){var t=Uke(e,"string");return typeof t=="symbol"?t:t+""}function Uke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fke(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,d=function(b){var y=a[b],k,w=()=>(k===void 0&&(k=n(y,b)),k);if(b===o-1){var S=e*(y.coordinate+e*w()/2-u);a[b]=y=Br(Br({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else a[b]=y=Br(Br({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var T=wv(e,y.tickCoord,w,l,u);T&&(u=y.tickCoord-e*(w()/2+i),a[b]=Br(Br({},y),{},{isShow:!0}))}},h=o-1;h>=0;h--)d(h);return a}function Hke(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:d}=t;if(a){var h=r[l-1],p=n(h,l-1),b=e*(h.coordinate+e*p/2-d);if(o[l-1]=h=Br(Br({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate}),h.tickCoord!=null){var y=wv(e,h.tickCoord,()=>p,u,d);y&&(d=h.tickCoord-e*(p/2+i),o[l-1]=Br(Br({},h),{},{isShow:!0}))}}for(var k=a?l-1:l,w=function(O){var A=o[O],C,D=()=>(C===void 0&&(C=n(A,O)),C);if(O===0){var P=e*(A.coordinate-e*D()/2-u);o[O]=A=Br(Br({},A),{},{tickCoord:P<0?A.coordinate-P*e:A.coordinate})}else o[O]=A=Br(Br({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var I=wv(e,A.tickCoord,D,u,d);I&&(u=A.tickCoord+e*(D()/2+i),o[O]=Br(Br({},A),{},{isShow:!0}))}},S=0;S<k;S++)w(S);return o}function zT(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(et(u)||Mf.isSsr){var b;return(b=Ike(i,et(u)?u:0))!==null&&b!==void 0?b:[]}var y=[],k=l==="top"||l==="bottom"?"width":"height",w=h&&k==="width"?Lm(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(A,C)=>{var D=typeof d=="function"?d(A.value,C):A.value;return k==="width"?Rke(Lm(D,{fontSize:t,letterSpacing:n}),w,p):Lm(D,{fontSize:t,letterSpacing:n})[k]},T=i.length>=2?ya(i[1].coordinate-i[0].coordinate):1,O=Lke(a,T,k);return u==="equidistantPreserveStart"?$ke(T,O,S,i,o):(u==="preserveStart"||u==="preserveStartEnd"?y=Hke(T,O,S,i,o,u==="preserveStartEnd"):y=Fke(T,O,S,i,o),y.filter(A=>A.isShow))}var Gke=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,d=o+u+l+(n?r:0);return Math.round(d)}return 0},Yke=["axisLine","width","height","className","hide","ticks","axisType"];function qke(e,t){if(e==null)return{};var n,r,i=Kke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Au.apply(null,arguments)}function s$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(n),!0).forEach(function(r){Wke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wke(e,t,n){return(t=Vke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vke(e){var t=Zke(e,"string");return typeof t=="symbol"?t:t+""}function Zke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ns={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Zr.axis};function Xke(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=qn(qn(qn({},u),io(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);d=qn(qn({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);d=qn(qn({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return _.createElement("line",Au({},d,{className:on("recharts-cartesian-axis-line",mx(l,"className"))}))}function Jke(e,t,n,r,i,a,o,l,u){var d,h,p,b,y,k,w=l?-1:1,S=e.tickSize||o,T=et(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,b=n+ +!l*i,p=b-w*S,k=p-w*u,y=T;break;case"left":p=b=e.coordinate,h=t+ +!l*r,d=h-w*S,y=d-w*u,k=T;break;case"right":p=b=e.coordinate,h=t+ +l*r,d=h+w*S,y=d+w*u,k=T;break;default:d=h=e.coordinate,b=n+ +l*i,p=b+w*S,k=p+w*u,y=T;break}return{line:{x1:d,y1:p,x2:h,y2:b},tick:{x:y,y:k}}}function Qke(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function e2e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function t2e(e){var{option:t,tickProps:n,value:r}=e,i,a=on(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,qn(qn({},n),{},{className:a}));else if(typeof t=="function")i=t(qn(qn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=on(o,t?.className)),i=_.createElement(RT,Au({},n,{className:o}),r)}return i}var n2e=_.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:h,mirror:p,x:b,y,width:k,height:w,tickSize:S,tickMargin:T,fontSize:O,letterSpacing:A,getTicksConfig:C,events:D,axisType:P}=e,I=zT(qn(qn({},C),{},{ticks:n}),O,A),U=Qke(h,p),W=e2e(h,p),K=io(C),H=dx(r),B={};typeof i=="object"&&(B=i);var q=qn(qn({},K),{},{fill:"none"},B),X=I.map(J=>qn({entry:J},Jke(J,b,y,k,w,h,S,p,T))),Z=X.map(J=>{var{entry:Q,line:oe}=J;return _.createElement(zo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},i&&_.createElement("line",Au({},q,oe,{className:on("recharts-cartesian-axis-tick-line",mx(i,"className"))})))}),G=X.map((J,Q)=>{var{entry:oe,tick:te}=J,z=qn(qn(qn(qn({textAnchor:U,verticalAnchor:W},K),{},{stroke:"none",fill:a},H),te),{},{index:Q,payload:oe,visibleTicksCount:I.length,tickFormatter:o,padding:u},d);return _.createElement(zo,Au({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},Ghe(D,oe,Q)),r&&_.createElement(t2e,{option:r,tickProps:z,value:"".concat(typeof o=="function"?o(oe.value,Q):oe.value).concat(l||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},G.length>0&&_.createElement(Ks,{zIndex:Zr.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},G)),Z.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},Z))}),r2e=_.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=e,d=qke(e,Yke),[h,p]=_.useState(""),[b,y]=_.useState(""),k=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return Gke({ticks:k.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=_.useCallback(S=>{if(S){var T=S.getElementsByClassName("recharts-cartesian-axis-tick-value");k.current=T;var O=T[0];if(O){var A=window.getComputedStyle(O),C=A.fontSize,D=A.letterSpacing;(C!==h||D!==b)&&(p(C),y(D))}}},[h,b]);return o||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(Ks,{zIndex:e.zIndex},_.createElement(zo,{className:on("recharts-cartesian-axis",a)},_.createElement(Xke,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:io(e)}),_.createElement(n2e,{ref:w,axisType:u,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(rSe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(hSe,{label:e.label,labelRef:e.labelRef}),e.children)))}),UT=_.forwardRef((e,t)=>{var n=Zi(e,Ns);return _.createElement(r2e,Au({},n,{ref:t}))});UT.displayName="CartesianAxis";var i2e=["x1","y1","x2","y2","key"],a2e=["offset"],o2e=["xAxisId","yAxisId"],s2e=["xAxisId","yAxisId"];function l$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(n),!0).forEach(function(r){l2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l2e(e,t,n){return(t=c2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c2e(e){var t=u2e(e,"string");return typeof t=="symbol"?t:t+""}function u2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hu.apply(null,arguments)}function _v(e,t){if(e==null)return{};var n,r,i=d2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var f2e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=e;return _.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function SF(e){var{option:t,lineItemProps:n}=e,r;if(_.isValidElement(t))r=_.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:d}=n,h=_v(n,i2e),p=(i=io(h))!==null&&i!==void 0?i:{},{offset:b}=p,y=_v(p,a2e);r=_.createElement("line",hu({},y,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:d}))}return r}function h2e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=_v(e,o2e),u=i.map((d,h)=>{var p=zr(zr({},l),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return _.createElement(SF,{key:"line-".concat(h),option:r,lineItemProps:p})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function m2e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=_v(e,s2e),u=i.map((d,h)=>{var p=zr(zr({},l),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return _.createElement(SF,{option:r,lineItemProps:p,key:"line-".concat(h)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function p2e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var y=!d[b+1],k=y?i+o-p:d[b+1]-p;if(k<=0)return null;var w=b%t.length;return _.createElement("rect",{key:"react-".concat(b),y:p,x:r,height:k,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function g2e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var y=!d[b+1],k=y?i+o-p:d[b+1]-p;if(k<=0)return null;var w=b%n.length;return _.createElement("rect",{key:"react-".concat(b),x:p,y:a,width:k,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var b2e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return h8(zT(zr(zr(zr({},Ns),n),{},{ticks:m8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},y2e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return h8(zT(zr(zr(zr({},Ns),n),{},{ticks:m8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},v2e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Zr.grid};function kF(e){var t=S8(),n=k8(),r=_8(),i=zr(zr({},Zi(e,v2e)),{},{x:et(e.x)?e.x:r.left,y:et(e.y)?e.y:r.top,width:et(e.width)?e.width:r.width,height:et(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:d,height:h,syncWithTicks:p,horizontalValues:b,verticalValues:y}=i,k=ki(),w=rt(W=>vI(W,"xAxis",a,k)),S=rt(W=>vI(W,"yAxis",o,k));if(!Fo(d)||!Fo(h)||!et(l)||!et(u))return null;var T=i.verticalCoordinatesGenerator||b2e,O=i.horizontalCoordinatesGenerator||y2e,{horizontalPoints:A,verticalPoints:C}=i;if((!A||!A.length)&&typeof O=="function"){var D=b&&b.length,P=O({yAxis:S?zr(zr({},S),{},{ticks:D?b:S.ticks}):void 0,width:t??d,height:n??h,offset:r},D?!0:p);Xy(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!C||!C.length)&&typeof T=="function"){var I=y&&y.length,U=T({xAxis:w?zr(zr({},w),{},{ticks:I?y:w.ticks}):void 0,width:t??d,height:n??h,offset:r},I?!0:p);Xy(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(C=U)}return _.createElement(Ks,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(f2e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(p2e,hu({},i,{horizontalPoints:A})),_.createElement(g2e,hu({},i,{verticalPoints:C})),_.createElement(h2e,hu({},i,{offset:r,horizontalPoints:A,xAxis:w,yAxis:S})),_.createElement(m2e,hu({},i,{offset:r,verticalPoints:C,xAxis:w,yAxis:S}))))}kF.displayName="CartesianGrid";function x2e(e){var t=dx(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var EF=(e,t,n,r)=>EU(e,"xAxis",t,r),jF=(e,t,n,r)=>kU(e,"xAxis",t,r),AF=(e,t,n,r)=>EU(e,"yAxis",n,r),TF=(e,t,n,r)=>kU(e,"yAxis",n,r),w2e=xe([en,EF,AF,jF,TF],(e,t,n,r,i)=>zs(e,"xAxis")?Zy(t,r,!1):Zy(n,i,!1)),_2e=(e,t,n,r,i)=>i,NF=xe([Kz,_2e],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),S2e=(e,t,n,r,i)=>{var a,o=NF(e,t,n,r,i);if(o!=null){var l=en(e),u=zs(l,"xAxis"),d;if(u?d=EE(e,"yAxis",n,r):d=EE(e,"xAxis",t,r),d!=null){var{stackId:h}=o,p=mT(o);if(!(h==null||p==null)){var b=(a=d[h])===null||a===void 0?void 0:a.stackedData;return b?.find(y=>y.key===p)}}}},k2e=xe([en,EF,AF,jF,TF,S2e,aT,w2e,NF,sxe],(e,t,n,r,i,a,o,l,u,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:b}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:y}=u,k;if(y&&y.length>0?k=y:k=h?.slice(p,b+1),k!=null)return H2e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:k,chartBaseValue:d,bandSize:l})}}),E2e=["id"],j2e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xu.apply(null,arguments)}function OF(e,t){if(e==null)return{};var n,r,i=A2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function c$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(n),!0).forEach(function(r){T2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T2e(e,t,n){return(t=N2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N2e(e){var t=O2e(e,"string");return typeof t=="symbol"?t:t+""}function O2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sv(e,t){return e&&e!=="none"?e:t}var C2e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Sv(r,i),value:p8(n,t),payload:e}]},M2e=_.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:p8(o,t),hide:l,type:d,color:Sv(r,a),unit:u}};return _.createElement(MSe,{tooltipEntrySettings:h})});function D2e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,l=io(r);return _.createElement(QSe,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:t})}function P2e(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Yd(Yd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return _.createElement(kSe,{value:t?i:void 0},n)}function u$(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:l,stroke:u,connectNulls:d,isRange:h}=a,{id:p}=a,b=OF(a,E2e),y=io(b),k=Sa(b);return _.createElement(_.Fragment,null,t?.length>1&&_.createElement(zo,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(Xb,xu({},k,{id:p,points:t,connectNulls:d,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&_.createElement(Xb,xu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&h&&_.createElement(Xb,xu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:n}))),_.createElement(D2e,{points:t,props:b,clipPathId:i}))}function R2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!Cn(a)||!Cn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.x||0));return et(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.x||0),u)),et(u)?_.createElement("rect",{x:0,y:a<o?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function L2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!Cn(a)||!Cn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.y||0));return et(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.y||0),u)),et(u)?_.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function I2e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?_.createElement(R2e,{alpha:t,points:r,baseLine:i,strokeWidth:a}):_.createElement(L2e,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function $2e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:p,onAnimationStart:b,onAnimationEnd:y}=r,k=_.useMemo(()=>({points:o,baseLine:l}),[o,l]),w=I8(k,"recharts-area-"),S=M0e(),[T,O]=_.useState(!1),A=!T,C=_.useCallback(()=>{typeof y=="function"&&y(),O(!1)},[y]),D=_.useCallback(()=>{typeof b=="function"&&b(),O(!0)},[b]);if(S==null)return null;var P=i.current,I=a.current;return _.createElement(P2e,{showLabels:A,points:o},r.children,_.createElement(L8,{animationId:w,begin:d,duration:h,isActive:u,easing:p,onAnimationEnd:C,onAnimationStart:D,key:w},U=>{if(P){var W=P.length/o.length,K=U===1?o:o.map((B,q)=>{var X=Math.floor(q*W);if(P[X]){var Z=P[X];return Yd(Yd({},B),{},{x:Do(Z.x,B.x,U),y:Do(Z.y,B.y,U)})}return B}),H;return et(l)?H=Do(I,l,U):Or(l)||ao(l)?H=Do(I,0,U):H=l.map((B,q)=>{var X=Math.floor(q*W);if(Array.isArray(I)&&I[X]){var Z=I[X];return Yd(Yd({},B),{},{x:Do(Z.x,B.x,U),y:Do(Z.y,B.y,U)})}return B}),U>0&&(i.current=K,a.current=H),_.createElement(u$,{points:K,baseLine:H,needClip:t,clipPathId:n,props:r})}return U>0&&(i.current=o,a.current=l),_.createElement(zo,null,u&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(I2e,{alpha:U,points:o,baseLine:l,layout:S,strokeWidth:r.strokeWidth}))),_.createElement(zo,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(u$,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),_.createElement(ASe,{label:r.label}))}function B2e(e){var{needClip:t,clipPathId:n,props:r}=e,i=_.useRef(null),a=_.useRef();return _.createElement($2e,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class z2e extends _.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:d,width:h,height:p,id:b,baseLine:y,zIndex:k}=this.props;if(t)return null;var w=on("recharts-area",i),S=b,{r:T,strokeWidth:O}=x2e(n),A=mF(n),C=T*2+O,D=l?"url(#clipPath-".concat(A?"":"dots-").concat(S,")"):void 0;return _.createElement(Ks,{zIndex:k},_.createElement(zo,{className:w},l&&_.createElement("defs",null,_.createElement(wke,{clipPathId:S,xAxisId:u,yAxisId:d}),!A&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:o-C/2,y:a-C/2,width:h+C,height:p+C}))),_.createElement(B2e,{needClip:l,clipPathId:S,props:this.props})),_.createElement(i$,{points:r,mainColor:Sv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(y)&&_.createElement(i$,{points:y,mainColor:Sv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var CF={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Zr.area};function U2e(e){var t,n=Zi(e,CF),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:d,fillOpacity:h,hide:p,isAnimationActive:b,legendType:y,stroke:k,xAxisId:w,yAxisId:S}=n,T=OF(n,j2e),O=Bp(),A=qU(),{needClip:C}=vF(w,S),D=ki(),{points:P,isRange:I,baseLine:U}=(t=rt(X=>k2e(X,w,S,D,e.id)))!==null&&t!==void 0?t:{},W=IT();if(O!=="horizontal"&&O!=="vertical"||W==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:K,width:H,x:B,y:q}=W;return!P||!P.length?null:_.createElement(z2e,xu({},T,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:U,connectNulls:l,dot:u,fill:d,fillOpacity:h,height:K,hide:p,layout:O,isAnimationActive:b==="auto"?!Mf.isSsr:b,isRange:I,legendType:y,needClip:C,points:P,stroke:k,width:H,left:B,top:q,xAxisId:w,yAxisId:S}))}var F2e=(e,t,n,r,i)=>{var a=n??t;if(et(a))return a;var o=e==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function H2e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:h,xAxisTicks:p,yAxisTicks:b,bandSize:y}=e,k=i&&i.length,w=F2e(a,o,n,l,u),S=a==="horizontal",T=!1,O=d.map((C,D)=>{var P;k?P=i[h+D]:(P=Ur(C,r),Array.isArray(P)?T=!0:P=[w,P]);var I=P[1]==null||k&&!t&&Ur(C,r)==null;return S?{x:F3({axis:l,ticks:p,bandSize:y,entry:C,index:D}),y:I?null:u.scale(P[1]),value:P,payload:C}:{x:I?null:l.scale(P[1]),y:F3({axis:u,ticks:b,bandSize:y,entry:C,index:D}),value:P,payload:C}}),A;return k||T?A=O.map(C=>{var D=Array.isArray(C.value)?C.value[0]:null;return S?{x:C.x,y:D!=null&&C.y!=null?u.scale(D):null,payload:C.payload}:{x:D!=null?l.scale(D):null,y:C.y,payload:C.payload}}):A=S?u.scale(w):l.scale(w),{points:O,baseLine:A,isRange:T}}function G2e(e){var t=Zi(e,CF),n=ki();return _.createElement(ISe,{id:t.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(DSe,{legendPayload:C2e(t)}),_.createElement(M2e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),_.createElement(GSe,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Wpe(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),_.createElement(U2e,xu({},t,{id:r}))))}var MF=_.memo(G2e,$T);MF.displayName="Area";var Y2e=["domain","range"],q2e=["domain","range"];function d$(e,t){if(e==null)return{};var n,r,i=K2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function K2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function f$(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function DF(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=d$(e,Y2e),{domain:a,range:o}=t,l=d$(t,q2e);return!f$(n,a)||!f$(r,o)?!1:$T(i,l)}var W2e=["dangerouslySetInnerHTML","ticks"],V2e=["id"];function DE(){return DE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DE.apply(null,arguments)}function h$(e,t){if(e==null)return{};var n,r,i=Z2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Z2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function X2e(e){var t=br(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(ike(e)):n.current!==e&&t(ake({prev:n.current,next:e})),n.current=e},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(oke(n.current)),n.current=null)},[t]),null}var J2e=e=>{var{xAxisId:t,className:n}=e,r=rt(b8),i=ki(),a="xAxis",o=rt(S=>$f(S,a,t,i)),l=rt(S=>SU(S,a,t,i)),u=rt(S=>Qxe(S,t)),d=rt(S=>awe(S,t)),h=rt(S=>Hz(S,t));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:b}=e,y=h$(e,W2e),{id:k}=h,w=h$(h,V2e);return _.createElement(UT,DE({},y,w,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:on("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},Q2e={allowDataOverflow:ur.allowDataOverflow,allowDecimals:ur.allowDecimals,allowDuplicatedCategory:ur.allowDuplicatedCategory,angle:ur.angle,axisLine:Ns.axisLine,height:ur.height,hide:!1,includeHidden:ur.includeHidden,interval:ur.interval,minTickGap:ur.minTickGap,mirror:ur.mirror,orientation:ur.orientation,padding:ur.padding,reversed:ur.reversed,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,tickLine:Ns.tickLine,tickSize:Ns.tickSize,type:ur.type,xAxisId:0},eEe=e=>{var t=Zi(e,Q2e);return _.createElement(_.Fragment,null,_.createElement(X2e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(J2e,t))},PF=_.memo(eEe,DF);PF.displayName="XAxis";var tEe=["dangerouslySetInnerHTML","ticks"],nEe=["id"];function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PE.apply(null,arguments)}function m$(e,t){if(e==null)return{};var n,r,i=rEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iEe(e){var t=br(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(ske(e)):n.current!==e&&t(lke({prev:n.current,next:e})),n.current=e},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(cke(n.current)),n.current=null)},[t]),null}var aEe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=_.useRef(null),o=_.useRef(null),l=rt(b8),u=ki(),d=br(),h="yAxis",p=rt(D=>$f(D,h,t,u)),b=rt(D=>lwe(D,t)),y=rt(D=>swe(D,t)),k=rt(D=>SU(D,h,t,u)),w=rt(D=>Gz(D,t));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!b||LT(i)||_.isValidElement(i)||w==null)){var D=a.current;if(D){var P=D.getCalculatedWidth();Math.round(b.width)!==Math.round(P)&&d(uke({id:t,width:P}))}}},[k,b,d,i,t,r,w]),b==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:T}=e,O=m$(e,tEe),{id:A}=w,C=m$(w,nEe);return _.createElement(UT,PE({},O,C,{ref:a,labelRef:o,scale:p,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:on("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:k,axisType:h}))},oEe={allowDataOverflow:dr.allowDataOverflow,allowDecimals:dr.allowDecimals,allowDuplicatedCategory:dr.allowDuplicatedCategory,angle:dr.angle,axisLine:Ns.axisLine,hide:!1,includeHidden:dr.includeHidden,interval:dr.interval,minTickGap:dr.minTickGap,mirror:dr.mirror,orientation:dr.orientation,padding:dr.padding,reversed:dr.reversed,scale:dr.scale,tick:dr.tick,tickCount:dr.tickCount,tickLine:Ns.tickLine,tickSize:Ns.tickSize,type:dr.type,width:dr.width,yAxisId:0},sEe=e=>{var t=Zi(e,oEe);return _.createElement(_.Fragment,null,_.createElement(iEe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(aEe,t))},RF=_.memo(sEe,DF);RF.displayName="YAxis";var lEe=(e,t)=>t,FT=xe([lEe,en,Uz,ir,zU,qs,__e,Dr],N_e),HT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},LF=ka("mouseClick"),IF=Ip();IF.startListening({actionCreator:LF,effect:(e,t)=>{var n=e.payload,r=FT(t.getState(),HT(n));r?.activeIndex!=null&&t.dispatch(wwe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var RE=ka("mouseMove"),$F=Ip(),Ab=null;$F.startListening({actionCreator:RE,effect:(e,t)=>{var n=e.payload;Ab!==null&&cancelAnimationFrame(Ab);var r=HT(n);Ab=requestAnimationFrame(()=>{var i=t.getState(),a=ET(i,i.tooltip.settings.shared);if(a==="axis"){var o=FT(i,r);o?.activeIndex!=null?t.dispatch(MU({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(CU())}Ab=null})}});var p$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},BF=Si({name:"rootProps",initialState:p$,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:p$.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),cEe=BF.reducer,{updateOptions:uEe}=BF.actions,zF=Si({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:bMe}=zF.actions,dEe=zF.reducer,UF=ka("keyDown"),FF=ka("focus"),GT=Ip();GT.startListening({actionCreator:UF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=jT(i,zf(n),Kp(n),Jp(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=qs(n);if(a==="Enter"){var d=yv(n,"axis","hover",String(i.index));t.dispatch(AE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=fwe(n),p=h==="left-to-right"?1:-1,b=a==="ArrowRight"?1:-1,y=l+b*p;if(!(u==null||y>=u.length||y<0)){var k=yv(n,"axis","hover",String(y));t.dispatch(AE({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:k}))}}}}}});GT.startListening({actionCreator:FF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=yv(n,"axis","hover",String(a));t.dispatch(AE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ua=ka("externalEvent"),HF=Ip(),mk=new Map;HF.startListening({actionCreator:ua,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=mk.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:s_e(l),activeDataKey:a_e(l),activeIndex:mp(l),activeLabel:HU(l),activeTooltipIndex:mp(l),isTooltipActive:l_e(l)};n(u,r)}finally{mk.delete(i)}});mk.set(i,o)}}});var fEe=xe([Bf],e=>e.tooltipItemPayloads),hEe=xe([fEe,Zp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),GF=ka("touchMove"),YF=Ip();YF.startListening({actionCreator:GF,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=ET(r,r.tooltip.settings.shared);if(i==="axis"){var a=FT(r,HT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(MU({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(t0e),h=(o=u.getAttribute(n0e))!==null&&o!==void 0?o:void 0,p=hEe(t.getState(),d,h);t.dispatch(xwe({activeDataKey:h,activeIndex:d,activeCoordinate:p}))}}}});var mEe=f4({brush:Eke,cartesianAxis:dke,chartData:s1e,errorBars:xke,graphicalItems:FSe,layout:$pe,legend:V0e,options:n1e,polarAxis:NSe,polarOptions:dEe,referenceElements:Mke,rootProps:cEe,tooltip:_we,zIndex:H_e}),pEe=function(t){return cpe({reducer:mEe,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([IF.middleware,$F.middleware,GT.middleware,HF.middleware,YF.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(Q9({type:"raf"}))},devTools:Mf.devToolsEnabled})};function gEe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ki(),a=_.useRef(null);if(i)return n;a.current==null&&(a.current=pEe(t));var o=EA;return _.createElement(w4,{context:o,store:a.current},n)}function bEe(e){var{layout:t,margin:n}=e,r=br(),i=ki();return _.useEffect(()=>{i||(r(Rpe(t)),r(Ppe(n)))},[r,i,t,n]),null}var yEe=_.memo(bEe,$T);function vEe(e){var t=br();return _.useEffect(()=>{t(uEe(e))},[t,e]),null}function g$(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=pF("".concat(r).concat(t)),a=br();return _.useLayoutEffect(()=>(a(U_e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(F_e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),_.createElement("g",{tabIndex:-1,id:i})}function b$(e){var{children:t,isPanorama:n}=e,r=rt(C_e);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return _.createElement(_.Fragment,null,i.map(o=>_.createElement(g$,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>_.createElement(g$,{key:o,zIndex:o,isPanorama:n})))}var xEe=["children"];function wEe(e,t){if(e==null)return{};var n,r,i=_Ee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _Ee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(null,arguments)}var SEe={width:"100%",height:"100%",display:"block"},kEe=_.forwardRef((e,t)=>{var n=S8(),r=k8(),i=M8();if(!Fo(n)||!Fo(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,d,h;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),_.createElement(l9,kv({},o,{title:l,desc:u,role:h,tabIndex:d,width:n,height:r,style:SEe,ref:t}),a)}),EEe=e=>{var{children:t}=e,n=rt(Ax);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return _.createElement(l9,{width:r,height:i,x:o,y:a},t)},y$=_.forwardRef((e,t)=>{var{children:n}=e,r=wEe(e,xEe),i=ki();return i?_.createElement(EEe,null,_.createElement(b$,{isPanorama:!0},n)):_.createElement(kEe,kv({ref:t},r),_.createElement(b$,{isPanorama:!1},n))});function jEe(){var e=br(),[t,n]=_.useState(null),r=rt(e0e);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Cn(a)&&a!==r&&e(Ipe(a))}},[t,e,r]),n}function v$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(n),!0).forEach(function(r){TEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TEe(e,t,n){return(t=NEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NEe(e){var t=OEe(e,"string");return typeof t=="symbol"?t:t+""}function OEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tu.apply(null,arguments)}var CEe=()=>(g1e(),null);function Ev(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var MEe=_.forwardRef((e,t)=>{var n,r,i=_.useRef(null),[a,o]=_.useState({containerWidth:Ev((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Ev((r=e.style)===null||r===void 0?void 0:r.height)}),l=_.useCallback((d,h)=>{o(p=>{var b=Math.round(d),y=Math.round(h);return p.containerWidth===b&&p.containerHeight===y?p:{containerWidth:b,containerHeight:y}})},[]),u=_.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=d.getBoundingClientRect();l(h,p);var b=k=>{var{width:w,height:S}=k[0].contentRect;l(w,S)},y=new ResizeObserver(b);y.observe(d),i.current=y}},[t,l]);return _.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),_.createElement(_.Fragment,null,_.createElement(Nx,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",Tu({ref:u},e)))}),DEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=_.useState({containerWidth:Ev(n),containerHeight:Ev(r)}),o=_.useCallback((u,d)=>{a(h=>{var p=Math.round(u),b=Math.round(d);return h.containerWidth===p&&h.containerHeight===b?h:{containerWidth:p,containerHeight:b}})},[]),l=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();o(d,h)}},[t,o]);return _.createElement(_.Fragment,null,_.createElement(Nx,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",Tu({ref:l},e)))}),PEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return _.createElement(_.Fragment,null,_.createElement(Nx,{width:n,height:r}),_.createElement("div",Tu({ref:t},e)))}),REe=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ds(n)||Ds(r)?_.createElement(DEe,Tu({},e,{ref:t})):_.createElement(PEe,Tu({},e,{ref:t}))});function LEe(e){return e===!0?MEe:REe}var IEe=_.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:p,onMouseUp:b,onTouchEnd:y,onTouchMove:k,onTouchStart:w,style:S,width:T,responsive:O,dispatchTouchEvents:A=!0}=e,C=_.useRef(null),D=br(),[P,I]=_.useState(null),[U,W]=_.useState(null),K=jEe(),H=DA(),B=H?.width>0?H.width:T,q=H?.height>0?H.height:i,X=_.useCallback(se=>{K(se),typeof t=="function"&&t(se),I(se),W(se),se!=null&&(C.current=se)},[K,t,I,W]),Z=_.useCallback(se=>{D(LF(se)),D(ua({handler:a,reactEvent:se}))},[D,a]),G=_.useCallback(se=>{D(RE(se)),D(ua({handler:d,reactEvent:se}))},[D,d]),J=_.useCallback(se=>{D(CU()),D(ua({handler:h,reactEvent:se}))},[D,h]),Q=_.useCallback(se=>{D(RE(se)),D(ua({handler:p,reactEvent:se}))},[D,p]),oe=_.useCallback(()=>{D(FF())},[D]),te=_.useCallback(se=>{D(UF(se.key))},[D]),z=_.useCallback(se=>{D(ua({handler:o,reactEvent:se}))},[D,o]),V=_.useCallback(se=>{D(ua({handler:l,reactEvent:se}))},[D,l]),re=_.useCallback(se=>{D(ua({handler:u,reactEvent:se}))},[D,u]),ie=_.useCallback(se=>{D(ua({handler:b,reactEvent:se}))},[D,b]),ue=_.useCallback(se=>{D(ua({handler:w,reactEvent:se}))},[D,w]),de=_.useCallback(se=>{A&&D(GF(se)),D(ua({handler:k,reactEvent:se}))},[D,A,k]),pe=_.useCallback(se=>{D(ua({handler:y,reactEvent:se}))},[D,y]),Ne=LEe(O);return _.createElement(XU.Provider,{value:P},_.createElement(phe.Provider,{value:U},_.createElement(Ne,{width:B??S?.width,height:q??S?.height,className:on("recharts-wrapper",r),style:AEe({position:"relative",cursor:"default",width:B,height:q},S),onClick:Z,onContextMenu:z,onDoubleClick:V,onFocus:oe,onKeyDown:te,onMouseDown:re,onMouseEnter:G,onMouseLeave:J,onMouseMove:Q,onMouseUp:ie,onTouchEnd:pe,onTouchMove:de,onTouchStart:ue,ref:X},_.createElement(CEe,null),n)))}),$Ee=["width","height","responsive","children","className","style","compact","title","desc"];function BEe(e,t){if(e==null)return{};var n,r,i=zEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UEe=_.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:d,desc:h}=e,p=BEe(e,$Ee),b=io(p);return u?_.createElement(_.Fragment,null,_.createElement(Nx,{width:n,height:r}),_.createElement(y$,{otherAttributes:b,title:d,desc:h},a)):_.createElement(IEe,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(y$,{otherAttributes:b,title:d,desc:h,ref:t},_.createElement(Pke,null,a)))});function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LE.apply(null,arguments)}var FEe={top:5,right:5,bottom:5,left:5},HEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:FEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},GEe=_.forwardRef(function(t,n){var r,i=Zi(t.categoricalChartProps,HEe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return _.createElement(gEe,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},_.createElement(kke,{chartData:d.data}),_.createElement(yEe,{layout:i.layout,margin:i.margin}),_.createElement(vEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(UEe,LE({},i,{ref:n})))}),YEe=["axis"],qEe=_.forwardRef((e,t)=>_.createElement(GEe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:YEe,tooltipPayloadSearcher:e1e,categoricalChartProps:e,ref:t}));function qF(e){return typeof e=="object"&&e!==null}function cu(e,t=0){return typeof e=="number"&&Number.isFinite(e)?e:t}function KEe(e,t=""){return typeof e=="string"?e:t}function WEe(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){if(!qF(n))continue;const r=KEe(n.day),i=cu(n.dau),a=cu(n.total_active_ms);r&&t.push({day:r,dau:i,total_active_ms:a})}return t}function VEe(e){return qF(e)?{online_now:cu(e.online_now),active_today:cu(e.active_today),active_7d:cu(e.active_7d),active_30d:cu(e.active_30d),active_365d:cu(e.active_365d),series:WEe(e.series)}:null}function ZEe(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function x$(){const[e,t]=_.useState(30),[n,r]=_.useState(null),[i,a]=_.useState(0),[o,l]=_.useState(!1),[u,d]=_.useState(""),h=_.useRef(!1),p=_.useRef(!1),b=_.useCallback(async()=>{if(!h.current){h.current=!0,l(!0),d("");try{const{data:S,error:T}=await De.rpc("admin_dashboard_stats",{p_days:e});if(T){d(T.message||"RPC error"),r(null);return}const O=VEe(S);if(!O){d("   ( )"),r(null);return}r(O),a(O.online_now)}finally{l(!1),h.current=!1}}},[e]),y=_.useCallback(async()=>{if(!p.current){p.current=!0;try{const{data:S,error:T}=await De.rpc("admin_online_now");if(T)return;const O=typeof S=="number"?S:typeof S=="string"?Number(S):0;Number.isFinite(O)&&a(O)}finally{p.current=!1}}},[]);_.useEffect(()=>{b()},[b]),_.useEffect(()=>{y();const S=window.setInterval(()=>void y(),3e4);return()=>window.clearInterval(S)},[y]),_.useEffect(()=>{const S=window.setInterval(()=>void b(),3e5);return()=>window.clearInterval(S)},[b]);const k=_.useMemo(()=>n?.series??[],[n]),w=_.useMemo(()=>k.reduce((S,T)=>S+(T.total_active_ms||0),0),[k]);return g.jsx(ihe,{allow:["admin","operator","viewer"],children:g.jsxs("div",{className:"p-6 text-white",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:e,onChange:S=>{const T=Number(S.target.value);(T===30||T===60||T===90)&&t(T)},className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",title:"DAU  ",children:[g.jsx("option",{value:30,children:" 30"}),g.jsx("option",{value:60,children:" 60"}),g.jsx("option",{value:90,children:" 90"})]}),g.jsx("button",{type:"button",onClick:()=>void b(),className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer text-sm",children:""})]})]}),u?g.jsx("div",{className:"text-red-400 mb-3",children:u}):null,o?g.jsx("div",{className:"text-neutral-300 mb-3",children:"Loading..."}):null,g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-10",children:[g.jsx(bm,{label:" ",value:i}),g.jsx(bm,{label:" (DAU)",value:n?.active_today??0}),g.jsx(bm,{label:" 7 ",value:n?.active_7d??0}),g.jsx(bm,{label:" 30 ",value:n?.active_30d??0}),g.jsx(bm,{label:" 1 ",value:n?.active_365d??0})]}),g.jsxs("section",{className:"mb-10",children:[g.jsxs("div",{className:"flex items-end justify-between gap-3 mb-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"DAU "}),g.jsx("div",{className:"text-xs text-neutral-400",children:"(     )"})]}),g.jsx(XEe,{data:k})]}),g.jsxs("section",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"   ()"}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"series.total_active_ms  (day    )"}),g.jsx("div",{className:"text-2xl font-bold mt-1",children:ZEe(w)})]})]})]})})}function bm({label:e,value:t}){return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-neutral-400 text-sm",children:e}),g.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function XEe({data:e}){return g.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:g.jsx(O0e,{width:"100%",height:"100%",children:g.jsxs(qEe,{data:e,children:[g.jsx(kF,{strokeDasharray:"3 3"}),g.jsx(PF,{dataKey:"day"}),g.jsx(RF,{}),g.jsx(k1e,{formatter:(t,n)=>n==="dau"?[t,"DAU"]:[t,n]}),g.jsx(MF,{type:"monotone",dataKey:"dau"})]})})})}function JEe(){const[e,t]=_.useState(""),[n,r]=_.useState("ACTIVE"),[i,a]=_.useState("LAST_SEEN_DESC"),[o,l]=_.useState(1),[u,d]=_.useState({});return{search:e,setSearch:t,tab:n,setTab:r,sort:i,setSort:a,page:o,setPage:l,draftByUser:u,setDraftByUser:d,setDraft:(p,b)=>{d(y=>{const k=y[p]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1};return{...y,[p]:{...k,...b}}})}}}const IE=20;function QEe(e){return typeof e=="object"&&e!==null}function To(e){return typeof e=="string"?e:null}function w$(e){return typeof e=="boolean"?e:null}function pk(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e);return Number.isFinite(t)?t:null}return null}function KF(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function eje(e){return KF(e)?e:null}function tje(e){if(!QEe(e))return null;const t=To(e.user_id);return t?{user_id:t,name:To(e.name),nickname:To(e.nickname),email:To(e.email),disabled_at:To(e.disabled_at),created_at:To(e.created_at),plan:eje(e.plan),starts_at:To(e.starts_at),expires_at:To(e.expires_at),can_use_myo_viewer:w$(e.can_use_myo_viewer),myeongsik_count:pk(e.myeongsik_count),last_seen_at:To(e.last_seen_at),last_path:To(e.last_path),total_active_ms:pk(e.total_active_ms),online:w$(e.online),total_count:pk(e.total_count)}:null}function _$(e){const t=(e??"").trim();return t.length?t:null}function WF(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return!1;const n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i)||r<1||r>12)return!1;const a=new Date(Date.UTC(n,r-1,i));return a.getUTCFullYear()===n&&a.getUTCMonth()===r-1&&a.getUTCDate()===i}function nje(e,t){if(!WF(e))throw new Error(`   : ${e}`);const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error(`   : ${e}`);const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=new Date(Date.UTC(r,i-1,a));o.setUTCDate(o.getUTCDate()+t);const l=String(o.getUTCFullYear()).padStart(4,"0"),u=String(o.getUTCMonth()+1).padStart(2,"0"),d=String(o.getUTCDate()).padStart(2,"0");return`${l}-${u}-${d}`}function S$(e){if(!WF(e))throw new Error(`   : ${e}`);return`${e}T00:00:00.000Z`}function rje(e){return typeof e=="object"&&e!==null}function ije(e,t){if(console.error(e,t),rje(t)&&console.error(`${e} fields`,{message:t.message,code:t.code,details:t.details,hint:t.hint}),typeof t=="object"&&t!==null)try{console.error(`${e} ownKeys`,Object.getOwnPropertyNames(t))}catch{}try{console.error(`${e} json`,JSON.stringify(t))}catch{}}function aje(){const[e,t]=_.useState([]),[n,r]=_.useState(0),[i,a]=_.useState(!1),[o,l]=_.useState(null),u=_.useCallback(async h=>{const{search:p,tab:b,sort:y,page:k}=h;a(!0),l(null);try{const w=Math.max(0,(Math.max(1,k)-1)*IE),{data:S,error:T}=await De.rpc("admin_list_users",{p_search:p&&p.trim()?p.trim():null,p_tab:b,p_sort:y,p_limit:IE,p_offset:w});if(T)throw T;const A=(Array.isArray(S)?S:[]).map(tje).filter(C=>C!==null);t(A),r(A[0]?.total_count??0)}catch(w){t([]),r(0),l(w instanceof Error?w.message:"  ")}finally{a(!1)}},[]),d=_.useCallback(async(h,p,b,y)=>{if(p){l(null),b(h,{saving:!0});try{if(!KF(p.plan))throw new Error(`  : ${String(p.plan)}`);const k=_$(p.startDate),w=_$(p.endDate),S=k?S$(k):null,T=w?S$(nje(w,1)):null;if(S&&T){const C=Date.parse(S),D=Date.parse(T);if(!Number.isFinite(C)||!Number.isFinite(D))throw new Error("  ");if(D<=C)throw new Error("  .")}const O={p_target_user_id:h,p_plan:p.plan,p_can_use_myo_viewer:p.myoViewer==="ON",p_starts_at:S,p_expires_at:T},{error:A}=await De.rpc("admin_set_user_entitlements",O);if(A)throw ije("admin_set_user_entitlements error",A),A;b(h,{saving:!1,lastSavedAt:Date.now()}),await y()}catch(k){throw b(h,{saving:!1}),l(k instanceof Error?k.message:" "),k}}},[]);return{rows:e,totalCount:n,loading:i,error:o,setError:l,fetchList:u,saveEntitlements:d}}const VF=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function oje(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function sje(e){const t=e??"FREE";return VF.find(n=>n.value===t)?.label??String(t)}function lje(e){if(!e)return" ";const t=Date.parse(e);if(!Number.isFinite(t))return" ";const n=Date.now()-t,r=Math.floor(n/1e3);if(r<15)return"";if(r<60)return`${r} `;const i=Math.floor(r/60);if(i<60)return`${i} `;const a=Math.floor(i/60);return a<24?`${a} `:`${Math.floor(a/24)} `}function k$(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function jv(e){if(!e)return"";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toISOString().slice(0,10):""}function cje(e,t){const n=jv(e),r=jv(t);return!n&&!r?" ":n&&!r?`${n} ~`:!n&&r?`~ ${r}`:`${n} ~ ${r}`}function uje(e,t){const n={...e};for(const r of t){const i=r.plan??"FREE",a=jv(r.starts_at),o=jv(r.expires_at),l=r.can_use_myo_viewer===!0?"ON":"OFF",u=n[r.user_id];if(!u){n[r.user_id]={plan:i,startDate:a,endDate:o,myoViewer:l,saving:!1};continue}u.saving||(u.plan!==i||u.startDate!==a||u.endDate!==o||u.myoViewer!==l)&&(n[r.user_id]={...u,plan:i,startDate:a,endDate:o,myoViewer:l})}return n}function dje(){const e=JEe(),{search:t,setSearch:n,tab:r,setTab:i,sort:a,setSort:o,page:l,setPage:u,draftByUser:d,setDraftByUser:h,setDraft:p}=e,{rows:b,totalCount:y,loading:k,error:w,fetchList:S,saveEntitlements:T}=aje(),O=_.useMemo(()=>Math.max(1,Math.ceil(y/IE)),[y]);return _.useEffect(()=>{u(1)},[r,a]),_.useEffect(()=>{S({search:t,tab:r,sort:a,page:l})},[S,t,r,a,l]),_.useEffect(()=>{l>O&&u(O)},[l,O,u]),_.useEffect(()=>{h(A=>uje(A,b))},[b,h]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-center mb-4",children:[g.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm",placeholder:"Search (name, email, userId...)",value:t,onChange:A=>{n(A.target.value),u(1)}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:r,onChange:A=>{const C=A.target.value;i(C==="DISABLED"?"DISABLED":C==="ALL"?"ALL":"ACTIVE")},children:[g.jsx("option",{value:"ACTIVE",children:""}),g.jsx("option",{value:"DISABLED",children:""}),g.jsx("option",{value:"ALL",children:""})]}),g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:a,onChange:A=>{const C=A.target.value;(C==="LAST_SEEN_DESC"||C==="LAST_SEEN_ASC"||C==="CREATED_DESC"||C==="CREATED_ASC"||C==="PLAN_DESC"||C==="ONLINE_ACTIVE_MS_DESC"||C==="TOTAL_ACTIVE_MS_DESC")&&o(C)},children:[g.jsx("option",{value:"LAST_SEEN_DESC",children:" "}),g.jsx("option",{value:"CREATED_DESC",children:" "}),g.jsx("option",{value:"PLAN_DESC",children:""}),g.jsx("option",{value:"ONLINE_ACTIVE_MS_DESC",children:"+"}),g.jsx("option",{value:"TOTAL_ACTIVE_MS_DESC",children:""}),g.jsx("option",{value:"LAST_SEEN_ASC",children:" "}),g.jsx("option",{value:"CREATED_ASC",children:" "})]})]})]}),w&&g.jsx("div",{className:"text-red-400 mb-2",children:w}),k&&g.jsx("div",{children:"Loading..."}),g.jsx("div",{className:"space-y-3",children:b.map(A=>{const C=A.name||A.nickname||"(no profile)",D=A.email||"",P=d[A.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:void 0},I=Date.now(),U=(A.starts_at?Date.parse(A.starts_at)<=I:!0)&&(A.expires_at?Date.parse(A.expires_at)>I:!0),W=A.plan??"FREE",K=U?W:"FREE",H=A.can_use_myo_viewer===!0?"ON":"OFF",B=A.last_seen_at??null,q=A.online===!0,X=A.total_active_ms??null;return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[g.jsxs("div",{className:"font-semibold text-lg flex flex-col desk:flex-row item-start desk:items-center justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0 flex flex-col desk:flex-row item-start desk:items-center gap-2",children:[g.jsx("span",{className:"text-nowrap mr-1",children:C}),D?g.jsxs("span",{className:"text-sm text-neutral-400",children:["(",D,")"]}):null,g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsxs("span",{className:`text-[11px] px-2 py-0.5 rounded-full border ${q?"bg-emerald-900/40 border-emerald-700 text-emerald-300":"bg-neutral-800 border-neutral-700 text-neutral-300"}`,title:B?new Date(B).toLocaleString():" ",children:[q?"":"","  ",lje(B)]}),g.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full border bg-neutral-800 border-neutral-700 text-neutral-300",title:" ",children:[" ",k$(X)]})]})]}),g.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:A.user_id})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",A.myeongsik_count??0,"",B?g.jsxs(g.Fragment,{children:["    ",new Date(B).toLocaleString()]}):g.jsx(g.Fragment,{children:"     "}),g.jsxs(g.Fragment,{children:["   ",k$(X)]})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",sje(K),"  ",cje(A.starts_at,A.expires_at),"    ",H,!U&&A.plan&&A.plan!=="FREE"?" ()":""]}),g.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsxs("div",{className:"mb-1",children:[g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:Z=>p(A.user_id,{startDate:Z.target.value})}),g.jsx("span",{className:"text-neutral-500 mx-1",children:"~"}),g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:Z=>p(A.user_id,{endDate:Z.target.value})})]}),g.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:Z=>{const G=Z.target.value;oje(G)&&p(A.user_id,{plan:G})},children:VF.map(Z=>g.jsx("option",{value:Z.value,children:Z.label},Z.value))}),g.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:Z=>p(A.user_id,{myoViewer:Z.target.value==="ON"?"ON":"OFF"}),children:[g.jsx("option",{value:"ON",children:"  ON"}),g.jsx("option",{value:"OFF",children:"  OFF"})]}),g.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void T(A.user_id,P,e.setDraft,()=>S({search:t,tab:r,sort:a,page:l})),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),g.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${A.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt!=null?g.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},A.user_id)})}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{disabled:l<=1,onClick:()=>u(A=>A-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),g.jsxs("span",{children:[l," / ",O," ( ",y,")"]}),g.jsx("button",{disabled:l>=O,onClick:()=>u(A=>A+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function fje(){const[e,t]=_.useState(null),[n,r]=_.useState([]),[i,a]=_.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function hje(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function YT({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await De.auth.getSession()).data.session?.user?.id;a&&await De.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const mje=async e=>{const{data:t}=await De.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},pje=async e=>{const{data:t}=await De.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},gje=async e=>{await De.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},bje=async(e,t)=>{await De.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},yje=async e=>{await De.from("profiles").update({disabled_at:null}).eq("user_id",e),await De.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await YT({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},vje=async e=>{await De.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await YT({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},E$=async(e,t,n)=>{const{error:r}=await De.rpc("admin_set_myeongsik_deleted",{p_target_user_id:e,p_myeongsik_id:t,p_deleted_at:n});if(r)throw console.error("admin_set_myeongsik_deleted error:",{message:r.message,details:r.details,hint:r.hint,code:r.code}),r;await YT({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function xje(e,t){if(t&&typeof t=="object"){const n=t;console.error(e,{message:n.message,details:n.details,hint:n.hint,code:n.code});return}console.error(e,t)}function wje({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=_.useCallback(async()=>{const S=await mje(e);n(S)},[e,n]),o=_.useCallback(async()=>{const S=await pje(e);r(S)},[e,r]);_.useEffect(()=>{a(),o()},[a,o]);const l=_.useCallback(async()=>{if(e){i(!0);try{await gje(e),await a()}catch(S){throw console.error("handleCreateProfile failed:",S),S}finally{i(!1)}}},[e,i,a]),u=_.useCallback(async()=>{if(e&&t){i(!0);try{await bje(e,t),await a()}catch(S){throw console.error("handleSaveProfile failed:",S),S}finally{i(!1)}}},[e,t,i,a]),d=_.useCallback(async()=>{if(e&&t){i(!0);try{const S=t.disabled_at==null,{data:T,error:O}=await De.rpc("admin_set_profile_disabled",{p_target_user_id:e,p_disabled:S});if(O)throw xje("admin_set_profile_disabled error:",O),O;n({...t,disabled_at:typeof T=="string"?T:null})}finally{i(!1)}}},[e,t,n,i]),h=_.useCallback(async()=>{if(e){i(!0);try{await yje(e),await a(),await o()}catch(S){throw console.error("handleRestoreAccount failed:",S),S}finally{i(!1)}}},[e,i,a,o]),p=_.useCallback(async()=>{if(e){i(!0);try{await vje(e),await o()}catch(S){throw console.error("handleRestoreAllMyeongsik failed:",S),S}finally{i(!1)}}},[e,i,o]),b=_.useCallback(async S=>{if(e&&S){i(!0);try{await E$(e,S,null),await o()}catch(T){throw console.error("handleRestoreMyeongsik failed:",T),T}finally{i(!1)}}},[e,i,o]),y=_.useCallback(S=>{const T=typeof window<"u"?window.location.origin:"",O=S?`${T}/impersonate?userId=${e}&myeongsikId=${S}`:`${T}/impersonate?userId=${e}`;window.open(O,"_blank")},[e]),k=_.useCallback(async(S,T)=>{if(!e||!S)return;const O=T?null:new Date().toISOString();i(!0);try{await E$(e,S,O),await o()}catch(A){throw console.error("toggleDeleteMyeongsik failed:",A),A}finally{i(!1)}},[e,i,o]),w=_.useCallback(S=>{window.location.href=S},[]);return{handleCreateProfile:l,handleSaveProfile:u,toggleDisable:d,handleRestoreAccount:h,handleRestoreAllMyeongsik:p,handleRestoreMyeongsik:b,handleViewAsUser:y,toggleDeleteMyeongsik:k,goTo:w}}function _je({params:e}){const t=e.userId,n=fje(),r=hje(n.profile),i=wje({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),g.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[g.jsx("div",{className:"flex items-center justify-between mb-3",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:""}),g.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&g.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Email"}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:" "}),g.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&g.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" + "}),g.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-semibold",children:" "}),g.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>g.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),g.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-"," "," ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{className:"text-nowrap px-2 py-1 border border-emerald-500 text-emerald-100 rounded cursor-pointer text-xs",onClick:()=>i.handleRestoreMyeongsik(a.id),disabled:n.saving,children:"  "})})]})},a.id)),n.myeongsikList.length===0&&g.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function Sje({open:e,onClose:t,children:n}){return e?g.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[g.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),g.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const j$=50;function kje(){const[e,t]=_.useState(null),[n,r]=_.useState(!1),[i,a]=_.useState([]),[o,l]=_.useState(1),[u,d]=_.useState("all"),[h,p]=_.useState("all"),[b,y]=_.useState("30"),[k,w]=_.useState(""),[S,T]=_.useState(!1),O=_.useCallback(async C=>{await De.from("audit_logs").delete().eq("id",C),a(D=>D.filter(P=>P.id!==C))},[]),A=_.useCallback(async()=>{T(!0);const C=new Date;b!=="all"&&C.setDate(C.getDate()-Number(b));let D=De.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*j$,o*j$-1);b!=="all"&&(D=D.gte("created_at",C.toISOString())),u!=="all"&&(D=D.eq("action",u)),h!=="all"&&(D=D.eq("actor_admin_id",h));const{data:P}=await D;let I=P||[];if(k.trim()!==""){const U=k.toLowerCase();I=I.filter(W=>(JSON.stringify(W).toLowerCase()+(W.payload?JSON.stringify(W.payload).toLowerCase():"")).includes(U))}a(I),T(!1)},[o,u,h,b,k]);return _.useEffect(()=>{A()},[A]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),g.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:C=>d(C.target.value),children:[g.jsx("option",{value:"all",children:" Action"}),g.jsx("option",{value:"delete_myeongsik",children:" "}),g.jsx("option",{value:"restore_myeongsik",children:" "}),g.jsx("option",{value:"update_profile",children:" "}),g.jsx("option",{value:"impersonate_user",children:""})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:h,onChange:C=>p(C.target.value),children:[g.jsx("option",{value:"all",children:" "}),g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"system",children:"System"})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:b,onChange:C=>y(C.target.value),children:[g.jsx("option",{value:"1",children:"24"}),g.jsx("option",{value:"7",children:"7"}),g.jsx("option",{value:"30",children:"30"}),g.jsx("option",{value:"all",children:""})]}),g.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:k,onChange:C=>w(C.target.value)})]}),S?g.jsx("div",{children:"Loading..."}):i.map(C=>g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(C),r(!0)},children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("div",{className:"font-semibold text-lg",children:C.action}),g.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:D=>{D.stopPropagation(),O(C.id)},children:""})]}),g.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[g.jsxs("div",{children:["Actor: ",C.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",C.target_user_id||"-"]}),g.jsxs("div",{children:["Target Record: ",C.target_record_id||"-"]}),g.jsxs("div",{children:["Time: ",new Date(C.created_at).toLocaleString()]})]}),C.payload&&g.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(C.payload,null,2)})]},C.id)),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>l(C=>C-1),children:" "}),g.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>l(C=>C+1),children:" "})]}),g.jsx(Sje,{open:n,onClose:()=>r(!1),children:e&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),g.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[g.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),g.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),g.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),g.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const Eje="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function ZF(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1);if(_.useEffect(()=>{(async()=>{const{data:l}=await De.auth.getUser(),u=l.user?.id;r(!!u&&Eje.includes(u)),t(!0)})()},[]),!e)return g.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return g.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=g.jsx(x$,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=g.jsx(_je,{params:{userId:o}})}else i.startsWith("/admin/user")?a=g.jsx(dje,{}):i.startsWith("/admin/logs")?a=g.jsx(kje,{}):i.startsWith("/admin/dashboard")&&(a=g.jsx(x$,{}));return g.jsx(nhe,{children:a})}function jje({pillarsA:e,pillarsB:t}){const n=Oae(e,t);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const Aje=["","","","","","","","","",""],Tje=["","","","","","","","","",""],Nje=["","","","","","","","","","","",""],Oje=["","","","","","","","","","","",""],Cje=new Set([...Aje,...Tje]),Mje=new Set([...Nje,...Oje]);function Dje(e){return typeof e=="object"&&e!==null}function A$(e){return typeof e=="string"&&e.length>=2&&Cje.has(e[0])&&Mje.has(e[1])}function un(e,...t){if(A$(e))return e;for(const n of t)if(A$(n))return n;return""}function Tb(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function Pje(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function T$(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,l=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(l.getTime())?null:l}function Av(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function Rje(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function Wx(e){const{y:t,m:n,d:r,hh:i,mm:a}=Rje(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),l=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Vi(t,n,r,l,u):new Date(t,n-1,r,l,u)}function Lje(e){const t=Wx(e);return`${Av(e)}-${t.toISOString()}`}function Pd(e){const t=e;return typeof t.id=="string"&&t.id?t.id:Lje(e)}function Ije(e){return Dje(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function $je(e){const t=q6;return Ije(t)?e==="classic"?t.Classic:t.Modern:e}function Bje(e){if(!e)return"";const t=e,n=l=>typeof t[l]=="string"?String(t[l]).trim().toLowerCase():null,r=l=>typeof t[l]=="boolean"?t[l]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(l=>!!l);for(const l of i){if(["","","male","m","boy","man"].includes(l))return"";if(["","","female","f","girl","woman"].includes(l))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const gk="people_picker_order_v1";function zje(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function N$({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=_.useState("");_.useEffect(()=>{e||a("")},[e]);const o=_.useMemo(()=>t.map(Pd),[t]),l=_.useMemo(()=>new Set(o),[o]),[u,d]=_.useState([]);_.useEffect(()=>{const w=localStorage.getItem(gk),S=w?JSON.parse(w):[],T=S.filter(A=>l.has(A)),O=[...T,...o.filter(A=>!T.includes(A))];d(O),JSON.stringify(O)!==JSON.stringify(S)&&localStorage.setItem(gk,JSON.stringify(O))},[o,l]);const h=w=>{d(w),localStorage.setItem(gk,JSON.stringify(w))},p=_.useMemo(()=>{const w=new Map(t.map(A=>[Pd(A),A])),S=[];for(const A of u){const C=w.get(A);C&&S.push(C)}w.forEach((A,C)=>{u.includes(C)||S.push(A)});const T=[],O=[];for(const A of S)(typeof A.relationship=="string"?A.relationship.trim():"")===""?T.push(A):O.push(A);return[...T,...O]},[t,u]),b=_.useMemo(()=>{const w=i.trim().toLowerCase();return w?p.filter(S=>{const T=typeof S.relationship=="string"?S.relationship.trim():"";return`${Av(S)} ${T}`.toLowerCase().includes(w)}):p},[p,i]),y=i.trim()==="",k=w=>{const{destination:S,source:T}=w;if(!S||!y||S.index===T.index)return;const O=b.map(Pd),A=zje(O,T.index,S.index),D=p.map(Pd).filter(I=>!O.includes(I)),P=[...A,...D].filter((I,U,W)=>W.indexOf(I)===U);h(P)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),g.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),g.jsxs("div",{className:"mb-3",children:[g.jsx("input",{value:i,onChange:w=>a(w.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),g.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),g.jsx(Ep,{onDragEnd:k,children:g.jsx(Af,{droppableId:"people-picker",children:w=>g.jsxs("ul",{className:"space-y-2",ref:w.innerRef,...w.droppableProps,children:[b.map((S,T)=>{const O=Wx(S),A=typeof S.relationship=="string"?S.relationship.trim():"",C=A||" ",D=Av(S),P=A&&D===" "?A:D;return g.jsx(jf,{draggableId:Pd(S),index:T,isDragDisabled:!y,children:I=>g.jsx("li",{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:g.jsxs("button",{onClick:()=>n(S),className:"flex-1 text-left cursor-pointer",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[g.jsx("span",{children:P}),g.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${A?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:C})]}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:Rm(O)})]})})},Pd(S))}),w.placeholder]})})})]})]})}function bk({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:l,sinsalMode:u,sinsalBloom:d}){const h=w=>{const S=o.showSibiUnseong?no(a,w):"",T=o.showSibiSinsal?ro({baseBranch:l,targetBranch:w,era:$je(u),gaehwa:!!d}):"";return{unseongText:S||void 0,shinsalText:T||void 0}},p=un(t).charAt(1),b=un(n).charAt(1),y=un(r).charAt(1),k=un(i).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",un(t),p],["",un(n),b],["",un(r),y],["",un(i),k]].map(([w,S,T])=>{const{unseongText:O,shinsalText:A}=h(T);return g.jsx(Bd,{label:w,gz:S,dayStem:a,settings:wn.getState().settings,unseongText:O,shinsalText:A,hideBranchSipSin:!0,size:"sm"},`${e}-${w}`)})})]})}function Rd({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=wn(P=>P.settings),o=_.useMemo(()=>t?Wx(t):null,[t]),l="/",u=un(o?eo(o,l):void 0),d=un(o?ht(o,l):void 0),h=un(o?kt(o):void 0),p=un(o?ct(o):void 0),b=_.useMemo(()=>d.charAt(0)||"",[d]),y=o,k=_.useMemo(()=>{const P=t?.birthPlace;return!P||P.name===""||!P.lon?127.5:P.lon},[t]),w=t?.mingSikType??l,S=_.useMemo(()=>{const P=y?ht(y,w).charAt(1):d.charAt(1)||"",I=y?ct(y,k).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?P:I},[a.sinsalBase,y,w,k,d,p]),T=_.useMemo(()=>{if(n!==""||!o||!t)return null;try{const P=V6(o,u,t.dir,120),I=X6(P,d,t.dir,t.DayChangeRule),U=Np(o,h,t.dir,120,t?.birthPlace?.lon??127.5),W=J6(U,p,t.dir,t.DayChangeRule,o),K=r;return{si:un(Tb(P.events,K)?.gz,u),il:un(Tb(I.events,K)?.gz,d),wl:un(Tb(U.events,K)?.gz,h),yn:un(Tb(W.events,K)?.gz,p)}}catch{return null}},[n,o,u,d,h,p,r,t]),O=_.useMemo(()=>{if(n!=="")return null;const P=r;return{si:un(eo(P,l)),il:un(ht(P,l)),wl:un(kt(P)),yn:un(ct(P))}},[n,r]),A=t?Av(t):"",C=o?Rm(o):"",D=t?Bje(t):"";return t?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:A}),D&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",D]}),C&&g.jsx("span",{className:"block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:C})]}),n===""&&g.jsx(bk,{label:"",gzHour:u,gzDay:d,gzMonth:h,gzYear:p,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&T&&g.jsx(bk,{label:"",gzHour:T.si,gzDay:T.il,gzMonth:T.wl,gzYear:T.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&O&&g.jsx(bk,{label:"",gzHour:O.si,gzDay:O.il,gzMonth:O.wl,gzYear:O.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function Uje({people:e=[]}){const[t,n]=_.useState(),[r,i]=_.useState(),[a,o]=_.useState(!1),[l,u]=_.useState(!1),d=_.useRef(new Date),[h,p]=_.useState(()=>Pje(d.current)),b=_.useRef(T$(h)??d.current),y=_.useMemo(()=>{const C=T$(h);return C&&(b.current=C),b.current},[h]),[k,w]=_.useState(!1),[S,T]=_.useState(!1);function O(C){if(!C)return["","","",""];try{const D=Wx(C),P="/",I={hour:un(eo(D,P)),day:un(ht(D,P)),month:un(kt(D)),year:un(ct(D))};return[I.year,I.month,I.day,I.hour]}catch{return["","","",""]}}const A=fn(C=>C.canUseMyoViewerNow());return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[A?g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:a,onChange:C=>o(C.target.checked),className:"accent-indigo-500"})," "]}):null,g.jsx("button",{onClick:()=>u(C=>!C),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(Rd,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),g.jsx(Rd,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>T(!0)}),a&&t&&g.jsx(Rd,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),a&&r&&g.jsx(Rd,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>T(!0)}),l&&t&&g.jsx(Rd,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),l&&r&&g.jsx(Rd,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>T(!0)})]}),t&&r&&g.jsx("div",{className:"mt-4",children:g.jsx(jje,{pillarsA:O(t),pillarsB:O(r)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),g.jsx("input",{type:"datetime-local",value:h,onChange:C=>p(C.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(N$,{open:k,list:e||[],onSelect:C=>{n(C),w(!1)},onClose:()=>w(!1)}),g.jsx(N$,{open:S,list:e||[],onSelect:C=>{i(C),T(!1)},onClose:()=>T(!1)})]})}function Fje(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),i=async()=>{try{const{data:{user:a}}=await De.auth.getUser();if(!a){alert("  .");return}const o=a.id,l=new Date().toISOString();await De.from("profiles").update({disabled_at:l}).eq("id",o),await De.from("myeongsik").update({deleted_at:l}).eq("user_id",o),await De.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return g.jsxs(g.Fragment,{children:[g.jsxs("footer",{className:"py-8 pb-[calc(64px+env(safe-area-inset-bottom,0px)+var(--bottom-dock,0px))] px-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),g.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[g.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),g.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"     ,    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-1",children:["    (, )",g.jsx("br",{}),"       ( ,  ,  )"]}),g.jsxs("p",{className:"mb-2",children:["    (, )",g.jsx("br",{}),"       ( ,  ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"    /  ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"         "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-1",children:"       ."}),g.jsx("p",{className:"mb-2",children:"   3  ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),g.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",g.jsx("br",{}),"    ."]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),g.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function Hje(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function yk(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);if(!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12)return null;const l=new Date(i,a,0).getDate();return o<1||o>l?null:{y:i,m:a,d:o}}function O$(e,t,n){return e<t?t:e>n?n:e}function XF({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31",className:i="px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}){const a=_.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),o=_.useMemo(()=>Hje(a),[a]),[l,u]=_.useState(o);_.useEffect(()=>{u(o)},[o]);const d=h=>{if(!yk(h))return;const b=O$(h,n,r),{y,m:k,d:w}=yk(b),S=a.getHours(),T=a.getMinutes(),O=a.getSeconds(),A=a.getMilliseconds(),C=new Date(y,k-1,w,S,T,O,A);Number.isNaN(C.getTime())||t(C)};return g.jsx("input",{type:"date",value:l,min:n,max:r,onChange:h=>{const p=h.target.value;u(p),p&&d(p)},onBlur:()=>{if(!l||!yk(l)){u(o);return}const h=O$(l,n,r);h!==l&&(u(h),d(h))},className:i,"aria-label":" "})}function Gje({ms:e}){const{date:t,setDate:n}=Jr(),r=nc(),i=_.useMemo(()=>{const d=typeof e.id=="string"?e.id:"";if(d)return d;const h=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",p=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",h,p].filter(Boolean).join("|")},[e]);_.useEffect(()=>{n(new Date)},[i]);const a=ix(e,void 0,void 0,{dstOffsetMinutes:r}),o=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,l=_.useMemo(()=>{const d=typeof e.ganji=="string"?e.ganji:"",h=a?.dae?.gz?`${a.dae.gz}`:null,p=a?.se?.gz?`${a.se.gz}`:null,b=a?.wol?.gz?`${a.wol.gz}`:null,y=[h,p,b].filter(Boolean).join(" ");return[d,y].filter(Boolean).join(" + ")},[e.ganji,a]),u=d=>{n(d)};return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto mb-4 px-2 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[l&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:l}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),g.jsx(XF,{date:o,onChange:u,min:"1900-01-01",max:"2100-12-31"})]})})]})}function Yje({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:l}){return g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"/"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:" "}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>l("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>l("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function qje({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),l=t===i;return g.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",l?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function Kje({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""})]})}),g.jsx("tbody",{children:e.map((i,a)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),g.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:i.date}),g.jsx("td",{className:"p-1 text-center",children:i.year}),g.jsx("td",{className:"p-1 text-center",children:i.month}),g.jsx("td",{className:"p-1 text-center",children:i.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,l)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:o.branch})},l))})}),g.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function Wje({toast:e,showToast4:t,searchToast:n,error:r}){return g.jsxs(g.Fragment,{children:[e&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",g.jsx("br",{}),"   ."]})}),r&&g.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function Vje({choices:e,onChoose:t}){return!e||e.length===0?null:g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"  ."}),g.jsx("div",{className:"flex gap-2",children:e.map(n=>g.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const qT=["","","","","","","","","",""],e0=["","","","","","","","","","","",""],Zje={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},JF=["","","","","","","","","","","",""],Xje=e0,Jje=JF,Qje=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],eAe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},tAe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function gp(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=Zje[n],i=JF.indexOf(t),a=(r+(i>=0?i:0))%10;return qT[a]}function Vx(e,t){const n=t===""?Xje:Jje,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=e0.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=qT[(r+a)%10],l=n[a];i[l]=`${o}${l}`}return i}const nAe={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function rAe(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function iAe({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?g.jsxs("div",{className:"w-full",children:[n&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:qT.map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ki(o,"stem",a)}`,children:o},o))})]}),r&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:e0.filter(o=>{const l=rAe(e),u=t[l];return u?tAe[o]===eAe[u]:!0}).map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ki(o,"branch",a)}`,children:o},o))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function aAe(){const[e,t]=_.useState({}),[n,r]=_.useState(null),[i,a]=_.useState(null),[o,l]=_.useState(!0),[u,d]=_.useState(!0),[h,p]=_.useState(""),[b,y]=_.useState("male"),[k,w]=_.useState(null),[S,T]=_.useState(!1),[O,A]=_.useState(null),[C,D]=_.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[P,I]=_.useState(!1),[U,W]=_.useState(null),[K,H]=_.useState(null),[B,q]=_.useState(!1),[X,Z]=_.useState(!1),G=J=>{H(J),setTimeout(()=>H(null),1800)};return _.useEffect(()=>{if(!B)return;const J=setTimeout(()=>q(!1),2e3);return()=>clearTimeout(J)},[B]),_.useEffect(()=>{if(!X)return;const J=setTimeout(()=>Z(!1),2e3);return()=>clearTimeout(J)},[X]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,gender:b,setGender:y,results:k,setResults:w,searching:S,setSearching:T,selectedRow:O,setSelectedRow:A,form:C,setForm:D,unknownPlace:P,setUnknownPlace:I,error:U,setError:W,toast:K,showToast4:B,setShowToast:q,searchToast:X,setSearchToast:Z,showToast:G}}function QF(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function C$(e,t){return e0.filter(n=>gp(e,n)===t)}function M$(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=C$(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=gp(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=C$(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=gp(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function oAe(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=Vx(i.dayStem,r),o=u=>Object.entries(a).find(([,d])=>d.startsWith(u)),l=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=l(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=l(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function sAe(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?gp(e.yearStem,e.monthBranch)!==e.monthStem:!1}function lAe(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=Vx(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function vk(e,t,n){const i=Vx(e,t)[n];return i?i.slice(0,1):null}function cAe({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,setResults:b,setError:y,showToast:k}){const w=o||u,S=!!(e.yearStem&&e.yearBranch),T=!!(e.dayStem&&e.dayBranch),O=!w||S||T,A=!!n&&n.endsWith("Stem"),C=!!n&&n.endsWith("Branch"),D=_.useMemo(()=>QF(e),[e]);return _.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const B=vk(e.dayStem,h,e.hourBranch);B&&t(q=>({...q,hourStem:B}))}},[h,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:w,canEnterOthers:O,activeIsStem:A,activeIsBranch:C,filledAll:D,monthBranchChoices:i,handleSelect:B=>{if(!n)return;if(!O&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){y("/      ."),setTimeout(()=>y(null),1500);return}let X={...e,[n]:B};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const J=M$(X,n,o);X=J.next,a(J.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(X=oAe(X,n,u,h));let Z=!1;sAe(X,o)&&(l(!1),Z=!0),lAe(X,u,h)&&(d(!1),Z=!0),Z&&k("/  .  ."),t(X),b(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const J={...X};if(J.yearStem&&J.yearBranch&&!J.monthStem){r("monthStem");return}if(J.monthStem&&J.monthBranch&&!J.dayStem){r("dayStem");return}if(J.dayStem&&J.dayBranch&&!J.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:B=>{let q={...e,monthBranch:B};a(null),q=M$(q,"monthBranch",o).next,t(q),r("dayStem")},clearAll:()=>{t({}),b(null),y(null),r(null),a(null)},onToggleWoldu:B=>{b(null),B&&t(q=>{const X={...q};return X.yearStem&&X.monthBranch&&(X.monthStem=gp(X.yearStem,X.monthBranch)),X}),l(B)},onToggleSiju:B=>{b(null),B&&t(q=>{const X={...q};if(X.dayStem&&X.hourBranch){const Z=vk(X.dayStem,h,X.hourBranch);Z&&(X.hourStem=Z)}return X}),d(B)},onChangeHourRule:B=>{if(b(null),p(B),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const q=vk(e.dayStem,B,e.hourBranch);q&&t(X=>({...X,hourStem:q}))}}}}function uAe(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,l=t!==null?n?.filter((K,H)=>H===t)??[]:[];if(l.length===0)return{error:"  ."};const u=l[0],d=i===""?"/":"",[h,p,b]=u.date.split("-").map(Number);let y=0,k=0;if(u.hourSlots.length>0){const K=u.hourSlots[0].branch,H=nAe[K];H&&(y=H.hh,k=H.mi)}const w=new Date(h,p-1,b,y,k),S=w,T="",O=r==="male"?"":"",A=dAe(u.year.charAt(0),O),C=ct(S,127.5),D=kt(S,127.5),P=ht(S,d),I=eo(S,d),U=[`: ${C} ${D} ${P}`,I?`${I}`:null].filter(Boolean).join(" ");return{payload:{id:F6(),name:"",birthDay:`${h}${String(p).padStart(2,"0")}${String(b).padStart(2,"0")}`,birthTime:`${String(y).padStart(2,"0")}${String(k).padStart(2,"0")}`,gender:O,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:gu(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:U,dayStem:u.day.charAt(0),dateObj:w,corrected:S,correctedLocal:T,dir:A,favorite:!1}}}function dAe(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function fAe(e){xn.getState().add(e)}function hAe(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,l=`${e.hourStem}${e.hourBranch}`,u=[],d=new Date(1900,0,1,12,0,0),h=new Date(2100,11,31,12,0,0);for(let p=d.getTime();p<=h.getTime();p+=24*3600*1e3){const b=new Date(p),y=ct(b);if(y!==i)continue;const k=kt(b);if(k!==a)continue;const w=ht(b,n);if(w!==o)continue;const S=Vx(e.dayStem,t),T=[];for(let O=0;O<12;O++){const A=e0[O];S[A]===l&&T.push({branch:A,time:Qje[O]})}if(T.length!==0&&(u.push({date:`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`,year:y,month:k,day:w,hour:l,hourSlots:T}),u.length>=r))break}return u}function mAe({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:l,setSearching:u,setError:d,setSearchToast:h,setForm:p,setUnknownPlace:b,showToast:y,onSave:k,onClose:w}){return{doSearch:()=>{if(l(null),d(null),!QF(e)){d(" 4  .");return}u(!0);try{const A=hAe(e,t,t===""?"/":"");A.length===0&&d("  . (: 1900~2100)"),l(A)}catch(O){O instanceof Error?d(O.message):d(String(O))}finally{u(!1)}},handleSave:()=>{const O=uAe({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in O){h(!0);return}Ou.flushSync(()=>{fAe(O.payload)}),k(O.payload),y(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),b(!1),w()}}}function pAe({open:e,onClose:t,onSave:n}){const{settings:r}=wn(),i=aAe(),a=cAe({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=mAe({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:g.jsx(my,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),g.jsx(Yje,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",g.jsx("br",{}),g.jsx("b",{children:""}),"  ",g.jsx("b",{children:""})," ."]}),g.jsx(qje,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),g.jsx(Vje,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:g.jsx(iAe,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:g.jsx(Kje,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),g.jsx(Wje,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function gAe(){return g.jsx("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:g.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "})})}function bAe({sections:e,toggleSection:t}){return g.jsxs("div",{className:"mt-3 border-t pt-2",children:[g.jsxs("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["   ",g.jsx("span",{className:"text-amber-500",children:"(TIP.  AI  . ex.,  )"})]}),g.jsx("p",{className:"text-amber-500",children:"      . (     .)"}),g.jsx("p",{className:"text-amber-500",children:" AI     .  ,   ."}),g.jsx("p",{className:"text-amber-500",children:"  AI ,    .  ."})]}),g.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function yAe({friendMode:e,setFriendMode:t,teacherMode:n,setTeacherMode:r}){return g.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"/ "}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"friendMode",checked:e,onChange:t,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"teacherMode",checked:n,onChange:r,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function vAe({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>g.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&g.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))})]})}function xAe({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?g.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:" "}),g.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[g.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),g.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:"  "}),g.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:" "}),a.map(o=>g.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function wAe({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),g.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function _Ae({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[g.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map((o,l)=>{const d=!a&&!(l===0),h=!d&&t===o;return g.jsxs("button",{type:"button",onClick:()=>{d||n(o)},disabled:d,title:d?"  ":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",d?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",h?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":d?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",d?"()":""]},o)})}),g.jsx(XF,{date:r,onChange:i})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsx("p",{children:"     ."}),g.jsx("p",{children:"    ."})]})]})}function SAe({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:l,onSeEndChange:u,onSeStartBlur:d,onSeEndBlur:h,seYearsCount:p,wolStartDate:b,wolEndDate:y,onWolStartChange:k,onWolEndChange:w,onWolStartBlur:S,onWolEndBlur:T,wolMonthsCount:O,ilStartDate:A,ilEndDate:C,onIlStartChange:D,onIlEndChange:P,onIlStartBlur:I,onIlEndBlur:U,ilDaysCount:W}){return g.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[g.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(K=>g.jsx("button",{type:"button",onClick:()=>t(K),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===K?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:K},K))}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),g.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((K,H)=>g.jsxs("button",{type:"button",onClick:()=>i(H),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(H)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[g.jsx("div",{className:"font-mono",children:K.gz}),g.jsxs("div",{className:"text-[10px] opacity-80",children:[K.age," (",K.startYear,"~",K.endYear,")"]})]},H))})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"number",value:a,onChange:K=>l(Number(K.target.value)),onBlur:d,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"number",value:o,onChange:K=>u(Number(K.target.value)),onBlur:h,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"month",value:b,onChange:K=>k(K.target.value),onBlur:S,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"month",value:y,onChange:K=>w(K.target.value),onBlur:T,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",O,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 7)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"date",value:A,onChange:K=>D(K.target.value),onBlur:I,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"date",value:C,onChange:K=>P(K.target.value),onBlur:U,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",W,""]})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsxs("p",{children:[" ",e,"   ."]}),g.jsx("p",{children:"   ."})]})]})}function kAe({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:l}){const u=l?" ":"";return g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&g.jsx("button",{type:"button",onClick:i,disabled:o,title:o?l:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),g.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?l:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),g.jsxs("div",{className:"mb-4 text-center",children:[g.jsx("button",{type:"button",onClick:n,disabled:o,title:o?l:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&g.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&g.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((d,h)=>g.jsxs("li",{className:"flex gap-1 items-start",children:[g.jsxs("span",{className:"shrink-0",children:[h+1,"."]}),g.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:d}),g.jsx("button",{type:"button",onClick:()=>a(h),disabled:o,title:o?l:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},h))})]})}function EAe({value:e,lockSelection:t=!1}){const[n,r]=_.useState(!1);return t?g.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:"   "}):g.jsxs("div",{children:[g.jsxs("div",{className:"relative",children:[g.jsx("textarea",{readOnly:!0,value:e,placeholder:"   ",className:["w-full text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 resize-none transition-[height] duration-200","desk:h-[270px] desk:overflow-y-auto",n?"h-[270px] overflow-y-auto pointer-events-auto":"h-[150px] overflow-hidden pointer-events-none desk:pointer-events-auto"].join(" ")}),!n&&g.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-10 rounded-b-md bg-gradient-to-t from-white/95 dark:from-neutral-800/95 to-transparent"})]}),g.jsx("div",{className:"mt-2 mb-3 flex justify-center desk:hidden",children:g.jsx("button",{type:"button",onClick:()=>r(i=>!i),className:"px-3 py-1 rounded-full border text-xs bg-white text-neutral-700 border-neutral-300 dark:bg-neutral-900 dark:text-neutral-200 dark:border-neutral-700",children:n?"":""})})]})}const jAe=["","","","",""],AAe={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},D$={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function TAe(){const[e,t]=_.useState(null);return _.useEffect(()=>{let n=!0;return De.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const NAe={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},Tv=Yo(e=>({sections:NAe,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),xk=1e3*60*60*24;function wk(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function Nb(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function Ob(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function P$(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function R$(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function OAe(){const e=new Date().getFullYear(),[t,n]=_.useState(e),[r,i]=_.useState(e),[a,o]=_.useState(()=>R$()),[l,u]=_.useState(()=>R$()),[d,h]=_.useState(()=>P$()),[p,b]=_.useState(()=>P$()),y=Z=>{n(Z)},k=Z=>{i(Z)},w=()=>{const Z=t;let G=r;G<Z&&(G=Z),G-Z>9&&(G=Z+9),i(G)},S=()=>{let Z=t;const G=r;G<Z&&(Z=G),G-Z>9&&(Z=G-9),n(Z)},T=_.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const Z=r-t+1;return Z>0?Z:0},[t,r]),O=_.useMemo(()=>{const Z=[];if(!Number.isFinite(t)||!Number.isFinite(r))return Z;for(let G=t;G<=r&&Z.length<10;G++)Z.push(G);return Z},[t,r]),A=Z=>{o(Z)},C=Z=>{u(Z)},D=()=>{const[Z,G]=a.split("-").map(Number),[J,Q]=l.split("-").map(Number),oe=new Date(Z,G-1),te=new Date(J,Q-1);if(te<oe){u(Nb(oe));return}if(wk(oe,te)>11){const V=new Date(oe);V.setMonth(oe.getMonth()+11),u(Nb(V))}},P=()=>{const[Z,G]=a.split("-").map(Number),[J,Q]=l.split("-").map(Number),oe=new Date(Z,G-1),te=new Date(J,Q-1);if(te<oe){o(Nb(te));return}if(wk(oe,te)>11){const V=new Date(te);V.setMonth(te.getMonth()-11),o(Nb(V))}},I=_.useMemo(()=>{const[Z,G]=(a||"").split("-").map(Number),[J,Q]=(l||"").split("-").map(Number);if(!Number.isFinite(Z)||!Number.isFinite(G)||!Number.isFinite(J)||!Number.isFinite(Q))return 0;const oe=new Date(Z,G-1,1),te=new Date(J,Q-1,1),z=wk(oe,te)+1;return z>0?z:0},[a,l]),U=_.useMemo(()=>{const Z=[],[G,J]=a.split("-").map(Number),[Q,oe]=l.split("-").map(Number),te=new Date(G,J-1),z=new Date(Q,oe-1);if(Number.isNaN(te.getTime())||Number.isNaN(z.getTime()))return Z;for(;te<=z&&Z.length<12;)Z.push(`${te.getFullYear()}-${String(te.getMonth()+1).padStart(2,"0")}`),te.setMonth(te.getMonth()+1);return Z},[a,l]),W=Z=>{h(Z)},K=Z=>{b(Z)},H=()=>{if(!d||!p)return;const[Z,G,J]=d.split("-").map(Number),[Q,oe,te]=p.split("-").map(Number),z=new Date(Z,G-1,J,4,0,0),V=new Date(Q,oe-1,te,4,0,0);if(V<z){b(Ob(z));return}if(Math.floor((V.getTime()-z.getTime())/xk)>7){const ie=new Date(z);ie.setDate(z.getDate()+6),b(Ob(ie))}},B=()=>{if(!d||!p)return;const[Z,G,J]=d.split("-").map(Number),[Q,oe,te]=p.split("-").map(Number),z=new Date(Z,G-1,J,4,0,0),V=new Date(Q,oe-1,te,4,0,0);if(z>V){h(Ob(V));return}if(Math.floor((V.getTime()-z.getTime())/xk)>7){const ie=new Date(V);ie.setDate(V.getDate()-6),h(Ob(ie))}},q=_.useMemo(()=>{const[Z,G,J]=(d||"").split("-").map(Number),[Q,oe,te]=(p||"").split("-").map(Number);if(!Number.isFinite(Z)||!Number.isFinite(G)||!Number.isFinite(J)||!Number.isFinite(Q)||!Number.isFinite(oe)||!Number.isFinite(te))return 0;const z=new Date(Z,G-1,J,4,0,0),V=new Date(Q,oe-1,te,4,0,0),re=Math.floor((V.getTime()-z.getTime())/xk)+1;return re>0?re:0},[d,p]),X=_.useMemo(()=>{const Z=[],[G,J,Q]=d.split("-").map(Number),[oe,te,z]=p.split("-").map(Number),V=new Date(G,J-1,Q,4,0,0),re=new Date(oe,te-1,z,4,0,0);if(Number.isNaN(V.getTime())||Number.isNaN(re.getTime()))return Z;const ie=new Date(V);for(;ie<=re&&Z.length<31;){const ue=ie.getFullYear(),de=String(ie.getMonth()+1).padStart(2,"0"),pe=String(ie.getDate()).padStart(2,"0");Z.push(`${ue}-${de}-${pe}`),ie.setDate(ie.getDate()+1)}return Z},[d,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:l,ilStartDate:d,ilEndDate:p,onSeStartChange:y,onSeEndChange:k,onSeStartBlur:w,onSeEndBlur:S,onWolStartChange:A,onWolEndChange:C,onWolStartBlur:D,onWolEndBlur:P,onIlStartChange:W,onIlEndChange:K,onIlStartBlur:H,onIlEndBlur:B,seYearsCount:T,wolMonthsCount:I,ilDaysCount:q,seYearsList:O,wolMonthsList:U,ilDaysList:X}}function CAe({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=Tv(Q=>Q.sections),i=Tv(Q=>Q.toggleSection),[a,o]=_.useState(!1),[l,u]=_.useState(!1),[d,h]=_.useState(""),[p,b]=_.useState("personality"),[y,k]=_.useState("overview"),[w,S]=_.useState("solo"),[T,O]=_.useState(""),[A,C]=_.useState(!1),[D,P]=_.useState(""),[I,U]=_.useState([]),[W,K]=_.useState(""),[H,B]=_.useState([]),q=OAe();_.useEffect(()=>{p!=="love"&&p!=="compat"&&(S("solo"),h(""))},[p]),_.useEffect(()=>{!t&&A&&C(!1)},[t,A]),_.useEffect(()=>{!n&&T!==""&&O("")},[n,T]),_.useEffect(()=>{D!==""&&U([])},[D]),_.useEffect(()=>{K(""),B([])},[e]);function X(){const Q=W.trim();Q&&(B(oe=>[...oe,Q]),K(""))}function Z(Q){B(oe=>oe.filter((te,z)=>z!==Q))}function G(){B([])}function J(Q){U(oe=>oe.includes(Q)?oe.filter(te=>te!==Q):[...oe,Q])}return{sections:r,toggleSection:i,friendMode:a,setFriendMode:o,teacherMode:l,setTeacherMode:u,partnerId:d,setPartnerId:h,mainCategory:p,setMainCategory:b,subCategory:y,setSubCategory:k,relationMode:w,setRelationMode:S,activeTab:T,setActiveTab:O,isMultiMode:A,setIsMultiMode:C,multiTab:D,setMultiTab:P,selectedDaeIdx:I,setSelectedDaeIdx:U,handleToggleDae:J,rangeControls:q,questionDraft:W,setQuestionDraft:K,extraQuestions:H,setExtraQuestions:B,handleAddQuestion:X,handleRemoveQuestion:Z,handleClearQuestions:G}}const eH=Yo(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})})),MAe=!1,L$=e=>e<10?`0${e}`:`${e}`;function DAe(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Vi(i,a,o,0,0),u=`${l.getFullYear()}${L$(l.getMonth()+1)}${L$(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const Am={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Tm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ql={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Cb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},PAe=["","","","",""];function I$(e){return PAe.includes(e)}const tH={:"",:"",:"",:"",:""},nH={:"",:"",:"",:"",:""},rH={:"",:"",:"",:"",:""},iH={:"",:"",:"",:"",:""};function $E(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Am[t])return Am[t];if(["","","","","","","","","","","",""].includes(t))return Cb[t]??null;if(Tm[t])return Cb[Tm[t]]??null;const n=t.charAt(0);return Am[n]?Am[n]:["","","","","","","","","",""].includes(n)?n:Tm[n]?Cb[Tm[n]]??null:["","","","","","","","","","","",""].includes(n)?Cb[n]??null:null}function RAe(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=$E(n);i&&(t[i]=(t[i]??0)+r)}return t}function LAe(e){if(!e)return[];const t=$E(e.charAt(0)),n=$E(e.charAt(1));return[t,n].filter(Boolean)}function Mb(e){const t=LAe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function aH(e,t){const n=Ql[e],r=Ql[t];if(!n||!r)return"";let i;r===n?i="":r===tH[n]?i="":r===nH[n]?i="":r===rH[n]?i="":r===iH[n]?i="":i="";const a=I$(e)===I$(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function oH(e,t){return t===e?"":t===tH[e]?"":t===nH[e]?"":t===rH[e]?"":t===iH[e]?"":""}function sH(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}const IAe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},$Ae=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=Am[t]??t,i=Tm[n]??n;return`${r}${i}`},Nv=e=>{const t=$Ae(e),n=IAe[t];return n?{...n,code:t}:null};function lH(e,t){const n=DAe(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let l="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),d=String(n.corrected.getMinutes()).padStart(2,"0");l=t?"":`${u}:${d}`}return`${i} ${a} ${o}  ${l}`}function BAe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Ql[n];i&&(t[i]+=r)}return t}function zAe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=aH(t,r);n[a]+=i}return n}function UAe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const FAe={natal:50,dae:30,se:20,wol:7,il:3};function HAe(e){const t={};for(const{kind:r,bare:i}of e){const a=FAe[r]??0;if(a<=0)continue;const o=sH(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function cH(e,t,n){const r=RAe(e.perStemElementScaled),i=t!==""&&n?.dae?Mb(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?Mb(n.se):{},o=(t===""||t==="")&&n?.wol?Mb(n.wol):{},l=t===""&&n?.il?Mb(n.il):{},u=HAe([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:l}]),d=sH(u),h=BAe(d),p=zAe(d,e.dayStem),b=UAe(p);return{perStemAugBare:d,elementPercent:h,totalsSub:p,totalsMain:b}}function uH(e){return!e.birthTime||e.birthTime===""}function dH(e,t){return t[3]?["","","",""]:["","",""]}function GAe(e,t){return e.map((n,r)=>t[r]??"")}const YAe=["","","","","","","","","",""],qAe=["","","","","","","","","",""];function BE(e,t){const n={};for(const i of qAe){const a=aH(t,i);n[a]=i}const r={};for(const i of YAe){const a=n[i],o=a?Ql[a]??"":"",l=a?`${i}(${a}${o})`:i;typeof e[i]=="number"&&(r[l]=e[i])}return r}function mu(e,t){return Object.entries(e).filter(([,r])=>r!=null&&`${r}`.trim()!=="").map(([r,i])=>`${r}: ${i}`).join(", ")}function KAe(e){return e.map(t=>String(t??"").trim()).filter(Boolean).join(`
`)}function fa(e){return e.filter(t=>t&&t.pos&&t.gz&&t.value).map(t=>`${t.pos}: [ - ${t.gz}] / ${t.value}`).join(`
`)}function Ov(e){return`: ${e.yang}, : ${e.yin}`}const WAe={si:"",il:"",wol:"",yeon:""};function $$(e){return e.replace(/^#/,"").trim()}function KT(e){const t=[],n=["si","il","wol","yeon"];for(const a of n){const o=e.good?.[a]??[],l=e.bad?.[a]??[];o.length===0&&l.length===0||(t.push(`[${WAe[a]}]`),o.length>0&&t.push(` : ${o.map($$).join(", ")}`),l.length>0&&t.push(` : ${l.map($$).join(", ")}`))}const r=e.meta?.voidPair;(r?.day||r?.year)&&(t.push("[]"),r.day?.length&&t.push(` : ${r.day.join("  ")}`),r.year?.length&&t.push(` : ${r.year.join("  ")}`));const i=e.meta?.samjaeYears;return(i?.day||i?.year)&&(t.push("[]"),i.day?.length&&t.push(` : ${i.day.join("")}`),i.year?.length&&t.push(` : ${i.year.join("")}`)),t.join(`
`)}const VAe={cheonganHap:"",cheonganChung:"",jijiSamhap:"",jijiBanhap:"",jijiBanghap:"",jijiYukhap:"",jijiChung:"",jijiHyeong:"",jijiPa:"",jijiHae:"",jijiWonjin:"",jijiGwimun:"",amhap:"",ganjiAmhap:""},ZAe=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"],B$=["","","","","","","",""];function XAe(e){return[...e].sort((t,n)=>{const r=B$.indexOf(t),i=B$.indexOf(n);return r===-1&&i===-1?t.localeCompare(n,"ko"):r===-1?1:i===-1?-1:r-i})}function JAe(e){return e.replace(/^#/,"").replace(/_/g," ").replace(/X/g," X ").replace(/\s+/g," ").trim()}function QAe(e){const t=e.replace(/^#/,"").trim();if(!t)return null;const[n,r=""]=t.split("_");return{tokens:n.split("X").filter(Boolean),label:r,human:JAe(t)}}function eTe(e){const t=e.map(QAe).filter(a=>!!a),n=[],r=new Set,i=new Map;t.forEach((a,o)=>{if(a.tokens.length!==2||!a.label)return;const l=i.get(a.label)??[];l.push(o),i.set(a.label,l)});for(const[a,o]of i){const l=new Map;for(const h of o){const p=t[h],[b,y]=p.tokens;l.has(b)||l.set(b,[]),l.has(y)||l.set(y,[]),l.get(b).push(h),l.get(y).push(h)}let u="",d=[];for(const[h,p]of l)p.length>d.length&&(u=h,d=p);if(d.length>=2){const h=d.map(b=>{r.add(b);const[y,k]=t[b].tokens;return y===u?k:y}).filter(Boolean),p=`${XAe(h).join("  ")} X ${u} ${a}`.trim();p&&n.push(p)}}return t.forEach((a,o)=>{r.has(o)||n.push(a.human)}),n}function Cv(e){const t=[];for(const n of ZAe){const r=e[n];if(!Array.isArray(r))continue;const i=r.filter(l=>l&&typeof l=="string"&&!l.includes(""));if(i.length===0)continue;const a=eTe(i),o=VAe[n]??n;t.push(`${o} : ${a.join("  ")}`)}return t.join(`
`)}function tTe(e){const t=[];for(const[n,r]of Object.entries(e))!r||!r.gz||!r.nabeum||t.push({pos:n,gz:r.gz,value:r.nabeum});return fa(t)}const Nm=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Mv(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>Mv(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(Nm(e)){const t={};for(const[n,r]of Object.entries(e)){const i=Mv(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function fH(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}const _k=e=>typeof e=="string"||typeof e=="number"||typeof e=="boolean",nTe=e=>typeof e.yang=="number"&&typeof e.yin=="number",rTe=e=>"good"in e||"bad"in e||"meta"in e,iTe=new Set(["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"]),aTe=e=>Object.keys(e).some(t=>iTe.has(t));function z$(e){const t=typeof e.pos=="string"?e.pos:"",n=typeof e.gz=="string"?e.gz:"";if(!t||!n)return null;const r=typeof e.unseong=="string"&&e.unseong||typeof e.shinsal=="string"&&e.shinsal||typeof e.nabeum=="string"&&e.nabeum||typeof e.value=="string"&&e.value||"";return r?{pos:t,gz:n,value:r}:null}function ey(e){if(e==null)return"";const t=fH(e);if(t)return t;if(Array.isArray(e)){if(e.length===0)return"";if(e.every(_k))return KAe(e.map(String));const n=[];for(const r of e){if(!Nm(r))continue;const i=z$(r);i&&n.push(i)}return n.length>0?fa(n):e.map(r=>ey(r)).filter(Boolean).join(`

`)}if(Nm(e)){if(nTe(e))return Ov(e);if(rTe(e))return KT(e);if(aTe(e))return Cv(e);const n=Object.entries(e);if(n.length===0)return"";if(n.every(([,u])=>_k(u)))return mu(e);if(n.every(([,u])=>Array.isArray(u)))return n.map(([d,h])=>{const p=h.map(b=>ey(b)).filter(Boolean).join(`

`);return p?`[${d}]
${p}`:""}).filter(Boolean).join(`
`);if(n.every(([,u])=>u==null||_k(u)||Nm(u))){const u=n.map(([d,h])=>{if(h==null)return"";const p=ey(h);if(!p)return"";const b=p.includes(`
`)?`
`:" ";return`${d}:${b}${p}`}).filter(Boolean);if(u.length>0)return u.join(`
`)}if(n.every(([,u])=>!u||Nm(u)&&typeof u.gz=="string"))return tTe(e);const l=z$(e);return l?fa([l]):JSON.stringify(e,null,2)}return String(e??"")}function oTe(e,t){const n=Mv(e);if(n===void 0)return"";if(t==="plain")return ey(n);const r=fH(n);return r!==""?r:["```json",JSON.stringify(n,null,2),"```"].join(`
`)}function hH(e,t,n){const r=oTe(t,n);return r.trim()?`## ${e}
${r}`:""}const Lo=(e,t)=>hH(e,t,"plain"),mH=(e,t)=>hH(e,t,"fenced"),sTe=(e,t)=>{if(!e)return{};const n=t,r=l=>{if(!l)return;const u={};for(const[d,h]of Object.entries(l)){if(!Array.isArray(h))continue;const p=h.filter(b=>typeof b=="string"&&b.includes(n));p.length>0&&(u[d]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},lTe=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function zE(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${oH(t,n)})`,r]))}const U$={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},cTe=["year","month","day","hour"],uTe=new Set(["","","","",""]),qd=new Set(["","","","",""]),UE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},dTe={:5,:7,:5,:-5,:-7,:-5},Sk=e=>Math.round(e*10)/10,pH=e=>{const t=Sk(e),n=Sk(100-e),r=Sk(100-Math.abs(t-50)*2),i=t>=55?"":t<=45?"":"";return{yang:t,yin:n,harmony:r,category:i}};function fTe(e){if(!e)return null;let t=0,n=0;Object.entries(e).forEach(([i,a])=>{const o=Number(a)||0;qd.has(i.charAt(0))?t+=o:n+=o});const r=t+n;return r<=0?null:t/r*100}function Db(e){if(!e||e.length<2)return null;const t=e.charAt(0),n=e.charAt(1),r=UE[n],i=[t,r].filter(Boolean);return i.length?i.filter(o=>qd.has(o)).length/i.length*100:null}function WT(e){const{natal:t,perStemElementScaled:n,mode:r="natal"}=e;if(!n||!t||t.length<3)return null;let i=0,a=0;Object.entries(n).forEach(([D,P])=>{const I=Number(P)||0;qd.has(D.charAt(0))?i+=I:a+=I});const o=i+a>0?(i-a)/(i+a):0;let l=0,u=0,d=0,h=0;t.forEach(D=>{if(!D||D.length<2)return;const P=D[0],I=UE[D[1]];[P,I].forEach(U=>{U&&(uTe.has(U)?l+=1:u+=1,qd.has(U)?d+=1:h+=1)})});const p=l+u>0?(l-u)/(l+u):0,b=d+h>0?(d-h)/(d+h):0;let y=0,k=0;t.forEach((D,P)=>{if(!D||D.length<2)return;const I=cTe[P],U=U$[I].stem,W=U$[I].branch;qd.has(D[0])?y+=U:k+=U;const K=UE[D[1]];K&&qd.has(K)?y+=W:k+=W});const w=y+k>0?(y-k)/(y+k):0,S=t[1]?.charAt(1),T=(dTe[S??""]||0)/100,O=r==="luck"?{essence:.15,nature:.15,base:.7,position:0,season:0}:{essence:.3,nature:.3,base:.2,position:.2,season:1},A=p*O.essence+b*O.nature+o*O.base+w*O.position+T*O.season;if(!Number.isFinite(A))return null;const C=(Math.min(1,Math.max(-1,A))+1)*50;return pH(C)}function hTe(e){const{natal:t,natalScaled:n,chain:r,weights:i}=e;if(!t||t.length<3)return null;const a=WT({natal:t,perStemElementScaled:n,mode:"natal"}),o=a?.yang??fTe(n);if(o==null)return null;const l=[];i.natal>0&&l.push({yang:o,weight:i.natal});const u=Db(r?.dae??null);u!=null&&(i.dae??0)>0&&l.push({yang:u,weight:i.dae??0});const d=Db(r?.se??null);d!=null&&(i.se??0)>0&&l.push({yang:d,weight:i.se??0});const h=Db(r?.wol??null);h!=null&&(i.wol??0)>0&&l.push({yang:h,weight:i.wol??0});const p=Db(r?.il??null);p!=null&&(i.il??0)>0&&l.push({yang:p,weight:i.il??0});const b=l.reduce((k,w)=>k+w.weight,0);if(b<=0)return a??null;const y=l.reduce((k,w)=>k+w.yang*w.weight,0)/b;return pH(y)}function gH(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:l,category:u,sections:d}=e,h=d?.tenGod??!0,p=d?.twelveUnseong??!0,b=d?.twelveShinsal??!0,y=d?.shinsal??!0,k=d?.nabeum??!0,w=uH(t),S=Re(n[3]??""),T=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),S],{shinsalEra:O,shinsalGaehwa:A,shinsalBase:C}=eH.getState(),D=C===""?T[0]?.charAt(1)??"":T[2]?.charAt(1)??"",{flags:P}=q7(T,o.natalFixed.elementScoreRaw),I=`${u} (${l.toFixed(1)}%)  ${[` ${P..||P..||P..||P..?"":""}`,` ${P..||P..||P..||P..?"":""}`,` ${P..||P..?"":""}`].join(", ")}`,U=dH(t,T),W=o.dayStem,K=Ql[W]??Ql[o.dayStem]??"",H=`: ${t.name??""}  (${lH(t,w)}) 
${t.ganjiText} / : ${t.gender}`,B=(te,z)=>{const V=(z??"").trim();return V?`## ${te}
${V}`:""},q=[],X=[];X.push(" ver."),X.push(B("",I));const Z=WT({natal:T,perStemElementScaled:o.natalFixed.overlay.perStemAugFull??o.natalFixed.overlay.perStemAugBare,mode:"natal"});if(Z&&X.push(B("()",Ov(Z))),X.push(B("(  )",mu(zE(o.natalFixed.elementPercent100,K)))),h){const te=BE(o.natalFixed.totalsSub,W);X.push(B(" ( 10 100)",mu(te)))}if(p){const te=U.map((z,V)=>{const re=T[V]??"";return re?{pos:z,gz:re,value:no(W,re.charAt(1))}:null}).filter(Boolean);te.length>0&&X.push(B("()",fa(te)))}if(b){const te=U.map((z,V)=>{const re=T[V]??"";return re?{pos:z,gz:re,value:ro({baseBranch:D,targetBranch:re.charAt(1),era:O,gaehwa:A})}:null}).filter(Boolean);te.length>0&&X.push(B("()",fa(te)))}if(k){const te=U.map((z,V)=>{const re=T[V]??"";if(!re)return null;const ie=Nv(re);return ie?{pos:z,gz:re,value:ie.name}:null}).filter(Boolean);te.length>0&&X.push(B("",fa(te)))}if(X.push(B("()",Cv(ax(U.map((te,z)=>T[z]??""))))),y){const te=Mp({natal:T,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});X.push(B("()",KT(te)))}const G=X.filter(Boolean).join(`

`);G&&q.push(G);const J={:{natal:100},:{natal:70,dae:30},:{natal:60,dae:25,se:15},:{natal:55,dae:20,se:15,wol:10},:{natal:50,dae:20,se:15,wol:10,il:5}},Q=(te,z)=>{if(te==="")return"";const V=z??Dp({natal:T,tab:te,chain:r,hourKey:"prompt"}),re=cH(V,te,r),ie=re.elementPercent,ue=re.totalsSub,de=[];de.push(`${te} ver.`);const pe={dae:r?.dae?Re(r.dae):null,se:r?.se?Re(r.se):null,wol:r?.wol?Re(r.wol):null,il:r?.il?Re(r.il):null},Ne=hTe({natal:T,natalScaled:o.natalFixed.overlay.perStemAugFull??o.natalFixed.overlay.perStemAugBare,chain:pe,weights:J[te]});if(Ne&&de.push(B(`( + ${te})`,Ov(Ne))),de.push(B(`( + ${te})`,mu(zE(ie,K)))),h){const fe=BE(ue,W);de.push(B(` ( + ${te})`,mu(fe)))}const se=te===""?r?.dae:te===""?r?.se:te===""?r?.wol:te===""?r?.il:null,je=se?Re(se):"";if(je&&p){const fe=no(W,je.charAt(1));de.push(B(`(${te})`,fa([{pos:te,gz:je,value:fe}])))}if(je&&b){const fe=ro({baseBranch:D,targetBranch:je.charAt(1),era:O,gaehwa:A});de.push(B(`(${te})`,fa([{pos:te,gz:je,value:fe}])))}if(je&&k){const fe=Nv(je);fe&&de.push(B("",fa([{pos:te,gz:je,value:fe.name}])))}const ke=$l({natal:T,daewoon:te!==""?r?.dae??void 0:void 0,sewoon:te===""||te===""||te===""?r?.se??void 0:void 0,wolwoon:te===""||te===""?r?.wol??void 0:void 0,ilwoon:te===""?r?.il??void 0:void 0});return de.push(B(`(${te})`,Cv(ke))),de.filter(Boolean).join(`

`)};if(a!==""){const te=a===""?[""]:a===""?["",""]:a===""?["","",""]:a===""?["","","",""]:[];for(const z of te){const V=Q(z,z===a?o:void 0);V&&q.push(V)}}const oe=q.filter(te=>te&&te.trim().length>0).join(`

`);return{header:H,body:oe,guide:""}}function mTe(e){const{header:t,body:n,guide:r}=gH(e);return[t,n,r].filter(i=>i&&i.trim().length>0).join(`

`)}function Io(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:l,unified:u,dayEl:d,baseDayStem:h,show:p,shinsalSettings:b,harmonyMode:y="scope",includeBasicInfo:k=!0}=e,w=cH(u,t,i),S=$l({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),T=p.shinsal?Mp({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:l}):null,O=p.nabeum?Nv(r):null,A=p.twelveUnseong?no(h,r.charAt(1)):null,C=p.twelveShinsal?ro({baseBranch:b.baseBranch,targetBranch:r.charAt(1),era:b.era,gaehwa:b.gaehwa}):null,D=y==="full"?S:lTe(S,t);return{...k?{:n,:r}:{},:zE(w.elementPercent,d),...p.tenGod?{:w.totalsSub}:{},:D,...p.shinsal?{:sTe(T,t)}:{},...p.nabeum?{:O?{gz:r,nabeum:O.name,element:O.element,code:O.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:A}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:C}}:{}}}function pTe(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(n.length===0||t.length===0)return[];const h=[];for(const p of t){const b={dae:p.gz,se:null,wol:null,il:null},y=Io({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:b,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"full",includeBasicInfo:!1});h.push(Lo(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,y))}return h.filter(p=>p.trim().length>0)}function VT(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function bH(e,t){const n=e[t],r=e[t+1];return r?VT(r):new Date(n.endYear+1,0,1)}function yH(e,t,n,r){return e<r&&t>n}function vH(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=VT(l),d=bH(e,o);yH(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function xH(e,t){return vH(e,t,t)}function Dv(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=VT(l),d=bH(e,o);yH(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function FE(e,t){if(!Number.isInteger(t)||t<1||t>12)throw new RangeError(`findSeForMonthPairs: month must be 1..12, got ${t}`);const n=new Date(e,t-1,1,0,0,0,0),r=new Date(e,t,1,0,0,0,0),i=On(e,315),a=[],o=u=>{const d=ct(new Date(u,5,15,12,0,0,0)),h=Re(d||"");h&&(a.some(p=>p.useYear===u&&p.gz===h)||a.push({useYear:u,gz:h}))};return n<i&&i<r?(o(e-1),o(e)):r<=i?o(e-1):o(e),a}function gTe(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=Array.from(new Set(t)).sort((w,S)=>w-S),p=[],b=h[0],y=h[h.length-1],k=vH(n,b,y);if(k.length>0){const w=b,S=ct(new Date(w,5,15,12,0,0)),T=Re(S||""),O={:k.map(A=>{const C={dae:A.gz,se:T||null,wol:null,il:null};return Io({scope:"",infoText:`${A.age} ${A.gz} (${A.startYear}~${A.endYear})`,gz:A.gz,chain:C,natal:r,relationArgs:{daewoon:A.gz,sewoon:T||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};p.push(Lo("",O))}for(const w of h){const S=new Date(w,5,15,12,0,0),T=ct(S),O=xH(n,w),A=O.length>0?O[0]:null,C=Re(T||""),D=w,P={dae:A?A.gz:null,se:C||null,wol:null,il:null},I=Io({scope:"",infoText:`${D} ${C}`,gz:C,chain:P,natal:r,relationArgs:{daewoon:A?.gz,sewoon:C||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Lo(` ${D}`,{:I}))}return p.filter(w=>w.trim().length>0)}function kk(e){return String(e).padStart(2,"0")}function bTe(e,t){const n=new Date(e,t-1,1,12,0,0,0),r=new Date(e,t,1,12,0,0,0),i=On(e,315),a=FE(e,t);if(!(n<i&&i<r)){const k=a[a.length-1]??(()=>{const w=Re(ct(new Date(e,5,15,12,0,0,0))||"");return{useYear:e,gz:w}})();return[{label:`${e}-${kk(t)}`,repDate:new Date(e,t-1,15,12,0,0,0),se:k}]}const l=1440*60*1e3,u=new Date(i.getTime()-l);u.setHours(12,0,0,0);const d=new Date(i.getTime()+l);d.setHours(12,0,0,0);const h=a.find(k=>k.useYear===e-1)??a[0],p=a.find(k=>k.useYear===e)??a[a.length-1],b=h??{useYear:e-1,gz:Re(ct(new Date(e-1,5,15,12,0,0,0))||"")},y=p??{useYear:e,gz:Re(ct(new Date(e,5,15,12,0,0,0))||"")};return[{label:`${e}-${kk(t)}()`,repDate:u,se:b},{label:`${e}-${kk(t)}()`,repDate:d,se:y}]}function yTe(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=[],p=[],b=new Map;for(const O of t){const[A,C]=O.split("-").map(Number),D=Dv(n,A,C);for(const I of D)p.some(U=>U.gz===I.gz&&U.startYear===I.startYear)||p.push(I);const P=FE(A,C);for(const I of P){const U=`${I.useYear}:${I.gz}`;b.has(U)||b.set(U,{year:I.useYear,month:C,gz:I.gz})}}const[y,k]=t[0].split("-").map(Number),w=FE(y,k),S=w[w.length-1]?.gz??Re(ct(new Date(y,5,15,12,0,0,0))||"");if(p.length>0){const O={:p.map(A=>{const C={dae:A.gz,se:S||null,wol:null,il:null};return Io({scope:"",infoText:`${A.age} ${A.gz} (${A.startYear}~${A.endYear})`,gz:A.gz,chain:C,natal:r,relationArgs:{daewoon:A.gz,sewoon:S||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Lo("",O))}const T=Array.from(b.keys()).sort((O,A)=>{const C=Number(O.split(":")[0]),D=Number(A.split(":")[0]);return C-D});if(T.length>0){const O={:T.map(A=>{const C=b.get(A),D=C.year,P=C.gz,U=xH(n,D)[0]??p[0]??null,W={dae:U?U.gz:null,se:P,wol:null,il:null};return Io({scope:"",infoText:`${D} ${P}`,gz:P,chain:W,natal:r,relationArgs:{daewoon:U?.gz,sewoon:P,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Lo("",O))}for(const O of t){const[A,C]=O.split("-").map(Number),D=Dv(n,A,C),P=D.length>0?D[0]:null,U=bTe(A,C).map(W=>{const K=kt(W.repDate),H=Re(K||""),B={dae:P?P.gz:null,se:W.se.gz||null,wol:H,il:null};return Io({scope:"",infoText:`${W.label} ${H}  ${W.se.useYear} ${W.se.gz}`,gz:H,chain:B,natal:r,relationArgs:{daewoon:P?.gz,sewoon:W.se.gz||void 0,wolwoon:H,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});h.push(Lo(` ${O}`,{:U}))}return h.filter(O=>O.trim().length>0)}function Ek(e){const t=e.getFullYear(),n=On(t,315),r=e<n?t-1:t,i=ct(new Date(r,5,15,12,0,0,0)),a=Re(i||"");return{useYear:r,gz:a}}function vTe(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,dayBoundaryRule:h}=e;if(t.length===0)return[];const p=[],[b,y,k]=t[0].split("-").map(Number),w=new Date(b,y-1,k,4,0),S=new Date(b,y-1,k,12,0);if(!Number.isNaN(w.getTime())){const T=Dv(n,b,y),O=T.length>0?T[0]:null,A=[];for(const K of t){const[H,B,q]=K.split("-").map(Number),X=new Date(H,B-1,q,12,0),Z=new Date(H,B-1,q,4,0);if(Number.isNaN(X.getTime())||Number.isNaN(Z.getTime()))continue;const G=Ek(X),J=Re(kt(X)||""),Q=Re(ht(Z,h)||""),oe=`${G.useYear}|${G.gz}|${J}`;A.some(te=>te.key===oe)||A.push({key:oe,repDateStr:K,seYear:G.useYear,seGZ:G.gz,wolGZ:J,ilGZ:Q})}const C=Re(ht(w,h)||""),D=Re(kt(S)||""),P=Ek(S),I=A.length>0?A:[{key:`${P.useYear}|${P.gz}|${D}`,repDateStr:t[0],seYear:P.useYear,seGZ:P.gz,wolGZ:D,ilGZ:C}];if(O){const K=I[I.length-1],H={dae:O.gz,se:K.seGZ,wol:K.wolGZ,il:K.ilGZ},B=Io({scope:"",infoText:`${O.age} ${O.gz} (${O.startYear}~${O.endYear})`,gz:O.gz,chain:H,natal:r,relationArgs:{daewoon:O.gz,sewoon:K.seGZ,wolwoon:K.wolGZ,ilwoon:K.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Lo("",B))}const U=I.filter(K=>K.seGZ.trim().length>0).map(K=>{const H={dae:O?O.gz:null,se:K.seGZ,wol:K.wolGZ,il:K.ilGZ};return Io({scope:"",infoText:`${K.seYear} ${K.seGZ} (${K.repDateStr} )`,gz:K.seGZ,chain:H,natal:r,relationArgs:{daewoon:O?.gz,sewoon:K.seGZ,wolwoon:K.wolGZ,ilwoon:K.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});U.length>0&&p.push(Lo("",{:U}));const W=I.filter(K=>K.wolGZ.trim().length>0).map(K=>{const H={dae:O?O.gz:null,se:K.seGZ,wol:K.wolGZ,il:K.ilGZ};return Io({scope:"",infoText:`${K.repDateStr} ${K.wolGZ}`,gz:K.wolGZ,chain:H,natal:r,relationArgs:{daewoon:O?.gz,sewoon:K.seGZ,wolwoon:K.wolGZ,ilwoon:K.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});W.length>0&&p.push(Lo("",{:W}))}for(const T of t){const[O,A,C]=T.split("-").map(Number),D=new Date(O,A-1,C,4,0),P=new Date(O,A-1,C,12,0);if(Number.isNaN(D.getTime())||Number.isNaN(P.getTime()))continue;const I=Dv(n,O,A),U=I.length>0?I[0]:null,K=Ek(P).gz,H=kt(P),B=Re(H||""),q=ht(D,h),X=Re(q||""),Z={dae:U?U.gz:null,se:K||null,wol:B,il:X},G=Io({scope:"",infoText:`${T} ${X}`,gz:X,chain:Z,natal:r,relationArgs:{daewoon:U?.gz,sewoon:K||void 0,wolwoon:B||void 0,ilwoon:X||void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Lo(` ${T}`,{:G}))}return p.filter(T=>T.trim().length>0)}function wH(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:l,selectedDaeList:u,daeList:d,seYears:h,wolMonths:p,ilDays:b,sections:y}=e,k=uH(t),w=Re(n[3]??""),S=t.mingSikType??"/",T=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),w],O=dH(t,T),A=T[2]?.charAt(0)??"",C=Ql[A]??Ql[a.dayStem]??"",D=!!i&&(y?.tenGod??!0),P=y?.twelveUnseong??!0,I=y?.twelveShinsal??!0,U=y?.shinsal??!0,W=y?.nabeum??!0,{shinsalBase:K,shinsalEra:H,shinsalGaehwa:B}=eH.getState(),q=K===""?T[0]?.charAt(1)??"":T[2]?.charAt(1)??"",X=`: ${t.name??""}  (${lH(t,k)}) 
${t.ganjiText} / : ${t.gender}`,Z=(ie,ue)=>{const de=(ue??"").trim();return de?`## ${ie}
${de}`:""},G=[],{flags:J}=q7(T,a.natalFixed.elementScoreRaw),Q=`${l} (${o.toFixed(1)}%)  ${[` ${J..||J..||J..||J..?"":""}`,` ${J..||J..||J..||J..?"":""}`,` ${J..||J..?"":""}`].join("  ")}`,oe=[];oe.push(" ver."),oe.push(Z("",Q));const te=WT({natal:T,perStemElementScaled:a.natalFixed.overlay.perStemAugFull??a.natalFixed.overlay.perStemAugBare,mode:"natal"});if(te&&oe.push(Z("()",Ov(te))),oe.push(Z("(  )",mu(Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([ie,ue])=>[`${ie}(${oH(C,ie)})`,ue]))))),D){const ie=BE(a.natalFixed.totalsSub,A);oe.push(Z(" ( 10 100)",mu(ie)))}if(P){const ie=O.map((ue,de)=>{const pe=T[de]??"";return pe?{pos:ue,gz:pe,value:no(A,pe.charAt(1))}:null}).filter(Boolean);ie.length>0&&oe.push(Z("()",fa(ie)))}if(I){const ie=O.map((ue,de)=>{const pe=T[de]??"";return pe?{pos:ue,gz:pe,value:ro({baseBranch:q,targetBranch:pe.charAt(1),era:H,gaehwa:B})}:null}).filter(Boolean);ie.length>0&&oe.push(Z("()",fa(ie)))}if(W){const ie=O.map((ue,de)=>{const pe=T[de]??"";if(!pe)return null;const Ne=Nv(pe);return Ne?{pos:ue,gz:pe,value:Ne.name}:null}).filter(Boolean);ie.length>0&&oe.push(Z("",fa(ie)))}const z=ax(GAe(O,T));if(oe.push(Z("()",Cv(z))),U){const ie=Mp({natal:T,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});oe.push(Z("()",KT(ie)))}const V=oe.filter(Boolean).join(`

`);V&&G.push(V),d.length>0&&u.length>0&&(G.push(" ver."),G.push(...pTe({selectedDaeList:u,daeList:d,natal:T,basis:r,unified:a,dayEl:C,baseDayStem:A,show:{tenGod:D,twelveUnseong:P,twelveShinsal:I,shinsal:U,nabeum:W},shinsalSettings:{baseBranch:q,era:H,gaehwa:B}}))),h.length>0&&(G.push(" ver."),G.push(...gTe({seYears:h,daeList:d,natal:T,basis:r,unified:a,dayEl:C,baseDayStem:A,show:{tenGod:D,twelveUnseong:P,twelveShinsal:I,shinsal:U,nabeum:W},shinsalSettings:{baseBranch:q,era:H,gaehwa:B}}))),p.length>0&&(G.push(" ver."),G.push(...yTe({wolMonths:p,daeList:d,natal:T,basis:r,unified:a,dayEl:C,baseDayStem:A,show:{tenGod:D,twelveUnseong:P,twelveShinsal:I,shinsal:U,nabeum:W},shinsalSettings:{baseBranch:q,era:H,gaehwa:B}}))),b.length>0&&(G.push(" ver."),G.push(...vTe({ilDays:b,daeList:d,natal:T,basis:r,unified:a,dayEl:C,baseDayStem:A,show:{tenGod:D,twelveUnseong:P,twelveShinsal:I,shinsal:U,nabeum:W},shinsalSettings:{baseBranch:q,era:H,gaehwa:B},dayBoundaryRule:S})));const re=(Mv(G.join(`

`))??"").toString();return{header:X,body:re,guide:""}}function xTe(e){const{header:t,body:n,guide:r}=wH(e);return[t,n,r].filter(i=>i&&i.trim().length>0).join(`

`)}function ZT(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),l=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${l}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const l=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=l.slice(0,2),d=l.slice(2,4);r=`${u}:${d}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function wTe(e){const{header:t,body:n}=gH(e),r=e.relationMode==="couple"?ZT(e.partnerMs??null):null,i=r?mH("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function _Te(e){const{header:t,body:n}=wH(e),r=e.relationMode==="couple"?ZT(e.partnerMs??null):null,i=r?mH("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function STe(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function kTe(e){return e?`    .
`:""}function ETe(e){return e?` /  .
`:""}function jTe(e,t){if(e!=="couple")return"";const n=ZT(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","  /  ,","     .",""].join(`
`):""}function XT(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const A=Vi(t,n,r);t=A.getFullYear(),n=A.getMonth()+1,r=A.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),l=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,d=jp(l,u,i),h=e.mingSikType??"/",p=ct(d,u),b=kt(d,u),y=ht(d,h),k=i?null:eo(d,h),w=Re(p),S=Re(b),T=Re(y),O=k?Re(k):"";return[w,S,T,O]}function _H(e){const t=new Date(e.corrected),n=XT(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",l=o&&a||!o&&!a?"forward":"backward",u=Np(t,n[1],l,120,e.birthPlace?.lon??127.5),d=u.firstChange;if(!d)return[];const h=[];let p=Re(u.events[0]?.gz??n[1]);for(let b=0;b<10;b++){const y=new Date(d);if(y.setFullYear(y.getFullYear()+b*10),b>0){const k=u.events[b];k&&(p=Re(k.gz))}h.push(`${y.getFullYear()} ${String(y.getMonth()+1).padStart(2,"0")} ${p}  `)}return h}function zl(e){return Re(e)}function ATe(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function F$(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function TTe(e,t){if(!Array.isArray(e)||e.length===0)return null;const n=e.map(i=>{const a=String(i??"").match(/(\d{4})\s*(\d{1,2})\s*([-]{2})/);if(!a)return null;const o=Number(a[1]),l=Number(a[2]),u=zl(a[3]??"");return!Number.isFinite(o)||!Number.isFinite(l)||!u?null:{at:new Date(o,l-1,1,12,0,0,0),gz:u}}).filter(Boolean);if(n.length===0)return null;const r=t.getTime();for(let i=n.length-1;i>=0;i-=1){const a=n[i];if(r>=a.at.getTime())return a.gz}return n[0].gz}function NTe(e,t,n,r){const i=zl(ct(t)||""),a=zl(kt(t)||""),o=zl(ht(t,n)||"");let l=e?.dae?zl(e.dae):null;if(!l&&r){const u=_H(r);l=TTe(u,t)}return e?{dae:l,se:e.se??(i||null),wol:e.wol??(a||null),il:e.il??(o||null)}:{dae:l,se:i||null,wol:a||null,il:o||null}}function OTe(e,t){const n=F$(e),r=F$(t);return{solarKo:n,lunarKo:r}}function H$(e,t){if(!t)return e;const n=Qa(e[2]||"",-1);return[e[0],e[1],n,e[3]]}function HE(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function CTe(e,t,n){return e?"solar":t?"lunar":"solar"}function MTe(e,t,n,r,i,a,o,l){return HE(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,l)}function DTe(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=zl(ct(a)||""),l=zl(kt(a)||""),u=zl(ht(a,t)||"");return[o,l,u,""]}function PTe(e,t){return t&&e?e.stem+e.branch:""}function RTe(e,t,n){const i=[...XT(e)];return n&&t&&t.length===2&&(i[3]=t),i}function LTe(e){const t=Z7(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=uA(t);return{percent:n,category:N7(n)}}function ITe(e){const t=_H(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,l=a?Number(a[2]):1,u=1,d=a?a[3]:"",h=n>0?zTe(n,o):i*10;return{gz:d,age:h,startYear:o,startMonth:l,startDay:u,endYear:o+10}})}function $Te(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function BTe(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function G$(e){return ATe(e)}function zTe(e,t){return t-e+1}function UTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:l,input:u}){const{friendMode:d,teacherMode:h,partnerId:p,mainCategory:b,subCategory:y,relationMode:k,activeTab:w,isMultiMode:S,multiTab:T,selectedDaeIdx:O,rangeControls:A,extraQuestions:C,sections:D}=u,P=xn(Rt=>Rt.list),{date:I,setDate:U}=Jr();_.useEffect(()=>{U(new Date)},[e.id,U]);const W=_.useMemo(()=>p?P.find(Rt=>Rt.id===p)??null:null,[p,P]),K=e.mingSikType??"/",H=_.useMemo(()=>I??new Date,[I]),B=_.useMemo(()=>NTe(r,H,K,e),[r,H,K,e]),q=_.useMemo(()=>l?B:{dae:null,se:null,wol:null,il:null},[l,B]),X=Ui(Rt=>Rt.manualHour),Z=Ui(Rt=>Rt.usePrevDay),G=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:J,lunarKo:Q}=_.useMemo(()=>OTe(t,n),[t,n]),oe=_.useMemo(()=>HE(J,X,G),[J,X,G]),te=_.useMemo(()=>HE(Q,X,G),[Q,X,G]),z=_.useMemo(()=>DTe(e,K),[e,K]),V=G$(oe),re=G$(te),ie=CTe(V,re),ue=_.useMemo(()=>MTe(ie,V,re,oe,te,z,X,G),[ie,V,re,oe,te,z,X,G]),de=_.useMemo(()=>H$(ue,Z),[ue,Z]),pe=_.useMemo(()=>G&&X?X.stem+X.branch:de[3]||"",[X,de,G]),Ne=PTe(X,G),se=_.useMemo(()=>RTe(e,Ne,G),[e,Ne,G]),je=_.useMemo(()=>H$(se,Z),[se,Z]),ke=l?w:"",fe=b==="love"||b==="compat",Fe=fe&&k==="couple"?W??null:null,tt=fe?k:void 0,Oe=_.useMemo(()=>Dp({natal:je,tab:ke,chain:q,hourKey:pe}),[je,ke,q,pe]),{percent:$e,category:He}=_.useMemo(()=>LTe(je),[je]),Be=_.useMemo(()=>ITe(e),[e]),jt=_.useMemo(()=>$Te(P??[],e.id),[P,e.id]),At=_.useMemo(()=>O.map(Rt=>Be[Rt]).filter(Rt=>!!Rt),[O,Be]),he=_.useMemo(()=>T===""?A.seYearsList:[],[T,A.seYearsList]),Ce=_.useMemo(()=>T===""?A.wolMonthsList:[],[T,A.wolMonthsList]),Ye=_.useMemo(()=>T===""?A.ilDaysList:[],[T,A.ilDaysList]),Se=_.useMemo(()=>e?mTe({ms:e,natal:je,chain:q,basis:i,tab:ke,unified:Oe,percent:$e,category:He,sections:D}):"",[e,i,a,ke,q,Oe,$e,He,je,b,y,k,Fe,h,D,H]),Pe=_.useMemo(()=>!e||!S||!o?"":xTe({ms:e,natal:je,basis:i,includeTenGod:a,unified:Oe,percent:$e,category:He,selectedDaeList:At,daeList:Be,seYears:he,wolMonths:Ce,ilDays:Ye,sections:D}),[e,S,o,he,At,Be,Ce,Ye,je,i,a,Oe,$e,He,b,y,tt,Fe,h,d,D]),ze=_.useMemo(()=>jTe(k,W),[k,W]),at=S?Pe:Se,St=_.useMemo(()=>ETe(h),[h]),Kt=_.useMemo(()=>kTe(d),[d]),vr=_.useMemo(()=>at||ze?`${at}${ze}
${St}${Kt}`:"",[St,Kt,at,ze]),Pr=_.useMemo(()=>BTe(vr,C),[vr,C]),Vn=_.useMemo(()=>e?S?_Te({ms:e,natal:je,basis:i,includeTenGod:a,unified:Oe,percent:$e,category:He,selectedDaeList:At,daeList:Be,seYears:he,wolMonths:Ce,ilDays:Ye,relationMode:tt,partnerMs:Fe,sections:D}):wTe({ms:e,natal:je,chain:q,basis:i,tab:ke,unified:Oe,percent:$e,category:He,relationMode:k,partnerMs:Fe,sections:D}):"",[e,S,je,i,a,Oe,$e,He,At,Be,he,Ce,Ye,b,y,k,tt,Fe,h,d,D,q,ke,H]),gn=_.useMemo(()=>{const Rt=Vn.trim();if(Rt)return Rt;const Sn=STe(at).trim();return Sn||at.trim()},[Vn,at]);return{date:I,setDate:U,partnerMs:W,partnerOptions:jt,daeList:Be,tabForLogic:ke,baseText:at,basePrompt:vr,finalText:Pr,infoOnlyText:gn,allowManualHour:G,activePillars:de}}function Y$(e,t=1200){const[n,r]=_.useState(!1),i=!!(e&&e.trim().length>0),a=_.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function FTe(e,t){const{copied:n,canCopy:r,onCopy:i}=Y$(e),{copied:a,canCopy:o,onCopy:l}=Y$(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:l}}function HTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=xn(K=>K._rtUserId),u=TAe()??o??null,d=fn(K=>K.loaded),h=fn(K=>K.userId),p=fn(K=>K.plan),b=_.useMemo(()=>km(!u||!d||h!==u?"FREE":p??null),[u,d,h,p]),y=_.useMemo(()=>p2(b),[b]),k=y.canUseMultiMode,w=y.canUseLuckTabs,S=y.canUseAllPrompts?"full":"locked",T=CAe({msId:e.id,canUseMultiMode:k,canUseLuckTabs:w}),O=UTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:k,canUseLuckTabs:w,input:T}),{copiedAll:A,copiedInfo:C,canCopyAll:D,canCopyInfo:P,onCopyAll:I,onCopyInfoOnly:U}=FTe(O.finalText,O.infoOnlyText);function W(K,H){T.setMainCategory(K),T.setSubCategory(H?.[0]?.key??"overview")}return{sections:T.sections,toggleSection:T.toggleSection,friendMode:T.friendMode,setFriendMode:T.setFriendMode,teacherMode:T.teacherMode,setTeacherMode:T.setTeacherMode,date:O.date,setDate:O.setDate,planTier:b,promptAccess:S,canUseMultiMode:k,canUseLuckTabs:w,partnerId:T.partnerId,setPartnerId:T.setPartnerId,partnerMs:O.partnerMs,mainCategory:T.mainCategory,subCategory:T.subCategory,setSubCategory:T.setSubCategory,relationMode:T.relationMode,setRelationMode:T.setRelationMode,activeTab:T.activeTab,setActiveTab:T.setActiveTab,isMultiMode:T.isMultiMode,setIsMultiMode:T.setIsMultiMode,multiTab:T.multiTab,setMultiTab:T.setMultiTab,selectedDaeIdx:T.selectedDaeIdx,handleToggleDae:T.handleToggleDae,rangeControls:T.rangeControls,partnerOptions:O.partnerOptions,daeList:O.daeList,tabForLogic:O.tabForLogic,baseText:O.baseText,basePrompt:O.basePrompt,finalText:O.finalText,infoOnlyText:O.infoOnlyText,copiedAll:A,copiedInfo:C,canCopyAll:S==="full"&&D,canCopyInfo:S==="full"&&P,onCopyAll:I,onCopyInfoOnly:U,handleMainCategoryChange:W,setQuestionDraft:T.setQuestionDraft,questionDraft:T.questionDraft,extraQuestions:T.extraQuestions,setExtraQuestions:T.setExtraQuestions,handleAddQuestion:T.handleAddQuestion,handleRemoveQuestion:T.handleRemoveQuestion,handleClearQuestions:T.handleClearQuestions,allowManualHour:O.allowManualHour,activePillars:O.activePillars}}function GTe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=HTe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),l=D$[o.mainCategory];if(!e)return g.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",d=u?"    . ":void 0,h=!u&&o.canCopyInfo,p=!u&&o.canCopyAll;return g.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-2 desk:space-y-3",children:[u?g.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[g.jsx("div",{className:"text-lg font-semibold",children:"  "}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",g.jsx("br",{}),"    100   ! (  )"]})]})}):null,g.jsx(gAe,{}),g.jsx(bAe,{sections:o.sections,toggleSection:o.toggleSection}),g.jsx(yAe,{friendMode:o.friendMode,setFriendMode:b=>o.setFriendMode(b.target.checked),teacherMode:o.teacherMode,setTeacherMode:b=>o.setTeacherMode(b.target.checked)}),g.jsx(vAe,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:AAe,currentSubList:l,onMainCategoryChange:b=>o.handleMainCategoryChange(b,D$[b]),onSubCategoryChange:o.setSubCategory}),g.jsx(xAe,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),g.jsx(wAe,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:b=>{!o.canUseMultiMode&&b||o.setIsMultiMode(b)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?g.jsx(SAe,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(b=>({gz:b.gz,age:b.age,startYear:b.startYear,endYear:b.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):g.jsx(_Ae,{tabs:jAe,activeTab:o.tabForLogic,setActiveTab:b=>{!o.canUseLuckTabs&&b!==""||o.setActiveTab(b)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),g.jsx(kAe,{questionDraft:o.questionDraft,onChangeDraft:b=>o.setQuestionDraft(b.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:d}),g.jsx(EAe,{value:o.finalText,lockSelection:u}),g.jsx("div",{className:"flex justify-end",children:g.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[g.jsx("button",{type:"button",onClick:o.onCopyInfoOnly,disabled:!h,title:h?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",h?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedInfo?"bg-green-600 text-white border-green-600":h?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:o.copiedInfo?"":`  ${h?"":" "}`}),g.jsx("button",{type:"button",onClick:o.onCopyAll,disabled:!p,title:p?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",p?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedAll?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:o.copiedAll?"":`  ${p?"":" "}`})]})})]})}function YTe(){const[e,t]=_.useState(null),[n,r]=_.useState(!1),[i,a]=_.useState(!1),[o]=_.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function qTe(){const e=xn(r=>r.loading),t=wn(r=>r.loaded),n=fn(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const q$="app_session_started_at_ms",KTe=7200*1e3;function WTe(){if(typeof window>"u")return null;try{return window.sessionStorage}catch{return null}}function VTe(){const e=WTe();if(!e)return Date.now();const t=e.getItem(q$),n=t?Number(t):NaN;if(!Number.isFinite(n)||n<=0){const r=Date.now();try{e.setItem(q$,String(r))}catch{}return r}return n}function ZTe(e=Date.now()){const t=VTe();return Math.max(0,e-t)}function XTe(e,t=Date.now()){return ZTe(t)>=e}async function JTe(e,t){const{data:n,error:r}=await De.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function QTe(e,t,n){const{error:r}=await De.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const eNe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Kd(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(Kd).join(",")}]`:eNe(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${Kd(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function tNe(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function nNe(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=Kd(t.select(t.store.getState()));const o=tNe(async p=>{try{await QTe(e,t.dbKey,p),a=Kd(p)}catch(b){console.error(`[settings] save failed key=${t.dbKey}`,b)}},n),l=p=>{r=!0;try{t.apply(p),a=Kd(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||l(p)},d=async()=>{const p=await JTe(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const b=t.select(p);Kd(b)!==a&&o(b)});const h=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:d,applyRemote:u,stop:h}}function rNe(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function jk(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function iNe(e){_.useEffect(()=>{if(!e)return;const t=[];t.push(nNe(e,{dbKey:"promptCopy.sections",store:Tv,select:o=>o.sections,apply:o=>Tv.setState({sections:o}),validate:rNe,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,l,u)=>{const d=r.get(o);d&&window.clearTimeout(d);const h=window.setTimeout(()=>{r.delete(o),u()},l);r.set(o,h)},a=De.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},l=>{if(XTe(KTe)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!jk(l))return;const u=l.new,d=l.old,h=w=>jk(w)&&typeof w.setting_key=="string"?w.setting_key:null,p=w=>jk(w)?w.value:null,b=h(u)??h(d);if(!b)return;const y=t.find(w=>w.dbKey===b);if(!y)return;const k=typeof l.eventType=="string"?l.eventType:"";if(k==="INSERT"||k==="UPDATE"){y.applyRemote(p(u));return}y.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(l)):o.onChange(l)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),De.removeChannel(a)}},[e])}function aNe({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){_.useEffect(()=>{const r=De;let i=!1,a=null;const o=h=>{const p=h?.user?.id??null;t(!!h),e(p)},l=h=>{o(h),h&&N6(Date.now()),i||(i=!0,n(!0))};(async()=>{const{data:h,error:p}=await r.auth.getSession();if(p){l(null);return}if(h.session){l(h.session);return}a=window.setTimeout(()=>l(null),1200)})();const{data:{subscription:d}}=r.auth.onAuthStateChange((h,p)=>{a!==null&&(window.clearTimeout(a),a=null),l(p),p||xn.getState().stopRealtime()});return()=>{a!==null&&window.clearTimeout(a),d.unsubscribe()}},[n,t,e])}function oNe(e){aNe({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),iNe(e.userId)}function sNe(e){const[t,n]=_.useState(()=>e.length>0?e[0].id:""),[r,i]=_.useState(!1),[a,o]=_.useState(!1),[l,u]=_.useState(null),[d,h]=_.useState(!0),[p,b]=_.useState(!1),[y,k]=_.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:l,setEditing:u,showToday:d,setShowToday:h,showCouple:p,setShowCouple:b,openCustom:y,setOpenCustom:k}}function lNe(e){const t=Jr(i=>i.date),n=Jr(i=>i.rule),r=Cu(e);return _.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=sx(r,t),a=i>=0?r[i]?.gz??null:null,o=ct(t),l=kt(t),u=ht(t,n);return{dae:a,se:o,wol:l,il:u}},[e,r,t,n])}const cNe=e=>typeof e=="string"&&e.length>=2,uNe=e=>Array.isArray(e)&&e.length===4&&e.every(cNe);function dNe({list:e,currentId:t,settings:n,emptyMs:r}){const i=_.useMemo(()=>e.find(b=>b.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,l=_.useMemo(()=>XT(o),[o]),u=lNe(o),d=fn(b=>b.canAddMyeongsik(e.length).ok),h=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:l,chain:u,isValidPillars:uNe,canAdd:d,voidBasis:h,samjaeBasis:p}}function fNe({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:l,setShowCouple:u,setCurrentId:d,setEditing:h}){const{settings:p,saveToServer:b,loaded:y}=wn();_.useEffect(()=>{!r||!y||b()},[r,y,p,b]);const k=_.useCallback(()=>{if(!e){Ln.error("   1   .");return}i(!0)},[e,i]),w=_.useCallback(()=>{if(!e){Ln.error("   1   .");return}a(!0)},[e,a]),S=_.useCallback(D=>{d(D.id),o(!1),l(!1),u(!1);const P=new Date;P.setHours(12,0,0,0),Jr.getState().setDate(P),t&&n?.id===D.id&&(l(!1),u(!1),o(!1))},[n,t,d,o,l,u]),T=_.useCallback(D=>{h(D),d(D.id),o(!1),l(!1),u(!1)},[h,d,o,l,u]),O=_.useCallback(()=>{const D=xn.getState().list[0]?.id??"";d(D),l(!0),u(!1)},[d,l,u]),A=_.useCallback(D=>{d(D.id),l(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[d,l,u,o,i]),C=_.useCallback(D=>{d(D.id),l(!1),u(!1),o(!1)},[d,l,u,o]);return{openAdd:k,openCustomModal:w,handleSidebarView:S,handleSidebarEdit:T,handleSidebarDeleteView:O,handleWizardSave:A,handleCustomSave:C}}function hNe(){return g.jsx("div",{className:"pt-16 pb-24",children:g.jsxs("div",{className:"max-w-[640px] mx-auto px-4",children:[g.jsx("div",{className:"flex items-center justify-between gap-3 mb-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(l4,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-200"}),g.jsx("h2",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"  "})]})}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.   ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.  ",g.jsx("b",{children:""})," ",g.jsx("b",{children:""}),"   .   ,    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:"*"}),"   ",g.jsx("b",{children:" "})," ",g.jsx("b",{children:"8*"}),"  ",g.jsx("b",{children:"    "}),"      ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:" "}),"     ."]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.    . ",g.jsx("b",{children:"*"}),", ",g.jsx("b",{children:"8*"}),"    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:""})," (  8   -  )   ."]}),g.jsxs("p",{className:"mt-2",children:["(    ,    ",g.jsx("b",{children:" "})," .)"]}),g.jsx("p",{className:"mt-2",children:" .    .    ,   ( )     ."})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.     .         ,       ."}),g.jsx("p",{className:"mt-2",children:"    ,      ."}),g.jsxs("p",{className:"mt-2",children:["(   ",g.jsx("b",{children:" "}),"  ^^)",g.jsx("br",{}),g.jsx("a",{href:"https://5seasons.co.kr/",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"   !"})})]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.  ''   ?"}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.      ."}),g.jsx("p",{className:"mt-2",children:"          ^^"}),g.jsx("p",{className:"mt-2",children:g.jsx("a",{href:"https://yavares.tistory.com/345",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"  "})})})]})]})]})]})})}const SH="https://t1.daumcdn.net/kas/static/ba.min.js",mNe="//t1.daumcdn.net/kas/static/ba.min.js";let ym=null,vm=null;function kH(){return typeof window<"u"&&typeof document<"u"}function K$(e){return typeof e=="object"&&e!==null}function EH(){if(!kH())return!1;const e=window;if(!K$(e))return!1;const t=e.adfit;return K$(t)?typeof t.destroy=="function":!1}function jH(){return Array.from(document.querySelectorAll(`script[src="${SH}"], script[src="${mNe}"]`))}function AH(e){return e.getAttribute("data-adfit-scan")==="1"}function pNe(){const t=jH().filter(n=>!AH(n));if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode?.removeChild(r)}}function W$(){return document.body??document.head??document.documentElement}function Ak(e,t){return new Promise((n,r)=>{let i=!1;const a=()=>{e.removeEventListener("load",u),e.removeEventListener("error",d)},o=()=>{i||(i=!0,a(),n())},l=()=>{i||(i=!0,a(),r(new Error("AdFit script load failed")))},u=()=>o(),d=()=>l();e.addEventListener("load",u),e.addEventListener("error",d),window.setTimeout(()=>{EH(),o()},t)})}function V$(e){const t=document.createElement("script");return t.async=!0,t.type="text/javascript",t.charset="utf-8",t.src=SH,e?t.setAttribute("data-adfit-scan","1"):t.setAttribute("data-adfit-managed","1"),t}function GE(e){return kH()?(e?.mode??"boot")==="boot"?ym||(ym=(async()=>{if(pNe(),EH())return{inserted:!1};const r=jH().filter(a=>!AH(a))[0];if(r)return await Ak(r,2500),{inserted:!1};const i=V$(!1);return W$().appendChild(i),await Ak(i,4e3),{inserted:!0}})().finally(()=>{ym=null}),ym):vm||(vm=(async()=>{const n=V$(!0);W$().appendChild(n);try{return await Ak(n,4e3),{inserted:!0}}finally{n.parentNode?.removeChild(n)}})().finally(()=>{vm=null}),vm):Promise.resolve({inserted:!1})}function TH({enabled:e}){return _.useEffect(()=>{e&&GE({mode:"boot"})},[e]),null}function Z$(e){return typeof e=="object"&&e!==null}function gNe(e){const t=window;if(!Z$(t))return;const n=t.adfit;if(!Z$(n))return;const r=n.destroy;if(typeof r=="function")try{r.call(n,e)}catch{}}function pu({adUnit:e,width:t,height:n,enabled:r=!0,isVisible:i=!0,className:a,wrapperStyle:o,reserveSpace:l=!0}){const u=_.useRef(!1),d=_.useRef(!1),h=_.useMemo(()=>({...l?{width:"100%",minHeight:n,display:"flex",justifyContent:"center",alignItems:"flex-start"}:{width:"100%"},...o}),[n,l,o]);return _.useEffect(()=>{if(!r||u.current)return;u.current=!0;let p=!1;return(async()=>{try{if(await GE({mode:"boot"}),p)return}catch{}})(),()=>{p=!0}},[r]),_.useEffect(()=>{if(!r||!i||d.current)return;d.current=!0;let p=!1;return(async()=>{try{if(await GE({mode:"scan"}),p)return}catch{}})(),()=>{p=!0}},[r,i]),_.useEffect(()=>()=>{gNe(e),u.current=!1,d.current=!1},[e]),r?g.jsx("div",{className:a,style:h,children:g.jsx("div",{style:l?{width:t,height:n}:void 0,children:g.jsx("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":e,"data-ad-width":String(t),"data-ad-height":String(n)})})}):null}function NH({enabled:e,adUnit:t,width:n,height:r,showAfterScrollY:i=180,rightPx:a=16,topPx:o=120,breakpointClassName:l="hidden desk:block"}){const[u,d]=_.useState(!1),[h,p]=_.useState(!1);return _.useEffect(()=>{if(!e){d(!1),p(!1);return}p(!0);let b=0;const y=()=>{b||(b=window.requestAnimationFrame(()=>{b=0;const k=window.scrollY||0;d(k>=i)}))};return y(),window.addEventListener("scroll",y,{passive:!0}),()=>{b&&window.cancelAnimationFrame(b),window.removeEventListener("scroll",y)}},[e,i]),e?g.jsx("div",{className:l,style:{position:"fixed",right:a,top:o,zIndex:60,pointerEvents:"none",visibility:u?"visible":"hidden",opacity:u?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:u?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx(pu,{enabled:h,isVisible:u,adUnit:t,width:n,height:r,wrapperStyle:{display:"flex",justifyContent:"center"}})})})}):null}function OH(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState(!1),[u,d]=_.useState(!1);_.useEffect(()=>{document.title=" - //";const y=window.setTimeout(()=>t(!0),50),k=window.setTimeout(()=>r(!0),250),w=window.setTimeout(()=>a(!0),450);return()=>{window.clearTimeout(y),window.clearTimeout(k),window.clearTimeout(w)}},[]);const h=()=>u?!0:(ha.error(`   
  .`),!1),p=async()=>{if(!h())return;const y=`${window.location.origin}/auth/callback`;console.log("[oauth] origin =",window.location.origin),console.log("[oauth] redirectTo =",y);const{data:k,error:w}=await De.auth.signInWithOAuth({provider:"google",options:{redirectTo:y,skipBrowserRedirect:!0}});if(console.log("[oauth] authorize url =",k?.url),w){console.error("Google Login Error:",w),ha.error("   .");return}if(!k?.url){ha.error(" URL  .");return}window.location.assign(k.url)},b=async()=>{if(!h())return;const y=`${window.location.origin}/auth/callback`;console.log("[oauth] origin =",window.location.origin),console.log("[oauth] redirectTo =",y);const{data:k,error:w}=await De.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:y,skipBrowserRedirect:!0}});if(console.log("[oauth] authorize url =",k?.url),w){console.error("Kakao Login Error:",w),ha.error("   .");return}if(!k?.url){ha.error(" URL  .");return}window.location.assign(k.url)};return g.jsxs("main",{className:`relative py-6 max-h-[70vh] overflow-auto bg-neutral-950 text-white transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[g.jsxs("header",{className:`transform transition-all duration-500 mb-8 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} text-center max-w-[680px]`,children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:""}),g.jsxs("p",{className:"text-sm text-neutral-300 leading-relaxed",children:["      /       .",g.jsx("br",{}),"   /     "]})]}),g.jsxs("section",{className:`w-full max-w-sm mx-auto rounded-2xl bg-neutral-900 p-4 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,"aria-label":"",children:[g.jsx("h2",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),g.jsxs("p",{className:"mb-5 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",g.jsx("br",{}),"      "]}),g.jsx("div",{className:"mb-5 space-y-2",children:g.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:u,onChange:()=>d(!u),className:"mt-[2px]"}),g.jsxs("span",{children:["  .",g.jsx("button",{type:"button",onClick:()=>l(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{type:"button",onClick:p,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),g.jsx("span",{children:"  "})]}),g.jsxs("button",{type:"button",onClick:b,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),g.jsx("span",{children:" "})]})]}),g.jsxs("div",{className:"mt-6 border-t border-neutral-800 pt-4 text-xs text-neutral-400 leading-relaxed",children:[g.jsx("p",{className:"font-semibold text-neutral-300 mb-2",children:"    "}),g.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[g.jsx("li",{children:" /  "}),g.jsx("li",{children:"    "}),g.jsx("li",{children:"/ (  )"})]}),g.jsx("p",{className:"mt-3 text-[11px] text-neutral-500",children:": unique950318@gmail.com   "})]})]}),g.jsx(D5,{position:"top-center",toastOptions:{duration:2e3}}),o&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>l(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:y=>y.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"( )     ,      ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   ,  (,  )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"      ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"           "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"          ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase        ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>l(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function bNe(e){switch(e){case"PERSIST_SAVE":return"    !";case"ADD_LIMIT":return"    !";case"HEADER":return"";default:return""}}function yNe(){const e=Ss(i=>i.open),t=Ss(i=>i.reason),n=Ss(i=>i.close),r=_.useMemo(()=>bNe(t),[t]);return _.useEffect(()=>{if(!e)return;const i=a=>{a.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,n]),_.useEffect(()=>{const{data:i}=De.auth.onAuthStateChange((a,o)=>{o?.user&&(fn.getState().loadFromServer(),wn.getState().loadFromServer(),xn.getState().loadFromServer(),Ss.getState().close())});return()=>i.subscription.unsubscribe()},[]),e?g.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 flex items-center justify-center p-4",onClick:n,role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"w-full max-w-[520px] rounded-2xl bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 shadow-xl overflow-hidden",onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:r}),g.jsx("button",{type:"button",onClick:n,className:`w-8 h-8 rounded-full flex items-center justify-center
                       bg-neutral-100 hover:bg-neutral-200
                       dark:bg-neutral-800 dark:hover:bg-neutral-700
                       text-neutral-700 dark:text-neutral-200 cursor-pointer`,"aria-label":"",title:"",children:""})]}),g.jsx("div",{className:"p-4",children:g.jsx(OH,{})})]})}):null}function vNe(){const e=Ss(t=>t.openWith);return g.jsx("div",{className:"max-w-[640px] mx-auto px-3",children:g.jsxs("div",{className:`rounded-xl border border-amber-300/60 bg-amber-50 text-amber-950
                      dark:border-amber-500/30 dark:bg-amber-950/30 dark:text-amber-100
                      shadow-sm px-4 py-3 flex items-center justify-between gap-3`,children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-sm font-semibold truncate",children:"   "}),g.jsx("div",{className:"text-xs opacity-90 mt-0.5 leading-relaxed",children:" /   ."})]}),g.jsxs("button",{type:"button",onClick:()=>e("PERSIST_SAVE"),className:`shrink-0 inline-flex items-center gap-1.5
                     px-3 py-2 rounded-lg text-xs font-semibold
                     bg-amber-500 hover:bg-amber-600 text-white
                     border border-amber-600/30
                     cursor-pointer`,"aria-label":"",title:"",children:[g.jsx(c4,{size:16}),""]})]})})}const JT="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";let xm=null;function QT(){return typeof window<"u"&&typeof document<"u"}function CH(){return QT()?Array.from(document.querySelectorAll('script[src*="pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]')):[]}function MH(e,t){const n=`client=${encodeURIComponent(t)}`;return e.includes(n)||e.includes(`client=${t}`)}function X$(e){return CH().some(n=>{const r=n.getAttribute("src")??"";return r.includes(JT)&&MH(r,e)})}function Tk(e){const t=CH().filter(n=>{const r=n.getAttribute("src")??"";return r.includes(JT)&&MH(r,e)});if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode&&r.parentNode.removeChild(r)}}function xNe(e){const t=document.createElement("script");return t.async=!0,t.src=`${JT}?client=${encodeURIComponent(e)}`,t.crossOrigin="anonymous",t}function wNe(e){return new Promise((t,n)=>{const r=()=>t(),i=()=>n(new Error("AdSense script failed to load"));e.addEventListener("load",r,{once:!0}),e.addEventListener("error",i,{once:!0})})}function _Ne(e){return typeof e!="object"||e===null||!("push"in e)?!1:typeof e.push=="function"}async function J$(e){if(QT()){if(X$(e)){Tk(e);return}if(xm)return xm;xm=(async()=>{if(X$(e)){Tk(e);return}const t=xNe(e);document.head.appendChild(t),await wNe(t),Tk(e)})();try{await xm}finally{xm=null}}}function SNe(e={}){if(!QT())return;const t=window.adsbygoogle;if(Array.isArray(t)){t.push(e);return}if(_Ne(t)){t.push(e);return}const n=[];n.push(e),window.adsbygoogle=n}function kNe({enabled:e,isVisible:t,clientId:n,slotId:r,width:i,height:a,testMode:o=!1}){const l=_.useRef(!1),u=_.useRef(null);return _.useEffect(()=>{l.current=!1},[n,r,i,a]),_.useEffect(()=>{e&&J$(n).catch(()=>{})},[e,n]),_.useEffect(()=>{if(!e||!t||l.current)return;let d=!0;return(async()=>{try{if(await Promise.resolve(),!d||(await J$(n),!d))return;SNe({}),l.current=!0}catch{console.log()}})(),()=>{d=!1}},[e,t,n]),e?g.jsx("ins",{ref:u,className:"adsbygoogle",style:{display:"inline-block",width:i,height:a},"data-ad-client":n,"data-ad-slot":r,...o?{"data-adtest":"on"}:{}}):null}function DH({enabled:e,clientId:t,slotId:n,width:r,height:i,showAfterScrollY:a=180,side:o="left",sidePx:l=16,topPx:u=120,breakpointClassName:d="hidden desk:block"}){const[h,p]=_.useState(!1),[b,y]=_.useState(!1);return _.useEffect(()=>{if(!e){p(!1),y(!1);return}y(!0);let k=0;const w=()=>{k||(k=window.requestAnimationFrame(()=>{k=0;const S=window.scrollY||0;p(S>=a)}))};return w(),window.addEventListener("scroll",w,{passive:!0}),()=>{k&&window.cancelAnimationFrame(k),window.removeEventListener("scroll",w)}},[e,a]),e?g.jsx("div",{className:d,style:{position:"fixed",...o==="left"?{left:l}:{right:l},top:u,zIndex:60,pointerEvents:"none",visibility:h?"visible":"hidden",opacity:h?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:h?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsx(kNe,{enabled:b,isVisible:h,clientId:t,slotId:n,width:r,height:i})})})})}):null}const PH="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";function Q$(e){return typeof e=="object"&&e!==null&&"push"in e&&typeof e.push=="function"}function ENe(){return document.querySelector(`script[src^="${PH}"]`)}async function e5(e){ENe()||await new Promise((n,r)=>{const i=document.createElement("script");i.async=!0,i.src=`${PH}?client=${encodeURIComponent(e)}`,i.crossOrigin="anonymous",i.onload=()=>n(),i.onerror=()=>r(new Error("Failed to load adsbygoogle.js")),document.head.appendChild(i)})}function jNe(){const e=window.adsbygoogle;if(Q$(e)){e.push({});return}window.adsbygoogle||(window.adsbygoogle=[]);const t=window.adsbygoogle;Q$(t)&&t.push({})}function ANe({enabled:e,clientId:t,slotId:n,heightPx:r=100,maxWidthPx:i=750,marginTopPx:a=0,fullWidthResponsive:o=!0,pushOnVisible:l=!0,testMode:u=!1,className:d,style:h}){const p=_.useRef(null),b=_.useRef(!1),y=_.useMemo(()=>`adsense_banner:${t}:${n}`,[t,n]),[k,w]=_.useState(!l);return _.useEffect(()=>{b.current=!1},[t,n]),_.useEffect(()=>{e&&e5(t).catch(()=>{})},[e,t]),_.useEffect(()=>{if(!e||!l)return;const S=p.current;if(!S)return;const T=new IntersectionObserver(O=>{const A=O[0];A&&A.isIntersecting&&w(!0)},{root:null,threshold:.05});return T.observe(S),()=>T.disconnect()},[e,l]),_.useEffect(()=>{if(!e||!k||b.current)return;let S=!0;return(async()=>{try{if(await e5(t),!S||(await Promise.resolve(),!S))return;jNe(),b.current=!0}catch{}})(),()=>{S=!1}},[e,k,t]),e?g.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:a,...h},className:d,children:g.jsx("ins",{ref:p,className:"adsbygoogle",style:{display:"block",width:"100%",height:`${r}px`,maxWidth:`${i}px`},"data-ad-client":t,"data-ad-slot":n,"data-full-width-responsive":o?"true":"false",...u?{"data-adtest":"on"}:{}},y)}):null}const TNe="DAN-GW4jrUdfiXklZ12U",NNe="DAN-CeRuC0yKzSAs5Gju",ONe="DAN-G16gewnPhZou1D9y",CNe="DAN-rdKe9ZODmrZR4hho",MNe="DAN-INfSKh1pW2cEtWNu",DNe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function Pb(){const e=Fr(),t=ec(),n=YTe();oNe(n);const r=qTe(),i=p=>{if(typeof window>"u")return null;try{return window.sessionStorage.getItem(p)}catch{return null}},a=(p,b)=>{if(!(typeof window>"u"))try{window.sessionStorage.setItem(p,b)}catch{}},[o,l]=_.useState(!1),[u,d]=_.useState(()=>typeof window>"u"?!1:i("app_loading_shown_v1")==="1"),h=!n.authChecked||!r.entLoaded||!r.settingsLoaded;return _.useEffect(()=>{h||l(!0)},[h]),_.useEffect(()=>{n.authChecked&&(n.isLoggedIn||e.pathname==="/"||e.pathname==="/result"||t("/",{replace:!0}))},[n.authChecked,n.isLoggedIn,e.pathname,t]),_.useEffect(()=>{!u&&!o&&h&&(d(!0),a("app_loading_shown_v1","1"))},[u,o,h]),n.authChecked&&n.isLoggedIn&&n.adminMode?g.jsx(ZF,{}):!o&&h&&!u?g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500 animate-pulse",children:n.authChecked?"  ...":"  ..."})}):g.jsx(PNe,{isLoggedIn:n.isLoggedIn})}function PNe({isLoggedIn:e}){const t=Fr(),n=ec(),{list:r}=xn(),i=wn(I=>I.settings),a=sNe(r),o=dNe({list:r,currentId:a.currentId,settings:i,emptyMs:DNe}),l=fNe({canAdd:o.canAdd,hasCurrent:o.hasCurrent,current:o.current,isLoggedIn:e,setWizardOpen:a.setWizardOpen,setOpenCustom:a.setOpenCustom,setShowSidebar:a.setShowSidebar,setShowToday:a.setShowToday,setShowCouple:a.setShowCouple,setCurrentId:a.setCurrentId,setEditing:a.setEditing}),[u,d]=_.useState(!1),[h,p]=_.useState(0);_.useEffect(()=>{a.editing&&d(!1)},[a.editing]),_.useEffect(()=>{const I=t.pathname;if(I==="/faq"){d(!0),a.setShowCouple(!1),a.setShowToday(!1);return}if(I==="/couple"){d(!1),a.setShowCouple(!0),a.setShowToday(!1);return}if(I==="/result"){d(!1),a.setShowCouple(!1),a.setShowToday(!1);return}d(!1),a.setShowCouple(!1),a.setShowToday(!0)},[a,t.pathname,a.setShowCouple,a.setShowToday]);const b=fn(I=>I.shouldShowAdsNow()),y=o.hasCurrent&&!a.showToday&&!a.showCouple&&!u&&!a.wizardOpen&&!a.editing,k=a.showToday||!o.hasCurrent&&!a.showCouple&&!u&&!a.wizardOpen&&!a.editing,w=!e&&o.hasCurrent&&y,S=!e&&!y,[T,O]=_.useState(!1),A=(...I)=>{d(!1),a.setShowToday(!1),a.setShowCouple(!1),n("/result",{replace:!1}),l.handleSidebarView(...I)},C=()=>{a.setOpenCustom(!1),p(I=>I+1)},D=I=>{d(!1),l.handleCustomSave(I)},P=I=>{d(!1),l.handleWizardSave(I),n("/result",{replace:!1})};return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(TH,{enabled:b}),b&&y&&g.jsx(DH,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(NH,{enabled:b,adUnit:MNe,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsx(Jde,{isLoggedIn:e,onOpenSidebar:()=>a.setShowSidebar(!0),onAddNew:l.openAdd,onOpenCustom:l.openCustomModal}),g.jsx(yNe,{}),T&&g.jsxs("div",{className:"fixed inset-0 z-[210] bg-black/70 flex items-center justify-center",children:[g.jsx("div",{className:"w-full max-w-[420px] max-h-[90dvh] overflow-auto rounded-2xl",children:g.jsx(OH,{})}),g.jsx("button",{className:"fixed top-4 right-4 text-white text-2xl",onClick:()=>O(!1),children:""})]}),g.jsx(pAe,{open:a.openCustom,onClose:C,onSave:D},h),g.jsx(D5,{position:"top-center"}),g.jsx(zfe,{open:a.showSidebar,onClose:()=>a.setShowSidebar(!1),onView:A,onAddNew:l.openAdd,onEdit:l.handleSidebarEdit,onDeleteView:l.handleSidebarDeleteView,isLoggedIn:e}),S&&g.jsx("div",{className:"absolute w-full left-0 mt-14 desk:mt-16 text-xs desk:text-base text-amber-500 dark:text-amber-400 text-center",children:" .    ."}),u&&g.jsx(hNe,{}),k&&g.jsx(vX,{}),a.wizardOpen&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:g.jsx(gie,{onSave:P,onClose:()=>a.setWizardOpen(!1)})})})]}),o.hasCurrent&&!a.showToday&&!a.showCouple&&!u&&g.jsxs("div",{className:"pt-16",children:[w&&g.jsx("div",{children:g.jsx(vNe,{})}),g.jsx("div",{className:"pb-4",children:g.jsx(Ese,{data:o.current,hourTable:o.current?.mingSikType??"/"})}),g.jsx(Gje,{ms:o.current}),g.jsx("div",{children:g.jsx(Xde,{data:o.current})}),b&&y&&i.showPromptBox&&g.jsx("div",{className:"max-w-[760px] mx-auto px-3 mt-6 mb-2",children:g.jsx(ANe,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"3868873416",heightPx:100,maxWidthPx:750,marginTopPx:10,fullWidthResponsive:!0,testMode:!1})}),i.showPromptBox&&g.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:g.jsx(GTe,{ms:o.current,natal:o.isValidPillars(o.natal)?o.natal:[],chain:o.chain,basis:{voidBasis:o.voidBasis,samjaeBasis:o.samjaeBasis},includeTenGod:!0,lunarPillars:[]})}),b&&y&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 pb-6",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(pu,{enabled:!0,adUnit:CNe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(pu,{enabled:!0,adUnit:ONe,width:320,height:50})})]})]}),a.showCouple&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(Uje,{people:r})}),b&&!y&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-1 mb-2",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(pu,{enabled:!0,adUnit:NNe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(pu,{enabled:!0,adUnit:TNe,width:320,height:50})})]}),a.editing&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(the,{item:a.editing,onClose:()=>a.setEditing(null)})})}),g.jsx(sfe,{}),g.jsx(Fje,{})]})}function RNe(){const e=Fr(),[t,n]=_.useState(null),[r,i]=_.useState(null);return _.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),g.jsxs("div",{className:"p-4 text-white",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),g.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),g.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function LNe(){const e=Fr(),t=ec(),[n,r]=_.useState("  ...");return _.useEffect(()=>{(async()=>{try{console.log("[auth-callback] search =",e.search),console.log("[auth-callback] hash =",e.hash);const a=new URLSearchParams(e.search),o=e.hash.startsWith("#")?e.hash.slice(1):e.hash,l=o.indexOf("?"),u=new URLSearchParams(l>=0?o.slice(l+1):o),d=k=>a.get(k)??u.get(k),h=d("error"),p=d("error_description");if(h){r(` : ${decodeURIComponent(p??h)}`);return}const b=d("code");if(!b){const k=d("access_token"),w=d("refresh_token");if(!k||!w){r(" code . (redirectTo/PKCE  )");return}const{error:S}=await De.auth.setSession({access_token:k,refresh_token:w});if(S){r(`  : ${S.message}`);return}t("/",{replace:!0});return}const{error:y}=await De.auth.exchangeCodeForSession(b);if(y){r(`  : ${y.message}`);return}t("/",{replace:!0})}catch(a){r(a instanceof Error?a.message:"   ")}})()},[e.search,t]),g.jsx("main",{className:"min-h-screen flex items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:n})})}function INe({yinYang:e,changing:t,onClick:n,showChanging:r=!0}){return g.jsxs("button",{type:"button",onClick:n,className:["w-full select-none","rounded-xl px-3 py-2","border border-neutral-200 dark:border-neutral-800","bg-white hover:bg-neutral-50 dark:bg-neutral-900 dark:hover:bg-neutral-800","flex items-center gap-3",n?"cursor-pointer":"cursor-default"].join(" "),title:n?"  (6789)":void 0,children:[g.jsx("div",{className:"flex-1",children:e===1?g.jsx("div",{className:"h-3 rounded bg-neutral-900 dark:bg-neutral-100"}):g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"h-3 flex-1 rounded bg-neutral-900 dark:bg-neutral-100"}),g.jsx("div",{className:"h-3 flex-1 rounded bg-neutral-900 dark:bg-neutral-100"})]})}),r&&g.jsx("div",{className:"w-8 text-right text-sm font-medium text-neutral-700 dark:text-neutral-300",children:t?"":""})]})}function $Ne(e){return e===6||e===9}function Zx(e){return e===7||e===9?1:0}function RH(e){return e===6?1:e===9?0:Zx(e)}function BNe(e){return e===6?7:e===7?8:e===8?9:6}function LH(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=t+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)>>>0;return t>>>0}function IH(e){let t=e>>>0;return()=>{t+=1831565813;let n=t;return n=Math.imul(n^n>>>15,n|1),n^=n+Math.imul(n^n>>>7,n|61),((n^n>>>14)>>>0)/4294967296}}function $H(){return new Date().toISOString()}function BH(){const e=Date.now().toString(36),t=Math.floor(Math.random()*1e9).toString(36);return`ich_${e}_${t}`}function zH(e){const t=[];for(let n=0;n<e.length;n+=1)$Ne(e[n].value)&&t.push(n+1);return t}function YE(e){const t=()=>e()<.5?2:3,n=t(),r=t(),i=t(),a=n+r+i;return{value:a===6?6:a===7?7:a===8?8:9,source:"coin",coins:[n,r,i]}}function zNe(e){return e?[e.myeongSikId?`id=${e.myeongSikId}`:"",e.pillarsText?`pillars=${e.pillarsText}`:"",e.birthISO?`birth=${e.birthISO}`:"",e.tz?`tz=${e.tz}`:"",e.luck?.daeun?`daeun=${e.luck.daeun}`:"",e.luck?.seun?`seun=${e.luck.seun}`:"",e.luck?.wolun?`wolun=${e.luck.wolun}`:"",e.luck?.ilun?`ilun=${e.luck.ilun}`:""].filter(Boolean).join("|"):""}const eN=["","","","","","","","","",""],tN=["","","","","","","","","","","",""];function Yl(e,t){const n=e%t;return n<0?n+t:n}function nN(e){const t=e-1984,n=eN[Yl(t,10)],r=tN[Yl(t,12)];return`${n}${r}`}function UH(e,t){if(t<1||t>12)throw new Error(`month must be 1..12, got ${t}`);const n=Yl(e-1984,10),r=n===0||n===5?2:n===1||n===6?4:n===2||n===7?6:n===3||n===8?8:0,i=t===1?1:t===12?0:t,a=Yl(i-2,12),o=Yl(r+a,10),l=eN[o],u=tN[i];return`${l}${u}`}function UNe(e){const t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=Date.UTC(1984,0,31),a=Date.UTC(t,n,r),o=Math.floor((a-i)/864e5),l=Yl(o,60),u=eN[Yl(l,10)],d=tN[Yl(l,12)];return`${u}${d}`}function Ya(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function ma(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return null;const n=Number(t[1]),r=Number(t[2])-1,i=Number(t[3]);if(![n,r,i].every(o=>Number.isFinite(o)))return null;const a=new Date(n,r,i,9,0,0,0);return a.getFullYear()!==n||a.getMonth()!==r||a.getDate()!==i?null:a}function FH(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function Nu(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),9,0,0,0)}function rN(e,t){return e.getTime()<=t.getTime()?{start:e,end:t}:{start:t,end:e}}function t5(e,t){return e*100+t}function FNe(e,t){const n=[];let r=e.getFullYear(),i=e.getMonth()+1;const a=t5(t.getFullYear(),t.getMonth()+1);for(;t5(r,i)<=a;)n.push({y:r,m1:i}),i+=1,i===13&&(i=1,r+=1);return n}function HNe(e,t=10){const n=ma(e.startYMD)??Nu(),r=ma(e.endYMD)??Nu(),{start:i,end:a}=rN(n,r),o=i.getFullYear(),l=a.getFullYear(),u=[];for(let d=o;d<=l&&!(u.length>=t);d+=1){const h=new Date(d,5,15,9,0,0,0);u.push({year:d,refDateYMD:Ya(h),seun:nN(d)})}return u}function GNe(e,t=12,n=!1){const r=ma(e.startYMD)??Nu(),i=ma(e.endYMD)??Nu(),{start:a,end:o}=rN(r,i),l=FNe(a,o),u=[];for(const d of l){if(u.length>=t)break;if(n&&d.m1===1)continue;const h=new Date(d.y,d.m1-1,15,9,0,0,0),p=new Date(d.y,d.m1-1,15,12,0,0,0),b=ct(p)||nN(d.y),y=kt(p)||UH(d.y,d.m1);u.push({year:d.y,month:d.m1,refDateYMD:Ya(h),seun:b,wolun:y})}return u}function YNe(e,t=7){const n=ma(e.startYMD)??Nu(),r=ma(e.endYMD)??Nu(),{start:i,end:a}=rN(n,r),o=[];let l=new Date(i);for(;l.getTime()<=a.getTime()&&!(o.length>=t);){const u=l.getFullYear(),d=l.getMonth()+1,h=new Date(u,d-1,l.getDate(),12,0,0,0),p=ct(h)||nN(u),b=kt(h)||UH(u,d);o.push({dateYMD:Ya(l),seun:p,wolun:b,ilun:UNe(l)}),l=FH(l,1)}return o}function HH(e,t){const n=ma(t.startYMD)??Nu();if(e==="seun")return new Date(n.getFullYear(),5,15,9,0,0,0);if(e==="wolun"){const r=n.getFullYear(),i=n.getMonth()+1;return new Date(r,i-1,15,9,0,0,0)}return new Date(n.getFullYear(),n.getMonth(),n.getDate(),9,0,0,0)}function Nk(e,t){const n=HH(e,t),r=Ya(n);return e==="seun"?{tab:e,baseDateYMD:r,seun:HNe(t,10),wolun:[],ilun:[]}:e==="wolun"?{tab:e,baseDateYMD:r,seun:[],wolun:GNe(t,12,!1),ilun:[]}:{tab:e,baseDateYMD:r,seun:[],wolun:[],ilun:YNe(t,7)}}function GH(e){return e===7||e===9?1:0}const ja={:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"111",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"110",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"101",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"100",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"011",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"010",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"001",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"000",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]}},qNe=[{n:1,ko:"",nameHanja:"",upper:"",lower:""},{n:2,ko:"",nameHanja:"",upper:"",lower:""},{n:3,ko:"",nameHanja:"",upper:"",lower:""},{n:4,ko:"",nameHanja:"",upper:"",lower:""},{n:5,ko:"",nameHanja:"",upper:"",lower:""},{n:6,ko:"",nameHanja:"",upper:"",lower:""},{n:7,ko:"",nameHanja:"",upper:"",lower:""},{n:8,ko:"",nameHanja:"",upper:"",lower:""},{n:9,ko:"",nameHanja:"",upper:"",lower:""},{n:10,ko:"",nameHanja:"",upper:"",lower:""},{n:11,ko:"",nameHanja:"",upper:"",lower:""},{n:12,ko:"",nameHanja:"",upper:"",lower:""},{n:13,ko:"",nameHanja:"",upper:"",lower:""},{n:14,ko:"",nameHanja:"",upper:"",lower:""},{n:15,ko:"",nameHanja:"",upper:"",lower:""},{n:16,ko:"",nameHanja:"",upper:"",lower:""},{n:17,ko:"",nameHanja:"",upper:"",lower:""},{n:18,ko:"",nameHanja:"",upper:"",lower:""},{n:19,ko:"",nameHanja:"",upper:"",lower:""},{n:20,ko:"",nameHanja:"",upper:"",lower:""},{n:21,ko:"",nameHanja:"",upper:"",lower:""},{n:22,ko:"",nameHanja:"",upper:"",lower:""},{n:23,ko:"",nameHanja:"",upper:"",lower:""},{n:24,ko:"",nameHanja:"",upper:"",lower:""},{n:25,ko:"",nameHanja:"",upper:"",lower:""},{n:26,ko:"",nameHanja:"",upper:"",lower:""},{n:27,ko:"",nameHanja:"",upper:"",lower:""},{n:28,ko:"",nameHanja:"",upper:"",lower:""},{n:29,ko:"",nameHanja:"",upper:"",lower:""},{n:30,ko:"",nameHanja:"",upper:"",lower:""},{n:31,ko:"",nameHanja:"",upper:"",lower:""},{n:32,ko:"",nameHanja:"",upper:"",lower:""},{n:33,ko:"",nameHanja:"",upper:"",lower:""},{n:34,ko:"",nameHanja:"",upper:"",lower:""},{n:35,ko:"",nameHanja:"",upper:"",lower:""},{n:36,ko:"",nameHanja:"",upper:"",lower:""},{n:37,ko:"",nameHanja:"",upper:"",lower:""},{n:38,ko:"",nameHanja:"",upper:"",lower:""},{n:39,ko:"",nameHanja:"",upper:"",lower:""},{n:40,ko:"",nameHanja:"",upper:"",lower:""},{n:41,ko:"",nameHanja:"",upper:"",lower:""},{n:42,ko:"",nameHanja:"",upper:"",lower:""},{n:43,ko:"",nameHanja:"",upper:"",lower:""},{n:44,ko:"",nameHanja:"",upper:"",lower:""},{n:45,ko:"",nameHanja:"",upper:"",lower:""},{n:46,ko:"",nameHanja:"",upper:"",lower:""},{n:47,ko:"",nameHanja:"",upper:"",lower:""},{n:48,ko:"",nameHanja:"",upper:"",lower:""},{n:49,ko:"",nameHanja:"",upper:"",lower:""},{n:50,ko:"",nameHanja:"",upper:"",lower:""},{n:51,ko:"",nameHanja:"",upper:"",lower:""},{n:52,ko:"",nameHanja:"",upper:"",lower:""},{n:53,ko:"",nameHanja:"",upper:"",lower:""},{n:54,ko:"",nameHanja:"",upper:"",lower:""},{n:55,ko:"",nameHanja:"",upper:"",lower:""},{n:56,ko:"",nameHanja:"",upper:"",lower:""},{n:57,ko:"",nameHanja:"",upper:"",lower:""},{n:58,ko:"",nameHanja:"",upper:"",lower:""},{n:59,ko:"",nameHanja:"",upper:"",lower:""},{n:60,ko:"",nameHanja:"",upper:"",lower:""},{n:61,ko:"",nameHanja:"",upper:"",lower:""},{n:62,ko:"",nameHanja:"",upper:"",lower:""},{n:63,ko:"",nameHanja:"",upper:"",lower:""},{n:64,ko:"",nameHanja:"",upper:"",lower:""}];function Pv(e){const t=Object.keys(ja);for(const n of t)if(ja[n].bitsBottomUp===e)return n;return null}function KNe(e,t){return`${ja[t].bitsBottomUp}${ja[e].bitsBottomUp}`}const WNe=(()=>{const e={};for(const t of qNe){const n=ja[t.upper],r=ja[t.lower],i=KNe(t.upper,t.lower);e[i]={number:t.n,titleKo:t.ko,nameHanja:t.nameHanja,titleHanja:`${n.symbolHanja}${r.symbolHanja}${t.nameHanja}`,upperKo:n.ko,lowerKo:r.ko,upperHanja:n.hanja,lowerHanja:r.hanja,upperSymbolHanja:n.symbolHanja,lowerSymbolHanja:r.symbolHanja,bitsBottomUp:i}}return e})();function iN(e){const t=e.join(""),n=WNe[t];if(n)return n;const r=t.slice(0,3),i=t.slice(3,6),a=Pv(r),o=Pv(i),l=a?ja[a]:null,u=o?ja[o]:null;return{number:void 0,titleKo:"",nameHanja:"",titleHanja:u&&l?`${u.symbolHanja}${l.symbolHanja}`:"",upperKo:u?.ko,lowerKo:l?.ko,upperHanja:u?.hanja,lowerHanja:l?.hanja,upperSymbolHanja:u?.symbolHanja,lowerSymbolHanja:l?.symbolHanja,bitsBottomUp:t}}function qE(e){const t=e.map(n=>GH(n.value));return iN(t)}const n5={:[1,44,33,12,20,23,35,14],:[29,60,3,63,49,55,36,7],:[52,22,26,41,38,10,61,53],:[51,16,40,32,46,48,28,17],:[57,9,37,42,25,21,27,18],:[30,56,50,64,4,59,6,13],:[2,24,19,11,34,43,5,8],:[58,47,45,31,39,15,62,54]};function VNe(e){return e===0?"pure":e===1?"1":e===2?"2":e===3?"3":e===4?"4":e===5?"5":e===6?"youhun":"guihun"}function ZNe(e){return e==="pure"?6:e==="1"?1:e==="2"?2:e==="3"?3:e==="4"?4:e==="5"?5:e==="youhun"?4:3}function XNe(e){return(e+2)%6+1}function JNe(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""||e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":null}function r5(e,t){return e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""}function i5(e,t){return e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""}function QNe(e,t){return t===e?"":r5(t,e)?"":r5(e,t)?"":i5(t,e)?"":i5(e,t)?"":""}function eOe(e){const t=Object.keys(n5);for(const n of t){const r=n5[n].indexOf(e);if(r>=0)return{palace:n,stage:VNe(r)}}return null}function tOe(e){const t=e.join(""),n=t.slice(0,3),r=t.slice(3,6),i=Pv(n),a=Pv(r);if(!i||!a)return[];const o=ja[i],u=ja[a].naJiaUpperTopDown,d=o.naJiaLowerTopDown;return[...u,...d]}function KE(e){const t=e.map(k=>GH(k.value)),n=iN(t),r=typeof n.number=="number"?n.number:null,i=tOe(t),a=r?eOe(r):null,o=a?.palace??null,l=o?ja[o].element:null,u=a?.stage??"pure",d=ZNe(u),h=XNe(d),p=7-d,b=7-h,y=[];if(i.length===6&&l)for(const k of i){const w=JNe(k);if(!w){y.push("");continue}y.push(QNe(l,w))}return{leftTopDown:y.length?y:[],rightTopDown:i.length?i:[],markers:[{text:"",atLineTopDown:p},{text:"",atLineTopDown:b}],palace:o?{key:o,element:ja[o].element,stage:u}:void 0}}function Ok(e){const t=IH(LH(e)),n=[];for(let r=0;r<6;r+=1)n.push(YE(t));return n}function Ck(e,t,n,r,i){return{id:BH(),kind:"iching_sixyao",createdAtISO:$H(),question:e,seedTextUsed:t,linesBottomUp:n,changingLines:zH(n),baseBitsBottomUp:n.map(a=>Zx(a.value)),changedBitsBottomUp:n.map(a=>RH(a.value)),saju:r??void 0,viewMeta:i}}function nOe(e){const{periodTab:t,seunPayload:n,wolunPayload:r,ilunPayload:i,questionText:a,sajuSeedPart:o,saju:l,viewMeta:u}=e,d=[];return t==="seun"&&n?.seun?.length&&n.seun.forEach(h=>{const p=` ${h.year} (${h.seun}`,b=`${a}::${h.refDateYMD}`,y=o?`${b}::SAJU::${o}`:b,k=Ok(y),w=Ck(a,y,k,l,u);d.push({key:`seun-${h.year}`,title:p,dateYMD:h.refDateYMD,record:w})}),t==="wolun"&&r?.wolun?.length&&r.wolun.forEach(h=>{const p=String(h.month).padStart(2,"0"),b=` ${h.year}-${p} (${h.seun} ${h.wolun}`,y=`${a}::${h.refDateYMD}`,k=o?`${y}::SAJU::${o}`:y,w=Ok(k),S=Ck(a,k,w,l,u);d.push({key:`wolun-${h.year}-${p}`,title:b,dateYMD:h.refDateYMD,record:S})}),t==="ilun"&&i?.ilun?.length&&i.ilun.forEach(h=>{const p=` ${h.dateYMD} (${h.seun} ${h.wolun} ${h.ilun}`,b=`${a}::${h.dateYMD}`,y=o?`${b}::SAJU::${o}`:b,k=Ok(y),w=Ck(a,y,k,l,u);d.push({key:`ilun-${h.dateYMD}`,title:p,dateYMD:h.dateYMD,record:w})}),d}function rOe(e){if(!e)return"  ";const t=[e.name?`: ${e.name}`:"",e.gender?`: ${e.gender}`:"",e.pillarsText?`: ${e.pillarsText}`:""].filter(Boolean);return t.length?t.join(`
`):"  "}function iOe(e,t){if(!e||!e.luck)return e;const{daeun:n,seun:r,wolun:i,ilun:a}=e.luck;return{...e,luck:t==="seun"?{daeun:n,seun:r}:t==="wolun"?{daeun:n,seun:r,wolun:i}:{daeun:n,seun:r,wolun:i,ilun:a}}}function aOe(e){const{selectedCardText:t,ready:n,periodCards:r,finalQuestion:i,question:a,baseBits:o,changedBits:l,changingIndexes:u,lineValues:d,lines:h,saju:p,periodTab:b}=e,y=(i.trim()||a.trim()).trim(),k=y||"( )";if(t&&t.trim())return[` : ${k}`,"",t.trim()].join(`
`);if(!n&&r.length===0)return"";const w=o.join(""),S=l.join(""),T=u.length?u.join(", "):"",O=d.join(", "),A=qE(h),C=iN(l),D=typeof A.number=="number"?String(A.number):"",P=A.titleKo||"",I=A.titleHanja||"?",U=A.nameHanja||"?",W=A.upperKo&&A.lowerKo?`${A.upperKo}/${A.lowerKo}`:"",K=A.upperHanja&&A.lowerHanja?`${A.upperHanja}/${A.lowerHanja}`:"",H=typeof C.number=="number"?String(C.number):"",B=C.upperKo&&C.lowerKo?`${C.upperKo}/${C.lowerKo}`:"",q=C.upperHanja&&C.lowerHanja?`${C.upperHanja}/${C.lowerHanja}`:"",X=KE(h),Z=X.leftTopDown.length?X.leftTopDown.join(" "):"()",G=X.rightTopDown.length?X.rightTopDown.join(" "):"()",J=X.markers.length?X.markers.map(re=>`${re.text}${re.atLineTopDown}`).join(", "):"()",Q=rOe(p),oe=r.length>0?[" (  )",...r.flatMap((re,ie)=>{const ue=qE(re.record.linesBottomUp),de=KE(re.record.linesBottomUp),pe=re.record.baseBitsBottomUp.join(""),Ne=re.record.changedBitsBottomUp.join(""),se=re.record.changingLines.length?re.record.changingLines.join(", "):"",je=re.record.linesBottomUp.map(Oe=>Oe.value).join(", "),ke=ue.titleKo||"",fe=typeof ue.number=="number"?String(ue.number):"",Ue=de.leftTopDown.length?de.leftTopDown.join(" "):"()",Fe=de.rightTopDown.length?de.rightTopDown.join(" "):"()",tt=de.markers.length?de.markers.map(Oe=>`${Oe.text}${Oe.atLineTopDown}`).join(", "):"()";return[`${ie+1}. ${re.title}`,`-  /: ${fe}  ${ke}`,`-  (): ${pe}`,`-  (): ${Ne}`,`- : ${se}`,`- (): ${je}`,`- (): ${Ue}`,`- (): ${Fe}`,`- ///: ${tt}`]}),""]:[],te=n&&h.length===6?[" ()",`-  : ${D}`,`- (): ${P}`,`- (): ${I} (${U})`,`- / : ${W} (${K})`,""," ()",`-  : ${H}`,`- / : ${B} (${q})`,""," ",`-  (): ${w}`,`-  (): ${S}`,`- : ${T}`,`- (): ${O}`,`- (): ${Z}`,`- (): ${G}`,`- ///: ${J}`,""]:[" ","- /   ",""],z=n&&r.length===0,V=z?iOe(p??null,b):null;return[" / .        .","",`: ${k}`,"",...te," ",Q,"",...z?["(JSON)",JSON.stringify(V??{},null,2),""]:[],"",...oe,"","-     ","-        ","-    "].join(`
`)}const a5=[`1.  () 

 
 ()	( ,  : ,  : ) (() )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`2.  () 

 
 ()	( ,  : ,  : ) (() )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`3.  

  
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`4.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`5.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`6.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`7.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`8.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`9.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + () -  `,`10.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`11.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`12.  () 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`13.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`14.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`15.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`16.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`17.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`18.  

  
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`19.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`20.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`21.  

  
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`22.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`23.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`24.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + () -  `,`25.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`26.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`27.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`28.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`29.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`30.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + () -  
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`31.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`32.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`33.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`34.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`35.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + () -  
2() - () + ()
() - () +  +  + ()`,`36.  

  
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + () -  
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`37.  
 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`38.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + () -  
() - () +  +  + ()`,`39.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`40.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`41.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`42.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`43.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`44.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`45.  () 

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + () -  `,`46.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + () -  
5() - () +  + ()
4() - () +  + ()
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`47.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + () -  
2() - () + ()
() - () +  + ()`,`48.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`49.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + () -  `,`50.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + () -  `,`51.  () (() )  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`52. () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`53.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`54.  

 
 ()	( ,  : (),  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + () -  
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`55.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`56.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`57.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`58.  () (() ) 

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + () -  
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`59.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`60.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`61.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`62.  

 
 ()	( ,  : (),  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`63.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`64.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`];function oOe({saju:e,viewMeta:t,initialQuestion:n="",onBaseDateChange:r}){const[i,a]=_.useState(n),[o,l]=_.useState(""),[u,d]=_.useState("all"),[h,p]=_.useState("seun"),[b,y]=_.useState(()=>{const Me=new Date,it=new Date(Me.getFullYear(),0,1,9,0,0,0),Lt=new Date(Me.getFullYear()+9,11,31,9,0,0,0);return{startYMD:Ya(it),endYMD:Ya(Lt)}}),[k,w]=_.useState(()=>{const Me=new Date,it=new Date(Me.getFullYear(),Me.getMonth(),1,9,0,0,0),Lt=new Date(it);return Lt.setMonth(Lt.getMonth()+11),{startYMD:Ya(it),endYMD:Ya(Lt)}}),[S,T]=_.useState(()=>{const Me=new Date,it=new Date(Me.getFullYear(),Me.getMonth(),Me.getDate(),9,0,0,0),Lt=FH(it,6);return{startYMD:Ya(it),endYMD:Ya(Lt)}}),[O,A]=_.useState([]),[C,D]=_.useState(null),[P,I]=_.useState([]),[U,W]=_.useState(!1),[K,H]=_.useState(!1),[B,q]=_.useState(null),X=_.useRef(null),Z=_.useRef(null),G=_.useRef(null);_.useEffect(()=>{a(n),l(n)},[n]),_.useEffect(()=>{I([])},[h,b.startYMD,b.endYMD,k.startYMD,k.endYMD,S.startYMD,S.endYMD]),_.useEffect(()=>{if(!B)return;const Me=window.setTimeout(()=>q(null),2200);return()=>window.clearTimeout(Me)},[B]);const J=_.useMemo(()=>{const Me=ma(b.startYMD);if(Me&&Me.getMonth()===0){const it=new Date(Me.getFullYear(),1,1,9,0,0,0);return{...b,startYMD:Ya(it)}}return b},[b]),Q=h,oe=_.useMemo(()=>Q?HH(Q,Q==="seun"?J:Q==="wolun"?k:S):new Date,[Q,S,J,k]);_.useEffect(()=>{r&&r(oe??null)},[oe,r]);const te=_.useMemo(()=>zNe(e),[e]),z=_.useMemo(()=>`${o.trim()}::${oe.toISOString()}`,[oe,o]),V=_.useMemo(()=>te?`${z}::SAJU::${te}`:z,[z,te]),re=_.useMemo(()=>{const Me=LH(V);return IH(Me)},[V]),ie=_.useMemo(()=>h==="seun"?Nk("seun",J):null,[h,J]),ue=_.useMemo(()=>h==="wolun"?Nk("wolun",k):null,[h,k]),de=_.useMemo(()=>h==="ilun"?Nk("ilun",S):null,[h,S]),pe=_.useMemo(()=>{const Me=ma(b.startYMD);return Me?String(Me.getFullYear()):""},[b.startYMD]),Ne=_.useMemo(()=>{const Me=ma(b.endYMD);return Me?String(Me.getFullYear()):""},[b.endYMD]),se=_.useMemo(()=>{const Me=ma(k.startYMD);if(!Me)return"";const it=String(Me.getMonth()+1).padStart(2,"0");return`${Me.getFullYear()}-${it}`},[k.startYMD]),je=_.useMemo(()=>{const Me=ma(k.endYMD);if(!Me)return"";const it=String(Me.getMonth()+1).padStart(2,"0");return`${Me.getFullYear()}-${it}`},[k.endYMD]),ke=_.useMemo(()=>{if(h==="seun"){const Me=ie?.seun[0];return Me?` ${Me.year} - ${Me.seun}`:""}if(h==="wolun"){const Me=ue?.wolun[0];if(!Me)return"";const it=String(Me.month).padStart(2,"0");return` ${Me.year}-${it} - ${Me.seun} ${Me.wolun}`}if(h==="ilun"){const Me=de?.ilun[0];return Me?` ${Me.dateYMD} - ${Me.seun} ${Me.wolun} ${Me.ilun}`:""}return""},[h,ie,ue,de]),fe=_.useCallback((Me,it,Lt)=>{Me(xr=>({...xr,[it]:Lt}))},[]),Ue=_.useCallback((Me,it)=>{if(!it)return;const Lt=Number(it);if(!Number.isFinite(Lt))return;const xr=Math.trunc(Lt);y(ti=>({...ti,[Me]:`${xr}-06-15`}))},[]),Fe=_.useCallback((Me,it)=>{if(!it)return;const Lt=/^(\d{4})-(\d{2})$/.exec(it);Lt&&w(xr=>({...xr,[Me]:`${Lt[1]}-${Lt[2]}-15`}))},[]),tt=O.length===6,Oe=_.useMemo(()=>O.map(Me=>Zx(Me.value)),[O]),$e=_.useMemo(()=>O.map(Me=>RH(Me.value)),[O]),He=_.useMemo(()=>zH(O),[O]),Be=_.useMemo(()=>O.map(Me=>Me.value),[O]),jt=O.length>0||!!C,At=P.length>0,he=o.trim().length>0,Ce=!he||K||At||tt,Ye=!he||U||jt||At||K,Se=_.useCallback(()=>{window.setTimeout(()=>{X.current?.scrollIntoView({behavior:"smooth",block:"start"})},50)},[]),Pe=_.useCallback(()=>{window.setTimeout(()=>{Z.current?.scrollIntoView({behavior:"smooth",block:"start"})},50)},[]),ze=_.useCallback(()=>{A([]),D(null),I([]),W(!1),H(!1),q(null)},[]),at=_.useCallback(()=>o.trim()?!0:(alert("  !"),window.setTimeout(()=>{G.current?.focus()},0),!1),[o]),St=_.useCallback(()=>{if(!at()||Ce)return;W(!0);let Me=0;A(it=>it.length>=6?it:(Me=it.length+1,[...it,YE(re)])),window.setTimeout(()=>{if(W(!1),Me>=6){Se();return}Me>0&&q(`${Me}  !  ${Me+1} ?`)},350)},[at,Ce,re,Se]),Kt=_.useCallback(()=>{if(!at()||Ce)return;W(!0);const Me=[];for(let it=0;it<6;it+=1)Me.push(YE(re));A(Me),window.setTimeout(()=>{W(!1),Se()},350)},[at,Ce,re,Se]),vr=_.useMemo(()=>{if(O.length!==6)return"";const Me=qE(O);if(typeof Me.number!="number")return"";const it=Me.number-1;return it<0||it>=a5.length?"":a5[it]??""},[O]),Pr=_.useCallback(Me=>{A(it=>{if(Me<0||Me>=it.length)return it;const Lt=[...it],xr=Lt[Me];return Lt[Me]={value:BNe(xr.value),source:"manual"},Lt})},[]),Vn=_.useCallback(()=>{if(O.length!==6)return;const Me=(o.trim()||i.trim()).trim(),it={id:BH(),kind:"iching_sixyao",createdAtISO:$H(),question:Me,seedTextUsed:V,linesBottomUp:O,changingLines:He,baseBitsBottomUp:Oe,changedBitsBottomUp:$e,saju:e??void 0,viewMeta:t};D(it)},[Oe,$e,He,V,o,O,i,e,t]);_.useEffect(()=>{O.length===6&&Vn()},[Vn,O.length]);const gn=_.useMemo(()=>[{value:7,source:"manual"}].concat(Array.from({length:5},()=>({value:7,source:"manual"}))),[]),Rt=_.useCallback(()=>{if(!at()||Ye)return;H(!0);const Me=(o.trim()||i.trim()).trim(),it=nOe({periodTab:h,seunPayload:ie,wolunPayload:ue,ilunPayload:de,questionText:Me,sajuSeedPart:te,saju:e,viewMeta:t});I(it),window.setTimeout(()=>{H(!1),Pe()},400)},[at,Ye,o,de,h,i,e,te,ie,t,ue,Pe]),Sn=_.useMemo(()=>aOe({selectedCardText:vr,ready:tt,periodCards:P,finalQuestion:o,question:i,baseBits:Oe,changedBits:$e,changingIndexes:He,lineValues:Be,lines:O,saju:e,periodTab:h}),[vr,tt,P,o,i,Oe,$e,He,Be,O,e,oe,ie,ue,de,h]),qo=_.useCallback(async()=>{if(Sn)try{await navigator.clipboard.writeText(Sn),alert("  !")}catch{alert("  .   .")}},[Sn]),Uf=_.useMemo(()=>{if(!tt)return null;const Me=KE(O),it=Me.leftTopDown.join(" "),Lt=Me.rightTopDown.join(" "),xr=Me.markers.map(ti=>`${ti.text}${ti.atLineTopDown}`).join(", ");return{liuQin:it,zhi:Lt,marks:xr}},[O,tt]);return{saju:e,question:i,setQuestion:a,finalQuestion:o,setFinalQuestion:l,questionInputRef:G,drawMode:u,setDrawMode:d,periodTab:h,setPeriodTab:p,seunRange:b,setSeunRange:y,wolunRange:k,setWolunRange:w,ilunRange:S,setIlunRange:T,seunStartYear:pe,seunEndYear:Ne,wolunStartYM:se,wolunEndYM:je,activePeriodLabel:ke,onRangeChange:fe,onSeunYearChange:Ue,onWolunMonthChange:Fe,ready:tt,baseBits:Oe,changedBits:$e,changingIndexes:He,lineValues:Be,autoSideSummary:Uf,selectedCardText:vr,drawOne:St,drawAll:Kt,reset:ze,onEditLine:Pr,lines:O,record:C,periodCards:P,placeholderLines:gn,copyPrompt:qo,isDrawing:U,isPeriodDrawing:K,toast:B,disableSingleDraw:Ce,disablePeriodDraw:Ye,resultRef:X,periodCardsRef:Z,buildPeriodCards:Rt}}const sOe="DAN-GW4jrUdfiXklZ12U",lOe="DAN-CeRuC0yKzSAs5Gju";function cOe(e){const{saju:t,question:n,setQuestion:r,finalQuestion:i,setFinalQuestion:a,questionInputRef:o,drawMode:l,setDrawMode:u,lines:d,isDrawing:h,disableSingleDraw:p,selectedCardText:b,drawOne:y,drawAll:k,reset:w,copyPrompt:S,toast:T,resultRef:O}=oOe(e),A=b?b.split(/\r?\n/):[],C=A[0]??"",D=A.slice(1).join("\\n").trim(),P=d.length?[...d].reverse():[],I=A.map(U=>U.trim()).map(U=>{const W=/^(|5|4|3|2|)\((|)\)\s*-\s*(.+)$/.exec(U);if(!W)return null;const K=W[1],H=W[2],B=//.test(W[3]),X=W[3].replace(/\s*-\s*\s*?/g,"").trim().split(" + ").map(Q=>Q.trim()).filter(Boolean),Z=X.filter(Q=>Q===""||Q===""||Q===""||Q===""),G=X.find(Q=>/\([]\)/.test(Q))??"",J=X.find(Q=>/\(.+\)/.test(Q)&&Q!==G)??"";return{label:K,yinYang:H,liuQin:J,zhi:G,markers:Z,hasDonghyo:B}}).filter(Boolean);return g.jsxs("div",{className:"w-full max-w-[768px] mx-auto pb-12 desk:pb-4 p-4",children:[g.jsxs("div",{className:"rounded-2xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"   "}),g.jsx("div",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:"   ,     ."}),g.jsxs("div",{className:"mt-4 rounded-2xl border border-neutral-200 bg-neutral-50 p-3 dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),t?g.jsxs("div",{className:"mt-1 text-sm text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:":"})," ",t.name?t.name:" ",t.gender?`  ${t.gender}`:""]}),t.pillarsText?g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:":"})," ",t.pillarsText]}):null]}):g.jsx("div",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:"  ."})]}),g.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[g.jsxs("label",{className:"block",children:[g.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200",children:""}),g.jsx("textarea",{ref:o,value:n,onChange:U=>r(U.target.value),rows:3,className:"mt-1 w-full rounded-xl border border-neutral-200 bg-white px-3 py-2 text-sm outline-none focus:border-neutral-400 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100",placeholder:"      !"})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsx("button",{type:"button",onClick:()=>a(n.trim()),className:"rounded-xl border border-neutral-300 bg-white px-3 py-2 text-xs font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:" "}),g.jsxs("span",{children:[" : ",i.trim()?i:""]})]}),g.jsxs("div",{className:"rounded-2xl border border-neutral-200 bg-neutral-50 p-3 dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),g.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"drawMode",checked:l==="all",onChange:()=>u("all")})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"drawMode",checked:l==="step",onChange:()=>u("step")})," "]})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:l==="all"?k:y,disabled:p||h,className:"rounded-xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white hover:bg-neutral-800 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-neutral-100 dark:text-neutral-900 dark:hover:bg-neutral-200 cursor-pointer",children:l==="all"?" ":`1  (${d.length}/6)`}),g.jsx("button",{type:"button",onClick:w,className:"rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:""}),h?g.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsx("span",{children:" "}),g.jsx("span",{className:"animate-pulse",children:"..."})]}):null]})]})]}),g.jsxs("div",{className:"mt-4",ref:O,children:[g.jsxs("div",{className:"mb-3",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(pu,{enabled:!0,adUnit:lOe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(pu,{enabled:!0,adUnit:sOe,width:320,height:50})})]}),b?g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-gradient-to-b from-amber-50 to-white p-4 shadow-sm dark:border-neutral-800 dark:from-neutral-900 dark:to-neutral-950",children:g.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[g.jsxs("div",{className:"w-full md:w-[180px]",children:[g.jsx("div",{className:"rounded-xl border border-amber-200 bg-white px-3 py-2 text-sm font-semibold text-amber-900 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",children:C}),g.jsxs("div",{className:"mt-3 rounded-xl border border-amber-200 bg-white px-3 py-4 dark:border-neutral-700 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-300",children:" "}),g.jsx("div",{className:"mt-2 flex flex-col gap-2",children:P.map((U,W)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:6-W}),g.jsx(INe,{yinYang:Zx(U.value),changing:!1,showChanging:!1})]},`line-${W}`))})]})]}),g.jsxs("div",{className:"flex-1 rounded-xl border border-amber-200 bg-white p-4 dark:border-neutral-700 dark:bg-neutral-900",children:[g.jsx("div",{className:"space-y-2",children:(I.length?I:[]).map(U=>g.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-amber-100 bg-amber-50/50 px-3 py-2 text-sm dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:[U.label," (",U.yinYang,")"]}),g.jsxs("div",{className:"text-xs text-neutral-700 dark:text-neutral-300",children:[U.liuQin||"-"," ",U.zhi?`  ${U.zhi}`:""]})]}),g.jsxs("div",{className:"flex flex-wrap gap-1 text-[10px] font-semibold text-amber-900 dark:text-neutral-200",children:[U.hasDonghyo&&g.jsx("span",{className:"rounded border border-red-200 bg-red-50 px-1.5 py-0.5 text-red-600 dark:border-red-900/40 dark:bg-red-950/40 dark:text-red-300",children:""}),U.markers.map(W=>g.jsx("span",{className:"rounded border border-amber-200 bg-white px-1.5 py-0.5 dark:border-neutral-700 dark:bg-neutral-900",children:W},`${U.label}-${W}`))]})]},U.label))}),!I.length&&g.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-sm text-neutral-800 dark:text-neutral-100",children:D})]})]})}):g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"   ."})]}),g.jsxs("div",{className:"mt-4 rounded-2xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),g.jsx("div",{className:"mt-1 text-xs text-neutral-600 dark:text-neutral-400",children:"   AI    ."}),b?g.jsx("button",{type:"button",onClick:S,className:"mt-3 w-full rounded-xl border border-neutral-300 bg-white px-3 py-2 text-xs font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:"AI   "}):g.jsx("div",{className:"mt-3 text-sm text-neutral-600 dark:text-neutral-400",children:"  ."})]}),T?g.jsx("div",{className:"fixed bottom-6 left-1/2 z-50 w-[90%] max-w-sm -translate-x-1/2",children:g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-white px-4 py-3 text-sm text-neutral-900 shadow-lg dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100",children:T})}):null]})}const uOe="DAN-INfSKh1pW2cEtWNu";function Rb(e){return!e?.stem||!e?.branch?"":`${e.stem}${e.branch}`}function dOe(e){const t=[e.year?`${e.year}`:"",e.month?`${e.month}`:"",e.day?`${e.day}`:"",e.hour?`${e.hour}`:""].filter(Boolean);return t.length?t.join(" "):""}function Mk(e){if(typeof e!="string")return!1;const t=e.trim();return t===""||t===""||t===""||t==="self"||t===""||t===""}function fOe({current:e}){const t=Ty(h=>h.useDST),n=e.mingSikType,r=_.useMemo(()=>j2(e,t),[e,t]),[i,a]=_.useState(null),o=Jr(h=>h.date),l=ix(e,n,i??o??void 0),u=_.useMemo(()=>{const h={year:Rb(r.year),month:Rb(r.month),day:Rb(r.day),hour:Rb(r.hour)},p=e.ganjiText?.trim()||e.ganji?.trim()||dOe(h),b={daeun:l.dae.gz||void 0,seun:l.se.gz||void 0,wolun:l.wol.gz||void 0,ilun:l.il.gz||void 0};return{name:e.name||void 0,gender:e.gender||void 0,pillarsText:p,pillars:h,luck:b}},[e,l,r]),d=_.useMemo(()=>({sourceRoute:"/iching",currentId:e.id,currentName:e.name??null}),[e.id,e.name]);return g.jsx("div",{className:"py-2",children:g.jsx(cOe,{saju:u,viewMeta:d,onBaseDateChange:a},e.id)})}function hOe(){const e=xn(w=>w.list),t=xn(w=>w.loading),n=xn(w=>w.currentId),r=xn(w=>w.setCurrentId),i=ec(),a=_.useRef(!1),[o,l]=_.useState(!1),u=_.useRef(!1),d=fn(w=>w.shouldShowAdsNow()),h=_.useMemo(()=>e.find(S=>Mk(S.relationship))?.id??null,[e]);_.useEffect(()=>{if(t||e.length===0)return;const w=h??e[0]?.id??null;if(!a.current){w&&n!==w&&r(w),a.current=!0;return}n&&!e.some(S=>S.id===n)&&w&&r(w)},[t,e,n,h,r]),_.useEffect(()=>{t&&l(!0)},[t]);const p=_.useMemo(()=>e.find(w=>w.id===n)??null,[e,n]),b=_.useMemo(()=>p||(e.find(S=>Mk(S.relationship))??e[0]??null),[p,e]),y=_.useMemo(()=>{const w=e.find(S=>Mk(S.relationship));return w?[w,...e.filter(S=>S.id!==w.id)]:e},[e]);_.useEffect(()=>{o&&(t||e.length>0||u.current||(u.current=!0,alert("   .  ."),i("/",{replace:!0})))},[o,e.length,t,i]),_.useEffect(()=>{let w=!0;De.auth.getSession().then(({data:T})=>{w&&(T.session?.user||i("/",{replace:!0}))});const{data:S}=De.auth.onAuthStateChange((T,O)=>{O?.user||i("/",{replace:!0})});return()=>{w=!1,S.subscription.unsubscribe()}},[i]);const k=_.useMemo(()=>n||h||(e[0]?.id??""),[n,h,e]);return g.jsxs("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-950",children:[g.jsx(TH,{enabled:d}),d&&g.jsx(DH,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(NH,{enabled:d,adUnit:uOe,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsxs("div",{className:"w-full max-w-[768px] mx-auto px-4 pt-4",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-xl font-bold text-neutral-900 dark:text-neutral-100",children:"   "}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"    ."})]}),g.jsx(nj,{to:"/",className:"rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800",children:""})]}),e.length>0&&g.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsx("label",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:" "}),g.jsxs("select",{className:"w-full sm:w-[320px] rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",value:k,onChange:w=>{const S=w.target.value;S&&r(S)},children:[g.jsx("option",{value:"",disabled:!0,children:""}),y.map(w=>g.jsx("option",{value:w.id,children:w.name?.trim()?w.name:" "},w.id))]})]})]}),t&&e.length===0&&g.jsx("div",{className:"w-full max-w-[768px] mx-auto px-4 py-10",children:g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-white p-4 text-sm text-neutral-600 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-400",children:" .."})}),b&&g.jsx(fOe,{current:b})]})}function mOe(e){return typeof e=="object"&&e!==null}function pOe(e){if(!mOe(e))return null;const t=typeof e.ok=="boolean"?e.ok:void 0,n=typeof e.total_active_ms=="number"?e.total_active_ms:void 0,r=typeof e.upgraded_to_basic=="boolean"?e.upgraded_to_basic:void 0;return{ok:t,total_active_ms:n,upgraded_to_basic:r}}function YH({enabled:e=!0,intervalMs:t=6e4,path:n,onBasicUnlocked:r,onTotalActiveMs:i}){const a=_.useRef(!1),o=_.useRef(""),l=_.useRef(!1),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),p=_.useRef(0);return _.useEffect(()=>{o.current=n??""},[n]),_.useEffect(()=>{let b=null;return(async()=>{const{data:k}=await De.auth.getSession();u.current=k.session?.user?.id??null;const S=De.auth.onAuthStateChange((T,O)=>{u.current=O?.user?.id??null,l.current=!1}).data?.subscription;S&&typeof S.unsubscribe=="function"&&(b=()=>S.unsubscribe())})(),()=>{b&&b()}},[]),_.useEffect(()=>{if(!e)return;const b=async w=>{if(document.visibilityState!=="visible")return;const S=Date.now();if(!(w!=="init"&&S-p.current<1e4)&&(p.current=S,!a.current)){a.current=!0;try{if(!u.current)return;const O=o.current||null,{data:A,error:C}=await De.rpc("ping_activity",{p_last_path:O});if(C)return;const D=pOe(A);if(!D)return;typeof D.total_active_ms=="number"&&i?.(D.total_active_ms),D.upgraded_to_basic===!0&&!l.current&&(l.current=!0,r?.())}finally{a.current=!1}}};b("init");const y=Math.floor(Math.random()*5e3);h.current=window.setTimeout(()=>{b("interval"),d.current=window.setInterval(()=>void b("interval"),t)},y);const k=()=>{document.visibilityState==="visible"&&b("visible")};return document.addEventListener("visibilitychange",k),()=>{document.removeEventListener("visibilitychange",k),h.current!==null&&(window.clearTimeout(h.current),h.current=null),d.current!==null&&(window.clearInterval(d.current),d.current=null)}},[e,t,r,i]),null}function gOe(){const e=xn(a=>a.loadFromServer),t=xn(a=>a.migrateLocalToServer),n=wn(a=>a.loadFromServer),r=fn(a=>a.loadFromServer),i=_.useCallback(async()=>{await t(),await Promise.all([r(),n(),e()])},[t,r,n,e]);return _.useEffect(()=>{i();const{data:a}=De.auth.onAuthStateChange(o=>{o==="TOKEN_REFRESHED"||o==="INITIAL_SESSION"||i()});return()=>{a.subscription.unsubscribe()}},[i]),null}function bOe(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function yOe(e,t){try{localStorage.setItem(e,String(t))}catch{}}function vOe(e){return e<=0?0:Math.floor(Math.random()*e)}function xOe({enabled:e=!0,href:t="https://open.kakao.com/o/sjBRz57h",hintTexts:n=["    !"," .",",  ."," ,   ,  !","  !  ! "],hideHintHours:r=24,cycleMs:i=4200,mobilePaddingX:a=0,bottomDockCssVarName:o="--bottom-dock"}){const l=_.useMemo(()=>"kakao_chat_hint_hide_until",[]),[u,d]=_.useState(!1),[h,p]=_.useState(()=>vOe(n.length)),b=_.useRef(null),y=_.useCallback(S=>{if(typeof document>"u")return;const T=`${Math.max(0,Math.floor(S))}px`;document.documentElement.style.setProperty(o,T)},[o]);if(_.useEffect(()=>{if(n.length<=0){p(0);return}p(S=>S%n.length)},[n.length]),_.useEffect(()=>{if(!e){d(!1);return}const S=bOe(l),T=Date.now();if(S>T){d(!1);return}const O=window.setTimeout(()=>d(!0),900);return()=>window.clearTimeout(O)},[e,l]),_.useEffect(()=>{if(!e||!u||n.length<=1)return;const S=window.setInterval(()=>{p(T=>T+1>=n.length?0:T+1)},i);return()=>window.clearInterval(S)},[e,u,n.length,i]),_.useEffect(()=>{if(!e||!u){y(0);return}const S=b.current;if(!S){y(0);return}const T=()=>{const O=Math.ceil(S.getBoundingClientRect().height);y(O)};if(T(),typeof ResizeObserver<"u"){const O=new ResizeObserver(T);return O.observe(S),()=>{O.disconnect(),y(0)}}return window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T),y(0)}},[e,u,y]),!e)return null;const k=()=>{yOe(l,Date.now()+r*60*60*1e3),d(!1),y(0)},w=n[h]??"";return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:`
        @keyframes hintFadeCycle {
          0%   { opacity: 0; transform: translate3d(0, 6px, 0); }
          14%  { opacity: 1; transform: translate3d(0, 0, 0); }
          78%  { opacity: 1; transform: translate3d(0, 0, 0); }
          100% { opacity: 0; transform: translate3d(0, -2px, 0); }
        }
      `}),u&&n.length>0?g.jsx("div",{ref:b,className:"desk:hidden fixed left-0 right-0 bottom-0 z-[99] pointer-events-none",style:{paddingLeft:a,paddingRight:a,paddingBottom:0},children:g.jsxs("div",{className:"pointer-events-auto w-full border border-neutral-700 bg-neutral-900/95 text-white shadow-lg",style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:10,padding:"4px 8px"},children:[g.jsx("div",{className:"min-w-0 text-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},title:w,children:w}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("button",{type:"button",onClick:k,"aria-label":" ",title:"",className:"w-8 h-8 rounded-full bg-neutral-800 border border-neutral-700 text-[14px] flex items-center justify-center hover:bg-neutral-700",children:g.jsx(my,{})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`w-8 h-8 rounded-full bg-neutral-800 hover:bg-neutral-700 border border-neutral-700
                           flex items-center justify-center transition-colors`,children:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}):null,g.jsxs("div",{className:"hidden desk:block fixed right-5 bottom-5 z-[999]",children:[u&&n.length>0&&g.jsx("div",{className:"absolute bottom-14 right-0 w-max max-w-[260px]",children:g.jsxs("div",{className:"relative rounded-xl bg-neutral-900 text-white border border-neutral-700 shadow-lg px-3 py-2 text-xs whitespace-pre-line",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},children:[w,g.jsx("button",{type:"button",onClick:k,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-neutral-800 border border-neutral-700 text-[12px] flex items-center justify-center hover:bg-neutral-700 cursor-pointer","aria-label":" ",title:"",children:g.jsx(my,{size:12})}),g.jsx("div",{className:"absolute -bottom-2 right-4 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-neutral-900"})]})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`flex items-center justify-center w-12 h-12 rounded-full shadow-lg
                     bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 transition-colors`,children:g.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}function wOe(e){const t=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],n=[];for(let r=0;r<e;r+=1)n.push({leftPct:Math.random()*100,size:6+Math.floor(Math.random()*8),delayMs:Math.floor(Math.random()*300),durationMs:1200+Math.floor(Math.random()*900),rotate:Math.floor(Math.random()*360),driftPx:-40+Math.floor(Math.random()*80),color:t[r%t.length]});return n}function _Oe({open:e,onClose:t}){const n=_.useMemo(()=>wOe(48),[]);return _.useEffect(()=>{if(!e)return;const r=a=>{a.key==="Escape"&&t()};window.addEventListener("keydown",r);const i=window.setTimeout(()=>t(),6e3);return()=>{window.removeEventListener("keydown",r),window.clearTimeout(i)}},[e,t]),e?g.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center",children:[g.jsx("style",{children:`
        @keyframes confettiFall {
          0%   { transform: translate3d(var(--dx), -20px, 0) rotate(var(--rot)); opacity: 0; }
          10%  { opacity: 1; }
          100% { transform: translate3d(var(--dx), 560px, 0) rotate(calc(var(--rot) + 360deg)); opacity: 0; }
        }
        @keyframes pop {
          0% { transform: scale(0.98); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
      `}),g.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:n.map((r,i)=>{const a={position:"absolute",top:0,left:`${r.leftPct}%`,width:r.size,height:Math.max(8,r.size+6),background:r.color,borderRadius:2,transform:`rotate(${r.rotate}deg)`,animation:`confettiFall ${r.durationMs}ms ease-out ${r.delayMs}ms forwards`,"--dx":`${r.driftPx}px`,"--rot":`${r.rotate}deg`};return g.jsx("span",{style:a},i)})}),g.jsxs("div",{className:`relative w-[92%] max-w-[420px] rounded-2xl bg-white dark:bg-neutral-950
                   border border-neutral-200 dark:border-neutral-800 shadow-xl p-5`,style:{animation:"pop 160ms ease-out"},children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("div",{className:"text-xl font-extrabold text-neutral-900 dark:text-neutral-50",children:"BASIC  !"}),g.jsx("div",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:"     ! "})]}),g.jsx("div",{className:"mt-4 flex justify-center gap-2",children:g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-900 text-white hover:bg-neutral-800 cursor-pointer",children:""})})]})]}):null}function o5(e){if(typeof e!="string")return"FREE";const t=e.toUpperCase();return t==="BASIC"?"BASIC":t==="PRO"?"PRO":"FREE"}function SOe(){const e=Fr(),t=e.pathname+e.search,n=!e.pathname.startsWith("/admin")&&!e.pathname.startsWith("/impersonate")&&!e.pathname.startsWith("/auth/callback"),[r,i]=_.useState(!1),a=fn(b=>b.loaded),o=fn(b=>b.loading),l=fn(b=>b.userId),u=fn(b=>o5(b.plan)),d=_.useRef(!1);_.useEffect(()=>{n&&(a||o||fn.getState().loadFromServer())},[n,a,o]);const h=_.useCallback(async()=>{if(d.current)return;d.current=!0;const{data:b,error:y}=await De.rpc("mark_basic_celebrated");if(y){console.warn("[basic celebration] rpc error:",y.message);return}b===!0&&i(!0)},[]);_.useEffect(()=>{n&&a&&l&&u==="BASIC"&&h()},[n,a,l,u,h]);const p=_.useCallback(()=>{(async()=>(await fn.getState().loadFromServer(),o5(fn.getState().plan)==="BASIC"&&(d.current=!1,await h())))()},[h]);return g.jsxs(g.Fragment,{children:[g.jsx(YH,{enabled:n,path:t,onBasicUnlocked:p}),g.jsx(xOe,{enabled:n}),g.jsx(_Oe,{open:r,onClose:()=>i(!1)})]})}function kOe(e){return typeof e=="object"&&e!==null}function EOe(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!kOe(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}function jOe(){const e=ec(),t=Fr(),n=_.useRef(!1);return _.useEffect(()=>{const r=async()=>{if(!n.current){n.current=!0;try{const{data:o}=await De.auth.getSession(),l=o.session?.user?.id??null;if(!l)return;const{data:u,error:d}=await De.rpc("get_my_account_status");if(!d){!!EOe(u)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0});return}const{data:h,error:p}=await De.from("profiles").select("disabled_at").eq("user_id",l).maybeSingle();if(p)return;(h?.disabled_at??null)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0})}finally{n.current=!1}}};r();const{data:i}=De.auth.onAuthStateChange(()=>{r()}),a=()=>{document.visibilityState==="visible"&&r()};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a),i.subscription.unsubscribe()}},[e,t.pathname]),null}function AOe(e){return typeof e=="object"&&e!==null}function TOe(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!AOe(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}const NOe=Yo((e,t)=>({loaded:!1,loading:!1,userId:null,disabledAt:null,reset:()=>{e({loaded:!0,loading:!1,userId:null,disabledAt:null})},loadFromServer:async n=>{if(!t().loading){e({loading:!0,userId:n});try{const{data:i,error:a}=await De.rpc("get_my_account_status");if(!a){const d=TOe(i);e({loaded:!0,loading:!1,disabledAt:d});return}const{data:o,error:l}=await De.from("profiles").select("disabled_at").eq("user_id",n).maybeSingle();if(l){console.error("[accountStatus] load error:",l),e({loaded:!0,loading:!1,disabledAt:null});return}const u=o?.disabled_at??null;e({loaded:!0,loading:!1,disabledAt:typeof u=="string"?u:null})}catch(i){console.error("[accountStatus] exception:",i),e({loaded:!0,loading:!1,disabledAt:null})}}}}));function OOe(e){if(!e)return"-";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toLocaleString():e}function COe(){const e=NOe(n=>n.disabledAt),t=_.useCallback(async()=>{try{await De.auth.signOut(),window.location.href="/"}catch(n){console.error("signOut error:",n),window.location.href="/"}},[]);return g.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 text-white",children:g.jsxs("div",{className:"w-full max-w-[520px] bg-neutral-900 border border-neutral-700 rounded-xl p-6",children:[g.jsx("h1",{className:"text-2xl font-bold mb-3",children:" "}),g.jsxs("div",{className:"text-sm text-neutral-300 leading-6",children:["        .",g.jsx("span",{className:"font-semibold text-neutral-100",children:OOe(e)})]}),g.jsx("div",{className:"mt-5 p-3 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-300",children:"    ."}),g.jsxs("div",{className:"mt-6 flex gap-2",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-600 cursor-pointer",children:""})]})]})})}function MOe(){const e=Fr();return _.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[e.pathname]),g.jsxs(g.Fragment,{children:[g.jsx(gOe,{}),g.jsx(SOe,{}),g.jsx(jOe,{}),g.jsx(YH,{}),g.jsxs(uq,{children:[g.jsx(Ua,{path:"/auth/callback",element:g.jsx(LNe,{})}),g.jsx(Ua,{path:"/disabled",element:g.jsx(COe,{})}),g.jsx(Ua,{path:"/iching",element:g.jsx(hOe,{})}),g.jsx(Ua,{path:"/",element:g.jsx(Pb,{})}),g.jsx(Ua,{path:"/faq",element:g.jsx(Pb,{})}),g.jsx(Ua,{path:"/couple",element:g.jsx(Pb,{})}),g.jsx(Ua,{path:"/result",element:g.jsx(Pb,{})}),g.jsx(Ua,{path:"/admin/*",element:g.jsx(ZF,{})}),g.jsx(Ua,{path:"/impersonate",element:g.jsx(RNe,{})}),g.jsx(Ua,{path:"*",element:g.jsx(lq,{to:"/",replace:!0})})]})]})}gY.createRoot(document.getElementById("root")).render(g.jsx(Dq,{children:g.jsx(MOe,{})}));
